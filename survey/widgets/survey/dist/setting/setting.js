define(["jimu-arcgis","jimu-core","jimu-for-builder","jimu-ui","jimu-ui/setting-components"], function(__WEBPACK_EXTERNAL_MODULE_jimu_arcgis__, __WEBPACK_EXTERNAL_MODULE_jimu_core__, __WEBPACK_EXTERNAL_MODULE_jimu_for_builder__, __WEBPACK_EXTERNAL_MODULE_jimu_ui__, __WEBPACK_EXTERNAL_MODULE_jimu_ui_setting_components__) { return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./your-extensions/widgets/survey/src/setting/setting.tsx");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./jimu-ui/lib/icons/close-24.svg":
/*!****************************************!*\
  !*** ./jimu-ui/lib/icons/close-24.svg ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"<svg viewBox=\\\"0 0 24 24\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"M13.462 12l10.235 10.235a1.034 1.034 0 11-1.462 1.462L12 13.462 1.765 23.697a1.034 1.034 0 11-1.462-1.462L10.538 12 .303 1.765A1.034 1.034 0 111.765.303L12 10.538 22.235.303a1.034 1.034 0 111.462 1.462L13.462 12z\\\" fill=\\\"#000\\\" fill-rule=\\\"nonzero\\\"></path></svg>\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LXVpL2xpYi9pY29ucy9jbG9zZS0yNC5zdmcuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qaW11LXVpL2xpYi9pY29ucy9jbG9zZS0yNC5zdmc/MjkzNiJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB2aWV3Qm94PVxcXCIwIDAgMjQgMjRcXFwiIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCI+PHBhdGggZD1cXFwiTTEzLjQ2MiAxMmwxMC4yMzUgMTAuMjM1YTEuMDM0IDEuMDM0IDAgMTEtMS40NjIgMS40NjJMMTIgMTMuNDYyIDEuNzY1IDIzLjY5N2ExLjAzNCAxLjAzNCAwIDExLTEuNDYyLTEuNDYyTDEwLjUzOCAxMiAuMzAzIDEuNzY1QTEuMDM0IDEuMDM0IDAgMTExLjc2NS4zMDNMMTIgMTAuNTM4IDIyLjIzNS4zMDNhMS4wMzQgMS4wMzQgMCAxMTEuNDYyIDEuNDYyTDEzLjQ2MiAxMnpcXFwiIGZpbGw9XFxcIiMwMDBcXFwiIGZpbGwtcnVsZT1cXFwibm9uemVyb1xcXCI+PC9wYXRoPjwvc3ZnPlwiIl0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./jimu-ui/lib/icons/close-24.svg\n");

/***/ }),

/***/ "./jimu-ui/lib/icons/close.svg":
/*!*************************************!*\
  !*** ./jimu-ui/lib/icons/close.svg ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 32 32\\\"><path d=\\\"M19.637 15.866L30.951 27.18a2.667 2.667 0 01-3.771 3.771L15.866 19.637 4.552 30.951A2.667 2.667 0 01.781 27.18l11.314-11.314L.781 4.552A2.667 2.667 0 014.552.781l11.314 11.314L27.18.781a2.667 2.667 0 013.771 3.771L19.637 15.866z\\\"></path></svg>\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LXVpL2xpYi9pY29ucy9jbG9zZS5zdmcuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qaW11LXVpL2xpYi9pY29ucy9jbG9zZS5zdmc/MGRkZSJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIHZpZXdCb3g9XFxcIjAgMCAzMiAzMlxcXCI+PHBhdGggZD1cXFwiTTE5LjYzNyAxNS44NjZMMzAuOTUxIDI3LjE4YTIuNjY3IDIuNjY3IDAgMDEtMy43NzEgMy43NzFMMTUuODY2IDE5LjYzNyA0LjU1MiAzMC45NTFBMi42NjcgMi42NjcgMCAwMS43ODEgMjcuMThsMTEuMzE0LTExLjMxNEwuNzgxIDQuNTUyQTIuNjY3IDIuNjY3IDAgMDE0LjU1Mi43ODFsMTEuMzE0IDExLjMxNEwyNy4xOC43ODFhMi42NjcgMi42NjcgMCAwMTMuNzcxIDMuNzcxTDE5LjYzNyAxNS44NjZ6XFxcIj48L3BhdGg+PC9zdmc+XCIiXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./jimu-ui/lib/icons/close.svg\n");

/***/ }),

/***/ "./jimu-ui/lib/icons/delete.svg":
/*!**************************************!*\
  !*** ./jimu-ui/lib/icons/delete.svg ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 32 32\\\"><path d=\\\"M2.561 7.876l1.138 20.023C3.699 30.164 5.83 32 8.459 32h15.724c2.629 0 4.76-1.836 4.76-4.101l1.095-20.023H2.562zm28.806-1.42c.005-.844.008-.901.008-.957 0-2.202-1.483-3.411-3.472-3.411l-5.537.005C22.366.937 21.082 0 19.768 0h-6.893c-1.314 0-2.64.937-2.64 2.093l-5.543-.005c-2.197 0-3.472 1.473-3.472 3.411 0 .057.003.113.008.957h30.139zm-10.306 6.682c0-.638.588-1.156 1.314-1.156s1.314.517 1.314 1.156v13.24c0 .638-.588 1.156-1.314 1.156s-1.314-.517-1.314-1.156v-13.24zm-6.077 0c0-.638.589-1.156 1.315-1.156s1.314.517 1.314 1.156v13.24c0 .638-.588 1.156-1.314 1.156s-1.315-.517-1.315-1.156v-13.24zm-6.074 0c0-.638.588-1.156 1.315-1.156s1.314.517 1.314 1.156v13.24c0 .638-.589 1.156-1.314 1.156s-1.315-.517-1.315-1.156v-13.24z\\\"></path></svg>\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LXVpL2xpYi9pY29ucy9kZWxldGUuc3ZnLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vamltdS11aS9saWIvaWNvbnMvZGVsZXRlLnN2Zz9mYTg1Il0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgdmlld0JveD1cXFwiMCAwIDMyIDMyXFxcIj48cGF0aCBkPVxcXCJNMi41NjEgNy44NzZsMS4xMzggMjAuMDIzQzMuNjk5IDMwLjE2NCA1LjgzIDMyIDguNDU5IDMyaDE1LjcyNGMyLjYyOSAwIDQuNzYtMS44MzYgNC43Ni00LjEwMWwxLjA5NS0yMC4wMjNIMi41NjJ6bTI4LjgwNi0xLjQyYy4wMDUtLjg0NC4wMDgtLjkwMS4wMDgtLjk1NyAwLTIuMjAyLTEuNDgzLTMuNDExLTMuNDcyLTMuNDExbC01LjUzNy4wMDVDMjIuMzY2LjkzNyAyMS4wODIgMCAxOS43NjggMGgtNi44OTNjLTEuMzE0IDAtMi42NC45MzctMi42NCAyLjA5M2wtNS41NDMtLjAwNWMtMi4xOTcgMC0zLjQ3MiAxLjQ3My0zLjQ3MiAzLjQxMSAwIC4wNTcuMDAzLjExMy4wMDguOTU3aDMwLjEzOXptLTEwLjMwNiA2LjY4MmMwLS42MzguNTg4LTEuMTU2IDEuMzE0LTEuMTU2czEuMzE0LjUxNyAxLjMxNCAxLjE1NnYxMy4yNGMwIC42MzgtLjU4OCAxLjE1Ni0xLjMxNCAxLjE1NnMtMS4zMTQtLjUxNy0xLjMxNC0xLjE1NnYtMTMuMjR6bS02LjA3NyAwYzAtLjYzOC41ODktMS4xNTYgMS4zMTUtMS4xNTZzMS4zMTQuNTE3IDEuMzE0IDEuMTU2djEzLjI0YzAgLjYzOC0uNTg4IDEuMTU2LTEuMzE0IDEuMTU2cy0xLjMxNS0uNTE3LTEuMzE1LTEuMTU2di0xMy4yNHptLTYuMDc0IDBjMC0uNjM4LjU4OC0xLjE1NiAxLjMxNS0xLjE1NnMxLjMxNC41MTcgMS4zMTQgMS4xNTZ2MTMuMjRjMCAuNjM4LS41ODkgMS4xNTYtMS4zMTQgMS4xNTZzLTEuMzE1LS41MTctMS4zMTUtMS4xNTZ2LTEzLjI0elxcXCI+PC9wYXRoPjwvc3ZnPlwiIl0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./jimu-ui/lib/icons/delete.svg\n");

/***/ }),

/***/ "./jimu-ui/lib/icons/link.svg":
/*!************************************!*\
  !*** ./jimu-ui/lib/icons/link.svg ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 45 32\\\"><path d=\\\"M19.6 26.267a2.8 2.8 0 01-2.8 2.8h-3.733C5.85 29.067 0 23.217 0 16S5.85 2.933 13.067 2.933H16.8a2.8 2.8 0 010 5.6h-3.733a7.467 7.467 0 100 14.934H16.8a2.8 2.8 0 012.8 2.8zm8.4-2.8h3.733a7.467 7.467 0 100-14.934H28a2.8 2.8 0 010-5.6h3.733C38.95 2.933 44.8 8.783 44.8 16s-5.85 13.067-13.067 13.067H28a2.8 2.8 0 010-5.6zM15.867 13.2h13.067a2.8 2.8 0 010 5.6H15.867a2.8 2.8 0 010-5.6z\\\"></path></svg>\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LXVpL2xpYi9pY29ucy9saW5rLnN2Zy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2ppbXUtdWkvbGliL2ljb25zL2xpbmsuc3ZnP2JlMTAiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBcIjxzdmcgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIiB2aWV3Qm94PVxcXCIwIDAgNDUgMzJcXFwiPjxwYXRoIGQ9XFxcIk0xOS42IDI2LjI2N2EyLjggMi44IDAgMDEtMi44IDIuOGgtMy43MzNDNS44NSAyOS4wNjcgMCAyMy4yMTcgMCAxNlM1Ljg1IDIuOTMzIDEzLjA2NyAyLjkzM0gxNi44YTIuOCAyLjggMCAwMTAgNS42aC0zLjczM2E3LjQ2NyA3LjQ2NyAwIDEwMCAxNC45MzRIMTYuOGEyLjggMi44IDAgMDEyLjggMi44em04LjQtMi44aDMuNzMzYTcuNDY3IDcuNDY3IDAgMTAwLTE0LjkzNEgyOGEyLjggMi44IDAgMDEwLTUuNmgzLjczM0MzOC45NSAyLjkzMyA0NC44IDguNzgzIDQ0LjggMTZzLTUuODUgMTMuMDY3LTEzLjA2NyAxMy4wNjdIMjhhMi44IDIuOCAwIDAxMC01LjZ6TTE1Ljg2NyAxMy4yaDEzLjA2N2EyLjggMi44IDAgMDEwIDUuNkgxNS44NjdhMi44IDIuOCAwIDAxMC01LjZ6XFxcIj48L3BhdGg+PC9zdmc+XCIiXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./jimu-ui/lib/icons/link.svg\n");

/***/ }),

/***/ "./your-extensions/widgets/survey/src/service/survey123.service.ts":
/*!*************************************************************************!*\
  !*** ./your-extensions/widgets/survey/src/service/survey123.service.ts ***!
  \*************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * survey123 service\n */\nvar Survey123Service = /** @class */ (function () {\n    function Survey123Service() {\n    }\n    /**\n     * get survey123 host url\n     */\n    Survey123Service.prototype.getSurvey123HostUrl = function () {\n        /**\n         * Beijing-R-D-Center/ExperienceBuilder/issues/88\n         * we need to check url host to see which survey123 host url we will use\n         * wabbuild.esri.com > survey123dec.arcgis.com\n         * experiencedev.arcgis.com > survey123dev.arcgis.com\n         * experienceqa.arcgis.com > survey123qa.arcgis.com\n         * experience.arcgis.com > survey123.arcgis.com\n         * default > survey123.arcgis.com\n         *\n         */\n        var url = 'https://survey123.arcgis.com';\n        // dev\n        if (window.hostEnv === 'dev') {\n            url = 'https://survey123dev.arcgis.com';\n        }\n        // qa\n        if (window.hostEnv === 'qa') {\n            url = 'https://survey123qa.arcgis.com';\n        }\n        return url;\n    };\n    /**\n    * get the api url\n    */\n    Survey123Service.prototype.getSurvey123HostAPIUrl = function () {\n        var url = this.getSurvey123HostUrl() + '/api/jsapi'; //  '/share/survey123webform-jsapi.js';\n        // only for debugger locally\n        // const isDebug: boolean = false;\n        // if (isDebug) {\n        //   url = `https://nanzhang.arcgis.com:8443/webclient/survey123webform-jsapi.js`;\n        // }\n        return url;\n    };\n    /**\n     * create survey by survey123 rest api\n     * @param title\n     * @param tags\n     * @param options\n     */\n    Survey123Service.prototype.createSurvey = function (title, tags, commonParams, options) {\n        var _this = this;\n        // options\n        options = Object.assign({\n            snippet: ''\n        }, options || {});\n        return Promise.resolve(true)\n            .then(function () {\n            if (!title || !tags || !commonParams || !commonParams.token || !commonParams.username) {\n                throw new Error('missing title, tags, username or token');\n            }\n        })\n            .then(function () {\n            var url = _this.getSurvey123HostUrl() + \"/api/survey/create\";\n            var params = {\n                title: title,\n                tags: tags.join(','),\n                snippet: options.snippet,\n                thumbnailUrl: options.thumbnailUrl,\n                token: commonParams.token,\n                username: commonParams.username,\n                portalUrl: commonParams.portalUrl || 'https://www.arcgis.com'\n            };\n            return fetch(url, {\n                mode: 'cors',\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json; charset=utf-8'\n                },\n                body: JSON.stringify(params)\n            })\n                .then(function (res) {\n                if (res.ok) {\n                    return res.json();\n                }\n                throw res;\n            });\n        });\n    };\n    /**\n     * query survey\n     * @param commonParams\n     * @param options\n     */\n    Survey123Service.prototype.querySurvey = function (commonParams, options) {\n        var _this = this;\n        // options\n        options = Object.assign({\n            isShared: false,\n            isPublished: true\n        }, options || {});\n        return Promise.resolve(true)\n            .then(function () {\n            if (!commonParams || !commonParams.token || !commonParams.username) {\n                throw new Error('missing token or username');\n            }\n        })\n            .then(function () {\n            var url = _this.getSurvey123HostUrl() + \"/api/survey/query\";\n            var params = {\n                isShared: options.isShared,\n                isPublished: options.isPublished,\n                token: commonParams.token,\n                username: commonParams.username,\n                portalUrl: commonParams.portalUrl || 'https://www.arcgis.com'\n            };\n            url = url + \"?\" + Object.keys(params).map(function (k) { return k + '=' + params[k]; }).join('&');\n            return fetch(url, {\n                mode: 'cors',\n                method: 'GET'\n            })\n                .then(function (res) {\n                if (res.ok) {\n                    return res.json();\n                }\n                throw res;\n            });\n        });\n    };\n    /**\n     * get survey123 designer url\n     */\n    Survey123Service.prototype.getSurvey123DesignerUrl = function (surveyItemId, options) {\n        // options\n        options = Object.assign({}, options || {});\n        var url = this.getSurvey123HostUrl() + \"/surveys/\" + surveyItemId + \"/design?embed=exb\";\n        if (options.portalUrl && options.portalUrl !== 'https://www.arcgis.com') {\n            url += \"&portalUrl=\" + options.portalUrl;\n        }\n        if (this.getSurvey123HostUrl() === 'https://survey123dev.arcgis.com' && !options.portalUrl || (options.portalUrl === 'https://www.arcgis.com')) {\n            url += \"&portalUrl=\" + options.portalUrl;\n        }\n        return url;\n    };\n    /**\n     *\n     * @param surveyItemId\n     * @param options\n     */\n    Survey123Service.prototype.getSurvey123WebformUrl = function (surveyItemId, options) {\n        // options\n        options = Object.assign({\n            queryParams: []\n        }, options || {});\n        var isDebug = false;\n        var url = this.getSurvey123HostUrl() + \"/share/\" + surveyItemId;\n        /**\n         * debugg only\n         */\n        if (isDebug) {\n            url = \"https://nanzhang.arcgis.com:8443/webclient/?appid=\" + surveyItemId;\n        }\n        if (options.queryParams.length > 0) {\n            url += \"\" + ((isDebug) ? '&' : '?') + options.queryParams.join('&');\n        }\n        return url;\n    };\n    /**\n     * get survey question fields\n     * @param surveyItemId\n     * @param commonParams\n     */\n    Survey123Service.prototype.getSurveyQuestionFields = function (surveyItemId, commonParams) {\n        var _this = this;\n        return Promise.resolve(true)\n            .then(function () {\n            if (!surveyItemId || !commonParams || !commonParams.token) {\n                throw new Error('missing surveyItemId or token');\n            }\n        })\n            .then(function () {\n            var url = _this.getSurvey123HostUrl() + \"/api/survey/\" + surveyItemId + \"/form\";\n            var params = {\n                token: commonParams.token\n            };\n            url = url + \"?\" + Object.keys(params).map(function (k) { return k + '=' + params[k]; }).join('&');\n            return fetch(url, {\n                mode: 'cors',\n                method: 'GET'\n            })\n                .then(function (res) {\n                if (res.ok) {\n                    return res.json();\n                }\n                throw res;\n            });\n        })\n            .then(function (res) {\n            var results = [];\n            if (res && res.questions && res.questions.length > 0) {\n                res.questions.forEach(function (q) {\n                    var shortType = (q.type + '').replace('esriQuestionType', '');\n                    if (q.fieldName || ['geopoint', 'polyline', 'polygon'].indexOf(shortType.toLowerCase()) >= 0) {\n                        results.push({\n                            name: q.fieldName || q.name,\n                            label: q.label\n                        });\n                    }\n                });\n            }\n            return results;\n        });\n    };\n    return Survey123Service;\n}());\nexports.Survey123Service = Survey123Service;\nexports.survey123Service = new Survey123Service();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi95b3VyLWV4dGVuc2lvbnMvd2lkZ2V0cy9zdXJ2ZXkvc3JjL3NlcnZpY2Uvc3VydmV5MTIzLnNlcnZpY2UudHMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi95b3VyLWV4dGVuc2lvbnMvd2lkZ2V0cy9zdXJ2ZXkvc3JjL3NlcnZpY2Uvc3VydmV5MTIzLnNlcnZpY2UudHM/ZjJjZSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogc3VydmV5MTIzIGNvbW1vbiBwYXJhbXNcclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgU3VydmV5MTIzQ29tbW9uUGFyYW1zIHtcclxuICB1c2VybmFtZT86IHN0cmluZztcclxuICB0b2tlbj86IHN0cmluZztcclxuICBmPzogc3RyaW5nO1xyXG4gIHBvcnRhbFVybD86IHN0cmluZztcclxufVxyXG5cclxuLyoqXHJcbiAqIHN1cnZleTEyMyBpZnJhbWUgbWVzc2FnZVxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBTdXJ2ZXkxMjNNZXNzYWdlIHtcclxuICBldmVudDogc3RyaW5nO1xyXG4gIGRhdGE6IGFueTtcclxufVxyXG5cclxuLyoqXHJcbiAqIHN1cnZleTEyMyBzZXJ2aWNlXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgU3VydmV5MTIzU2VydmljZSB7XHJcblxyXG4gIC8qKlxyXG4gICAqIGdldCBzdXJ2ZXkxMjMgaG9zdCB1cmxcclxuICAgKi9cclxuICBwdWJsaWMgZ2V0U3VydmV5MTIzSG9zdFVybCgpOiBzdHJpbmcge1xyXG4gICAgLyoqXHJcbiAgICAgKiBCZWlqaW5nLVItRC1DZW50ZXIvRXhwZXJpZW5jZUJ1aWxkZXIvaXNzdWVzLzg4XHJcbiAgICAgKiB3ZSBuZWVkIHRvIGNoZWNrIHVybCBob3N0IHRvIHNlZSB3aGljaCBzdXJ2ZXkxMjMgaG9zdCB1cmwgd2Ugd2lsbCB1c2VcclxuICAgICAqIHdhYmJ1aWxkLmVzcmkuY29tID4gc3VydmV5MTIzZGVjLmFyY2dpcy5jb21cclxuICAgICAqIGV4cGVyaWVuY2VkZXYuYXJjZ2lzLmNvbSA+IHN1cnZleTEyM2Rldi5hcmNnaXMuY29tXHJcbiAgICAgKiBleHBlcmllbmNlcWEuYXJjZ2lzLmNvbSA+IHN1cnZleTEyM3FhLmFyY2dpcy5jb21cclxuICAgICAqIGV4cGVyaWVuY2UuYXJjZ2lzLmNvbSA+IHN1cnZleTEyMy5hcmNnaXMuY29tXHJcbiAgICAgKiBkZWZhdWx0ID4gc3VydmV5MTIzLmFyY2dpcy5jb21cclxuICAgICAqIFxyXG4gICAgICovXHJcbiAgICBsZXQgdXJsID0gJ2h0dHBzOi8vc3VydmV5MTIzLmFyY2dpcy5jb20nO1xyXG5cclxuICAgIC8vIGRldlxyXG4gICAgaWYgKHdpbmRvdy5ob3N0RW52ID09PSAnZGV2Jykge1xyXG4gICAgICB1cmwgPSAnaHR0cHM6Ly9zdXJ2ZXkxMjNkZXYuYXJjZ2lzLmNvbSc7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gcWFcclxuICAgIGlmICh3aW5kb3cuaG9zdEVudiA9PT0gJ3FhJykge1xyXG4gICAgICB1cmwgPSAnaHR0cHM6Ly9zdXJ2ZXkxMjNxYS5hcmNnaXMuY29tJztcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdXJsO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgKiBnZXQgdGhlIGFwaSB1cmxcclxuICAqL1xyXG4gIHB1YmxpYyBnZXRTdXJ2ZXkxMjNIb3N0QVBJVXJsKCkge1xyXG4gICAgY29uc3QgdXJsID0gdGhpcy5nZXRTdXJ2ZXkxMjNIb3N0VXJsKCkgKyAnL2FwaS9qc2FwaSc7IC8vICAnL3NoYXJlL3N1cnZleTEyM3dlYmZvcm0tanNhcGkuanMnO1xyXG5cclxuICAgIC8vIG9ubHkgZm9yIGRlYnVnZ2VyIGxvY2FsbHlcclxuICAgIC8vIGNvbnN0IGlzRGVidWc6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgIC8vIGlmIChpc0RlYnVnKSB7XHJcbiAgICAvLyAgIHVybCA9IGBodHRwczovL25hbnpoYW5nLmFyY2dpcy5jb206ODQ0My93ZWJjbGllbnQvc3VydmV5MTIzd2ViZm9ybS1qc2FwaS5qc2A7XHJcbiAgICAvLyB9XHJcbiAgICBcclxuICAgIHJldHVybiB1cmw7XHJcbiAgfVxyXG5cclxuXHJcbiAgLyoqXHJcbiAgICogY3JlYXRlIHN1cnZleSBieSBzdXJ2ZXkxMjMgcmVzdCBhcGlcclxuICAgKiBAcGFyYW0gdGl0bGUgXHJcbiAgICogQHBhcmFtIHRhZ3MgXHJcbiAgICogQHBhcmFtIG9wdGlvbnMgXHJcbiAgICovXHJcbiAgcHVibGljIGNyZWF0ZVN1cnZleSh0aXRsZTogc3RyaW5nLCB0YWdzOiBzdHJpbmdbXSwgY29tbW9uUGFyYW1zOiBTdXJ2ZXkxMjNDb21tb25QYXJhbXMsIG9wdGlvbnM/OiB7XHJcbiAgICBzbmlwcGV0Pzogc3RyaW5nO1xyXG4gICAgdGh1bWJuYWlsVXJsPzogc3RyaW5nO1xyXG4gIH0pOiBQcm9taXNlPGFueT4ge1xyXG4gICAgLy8gb3B0aW9uc1xyXG4gICAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe1xyXG4gICAgICBzbmlwcGV0OiAnJ1xyXG4gICAgfSwgb3B0aW9ucyB8fCB7fSk7XHJcblxyXG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0cnVlKVxyXG4gICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgaWYgKCF0aXRsZSB8fCAhdGFncyB8fCAhY29tbW9uUGFyYW1zIHx8ICFjb21tb25QYXJhbXMudG9rZW4gfHwgIWNvbW1vblBhcmFtcy51c2VybmFtZSkge1xyXG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdtaXNzaW5nIHRpdGxlLCB0YWdzLCB1c2VybmFtZSBvciB0b2tlbicpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSlcclxuICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHVybCA9IGAke3RoaXMuZ2V0U3VydmV5MTIzSG9zdFVybCgpfS9hcGkvc3VydmV5L2NyZWF0ZWA7XHJcbiAgICAgICAgY29uc3QgcGFyYW1zOiBhbnkgPSB7XHJcbiAgICAgICAgICB0aXRsZTogdGl0bGUsXHJcbiAgICAgICAgICB0YWdzOiB0YWdzLmpvaW4oJywnKSxcclxuICAgICAgICAgIHNuaXBwZXQ6IG9wdGlvbnMuc25pcHBldCxcclxuICAgICAgICAgIHRodW1ibmFpbFVybDogb3B0aW9ucy50aHVtYm5haWxVcmwsXHJcbiAgICAgICAgICB0b2tlbjogY29tbW9uUGFyYW1zLnRva2VuLFxyXG4gICAgICAgICAgdXNlcm5hbWU6IGNvbW1vblBhcmFtcy51c2VybmFtZSxcclxuICAgICAgICAgIHBvcnRhbFVybDogY29tbW9uUGFyYW1zLnBvcnRhbFVybCB8fCAnaHR0cHM6Ly93d3cuYXJjZ2lzLmNvbSdcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICByZXR1cm4gZmV0Y2godXJsLCB7XHJcbiAgICAgICAgICBtb2RlOiAnY29ycycsXHJcbiAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PXV0Zi04J1xyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBhcmFtcylcclxuICAgICAgICB9KVxyXG4gICAgICAgICAgLnRoZW4oKHJlczogYW55KSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChyZXMub2spIHtcclxuICAgICAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aHJvdyByZXM7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBxdWVyeSBzdXJ2ZXlcclxuICAgKiBAcGFyYW0gY29tbW9uUGFyYW1zIFxyXG4gICAqIEBwYXJhbSBvcHRpb25zIFxyXG4gICAqL1xyXG4gIHB1YmxpYyBxdWVyeVN1cnZleShjb21tb25QYXJhbXM6IFN1cnZleTEyM0NvbW1vblBhcmFtcywgb3B0aW9ucz86IHtcclxuICAgIGlzU2hhcmVkPzogYm9vbGVhbjtcclxuICAgIGlzUHVibGlzaGVkPzogYm9vbGVhbjtcclxuICB9KTogUHJvbWlzZTxhbnk+IHtcclxuICAgIC8vIG9wdGlvbnNcclxuICAgIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHtcclxuICAgICAgaXNTaGFyZWQ6IGZhbHNlLFxyXG4gICAgICBpc1B1Ymxpc2hlZDogdHJ1ZVxyXG4gICAgfSwgb3B0aW9ucyB8fCB7fSk7XHJcblxyXG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0cnVlKVxyXG4gICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgaWYgKCFjb21tb25QYXJhbXMgfHwgIWNvbW1vblBhcmFtcy50b2tlbiB8fCAhY29tbW9uUGFyYW1zLnVzZXJuYW1lKSB7XHJcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ21pc3NpbmcgdG9rZW4gb3IgdXNlcm5hbWUnKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcbiAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICBsZXQgdXJsID0gYCR7dGhpcy5nZXRTdXJ2ZXkxMjNIb3N0VXJsKCl9L2FwaS9zdXJ2ZXkvcXVlcnlgO1xyXG4gICAgICAgIGNvbnN0IHBhcmFtczogYW55ID0ge1xyXG4gICAgICAgICAgaXNTaGFyZWQ6IG9wdGlvbnMuaXNTaGFyZWQsXHJcbiAgICAgICAgICBpc1B1Ymxpc2hlZDogb3B0aW9ucy5pc1B1Ymxpc2hlZCxcclxuICAgICAgICAgIHRva2VuOiBjb21tb25QYXJhbXMudG9rZW4sXHJcbiAgICAgICAgICB1c2VybmFtZTogY29tbW9uUGFyYW1zLnVzZXJuYW1lLFxyXG4gICAgICAgICAgcG9ydGFsVXJsOiBjb21tb25QYXJhbXMucG9ydGFsVXJsIHx8ICdodHRwczovL3d3dy5hcmNnaXMuY29tJ1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHVybCA9IGAke3VybH0/JHtPYmplY3Qua2V5cyhwYXJhbXMpLm1hcCgoaykgPT4gayArICc9JyArIHBhcmFtc1trXSkuam9pbignJicpfWA7XHJcblxyXG4gICAgICAgIHJldHVybiBmZXRjaCh1cmwsIHtcclxuICAgICAgICAgIG1vZGU6ICdjb3JzJyxcclxuICAgICAgICAgIG1ldGhvZDogJ0dFVCdcclxuICAgICAgICB9KVxyXG4gICAgICAgICAgLnRoZW4oKHJlczogYW55KSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChyZXMub2spIHtcclxuICAgICAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aHJvdyByZXM7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBnZXQgc3VydmV5MTIzIGRlc2lnbmVyIHVybFxyXG4gICAqL1xyXG4gIHB1YmxpYyBnZXRTdXJ2ZXkxMjNEZXNpZ25lclVybChzdXJ2ZXlJdGVtSWQ6IHN0cmluZywgb3B0aW9ucz86IHtcclxuICAgIHBvcnRhbFVybD86IHN0cmluZ1xyXG4gIH0pOiBzdHJpbmcge1xyXG4gICAgLy8gb3B0aW9uc1xyXG4gICAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe1xyXG5cclxuICAgIH0sIG9wdGlvbnMgfHwge30pO1xyXG5cclxuICAgIGxldCB1cmwgPSBgJHt0aGlzLmdldFN1cnZleTEyM0hvc3RVcmwoKX0vc3VydmV5cy8ke3N1cnZleUl0ZW1JZH0vZGVzaWduP2VtYmVkPWV4YmA7XHJcbiAgICBpZiAob3B0aW9ucy5wb3J0YWxVcmwgJiYgb3B0aW9ucy5wb3J0YWxVcmwgIT09ICdodHRwczovL3d3dy5hcmNnaXMuY29tJykge1xyXG4gICAgICB1cmwgKz0gYCZwb3J0YWxVcmw9JHtvcHRpb25zLnBvcnRhbFVybH1gXHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy5nZXRTdXJ2ZXkxMjNIb3N0VXJsKCkgPT09ICdodHRwczovL3N1cnZleTEyM2Rldi5hcmNnaXMuY29tJyAmJiAhb3B0aW9ucy5wb3J0YWxVcmwgfHwgKG9wdGlvbnMucG9ydGFsVXJsID09PSAnaHR0cHM6Ly93d3cuYXJjZ2lzLmNvbScpKSB7XHJcbiAgICAgIHVybCArPSBgJnBvcnRhbFVybD0ke29wdGlvbnMucG9ydGFsVXJsfWBcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdXJsO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogXHJcbiAgICogQHBhcmFtIHN1cnZleUl0ZW1JZCBcclxuICAgKiBAcGFyYW0gb3B0aW9ucyBcclxuICAgKi9cclxuICBwdWJsaWMgZ2V0U3VydmV5MTIzV2ViZm9ybVVybChzdXJ2ZXlJdGVtSWQ6IHN0cmluZywgb3B0aW9ucz86IHtcclxuICAgIHF1ZXJ5UGFyYW1zPzogc3RyaW5nW107XHJcbiAgfSk6IHN0cmluZyB7XHJcbiAgICAvLyBvcHRpb25zXHJcbiAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7XHJcbiAgICAgIHF1ZXJ5UGFyYW1zOiBbXVxyXG4gICAgfSwgb3B0aW9ucyB8fCB7fSk7XHJcblxyXG4gICAgY29uc3QgaXNEZWJ1ZzogYm9vbGVhbiA9IGZhbHNlO1xyXG5cclxuICAgIGxldCB1cmwgPSBgJHt0aGlzLmdldFN1cnZleTEyM0hvc3RVcmwoKX0vc2hhcmUvJHtzdXJ2ZXlJdGVtSWR9YDtcclxuXHJcbiAgICAvKipcclxuICAgICAqIGRlYnVnZyBvbmx5XHJcbiAgICAgKi9cclxuICAgIGlmIChpc0RlYnVnKSB7XHJcbiAgICAgIHVybCA9IGBodHRwczovL25hbnpoYW5nLmFyY2dpcy5jb206ODQ0My93ZWJjbGllbnQvP2FwcGlkPSR7c3VydmV5SXRlbUlkfWA7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGlmIChvcHRpb25zLnF1ZXJ5UGFyYW1zLmxlbmd0aCA+IDApIHtcclxuICAgICAgdXJsICs9IGAkeyhpc0RlYnVnKSA/ICcmJyA6ICc/J30ke29wdGlvbnMucXVlcnlQYXJhbXMuam9pbignJicpfWA7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHVybDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIGdldCBzdXJ2ZXkgcXVlc3Rpb24gZmllbGRzXHJcbiAgICogQHBhcmFtIHN1cnZleUl0ZW1JZCBcclxuICAgKiBAcGFyYW0gY29tbW9uUGFyYW1zIFxyXG4gICAqL1xyXG4gIHB1YmxpYyBnZXRTdXJ2ZXlRdWVzdGlvbkZpZWxkcyhzdXJ2ZXlJdGVtSWQ6IHN0cmluZywgY29tbW9uUGFyYW1zOiBTdXJ2ZXkxMjNDb21tb25QYXJhbXMpOiBQcm9taXNlPEFycmF5PHtcclxuICAgIG5hbWU/OiBzdHJpbmc7XHJcbiAgICBsYWJlbD86IHN0cmluZztcclxuICB9Pj4ge1xyXG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0cnVlKVxyXG4gICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgaWYgKCFzdXJ2ZXlJdGVtSWQgfHwgIWNvbW1vblBhcmFtcyB8fCAhY29tbW9uUGFyYW1zLnRva2VuKSB7XHJcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ21pc3Npbmcgc3VydmV5SXRlbUlkIG9yIHRva2VuJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KVxyXG4gICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgbGV0IHVybCA9IGAke3RoaXMuZ2V0U3VydmV5MTIzSG9zdFVybCgpfS9hcGkvc3VydmV5LyR7c3VydmV5SXRlbUlkfS9mb3JtYDtcclxuICAgICAgICBjb25zdCBwYXJhbXM6IGFueSA9IHtcclxuICAgICAgICAgIHRva2VuOiBjb21tb25QYXJhbXMudG9rZW5cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB1cmwgPSBgJHt1cmx9PyR7T2JqZWN0LmtleXMocGFyYW1zKS5tYXAoKGspID0+IGsgKyAnPScgKyBwYXJhbXNba10pLmpvaW4oJyYnKX1gO1xyXG5cclxuICAgICAgICByZXR1cm4gZmV0Y2godXJsLCB7XHJcbiAgICAgICAgICBtb2RlOiAnY29ycycsXHJcbiAgICAgICAgICBtZXRob2Q6ICdHRVQnXHJcbiAgICAgICAgfSlcclxuICAgICAgICAgIC50aGVuKChyZXM6IGFueSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhyb3cgcmVzO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC50aGVuKChyZXM6IGFueSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHJlc3VsdHMgPSBbXTtcclxuXHJcbiAgICAgICAgaWYgKHJlcyAmJiByZXMucXVlc3Rpb25zICYmIHJlcy5xdWVzdGlvbnMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgcmVzLnF1ZXN0aW9ucy5mb3JFYWNoKChxOiBhbnkpID0+IHtcclxuICAgICAgICAgICAgY29uc3Qgc2hvcnRUeXBlID0gKHEudHlwZSArICcnKS5yZXBsYWNlKCdlc3JpUXVlc3Rpb25UeXBlJywgJycpO1xyXG4gICAgICAgICAgICBpZiAocS5maWVsZE5hbWUgfHwgWydnZW9wb2ludCcsICdwb2x5bGluZScsICdwb2x5Z29uJ10uaW5kZXhPZihzaG9ydFR5cGUudG9Mb3dlckNhc2UoKSkgPj0gMCkge1xyXG4gICAgICAgICAgICAgIHJlc3VsdHMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiBxLmZpZWxkTmFtZSB8fCBxLm5hbWUsXHJcbiAgICAgICAgICAgICAgICBsYWJlbDogcS5sYWJlbFxyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiByZXN1bHRzO1xyXG4gICAgICB9KTtcclxuICB9XHJcblxyXG59XHJcblxyXG5leHBvcnQgY29uc3Qgc3VydmV5MTIzU2VydmljZSA9IG5ldyBTdXJ2ZXkxMjNTZXJ2aWNlKCk7Il0sIm1hcHBpbmdzIjoiOztBQWtCQTs7QUFFQTtBQUNBO0FBQUE7QUEwUEE7QUF4UEE7O0FBRUE7QUFDQTtBQUNBOzs7Ozs7Ozs7QUFTQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUdBOzs7OztBQUtBO0FBQ0E7QUFBQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7Ozs7QUFJQTtBQUNBO0FBQUE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBR0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBOzs7O0FBSUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBOzs7O0FBSUE7QUFDQTtBQUFBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQTFQQTtBQTRQQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./your-extensions/widgets/survey/src/service/survey123.service.ts\n");

/***/ }),

/***/ "./your-extensions/widgets/survey/src/setting/css/style.ts":
/*!*****************************************************************!*\
  !*** ./your-extensions/widgets/survey/src/setting/css/style.ts ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar __makeTemplateObject = (this && this.__makeTemplateObject) || function (cooked, raw) {\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n    return cooked;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar jimu_core_1 = __webpack_require__(/*! jimu-core */ \"jimu-core\");\nfunction getStyle(theme) {\n    return jimu_core_1.css(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n    &.survey123{\\n        .survey123__section {\\n\\n            input + span {\\n              // margin-left:5px; \\n            }\\n            .jimu-widget-setting--section-header.row >h6 {\\n              font-size: 0.875rem;\\n              color: \", \";\\n            }\\n\\n            .survey-list-msg {\\n              padding: 0 5px;\\n            }\\n            .survey-list-loading-outter {\\n              position: relative;\\n              top: -18px;\\n            }\\n            .survey123__section-createSurvey, .select-survey-section {\\n              .error-message {\\n                color: \", \";\\n              }\\n            }\\n            .select-survey-section {\\n              hr.split-line {\\n                display: none;\\n              }\\n            }\\n            .create-survey-container {\\n              .jimu-widget-setting--row.items {\\n                margin-top: 1.2rem;\\n                display: block;\\n                h6 {\\n                  color: \", \";\\n                }\\n                div.w-100 {\\n                  font-size: 0.8125rem;\\n                  line-height: 1.1875rem;\\n                  margin-top: 0.3125rem;\\n\\n                }\\n              }\\n              .jimu-widget-setting--row >label {\\n                font-size: 0.875rem;\\n                font-weight: 400;\\n                +p.w-100 {\\n                  font-size: 0.8125rem;\\n                  line-height: 1.1875rem;\\n                  margin-top: 0.3125rem;\\n                }\\n              }\\n            }\\n        \\n            .appearance, .section-title {\\n              display: flex;\\n              justify-content: space-between;\\n              width:100%;\\n              h6 {\\n                margin-bottom: 0;\\n              }\\n            }\\n\\n            .select{\\n              select {\\n                width: 100%;\\n              }\\n            }\\n\\n            .mapping-container {\\n              padding: 0.615em;\\n              background: \", \";\\n              border-radius: 2px;\\n              margin: 0.6em 0;\\n              position: relative;\\n              button:disabled, button[disabled] {\\n                background:  #555555;\\n              }\\n              >select {\\n                height: 26px;\\n                vertical-align: middle;\\n                font-size: 1em;\\n                line-height: 26px;\\n                padding: 0 22px 0 6px;\\n                &:first-of-type {\\n                  margin-bottom: 8px;\\n                }\\n              }\\n              .btn-group {\\n                width: 100%;\\n                overflow: hidden;\\n                .icon-remove-mapping {\\n                  padding: 0 0.25em;\\n                  margin-left: 0;\\n                  margin-right: 0;\\n                  svg.left-icon {\\n                    margin-right: 0;\\n                    margin-left: 0;\\n                  }\\n                }\\n                button {\\n                  margin: 8px 0 8px 8px;\\n                  height: 26px;\\n                  line-height: 26px;\\n                  padding: 0;\\n                }\\n              }\\n              >.link-info {\\n                > p {\\n                  margin-bottom: 0;\\n                  line-height: 2em;\\n                }\\n                > div.center-line {\\n                  width: 96%;\\n                  height: 1px;\\n                  background: \", \";\\n                  text-align: center;\\n                  margin: 0.5em 2% 0.5em 2%;\\n                  >.connect {\\n                    display: inline-block;\\n                    width: 26px;\\n                    height: 20px;\\n                    background: \", \";\\n                    position: relative;\\n                    top: -10px;\\n                  }\\n                }\\n                > div.delete-connect {\\n                  display: none;\\n                  position: absolute;\\n                  right: 0;\\n                  top: 0;\\n                  cursor: pointer;\\n                  background: \", \";\\n                  text-align: center;\\n                  width: 24px;\\n                  height: 24px;\\n                }\\n                &:hover > div.delete-connect {\\n                  display: block;\\n                }\\n              }\\n              \\n            }\\n\\n            .setting-row {\\n              margin: 0.5rem 0 0 0;\\n              display: flex;\\n              flex-flow: row wrap;\\n              align-items: center;\\n            }\\n        \\n            .section-title h5{\\n              display: inline-block;\\n              font-weight: 500;\\n            }\\n            .fea-layer-outter {\\n              flex-wrap:wrap;\\n            }\\n\\n            .use-feature-layer-setting {\\n              width: 100%;\\n              margin-top: 0.92em;\\n            }\\n            .feature-layer-dropdown {\\n              width: 100%;\\n              margin: 0.5rem 0 0 0;\\n            }\\n            &-resetSurvey {\\n              position:relative;\\n              // top: -8px;\\n              height: 26px;\\n              float:right;\\n              line-height: 8px;\\n\\n              svg {\\n                margin:0px !important;\\n              }\\n            }\\n\\n            .cursor-pointer{\\n              &:hover{\\n                cursor:pointer;\\n              }\\n            }\\n              \\n            &-surveyMenu {}\\n        \\n            &-selectExistingSurvey {}\\n        \\n            &-createSurvey {\\n              overflow-y: hidden;\\n              \\n              span.isRequired{\\n                position:relative;\\n                /* left:-180px; */\\n                color: \", \";\\n                top: 4px;\\n                left: 4px;\\n              }\\n              input {\\n                margin-top: 0.5em;\\n              }\\n            }\\n        \\n            &-surveySettings {\\n              \\n            }\\n          }\\n    }\\n  \"], [\"\\n    &.survey123{\\n        .survey123__section {\\n\\n            input + span {\\n              // margin-left:5px; \\n            }\\n            .jimu-widget-setting--section-header.row >h6 {\\n              font-size: 0.875rem;\\n              color: \", \";\\n            }\\n\\n            .survey-list-msg {\\n              padding: 0 5px;\\n            }\\n            .survey-list-loading-outter {\\n              position: relative;\\n              top: -18px;\\n            }\\n            .survey123__section-createSurvey, .select-survey-section {\\n              .error-message {\\n                color: \", \";\\n              }\\n            }\\n            .select-survey-section {\\n              hr.split-line {\\n                display: none;\\n              }\\n            }\\n            .create-survey-container {\\n              .jimu-widget-setting--row.items {\\n                margin-top: 1.2rem;\\n                display: block;\\n                h6 {\\n                  color: \", \";\\n                }\\n                div.w-100 {\\n                  font-size: 0.8125rem;\\n                  line-height: 1.1875rem;\\n                  margin-top: 0.3125rem;\\n\\n                }\\n              }\\n              .jimu-widget-setting--row >label {\\n                font-size: 0.875rem;\\n                font-weight: 400;\\n                +p.w-100 {\\n                  font-size: 0.8125rem;\\n                  line-height: 1.1875rem;\\n                  margin-top: 0.3125rem;\\n                }\\n              }\\n            }\\n        \\n            .appearance, .section-title {\\n              display: flex;\\n              justify-content: space-between;\\n              width:100%;\\n              h6 {\\n                margin-bottom: 0;\\n              }\\n            }\\n\\n            .select{\\n              select {\\n                width: 100%;\\n              }\\n            }\\n\\n            .mapping-container {\\n              padding: 0.615em;\\n              background: \", \";\\n              border-radius: 2px;\\n              margin: 0.6em 0;\\n              position: relative;\\n              button:disabled, button[disabled] {\\n                background:  #555555;\\n              }\\n              >select {\\n                height: 26px;\\n                vertical-align: middle;\\n                font-size: 1em;\\n                line-height: 26px;\\n                padding: 0 22px 0 6px;\\n                &:first-of-type {\\n                  margin-bottom: 8px;\\n                }\\n              }\\n              .btn-group {\\n                width: 100%;\\n                overflow: hidden;\\n                .icon-remove-mapping {\\n                  padding: 0 0.25em;\\n                  margin-left: 0;\\n                  margin-right: 0;\\n                  svg.left-icon {\\n                    margin-right: 0;\\n                    margin-left: 0;\\n                  }\\n                }\\n                button {\\n                  margin: 8px 0 8px 8px;\\n                  height: 26px;\\n                  line-height: 26px;\\n                  padding: 0;\\n                }\\n              }\\n              >.link-info {\\n                > p {\\n                  margin-bottom: 0;\\n                  line-height: 2em;\\n                }\\n                > div.center-line {\\n                  width: 96%;\\n                  height: 1px;\\n                  background: \", \";\\n                  text-align: center;\\n                  margin: 0.5em 2% 0.5em 2%;\\n                  >.connect {\\n                    display: inline-block;\\n                    width: 26px;\\n                    height: 20px;\\n                    background: \", \";\\n                    position: relative;\\n                    top: -10px;\\n                  }\\n                }\\n                > div.delete-connect {\\n                  display: none;\\n                  position: absolute;\\n                  right: 0;\\n                  top: 0;\\n                  cursor: pointer;\\n                  background: \", \";\\n                  text-align: center;\\n                  width: 24px;\\n                  height: 24px;\\n                }\\n                &:hover > div.delete-connect {\\n                  display: block;\\n                }\\n              }\\n              \\n            }\\n\\n            .setting-row {\\n              margin: 0.5rem 0 0 0;\\n              display: flex;\\n              flex-flow: row wrap;\\n              align-items: center;\\n            }\\n        \\n            .section-title h5{\\n              display: inline-block;\\n              font-weight: 500;\\n            }\\n            .fea-layer-outter {\\n              flex-wrap:wrap;\\n            }\\n\\n            .use-feature-layer-setting {\\n              width: 100%;\\n              margin-top: 0.92em;\\n            }\\n            .feature-layer-dropdown {\\n              width: 100%;\\n              margin: 0.5rem 0 0 0;\\n            }\\n            &-resetSurvey {\\n              position:relative;\\n              // top: -8px;\\n              height: 26px;\\n              float:right;\\n              line-height: 8px;\\n\\n              svg {\\n                margin:0px !important;\\n              }\\n            }\\n\\n            .cursor-pointer{\\n              &:hover{\\n                cursor:pointer;\\n              }\\n            }\\n              \\n            &-surveyMenu {}\\n        \\n            &-selectExistingSurvey {}\\n        \\n            &-createSurvey {\\n              overflow-y: hidden;\\n              \\n              span.isRequired{\\n                position:relative;\\n                /* left:-180px; */\\n                color: \", \";\\n                top: 4px;\\n                left: 4px;\\n              }\\n              input {\\n                margin-top: 0.5em;\\n              }\\n            }\\n        \\n            &-surveySettings {\\n              \\n            }\\n          }\\n    }\\n  \"])), theme.colors.palette.dark[600], theme.colors.danger, theme.colors.palette.dark[500], theme.colors.secondary, theme.colors.palette.secondary[800], theme.colors.secondary, theme.colors.palette.secondary[400], theme.colors.danger);\n}\nexports.getStyle = getStyle;\nvar templateObject_1;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi95b3VyLWV4dGVuc2lvbnMvd2lkZ2V0cy9zdXJ2ZXkvc3JjL3NldHRpbmcvY3NzL3N0eWxlLnRzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4veW91ci1leHRlbnNpb25zL3dpZGdldHMvc3VydmV5L3NyYy9zZXR0aW5nL2Nzcy9zdHlsZS50cz9mOWYxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFRoZW1lVmFyaWFibGVzLCBjc3MsIFNlcmlhbGl6ZWRTdHlsZXMgfSBmcm9tICdqaW11LWNvcmUnO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFN0eWxlKHRoZW1lPzogVGhlbWVWYXJpYWJsZXMpOiBTZXJpYWxpemVkU3R5bGVzIHtcclxuICByZXR1cm4gY3NzYFxyXG4gICAgJi5zdXJ2ZXkxMjN7XHJcbiAgICAgICAgLnN1cnZleTEyM19fc2VjdGlvbiB7XHJcblxyXG4gICAgICAgICAgICBpbnB1dCArIHNwYW4ge1xyXG4gICAgICAgICAgICAgIC8vIG1hcmdpbi1sZWZ0OjVweDsgXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLmppbXUtd2lkZ2V0LXNldHRpbmctLXNlY3Rpb24taGVhZGVyLnJvdyA+aDYge1xyXG4gICAgICAgICAgICAgIGZvbnQtc2l6ZTogMC44NzVyZW07XHJcbiAgICAgICAgICAgICAgY29sb3I6ICR7dGhlbWUuY29sb3JzLnBhbGV0dGUuZGFya1s2MDBdfTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLnN1cnZleS1saXN0LW1zZyB7XHJcbiAgICAgICAgICAgICAgcGFkZGluZzogMCA1cHg7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLnN1cnZleS1saXN0LWxvYWRpbmctb3V0dGVyIHtcclxuICAgICAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgICAgICAgICAgICAgdG9wOiAtMThweDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAuc3VydmV5MTIzX19zZWN0aW9uLWNyZWF0ZVN1cnZleSwgLnNlbGVjdC1zdXJ2ZXktc2VjdGlvbiB7XHJcbiAgICAgICAgICAgICAgLmVycm9yLW1lc3NhZ2Uge1xyXG4gICAgICAgICAgICAgICAgY29sb3I6ICR7dGhlbWUuY29sb3JzLmRhbmdlcn07XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC5zZWxlY3Qtc3VydmV5LXNlY3Rpb24ge1xyXG4gICAgICAgICAgICAgIGhyLnNwbGl0LWxpbmUge1xyXG4gICAgICAgICAgICAgICAgZGlzcGxheTogbm9uZTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLmNyZWF0ZS1zdXJ2ZXktY29udGFpbmVyIHtcclxuICAgICAgICAgICAgICAuamltdS13aWRnZXQtc2V0dGluZy0tcm93Lml0ZW1zIHtcclxuICAgICAgICAgICAgICAgIG1hcmdpbi10b3A6IDEuMnJlbTtcclxuICAgICAgICAgICAgICAgIGRpc3BsYXk6IGJsb2NrO1xyXG4gICAgICAgICAgICAgICAgaDYge1xyXG4gICAgICAgICAgICAgICAgICBjb2xvcjogJHt0aGVtZS5jb2xvcnMucGFsZXR0ZS5kYXJrWzUwMF19O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZGl2LnctMTAwIHtcclxuICAgICAgICAgICAgICAgICAgZm9udC1zaXplOiAwLjgxMjVyZW07XHJcbiAgICAgICAgICAgICAgICAgIGxpbmUtaGVpZ2h0OiAxLjE4NzVyZW07XHJcbiAgICAgICAgICAgICAgICAgIG1hcmdpbi10b3A6IDAuMzEyNXJlbTtcclxuXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIC5qaW11LXdpZGdldC1zZXR0aW5nLS1yb3cgPmxhYmVsIHtcclxuICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMC44NzVyZW07XHJcbiAgICAgICAgICAgICAgICBmb250LXdlaWdodDogNDAwO1xyXG4gICAgICAgICAgICAgICAgK3Audy0xMDAge1xyXG4gICAgICAgICAgICAgICAgICBmb250LXNpemU6IDAuODEyNXJlbTtcclxuICAgICAgICAgICAgICAgICAgbGluZS1oZWlnaHQ6IDEuMTg3NXJlbTtcclxuICAgICAgICAgICAgICAgICAgbWFyZ2luLXRvcDogMC4zMTI1cmVtO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgICAgICAuYXBwZWFyYW5jZSwgLnNlY3Rpb24tdGl0bGUge1xyXG4gICAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xyXG4gICAgICAgICAgICAgIHdpZHRoOjEwMCU7XHJcbiAgICAgICAgICAgICAgaDYge1xyXG4gICAgICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMDtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC5zZWxlY3R7XHJcbiAgICAgICAgICAgICAgc2VsZWN0IHtcclxuICAgICAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLm1hcHBpbmctY29udGFpbmVyIHtcclxuICAgICAgICAgICAgICBwYWRkaW5nOiAwLjYxNWVtO1xyXG4gICAgICAgICAgICAgIGJhY2tncm91bmQ6ICR7dGhlbWUuY29sb3JzLnNlY29uZGFyeX07XHJcbiAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMnB4O1xyXG4gICAgICAgICAgICAgIG1hcmdpbjogMC42ZW0gMDtcclxuICAgICAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgICAgICAgICAgICAgYnV0dG9uOmRpc2FibGVkLCBidXR0b25bZGlzYWJsZWRdIHtcclxuICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6ICAjNTU1NTU1O1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICA+c2VsZWN0IHtcclxuICAgICAgICAgICAgICAgIGhlaWdodDogMjZweDtcclxuICAgICAgICAgICAgICAgIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XHJcbiAgICAgICAgICAgICAgICBmb250LXNpemU6IDFlbTtcclxuICAgICAgICAgICAgICAgIGxpbmUtaGVpZ2h0OiAyNnB4O1xyXG4gICAgICAgICAgICAgICAgcGFkZGluZzogMCAyMnB4IDAgNnB4O1xyXG4gICAgICAgICAgICAgICAgJjpmaXJzdC1vZi10eXBlIHtcclxuICAgICAgICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogOHB4O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAuYnRuLWdyb3VwIHtcclxuICAgICAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgICAgICAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuICAgICAgICAgICAgICAgIC5pY29uLXJlbW92ZS1tYXBwaW5nIHtcclxuICAgICAgICAgICAgICAgICAgcGFkZGluZzogMCAwLjI1ZW07XHJcbiAgICAgICAgICAgICAgICAgIG1hcmdpbi1sZWZ0OiAwO1xyXG4gICAgICAgICAgICAgICAgICBtYXJnaW4tcmlnaHQ6IDA7XHJcbiAgICAgICAgICAgICAgICAgIHN2Zy5sZWZ0LWljb24ge1xyXG4gICAgICAgICAgICAgICAgICAgIG1hcmdpbi1yaWdodDogMDtcclxuICAgICAgICAgICAgICAgICAgICBtYXJnaW4tbGVmdDogMDtcclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnV0dG9uIHtcclxuICAgICAgICAgICAgICAgICAgbWFyZ2luOiA4cHggMCA4cHggOHB4O1xyXG4gICAgICAgICAgICAgICAgICBoZWlnaHQ6IDI2cHg7XHJcbiAgICAgICAgICAgICAgICAgIGxpbmUtaGVpZ2h0OiAyNnB4O1xyXG4gICAgICAgICAgICAgICAgICBwYWRkaW5nOiAwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICA+LmxpbmstaW5mbyB7XHJcbiAgICAgICAgICAgICAgICA+IHAge1xyXG4gICAgICAgICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAwO1xyXG4gICAgICAgICAgICAgICAgICBsaW5lLWhlaWdodDogMmVtO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgPiBkaXYuY2VudGVyLWxpbmUge1xyXG4gICAgICAgICAgICAgICAgICB3aWR0aDogOTYlO1xyXG4gICAgICAgICAgICAgICAgICBoZWlnaHQ6IDFweDtcclxuICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogJHt0aGVtZS5jb2xvcnMucGFsZXR0ZS5zZWNvbmRhcnlbODAwXX07XHJcbiAgICAgICAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgICAgICAgICAgICAgICAgbWFyZ2luOiAwLjVlbSAyJSAwLjVlbSAyJTtcclxuICAgICAgICAgICAgICAgICAgPi5jb25uZWN0IHtcclxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDI2cHg7XHJcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAyMHB4O1xyXG4gICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6ICR7dGhlbWUuY29sb3JzLnNlY29uZGFyeX07XHJcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gICAgICAgICAgICAgICAgICAgIHRvcDogLTEwcHg7XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgID4gZGl2LmRlbGV0ZS1jb25uZWN0IHtcclxuICAgICAgICAgICAgICAgICAgZGlzcGxheTogbm9uZTtcclxuICAgICAgICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICAgICAgICAgICAgICByaWdodDogMDtcclxuICAgICAgICAgICAgICAgICAgdG9wOiAwO1xyXG4gICAgICAgICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6ICR7dGhlbWUuY29sb3JzLnBhbGV0dGUuc2Vjb25kYXJ5WzQwMF19O1xyXG4gICAgICAgICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICAgICAgICAgICAgICAgIHdpZHRoOiAyNHB4O1xyXG4gICAgICAgICAgICAgICAgICBoZWlnaHQ6IDI0cHg7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAmOmhvdmVyID4gZGl2LmRlbGV0ZS1jb25uZWN0IHtcclxuICAgICAgICAgICAgICAgICAgZGlzcGxheTogYmxvY2s7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAuc2V0dGluZy1yb3cge1xyXG4gICAgICAgICAgICAgIG1hcmdpbjogMC41cmVtIDAgMCAwO1xyXG4gICAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgICAgICAgZmxleC1mbG93OiByb3cgd3JhcDtcclxuICAgICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgICAgIC5zZWN0aW9uLXRpdGxlIGg1e1xyXG4gICAgICAgICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcclxuICAgICAgICAgICAgICBmb250LXdlaWdodDogNTAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC5mZWEtbGF5ZXItb3V0dGVyIHtcclxuICAgICAgICAgICAgICBmbGV4LXdyYXA6d3JhcDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLnVzZS1mZWF0dXJlLWxheWVyLXNldHRpbmcge1xyXG4gICAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgICAgICAgICAgIG1hcmdpbi10b3A6IDAuOTJlbTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAuZmVhdHVyZS1sYXllci1kcm9wZG93biB7XHJcbiAgICAgICAgICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICAgICAgICAgICAgbWFyZ2luOiAwLjVyZW0gMCAwIDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgJi1yZXNldFN1cnZleSB7XHJcbiAgICAgICAgICAgICAgcG9zaXRpb246cmVsYXRpdmU7XHJcbiAgICAgICAgICAgICAgLy8gdG9wOiAtOHB4O1xyXG4gICAgICAgICAgICAgIGhlaWdodDogMjZweDtcclxuICAgICAgICAgICAgICBmbG9hdDpyaWdodDtcclxuICAgICAgICAgICAgICBsaW5lLWhlaWdodDogOHB4O1xyXG5cclxuICAgICAgICAgICAgICBzdmcge1xyXG4gICAgICAgICAgICAgICAgbWFyZ2luOjBweCAhaW1wb3J0YW50O1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLmN1cnNvci1wb2ludGVye1xyXG4gICAgICAgICAgICAgICY6aG92ZXJ7XHJcbiAgICAgICAgICAgICAgICBjdXJzb3I6cG9pbnRlcjtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgJi1zdXJ2ZXlNZW51IHt9XHJcbiAgICAgICAgXHJcbiAgICAgICAgICAgICYtc2VsZWN0RXhpc3RpbmdTdXJ2ZXkge31cclxuICAgICAgICBcclxuICAgICAgICAgICAgJi1jcmVhdGVTdXJ2ZXkge1xyXG4gICAgICAgICAgICAgIG92ZXJmbG93LXk6IGhpZGRlbjtcclxuICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICBzcGFuLmlzUmVxdWlyZWR7XHJcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjpyZWxhdGl2ZTtcclxuICAgICAgICAgICAgICAgIC8qIGxlZnQ6LTE4MHB4OyAqL1xyXG4gICAgICAgICAgICAgICAgY29sb3I6ICR7dGhlbWUuY29sb3JzLmRhbmdlcn07XHJcbiAgICAgICAgICAgICAgICB0b3A6IDRweDtcclxuICAgICAgICAgICAgICAgIGxlZnQ6IDRweDtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgaW5wdXQge1xyXG4gICAgICAgICAgICAgICAgbWFyZ2luLXRvcDogMC41ZW07XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgICAgICYtc3VydmV5U2V0dGluZ3Mge1xyXG4gICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICB9XHJcbiAgYDtcclxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFFQTtBQUNBO0FBbU5BO0FBcE5BOzsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./your-extensions/widgets/survey/src/setting/css/style.ts\n");

/***/ }),

/***/ "./your-extensions/widgets/survey/src/setting/setting.tsx":
/*!****************************************************************!*\
  !*** ./your-extensions/widgets/survey/src/setting/setting.tsx ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __makeTemplateObject = (this && this.__makeTemplateObject) || function (cooked, raw) {\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n    return cooked;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/** @jsx jsx */\nvar jimu_core_1 = __webpack_require__(/*! jimu-core */ \"jimu-core\");\nvar jimu_for_builder_1 = __webpack_require__(/*! jimu-for-builder */ \"jimu-for-builder\");\nvar setting_components_1 = __webpack_require__(/*! jimu-ui/setting-components */ \"jimu-ui/setting-components\");\nvar jimu_arcgis_1 = __webpack_require__(/*! jimu-arcgis */ \"jimu-arcgis\");\nvar jimu_ui_1 = __webpack_require__(/*! jimu-ui */ \"jimu-ui\");\nvar survey123_service_1 = __webpack_require__(/*! ../service/survey123.service */ \"./your-extensions/widgets/survey/src/service/survey123.service.ts\");\nvar default_1 = __webpack_require__(/*! ./translations/default */ \"./your-extensions/widgets/survey/src/setting/translations/default.ts\");\nvar style_1 = __webpack_require__(/*! ./css/style */ \"./your-extensions/widgets/survey/src/setting/css/style.ts\");\nvar Setting = /** @class */ (function (_super) {\n    __extends(Setting, _super);\n    // private _survey123HostUrl: string = survey123Service.getSurvey123HostUrl();\n    // private _dsManager = DataSourceManager.getInstance();\n    /**\n     * constructor\n     * @param props\n     */\n    function Setting(props) {\n        var _this = _super.call(this, props) || this;\n        /**\n         * state variable\n         */\n        _this.supportedMapTypes = jimu_core_1.Immutable([jimu_arcgis_1.ArcGISDataSourceTypes.WebMap]);\n        _this.supportedLayerTypes = jimu_core_1.Immutable([jimu_arcgis_1.ArcGISDataSourceTypes.FeatureLayer]);\n        _this.dsManager = jimu_core_1.DataSourceManager.getInstance();\n        _this.state = {\n            /**\n             * survey123\n             */\n            newSurveyTitle: null,\n            newSurveyTags: null,\n            newSurveyTitleDirty: false,\n            newSurveyTagsDirty: false,\n            newSurveySnippet: null,\n            newSurveyItemId: null,\n            // newSurveyThumbnailUrl: 'https://images-eu.ssl-images-amazon.com/images/I/61ot3Cx98aL.png',\n            newSurveyThumbnailUrls: [\n                'https://survey123.arcgis.com/assets/img/default-thumbnails/Image01.png',\n                'https://survey123.arcgis.com/assets/img/default-thumbnails/Image02.png',\n                'https://survey123.arcgis.com/assets/img/default-thumbnails/Image03.png'\n            ],\n            newSurveyMsg: null,\n            newSurveyLoading: false,\n            existSurveyMsg: null,\n            existSurveys: [],\n            selectedSurvey: null,\n            modalIsOpen: false,\n            mode: 'none',\n            isCheckedSurveyItemId: false,\n            isShowSurveyQuestionField: false,\n            surveyQuestionFields: [],\n            selectedQuestionField: null,\n            createSurveyErrorMsg: null,\n            surveyStatusCode: 0,\n            /**\n             * data source\n             */\n            dsMapView: null,\n            dsFeatureLayer: null,\n            dsFeatureLayerFields: [],\n            /**\n             * field-question mapping\n             */\n            mapWidgetList: [],\n            addMapping: null,\n            editMapping: null\n        };\n        _this.newDefaultValue = {\n            key: '',\n            value: ''\n        };\n        _this.iconRefresh = __webpack_require__(/*! jimu-ui/lib/icons/close.svg */ \"./jimu-ui/lib/icons/close.svg\");\n        _this.closeIcon24 = __webpack_require__(/*! jimu-ui/lib/icons/close-24.svg */ \"./jimu-ui/lib/icons/close-24.svg\");\n        _this.iconLink = __webpack_require__(/*! jimu-ui/lib/icons/link.svg */ \"./jimu-ui/lib/icons/link.svg\");\n        _this.iconRemove = __webpack_require__(/*! jimu-ui/lib/icons/delete.svg */ \"./jimu-ui/lib/icons/delete.svg\");\n        // set state: dsFeatureLayer after loaded if the dataSourceId exist\n        _this.componentDidMount = function () {\n            var useDataSources = _this.props.useDataSources;\n            var dataSourceId = (useDataSources && useDataSources.length) ? useDataSources[0].dataSourceId : null;\n            if (dataSourceId) {\n                var dataSource = _this.dsManager.getDataSource(dataSourceId);\n                var layer = dataSource ? dataSource.layer : null;\n                _this.setState({\n                    dsFeatureLayer: layer,\n                    dsFeatureLayerFields: _this.getLayerFields(layer)\n                });\n            }\n        };\n        _this.getLayerFields = function (layer) {\n            if (!layer) {\n                return [];\n            }\n            // clone the layer.fields\n            var fields = Object.assign({}, { fields: layer.fields }).fields;\n            if (layer.type !== 'feature') {\n                // table or other type (has no geometry)\n                return fields;\n            }\n            var existGeoField = (fields || []).find(function (item) {\n                return item.name === 'geometry';\n            });\n            if (existGeoField) {\n                return fields;\n            }\n            var type = layer.geometryType;\n            var geometryTypeStr = _this.nls('geometryType' + type.substr(0, 1).toUpperCase() + type.substr(1));\n            fields.push({\n                alias: _this.nls('geometryLabel') + \"(\" + geometryTypeStr + \")\",\n                name: 'geometry'\n            });\n            return fields;\n        };\n        /**\n         * on setting value changed\n         */\n        _this.onValueChanged = function (evt) {\n            var target = evt.currentTarget;\n            _this.props.onSettingChange({\n                id: _this.props.id,\n                config: _this.props.config.set(target.name, target.value)\n            });\n        };\n        _this.nls = function (id) {\n            return _this.props.intl.formatMessage({ id: id, defaultMessage: default_1.default[id] });\n        };\n        /**\n         * add default value\n         */\n        _this.addDefaultValue = function (evt) {\n            if (_this.newDefaultValue.key && _this.newDefaultValue.value) {\n                // this.props.config.defaultValue[this.newDefaultValue.key] = this.newDefaultValue.value;\n                /**\n                 * clear newDefaultValue key / value\n                 */\n                _this.newDefaultValue = {\n                    key: '',\n                    value: ''\n                };\n            }\n        };\n        /**\n         * listen to the desinger iframe\n         */\n        _this.addDesigerHandler = function () {\n            window.addEventListener('message', function (evt) {\n                if (evt.data) {\n                    var data = evt.data;\n                    // if the window get the message from other iframe, maybe it cannot be converted to object\n                    // We can only sure the message from webform can be converted to object\n                    try {\n                        if (typeof evt.data === 'string') {\n                            data = JSON.parse(evt.data) || {};\n                        }\n                    }\n                    catch (e) {\n                        // don't show the error\n                    }\n                    if (data.event === 'survey123:design:onFormPublished' && data.data) {\n                        var surveyStatusCode = _this.state.surveyStatusCode || 0;\n                        surveyStatusCode++;\n                        jimu_for_builder_1.builderAppSync.publishChangeWidgetStatePropToApp({ widgetId: _this.props.id, propKey: 'surveyStatusCode', value: surveyStatusCode });\n                        _this.setState({\n                            surveyStatusCode: surveyStatusCode\n                        });\n                        _this.handleCloseModal();\n                    }\n                    else if (data.event === 'survey123:design:onFormUnsaved' && data.data) {\n                        // todo: for #408, need survey desinger to trigger this event\n                    }\n                }\n            });\n        };\n        /**\n         * get field alias by fild name\n         */\n        _this.getFielAlias = function (field) {\n            var fields = _this.state.dsFeatureLayerFields || [];\n            var target = fields.find(function (item) {\n                return item.name === field;\n            });\n            if (target) {\n                return target.alias || target.name;\n            }\n            return field;\n        };\n        /**\n         * get question label by question name\n         */\n        _this.getQuestionLabel = function (questionName) {\n            var questions = _this.state.surveyQuestionFields || [];\n            var target = questions.find(function (item) {\n                return item.name === questionName;\n            });\n            if (target) {\n                return target.label || target.name;\n            }\n            return questionName;\n        };\n        /**\n         * on new survey value changed\n         */\n        _this.onNewSurveyValueChanged = function (e) {\n            var _a;\n            var target = e.currentTarget;\n            if (target.name) {\n                _this.setState((_a = {},\n                    _a[target.name] = target.value,\n                    _a));\n            }\n            if (target.name === 'newSurveyTags') {\n                _this.setState({\n                    newSurveyTagsDirty: true\n                });\n            }\n            if (target.name === 'newSurveyTitle') {\n                _this.setState({\n                    newSurveyTitleDirty: true\n                });\n            }\n        };\n        /**\n         * onExistSurveyChanged\n         */\n        _this.onExistSurveyChanged = function (e) {\n            var target = e.currentTarget;\n            if (target.value && target.value !== 'null') {\n                /**\n                 * update selected survey\n                 */\n                var selectedSurvey = _this.state.existSurveys.find(function (survey) { return survey.id === target.value; });\n                _this.updateMapWidgetList();\n                _this.setState({\n                    selectedSurvey: selectedSurvey\n                });\n            }\n        };\n        /**\n         * create survey\n         */\n        _this.createSurvey = function () {\n            return Promise.resolve(true)\n                .then(function () {\n                var _a;\n                /**\n                 * handle title, tags, description\n                 */\n                var title = _this.state.newSurveyTitle;\n                var tags = (_this.state.newSurveyTags || '').split(',').map(function (tag) { return tag.trim(); });\n                var snippet = _this.state.newSurveySnippet;\n                if (!title) {\n                    _this.setState({\n                        newSurveyTitleDirty: true\n                    });\n                }\n                if (!_this.state.newSurveyTags) {\n                    _this.setState({\n                        newSurveyTagsDirty: true\n                    });\n                }\n                if (!title || !tags || !tags.length) {\n                    // throw new Error('missing title or tags');\n                    throw new Error('');\n                }\n                /**\n                 * update msg\n                 */\n                _this.setState({\n                    newSurveyMsg: '',\n                    newSurveyLoading: true\n                });\n                var randomIdx = parseInt(Math.random() * 10 + '') % 3;\n                var thumbnail = _this.state.newSurveyThumbnailUrls[randomIdx];\n                return survey123_service_1.survey123Service.createSurvey(title, tags, {\n                    token: _this.props.token,\n                    username: (_a = _this.props.user) === null || _a === void 0 ? void 0 : _a.username,\n                    /**\n                     * portalUrl\n                     */\n                    portalUrl: _this.props.config.portalUrl || _this.props.portalUrl\n                }, {\n                    snippet: snippet,\n                    thumbnailUrl: thumbnail\n                });\n            })\n                .then(function (res) {\n                if (res.success === true) {\n                    _this.updateMapWidgetList();\n                    /**\n                     * set item id\n                     */\n                    _this.setState({\n                        createSurveyErrorMsg: null,\n                        newSurveyItemId: res.id,\n                        selectedSurvey: res,\n                        newSurveyLoading: false\n                    });\n                    return res.id;\n                }\n                if (res.error && res.error.code + '' == '400') {\n                    _this.setState({\n                        createSurveyErrorMsg: 'A survey with this name already exists, please choose a different name.',\n                        newSurveyLoading: false,\n                        newSurveyTitleDirty: false\n                    });\n                    return null;\n                }\n                throw res;\n            })\n                .then(function (itemId) {\n                if (!itemId) {\n                    return;\n                }\n                /**\n                 * we should set hides in config\n                 */\n                _this.props.onSettingChange({\n                    id: _this.props.id,\n                    config: _this.props.config.set('hides', ['navbar', 'header', 'description', 'footer', 'theme'])\n                });\n                /**\n                 * show survey123 designer modal\n                 */\n                _this.showSurvey123DesignerModal(itemId);\n            })\n                .catch(function (err) {\n                if (err) {\n                    /**\n                     * update msg\n                     */\n                    _this.setState({\n                        newSurveyMsg: err.message ? err.message : (typeof err === 'string') ? err : '',\n                        newSurveyLoading: false\n                    });\n                }\n                console.error(err);\n            });\n        };\n        /**\n         * query survey\n         */\n        _this.querySurvey = function (options) {\n            var _a;\n            // options\n            options = Object.assign({\n                isShared: false,\n                isPublished: true\n            }, options || {});\n            if (_this.props.config.surveyItemId && _this.props.config.selectedSurvey) {\n                var selectedSurvey_1 = _this.props.config.selectedSurvey;\n                // this.state.mode = 'settings';\n                setTimeout(function () {\n                    _this.props.onSettingChange({\n                        id: _this.props.id,\n                        config: _this.props.config.set('surveyItemId', selectedSurvey_1.id)\n                    });\n                    /**\n                     * switch to settings page\n                     */\n                    _this.updateMapWidgetList();\n                    _this.setState({\n                        existSurveyMsg: null,\n                        mode: 'settings',\n                        selectedSurvey: selectedSurvey_1\n                    });\n                }, 0);\n                // this.setSurveyItemId();\n                return survey123_service_1.survey123Service.querySurvey({ username: (_a = _this.props.user) === null || _a === void 0 ? void 0 : _a.username, token: _this.props.token, portalUrl: _this.props.config.portalUrl || _this.props.portalUrl }, { isShared: options.isShared, isPublished: options.isPublished })\n                    .then(function (surveys) {\n                    _this.setState({\n                        existSurveys: surveys\n                    });\n                });\n            }\n            return Promise.resolve(true)\n                .then(function () {\n                if (_this.state.mode === 'none') {\n                    _this.setState({\n                        mode: 'survey-createSurvey'\n                    });\n                }\n                /**\n                 * update msg\n                 */\n                _this.setState({\n                    existSurveyMsg: '<div class=\"survey-list-loading-outter\"><div class=\"jimu-secondary-loading\"></div></div>'\n                });\n                return survey123_service_1.survey123Service.querySurvey({\n                    username: _this.props.user.username,\n                    token: _this.props.token,\n                    portalUrl: _this.props.config.portalUrl || _this.props.portalUrl\n                }, {\n                    isShared: options.isShared,\n                    isPublished: options.isPublished\n                });\n            })\n                .then(function (surveys) {\n                // console.log(surveys);\n                /**\n                 * update msg and existing surveys\n                 */\n                _this.setState({\n                    existSurveyMsg: null,\n                    existSurveys: surveys\n                });\n                /**\n                 * update selected survey\n                 */\n                var usedSurveyItemId = _this.props.config.surveyItemId;\n                if (usedSurveyItemId) {\n                    var selectedSurvey = surveys.find(function (survey) { return survey.id === usedSurveyItemId; });\n                    if (selectedSurvey) {\n                        _this.updateMapWidgetList();\n                        _this.setState({\n                            selectedSurvey: selectedSurvey\n                        });\n                        _this.props.onSettingChange({\n                            id: _this.props.id,\n                            config: _this.props.config.set('selectedSurvey', selectedSurvey)\n                        });\n                    }\n                }\n            })\n                .catch(function (err) {\n                _this.setState({\n                    mode: 'survey-createSurvey',\n                    existSurveyMsg: '<p class=\"error-message\">error when load existing surveys</p>' // 'error when load existing surveys'\n                });\n                console.log(err);\n            });\n        };\n        /**\n         * get survey question fields\n         */\n        _this.getSurveyQuestionFields = function () {\n            var surveyItemId = _this.props.config.surveyItemId;\n            return Promise.resolve(true)\n                .then(function () {\n                if (surveyItemId && _this.props.token) {\n                    return survey123_service_1.survey123Service.getSurveyQuestionFields(surveyItemId, {\n                        token: _this.props.token\n                    });\n                }\n            })\n                .then(function (fields) {\n                if (fields) {\n                    _this.setState({\n                        surveyQuestionFields: fields\n                    });\n                }\n                return fields;\n            });\n        };\n        /**\n         * remove default value\n         */\n        // removeDefaultValue = (key: string, evt: any) => {\n        //   let defaultValue = this.props.config.defaultValue;\n        //   if (key && defaultValue[key]) {\n        //     delete defaultValue[key];\n        //   }\n        // }\n        /**\n         * show setting page\n         */\n        _this.showSettingPage = function () {\n            _this.setState({\n                mode: 'settings'\n            });\n            /**\n             * get survey question fields\n             */\n            _this.getSurveyQuestionFields();\n        };\n        /**\n         * handle close modal\n         */\n        _this.handleCloseModal = function () {\n            _this.setState({\n                modalIsOpen: false\n            });\n            _this.showSettingPage();\n            /**\n             * update survey itemid in props config\n             */\n            var surveyItemId = _this.state.newSurveyItemId || _this.props.config.surveyItemId;\n            if (surveyItemId) {\n                _this.props.onSettingChange({\n                    id: _this.props.id,\n                    config: _this.props.config.set('surveyItemId', surveyItemId).set('timestamp', Date.now())\n                });\n            }\n        };\n        /**\n         * get thumbnail url from portal\n         */\n        _this.getThumbnailUrl = function () {\n            var portalUrl = _this.props.config.portalUrl || _this.props.portalUrl || 'https://www.arcgis.com';\n            var surveyItemId = _this.state.selectedSurvey.id;\n            var thumbnail = _this.state.selectedSurvey.thumbnail;\n            if ((thumbnail + '').startsWith('http://') || (thumbnail + '').startsWith('https://')) {\n                return thumbnail;\n            }\n            return portalUrl + \"/sharing/rest/content/items/\" + surveyItemId + \"/info/\" + thumbnail + \"?token=\" + _this.props.token;\n        };\n        /**\n         * set survey item id\n         * update this.props.config\n         */\n        _this.setSurveyItemId = function () {\n            var selectedSurvey = _this.state.selectedSurvey;\n            if (selectedSurvey && selectedSurvey.id) {\n                /**\n                 * update props to have the same setting in runtime\n                 * and ensure the hides are all switched on\n                 */\n                _this.props.onSettingChange({\n                    id: _this.props.id,\n                    config: _this.props.config.set('surveyItemId', selectedSurvey.id).set('hides', ['navbar', 'header', 'description', 'footer', 'theme'])\n                });\n                /**\n                 * switch to settings page\n                 */\n                _this.setState({\n                    mode: 'settings'\n                });\n            }\n        };\n        /**\n         * edit survey\n         */\n        _this.editSurvey = function () {\n            _this.showSurvey123DesignerModal();\n        };\n        /**\n         * set appearance\n         */\n        _this.setAppearance = function (isChecked, value) {\n            // let target = e.currentTarget;\n            // let value = target.value;\n            // clone this.props.config.hides\n            var hides = [].concat(_this.props.config.hides || []);\n            // let isChecked = target.checked;\n            if (isChecked && hides.indexOf(value) >= 0) {\n                var pos = hides.indexOf(value);\n                hides.splice(pos, 1);\n                // hides = hides.concat([value])\n            }\n            else {\n                hides.push(value);\n            }\n            _this.props.onSettingChange({\n                id: _this.props.id,\n                config: _this.props.config.set('hides', hides)\n            });\n        };\n        /**\n         * set selected map view\n         */\n        _this.onMapWidgetSelected = function (useMapWidgetIds) {\n            if (!useMapWidgetIds || !useMapWidgetIds.length) {\n                _this.clearMapping();\n            }\n            _this.props.onSettingChange({\n                id: _this.props.id,\n                useMapWidgetIds: useMapWidgetIds\n            });\n        };\n        /**\n         * on feature layer view selected\n         */\n        _this.onFeatureLayerViewSelected = function (selectedDsJsons, d) {\n            if (d && d.dataSourceJson && d.rootDataSourceId) {\n                /**\n                 * update state\n                 */\n                _this.setState({\n                    dsMapView: null,\n                    dsFeatureLayer: d\n                });\n                /**\n                 * embed params\n                 */\n                var embeds = _this.props.config.embeds || [];\n                if (embeds.indexOf('associatedMap') === -1) {\n                    embeds = embeds.concat(['associatedMap']);\n                }\n                /**\n                 * update useDataSources\n                 */\n                _this.props.onSettingChange({\n                    id: _this.props.id,\n                    config: _this.props.config.set('embeds', embeds).set('dsType', jimu_arcgis_1.ArcGISDataSourceTypes.FeatureLayer)\n                    /* useDataSources: Immutable([{\n                      dataSourceId: d.dataSourceJson.id,\n                      rootDataSourceId: d.rootDataSourceId\n                    }]) as ImmutableArray<IMUseDataSource> */\n                });\n            }\n        };\n        _this.updateMapWidgetList = function () {\n            // get the map widget list\n            var state = window._appState;\n            var appConfig = window && window.jimuConfig && window.jimuConfig.isBuilder ? state.appStateInBuilder && state.appStateInBuilder.appConfig : state.appConfig;\n            var widgets = appConfig && appConfig.widgets;\n            // eslint-disable-next-line max-len\n            var mapWidgetList = widgets ? Object.keys(widgets).filter(function (wId) { return widgets[wId] && widgets[wId].manifest && widgets[wId].manifest.properties && widgets[wId].manifest.properties.canCreateMapView; }).map(function (wId) { return widgets[wId]; }) : [];\n            _this.setState({\n                mapWidgetList: mapWidgetList\n            });\n        };\n        _this.activeLinkDataChange = function (e) {\n            var target = e.currentTarget;\n            var isActive = target.checked;\n            if (isActive) {\n                _this.updateMapWidgetList();\n            }\n            /**\n             * update activeLinkData in data source\n             */\n            _this.props.onSettingChange({\n                id: _this.props.id,\n                config: _this.props.config.set('activeLinkData', isActive),\n            });\n        };\n        /**\n         * on map view selected\n         */\n        _this.onMapViewSelected = function (selectedDsJsons, d) {\n            if (d && d.dataSourceJson) {\n                // if (d && d.dataSourceJson && d.rootDataSourceId) {\n                // let mapViewDSJson = d.dataSourceJson;\n                /**\n                 * update state\n                 */\n                _this.setState({\n                    dsMapView: d,\n                    dsFeatureLayer: null,\n                    dsFeatureLayerFields: []\n                });\n                /**\n                 * embed params\n                 */\n                var embeds = _this.props.config.embeds || [];\n                if (embeds.indexOf('associatedMap') === -1) {\n                    embeds = embeds.concat(['associatedMap']);\n                }\n                /**\n                 * update props\n                 */\n                _this.props.onSettingChange({\n                    id: _this.props.id,\n                    config: _this.props.config.set('embeds', embeds).set('selectedSurveyQuestionFields', []).set('dsType', jimu_arcgis_1.ArcGISDataSourceTypes.Map)\n                    /* useDataSources: Immutable([{\n                      dataSourceId: d.dataSourceJson.id,\n                      rootDataSourceId: d.rootDataSourceId\n                    }]) as ImmutableArray<IMUseDataSource> */\n                });\n            }\n        };\n        /**\n         * on feature layer field selected\n         */\n        _this.onFieldSelected = function (allSelectedFields, field, ds) {\n            /**\n             * update fields in data source\n             */\n            _this.props.onSettingChange({\n                id: _this.props.id,\n                config: _this.props.config.setIn(['title', 'field'], field.name),\n                useDataSources: [{\n                        dataSourceId: _this.props.useDataSources[0].dataSourceId,\n                        rootDataSourceId: _this.props.useDataSources[0].rootDataSourceId,\n                        fields: [field.name]\n                    }]\n            });\n        };\n        /**\n         * select a feature layer\n         */\n        _this.onDataSourceSelected = function (jimuLayerViewInfo) {\n            if (!jimuLayerViewInfo) {\n                _this.clearMapping();\n            }\n            var dataSourceId = jimuLayerViewInfo ? jimuLayerViewInfo.datasourceId : null;\n            var dataSource = _this.dsManager.getDataSource(dataSourceId);\n            // let schema = null;\n            // if (dataSource) {\n            //   schema = dataSource.getSchema();\n            //   fields = schema ? (schema.fields || []) : [];\n            // }\n            var layer = dataSource ? dataSource.layer : null;\n            if (!dataSourceId || !dataSource || !layer) {\n                _this.clearMapping();\n            }\n            _this.setState({\n                dsFeatureLayer: layer,\n                dsFeatureLayerFields: _this.getLayerFields(layer)\n            });\n            var rootDataSourceId = jimuLayerViewInfo ? jimuLayerViewInfo.rootDatasourceId : null;\n            _this.props.onSettingChange({\n                id: _this.props.id,\n                useDataSources: [{\n                        dataSourceId: dataSourceId,\n                        rootDataSourceId: rootDataSourceId\n                    }],\n                config: _this.props.config.set('layerViewInfo', jimuLayerViewInfo).set('fieldQuestionMapping', null),\n            }, [{\n                    id: _this.props.id + \"-output\",\n                    label: _this.props.label + \" Query Result\",\n                    type: jimu_arcgis_1.ArcGISDataSourceTypes.FeatureLayer,\n                    originDataSources: [{ dataSourceId: dataSourceId, rootDataSourceId: rootDataSourceId }]\n                }]);\n            // this.props.onSettingChange({\n            //   id: this.props.id,\n            //   useDataSources: [{\n            //     dataSourceId: currentSelectedDs.dataSourceJson.id,\n            //     rootDataSourceId: currentSelectedDs.rootDataSourceId\n            //   }],\n            // }, [{\n            //   id: `${this.props.id}-output`,\n            //   label: `${this.props.label} Query Result`,\n            //   type: ArcGISDataSourceTypes.FeatureLayerView,\n            //   originDataSources: [{dataSourceId: currentSelectedDs.dataSourceJson.id, rootDataSourceId: currentSelectedDs.rootDataSourceId}]\n            // }]);\n        };\n        /**\n         * change the layer field in field-question mapping panel\n         */\n        _this.addMapppingChange = function (type, e) {\n            var target = e.currentTarget;\n            var value = target.value;\n            var field = _this.state.addMapping ? _this.state.addMapping.field : null;\n            var question = _this.state.addMapping ? _this.state.addMapping.question : null;\n            if (type === 'field') {\n                field = value;\n            }\n            else {\n                question = value;\n            }\n            _this.setState({\n                addMapping: {\n                    field: field,\n                    question: question\n                }\n            });\n        };\n        /**\n         * clear the setting of field-question mapping\n         */\n        _this.clearMapping = function () {\n            // todo:\n        };\n        _this.onDataSourceRemoved = function () {\n            // todo\n        };\n        /**\n         * trigger evnet type change\n         */\n        _this.triggerEventTypeChange = function () {\n        };\n        /**\n         * show edit mapping panel\n         */\n        _this.showEditMappingPanel = function (index, e) {\n            var curEditMapping = _this.state.editMapping || {};\n            if (curEditMapping.index === index) {\n                return;\n            }\n            var mappings = _this.props.config.fieldQuestionMapping || [];\n            mappings = (index >= 0 && index < mappings.length) ? mappings[index] : null;\n            var newMapping = Object.assign({}, mappings);\n            newMapping['index'] = index;\n            _this.setState({\n                editMapping: newMapping,\n                addMapping: null\n            });\n        };\n        /**\n         * change the edit mapping\n         */\n        _this.changeEditMapping = function (type, e) {\n            var target = e.currentTarget;\n            var value = target.value;\n            var curSetting = Object.assign({}, _this.state.editMapping || {});\n            if (type === 'field') {\n                curSetting.field = value;\n            }\n            else {\n                curSetting.question = value;\n            }\n            _this.setState({\n                editMapping: curSetting\n            });\n        };\n        /**\n         * change an field/question mapping\n         */\n        _this.editMapping = function (index) {\n            var mapping = [].concat(_this.props.config.fieldQuestionMapping || []);\n            var curEditMapping = _this.state.editMapping || {};\n            if (index >= 0 && index < mapping.length) {\n                mapping[index] = {\n                    field: curEditMapping.field,\n                    question: curEditMapping.question\n                };\n            }\n            // delete mapping[field];\n            _this.props.onSettingChange({\n                id: _this.props.id,\n                config: _this.props.config.set('fieldQuestionMapping', mapping)\n            });\n        };\n        /**\n         * add connection for field and question\n         */\n        _this.activeAddFieldQuestionConnPanel = function () {\n            _this.setState({\n                addMapping: {\n                    field: null,\n                    question: null\n                },\n                editMapping: null\n            });\n        };\n        /**\n         * hide the field-question panel\n         */\n        _this.deactiveAddFieldQuestionConnPanel = function () {\n            _this.setState({\n                addMapping: null\n            });\n        };\n        _this.deleteConnection = function (index, e) {\n            if (e) {\n                e.stopPropagation();\n            }\n            var mapping = [].concat(_this.props.config.fieldQuestionMapping || []);\n            if (index >= 0 && index < mapping.length) {\n                mapping.splice(index, 1);\n            }\n            // delete mapping[field];\n            _this.props.onSettingChange({\n                id: _this.props.id,\n                config: _this.props.config.set('fieldQuestionMapping', mapping)\n            });\n        };\n        /**\n         * add a field-question mapping\n         */\n        _this.addFieldQuestionConn = function (e) {\n            var field = _this.state.addMapping.field;\n            var question = _this.state.addMapping.question;\n            if (!field || !question) {\n                console.log('Please ensure field/question is not null.');\n                return;\n            }\n            var mapping = [].concat(_this.props.config.fieldQuestionMapping || []);\n            mapping.push({\n                field: field,\n                question: question\n            });\n            // mapping[field] = question;\n            _this.props.onSettingChange({\n                id: _this.props.id,\n                config: _this.props.config.set('fieldQuestionMapping', mapping)\n            });\n            _this.deactiveAddFieldQuestionConnPanel();\n        };\n        /**\n         * on survey question field changed\n         */\n        _this.onSurveyQuestionFieldChanged = function (e) {\n            var target = e.currentTarget;\n            var value = target.value;\n            /**\n             * update fields in data source\n             */\n            if (value && value !== 'null') {\n                _this.props.onSettingChange({\n                    id: _this.props.id,\n                    config: _this.props.config.set('selectedSurveyQuestionFields', [value]),\n                });\n            }\n        };\n        /**\n         * isDsConfigured\n         */\n        _this.isDsConfigured = function () {\n            if (_this.props.useDataSources &&\n                _this.props.useDataSources.length === 1) {\n                return true;\n            }\n            return false;\n        };\n        /**\n         * reset survey\n         */\n        _this.resetSurvey = function () {\n            /**\n             * reset survey item id\n             */\n            _this.props.onSettingChange({\n                id: _this.props.id,\n                config: _this.props.config.set('surveyItemId', null).set('hides', [])\n                    .set('embeds', ['fullScreen', 'onSubmitted'])\n                    //.set('embeds', ['fullScreen'])\n                    .set('selectedSurveyQuestionFields', [])\n                    .set('fieldQuestionMapping', [])\n                    .set('activeLinkData', false)\n                    .set('dsType', null).set('selectedSurvey', null)\n            });\n            _this.setState({\n                mode: 'survey-createSurvey',\n                selectedSurvey: null,\n                isCheckedSurveyItemId: false,\n                surveyQuestionFields: [],\n                dsMapView: null,\n                dsFeatureLayer: null,\n                dsFeatureLayerFields: []\n            });\n        };\n        /**\n         * query existing survey\n         */\n        _this.querySurvey();\n        _this.addDesigerHandler();\n        return _this;\n    }\n    /**\n     * show survey123 designer modal\n     */\n    Setting.prototype.showSurvey123DesignerModal = function (surveyItemId) {\n        surveyItemId = surveyItemId || this.props.config.surveyItemId;\n        var sessionManager = jimu_core_1.SessionManager.getInstance();\n        var portalUrl = this.props.config.portalUrl || this.props.portalUrl;\n        if (!surveyItemId) {\n            throw new Error('cannot get survey item id to open survey123 designer');\n        }\n        /**\n         * popup window and embed survey123 designer\n         */\n        var url = survey123_service_1.survey123Service.getSurvey123DesignerUrl(surveyItemId, {\n            portalUrl: portalUrl\n        });\n        /**\n         * we need to add access_token / username / expires_in in hash\n         * to tell survey123 website to parse the hash to use the token\n         */\n        var session = sessionManager.getMainSession();\n        if (session && session.token && session.username && session.tokenDuration) {\n            url += \"#access_token=\" + session.token + \"&username=\" + session.username + \"&expires_in=\" + session.tokenDuration;\n        }\n        /**\n         * show modal\n         */\n        this.setState({\n            modalIsOpen: true,\n            newSurveyMsg: null\n        });\n        /**\n         * cannot use window.open because address bar will be shown.\n         * try to use modal and iframe to show survey123 designer webpage\n         */\n        var self = this;\n        var index = 0;\n        var checkTimer = setInterval(function () {\n            if (!self.state.modalIsOpen) {\n                self.setState({\n                    modalIsOpen: true\n                });\n            }\n            index++;\n            var target = document.getElementById('survey123-designer');\n            if (target || index > 100) {\n                clearInterval(checkTimer);\n                target.src = url;\n            }\n        }, 50);\n        // setTimeout(() => {\n        //   let target: any = document.getElementById('survey123-designer');\n        //   target.src = url;\n        // }, 200);\n    };\n    /**\n     * render\n     */\n    Setting.prototype.render = function () {\n        var _this = this;\n        // let defaultValue = this.props.config.defaultValue;\n        // const usedFieldName = this.props.useDataSources && this.props.useDataSources[0] &&\n        //   this.props.useDataSources[0].fields && this.props.useDataSources[0].fields[0];\n        // const selectedSurveyQuestionField = this.props.config.selectedSurveyQuestionFields && this.props.config.selectedSurveyQuestionFields[0];\n        /**\n         * show setting page\n         */\n        if (this.state.selectedSurvey && this.props.config.surveyItemId && this.state.isCheckedSurveyItemId === false) {\n            this.setState({\n                isCheckedSurveyItemId: true\n            });\n            this.showSettingPage();\n        }\n        /**\n         * render\n         */\n        return jimu_core_1.jsx(\"div\", { css: style_1.getStyle(this.props.theme), className: \"jimu-widget-setting survey123\" },\n            jimu_core_1.jsx(\"div\", { className: \"survey123__section\", style: (this.state.mode.indexOf('survey-') !== -1) ?\n                    { display: 'block' }\n                    : { display: 'none' } },\n                jimu_core_1.jsx(setting_components_1.SettingSection, null,\n                    jimu_core_1.jsx(setting_components_1.SettingRow, null,\n                        jimu_core_1.jsx(\"p\", null, this.props.intl.formatMessage({ id: 'chooseSurvey', defaultMessage: default_1.default.chooseSurvey }))),\n                    jimu_core_1.jsx(setting_components_1.SettingRow, null,\n                        jimu_core_1.jsx(jimu_ui_1.Radio, { name: \"survey-survey\", className: \"cursor-pointer\", id: \"survey-survey-createNewSurvey\", checked: this.state.mode === 'survey-createSurvey', onChange: function () { _this.setState({ mode: 'survey-createSurvey' }); } }),\n                        jimu_core_1.jsx(jimu_ui_1.Label, { for: \"survey-survey-createNewSurvey\", className: \"cursor-pointer\" },\n                            \"\\u00A0\\u00A0\",\n                            this.props.intl.formatMessage({ id: 'createNewSurveyLabel', defaultMessage: default_1.default.createNewSurveyLabel }))),\n                    jimu_core_1.jsx(setting_components_1.SettingRow, null,\n                        jimu_core_1.jsx(jimu_ui_1.Radio, { name: \"survey-survey\", className: \"cursor-pointer\", id: \"survey-survey-chooseExistingSurvey\", checked: this.state.mode === 'survey-selectExistingSurvey', onChange: function () { _this.setState({ mode: 'survey-selectExistingSurvey' }); } }),\n                        jimu_core_1.jsx(jimu_ui_1.Label, { for: \"survey-survey-chooseExistingSurvey\", className: \"cursor-pointer\" },\n                            \"\\u00A0\\u00A0\",\n                            this.props.intl.formatMessage({ id: 'chooseSurveyLabel', defaultMessage: default_1.default.chooseSurveyLabel })))),\n                jimu_core_1.jsx(\"div\", { className: \"survey123__section-selectExistingSurvey\", style: (this.state.mode === 'survey-selectExistingSurvey') ?\n                        { display: 'block' }\n                        : { display: 'none' } },\n                    jimu_core_1.jsx(setting_components_1.SettingSection, { className: \"select-survey-section\" },\n                        jimu_core_1.jsx(setting_components_1.SettingRow, null,\n                            jimu_core_1.jsx(jimu_ui_1.Select, { onChange: this.onExistSurveyChanged, disabled: this.state.existSurveys.length === 0, value: (this.state.selectedSurvey) ? this.state.selectedSurvey.id : 'null', style: { width: '100%', padding: '2px 5px' } },\n                                jimu_core_1.jsx(\"option\", { value: \"null\" }, this.props.intl.formatMessage({ id: 'selectSurveyTip', defaultMessage: default_1.default.selectSurveyTip })),\n                                (this.state.existSurveys.length > 0) ?\n                                    this.state.existSurveys.map(function (survey) {\n                                        return jimu_core_1.jsx(\"option\", { value: survey.id, key: survey.id }, survey.title);\n                                    })\n                                    : '')),\n                        jimu_core_1.jsx(\"div\", { className: \"survey-list-msg\", dangerouslySetInnerHTML: { __html: this.state.existSurveyMsg } })),\n                    jimu_core_1.jsx(\"div\", { style: {\n                            display: (this.state.selectedSurvey) ? 'block' : 'none'\n                        } },\n                        jimu_core_1.jsx(setting_components_1.SettingSection, { title: this.nls('surveyDetailLabel'), className: \"create-survey-container\" }, (this.state.selectedSurvey) ?\n                            [\n                                jimu_core_1.jsx(setting_components_1.SettingRow, { key: \"surveyThumnail\" },\n                                    jimu_core_1.jsx(\"img\", { src: this.getThumbnailUrl(), style: { width: '100%', height: 'auto' } })),\n                                jimu_core_1.jsx(setting_components_1.SettingRow, { key: \"surveyTitle\" },\n                                    jimu_core_1.jsx(\"span\", { style: { wordBreak: 'break-word', fontSize: '0.8125rem', color: '#FFFFFF' } }, this.state.selectedSurvey.title)),\n                                // <SettingRow label=\"Tags\"><p className=\"w-100\">{this.state.selectedSurvey.tags}</p></SettingRow>,\n                                // <SettingRow>{this.state.selectedSurvey.owner}</SettingRow>,\n                                this.state.selectedSurvey.snippet ?\n                                    jimu_core_1.jsx(setting_components_1.SettingRow, { className: \"items\", key: \"surveySnippet\" },\n                                        jimu_core_1.jsx(\"h6\", null, this.nls('summaryLabel')),\n                                        jimu_core_1.jsx(\"div\", { className: \"w-100\" }, this.state.selectedSurvey.snippet))\n                                    :\n                                        null,\n                                jimu_core_1.jsx(setting_components_1.SettingRow, { key: \"surveyInsertBtn\" },\n                                    jimu_core_1.jsx(jimu_ui_1.Button, { type: \"primary\", className: \"w-100\", onClick: this.setSurveyItemId }, this.props.intl.formatMessage({ id: 'insertLabel', defaultMessage: default_1.default.insertLabel })))\n                            ] :\n                            null))),\n                jimu_core_1.jsx(\"div\", { className: \"survey123__section-createSurvey\", style: (this.state.mode === 'survey-createSurvey') ?\n                        { display: 'block' }\n                        : { display: 'none' } },\n                    jimu_core_1.jsx(setting_components_1.SettingSection, null,\n                        jimu_core_1.jsx(\"div\", { className: \"w-100 d-flex flex-wrap align-items-center justify-content-between setting-header setting-title pb-2\" },\n                            jimu_core_1.jsx(\"div\", null,\n                                this.nls('surveyTitleLabel'),\n                                jimu_core_1.jsx(\"span\", { className: \"isRequired\" }, \"*\")),\n                            jimu_core_1.jsx(jimu_ui_1.TextInput, { className: \"w-100\", value: this.state.newSurveyTitle || '', name: \"newSurveyTitle\", onChange: this.onNewSurveyValueChanged }),\n                            !this.state.newSurveyTitle && this.state.newSurveyTitleDirty ?\n                                jimu_core_1.jsx(\"div\", { className: \"error-message\" }, this.props.intl.formatMessage({ id: 'surveyTitleRequiredMsg', defaultMessage: default_1.default.surveyTitleRequiredMsg }))\n                                :\n                                    '',\n                            this.state.createSurveyErrorMsg && !this.state.newSurveyTitleDirty ?\n                                jimu_core_1.jsx(\"div\", { className: \"error-message\" }, this.props.intl.formatMessage({ id: 'surveyTitleDuplicateMsg', defaultMessage: default_1.default.surveyTitleDuplicateMsg }))\n                                :\n                                    ''),\n                        jimu_core_1.jsx(\"div\", { className: \"w-100 d-flex flex-wrap align-items-center justify-content-between setting-header setting-title pb-2\" },\n                            jimu_core_1.jsx(\"div\", null,\n                                this.nls('surveyTagLabel'),\n                                jimu_core_1.jsx(\"span\", { className: \"isRequired\" }, \"*\")),\n                            jimu_core_1.jsx(jimu_ui_1.TextInput, { className: \"w-100\", value: this.state.newSurveyTags || '', name: \"newSurveyTags\", onChange: this.onNewSurveyValueChanged }),\n                            !this.state.newSurveyTags && this.state.newSurveyTagsDirty ?\n                                jimu_core_1.jsx(\"div\", { className: \"error-message\" }, this.props.intl.formatMessage({ id: 'surveyTagsRequiredMsg', defaultMessage: default_1.default.surveyTagsRequiredMsg }))\n                                :\n                                    ''),\n                        jimu_core_1.jsx(\"div\", { className: \"w-100 d-flex flex-wrap align-items-center justify-content-between setting-header setting-title pb-2\" },\n                            jimu_core_1.jsx(\"div\", null, this.nls('surveySummaryLabel')),\n                            jimu_core_1.jsx(jimu_ui_1.TextInput, { className: \"w-100\", value: this.state.newSurveySnippet || '', name: \"newSurveySnippet\", onChange: this.onNewSurveyValueChanged })),\n                        jimu_core_1.jsx(setting_components_1.SettingRow, { flow: \"wrap\" },\n                            jimu_core_1.jsx(jimu_ui_1.Button, { type: \"primary\", className: \"w-100\", disabled: this.state.newSurveyLoading === true, onClick: this.createSurvey }, this.props.intl.formatMessage({ id: 'createSurveyBtn', defaultMessage: default_1.default.createSurveyBtn })),\n                            jimu_core_1.jsx(\"span\", { style: {\n                                    color: '#ff0000',\n                                    marginTop: '10px'\n                                } }, this.state.newSurveyMsg),\n                            jimu_core_1.jsx(\"div\", { className: \"w-100\", style: {\n                                    position: 'relative',\n                                    display: 'block',\n                                    marginTop: '50px'\n                                } },\n                                jimu_core_1.jsx(\"div\", { className: \"jimu-secondary-loading\", style: (this.state.newSurveyLoading === true) ? { display: 'block' } : { display: 'none' } })))))),\n            jimu_core_1.jsx(\"div\", { className: \"survey123__section\", style: (this.state.mode.indexOf('settings') !== -1) ?\n                    { display: 'block' }\n                    : { display: 'none' } },\n                jimu_core_1.jsx(setting_components_1.SettingSection, null,\n                    jimu_core_1.jsx(setting_components_1.SettingRow, null,\n                        jimu_core_1.jsx(\"div\", { className: \"section-title\" },\n                            jimu_core_1.jsx(\"h6\", null, (this.state.selectedSurvey) ? this.state.selectedSurvey.title : ''),\n                            jimu_core_1.jsx(jimu_ui_1.Button, { className: \"survey123__section-resetSurvey\", onClick: function () { return _this.setState({ mode: 'confirmResetSurvey' }); } },\n                                jimu_core_1.jsx(jimu_ui_1.Icon, { size: \"8\", icon: this.iconRefresh })))),\n                    jimu_core_1.jsx(setting_components_1.SettingRow, null,\n                        jimu_core_1.jsx(jimu_ui_1.Button, { className: \"w-100\", color: \"primary\", type: \"primary\", onClick: this.editSurvey }, this.props.intl.formatMessage({ id: 'editSurveyBtn', defaultMessage: default_1.default.editSurveyBtn })))),\n                jimu_core_1.jsx(setting_components_1.SettingSection, { title: this.nls('appearanceTitle') },\n                    jimu_core_1.jsx(setting_components_1.SettingRow, null,\n                        jimu_core_1.jsx(\"div\", { className: \"appearance\" },\n                            jimu_core_1.jsx(\"span\", null, this.props.intl.formatMessage({ id: 'showOptionsBarLabel', defaultMessage: default_1.default.showOptionsBarLabel })),\n                            jimu_core_1.jsx(jimu_ui_1.Switch, { className: \"can-x-switch\", checked: this.props.config.hides.indexOf('navbar') < 0, onChange: function (evt) { _this.setAppearance(evt.target.checked, 'navbar'); } }))),\n                    jimu_core_1.jsx(setting_components_1.SettingRow, null,\n                        jimu_core_1.jsx(\"div\", { className: \"appearance\" },\n                            jimu_core_1.jsx(\"span\", null, this.props.intl.formatMessage({ id: 'showOptionsHeaderLabel', defaultMessage: default_1.default.showOptionsHeaderLabel })),\n                            jimu_core_1.jsx(jimu_ui_1.Switch, { className: \"can-x-switch\", checked: this.props.config.hides.indexOf('header') < 0, onChange: function (evt) { _this.setAppearance(evt.target.checked, 'header'); } }))),\n                    jimu_core_1.jsx(setting_components_1.SettingRow, null,\n                        jimu_core_1.jsx(\"div\", { className: \"appearance\" },\n                            jimu_core_1.jsx(\"span\", null, this.props.intl.formatMessage({ id: 'showOptionsDesLabel', defaultMessage: default_1.default.showOptionsDesLabel })),\n                            jimu_core_1.jsx(jimu_ui_1.Switch, { className: \"can-x-switch\", checked: this.props.config.hides.indexOf('description') < 0, onChange: function (evt) { _this.setAppearance(evt.target.checked, 'description'); } }))),\n                    jimu_core_1.jsx(setting_components_1.SettingRow, null,\n                        jimu_core_1.jsx(\"div\", { className: \"appearance\" },\n                            jimu_core_1.jsx(\"span\", null, this.props.intl.formatMessage({ id: 'showOptionsFooterLabel', defaultMessage: default_1.default.showOptionsFooterLabel })),\n                            jimu_core_1.jsx(jimu_ui_1.Switch, { className: \"can-x-switch\", checked: this.props.config.hides.indexOf('footer') < 0, onChange: function (evt) { _this.setAppearance(evt.target.checked, 'footer'); } }))),\n                    jimu_core_1.jsx(setting_components_1.SettingRow, null,\n                        jimu_core_1.jsx(\"div\", { className: \"appearance\" },\n                            jimu_core_1.jsx(\"span\", null, this.props.intl.formatMessage({ id: 'useSurveyTheme', defaultMessage: default_1.default.useSurveyTheme })),\n                            jimu_core_1.jsx(jimu_ui_1.Switch, { className: \"can-x-switch\", checked: this.props.config.hides.indexOf('theme') < 0, onChange: function (evt) { _this.setAppearance(evt.target.checked, 'theme'); } })))),\n                jimu_core_1.jsx(setting_components_1.SettingSection, null,\n                    jimu_core_1.jsx(setting_components_1.SettingRow, null,\n                        jimu_core_1.jsx(\"div\", { className: \"section-title\" },\n                            jimu_core_1.jsx(\"h6\", null, this.nls('sendDataToSurveyTitle')),\n                            jimu_core_1.jsx(jimu_ui_1.Switch, { className: \"can-x-switch\", checked: this.props.config.activeLinkData, onChange: this.activeLinkDataChange }))),\n                    this.props.config.activeLinkData &&\n                        jimu_core_1.jsx(jimu_core_1.React.Fragment, null, this.state.mapWidgetList && this.state.mapWidgetList.length > 0 ?\n                            jimu_core_1.jsx(jimu_core_1.React.Fragment, null,\n                                jimu_core_1.jsx(setting_components_1.SettingRow, null,\n                                    jimu_core_1.jsx(\"span\", { className: \"w-100\" }, this.nls('sendDataToSurveyDesc'))),\n                                jimu_core_1.jsx(setting_components_1.SettingRow, null,\n                                    jimu_core_1.jsx(\"span\", null, this.nls('selectSourceWidget'))),\n                                jimu_core_1.jsx(\"div\", { className: \"setting-row\" },\n                                    jimu_core_1.jsx(setting_components_1.JimuMapViewSelector, { onSelect: this.onMapWidgetSelected, useMapWidgetIds: this.props.useMapWidgetIds })),\n                                jimu_core_1.jsx(setting_components_1.SettingRow, { className: \"fea-layer-outter\" },\n                                    jimu_core_1.jsx(setting_components_1.SettingRow, { className: \"use-feature-layer-setting\" },\n                                        jimu_core_1.jsx(\"span\", null, this.nls('selectSourceLayer'))),\n                                    jimu_core_1.jsx(\"div\", { className: \"feature-layer-dropdown\" },\n                                        jimu_core_1.jsx(setting_components_1.JimuLayerViewSelector, { onSelect: this.onDataSourceSelected, useMapWidgetIds: this.props.useMapWidgetIds, jimuLayerViewInfo: this.props.config && this.props.config.layerViewInfo }))),\n                                jimu_core_1.jsx(setting_components_1.SettingRow, null,\n                                    jimu_core_1.jsx(\"span\", { className: \"w-100\" }, this.nls('triggerEventDesc1'))),\n                                jimu_core_1.jsx(setting_components_1.SettingRow, null,\n                                    jimu_core_1.jsx(\"span\", null, this.nls('addConnTitle'))),\n                                (this.props.useMapWidgetIds && this.props.useMapWidgetIds.length && this.props.config && this.props.config.layerViewInfo && this.props.config.layerViewInfo.datasourceId) ?\n                                    jimu_core_1.jsx(jimu_core_1.React.Fragment, null,\n                                        (this.props.config.fieldQuestionMapping && this.props.config.fieldQuestionMapping.length > 0) ?\n                                            jimu_core_1.jsx(\"div\", null, this.props.config.fieldQuestionMapping.asMutable().map(function (mapping, index) {\n                                                var field = mapping.field;\n                                                var question = mapping.question;\n                                                return jimu_core_1.jsx(\"div\", { key: field + '_' + question + '_' + index, className: \"mapping-container\" }, _this.state.editMapping && _this.state.editMapping.index === index ?\n                                                    jimu_core_1.jsx(jimu_core_1.React.Fragment, null,\n                                                        jimu_core_1.jsx(jimu_ui_1.Select, { value: _this.state.editMapping.field || '', style: { marginBottom: '8px' }, onChange: function (e) { return _this.changeEditMapping('field', e); } }, _this.state.dsFeatureLayerFields.map(function (field) {\n                                                            return jimu_core_1.jsx(\"option\", { key: 'edit_' + field.name + '_' + index, value: field.name }, field.alias || field.name);\n                                                        })),\n                                                        jimu_core_1.jsx(jimu_ui_1.Select, { value: _this.state.editMapping.question || '', onChange: function (e) { return _this.changeEditMapping('question', e); } }, _this.state.surveyQuestionFields.length > 0 &&\n                                                            _this.state.surveyQuestionFields.map(function (question) {\n                                                                return jimu_core_1.jsx(\"option\", { key: 'edit_' + question.name + '_' + index, value: question.name }, question.label);\n                                                            })),\n                                                        jimu_core_1.jsx(\"div\", { className: \"btn-group\" },\n                                                            jimu_core_1.jsx(jimu_ui_1.Button, { className: \"float-left icon-remove-mapping\", type: \"primary\", color: \"primary\", onClick: function () { _this.deleteConnection(index); _this.setState({ editMapping: null }); } },\n                                                                jimu_core_1.jsx(jimu_ui_1.Icon, { size: \"16\", style: { marginLeft: '0', marginRight: '0' }, icon: _this.iconRemove })),\n                                                            jimu_core_1.jsx(jimu_ui_1.Button, { className: \"w-25 float-right\", type: \"secondary\", onClick: function () { _this.setState({ editMapping: null }); } }, _this.nls('cancel')),\n                                                            jimu_core_1.jsx(jimu_ui_1.Button, { className: \"w-25 float-right\", type: \"primary\", color: \"primary\", onClick: function () { _this.editMapping(index); _this.setState({ editMapping: null }); } }, _this.nls('ok'))))\n                                                    :\n                                                        jimu_core_1.jsx(jimu_core_1.React.Fragment, null,\n                                                            jimu_core_1.jsx(\"div\", { className: \"link-info\", onClick: function (e) { return _this.showEditMappingPanel(index, e); } },\n                                                                jimu_core_1.jsx(\"p\", null, _this.getFielAlias(field)),\n                                                                jimu_core_1.jsx(\"div\", { className: \"center-line\" },\n                                                                    jimu_core_1.jsx(\"div\", { className: \"connect\" },\n                                                                        jimu_core_1.jsx(jimu_ui_1.Icon, { size: \"16\", icon: _this.iconLink }))),\n                                                                jimu_core_1.jsx(\"p\", null, _this.getQuestionLabel(question)),\n                                                                jimu_core_1.jsx(\"div\", { className: \"delete-connect\", onClick: function (e) { return _this.deleteConnection(index, e); } },\n                                                                    jimu_core_1.jsx(jimu_ui_1.Icon, { size: \"12\", icon: _this.iconRemove })))));\n                                            })) : '',\n                                        this.state.addMapping && this.state.dsFeatureLayer && this.state.dsFeatureLayerFields && this.state.dsFeatureLayerFields.length > 0 &&\n                                            jimu_core_1.jsx(\"div\", { className: \"mapping-container\" },\n                                                jimu_core_1.jsx(jimu_ui_1.Select, { value: this.state.addMapping.field || 'null', style: { marginBottom: '8px' }, onChange: function (e) { return _this.addMapppingChange('field', e); } },\n                                                    jimu_core_1.jsx(\"option\", { key: 'add_field_default', value: \"null\" }, this.nls('addConnSelectField')),\n                                                    this.state.dsFeatureLayerFields.map(function (field) {\n                                                        return jimu_core_1.jsx(\"option\", { key: 'add_' + field.name, value: field.name }, field.alias || field.name);\n                                                    })),\n                                                jimu_core_1.jsx(jimu_ui_1.Select, { value: this.state.addMapping.question || 'null', onChange: function (e) { return _this.addMapppingChange('question', e); } },\n                                                    jimu_core_1.jsx(\"option\", { key: 'add_question_default', value: \"null\" }, this.nls('addConnSelectQuestion')),\n                                                    this.state.surveyQuestionFields.length > 0 &&\n                                                        this.state.surveyQuestionFields.map(function (question) {\n                                                            return jimu_core_1.jsx(\"option\", { key: 'add_' + question.name, value: question.name }, question.label);\n                                                        })),\n                                                jimu_core_1.jsx(\"div\", { className: \"btn-group\" },\n                                                    jimu_core_1.jsx(jimu_ui_1.Button, { className: \"w-25 float-right\", type: \"secondary\", onClick: this.deactiveAddFieldQuestionConnPanel }, this.nls('cancel')),\n                                                    jimu_core_1.jsx(jimu_ui_1.Button, { className: \"w-25 float-right\", type: \"primary\", disabled: !this.state.addMapping.field || this.state.addMapping.field === 'null' || !this.state.addMapping.question || this.state.addMapping.question === 'null', onClick: this.addFieldQuestionConn }, this.nls('ok'))))) : '',\n                                jimu_core_1.jsx(setting_components_1.SettingRow, null,\n                                    jimu_core_1.jsx(jimu_ui_1.Button, { className: \"w-100\", type: \"primary\", \n                                        // eslint-disable-next-line max-len\n                                        disabled: this.state.addMapping !== null || this.state.editMapping !== null || !(this.props.useMapWidgetIds && this.props.useMapWidgetIds.length && this.props.config && this.props.config.layerViewInfo && this.props.config.layerViewInfo.datasourceId), onClick: this.activeAddFieldQuestionConnPanel }, this.nls('addConnBtn')))) :\n                            jimu_core_1.jsx(setting_components_1.SettingRow, null,\n                                jimu_core_1.jsx(\"span\", null, this.nls('sendDataDisabled1')))))),\n            jimu_core_1.jsx(\"div\", { className: \"survey123__section\", style: (this.state.mode.indexOf('confirmResetSurvey') !== -1) ?\n                    { display: 'block' }\n                    : { display: 'none' } },\n                jimu_core_1.jsx(setting_components_1.SettingSection, { title: this.nls('resetSurveyLabel') },\n                    jimu_core_1.jsx(setting_components_1.SettingRow, null, this.props.intl.formatMessage({ id: 'resetSurveyTip', defaultMessage: default_1.default.resetSurveyTip })),\n                    this.props.intl.formatMessage({ id: 'confirmResetSurveyTip', defaultMessage: default_1.default.confirmResetSurveyTip }),\n                    jimu_core_1.jsx(setting_components_1.SettingRow, null),\n                    jimu_core_1.jsx(setting_components_1.SettingRow, null,\n                        jimu_core_1.jsx(jimu_ui_1.Button, { type: \"primary\", onClick: function () { return _this.resetSurvey(); } }, jimu_core_1.defaultMessages.yes),\n                        jimu_core_1.jsx(jimu_ui_1.Button, { onClick: function () { return _this.showSettingPage(); } }, jimu_core_1.defaultMessages.no)))),\n            jimu_core_1.jsx(jimu_ui_1.Modal, { isOpen: this.state.modalIsOpen, className: \"w-100 h-100 p-0 m-0\", css: jimu_core_1.css(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n          z-index: 100000;\\n          overflow: hidden;\\n          max-width: 100% !important;\\n          .modal-content{\\n            width: 100%;\\n            height: 100%;\\n          }\\n        \"], [\"\\n          z-index: 100000;\\n          overflow: hidden;\\n          max-width: 100% !important;\\n          .modal-content{\\n            width: 100%;\\n            height: 100%;\\n          }\\n        \"]))) },\n                jimu_core_1.jsx(\"div\", { style: {\n                        width: '100%',\n                        height: '80px',\n                        padding: '23px 60px 23px 30px',\n                        color: '#ffffff',\n                        backgroundColor: '#000000'\n                    } },\n                    jimu_core_1.jsx(\"p\", { style: {\n                            fontSize: '24px',\n                            marginBottom: 0,\n                            lineHeight: '33px'\n                        } }, this.props.intl.formatMessage({ id: 'editSurveyBtn', defaultMessage: default_1.default.editSurveyBtn })),\n                    jimu_core_1.jsx(\"button\", { color: \"primary\", onClick: this.handleCloseModal, style: {\n                            position: 'absolute',\n                            top: '28px',\n                            right: '30px',\n                            // fontSize: '30px',\n                            backgroundColor: '#000000',\n                            color: '#ffffff',\n                            border: '0px',\n                            cursor: 'pointer',\n                            padding: 0\n                        } },\n                        jimu_core_1.jsx(jimu_ui_1.Icon, { size: \"24\", icon: this.closeIcon24 }))),\n                jimu_core_1.jsx(\"iframe\", { id: \"survey123-designer\", width: \"100%\", style: {\n                        height: 'calc(100% - 90px)',\n                        width: '100%',\n                        border: '0px'\n                    } })));\n    };\n    return Setting;\n}(jimu_for_builder_1.BaseWidgetSetting));\nexports.default = Setting;\nvar templateObject_1;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi95b3VyLWV4dGVuc2lvbnMvd2lkZ2V0cy9zdXJ2ZXkvc3JjL3NldHRpbmcvc2V0dGluZy50c3guanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi95b3VyLWV4dGVuc2lvbnMvd2lkZ2V0cy9zdXJ2ZXkvc3JjL3NldHRpbmcvc2V0dGluZy50c3g/NDM1ZiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiogQGpzeCBqc3ggKi9cclxuaW1wb3J0IHsgUmVhY3QsIEltbXV0YWJsZSwgSU1GaWVsZFNjaGVtYSwgRGF0YVNvdXJjZSwgRGF0YVNvdXJjZU1hbmFnZXIsIGpzeCwgU2Vzc2lvbk1hbmFnZXIsIGRlZmF1bHRNZXNzYWdlcyBhcyBqaW11Q29yZURlZmF1bHRNZXNzYWdlcywgY3NzIH0gZnJvbSAnamltdS1jb3JlJztcclxuaW1wb3J0IHsgQmFzZVdpZGdldFNldHRpbmcsIEFsbFdpZGdldFNldHRpbmdQcm9wcywgYnVpbGRlckFwcFN5bmMgfSBmcm9tICdqaW11LWZvci1idWlsZGVyJztcclxuaW1wb3J0IHsgSmltdU1hcFZpZXdTZWxlY3RvciwgU2V0dGluZ1NlY3Rpb24sIFNldHRpbmdSb3csIEppbXVMYXllclZpZXdTZWxlY3RvciB9IGZyb20gJ2ppbXUtdWkvc2V0dGluZy1jb21wb25lbnRzJztcclxuaW1wb3J0IHsgQXJjR0lTRGF0YVNvdXJjZVR5cGVzLCBJTUppbXVMYXllclZpZXdJbmZvIH0gZnJvbSAnamltdS1hcmNnaXMnO1xyXG5pbXBvcnQgeyBCdXR0b24sIEljb24sIFRleHRJbnB1dCwgU2VsZWN0LCBSYWRpbywgU3dpdGNoLCBMYWJlbCwgTW9kYWwgfSBmcm9tICdqaW11LXVpJztcclxuaW1wb3J0IHsgU2VsZWN0ZWREYXRhU291cmNlSnNvbiB9IGZyb20gJ2ppbXUtdWkvZGF0YS1zb3VyY2Utc2VsZWN0b3InO1xyXG5pbXBvcnQgeyBJTUNvbmZpZyB9IGZyb20gJy4uL2NvbmZpZyc7XHJcbmltcG9ydCB7IHN1cnZleTEyM1NlcnZpY2UgfSBmcm9tICcuLi9zZXJ2aWNlL3N1cnZleTEyMy5zZXJ2aWNlJztcclxuaW1wb3J0IGRlZmF1bHRNZXNzYWdlcyBmcm9tICcuL3RyYW5zbGF0aW9ucy9kZWZhdWx0JztcclxuaW1wb3J0IHsgZ2V0U3R5bGUgfSBmcm9tICcuL2Nzcy9zdHlsZSc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTZXR0aW5nIGV4dGVuZHMgQmFzZVdpZGdldFNldHRpbmc8QWxsV2lkZ2V0U2V0dGluZ1Byb3BzPElNQ29uZmlnPiwgYW55PntcclxuICAvKipcclxuICAgKiBzdGF0ZSB2YXJpYWJsZVxyXG4gICAqL1xyXG4gIHN1cHBvcnRlZE1hcFR5cGVzID0gSW1tdXRhYmxlKFtBcmNHSVNEYXRhU291cmNlVHlwZXMuV2ViTWFwXSk7XHJcbiAgc3VwcG9ydGVkTGF5ZXJUeXBlcyA9IEltbXV0YWJsZShbQXJjR0lTRGF0YVNvdXJjZVR5cGVzLkZlYXR1cmVMYXllcl0pO1xyXG4gIGRzTWFuYWdlciA9IERhdGFTb3VyY2VNYW5hZ2VyLmdldEluc3RhbmNlKCk7XHJcbiAgcHVibGljIHN0YXRlOiBhbnkgPSB7XHJcbiAgICAvKipcclxuICAgICAqIHN1cnZleTEyM1xyXG4gICAgICovXHJcbiAgICBuZXdTdXJ2ZXlUaXRsZTogbnVsbCxcclxuICAgIG5ld1N1cnZleVRhZ3M6IG51bGwsXHJcbiAgICBuZXdTdXJ2ZXlUaXRsZURpcnR5OiBmYWxzZSxcclxuICAgIG5ld1N1cnZleVRhZ3NEaXJ0eTogZmFsc2UsXHJcbiAgICBuZXdTdXJ2ZXlTbmlwcGV0OiBudWxsLFxyXG4gICAgbmV3U3VydmV5SXRlbUlkOiBudWxsLFxyXG4gICAgLy8gbmV3U3VydmV5VGh1bWJuYWlsVXJsOiAnaHR0cHM6Ly9pbWFnZXMtZXUuc3NsLWltYWdlcy1hbWF6b24uY29tL2ltYWdlcy9JLzYxb3QzQ3g5OGFMLnBuZycsXHJcbiAgICBuZXdTdXJ2ZXlUaHVtYm5haWxVcmxzOiBbXHJcbiAgICAgICdodHRwczovL3N1cnZleTEyMy5hcmNnaXMuY29tL2Fzc2V0cy9pbWcvZGVmYXVsdC10aHVtYm5haWxzL0ltYWdlMDEucG5nJyxcclxuICAgICAgJ2h0dHBzOi8vc3VydmV5MTIzLmFyY2dpcy5jb20vYXNzZXRzL2ltZy9kZWZhdWx0LXRodW1ibmFpbHMvSW1hZ2UwMi5wbmcnLFxyXG4gICAgICAnaHR0cHM6Ly9zdXJ2ZXkxMjMuYXJjZ2lzLmNvbS9hc3NldHMvaW1nL2RlZmF1bHQtdGh1bWJuYWlscy9JbWFnZTAzLnBuZydcclxuICAgIF0sXHJcbiAgICBuZXdTdXJ2ZXlNc2c6IG51bGwsXHJcbiAgICBuZXdTdXJ2ZXlMb2FkaW5nOiBmYWxzZSxcclxuICAgIGV4aXN0U3VydmV5TXNnOiBudWxsLFxyXG4gICAgZXhpc3RTdXJ2ZXlzOiBbXSxcclxuICAgIHNlbGVjdGVkU3VydmV5OiBudWxsLFxyXG4gICAgbW9kYWxJc09wZW46IGZhbHNlLFxyXG4gICAgbW9kZTogJ25vbmUnLFxyXG4gICAgaXNDaGVja2VkU3VydmV5SXRlbUlkOiBmYWxzZSxcclxuICAgIGlzU2hvd1N1cnZleVF1ZXN0aW9uRmllbGQ6IGZhbHNlLFxyXG4gICAgc3VydmV5UXVlc3Rpb25GaWVsZHM6IFtdLFxyXG4gICAgc2VsZWN0ZWRRdWVzdGlvbkZpZWxkOiBudWxsLFxyXG4gICAgY3JlYXRlU3VydmV5RXJyb3JNc2c6IG51bGwsXHJcbiAgICBzdXJ2ZXlTdGF0dXNDb2RlOiAwLFxyXG4gICAgLyoqXHJcbiAgICAgKiBkYXRhIHNvdXJjZVxyXG4gICAgICovXHJcbiAgICBkc01hcFZpZXc6IG51bGwsXHJcbiAgICBkc0ZlYXR1cmVMYXllcjogbnVsbCxcclxuICAgIGRzRmVhdHVyZUxheWVyRmllbGRzOiBbXSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIGZpZWxkLXF1ZXN0aW9uIG1hcHBpbmdcclxuICAgICAqL1xyXG4gICAgbWFwV2lkZ2V0TGlzdDogW10sXHJcbiAgICBhZGRNYXBwaW5nOiBudWxsLFxyXG4gICAgZWRpdE1hcHBpbmc6IG51bGxcclxuICB9XHJcblxyXG4gIHB1YmxpYyBuZXdEZWZhdWx0VmFsdWU6IHtcclxuICAgIGtleTogc3RyaW5nO1xyXG4gICAgdmFsdWU6IHN0cmluZztcclxuICB9ID0ge1xyXG4gICAga2V5OiAnJyxcclxuICAgIHZhbHVlOiAnJ1xyXG4gIH07XHJcblxyXG4gIHB1YmxpYyBpY29uUmVmcmVzaCA9IHJlcXVpcmUoJ2ppbXUtdWkvbGliL2ljb25zL2Nsb3NlLnN2ZycpO1xyXG4gIHB1YmxpYyBjbG9zZUljb24yNCA9IHJlcXVpcmUoJ2ppbXUtdWkvbGliL2ljb25zL2Nsb3NlLTI0LnN2ZycpO1xyXG4gIHB1YmxpYyBpY29uTGluayA9IHJlcXVpcmUoJ2ppbXUtdWkvbGliL2ljb25zL2xpbmsuc3ZnJyk7XHJcbiAgcHVibGljIGljb25SZW1vdmUgPSByZXF1aXJlKCdqaW11LXVpL2xpYi9pY29ucy9kZWxldGUuc3ZnJyk7XHJcbiAgLy8gcHJpdmF0ZSBfc3VydmV5MTIzSG9zdFVybDogc3RyaW5nID0gc3VydmV5MTIzU2VydmljZS5nZXRTdXJ2ZXkxMjNIb3N0VXJsKCk7XHJcbiAgLy8gcHJpdmF0ZSBfZHNNYW5hZ2VyID0gRGF0YVNvdXJjZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcclxuXHJcbiAgLyoqXHJcbiAgICogY29uc3RydWN0b3JcclxuICAgKiBAcGFyYW0gcHJvcHNcclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihwcm9wczogYW55KSB7XHJcbiAgICBzdXBlcihwcm9wcyk7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBxdWVyeSBleGlzdGluZyBzdXJ2ZXlcclxuICAgICAqL1xyXG4gICAgdGhpcy5xdWVyeVN1cnZleSgpO1xyXG4gICAgdGhpcy5hZGREZXNpZ2VySGFuZGxlcigpO1xyXG4gIH1cclxuXHJcbiAgLy8gc2V0IHN0YXRlOiBkc0ZlYXR1cmVMYXllciBhZnRlciBsb2FkZWQgaWYgdGhlIGRhdGFTb3VyY2VJZCBleGlzdFxyXG4gIGNvbXBvbmVudERpZE1vdW50ID0gKCkgPT4ge1xyXG4gICAgY29uc3QgdXNlRGF0YVNvdXJjZXMgPSB0aGlzLnByb3BzLnVzZURhdGFTb3VyY2VzO1xyXG4gICAgY29uc3QgZGF0YVNvdXJjZUlkID0gKHVzZURhdGFTb3VyY2VzICYmIHVzZURhdGFTb3VyY2VzLmxlbmd0aCkgPyB1c2VEYXRhU291cmNlc1swXS5kYXRhU291cmNlSWQgOiBudWxsO1xyXG4gICAgaWYgKGRhdGFTb3VyY2VJZCkge1xyXG4gICAgICBjb25zdCBkYXRhU291cmNlOiBhbnkgPSB0aGlzLmRzTWFuYWdlci5nZXREYXRhU291cmNlKGRhdGFTb3VyY2VJZCk7XHJcbiAgICAgIGNvbnN0IGxheWVyID0gZGF0YVNvdXJjZSA/IGRhdGFTb3VyY2UubGF5ZXIgOiBudWxsO1xyXG4gICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICBkc0ZlYXR1cmVMYXllcjogbGF5ZXIsXHJcbiAgICAgICAgZHNGZWF0dXJlTGF5ZXJGaWVsZHM6IHRoaXMuZ2V0TGF5ZXJGaWVsZHMobGF5ZXIpXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0TGF5ZXJGaWVsZHMgPSAobGF5ZXIpID0+IHtcclxuICAgIGlmICghbGF5ZXIpIHtcclxuICAgICAgcmV0dXJuIFtdO1xyXG4gICAgfVxyXG4gICAgLy8gY2xvbmUgdGhlIGxheWVyLmZpZWxkc1xyXG4gICAgY29uc3QgZmllbGRzID0gT2JqZWN0LmFzc2lnbih7fSwge2ZpZWxkczogbGF5ZXIuZmllbGRzfSkuZmllbGRzO1xyXG4gICAgaWYgKGxheWVyLnR5cGUgIT09ICdmZWF0dXJlJykge1xyXG4gICAgICAvLyB0YWJsZSBvciBvdGhlciB0eXBlIChoYXMgbm8gZ2VvbWV0cnkpXHJcbiAgICAgIHJldHVybiBmaWVsZHM7XHJcbiAgICB9XHJcbiAgICBjb25zdCBleGlzdEdlb0ZpZWxkID0gKGZpZWxkcyB8fCBbXSkuZmluZCgoaXRlbSkgPT4ge1xyXG4gICAgICByZXR1cm4gaXRlbS5uYW1lID09PSAnZ2VvbWV0cnknO1xyXG4gICAgfSk7XHJcbiAgICBpZiAoZXhpc3RHZW9GaWVsZCkge1xyXG4gICAgICByZXR1cm4gZmllbGRzO1xyXG4gICAgfVxyXG4gICAgY29uc3QgdHlwZSA9IGxheWVyLmdlb21ldHJ5VHlwZTtcclxuICAgIGNvbnN0IGdlb21ldHJ5VHlwZVN0ciA9IHRoaXMubmxzKCdnZW9tZXRyeVR5cGUnICsgdHlwZS5zdWJzdHIoMCwgMSkudG9VcHBlckNhc2UoKSArIHR5cGUuc3Vic3RyKDEpKTtcclxuXHJcbiAgICBmaWVsZHMucHVzaCh7XHJcbiAgICAgIGFsaWFzOiBgJHt0aGlzLm5scygnZ2VvbWV0cnlMYWJlbCcpfSgke2dlb21ldHJ5VHlwZVN0cn0pYCxcclxuICAgICAgbmFtZTogJ2dlb21ldHJ5J1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gZmllbGRzO1xyXG4gIH1cclxuXHJcblxyXG4gIC8qKlxyXG4gICAqIG9uIHNldHRpbmcgdmFsdWUgY2hhbmdlZFxyXG4gICAqL1xyXG4gIG9uVmFsdWVDaGFuZ2VkID0gKGV2dDogUmVhY3QuRm9ybUV2ZW50PEhUTUxJbnB1dEVsZW1lbnQ+KSA9PiB7XHJcbiAgICBjb25zdCB0YXJnZXQgPSBldnQuY3VycmVudFRhcmdldDtcclxuXHJcbiAgICB0aGlzLnByb3BzLm9uU2V0dGluZ0NoYW5nZSh7XHJcbiAgICAgIGlkOiB0aGlzLnByb3BzLmlkLFxyXG4gICAgICBjb25maWc6IHRoaXMucHJvcHMuY29uZmlnLnNldCh0YXJnZXQubmFtZSwgdGFyZ2V0LnZhbHVlKVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBubHMgPSAoaWQ6IHN0cmluZykgPT4ge1xyXG4gICAgcmV0dXJuIHRoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQ6IGlkLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzW2lkXSB9KTtcclxuICB9XHJcbiAgLyoqXHJcbiAgICogYWRkIGRlZmF1bHQgdmFsdWVcclxuICAgKi9cclxuICBhZGREZWZhdWx0VmFsdWUgPSAoZXZ0OiBhbnkpID0+IHtcclxuICAgIGlmICh0aGlzLm5ld0RlZmF1bHRWYWx1ZS5rZXkgJiYgdGhpcy5uZXdEZWZhdWx0VmFsdWUudmFsdWUpIHtcclxuICAgICAgLy8gdGhpcy5wcm9wcy5jb25maWcuZGVmYXVsdFZhbHVlW3RoaXMubmV3RGVmYXVsdFZhbHVlLmtleV0gPSB0aGlzLm5ld0RlZmF1bHRWYWx1ZS52YWx1ZTtcclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBjbGVhciBuZXdEZWZhdWx0VmFsdWUga2V5IC8gdmFsdWVcclxuICAgICAgICovXHJcbiAgICAgIHRoaXMubmV3RGVmYXVsdFZhbHVlID0ge1xyXG4gICAgICAgIGtleTogJycsXHJcbiAgICAgICAgdmFsdWU6ICcnXHJcbiAgICAgIH07XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBcclxuICAvKipcclxuICAgKiBsaXN0ZW4gdG8gdGhlIGRlc2luZ2VyIGlmcmFtZVxyXG4gICAqL1xyXG4gIGFkZERlc2lnZXJIYW5kbGVyID0gKCkgPT4ge1xyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCAoZXZ0KSA9PiB7XHJcbiAgICAgIGlmIChldnQuZGF0YSkge1xyXG4gICAgICAgIGxldCBkYXRhID0gZXZ0LmRhdGE7XHJcbiAgICAgICAgLy8gaWYgdGhlIHdpbmRvdyBnZXQgdGhlIG1lc3NhZ2UgZnJvbSBvdGhlciBpZnJhbWUsIG1heWJlIGl0IGNhbm5vdCBiZSBjb252ZXJ0ZWQgdG8gb2JqZWN0XHJcbiAgICAgICAgLy8gV2UgY2FuIG9ubHkgc3VyZSB0aGUgbWVzc2FnZSBmcm9tIHdlYmZvcm0gY2FuIGJlIGNvbnZlcnRlZCB0byBvYmplY3RcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgaWYgKHR5cGVvZiBldnQuZGF0YSA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgZGF0YSA9IEpTT04ucGFyc2UoZXZ0LmRhdGEpIHx8IHt9O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgIC8vIGRvbid0IHNob3cgdGhlIGVycm9yXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChkYXRhLmV2ZW50ID09PSAnc3VydmV5MTIzOmRlc2lnbjpvbkZvcm1QdWJsaXNoZWQnICYmIGRhdGEuZGF0YSkge1xyXG4gICAgICAgICAgbGV0IHN1cnZleVN0YXR1c0NvZGUgPSB0aGlzLnN0YXRlLnN1cnZleVN0YXR1c0NvZGUgfHwgMDtcclxuICAgICAgICAgIHN1cnZleVN0YXR1c0NvZGUgKys7XHJcbiAgICAgICAgICBidWlsZGVyQXBwU3luYy5wdWJsaXNoQ2hhbmdlV2lkZ2V0U3RhdGVQcm9wVG9BcHAoe3dpZGdldElkOiB0aGlzLnByb3BzLmlkLCBwcm9wS2V5OiAnc3VydmV5U3RhdHVzQ29kZScsIHZhbHVlOiBzdXJ2ZXlTdGF0dXNDb2RlfSk7XHJcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgc3VydmV5U3RhdHVzQ29kZTogc3VydmV5U3RhdHVzQ29kZVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICB0aGlzLmhhbmRsZUNsb3NlTW9kYWwoKTtcclxuICAgICAgICB9IGVsc2UgaWYgKGRhdGEuZXZlbnQgPT09ICdzdXJ2ZXkxMjM6ZGVzaWduOm9uRm9ybVVuc2F2ZWQnICYmIGRhdGEuZGF0YSkge1xyXG4gICAgICAgICAgLy8gdG9kbzogZm9yICM0MDgsIG5lZWQgc3VydmV5IGRlc2luZ2VyIHRvIHRyaWdnZXIgdGhpcyBldmVudFxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuXHJcbiAgLyoqXHJcbiAgICogZ2V0IGZpZWxkIGFsaWFzIGJ5IGZpbGQgbmFtZVxyXG4gICAqL1xyXG4gIGdldEZpZWxBbGlhcyA9IChmaWVsZCkgPT4ge1xyXG4gICAgY29uc3QgZmllbGRzID0gdGhpcy5zdGF0ZS5kc0ZlYXR1cmVMYXllckZpZWxkcyB8fCBbXTtcclxuICAgIGNvbnN0IHRhcmdldCA9IGZpZWxkcy5maW5kKChpdGVtKSA9PiB7XHJcbiAgICAgIHJldHVybiBpdGVtLm5hbWUgPT09IGZpZWxkO1xyXG4gICAgfSk7XHJcbiAgICBpZiAodGFyZ2V0KSB7XHJcbiAgICAgIHJldHVybiB0YXJnZXQuYWxpYXMgfHwgdGFyZ2V0Lm5hbWU7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZmllbGQ7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBnZXQgcXVlc3Rpb24gbGFiZWwgYnkgcXVlc3Rpb24gbmFtZVxyXG4gICAqL1xyXG4gIGdldFF1ZXN0aW9uTGFiZWwgPSAocXVlc3Rpb25OYW1lKSA9PiB7XHJcbiAgICBjb25zdCBxdWVzdGlvbnMgPSB0aGlzLnN0YXRlLnN1cnZleVF1ZXN0aW9uRmllbGRzIHx8IFtdO1xyXG4gICAgY29uc3QgdGFyZ2V0ID0gcXVlc3Rpb25zLmZpbmQoKGl0ZW0pID0+IHtcclxuICAgICAgcmV0dXJuIGl0ZW0ubmFtZSA9PT0gcXVlc3Rpb25OYW1lO1xyXG4gICAgfSk7XHJcbiAgICBpZiAodGFyZ2V0KSB7XHJcbiAgICAgIHJldHVybiB0YXJnZXQubGFiZWwgfHwgdGFyZ2V0Lm5hbWU7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcXVlc3Rpb25OYW1lO1xyXG4gIH1cclxuXHJcblxyXG5cclxuXHJcbiAgLyoqXHJcbiAgICogb24gbmV3IHN1cnZleSB2YWx1ZSBjaGFuZ2VkXHJcbiAgICovXHJcbiAgb25OZXdTdXJ2ZXlWYWx1ZUNoYW5nZWQgPSAoZTogUmVhY3QuRm9ybUV2ZW50PEhUTUxJbnB1dEVsZW1lbnQ+KSA9PiB7XHJcbiAgICBjb25zdCB0YXJnZXQgPSBlLmN1cnJlbnRUYXJnZXQ7XHJcblxyXG4gICAgaWYgKHRhcmdldC5uYW1lKSB7XHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgIFt0YXJnZXQubmFtZV06IHRhcmdldC52YWx1ZVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICAgIGlmICh0YXJnZXQubmFtZSA9PT0gJ25ld1N1cnZleVRhZ3MnKSB7XHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgIG5ld1N1cnZleVRhZ3NEaXJ0eTogdHJ1ZVxyXG4gICAgICB9KTtcclxuICAgIH0gaWYgKHRhcmdldC5uYW1lID09PSAnbmV3U3VydmV5VGl0bGUnKSB7XHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgIG5ld1N1cnZleVRpdGxlRGlydHk6IHRydWVcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBvbkV4aXN0U3VydmV5Q2hhbmdlZFxyXG4gICAqL1xyXG4gIG9uRXhpc3RTdXJ2ZXlDaGFuZ2VkID0gKGU6IFJlYWN0LkNoYW5nZUV2ZW50PEhUTUxJbnB1dEVsZW1lbnQ+KSA9PiB7XHJcbiAgICBjb25zdCB0YXJnZXQgPSBlLmN1cnJlbnRUYXJnZXQ7XHJcblxyXG4gICAgaWYgKHRhcmdldC52YWx1ZSAmJiB0YXJnZXQudmFsdWUgIT09ICdudWxsJykge1xyXG4gICAgICAvKipcclxuICAgICAgICogdXBkYXRlIHNlbGVjdGVkIHN1cnZleVxyXG4gICAgICAgKi9cclxuICAgICAgY29uc3Qgc2VsZWN0ZWRTdXJ2ZXkgPSB0aGlzLnN0YXRlLmV4aXN0U3VydmV5cy5maW5kKChzdXJ2ZXkpID0+IHN1cnZleS5pZCA9PT0gdGFyZ2V0LnZhbHVlKTtcclxuICAgICAgdGhpcy51cGRhdGVNYXBXaWRnZXRMaXN0KCk7XHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgIHNlbGVjdGVkU3VydmV5OiBzZWxlY3RlZFN1cnZleVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIGNyZWF0ZSBzdXJ2ZXlcclxuICAgKi9cclxuICBjcmVhdGVTdXJ2ZXkgPSAoKSA9PiB7XHJcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRydWUpXHJcbiAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBoYW5kbGUgdGl0bGUsIHRhZ3MsIGRlc2NyaXB0aW9uXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgY29uc3QgdGl0bGUgPSB0aGlzLnN0YXRlLm5ld1N1cnZleVRpdGxlO1xyXG4gICAgICAgIGNvbnN0IHRhZ3MgPSAodGhpcy5zdGF0ZS5uZXdTdXJ2ZXlUYWdzIHx8ICcnKS5zcGxpdCgnLCcpLm1hcCgodGFnKSA9PiB0YWcudHJpbSgpKTtcclxuICAgICAgICBjb25zdCBzbmlwcGV0ID0gdGhpcy5zdGF0ZS5uZXdTdXJ2ZXlTbmlwcGV0O1xyXG4gICAgICAgIGlmICghdGl0bGUpIHtcclxuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBuZXdTdXJ2ZXlUaXRsZURpcnR5OiB0cnVlXHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghdGhpcy5zdGF0ZS5uZXdTdXJ2ZXlUYWdzKSB7XHJcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgbmV3U3VydmV5VGFnc0RpcnR5OiB0cnVlXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghdGl0bGUgfHwgIXRhZ3MgfHwgIXRhZ3MubGVuZ3RoKSB7XHJcbiAgICAgICAgICAvLyB0aHJvdyBuZXcgRXJyb3IoJ21pc3NpbmcgdGl0bGUgb3IgdGFncycpO1xyXG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCcnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIHVwZGF0ZSBtc2dcclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgIG5ld1N1cnZleU1zZzogJycsXHJcbiAgICAgICAgICBuZXdTdXJ2ZXlMb2FkaW5nOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgY29uc3QgcmFuZG9tSWR4ID0gcGFyc2VJbnQoTWF0aC5yYW5kb20oKSAqIDEwICsgJycpICUgMztcclxuICAgICAgICBjb25zdCB0aHVtYm5haWwgPSB0aGlzLnN0YXRlLm5ld1N1cnZleVRodW1ibmFpbFVybHNbcmFuZG9tSWR4XTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHN1cnZleTEyM1NlcnZpY2UuY3JlYXRlU3VydmV5KHRpdGxlLCB0YWdzLCB7XHJcbiAgICAgICAgICB0b2tlbjogdGhpcy5wcm9wcy50b2tlbixcclxuICAgICAgICAgIHVzZXJuYW1lOiB0aGlzLnByb3BzLnVzZXI/LnVzZXJuYW1lLFxyXG4gICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgKiBwb3J0YWxVcmxcclxuICAgICAgICAgICAqL1xyXG4gICAgICAgICAgcG9ydGFsVXJsOiB0aGlzLnByb3BzLmNvbmZpZy5wb3J0YWxVcmwgfHwgdGhpcy5wcm9wcy5wb3J0YWxVcmxcclxuICAgICAgICB9LCB7XHJcbiAgICAgICAgICBzbmlwcGV0OiBzbmlwcGV0LFxyXG4gICAgICAgICAgdGh1bWJuYWlsVXJsOiB0aHVtYm5haWxcclxuICAgICAgICB9KTtcclxuICAgICAgfSlcclxuICAgICAgLnRoZW4oKHJlczogYW55KSA9PiB7XHJcbiAgICAgICAgaWYgKHJlcy5zdWNjZXNzID09PSB0cnVlKSB7XHJcbiAgICAgICAgICB0aGlzLnVwZGF0ZU1hcFdpZGdldExpc3QoKTtcclxuICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICogc2V0IGl0ZW0gaWRcclxuICAgICAgICAgICAqL1xyXG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgIGNyZWF0ZVN1cnZleUVycm9yTXNnOiBudWxsLFxyXG4gICAgICAgICAgICBuZXdTdXJ2ZXlJdGVtSWQ6IHJlcy5pZCxcclxuICAgICAgICAgICAgc2VsZWN0ZWRTdXJ2ZXk6IHJlcyxcclxuICAgICAgICAgICAgbmV3U3VydmV5TG9hZGluZzogZmFsc2VcclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgIHJldHVybiByZXMuaWQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChyZXMuZXJyb3IgJiYgcmVzLmVycm9yLmNvZGUgKyAnJyA9PSAnNDAwJykge1xyXG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgIGNyZWF0ZVN1cnZleUVycm9yTXNnOiAnQSBzdXJ2ZXkgd2l0aCB0aGlzIG5hbWUgYWxyZWFkeSBleGlzdHMsIHBsZWFzZSBjaG9vc2UgYSBkaWZmZXJlbnQgbmFtZS4nLFxyXG4gICAgICAgICAgICBuZXdTdXJ2ZXlMb2FkaW5nOiBmYWxzZSxcclxuICAgICAgICAgICAgbmV3U3VydmV5VGl0bGVEaXJ0eTogZmFsc2VcclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhyb3cgcmVzO1xyXG4gICAgICB9KVxyXG4gICAgICAudGhlbigoaXRlbUlkOiBzdHJpbmcpID0+IHtcclxuICAgICAgICBpZiAoIWl0ZW1JZCkge1xyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiB3ZSBzaG91bGQgc2V0IGhpZGVzIGluIGNvbmZpZ1xyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMucHJvcHMub25TZXR0aW5nQ2hhbmdlKHtcclxuICAgICAgICAgIGlkOiB0aGlzLnByb3BzLmlkLFxyXG4gICAgICAgICAgY29uZmlnOiB0aGlzLnByb3BzLmNvbmZpZy5zZXQoJ2hpZGVzJywgWyduYXZiYXInLCAnaGVhZGVyJywgJ2Rlc2NyaXB0aW9uJywgJ2Zvb3RlcicsICd0aGVtZSddKVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBzaG93IHN1cnZleTEyMyBkZXNpZ25lciBtb2RhbFxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuc2hvd1N1cnZleTEyM0Rlc2lnbmVyTW9kYWwoaXRlbUlkKTtcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICBpZiAoZXJyKSB7XHJcbiAgICAgICAgICAvKipcclxuICAgICAgICAgICAqIHVwZGF0ZSBtc2dcclxuICAgICAgICAgICAqL1xyXG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgIG5ld1N1cnZleU1zZzogZXJyLm1lc3NhZ2UgPyBlcnIubWVzc2FnZSA6ICh0eXBlb2YgZXJyID09PSAnc3RyaW5nJykgPyBlcnIgOiAnJyxcclxuICAgICAgICAgICAgbmV3U3VydmV5TG9hZGluZzogZmFsc2VcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XHJcbiAgICAgIH0pXHJcblxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogcXVlcnkgc3VydmV5XHJcbiAgICovXHJcbiAgcXVlcnlTdXJ2ZXkgPSAob3B0aW9ucz86IHtcclxuICAgIGlzU2hhcmVkPzogYm9vbGVhbjtcclxuICAgIGlzUHVibGlzaGVkPzogYm9vbGVhbjtcclxuICB9KSA9PiB7XHJcbiAgICAvLyBvcHRpb25zXHJcbiAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7XHJcbiAgICAgIGlzU2hhcmVkOiBmYWxzZSxcclxuICAgICAgaXNQdWJsaXNoZWQ6IHRydWVcclxuICAgIH0sIG9wdGlvbnMgfHwge30pO1xyXG4gICAgaWYgKHRoaXMucHJvcHMuY29uZmlnLnN1cnZleUl0ZW1JZCAmJiB0aGlzLnByb3BzLmNvbmZpZy5zZWxlY3RlZFN1cnZleSkge1xyXG5cclxuICAgICAgY29uc3Qgc2VsZWN0ZWRTdXJ2ZXkgPSB0aGlzLnByb3BzLmNvbmZpZy5zZWxlY3RlZFN1cnZleTtcclxuICAgICAgLy8gdGhpcy5zdGF0ZS5tb2RlID0gJ3NldHRpbmdzJztcclxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5wcm9wcy5vblNldHRpbmdDaGFuZ2Uoe1xyXG4gICAgICAgICAgaWQ6IHRoaXMucHJvcHMuaWQsXHJcbiAgICAgICAgICBjb25maWc6IHRoaXMucHJvcHMuY29uZmlnLnNldCgnc3VydmV5SXRlbUlkJywgc2VsZWN0ZWRTdXJ2ZXkuaWQpXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogc3dpdGNoIHRvIHNldHRpbmdzIHBhZ2VcclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLnVwZGF0ZU1hcFdpZGdldExpc3QoKTtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgIGV4aXN0U3VydmV5TXNnOiBudWxsLFxyXG4gICAgICAgICAgbW9kZTogJ3NldHRpbmdzJyxcclxuICAgICAgICAgIHNlbGVjdGVkU3VydmV5OiBzZWxlY3RlZFN1cnZleVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9LCAwKTtcclxuICAgICAgLy8gdGhpcy5zZXRTdXJ2ZXlJdGVtSWQoKTtcclxuICAgICAgcmV0dXJuIHN1cnZleTEyM1NlcnZpY2UucXVlcnlTdXJ2ZXkoe3VzZXJuYW1lOiB0aGlzLnByb3BzLnVzZXI/LnVzZXJuYW1lLCB0b2tlbjogdGhpcy5wcm9wcy50b2tlbiwgcG9ydGFsVXJsOiB0aGlzLnByb3BzLmNvbmZpZy5wb3J0YWxVcmwgfHwgdGhpcy5wcm9wcy5wb3J0YWxVcmx9LFxyXG4gICAgICAgIHsgaXNTaGFyZWQ6IG9wdGlvbnMuaXNTaGFyZWQsIGlzUHVibGlzaGVkOiBvcHRpb25zLmlzUHVibGlzaGVkfSlcclxuICAgICAgICAudGhlbigoc3VydmV5czogYW55W10pID0+IHtcclxuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBleGlzdFN1cnZleXM6IHN1cnZleXNcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0cnVlKVxyXG4gICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUubW9kZSA9PT0gJ25vbmUnKSB7XHJcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgbW9kZTogJ3N1cnZleS1jcmVhdGVTdXJ2ZXknXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIHVwZGF0ZSBtc2dcclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgIGV4aXN0U3VydmV5TXNnOiAnPGRpdiBjbGFzcz1cInN1cnZleS1saXN0LWxvYWRpbmctb3V0dGVyXCI+PGRpdiBjbGFzcz1cImppbXUtc2Vjb25kYXJ5LWxvYWRpbmdcIj48L2Rpdj48L2Rpdj4nXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiBzdXJ2ZXkxMjNTZXJ2aWNlLnF1ZXJ5U3VydmV5KHtcclxuICAgICAgICAgIHVzZXJuYW1lOiB0aGlzLnByb3BzLnVzZXIudXNlcm5hbWUsXHJcbiAgICAgICAgICB0b2tlbjogdGhpcy5wcm9wcy50b2tlbixcclxuICAgICAgICAgIHBvcnRhbFVybDogdGhpcy5wcm9wcy5jb25maWcucG9ydGFsVXJsIHx8IHRoaXMucHJvcHMucG9ydGFsVXJsXHJcbiAgICAgICAgfSwge1xyXG4gICAgICAgICAgaXNTaGFyZWQ6IG9wdGlvbnMuaXNTaGFyZWQsXHJcbiAgICAgICAgICBpc1B1Ymxpc2hlZDogb3B0aW9ucy5pc1B1Ymxpc2hlZFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KVxyXG4gICAgICAudGhlbigoc3VydmV5czogYW55W10pID0+IHtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhzdXJ2ZXlzKTtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogdXBkYXRlIG1zZyBhbmQgZXhpc3Rpbmcgc3VydmV5c1xyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgZXhpc3RTdXJ2ZXlNc2c6IG51bGwsXHJcbiAgICAgICAgICBleGlzdFN1cnZleXM6IHN1cnZleXNcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogdXBkYXRlIHNlbGVjdGVkIHN1cnZleVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGNvbnN0IHVzZWRTdXJ2ZXlJdGVtSWQgPSB0aGlzLnByb3BzLmNvbmZpZy5zdXJ2ZXlJdGVtSWQ7XHJcbiAgICAgICAgaWYgKHVzZWRTdXJ2ZXlJdGVtSWQpIHtcclxuICAgICAgICAgIGNvbnN0IHNlbGVjdGVkU3VydmV5ID0gc3VydmV5cy5maW5kKChzdXJ2ZXkpID0+IHN1cnZleS5pZCA9PT0gdXNlZFN1cnZleUl0ZW1JZCk7XHJcbiAgICAgICAgICBpZiAoc2VsZWN0ZWRTdXJ2ZXkpIHtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGVNYXBXaWRnZXRMaXN0KCk7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICAgIHNlbGVjdGVkU3VydmV5OiBzZWxlY3RlZFN1cnZleVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5wcm9wcy5vblNldHRpbmdDaGFuZ2Uoe1xyXG4gICAgICAgICAgICAgIGlkOiB0aGlzLnByb3BzLmlkLFxyXG4gICAgICAgICAgICAgIGNvbmZpZzogdGhpcy5wcm9wcy5jb25maWcuc2V0KCdzZWxlY3RlZFN1cnZleScsIHNlbGVjdGVkU3VydmV5KVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICBtb2RlOiAnc3VydmV5LWNyZWF0ZVN1cnZleScsXHJcbiAgICAgICAgICBleGlzdFN1cnZleU1zZzogJzxwIGNsYXNzPVwiZXJyb3ItbWVzc2FnZVwiPmVycm9yIHdoZW4gbG9hZCBleGlzdGluZyBzdXJ2ZXlzPC9wPicgLy8gJ2Vycm9yIHdoZW4gbG9hZCBleGlzdGluZyBzdXJ2ZXlzJ1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogZ2V0IHN1cnZleSBxdWVzdGlvbiBmaWVsZHNcclxuICAgKi9cclxuICBnZXRTdXJ2ZXlRdWVzdGlvbkZpZWxkcyA9ICgpOiBQcm9taXNlPGFueVtdPiA9PiB7XHJcbiAgICBjb25zdCBzdXJ2ZXlJdGVtSWQgPSB0aGlzLnByb3BzLmNvbmZpZy5zdXJ2ZXlJdGVtSWQ7XHJcblxyXG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0cnVlKVxyXG4gICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgaWYgKHN1cnZleUl0ZW1JZCAmJiB0aGlzLnByb3BzLnRva2VuKSB7XHJcbiAgICAgICAgICByZXR1cm4gc3VydmV5MTIzU2VydmljZS5nZXRTdXJ2ZXlRdWVzdGlvbkZpZWxkcyhzdXJ2ZXlJdGVtSWQsIHtcclxuICAgICAgICAgICAgdG9rZW46IHRoaXMucHJvcHMudG9rZW5cclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfSlcclxuICAgICAgLnRoZW4oKGZpZWxkczogYW55W10pID0+IHtcclxuICAgICAgICBpZiAoZmllbGRzKSB7XHJcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgc3VydmV5UXVlc3Rpb25GaWVsZHM6IGZpZWxkc1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmaWVsZHM7XHJcbiAgICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogc2hvdyBzdXJ2ZXkxMjMgZGVzaWduZXIgbW9kYWxcclxuICAgKi9cclxuICBzaG93U3VydmV5MTIzRGVzaWduZXJNb2RhbChzdXJ2ZXlJdGVtSWQ/OiBzdHJpbmcpIHtcclxuICAgIHN1cnZleUl0ZW1JZCA9IHN1cnZleUl0ZW1JZCB8fCB0aGlzLnByb3BzLmNvbmZpZy5zdXJ2ZXlJdGVtSWQ7XHJcbiAgICBjb25zdCBzZXNzaW9uTWFuYWdlciA9IFNlc3Npb25NYW5hZ2VyLmdldEluc3RhbmNlKCk7XHJcbiAgICBjb25zdCBwb3J0YWxVcmwgPSB0aGlzLnByb3BzLmNvbmZpZy5wb3J0YWxVcmwgfHwgdGhpcy5wcm9wcy5wb3J0YWxVcmw7XHJcblxyXG4gICAgaWYgKCFzdXJ2ZXlJdGVtSWQpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdjYW5ub3QgZ2V0IHN1cnZleSBpdGVtIGlkIHRvIG9wZW4gc3VydmV5MTIzIGRlc2lnbmVyJyk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBwb3B1cCB3aW5kb3cgYW5kIGVtYmVkIHN1cnZleTEyMyBkZXNpZ25lclxyXG4gICAgICovXHJcbiAgICBsZXQgdXJsID0gc3VydmV5MTIzU2VydmljZS5nZXRTdXJ2ZXkxMjNEZXNpZ25lclVybChzdXJ2ZXlJdGVtSWQsIHtcclxuICAgICAgcG9ydGFsVXJsOiBwb3J0YWxVcmxcclxuICAgIH0pO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogd2UgbmVlZCB0byBhZGQgYWNjZXNzX3Rva2VuIC8gdXNlcm5hbWUgLyBleHBpcmVzX2luIGluIGhhc2hcclxuICAgICAqIHRvIHRlbGwgc3VydmV5MTIzIHdlYnNpdGUgdG8gcGFyc2UgdGhlIGhhc2ggdG8gdXNlIHRoZSB0b2tlblxyXG4gICAgICovXHJcbiAgICBjb25zdCBzZXNzaW9uID0gc2Vzc2lvbk1hbmFnZXIuZ2V0TWFpblNlc3Npb24oKTtcclxuICAgIGlmIChzZXNzaW9uICYmIHNlc3Npb24udG9rZW4gJiYgc2Vzc2lvbi51c2VybmFtZSAmJiBzZXNzaW9uLnRva2VuRHVyYXRpb24pIHtcclxuICAgICAgdXJsICs9IGAjYWNjZXNzX3Rva2VuPSR7c2Vzc2lvbi50b2tlbn0mdXNlcm5hbWU9JHtzZXNzaW9uLnVzZXJuYW1lfSZleHBpcmVzX2luPSR7c2Vzc2lvbi50b2tlbkR1cmF0aW9ufWA7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBzaG93IG1vZGFsXHJcbiAgICAgKi9cclxuICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICBtb2RhbElzT3BlbjogdHJ1ZSxcclxuICAgICAgbmV3U3VydmV5TXNnOiBudWxsXHJcbiAgICB9KTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIGNhbm5vdCB1c2Ugd2luZG93Lm9wZW4gYmVjYXVzZSBhZGRyZXNzIGJhciB3aWxsIGJlIHNob3duLlxyXG4gICAgICogdHJ5IHRvIHVzZSBtb2RhbCBhbmQgaWZyYW1lIHRvIHNob3cgc3VydmV5MTIzIGRlc2lnbmVyIHdlYnBhZ2VcclxuICAgICAqL1xyXG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XHJcbiAgICBsZXQgaW5kZXggPSAwO1xyXG4gICAgY29uc3QgY2hlY2tUaW1lciA9IHNldEludGVydmFsKCgpID0+IHtcclxuICAgICAgaWYgKCFzZWxmLnN0YXRlLm1vZGFsSXNPcGVuKSB7XHJcbiAgICAgICAgc2VsZi5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICBtb2RhbElzT3BlbjogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICAgIGluZGV4ICsrO1xyXG4gICAgICBjb25zdCB0YXJnZXQ6IGFueSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdXJ2ZXkxMjMtZGVzaWduZXInKTtcclxuICAgICAgaWYgKHRhcmdldCB8fCBpbmRleCA+IDEwMCkge1xyXG4gICAgICAgIGNsZWFySW50ZXJ2YWwoY2hlY2tUaW1lcik7XHJcbiAgICAgICAgdGFyZ2V0LnNyYyA9IHVybDtcclxuICAgICAgfVxyXG4gICAgfSwgNTApO1xyXG5cclxuICAgIC8vIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgLy8gICBsZXQgdGFyZ2V0OiBhbnkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3VydmV5MTIzLWRlc2lnbmVyJyk7XHJcbiAgICAvLyAgIHRhcmdldC5zcmMgPSB1cmw7XHJcbiAgICAvLyB9LCAyMDApO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogcmVtb3ZlIGRlZmF1bHQgdmFsdWVcclxuICAgKi9cclxuICAvLyByZW1vdmVEZWZhdWx0VmFsdWUgPSAoa2V5OiBzdHJpbmcsIGV2dDogYW55KSA9PiB7XHJcbiAgLy8gICBsZXQgZGVmYXVsdFZhbHVlID0gdGhpcy5wcm9wcy5jb25maWcuZGVmYXVsdFZhbHVlO1xyXG4gIC8vICAgaWYgKGtleSAmJiBkZWZhdWx0VmFsdWVba2V5XSkge1xyXG4gIC8vICAgICBkZWxldGUgZGVmYXVsdFZhbHVlW2tleV07XHJcbiAgLy8gICB9XHJcbiAgLy8gfVxyXG5cclxuICAvKipcclxuICAgKiBzaG93IHNldHRpbmcgcGFnZVxyXG4gICAqL1xyXG4gIHNob3dTZXR0aW5nUGFnZSA9ICgpID0+IHtcclxuICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICBtb2RlOiAnc2V0dGluZ3MnXHJcbiAgICB9KTtcclxuICAgIC8qKlxyXG4gICAgICogZ2V0IHN1cnZleSBxdWVzdGlvbiBmaWVsZHNcclxuICAgICAqL1xyXG4gICAgdGhpcy5nZXRTdXJ2ZXlRdWVzdGlvbkZpZWxkcygpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogaGFuZGxlIGNsb3NlIG1vZGFsXHJcbiAgICovXHJcbiAgaGFuZGxlQ2xvc2VNb2RhbCA9ICgpID0+IHtcclxuICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICBtb2RhbElzT3BlbjogZmFsc2VcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMuc2hvd1NldHRpbmdQYWdlKCk7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiB1cGRhdGUgc3VydmV5IGl0ZW1pZCBpbiBwcm9wcyBjb25maWdcclxuICAgICAqL1xyXG4gICAgY29uc3Qgc3VydmV5SXRlbUlkID0gdGhpcy5zdGF0ZS5uZXdTdXJ2ZXlJdGVtSWQgfHwgdGhpcy5wcm9wcy5jb25maWcuc3VydmV5SXRlbUlkO1xyXG4gICAgaWYgKHN1cnZleUl0ZW1JZCkge1xyXG4gICAgICB0aGlzLnByb3BzLm9uU2V0dGluZ0NoYW5nZSh7XHJcbiAgICAgICAgaWQ6IHRoaXMucHJvcHMuaWQsXHJcbiAgICAgICAgY29uZmlnOiB0aGlzLnByb3BzLmNvbmZpZy5zZXQoJ3N1cnZleUl0ZW1JZCcsIHN1cnZleUl0ZW1JZCkuc2V0KCd0aW1lc3RhbXAnLCBEYXRlLm5vdygpKVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIGdldCB0aHVtYm5haWwgdXJsIGZyb20gcG9ydGFsXHJcbiAgICovXHJcbiAgZ2V0VGh1bWJuYWlsVXJsID0gKCkgPT4ge1xyXG4gICAgY29uc3QgcG9ydGFsVXJsID0gdGhpcy5wcm9wcy5jb25maWcucG9ydGFsVXJsIHx8IHRoaXMucHJvcHMucG9ydGFsVXJsIHx8ICdodHRwczovL3d3dy5hcmNnaXMuY29tJztcclxuICAgIGNvbnN0IHN1cnZleUl0ZW1JZCA9IHRoaXMuc3RhdGUuc2VsZWN0ZWRTdXJ2ZXkuaWQ7XHJcbiAgICBjb25zdCB0aHVtYm5haWwgPSB0aGlzLnN0YXRlLnNlbGVjdGVkU3VydmV5LnRodW1ibmFpbDtcclxuICAgIGlmICgodGh1bWJuYWlsICsgJycpLnN0YXJ0c1dpdGgoJ2h0dHA6Ly8nKSB8fCAodGh1bWJuYWlsICsgJycpLnN0YXJ0c1dpdGgoJ2h0dHBzOi8vJykpIHtcclxuICAgICAgcmV0dXJuIHRodW1ibmFpbDtcclxuICAgIH1cclxuICAgIHJldHVybiBgJHtwb3J0YWxVcmx9L3NoYXJpbmcvcmVzdC9jb250ZW50L2l0ZW1zLyR7c3VydmV5SXRlbUlkfS9pbmZvLyR7dGh1bWJuYWlsfT90b2tlbj0ke3RoaXMucHJvcHMudG9rZW59YDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIHNldCBzdXJ2ZXkgaXRlbSBpZFxyXG4gICAqIHVwZGF0ZSB0aGlzLnByb3BzLmNvbmZpZ1xyXG4gICAqL1xyXG4gIHNldFN1cnZleUl0ZW1JZCA9ICgpID0+IHtcclxuICAgIGNvbnN0IHNlbGVjdGVkU3VydmV5ID0gdGhpcy5zdGF0ZS5zZWxlY3RlZFN1cnZleTtcclxuICAgIGlmIChzZWxlY3RlZFN1cnZleSAmJiBzZWxlY3RlZFN1cnZleS5pZCkge1xyXG4gICAgICAvKipcclxuICAgICAgICogdXBkYXRlIHByb3BzIHRvIGhhdmUgdGhlIHNhbWUgc2V0dGluZyBpbiBydW50aW1lXHJcbiAgICAgICAqIGFuZCBlbnN1cmUgdGhlIGhpZGVzIGFyZSBhbGwgc3dpdGNoZWQgb25cclxuICAgICAgICovXHJcbiAgICAgIHRoaXMucHJvcHMub25TZXR0aW5nQ2hhbmdlKHtcclxuICAgICAgICBpZDogdGhpcy5wcm9wcy5pZCxcclxuICAgICAgICBjb25maWc6IHRoaXMucHJvcHMuY29uZmlnLnNldCgnc3VydmV5SXRlbUlkJywgc2VsZWN0ZWRTdXJ2ZXkuaWQpLnNldCgnaGlkZXMnLCBbJ25hdmJhcicsICdoZWFkZXInLCAnZGVzY3JpcHRpb24nLCAnZm9vdGVyJywgJ3RoZW1lJ10pXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIHN3aXRjaCB0byBzZXR0aW5ncyBwYWdlXHJcbiAgICAgICAqL1xyXG4gICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICBtb2RlOiAnc2V0dGluZ3MnXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogZWRpdCBzdXJ2ZXlcclxuICAgKi9cclxuICBlZGl0U3VydmV5ID0gKCkgPT4ge1xyXG4gICAgdGhpcy5zaG93U3VydmV5MTIzRGVzaWduZXJNb2RhbCgpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogc2V0IGFwcGVhcmFuY2VcclxuICAgKi9cclxuICBzZXRBcHBlYXJhbmNlID0gKGlzQ2hlY2tlZDogYm9vbGVhbiwgdmFsdWU6IHN0cmluZykgPT4ge1xyXG4gICAgLy8gbGV0IHRhcmdldCA9IGUuY3VycmVudFRhcmdldDtcclxuICAgIC8vIGxldCB2YWx1ZSA9IHRhcmdldC52YWx1ZTtcclxuICAgIC8vIGNsb25lIHRoaXMucHJvcHMuY29uZmlnLmhpZGVzXHJcbiAgICBjb25zdCBoaWRlczogYW55ID0gW10uY29uY2F0KHRoaXMucHJvcHMuY29uZmlnLmhpZGVzIHx8IFtdKTtcclxuICAgIC8vIGxldCBpc0NoZWNrZWQgPSB0YXJnZXQuY2hlY2tlZDtcclxuXHJcbiAgICBpZiAoaXNDaGVja2VkICYmIGhpZGVzLmluZGV4T2YodmFsdWUpID49IDApIHtcclxuICAgICAgY29uc3QgcG9zID0gaGlkZXMuaW5kZXhPZih2YWx1ZSk7XHJcbiAgICAgIGhpZGVzLnNwbGljZShwb3MsIDEpO1xyXG4gICAgICAvLyBoaWRlcyA9IGhpZGVzLmNvbmNhdChbdmFsdWVdKVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgaGlkZXMucHVzaCh2YWx1ZSk7XHJcbiAgICB9XHJcbiAgICB0aGlzLnByb3BzLm9uU2V0dGluZ0NoYW5nZSh7XHJcbiAgICAgIGlkOiB0aGlzLnByb3BzLmlkLFxyXG4gICAgICBjb25maWc6IHRoaXMucHJvcHMuY29uZmlnLnNldCgnaGlkZXMnLCBoaWRlcylcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogc2V0IHNlbGVjdGVkIG1hcCB2aWV3XHJcbiAgICovXHJcbiAgb25NYXBXaWRnZXRTZWxlY3RlZCA9ICh1c2VNYXBXaWRnZXRJZHM6IHN0cmluZ1tdKSA9PiB7XHJcbiAgICBpZiAoIXVzZU1hcFdpZGdldElkcyB8fCAhdXNlTWFwV2lkZ2V0SWRzLmxlbmd0aCkge1xyXG4gICAgICB0aGlzLmNsZWFyTWFwcGluZygpO1xyXG4gICAgfVxyXG4gICAgdGhpcy5wcm9wcy5vblNldHRpbmdDaGFuZ2Uoe1xyXG4gICAgICBpZDogdGhpcy5wcm9wcy5pZCxcclxuICAgICAgdXNlTWFwV2lkZ2V0SWRzOiB1c2VNYXBXaWRnZXRJZHNcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogb24gZmVhdHVyZSBsYXllciB2aWV3IHNlbGVjdGVkXHJcbiAgICovXHJcbiAgb25GZWF0dXJlTGF5ZXJWaWV3U2VsZWN0ZWQgPSAoc2VsZWN0ZWREc0pzb25zOiBTZWxlY3RlZERhdGFTb3VyY2VKc29uW10sIGQ6IFNlbGVjdGVkRGF0YVNvdXJjZUpzb24pID0+IHtcclxuICAgIGlmIChkICYmIGQuZGF0YVNvdXJjZUpzb24gJiYgZC5yb290RGF0YVNvdXJjZUlkKSB7XHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiB1cGRhdGUgc3RhdGVcclxuICAgICAgICovXHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgIGRzTWFwVmlldzogbnVsbCxcclxuICAgICAgICBkc0ZlYXR1cmVMYXllcjogZFxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBlbWJlZCBwYXJhbXNcclxuICAgICAgICovXHJcbiAgICAgIGxldCBlbWJlZHMgPSB0aGlzLnByb3BzLmNvbmZpZy5lbWJlZHMgfHwgW107XHJcbiAgICAgIGlmIChlbWJlZHMuaW5kZXhPZignYXNzb2NpYXRlZE1hcCcpID09PSAtMSkge1xyXG4gICAgICAgIGVtYmVkcyA9IGVtYmVkcy5jb25jYXQoWydhc3NvY2lhdGVkTWFwJ10pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogdXBkYXRlIHVzZURhdGFTb3VyY2VzXHJcbiAgICAgICAqL1xyXG4gICAgICB0aGlzLnByb3BzLm9uU2V0dGluZ0NoYW5nZSh7XHJcbiAgICAgICAgaWQ6IHRoaXMucHJvcHMuaWQsXHJcbiAgICAgICAgY29uZmlnOiB0aGlzLnByb3BzLmNvbmZpZy5zZXQoJ2VtYmVkcycsIGVtYmVkcykuc2V0KCdkc1R5cGUnLCBBcmNHSVNEYXRhU291cmNlVHlwZXMuRmVhdHVyZUxheWVyKVxyXG4gICAgICAgIC8qIHVzZURhdGFTb3VyY2VzOiBJbW11dGFibGUoW3tcclxuICAgICAgICAgIGRhdGFTb3VyY2VJZDogZC5kYXRhU291cmNlSnNvbi5pZCxcclxuICAgICAgICAgIHJvb3REYXRhU291cmNlSWQ6IGQucm9vdERhdGFTb3VyY2VJZFxyXG4gICAgICAgIH1dKSBhcyBJbW11dGFibGVBcnJheTxJTVVzZURhdGFTb3VyY2U+ICovXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuICB1cGRhdGVNYXBXaWRnZXRMaXN0ID0gKCkgPT4ge1xyXG4gICAgLy8gZ2V0IHRoZSBtYXAgd2lkZ2V0IGxpc3RcclxuICAgIGNvbnN0IHN0YXRlID0gd2luZG93Ll9hcHBTdGF0ZTtcclxuICAgIGNvbnN0IGFwcENvbmZpZyA9IHdpbmRvdyAmJiB3aW5kb3cuamltdUNvbmZpZyAmJiB3aW5kb3cuamltdUNvbmZpZy5pc0J1aWxkZXIgPyBzdGF0ZS5hcHBTdGF0ZUluQnVpbGRlciAmJiBzdGF0ZS5hcHBTdGF0ZUluQnVpbGRlci5hcHBDb25maWcgOiBzdGF0ZS5hcHBDb25maWc7XHJcbiAgICBjb25zdCB3aWRnZXRzID0gYXBwQ29uZmlnICYmIGFwcENvbmZpZy53aWRnZXRzO1xyXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG1heC1sZW5cclxuICAgIGNvbnN0IG1hcFdpZGdldExpc3QgPSB3aWRnZXRzID8gT2JqZWN0LmtleXMod2lkZ2V0cykuZmlsdGVyKHdJZCA9PiB3aWRnZXRzW3dJZF0gJiYgd2lkZ2V0c1t3SWRdLm1hbmlmZXN0ICYmIHdpZGdldHNbd0lkXS5tYW5pZmVzdC5wcm9wZXJ0aWVzICYmIHdpZGdldHNbd0lkXS5tYW5pZmVzdC5wcm9wZXJ0aWVzLmNhbkNyZWF0ZU1hcFZpZXcpLm1hcCh3SWQgPT4gd2lkZ2V0c1t3SWRdKSA6IFtdO1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgIG1hcFdpZGdldExpc3Q6IG1hcFdpZGdldExpc3RcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcblxyXG4gIGFjdGl2ZUxpbmtEYXRhQ2hhbmdlID0gKGUpID0+IHtcclxuICAgIGNvbnN0IHRhcmdldCA9IGUuY3VycmVudFRhcmdldDtcclxuICAgIGNvbnN0IGlzQWN0aXZlID0gdGFyZ2V0LmNoZWNrZWQ7XHJcbiAgICBpZiAoaXNBY3RpdmUpIHtcclxuICAgICAgdGhpcy51cGRhdGVNYXBXaWRnZXRMaXN0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiB1cGRhdGUgYWN0aXZlTGlua0RhdGEgaW4gZGF0YSBzb3VyY2VcclxuICAgICAqL1xyXG4gICAgdGhpcy5wcm9wcy5vblNldHRpbmdDaGFuZ2Uoe1xyXG4gICAgICBpZDogdGhpcy5wcm9wcy5pZCxcclxuICAgICAgY29uZmlnOiB0aGlzLnByb3BzLmNvbmZpZy5zZXQoJ2FjdGl2ZUxpbmtEYXRhJywgaXNBY3RpdmUpLFxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBvbiBtYXAgdmlldyBzZWxlY3RlZFxyXG4gICAqL1xyXG4gIG9uTWFwVmlld1NlbGVjdGVkID0gKHNlbGVjdGVkRHNKc29uczogU2VsZWN0ZWREYXRhU291cmNlSnNvbltdLCBkOiBTZWxlY3RlZERhdGFTb3VyY2VKc29uKSA9PiB7XHJcbiAgICBpZiAoZCAmJiBkLmRhdGFTb3VyY2VKc29uKSB7XHJcbiAgICAgIC8vIGlmIChkICYmIGQuZGF0YVNvdXJjZUpzb24gJiYgZC5yb290RGF0YVNvdXJjZUlkKSB7XHJcbiAgICAgIC8vIGxldCBtYXBWaWV3RFNKc29uID0gZC5kYXRhU291cmNlSnNvbjtcclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiB1cGRhdGUgc3RhdGVcclxuICAgICAgICovXHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgIGRzTWFwVmlldzogZCxcclxuICAgICAgICBkc0ZlYXR1cmVMYXllcjogbnVsbCxcclxuICAgICAgICBkc0ZlYXR1cmVMYXllckZpZWxkczogW11cclxuICAgICAgfSk7XHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogZW1iZWQgcGFyYW1zXHJcbiAgICAgICAqL1xyXG4gICAgICBsZXQgZW1iZWRzID0gdGhpcy5wcm9wcy5jb25maWcuZW1iZWRzIHx8IFtdO1xyXG4gICAgICBpZiAoZW1iZWRzLmluZGV4T2YoJ2Fzc29jaWF0ZWRNYXAnKSA9PT0gLTEpIHtcclxuICAgICAgICBlbWJlZHMgPSBlbWJlZHMuY29uY2F0KFsnYXNzb2NpYXRlZE1hcCddKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIHVwZGF0ZSBwcm9wc1xyXG4gICAgICAgKi9cclxuICAgICAgdGhpcy5wcm9wcy5vblNldHRpbmdDaGFuZ2Uoe1xyXG4gICAgICAgIGlkOiB0aGlzLnByb3BzLmlkLFxyXG4gICAgICAgIGNvbmZpZzogdGhpcy5wcm9wcy5jb25maWcuc2V0KCdlbWJlZHMnLCBlbWJlZHMpLnNldCgnc2VsZWN0ZWRTdXJ2ZXlRdWVzdGlvbkZpZWxkcycsIFtdKS5zZXQoJ2RzVHlwZScsIEFyY0dJU0RhdGFTb3VyY2VUeXBlcy5NYXApXHJcbiAgICAgICAgLyogdXNlRGF0YVNvdXJjZXM6IEltbXV0YWJsZShbe1xyXG4gICAgICAgICAgZGF0YVNvdXJjZUlkOiBkLmRhdGFTb3VyY2VKc29uLmlkLFxyXG4gICAgICAgICAgcm9vdERhdGFTb3VyY2VJZDogZC5yb290RGF0YVNvdXJjZUlkXHJcbiAgICAgICAgfV0pIGFzIEltbXV0YWJsZUFycmF5PElNVXNlRGF0YVNvdXJjZT4gKi9cclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuXHJcbiAgLyoqXHJcbiAgICogb24gZmVhdHVyZSBsYXllciBmaWVsZCBzZWxlY3RlZFxyXG4gICAqL1xyXG4gIG9uRmllbGRTZWxlY3RlZCA9IChhbGxTZWxlY3RlZEZpZWxkczogSU1GaWVsZFNjaGVtYVtdLCBmaWVsZDogSU1GaWVsZFNjaGVtYSwgZHM6IERhdGFTb3VyY2UpID0+IHtcclxuICAgIC8qKlxyXG4gICAgICogdXBkYXRlIGZpZWxkcyBpbiBkYXRhIHNvdXJjZVxyXG4gICAgICovXHJcbiAgICB0aGlzLnByb3BzLm9uU2V0dGluZ0NoYW5nZSh7XHJcbiAgICAgIGlkOiB0aGlzLnByb3BzLmlkLFxyXG4gICAgICBjb25maWc6IHRoaXMucHJvcHMuY29uZmlnLnNldEluKFsndGl0bGUnLCAnZmllbGQnXSwgZmllbGQubmFtZSksXHJcbiAgICAgIHVzZURhdGFTb3VyY2VzOiBbe1xyXG4gICAgICAgIGRhdGFTb3VyY2VJZDogdGhpcy5wcm9wcy51c2VEYXRhU291cmNlc1swXS5kYXRhU291cmNlSWQsXHJcbiAgICAgICAgcm9vdERhdGFTb3VyY2VJZDogdGhpcy5wcm9wcy51c2VEYXRhU291cmNlc1swXS5yb290RGF0YVNvdXJjZUlkLFxyXG4gICAgICAgIGZpZWxkczogW2ZpZWxkLm5hbWVdXHJcbiAgICAgIH1dXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIHNlbGVjdCBhIGZlYXR1cmUgbGF5ZXJcclxuICAgKi9cclxuICBvbkRhdGFTb3VyY2VTZWxlY3RlZCA9IChqaW11TGF5ZXJWaWV3SW5mbzogSU1KaW11TGF5ZXJWaWV3SW5mbykgPT4ge1xyXG4gICAgaWYgKCFqaW11TGF5ZXJWaWV3SW5mbykge1xyXG4gICAgICB0aGlzLmNsZWFyTWFwcGluZygpO1xyXG4gICAgfVxyXG4gICAgY29uc3QgZGF0YVNvdXJjZUlkID0gamltdUxheWVyVmlld0luZm8gPyBqaW11TGF5ZXJWaWV3SW5mby5kYXRhc291cmNlSWQgOiBudWxsO1xyXG4gICAgY29uc3QgZGF0YVNvdXJjZTogYW55ID0gdGhpcy5kc01hbmFnZXIuZ2V0RGF0YVNvdXJjZShkYXRhU291cmNlSWQpO1xyXG4gICAgLy8gbGV0IHNjaGVtYSA9IG51bGw7XHJcblxyXG4gICAgLy8gaWYgKGRhdGFTb3VyY2UpIHtcclxuICAgIC8vICAgc2NoZW1hID0gZGF0YVNvdXJjZS5nZXRTY2hlbWEoKTtcclxuICAgIC8vICAgZmllbGRzID0gc2NoZW1hID8gKHNjaGVtYS5maWVsZHMgfHwgW10pIDogW107XHJcbiAgICAvLyB9XHJcbiAgICBjb25zdCBsYXllciA9IGRhdGFTb3VyY2UgPyBkYXRhU291cmNlLmxheWVyIDogbnVsbDtcclxuICAgIGlmICghZGF0YVNvdXJjZUlkIHx8ICFkYXRhU291cmNlIHx8ICFsYXllcikge1xyXG4gICAgICB0aGlzLmNsZWFyTWFwcGluZygpO1xyXG4gICAgfVxyXG4gICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgIGRzRmVhdHVyZUxheWVyOiBsYXllcixcclxuICAgICAgZHNGZWF0dXJlTGF5ZXJGaWVsZHM6IHRoaXMuZ2V0TGF5ZXJGaWVsZHMobGF5ZXIpXHJcbiAgICB9KTtcclxuICAgIGNvbnN0IHJvb3REYXRhU291cmNlSWQgPSBqaW11TGF5ZXJWaWV3SW5mbyA/IGppbXVMYXllclZpZXdJbmZvLnJvb3REYXRhc291cmNlSWQgOiBudWxsO1xyXG4gICAgdGhpcy5wcm9wcy5vblNldHRpbmdDaGFuZ2Uoe1xyXG4gICAgICBpZDogdGhpcy5wcm9wcy5pZCxcclxuICAgICAgdXNlRGF0YVNvdXJjZXM6ICBbe1xyXG4gICAgICAgIGRhdGFTb3VyY2VJZDogZGF0YVNvdXJjZUlkLFxyXG4gICAgICAgIHJvb3REYXRhU291cmNlSWQ6IHJvb3REYXRhU291cmNlSWRcclxuICAgICAgfV0sXHJcbiAgICAgIGNvbmZpZzogdGhpcy5wcm9wcy5jb25maWcuc2V0KCdsYXllclZpZXdJbmZvJywgamltdUxheWVyVmlld0luZm8pLnNldCgnZmllbGRRdWVzdGlvbk1hcHBpbmcnLCBudWxsKSxcclxuICAgIH0sIFt7XHJcbiAgICAgIGlkOiBgJHt0aGlzLnByb3BzLmlkfS1vdXRwdXRgLFxyXG4gICAgICBsYWJlbDogYCR7dGhpcy5wcm9wcy5sYWJlbH0gUXVlcnkgUmVzdWx0YCxcclxuICAgICAgdHlwZTogQXJjR0lTRGF0YVNvdXJjZVR5cGVzLkZlYXR1cmVMYXllcixcclxuICAgICAgb3JpZ2luRGF0YVNvdXJjZXM6IFt7ZGF0YVNvdXJjZUlkOiBkYXRhU291cmNlSWQsIHJvb3REYXRhU291cmNlSWQ6IHJvb3REYXRhU291cmNlSWR9XVxyXG4gICAgfV1cclxuICAgICk7XHJcblxyXG4gICAgLy8gdGhpcy5wcm9wcy5vblNldHRpbmdDaGFuZ2Uoe1xyXG4gICAgLy8gICBpZDogdGhpcy5wcm9wcy5pZCxcclxuICAgIC8vICAgdXNlRGF0YVNvdXJjZXM6IFt7XHJcbiAgICAvLyAgICAgZGF0YVNvdXJjZUlkOiBjdXJyZW50U2VsZWN0ZWREcy5kYXRhU291cmNlSnNvbi5pZCxcclxuICAgIC8vICAgICByb290RGF0YVNvdXJjZUlkOiBjdXJyZW50U2VsZWN0ZWREcy5yb290RGF0YVNvdXJjZUlkXHJcbiAgICAvLyAgIH1dLFxyXG4gICAgLy8gfSwgW3tcclxuICAgIC8vICAgaWQ6IGAke3RoaXMucHJvcHMuaWR9LW91dHB1dGAsXHJcbiAgICAvLyAgIGxhYmVsOiBgJHt0aGlzLnByb3BzLmxhYmVsfSBRdWVyeSBSZXN1bHRgLFxyXG4gICAgLy8gICB0eXBlOiBBcmNHSVNEYXRhU291cmNlVHlwZXMuRmVhdHVyZUxheWVyVmlldyxcclxuICAgIC8vICAgb3JpZ2luRGF0YVNvdXJjZXM6IFt7ZGF0YVNvdXJjZUlkOiBjdXJyZW50U2VsZWN0ZWREcy5kYXRhU291cmNlSnNvbi5pZCwgcm9vdERhdGFTb3VyY2VJZDogY3VycmVudFNlbGVjdGVkRHMucm9vdERhdGFTb3VyY2VJZH1dXHJcbiAgICAvLyB9XSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBjaGFuZ2UgdGhlIGxheWVyIGZpZWxkIGluIGZpZWxkLXF1ZXN0aW9uIG1hcHBpbmcgcGFuZWxcclxuICAgKi9cclxuICBhZGRNYXBwcGluZ0NoYW5nZSA9ICh0eXBlOiBzdHJpbmcsIGU6IGFueSkgPT4ge1xyXG4gICAgY29uc3QgdGFyZ2V0ID0gZS5jdXJyZW50VGFyZ2V0O1xyXG4gICAgY29uc3QgdmFsdWUgPSB0YXJnZXQudmFsdWU7XHJcbiAgICBsZXQgZmllbGQgPSB0aGlzLnN0YXRlLmFkZE1hcHBpbmcgPyB0aGlzLnN0YXRlLmFkZE1hcHBpbmcuZmllbGQgOiBudWxsO1xyXG4gICAgbGV0IHF1ZXN0aW9uID0gdGhpcy5zdGF0ZS5hZGRNYXBwaW5nID8gdGhpcy5zdGF0ZS5hZGRNYXBwaW5nLnF1ZXN0aW9uIDogbnVsbDtcclxuICAgIGlmICh0eXBlID09PSAnZmllbGQnKSB7XHJcbiAgICAgIGZpZWxkID0gdmFsdWU7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBxdWVzdGlvbiA9IHZhbHVlO1xyXG4gICAgfVxyXG4gICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgIGFkZE1hcHBpbmc6IHtcclxuICAgICAgICBmaWVsZDogZmllbGQsXHJcbiAgICAgICAgcXVlc3Rpb246IHF1ZXN0aW9uXHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogY2xlYXIgdGhlIHNldHRpbmcgb2YgZmllbGQtcXVlc3Rpb24gbWFwcGluZ1xyXG4gICAqL1xyXG4gIGNsZWFyTWFwcGluZyA9ICgpID0+IHtcclxuICAgIC8vIHRvZG86XHJcbiAgfVxyXG5cclxuICBvbkRhdGFTb3VyY2VSZW1vdmVkID0gKCkgPT4ge1xyXG4gICAgLy8gdG9kb1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogdHJpZ2dlciBldm5ldCB0eXBlIGNoYW5nZVxyXG4gICAqL1xyXG4gIHRyaWdnZXJFdmVudFR5cGVDaGFuZ2UgPSAoKSA9PiB7XHJcblxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogc2hvdyBlZGl0IG1hcHBpbmcgcGFuZWxcclxuICAgKi9cclxuICBzaG93RWRpdE1hcHBpbmdQYW5lbCA9IChpbmRleCwgZT8pID0+IHtcclxuICAgIGNvbnN0IGN1ckVkaXRNYXBwaW5nID0gdGhpcy5zdGF0ZS5lZGl0TWFwcGluZyB8fCB7fTtcclxuICAgIGlmIChjdXJFZGl0TWFwcGluZy5pbmRleCA9PT0gaW5kZXgpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgbGV0IG1hcHBpbmdzID0gdGhpcy5wcm9wcy5jb25maWcuZmllbGRRdWVzdGlvbk1hcHBpbmcgfHwgW107XHJcbiAgICBtYXBwaW5ncyA9IChpbmRleCA+PSAwICYmIGluZGV4IDwgbWFwcGluZ3MubGVuZ3RoKSA/IG1hcHBpbmdzW2luZGV4XSA6IG51bGw7XHJcbiAgICBjb25zdCBuZXdNYXBwaW5nID0gT2JqZWN0LmFzc2lnbih7fSwgbWFwcGluZ3MpO1xyXG4gICAgbmV3TWFwcGluZ1snaW5kZXgnXSA9IGluZGV4O1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgIGVkaXRNYXBwaW5nOiBuZXdNYXBwaW5nLFxyXG4gICAgICBhZGRNYXBwaW5nOiBudWxsXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIGNoYW5nZSB0aGUgZWRpdCBtYXBwaW5nXHJcbiAgICovXHJcbiAgY2hhbmdlRWRpdE1hcHBpbmcgPSAodHlwZTogc3RyaW5nLCBlOiBhbnkpID0+IHtcclxuICAgIGNvbnN0IHRhcmdldCA9IGUuY3VycmVudFRhcmdldDtcclxuICAgIGNvbnN0IHZhbHVlID0gdGFyZ2V0LnZhbHVlO1xyXG4gICAgY29uc3QgY3VyU2V0dGluZyA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuc3RhdGUuZWRpdE1hcHBpbmcgfHwge30pO1xyXG4gICAgaWYgKHR5cGUgPT09ICdmaWVsZCcpIHtcclxuICAgICAgY3VyU2V0dGluZy5maWVsZCA9IHZhbHVlO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY3VyU2V0dGluZy5xdWVzdGlvbiA9IHZhbHVlO1xyXG4gICAgfVxyXG4gICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgIGVkaXRNYXBwaW5nOiBjdXJTZXR0aW5nXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG5cclxuICAvKipcclxuICAgKiBjaGFuZ2UgYW4gZmllbGQvcXVlc3Rpb24gbWFwcGluZ1xyXG4gICAqL1xyXG4gIGVkaXRNYXBwaW5nID0gKGluZGV4KSA9PiB7XHJcbiAgICBjb25zdCBtYXBwaW5nID0gW10uY29uY2F0KHRoaXMucHJvcHMuY29uZmlnLmZpZWxkUXVlc3Rpb25NYXBwaW5nIHx8IFtdKTtcclxuICAgIGNvbnN0IGN1ckVkaXRNYXBwaW5nID0gdGhpcy5zdGF0ZS5lZGl0TWFwcGluZyB8fCB7fTtcclxuICAgIGlmIChpbmRleCA+PSAwICYmIGluZGV4IDwgbWFwcGluZy5sZW5ndGgpIHtcclxuICAgICAgbWFwcGluZ1tpbmRleF0gPSB7XHJcbiAgICAgICAgZmllbGQ6IGN1ckVkaXRNYXBwaW5nLmZpZWxkLFxyXG4gICAgICAgIHF1ZXN0aW9uOiBjdXJFZGl0TWFwcGluZy5xdWVzdGlvblxyXG4gICAgICB9O1xyXG4gICAgfVxyXG4gICAgLy8gZGVsZXRlIG1hcHBpbmdbZmllbGRdO1xyXG4gICAgdGhpcy5wcm9wcy5vblNldHRpbmdDaGFuZ2Uoe1xyXG4gICAgICBpZDogdGhpcy5wcm9wcy5pZCxcclxuICAgICAgY29uZmlnOiB0aGlzLnByb3BzLmNvbmZpZy5zZXQoJ2ZpZWxkUXVlc3Rpb25NYXBwaW5nJywgbWFwcGluZylcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogYWRkIGNvbm5lY3Rpb24gZm9yIGZpZWxkIGFuZCBxdWVzdGlvblxyXG4gICAqL1xyXG4gIGFjdGl2ZUFkZEZpZWxkUXVlc3Rpb25Db25uUGFuZWwgPSAoKSA9PiB7XHJcbiAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgYWRkTWFwcGluZzoge1xyXG4gICAgICAgIGZpZWxkOiBudWxsLFxyXG4gICAgICAgIHF1ZXN0aW9uOiBudWxsXHJcbiAgICAgIH0sXHJcbiAgICAgIGVkaXRNYXBwaW5nOiBudWxsXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIGhpZGUgdGhlIGZpZWxkLXF1ZXN0aW9uIHBhbmVsXHJcbiAgICovXHJcbiAgZGVhY3RpdmVBZGRGaWVsZFF1ZXN0aW9uQ29ublBhbmVsID0gKCkgPT4ge1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgIGFkZE1hcHBpbmc6IG51bGxcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZGVsZXRlQ29ubmVjdGlvbiA9IChpbmRleCwgZT8pID0+IHtcclxuICAgIGlmIChlKSB7XHJcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICB9XHJcbiAgICBjb25zdCBtYXBwaW5nID0gW10uY29uY2F0KHRoaXMucHJvcHMuY29uZmlnLmZpZWxkUXVlc3Rpb25NYXBwaW5nIHx8IFtdKTtcclxuICAgIGlmIChpbmRleCA+PSAwICYmIGluZGV4IDwgbWFwcGluZy5sZW5ndGgpIHtcclxuICAgICAgbWFwcGluZy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgfVxyXG4gICAgLy8gZGVsZXRlIG1hcHBpbmdbZmllbGRdO1xyXG4gICAgdGhpcy5wcm9wcy5vblNldHRpbmdDaGFuZ2Uoe1xyXG4gICAgICBpZDogdGhpcy5wcm9wcy5pZCxcclxuICAgICAgY29uZmlnOiB0aGlzLnByb3BzLmNvbmZpZy5zZXQoJ2ZpZWxkUXVlc3Rpb25NYXBwaW5nJywgbWFwcGluZylcclxuICAgIH0pO1xyXG4gIH1cclxuICAvKipcclxuICAgKiBhZGQgYSBmaWVsZC1xdWVzdGlvbiBtYXBwaW5nXHJcbiAgICovXHJcbiAgYWRkRmllbGRRdWVzdGlvbkNvbm4gPSAoZSkgPT4ge1xyXG5cclxuICAgIGNvbnN0IGZpZWxkID0gdGhpcy5zdGF0ZS5hZGRNYXBwaW5nLmZpZWxkO1xyXG4gICAgY29uc3QgcXVlc3Rpb24gPSB0aGlzLnN0YXRlLmFkZE1hcHBpbmcucXVlc3Rpb247XHJcbiAgICBpZiAoIWZpZWxkIHx8ICFxdWVzdGlvbikge1xyXG4gICAgICBjb25zb2xlLmxvZygnUGxlYXNlIGVuc3VyZSBmaWVsZC9xdWVzdGlvbiBpcyBub3QgbnVsbC4nKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IG1hcHBpbmcgPSBbXS5jb25jYXQodGhpcy5wcm9wcy5jb25maWcuZmllbGRRdWVzdGlvbk1hcHBpbmcgfHwgW10pO1xyXG4gICAgbWFwcGluZy5wdXNoKHtcclxuICAgICAgZmllbGQ6IGZpZWxkLFxyXG4gICAgICBxdWVzdGlvbjogcXVlc3Rpb25cclxuICAgIH0pO1xyXG4gICAgLy8gbWFwcGluZ1tmaWVsZF0gPSBxdWVzdGlvbjtcclxuXHJcbiAgICB0aGlzLnByb3BzLm9uU2V0dGluZ0NoYW5nZSh7XHJcbiAgICAgIGlkOiB0aGlzLnByb3BzLmlkLFxyXG4gICAgICBjb25maWc6IHRoaXMucHJvcHMuY29uZmlnLnNldCgnZmllbGRRdWVzdGlvbk1hcHBpbmcnLCBtYXBwaW5nKVxyXG4gICAgfSk7XHJcbiAgICB0aGlzLmRlYWN0aXZlQWRkRmllbGRRdWVzdGlvbkNvbm5QYW5lbCgpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogb24gc3VydmV5IHF1ZXN0aW9uIGZpZWxkIGNoYW5nZWRcclxuICAgKi9cclxuICBvblN1cnZleVF1ZXN0aW9uRmllbGRDaGFuZ2VkID0gKGU6IGFueSkgPT4ge1xyXG4gICAgY29uc3QgdGFyZ2V0ID0gZS5jdXJyZW50VGFyZ2V0O1xyXG4gICAgY29uc3QgdmFsdWUgPSB0YXJnZXQudmFsdWU7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiB1cGRhdGUgZmllbGRzIGluIGRhdGEgc291cmNlXHJcbiAgICAgKi9cclxuICAgIGlmICh2YWx1ZSAmJiB2YWx1ZSAhPT0gJ251bGwnKSB7XHJcbiAgICAgIHRoaXMucHJvcHMub25TZXR0aW5nQ2hhbmdlKHtcclxuICAgICAgICBpZDogdGhpcy5wcm9wcy5pZCxcclxuICAgICAgICBjb25maWc6IHRoaXMucHJvcHMuY29uZmlnLnNldCgnc2VsZWN0ZWRTdXJ2ZXlRdWVzdGlvbkZpZWxkcycsIFt2YWx1ZV0pLFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIGlzRHNDb25maWd1cmVkXHJcbiAgICovXHJcbiAgaXNEc0NvbmZpZ3VyZWQgPSAoKSA9PiB7XHJcbiAgICBpZiAodGhpcy5wcm9wcy51c2VEYXRhU291cmNlcyAmJlxyXG4gICAgICB0aGlzLnByb3BzLnVzZURhdGFTb3VyY2VzLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIHJlc2V0IHN1cnZleVxyXG4gICAqL1xyXG4gIHJlc2V0U3VydmV5ID0gKCkgPT4ge1xyXG4gICAgLyoqXHJcbiAgICAgKiByZXNldCBzdXJ2ZXkgaXRlbSBpZFxyXG4gICAgICovXHJcbiAgICB0aGlzLnByb3BzLm9uU2V0dGluZ0NoYW5nZSh7XHJcbiAgICAgIGlkOiB0aGlzLnByb3BzLmlkLFxyXG4gICAgICBjb25maWc6IHRoaXMucHJvcHMuY29uZmlnLnNldCgnc3VydmV5SXRlbUlkJywgbnVsbCkuc2V0KCdoaWRlcycsIFtdKVxyXG4gICAgICAgIC5zZXQoJ2VtYmVkcycsIFsnZnVsbFNjcmVlbicsICdvblN1Ym1pdHRlZCddKVxyXG4gICAgICAgIC8vLnNldCgnZW1iZWRzJywgWydmdWxsU2NyZWVuJ10pXHJcbiAgICAgICAgLnNldCgnc2VsZWN0ZWRTdXJ2ZXlRdWVzdGlvbkZpZWxkcycsIFtdKVxyXG4gICAgICAgIC5zZXQoJ2ZpZWxkUXVlc3Rpb25NYXBwaW5nJywgW10pXHJcbiAgICAgICAgLnNldCgnYWN0aXZlTGlua0RhdGEnLCBmYWxzZSlcclxuICAgICAgICAuc2V0KCdkc1R5cGUnLCBudWxsKS5zZXQoJ3NlbGVjdGVkU3VydmV5JywgbnVsbClcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICBtb2RlOiAnc3VydmV5LWNyZWF0ZVN1cnZleScsXHJcbiAgICAgIHNlbGVjdGVkU3VydmV5OiBudWxsLFxyXG4gICAgICBpc0NoZWNrZWRTdXJ2ZXlJdGVtSWQ6IGZhbHNlLFxyXG4gICAgICBzdXJ2ZXlRdWVzdGlvbkZpZWxkczogW10sXHJcbiAgICAgIGRzTWFwVmlldzogbnVsbCxcclxuICAgICAgZHNGZWF0dXJlTGF5ZXI6IG51bGwsXHJcbiAgICAgIGRzRmVhdHVyZUxheWVyRmllbGRzOiBbXVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiByZW5kZXJcclxuICAgKi9cclxuICByZW5kZXIoKSB7XHJcbiAgICAvLyBsZXQgZGVmYXVsdFZhbHVlID0gdGhpcy5wcm9wcy5jb25maWcuZGVmYXVsdFZhbHVlO1xyXG4gICAgLy8gY29uc3QgdXNlZEZpZWxkTmFtZSA9IHRoaXMucHJvcHMudXNlRGF0YVNvdXJjZXMgJiYgdGhpcy5wcm9wcy51c2VEYXRhU291cmNlc1swXSAmJlxyXG4gICAgLy8gICB0aGlzLnByb3BzLnVzZURhdGFTb3VyY2VzWzBdLmZpZWxkcyAmJiB0aGlzLnByb3BzLnVzZURhdGFTb3VyY2VzWzBdLmZpZWxkc1swXTtcclxuICAgIC8vIGNvbnN0IHNlbGVjdGVkU3VydmV5UXVlc3Rpb25GaWVsZCA9IHRoaXMucHJvcHMuY29uZmlnLnNlbGVjdGVkU3VydmV5UXVlc3Rpb25GaWVsZHMgJiYgdGhpcy5wcm9wcy5jb25maWcuc2VsZWN0ZWRTdXJ2ZXlRdWVzdGlvbkZpZWxkc1swXTtcclxuICAgIC8qKlxyXG4gICAgICogc2hvdyBzZXR0aW5nIHBhZ2VcclxuICAgICAqL1xyXG4gICAgaWYgKHRoaXMuc3RhdGUuc2VsZWN0ZWRTdXJ2ZXkgJiYgdGhpcy5wcm9wcy5jb25maWcuc3VydmV5SXRlbUlkICYmIHRoaXMuc3RhdGUuaXNDaGVja2VkU3VydmV5SXRlbUlkID09PSBmYWxzZSkge1xyXG4gICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICBpc0NoZWNrZWRTdXJ2ZXlJdGVtSWQ6IHRydWVcclxuICAgICAgfSk7XHJcbiAgICAgIHRoaXMuc2hvd1NldHRpbmdQYWdlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiByZW5kZXJcclxuICAgICAqL1xyXG4gICAgcmV0dXJuIDxkaXYgY3NzPXtnZXRTdHlsZSh0aGlzLnByb3BzLnRoZW1lKX0gY2xhc3NOYW1lPVwiamltdS13aWRnZXQtc2V0dGluZyBzdXJ2ZXkxMjNcIj5cclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJzdXJ2ZXkxMjNfX3NlY3Rpb25cIiBzdHlsZT17XHJcbiAgICAgICAgKHRoaXMuc3RhdGUubW9kZS5pbmRleE9mKCdzdXJ2ZXktJykgIT09IC0xKSA/XHJcbiAgICAgICAgICB7IGRpc3BsYXk6ICdibG9jaycgfVxyXG4gICAgICAgICAgOiB7IGRpc3BsYXk6ICdub25lJyB9XHJcbiAgICAgIH0gPlxyXG4gICAgICAgIDxTZXR0aW5nU2VjdGlvbj5cclxuICAgICAgICAgIDxTZXR0aW5nUm93PlxyXG4gICAgICAgICAgICA8cD57dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2Uoe2lkOiAnY2hvb3NlU3VydmV5JywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5jaG9vc2VTdXJ2ZXl9KX08L3A+XHJcbiAgICAgICAgICA8L1NldHRpbmdSb3c+XHJcbiAgICAgICAgICA8U2V0dGluZ1Jvdz5cclxuICAgICAgICAgICAgPFJhZGlvIG5hbWU9XCJzdXJ2ZXktc3VydmV5XCIgY2xhc3NOYW1lPVwiY3Vyc29yLXBvaW50ZXJcIiBpZD1cInN1cnZleS1zdXJ2ZXktY3JlYXRlTmV3U3VydmV5XCJcclxuICAgICAgICAgICAgICBjaGVja2VkPXt0aGlzLnN0YXRlLm1vZGUgPT09ICdzdXJ2ZXktY3JlYXRlU3VydmV5J31cclxuICAgICAgICAgICAgICBvbkNoYW5nZT17KCkgPT4geyB0aGlzLnNldFN0YXRlKHsgbW9kZTogJ3N1cnZleS1jcmVhdGVTdXJ2ZXknIH0pIH19IC8+XHJcbiAgICAgICAgICAgIDxMYWJlbCBmb3I9XCJzdXJ2ZXktc3VydmV5LWNyZWF0ZU5ld1N1cnZleVwiIGNsYXNzTmFtZT1cImN1cnNvci1wb2ludGVyXCI+XHJcbiAgICAgICAgICAgICAgJm5ic3A7Jm5ic3A7e3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHtpZDogJ2NyZWF0ZU5ld1N1cnZleUxhYmVsJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5jcmVhdGVOZXdTdXJ2ZXlMYWJlbH0pfVxyXG4gICAgICAgICAgICA8L0xhYmVsPlxyXG4gICAgICAgICAgPC9TZXR0aW5nUm93PlxyXG4gICAgICAgICAgPFNldHRpbmdSb3c+XHJcbiAgICAgICAgICAgIDxSYWRpbyBuYW1lPVwic3VydmV5LXN1cnZleVwiIGNsYXNzTmFtZT1cImN1cnNvci1wb2ludGVyXCIgaWQ9XCJzdXJ2ZXktc3VydmV5LWNob29zZUV4aXN0aW5nU3VydmV5XCJcclxuICAgICAgICAgICAgICBjaGVja2VkPXt0aGlzLnN0YXRlLm1vZGUgPT09ICdzdXJ2ZXktc2VsZWN0RXhpc3RpbmdTdXJ2ZXknfVxyXG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXsoKSA9PiB7IHRoaXMuc2V0U3RhdGUoeyBtb2RlOiAnc3VydmV5LXNlbGVjdEV4aXN0aW5nU3VydmV5JyB9KSB9fSAvPlxyXG4gICAgICAgICAgICA8TGFiZWwgZm9yPVwic3VydmV5LXN1cnZleS1jaG9vc2VFeGlzdGluZ1N1cnZleVwiIGNsYXNzTmFtZT1cImN1cnNvci1wb2ludGVyXCI+XHJcbiAgICAgICAgICAgICAgJm5ic3A7Jm5ic3A7e3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHtpZDogJ2Nob29zZVN1cnZleUxhYmVsJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5jaG9vc2VTdXJ2ZXlMYWJlbH0pfVxyXG4gICAgICAgICAgICA8L0xhYmVsPlxyXG4gICAgICAgICAgPC9TZXR0aW5nUm93PlxyXG4gICAgICAgIDwvU2V0dGluZ1NlY3Rpb24+XHJcblxyXG4gICAgICAgIHsvKiBzZWxlY3QgZXhpc3Rpbmcgc3VydmV5ICovfVxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3VydmV5MTIzX19zZWN0aW9uLXNlbGVjdEV4aXN0aW5nU3VydmV5XCIgc3R5bGU9e1xyXG4gICAgICAgICAgKHRoaXMuc3RhdGUubW9kZSA9PT0gJ3N1cnZleS1zZWxlY3RFeGlzdGluZ1N1cnZleScpID9cclxuICAgICAgICAgICAgeyBkaXNwbGF5OiAnYmxvY2snIH1cclxuICAgICAgICAgICAgOiB7IGRpc3BsYXk6ICdub25lJyB9XHJcbiAgICAgICAgfSA+XHJcbiAgICAgICAgICA8U2V0dGluZ1NlY3Rpb24gY2xhc3NOYW1lPVwic2VsZWN0LXN1cnZleS1zZWN0aW9uXCI+XHJcbiAgICAgICAgICAgIDxTZXR0aW5nUm93PlxyXG4gICAgICAgICAgICAgIDxTZWxlY3Qgb25DaGFuZ2U9e3RoaXMub25FeGlzdFN1cnZleUNoYW5nZWR9IGRpc2FibGVkPXt0aGlzLnN0YXRlLmV4aXN0U3VydmV5cy5sZW5ndGggPT09IDB9XHJcbiAgICAgICAgICAgICAgICB2YWx1ZT17KHRoaXMuc3RhdGUuc2VsZWN0ZWRTdXJ2ZXkpID8gdGhpcy5zdGF0ZS5zZWxlY3RlZFN1cnZleS5pZCA6ICdudWxsJ31cclxuICAgICAgICAgICAgICAgIHN0eWxlPXt7d2lkdGg6ICcxMDAlJywgcGFkZGluZzogJzJweCA1cHgnfX0+XHJcbiAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwibnVsbFwiPnt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7aWQ6ICdzZWxlY3RTdXJ2ZXlUaXAnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLnNlbGVjdFN1cnZleVRpcH0pfTwvb3B0aW9uPlxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAodGhpcy5zdGF0ZS5leGlzdFN1cnZleXMubGVuZ3RoID4gMCkgP1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuZXhpc3RTdXJ2ZXlzLm1hcCgoc3VydmV5KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gPG9wdGlvbiB2YWx1ZT17c3VydmV5LmlkfSBrZXk9e3N1cnZleS5pZH0+e3N1cnZleS50aXRsZX08L29wdGlvbj5cclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIDogJydcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICA8L1NlbGVjdD5cclxuICAgICAgICAgICAgPC9TZXR0aW5nUm93PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInN1cnZleS1saXN0LW1zZ1wiIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7IF9faHRtbDogdGhpcy5zdGF0ZS5leGlzdFN1cnZleU1zZyB9fT48L2Rpdj5cclxuICAgICAgICAgICAgey8qIDxwIGNsYXNzTmFtZT1cImVycm9yLW1lc3NhZ2VcIj57dGhpcy5zdGF0ZS5leGlzdFN1cnZleU1zZ308L3A+ICovfVxyXG4gICAgICAgICAgPC9TZXR0aW5nU2VjdGlvbj5cclxuXHJcbiAgICAgICAgICB7Lyogc3VydmV5IGRldGFpbHMgKi99XHJcbiAgICAgICAgICA8ZGl2IHN0eWxlPXt7XHJcbiAgICAgICAgICAgIGRpc3BsYXk6ICh0aGlzLnN0YXRlLnNlbGVjdGVkU3VydmV5KSA/ICdibG9jaycgOiAnbm9uZSdcclxuICAgICAgICAgIH19PlxyXG4gICAgICAgICAgICA8U2V0dGluZ1NlY3Rpb24gdGl0bGU9e3RoaXMubmxzKCdzdXJ2ZXlEZXRhaWxMYWJlbCcpfSBjbGFzc05hbWU9XCJjcmVhdGUtc3VydmV5LWNvbnRhaW5lclwiPlxyXG4gICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICh0aGlzLnN0YXRlLnNlbGVjdGVkU3VydmV5KSA/XHJcbiAgICAgICAgICAgICAgICAgIFtcclxuICAgICAgICAgICAgICAgICAgICA8U2V0dGluZ1JvdyBrZXk9XCJzdXJ2ZXlUaHVtbmFpbFwiPjxpbWcgc3JjPXt0aGlzLmdldFRodW1ibmFpbFVybCgpfSBzdHlsZT17eyB3aWR0aDogJzEwMCUnLCBoZWlnaHQ6ICdhdXRvJyB9fT48L2ltZz48L1NldHRpbmdSb3c+LFxyXG4gICAgICAgICAgICAgICAgICAgIDxTZXR0aW5nUm93IGtleT1cInN1cnZleVRpdGxlXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT17e3dvcmRCcmVhazogJ2JyZWFrLXdvcmQnLCBmb250U2l6ZTogJzAuODEyNXJlbScsIGNvbG9yOiAnI0ZGRkZGRicgfX0+e3RoaXMuc3RhdGUuc2VsZWN0ZWRTdXJ2ZXkudGl0bGV9PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvU2V0dGluZ1Jvdz4sXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gPFNldHRpbmdSb3cgbGFiZWw9XCJUYWdzXCI+PHAgY2xhc3NOYW1lPVwidy0xMDBcIj57dGhpcy5zdGF0ZS5zZWxlY3RlZFN1cnZleS50YWdzfTwvcD48L1NldHRpbmdSb3c+LFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIDxTZXR0aW5nUm93Pnt0aGlzLnN0YXRlLnNlbGVjdGVkU3VydmV5Lm93bmVyfTwvU2V0dGluZ1Jvdz4sXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5zZWxlY3RlZFN1cnZleS5zbmlwcGV0ID9cclxuICAgICAgICAgICAgICAgICAgICAgIDxTZXR0aW5nUm93IGNsYXNzTmFtZT1cIml0ZW1zXCIga2V5PVwic3VydmV5U25pcHBldFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8aDY+e3RoaXMubmxzKCdzdW1tYXJ5TGFiZWwnKX08L2g2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTAwXCI+e3RoaXMuc3RhdGUuc2VsZWN0ZWRTdXJ2ZXkuc25pcHBldH08L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgIDwvU2V0dGluZ1Jvdz5cclxuICAgICAgICAgICAgICAgICAgICAgIDpcclxuICAgICAgICAgICAgICAgICAgICAgIG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgPFNldHRpbmdSb3cga2V5PVwic3VydmV5SW5zZXJ0QnRuXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIHR5cGU9XCJwcmltYXJ5XCIgY2xhc3NOYW1lPVwidy0xMDBcIiBvbkNsaWNrPXt0aGlzLnNldFN1cnZleUl0ZW1JZH0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7aWQ6ICdpbnNlcnRMYWJlbCcsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMuaW5zZXJ0TGFiZWx9KX1cclxuICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvU2V0dGluZ1Jvdz5cclxuICAgICAgICAgICAgICAgICAgXSA6XHJcbiAgICAgICAgICAgICAgICAgIG51bGxcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIDwvU2V0dGluZ1NlY3Rpb24+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgey8qIGNyZWF0ZSBzdXJ2ZXkgKi99XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzdXJ2ZXkxMjNfX3NlY3Rpb24tY3JlYXRlU3VydmV5XCIgc3R5bGU9e1xyXG4gICAgICAgICAgKHRoaXMuc3RhdGUubW9kZSA9PT0gJ3N1cnZleS1jcmVhdGVTdXJ2ZXknKSA/XHJcbiAgICAgICAgICAgIHsgZGlzcGxheTogJ2Jsb2NrJyB9XHJcbiAgICAgICAgICAgIDogeyBkaXNwbGF5OiAnbm9uZScgfVxyXG4gICAgICAgIH0+XHJcbiAgICAgICAgICA8U2V0dGluZ1NlY3Rpb24+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xMDAgZC1mbGV4IGZsZXgtd3JhcCBhbGlnbi1pdGVtcy1jZW50ZXIganVzdGlmeS1jb250ZW50LWJldHdlZW4gc2V0dGluZy1oZWFkZXIgc2V0dGluZy10aXRsZSBwYi0yXCI+XHJcbiAgICAgICAgICAgICAgPGRpdj57dGhpcy5ubHMoJ3N1cnZleVRpdGxlTGFiZWwnKX1cclxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImlzUmVxdWlyZWRcIj4qPC9zcGFuPlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgIDxUZXh0SW5wdXQgY2xhc3NOYW1lPVwidy0xMDBcIiB2YWx1ZT17dGhpcy5zdGF0ZS5uZXdTdXJ2ZXlUaXRsZSB8fCAnJ30gbmFtZT1cIm5ld1N1cnZleVRpdGxlXCIgb25DaGFuZ2U9e3RoaXMub25OZXdTdXJ2ZXlWYWx1ZUNoYW5nZWR9IC8+XHJcbiAgICAgICAgICAgICAgeyF0aGlzLnN0YXRlLm5ld1N1cnZleVRpdGxlICYmIHRoaXMuc3RhdGUubmV3U3VydmV5VGl0bGVEaXJ0eSA/XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImVycm9yLW1lc3NhZ2VcIj5cclxuICAgICAgICAgICAgICAgICAge3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHtpZDogJ3N1cnZleVRpdGxlUmVxdWlyZWRNc2cnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLnN1cnZleVRpdGxlUmVxdWlyZWRNc2d9KX1cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgOlxyXG4gICAgICAgICAgICAgICAgJyd9XHJcbiAgICAgICAgICAgICAge3RoaXMuc3RhdGUuY3JlYXRlU3VydmV5RXJyb3JNc2cgJiYgIXRoaXMuc3RhdGUubmV3U3VydmV5VGl0bGVEaXJ0eSA/XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImVycm9yLW1lc3NhZ2VcIj5cclxuICAgICAgICAgICAgICAgICAge3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHtpZDogJ3N1cnZleVRpdGxlRHVwbGljYXRlTXNnJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5zdXJ2ZXlUaXRsZUR1cGxpY2F0ZU1zZ30pfVxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA6XHJcbiAgICAgICAgICAgICAgICAnJ31cclxuICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTAwIGQtZmxleCBmbGV4LXdyYXAgYWxpZ24taXRlbXMtY2VudGVyIGp1c3RpZnktY29udGVudC1iZXR3ZWVuIHNldHRpbmctaGVhZGVyIHNldHRpbmctdGl0bGUgcGItMlwiPlxyXG4gICAgICAgICAgICAgIDxkaXY+e3RoaXMubmxzKCdzdXJ2ZXlUYWdMYWJlbCcpfVxyXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaXNSZXF1aXJlZFwiPio8L3NwYW4+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgPFRleHRJbnB1dCBjbGFzc05hbWU9XCJ3LTEwMFwiIHZhbHVlPXt0aGlzLnN0YXRlLm5ld1N1cnZleVRhZ3MgfHwgJyd9IG5hbWU9XCJuZXdTdXJ2ZXlUYWdzXCIgb25DaGFuZ2U9e3RoaXMub25OZXdTdXJ2ZXlWYWx1ZUNoYW5nZWR9IC8+XHJcbiAgICAgICAgICAgICAgeyF0aGlzLnN0YXRlLm5ld1N1cnZleVRhZ3MgJiYgdGhpcy5zdGF0ZS5uZXdTdXJ2ZXlUYWdzRGlydHkgP1xyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJlcnJvci1tZXNzYWdlXCI+XHJcbiAgICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7aWQ6ICdzdXJ2ZXlUYWdzUmVxdWlyZWRNc2cnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLnN1cnZleVRhZ3NSZXF1aXJlZE1zZ30pfVxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA6XHJcbiAgICAgICAgICAgICAgICAnJ31cclxuICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTAwIGQtZmxleCBmbGV4LXdyYXAgYWxpZ24taXRlbXMtY2VudGVyIGp1c3RpZnktY29udGVudC1iZXR3ZWVuIHNldHRpbmctaGVhZGVyIHNldHRpbmctdGl0bGUgcGItMlwiPlxyXG4gICAgICAgICAgICAgIDxkaXY+e3RoaXMubmxzKCdzdXJ2ZXlTdW1tYXJ5TGFiZWwnKX08L2Rpdj5cclxuICAgICAgICAgICAgICA8VGV4dElucHV0IGNsYXNzTmFtZT1cInctMTAwXCIgdmFsdWU9e3RoaXMuc3RhdGUubmV3U3VydmV5U25pcHBldCB8fCAnJ30gbmFtZT1cIm5ld1N1cnZleVNuaXBwZXRcIiBvbkNoYW5nZT17dGhpcy5vbk5ld1N1cnZleVZhbHVlQ2hhbmdlZH0gLz5cclxuICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICB7LyogPFNldHRpbmdSb3cgbGFiZWw9XCJUaHVtYm5haWxcIj5cclxuICAgICAgICAgICAgPGltZyBzcmM9e3RoaXMuc3RhdGUubmV3U3VydmV5VGh1bWJuYWlsVXJsfSBzdHlsZT17e1xyXG4gICAgICAgICAgICAgIHdpZHRoOiAnNTBweCcsXHJcbiAgICAgICAgICAgICAgaGVpZ2h0OiAnNTBweCdcclxuICAgICAgICAgICAgfX0+PC9pbWc+XHJcblxyXG4gICAgICAgICAgICA8VGV4dElucHV0IGNsYXNzTmFtZT1cInctMTAwXCIgdmFsdWU9e3RoaXMuc3RhdGUubmV3U3VydmV5VGh1bWJuYWlsVXJsfSBuYW1lPVwibmV3U3VydmV5VGh1bWJuYWlsVXJsXCIgb25DaGFuZ2U9e3RoaXMub25OZXdTdXJ2ZXlWYWx1ZUNoYW5nZWR9IC8+XHJcblxyXG4gICAgICAgICAgPC9TZXR0aW5nUm93PiAqL31cclxuICAgICAgICAgICAgPFNldHRpbmdSb3cgZmxvdz1cIndyYXBcIj5cclxuICAgICAgICAgICAgICA8QnV0dG9uIHR5cGU9XCJwcmltYXJ5XCIgY2xhc3NOYW1lPVwidy0xMDBcIiBkaXNhYmxlZD17dGhpcy5zdGF0ZS5uZXdTdXJ2ZXlMb2FkaW5nID09PSB0cnVlfSBvbkNsaWNrPXt0aGlzLmNyZWF0ZVN1cnZleX0+XHJcbiAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2Uoe2lkOiAnY3JlYXRlU3VydmV5QnRuJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5jcmVhdGVTdXJ2ZXlCdG59KX1cclxuICAgICAgICAgICAgICA8L0J1dHRvbj5cclxuICAgICAgICAgICAgICA8c3BhbiBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgY29sb3I6ICcjZmYwMDAwJyxcclxuICAgICAgICAgICAgICAgIG1hcmdpblRvcDogJzEwcHgnXHJcbiAgICAgICAgICAgICAgfX0+e3RoaXMuc3RhdGUubmV3U3VydmV5TXNnfTwvc3Bhbj5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTAwXCIgc3R5bGU9e1xyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcclxuICAgICAgICAgICAgICAgICAgZGlzcGxheTogJ2Jsb2NrJyxcclxuICAgICAgICAgICAgICAgICAgbWFyZ2luVG9wOiAnNTBweCdcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJqaW11LXNlY29uZGFyeS1sb2FkaW5nXCIgc3R5bGU9e1xyXG4gICAgICAgICAgICAgICAgICAodGhpcy5zdGF0ZS5uZXdTdXJ2ZXlMb2FkaW5nID09PSB0cnVlKSA/IHsgZGlzcGxheTogJ2Jsb2NrJyB9IDogeyBkaXNwbGF5OiAnbm9uZScgfVxyXG4gICAgICAgICAgICAgICAgfT48L2Rpdj5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9TZXR0aW5nUm93PlxyXG4gICAgICAgICAgPC9TZXR0aW5nU2VjdGlvbj5cclxuICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgey8qIHNldHRpbmcgc2VjdGlvbiAqL31cclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJzdXJ2ZXkxMjNfX3NlY3Rpb25cIiBzdHlsZT17XHJcbiAgICAgICAgKHRoaXMuc3RhdGUubW9kZS5pbmRleE9mKCdzZXR0aW5ncycpICE9PSAtMSkgP1xyXG4gICAgICAgICAgeyBkaXNwbGF5OiAnYmxvY2snIH1cclxuICAgICAgICAgIDogeyBkaXNwbGF5OiAnbm9uZScgfVxyXG4gICAgICB9PlxyXG4gICAgICAgIDxTZXR0aW5nU2VjdGlvbj5cclxuXHJcbiAgICAgICAgICA8U2V0dGluZ1Jvdz5cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzZWN0aW9uLXRpdGxlXCI+XHJcbiAgICAgICAgICAgICAgPGg2PnsodGhpcy5zdGF0ZS5zZWxlY3RlZFN1cnZleSkgPyB0aGlzLnN0YXRlLnNlbGVjdGVkU3VydmV5LnRpdGxlIDogJyd9PC9oNj5cclxuICAgICAgICAgICAgICA8QnV0dG9uIGNsYXNzTmFtZT1cInN1cnZleTEyM19fc2VjdGlvbi1yZXNldFN1cnZleVwiIG9uQ2xpY2s9eygpID0+IHRoaXMuc2V0U3RhdGUoeyBtb2RlOiAnY29uZmlybVJlc2V0U3VydmV5JyB9KX0+PEljb24gc2l6ZT1cIjhcIiBpY29uPXt0aGlzLmljb25SZWZyZXNofSAvPjwvQnV0dG9uPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwvU2V0dGluZ1Jvdz5cclxuICAgICAgICAgXHJcblxyXG4gICAgICAgICAgPFNldHRpbmdSb3c+XHJcbiAgICAgICAgICAgIDxCdXR0b24gY2xhc3NOYW1lPVwidy0xMDBcIiBjb2xvcj1cInByaW1hcnlcIiB0eXBlPVwicHJpbWFyeVwiIG9uQ2xpY2s9e3RoaXMuZWRpdFN1cnZleX0+XHJcbiAgICAgICAgICAgICAge3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHtpZDogJ2VkaXRTdXJ2ZXlCdG4nLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLmVkaXRTdXJ2ZXlCdG59KX1cclxuICAgICAgICAgICAgPC9CdXR0b24+XHJcbiAgICAgICAgICA8L1NldHRpbmdSb3c+XHJcbiAgICAgICAgPC9TZXR0aW5nU2VjdGlvbj5cclxuXHJcbiAgICAgICAgPFNldHRpbmdTZWN0aW9uIHRpdGxlPXt0aGlzLm5scygnYXBwZWFyYW5jZVRpdGxlJyl9PlxyXG4gICAgICAgICAgPFNldHRpbmdSb3c+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYXBwZWFyYW5jZVwiPlxyXG4gICAgICAgICAgICAgIDxzcGFuPnt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7aWQ6ICdzaG93T3B0aW9uc0JhckxhYmVsJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5zaG93T3B0aW9uc0JhckxhYmVsfSl9PC9zcGFuPlxyXG4gICAgICAgICAgICAgIDxTd2l0Y2ggY2xhc3NOYW1lPVwiY2FuLXgtc3dpdGNoXCIgY2hlY2tlZD17dGhpcy5wcm9wcy5jb25maWcuaGlkZXMuaW5kZXhPZignbmF2YmFyJykgPCAwfVxyXG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e2V2dCA9PiB7IHRoaXMuc2V0QXBwZWFyYW5jZShldnQudGFyZ2V0LmNoZWNrZWQsICduYXZiYXInKSB9fSAvPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgey8qIDxpbnB1dCB2YWx1ZT0nbmF2YmFyJyB0eXBlPVwiY2hlY2tib3hcIiBvbkNsaWNrPXt0aGlzLnNldEFwcGVhcmFuY2V9IGNoZWNrZWQ9e3RoaXMucHJvcHMuY29uZmlnLmhpZGVzLmluZGV4T2YoJ25hdmJhcicpICE9PSAtMX0gLz4gKi99XHJcbiAgICAgICAgICA8L1NldHRpbmdSb3c+XHJcbiAgICAgICAgICA8U2V0dGluZ1Jvdz5cclxuICAgICAgICAgICAgey8qIDxpbnB1dCB2YWx1ZT0naGVhZGVyJyB0eXBlPVwiY2hlY2tib3hcIiBvbkNsaWNrPXt0aGlzLnNldEFwcGVhcmFuY2V9IGNoZWNrZWQ9e3RoaXMucHJvcHMuY29uZmlnLmhpZGVzLmluZGV4T2YoJ2hlYWRlcicpICE9PSAtMX0gLz4gKi99XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYXBwZWFyYW5jZVwiPlxyXG4gICAgICAgICAgICAgIDxzcGFuPnt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7aWQ6ICdzaG93T3B0aW9uc0hlYWRlckxhYmVsJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5zaG93T3B0aW9uc0hlYWRlckxhYmVsfSl9PC9zcGFuPlxyXG4gICAgICAgICAgICAgIDxTd2l0Y2ggY2xhc3NOYW1lPVwiY2FuLXgtc3dpdGNoXCIgY2hlY2tlZD17dGhpcy5wcm9wcy5jb25maWcuaGlkZXMuaW5kZXhPZignaGVhZGVyJykgPCAwfVxyXG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e2V2dCA9PiB7IHRoaXMuc2V0QXBwZWFyYW5jZShldnQudGFyZ2V0LmNoZWNrZWQsICdoZWFkZXInKSB9fSAvPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwvU2V0dGluZ1Jvdz5cclxuICAgICAgICAgIDxTZXR0aW5nUm93PlxyXG4gICAgICAgICAgICB7LyogPGlucHV0IHZhbHVlPSdkZXNjcmlwdGlvbicgdHlwZT1cImNoZWNrYm94XCIgb25DbGljaz17dGhpcy5zZXRBcHBlYXJhbmNlfSBjaGVja2VkPXt0aGlzLnByb3BzLmNvbmZpZy5oaWRlcy5pbmRleE9mKCdkZXNjcmlwdGlvbicpICE9PSAtMX0gLz4gKi99XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYXBwZWFyYW5jZVwiPlxyXG4gICAgICAgICAgICAgIDxzcGFuPnt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7aWQ6ICdzaG93T3B0aW9uc0Rlc0xhYmVsJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5zaG93T3B0aW9uc0Rlc0xhYmVsfSl9PC9zcGFuPlxyXG4gICAgICAgICAgICAgIDxTd2l0Y2ggY2xhc3NOYW1lPVwiY2FuLXgtc3dpdGNoXCIgY2hlY2tlZD17dGhpcy5wcm9wcy5jb25maWcuaGlkZXMuaW5kZXhPZignZGVzY3JpcHRpb24nKSA8IDB9XHJcbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17ZXZ0ID0+IHsgdGhpcy5zZXRBcHBlYXJhbmNlKGV2dC50YXJnZXQuY2hlY2tlZCwgJ2Rlc2NyaXB0aW9uJykgfX0gLz5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8L1NldHRpbmdSb3c+XHJcbiAgICAgICAgICA8U2V0dGluZ1Jvdz5cclxuICAgICAgICAgICAgey8qIDxpbnB1dCB2YWx1ZT0nZm9vdGVyJyB0eXBlPVwiY2hlY2tib3hcIiBvbkNsaWNrPXt0aGlzLnNldEFwcGVhcmFuY2V9IGNoZWNrZWQ9e3RoaXMucHJvcHMuY29uZmlnLmhpZGVzLmluZGV4T2YoJ2Zvb3RlcicpICE9PSAtMX0gLz4gKi99XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYXBwZWFyYW5jZVwiPlxyXG4gICAgICAgICAgICAgIDxzcGFuPnt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7aWQ6ICdzaG93T3B0aW9uc0Zvb3RlckxhYmVsJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlcy5zaG93T3B0aW9uc0Zvb3RlckxhYmVsfSl9PC9zcGFuPlxyXG4gICAgICAgICAgICAgIDxTd2l0Y2ggY2xhc3NOYW1lPVwiY2FuLXgtc3dpdGNoXCIgY2hlY2tlZD17dGhpcy5wcm9wcy5jb25maWcuaGlkZXMuaW5kZXhPZignZm9vdGVyJykgPCAwfVxyXG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e2V2dCA9PiB7IHRoaXMuc2V0QXBwZWFyYW5jZShldnQudGFyZ2V0LmNoZWNrZWQsICdmb290ZXInKSB9fSAvPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwvU2V0dGluZ1Jvdz5cclxuICAgICAgICAgIDxTZXR0aW5nUm93PlxyXG4gICAgICAgICAgICB7LyogPGlucHV0IHZhbHVlPSd0aGVtZScgdHlwZT1cImNoZWNrYm94XCIgb25DbGljaz17dGhpcy5zZXRBcHBlYXJhbmNlfSBjaGVja2VkPXt0aGlzLnByb3BzLmNvbmZpZy5oaWRlcy5pbmRleE9mKCd0aGVtZScpICE9PSAtMX0gLz4gKi99XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYXBwZWFyYW5jZVwiPlxyXG4gICAgICAgICAgICAgIDxzcGFuPnt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7aWQ6ICd1c2VTdXJ2ZXlUaGVtZScsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMudXNlU3VydmV5VGhlbWV9KX08L3NwYW4+XHJcbiAgICAgICAgICAgICAgPFN3aXRjaCBjbGFzc05hbWU9XCJjYW4teC1zd2l0Y2hcIiBjaGVja2VkPXt0aGlzLnByb3BzLmNvbmZpZy5oaWRlcy5pbmRleE9mKCd0aGVtZScpIDwgMH1cclxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtldnQgPT4geyB0aGlzLnNldEFwcGVhcmFuY2UoZXZ0LnRhcmdldC5jaGVja2VkLCAndGhlbWUnKSB9fSAvPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwvU2V0dGluZ1Jvdz5cclxuICAgICAgICA8L1NldHRpbmdTZWN0aW9uPlxyXG5cclxuICAgICAgICB7LyogU2VuZCBkYXRhIHRvIHN1cnZleSAqL31cclxuICAgICAgICA8U2V0dGluZ1NlY3Rpb24+XHJcbiAgICAgICAgICA8U2V0dGluZ1Jvdz5cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzZWN0aW9uLXRpdGxlXCI+XHJcbiAgICAgICAgICAgICAgPGg2Pnt0aGlzLm5scygnc2VuZERhdGFUb1N1cnZleVRpdGxlJyl9PC9oNj5cclxuICAgICAgICAgICAgICA8U3dpdGNoIGNsYXNzTmFtZT1cImNhbi14LXN3aXRjaFwiIGNoZWNrZWQ9e3RoaXMucHJvcHMuY29uZmlnLmFjdGl2ZUxpbmtEYXRhfVxyXG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuYWN0aXZlTGlua0RhdGFDaGFuZ2V9IC8+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9TZXR0aW5nUm93PlxyXG5cclxuICAgICAgICAgIHt0aGlzLnByb3BzLmNvbmZpZy5hY3RpdmVMaW5rRGF0YSAmJlxyXG4gICAgICAgICAgICA8UmVhY3QuRnJhZ21lbnQ+XHJcbiAgICAgICAgICAgICAge3RoaXMuc3RhdGUubWFwV2lkZ2V0TGlzdCAmJiB0aGlzLnN0YXRlLm1hcFdpZGdldExpc3QubGVuZ3RoID4gMCA/XHJcbiAgICAgICAgICAgICAgICA8UmVhY3QuRnJhZ21lbnQ+XHJcbiAgICAgICAgICAgICAgICAgIDxTZXR0aW5nUm93PlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInctMTAwXCI+e3RoaXMubmxzKCdzZW5kRGF0YVRvU3VydmV5RGVzYycpfTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgPC9TZXR0aW5nUm93PlxyXG4gICAgICAgICAgICAgICAgICA8U2V0dGluZ1Jvdz5cclxuICAgICAgICAgICAgICAgICAgICA8c3Bhbj57dGhpcy5ubHMoJ3NlbGVjdFNvdXJjZVdpZGdldCcpfTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgPC9TZXR0aW5nUm93PlxyXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNldHRpbmctcm93XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgey8qIDxkaXYgY2xhc3NOYW1lPVwic2FtcGxlLXVzZS1tYXAtdmlldy1zZXR0aW5nIHAtMlwiPiAqL31cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgPEppbXVNYXBWaWV3U2VsZWN0b3Igb25TZWxlY3Q9e3RoaXMub25NYXBXaWRnZXRTZWxlY3RlZH0gdXNlTWFwV2lkZ2V0SWRzPXt0aGlzLnByb3BzLnVzZU1hcFdpZGdldElkc30gLz5cclxuICAgICAgICAgICAgICAgICAgICB7LyogPE1hcFNlbGVjdG9yIG9uU2VsZWN0PXt0aGlzLm9uTWFwU2VsZWN0ZWR9IHVzZU1hcFdpZGdldElkcz17dGhpcy5wcm9wcy51c2VNYXBXaWRnZXRJZHN9Lz4gKi99XHJcbiAgICAgICAgICAgICAgICAgICAgey8qIDwvZGl2PiAqL31cclxuICAgICAgICAgICAgICAgICAgICB7LyogPE1hcFNlbGVjdG9yIG9uU2VsZWN0PXt0aGlzLm9uTWFwU2VsZWN0ZWR9IHVzZU1hcFdpZGdldElkcz17dGhpcy5wcm9wcy51c2VNYXBXaWRnZXRJZHN9Lz4gKi99XHJcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICA8U2V0dGluZ1JvdyBjbGFzc05hbWU9XCJmZWEtbGF5ZXItb3V0dGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPFNldHRpbmdSb3cgY2xhc3NOYW1lPVwidXNlLWZlYXR1cmUtbGF5ZXItc2V0dGluZ1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4+e3RoaXMubmxzKCdzZWxlY3RTb3VyY2VMYXllcicpfTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICA8L1NldHRpbmdSb3c+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmZWF0dXJlLWxheWVyLWRyb3Bkb3duXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8SmltdUxheWVyVmlld1NlbGVjdG9yIG9uU2VsZWN0PXt0aGlzLm9uRGF0YVNvdXJjZVNlbGVjdGVkfSB1c2VNYXBXaWRnZXRJZHM9e3RoaXMucHJvcHMudXNlTWFwV2lkZ2V0SWRzfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBqaW11TGF5ZXJWaWV3SW5mbz17dGhpcy5wcm9wcy5jb25maWcgJiYgdGhpcy5wcm9wcy5jb25maWcubGF5ZXJWaWV3SW5mb30vPlxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgIHsvKiA8RGF0YVNvdXJjZVNlbGVjdG9yXHJcbiAgICAgICAgICAgICAgICAgICAgICB0eXBlcz17dGhpcy5zdXBwb3J0ZWRMYXllclR5cGVzfVxyXG4gICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWREYXRhU291cmNlSWRzPXt0aGlzLnByb3BzLnVzZURhdGFTb3VyY2VzICYmIEltbXV0YWJsZSh0aGlzLnByb3BzLnVzZURhdGFTb3VyY2VzLm1hcChkcyA9PiBkcy5kYXRhU291cmNlSWQpKX1cclxuICAgICAgICAgICAgICAgICAgICAgIHVzZURhdGFTb3VyY2VzRW5hYmxlZD17dHJ1ZX1cclxuICAgICAgICAgICAgICAgICAgICAgIG11c3RVc2VEYXRhU291cmNlPXt0cnVlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgb25TZWxlY3Q9e3RoaXMub25EYXRhU291cmNlU2VsZWN0ZWR9IG9uUmVtb3ZlPXt0aGlzLm9uRGF0YVNvdXJjZVJlbW92ZWR9IC8+ICovfVxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIHsvKiA8ZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIExheWVyTmFtZSBhbmQgY2xvc2UgaWNvblxyXG4gICAgICAgICAgICAgICAgICA8L2Rpdj4gKi99XHJcbiAgICAgICAgICAgICAgICAgIDwvU2V0dGluZ1Jvdz5cclxuXHJcbiAgICAgICAgICAgICAgICAgIDxTZXR0aW5nUm93PlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInctMTAwXCI+e3RoaXMubmxzKCd0cmlnZ2VyRXZlbnREZXNjMScpfTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICB7LyogPHNwYW4+e3RoaXMubmxzKCd0cmlnZ2VyRXZlbnRMaXN0VGl0bGUnKX08L3NwYW4+ICovfVxyXG4gICAgICAgICAgICAgICAgICA8L1NldHRpbmdSb3c+XHJcbiAgICAgICAgICAgICAgICAgIHsvKiA8U2V0dGluZ1JvdyBjbGFzc05hbWU9XCJzZWxlY3RcIj5cclxuICAgICAgICAgICAgICAgICAgICA8U2VsZWN0IHZhbHVlPXt0aGlzLnByb3BzLnRyaWdnZXJFdmVudFR5cGUgPyB0aGlzLnByb3BzLnRyaWdnZXJFdmVudFR5cGUgOiAnZXZlbnRUeXBlU2VsZWN0J30gb25DaGFuZ2U9e3RoaXMudHJpZ2dlckV2ZW50VHlwZUNoYW5nZX0gY2xhc3NOYW1lPVwiXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIGtleT1cImV2ZW50VHlwZVNlbGVjdFwiIHZhbHVlPVwiZXZlbnRUeXBlU2VsZWN0XCI+e3RoaXMubmxzKCd0cmlnZ2VyRXZlbnRTZWxlY3QnKX08L29wdGlvbj5cclxuICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24ga2V5PVwiZXZlbnRUeXBlQWRkXCIgdmFsdWU9XCJldmVudFR5cGVBZGRcIj57dGhpcy5ubHMoJ3RyaWdnZXJFdmVudEFkZCcpfTwvb3B0aW9uPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvSW5wdXQ+XHJcbiAgICAgICAgICAgICAgICAgIDwvU2V0dGluZ1Jvdz4gKi99XHJcblxyXG4gICAgICAgICAgICAgICAgICB7Lyogc2F2ZWQgZmllbGQtcXVlc3Rpb24gbWFwcGluZyAqL31cclxuXHJcbiAgICAgICAgICAgICAgICAgIDxTZXR0aW5nUm93PlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuPnt0aGlzLm5scygnYWRkQ29ublRpdGxlJyl9PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICA8L1NldHRpbmdSb3c+XHJcblxyXG4gICAgICAgICAgICAgICAgICB7KHRoaXMucHJvcHMudXNlTWFwV2lkZ2V0SWRzICYmIHRoaXMucHJvcHMudXNlTWFwV2lkZ2V0SWRzLmxlbmd0aCAmJiB0aGlzLnByb3BzLmNvbmZpZyAmJiB0aGlzLnByb3BzLmNvbmZpZy5sYXllclZpZXdJbmZvICYmIHRoaXMucHJvcHMuY29uZmlnLmxheWVyVmlld0luZm8uZGF0YXNvdXJjZUlkKSA/XHJcbiAgICAgICAgICAgICAgICAgICAgPFJlYWN0LkZyYWdtZW50PlxyXG4gICAgICAgICAgICAgICAgICAgICAgeyh0aGlzLnByb3BzLmNvbmZpZy5maWVsZFF1ZXN0aW9uTWFwcGluZyAmJiB0aGlzLnByb3BzLmNvbmZpZy5maWVsZFF1ZXN0aW9uTWFwcGluZy5sZW5ndGggPiAwKSA/XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuY29uZmlnLmZpZWxkUXVlc3Rpb25NYXBwaW5nLmFzTXV0YWJsZSgpLm1hcCgobWFwcGluZywgaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpZWxkID0gbWFwcGluZy5maWVsZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHF1ZXN0aW9uID0gbWFwcGluZy5xdWVzdGlvbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiA8ZGl2IGtleT17ZmllbGQgKyAnXycgKyBxdWVzdGlvbiArICdfJyArIGluZGV4fSAgY2xhc3NOYW1lPVwibWFwcGluZy1jb250YWluZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3RoaXMuc3RhdGUuZWRpdE1hcHBpbmcgJiYgdGhpcy5zdGF0ZS5lZGl0TWFwcGluZy5pbmRleCA9PT0gaW5kZXggP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxSZWFjdC5GcmFnbWVudD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QgdmFsdWU9e3RoaXMuc3RhdGUuZWRpdE1hcHBpbmcuZmllbGQgfHwgJyd9IHN0eWxlPXt7bWFyZ2luQm90dG9tOiAnOHB4J319IG9uQ2hhbmdlPXsoZSkgPT4gdGhpcy5jaGFuZ2VFZGl0TWFwcGluZygnZmllbGQnLCBlKX0gPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS5kc0ZlYXR1cmVMYXllckZpZWxkcy5tYXAoKGZpZWxkKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDxvcHRpb24ga2V5PXsnZWRpdF8nICsgZmllbGQubmFtZSArICdfJyArIGluZGV4fSB2YWx1ZT17ZmllbGQubmFtZX0+e2ZpZWxkLmFsaWFzIHx8IGZpZWxkLm5hbWV9PC9vcHRpb24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3Q+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0IHZhbHVlPXt0aGlzLnN0YXRlLmVkaXRNYXBwaW5nLnF1ZXN0aW9uIHx8ICcnfSBvbkNoYW5nZT17KGUpID0+IHRoaXMuY2hhbmdlRWRpdE1hcHBpbmcoJ3F1ZXN0aW9uJywgZSl9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS5zdXJ2ZXlRdWVzdGlvbkZpZWxkcy5sZW5ndGggPiAwICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLnN1cnZleVF1ZXN0aW9uRmllbGRzLm1hcCgocXVlc3Rpb24pID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDxvcHRpb24ga2V5PXsnZWRpdF8nICsgcXVlc3Rpb24ubmFtZSArICdfJyArIGluZGV4fSB2YWx1ZT17cXVlc3Rpb24ubmFtZX0+e3F1ZXN0aW9uLmxhYmVsfTwvb3B0aW9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3Q+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgey8qIGJ1dHRvbnMgICovfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJidG4tZ3JvdXBcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiBjbGFzc05hbWU9XCJmbG9hdC1sZWZ0IGljb24tcmVtb3ZlLW1hcHBpbmdcIiB0eXBlPVwicHJpbWFyeVwiIGNvbG9yPVwicHJpbWFyeVwiIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHt0aGlzLmRlbGV0ZUNvbm5lY3Rpb24oaW5kZXgpOyB0aGlzLnNldFN0YXRlKHtlZGl0TWFwcGluZzogbnVsbH0pOyB9fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SWNvbiBzaXplPVwiMTZcIiBzdHlsZT17e21hcmdpbkxlZnQ6ICcwJywgbWFyZ2luUmlnaHQ6ICcwJ319IGljb249e3RoaXMuaWNvblJlbW92ZX0gLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gY2xhc3NOYW1lPVwidy0yNSBmbG9hdC1yaWdodFwiIHR5cGU9XCJzZWNvbmRhcnlcIiBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7dGhpcy5zZXRTdGF0ZSh7ZWRpdE1hcHBpbmc6IG51bGx9KX19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLm5scygnY2FuY2VsJyl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIGNsYXNzTmFtZT1cInctMjUgZmxvYXQtcmlnaHRcIiB0eXBlPVwicHJpbWFyeVwiIGNvbG9yPVwicHJpbWFyeVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge3RoaXMuZWRpdE1hcHBpbmcoaW5kZXgpOyB0aGlzLnNldFN0YXRlKHtlZGl0TWFwcGluZzogbnVsbH0pOyB9fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5ubHMoJ29rJyl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9SZWFjdC5GcmFnbWVudD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFJlYWN0LkZyYWdtZW50PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJsaW5rLWluZm9cIiBvbkNsaWNrPXsoZSkgPT4gdGhpcy5zaG93RWRpdE1hcHBpbmdQYW5lbChpbmRleCwgZSl9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD57dGhpcy5nZXRGaWVsQWxpYXMoZmllbGQpfTwvcD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjZW50ZXItbGluZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29ubmVjdFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEljb24gc2l6ZT1cIjE2XCIgaWNvbj17dGhpcy5pY29uTGlua30gLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPnt0aGlzLmdldFF1ZXN0aW9uTGFiZWwocXVlc3Rpb24pfTwvcD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJkZWxldGUtY29ubmVjdFwiIG9uQ2xpY2s9eyhlKSA9PiB0aGlzLmRlbGV0ZUNvbm5lY3Rpb24oaW5kZXgsIGUpfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SWNvbiBzaXplPVwiMTJcIiBpY29uPXt0aGlzLmljb25SZW1vdmV9IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9SZWFjdC5GcmFnbWVudD59XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9PC9kaXY+IDogJyd9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgey8qIGFkZCBuZXcgZmllbGQgcXVlc3Rpb24gbWFwcGluZyAqL31cclxuICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLnN0YXRlLmFkZE1hcHBpbmcgJiYgdGhpcy5zdGF0ZS5kc0ZlYXR1cmVMYXllciAmJiB0aGlzLnN0YXRlLmRzRmVhdHVyZUxheWVyRmllbGRzICYmIHRoaXMuc3RhdGUuZHNGZWF0dXJlTGF5ZXJGaWVsZHMubGVuZ3RoID4gMCAmJlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWFwcGluZy1jb250YWluZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QgdmFsdWU9e3RoaXMuc3RhdGUuYWRkTWFwcGluZy5maWVsZCB8fCAnbnVsbCd9IHN0eWxlPXt7bWFyZ2luQm90dG9tOiAnOHB4J319IG9uQ2hhbmdlPXsoZSkgPT4gdGhpcy5hZGRNYXBwcGluZ0NoYW5nZSgnZmllbGQnLCBlKX0gPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIGtleT17J2FkZF9maWVsZF9kZWZhdWx0JyB9IHZhbHVlPVwibnVsbFwiPnt0aGlzLm5scygnYWRkQ29ublNlbGVjdEZpZWxkJyl9PC9vcHRpb24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLnN0YXRlLmRzRmVhdHVyZUxheWVyRmllbGRzLm1hcCgoZmllbGQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gPG9wdGlvbiBrZXk9eydhZGRfJyArIGZpZWxkLm5hbWV9IHZhbHVlPXtmaWVsZC5uYW1lfT57ZmllbGQuYWxpYXMgfHwgZmllbGQubmFtZX08L29wdGlvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSl9XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdD5cclxuICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QgdmFsdWU9e3RoaXMuc3RhdGUuYWRkTWFwcGluZy5xdWVzdGlvbiB8fCAnbnVsbCd9IG9uQ2hhbmdlPXsoZSkgPT4gdGhpcy5hZGRNYXBwcGluZ0NoYW5nZSgncXVlc3Rpb24nLCBlKX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24ga2V5PXsnYWRkX3F1ZXN0aW9uX2RlZmF1bHQnIH0gdmFsdWU9XCJudWxsXCI+e3RoaXMubmxzKCdhZGRDb25uU2VsZWN0UXVlc3Rpb24nKX08L29wdGlvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAge3RoaXMuc3RhdGUuc3VydmV5UXVlc3Rpb25GaWVsZHMubGVuZ3RoID4gMCAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuc3VydmV5UXVlc3Rpb25GaWVsZHMubWFwKChxdWVzdGlvbikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDxvcHRpb24ga2V5PXsnYWRkXycgKyBxdWVzdGlvbi5uYW1lfSB2YWx1ZT17cXVlc3Rpb24ubmFtZX0+e3F1ZXN0aW9uLmxhYmVsfTwvb3B0aW9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0PlxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgIHsvKiBidXR0b25zICAqL31cclxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYnRuLWdyb3VwXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gY2xhc3NOYW1lPVwidy0yNSBmbG9hdC1yaWdodFwiIHR5cGU9XCJzZWNvbmRhcnlcIiBvbkNsaWNrPXt0aGlzLmRlYWN0aXZlQWRkRmllbGRRdWVzdGlvbkNvbm5QYW5lbH0+e3RoaXMubmxzKCdjYW5jZWwnKX08L0J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiBjbGFzc05hbWU9XCJ3LTI1IGZsb2F0LXJpZ2h0XCIgdHlwZT1cInByaW1hcnlcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXshdGhpcy5zdGF0ZS5hZGRNYXBwaW5nLmZpZWxkIHx8IHRoaXMuc3RhdGUuYWRkTWFwcGluZy5maWVsZCA9PT0gJ251bGwnIHx8ICF0aGlzLnN0YXRlLmFkZE1hcHBpbmcucXVlc3Rpb24gfHwgdGhpcy5zdGF0ZS5hZGRNYXBwaW5nLnF1ZXN0aW9uID09PSAnbnVsbCd9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5hZGRGaWVsZFF1ZXN0aW9uQ29ubn0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAge3RoaXMubmxzKCdvaycpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2Pn1cclxuICAgICAgICAgICAgICAgICAgICA8L1JlYWN0LkZyYWdtZW50PiA6ICcnXHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgPFNldHRpbmdSb3c+XHJcbiAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiBjbGFzc05hbWU9XCJ3LTEwMFwiIHR5cGU9XCJwcmltYXJ5XCJcclxuICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbWF4LWxlblxyXG4gICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3RoaXMuc3RhdGUuYWRkTWFwcGluZyAhPT0gbnVsbCB8fCB0aGlzLnN0YXRlLmVkaXRNYXBwaW5nICE9PSBudWxsIHx8ICEodGhpcy5wcm9wcy51c2VNYXBXaWRnZXRJZHMgJiYgdGhpcy5wcm9wcy51c2VNYXBXaWRnZXRJZHMubGVuZ3RoICYmIHRoaXMucHJvcHMuY29uZmlnICYmIHRoaXMucHJvcHMuY29uZmlnLmxheWVyVmlld0luZm8gJiYgdGhpcy5wcm9wcy5jb25maWcubGF5ZXJWaWV3SW5mby5kYXRhc291cmNlSWQpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5hY3RpdmVBZGRGaWVsZFF1ZXN0aW9uQ29ublBhbmVsfT5cclxuICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLm5scygnYWRkQ29ubkJ0bicpfVxyXG4gICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICA8L1NldHRpbmdSb3c+XHJcbiAgICAgICAgICAgICAgICA8L1JlYWN0LkZyYWdtZW50PiA6XHJcbiAgICAgICAgICAgICAgICA8U2V0dGluZ1Jvdz5cclxuICAgICAgICAgICAgICAgICAgPHNwYW4+e3RoaXMubmxzKCdzZW5kRGF0YURpc2FibGVkMScpfTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIDwvU2V0dGluZ1Jvdz5cclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIDwvUmVhY3QuRnJhZ21lbnQ+fVxyXG5cclxuICAgICAgICAgIHsvKiA8U2V0dGluZ1NlY3Rpb24gdGl0bGU9XCJBc3NvY2lhdGVkIE1hcFwiPlxyXG4gICAgICAgICAgPFNldHRpbmdSb3c+XHJcbiAgICAgICAgICAgIFNldCBhbiBleHRlcm5hbCBtYXAgd2hpY2ggd2lsbCBiZSB1c2VkIGZvciBHZW9Qb2ludCBxdWVzdGlvbiBpbnN0ZWFkIG9mIHRoZSBidWlsdC1pbiBtYXAuXHJcbiAgICAgICAgICA8L1NldHRpbmdSb3c+XHJcbiAgICAgICAgICA8U2V0dGluZ1Jvdz5cclxuICAgICAgICAgICAgPERhdGFTb3VyY2VTZWxlY3RvclxyXG4gICAgICAgICAgICAgIHR5cGVzPXt0aGlzLnN1cHBvcnRlZE1hcFR5cGVzfVxyXG4gICAgICAgICAgICAgIG11c3RVc2VEYXRhU291cmNlPXt0cnVlfVxyXG4gICAgICAgICAgICAgIG9uU2VsZWN0PXt0aGlzLm9uTWFwVmlld1NlbGVjdGVkfVxyXG4gICAgICAgICAgICAgIHNlbGVjdGVkRGF0YVNvdXJjZUlkcz17dGhpcy5wcm9wcy51c2VEYXRhU291cmNlcyAmJiB0aGlzLnByb3BzLmNvbmZpZy5kc1R5cGUgPT09IEFyY0dJU0RhdGFTb3VyY2VUeXBlcy5XZWJNYXAgJiYgSW1tdXRhYmxlKHRoaXMucHJvcHMudXNlRGF0YVNvdXJjZXMubWFwKGRzID0+IGRzLmRhdGFTb3VyY2VJZCkpfVxyXG4gICAgICAgICAgICAgIHdpZGdldElkPXt0aGlzLnByb3BzLmlkfVxyXG4gICAgICAgICAgICAvPlxyXG4gICAgICAgICAgPC9TZXR0aW5nUm93PlxyXG4gICAgICAgIDwvU2V0dGluZ1NlY3Rpb24+ICovfVxyXG5cclxuICAgICAgICAgIHsvKiA8U2V0dGluZ1NlY3Rpb24gdGl0bGU9XCJEZWZhdWx0IEFuc3dlcnNcIj5cclxuICAgICAgICA8U2V0dGluZ1Jvdz5cclxuICAgICAgICAgIFNldCBkZWZhdWx0IGFuc3dlcnMgZm9yIHN1cnZleSBxdWVzdGlvbnMgd2hlbiB0aGUgc3VydmV5IGlzIG9wZW5lZC5cclxuICAgICAgICA8L1NldHRpbmdSb3c+XHJcbiAgICAgICAgPFNldHRpbmdSb3c+XHJcbiAgICAgICAgICAxLiBTZWxlY3QgYSBmaWVsZCBmcm9tIGEgZmVhdHVyZSBsYXllciB2aWV3OlxyXG4gICAgICAgICAgPERhdGFTb3VyY2VTZWxlY3RvclxyXG4gICAgICAgICAgICB0eXBlcz17dGhpcy5zdXBwb3J0ZWRMYXllclR5cGVzfVxyXG4gICAgICAgICAgICBtdXN0VXNlRGF0YVNvdXJjZT17dHJ1ZX1cclxuICAgICAgICAgICAgb25TZWxlY3Q9e3RoaXMub25GZWF0dXJlTGF5ZXJWaWV3U2VsZWN0ZWR9XHJcbiAgICAgICAgICAgIHNlbGVjdGVkRGF0YVNvdXJjZUlkcz17dGhpcy5wcm9wcy51c2VEYXRhU291cmNlcyAmJiB0aGlzLnByb3BzLmNvbmZpZy5kc1R5cGUgPT09IEFyY0dJU0RhdGFTb3VyY2VUeXBlcy5GZWF0dXJlTGF5ZXIgJiYgSW1tdXRhYmxlKHRoaXMucHJvcHMudXNlRGF0YVNvdXJjZXMubWFwKGRzID0+IGRzLmRhdGFTb3VyY2VJZCkpfVxyXG4gICAgICAgICAgICB3aWRnZXRJZD17dGhpcy5wcm9wcy5pZH1cclxuICAgICAgICAgIC8+XHJcbiAgICAgICAgICB7XHJcbiAgICAgICAgICAgIHRoaXMucHJvcHMuY29uZmlnLmRzVHlwZSA9PT0gQXJjR0lTRGF0YVNvdXJjZVR5cGVzLkZlYXR1cmVMYXllciAmJiB0aGlzLnByb3BzLnVzZURhdGFTb3VyY2VzICYmIHRoaXMucHJvcHMudXNlRGF0YVNvdXJjZXMubGVuZ3RoID4gMCAmJlxyXG4gICAgICAgICAgICA8RmllbGRTZWxlY3RvclxyXG4gICAgICAgICAgICAgIGRhdGFTb3VyY2VzPXt0aGlzLnByb3BzLnVzZURhdGFTb3VyY2VzXHJcbiAgICAgICAgICAgICAgICAmJlxyXG4gICAgICAgICAgICAgIHRoaXMucHJvcHMudXNlRGF0YVNvdXJjZXMuYXNNdXRhYmxlKCkubWFwKGRzID0+IGRzLmRhdGFTb3VyY2VJZCkubWFwKGRzSWQgPT4gdGhpcy5kc01hbmFnZXIgJiYgdGhpcy5kc01hbmFnZXIuZ2V0RGF0YVNvdXJjZShkc0lkKSkuZmlsdGVyKGRzID0+ICEhZHMpfVxyXG4gICAgICAgICAgICAgIG9uU2VsZWN0PXt0aGlzLm9uRmllbGRTZWxlY3RlZH1cclxuICAgICAgICAgICAgICBzZWxlY3RlZEZpZWxkcz17dGhpcy5wcm9wcy51c2VEYXRhU291cmNlc1swXS5maWVsZHN9XHJcbiAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgPC9TZXR0aW5nUm93PlxyXG4gICAgICAgIDxkaXYgc3R5bGU9e1xyXG4gICAgICAgICAgKHRoaXMuc3RhdGUuc3VydmV5UXVlc3Rpb25GaWVsZHMubGVuZ3RoID4gMCkgPyB7ICdkaXNwbGF5JzogJ2Jsb2NrJyB9IDogeyAnZGlzcGxheSc6ICdub25lJyB9XHJcbiAgICAgICAgfT5cclxuICAgICAgICAgIDxTZXR0aW5nUm93PlxyXG4gICAgICAgICAgICAyLiBTZWxlY3QgYSBTdXJ2ZXkgUXVlc3Rpb246XHJcbiAgICAgICAgICA8L1NldHRpbmdSb3c+XHJcbiAgICAgICAgICA8U2V0dGluZ1Jvdz5cclxuICAgICAgICAgICAgPHNlbGVjdCBvbkNoYW5nZT17dGhpcy5vblN1cnZleVF1ZXN0aW9uRmllbGRDaGFuZ2VkfVxyXG4gICAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnN0YXRlLnN1cnZleVF1ZXN0aW9uRmllbGRzLmxlbmd0aCA9PT0gMH1cclxuICAgICAgICAgICAgICB2YWx1ZT17KHNlbGVjdGVkU3VydmV5UXVlc3Rpb25GaWVsZCkgPyBzZWxlY3RlZFN1cnZleVF1ZXN0aW9uRmllbGQgOiAnbnVsbCd9XHJcbiAgICAgICAgICAgICAgc3R5bGU9e3t3aWR0aDogJzEwMCUnLCBwYWRkaW5nOiAnNXB4J319PlxyXG4gICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJudWxsXCI+UGxlYXNlIHNlbGVjdDwvb3B0aW9uPlxyXG4gICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICh0aGlzLnN0YXRlLnN1cnZleVF1ZXN0aW9uRmllbGRzLmxlbmd0aCA+IDApID9cclxuICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5zdXJ2ZXlRdWVzdGlvbkZpZWxkcy5tYXAoKGZpZWxkKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDxvcHRpb24gdmFsdWU9e2ZpZWxkLm5hbWV9PntmaWVsZC5sYWJlbH08L29wdGlvbj5cclxuICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgOiAnJ1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgPC9zZWxlY3Q+XHJcbiAgICAgICAgICA8L1NldHRpbmdSb3c+XHJcbiAgICAgICAgPC9kaXY+ICovfVxyXG4gICAgICAgIDwvU2V0dGluZ1NlY3Rpb24+XHJcbiAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgey8qIGNvbmZpcm0gcmVzZXQgc3VydmV5IHNlY3Rpb24gKi99XHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3VydmV5MTIzX19zZWN0aW9uXCIgc3R5bGU9e1xyXG4gICAgICAgICh0aGlzLnN0YXRlLm1vZGUuaW5kZXhPZignY29uZmlybVJlc2V0U3VydmV5JykgIT09IC0xKSA/XHJcbiAgICAgICAgICB7IGRpc3BsYXk6ICdibG9jaycgfVxyXG4gICAgICAgICAgOiB7IGRpc3BsYXk6ICdub25lJyB9XHJcbiAgICAgIH0+XHJcbiAgICAgICAgPFNldHRpbmdTZWN0aW9uIHRpdGxlPXt0aGlzLm5scygncmVzZXRTdXJ2ZXlMYWJlbCcpfT5cclxuICAgICAgICAgIDxTZXR0aW5nUm93PlxyXG4gICAgICAgICAgICB7dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2Uoe2lkOiAncmVzZXRTdXJ2ZXlUaXAnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzLnJlc2V0U3VydmV5VGlwfSl9IFxyXG4gICAgICAgICAgPC9TZXR0aW5nUm93PlxyXG4gICAgICAgICAge3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHtpZDogJ2NvbmZpcm1SZXNldFN1cnZleVRpcCcsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMuY29uZmlybVJlc2V0U3VydmV5VGlwfSl9XHJcbiAgICAgICAgICA8U2V0dGluZ1Jvdz5cclxuXHJcbiAgICAgICAgICA8L1NldHRpbmdSb3c+XHJcblxyXG4gICAgICAgICAgPFNldHRpbmdSb3c+XHJcbiAgICAgICAgICAgIDxCdXR0b24gdHlwZT1cInByaW1hcnlcIiBvbkNsaWNrPXsoKSA9PiB0aGlzLnJlc2V0U3VydmV5KCl9PntqaW11Q29yZURlZmF1bHRNZXNzYWdlcy55ZXN9PC9CdXR0b24+XHJcbiAgICAgICAgICAgIDxCdXR0b24gb25DbGljaz17KCkgPT4gdGhpcy5zaG93U2V0dGluZ1BhZ2UoKX0+e2ppbXVDb3JlRGVmYXVsdE1lc3NhZ2VzLm5vfTwvQnV0dG9uPlxyXG4gICAgICAgICAgPC9TZXR0aW5nUm93PlxyXG5cclxuICAgICAgICA8L1NldHRpbmdTZWN0aW9uPlxyXG4gICAgICA8L2Rpdj5cclxuXHJcbiAgICAgIDxNb2RhbFxyXG4gICAgICAgIGlzT3Blbj17dGhpcy5zdGF0ZS5tb2RhbElzT3Blbn1cclxuICAgICAgICBjbGFzc05hbWU9XCJ3LTEwMCBoLTEwMCBwLTAgbS0wXCJcclxuICAgICAgICBjc3M9e2Nzc2BcclxuICAgICAgICAgIHotaW5kZXg6IDEwMDAwMDtcclxuICAgICAgICAgIG92ZXJmbG93OiBoaWRkZW47XHJcbiAgICAgICAgICBtYXgtd2lkdGg6IDEwMCUgIWltcG9ydGFudDtcclxuICAgICAgICAgIC5tb2RhbC1jb250ZW50e1xyXG4gICAgICAgICAgICB3aWR0aDogMTAwJTtcclxuICAgICAgICAgICAgaGVpZ2h0OiAxMDAlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIGB9XHJcbiAgICAgID5cclxuICAgICAgICA8ZGl2IHN0eWxlPXt7XHJcbiAgICAgICAgICB3aWR0aDogJzEwMCUnLFxyXG4gICAgICAgICAgaGVpZ2h0OiAnODBweCcsXHJcbiAgICAgICAgICBwYWRkaW5nOiAnMjNweCA2MHB4IDIzcHggMzBweCcsXHJcbiAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnLFxyXG4gICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnIzAwMDAwMCdcclxuICAgICAgICB9fT5cclxuICAgICAgICAgIDxwIHN0eWxlPXt7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgICAgICAgIG1hcmdpbkJvdHRvbTogMCxcclxuICAgICAgICAgICAgbGluZUhlaWdodDogJzMzcHgnXHJcbiAgICAgICAgICB9fT57dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2Uoe2lkOiAnZWRpdFN1cnZleUJ0bicsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXMuZWRpdFN1cnZleUJ0bn0pfTwvcD5cclxuXHJcbiAgICAgICAgICA8YnV0dG9uIGNvbG9yPVwicHJpbWFyeVwiIG9uQ2xpY2s9e3RoaXMuaGFuZGxlQ2xvc2VNb2RhbH0gc3R5bGU9e3tcclxuICAgICAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXHJcbiAgICAgICAgICAgIHRvcDogJzI4cHgnLFxyXG4gICAgICAgICAgICByaWdodDogJzMwcHgnLFxyXG4gICAgICAgICAgICAvLyBmb250U2l6ZTogJzMwcHgnLFxyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjMDAwMDAwJyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJyxcclxuICAgICAgICAgICAgYm9yZGVyOiAnMHB4JyxcclxuICAgICAgICAgICAgY3Vyc29yOiAncG9pbnRlcicsXHJcbiAgICAgICAgICAgIHBhZGRpbmc6IDBcclxuICAgICAgICAgIH19PjxJY29uIHNpemU9XCIyNFwiIGljb249e3RoaXMuY2xvc2VJY29uMjR9IC8+PC9idXR0b24+XHJcbiAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgIDxpZnJhbWUgaWQ9XCJzdXJ2ZXkxMjMtZGVzaWduZXJcIiB3aWR0aD1cIjEwMCVcIiBzdHlsZT17e1xyXG4gICAgICAgICAgaGVpZ2h0OiAnY2FsYygxMDAlIC0gOTBweCknLFxyXG4gICAgICAgICAgd2lkdGg6ICcxMDAlJyxcclxuICAgICAgICAgIGJvcmRlcjogJzBweCdcclxuICAgICAgICB9fT48L2lmcmFtZT5cclxuICAgICAgPC9Nb2RhbD5cclxuICAgIDwvZGl2ID5cclxuICB9XHJcbn1cclxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQStEQTtBQUNBO0FBRUE7OztBQUdBO0FBQ0E7QUFBQTtBQXJFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBSUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFrQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTs7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7O0FBRUE7QUFDQTs7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBOztBQUVBO0FBQ0E7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFnRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFFQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBbCtCQTs7QUFFQTtBQUNBO0FBQ0E7O0FBQ0E7QUErWkE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQW9nQkE7O0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBR0E7O0FBQ0E7QUFHQTtBQUNBO0FBR0E7O0FBQ0E7QUFNQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFHQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQU9BO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFHQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFZQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFXQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFLQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBRUE7QUFDQTtBQUNBO0FBSUE7QUFFQTtBQUNBO0FBQ0E7QUFJQTtBQUVBO0FBQ0E7QUFDQTtBQUlBO0FBRUE7QUFDQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFHQTtBQUtBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFlQTtBQUNBO0FBWUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFFQTtBQUVBO0FBSUE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUtBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFzRUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUdBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFNQTtBQWFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQUE7OzsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./your-extensions/widgets/survey/src/setting/setting.tsx\n");

/***/ }),

/***/ "./your-extensions/widgets/survey/src/setting/translations/default.ts":
/*!****************************************************************************!*\
  !*** ./your-extensions/widgets/survey/src/setting/translations/default.ts ***!
  \****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = {\n    chooseSurvey: 'Select which survey to run in the widget:',\n    createNewSurveyLabel: 'Create new survey',\n    chooseSurveyLabel: 'Select existing survey',\n    selectSurveyTip: 'Please select',\n    surveyDetailLabel: 'Survey Details:',\n    currentSurveyLabel: 'Current survey',\n    resetSurveyLabel: 'Reset survey',\n    summaryLabel: 'Summary',\n    insertLabel: 'Insert',\n    surveyTitleLabel: 'Name',\n    surveyTitleRequiredMsg: 'The name of the survey is required.',\n    surveyTitleDuplicateMsg: 'A survey with this name already exists, please use a different name.',\n    surveyTagLabel: 'Tags',\n    surveyTagHint: 'Separate tags with commas',\n    surveyTagsRequiredMsg: 'One or more tags are required.',\n    surveySummaryLabel: 'Summary',\n    createSurveyBtn: 'Create',\n    editSurveyBtn: 'Edit survey',\n    appearanceTitle: 'Appearance',\n    showOptionsBarLabel: 'Show options bar',\n    showOptionsHeaderLabel: 'Show survey header',\n    showOptionsDesLabel: 'Show survey description',\n    showOptionsFooterLabel: 'Show survey footer',\n    useSurveyTheme: 'Enable survey theme',\n    resetSurveyTip: 'Reset survey will remove all settings to this survey widget.',\n    confirmResetSurveyTip: 'Are you sure you want to continue?',\n    sendDataToSurveyTitle: 'Send data to this survey',\n    sendDataToSurveyDesc: 'Attributes and geometry of a feature in the source layer can be sent to survey questions.',\n    sendDataDisabled1: 'Please add a map widget that contains at least one feature layer to use this capability.',\n    sourceLayer: 'Source layer',\n    selectSourceWidget: 'Select an interactive map',\n    selectSourceLayer: 'Select the source layer',\n    triggerEventListTitle: 'Trigger event for sending data',\n    triggerEventSelect: 'When an existing feature is selected',\n    triggerEventAdd: 'When a new feature is added',\n    triggerEventDesc1: 'Data will be sent to this survey when a feature is selected in the layer.',\n    addConnTitle: 'Field/question connections',\n    addConnSelectField: 'Select a field',\n    addConnSelectQuestion: 'Select a survey question',\n    addConnFailed1: 'The survey question type is not compatible with the field type.',\n    addConnBtn: 'Add connection',\n    geometryLabel: '*Shape',\n    geometryTypePoint: 'Point',\n    geometryTypeMultiPoint: 'MultiPoint',\n    geometryTypePolyline: 'Polyline',\n    geometryTypePolygon: 'Polygon'\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi95b3VyLWV4dGVuc2lvbnMvd2lkZ2V0cy9zdXJ2ZXkvc3JjL3NldHRpbmcvdHJhbnNsYXRpb25zL2RlZmF1bHQudHMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi95b3VyLWV4dGVuc2lvbnMvd2lkZ2V0cy9zdXJ2ZXkvc3JjL3NldHRpbmcvdHJhbnNsYXRpb25zL2RlZmF1bHQudHM/ZTNiOSJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCB7XHJcbiAgY2hvb3NlU3VydmV5OiAnU2VsZWN0IHdoaWNoIHN1cnZleSB0byBydW4gaW4gdGhlIHdpZGdldDonLFxyXG4gIGNyZWF0ZU5ld1N1cnZleUxhYmVsOiAnQ3JlYXRlIG5ldyBzdXJ2ZXknLFxyXG4gIGNob29zZVN1cnZleUxhYmVsOiAnU2VsZWN0IGV4aXN0aW5nIHN1cnZleScsXHJcbiAgc2VsZWN0U3VydmV5VGlwOiAnUGxlYXNlIHNlbGVjdCcsXHJcbiAgc3VydmV5RGV0YWlsTGFiZWw6ICdTdXJ2ZXkgRGV0YWlsczonLFxyXG4gIGN1cnJlbnRTdXJ2ZXlMYWJlbDogJ0N1cnJlbnQgc3VydmV5JyxcclxuICByZXNldFN1cnZleUxhYmVsOiAnUmVzZXQgc3VydmV5JyxcclxuICBzdW1tYXJ5TGFiZWw6ICdTdW1tYXJ5JyxcclxuICBpbnNlcnRMYWJlbDogJ0luc2VydCcsXHJcbiAgc3VydmV5VGl0bGVMYWJlbDogJ05hbWUnLFxyXG4gIHN1cnZleVRpdGxlUmVxdWlyZWRNc2c6ICdUaGUgbmFtZSBvZiB0aGUgc3VydmV5IGlzIHJlcXVpcmVkLicsXHJcbiAgc3VydmV5VGl0bGVEdXBsaWNhdGVNc2c6ICdBIHN1cnZleSB3aXRoIHRoaXMgbmFtZSBhbHJlYWR5IGV4aXN0cywgcGxlYXNlIHVzZSBhIGRpZmZlcmVudCBuYW1lLicsXHJcbiAgc3VydmV5VGFnTGFiZWw6ICdUYWdzJyxcclxuICBzdXJ2ZXlUYWdIaW50OiAnU2VwYXJhdGUgdGFncyB3aXRoIGNvbW1hcycsXHJcbiAgc3VydmV5VGFnc1JlcXVpcmVkTXNnOiAnT25lIG9yIG1vcmUgdGFncyBhcmUgcmVxdWlyZWQuJyxcclxuICBzdXJ2ZXlTdW1tYXJ5TGFiZWw6ICdTdW1tYXJ5JyxcclxuICBjcmVhdGVTdXJ2ZXlCdG46ICdDcmVhdGUnLFxyXG4gIGVkaXRTdXJ2ZXlCdG46ICdFZGl0IHN1cnZleScsXHJcbiAgYXBwZWFyYW5jZVRpdGxlOiAnQXBwZWFyYW5jZScsXHJcbiAgc2hvd09wdGlvbnNCYXJMYWJlbDogJ1Nob3cgb3B0aW9ucyBiYXInLFxyXG4gIHNob3dPcHRpb25zSGVhZGVyTGFiZWw6ICdTaG93IHN1cnZleSBoZWFkZXInLFxyXG4gIHNob3dPcHRpb25zRGVzTGFiZWw6ICdTaG93IHN1cnZleSBkZXNjcmlwdGlvbicsXHJcbiAgc2hvd09wdGlvbnNGb290ZXJMYWJlbDogJ1Nob3cgc3VydmV5IGZvb3RlcicsXHJcbiAgdXNlU3VydmV5VGhlbWU6ICdFbmFibGUgc3VydmV5IHRoZW1lJyxcclxuICByZXNldFN1cnZleVRpcDogJ1Jlc2V0IHN1cnZleSB3aWxsIHJlbW92ZSBhbGwgc2V0dGluZ3MgdG8gdGhpcyBzdXJ2ZXkgd2lkZ2V0LicsXHJcbiAgY29uZmlybVJlc2V0U3VydmV5VGlwOiAnQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGNvbnRpbnVlPycsXHJcbiAgc2VuZERhdGFUb1N1cnZleVRpdGxlOiAnU2VuZCBkYXRhIHRvIHRoaXMgc3VydmV5JyxcclxuICBzZW5kRGF0YVRvU3VydmV5RGVzYzogJ0F0dHJpYnV0ZXMgYW5kIGdlb21ldHJ5IG9mIGEgZmVhdHVyZSBpbiB0aGUgc291cmNlIGxheWVyIGNhbiBiZSBzZW50IHRvIHN1cnZleSBxdWVzdGlvbnMuJyxcclxuICBzZW5kRGF0YURpc2FibGVkMTogJ1BsZWFzZSBhZGQgYSBtYXAgd2lkZ2V0IHRoYXQgY29udGFpbnMgYXQgbGVhc3Qgb25lIGZlYXR1cmUgbGF5ZXIgdG8gdXNlIHRoaXMgY2FwYWJpbGl0eS4nLFxyXG4gIHNvdXJjZUxheWVyOiAnU291cmNlIGxheWVyJyxcclxuICBzZWxlY3RTb3VyY2VXaWRnZXQ6ICdTZWxlY3QgYW4gaW50ZXJhY3RpdmUgbWFwJyxcclxuICBzZWxlY3RTb3VyY2VMYXllcjogJ1NlbGVjdCB0aGUgc291cmNlIGxheWVyJyxcclxuICB0cmlnZ2VyRXZlbnRMaXN0VGl0bGU6ICdUcmlnZ2VyIGV2ZW50IGZvciBzZW5kaW5nIGRhdGEnLFxyXG4gIHRyaWdnZXJFdmVudFNlbGVjdDogJ1doZW4gYW4gZXhpc3RpbmcgZmVhdHVyZSBpcyBzZWxlY3RlZCcsXHJcbiAgdHJpZ2dlckV2ZW50QWRkOiAnV2hlbiBhIG5ldyBmZWF0dXJlIGlzIGFkZGVkJyxcclxuICB0cmlnZ2VyRXZlbnREZXNjMTogJ0RhdGEgd2lsbCBiZSBzZW50IHRvIHRoaXMgc3VydmV5IHdoZW4gYSBmZWF0dXJlIGlzIHNlbGVjdGVkIGluIHRoZSBsYXllci4nLFxyXG4gIGFkZENvbm5UaXRsZTogJ0ZpZWxkL3F1ZXN0aW9uIGNvbm5lY3Rpb25zJyxcclxuICBhZGRDb25uU2VsZWN0RmllbGQ6ICdTZWxlY3QgYSBmaWVsZCcsXHJcbiAgYWRkQ29ublNlbGVjdFF1ZXN0aW9uOiAnU2VsZWN0IGEgc3VydmV5IHF1ZXN0aW9uJyxcclxuICBhZGRDb25uRmFpbGVkMTogJ1RoZSBzdXJ2ZXkgcXVlc3Rpb24gdHlwZSBpcyBub3QgY29tcGF0aWJsZSB3aXRoIHRoZSBmaWVsZCB0eXBlLicsXHJcbiAgYWRkQ29ubkJ0bjogJ0FkZCBjb25uZWN0aW9uJyxcclxuICBnZW9tZXRyeUxhYmVsOiAnKlNoYXBlJyxcclxuICBnZW9tZXRyeVR5cGVQb2ludDogJ1BvaW50JyxcclxuICBnZW9tZXRyeVR5cGVNdWx0aVBvaW50OiAnTXVsdGlQb2ludCcsXHJcbiAgZ2VvbWV0cnlUeXBlUG9seWxpbmU6ICdQb2x5bGluZScsXHJcbiAgZ2VvbWV0cnlUeXBlUG9seWdvbjogJ1BvbHlnb24nXHJcbn1cclxuIl0sIm1hcHBpbmdzIjoiOztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./your-extensions/widgets/survey/src/setting/translations/default.ts\n");

/***/ }),

/***/ "jimu-arcgis":
/*!******************************!*\
  !*** external "jimu-arcgis" ***!
  \******************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = __WEBPACK_EXTERNAL_MODULE_jimu_arcgis__;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiamltdS1hcmNnaXMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJqaW11LWFyY2dpc1wiPzlmMWMiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX2ppbXVfYXJjZ2lzX187Il0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///jimu-arcgis\n");

/***/ }),

/***/ "jimu-core":
/*!****************************!*\
  !*** external "jimu-core" ***!
  \****************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = __WEBPACK_EXTERNAL_MODULE_jimu_core__;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiamltdS1jb3JlLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwiamltdS1jb3JlXCI/YzY5NSJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfamltdV9jb3JlX187Il0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///jimu-core\n");

/***/ }),

/***/ "jimu-for-builder":
/*!***********************************!*\
  !*** external "jimu-for-builder" ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = __WEBPACK_EXTERNAL_MODULE_jimu_for_builder__;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiamltdS1mb3ItYnVpbGRlci5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9leHRlcm5hbCBcImppbXUtZm9yLWJ1aWxkZXJcIj8xY2IyIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9qaW11X2Zvcl9idWlsZGVyX187Il0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///jimu-for-builder\n");

/***/ }),

/***/ "jimu-ui":
/*!**************************!*\
  !*** external "jimu-ui" ***!
  \**************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = __WEBPACK_EXTERNAL_MODULE_jimu_ui__;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiamltdS11aS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9leHRlcm5hbCBcImppbXUtdWlcIj8zNTQzIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9qaW11X3VpX187Il0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///jimu-ui\n");

/***/ }),

/***/ "jimu-ui/setting-components":
/*!*********************************************!*\
  !*** external "jimu-ui/setting-components" ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = __WEBPACK_EXTERNAL_MODULE_jimu_ui_setting_components__;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiamltdS11aS9zZXR0aW5nLWNvbXBvbmVudHMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJqaW11LXVpL3NldHRpbmctY29tcG9uZW50c1wiPzYyYmEiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX2ppbXVfdWlfc2V0dGluZ19jb21wb25lbnRzX187Il0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///jimu-ui/setting-components\n");

/***/ })

/******/ })});;