System.register(["jimu-core","jimu-core/dnd","jimu-for-builder","jimu-layouts/layout-runtime","jimu-ui","jimu-ui/advanced/setting-components","jimu-ui/advanced/style-setting-components"], function(__WEBPACK_DYNAMIC_EXPORT__) {
	var __WEBPACK_EXTERNAL_MODULE_jimu_core__, __WEBPACK_EXTERNAL_MODULE_jimu_core_dnd__, __WEBPACK_EXTERNAL_MODULE_jimu_for_builder__, __WEBPACK_EXTERNAL_MODULE_jimu_layouts_layout_runtime__, __WEBPACK_EXTERNAL_MODULE_jimu_ui__, __WEBPACK_EXTERNAL_MODULE_jimu_ui_advanced_setting_components__, __WEBPACK_EXTERNAL_MODULE_jimu_ui_advanced_style_setting_components__;
	return {
		setters: [
			function(module) {
				__WEBPACK_EXTERNAL_MODULE_jimu_core__ = module;
			},
			function(module) {
				__WEBPACK_EXTERNAL_MODULE_jimu_core_dnd__ = module;
			},
			function(module) {
				__WEBPACK_EXTERNAL_MODULE_jimu_for_builder__ = module;
			},
			function(module) {
				__WEBPACK_EXTERNAL_MODULE_jimu_layouts_layout_runtime__ = module;
			},
			function(module) {
				__WEBPACK_EXTERNAL_MODULE_jimu_ui__ = module;
			},
			function(module) {
				__WEBPACK_EXTERNAL_MODULE_jimu_ui_advanced_setting_components__ = module;
			},
			function(module) {
				__WEBPACK_EXTERNAL_MODULE_jimu_ui_advanced_style_setting_components__ = module;
			}
		],
		execute: function() {
			__WEBPACK_DYNAMIC_EXPORT__(
/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./jimu-layouts/layout-builder.tsx");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./jimu-layouts/layout-builder.tsx":
/*!*****************************************!*\
  !*** ./jimu-layouts/layout-builder.tsx ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"createPageFromTemplate\", function() { return createPageFromTemplate; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"createDialogFromTemplate\", function() { return createDialogFromTemplate; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"createSectionFromTemplate\", function() { return createSectionFromTemplate; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"createWidgetFromTemplate\", function() { return createWidgetFromTemplate; });\n/* harmony import */ var _lib_fixed_layout_builder_layout__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./lib/fixed-layout/builder/layout */ \"./jimu-layouts/lib/fixed-layout/builder/layout.tsx\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"LayoutBuilder\", function() { return _lib_fixed_layout_builder_layout__WEBPACK_IMPORTED_MODULE_0__[\"default\"]; });\n\n/* harmony import */ var _lib_column_layout_builder_layout__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./lib/column-layout/builder/layout */ \"./jimu-layouts/lib/column-layout/builder/layout.tsx\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ColumnLayoutBuilder\", function() { return _lib_column_layout_builder_layout__WEBPACK_IMPORTED_MODULE_1__[\"default\"]; });\n\n/* harmony import */ var _lib_fixed_layout_builder_fixed_item_setting__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./lib/fixed-layout/builder/fixed-item-setting */ \"./jimu-layouts/lib/fixed-layout/builder/fixed-item-setting.tsx\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"FixedLayoutItemSetting\", function() { return _lib_fixed_layout_builder_fixed_item_setting__WEBPACK_IMPORTED_MODULE_2__[\"default\"]; });\n\n/* harmony import */ var _lib_flow_layout_builder_flow_item_setting__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./lib/flow-layout/builder/flow-item-setting */ \"./jimu-layouts/lib/flow-layout/builder/flow-item-setting.tsx\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"FlowLayoutItemSetting\", function() { return _lib_flow_layout_builder_flow_item_setting__WEBPACK_IMPORTED_MODULE_3__[\"default\"]; });\n\n/* harmony import */ var _lib_column_layout_builder_column_item_setting__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./lib/column-layout/builder/column-item-setting */ \"./jimu-layouts/lib/column-layout/builder/column-item-setting.tsx\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ColumnLayoutItemSetting\", function() { return _lib_column_layout_builder_column_item_setting__WEBPACK_IMPORTED_MODULE_4__[\"default\"]; });\n\n/* harmony import */ var _lib_flow_layout_layout_setting__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./lib/flow-layout/layout-setting */ \"./jimu-layouts/lib/flow-layout/layout-setting.tsx\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"FlowLayoutSetting\", function() { return _lib_flow_layout_layout_setting__WEBPACK_IMPORTED_MODULE_5__[\"default\"]; });\n\n/* harmony import */ var _lib_builder_common_layout_item_setting__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./lib/builder/common-layout-item-setting */ \"./jimu-layouts/lib/builder/common-layout-item-setting.tsx\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"CommonLayoutItemSetting\", function() { return _lib_builder_common_layout_item_setting__WEBPACK_IMPORTED_MODULE_6__[\"default\"]; });\n\n/* harmony import */ var _lib_builder_common_transform_setting__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./lib/builder/common-transform-setting */ \"./jimu-layouts/lib/builder/common-transform-setting.tsx\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"CommonTransformSetting\", function() { return _lib_builder_common_transform_setting__WEBPACK_IMPORTED_MODULE_7__[\"default\"]; });\n\n/* harmony import */ var _lib_builder_page_renderer__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./lib/builder/page-renderer */ \"./jimu-layouts/lib/builder/page-renderer.tsx\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"PageRenderer\", function() { return _lib_builder_page_renderer__WEBPACK_IMPORTED_MODULE_8__[\"default\"]; });\n\n/* harmony import */ var _lib_builder_layout_entry__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./lib/builder/layout-entry */ \"./jimu-layouts/lib/builder/layout-entry.tsx\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"LayoutEntry\", function() { return _lib_builder_layout_entry__WEBPACK_IMPORTED_MODULE_9__[\"default\"]; });\n\n/* harmony import */ var _lib_builder_layout_item__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./lib/builder/layout-item */ \"./jimu-layouts/lib/builder/layout-item.tsx\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"LayoutItemInBuilder\", function() { return _lib_builder_layout_item__WEBPACK_IMPORTED_MODULE_10__[\"default\"]; });\n\n/* harmony import */ var _lib_builder_common_layout_actions__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./lib/builder/common-layout-actions */ \"./jimu-layouts/lib/builder/common-layout-actions.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"addItemToLayout\", function() { return _lib_builder_common_layout_actions__WEBPACK_IMPORTED_MODULE_11__[\"addItemToLayout\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"mergeWidgetsIntoColumn\", function() { return _lib_builder_common_layout_actions__WEBPACK_IMPORTED_MODULE_11__[\"mergeWidgetsIntoColumn\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"duplicateLayoutItem\", function() { return _lib_builder_common_layout_actions__WEBPACK_IMPORTED_MODULE_11__[\"duplicateLayoutItem\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"pendLayoutItem\", function() { return _lib_builder_common_layout_actions__WEBPACK_IMPORTED_MODULE_11__[\"pendLayoutItem\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"supportFloating\", function() { return _lib_builder_common_layout_actions__WEBPACK_IMPORTED_MODULE_11__[\"supportFloating\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"supportSinking\", function() { return _lib_builder_common_layout_actions__WEBPACK_IMPORTED_MODULE_11__[\"supportSinking\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"floatingLayoutItem\", function() { return _lib_builder_common_layout_actions__WEBPACK_IMPORTED_MODULE_11__[\"floatingLayoutItem\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"sinkingLayoutItem\", function() { return _lib_builder_common_layout_actions__WEBPACK_IMPORTED_MODULE_11__[\"sinkingLayoutItem\"]; });\n\n/* harmony import */ var _lib_builder_interactive_droparea_hook__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./lib/builder/interactive/droparea-hook */ \"./jimu-layouts/lib/builder/interactive/droparea-hook.tsx\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"DropArea\", function() { return _lib_builder_interactive_droparea_hook__WEBPACK_IMPORTED_MODULE_12__[\"DropArea\"]; });\n\n/* harmony import */ var jimu_for_builder__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! jimu-for-builder */ \"jimu-for-builder\");\n/* harmony import */ var jimu_for_builder__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(jimu_for_builder__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var _lib_fixed_layout_builder_layout_action__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./lib/fixed-layout/builder/layout-action */ \"./jimu-layouts/lib/fixed-layout/builder/layout-action.ts\");\n/* harmony reexport (module object) */ __webpack_require__.d(__webpack_exports__, \"fixedLayoutActions\", function() { return _lib_fixed_layout_builder_layout_action__WEBPACK_IMPORTED_MODULE_14__; });\n/* harmony import */ var _lib_builder_interactive_rnd_decorator__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./lib/builder/interactive/rnd-decorator */ \"./jimu-layouts/lib/builder/interactive/rnd-decorator.tsx\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"withRnd\", function() { return _lib_builder_interactive_rnd_decorator__WEBPACK_IMPORTED_MODULE_15__[\"withRnd\"]; });\n\n/* harmony import */ var _lib_builder_interactive_drag_event_handler__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./lib/builder/interactive/drag-event-handler */ \"./jimu-layouts/lib/builder/interactive/drag-event-handler.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"bindDragHandler\", function() { return _lib_builder_interactive_drag_event_handler__WEBPACK_IMPORTED_MODULE_16__[\"bindDragHandler\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"GLOBAL_DRAGGING_CLASS_NAME\", function() { return _lib_builder_interactive_drag_event_handler__WEBPACK_IMPORTED_MODULE_16__[\"GLOBAL_DRAGGING_CLASS_NAME\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"GLOBAL_H5_DRAGGING_CLASS_NAME\", function() { return _lib_builder_interactive_drag_event_handler__WEBPACK_IMPORTED_MODULE_16__[\"GLOBAL_H5_DRAGGING_CLASS_NAME\"]; });\n\n/* harmony import */ var _lib_builder_interactive_resize_event_handler__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./lib/builder/interactive/resize-event-handler */ \"./jimu-layouts/lib/builder/interactive/resize-event-handler.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"bindResizeHandler\", function() { return _lib_builder_interactive_resize_event_handler__WEBPACK_IMPORTED_MODULE_17__[\"bindResizeHandler\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"GLOBAL_RESIZING_CLASS_NAME\", function() { return _lib_builder_interactive_resize_event_handler__WEBPACK_IMPORTED_MODULE_17__[\"GLOBAL_RESIZING_CLASS_NAME\"]; });\n\n/* harmony import */ var _lib_builder_menu_section_menu__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./lib/builder/menu/section-menu */ \"./jimu-layouts/lib/builder/menu/section-menu.tsx\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"sectionMenuItems\", function() { return _lib_builder_menu_section_menu__WEBPACK_IMPORTED_MODULE_18__[\"sectionMenuItems\"]; });\n\n/* harmony import */ var _lib_builder_toolbar__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./lib/builder/toolbar */ \"./jimu-layouts/lib/builder/toolbar.tsx\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Toolbar\", function() { return _lib_builder_toolbar__WEBPACK_IMPORTED_MODULE_19__[\"Toolbar\"]; });\n\n/* harmony import */ var _lib_builder_types__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./lib/builder/types */ \"./jimu-layouts/lib/builder/types.ts\");\n/* harmony import */ var _lib_builder_types__WEBPACK_IMPORTED_MODULE_20___default = /*#__PURE__*/__webpack_require__.n(_lib_builder_types__WEBPACK_IMPORTED_MODULE_20__);\n/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _lib_builder_types__WEBPACK_IMPORTED_MODULE_20__) if([\"withRnd\",\"bindDragHandler\",\"GLOBAL_DRAGGING_CLASS_NAME\",\"GLOBAL_H5_DRAGGING_CLASS_NAME\",\"bindResizeHandler\",\"GLOBAL_RESIZING_CLASS_NAME\",\"sectionMenuItems\",\"Toolbar\",\"LayoutEntry\",\"PageRenderer\",\"LayoutBuilder\",\"ColumnLayoutBuilder\",\"CommonLayoutItemSetting\",\"CommonTransformSetting\",\"FixedLayoutItemSetting\",\"FlowLayoutItemSetting\",\"ColumnLayoutItemSetting\",\"FlowLayoutSetting\",\"LayoutItemInBuilder\",\"addItemToLayout\",\"DropArea\",\"mergeWidgetsIntoColumn\",\"duplicateLayoutItem\",\"pendLayoutItem\",\"supportFloating\",\"supportSinking\",\"floatingLayoutItem\",\"sinkingLayoutItem\",\"createPageFromTemplate\",\"createDialogFromTemplate\",\"createSectionFromTemplate\",\"createWidgetFromTemplate\",\"fixedLayoutActions\",\"default\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _lib_builder_types__WEBPACK_IMPORTED_MODULE_20__[key]; }) }(__WEBPACK_IMPORT_KEY__));\n// import LayoutBuilder from './lib/flow-layout/builder/layout';\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar createPageFromTemplate = jimu_for_builder__WEBPACK_IMPORTED_MODULE_13__[\"templateUtils\"].createPageFromTemplate, createDialogFromTemplate = jimu_for_builder__WEBPACK_IMPORTED_MODULE_13__[\"templateUtils\"].createDialogFromTemplate, createSectionFromTemplate = jimu_for_builder__WEBPACK_IMPORTED_MODULE_13__[\"templateUtils\"].createSectionFromTemplate, createWidgetFromTemplate = jimu_for_builder__WEBPACK_IMPORTED_MODULE_13__[\"templateUtils\"].createWidgetFromTemplate;\n\n\n\n\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWxheW91dHMvbGF5b3V0LWJ1aWxkZXIudHN4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vamltdS1sYXlvdXRzL2xheW91dC1idWlsZGVyLnRzeD81MzM1Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIGltcG9ydCBMYXlvdXRCdWlsZGVyIGZyb20gJy4vbGliL2Zsb3ctbGF5b3V0L2J1aWxkZXIvbGF5b3V0JztcbmltcG9ydCBMYXlvdXRCdWlsZGVyIGZyb20gJy4vbGliL2ZpeGVkLWxheW91dC9idWlsZGVyL2xheW91dCc7XG5pbXBvcnQgQ29sdW1uTGF5b3V0QnVpbGRlciBmcm9tICcuL2xpYi9jb2x1bW4tbGF5b3V0L2J1aWxkZXIvbGF5b3V0JztcbmltcG9ydCBGaXhlZExheW91dEl0ZW1TZXR0aW5nIGZyb20gJy4vbGliL2ZpeGVkLWxheW91dC9idWlsZGVyL2ZpeGVkLWl0ZW0tc2V0dGluZyc7XG5pbXBvcnQgRmxvd0xheW91dEl0ZW1TZXR0aW5nIGZyb20gJy4vbGliL2Zsb3ctbGF5b3V0L2J1aWxkZXIvZmxvdy1pdGVtLXNldHRpbmcnO1xuaW1wb3J0IENvbHVtbkxheW91dEl0ZW1TZXR0aW5nIGZyb20gJy4vbGliL2NvbHVtbi1sYXlvdXQvYnVpbGRlci9jb2x1bW4taXRlbS1zZXR0aW5nJztcbmltcG9ydCBGbG93TGF5b3V0U2V0dGluZyBmcm9tICcuL2xpYi9mbG93LWxheW91dC9sYXlvdXQtc2V0dGluZyc7XG5pbXBvcnQgQ29tbW9uTGF5b3V0SXRlbVNldHRpbmcgZnJvbSAnLi9saWIvYnVpbGRlci9jb21tb24tbGF5b3V0LWl0ZW0tc2V0dGluZyc7XG5pbXBvcnQgQ29tbW9uVHJhbnNmb3JtU2V0dGluZyBmcm9tICcuL2xpYi9idWlsZGVyL2NvbW1vbi10cmFuc2Zvcm0tc2V0dGluZyc7XG5pbXBvcnQgUGFnZVJlbmRlcmVyIGZyb20gJy4vbGliL2J1aWxkZXIvcGFnZS1yZW5kZXJlcic7XG5pbXBvcnQgTGF5b3V0RW50cnkgZnJvbSAnLi9saWIvYnVpbGRlci9sYXlvdXQtZW50cnknO1xuaW1wb3J0IExheW91dEl0ZW1JbkJ1aWxkZXIgZnJvbSAnLi9saWIvYnVpbGRlci9sYXlvdXQtaXRlbSc7XG5pbXBvcnQge1xuICBhZGRJdGVtVG9MYXlvdXQsXG4gIG1lcmdlV2lkZ2V0c0ludG9Db2x1bW4sXG4gIGR1cGxpY2F0ZUxheW91dEl0ZW0sXG4gIHBlbmRMYXlvdXRJdGVtLFxuICBzdXBwb3J0RmxvYXRpbmcsXG4gIHN1cHBvcnRTaW5raW5nLFxuICBmbG9hdGluZ0xheW91dEl0ZW0sXG4gIHNpbmtpbmdMYXlvdXRJdGVtXG59IGZyb20gJy4vbGliL2J1aWxkZXIvY29tbW9uLWxheW91dC1hY3Rpb25zJztcbmltcG9ydCB7IERyb3BBcmVhIH0gZnJvbSAnLi9saWIvYnVpbGRlci9pbnRlcmFjdGl2ZS9kcm9wYXJlYS1ob29rJztcbmltcG9ydCB7IHRlbXBsYXRlVXRpbHMgfSBmcm9tICdqaW11LWZvci1idWlsZGVyJztcbmltcG9ydCAqIGFzIGZpeGVkTGF5b3V0QWN0aW9ucyBmcm9tICcuL2xpYi9maXhlZC1sYXlvdXQvYnVpbGRlci9sYXlvdXQtYWN0aW9uJztcblxuY29uc3Qge2NyZWF0ZVBhZ2VGcm9tVGVtcGxhdGUsIGNyZWF0ZURpYWxvZ0Zyb21UZW1wbGF0ZSwgY3JlYXRlU2VjdGlvbkZyb21UZW1wbGF0ZSwgY3JlYXRlV2lkZ2V0RnJvbVRlbXBsYXRlfSA9IHRlbXBsYXRlVXRpbHM7XG5leHBvcnQgdHlwZSB7IFJuZE9wdGlvbnMgfSBmcm9tICcuL2xpYi9idWlsZGVyL2ludGVyYWN0aXZlL3JuZC1kZWNvcmF0b3InO1xuZXhwb3J0IHsgd2l0aFJuZCB9IGZyb20gJy4vbGliL2J1aWxkZXIvaW50ZXJhY3RpdmUvcm5kLWRlY29yYXRvcic7XG5leHBvcnQgeyBiaW5kRHJhZ0hhbmRsZXIsIEdMT0JBTF9EUkFHR0lOR19DTEFTU19OQU1FLCBHTE9CQUxfSDVfRFJBR0dJTkdfQ0xBU1NfTkFNRSB9IGZyb20gJy4vbGliL2J1aWxkZXIvaW50ZXJhY3RpdmUvZHJhZy1ldmVudC1oYW5kbGVyJztcbmV4cG9ydCB7IGJpbmRSZXNpemVIYW5kbGVyLCBHTE9CQUxfUkVTSVpJTkdfQ0xBU1NfTkFNRSB9IGZyb20gJy4vbGliL2J1aWxkZXIvaW50ZXJhY3RpdmUvcmVzaXplLWV2ZW50LWhhbmRsZXInO1xuZXhwb3J0IHsgc2VjdGlvbk1lbnVJdGVtcyB9IGZyb20gJy4vbGliL2J1aWxkZXIvbWVudS9zZWN0aW9uLW1lbnUnO1xuZXhwb3J0IHsgVG9vbGJhciB9IGZyb20gJy4vbGliL2J1aWxkZXIvdG9vbGJhcic7XG5cbmV4cG9ydCB7XG4gIExheW91dEVudHJ5LFxuICBQYWdlUmVuZGVyZXIsXG4gIExheW91dEJ1aWxkZXIsXG4gIENvbHVtbkxheW91dEJ1aWxkZXIsXG4gIENvbW1vbkxheW91dEl0ZW1TZXR0aW5nLFxuICBDb21tb25UcmFuc2Zvcm1TZXR0aW5nLFxuICBGaXhlZExheW91dEl0ZW1TZXR0aW5nLFxuICBGbG93TGF5b3V0SXRlbVNldHRpbmcsXG4gIENvbHVtbkxheW91dEl0ZW1TZXR0aW5nLFxuICBGbG93TGF5b3V0U2V0dGluZyxcbiAgTGF5b3V0SXRlbUluQnVpbGRlcixcbiAgYWRkSXRlbVRvTGF5b3V0LFxuICBEcm9wQXJlYSxcbiAgbWVyZ2VXaWRnZXRzSW50b0NvbHVtbixcbiAgZHVwbGljYXRlTGF5b3V0SXRlbSxcbiAgcGVuZExheW91dEl0ZW0sXG4gIHN1cHBvcnRGbG9hdGluZyxcbiAgc3VwcG9ydFNpbmtpbmcsXG4gIGZsb2F0aW5nTGF5b3V0SXRlbSxcbiAgc2lua2luZ0xheW91dEl0ZW0sXG4gIGNyZWF0ZVBhZ2VGcm9tVGVtcGxhdGUsXG4gIGNyZWF0ZURpYWxvZ0Zyb21UZW1wbGF0ZSxcbiAgY3JlYXRlU2VjdGlvbkZyb21UZW1wbGF0ZSxcbiAgY3JlYXRlV2lkZ2V0RnJvbVRlbXBsYXRlLFxuICBmaXhlZExheW91dEFjdGlvbnMsXG59O1xuXG5leHBvcnQgKiBmcm9tICcuL2xpYi9idWlsZGVyL3R5cGVzJzsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVVBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBNEJBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./jimu-layouts/layout-builder.tsx\n");

/***/ }),

/***/ "./jimu-layouts/lib/builder/animation-setting.tsx":
/*!********************************************************!*\
  !*** ./jimu-layouts/lib/builder/animation-setting.tsx ***!
  \********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jimu_core__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ \"jimu-ui\");\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jimu_ui__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-ui/advanced/setting-components */ \"jimu-ui/advanced/setting-components\");\n/* harmony import */ var jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var jimu_ui_advanced_style_setting_components__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-ui/advanced/style-setting-components */ \"jimu-ui/advanced/style-setting-components\");\n/* harmony import */ var jimu_ui_advanced_style_setting_components__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(jimu_ui_advanced_style_setting_components__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var jimu_for_builder__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! jimu-for-builder */ \"jimu-for-builder\");\n/* harmony import */ var jimu_for_builder__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(jimu_for_builder__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! jimu-layouts/layout-runtime */ \"jimu-layouts/layout-runtime\");\n/* harmony import */ var jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _menu_section_menu__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./menu/section-menu */ \"./jimu-layouts/lib/builder/menu/section-menu.tsx\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __makeTemplateObject = (undefined && undefined.__makeTemplateObject) || function (cooked, raw) {\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n    return cooked;\n};\n/** @jsx jsx */\n\n\n\n\n\n\n\nvar LayoutItemAnimationSetting = /** @class */ (function (_super) {\n    __extends(LayoutItemAnimationSetting, _super);\n    function LayoutItemAnimationSetting(props) {\n        var _this = _super.call(this, props) || this;\n        _this.modalStyle = {\n            position: 'absolute',\n            top: '0',\n            bottom: '0',\n            width: '100%',\n            height: 'auto',\n            paddingBottom: '1px',\n        };\n        _this.onTransitionSettingChange = function (setting) {\n            var _a = _this.props, layoutId = _a.layoutId, layoutItemId = _a.layoutItemId;\n            var appConfigAction = Object(jimu_for_builder__WEBPACK_IMPORTED_MODULE_4__[\"getAppConfigAction\"])();\n            var appConfig = appConfigAction.appConfig;\n            var layoutItem = appConfig.layouts[layoutId].content[layoutItemId];\n            appConfigAction.editSectionProperty(layoutItem.sectionId, 'transition', setting).exec();\n            if ((setting === null || setting === void 0 ? void 0 : setting.type) !== jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"TransitionType\"].None) {\n                _this.previewTransition();\n            }\n        };\n        _this.onEffectSettingChange = function (mode, efffectSetting) {\n            var trigger = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"AnimationTriggerType\"].ScrollIntoView;\n            var _a = _this.props, layoutId = _a.layoutId, layoutItemId = _a.layoutItemId, setting = _a.setting;\n            var oldSetting = setting || Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"Immutable\"])({});\n            var propName = mode === jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"AnimationPlayMode\"].OneByOne ? 'oneByOneEffect' : 'effect';\n            _this.props.onSettingChange({\n                layoutId: layoutId,\n                layoutItemId: layoutItemId,\n            }, oldSetting.setIn([propName, trigger], efffectSetting));\n            if ((efffectSetting === null || efffectSetting === void 0 ? void 0 : efffectSetting.type) !== jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"AnimationType\"].None) {\n                jimu_for_builder__WEBPACK_IMPORTED_MODULE_4__[\"builderAppSync\"].publishAnimationPreviewToApp({\n                    layoutInfo: {\n                        layoutId: layoutId,\n                        layoutItemId: layoutItemId,\n                    },\n                    playMode: mode,\n                    id: Symbol('preview animation')\n                });\n            }\n        };\n        _this.onSectionOneByOneEffectSettingChange = function (efffectSetting) {\n            _this.onEffectSettingChange(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"AnimationPlayMode\"].OneByOne, efffectSetting);\n        };\n        _this.previewAnimation = function (mode) {\n            if (_this.hasAnimationEffect()) {\n                jimu_for_builder__WEBPACK_IMPORTED_MODULE_4__[\"builderAppSync\"].publishAnimationPreviewToApp({\n                    layoutInfo: {\n                        layoutId: _this.props.layoutId,\n                        layoutItemId: _this.props.layoutItemId,\n                    },\n                    playMode: mode,\n                    id: Symbol('preview animation')\n                });\n            }\n        };\n        _this.previewTransition = function (withOneByOne) {\n            var _a, _b, _c;\n            if (withOneByOne === void 0) { withOneByOne = false; }\n            var sectionId = _this.props.sectionId;\n            var sectionProps = jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_5__[\"searchUtils\"].getSectionInfo(Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"getAppStore\"])().getState().appStateInBuilder, sectionId);\n            var views = sectionProps.views;\n            if ((views === null || views === void 0 ? void 0 : views.length) > 1) {\n                var navInfo = (_c = (_b = (_a = Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"getAppStore\"])().getState().appStateInBuilder) === null || _a === void 0 ? void 0 : _a.appRuntimeInfo) === null || _b === void 0 ? void 0 : _b.sectionNavInfos) === null || _c === void 0 ? void 0 : _c[sectionId];\n                if (!navInfo) {\n                    var activeViewId = Object(_menu_section_menu__WEBPACK_IMPORTED_MODULE_6__[\"findActiveViewId\"])(sectionProps);\n                    var currentIndex = views.indexOf(activeViewId);\n                    var previousIndex = currentIndex > 0 ? currentIndex - 1 : currentIndex + 1;\n                    navInfo = Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"Immutable\"])({\n                        currentViewId: activeViewId,\n                        previousViewId: views[previousIndex],\n                    });\n                }\n                jimu_for_builder__WEBPACK_IMPORTED_MODULE_4__[\"builderAppSync\"].publishSectionNavInfoToApp(sectionId, navInfo\n                    .set('playId', Symbol('play transition'))\n                    .set('withOneByOne', withOneByOne).asMutable());\n            }\n        };\n        _this.previewTransitionAndOnebyOne = function () {\n            _this.previewTransition(true);\n        };\n        _this.previewOneByOneInSection = function () {\n            _this.previewAnimation(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"AnimationPlayMode\"].OneByOne);\n        };\n        _this.onPlayModeChange = function (mode) {\n            var _a = _this.props, layoutId = _a.layoutId, layoutItemId = _a.layoutItemId, setting = _a.setting;\n            var itemSetting = setting || Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"Immutable\"])({});\n            var appConfigAction = Object(jimu_for_builder__WEBPACK_IMPORTED_MODULE_4__[\"getAppConfigAction\"])();\n            var appConfig = appConfigAction.appConfig;\n            appConfig = appConfig.setIn(['layouts', layoutId, 'content', layoutItemId, 'setting'], itemSetting.set('effectPlayMode', mode));\n            Object(jimu_for_builder__WEBPACK_IMPORTED_MODULE_4__[\"getAppConfigAction\"])(appConfig).exec();\n        };\n        _this.switchToIn = function () {\n            _this.setState({\n                animationType: 'in'\n            });\n        };\n        _this.switchToTransition = function () {\n            _this.setState({\n                animationType: 'transition'\n            });\n        };\n        _this.state = {\n            animationType: 'in',\n        };\n        return _this;\n    }\n    LayoutItemAnimationSetting.prototype.hasAnimationEffect = function () {\n        var _a, _b;\n        var setting = this.props.setting;\n        var effect = (_a = setting === null || setting === void 0 ? void 0 : setting.effect) === null || _a === void 0 ? void 0 : _a[jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"AnimationTriggerType\"].ScrollIntoView];\n        var oneByOneEffect = (_b = setting === null || setting === void 0 ? void 0 : setting.oneByOneEffect) === null || _b === void 0 ? void 0 : _b[jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"AnimationTriggerType\"].ScrollIntoView];\n        return (effect && effect.type !== jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"AnimationType\"].None) || (oneByOneEffect && oneByOneEffect.type !== jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"AnimationType\"].None);\n    };\n    LayoutItemAnimationSetting.prototype.render = function () {\n        var _a, _b;\n        var _c = this.props, formatMessage = _c.formatMessage, isLayoutWidget = _c.isLayoutWidget, isSection = _c.isSection, transitionType = _c.transitionType, transitionDirection = _c.transitionDirection, setting = _c.setting;\n        var animationType = this.state.animationType;\n        var asoneEffect = (_a = setting === null || setting === void 0 ? void 0 : setting.effect) === null || _a === void 0 ? void 0 : _a[jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"AnimationTriggerType\"].ScrollIntoView];\n        var oneByOneEffect = (_b = setting === null || setting === void 0 ? void 0 : setting.oneByOneEffect) === null || _b === void 0 ? void 0 : _b[jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"AnimationTriggerType\"].ScrollIntoView];\n        return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_2__[\"SettingSection\"], { title: formatMessage('animation') },\n            isSection && Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_2__[\"SettingRow\"], null,\n                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"ButtonGroup\"], { className: \"w-100\", css: Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n            border-bottom: 1px solid var(--primary-500);\\n            .jimu-btn {\\n              width: 50%;\\n              border-radius: 2px 2px 0 0;\\n            }\\n            .jimu-btn:nth-child(2) {\\n              margin-left: 2px !important;\\n            }\\n          \"], [\"\\n            border-bottom: 1px solid var(--primary-500);\\n            .jimu-btn {\\n              width: 50%;\\n              border-radius: 2px 2px 0 0;\\n            }\\n            .jimu-btn:nth-child(2) {\\n              margin-left: 2px !important;\\n            }\\n          \"]))) },\n                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"Button\"], { type: animationType === 'in' ? 'primary' : 'default', onClick: this.switchToIn }, formatMessage('in')),\n                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"Button\"], { type: animationType === 'transition' ? 'primary' : 'default', onClick: this.switchToTransition }, formatMessage('transition')))),\n            animationType === 'in' && Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_2__[\"SettingRow\"], { flow: \"wrap\", label: formatMessage('scrollIntoView') },\n                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui_advanced_style_setting_components__WEBPACK_IMPORTED_MODULE_3__[\"AnimationSettingComponent\"], { effectSetting: asoneEffect, oneByOneSetting: oneByOneEffect, onSettingChange: this.onEffectSettingChange, previewEnabled: true, supportAsOne: true, supportOneByOne: isLayoutWidget, onPreviewClicked: this.previewAnimation, formatMessage: formatMessage })),\n            animationType === 'transition' && Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_2__[\"SettingRow\"], { flow: \"wrap\" },\n                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui_advanced_style_setting_components__WEBPACK_IMPORTED_MODULE_3__[\"TransitionSetting\"], { transition: { type: transitionType, direction: transitionDirection }, transitionLabel: formatMessage('view'), oneByOneEffect: oneByOneEffect, onOneByOneChange: this.onSectionOneByOneEffectSettingChange, onTransitionChange: this.onTransitionSettingChange, onPreviewTransitionClicked: this.previewTransition, onPreviewOneByOneClicked: this.previewOneByOneInSection, onPreviewAsAWhoneClicked: this.previewTransitionAndOnebyOne, formatMessage: formatMessage })));\n    };\n    return LayoutItemAnimationSetting;\n}(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].PureComponent));\n/* harmony default export */ __webpack_exports__[\"default\"] = (jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"ReactRedux\"].connect(function (state, ownProps) {\n    var _a, _b, _c, _d, _e, _f, _g;\n    var layoutItem = (_b = (_a = state.appStateInBuilder) === null || _a === void 0 ? void 0 : _a.appConfig) === null || _b === void 0 ? void 0 : _b.layouts[ownProps.layoutId].content[ownProps.layoutItemId];\n    var isLayoutWidget = false;\n    var transitionType;\n    var transitionDirection;\n    var sectionId;\n    var isSection = (layoutItem === null || layoutItem === void 0 ? void 0 : layoutItem.type) === jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"LayoutItemType\"].Section;\n    var isWidget = (layoutItem === null || layoutItem === void 0 ? void 0 : layoutItem.type) === jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"LayoutItemType\"].Widget;\n    if (isWidget) {\n        var widget = (_c = state.appStateInBuilder) === null || _c === void 0 ? void 0 : _c.appConfig.widgets[layoutItem.widgetId];\n        isLayoutWidget = ((_d = widget === null || widget === void 0 ? void 0 : widget.manifest) === null || _d === void 0 ? void 0 : _d.widgetType) === jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"WidgetType\"].Layout;\n    }\n    if (isSection) {\n        var section = (_e = state.appStateInBuilder) === null || _e === void 0 ? void 0 : _e.appConfig.sections[layoutItem.sectionId];\n        sectionId = section.id;\n        transitionType = (_f = section.transition) === null || _f === void 0 ? void 0 : _f.type;\n        transitionDirection = (_g = section.transition) === null || _g === void 0 ? void 0 : _g.direction;\n    }\n    return {\n        setting: layoutItem.setting,\n        isLayoutWidget: isLayoutWidget,\n        isSection: isSection,\n        isWidget: isWidget,\n        transitionType: transitionType,\n        transitionDirection: transitionDirection,\n        sectionId: sectionId,\n    };\n})(LayoutItemAnimationSetting));\nvar templateObject_1;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWxheW91dHMvbGliL2J1aWxkZXIvYW5pbWF0aW9uLXNldHRpbmcudHN4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vamltdS1sYXlvdXRzL2xpYi9idWlsZGVyL2FuaW1hdGlvbi1zZXR0aW5nLnRzeD84MzE2Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKiBAanN4IGpzeCAqL1xuaW1wb3J0IHtcbiAgUmVhY3QsXG4gIEltbXV0YWJsZSxcbiAgTGF5b3V0SW5mbyxcbiAganN4LFxuICBjc3MsXG4gIEltbXV0YWJsZU9iamVjdCxcbiAgSU1TdGF0ZSxcbiAgUmVhY3RSZWR1eCxcbiAgTGF5b3V0SXRlbVR5cGUsXG4gIFdpZGdldFR5cGUsXG4gIEFuaW1hdGlvblR5cGUsXG4gIEFuaW1hdGlvblRyaWdnZXJUeXBlLFxuICBBbmltYXRpb25QbGF5TW9kZSxcbiAgQW5pbWF0aW9uU2V0dGluZyxcbiAgZ2V0QXBwU3RvcmUsXG4gIFNlY3Rpb25OYXZJbmZvLFxuICBUcmFuc2l0aW9uVHlwZSxcbiAgVHJhbnNpdGlvbkRpcmVjdGlvbixcbn0gZnJvbSAnamltdS1jb3JlJztcbmltcG9ydCB7IEJ1dHRvbkdyb3VwLCBCdXR0b24gfSBmcm9tICdqaW11LXVpJztcbmltcG9ydCB7IFNldHRpbmdTZWN0aW9uLCBTZXR0aW5nUm93IH0gZnJvbSAnamltdS11aS9hZHZhbmNlZC9zZXR0aW5nLWNvbXBvbmVudHMnO1xuaW1wb3J0IHsgQW5pbWF0aW9uU2V0dGluZ0NvbXBvbmVudCwgVHJhbnNpdGlvblNldHRpbmcgfSBmcm9tICdqaW11LXVpL2FkdmFuY2VkL3N0eWxlLXNldHRpbmctY29tcG9uZW50cyc7XG5pbXBvcnQgeyBidWlsZGVyQXBwU3luYywgZ2V0QXBwQ29uZmlnQWN0aW9uIH0gZnJvbSAnamltdS1mb3ItYnVpbGRlcic7XG5pbXBvcnQge1xuICBDb21tb25MYXlvdXRJdGVtU2V0dGluZyxcbiAgc2VhcmNoVXRpbHNcbn0gZnJvbSAnamltdS1sYXlvdXRzL2xheW91dC1ydW50aW1lJztcbmltcG9ydCB7IGZpbmRBY3RpdmVWaWV3SWQgfSBmcm9tICcuL21lbnUvc2VjdGlvbi1tZW51JztcblxuaW50ZXJmYWNlIE93blByb3BzIHtcbiAgbGF5b3V0SWQ6IHN0cmluZztcbiAgbGF5b3V0SXRlbUlkOiBzdHJpbmc7XG4gIG9uU2V0dGluZ0NoYW5nZT86IChsYXlvdXRJbmZvOiBMYXlvdXRJbmZvLCBzZXR0aW5nKSA9PiB2b2lkO1xuICBmb3JtYXRNZXNzYWdlOiAoaWQ6IHN0cmluZykgPT4gc3RyaW5nO1xufVxuXG5pbnRlcmZhY2UgU3RhdGVQcm9wcyB7XG4gIHNldHRpbmc6IEltbXV0YWJsZU9iamVjdDxDb21tb25MYXlvdXRJdGVtU2V0dGluZz47XG4gIGlzV2lkZ2V0OiBib29sZWFuO1xuICBpc0xheW91dFdpZGdldDogYm9vbGVhbjtcbiAgaXNTZWN0aW9uOiBib29sZWFuO1xuICB0cmFuc2l0aW9uVHlwZT86IFRyYW5zaXRpb25UeXBlO1xuICB0cmFuc2l0aW9uRGlyZWN0aW9uPzogVHJhbnNpdGlvbkRpcmVjdGlvbjtcbiAgc2VjdGlvbklkPzogc3RyaW5nO1xufVxuXG5pbnRlcmZhY2UgU3RhdGUge1xuICBhbmltYXRpb25UeXBlOiAnaW4nIHwgJ3RyYW5zaXRpb24nXG59XG5cbmNsYXNzIExheW91dEl0ZW1BbmltYXRpb25TZXR0aW5nIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudDxPd25Qcm9wcyAmIFN0YXRlUHJvcHMsIFN0YXRlPiB7XG4gIG1vZGFsU3R5bGU6IGFueSA9IHtcbiAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICB0b3A6ICcwJyxcbiAgICBib3R0b206ICcwJyxcbiAgICB3aWR0aDogJzEwMCUnLFxuICAgIGhlaWdodDogJ2F1dG8nLFxuICAgIHBhZGRpbmdCb3R0b206ICcxcHgnLFxuICB9O1xuXG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBhbmltYXRpb25UeXBlOiAnaW4nLFxuICAgIH07XG4gIH1cblxuICBoYXNBbmltYXRpb25FZmZlY3QoKSB7XG4gICAgY29uc3QgeyBzZXR0aW5nIH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IGVmZmVjdCA9IHNldHRpbmc/LmVmZmVjdD8uW0FuaW1hdGlvblRyaWdnZXJUeXBlLlNjcm9sbEludG9WaWV3XVxuICAgIGNvbnN0IG9uZUJ5T25lRWZmZWN0ID0gc2V0dGluZz8ub25lQnlPbmVFZmZlY3Q/LltBbmltYXRpb25UcmlnZ2VyVHlwZS5TY3JvbGxJbnRvVmlld107XG4gICAgcmV0dXJuIChlZmZlY3QgJiYgZWZmZWN0LnR5cGUgIT09IEFuaW1hdGlvblR5cGUuTm9uZSkgfHwgKG9uZUJ5T25lRWZmZWN0ICYmIG9uZUJ5T25lRWZmZWN0LnR5cGUgIT09IEFuaW1hdGlvblR5cGUuTm9uZSk7XG4gIH1cblxuICBvblRyYW5zaXRpb25TZXR0aW5nQ2hhbmdlID0gKHNldHRpbmcpID0+IHtcbiAgICBjb25zdCB7IGxheW91dElkLCBsYXlvdXRJdGVtSWQgfSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3QgYXBwQ29uZmlnQWN0aW9uID0gZ2V0QXBwQ29uZmlnQWN0aW9uKCk7XG4gICAgY29uc3QgYXBwQ29uZmlnID0gYXBwQ29uZmlnQWN0aW9uLmFwcENvbmZpZztcbiAgICBjb25zdCBsYXlvdXRJdGVtID0gYXBwQ29uZmlnLmxheW91dHNbbGF5b3V0SWRdLmNvbnRlbnRbbGF5b3V0SXRlbUlkXTtcbiAgICBhcHBDb25maWdBY3Rpb24uZWRpdFNlY3Rpb25Qcm9wZXJ0eShsYXlvdXRJdGVtLnNlY3Rpb25JZCwgJ3RyYW5zaXRpb24nLCBzZXR0aW5nKS5leGVjKCk7XG5cbiAgICBpZiAoc2V0dGluZz8udHlwZSAhPT0gVHJhbnNpdGlvblR5cGUuTm9uZSkge1xuICAgICAgdGhpcy5wcmV2aWV3VHJhbnNpdGlvbigpO1xuICAgIH1cbiAgfVxuXG4gIG9uRWZmZWN0U2V0dGluZ0NoYW5nZSA9IChtb2RlOiBBbmltYXRpb25QbGF5TW9kZSwgZWZmZmVjdFNldHRpbmc6IEFuaW1hdGlvblNldHRpbmcpID0+IHtcbiAgICBjb25zdCB0cmlnZ2VyID0gQW5pbWF0aW9uVHJpZ2dlclR5cGUuU2Nyb2xsSW50b1ZpZXc7XG4gICAgY29uc3QgeyBsYXlvdXRJZCwgbGF5b3V0SXRlbUlkLCBzZXR0aW5nIH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IG9sZFNldHRpbmcgPSBzZXR0aW5nIHx8IEltbXV0YWJsZSh7fSkgYXMgSW1tdXRhYmxlT2JqZWN0PENvbW1vbkxheW91dEl0ZW1TZXR0aW5nPjtcbiAgICBjb25zdCBwcm9wTmFtZSA9IG1vZGUgPT09IEFuaW1hdGlvblBsYXlNb2RlLk9uZUJ5T25lID8gJ29uZUJ5T25lRWZmZWN0JyA6ICdlZmZlY3QnO1xuICAgIHRoaXMucHJvcHMub25TZXR0aW5nQ2hhbmdlKFxuICAgICAge1xuICAgICAgICBsYXlvdXRJZCxcbiAgICAgICAgbGF5b3V0SXRlbUlkLFxuICAgICAgfSxcbiAgICAgIG9sZFNldHRpbmcuc2V0SW4oXG4gICAgICAgIFtwcm9wTmFtZSwgdHJpZ2dlcl0sXG4gICAgICAgIGVmZmZlY3RTZXR0aW5nXG4gICAgICApXG4gICAgKTtcbiAgICBpZiAoZWZmZmVjdFNldHRpbmc/LnR5cGUgIT09IEFuaW1hdGlvblR5cGUuTm9uZSkge1xuICAgICAgYnVpbGRlckFwcFN5bmMucHVibGlzaEFuaW1hdGlvblByZXZpZXdUb0FwcCh7XG4gICAgICAgIGxheW91dEluZm86IHtcbiAgICAgICAgICBsYXlvdXRJZDogbGF5b3V0SWQsXG4gICAgICAgICAgbGF5b3V0SXRlbUlkOiBsYXlvdXRJdGVtSWQsXG4gICAgICAgIH0sXG4gICAgICAgIHBsYXlNb2RlOiBtb2RlLFxuICAgICAgICBpZDogU3ltYm9sKCdwcmV2aWV3IGFuaW1hdGlvbicpXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBvblNlY3Rpb25PbmVCeU9uZUVmZmVjdFNldHRpbmdDaGFuZ2UgPSAoZWZmZmVjdFNldHRpbmc6IEFuaW1hdGlvblNldHRpbmcpID0+IHtcbiAgICB0aGlzLm9uRWZmZWN0U2V0dGluZ0NoYW5nZShBbmltYXRpb25QbGF5TW9kZS5PbmVCeU9uZSwgZWZmZmVjdFNldHRpbmcpO1xuICB9XG5cbiAgcHJldmlld0FuaW1hdGlvbiA9IChtb2RlOiBBbmltYXRpb25QbGF5TW9kZSkgPT4ge1xuICAgIGlmICh0aGlzLmhhc0FuaW1hdGlvbkVmZmVjdCgpKSB7XG4gICAgICBidWlsZGVyQXBwU3luYy5wdWJsaXNoQW5pbWF0aW9uUHJldmlld1RvQXBwKHtcbiAgICAgICAgbGF5b3V0SW5mbzoge1xuICAgICAgICAgIGxheW91dElkOiB0aGlzLnByb3BzLmxheW91dElkLFxuICAgICAgICAgIGxheW91dEl0ZW1JZDogdGhpcy5wcm9wcy5sYXlvdXRJdGVtSWQsXG4gICAgICAgIH0sXG4gICAgICAgIHBsYXlNb2RlOiBtb2RlLFxuICAgICAgICBpZDogU3ltYm9sKCdwcmV2aWV3IGFuaW1hdGlvbicpXG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgcHJldmlld1RyYW5zaXRpb24gPSAod2l0aE9uZUJ5T25lID0gZmFsc2UpID0+IHtcbiAgICBjb25zdCB7IHNlY3Rpb25JZCB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCBzZWN0aW9uUHJvcHMgPSBzZWFyY2hVdGlscy5nZXRTZWN0aW9uSW5mbyhnZXRBcHBTdG9yZSgpLmdldFN0YXRlKCkuYXBwU3RhdGVJbkJ1aWxkZXIsIHNlY3Rpb25JZCk7XG5cbiAgICBjb25zdCB7IHZpZXdzIH0gPSBzZWN0aW9uUHJvcHM7XG4gICAgaWYgKHZpZXdzPy5sZW5ndGggPiAxKSB7XG4gICAgICBsZXQgbmF2SW5mbzogSW1tdXRhYmxlT2JqZWN0PFNlY3Rpb25OYXZJbmZvPiA9XG4gICAgICAgIGdldEFwcFN0b3JlKCkuZ2V0U3RhdGUoKS5hcHBTdGF0ZUluQnVpbGRlcj8uYXBwUnVudGltZUluZm8/LnNlY3Rpb25OYXZJbmZvcz8uW3NlY3Rpb25JZF07XG4gICAgICBpZiAoIW5hdkluZm8pIHtcbiAgICAgICAgY29uc3QgYWN0aXZlVmlld0lkID0gZmluZEFjdGl2ZVZpZXdJZChzZWN0aW9uUHJvcHMpO1xuICAgICAgICBjb25zdCBjdXJyZW50SW5kZXggPSB2aWV3cy5pbmRleE9mKGFjdGl2ZVZpZXdJZCk7XG4gICAgICAgIGNvbnN0IHByZXZpb3VzSW5kZXggPSBjdXJyZW50SW5kZXggPiAwID8gY3VycmVudEluZGV4IC0gMSA6IGN1cnJlbnRJbmRleCArIDE7XG4gICAgICAgIG5hdkluZm8gPSBJbW11dGFibGUoe1xuICAgICAgICAgIGN1cnJlbnRWaWV3SWQ6IGFjdGl2ZVZpZXdJZCxcbiAgICAgICAgICBwcmV2aW91c1ZpZXdJZDogdmlld3NbcHJldmlvdXNJbmRleF0sXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgYnVpbGRlckFwcFN5bmMucHVibGlzaFNlY3Rpb25OYXZJbmZvVG9BcHAoc2VjdGlvbklkLCAobmF2SW5mbyBhcyBhbnkpXG4gICAgICAgIC5zZXQoJ3BsYXlJZCcsIFN5bWJvbCgncGxheSB0cmFuc2l0aW9uJykpXG4gICAgICAgIC5zZXQoJ3dpdGhPbmVCeU9uZScsIHdpdGhPbmVCeU9uZSkuYXNNdXRhYmxlKCkgYXMgU2VjdGlvbk5hdkluZm8pO1xuICAgIH1cbiAgfVxuXG4gIHByZXZpZXdUcmFuc2l0aW9uQW5kT25lYnlPbmUgPSAoKSA9PiB7XG4gICAgdGhpcy5wcmV2aWV3VHJhbnNpdGlvbih0cnVlKTtcbiAgfVxuXG4gIHByZXZpZXdPbmVCeU9uZUluU2VjdGlvbiA9ICgpID0+IHtcbiAgICB0aGlzLnByZXZpZXdBbmltYXRpb24oQW5pbWF0aW9uUGxheU1vZGUuT25lQnlPbmUpO1xuICB9XG5cbiAgb25QbGF5TW9kZUNoYW5nZSA9IChtb2RlOiBBbmltYXRpb25QbGF5TW9kZSkgPT4ge1xuICAgIGNvbnN0IHsgbGF5b3V0SWQsIGxheW91dEl0ZW1JZCwgc2V0dGluZyB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCBpdGVtU2V0dGluZzogYW55ID0gc2V0dGluZyB8fCBJbW11dGFibGUoe30pO1xuICAgIGNvbnN0IGFwcENvbmZpZ0FjdGlvbiA9IGdldEFwcENvbmZpZ0FjdGlvbigpO1xuICAgIGxldCBhcHBDb25maWcgPSBhcHBDb25maWdBY3Rpb24uYXBwQ29uZmlnO1xuXG4gICAgYXBwQ29uZmlnID0gYXBwQ29uZmlnLnNldEluKFxuICAgICAgWydsYXlvdXRzJywgbGF5b3V0SWQsICdjb250ZW50JywgbGF5b3V0SXRlbUlkLCAnc2V0dGluZyddLFxuICAgICAgaXRlbVNldHRpbmcuc2V0KCdlZmZlY3RQbGF5TW9kZScsIG1vZGUpXG4gICAgKTtcblxuICAgIGdldEFwcENvbmZpZ0FjdGlvbihhcHBDb25maWcpLmV4ZWMoKTtcbiAgfTtcblxuICBzd2l0Y2hUb0luID0gKCkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgYW5pbWF0aW9uVHlwZTogJ2luJ1xuICAgIH0pO1xuICB9XG5cbiAgc3dpdGNoVG9UcmFuc2l0aW9uID0gKCkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgYW5pbWF0aW9uVHlwZTogJ3RyYW5zaXRpb24nXG4gICAgfSk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBmb3JtYXRNZXNzYWdlLCBpc0xheW91dFdpZGdldCwgaXNTZWN0aW9uLCB0cmFuc2l0aW9uVHlwZSwgdHJhbnNpdGlvbkRpcmVjdGlvbiwgc2V0dGluZyB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCB7IGFuaW1hdGlvblR5cGUgfSA9IHRoaXMuc3RhdGU7XG5cbiAgICBjb25zdCBhc29uZUVmZmVjdCA9IHNldHRpbmc/LmVmZmVjdD8uW0FuaW1hdGlvblRyaWdnZXJUeXBlLlNjcm9sbEludG9WaWV3XTtcbiAgICBjb25zdCBvbmVCeU9uZUVmZmVjdCA9IHNldHRpbmc/Lm9uZUJ5T25lRWZmZWN0Py5bQW5pbWF0aW9uVHJpZ2dlclR5cGUuU2Nyb2xsSW50b1ZpZXddO1xuXG4gICAgcmV0dXJuIDxTZXR0aW5nU2VjdGlvbiB0aXRsZT17Zm9ybWF0TWVzc2FnZSgnYW5pbWF0aW9uJyl9PlxuICAgICAge2lzU2VjdGlvbiAmJiA8U2V0dGluZ1Jvdz5cbiAgICAgICAgPEJ1dHRvbkdyb3VwIGNsYXNzTmFtZT1cInctMTAwXCIgY3NzPXtjc3NgXG4gICAgICAgICAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgdmFyKC0tcHJpbWFyeS01MDApO1xuICAgICAgICAgICAgLmppbXUtYnRuIHtcbiAgICAgICAgICAgICAgd2lkdGg6IDUwJTtcbiAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMnB4IDJweCAwIDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAuamltdS1idG46bnRoLWNoaWxkKDIpIHtcbiAgICAgICAgICAgICAgbWFyZ2luLWxlZnQ6IDJweCAhaW1wb3J0YW50O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIGB9XG4gICAgICAgID5cbiAgICAgICAgICA8QnV0dG9uIHR5cGU9e2FuaW1hdGlvblR5cGUgPT09ICdpbicgPyAncHJpbWFyeScgOiAnZGVmYXVsdCd9IG9uQ2xpY2s9e3RoaXMuc3dpdGNoVG9Jbn0+XG4gICAgICAgICAgICB7Zm9ybWF0TWVzc2FnZSgnaW4nKX1cbiAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICA8QnV0dG9uIHR5cGU9e2FuaW1hdGlvblR5cGUgPT09ICd0cmFuc2l0aW9uJyA/ICdwcmltYXJ5JyA6ICdkZWZhdWx0J30gb25DbGljaz17dGhpcy5zd2l0Y2hUb1RyYW5zaXRpb259PlxuICAgICAgICAgICAge2Zvcm1hdE1lc3NhZ2UoJ3RyYW5zaXRpb24nKX1cbiAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgPC9CdXR0b25Hcm91cD5cbiAgICAgIDwvU2V0dGluZ1Jvdz59XG4gICAgICB7YW5pbWF0aW9uVHlwZSA9PT0gJ2luJyAmJiA8U2V0dGluZ1JvdyBmbG93PVwid3JhcFwiIGxhYmVsPXtmb3JtYXRNZXNzYWdlKCdzY3JvbGxJbnRvVmlldycpfT5cbiAgICAgICAgPEFuaW1hdGlvblNldHRpbmdDb21wb25lbnRcbiAgICAgICAgICBlZmZlY3RTZXR0aW5nPXthc29uZUVmZmVjdH1cbiAgICAgICAgICBvbmVCeU9uZVNldHRpbmc9e29uZUJ5T25lRWZmZWN0fVxuICAgICAgICAgIG9uU2V0dGluZ0NoYW5nZT17dGhpcy5vbkVmZmVjdFNldHRpbmdDaGFuZ2V9XG4gICAgICAgICAgcHJldmlld0VuYWJsZWQ9e3RydWV9XG4gICAgICAgICAgc3VwcG9ydEFzT25lPXt0cnVlfVxuICAgICAgICAgIHN1cHBvcnRPbmVCeU9uZT17aXNMYXlvdXRXaWRnZXR9XG4gICAgICAgICAgb25QcmV2aWV3Q2xpY2tlZD17dGhpcy5wcmV2aWV3QW5pbWF0aW9ufVxuICAgICAgICAgIGZvcm1hdE1lc3NhZ2U9e2Zvcm1hdE1lc3NhZ2V9XG4gICAgICAgIC8+XG4gICAgICA8L1NldHRpbmdSb3c+fVxuICAgICAge2FuaW1hdGlvblR5cGUgPT09ICd0cmFuc2l0aW9uJyAmJiA8U2V0dGluZ1JvdyBmbG93PVwid3JhcFwiPlxuICAgICAgICA8VHJhbnNpdGlvblNldHRpbmdcbiAgICAgICAgICB0cmFuc2l0aW9uPXt7dHlwZTogdHJhbnNpdGlvblR5cGUsIGRpcmVjdGlvbjogdHJhbnNpdGlvbkRpcmVjdGlvbn19XG4gICAgICAgICAgdHJhbnNpdGlvbkxhYmVsPXtmb3JtYXRNZXNzYWdlKCd2aWV3Jyl9XG4gICAgICAgICAgb25lQnlPbmVFZmZlY3Q9e29uZUJ5T25lRWZmZWN0fVxuICAgICAgICAgIG9uT25lQnlPbmVDaGFuZ2U9e3RoaXMub25TZWN0aW9uT25lQnlPbmVFZmZlY3RTZXR0aW5nQ2hhbmdlfVxuICAgICAgICAgIG9uVHJhbnNpdGlvbkNoYW5nZT17dGhpcy5vblRyYW5zaXRpb25TZXR0aW5nQ2hhbmdlfVxuICAgICAgICAgIG9uUHJldmlld1RyYW5zaXRpb25DbGlja2VkPXt0aGlzLnByZXZpZXdUcmFuc2l0aW9ufVxuICAgICAgICAgIG9uUHJldmlld09uZUJ5T25lQ2xpY2tlZD17dGhpcy5wcmV2aWV3T25lQnlPbmVJblNlY3Rpb259XG4gICAgICAgICAgb25QcmV2aWV3QXNBV2hvbmVDbGlja2VkPXt0aGlzLnByZXZpZXdUcmFuc2l0aW9uQW5kT25lYnlPbmV9XG4gICAgICAgICAgZm9ybWF0TWVzc2FnZT17Zm9ybWF0TWVzc2FnZX1cbiAgICAgICAgLz5cbiAgICAgIDwvU2V0dGluZ1Jvdz59XG4gICAgPC9TZXR0aW5nU2VjdGlvbj5cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBSZWFjdFJlZHV4LmNvbm5lY3Q8U3RhdGVQcm9wcywgdW5rbm93biwgT3duUHJvcHM+KChzdGF0ZTogSU1TdGF0ZSwgb3duUHJvcHM6IE93blByb3BzKSA9PiB7XG4gIGNvbnN0IGxheW91dEl0ZW0gPSBzdGF0ZS5hcHBTdGF0ZUluQnVpbGRlcj8uYXBwQ29uZmlnPy5sYXlvdXRzW293blByb3BzLmxheW91dElkXS5jb250ZW50W293blByb3BzLmxheW91dEl0ZW1JZF07XG4gIGxldCBpc0xheW91dFdpZGdldCA9IGZhbHNlO1xuICBsZXQgdHJhbnNpdGlvblR5cGU7XG4gIGxldCB0cmFuc2l0aW9uRGlyZWN0aW9uO1xuICBsZXQgc2VjdGlvbklkO1xuICBjb25zdCBpc1NlY3Rpb24gPSBsYXlvdXRJdGVtPy50eXBlID09PSBMYXlvdXRJdGVtVHlwZS5TZWN0aW9uO1xuICBjb25zdCBpc1dpZGdldCA9IGxheW91dEl0ZW0/LnR5cGUgPT09IExheW91dEl0ZW1UeXBlLldpZGdldDtcblxuICBpZiAoaXNXaWRnZXQpIHtcbiAgICBjb25zdCB3aWRnZXQgPSBzdGF0ZS5hcHBTdGF0ZUluQnVpbGRlcj8uYXBwQ29uZmlnLndpZGdldHNbbGF5b3V0SXRlbS53aWRnZXRJZF07XG4gICAgaXNMYXlvdXRXaWRnZXQgPSB3aWRnZXQ/Lm1hbmlmZXN0Py53aWRnZXRUeXBlID09PSBXaWRnZXRUeXBlLkxheW91dDtcbiAgfVxuICBpZiAoaXNTZWN0aW9uKSB7XG4gICAgY29uc3Qgc2VjdGlvbiA9IHN0YXRlLmFwcFN0YXRlSW5CdWlsZGVyPy5hcHBDb25maWcuc2VjdGlvbnNbbGF5b3V0SXRlbS5zZWN0aW9uSWRdO1xuICAgIHNlY3Rpb25JZCA9IHNlY3Rpb24uaWQ7XG4gICAgdHJhbnNpdGlvblR5cGUgPSBzZWN0aW9uLnRyYW5zaXRpb24/LnR5cGU7XG4gICAgdHJhbnNpdGlvbkRpcmVjdGlvbiA9IHNlY3Rpb24udHJhbnNpdGlvbj8uZGlyZWN0aW9uO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBzZXR0aW5nOiBsYXlvdXRJdGVtLnNldHRpbmcsXG4gICAgaXNMYXlvdXRXaWRnZXQsXG4gICAgaXNTZWN0aW9uLFxuICAgIGlzV2lkZ2V0LFxuICAgIHRyYW5zaXRpb25UeXBlLFxuICAgIHRyYW5zaXRpb25EaXJlY3Rpb24sXG4gICAgc2VjdGlvbklkLFxuICB9O1xufSkoTGF5b3V0SXRlbUFuaW1hdGlvblNldHRpbmcpO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQW9CQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUF1QkE7QUFBQTtBQVVBO0FBQUE7QUFUQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBZ0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFLQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUEzSEE7QUFDQTtBQUNBOztBQUNBO0FBRUE7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQW1IQTs7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQVdBO0FBR0E7QUFLQTtBQUNBO0FBV0E7QUFDQTtBQWFBO0FBQ0E7QUFBQTtBQUVBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./jimu-layouts/lib/builder/animation-setting.tsx\n");

/***/ }),

/***/ "./jimu-layouts/lib/builder/common-layout-actions.ts":
/*!***********************************************************!*\
  !*** ./jimu-layouts/lib/builder/common-layout-actions.ts ***!
  \***********************************************************/
/*! exports provided: pendLayoutItem, deleteWidget, deleteLayoutItem, deleteSection, duplicateLayoutItem, pasteLayoutItem, pasteToFixedLayout, pasteToFlowLayout, removeWidgetFromLayoutItem, removeSectionFromLayoutItem, findCorespondingLayoutItem, addItemToLayout, mergeWidgetsIntoColumn, supportFloating, supportSinking, floatingLayoutItem, sinkingLayoutItem, addBlockToFlowLayout */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"pendLayoutItem\", function() { return pendLayoutItem; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"deleteWidget\", function() { return deleteWidget; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"deleteLayoutItem\", function() { return deleteLayoutItem; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"deleteSection\", function() { return deleteSection; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"duplicateLayoutItem\", function() { return duplicateLayoutItem; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"pasteLayoutItem\", function() { return pasteLayoutItem; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"pasteToFixedLayout\", function() { return pasteToFixedLayout; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"pasteToFlowLayout\", function() { return pasteToFlowLayout; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"removeWidgetFromLayoutItem\", function() { return removeWidgetFromLayoutItem; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"removeSectionFromLayoutItem\", function() { return removeSectionFromLayoutItem; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"findCorespondingLayoutItem\", function() { return findCorespondingLayoutItem; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"addItemToLayout\", function() { return addItemToLayout; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"mergeWidgetsIntoColumn\", function() { return mergeWidgetsIntoColumn; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"supportFloating\", function() { return supportFloating; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"supportSinking\", function() { return supportSinking; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"floatingLayoutItem\", function() { return floatingLayoutItem; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"sinkingLayoutItem\", function() { return sinkingLayoutItem; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"addBlockToFlowLayout\", function() { return addBlockToFlowLayout; });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jimu_core__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var jimu_for_builder__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-for-builder */ \"jimu-for-builder\");\n/* harmony import */ var jimu_for_builder__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jimu_for_builder__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-layouts/layout-runtime */ \"jimu-layouts/layout-runtime\");\n/* harmony import */ var jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\nfunction getRootLayoutId() {\n    if (jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_2__[\"utils\"].getCurrentDialogId()) {\n        return jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_2__[\"utils\"].getCurrentDialogRootLayoutId();\n    }\n    switch (jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_2__[\"utils\"].getActivePagePart()) {\n        case jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"PagePart\"].Header:\n            return jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_2__[\"utils\"].getHeaderRootLayoutId();\n        case jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"PagePart\"].Footer:\n            return jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_2__[\"utils\"].getFooterRootLayoutId();\n        default:\n            return jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_2__[\"utils\"].getCurrentPageRootLayoutId();\n    }\n}\nfunction pendLayoutItem(layoutInfo) {\n    var appConfigAction = Object(jimu_for_builder__WEBPACK_IMPORTED_MODULE_1__[\"getAppConfigAction\"])();\n    appConfigAction.setLayoutItemToPending(layoutInfo, true);\n    if (window.jimuConfig.isBuilder) {\n        appConfigAction.exec();\n        jimu_for_builder__WEBPACK_IMPORTED_MODULE_1__[\"builderAppSync\"].publishChangeSelectionToApp(null);\n    }\n    else {\n        Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"getAppStore\"])().dispatch(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"appActions\"].layoutChanged(appConfigAction.appConfig, null));\n    }\n}\nfunction deleteWidget(layoutInfo, widgetId) {\n    var appConfigAction = Object(jimu_for_builder__WEBPACK_IMPORTED_MODULE_1__[\"getAppConfigAction\"])();\n    var newSelection = jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_2__[\"searchUtils\"].findParentLayoutItem(layoutInfo, appConfigAction.appConfig, getRootLayoutId(), jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_2__[\"utils\"].getCurrentSizeMode());\n    appConfigAction.removeWidget(widgetId);\n    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"getAppStore\"])().dispatch(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"appActions\"].layoutChanged(appConfigAction.appConfig, newSelection));\n}\nfunction deleteLayoutItem(layoutInfo) {\n    var appConfigAction = Object(jimu_for_builder__WEBPACK_IMPORTED_MODULE_1__[\"getAppConfigAction\"])();\n    var newSelection = jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_2__[\"searchUtils\"].findParentLayoutItem(layoutInfo, appConfigAction.appConfig, getRootLayoutId(), jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_2__[\"utils\"].getCurrentSizeMode());\n    appConfigAction.removeLayoutItem(layoutInfo, false);\n    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"getAppStore\"])().dispatch(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"appActions\"].layoutChanged(appConfigAction.appConfig, newSelection));\n}\nfunction deleteSection(layoutInfo, sectionId) {\n    var appConfigAction = Object(jimu_for_builder__WEBPACK_IMPORTED_MODULE_1__[\"getAppConfigAction\"])();\n    var newSelection = jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_2__[\"searchUtils\"].findParentLayoutItem(layoutInfo, appConfigAction.appConfig, getRootLayoutId(), jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_2__[\"utils\"].getCurrentSizeMode());\n    appConfigAction.removeSection(sectionId);\n    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"getAppStore\"])().dispatch(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"appActions\"].layoutChanged(appConfigAction.appConfig, newSelection));\n}\nfunction duplicateLayoutItem(layoutInfo) {\n    var layoutId = layoutInfo.layoutId, layoutItemId = layoutInfo.layoutItemId;\n    var appConfigAction = Object(jimu_for_builder__WEBPACK_IMPORTED_MODULE_1__[\"getAppConfigAction\"])();\n    var newLayoutInfo = appConfigAction.duplicateLayoutItem(layoutId, layoutId, layoutItemId, true);\n    var appConfig = appConfigAction.appConfig;\n    var layout = appConfig.layouts[layoutId];\n    if (layout.type === jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"LayoutType\"].FixedLayout) {\n        appConfig = offsetDupliateItemInFixedLayout(appConfig, newLayoutInfo);\n    }\n    else if (layout.type === jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"LayoutType\"].FlowLayout) {\n        appConfig = offsetDupliateItemInFlowLayout(appConfig, layoutInfo, newLayoutInfo);\n    }\n    else {\n        var pWidgetId = jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_2__[\"searchUtils\"].getWidgetIdThatUseTheLayoutId(appConfigAction.appConfig, layoutId);\n        if (pWidgetId) {\n            var widgetJson = appConfigAction.appConfig.widgets[pWidgetId];\n            var widgetName = widgetJson.manifest.name;\n            switch (widgetName) {\n                case 'column':\n                    appConfig = offsetDupliateItemInFlowLayout(appConfig, layoutInfo, newLayoutInfo);\n                    break;\n                case 'row':\n                    appConfig = offsetDupliateItemInRow(appConfig, layoutInfo, newLayoutInfo);\n                    break;\n                case 'fixed':\n                    appConfig = offsetDupliateItemInFixedLayout(appConfig, newLayoutInfo);\n            }\n        }\n    }\n    if (window.jimuConfig.isBuilder) {\n        Object(jimu_for_builder__WEBPACK_IMPORTED_MODULE_1__[\"getAppConfigAction\"])(appConfig).exec();\n        jimu_for_builder__WEBPACK_IMPORTED_MODULE_1__[\"builderAppSync\"].publishChangeSelectionToApp(newLayoutInfo);\n    }\n    else {\n        Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"getAppStore\"])().dispatch(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"appActions\"].layoutChanged(appConfig, newLayoutInfo));\n    }\n}\nfunction pasteLayoutItem(clipboardItem, targetLayoutId) {\n    var _a, _b;\n    var appConfigAction = Object(jimu_for_builder__WEBPACK_IMPORTED_MODULE_1__[\"getAppConfigAction\"])();\n    var layoutId = clipboardItem.layoutId, layoutItemId = clipboardItem.layoutItemId;\n    var layoutItem = (_b = (_a = appConfigAction.appConfig.layouts[layoutId]) === null || _a === void 0 ? void 0 : _a.content) === null || _b === void 0 ? void 0 : _b[layoutItemId];\n    if (!layoutItem) {\n        return;\n    }\n    var layoutType = appConfigAction.appConfig.layouts[targetLayoutId].type;\n    if (layoutType === jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"LayoutType\"].FlowLayout) {\n        // Find the view in current viewport if any\n        // const views = document.querySelectorAll(`div.flow-layout[data-layoutid=${targetLayoutId}] div.screen-view`);\n        // if (views && views.length > 0) {\n        //   const visibleRect = getVisibleWorkArea();\n        //   const zoomScale = getAppStore().getState().appRuntimeInfo?.zoomScale ?? 1;\n        //   const visibleTop = visibleRect.top / zoomScale;\n        //   const visibleHeight = visibleRect.height / zoomScale;\n        //   if (visibleRect) {\n        //     let visibleView;\n        //     let viewRect;\n        //     for (let i = 0; i < views.length; i++) {\n        //       const view = views[i];\n        //       const rect = view.getBoundingClientRect();\n        //       // totally visible or top in tolerance\n        //       if ((rect.top >= visibleTop && rect.bottom <= visibleTop + visibleHeight) ||\n        //         (Math.abs(rect.top - visibleTop) <= visibleHeight / 4)) {\n        //         visibleView = view;\n        //         viewRect = rect;\n        //         break;\n        //       }\n        //     }\n        //     if (visibleView) {\n        //       const viewId = visibleView.getAttribute('data-viewid');\n        //       const layoutId = searchUtils.findLayoutId(\n        //         appConfigAction.appConfig.views[viewId]?.layout,\n        //         utils.getCurrentSizeMode(),\n        //         appConfigAction.appConfig.mainSizeMode\n        //       );\n        //       if (layoutId) {\n        //         return pasteToFixedLayout(clipboardItem, layoutId, {\n        //           left: 0,\n        //           top: 0,\n        //           width: viewRect.width * zoomScale,\n        //           height: viewRect.height * zoomScale\n        //         } as ClientRect);\n        //       }\n        //     }\n        //   }\n        // }\n        // Or else insert btween blocks\n        pasteToFlowLayout(clipboardItem, targetLayoutId);\n    }\n    else if (layoutType === jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"LayoutType\"].FixedLayout) {\n        pasteToFixedLayout(clipboardItem, targetLayoutId);\n    }\n    else {\n        console.error(\"unknown layout type: \" + layoutType);\n    }\n}\nfunction pasteToFixedLayout(clipboardItem, targetLayoutId, containerRect) {\n    var _a, _b, _c, _d;\n    if (containerRect === void 0) { containerRect = null; }\n    var appConfigAction = Object(jimu_for_builder__WEBPACK_IMPORTED_MODULE_1__[\"getAppConfigAction\"])();\n    var layoutId = clipboardItem.layoutId, layoutItemId = clipboardItem.layoutItemId, width = clipboardItem.width, height = clipboardItem.height;\n    var originalLayoutItem = (_b = (_a = appConfigAction.appConfig.layouts[layoutId]) === null || _a === void 0 ? void 0 : _a.content) === null || _b === void 0 ? void 0 : _b[layoutItemId];\n    var originalBBox = originalLayoutItem.bbox;\n    var layoutInfo = appConfigAction.duplicateLayoutItem(layoutId, layoutId, layoutItemId, true);\n    var zoomScale = (_d = (_c = Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"getAppStore\"])().getState().appRuntimeInfo) === null || _c === void 0 ? void 0 : _c.zoomScale) !== null && _d !== void 0 ? _d : 1;\n    addItemToLayout(appConfigAction.appConfig, { layoutInfo: layoutInfo }, { layoutId: targetLayoutId }, { left: 0, right: 0, width: width, height: height }, { left: 0, right: 0, width: width, height: height }).then(function (result) {\n        var updatedLayoutInfo = result.layoutInfo, updatedAppConfig = result.updatedAppConfig;\n        appConfigAction = Object(jimu_for_builder__WEBPACK_IMPORTED_MODULE_1__[\"getAppConfigAction\"])(updatedAppConfig);\n        if (!containerRect) {\n            containerRect = getVisibleWorkArea(targetLayoutId);\n        }\n        if (containerRect) {\n            var containerWidth = containerRect.width / zoomScale;\n            var containerHeight = containerRect.height / zoomScale;\n            appConfigAction.editLayoutItemBBox(updatedLayoutInfo, jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_2__[\"utils\"].replaceBoundingBox(originalBBox, {\n                left: 0,\n                top: 0,\n                right: 0,\n                bottom: 0,\n                width: Math.round(width),\n                height: Math.round(height)\n            }, {\n                width: containerWidth,\n                height: containerHeight\n            }));\n        }\n        appConfigAction.editLayoutItemSetting(updatedLayoutInfo, { vCenter: true, hCenter: true });\n        var bbox = appConfigAction.appConfig.layouts[updatedLayoutInfo.layoutId].content[updatedLayoutInfo.layoutItemId].bbox;\n        appConfigAction.editLayoutItemBBox(updatedLayoutInfo, bbox.set('left', '50%').set('top', '50%'));\n        Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"getAppStore\"])().dispatch(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"appActions\"].layoutChanged(appConfigAction.appConfig, updatedLayoutInfo));\n    });\n}\nfunction pasteToFlowLayout(clipboardItem, targetLayoutId) {\n    var _a, _b, _c;\n    var appConfigAction = Object(jimu_for_builder__WEBPACK_IMPORTED_MODULE_1__[\"getAppConfigAction\"])();\n    var layoutId = clipboardItem.layoutId, layoutItemId = clipboardItem.layoutItemId, width = clipboardItem.width, height = clipboardItem.height;\n    var layoutInfo = appConfigAction.duplicateLayoutItem(layoutId, layoutId, layoutItemId, true);\n    var zoomScale = (_b = (_a = Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"getAppStore\"])().getState().appRuntimeInfo) === null || _a === void 0 ? void 0 : _a.zoomScale) !== null && _b !== void 0 ? _b : 1;\n    var visibleInfo = getFirstVisibleBlock(targetLayoutId, width, zoomScale);\n    if (visibleInfo.insertIndex === -1) {\n        visibleInfo.insertIndex = ((_c = appConfigAction.appConfig.layouts[targetLayoutId].order) === null || _c === void 0 ? void 0 : _c.length) || 0;\n    }\n    addBlockToFlowLayout({ layoutInfo: layoutInfo }, { layoutId: targetLayoutId }, { left: 0, top: 0, width: width, height: height }, { left: 0, top: 0, width: width, height: height }, visibleInfo.colSpan, visibleInfo.insertIndex, appConfigAction.appConfig);\n}\nfunction getVisibleWorkArea(layoutId) {\n    var workarea = window.parent.document.querySelector('div[data-layoutid=\"right-sidebar-left-layout\"]');\n    var deviceFrame = window.parent.document.querySelector('iframe[name=\"_appWindow\"]');\n    var layoutDiv;\n    var left;\n    var top;\n    var width;\n    var height;\n    if (workarea && deviceFrame) {\n        var workareaRect = workarea.getBoundingClientRect();\n        var frameRect = deviceFrame.getBoundingClientRect();\n        left = frameRect.left;\n        top = frameRect.top;\n        width = frameRect.width;\n        height = frameRect.height;\n        if (layoutId) {\n            var frameDoc = deviceFrame.contentDocument || deviceFrame.contentWindow.document;\n            layoutDiv = frameDoc.querySelector(\"div.layout[data-layoutid=\\\"\" + layoutId + \"\\\"]\");\n            if (layoutDiv) {\n                var layoutRect = layoutDiv.getBoundingClientRect();\n                left += layoutRect.left;\n                top += layoutRect.top;\n                width = layoutRect.width;\n                height = layoutRect.height;\n            }\n        }\n        var vl = left >= workareaRect.left ? 0 : workareaRect.left - left;\n        var vt = top >= workareaRect.top ? 0 : workareaRect.top - top;\n        // const vw = workareaRect.left + workareaRect.width >= left + width ?\n        //   Math.min(width, left + width - workareaRect.left) :\n        //   Math.min(workareaRect.width, workareaRect.left + workareaRect.width - left);\n        // const vh = workareaRect.top + workareaRect.height >= top + height ?\n        //   Math.min(height, top + height - workareaRect.top) :\n        //   Math.min(workareaRect.height, workareaRect.top + workareaRect.height - top);\n        return { left: vl, top: vt, width: width, height: height };\n    }\n    return null;\n}\nfunction getFirstVisibleBlock(layoutId, width, zoomScale) {\n    var deviceFrame = window.parent.document.querySelector('iframe[name=\"_appWindow\"]');\n    var childNodes = document.querySelectorAll(\"div.flow-layout[data-layoutid=\\\"\" + layoutId + \"\\\"] > div.builder-layout-item\");\n    var index = -1;\n    var colSpan = 2;\n    if (deviceFrame && childNodes) {\n        var frameRect_1 = deviceFrame.getBoundingClientRect();\n        childNodes.forEach(function (node, i) {\n            if (index === -1) {\n                var itemRect = node.getBoundingClientRect();\n                if (itemRect.top + frameRect_1.top >= 0 || itemRect.top + itemRect.height + frameRect_1.top >= 0) {\n                    index = i + 1;\n                }\n            }\n        });\n        colSpan = Math.round(width * 12 * zoomScale / frameRect_1.width);\n    }\n    return {\n        colSpan: colSpan,\n        insertIndex: index,\n    };\n}\nfunction offsetDupliateItemInFixedLayout(appConfig, layoutInfo) {\n    var _a, _b;\n    var layoutId = layoutInfo.layoutId, layoutItemId = layoutInfo.layoutItemId;\n    var layoutItem = appConfig.layouts[layoutId].content[layoutItemId];\n    var bbox = layoutItem.bbox, setting = layoutItem.setting;\n    var offset = function (value) {\n        if (jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_2__[\"utils\"].isPercentage(value)) {\n            return parseFloat(value) + 5 + \"%\";\n        }\n        var pxValue = parseInt(value, 10);\n        if (!isNaN(pxValue)) {\n            return pxValue + 20;\n        }\n        return value;\n    };\n    if ((_a = setting === null || setting === void 0 ? void 0 : setting.autoProps) === null || _a === void 0 ? void 0 : _a.left) {\n        bbox = bbox.set('right', offset(bbox.right));\n    }\n    else {\n        bbox = bbox.set('left', offset(bbox.left));\n    }\n    if ((_b = setting === null || setting === void 0 ? void 0 : setting.autoProps) === null || _b === void 0 ? void 0 : _b.top) {\n        bbox = bbox.set('bottom', offset(bbox.bottom));\n    }\n    else {\n        bbox = bbox.set('top', offset(bbox.top));\n    }\n    if ((setting === null || setting === void 0 ? void 0 : setting.hCenter) && (setting === null || setting === void 0 ? void 0 : setting.vCenter)) {\n        setting = setting.set('vCenter', false);\n    }\n    return appConfig\n        .setIn(['layouts', layoutId, 'content', layoutItemId, 'bbox'], bbox)\n        .setIn(['layouts', layoutId, 'content', layoutItemId, 'setting'], setting);\n}\nfunction offsetDupliateItemInFlowLayout(appConfig, sourceLayoutInfo, targetLayoutInfo) {\n    var _a;\n    var layoutId = sourceLayoutInfo.layoutId;\n    var layout = appConfig.layouts[layoutId];\n    var order = [].concat(layout.order);\n    var targetIndex = order.indexOf(targetLayoutInfo.layoutItemId);\n    order.splice(targetIndex, 1);\n    var sourceIndex = order.indexOf(sourceLayoutInfo.layoutItemId);\n    order.splice(sourceIndex + 1, 0, targetLayoutInfo.layoutItemId);\n    var targetLayoutItem = layout.content[targetLayoutInfo.layoutItemId];\n    var updateAppConfig = appConfig.setIn(['layouts', layoutId, 'order'], order);\n    if ((_a = targetLayoutItem.setting) === null || _a === void 0 ? void 0 : _a.isFloating) {\n        updateAppConfig = offsetDupliateItemInFixedLayout(updateAppConfig, targetLayoutInfo);\n    }\n    return updateAppConfig;\n}\nfunction offsetDupliateItemInRow(appConfig, sourceLayoutInfo, targetLayoutInfo) {\n    var updatedAppConfig = appConfig;\n    var layoutId = sourceLayoutInfo.layoutId;\n    var layout = appConfig.layouts[layoutId];\n    var getValue = function (layoutItemId, prop) {\n        return parseInt(updatedAppConfig.layouts[layoutId].content[layoutItemId].bbox[prop], 10);\n    };\n    var updateValue = function (layoutItemId, prop, value) {\n        updatedAppConfig = updatedAppConfig.setIn(['layouts', layoutId, 'content', layoutItemId, 'bbox', prop], value);\n    };\n    var order = Object.keys(layout.content).sort(function (a, b) { return getValue(a, 'left') - getValue(b, 'left'); });\n    var targetIndex = order.indexOf(targetLayoutInfo.layoutItemId);\n    order.splice(targetIndex, 1);\n    var sourceIndex = order.indexOf(sourceLayoutInfo.layoutItemId);\n    order.splice(sourceIndex + 1, 0, targetLayoutInfo.layoutItemId);\n    updatedAppConfig = updatedAppConfig.setIn(['layouts', layoutId, 'order'], order);\n    // compress row items\n    var totalWidth = 0;\n    for (var i = 0; i < order.length; i++) {\n        totalWidth += getValue(order[i], 'width');\n    }\n    updateValue(order[0], 'left', 0);\n    if (totalWidth <= 12) {\n        for (var i = 1; i < order.length; i++) {\n            updateValue(order[i], 'left', getValue(order[i - 1], 'left') + getValue(order[i - 1], 'width'));\n        }\n    }\n    else {\n        // scale down\n        var ratio = totalWidth / 12;\n        updateValue(order[0], 'width', Math.max(1, Math.floor(getValue(order[0], 'width') / ratio)));\n        for (var i = 1; i < order.length; i++) {\n            updateValue(order[i], 'left', getValue(order[i - 1], 'left') + getValue(order[i - 1], 'width'));\n            updateValue(order[i], 'width', Math.max(1, Math.floor(getValue(order[i], 'width') / ratio)));\n        }\n    }\n    return updatedAppConfig;\n}\nfunction removeWidgetFromLayoutItem(layoutInfo, widgetId) {\n    Object(jimu_for_builder__WEBPACK_IMPORTED_MODULE_1__[\"getAppConfigAction\"])()\n        .updateLayoutItem(layoutInfo, 'widgetId', undefined)\n        .removeWidget(widgetId)\n        .exec();\n}\nfunction removeSectionFromLayoutItem(layoutInfo) {\n    Object(jimu_for_builder__WEBPACK_IMPORTED_MODULE_1__[\"getAppConfigAction\"])()\n        .updateLayoutItem(layoutInfo, 'sectionId', undefined)\n        .exec();\n}\nfunction findCorespondingLayoutItem(appConfig, target, anotherLayoutId) {\n    var layoutItemId;\n    var layout = appConfig.layouts[anotherLayoutId];\n    Object.keys(layout.content || {}).some(function (itemId) {\n        var layoutItem = layout.content[itemId];\n        if ((target.type === jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"LayoutItemType\"].Widget &&\n            layoutItem.type === target.type &&\n            layoutItem.widgetId === target.widgetId) ||\n            (target.type === jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"LayoutItemType\"].Section &&\n                layoutItem.type === target.type &&\n                layoutItem.sectionId === target.sectionId)) {\n            layoutItemId = itemId;\n            return true;\n        }\n    });\n    return {\n        layoutItemId: layoutItemId,\n        layoutId: anotherLayoutId,\n    };\n}\n/**\n * Add widget or section to a layout, either dragging from the widget list or dragging an existing one.\n */\nfunction addItemToLayout(appConfig, item, parentLayoutInfo, containerRect, itemRect, insertIndex) {\n    var layoutInfo = item.layoutInfo;\n    if (item.id) {\n        // it must be a pending item\n        return addPendingItemToLayout(appConfig, item, parentLayoutInfo, containerRect, itemRect, insertIndex);\n    }\n    // drag and drop an existing layout item in the same page\n    if (layoutInfo && layoutInfo.layoutId && layoutInfo.layoutItemId) {\n        return moveLayoutItem(appConfig, item, parentLayoutInfo, containerRect, itemRect, insertIndex);\n    }\n    if (item.itemType === jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"LayoutItemType\"].Section) {\n        return addNewSectionToLayout(appConfig, parentLayoutInfo, containerRect, itemRect, insertIndex);\n    }\n    if (item.uri) {\n        return addNewWidgetToLayout(appConfig, item, parentLayoutInfo, containerRect, itemRect, insertIndex);\n    }\n    // widget placeholder\n    return addPlaceholderToLayout(appConfig, item, parentLayoutInfo, containerRect, itemRect, insertIndex);\n}\nfunction addPendingItemToLayout(appConfig, item, parentLayoutInfo, containerRect, itemRect, insertIndex) {\n    var _a;\n    var newLayoutItem;\n    var appConfigAction = Object(jimu_for_builder__WEBPACK_IMPORTED_MODULE_1__[\"getAppConfigAction\"])(appConfig);\n    var nextLayoutItemId = \"\" + (jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_2__[\"utils\"].getMaximumId(appConfig.layouts[parentLayoutInfo.layoutId]) + 1);\n    if (item.itemType === jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"LayoutItemType\"].Section) {\n        newLayoutItem = Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"Immutable\"])({\n            id: nextLayoutItemId,\n            type: jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"LayoutItemType\"].Section,\n            bbox: jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_2__[\"utils\"].replaceBoundingBox(null, itemRect, containerRect),\n            sectionId: item.id,\n        });\n    }\n    else {\n        newLayoutItem = Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"Immutable\"])({\n            id: nextLayoutItemId,\n            type: jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"LayoutItemType\"].Widget,\n            bbox: jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_2__[\"utils\"].replaceBoundingBox(null, itemRect, containerRect),\n            widgetId: item.id,\n        });\n    }\n    var _b = item.layoutInfo, layoutId = _b.layoutId, layoutItemId = _b.layoutItemId;\n    var originLayoutItem = appConfig.layouts[layoutId].content[layoutItemId];\n    if ((_a = originLayoutItem.setting) === null || _a === void 0 ? void 0 : _a.lockParent) {\n        newLayoutItem = newLayoutItem.setIn(['setting', 'lockParent'], true);\n    }\n    var newLayoutInfo = appConfigAction.addItemIntoLayout(parentLayoutInfo.layoutId, newLayoutItem, insertIndex);\n    if (item.isFromCurrentSizeMode) {\n        appConfigAction.removeLayoutItem(item.layoutInfo, false);\n    }\n    return Promise.resolve({\n        layoutInfo: newLayoutInfo,\n        updatedAppConfig: appConfigAction.appConfig,\n    });\n}\nfunction moveLayoutItem(appConfig, item, parentLayoutInfo, containerRect, itemRect, insertIndex) {\n    var _a, _b, _c, _d;\n    var layoutInfo = item.layoutInfo;\n    var appConfigAction = Object(jimu_for_builder__WEBPACK_IMPORTED_MODULE_1__[\"getAppConfigAction\"])(appConfig);\n    var layoutId = layoutInfo.layoutId, layoutItemId = layoutInfo.layoutItemId;\n    if (layoutId === parentLayoutInfo.layoutId) {\n        // adjust position in the same layout\n        var originBBox = (_d = (_c = (_b = (_a = appConfigAction.appConfig.layouts) === null || _a === void 0 ? void 0 : _a[layoutId]) === null || _b === void 0 ? void 0 : _b.content) === null || _c === void 0 ? void 0 : _c[layoutItemId]) === null || _d === void 0 ? void 0 : _d.bbox;\n        var newBBox = jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_2__[\"utils\"].replaceBoundingBox(originBBox, itemRect, containerRect);\n        // keep the original size if move item in the same layout\n        newBBox = newBBox.set('width', originBBox.width).set('height', originBBox.height);\n        appConfigAction.editLayoutItemBBox(layoutInfo, newBBox);\n        if (insertIndex >= 0) {\n            appConfigAction.editLayoutItemIndex(layoutInfo, parentLayoutInfo, insertIndex);\n        }\n        appConfigAction.setLayoutItemToPending(layoutInfo, false);\n        return Promise.resolve({ layoutInfo: layoutInfo, updatedAppConfig: appConfigAction.appConfig });\n    }\n    var newLayoutInfo = appConfigAction.moveLayoutItemToAnotherLayout(layoutInfo, parentLayoutInfo, jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_2__[\"utils\"].replaceBoundingBox(null, itemRect, containerRect), insertIndex);\n    appConfigAction.clearRedundantLayout(layoutInfo);\n    var pWidgetId = jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_2__[\"searchUtils\"].getWidgetIdThatUseTheLayoutId(appConfig, parentLayoutInfo.layoutId);\n    if (pWidgetId && shouldLockParent(appConfig.widgets[pWidgetId])) {\n        appConfigAction.editLayoutItemSetting(newLayoutInfo, { lockParent: true });\n    }\n    return Promise.resolve({ layoutInfo: newLayoutInfo, updatedAppConfig: appConfigAction.appConfig });\n}\nfunction addNewSectionToLayout(appConfig, parentLayoutInfo, containerRect, itemRect, insertIndex) {\n    var appConfigAction = Object(jimu_for_builder__WEBPACK_IMPORTED_MODULE_1__[\"getAppConfigAction\"])(appConfig);\n    var sectionId = appConfigAction.createSection().id;\n    var nextLayoutItemId = \"\" + (jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_2__[\"utils\"].getMaximumId(appConfig.layouts[parentLayoutInfo.layoutId]) + 1);\n    var newLayoutItem = Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"Immutable\"])({\n        sectionId: sectionId,\n        id: nextLayoutItemId,\n        type: jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"LayoutItemType\"].Section,\n        bbox: jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_2__[\"utils\"].replaceBoundingBox(null, itemRect, containerRect),\n    });\n    var newLayoutInfo = appConfigAction.addItemIntoLayout(parentLayoutInfo.layoutId, newLayoutItem, insertIndex);\n    return Promise.resolve({ layoutInfo: newLayoutInfo, updatedAppConfig: appConfigAction.appConfig });\n}\nfunction addNewWidgetToLayout(appConfig, item, parentLayoutInfo, containerRect, itemRect, insertIndex) {\n    var widgetJson = {\n        uri: item.uri,\n    };\n    jimu_for_builder__WEBPACK_IMPORTED_MODULE_1__[\"appBuilderSync\"].publishIsBusyToBuilder(true);\n    return jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"WidgetManager\"].getInstance()\n        .handleNewWidgetJson(widgetJson)\n        .then(function (widgetJson) {\n        var appConfigAction = Object(jimu_for_builder__WEBPACK_IMPORTED_MODULE_1__[\"getAppConfigAction\"])(appConfig);\n        var nextLayoutItemId = \"\" + (jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_2__[\"utils\"].getMaximumId(appConfig.layouts[parentLayoutInfo.layoutId]) + 1);\n        var widgetId = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"appConfigUtils\"].getUniqueId(appConfigAction.appConfig, 'widget');\n        widgetJson.id = widgetId;\n        appConfigAction.createWidget(Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"Immutable\"])(widgetJson));\n        var newLayoutItem = Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"Immutable\"])({\n            id: nextLayoutItemId,\n            type: jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"LayoutItemType\"].Widget,\n            bbox: jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_2__[\"utils\"].replaceBoundingBox(null, itemRect, containerRect),\n            widgetId: widgetJson.id,\n        });\n        var pWidgetId = jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_2__[\"searchUtils\"].getWidgetIdThatUseTheLayoutId(appConfig, parentLayoutInfo.layoutId);\n        if (pWidgetId && shouldLockParent(appConfig.widgets[pWidgetId])) {\n            newLayoutItem = newLayoutItem.setIn(['setting', 'lockParent'], true);\n        }\n        var newLayoutInfo = appConfigAction.addItemIntoLayout(parentLayoutInfo.layoutId, newLayoutItem, insertIndex);\n        jimu_for_builder__WEBPACK_IMPORTED_MODULE_1__[\"appBuilderSync\"].publishIsBusyToBuilder(false);\n        return {\n            layoutInfo: newLayoutInfo,\n            updatedAppConfig: appConfigAction.appConfig,\n        };\n    })\n        .catch(function (err) {\n        jimu_for_builder__WEBPACK_IMPORTED_MODULE_1__[\"appBuilderSync\"].publishIsBusyToBuilder(false);\n        return Promise.reject(err);\n    });\n}\nfunction addPlaceholderToLayout(appConfig, item, parentLayoutInfo, containerRect, itemRect, insertIndex) {\n    var appConfigAction = Object(jimu_for_builder__WEBPACK_IMPORTED_MODULE_1__[\"getAppConfigAction\"])(appConfig);\n    var nextLayoutItemId = \"\" + (jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_2__[\"utils\"].getMaximumId(appConfig.layouts[parentLayoutInfo.layoutId]) + 1);\n    var newLayoutItem = Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"Immutable\"])({\n        id: nextLayoutItemId,\n        type: jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"LayoutItemType\"].Widget,\n        bbox: jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_2__[\"utils\"].replaceBoundingBox(null, itemRect, containerRect),\n    });\n    var pWidgetId = jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_2__[\"searchUtils\"].getWidgetIdThatUseTheLayoutId(appConfig, parentLayoutInfo.layoutId);\n    if (pWidgetId && shouldLockParent(appConfig.widgets[pWidgetId])) {\n        newLayoutItem = newLayoutItem.setIn(['setting', 'lockParent'], true);\n    }\n    var newLayoutInfo = appConfigAction.addItemIntoLayout(parentLayoutInfo.layoutId, newLayoutItem, insertIndex);\n    return Promise.resolve({\n        layoutInfo: newLayoutInfo,\n        updatedAppConfig: appConfigAction.appConfig,\n    });\n}\nfunction shouldLockParent(widgetJson) {\n    var _a, _b, _c, _d, _e, _f, _g;\n    var type = (_a = widgetJson === null || widgetJson === void 0 ? void 0 : widgetJson.manifest) === null || _a === void 0 ? void 0 : _a.widgetType;\n    var hasEmbeddedLayout = (_d = (_c = (_b = widgetJson === null || widgetJson === void 0 ? void 0 : widgetJson.manifest) === null || _b === void 0 ? void 0 : _b.properties) === null || _c === void 0 ? void 0 : _c.hasEmbeddedLayout) !== null && _d !== void 0 ? _d : false;\n    var lockChildren = (_g = (_f = (_e = widgetJson === null || widgetJson === void 0 ? void 0 : widgetJson.manifest) === null || _e === void 0 ? void 0 : _e.properties) === null || _f === void 0 ? void 0 : _f.lockChildren) !== null && _g !== void 0 ? _g : false;\n    return type !== jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"WidgetType\"].Layout && hasEmbeddedLayout && lockChildren;\n}\nfunction mergeWidgetsIntoColumn(appConfig, draggingItem, containerRect, itemRect, refLayoutInfo, side) {\n    var appConfigAction = Object(jimu_for_builder__WEBPACK_IMPORTED_MODULE_1__[\"getAppConfigAction\"])(appConfig);\n    var layoutItem = appConfig.layouts[refLayoutInfo.layoutId].content[refLayoutInfo.layoutItemId];\n    // 1. create a column widget\n    var widgetId = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"appConfigUtils\"].getUniqueId(appConfigAction.appConfig, 'widget');\n    var widgetJson = {\n        id: widgetId,\n        uri: 'widgets/layout/column/',\n    };\n    jimu_for_builder__WEBPACK_IMPORTED_MODULE_1__[\"appBuilderSync\"].publishIsBusyToBuilder(true);\n    return jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"WidgetManager\"].getInstance()\n        .handleNewWidgetJson(widgetJson)\n        .then(function (widgetJson) {\n        appConfigAction.createWidget(Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"Immutable\"])(widgetJson));\n        // 2. Update the existing layout item\n        // 2.1 set widgetId to the new created column widget\n        appConfigAction.updateLayoutItem(refLayoutInfo, 'widgetId', widgetJson.id);\n        appConfigAction.editLayoutItemSetting(refLayoutInfo, {\n            maintainedByLayout: true,\n        });\n        // 2.2 enlarge the height to hold new widget\n        var bbox = Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"Immutable\"])(layoutItem.bbox);\n        // 20 is the extra size for gap and padding\n        var updatedHeight = Math.round(parseFloat(bbox.height) + itemRect.height + 20);\n        bbox = bbox.set('height', updatedHeight + \"px\");\n        appConfigAction.editLayoutItemBBox(refLayoutInfo, bbox);\n    })\n        .then(function () {\n        // 3. Move the tow widgets to the layout of column\n        var widget = appConfigAction.appConfig.widgets[widgetJson.id];\n        var browserSizeMode = Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"getAppStore\"])().getState().browserSizeMode;\n        var layoutName = Object.keys(widget.layouts)[0];\n        var sizemodeLayouts = widget.layouts[layoutName];\n        var embedLayoutId = jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_2__[\"searchUtils\"].findLayoutId(sizemodeLayouts, browserSizeMode, appConfigAction.appConfig.mainSizeMode);\n        return addItemToLayout(appConfigAction.appConfig, draggingItem, { layoutId: embedLayoutId }, containerRect, itemRect).then(function (_a) {\n            var updatedAppConfig = _a.updatedAppConfig;\n            var existingId = jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_2__[\"utils\"].getMaximumId(updatedAppConfig.layouts[embedLayoutId]);\n            var newLayoutItem = {\n                id: \"\" + (existingId + 1),\n                widgetId: layoutItem.widgetId,\n                type: jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"LayoutItemType\"].Widget,\n                bbox: jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_2__[\"utils\"].replaceBoundingBox(null, itemRect, containerRect),\n            };\n            var order;\n            if (side === 'top') {\n                order = [\"\" + existingId, newLayoutItem.id];\n            }\n            else {\n                order = [newLayoutItem.id, \"\" + existingId];\n            }\n            updatedAppConfig = updatedAppConfig\n                .setIn(['layouts', embedLayoutId, 'content', newLayoutItem.id], newLayoutItem)\n                .setIn(['layouts', embedLayoutId, 'order'], order);\n            return Promise.resolve({\n                updatedAppConfig: updatedAppConfig,\n                layoutInfo: refLayoutInfo,\n            });\n        });\n    })\n        .then(function (_a) {\n        var updatedAppConfig = _a.updatedAppConfig;\n        jimu_for_builder__WEBPACK_IMPORTED_MODULE_1__[\"appBuilderSync\"].publishIsBusyToBuilder(false);\n        return {\n            updatedAppConfig: updatedAppConfig,\n            layoutInfo: refLayoutInfo,\n        };\n    })\n        .catch(function (err) {\n        jimu_for_builder__WEBPACK_IMPORTED_MODULE_1__[\"appBuilderSync\"].publishIsBusyToBuilder(false);\n        return Promise.reject(err);\n    });\n}\nfunction supportFloating(layoutInfo) {\n    var _a, _b, _c, _d;\n    var layoutId = layoutInfo.layoutId, layoutItemId = layoutInfo.layoutItemId;\n    var appConfig = Object(jimu_for_builder__WEBPACK_IMPORTED_MODULE_1__[\"getAppConfigAction\"])().appConfig;\n    var layoutItem = (_b = (_a = appConfig.layouts[layoutId]) === null || _a === void 0 ? void 0 : _a.content) === null || _b === void 0 ? void 0 : _b[layoutItemId];\n    if (!layoutItem || ((_c = layoutItem.setting) === null || _c === void 0 ? void 0 : _c.isFloating)) {\n        return false;\n    }\n    var pagePart = jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_2__[\"utils\"].getActivePagePart();\n    if (pagePart !== jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"PagePart\"].Header && pagePart !== jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"PagePart\"].Footer) {\n        var rootLayoutId = jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_2__[\"utils\"].getCurrentPageRootLayoutId();\n        var layoutType = (_d = appConfig.layouts[rootLayoutId]) === null || _d === void 0 ? void 0 : _d.type;\n        return layoutType === jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"LayoutType\"].FlowLayout && layoutId !== rootLayoutId;\n    }\n    return false;\n}\nfunction supportSinking(layoutInfo) {\n    var _a, _b, _c, _d;\n    var layoutId = layoutInfo.layoutId, layoutItemId = layoutInfo.layoutItemId;\n    var appConfig = Object(jimu_for_builder__WEBPACK_IMPORTED_MODULE_1__[\"getAppConfigAction\"])().appConfig;\n    var layoutItem = (_b = (_a = appConfig.layouts[layoutId]) === null || _a === void 0 ? void 0 : _a.content) === null || _b === void 0 ? void 0 : _b[layoutItemId];\n    return (_d = (_c = layoutItem === null || layoutItem === void 0 ? void 0 : layoutItem.setting) === null || _c === void 0 ? void 0 : _c.isFloating) !== null && _d !== void 0 ? _d : false;\n}\nfunction floatingLayoutItem(layoutInfo, clientRect, area) {\n    var rootLayoutId = jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_2__[\"utils\"].getCurrentPageRootLayoutId();\n    var appConfigAction = Object(jimu_for_builder__WEBPACK_IMPORTED_MODULE_1__[\"getAppConfigAction\"])();\n    addItemToLayout(appConfigAction.appConfig, { layoutInfo: layoutInfo }, { layoutId: rootLayoutId }, { left: 0, top: 0, width: 1000, height: 1000 }, clientRect).then(function (result) {\n        appConfigAction = Object(jimu_for_builder__WEBPACK_IMPORTED_MODULE_1__[\"getAppConfigAction\"])(result.updatedAppConfig);\n        appConfigAction.editLayoutItemBBox(result.layoutInfo, {\n            top: 0,\n            left: 0,\n            right: 0,\n            width: clientRect.width,\n            height: clientRect.height\n        }).editLayoutItemSetting(result.layoutInfo, {\n            isFloating: true,\n            lockParent: true,\n            floatingArea: area\n        });\n        if (window.jimuConfig.isBuilder) {\n            Object(jimu_for_builder__WEBPACK_IMPORTED_MODULE_1__[\"getAppConfigAction\"])(appConfigAction.appConfig).exec();\n            jimu_for_builder__WEBPACK_IMPORTED_MODULE_1__[\"builderAppSync\"].publishChangeSelectionToApp(result.layoutInfo);\n        }\n        else {\n            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"getAppStore\"])().dispatch(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"appActions\"].layoutChanged(appConfigAction.appConfig, result.layoutInfo));\n        }\n    });\n}\nfunction sinkingLayoutItem(layoutInfo, clientRect) {\n    var _a;\n    var layoutId = layoutInfo.layoutId, layoutItemId = layoutInfo.layoutItemId;\n    var appConfigAction = Object(jimu_for_builder__WEBPACK_IMPORTED_MODULE_1__[\"getAppConfigAction\"])();\n    var insertIndex = -1;\n    var width = 2;\n    var containerRect;\n    var childNodes = document.querySelectorAll(\"div.flow-layout[data-layoutid=\\\"\" + layoutId + \"\\\"] > div.builder-layout-item\");\n    if ((childNodes === null || childNodes === void 0 ? void 0 : childNodes.length) > 0) {\n        childNodes.forEach(function (node, i) {\n            if (insertIndex === -1 && node.getAttribute('data-layoutitemid') !== layoutItemId) {\n                var itemRect = node.getBoundingClientRect();\n                width = Math.round(clientRect.width * 12 / itemRect.width);\n                if (jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_2__[\"utils\"].contains(itemRect, clientRect)) {\n                    insertIndex = i;\n                    containerRect = itemRect;\n                }\n                else if (jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_2__[\"utils\"].intersects(itemRect, clientRect)) {\n                    insertIndex = i + 1;\n                    containerRect = itemRect;\n                }\n            }\n        });\n    }\n    if (insertIndex === -1) {\n        insertIndex = ((_a = appConfigAction.appConfig.layouts[layoutId].order) === null || _a === void 0 ? void 0 : _a.length) || 0;\n    }\n    addBlockToFlowLayout({ layoutInfo: layoutInfo }, { layoutId: layoutId }, containerRect || clientRect, clientRect, width, insertIndex);\n}\n/**\n * Add a block into flow layout which contains the draggingItem\n * @param draggingItem\n * @param parentLayoutInfo\n * @param containerRect\n * @param itemRect\n * @param width\n * @param insertIndex\n * @param appConfig\n */\nfunction addBlockToFlowLayout(draggingItem, parentLayoutInfo, containerRect, itemRect, width, insertIndex, appConfig) {\n    var appConfigAction = Object(jimu_for_builder__WEBPACK_IMPORTED_MODULE_1__[\"getAppConfigAction\"])(appConfig);\n    var rowWidgetInfo = {\n        name: 'row',\n        label: 'row',\n        uri: 'widgets/layout/row/',\n        icon: null,\n        itemType: jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"LayoutItemType\"].Widget,\n        manifest: {\n            widgetType: jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"WidgetType\"].Layout,\n            properties: {},\n        },\n    };\n    var defaultPadding = 10;\n    return addItemToLayout(appConfigAction.appConfig, rowWidgetInfo, parentLayoutInfo, containerRect, itemRect, insertIndex).then(function (result) {\n        var updatedAppConfig = result.updatedAppConfig;\n        var layoutItem = jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_2__[\"searchUtils\"].findLayoutItem(updatedAppConfig, result.layoutInfo);\n        var widgetJson = updatedAppConfig.widgets[layoutItem.widgetId];\n        var layoutName = Object.keys(widgetJson.layouts)[0];\n        var rowLayouts = widgetJson.layouts[layoutName];\n        var layoutId = jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_2__[\"searchUtils\"].findLayoutId(rowLayouts, Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"getAppStore\"])().getState().browserSizeMode, updatedAppConfig.mainSizeMode);\n        // update widget label to block\n        var blockLabel = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"i18n\"].getIntl().formatMessage({ id: 'block' });\n        var widgetLabel = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"appConfigUtils\"].getUniqueLabel(updatedAppConfig, 'widget', blockLabel);\n        updatedAppConfig = updatedAppConfig.setIn(['widgets', widgetJson.id, 'label'], widgetLabel);\n        updatedAppConfig = updatedAppConfig\n            .setIn(['layouts', parentLayoutInfo.layoutId, 'content', layoutItem.id, 'setting', 'heightMode'], 'fixed')\n            .setIn(['layouts', parentLayoutInfo.layoutId, 'content', layoutItem.id, 'bbox', 'height'], itemRect.height + defaultPadding * 2);\n        var height = Math.round(Math.min(itemRect.height, containerRect.height));\n        return addItemToLayout(updatedAppConfig, draggingItem, {\n            layoutId: layoutId,\n        }, containerRect, { width: width, height: height, left: 0 }, 0);\n    }).then(function (result) {\n        var layoutInfo = result.layoutInfo, updatedAppConfig = result.updatedAppConfig;\n        appConfigAction = Object(jimu_for_builder__WEBPACK_IMPORTED_MODULE_1__[\"getAppConfigAction\"])(updatedAppConfig);\n        appConfigAction.editLayoutItemSetting(layoutInfo, {\n            heightMode: 'fit',\n        });\n        if (window.jimuConfig.isBuilder) {\n            Object(jimu_for_builder__WEBPACK_IMPORTED_MODULE_1__[\"getAppConfigAction\"])(appConfigAction.appConfig).exec();\n            jimu_for_builder__WEBPACK_IMPORTED_MODULE_1__[\"builderAppSync\"].publishChangeSelectionToApp(layoutInfo);\n        }\n        else {\n            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"getAppStore\"])().dispatch(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"appActions\"].layoutChanged(appConfigAction.appConfig, layoutInfo));\n        }\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWxheW91dHMvbGliL2J1aWxkZXIvY29tbW9uLWxheW91dC1hY3Rpb25zLnRzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vamltdS1sYXlvdXRzL2xpYi9idWlsZGVyL2NvbW1vbi1sYXlvdXQtYWN0aW9ucy50cz9mYTY3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIExheW91dEl0ZW1Db25zdHJ1Y3RvclByb3BzLFxuICBMYXlvdXRJbmZvLFxuICBMYXlvdXRJdGVtVHlwZSxcbiAgYXBwQ29uZmlnVXRpbHMsXG4gIFdpZGdldEpzb24sXG4gIFdpZGdldE1hbmFnZXIsXG4gIEltbXV0YWJsZSxcbiAgSU1BcHBDb25maWcsXG4gIExheW91dEl0ZW1Kc29uLFxuICBnZXRBcHBTdG9yZSxcbiAgYXBwQWN0aW9ucyxcbiAgV2lkZ2V0VHlwZSxcbiAgSU1XaWRnZXRKc29uLFxuICBQYWdlUGFydCxcbiAgTGF5b3V0VHlwZSxcbiAgSU1TaXplTW9kZUxheW91dEpzb24sXG4gIGkxOG4sXG4gIENsaXBib2FyZEl0ZW0sXG59IGZyb20gJ2ppbXUtY29yZSc7XG5pbXBvcnQgeyBnZXRBcHBDb25maWdBY3Rpb24sIGFwcEJ1aWxkZXJTeW5jLCBidWlsZGVyQXBwU3luYyB9IGZyb20gJ2ppbXUtZm9yLWJ1aWxkZXInO1xuaW1wb3J0IHtcbiAgdXRpbHMsXG4gIHNlYXJjaFV0aWxzLFxufSBmcm9tICdqaW11LWxheW91dHMvbGF5b3V0LXJ1bnRpbWUnO1xuXG5mdW5jdGlvbiBnZXRSb290TGF5b3V0SWQoKTogc3RyaW5nIHtcbiAgaWYodXRpbHMuZ2V0Q3VycmVudERpYWxvZ0lkKCkpe1xuICAgIHJldHVybiB1dGlscy5nZXRDdXJyZW50RGlhbG9nUm9vdExheW91dElkKCk7XG4gIH1cbiAgc3dpdGNoICh1dGlscy5nZXRBY3RpdmVQYWdlUGFydCgpKSB7XG4gICAgY2FzZSBQYWdlUGFydC5IZWFkZXI6XG4gICAgICByZXR1cm4gdXRpbHMuZ2V0SGVhZGVyUm9vdExheW91dElkKCk7XG4gICAgY2FzZSBQYWdlUGFydC5Gb290ZXI6XG4gICAgICByZXR1cm4gdXRpbHMuZ2V0Rm9vdGVyUm9vdExheW91dElkKCk7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiB1dGlscy5nZXRDdXJyZW50UGFnZVJvb3RMYXlvdXRJZCgpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwZW5kTGF5b3V0SXRlbShsYXlvdXRJbmZvOiBMYXlvdXRJbmZvKSB7XG4gIGNvbnN0IGFwcENvbmZpZ0FjdGlvbiA9IGdldEFwcENvbmZpZ0FjdGlvbigpO1xuICBhcHBDb25maWdBY3Rpb24uc2V0TGF5b3V0SXRlbVRvUGVuZGluZyhsYXlvdXRJbmZvLCB0cnVlKTtcblxuICBpZiAod2luZG93LmppbXVDb25maWcuaXNCdWlsZGVyKSB7XG4gICAgYXBwQ29uZmlnQWN0aW9uLmV4ZWMoKTtcbiAgICBidWlsZGVyQXBwU3luYy5wdWJsaXNoQ2hhbmdlU2VsZWN0aW9uVG9BcHAobnVsbCk7XG4gIH0gZWxzZSB7XG4gICAgZ2V0QXBwU3RvcmUoKS5kaXNwYXRjaChhcHBBY3Rpb25zLmxheW91dENoYW5nZWQoYXBwQ29uZmlnQWN0aW9uLmFwcENvbmZpZywgbnVsbCkpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkZWxldGVXaWRnZXQobGF5b3V0SW5mbzogTGF5b3V0SW5mbywgd2lkZ2V0SWQ6IHN0cmluZykge1xuICBjb25zdCBhcHBDb25maWdBY3Rpb24gPSBnZXRBcHBDb25maWdBY3Rpb24oKTtcbiAgY29uc3QgbmV3U2VsZWN0aW9uID0gc2VhcmNoVXRpbHMuZmluZFBhcmVudExheW91dEl0ZW0oXG4gICAgbGF5b3V0SW5mbyxcbiAgICBhcHBDb25maWdBY3Rpb24uYXBwQ29uZmlnLFxuICAgIGdldFJvb3RMYXlvdXRJZCgpLFxuICAgIHV0aWxzLmdldEN1cnJlbnRTaXplTW9kZSgpXG4gICk7XG4gIGFwcENvbmZpZ0FjdGlvbi5yZW1vdmVXaWRnZXQod2lkZ2V0SWQpO1xuICBnZXRBcHBTdG9yZSgpLmRpc3BhdGNoKGFwcEFjdGlvbnMubGF5b3V0Q2hhbmdlZChhcHBDb25maWdBY3Rpb24uYXBwQ29uZmlnLCBuZXdTZWxlY3Rpb24pKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRlbGV0ZUxheW91dEl0ZW0obGF5b3V0SW5mbzogTGF5b3V0SW5mbykge1xuICBjb25zdCBhcHBDb25maWdBY3Rpb24gPSBnZXRBcHBDb25maWdBY3Rpb24oKTtcbiAgY29uc3QgbmV3U2VsZWN0aW9uID0gc2VhcmNoVXRpbHMuZmluZFBhcmVudExheW91dEl0ZW0oXG4gICAgbGF5b3V0SW5mbyxcbiAgICBhcHBDb25maWdBY3Rpb24uYXBwQ29uZmlnLFxuICAgIGdldFJvb3RMYXlvdXRJZCgpLFxuICAgIHV0aWxzLmdldEN1cnJlbnRTaXplTW9kZSgpXG4gICk7XG4gIGFwcENvbmZpZ0FjdGlvbi5yZW1vdmVMYXlvdXRJdGVtKGxheW91dEluZm8sIGZhbHNlKTtcbiAgZ2V0QXBwU3RvcmUoKS5kaXNwYXRjaChhcHBBY3Rpb25zLmxheW91dENoYW5nZWQoYXBwQ29uZmlnQWN0aW9uLmFwcENvbmZpZywgbmV3U2VsZWN0aW9uKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkZWxldGVTZWN0aW9uKGxheW91dEluZm86IExheW91dEluZm8sIHNlY3Rpb25JZDogc3RyaW5nKSB7XG4gIGNvbnN0IGFwcENvbmZpZ0FjdGlvbiA9IGdldEFwcENvbmZpZ0FjdGlvbigpO1xuICBjb25zdCBuZXdTZWxlY3Rpb24gPSBzZWFyY2hVdGlscy5maW5kUGFyZW50TGF5b3V0SXRlbShcbiAgICBsYXlvdXRJbmZvLFxuICAgIGFwcENvbmZpZ0FjdGlvbi5hcHBDb25maWcsXG4gICAgZ2V0Um9vdExheW91dElkKCksXG4gICAgdXRpbHMuZ2V0Q3VycmVudFNpemVNb2RlKClcbiAgKTtcbiAgYXBwQ29uZmlnQWN0aW9uLnJlbW92ZVNlY3Rpb24oc2VjdGlvbklkKTtcbiAgZ2V0QXBwU3RvcmUoKS5kaXNwYXRjaChhcHBBY3Rpb25zLmxheW91dENoYW5nZWQoYXBwQ29uZmlnQWN0aW9uLmFwcENvbmZpZywgbmV3U2VsZWN0aW9uKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkdXBsaWNhdGVMYXlvdXRJdGVtKGxheW91dEluZm86IExheW91dEluZm8pIHtcbiAgY29uc3QgeyBsYXlvdXRJZCwgbGF5b3V0SXRlbUlkIH0gPSBsYXlvdXRJbmZvO1xuICBjb25zdCBhcHBDb25maWdBY3Rpb24gPSBnZXRBcHBDb25maWdBY3Rpb24oKTtcbiAgY29uc3QgbmV3TGF5b3V0SW5mbyA9IGFwcENvbmZpZ0FjdGlvbi5kdXBsaWNhdGVMYXlvdXRJdGVtKGxheW91dElkLCBsYXlvdXRJZCwgbGF5b3V0SXRlbUlkLCB0cnVlKTtcblxuICBsZXQgYXBwQ29uZmlnID0gYXBwQ29uZmlnQWN0aW9uLmFwcENvbmZpZztcbiAgY29uc3QgbGF5b3V0ID0gYXBwQ29uZmlnLmxheW91dHNbbGF5b3V0SWRdO1xuICBpZiAobGF5b3V0LnR5cGUgPT09IExheW91dFR5cGUuRml4ZWRMYXlvdXQpIHtcbiAgICBhcHBDb25maWcgPSBvZmZzZXREdXBsaWF0ZUl0ZW1JbkZpeGVkTGF5b3V0KGFwcENvbmZpZywgbmV3TGF5b3V0SW5mbyk7XG4gIH0gZWxzZSBpZiAobGF5b3V0LnR5cGUgPT09IExheW91dFR5cGUuRmxvd0xheW91dCkge1xuICAgIGFwcENvbmZpZyA9IG9mZnNldER1cGxpYXRlSXRlbUluRmxvd0xheW91dChhcHBDb25maWcsIGxheW91dEluZm8sIG5ld0xheW91dEluZm8pO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IHBXaWRnZXRJZCA9IHNlYXJjaFV0aWxzLmdldFdpZGdldElkVGhhdFVzZVRoZUxheW91dElkKGFwcENvbmZpZ0FjdGlvbi5hcHBDb25maWcsIGxheW91dElkKTtcbiAgICBpZiAocFdpZGdldElkKSB7XG4gICAgICBjb25zdCB3aWRnZXRKc29uID0gYXBwQ29uZmlnQWN0aW9uLmFwcENvbmZpZy53aWRnZXRzW3BXaWRnZXRJZF07XG4gICAgICBjb25zdCB3aWRnZXROYW1lID0gd2lkZ2V0SnNvbi5tYW5pZmVzdC5uYW1lO1xuICAgICAgc3dpdGNoICh3aWRnZXROYW1lKSB7XG4gICAgICAgIGNhc2UgJ2NvbHVtbic6XG4gICAgICAgICAgYXBwQ29uZmlnID0gb2Zmc2V0RHVwbGlhdGVJdGVtSW5GbG93TGF5b3V0KGFwcENvbmZpZywgbGF5b3V0SW5mbywgbmV3TGF5b3V0SW5mbyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3Jvdyc6XG4gICAgICAgICAgYXBwQ29uZmlnID0gb2Zmc2V0RHVwbGlhdGVJdGVtSW5Sb3coYXBwQ29uZmlnLCBsYXlvdXRJbmZvLCBuZXdMYXlvdXRJbmZvKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnZml4ZWQnOlxuICAgICAgICAgIGFwcENvbmZpZyA9IG9mZnNldER1cGxpYXRlSXRlbUluRml4ZWRMYXlvdXQoYXBwQ29uZmlnLCBuZXdMYXlvdXRJbmZvKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBpZiAod2luZG93LmppbXVDb25maWcuaXNCdWlsZGVyKSB7XG4gICAgZ2V0QXBwQ29uZmlnQWN0aW9uKGFwcENvbmZpZykuZXhlYygpO1xuICAgIGJ1aWxkZXJBcHBTeW5jLnB1Ymxpc2hDaGFuZ2VTZWxlY3Rpb25Ub0FwcChuZXdMYXlvdXRJbmZvKTtcbiAgfSBlbHNlIHtcbiAgICBnZXRBcHBTdG9yZSgpLmRpc3BhdGNoKGFwcEFjdGlvbnMubGF5b3V0Q2hhbmdlZChhcHBDb25maWcsIG5ld0xheW91dEluZm8pKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcGFzdGVMYXlvdXRJdGVtKGNsaXBib2FyZEl0ZW06IENsaXBib2FyZEl0ZW0sIHRhcmdldExheW91dElkOiBzdHJpbmcpIHtcbiAgY29uc3QgYXBwQ29uZmlnQWN0aW9uID0gZ2V0QXBwQ29uZmlnQWN0aW9uKCk7XG4gIGNvbnN0IHsgbGF5b3V0SWQsIGxheW91dEl0ZW1JZCB9ID0gY2xpcGJvYXJkSXRlbTtcbiAgY29uc3QgbGF5b3V0SXRlbSA9IGFwcENvbmZpZ0FjdGlvbi5hcHBDb25maWcubGF5b3V0c1tsYXlvdXRJZF0/LmNvbnRlbnQ/LltsYXlvdXRJdGVtSWRdO1xuICBpZiAoIWxheW91dEl0ZW0pIHtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgbGF5b3V0VHlwZSA9IGFwcENvbmZpZ0FjdGlvbi5hcHBDb25maWcubGF5b3V0c1t0YXJnZXRMYXlvdXRJZF0udHlwZTtcbiAgaWYgKGxheW91dFR5cGUgPT09IExheW91dFR5cGUuRmxvd0xheW91dCkge1xuICAgIC8vIEZpbmQgdGhlIHZpZXcgaW4gY3VycmVudCB2aWV3cG9ydCBpZiBhbnlcbiAgICAvLyBjb25zdCB2aWV3cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYGRpdi5mbG93LWxheW91dFtkYXRhLWxheW91dGlkPSR7dGFyZ2V0TGF5b3V0SWR9XSBkaXYuc2NyZWVuLXZpZXdgKTtcbiAgICAvLyBpZiAodmlld3MgJiYgdmlld3MubGVuZ3RoID4gMCkge1xuICAgIC8vICAgY29uc3QgdmlzaWJsZVJlY3QgPSBnZXRWaXNpYmxlV29ya0FyZWEoKTtcbiAgICAvLyAgIGNvbnN0IHpvb21TY2FsZSA9IGdldEFwcFN0b3JlKCkuZ2V0U3RhdGUoKS5hcHBSdW50aW1lSW5mbz8uem9vbVNjYWxlID8/IDE7XG4gICAgLy8gICBjb25zdCB2aXNpYmxlVG9wID0gdmlzaWJsZVJlY3QudG9wIC8gem9vbVNjYWxlO1xuICAgIC8vICAgY29uc3QgdmlzaWJsZUhlaWdodCA9IHZpc2libGVSZWN0LmhlaWdodCAvIHpvb21TY2FsZTtcblxuICAgIC8vICAgaWYgKHZpc2libGVSZWN0KSB7XG4gICAgLy8gICAgIGxldCB2aXNpYmxlVmlldztcbiAgICAvLyAgICAgbGV0IHZpZXdSZWN0O1xuICAgIC8vICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZpZXdzLmxlbmd0aDsgaSsrKSB7XG4gICAgLy8gICAgICAgY29uc3QgdmlldyA9IHZpZXdzW2ldO1xuICAgIC8vICAgICAgIGNvbnN0IHJlY3QgPSB2aWV3LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIC8vICAgICAgIC8vIHRvdGFsbHkgdmlzaWJsZSBvciB0b3AgaW4gdG9sZXJhbmNlXG4gICAgLy8gICAgICAgaWYgKChyZWN0LnRvcCA+PSB2aXNpYmxlVG9wICYmIHJlY3QuYm90dG9tIDw9IHZpc2libGVUb3AgKyB2aXNpYmxlSGVpZ2h0KSB8fFxuICAgIC8vICAgICAgICAgKE1hdGguYWJzKHJlY3QudG9wIC0gdmlzaWJsZVRvcCkgPD0gdmlzaWJsZUhlaWdodCAvIDQpKSB7XG4gICAgLy8gICAgICAgICB2aXNpYmxlVmlldyA9IHZpZXc7XG4gICAgLy8gICAgICAgICB2aWV3UmVjdCA9IHJlY3Q7XG4gICAgLy8gICAgICAgICBicmVhaztcbiAgICAvLyAgICAgICB9XG4gICAgLy8gICAgIH1cbiAgICAvLyAgICAgaWYgKHZpc2libGVWaWV3KSB7XG4gICAgLy8gICAgICAgY29uc3Qgdmlld0lkID0gdmlzaWJsZVZpZXcuZ2V0QXR0cmlidXRlKCdkYXRhLXZpZXdpZCcpO1xuICAgIC8vICAgICAgIGNvbnN0IGxheW91dElkID0gc2VhcmNoVXRpbHMuZmluZExheW91dElkKFxuICAgIC8vICAgICAgICAgYXBwQ29uZmlnQWN0aW9uLmFwcENvbmZpZy52aWV3c1t2aWV3SWRdPy5sYXlvdXQsXG4gICAgLy8gICAgICAgICB1dGlscy5nZXRDdXJyZW50U2l6ZU1vZGUoKSxcbiAgICAvLyAgICAgICAgIGFwcENvbmZpZ0FjdGlvbi5hcHBDb25maWcubWFpblNpemVNb2RlXG4gICAgLy8gICAgICAgKTtcbiAgICAvLyAgICAgICBpZiAobGF5b3V0SWQpIHtcbiAgICAvLyAgICAgICAgIHJldHVybiBwYXN0ZVRvRml4ZWRMYXlvdXQoY2xpcGJvYXJkSXRlbSwgbGF5b3V0SWQsIHtcbiAgICAvLyAgICAgICAgICAgbGVmdDogMCxcbiAgICAvLyAgICAgICAgICAgdG9wOiAwLFxuICAgIC8vICAgICAgICAgICB3aWR0aDogdmlld1JlY3Qud2lkdGggKiB6b29tU2NhbGUsXG4gICAgLy8gICAgICAgICAgIGhlaWdodDogdmlld1JlY3QuaGVpZ2h0ICogem9vbVNjYWxlXG4gICAgLy8gICAgICAgICB9IGFzIENsaWVudFJlY3QpO1xuICAgIC8vICAgICAgIH1cbiAgICAvLyAgICAgfVxuICAgIC8vICAgfVxuICAgIC8vIH1cbiAgICAvLyBPciBlbHNlIGluc2VydCBidHdlZW4gYmxvY2tzXG4gICAgcGFzdGVUb0Zsb3dMYXlvdXQoY2xpcGJvYXJkSXRlbSwgdGFyZ2V0TGF5b3V0SWQpO1xuICB9IGVsc2UgaWYgKGxheW91dFR5cGUgPT09IExheW91dFR5cGUuRml4ZWRMYXlvdXQpIHtcbiAgICBwYXN0ZVRvRml4ZWRMYXlvdXQoY2xpcGJvYXJkSXRlbSwgdGFyZ2V0TGF5b3V0SWQpO1xuICB9IGVsc2Uge1xuICAgIGNvbnNvbGUuZXJyb3IoYHVua25vd24gbGF5b3V0IHR5cGU6ICR7bGF5b3V0VHlwZX1gKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcGFzdGVUb0ZpeGVkTGF5b3V0KGNsaXBib2FyZEl0ZW06IENsaXBib2FyZEl0ZW0sIHRhcmdldExheW91dElkOiBzdHJpbmcsIGNvbnRhaW5lclJlY3Q6IENsaWVudFJlY3QgPSBudWxsKSB7XG4gIGxldCBhcHBDb25maWdBY3Rpb24gPSBnZXRBcHBDb25maWdBY3Rpb24oKTtcbiAgY29uc3QgeyBsYXlvdXRJZCwgbGF5b3V0SXRlbUlkLCB3aWR0aCwgaGVpZ2h0IH0gPSBjbGlwYm9hcmRJdGVtO1xuICBjb25zdCBvcmlnaW5hbExheW91dEl0ZW0gPSBhcHBDb25maWdBY3Rpb24uYXBwQ29uZmlnLmxheW91dHNbbGF5b3V0SWRdPy5jb250ZW50Py5bbGF5b3V0SXRlbUlkXTtcbiAgY29uc3Qgb3JpZ2luYWxCQm94ID0gb3JpZ2luYWxMYXlvdXRJdGVtLmJib3g7XG4gIGNvbnN0IGxheW91dEluZm8gPSBhcHBDb25maWdBY3Rpb24uZHVwbGljYXRlTGF5b3V0SXRlbShsYXlvdXRJZCwgbGF5b3V0SWQsIGxheW91dEl0ZW1JZCwgdHJ1ZSk7XG4gIGNvbnN0IHpvb21TY2FsZSA9IGdldEFwcFN0b3JlKCkuZ2V0U3RhdGUoKS5hcHBSdW50aW1lSW5mbz8uem9vbVNjYWxlID8/IDE7XG5cbiAgYWRkSXRlbVRvTGF5b3V0KFxuICAgIGFwcENvbmZpZ0FjdGlvbi5hcHBDb25maWcsXG4gICAgeyBsYXlvdXRJbmZvIH0gYXMgTGF5b3V0SXRlbUNvbnN0cnVjdG9yUHJvcHMsXG4gICAgeyBsYXlvdXRJZDogdGFyZ2V0TGF5b3V0SWQgfSxcbiAgICB7bGVmdDogMCwgcmlnaHQ6IDAsIHdpZHRoLCBoZWlnaHR9IGFzIENsaWVudFJlY3QsXG4gICAge2xlZnQ6IDAsIHJpZ2h0OiAwLCB3aWR0aCwgaGVpZ2h0fSBhcyBDbGllbnRSZWN0LFxuICApLnRoZW4ocmVzdWx0ID0+IHtcbiAgICBjb25zdCB7IGxheW91dEluZm86IHVwZGF0ZWRMYXlvdXRJbmZvLCB1cGRhdGVkQXBwQ29uZmlnIH0gPSByZXN1bHQ7XG4gICAgYXBwQ29uZmlnQWN0aW9uID0gZ2V0QXBwQ29uZmlnQWN0aW9uKHVwZGF0ZWRBcHBDb25maWcpO1xuXG4gICAgaWYgKCFjb250YWluZXJSZWN0KSB7XG4gICAgICBjb250YWluZXJSZWN0ID0gZ2V0VmlzaWJsZVdvcmtBcmVhKHRhcmdldExheW91dElkKTtcbiAgICB9XG4gICAgaWYgKGNvbnRhaW5lclJlY3QpIHtcbiAgICAgIGNvbnN0IGNvbnRhaW5lcldpZHRoID0gY29udGFpbmVyUmVjdC53aWR0aCAvIHpvb21TY2FsZTtcbiAgICAgIGNvbnN0IGNvbnRhaW5lckhlaWdodCA9IGNvbnRhaW5lclJlY3QuaGVpZ2h0IC8gem9vbVNjYWxlO1xuICAgICAgYXBwQ29uZmlnQWN0aW9uLmVkaXRMYXlvdXRJdGVtQkJveChcbiAgICAgICAgdXBkYXRlZExheW91dEluZm8sXG4gICAgICAgIHV0aWxzLnJlcGxhY2VCb3VuZGluZ0JveChvcmlnaW5hbEJCb3gsIHtcbiAgICAgICAgICBsZWZ0OiAwLFxuICAgICAgICAgIHRvcDogMCxcbiAgICAgICAgICByaWdodDogMCxcbiAgICAgICAgICBib3R0b206IDAsXG4gICAgICAgICAgd2lkdGg6IE1hdGgucm91bmQod2lkdGgpLFxuICAgICAgICAgIGhlaWdodDogTWF0aC5yb3VuZChoZWlnaHQpXG4gICAgICAgIH0sIHtcbiAgICAgICAgICB3aWR0aDogY29udGFpbmVyV2lkdGgsXG4gICAgICAgICAgaGVpZ2h0OiBjb250YWluZXJIZWlnaHRcbiAgICAgICAgfSBhcyBDbGllbnRSZWN0KVxuICAgICAgKTtcbiAgICB9XG4gICAgYXBwQ29uZmlnQWN0aW9uLmVkaXRMYXlvdXRJdGVtU2V0dGluZyh1cGRhdGVkTGF5b3V0SW5mbywgeyB2Q2VudGVyOiB0cnVlLCBoQ2VudGVyOiB0cnVlIH0pO1xuICAgIGNvbnN0IGJib3ggPSBhcHBDb25maWdBY3Rpb24uYXBwQ29uZmlnLmxheW91dHNbdXBkYXRlZExheW91dEluZm8ubGF5b3V0SWRdLmNvbnRlbnRbdXBkYXRlZExheW91dEluZm8ubGF5b3V0SXRlbUlkXS5iYm94O1xuICAgIGFwcENvbmZpZ0FjdGlvbi5lZGl0TGF5b3V0SXRlbUJCb3goXG4gICAgICB1cGRhdGVkTGF5b3V0SW5mbyxcbiAgICAgIGJib3guc2V0KCdsZWZ0JywgJzUwJScpLnNldCgndG9wJywgJzUwJScpXG4gICAgKTtcbiAgICBnZXRBcHBTdG9yZSgpLmRpc3BhdGNoKGFwcEFjdGlvbnMubGF5b3V0Q2hhbmdlZChhcHBDb25maWdBY3Rpb24uYXBwQ29uZmlnLCB1cGRhdGVkTGF5b3V0SW5mbykpO1xuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhc3RlVG9GbG93TGF5b3V0KGNsaXBib2FyZEl0ZW06IENsaXBib2FyZEl0ZW0sIHRhcmdldExheW91dElkOiBzdHJpbmcpIHtcbiAgY29uc3QgYXBwQ29uZmlnQWN0aW9uID0gZ2V0QXBwQ29uZmlnQWN0aW9uKCk7XG5cbiAgY29uc3QgeyBsYXlvdXRJZCwgbGF5b3V0SXRlbUlkLCB3aWR0aCwgaGVpZ2h0IH0gPSBjbGlwYm9hcmRJdGVtO1xuICBjb25zdCBsYXlvdXRJbmZvID0gYXBwQ29uZmlnQWN0aW9uLmR1cGxpY2F0ZUxheW91dEl0ZW0obGF5b3V0SWQsIGxheW91dElkLCBsYXlvdXRJdGVtSWQsIHRydWUpO1xuICBjb25zdCB6b29tU2NhbGUgPSBnZXRBcHBTdG9yZSgpLmdldFN0YXRlKCkuYXBwUnVudGltZUluZm8/Lnpvb21TY2FsZSA/PyAxO1xuXG4gIGNvbnN0IHZpc2libGVJbmZvID0gZ2V0Rmlyc3RWaXNpYmxlQmxvY2sodGFyZ2V0TGF5b3V0SWQsIHdpZHRoLCB6b29tU2NhbGUpO1xuICBpZiAodmlzaWJsZUluZm8uaW5zZXJ0SW5kZXggPT09IC0xKSB7XG4gICAgdmlzaWJsZUluZm8uaW5zZXJ0SW5kZXggPSBhcHBDb25maWdBY3Rpb24uYXBwQ29uZmlnLmxheW91dHNbdGFyZ2V0TGF5b3V0SWRdLm9yZGVyPy5sZW5ndGggfHwgMDtcbiAgfVxuICBhZGRCbG9ja1RvRmxvd0xheW91dChcbiAgICB7bGF5b3V0SW5mb30gYXMgTGF5b3V0SXRlbUNvbnN0cnVjdG9yUHJvcHMsXG4gICAge2xheW91dElkOiB0YXJnZXRMYXlvdXRJZH0sXG4gICAge2xlZnQ6IDAsIHRvcDogMCwgd2lkdGgsIGhlaWdodH0gYXMgQ2xpZW50UmVjdCxcbiAgICB7bGVmdDogMCwgdG9wOiAwLCB3aWR0aCwgaGVpZ2h0fSBhcyBDbGllbnRSZWN0LFxuICAgIHZpc2libGVJbmZvLmNvbFNwYW4sXG4gICAgdmlzaWJsZUluZm8uaW5zZXJ0SW5kZXgsXG4gICAgYXBwQ29uZmlnQWN0aW9uLmFwcENvbmZpZ1xuICApO1xufVxuXG5mdW5jdGlvbiBnZXRWaXNpYmxlV29ya0FyZWEobGF5b3V0SWQ/OiBzdHJpbmcpOiBDbGllbnRSZWN0IHtcbiAgY29uc3Qgd29ya2FyZWEgPSB3aW5kb3cucGFyZW50LmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2RpdltkYXRhLWxheW91dGlkPVwicmlnaHQtc2lkZWJhci1sZWZ0LWxheW91dFwiXScpO1xuICBjb25zdCBkZXZpY2VGcmFtZTogSFRNTEZyYW1lRWxlbWVudCA9IHdpbmRvdy5wYXJlbnQuZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaWZyYW1lW25hbWU9XCJfYXBwV2luZG93XCJdJyk7XG4gIGxldCBsYXlvdXREaXY7XG4gIGxldCBsZWZ0O1xuICBsZXQgdG9wO1xuICBsZXQgd2lkdGg7XG4gIGxldCBoZWlnaHQ7XG5cbiAgaWYgKHdvcmthcmVhICYmIGRldmljZUZyYW1lKSB7XG4gICAgY29uc3Qgd29ya2FyZWFSZWN0ID0gd29ya2FyZWEuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgY29uc3QgZnJhbWVSZWN0ID0gZGV2aWNlRnJhbWUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgbGVmdCA9IGZyYW1lUmVjdC5sZWZ0O1xuICAgIHRvcCA9IGZyYW1lUmVjdC50b3A7XG4gICAgd2lkdGggPSBmcmFtZVJlY3Qud2lkdGg7XG4gICAgaGVpZ2h0ID0gZnJhbWVSZWN0LmhlaWdodDtcbiAgICBpZiAobGF5b3V0SWQpIHtcbiAgICAgIGNvbnN0IGZyYW1lRG9jID0gZGV2aWNlRnJhbWUuY29udGVudERvY3VtZW50IHx8IGRldmljZUZyYW1lLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQ7XG4gICAgICBsYXlvdXREaXYgPSBmcmFtZURvYy5xdWVyeVNlbGVjdG9yKGBkaXYubGF5b3V0W2RhdGEtbGF5b3V0aWQ9XCIke2xheW91dElkfVwiXWApO1xuICAgICAgaWYgKGxheW91dERpdikge1xuICAgICAgICBjb25zdCBsYXlvdXRSZWN0ID0gbGF5b3V0RGl2LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICBsZWZ0ICs9IGxheW91dFJlY3QubGVmdDtcbiAgICAgICAgdG9wICs9IGxheW91dFJlY3QudG9wO1xuICAgICAgICB3aWR0aCA9IGxheW91dFJlY3Qud2lkdGg7XG4gICAgICAgIGhlaWdodCA9IGxheW91dFJlY3QuaGVpZ2h0O1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IHZsID0gbGVmdCA+PSB3b3JrYXJlYVJlY3QubGVmdCA/IDAgOiB3b3JrYXJlYVJlY3QubGVmdCAtIGxlZnQ7XG4gICAgY29uc3QgdnQgPSB0b3AgPj0gd29ya2FyZWFSZWN0LnRvcCA/IDAgOiB3b3JrYXJlYVJlY3QudG9wIC0gdG9wO1xuICAgIC8vIGNvbnN0IHZ3ID0gd29ya2FyZWFSZWN0LmxlZnQgKyB3b3JrYXJlYVJlY3Qud2lkdGggPj0gbGVmdCArIHdpZHRoID9cbiAgICAvLyAgIE1hdGgubWluKHdpZHRoLCBsZWZ0ICsgd2lkdGggLSB3b3JrYXJlYVJlY3QubGVmdCkgOlxuICAgIC8vICAgTWF0aC5taW4od29ya2FyZWFSZWN0LndpZHRoLCB3b3JrYXJlYVJlY3QubGVmdCArIHdvcmthcmVhUmVjdC53aWR0aCAtIGxlZnQpO1xuICAgIC8vIGNvbnN0IHZoID0gd29ya2FyZWFSZWN0LnRvcCArIHdvcmthcmVhUmVjdC5oZWlnaHQgPj0gdG9wICsgaGVpZ2h0ID9cbiAgICAvLyAgIE1hdGgubWluKGhlaWdodCwgdG9wICsgaGVpZ2h0IC0gd29ya2FyZWFSZWN0LnRvcCkgOlxuICAgIC8vICAgTWF0aC5taW4od29ya2FyZWFSZWN0LmhlaWdodCwgd29ya2FyZWFSZWN0LnRvcCArIHdvcmthcmVhUmVjdC5oZWlnaHQgLSB0b3ApO1xuXG4gICAgcmV0dXJuIHsgbGVmdDogdmwsIHRvcDogdnQsIHdpZHRoLCBoZWlnaHQgfSBhcyBDbGllbnRSZWN0O1xuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG5mdW5jdGlvbiBnZXRGaXJzdFZpc2libGVCbG9jayhsYXlvdXRJZDogc3RyaW5nLCB3aWR0aDogbnVtYmVyLCB6b29tU2NhbGU6IG51bWJlcik6IHtpbnNlcnRJbmRleDogbnVtYmVyLCBjb2xTcGFuOiBudW1iZXJ9IHtcbiAgY29uc3QgZGV2aWNlRnJhbWUgPSB3aW5kb3cucGFyZW50LmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lmcmFtZVtuYW1lPVwiX2FwcFdpbmRvd1wiXScpO1xuICBjb25zdCBjaGlsZE5vZGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChgZGl2LmZsb3ctbGF5b3V0W2RhdGEtbGF5b3V0aWQ9XCIke2xheW91dElkfVwiXSA+IGRpdi5idWlsZGVyLWxheW91dC1pdGVtYCk7XG4gIGxldCBpbmRleCA9IC0xO1xuICBsZXQgY29sU3BhbiA9IDI7XG5cbiAgaWYgKGRldmljZUZyYW1lICYmIGNoaWxkTm9kZXMpIHtcbiAgICBjb25zdCBmcmFtZVJlY3QgPSBkZXZpY2VGcmFtZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBjaGlsZE5vZGVzLmZvckVhY2goKG5vZGUsIGkpID0+IHtcbiAgICAgIGlmIChpbmRleCA9PT0gLTEpIHtcbiAgICAgICAgY29uc3QgaXRlbVJlY3QgPSBub2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICBpZiAoaXRlbVJlY3QudG9wICsgZnJhbWVSZWN0LnRvcCA+PSAwIHx8IGl0ZW1SZWN0LnRvcCArIGl0ZW1SZWN0LmhlaWdodCArIGZyYW1lUmVjdC50b3AgPj0gMCkge1xuICAgICAgICAgIGluZGV4ID0gaSArIDE7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICBjb2xTcGFuID0gTWF0aC5yb3VuZCh3aWR0aCAqIDEyICogem9vbVNjYWxlIC8gZnJhbWVSZWN0LndpZHRoKTtcbiAgfVxuICByZXR1cm4ge1xuICAgIGNvbFNwYW4sXG4gICAgaW5zZXJ0SW5kZXg6IGluZGV4LFxuICB9O1xufVxuXG5mdW5jdGlvbiBvZmZzZXREdXBsaWF0ZUl0ZW1JbkZpeGVkTGF5b3V0KGFwcENvbmZpZzogSU1BcHBDb25maWcsIGxheW91dEluZm86IExheW91dEluZm8pOiBJTUFwcENvbmZpZyB7XG4gIGNvbnN0IHsgbGF5b3V0SWQsIGxheW91dEl0ZW1JZCB9ID0gbGF5b3V0SW5mbztcbiAgY29uc3QgbGF5b3V0SXRlbSA9IGFwcENvbmZpZy5sYXlvdXRzW2xheW91dElkXS5jb250ZW50W2xheW91dEl0ZW1JZF07XG4gIGxldCB7IGJib3gsIHNldHRpbmcgfSA9IGxheW91dEl0ZW07XG5cbiAgY29uc3Qgb2Zmc2V0ID0gdmFsdWUgPT4ge1xuICAgIGlmICh1dGlscy5pc1BlcmNlbnRhZ2UodmFsdWUpKSB7XG4gICAgICByZXR1cm4gYCR7cGFyc2VGbG9hdCh2YWx1ZSkgKyA1fSVgO1xuICAgIH1cbiAgICBjb25zdCBweFZhbHVlID0gcGFyc2VJbnQodmFsdWUsIDEwKTtcbiAgICBpZiAoIWlzTmFOKHB4VmFsdWUpKSB7XG4gICAgICByZXR1cm4gcHhWYWx1ZSArIDIwO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG4gIH07XG4gIGlmIChzZXR0aW5nPy5hdXRvUHJvcHM/LmxlZnQpIHtcbiAgICBiYm94ID0gYmJveC5zZXQoJ3JpZ2h0Jywgb2Zmc2V0KGJib3gucmlnaHQpKTtcbiAgfSBlbHNlIHtcbiAgICBiYm94ID0gYmJveC5zZXQoJ2xlZnQnLCBvZmZzZXQoYmJveC5sZWZ0KSk7XG4gIH1cbiAgaWYgKHNldHRpbmc/LmF1dG9Qcm9wcz8udG9wKSB7XG4gICAgYmJveCA9IGJib3guc2V0KCdib3R0b20nLCBvZmZzZXQoYmJveC5ib3R0b20pKVxuICB9IGVsc2Uge1xuICAgIGJib3ggPSBiYm94LnNldCgndG9wJywgb2Zmc2V0KGJib3gudG9wKSlcbiAgfVxuXG4gIGlmIChzZXR0aW5nPy5oQ2VudGVyICYmIHNldHRpbmc/LnZDZW50ZXIpIHtcbiAgICBzZXR0aW5nID0gc2V0dGluZy5zZXQoJ3ZDZW50ZXInLCBmYWxzZSk7XG4gIH1cbiAgcmV0dXJuIGFwcENvbmZpZ1xuICAgIC5zZXRJbihbJ2xheW91dHMnLCBsYXlvdXRJZCwgJ2NvbnRlbnQnLCBsYXlvdXRJdGVtSWQsICdiYm94J10sIGJib3gpXG4gICAgLnNldEluKFsnbGF5b3V0cycsIGxheW91dElkLCAnY29udGVudCcsIGxheW91dEl0ZW1JZCwgJ3NldHRpbmcnXSwgc2V0dGluZyk7XG59XG5cbmZ1bmN0aW9uIG9mZnNldER1cGxpYXRlSXRlbUluRmxvd0xheW91dChcbiAgYXBwQ29uZmlnOiBJTUFwcENvbmZpZyxcbiAgc291cmNlTGF5b3V0SW5mbzogTGF5b3V0SW5mbyxcbiAgdGFyZ2V0TGF5b3V0SW5mbzogTGF5b3V0SW5mb1xuKTogSU1BcHBDb25maWcge1xuICBjb25zdCB7IGxheW91dElkIH0gPSBzb3VyY2VMYXlvdXRJbmZvO1xuICBjb25zdCBsYXlvdXQgPSBhcHBDb25maWcubGF5b3V0c1tsYXlvdXRJZF07XG4gIGNvbnN0IG9yZGVyID0gW10uY29uY2F0KGxheW91dC5vcmRlcik7XG5cbiAgY29uc3QgdGFyZ2V0SW5kZXggPSBvcmRlci5pbmRleE9mKHRhcmdldExheW91dEluZm8ubGF5b3V0SXRlbUlkKTtcbiAgb3JkZXIuc3BsaWNlKHRhcmdldEluZGV4LCAxKTtcbiAgY29uc3Qgc291cmNlSW5kZXggPSBvcmRlci5pbmRleE9mKHNvdXJjZUxheW91dEluZm8ubGF5b3V0SXRlbUlkKTtcbiAgb3JkZXIuc3BsaWNlKHNvdXJjZUluZGV4ICsgMSwgMCwgdGFyZ2V0TGF5b3V0SW5mby5sYXlvdXRJdGVtSWQpO1xuXG4gIGNvbnN0IHRhcmdldExheW91dEl0ZW0gPSBsYXlvdXQuY29udGVudFt0YXJnZXRMYXlvdXRJbmZvLmxheW91dEl0ZW1JZF07XG4gIGxldCB1cGRhdGVBcHBDb25maWcgPSBhcHBDb25maWcuc2V0SW4oWydsYXlvdXRzJywgbGF5b3V0SWQsICdvcmRlciddLCBvcmRlcik7XG4gIGlmICh0YXJnZXRMYXlvdXRJdGVtLnNldHRpbmc/LmlzRmxvYXRpbmcpIHtcbiAgICB1cGRhdGVBcHBDb25maWcgPSBvZmZzZXREdXBsaWF0ZUl0ZW1JbkZpeGVkTGF5b3V0KHVwZGF0ZUFwcENvbmZpZywgdGFyZ2V0TGF5b3V0SW5mbyk7XG4gIH1cbiAgcmV0dXJuIHVwZGF0ZUFwcENvbmZpZztcbn1cblxuZnVuY3Rpb24gb2Zmc2V0RHVwbGlhdGVJdGVtSW5Sb3coXG4gIGFwcENvbmZpZzogSU1BcHBDb25maWcsXG4gIHNvdXJjZUxheW91dEluZm86IExheW91dEluZm8sXG4gIHRhcmdldExheW91dEluZm86IExheW91dEluZm9cbik6IElNQXBwQ29uZmlnIHtcbiAgbGV0IHVwZGF0ZWRBcHBDb25maWcgPSBhcHBDb25maWc7XG4gIGNvbnN0IHsgbGF5b3V0SWQgfSA9IHNvdXJjZUxheW91dEluZm87XG4gIGNvbnN0IGxheW91dCA9IGFwcENvbmZpZy5sYXlvdXRzW2xheW91dElkXTtcbiAgY29uc3QgZ2V0VmFsdWUgPSAobGF5b3V0SXRlbUlkLCBwcm9wKSA9PlxuICAgIHBhcnNlSW50KHVwZGF0ZWRBcHBDb25maWcubGF5b3V0c1tsYXlvdXRJZF0uY29udGVudFtsYXlvdXRJdGVtSWRdLmJib3hbcHJvcF0sIDEwKTtcbiAgY29uc3QgdXBkYXRlVmFsdWUgPSAobGF5b3V0SXRlbUlkLCBwcm9wLCB2YWx1ZSkgPT4ge1xuICAgIHVwZGF0ZWRBcHBDb25maWcgPSB1cGRhdGVkQXBwQ29uZmlnLnNldEluKFsnbGF5b3V0cycsIGxheW91dElkLCAnY29udGVudCcsIGxheW91dEl0ZW1JZCwgJ2Jib3gnLCBwcm9wXSwgdmFsdWUpO1xuICB9O1xuXG4gIGNvbnN0IG9yZGVyID0gT2JqZWN0LmtleXMobGF5b3V0LmNvbnRlbnQpLnNvcnQoKGEsIGIpID0+IGdldFZhbHVlKGEsICdsZWZ0JykgLSBnZXRWYWx1ZShiLCAnbGVmdCcpKTtcblxuICBjb25zdCB0YXJnZXRJbmRleCA9IG9yZGVyLmluZGV4T2YodGFyZ2V0TGF5b3V0SW5mby5sYXlvdXRJdGVtSWQpO1xuICBvcmRlci5zcGxpY2UodGFyZ2V0SW5kZXgsIDEpO1xuICBjb25zdCBzb3VyY2VJbmRleCA9IG9yZGVyLmluZGV4T2Yoc291cmNlTGF5b3V0SW5mby5sYXlvdXRJdGVtSWQpO1xuICBvcmRlci5zcGxpY2Uoc291cmNlSW5kZXggKyAxLCAwLCB0YXJnZXRMYXlvdXRJbmZvLmxheW91dEl0ZW1JZCk7XG4gIHVwZGF0ZWRBcHBDb25maWcgPSB1cGRhdGVkQXBwQ29uZmlnLnNldEluKFsnbGF5b3V0cycsIGxheW91dElkLCAnb3JkZXInXSwgb3JkZXIpO1xuXG4gIC8vIGNvbXByZXNzIHJvdyBpdGVtc1xuICBsZXQgdG90YWxXaWR0aCA9IDA7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgb3JkZXIubGVuZ3RoOyBpKyspIHtcbiAgICB0b3RhbFdpZHRoICs9IGdldFZhbHVlKG9yZGVyW2ldLCAnd2lkdGgnKTtcbiAgfVxuICB1cGRhdGVWYWx1ZShvcmRlclswXSwgJ2xlZnQnLCAwKTtcbiAgaWYgKHRvdGFsV2lkdGggPD0gMTIpIHtcbiAgICBmb3IgKGxldCBpID0gMTsgaSA8IG9yZGVyLmxlbmd0aDsgaSsrKSB7XG4gICAgICB1cGRhdGVWYWx1ZShvcmRlcltpXSwgJ2xlZnQnLCBnZXRWYWx1ZShvcmRlcltpIC0gMV0sICdsZWZ0JykgKyBnZXRWYWx1ZShvcmRlcltpIC0gMV0sICd3aWR0aCcpKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gc2NhbGUgZG93blxuICAgIGNvbnN0IHJhdGlvID0gdG90YWxXaWR0aCAvIDEyO1xuICAgIHVwZGF0ZVZhbHVlKG9yZGVyWzBdLCAnd2lkdGgnLCBNYXRoLm1heCgxLCBNYXRoLmZsb29yKGdldFZhbHVlKG9yZGVyWzBdLCAnd2lkdGgnKSAvIHJhdGlvKSkpO1xuICAgIGZvciAobGV0IGkgPSAxOyBpIDwgb3JkZXIubGVuZ3RoOyBpKyspIHtcbiAgICAgIHVwZGF0ZVZhbHVlKG9yZGVyW2ldLCAnbGVmdCcsIGdldFZhbHVlKG9yZGVyW2kgLSAxXSwgJ2xlZnQnKSArIGdldFZhbHVlKG9yZGVyW2kgLSAxXSwgJ3dpZHRoJykpO1xuICAgICAgdXBkYXRlVmFsdWUob3JkZXJbaV0sICd3aWR0aCcsIE1hdGgubWF4KDEsIE1hdGguZmxvb3IoZ2V0VmFsdWUob3JkZXJbaV0sICd3aWR0aCcpIC8gcmF0aW8pKSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHVwZGF0ZWRBcHBDb25maWc7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVXaWRnZXRGcm9tTGF5b3V0SXRlbShsYXlvdXRJbmZvOiBMYXlvdXRJbmZvLCB3aWRnZXRJZDogc3RyaW5nKSB7XG4gIGdldEFwcENvbmZpZ0FjdGlvbigpXG4gICAgLnVwZGF0ZUxheW91dEl0ZW0obGF5b3V0SW5mbywgJ3dpZGdldElkJywgdW5kZWZpbmVkKVxuICAgIC5yZW1vdmVXaWRnZXQod2lkZ2V0SWQpXG4gICAgLmV4ZWMoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZVNlY3Rpb25Gcm9tTGF5b3V0SXRlbShsYXlvdXRJbmZvOiBMYXlvdXRJbmZvKSB7XG4gIGdldEFwcENvbmZpZ0FjdGlvbigpXG4gICAgLnVwZGF0ZUxheW91dEl0ZW0obGF5b3V0SW5mbywgJ3NlY3Rpb25JZCcsIHVuZGVmaW5lZClcbiAgICAuZXhlYygpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZmluZENvcmVzcG9uZGluZ0xheW91dEl0ZW0oXG4gIGFwcENvbmZpZzogSU1BcHBDb25maWcsXG4gIHRhcmdldDogTGF5b3V0SXRlbUpzb24sXG4gIGFub3RoZXJMYXlvdXRJZDogc3RyaW5nXG4pOiBMYXlvdXRJbmZvIHtcbiAgbGV0IGxheW91dEl0ZW1JZDtcbiAgY29uc3QgbGF5b3V0ID0gYXBwQ29uZmlnLmxheW91dHNbYW5vdGhlckxheW91dElkXTtcbiAgT2JqZWN0LmtleXMobGF5b3V0LmNvbnRlbnQgfHwge30pLnNvbWUoaXRlbUlkID0+IHtcbiAgICBjb25zdCBsYXlvdXRJdGVtID0gbGF5b3V0LmNvbnRlbnRbaXRlbUlkXTtcbiAgICBpZiAoXG4gICAgICAodGFyZ2V0LnR5cGUgPT09IExheW91dEl0ZW1UeXBlLldpZGdldCAmJlxuICAgICAgICBsYXlvdXRJdGVtLnR5cGUgPT09IHRhcmdldC50eXBlICYmXG4gICAgICAgIGxheW91dEl0ZW0ud2lkZ2V0SWQgPT09IHRhcmdldC53aWRnZXRJZCkgfHxcbiAgICAgICh0YXJnZXQudHlwZSA9PT0gTGF5b3V0SXRlbVR5cGUuU2VjdGlvbiAmJlxuICAgICAgICBsYXlvdXRJdGVtLnR5cGUgPT09IHRhcmdldC50eXBlICYmXG4gICAgICAgIGxheW91dEl0ZW0uc2VjdGlvbklkID09PSB0YXJnZXQuc2VjdGlvbklkKVxuICAgICkge1xuICAgICAgbGF5b3V0SXRlbUlkID0gaXRlbUlkO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHtcbiAgICBsYXlvdXRJdGVtSWQsXG4gICAgbGF5b3V0SWQ6IGFub3RoZXJMYXlvdXRJZCxcbiAgfTtcbn1cblxuLyoqXG4gKiBBZGQgd2lkZ2V0IG9yIHNlY3Rpb24gdG8gYSBsYXlvdXQsIGVpdGhlciBkcmFnZ2luZyBmcm9tIHRoZSB3aWRnZXQgbGlzdCBvciBkcmFnZ2luZyBhbiBleGlzdGluZyBvbmUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGRJdGVtVG9MYXlvdXQoXG4gIGFwcENvbmZpZzogSU1BcHBDb25maWcsXG4gIGl0ZW06IExheW91dEl0ZW1Db25zdHJ1Y3RvclByb3BzLFxuICBwYXJlbnRMYXlvdXRJbmZvOiBMYXlvdXRJbmZvLFxuICBjb250YWluZXJSZWN0OiBDbGllbnRSZWN0LFxuICBpdGVtUmVjdDogQ2xpZW50UmVjdCxcbiAgaW5zZXJ0SW5kZXg/OiBudW1iZXJcbik6IFByb21pc2U8eyBsYXlvdXRJbmZvOiBMYXlvdXRJbmZvOyB1cGRhdGVkQXBwQ29uZmlnOiBJTUFwcENvbmZpZyB9PiB7XG4gIGNvbnN0IGxheW91dEluZm8gPSBpdGVtLmxheW91dEluZm87XG5cbiAgaWYgKGl0ZW0uaWQpIHtcbiAgICAvLyBpdCBtdXN0IGJlIGEgcGVuZGluZyBpdGVtXG4gICAgcmV0dXJuIGFkZFBlbmRpbmdJdGVtVG9MYXlvdXQoYXBwQ29uZmlnLCBpdGVtLCBwYXJlbnRMYXlvdXRJbmZvLCBjb250YWluZXJSZWN0LCBpdGVtUmVjdCwgaW5zZXJ0SW5kZXgpO1xuICB9XG5cbiAgLy8gZHJhZyBhbmQgZHJvcCBhbiBleGlzdGluZyBsYXlvdXQgaXRlbSBpbiB0aGUgc2FtZSBwYWdlXG4gIGlmIChsYXlvdXRJbmZvICYmIGxheW91dEluZm8ubGF5b3V0SWQgJiYgbGF5b3V0SW5mby5sYXlvdXRJdGVtSWQpIHtcbiAgICByZXR1cm4gbW92ZUxheW91dEl0ZW0oYXBwQ29uZmlnLCBpdGVtLCBwYXJlbnRMYXlvdXRJbmZvLCBjb250YWluZXJSZWN0LCBpdGVtUmVjdCwgaW5zZXJ0SW5kZXgpO1xuICB9XG5cbiAgaWYgKGl0ZW0uaXRlbVR5cGUgPT09IExheW91dEl0ZW1UeXBlLlNlY3Rpb24pIHtcbiAgICByZXR1cm4gYWRkTmV3U2VjdGlvblRvTGF5b3V0KGFwcENvbmZpZywgcGFyZW50TGF5b3V0SW5mbywgY29udGFpbmVyUmVjdCwgaXRlbVJlY3QsIGluc2VydEluZGV4KTtcbiAgfVxuXG4gIGlmIChpdGVtLnVyaSkge1xuICAgIHJldHVybiBhZGROZXdXaWRnZXRUb0xheW91dChhcHBDb25maWcsIGl0ZW0sIHBhcmVudExheW91dEluZm8sIGNvbnRhaW5lclJlY3QsIGl0ZW1SZWN0LCBpbnNlcnRJbmRleCk7XG4gIH1cblxuICAvLyB3aWRnZXQgcGxhY2Vob2xkZXJcbiAgcmV0dXJuIGFkZFBsYWNlaG9sZGVyVG9MYXlvdXQoYXBwQ29uZmlnLCBpdGVtLCBwYXJlbnRMYXlvdXRJbmZvLCBjb250YWluZXJSZWN0LCBpdGVtUmVjdCwgaW5zZXJ0SW5kZXgpO1xufVxuXG5mdW5jdGlvbiBhZGRQZW5kaW5nSXRlbVRvTGF5b3V0KFxuICBhcHBDb25maWc6IElNQXBwQ29uZmlnLFxuICBpdGVtOiBMYXlvdXRJdGVtQ29uc3RydWN0b3JQcm9wcyxcbiAgcGFyZW50TGF5b3V0SW5mbzogTGF5b3V0SW5mbyxcbiAgY29udGFpbmVyUmVjdDogQ2xpZW50UmVjdCxcbiAgaXRlbVJlY3Q6IENsaWVudFJlY3QsXG4gIGluc2VydEluZGV4PzogbnVtYmVyXG4pOiBQcm9taXNlPHsgbGF5b3V0SW5mbzogTGF5b3V0SW5mbzsgdXBkYXRlZEFwcENvbmZpZzogSU1BcHBDb25maWcgfT4ge1xuICBsZXQgbmV3TGF5b3V0SXRlbTtcbiAgY29uc3QgYXBwQ29uZmlnQWN0aW9uID0gZ2V0QXBwQ29uZmlnQWN0aW9uKGFwcENvbmZpZyk7XG4gIGNvbnN0IG5leHRMYXlvdXRJdGVtSWQgPSBgJHt1dGlscy5nZXRNYXhpbXVtSWQoYXBwQ29uZmlnLmxheW91dHNbcGFyZW50TGF5b3V0SW5mby5sYXlvdXRJZF0pICsgMX1gO1xuXG4gIGlmIChpdGVtLml0ZW1UeXBlID09PSBMYXlvdXRJdGVtVHlwZS5TZWN0aW9uKSB7XG4gICAgbmV3TGF5b3V0SXRlbSA9IEltbXV0YWJsZSh7XG4gICAgICBpZDogbmV4dExheW91dEl0ZW1JZCxcbiAgICAgIHR5cGU6IExheW91dEl0ZW1UeXBlLlNlY3Rpb24sXG4gICAgICBiYm94OiB1dGlscy5yZXBsYWNlQm91bmRpbmdCb3gobnVsbCwgaXRlbVJlY3QgYXMgQ2xpZW50UmVjdCwgY29udGFpbmVyUmVjdCksXG4gICAgICBzZWN0aW9uSWQ6IGl0ZW0uaWQsXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgbmV3TGF5b3V0SXRlbSA9IEltbXV0YWJsZSh7XG4gICAgICBpZDogbmV4dExheW91dEl0ZW1JZCxcbiAgICAgIHR5cGU6IExheW91dEl0ZW1UeXBlLldpZGdldCxcbiAgICAgIGJib3g6IHV0aWxzLnJlcGxhY2VCb3VuZGluZ0JveChudWxsLCBpdGVtUmVjdCBhcyBDbGllbnRSZWN0LCBjb250YWluZXJSZWN0KSxcbiAgICAgIHdpZGdldElkOiBpdGVtLmlkLFxuICAgIH0pO1xuICB9XG5cbiAgY29uc3QgeyBsYXlvdXRJZCwgbGF5b3V0SXRlbUlkIH0gPSBpdGVtLmxheW91dEluZm87XG4gIGNvbnN0IG9yaWdpbkxheW91dEl0ZW0gPSBhcHBDb25maWcubGF5b3V0c1tsYXlvdXRJZF0uY29udGVudFtsYXlvdXRJdGVtSWRdO1xuICBpZiAob3JpZ2luTGF5b3V0SXRlbS5zZXR0aW5nPy5sb2NrUGFyZW50KSB7XG4gICAgbmV3TGF5b3V0SXRlbSA9IG5ld0xheW91dEl0ZW0uc2V0SW4oWydzZXR0aW5nJywgJ2xvY2tQYXJlbnQnXSwgdHJ1ZSk7XG4gIH1cblxuICBjb25zdCBuZXdMYXlvdXRJbmZvID0gYXBwQ29uZmlnQWN0aW9uLmFkZEl0ZW1JbnRvTGF5b3V0KHBhcmVudExheW91dEluZm8ubGF5b3V0SWQsIG5ld0xheW91dEl0ZW0sIGluc2VydEluZGV4KTtcbiAgaWYgKGl0ZW0uaXNGcm9tQ3VycmVudFNpemVNb2RlKSB7XG4gICAgYXBwQ29uZmlnQWN0aW9uLnJlbW92ZUxheW91dEl0ZW0oaXRlbS5sYXlvdXRJbmZvLCBmYWxzZSk7XG4gIH1cbiAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7XG4gICAgbGF5b3V0SW5mbzogbmV3TGF5b3V0SW5mbyxcbiAgICB1cGRhdGVkQXBwQ29uZmlnOiBhcHBDb25maWdBY3Rpb24uYXBwQ29uZmlnLFxuICB9KTtcbn1cblxuZnVuY3Rpb24gbW92ZUxheW91dEl0ZW0oXG4gIGFwcENvbmZpZzogSU1BcHBDb25maWcsXG4gIGl0ZW06IExheW91dEl0ZW1Db25zdHJ1Y3RvclByb3BzLFxuICBwYXJlbnRMYXlvdXRJbmZvOiBMYXlvdXRJbmZvLFxuICBjb250YWluZXJSZWN0OiBDbGllbnRSZWN0LFxuICBpdGVtUmVjdDogQ2xpZW50UmVjdCxcbiAgaW5zZXJ0SW5kZXg/OiBudW1iZXJcbik6IFByb21pc2U8eyBsYXlvdXRJbmZvOiBMYXlvdXRJbmZvOyB1cGRhdGVkQXBwQ29uZmlnOiBJTUFwcENvbmZpZyB9PiB7XG4gIGNvbnN0IGxheW91dEluZm8gPSBpdGVtLmxheW91dEluZm87XG4gIGNvbnN0IGFwcENvbmZpZ0FjdGlvbiA9IGdldEFwcENvbmZpZ0FjdGlvbihhcHBDb25maWcpO1xuICBjb25zdCB7IGxheW91dElkLCBsYXlvdXRJdGVtSWQgfSA9IGxheW91dEluZm87XG5cbiAgaWYgKGxheW91dElkID09PSBwYXJlbnRMYXlvdXRJbmZvLmxheW91dElkKSB7XG4gICAgLy8gYWRqdXN0IHBvc2l0aW9uIGluIHRoZSBzYW1lIGxheW91dFxuICAgIGNvbnN0IG9yaWdpbkJCb3ggPSBhcHBDb25maWdBY3Rpb24uYXBwQ29uZmlnLmxheW91dHM/LltsYXlvdXRJZF0/LmNvbnRlbnQ/LltsYXlvdXRJdGVtSWRdPy5iYm94O1xuICAgIGxldCBuZXdCQm94ID0gdXRpbHMucmVwbGFjZUJvdW5kaW5nQm94KG9yaWdpbkJCb3gsIGl0ZW1SZWN0LCBjb250YWluZXJSZWN0KTtcbiAgICAvLyBrZWVwIHRoZSBvcmlnaW5hbCBzaXplIGlmIG1vdmUgaXRlbSBpbiB0aGUgc2FtZSBsYXlvdXRcbiAgICBuZXdCQm94ID0gbmV3QkJveC5zZXQoJ3dpZHRoJywgb3JpZ2luQkJveC53aWR0aCkuc2V0KCdoZWlnaHQnLCBvcmlnaW5CQm94LmhlaWdodCk7XG4gICAgYXBwQ29uZmlnQWN0aW9uLmVkaXRMYXlvdXRJdGVtQkJveChsYXlvdXRJbmZvLCBuZXdCQm94KTtcbiAgICBpZiAoaW5zZXJ0SW5kZXggPj0gMCkge1xuICAgICAgYXBwQ29uZmlnQWN0aW9uLmVkaXRMYXlvdXRJdGVtSW5kZXgobGF5b3V0SW5mbywgcGFyZW50TGF5b3V0SW5mbywgaW5zZXJ0SW5kZXgpO1xuICAgIH1cbiAgICBhcHBDb25maWdBY3Rpb24uc2V0TGF5b3V0SXRlbVRvUGVuZGluZyhsYXlvdXRJbmZvLCBmYWxzZSk7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7IGxheW91dEluZm8sIHVwZGF0ZWRBcHBDb25maWc6IGFwcENvbmZpZ0FjdGlvbi5hcHBDb25maWcgfSk7XG4gIH1cblxuICBjb25zdCBuZXdMYXlvdXRJbmZvID0gYXBwQ29uZmlnQWN0aW9uLm1vdmVMYXlvdXRJdGVtVG9Bbm90aGVyTGF5b3V0KFxuICAgIGxheW91dEluZm8sXG4gICAgcGFyZW50TGF5b3V0SW5mbyxcbiAgICB1dGlscy5yZXBsYWNlQm91bmRpbmdCb3gobnVsbCwgaXRlbVJlY3QgYXMgQ2xpZW50UmVjdCwgY29udGFpbmVyUmVjdCksXG4gICAgaW5zZXJ0SW5kZXhcbiAgKTtcbiAgYXBwQ29uZmlnQWN0aW9uLmNsZWFyUmVkdW5kYW50TGF5b3V0KGxheW91dEluZm8pO1xuXG4gIGNvbnN0IHBXaWRnZXRJZCA9IHNlYXJjaFV0aWxzLmdldFdpZGdldElkVGhhdFVzZVRoZUxheW91dElkKGFwcENvbmZpZywgcGFyZW50TGF5b3V0SW5mby5sYXlvdXRJZCk7XG4gIGlmIChwV2lkZ2V0SWQgJiYgc2hvdWxkTG9ja1BhcmVudChhcHBDb25maWcud2lkZ2V0c1twV2lkZ2V0SWRdKSkge1xuICAgIGFwcENvbmZpZ0FjdGlvbi5lZGl0TGF5b3V0SXRlbVNldHRpbmcobmV3TGF5b3V0SW5mbywgeyBsb2NrUGFyZW50OiB0cnVlIH0pO1xuICB9XG5cbiAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7IGxheW91dEluZm86IG5ld0xheW91dEluZm8sIHVwZGF0ZWRBcHBDb25maWc6IGFwcENvbmZpZ0FjdGlvbi5hcHBDb25maWcgfSk7XG59XG5cbmZ1bmN0aW9uIGFkZE5ld1NlY3Rpb25Ub0xheW91dChcbiAgYXBwQ29uZmlnOiBJTUFwcENvbmZpZyxcbiAgcGFyZW50TGF5b3V0SW5mbzogTGF5b3V0SW5mbyxcbiAgY29udGFpbmVyUmVjdDogQ2xpZW50UmVjdCxcbiAgaXRlbVJlY3Q6IENsaWVudFJlY3QsXG4gIGluc2VydEluZGV4PzogbnVtYmVyXG4pOiBQcm9taXNlPHsgbGF5b3V0SW5mbzogTGF5b3V0SW5mbzsgdXBkYXRlZEFwcENvbmZpZzogSU1BcHBDb25maWcgfT4ge1xuICBjb25zdCBhcHBDb25maWdBY3Rpb24gPSBnZXRBcHBDb25maWdBY3Rpb24oYXBwQ29uZmlnKTtcbiAgY29uc3Qgc2VjdGlvbklkID0gYXBwQ29uZmlnQWN0aW9uLmNyZWF0ZVNlY3Rpb24oKS5pZDtcbiAgY29uc3QgbmV4dExheW91dEl0ZW1JZCA9IGAke3V0aWxzLmdldE1heGltdW1JZChhcHBDb25maWcubGF5b3V0c1twYXJlbnRMYXlvdXRJbmZvLmxheW91dElkXSkgKyAxfWA7XG5cbiAgY29uc3QgbmV3TGF5b3V0SXRlbSA9IEltbXV0YWJsZSh7XG4gICAgc2VjdGlvbklkLFxuICAgIGlkOiBuZXh0TGF5b3V0SXRlbUlkLFxuICAgIHR5cGU6IExheW91dEl0ZW1UeXBlLlNlY3Rpb24sXG4gICAgYmJveDogdXRpbHMucmVwbGFjZUJvdW5kaW5nQm94KG51bGwsIGl0ZW1SZWN0IGFzIENsaWVudFJlY3QsIGNvbnRhaW5lclJlY3QpLFxuICB9KTtcbiAgY29uc3QgbmV3TGF5b3V0SW5mbyA9IGFwcENvbmZpZ0FjdGlvbi5hZGRJdGVtSW50b0xheW91dChwYXJlbnRMYXlvdXRJbmZvLmxheW91dElkLCBuZXdMYXlvdXRJdGVtLCBpbnNlcnRJbmRleCk7XG4gIHJldHVybiBQcm9taXNlLnJlc29sdmUoeyBsYXlvdXRJbmZvOiBuZXdMYXlvdXRJbmZvLCB1cGRhdGVkQXBwQ29uZmlnOiBhcHBDb25maWdBY3Rpb24uYXBwQ29uZmlnIH0pO1xufVxuXG5mdW5jdGlvbiBhZGROZXdXaWRnZXRUb0xheW91dChcbiAgYXBwQ29uZmlnOiBJTUFwcENvbmZpZyxcbiAgaXRlbTogTGF5b3V0SXRlbUNvbnN0cnVjdG9yUHJvcHMsXG4gIHBhcmVudExheW91dEluZm86IExheW91dEluZm8sXG4gIGNvbnRhaW5lclJlY3Q6IENsaWVudFJlY3QsXG4gIGl0ZW1SZWN0OiBDbGllbnRSZWN0LFxuICBpbnNlcnRJbmRleD86IG51bWJlclxuKTogUHJvbWlzZTx7IGxheW91dEluZm86IExheW91dEluZm87IHVwZGF0ZWRBcHBDb25maWc6IElNQXBwQ29uZmlnIH0+IHtcbiAgY29uc3Qgd2lkZ2V0SnNvbiA9IHtcbiAgICB1cmk6IGl0ZW0udXJpLFxuICB9IGFzIFdpZGdldEpzb247XG4gIGFwcEJ1aWxkZXJTeW5jLnB1Ymxpc2hJc0J1c3lUb0J1aWxkZXIodHJ1ZSk7XG4gIHJldHVybiBXaWRnZXRNYW5hZ2VyLmdldEluc3RhbmNlKClcbiAgICAuaGFuZGxlTmV3V2lkZ2V0SnNvbih3aWRnZXRKc29uKVxuICAgIC50aGVuKHdpZGdldEpzb24gPT4ge1xuICAgICAgY29uc3QgYXBwQ29uZmlnQWN0aW9uID0gZ2V0QXBwQ29uZmlnQWN0aW9uKGFwcENvbmZpZyk7XG4gICAgICBjb25zdCBuZXh0TGF5b3V0SXRlbUlkID0gYCR7dXRpbHMuZ2V0TWF4aW11bUlkKGFwcENvbmZpZy5sYXlvdXRzW3BhcmVudExheW91dEluZm8ubGF5b3V0SWRdKSArIDF9YDtcblxuICAgICAgY29uc3Qgd2lkZ2V0SWQgPSBhcHBDb25maWdVdGlscy5nZXRVbmlxdWVJZChhcHBDb25maWdBY3Rpb24uYXBwQ29uZmlnLCAnd2lkZ2V0Jyk7XG4gICAgICB3aWRnZXRKc29uLmlkID0gd2lkZ2V0SWQ7XG4gICAgICBhcHBDb25maWdBY3Rpb24uY3JlYXRlV2lkZ2V0KEltbXV0YWJsZSh3aWRnZXRKc29uKSk7XG5cbiAgICAgIGxldCBuZXdMYXlvdXRJdGVtID0gSW1tdXRhYmxlKHtcbiAgICAgICAgaWQ6IG5leHRMYXlvdXRJdGVtSWQsXG4gICAgICAgIHR5cGU6IExheW91dEl0ZW1UeXBlLldpZGdldCxcbiAgICAgICAgYmJveDogdXRpbHMucmVwbGFjZUJvdW5kaW5nQm94KG51bGwsIGl0ZW1SZWN0IGFzIENsaWVudFJlY3QsIGNvbnRhaW5lclJlY3QpLFxuICAgICAgICB3aWRnZXRJZDogd2lkZ2V0SnNvbi5pZCxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBwV2lkZ2V0SWQgPSBzZWFyY2hVdGlscy5nZXRXaWRnZXRJZFRoYXRVc2VUaGVMYXlvdXRJZChhcHBDb25maWcsIHBhcmVudExheW91dEluZm8ubGF5b3V0SWQpO1xuICAgICAgaWYgKHBXaWRnZXRJZCAmJiBzaG91bGRMb2NrUGFyZW50KGFwcENvbmZpZy53aWRnZXRzW3BXaWRnZXRJZF0pKSB7XG4gICAgICAgIG5ld0xheW91dEl0ZW0gPSBuZXdMYXlvdXRJdGVtLnNldEluKFsnc2V0dGluZycsICdsb2NrUGFyZW50J10sIHRydWUpO1xuICAgICAgfVxuICAgICAgY29uc3QgbmV3TGF5b3V0SW5mbyA9IGFwcENvbmZpZ0FjdGlvbi5hZGRJdGVtSW50b0xheW91dChwYXJlbnRMYXlvdXRJbmZvLmxheW91dElkLCBuZXdMYXlvdXRJdGVtLCBpbnNlcnRJbmRleCk7XG4gICAgICBhcHBCdWlsZGVyU3luYy5wdWJsaXNoSXNCdXN5VG9CdWlsZGVyKGZhbHNlKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGxheW91dEluZm86IG5ld0xheW91dEluZm8sXG4gICAgICAgIHVwZGF0ZWRBcHBDb25maWc6IGFwcENvbmZpZ0FjdGlvbi5hcHBDb25maWcsXG4gICAgICB9O1xuICAgIH0pXG4gICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICBhcHBCdWlsZGVyU3luYy5wdWJsaXNoSXNCdXN5VG9CdWlsZGVyKGZhbHNlKTtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnIpO1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBhZGRQbGFjZWhvbGRlclRvTGF5b3V0KFxuICBhcHBDb25maWc6IElNQXBwQ29uZmlnLFxuICBpdGVtOiBMYXlvdXRJdGVtQ29uc3RydWN0b3JQcm9wcyxcbiAgcGFyZW50TGF5b3V0SW5mbzogTGF5b3V0SW5mbyxcbiAgY29udGFpbmVyUmVjdDogQ2xpZW50UmVjdCxcbiAgaXRlbVJlY3Q6IENsaWVudFJlY3QsXG4gIGluc2VydEluZGV4PzogbnVtYmVyXG4pOiBQcm9taXNlPHsgbGF5b3V0SW5mbzogTGF5b3V0SW5mbzsgdXBkYXRlZEFwcENvbmZpZzogSU1BcHBDb25maWcgfT4ge1xuICBjb25zdCBhcHBDb25maWdBY3Rpb24gPSBnZXRBcHBDb25maWdBY3Rpb24oYXBwQ29uZmlnKTtcbiAgY29uc3QgbmV4dExheW91dEl0ZW1JZCA9IGAke3V0aWxzLmdldE1heGltdW1JZChhcHBDb25maWcubGF5b3V0c1twYXJlbnRMYXlvdXRJbmZvLmxheW91dElkXSkgKyAxfWA7XG5cbiAgbGV0IG5ld0xheW91dEl0ZW0gPSBJbW11dGFibGUoe1xuICAgIGlkOiBuZXh0TGF5b3V0SXRlbUlkLFxuICAgIHR5cGU6IExheW91dEl0ZW1UeXBlLldpZGdldCxcbiAgICBiYm94OiB1dGlscy5yZXBsYWNlQm91bmRpbmdCb3gobnVsbCwgaXRlbVJlY3QgYXMgQ2xpZW50UmVjdCwgY29udGFpbmVyUmVjdCksXG4gIH0pO1xuXG4gIGNvbnN0IHBXaWRnZXRJZCA9IHNlYXJjaFV0aWxzLmdldFdpZGdldElkVGhhdFVzZVRoZUxheW91dElkKGFwcENvbmZpZywgcGFyZW50TGF5b3V0SW5mby5sYXlvdXRJZCk7XG4gIGlmIChwV2lkZ2V0SWQgJiYgc2hvdWxkTG9ja1BhcmVudChhcHBDb25maWcud2lkZ2V0c1twV2lkZ2V0SWRdKSkge1xuICAgIG5ld0xheW91dEl0ZW0gPSBuZXdMYXlvdXRJdGVtLnNldEluKFsnc2V0dGluZycsICdsb2NrUGFyZW50J10sIHRydWUpO1xuICB9XG4gIGNvbnN0IG5ld0xheW91dEluZm8gPSBhcHBDb25maWdBY3Rpb24uYWRkSXRlbUludG9MYXlvdXQocGFyZW50TGF5b3V0SW5mby5sYXlvdXRJZCwgbmV3TGF5b3V0SXRlbSwgaW5zZXJ0SW5kZXgpO1xuICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtcbiAgICBsYXlvdXRJbmZvOiBuZXdMYXlvdXRJbmZvLFxuICAgIHVwZGF0ZWRBcHBDb25maWc6IGFwcENvbmZpZ0FjdGlvbi5hcHBDb25maWcsXG4gIH0pO1xufVxuXG5mdW5jdGlvbiBzaG91bGRMb2NrUGFyZW50KHdpZGdldEpzb246IElNV2lkZ2V0SnNvbik6IGJvb2xlYW4ge1xuICBjb25zdCB0eXBlID0gd2lkZ2V0SnNvbj8ubWFuaWZlc3Q/LndpZGdldFR5cGU7XG4gIGNvbnN0IGhhc0VtYmVkZGVkTGF5b3V0ID0gd2lkZ2V0SnNvbj8ubWFuaWZlc3Q/LnByb3BlcnRpZXM/Lmhhc0VtYmVkZGVkTGF5b3V0ID8/IGZhbHNlO1xuICBjb25zdCBsb2NrQ2hpbGRyZW4gPSB3aWRnZXRKc29uPy5tYW5pZmVzdD8ucHJvcGVydGllcz8ubG9ja0NoaWxkcmVuID8/IGZhbHNlO1xuICByZXR1cm4gdHlwZSAhPT0gV2lkZ2V0VHlwZS5MYXlvdXQgJiYgaGFzRW1iZWRkZWRMYXlvdXQgJiYgbG9ja0NoaWxkcmVuO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbWVyZ2VXaWRnZXRzSW50b0NvbHVtbihcbiAgYXBwQ29uZmlnOiBJTUFwcENvbmZpZyxcbiAgZHJhZ2dpbmdJdGVtOiBMYXlvdXRJdGVtQ29uc3RydWN0b3JQcm9wcyxcbiAgY29udGFpbmVyUmVjdDogQ2xpZW50UmVjdCxcbiAgaXRlbVJlY3Q6IENsaWVudFJlY3QsXG4gIHJlZkxheW91dEluZm86IExheW91dEluZm8sXG4gIHNpZGU6ICd0b3AnIHwgJ2JvdHRvbSdcbik6IFByb21pc2U8eyBsYXlvdXRJbmZvOiBMYXlvdXRJbmZvOyB1cGRhdGVkQXBwQ29uZmlnOiBJTUFwcENvbmZpZyB9PiB7XG4gIGNvbnN0IGFwcENvbmZpZ0FjdGlvbiA9IGdldEFwcENvbmZpZ0FjdGlvbihhcHBDb25maWcpO1xuICBjb25zdCBsYXlvdXRJdGVtID0gYXBwQ29uZmlnLmxheW91dHNbcmVmTGF5b3V0SW5mby5sYXlvdXRJZF0uY29udGVudFtyZWZMYXlvdXRJbmZvLmxheW91dEl0ZW1JZF07XG5cbiAgLy8gMS4gY3JlYXRlIGEgY29sdW1uIHdpZGdldFxuICBjb25zdCB3aWRnZXRJZCA9IGFwcENvbmZpZ1V0aWxzLmdldFVuaXF1ZUlkKGFwcENvbmZpZ0FjdGlvbi5hcHBDb25maWcsICd3aWRnZXQnKTtcbiAgY29uc3Qgd2lkZ2V0SnNvbiA9IHtcbiAgICBpZDogd2lkZ2V0SWQsXG4gICAgdXJpOiAnd2lkZ2V0cy9sYXlvdXQvY29sdW1uLycsXG4gIH0gYXMgV2lkZ2V0SnNvbjtcbiAgYXBwQnVpbGRlclN5bmMucHVibGlzaElzQnVzeVRvQnVpbGRlcih0cnVlKTtcbiAgcmV0dXJuIFdpZGdldE1hbmFnZXIuZ2V0SW5zdGFuY2UoKVxuICAgIC5oYW5kbGVOZXdXaWRnZXRKc29uKHdpZGdldEpzb24pXG4gICAgLnRoZW4od2lkZ2V0SnNvbiA9PiB7XG4gICAgICBhcHBDb25maWdBY3Rpb24uY3JlYXRlV2lkZ2V0KEltbXV0YWJsZSh3aWRnZXRKc29uKSk7XG4gICAgICAvLyAyLiBVcGRhdGUgdGhlIGV4aXN0aW5nIGxheW91dCBpdGVtXG4gICAgICAvLyAyLjEgc2V0IHdpZGdldElkIHRvIHRoZSBuZXcgY3JlYXRlZCBjb2x1bW4gd2lkZ2V0XG4gICAgICBhcHBDb25maWdBY3Rpb24udXBkYXRlTGF5b3V0SXRlbShyZWZMYXlvdXRJbmZvLCAnd2lkZ2V0SWQnLCB3aWRnZXRKc29uLmlkKTtcbiAgICAgIGFwcENvbmZpZ0FjdGlvbi5lZGl0TGF5b3V0SXRlbVNldHRpbmcocmVmTGF5b3V0SW5mbywge1xuICAgICAgICBtYWludGFpbmVkQnlMYXlvdXQ6IHRydWUsXG4gICAgICB9KTtcbiAgICAgIC8vIDIuMiBlbmxhcmdlIHRoZSBoZWlnaHQgdG8gaG9sZCBuZXcgd2lkZ2V0XG4gICAgICBsZXQgYmJveCA9IEltbXV0YWJsZShsYXlvdXRJdGVtLmJib3gpO1xuICAgICAgLy8gMjAgaXMgdGhlIGV4dHJhIHNpemUgZm9yIGdhcCBhbmQgcGFkZGluZ1xuICAgICAgY29uc3QgdXBkYXRlZEhlaWdodCA9IE1hdGgucm91bmQocGFyc2VGbG9hdChiYm94LmhlaWdodCkgKyBpdGVtUmVjdC5oZWlnaHQgKyAyMCk7XG4gICAgICBiYm94ID0gYmJveC5zZXQoJ2hlaWdodCcsIGAke3VwZGF0ZWRIZWlnaHR9cHhgKTtcbiAgICAgIGFwcENvbmZpZ0FjdGlvbi5lZGl0TGF5b3V0SXRlbUJCb3gocmVmTGF5b3V0SW5mbywgYmJveCk7XG4gICAgfSlcbiAgICAudGhlbigoKSA9PiB7XG4gICAgICAvLyAzLiBNb3ZlIHRoZSB0b3cgd2lkZ2V0cyB0byB0aGUgbGF5b3V0IG9mIGNvbHVtblxuICAgICAgY29uc3Qgd2lkZ2V0ID0gYXBwQ29uZmlnQWN0aW9uLmFwcENvbmZpZy53aWRnZXRzW3dpZGdldEpzb24uaWRdO1xuICAgICAgY29uc3QgYnJvd3NlclNpemVNb2RlID0gZ2V0QXBwU3RvcmUoKS5nZXRTdGF0ZSgpLmJyb3dzZXJTaXplTW9kZTtcbiAgICAgIGNvbnN0IGxheW91dE5hbWUgPSBPYmplY3Qua2V5cyh3aWRnZXQubGF5b3V0cylbMF07XG4gICAgICBjb25zdCBzaXplbW9kZUxheW91dHMgPSB3aWRnZXQubGF5b3V0c1tsYXlvdXROYW1lXTtcbiAgICAgIGNvbnN0IGVtYmVkTGF5b3V0SWQgPSBzZWFyY2hVdGlscy5maW5kTGF5b3V0SWQoXG4gICAgICAgIHNpemVtb2RlTGF5b3V0cyxcbiAgICAgICAgYnJvd3NlclNpemVNb2RlLFxuICAgICAgICBhcHBDb25maWdBY3Rpb24uYXBwQ29uZmlnLm1haW5TaXplTW9kZVxuICAgICAgKTtcblxuICAgICAgcmV0dXJuIGFkZEl0ZW1Ub0xheW91dChcbiAgICAgICAgYXBwQ29uZmlnQWN0aW9uLmFwcENvbmZpZyxcbiAgICAgICAgZHJhZ2dpbmdJdGVtLFxuICAgICAgICB7IGxheW91dElkOiBlbWJlZExheW91dElkIH0sXG4gICAgICAgIGNvbnRhaW5lclJlY3QsXG4gICAgICAgIGl0ZW1SZWN0XG4gICAgICApLnRoZW4oKHsgdXBkYXRlZEFwcENvbmZpZyB9KSA9PiB7XG4gICAgICAgIGNvbnN0IGV4aXN0aW5nSWQgPSB1dGlscy5nZXRNYXhpbXVtSWQodXBkYXRlZEFwcENvbmZpZy5sYXlvdXRzW2VtYmVkTGF5b3V0SWRdKTtcbiAgICAgICAgY29uc3QgbmV3TGF5b3V0SXRlbTogTGF5b3V0SXRlbUpzb24gPSB7XG4gICAgICAgICAgaWQ6IGAke2V4aXN0aW5nSWQgKyAxfWAsXG4gICAgICAgICAgd2lkZ2V0SWQ6IGxheW91dEl0ZW0ud2lkZ2V0SWQsXG4gICAgICAgICAgdHlwZTogTGF5b3V0SXRlbVR5cGUuV2lkZ2V0LFxuICAgICAgICAgIGJib3g6IHV0aWxzLnJlcGxhY2VCb3VuZGluZ0JveChudWxsLCBpdGVtUmVjdCBhcyBDbGllbnRSZWN0LCBjb250YWluZXJSZWN0KSxcbiAgICAgICAgfTtcblxuICAgICAgICBsZXQgb3JkZXI7XG4gICAgICAgIGlmIChzaWRlID09PSAndG9wJykge1xuICAgICAgICAgIG9yZGVyID0gW2Ake2V4aXN0aW5nSWR9YCwgbmV3TGF5b3V0SXRlbS5pZF07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb3JkZXIgPSBbbmV3TGF5b3V0SXRlbS5pZCwgYCR7ZXhpc3RpbmdJZH1gXTtcbiAgICAgICAgfVxuICAgICAgICB1cGRhdGVkQXBwQ29uZmlnID0gdXBkYXRlZEFwcENvbmZpZ1xuICAgICAgICAgIC5zZXRJbihbJ2xheW91dHMnLCBlbWJlZExheW91dElkLCAnY29udGVudCcsIG5ld0xheW91dEl0ZW0uaWRdLCBuZXdMYXlvdXRJdGVtKVxuICAgICAgICAgIC5zZXRJbihbJ2xheW91dHMnLCBlbWJlZExheW91dElkLCAnb3JkZXInXSwgb3JkZXIpO1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtcbiAgICAgICAgICB1cGRhdGVkQXBwQ29uZmlnLFxuICAgICAgICAgIGxheW91dEluZm86IHJlZkxheW91dEluZm8sXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSlcbiAgICAudGhlbigoeyB1cGRhdGVkQXBwQ29uZmlnIH0pID0+IHtcbiAgICAgIGFwcEJ1aWxkZXJTeW5jLnB1Ymxpc2hJc0J1c3lUb0J1aWxkZXIoZmFsc2UpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdXBkYXRlZEFwcENvbmZpZyxcbiAgICAgICAgbGF5b3V0SW5mbzogcmVmTGF5b3V0SW5mbyxcbiAgICAgIH07XG4gICAgfSlcbiAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgIGFwcEJ1aWxkZXJTeW5jLnB1Ymxpc2hJc0J1c3lUb0J1aWxkZXIoZmFsc2UpO1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycik7XG4gICAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzdXBwb3J0RmxvYXRpbmcobGF5b3V0SW5mbzogTGF5b3V0SW5mbyk6IGJvb2xlYW4ge1xuICBjb25zdCB7IGxheW91dElkLCBsYXlvdXRJdGVtSWQgfSA9IGxheW91dEluZm87XG4gIGNvbnN0IGFwcENvbmZpZyA9IGdldEFwcENvbmZpZ0FjdGlvbigpLmFwcENvbmZpZztcbiAgY29uc3QgbGF5b3V0SXRlbSA9IGFwcENvbmZpZy5sYXlvdXRzW2xheW91dElkXT8uY29udGVudD8uW2xheW91dEl0ZW1JZF07XG4gIGlmICghbGF5b3V0SXRlbSB8fCBsYXlvdXRJdGVtLnNldHRpbmc/LmlzRmxvYXRpbmcpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgY29uc3QgcGFnZVBhcnQgPSB1dGlscy5nZXRBY3RpdmVQYWdlUGFydCgpO1xuICBpZiAocGFnZVBhcnQgIT09IFBhZ2VQYXJ0LkhlYWRlciAmJiBwYWdlUGFydCAhPT0gUGFnZVBhcnQuRm9vdGVyKSB7XG4gICAgY29uc3Qgcm9vdExheW91dElkID0gdXRpbHMuZ2V0Q3VycmVudFBhZ2VSb290TGF5b3V0SWQoKTtcbiAgICBjb25zdCBsYXlvdXRUeXBlID0gYXBwQ29uZmlnLmxheW91dHNbcm9vdExheW91dElkXT8udHlwZTtcbiAgICByZXR1cm4gbGF5b3V0VHlwZSA9PT0gTGF5b3V0VHlwZS5GbG93TGF5b3V0ICYmIGxheW91dElkICE9PSByb290TGF5b3V0SWQ7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc3VwcG9ydFNpbmtpbmcobGF5b3V0SW5mbzogTGF5b3V0SW5mbyk6IGJvb2xlYW4ge1xuICBjb25zdCB7IGxheW91dElkLCBsYXlvdXRJdGVtSWQgfSA9IGxheW91dEluZm87XG4gIGNvbnN0IGFwcENvbmZpZyA9IGdldEFwcENvbmZpZ0FjdGlvbigpLmFwcENvbmZpZztcbiAgY29uc3QgbGF5b3V0SXRlbSA9IGFwcENvbmZpZy5sYXlvdXRzW2xheW91dElkXT8uY29udGVudD8uW2xheW91dEl0ZW1JZF07XG4gIHJldHVybiBsYXlvdXRJdGVtPy5zZXR0aW5nPy5pc0Zsb2F0aW5nID8/IGZhbHNlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZmxvYXRpbmdMYXlvdXRJdGVtKGxheW91dEluZm86IExheW91dEluZm8sIGNsaWVudFJlY3Q6IENsaWVudFJlY3QsIGFyZWE6IG51bWJlcikge1xuICBjb25zdCByb290TGF5b3V0SWQgPSB1dGlscy5nZXRDdXJyZW50UGFnZVJvb3RMYXlvdXRJZCgpO1xuICBsZXQgYXBwQ29uZmlnQWN0aW9uID0gZ2V0QXBwQ29uZmlnQWN0aW9uKCk7XG4gIGFkZEl0ZW1Ub0xheW91dChcbiAgICBhcHBDb25maWdBY3Rpb24uYXBwQ29uZmlnLFxuICAgIHsgbGF5b3V0SW5mbyB9IGFzIExheW91dEl0ZW1Db25zdHJ1Y3RvclByb3BzLFxuICAgIHsgbGF5b3V0SWQ6IHJvb3RMYXlvdXRJZCB9LFxuICAgIHtsZWZ0OiAwLCB0b3A6IDAsIHdpZHRoOiAxMDAwLCBoZWlnaHQ6IDEwMDB9IGFzIENsaWVudFJlY3QsXG4gICAgY2xpZW50UmVjdCxcbiAgKS50aGVuKHJlc3VsdCA9PiB7XG4gICAgYXBwQ29uZmlnQWN0aW9uID0gZ2V0QXBwQ29uZmlnQWN0aW9uKHJlc3VsdC51cGRhdGVkQXBwQ29uZmlnKTtcbiAgICBhcHBDb25maWdBY3Rpb24uZWRpdExheW91dEl0ZW1CQm94KHJlc3VsdC5sYXlvdXRJbmZvLCB7XG4gICAgICB0b3A6IDAsXG4gICAgICBsZWZ0OiAwLFxuICAgICAgcmlnaHQ6IDAsXG4gICAgICB3aWR0aDogY2xpZW50UmVjdC53aWR0aCxcbiAgICAgIGhlaWdodDogY2xpZW50UmVjdC5oZWlnaHRcbiAgICB9KS5lZGl0TGF5b3V0SXRlbVNldHRpbmcocmVzdWx0LmxheW91dEluZm8sIHtcbiAgICAgIGlzRmxvYXRpbmc6IHRydWUsXG4gICAgICBsb2NrUGFyZW50OiB0cnVlLFxuICAgICAgZmxvYXRpbmdBcmVhOiBhcmVhXG4gICAgfSk7XG5cbiAgICBpZiAod2luZG93LmppbXVDb25maWcuaXNCdWlsZGVyKSB7XG4gICAgICBnZXRBcHBDb25maWdBY3Rpb24oYXBwQ29uZmlnQWN0aW9uLmFwcENvbmZpZykuZXhlYygpO1xuICAgICAgYnVpbGRlckFwcFN5bmMucHVibGlzaENoYW5nZVNlbGVjdGlvblRvQXBwKHJlc3VsdC5sYXlvdXRJbmZvKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZ2V0QXBwU3RvcmUoKS5kaXNwYXRjaChhcHBBY3Rpb25zLmxheW91dENoYW5nZWQoYXBwQ29uZmlnQWN0aW9uLmFwcENvbmZpZywgcmVzdWx0LmxheW91dEluZm8pKTtcbiAgICB9XG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2lua2luZ0xheW91dEl0ZW0obGF5b3V0SW5mbzogTGF5b3V0SW5mbywgY2xpZW50UmVjdDogQ2xpZW50UmVjdCkge1xuICBjb25zdCB7IGxheW91dElkLCBsYXlvdXRJdGVtSWQgfSA9IGxheW91dEluZm87XG4gIGNvbnN0IGFwcENvbmZpZ0FjdGlvbiA9IGdldEFwcENvbmZpZ0FjdGlvbigpO1xuICBsZXQgaW5zZXJ0SW5kZXggPSAtMTtcbiAgbGV0IHdpZHRoID0gMjtcbiAgbGV0IGNvbnRhaW5lclJlY3Q7XG5cbiAgY29uc3QgY2hpbGROb2RlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYGRpdi5mbG93LWxheW91dFtkYXRhLWxheW91dGlkPVwiJHtsYXlvdXRJZH1cIl0gPiBkaXYuYnVpbGRlci1sYXlvdXQtaXRlbWApO1xuICBpZiAoY2hpbGROb2Rlcz8ubGVuZ3RoID4gMCkge1xuICAgIGNoaWxkTm9kZXMuZm9yRWFjaCgobm9kZSwgaSkgPT4ge1xuICAgICAgaWYgKGluc2VydEluZGV4ID09PSAtMSAmJiBub2RlLmdldEF0dHJpYnV0ZSgnZGF0YS1sYXlvdXRpdGVtaWQnKSAhPT0gbGF5b3V0SXRlbUlkKSB7XG4gICAgICAgIGNvbnN0IGl0ZW1SZWN0ID0gbm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgd2lkdGggPSBNYXRoLnJvdW5kKGNsaWVudFJlY3Qud2lkdGggKiAxMiAvIGl0ZW1SZWN0LndpZHRoKTtcbiAgICAgICAgaWYgKHV0aWxzLmNvbnRhaW5zKGl0ZW1SZWN0LCBjbGllbnRSZWN0KSkge1xuICAgICAgICAgIGluc2VydEluZGV4ID0gaTtcbiAgICAgICAgICBjb250YWluZXJSZWN0ID0gaXRlbVJlY3Q7XG4gICAgICAgIH0gZWxzZSBpZiAodXRpbHMuaW50ZXJzZWN0cyhpdGVtUmVjdCwgY2xpZW50UmVjdCkpIHtcbiAgICAgICAgICBpbnNlcnRJbmRleCA9IGkgKyAxO1xuICAgICAgICAgIGNvbnRhaW5lclJlY3QgPSBpdGVtUmVjdDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIGlmIChpbnNlcnRJbmRleCA9PT0gLTEpIHtcbiAgICBpbnNlcnRJbmRleCA9IGFwcENvbmZpZ0FjdGlvbi5hcHBDb25maWcubGF5b3V0c1tsYXlvdXRJZF0ub3JkZXI/Lmxlbmd0aCB8fCAwO1xuICB9XG4gIGFkZEJsb2NrVG9GbG93TGF5b3V0KFxuICAgIHtsYXlvdXRJbmZvfSBhcyBMYXlvdXRJdGVtQ29uc3RydWN0b3JQcm9wcyxcbiAgICB7bGF5b3V0SWR9LFxuICAgIGNvbnRhaW5lclJlY3QgfHwgY2xpZW50UmVjdCxcbiAgICBjbGllbnRSZWN0LFxuICAgIHdpZHRoLFxuICAgIGluc2VydEluZGV4XG4gICk7XG59XG5cbi8qKlxuICogQWRkIGEgYmxvY2sgaW50byBmbG93IGxheW91dCB3aGljaCBjb250YWlucyB0aGUgZHJhZ2dpbmdJdGVtXG4gKiBAcGFyYW0gZHJhZ2dpbmdJdGVtXG4gKiBAcGFyYW0gcGFyZW50TGF5b3V0SW5mb1xuICogQHBhcmFtIGNvbnRhaW5lclJlY3RcbiAqIEBwYXJhbSBpdGVtUmVjdFxuICogQHBhcmFtIHdpZHRoXG4gKiBAcGFyYW0gaW5zZXJ0SW5kZXhcbiAqIEBwYXJhbSBhcHBDb25maWdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZEJsb2NrVG9GbG93TGF5b3V0KFxuICBkcmFnZ2luZ0l0ZW06IExheW91dEl0ZW1Db25zdHJ1Y3RvclByb3BzLFxuICBwYXJlbnRMYXlvdXRJbmZvOiBMYXlvdXRJbmZvLFxuICBjb250YWluZXJSZWN0OiBDbGllbnRSZWN0LFxuICBpdGVtUmVjdDogQ2xpZW50UmVjdCxcbiAgd2lkdGg6IG51bWJlcixcbiAgaW5zZXJ0SW5kZXg6IG51bWJlcixcbiAgYXBwQ29uZmlnPzogSU1BcHBDb25maWcsXG4pIHtcbiAgbGV0IGFwcENvbmZpZ0FjdGlvbiA9IGdldEFwcENvbmZpZ0FjdGlvbihhcHBDb25maWcpO1xuICBjb25zdCByb3dXaWRnZXRJbmZvID0ge1xuICAgIG5hbWU6ICdyb3cnLFxuICAgIGxhYmVsOiAncm93JyxcbiAgICB1cmk6ICd3aWRnZXRzL2xheW91dC9yb3cvJyxcbiAgICBpY29uOiBudWxsLFxuICAgIGl0ZW1UeXBlOiBMYXlvdXRJdGVtVHlwZS5XaWRnZXQsXG4gICAgbWFuaWZlc3Q6IHtcbiAgICAgIHdpZGdldFR5cGU6IFdpZGdldFR5cGUuTGF5b3V0LFxuICAgICAgcHJvcGVydGllczoge30sXG4gICAgfSxcbiAgfTtcbiAgY29uc3QgZGVmYXVsdFBhZGRpbmcgPSAxMDtcblxuICByZXR1cm4gYWRkSXRlbVRvTGF5b3V0KFxuICAgIGFwcENvbmZpZ0FjdGlvbi5hcHBDb25maWcsXG4gICAgcm93V2lkZ2V0SW5mbyBhcyBMYXlvdXRJdGVtQ29uc3RydWN0b3JQcm9wcyxcbiAgICBwYXJlbnRMYXlvdXRJbmZvLFxuICAgIGNvbnRhaW5lclJlY3QsXG4gICAgaXRlbVJlY3QsXG4gICAgaW5zZXJ0SW5kZXhcbiAgKS50aGVuKHJlc3VsdCA9PiB7XG4gICAgbGV0IHsgdXBkYXRlZEFwcENvbmZpZyB9ID0gcmVzdWx0O1xuICAgIGNvbnN0IGxheW91dEl0ZW0gPSBzZWFyY2hVdGlscy5maW5kTGF5b3V0SXRlbSh1cGRhdGVkQXBwQ29uZmlnLCByZXN1bHQubGF5b3V0SW5mbyk7XG4gICAgY29uc3Qgd2lkZ2V0SnNvbiA9IHVwZGF0ZWRBcHBDb25maWcud2lkZ2V0c1tsYXlvdXRJdGVtLndpZGdldElkXTtcbiAgICBjb25zdCBsYXlvdXROYW1lID0gT2JqZWN0LmtleXMod2lkZ2V0SnNvbi5sYXlvdXRzKVswXTtcbiAgICBjb25zdCByb3dMYXlvdXRzID0gd2lkZ2V0SnNvbi5sYXlvdXRzW2xheW91dE5hbWVdO1xuICAgIGNvbnN0IGxheW91dElkID0gc2VhcmNoVXRpbHMuZmluZExheW91dElkKFxuICAgICAgcm93TGF5b3V0cyBhcyBJTVNpemVNb2RlTGF5b3V0SnNvbixcbiAgICAgIGdldEFwcFN0b3JlKCkuZ2V0U3RhdGUoKS5icm93c2VyU2l6ZU1vZGUsXG4gICAgICB1cGRhdGVkQXBwQ29uZmlnLm1haW5TaXplTW9kZVxuICAgICk7XG4gICAgLy8gdXBkYXRlIHdpZGdldCBsYWJlbCB0byBibG9ja1xuICAgIGNvbnN0IGJsb2NrTGFiZWwgPSBpMThuLmdldEludGwoKS5mb3JtYXRNZXNzYWdlKHtpZDogJ2Jsb2NrJ30pO1xuICAgIGNvbnN0IHdpZGdldExhYmVsID0gYXBwQ29uZmlnVXRpbHMuZ2V0VW5pcXVlTGFiZWwodXBkYXRlZEFwcENvbmZpZywgJ3dpZGdldCcsIGJsb2NrTGFiZWwpO1xuICAgIHVwZGF0ZWRBcHBDb25maWcgPSB1cGRhdGVkQXBwQ29uZmlnLnNldEluKFsnd2lkZ2V0cycsIHdpZGdldEpzb24uaWQsICdsYWJlbCddLCB3aWRnZXRMYWJlbCk7XG5cbiAgICB1cGRhdGVkQXBwQ29uZmlnID0gdXBkYXRlZEFwcENvbmZpZ1xuICAgICAgLnNldEluKFsnbGF5b3V0cycsIHBhcmVudExheW91dEluZm8ubGF5b3V0SWQsICdjb250ZW50JywgbGF5b3V0SXRlbS5pZCwgJ3NldHRpbmcnLCAnaGVpZ2h0TW9kZSddLCAnZml4ZWQnKVxuICAgICAgLnNldEluKFxuICAgICAgICBbJ2xheW91dHMnLCBwYXJlbnRMYXlvdXRJbmZvLmxheW91dElkLCAnY29udGVudCcsIGxheW91dEl0ZW0uaWQsICdiYm94JywgJ2hlaWdodCddLFxuICAgICAgICBpdGVtUmVjdC5oZWlnaHQgKyBkZWZhdWx0UGFkZGluZyAqIDJcbiAgICAgICk7XG5cbiAgICBjb25zdCBoZWlnaHQgPSBNYXRoLnJvdW5kKE1hdGgubWluKGl0ZW1SZWN0LmhlaWdodCwgY29udGFpbmVyUmVjdC5oZWlnaHQpKTtcbiAgICByZXR1cm4gYWRkSXRlbVRvTGF5b3V0KFxuICAgICAgdXBkYXRlZEFwcENvbmZpZyxcbiAgICAgIGRyYWdnaW5nSXRlbSxcbiAgICAgIHtcbiAgICAgICAgbGF5b3V0SWQsXG4gICAgICB9LFxuICAgICAgY29udGFpbmVyUmVjdCxcbiAgICAgIHsgd2lkdGgsIGhlaWdodCwgbGVmdDogMCB9IGFzIENsaWVudFJlY3QsXG4gICAgICAwXG4gICAgKTtcbiAgfSkudGhlbihyZXN1bHQgPT4ge1xuICAgIGNvbnN0IHsgbGF5b3V0SW5mbywgdXBkYXRlZEFwcENvbmZpZyB9ID0gcmVzdWx0O1xuICAgIGFwcENvbmZpZ0FjdGlvbiA9IGdldEFwcENvbmZpZ0FjdGlvbih1cGRhdGVkQXBwQ29uZmlnKTtcbiAgICBhcHBDb25maWdBY3Rpb24uZWRpdExheW91dEl0ZW1TZXR0aW5nKGxheW91dEluZm8sIHtcbiAgICAgIGhlaWdodE1vZGU6ICdmaXQnLFxuICAgIH0pO1xuICAgIGlmICh3aW5kb3cuamltdUNvbmZpZy5pc0J1aWxkZXIpIHtcbiAgICAgIGdldEFwcENvbmZpZ0FjdGlvbihhcHBDb25maWdBY3Rpb24uYXBwQ29uZmlnKS5leGVjKCk7XG4gICAgICBidWlsZGVyQXBwU3luYy5wdWJsaXNoQ2hhbmdlU2VsZWN0aW9uVG9BcHAobGF5b3V0SW5mbyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGdldEFwcFN0b3JlKCkuZGlzcGF0Y2goYXBwQWN0aW9ucy5sYXlvdXRDaGFuZ2VkKGFwcENvbmZpZ0FjdGlvbi5hcHBDb25maWcsIGxheW91dEluZm8pKTtcbiAgICB9XG4gIH0pO1xufSJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQW9CQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBT0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUVBOztBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUtBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBUUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7O0FBUUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBUUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQU1BO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFPQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFRQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBUUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUUE7QUFFQTs7Ozs7Ozs7O0FBU0E7QUFDQTtBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFJQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./jimu-layouts/lib/builder/common-layout-actions.ts\n");

/***/ }),

/***/ "./jimu-layouts/lib/builder/common-layout-item-setting.tsx":
/*!*****************************************************************!*\
  !*** ./jimu-layouts/lib/builder/common-layout-item-setting.tsx ***!
  \*****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jimu_core__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui/advanced/setting-components */ \"jimu-ui/advanced/setting-components\");\n/* harmony import */ var jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var jimu_for_builder__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-for-builder */ \"jimu-for-builder\");\n/* harmony import */ var jimu_for_builder__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jimu_for_builder__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var jimu_ui_advanced_style_setting_components__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-ui/advanced/style-setting-components */ \"jimu-ui/advanced/style-setting-components\");\n/* harmony import */ var jimu_ui_advanced_style_setting_components__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(jimu_ui_advanced_style_setting_components__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _animation_setting__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./animation-setting */ \"./jimu-layouts/lib/builder/animation-setting.tsx\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/** @jsx jsx */\n\n\n\n\n\nvar CommonLayoutItemSetting = /** @class */ (function (_super) {\n    __extends(CommonLayoutItemSetting, _super);\n    function CommonLayoutItemSetting() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.onBackgroundStyleChange = function (config) {\n            var _a, _b;\n            var background = Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"Immutable\"])((_b = (_a = _this.props.style) === null || _a === void 0 ? void 0 : _a.background) !== null && _b !== void 0 ? _b : {});\n            for (var key in config) {\n                switch (key) {\n                    case 'fillType':\n                        if (background.fillType !== config[key]) {\n                            background = background.set('fillType', config[key]);\n                        }\n                        break;\n                    case 'color':\n                        background = background.set('color', config[key]);\n                        break;\n                    case 'image':\n                        background = background.set('image', config[key]);\n                        break;\n                }\n            }\n            _this.updateStyle('background', background);\n        };\n        _this.updateBorder = function (bd) {\n            _this.updateStyle('border', bd);\n        };\n        _this.updateRadius = function (value) {\n            _this.updateStyle('borderRadius', value);\n        };\n        _this.updateShadow = function (value) {\n            _this.updateStyle('boxShadow', value);\n        };\n        _this.formatMessage = function (id) {\n            return _this.props.formatMessage(id);\n        };\n        return _this;\n    }\n    CommonLayoutItemSetting.prototype.updateStyle = function (key, value) {\n        var _a;\n        var style = Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"Immutable\"])((_a = this.props.style) !== null && _a !== void 0 ? _a : {});\n        this.props.onStyleChange({\n            layoutId: this.props.layoutId,\n            layoutItemId: this.props.layoutItemId,\n        }, style.set(key, value));\n    };\n    CommonLayoutItemSetting.prototype.allowCoverBackground = function () {\n        var _a, _b, _c;\n        var _d = this.props, layoutId = _d.layoutId, layoutItemId = _d.layoutItemId;\n        var appConfig = Object(jimu_for_builder__WEBPACK_IMPORTED_MODULE_2__[\"getAppConfigAction\"])().appConfig;\n        var layoutItem = appConfig.layouts[layoutId].content[layoutItemId];\n        if (layoutItem.type === jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"LayoutItemType\"].Widget) {\n            var widgetId = layoutItem.widgetId;\n            return (_c = (_b = (_a = appConfig.widgets[widgetId]) === null || _a === void 0 ? void 0 : _a.manifest) === null || _b === void 0 ? void 0 : _b.properties) === null || _c === void 0 ? void 0 : _c.coverLayoutBackground;\n        }\n        return false;\n    };\n    CommonLayoutItemSetting.prototype.render = function () {\n        var _a = this.props, layoutId = _a.layoutId, layoutItemId = _a.layoutItemId;\n        var style = this.props.style || {};\n        return (Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"common-layout-item-setting\" },\n            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_animation_setting__WEBPACK_IMPORTED_MODULE_4__[\"default\"], { layoutId: layoutId, layoutItemId: layoutItemId, onSettingChange: this.props.onSettingChange, formatMessage: this.props.formatMessage }),\n            !this.props.isSection && !this.allowCoverBackground() && Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_1__[\"SettingSection\"], { title: this.formatMessage('background') },\n                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_1__[\"SettingRow\"], null,\n                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui_advanced_style_setting_components__WEBPACK_IMPORTED_MODULE_3__[\"BackgroundSetting\"], { background: style.background, onChange: this.onBackgroundStyleChange }))),\n            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_1__[\"SettingSection\"], { title: this.formatMessage('border') },\n                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_1__[\"SettingRow\"], { flow: \"wrap\" },\n                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui_advanced_style_setting_components__WEBPACK_IMPORTED_MODULE_3__[\"BorderSetting\"], { value: style.border, onChange: this.updateBorder })),\n                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_1__[\"SettingRow\"], { label: this.formatMessage('borderRadius'), flow: \"wrap\" },\n                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui_advanced_style_setting_components__WEBPACK_IMPORTED_MODULE_3__[\"BorderRadiusSetting\"], { value: style.borderRadius, onChange: this.updateRadius }))),\n            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_1__[\"SettingSection\"], { title: this.formatMessage('boxShadow') },\n                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_1__[\"SettingRow\"], { flow: \"wrap\" },\n                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui_advanced_style_setting_components__WEBPACK_IMPORTED_MODULE_3__[\"BoxShadowSetting\"], { value: style.boxShadow, onChange: this.updateShadow })))));\n    };\n    return CommonLayoutItemSetting;\n}(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].PureComponent));\n/* harmony default export */ __webpack_exports__[\"default\"] = (CommonLayoutItemSetting);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWxheW91dHMvbGliL2J1aWxkZXIvY29tbW9uLWxheW91dC1pdGVtLXNldHRpbmcudHN4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vamltdS1sYXlvdXRzL2xpYi9idWlsZGVyL2NvbW1vbi1sYXlvdXQtaXRlbS1zZXR0aW5nLnRzeD80NGNhIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKiBAanN4IGpzeCAqL1xuaW1wb3J0IHtcbiAgUmVhY3QsXG4gIEltbXV0YWJsZSxcbiAgTGF5b3V0SW5mbyxcbiAganN4LFxuICBMYXlvdXRJdGVtVHlwZVxufSBmcm9tICdqaW11LWNvcmUnO1xuaW1wb3J0IHtcbiAgU2V0dGluZ1NlY3Rpb24sXG4gIFNldHRpbmdSb3csXG59IGZyb20gJ2ppbXUtdWkvYWR2YW5jZWQvc2V0dGluZy1jb21wb25lbnRzJztcbmltcG9ydCB7IGdldEFwcENvbmZpZ0FjdGlvbiB9IGZyb20gJ2ppbXUtZm9yLWJ1aWxkZXInO1xuaW1wb3J0IHsgQm94U2hhZG93U2V0dGluZywgQm9yZGVyU2V0dGluZywgQmFja2dyb3VuZFNldHRpbmcsIEJvcmRlclJhZGl1c1NldHRpbmcgfSBmcm9tICdqaW11LXVpL2FkdmFuY2VkL3N0eWxlLXNldHRpbmctY29tcG9uZW50cyc7XG5pbXBvcnQgQW5pbWF0aW9uU2V0dGluZyBmcm9tICcuL2FuaW1hdGlvbi1zZXR0aW5nJztcblxuaW50ZXJmYWNlIEV4dHJhUHJvcHN7XG4gIGZvcm1hdE1lc3NhZ2U6IChpZDogc3RyaW5nKSA9PiBzdHJpbmc7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbW1vbkxheW91dEl0ZW1TZXR0aW5nIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudDx7XG4gIGxheW91dElkOiBzdHJpbmc7XG4gIGxheW91dEl0ZW1JZDogc3RyaW5nO1xuICBpc1NlY3Rpb246IGJvb2xlYW47XG4gIG9uU3R5bGVDaGFuZ2U6IChsYXlvdXRJbmZvOiBMYXlvdXRJbmZvLCBzdHlsZSkgPT4gdm9pZDtcbiAgb25TZXR0aW5nQ2hhbmdlPzogKGxheW91dEluZm86IExheW91dEluZm8sIHNldHRpbmcpID0+IHZvaWQ7XG4gIHN0eWxlOiBhbnk7XG4gIHNldHRpbmc/OiBhbnk7XG59ICYgRXh0cmFQcm9wcz4ge1xuICB1cGRhdGVTdHlsZShrZXksIHZhbHVlKSB7XG4gICAgY29uc3Qgc3R5bGUgPSBJbW11dGFibGUodGhpcy5wcm9wcy5zdHlsZSA/PyB7fSk7XG4gICAgdGhpcy5wcm9wcy5vblN0eWxlQ2hhbmdlKFxuICAgICAge1xuICAgICAgICBsYXlvdXRJZDogdGhpcy5wcm9wcy5sYXlvdXRJZCxcbiAgICAgICAgbGF5b3V0SXRlbUlkOiB0aGlzLnByb3BzLmxheW91dEl0ZW1JZCxcbiAgICAgIH0sXG4gICAgICBzdHlsZS5zZXQoa2V5LCB2YWx1ZSksXG4gICAgKTtcbiAgfVxuXG4gIG9uQmFja2dyb3VuZFN0eWxlQ2hhbmdlID0gKGNvbmZpZykgPT4ge1xuICAgIGxldCBiYWNrZ3JvdW5kID0gSW1tdXRhYmxlKHRoaXMucHJvcHMuc3R5bGU/LmJhY2tncm91bmQgPz8ge30pO1xuICAgIGZvciAoY29uc3Qga2V5IGluIGNvbmZpZykge1xuICAgICAgc3dpdGNoIChrZXkpIHtcbiAgICAgICAgY2FzZSAnZmlsbFR5cGUnOlxuICAgICAgICAgIGlmIChiYWNrZ3JvdW5kLmZpbGxUeXBlICE9PSBjb25maWdba2V5XSkge1xuICAgICAgICAgICAgYmFja2dyb3VuZCA9IGJhY2tncm91bmQuc2V0KCdmaWxsVHlwZScsIGNvbmZpZ1trZXldKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2NvbG9yJzpcbiAgICAgICAgICBiYWNrZ3JvdW5kID0gYmFja2dyb3VuZC5zZXQoJ2NvbG9yJywgY29uZmlnW2tleV0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdpbWFnZSc6XG4gICAgICAgICAgYmFja2dyb3VuZCA9IGJhY2tncm91bmQuc2V0KCdpbWFnZScsIGNvbmZpZ1trZXldKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy51cGRhdGVTdHlsZSgnYmFja2dyb3VuZCcsIGJhY2tncm91bmQpO1xuICB9XG5cbiAgdXBkYXRlQm9yZGVyID0gKGJkKSA9PiB7XG4gICAgdGhpcy51cGRhdGVTdHlsZSgnYm9yZGVyJywgYmQpO1xuICB9XG5cbiAgdXBkYXRlUmFkaXVzID0gKHZhbHVlKSA9PiB7XG4gICAgdGhpcy51cGRhdGVTdHlsZSgnYm9yZGVyUmFkaXVzJywgdmFsdWUpO1xuICB9XG5cbiAgdXBkYXRlU2hhZG93ID0gKHZhbHVlKSA9PiB7XG4gICAgdGhpcy51cGRhdGVTdHlsZSgnYm94U2hhZG93JywgdmFsdWUpO1xuICB9XG5cbiAgZm9ybWF0TWVzc2FnZSA9IChpZDogc3RyaW5nKSA9PiB7XG4gICAgcmV0dXJuIHRoaXMucHJvcHMuZm9ybWF0TWVzc2FnZShpZCk7XG4gIH1cblxuICBhbGxvd0NvdmVyQmFja2dyb3VuZCgpIHtcbiAgICBjb25zdCB7IGxheW91dElkLCBsYXlvdXRJdGVtSWQgfSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3QgYXBwQ29uZmlnID0gZ2V0QXBwQ29uZmlnQWN0aW9uKCkuYXBwQ29uZmlnO1xuICAgIGNvbnN0IGxheW91dEl0ZW0gPSBhcHBDb25maWcubGF5b3V0c1tsYXlvdXRJZF0uY29udGVudFtsYXlvdXRJdGVtSWRdO1xuICAgIGlmIChsYXlvdXRJdGVtLnR5cGUgPT09IExheW91dEl0ZW1UeXBlLldpZGdldCkge1xuICAgICAgY29uc3Qgd2lkZ2V0SWQgPSBsYXlvdXRJdGVtLndpZGdldElkO1xuICAgICAgcmV0dXJuIGFwcENvbmZpZy53aWRnZXRzW3dpZGdldElkXT8ubWFuaWZlc3Q/LnByb3BlcnRpZXM/LmNvdmVyTGF5b3V0QmFja2dyb3VuZDtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHtsYXlvdXRJZCwgbGF5b3V0SXRlbUlkLH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IHN0eWxlID0gdGhpcy5wcm9wcy5zdHlsZSB8fCB7fTtcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbW1vbi1sYXlvdXQtaXRlbS1zZXR0aW5nXCI+XG4gICAgICAgIDxBbmltYXRpb25TZXR0aW5nXG4gICAgICAgICAgbGF5b3V0SWQ9e2xheW91dElkfVxuICAgICAgICAgIGxheW91dEl0ZW1JZD17bGF5b3V0SXRlbUlkfVxuICAgICAgICAgIG9uU2V0dGluZ0NoYW5nZT17dGhpcy5wcm9wcy5vblNldHRpbmdDaGFuZ2V9XG4gICAgICAgICAgZm9ybWF0TWVzc2FnZT17dGhpcy5wcm9wcy5mb3JtYXRNZXNzYWdlfVxuICAgICAgICAvPlxuICAgICAgICB7IXRoaXMucHJvcHMuaXNTZWN0aW9uICYmICF0aGlzLmFsbG93Q292ZXJCYWNrZ3JvdW5kKCkgJiYgPFNldHRpbmdTZWN0aW9uIHRpdGxlPXt0aGlzLmZvcm1hdE1lc3NhZ2UoJ2JhY2tncm91bmQnKX0+XG4gICAgICAgICAgPFNldHRpbmdSb3c+XG4gICAgICAgICAgICA8QmFja2dyb3VuZFNldHRpbmdcbiAgICAgICAgICAgICAgYmFja2dyb3VuZD17c3R5bGUuYmFja2dyb3VuZH1cbiAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25CYWNrZ3JvdW5kU3R5bGVDaGFuZ2V9IC8+XG4gICAgICAgICAgPC9TZXR0aW5nUm93PlxuICAgICAgICA8L1NldHRpbmdTZWN0aW9uPn1cbiAgICAgICAgPFNldHRpbmdTZWN0aW9uIHRpdGxlPXt0aGlzLmZvcm1hdE1lc3NhZ2UoJ2JvcmRlcicpfT5cbiAgICAgICAgICA8U2V0dGluZ1JvdyBmbG93PVwid3JhcFwiPlxuICAgICAgICAgICAgPEJvcmRlclNldHRpbmcgdmFsdWU9e3N0eWxlLmJvcmRlcn0gb25DaGFuZ2U9e3RoaXMudXBkYXRlQm9yZGVyfSAvPlxuICAgICAgICAgIDwvU2V0dGluZ1Jvdz5cbiAgICAgICAgICA8U2V0dGluZ1JvdyBsYWJlbD17dGhpcy5mb3JtYXRNZXNzYWdlKCdib3JkZXJSYWRpdXMnKX0gZmxvdz1cIndyYXBcIj5cbiAgICAgICAgICAgIHsvKiA8Rm91clNpZGVzIHNpZGVzPXtib3JkZXJTaWRlc30gdmFsdWU9e3N0eWxlLmJvcmRlclJhZGl1c30gb25DaGFuZ2U9e3RoaXMudXBkYXRlUmFkaXVzfSAvPiAqL31cbiAgICAgICAgICAgIDxCb3JkZXJSYWRpdXNTZXR0aW5nIHZhbHVlPXtzdHlsZS5ib3JkZXJSYWRpdXN9IG9uQ2hhbmdlPXt0aGlzLnVwZGF0ZVJhZGl1c30+PC9Cb3JkZXJSYWRpdXNTZXR0aW5nPlxuICAgICAgICAgIDwvU2V0dGluZ1Jvdz5cbiAgICAgICAgPC9TZXR0aW5nU2VjdGlvbj5cbiAgICAgICAgPFNldHRpbmdTZWN0aW9uIHRpdGxlPXt0aGlzLmZvcm1hdE1lc3NhZ2UoJ2JveFNoYWRvdycpfT5cbiAgICAgICAgICA8U2V0dGluZ1JvdyBmbG93PVwid3JhcFwiPlxuICAgICAgICAgICAgPEJveFNoYWRvd1NldHRpbmcgdmFsdWU9e3N0eWxlLmJveFNoYWRvd30gb25DaGFuZ2U9e3RoaXMudXBkYXRlU2hhZG93fSAvPlxuICAgICAgICAgIDwvU2V0dGluZ1Jvdz5cbiAgICAgICAgPC9TZXR0aW5nU2VjdGlvbj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBT0E7QUFJQTtBQUNBO0FBQ0E7QUFNQTtBQUFBO0FBQUE7QUFBQTtBQW9CQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7O0FBaURBO0FBOUZBOztBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFHQTtBQXNDQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBTUE7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUdBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFBQTs7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./jimu-layouts/lib/builder/common-layout-item-setting.tsx\n");

/***/ }),

/***/ "./jimu-layouts/lib/builder/common-transform-setting.tsx":
/*!***************************************************************!*\
  !*** ./jimu-layouts/lib/builder/common-transform-setting.tsx ***!
  \***************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jimu_core__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui/advanced/setting-components */ \"jimu-ui/advanced/setting-components\");\n/* harmony import */ var jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-ui */ \"jimu-ui\");\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jimu_ui__WEBPACK_IMPORTED_MODULE_2__);\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/** @jsx jsx */\n\n\n\nvar CommonLayoutItemSetting = /** @class */ (function (_super) {\n    __extends(CommonLayoutItemSetting, _super);\n    function CommonLayoutItemSetting() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.updateRotation = function (value) {\n            var _a;\n            var setting = Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"Immutable\"])((_a = _this.props.setting) !== null && _a !== void 0 ? _a : {});\n            _this.props.onSettingChange({\n                layoutId: _this.props.layoutId,\n                layoutItemId: _this.props.layoutItemId,\n            }, setting.setIn(['style', 'transform', 'rotate'], value));\n        };\n        _this.formatMessage = function (id) {\n            return _this.props.formatMessage(id);\n        };\n        return _this;\n    }\n    CommonLayoutItemSetting.prototype.render = function () {\n        var _a, _b, _c;\n        var setting = this.props.setting || {};\n        return (Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_1__[\"SettingRow\"], { label: this.formatMessage('rotation'), className: \"rotation-setting\" },\n            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_2__[\"NumericInput\"], { value: (_c = (_b = (_a = setting.style) === null || _a === void 0 ? void 0 : _a.transform) === null || _b === void 0 ? void 0 : _b.rotate) !== null && _c !== void 0 ? _c : 0, min: -360, max: 360, onChange: this.updateRotation, formatter: function (value) { return value + \"\\u00B0\"; }, parser: function (value) { return value.replace('°', ''); }, style: { width: '7.5rem' }, size: \"sm\" })));\n    };\n    return CommonLayoutItemSetting;\n}(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].PureComponent));\n/* harmony default export */ __webpack_exports__[\"default\"] = (CommonLayoutItemSetting);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWxheW91dHMvbGliL2J1aWxkZXIvY29tbW9uLXRyYW5zZm9ybS1zZXR0aW5nLnRzeC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2ppbXUtbGF5b3V0cy9saWIvYnVpbGRlci9jb21tb24tdHJhbnNmb3JtLXNldHRpbmcudHN4PzE5YWIiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqIEBqc3gganN4ICovXG5pbXBvcnQge1xuICBSZWFjdCxcbiAgSW1tdXRhYmxlLFxuICBMYXlvdXRJbmZvLFxuICBqc3gsXG59IGZyb20gJ2ppbXUtY29yZSc7XG5pbXBvcnQge1xuICBTZXR0aW5nUm93LFxufSBmcm9tICdqaW11LXVpL2FkdmFuY2VkL3NldHRpbmctY29tcG9uZW50cyc7XG5pbXBvcnQgeyBOdW1lcmljSW5wdXQgfSBmcm9tICdqaW11LXVpJztcblxuaW50ZXJmYWNlIEV4dHJhUHJvcHN7XG4gIGZvcm1hdE1lc3NhZ2U6IChpZDogc3RyaW5nKSA9PiBzdHJpbmc7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbW1vbkxheW91dEl0ZW1TZXR0aW5nIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudDx7XG4gIGxheW91dElkOiBzdHJpbmc7XG4gIGxheW91dEl0ZW1JZDogc3RyaW5nO1xuICBvblNldHRpbmdDaGFuZ2U/OiAobGF5b3V0SW5mbzogTGF5b3V0SW5mbywgc2V0dGluZykgPT4gdm9pZDtcbiAgc2V0dGluZzogYW55O1xufSAmIEV4dHJhUHJvcHM+IHtcbiAgdXBkYXRlUm90YXRpb24gPSAodmFsdWUpID0+IHtcbiAgICBjb25zdCBzZXR0aW5nID0gSW1tdXRhYmxlKHRoaXMucHJvcHMuc2V0dGluZyA/PyB7fSk7XG4gICAgdGhpcy5wcm9wcy5vblNldHRpbmdDaGFuZ2UoXG4gICAgICB7XG4gICAgICAgIGxheW91dElkOiB0aGlzLnByb3BzLmxheW91dElkLFxuICAgICAgICBsYXlvdXRJdGVtSWQ6IHRoaXMucHJvcHMubGF5b3V0SXRlbUlkLFxuICAgICAgfSxcbiAgICAgIHNldHRpbmcuc2V0SW4oWydzdHlsZScsICd0cmFuc2Zvcm0nLCAncm90YXRlJ10sIHZhbHVlKVxuICAgICk7XG4gIH1cblxuICBmb3JtYXRNZXNzYWdlID0gKGlkOiBzdHJpbmcpID0+IHtcbiAgICByZXR1cm4gdGhpcy5wcm9wcy5mb3JtYXRNZXNzYWdlKGlkKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBzZXR0aW5nID0gdGhpcy5wcm9wcy5zZXR0aW5nIHx8IHt9O1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxTZXR0aW5nUm93IGxhYmVsPXt0aGlzLmZvcm1hdE1lc3NhZ2UoJ3JvdGF0aW9uJyl9IGNsYXNzTmFtZT1cInJvdGF0aW9uLXNldHRpbmdcIj5cbiAgICAgICAgPE51bWVyaWNJbnB1dCB2YWx1ZT17c2V0dGluZy5zdHlsZT8udHJhbnNmb3JtPy5yb3RhdGUgPz8gMH0gbWluPXstMzYwfSBtYXg9ezM2MH1cbiAgICAgICAgICBvbkNoYW5nZT17dGhpcy51cGRhdGVSb3RhdGlvbn1cbiAgICAgICAgICBmb3JtYXR0ZXI9e3ZhbHVlID0+IGAke3ZhbHVlfcKwYH1cbiAgICAgICAgICBwYXJzZXI9e3ZhbHVlID0+IHZhbHVlLnJlcGxhY2UoJ8KwJywgJycpfVxuICAgICAgICAgIHN0eWxlPXt7d2lkdGg6ICc3LjVyZW0nfX1cbiAgICAgICAgICBzaXplPVwic21cIi8+XG4gICAgICA8L1NldHRpbmdSb3c+XG4gICAgKTtcbiAgfVxufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFNQTtBQUdBO0FBTUE7QUFBQTtBQUFBO0FBQUE7QUFNQTs7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7O0FBZ0JBO0FBZEE7O0FBQ0E7QUFFQTtBQUVBO0FBUUE7QUFDQTtBQUFBOzsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./jimu-layouts/lib/builder/common-transform-setting.tsx\n");

/***/ }),

/***/ "./jimu-layouts/lib/builder/context-menu.tsx":
/*!***************************************************!*\
  !*** ./jimu-layouts/lib/builder/context-menu.tsx ***!
  \***************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jimu_core__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ \"jimu-ui\");\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jimu_ui__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-layouts/layout-runtime */ \"jimu-layouts/layout-runtime\");\n/* harmony import */ var jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _toolbar__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./toolbar */ \"./jimu-layouts/lib/builder/toolbar.tsx\");\n/* harmony import */ var _translations_default__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../translations/default */ \"./jimu-layouts/lib/translations/default.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __makeTemplateObject = (undefined && undefined.__makeTemplateObject) || function (cooked, raw) {\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n    return cooked;\n};\n/** @jsx jsx */\n\n\n\n\n\nvar moreIcon = __webpack_require__(/*! jimu-ui/lib/icons/more-horizontal.svg */ \"./jimu-ui/lib/icons/more-horizontal.svg\");\nvar ContextMenu = /** @class */ (function (_super) {\n    __extends(ContextMenu, _super);\n    function ContextMenu() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = { showMenus: false };\n        _this.formatMessage = function (id) {\n            if (_this.props.intl) {\n                return _this.props.intl.formatMessage({ id: id, defaultMessage: _translations_default__WEBPACK_IMPORTED_MODULE_4__[\"default\"][id] });\n            }\n            return _translations_default__WEBPACK_IMPORTED_MODULE_4__[\"default\"][id];\n        };\n        _this.showContextMenu = function () {\n            _this.setState({ showMenus: true });\n        };\n        _this.hideContextMenu = function () {\n            _this.setState({ showMenus: false });\n        };\n        return _this;\n    }\n    ContextMenu.prototype.getPositionStyle = function () {\n        var positionType = this.props.positionType;\n        if (positionType === 'left') {\n            return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n        position: absolute;\\n        top: 0;\\n        left: 0;\\n      \"], [\"\\n        position: absolute;\\n        top: 0;\\n        left: 0;\\n      \"])));\n        }\n        if (positionType === 'center') {\n            return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_2 || (templateObject_2 = __makeTemplateObject([\"\\n        position: absolute;\\n        top: 0;\\n        left: 50%;\\n        transform: translateX(-50%);\\n      \"], [\"\\n        position: absolute;\\n        top: 0;\\n        left: 50%;\\n        transform: translateX(-50%);\\n      \"])));\n        }\n        return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_3 || (templateObject_3 = __makeTemplateObject([\"\\n      position: absolute;\\n      top: 0;\\n      left: right;\\n    \"], [\"\\n      position: absolute;\\n      top: 0;\\n      left: right;\\n    \"])));\n    };\n    ContextMenu.prototype.getStyle = function () {\n        var _a = this.props, size = _a.size, builderTheme = _a.builderTheme;\n        return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_4 || (templateObject_4 = __makeTemplateObject([\"\\n      \", \";\\n      display: flex;\\n      width: \", \"px;\\n      height: 10px;\\n      justify-content: center;\\n      align-items: center;\\n      transition: all 100ms;\\n      z-index: \", \";\\n      background-color: \", \";\\n\\n      .menu-hint {\\n        height: 10px;\\n        display: flex;\\n        justify-content: center;\\n        align-items: center;\\n        cursor: pointer;\\n        line-height: 10px;\\n      }\\n\\n      .menu-content {\\n        display: none;\\n\\n        .drag-handler {\\n          cursor: move;\\n        }\\n      }\\n\\n      &:hover {\\n        height: \", \"px;\\n        width: auto;\\n\\n        .menu-hint {\\n          display: none;\\n        }\\n\\n        .menu-content {\\n          display: flex;\\n        }\\n      }\\n    \"], [\"\\n      \", \";\\n      display: flex;\\n      width: \", \"px;\\n      height: 10px;\\n      justify-content: center;\\n      align-items: center;\\n      transition: all 100ms;\\n      z-index: \", \";\\n      background-color: \", \";\\n\\n      .menu-hint {\\n        height: 10px;\\n        display: flex;\\n        justify-content: center;\\n        align-items: center;\\n        cursor: pointer;\\n        line-height: 10px;\\n      }\\n\\n      .menu-content {\\n        display: none;\\n\\n        .drag-handler {\\n          cursor: move;\\n        }\\n      }\\n\\n      &:hover {\\n        height: \", \"px;\\n        width: auto;\\n\\n        .menu-hint {\\n          display: none;\\n        }\\n\\n        .menu-content {\\n          display: flex;\\n        }\\n      }\\n    \"])), this.getPositionStyle(), size, jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_2__[\"LayoutZIndex\"].HandlerTools, builderTheme.colors.palette.light[300], size);\n    };\n    ContextMenu.prototype.render = function () {\n        var _this = this;\n        var _a = this.props, builderTheme = _a.builderTheme, menuItems = _a.menuItems, layoutId = _a.layoutId, layoutItem = _a.layoutItem;\n        return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"widget-context-menu\", ref: function (el) { return (_this.ref = el); }, css: this.getStyle(), onMouseLeave: this.hideContextMenu },\n            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"menu-hint\", onMouseEnter: this.showContextMenu },\n                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"Icon\"], { icon: moreIcon, color: builderTheme.colors.black, size: 16 })),\n            this.state.showMenus && Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"menu-content\" },\n                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_toolbar__WEBPACK_IMPORTED_MODULE_3__[\"Toolbar\"], { layoutId: layoutId, layoutItem: layoutItem, theme: builderTheme, parentRef: this.ref, tools: menuItems, formatMessage: this.formatMessage })),\n            this.props.children);\n    };\n    return ContextMenu;\n}(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].PureComponent));\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"injectIntl\"])(ContextMenu));\nvar templateObject_1, templateObject_2, templateObject_3, templateObject_4;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWxheW91dHMvbGliL2J1aWxkZXIvY29udGV4dC1tZW51LnRzeC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2ppbXUtbGF5b3V0cy9saWIvYnVpbGRlci9jb250ZXh0LW1lbnUudHN4PzEzMWYiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqIEBqc3gganN4ICovXG5pbXBvcnQge1xuICBSZWFjdCxcbiAganN4LFxuICBjc3MsXG4gIElNVGhlbWVWYXJpYWJsZXMsXG4gIElNTGF5b3V0SXRlbUpzb24sXG4gIGluamVjdEludGwsXG4gIEludGxTaGFwZSxcbn0gZnJvbSAnamltdS1jb3JlJztcbmltcG9ydCB7IEljb24gfSBmcm9tICdqaW11LXVpJztcbmltcG9ydCB7IFRvb2xiYXJDb25maWcsIExheW91dFpJbmRleCB9IGZyb20gJ2ppbXUtbGF5b3V0cy9sYXlvdXQtcnVudGltZSc7XG5pbXBvcnQgeyBUb29sYmFyIH0gZnJvbSAnLi90b29sYmFyJztcbmltcG9ydCBkZWZhdWx0TWVzc2FnZXMgZnJvbSAnLi4vdHJhbnNsYXRpb25zL2RlZmF1bHQnO1xuXG5jb25zdCBtb3JlSWNvbiA9IHJlcXVpcmUoJ2ppbXUtdWkvbGliL2ljb25zL21vcmUtaG9yaXpvbnRhbC5zdmcnKTtcblxuaW50ZXJmYWNlIFByb3BzIHtcbiAgbGF5b3V0SWQ6IHN0cmluZztcbiAgbGF5b3V0SXRlbTogSU1MYXlvdXRJdGVtSnNvbjtcbiAgYnVpbGRlclRoZW1lOiBJTVRoZW1lVmFyaWFibGVzO1xuICBwb3NpdGlvblR5cGU6ICdsZWZ0JyB8ICdjZW50ZXInIHwgJ3JpZ2h0JztcbiAgc2l6ZTogbnVtYmVyO1xuICBpY29uU2l6ZTogbnVtYmVyO1xuICBjbGFzc05hbWU6IHN0cmluZztcbiAgbWVudUl0ZW1zOiBUb29sYmFyQ29uZmlnO1xuICBjaGlsZHJlbj86IFJlYWN0LlJlYWN0Tm9kZTtcbn1cblxuaW50ZXJmYWNlIEludGxQcm9wcyB7XG4gIGludGw6IEludGxTaGFwZTtcbn1cblxuaW50ZXJmYWNlIFN0YXRlIHtcbiAgc2hvd01lbnVzOiBib29sZWFuO1xufVxuXG5jbGFzcyBDb250ZXh0TWVudSBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQ8UHJvcHMgJiBJbnRsUHJvcHMsIFN0YXRlPiB7XG4gIHJlZjogSFRNTERpdkVsZW1lbnQ7XG4gIHN0YXRlOiBTdGF0ZSA9IHsgc2hvd01lbnVzOiBmYWxzZSB9O1xuXG4gIGdldFBvc2l0aW9uU3R5bGUoKSB7XG4gICAgY29uc3QgeyBwb3NpdGlvblR5cGUgfSA9IHRoaXMucHJvcHM7XG4gICAgaWYgKHBvc2l0aW9uVHlwZSA9PT0gJ2xlZnQnKSB7XG4gICAgICByZXR1cm4gY3NzYFxuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgIHRvcDogMDtcbiAgICAgICAgbGVmdDogMDtcbiAgICAgIGA7XG4gICAgfVxuICAgIGlmIChwb3NpdGlvblR5cGUgPT09ICdjZW50ZXInKSB7XG4gICAgICByZXR1cm4gY3NzYFxuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgIHRvcDogMDtcbiAgICAgICAgbGVmdDogNTAlO1xuICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTUwJSk7XG4gICAgICBgO1xuICAgIH1cbiAgICByZXR1cm4gY3NzYFxuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgdG9wOiAwO1xuICAgICAgbGVmdDogcmlnaHQ7XG4gICAgYDtcbiAgfVxuXG4gIGdldFN0eWxlKCkge1xuICAgIGNvbnN0IHsgc2l6ZSwgYnVpbGRlclRoZW1lIH0gPSB0aGlzLnByb3BzO1xuICAgIHJldHVybiBjc3NgXG4gICAgICAke3RoaXMuZ2V0UG9zaXRpb25TdHlsZSgpfTtcbiAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICB3aWR0aDogJHtzaXplfXB4O1xuICAgICAgaGVpZ2h0OiAxMHB4O1xuICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgdHJhbnNpdGlvbjogYWxsIDEwMG1zO1xuICAgICAgei1pbmRleDogJHtMYXlvdXRaSW5kZXguSGFuZGxlclRvb2xzfTtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICR7YnVpbGRlclRoZW1lLmNvbG9ycy5wYWxldHRlLmxpZ2h0WzMwMF19O1xuXG4gICAgICAubWVudS1oaW50IHtcbiAgICAgICAgaGVpZ2h0OiAxMHB4O1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgICBsaW5lLWhlaWdodDogMTBweDtcbiAgICAgIH1cblxuICAgICAgLm1lbnUtY29udGVudCB7XG4gICAgICAgIGRpc3BsYXk6IG5vbmU7XG5cbiAgICAgICAgLmRyYWctaGFuZGxlciB7XG4gICAgICAgICAgY3Vyc29yOiBtb3ZlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgICY6aG92ZXIge1xuICAgICAgICBoZWlnaHQ6ICR7c2l6ZX1weDtcbiAgICAgICAgd2lkdGg6IGF1dG87XG5cbiAgICAgICAgLm1lbnUtaGludCB7XG4gICAgICAgICAgZGlzcGxheTogbm9uZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC5tZW51LWNvbnRlbnQge1xuICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICBgO1xuICB9XG5cbiAgZm9ybWF0TWVzc2FnZSA9IChpZDogc3RyaW5nKSA9PiB7XG4gICAgaWYgKHRoaXMucHJvcHMuaW50bCkge1xuICAgICAgcmV0dXJuIHRoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXNbaWRdIH0pO1xuICAgIH1cbiAgICByZXR1cm4gZGVmYXVsdE1lc3NhZ2VzW2lkXTtcbiAgfVxuXG4gIHNob3dDb250ZXh0TWVudSA9ICgpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHsgc2hvd01lbnVzOiB0cnVlIH0pO1xuICB9XG5cbiAgaGlkZUNvbnRleHRNZW51ID0gKCkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoeyBzaG93TWVudXM6IGZhbHNlIH0pO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgYnVpbGRlclRoZW1lLCBtZW51SXRlbXMsIGxheW91dElkLCBsYXlvdXRJdGVtIH0gPSB0aGlzLnByb3BzO1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cIndpZGdldC1jb250ZXh0LW1lbnVcIlxuICAgICAgcmVmPXtlbCA9PiAodGhpcy5yZWYgPSBlbCl9IGNzcz17dGhpcy5nZXRTdHlsZSgpfVxuICAgICAgb25Nb3VzZUxlYXZlPXt0aGlzLmhpZGVDb250ZXh0TWVudX0+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lbnUtaGludFwiIG9uTW91c2VFbnRlcj17dGhpcy5zaG93Q29udGV4dE1lbnV9PlxuICAgICAgICA8SWNvbiBpY29uPXttb3JlSWNvbn0gY29sb3I9e2J1aWxkZXJUaGVtZS5jb2xvcnMuYmxhY2t9IHNpemU9ezE2fSAvPlxuICAgICAgPC9kaXY+XG4gICAgICB7dGhpcy5zdGF0ZS5zaG93TWVudXMgJiYgPGRpdiBjbGFzc05hbWU9XCJtZW51LWNvbnRlbnRcIj5cbiAgICAgICAgPFRvb2xiYXJcbiAgICAgICAgICBsYXlvdXRJZD17bGF5b3V0SWR9XG4gICAgICAgICAgbGF5b3V0SXRlbT17bGF5b3V0SXRlbX1cbiAgICAgICAgICB0aGVtZT17YnVpbGRlclRoZW1lfVxuICAgICAgICAgIHBhcmVudFJlZj17dGhpcy5yZWZ9XG4gICAgICAgICAgdG9vbHM9e21lbnVJdGVtc31cbiAgICAgICAgICBmb3JtYXRNZXNzYWdlPXt0aGlzLmZvcm1hdE1lc3NhZ2V9XG4gICAgICAgIC8+XG4gICAgICA8L2Rpdj59XG4gICAgICB7dGhpcy5wcm9wcy5jaGlsZHJlbn1cbiAgICA8L2Rpdj47XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgaW5qZWN0SW50bChDb250ZXh0TWVudSk7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBc0JBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUF1RUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBOztBQXVCQTtBQXpHQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFLQTtBQUVBO0FBQ0E7QUFDQTtBQXlDQTtBQWlCQTtBQUFBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBU0E7QUFFQTtBQUNBO0FBQUE7QUFFQTs7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./jimu-layouts/lib/builder/context-menu.tsx\n");

/***/ }),

/***/ "./jimu-layouts/lib/builder/interactive/drag-event-handler.ts":
/*!********************************************************************!*\
  !*** ./jimu-layouts/lib/builder/interactive/drag-event-handler.ts ***!
  \********************************************************************/
/*! exports provided: GLOBAL_DRAGGING_CLASS_NAME, GLOBAL_H5_DRAGGING_CLASS_NAME, LIMITED_BOUNDARY_CLASS_NAME, bindDragHandler, setIsDragging, isDragging */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GLOBAL_DRAGGING_CLASS_NAME\", function() { return GLOBAL_DRAGGING_CLASS_NAME; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GLOBAL_H5_DRAGGING_CLASS_NAME\", function() { return GLOBAL_H5_DRAGGING_CLASS_NAME; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"LIMITED_BOUNDARY_CLASS_NAME\", function() { return LIMITED_BOUNDARY_CLASS_NAME; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"bindDragHandler\", function() { return bindDragHandler; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setIsDragging\", function() { return setIsDragging; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isDragging\", function() { return isDragging; });\n/* harmony import */ var jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-layouts/layout-runtime */ \"jimu-layouts/layout-runtime\");\n/* harmony import */ var jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_0__);\n\nvar GLOBAL_DRAGGING_CLASS_NAME = 'interactjs-dragging';\nvar GLOBAL_H5_DRAGGING_CLASS_NAME = 'exb-h5-dragging';\nvar LIMITED_BOUNDARY_CLASS_NAME = 'limited-drag-boundary';\nvar isItemDragging = false;\nfunction createDraggingPlaceholder(rect) {\n    var elem = document.createElement('div');\n    elem.setAttribute('id', 'interact_dragging_placeholder');\n    elem.style.position = 'fixed';\n    elem.style.left = rect.left + \"px\";\n    elem.style.top = rect.top + \"px\";\n    elem.style.width = rect.width + \"px\";\n    elem.style.height = rect.height + \"px\";\n    elem.style.backgroundColor = 'var(--primary-700)';\n    elem.style.opacity = '0.2';\n    elem.style.zIndex = '1100';\n    return elem;\n}\nfunction bindDragHandler(interactable, dragHandlerProps) {\n    if (!interactable) {\n        return null;\n    }\n    var dx;\n    var dy;\n    var targetRect;\n    var parentRect;\n    var originTransform;\n    var placeholderElement;\n    var rootLayoutId = dragHandlerProps.rootLayoutId, layoutItemId = dragHandlerProps.layoutItemId, useDragHandler = dragHandlerProps.useDragHandler, dragHandlerClassName = dragHandlerProps.dragHandlerClassName, onDragStart = dragHandlerProps.onDragStart, onDragging = dragHandlerProps.onDragging, onDragEnd = dragHandlerProps.onDragEnd;\n    return interactable\n        .styleCursor(false)\n        .draggable({\n        inertia: false,\n        autoScroll: false,\n        allowFrom: useDragHandler ? dragHandlerClassName : undefined,\n        ignoreFrom: '.no-drag-action',\n        onstart: function (event) {\n            var target = event.target;\n            if (target.classList.contains('no-drag-action')) {\n                event.target._canDrag = false;\n                return;\n            }\n            event.target._canDrag = true;\n            event.stopPropagation();\n            target.setAttribute('data-rootlayoutid', rootLayoutId());\n            originTransform = target.style.transform;\n            targetRect = event.rect;\n            var parent = event.target.parentNode;\n            parentRect = parent.getBoundingClientRect();\n            document.body.classList.add(GLOBAL_DRAGGING_CLASS_NAME);\n            // transform may be set in css classes\n            var computedTransform = getComputedStyle(target, null).getPropertyValue('transform');\n            var _a = parseTransform(computedTransform), tx = _a[0], ty = _a[1];\n            if (jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_0__[\"utils\"].isPercentage(tx)) {\n                dx = jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_0__[\"utils\"].fromRatio(tx, targetRect.width);\n            }\n            else {\n                dx = parseFloat(tx);\n            }\n            if (jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_0__[\"utils\"].isPercentage(ty)) {\n                dy = jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_0__[\"utils\"].fromRatio(ty, targetRect.height);\n            }\n            else {\n                dy = parseFloat(ty);\n            }\n            target.setAttribute('data-translatex', dx);\n            target.setAttribute('data-translatey', dy);\n            if (onDragStart) {\n                onDragStart(layoutItemId);\n            }\n        },\n        onmove: function (event) {\n            event.stopPropagation();\n            (dx += event.dx), (dy += event.dy);\n            var target = event.target;\n            var x = event.client.x;\n            var y = event.client.y;\n            var outOfBoundary = !(x >= 0 && x <= parentRect.width) || !(y >= 0 && y <= parentRect.height);\n            if (outOfBoundary && !placeholderElement) {\n                var currentRect = target.getBoundingClientRect();\n                placeholderElement = createDraggingPlaceholder(currentRect);\n                placeholderElement = document.body.appendChild(placeholderElement);\n                dx = 0;\n                dy = 0;\n                target.style.transform = originTransform;\n                target.style.visibility = 'hidden';\n                return;\n            }\n            var draggingElement = placeholderElement || target;\n            draggingElement.style.webkitTransform =\n                draggingElement.style.transform = \"translate(\" + Math.round(dx) + \"px, \" + Math.round(dy) + \"px) translateZ(0)\";\n            draggingElement.setAttribute('data-translatex', Math.round(dx));\n            draggingElement.setAttribute('data-translatey', Math.round(dy));\n            if (onDragging) {\n                onDragging(layoutItemId, dx, dy);\n            }\n        },\n        onend: function (event) {\n            event.stopPropagation();\n            var target = event.target;\n            document.body.classList.remove(GLOBAL_DRAGGING_CLASS_NAME);\n            if (placeholderElement) {\n                document.body.removeChild(placeholderElement);\n                placeholderElement = null;\n            }\n            target.style.visibility = null;\n            target.style.transform = originTransform;\n            if (onDragEnd) {\n                onDragEnd(layoutItemId, dx, dy);\n            }\n        },\n    });\n}\nfunction setIsDragging(value) {\n    isItemDragging = value;\n}\nfunction isDragging() {\n    return isItemDragging;\n}\nfunction parseTransform(transform) {\n    if (transform === void 0) { transform = ''; }\n    var dx = '0';\n    var dy = '0';\n    if (transform.indexOf('matrix(') >= 0) {\n        // matrix(a,b,c,d,e,f), e is translateX, f is translateY\n        var values = transform.substring(transform.indexOf('(') + 1, transform.indexOf(')')).split(',');\n        dx = parseInt(values[4], 10) + \"px\";\n        dy = parseInt(values[5], 10) + \"px\";\n        return [dx, dy];\n    }\n    if (transform.indexOf('translate(') >= 0) {\n        var match = transform.match(/translate\\((.*)\\s*,\\s*(.*)\\)/);\n        if (match.length === 3) {\n            dx = match[1];\n            dy = match[2];\n        }\n        return [dx, dy];\n    }\n    if (transform.indexOf('translateX(') >= 0) {\n        var match = transform.match(/translateX\\((.*)\\)/);\n        if (match.length === 2) {\n            dx = match[1];\n        }\n    }\n    if (transform.indexOf('translateY(') >= 0) {\n        var match = transform.match(/translateY\\((.*)\\)/);\n        if (match.length === 2) {\n            dy = match[1];\n        }\n    }\n    return [dx, dy];\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWxheW91dHMvbGliL2J1aWxkZXIvaW50ZXJhY3RpdmUvZHJhZy1ldmVudC1oYW5kbGVyLnRzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vamltdS1sYXlvdXRzL2xpYi9idWlsZGVyL2ludGVyYWN0aXZlL2RyYWctZXZlbnQtaGFuZGxlci50cz8yYTU2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IExheW91dEl0ZW1UeXBlIH0gZnJvbSAnamltdS1jb3JlJztcbmltcG9ydCB7IHV0aWxzIH0gZnJvbSAnamltdS1sYXlvdXRzL2xheW91dC1ydW50aW1lJztcblxuZXhwb3J0IGNvbnN0IEdMT0JBTF9EUkFHR0lOR19DTEFTU19OQU1FID0gJ2ludGVyYWN0anMtZHJhZ2dpbmcnO1xuZXhwb3J0IGNvbnN0IEdMT0JBTF9INV9EUkFHR0lOR19DTEFTU19OQU1FID0gJ2V4Yi1oNS1kcmFnZ2luZyc7XG5leHBvcnQgY29uc3QgTElNSVRFRF9CT1VOREFSWV9DTEFTU19OQU1FID0gJ2xpbWl0ZWQtZHJhZy1ib3VuZGFyeSc7XG5cbmxldCBpc0l0ZW1EcmFnZ2luZyA9IGZhbHNlO1xuXG5leHBvcnQgaW50ZXJmYWNlIERyYWdIYW5kbGVyUHJvcHMge1xuICByb290TGF5b3V0SWQ6ICgpID0+IHN0cmluZztcbiAgbGF5b3V0SWQ6IHN0cmluZztcbiAgbGF5b3V0SXRlbUlkOiBzdHJpbmc7XG4gIGl0ZW1UeXBlOiBMYXlvdXRJdGVtVHlwZTtcbiAgdXNlRHJhZ0hhbmRsZXI6IGJvb2xlYW47XG4gIGRyYWdIYW5kbGVyQ2xhc3NOYW1lPzogc3RyaW5nO1xuICByZXN0cmljdDogKCkgPT4gYm9vbGVhbjtcbiAgb25EcmFnU3RhcnQ/OiAoaWQ6IHN0cmluZykgPT4gdm9pZDtcbiAgb25EcmFnZ2luZz86IChpZDogc3RyaW5nLCBkeDogbnVtYmVyLCBkeTogbnVtYmVyKSA9PiB2b2lkO1xuICBvbkRyYWdFbmQ/OiAoaWQ6IHN0cmluZywgZHg6IG51bWJlciwgZHk6IG51bWJlcikgPT4gdm9pZDtcbn1cblxuZnVuY3Rpb24gY3JlYXRlRHJhZ2dpbmdQbGFjZWhvbGRlcihyZWN0OiBDbGllbnRSZWN0KTogSFRNTERpdkVsZW1lbnQge1xuICBjb25zdCBlbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIGVsZW0uc2V0QXR0cmlidXRlKCdpZCcsICdpbnRlcmFjdF9kcmFnZ2luZ19wbGFjZWhvbGRlcicpO1xuICBlbGVtLnN0eWxlLnBvc2l0aW9uID0gJ2ZpeGVkJztcbiAgZWxlbS5zdHlsZS5sZWZ0ID0gYCR7cmVjdC5sZWZ0fXB4YDtcbiAgZWxlbS5zdHlsZS50b3AgPSBgJHtyZWN0LnRvcH1weGA7XG4gIGVsZW0uc3R5bGUud2lkdGggPSBgJHtyZWN0LndpZHRofXB4YDtcbiAgZWxlbS5zdHlsZS5oZWlnaHQgPSBgJHtyZWN0LmhlaWdodH1weGA7XG4gIGVsZW0uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ3ZhcigtLXByaW1hcnktNzAwKSc7XG4gIGVsZW0uc3R5bGUub3BhY2l0eSA9ICcwLjInO1xuICBlbGVtLnN0eWxlLnpJbmRleCA9ICcxMTAwJztcbiAgcmV0dXJuIGVsZW07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBiaW5kRHJhZ0hhbmRsZXIoXG4gIGludGVyYWN0YWJsZTogSW50ZXJhY3QuSW50ZXJhY3RhYmxlICYgeyBzdHlsZUN1cnNvcjogKGJvb2xlYW4pID0+IEludGVyYWN0LkludGVyYWN0YWJsZX0sXG4gIGRyYWdIYW5kbGVyUHJvcHM6IERyYWdIYW5kbGVyUHJvcHMsXG4pOiBJbnRlcmFjdC5JbnRlcmFjdGFibGUge1xuICBpZiAoIWludGVyYWN0YWJsZSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGxldCBkeDtcbiAgbGV0IGR5O1xuICBsZXQgdGFyZ2V0UmVjdDtcbiAgbGV0IHBhcmVudFJlY3Q7XG4gIGxldCBvcmlnaW5UcmFuc2Zvcm07XG4gIGxldCBwbGFjZWhvbGRlckVsZW1lbnQ7XG5cbiAgY29uc3Qge1xuICAgIHJvb3RMYXlvdXRJZCxcbiAgICBsYXlvdXRJdGVtSWQsXG4gICAgdXNlRHJhZ0hhbmRsZXIsXG4gICAgZHJhZ0hhbmRsZXJDbGFzc05hbWUsXG4gICAgb25EcmFnU3RhcnQsXG4gICAgb25EcmFnZ2luZyxcbiAgICBvbkRyYWdFbmQsXG4gIH0gPSBkcmFnSGFuZGxlclByb3BzO1xuXG4gIHJldHVybiBpbnRlcmFjdGFibGVcbiAgICAuc3R5bGVDdXJzb3IoZmFsc2UpXG4gICAgLmRyYWdnYWJsZSh7XG4gICAgICBpbmVydGlhOiBmYWxzZSxcbiAgICAgIGF1dG9TY3JvbGw6IGZhbHNlLFxuICAgICAgYWxsb3dGcm9tOiB1c2VEcmFnSGFuZGxlciA/IGRyYWdIYW5kbGVyQ2xhc3NOYW1lIDogdW5kZWZpbmVkLFxuICAgICAgaWdub3JlRnJvbTogJy5uby1kcmFnLWFjdGlvbicsXG4gICAgICBvbnN0YXJ0OiAoZXZlbnQ6IEludGVyYWN0LkRyYWdFdmVudCkgPT4ge1xuICAgICAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICAgIGlmICh0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCduby1kcmFnLWFjdGlvbicpKSB7XG4gICAgICAgICAgKGV2ZW50LnRhcmdldCBhcyBhbnkpLl9jYW5EcmFnID0gZmFsc2U7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIChldmVudC50YXJnZXQgYXMgYW55KS5fY2FuRHJhZyA9IHRydWU7XG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgICAgIHRhcmdldC5zZXRBdHRyaWJ1dGUoJ2RhdGEtcm9vdGxheW91dGlkJywgcm9vdExheW91dElkKCkpO1xuXG4gICAgICAgIG9yaWdpblRyYW5zZm9ybSA9IHRhcmdldC5zdHlsZS50cmFuc2Zvcm07XG4gICAgICAgIHRhcmdldFJlY3QgPSBldmVudC5yZWN0O1xuICAgICAgICBjb25zdCBwYXJlbnQgPSBldmVudC50YXJnZXQucGFyZW50Tm9kZSBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgcGFyZW50UmVjdCA9IHBhcmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKEdMT0JBTF9EUkFHR0lOR19DTEFTU19OQU1FKTtcblxuICAgICAgICAvLyB0cmFuc2Zvcm0gbWF5IGJlIHNldCBpbiBjc3MgY2xhc3Nlc1xuICAgICAgICBjb25zdCBjb21wdXRlZFRyYW5zZm9ybSA9IGdldENvbXB1dGVkU3R5bGUodGFyZ2V0LCBudWxsKS5nZXRQcm9wZXJ0eVZhbHVlKCd0cmFuc2Zvcm0nKTtcbiAgICAgICAgY29uc3QgW3R4LCB0eV0gPSBwYXJzZVRyYW5zZm9ybShjb21wdXRlZFRyYW5zZm9ybSk7XG4gICAgICAgIGlmICh1dGlscy5pc1BlcmNlbnRhZ2UodHgpKSB7XG4gICAgICAgICAgZHggPSB1dGlscy5mcm9tUmF0aW8odHgsIHRhcmdldFJlY3Qud2lkdGgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGR4ID0gcGFyc2VGbG9hdCh0eCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHV0aWxzLmlzUGVyY2VudGFnZSh0eSkpIHtcbiAgICAgICAgICBkeSA9IHV0aWxzLmZyb21SYXRpbyh0eSwgdGFyZ2V0UmVjdC5oZWlnaHQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGR5ID0gcGFyc2VGbG9hdCh0eSk7XG4gICAgICAgIH1cbiAgICAgICAgdGFyZ2V0LnNldEF0dHJpYnV0ZSgnZGF0YS10cmFuc2xhdGV4JywgZHgpO1xuICAgICAgICB0YXJnZXQuc2V0QXR0cmlidXRlKCdkYXRhLXRyYW5zbGF0ZXknLCBkeSk7XG5cbiAgICAgICAgaWYgKG9uRHJhZ1N0YXJ0KSB7XG4gICAgICAgICAgb25EcmFnU3RhcnQobGF5b3V0SXRlbUlkKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIG9ubW92ZTogKGV2ZW50OiBJbnRlcmFjdC5EcmFnRXZlbnQpID0+IHtcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICAgICAgKGR4ICs9IGV2ZW50LmR4KSwgKGR5ICs9IGV2ZW50LmR5KTtcblxuICAgICAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICAgIGNvbnN0IHggPSBldmVudC5jbGllbnQueDtcbiAgICAgICAgY29uc3QgeSA9IGV2ZW50LmNsaWVudC55O1xuICAgICAgICBjb25zdCBvdXRPZkJvdW5kYXJ5ID0gISh4ID49IDAgJiYgeCA8PSBwYXJlbnRSZWN0LndpZHRoKSB8fCAhKHkgPj0gMCAmJiB5IDw9IHBhcmVudFJlY3QuaGVpZ2h0KTtcblxuICAgICAgICBpZiAob3V0T2ZCb3VuZGFyeSAmJiAhcGxhY2Vob2xkZXJFbGVtZW50KSB7XG4gICAgICAgICAgY29uc3QgY3VycmVudFJlY3QgPSB0YXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgcGxhY2Vob2xkZXJFbGVtZW50ID0gY3JlYXRlRHJhZ2dpbmdQbGFjZWhvbGRlcihjdXJyZW50UmVjdCk7XG4gICAgICAgICAgcGxhY2Vob2xkZXJFbGVtZW50ID0gZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChwbGFjZWhvbGRlckVsZW1lbnQpO1xuICAgICAgICAgIGR4ID0gMDtcbiAgICAgICAgICBkeSA9IDA7XG4gICAgICAgICAgdGFyZ2V0LnN0eWxlLnRyYW5zZm9ybSA9IG9yaWdpblRyYW5zZm9ybTtcbiAgICAgICAgICB0YXJnZXQuc3R5bGUudmlzaWJpbGl0eSA9ICdoaWRkZW4nO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkcmFnZ2luZ0VsZW1lbnQgPSBwbGFjZWhvbGRlckVsZW1lbnQgfHwgdGFyZ2V0O1xuICAgICAgICBkcmFnZ2luZ0VsZW1lbnQuc3R5bGUud2Via2l0VHJhbnNmb3JtID1cbiAgICAgICAgICBkcmFnZ2luZ0VsZW1lbnQuc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgke01hdGgucm91bmQoZHgpfXB4LCAke01hdGgucm91bmQoZHkpfXB4KSB0cmFuc2xhdGVaKDApYDtcbiAgICAgICAgZHJhZ2dpbmdFbGVtZW50LnNldEF0dHJpYnV0ZSgnZGF0YS10cmFuc2xhdGV4JywgTWF0aC5yb3VuZChkeCkpO1xuICAgICAgICBkcmFnZ2luZ0VsZW1lbnQuc2V0QXR0cmlidXRlKCdkYXRhLXRyYW5zbGF0ZXknLCBNYXRoLnJvdW5kKGR5KSk7XG4gICAgICAgIGlmIChvbkRyYWdnaW5nKSB7XG4gICAgICAgICAgb25EcmFnZ2luZyhsYXlvdXRJdGVtSWQsIGR4LCBkeSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBvbmVuZDogKGV2ZW50OiBJbnRlcmFjdC5EcmFnRXZlbnQpID0+IHtcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0IGFzIEhUTUxFbGVtZW50O1xuICAgICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoR0xPQkFMX0RSQUdHSU5HX0NMQVNTX05BTUUpO1xuICAgICAgICBpZiAocGxhY2Vob2xkZXJFbGVtZW50KSB7XG4gICAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChwbGFjZWhvbGRlckVsZW1lbnQpO1xuICAgICAgICAgIHBsYWNlaG9sZGVyRWxlbWVudCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdGFyZ2V0LnN0eWxlLnZpc2liaWxpdHkgPSBudWxsO1xuICAgICAgICB0YXJnZXQuc3R5bGUudHJhbnNmb3JtID0gb3JpZ2luVHJhbnNmb3JtO1xuICAgICAgICBpZiAob25EcmFnRW5kKSB7XG4gICAgICAgICAgb25EcmFnRW5kKGxheW91dEl0ZW1JZCwgZHgsIGR5KTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNldElzRHJhZ2dpbmcodmFsdWU6IGJvb2xlYW4pIHtcbiAgaXNJdGVtRHJhZ2dpbmcgPSB2YWx1ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzRHJhZ2dpbmcoKTogYm9vbGVhbiB7XG4gIHJldHVybiBpc0l0ZW1EcmFnZ2luZztcbn1cblxuZnVuY3Rpb24gcGFyc2VUcmFuc2Zvcm0odHJhbnNmb3JtOiBzdHJpbmcgPSAnJyk6IFtzdHJpbmcsIHN0cmluZ10ge1xuICBsZXQgZHggPSAnMCc7XG4gIGxldCBkeSA9ICcwJztcbiAgaWYgKHRyYW5zZm9ybS5pbmRleE9mKCdtYXRyaXgoJykgPj0gMCkge1xuICAgIC8vIG1hdHJpeChhLGIsYyxkLGUsZiksIGUgaXMgdHJhbnNsYXRlWCwgZiBpcyB0cmFuc2xhdGVZXG4gICAgY29uc3QgdmFsdWVzID0gdHJhbnNmb3JtLnN1YnN0cmluZyh0cmFuc2Zvcm0uaW5kZXhPZignKCcpICsgMSwgdHJhbnNmb3JtLmluZGV4T2YoJyknKSkuc3BsaXQoJywnKTtcbiAgICBkeCA9IGAke3BhcnNlSW50KHZhbHVlc1s0XSwgMTApfXB4YDtcbiAgICBkeSA9IGAke3BhcnNlSW50KHZhbHVlc1s1XSwgMTApfXB4YDtcbiAgICByZXR1cm4gW2R4LCBkeV07XG4gIH1cbiAgaWYgKHRyYW5zZm9ybS5pbmRleE9mKCd0cmFuc2xhdGUoJykgPj0gMCkge1xuICAgIGNvbnN0IG1hdGNoID0gdHJhbnNmb3JtLm1hdGNoKC90cmFuc2xhdGVcXCgoLiopXFxzKixcXHMqKC4qKVxcKS8pO1xuICAgIGlmIChtYXRjaC5sZW5ndGggPT09IDMpIHtcbiAgICAgIGR4ID0gbWF0Y2hbMV07XG4gICAgICBkeSA9IG1hdGNoWzJdO1xuICAgIH1cbiAgICByZXR1cm4gW2R4LCBkeV07XG4gIH1cbiAgaWYgKHRyYW5zZm9ybS5pbmRleE9mKCd0cmFuc2xhdGVYKCcpID49IDApIHtcbiAgICBjb25zdCBtYXRjaCA9IHRyYW5zZm9ybS5tYXRjaCgvdHJhbnNsYXRlWFxcKCguKilcXCkvKTtcbiAgICBpZiAobWF0Y2gubGVuZ3RoID09PSAyKSB7XG4gICAgICBkeCA9IG1hdGNoWzFdO1xuICAgIH1cbiAgfVxuICBpZiAodHJhbnNmb3JtLmluZGV4T2YoJ3RyYW5zbGF0ZVkoJykgPj0gMCkge1xuICAgIGNvbnN0IG1hdGNoID0gdHJhbnNmb3JtLm1hdGNoKC90cmFuc2xhdGVZXFwoKC4qKVxcKS8pO1xuICAgIGlmIChtYXRjaC5sZW5ndGggPT09IDIpIHtcbiAgICAgIGR5ID0gbWF0Y2hbMV07XG4gICAgfVxuICB9XG4gIHJldHVybiBbZHgsIGR5XTtcbn0iXSwibWFwcGluZ3MiOiJBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFlQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./jimu-layouts/lib/builder/interactive/drag-event-handler.ts\n");

/***/ }),

/***/ "./jimu-layouts/lib/builder/interactive/droparea-common.ts":
/*!*****************************************************************!*\
  !*** ./jimu-layouts/lib/builder/interactive/droparea-common.ts ***!
  \*****************************************************************/
/*! exports provided: createItemFromInteractEvent, createItemFromLayoutInfo, createItemFromH5DragEvent, isDraggingItemAccepted */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"createItemFromInteractEvent\", function() { return createItemFromInteractEvent; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"createItemFromLayoutInfo\", function() { return createItemFromLayoutInfo; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"createItemFromH5DragEvent\", function() { return createItemFromH5DragEvent; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isDraggingItemAccepted\", function() { return isDraggingItemAccepted; });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jimu_core__WEBPACK_IMPORTED_MODULE_0__);\n\nfunction createItemFromInteractEvent(dragElement) {\n    if (dragElement && typeof dragElement.getAttribute === 'function') {\n        var layoutId = dragElement.getAttribute('data-layoutid');\n        var layoutItemId = dragElement.getAttribute('data-layoutitemid');\n        if (layoutId && layoutItemId) {\n            return createItemFromLayoutInfo(layoutId, layoutItemId);\n        }\n    }\n    return null;\n}\nfunction createItemFromLayoutInfo(layoutId, layoutItemId) {\n    var _a, _b, _c, _d, _e;\n    var state = Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"getAppStore\"])().getState();\n    var layouts = state.appConfig.layouts;\n    var fromLayout = layouts[layoutId];\n    var layoutItem = (_a = fromLayout === null || fromLayout === void 0 ? void 0 : fromLayout.content) === null || _a === void 0 ? void 0 : _a[layoutItemId];\n    if (layoutItem) {\n        var layoutInfo = { layoutId: layoutId, layoutItemId: layoutItemId };\n        var manifest = getManifest(state, layoutItem);\n        return {\n            itemType: layoutItem.type,\n            layoutInfo: layoutInfo,\n            manifest: manifest,\n            rotation: (_e = (_d = (_c = (_b = layoutItem.setting) === null || _b === void 0 ? void 0 : _b.style) === null || _c === void 0 ? void 0 : _c.transform) === null || _d === void 0 ? void 0 : _d.rotate) !== null && _e !== void 0 ? _e : 0\n        };\n    }\n}\nfunction createItemFromH5DragEvent() {\n    if (window.parent && window.parent._dragging_widget_item) {\n        return window.parent._dragging_widget_item;\n    }\n    return null;\n}\nfunction getManifest(state, layoutItem) {\n    var _a, _b, _c;\n    if (layoutItem.type === jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"LayoutItemType\"].Widget) {\n        var widgetId = layoutItem.widgetId;\n        if (widgetId) {\n            return (_c = (_b = (_a = state.appConfig) === null || _a === void 0 ? void 0 : _a.widgets) === null || _b === void 0 ? void 0 : _b[widgetId]) === null || _c === void 0 ? void 0 : _c.manifest;\n        }\n    }\n    return null;\n}\nfunction isDraggingItemAccepted(draggingItem, layoutContext, props, layoutId) {\n    var isAllowed = lockParentAllowed(layoutId, draggingItem);\n    if (isAllowed && layoutContext && layoutContext.isItemAccepted) {\n        isAllowed = layoutContext.isItemAccepted(draggingItem, props.isPlaceholder);\n    }\n    return isAllowed;\n}\nfunction lockParentAllowed(layoutId, draggingItem) {\n    var _a, _b, _c;\n    if (!draggingItem) {\n        return false;\n    }\n    if (!draggingItem.isFromCurrentSizeMode) {\n        return true;\n    }\n    var draggingLayoutInfo = draggingItem.layoutInfo;\n    if (draggingLayoutInfo) {\n        var state = Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"getAppStore\"])().getState();\n        var layouts = state.appConfig.layouts;\n        var fromLayout = layouts[draggingLayoutInfo.layoutId];\n        var layoutItem = (_a = fromLayout === null || fromLayout === void 0 ? void 0 : fromLayout.content) === null || _a === void 0 ? void 0 : _a[draggingLayoutInfo.layoutItemId];\n        if (layoutItem) {\n            var lockParent = (_c = (_b = layoutItem.setting) === null || _b === void 0 ? void 0 : _b.lockParent) !== null && _c !== void 0 ? _c : false;\n            if (fromLayout.type === jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"LayoutType\"].FlowLayout || lockParent) {\n                return draggingLayoutInfo.layoutId === layoutId;\n            }\n        }\n    }\n    return true;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWxheW91dHMvbGliL2J1aWxkZXIvaW50ZXJhY3RpdmUvZHJvcGFyZWEtY29tbW9uLnRzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vamltdS1sYXlvdXRzL2xpYi9idWlsZGVyL2ludGVyYWN0aXZlL2Ryb3BhcmVhLWNvbW1vbi50cz85MTc5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIGdldEFwcFN0b3JlLFxuICBJTVN0YXRlLFxuICBJTVNpemVNb2RlTGF5b3V0SnNvbixcbiAgTGF5b3V0SXRlbUNvbnN0cnVjdG9yUHJvcHMsXG4gIElNTGF5b3V0SXRlbUpzb24sXG4gIExheW91dEl0ZW1UeXBlLFxuICBJTVdpZGdldE1hbmlmZXN0LFxuICBMYXlvdXRUeXBlLFxufSBmcm9tICdqaW11LWNvcmUnO1xuaW1wb3J0IHsgTGF5b3V0Q29udGV4dFByb3BzLCBQYWdlQ29udGV4dFByb3BzIH0gZnJvbSAnamltdS1sYXlvdXRzL2xheW91dC1ydW50aW1lJztcblxuZXhwb3J0IGludGVyZmFjZSBEcm9wQXJlYUNvbnRleHQge1xuICBwcm9wczogRHJvcEFyZWFQcm9wcztcbiAgbGF5b3V0SWQ6IHN0cmluZztcbiAgcGFnZUNvbnRleHQ6IFBhZ2VDb250ZXh0UHJvcHM7XG4gIGxheW91dENvbnRleHQ6IExheW91dENvbnRleHRQcm9wcztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBEcm9wQXJlYVByb3BzIHtcbiAgbGF5b3V0czogSU1TaXplTW9kZUxheW91dEpzb247XG4gIGlzUGxhY2Vob2xkZXI/OiBib29sZWFuO1xuICBoaWdobGlnaHREcmFnb3Zlcj86IGJvb2xlYW47XG4gIGNsYXNzTmFtZT86IHN0cmluZztcbiAgc3R5bGU/OiBhbnk7XG4gIGlzUmVwZWF0PzogYm9vbGVhbjtcbiAgY2hpbGRyZW4/OiBSZWFjdC5SZWFjdE5vZGU7XG4gIG9uVG9nZ2xlRHJhZ292ZXJFZmZlY3Q/OiAoaXNEcmFnb3ZlcjogYm9vbGVhbiwgZHJhZ2dpbmdJdGVtPzogTGF5b3V0SXRlbUNvbnN0cnVjdG9yUHJvcHMpID0+IHZvaWQ7XG4gIG9uRHJhZ0VudGVyPzogKGRyYWdnaW5nSXRlbTogTGF5b3V0SXRlbUNvbnN0cnVjdG9yUHJvcHMpID0+IHZvaWQ7XG4gIG9uRHJhZ092ZXI/OiAoXG4gICAgZHJhZ2dpbmdJdGVtOiBMYXlvdXRJdGVtQ29uc3RydWN0b3JQcm9wcyxcbiAgICBkcmFnZ2luZ0VsZW1lbnQ6IEhUTUxFbGVtZW50LFxuICAgIGNvbnRhaW5lclJlY3Q6IENsaWVudFJlY3QsXG4gICAgaXRlbVJlY3Q6IENsaWVudFJlY3QsXG4gICAgY2xpZW50WDogbnVtYmVyLFxuICAgIGNsaWVudFk6IG51bWJlclxuICApID0+IHZvaWQ7XG4gIG9uRHJhZ0xlYXZlPzogKGRyYWdnaW5nSXRlbTogTGF5b3V0SXRlbUNvbnN0cnVjdG9yUHJvcHMpID0+IHZvaWQ7XG4gIG9uRHJvcD86IChcbiAgICBkcmFnZ2luZ0l0ZW06IExheW91dEl0ZW1Db25zdHJ1Y3RvclByb3BzLFxuICAgIGNvbnRhaW5lclJlY3Q6IENsaWVudFJlY3QsXG4gICAgaXRlbVJlY3Q6IENsaWVudFJlY3QsXG4gICAgY2xpZW50WDogbnVtYmVyLFxuICAgIGNsaWVudFk6IG51bWJlclxuICApID0+IHZvaWQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVJdGVtRnJvbUludGVyYWN0RXZlbnQoZHJhZ0VsZW1lbnQ6IEhUTUxFbGVtZW50KTogTGF5b3V0SXRlbUNvbnN0cnVjdG9yUHJvcHMge1xuICBpZiAoZHJhZ0VsZW1lbnQgJiYgdHlwZW9mIGRyYWdFbGVtZW50LmdldEF0dHJpYnV0ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGNvbnN0IGxheW91dElkID0gZHJhZ0VsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLWxheW91dGlkJyk7XG4gICAgY29uc3QgbGF5b3V0SXRlbUlkID0gZHJhZ0VsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLWxheW91dGl0ZW1pZCcpO1xuICAgIGlmIChsYXlvdXRJZCAmJiBsYXlvdXRJdGVtSWQpIHtcbiAgICAgIHJldHVybiBjcmVhdGVJdGVtRnJvbUxheW91dEluZm8obGF5b3V0SWQsIGxheW91dEl0ZW1JZCk7XG4gICAgfVxuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlSXRlbUZyb21MYXlvdXRJbmZvKGxheW91dElkLCBsYXlvdXRJdGVtSWQpOiBMYXlvdXRJdGVtQ29uc3RydWN0b3JQcm9wcyB7XG4gIGNvbnN0IHN0YXRlID0gZ2V0QXBwU3RvcmUoKS5nZXRTdGF0ZSgpO1xuICBjb25zdCB7IGxheW91dHMgfSA9IHN0YXRlLmFwcENvbmZpZztcbiAgY29uc3QgZnJvbUxheW91dCA9IGxheW91dHNbbGF5b3V0SWRdO1xuICBjb25zdCBsYXlvdXRJdGVtID0gZnJvbUxheW91dD8uY29udGVudD8uW2xheW91dEl0ZW1JZF07XG4gIGlmIChsYXlvdXRJdGVtKSB7XG4gICAgY29uc3QgbGF5b3V0SW5mbyA9IHsgbGF5b3V0SWQsIGxheW91dEl0ZW1JZCB9O1xuICAgIGNvbnN0IG1hbmlmZXN0ID0gZ2V0TWFuaWZlc3Qoc3RhdGUsIGxheW91dEl0ZW0pO1xuICAgIHJldHVybiB7XG4gICAgICBpdGVtVHlwZTogbGF5b3V0SXRlbS50eXBlLFxuICAgICAgbGF5b3V0SW5mbyxcbiAgICAgIG1hbmlmZXN0LFxuICAgICAgcm90YXRpb246IGxheW91dEl0ZW0uc2V0dGluZz8uc3R5bGU/LnRyYW5zZm9ybT8ucm90YXRlID8/IDBcbiAgICB9IGFzIGFueTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlSXRlbUZyb21INURyYWdFdmVudCgpOiBMYXlvdXRJdGVtQ29uc3RydWN0b3JQcm9wcyB7XG4gIGlmICh3aW5kb3cucGFyZW50ICYmIHdpbmRvdy5wYXJlbnQuX2RyYWdnaW5nX3dpZGdldF9pdGVtKSB7XG4gICAgcmV0dXJuIHdpbmRvdy5wYXJlbnQuX2RyYWdnaW5nX3dpZGdldF9pdGVtIGFzIExheW91dEl0ZW1Db25zdHJ1Y3RvclByb3BzO1xuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG5mdW5jdGlvbiBnZXRNYW5pZmVzdChzdGF0ZTogSU1TdGF0ZSwgbGF5b3V0SXRlbTogSU1MYXlvdXRJdGVtSnNvbik6IElNV2lkZ2V0TWFuaWZlc3Qge1xuICBpZiAobGF5b3V0SXRlbS50eXBlID09PSBMYXlvdXRJdGVtVHlwZS5XaWRnZXQpIHtcbiAgICBjb25zdCB3aWRnZXRJZCA9IGxheW91dEl0ZW0ud2lkZ2V0SWQ7XG5cbiAgICBpZiAod2lkZ2V0SWQpIHtcbiAgICAgIHJldHVybiBzdGF0ZS5hcHBDb25maWc/LndpZGdldHM/Llt3aWRnZXRJZF0/Lm1hbmlmZXN0O1xuICAgIH1cbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzRHJhZ2dpbmdJdGVtQWNjZXB0ZWQoXG4gIGRyYWdnaW5nSXRlbTogTGF5b3V0SXRlbUNvbnN0cnVjdG9yUHJvcHMsXG4gIGxheW91dENvbnRleHQ6IExheW91dENvbnRleHRQcm9wcyxcbiAgcHJvcHM6IERyb3BBcmVhUHJvcHMsXG4gIGxheW91dElkOiBzdHJpbmdcbik6IGJvb2xlYW4ge1xuICBsZXQgaXNBbGxvd2VkID0gbG9ja1BhcmVudEFsbG93ZWQobGF5b3V0SWQsIGRyYWdnaW5nSXRlbSk7XG4gIGlmIChpc0FsbG93ZWQgJiYgbGF5b3V0Q29udGV4dCAmJiBsYXlvdXRDb250ZXh0LmlzSXRlbUFjY2VwdGVkKSB7XG4gICAgaXNBbGxvd2VkID0gbGF5b3V0Q29udGV4dC5pc0l0ZW1BY2NlcHRlZChkcmFnZ2luZ0l0ZW0sIHByb3BzLmlzUGxhY2Vob2xkZXIpO1xuICB9XG4gIHJldHVybiBpc0FsbG93ZWQ7XG59XG5cbmZ1bmN0aW9uIGxvY2tQYXJlbnRBbGxvd2VkKGxheW91dElkOiBzdHJpbmcsIGRyYWdnaW5nSXRlbTogTGF5b3V0SXRlbUNvbnN0cnVjdG9yUHJvcHMpOiBib29sZWFuIHtcbiAgaWYgKCFkcmFnZ2luZ0l0ZW0pIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBpZighZHJhZ2dpbmdJdGVtLmlzRnJvbUN1cnJlbnRTaXplTW9kZSl7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBjb25zdCBkcmFnZ2luZ0xheW91dEluZm8gPSBkcmFnZ2luZ0l0ZW0ubGF5b3V0SW5mbztcblxuICBpZiAoZHJhZ2dpbmdMYXlvdXRJbmZvKSB7XG4gICAgY29uc3Qgc3RhdGUgPSBnZXRBcHBTdG9yZSgpLmdldFN0YXRlKCk7XG4gICAgY29uc3QgeyBsYXlvdXRzIH0gPSBzdGF0ZS5hcHBDb25maWc7XG4gICAgY29uc3QgZnJvbUxheW91dCA9IGxheW91dHNbZHJhZ2dpbmdMYXlvdXRJbmZvLmxheW91dElkXTtcbiAgICBjb25zdCBsYXlvdXRJdGVtID0gZnJvbUxheW91dD8uY29udGVudD8uW2RyYWdnaW5nTGF5b3V0SW5mby5sYXlvdXRJdGVtSWRdO1xuICAgIGlmIChsYXlvdXRJdGVtKSB7XG4gICAgICBjb25zdCBsb2NrUGFyZW50ID0gbGF5b3V0SXRlbS5zZXR0aW5nPy5sb2NrUGFyZW50ID8/IGZhbHNlO1xuXG4gICAgICBpZiAoZnJvbUxheW91dC50eXBlID09PSBMYXlvdXRUeXBlLkZsb3dMYXlvdXQgfHwgbG9ja1BhcmVudCkge1xuICAgICAgICByZXR1cm4gZHJhZ2dpbmdMYXlvdXRJbmZvLmxheW91dElkID09PSBsYXlvdXRJZDtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBK0NBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./jimu-layouts/lib/builder/interactive/droparea-common.ts\n");

/***/ }),

/***/ "./jimu-layouts/lib/builder/interactive/droparea-effect-h5.tsx":
/*!*********************************************************************!*\
  !*** ./jimu-layouts/lib/builder/interactive/droparea-effect-h5.tsx ***!
  \*********************************************************************/
/*! exports provided: initH5 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"initH5\", function() { return initH5; });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jimu_core__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _droparea_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./droparea-common */ \"./jimu-layouts/lib/builder/interactive/droparea-common.ts\");\n/* harmony import */ var _drag_event_handler__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./drag-event-handler */ \"./jimu-layouts/lib/builder/interactive/drag-event-handler.ts\");\n\n\n\nfunction initH5(elem, contextRef) {\n    var h5DraggingItem;\n    var containerRect;\n    var throttleDragOverHandler = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"lodash\"].throttle(h5DragOverHandler, 100);\n    elem.addEventListener('dragenter', onDragEnter);\n    elem.addEventListener('dragleave', onDragLeave);\n    elem.addEventListener('dragover', onDragOver);\n    elem.addEventListener('drop', onDrop);\n    function initH5Dragging() {\n        var _a = contextRef.current, props = _a.props, layoutId = _a.layoutId, layoutContext = _a.layoutContext;\n        var currentDraggingItem = Object(_droparea_common__WEBPACK_IMPORTED_MODULE_1__[\"createItemFromH5DragEvent\"])();\n        if (!h5DraggingItem || h5DraggingItem !== currentDraggingItem) {\n            h5DraggingItem = currentDraggingItem;\n            if (Object(_droparea_common__WEBPACK_IMPORTED_MODULE_1__[\"isDraggingItemAccepted\"])(h5DraggingItem, layoutContext, props, layoutId)) {\n                elem.classList.add('drop-target');\n                if (props.onToggleDragoverEffect) {\n                    props.onToggleDragoverEffect(true, h5DraggingItem);\n                }\n            }\n        }\n    }\n    function isH5DragElementAccepted() {\n        if (!h5DraggingItem) {\n            return false;\n        }\n        var _a = contextRef.current, props = _a.props, layoutId = _a.layoutId, pageContext = _a.pageContext, layoutContext = _a.layoutContext;\n        return pageContext.isDesignMode &&\n            !pageContext.viewOnly &&\n            !pageContext.lockLayout &&\n            Object(_droparea_common__WEBPACK_IMPORTED_MODULE_1__[\"isDraggingItemAccepted\"])(h5DraggingItem, layoutContext, props, layoutId);\n    }\n    function onDragEnter(e) {\n        var props = contextRef.current.props;\n        e.stopPropagation();\n        e.preventDefault();\n        initH5Dragging();\n        if (!isH5DragElementAccepted()) {\n            return;\n        }\n        containerRect = elem.getBoundingClientRect();\n        if (h5DraggingItem && props.onDragEnter) {\n            props.onDragEnter(h5DraggingItem);\n        }\n    }\n    function onDragLeave(e) {\n        var props = contextRef.current.props;\n        e.stopPropagation();\n        e.preventDefault();\n        elem.classList.remove('drop-target');\n        elem.classList.remove('drop-active');\n        if (!isH5DragElementAccepted()) {\n            return;\n        }\n        if (props.onDragLeave) {\n            props.onDragLeave(h5DraggingItem);\n        }\n        if (props.onToggleDragoverEffect) {\n            props.onToggleDragoverEffect(false, h5DraggingItem);\n        }\n        h5DraggingItem = null;\n    }\n    function onDragOver(e) {\n        var _a = contextRef.current, layoutId = _a.layoutId, pageContext = _a.pageContext;\n        e.stopPropagation();\n        e.preventDefault();\n        initH5Dragging();\n        if (!isH5DragElementAccepted()) {\n            if (e.dataTransfer) {\n                e.dataTransfer.dropEffect = 'none';\n            }\n            return;\n        }\n        if (e.dataTransfer) {\n            e.dataTransfer.dropEffect = 'copy';\n        }\n        if (elem.classList.contains('drop-target')) {\n            var clientX = e.clientX, clientY = e.clientY;\n            if (!elem.classList.contains('drop-active') && layoutId !== pageContext.rootLayoutId) {\n                elem.classList.add('drop-active');\n            }\n            throttleDragOverHandler(h5DraggingItem, clientX, clientY);\n        }\n    }\n    function h5DragOverHandler(draggingItem, clientX, clientY) {\n        if (!draggingItem || isNaN(clientX) || isNaN(clientY)) {\n            return;\n        }\n        var width = 200;\n        var height = 100;\n        var props = contextRef.current.props;\n        if (draggingItem.manifest.defaultSize) {\n            width = isNaN(draggingItem.manifest.defaultSize.width)\n                ? width\n                : draggingItem.manifest.defaultSize.width;\n            height = isNaN(draggingItem.manifest.defaultSize.height)\n                ? height\n                : draggingItem.manifest.defaultSize.height;\n        }\n        if (props.onDragOver) {\n            props.onDragOver(draggingItem, null, containerRect, {\n                left: clientX - width / 2 - containerRect.left,\n                top: clientY - height / 2 - containerRect.top,\n                width: width,\n                height: height,\n                right: clientX - width / 2 - containerRect.left + width,\n                bottom: clientY - height / 2 - containerRect.top + height,\n            }, clientX - containerRect.left, clientY - containerRect.top);\n        }\n    }\n    function onDrop(e) {\n        e.stopPropagation();\n        elem.classList.remove('drop-target');\n        elem.classList.remove('drop-active');\n        document.documentElement.classList.remove(_drag_event_handler__WEBPACK_IMPORTED_MODULE_2__[\"GLOBAL_H5_DRAGGING_CLASS_NAME\"]);\n        if (!isH5DragElementAccepted()) {\n            h5DraggingItem = null;\n            return;\n        }\n        var props = contextRef.current.props;\n        var clientX = e.clientX, clientY = e.clientY;\n        var containerRect = elem.getBoundingClientRect();\n        var width = 200;\n        var height = 100;\n        if (h5DraggingItem.manifest.defaultSize) {\n            width = isNaN(h5DraggingItem.manifest.defaultSize.width)\n                ? width\n                : h5DraggingItem.manifest.defaultSize.width;\n            height = isNaN(h5DraggingItem.manifest.defaultSize.height)\n                ? height\n                : h5DraggingItem.manifest.defaultSize.height;\n        }\n        var itemRect = {\n            width: width,\n            height: height,\n            left: clientX - width / 2 - containerRect.left,\n            top: clientY - height / 2 - containerRect.top,\n        };\n        if (props.onToggleDragoverEffect) {\n            props.onToggleDragoverEffect(false, h5DraggingItem);\n        }\n        if (props.onDrop) {\n            props.onDrop(h5DraggingItem, containerRect, {\n                width: width,\n                height: height,\n                left: clientX - width / 2 - containerRect.left,\n                top: clientY - height / 2 - containerRect.top,\n                right: itemRect.left + itemRect.width,\n                bottom: itemRect.top + itemRect.height,\n            }, clientX - containerRect.left, clientY - containerRect.top);\n        }\n        h5DraggingItem = null;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWxheW91dHMvbGliL2J1aWxkZXIvaW50ZXJhY3RpdmUvZHJvcGFyZWEtZWZmZWN0LWg1LnRzeC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2ppbXUtbGF5b3V0cy9saWIvYnVpbGRlci9pbnRlcmFjdGl2ZS9kcm9wYXJlYS1lZmZlY3QtaDUudHN4PzcwNjkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUmVhY3QsIExheW91dEl0ZW1Db25zdHJ1Y3RvclByb3BzLCBsb2Rhc2ggfSBmcm9tICdqaW11LWNvcmUnO1xuaW1wb3J0IHsgaXNEcmFnZ2luZ0l0ZW1BY2NlcHRlZCwgY3JlYXRlSXRlbUZyb21INURyYWdFdmVudCwgRHJvcEFyZWFDb250ZXh0IH0gZnJvbSAnLi9kcm9wYXJlYS1jb21tb24nO1xuaW1wb3J0IHsgR0xPQkFMX0g1X0RSQUdHSU5HX0NMQVNTX05BTUUgfSBmcm9tICcuL2RyYWctZXZlbnQtaGFuZGxlcic7XG5cbmV4cG9ydCBmdW5jdGlvbiBpbml0SDUoXG4gIGVsZW06IEhUTUxFbGVtZW50LFxuICBjb250ZXh0UmVmOiBSZWFjdC5SZWZPYmplY3Q8RHJvcEFyZWFDb250ZXh0PlxuKSB7XG4gIGxldCBoNURyYWdnaW5nSXRlbTtcbiAgbGV0IGNvbnRhaW5lclJlY3Q7XG5cbiAgY29uc3QgdGhyb3R0bGVEcmFnT3ZlckhhbmRsZXIgPSBsb2Rhc2gudGhyb3R0bGUoaDVEcmFnT3ZlckhhbmRsZXIsIDEwMCk7XG5cbiAgZWxlbS5hZGRFdmVudExpc3RlbmVyKCdkcmFnZW50ZXInLCBvbkRyYWdFbnRlcik7XG4gIGVsZW0uYWRkRXZlbnRMaXN0ZW5lcignZHJhZ2xlYXZlJywgb25EcmFnTGVhdmUpO1xuICBlbGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdvdmVyJywgb25EcmFnT3Zlcik7XG4gIGVsZW0uYWRkRXZlbnRMaXN0ZW5lcignZHJvcCcsIG9uRHJvcCk7XG5cbiAgZnVuY3Rpb24gaW5pdEg1RHJhZ2dpbmcoKSB7XG4gICAgY29uc3QgeyBwcm9wcywgbGF5b3V0SWQsIGxheW91dENvbnRleHQgfSA9IGNvbnRleHRSZWYuY3VycmVudDtcbiAgICBjb25zdCBjdXJyZW50RHJhZ2dpbmdJdGVtID0gY3JlYXRlSXRlbUZyb21INURyYWdFdmVudCgpO1xuICAgIGlmICghaDVEcmFnZ2luZ0l0ZW0gfHwgaDVEcmFnZ2luZ0l0ZW0gIT09IGN1cnJlbnREcmFnZ2luZ0l0ZW0pIHtcbiAgICAgIGg1RHJhZ2dpbmdJdGVtID0gY3VycmVudERyYWdnaW5nSXRlbTtcbiAgICAgIGlmIChpc0RyYWdnaW5nSXRlbUFjY2VwdGVkKGg1RHJhZ2dpbmdJdGVtLCBsYXlvdXRDb250ZXh0LCBwcm9wcywgbGF5b3V0SWQpKSB7XG4gICAgICAgIGVsZW0uY2xhc3NMaXN0LmFkZCgnZHJvcC10YXJnZXQnKTtcbiAgICAgICAgaWYgKHByb3BzLm9uVG9nZ2xlRHJhZ292ZXJFZmZlY3QpIHtcbiAgICAgICAgICBwcm9wcy5vblRvZ2dsZURyYWdvdmVyRWZmZWN0KHRydWUsIGg1RHJhZ2dpbmdJdGVtKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGlzSDVEcmFnRWxlbWVudEFjY2VwdGVkKCkge1xuICAgIGlmICghaDVEcmFnZ2luZ0l0ZW0pIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgY29uc3QgeyBwcm9wcywgbGF5b3V0SWQsIHBhZ2VDb250ZXh0LCBsYXlvdXRDb250ZXh0IH0gPSBjb250ZXh0UmVmLmN1cnJlbnQ7XG4gICAgcmV0dXJuIHBhZ2VDb250ZXh0LmlzRGVzaWduTW9kZSAmJlxuICAgICAgIXBhZ2VDb250ZXh0LnZpZXdPbmx5ICYmXG4gICAgICAhcGFnZUNvbnRleHQubG9ja0xheW91dCAmJlxuICAgICAgaXNEcmFnZ2luZ0l0ZW1BY2NlcHRlZChoNURyYWdnaW5nSXRlbSwgbGF5b3V0Q29udGV4dCwgcHJvcHMsIGxheW91dElkKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9uRHJhZ0VudGVyKGUpIHtcbiAgICBjb25zdCB7IHByb3BzIH0gPSBjb250ZXh0UmVmLmN1cnJlbnQ7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICBpbml0SDVEcmFnZ2luZygpO1xuICAgIGlmICghaXNINURyYWdFbGVtZW50QWNjZXB0ZWQoKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnRhaW5lclJlY3QgPSBlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGlmIChoNURyYWdnaW5nSXRlbSAmJiBwcm9wcy5vbkRyYWdFbnRlcikge1xuICAgICAgcHJvcHMub25EcmFnRW50ZXIoaDVEcmFnZ2luZ0l0ZW0pO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIG9uRHJhZ0xlYXZlKGUpIHtcbiAgICBjb25zdCB7IHByb3BzIH0gPSBjb250ZXh0UmVmLmN1cnJlbnQ7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICBlbGVtLmNsYXNzTGlzdC5yZW1vdmUoJ2Ryb3AtdGFyZ2V0Jyk7XG4gICAgZWxlbS5jbGFzc0xpc3QucmVtb3ZlKCdkcm9wLWFjdGl2ZScpO1xuXG4gICAgaWYgKCFpc0g1RHJhZ0VsZW1lbnRBY2NlcHRlZCgpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHByb3BzLm9uRHJhZ0xlYXZlKSB7XG4gICAgICBwcm9wcy5vbkRyYWdMZWF2ZShoNURyYWdnaW5nSXRlbSk7XG4gICAgfVxuICAgIGlmIChwcm9wcy5vblRvZ2dsZURyYWdvdmVyRWZmZWN0KSB7XG4gICAgICBwcm9wcy5vblRvZ2dsZURyYWdvdmVyRWZmZWN0KGZhbHNlLCBoNURyYWdnaW5nSXRlbSk7XG4gICAgfVxuICAgIGg1RHJhZ2dpbmdJdGVtID0gbnVsbDtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9uRHJhZ092ZXIoZSkge1xuICAgIGNvbnN0IHsgbGF5b3V0SWQsIHBhZ2VDb250ZXh0IH0gPSBjb250ZXh0UmVmLmN1cnJlbnQ7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICBpbml0SDVEcmFnZ2luZygpO1xuICAgIGlmICghaXNINURyYWdFbGVtZW50QWNjZXB0ZWQoKSkge1xuICAgICAgaWYgKGUuZGF0YVRyYW5zZmVyKSB7XG4gICAgICAgIGUuZGF0YVRyYW5zZmVyLmRyb3BFZmZlY3QgPSAnbm9uZSc7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChlLmRhdGFUcmFuc2Zlcikge1xuICAgICAgZS5kYXRhVHJhbnNmZXIuZHJvcEVmZmVjdCA9ICdjb3B5JztcbiAgICB9XG5cbiAgICBpZiAoZWxlbS5jbGFzc0xpc3QuY29udGFpbnMoJ2Ryb3AtdGFyZ2V0JykpIHtcbiAgICAgIGNvbnN0IHsgY2xpZW50WCwgY2xpZW50WSB9ID0gZTtcbiAgICAgIGlmICghZWxlbS5jbGFzc0xpc3QuY29udGFpbnMoJ2Ryb3AtYWN0aXZlJykgJiYgbGF5b3V0SWQgIT09IHBhZ2VDb250ZXh0LnJvb3RMYXlvdXRJZCkge1xuICAgICAgICBlbGVtLmNsYXNzTGlzdC5hZGQoJ2Ryb3AtYWN0aXZlJyk7XG4gICAgICB9XG4gICAgICB0aHJvdHRsZURyYWdPdmVySGFuZGxlcihoNURyYWdnaW5nSXRlbSwgY2xpZW50WCwgY2xpZW50WSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaDVEcmFnT3ZlckhhbmRsZXIoZHJhZ2dpbmdJdGVtOiBMYXlvdXRJdGVtQ29uc3RydWN0b3JQcm9wcywgY2xpZW50WDogbnVtYmVyLCBjbGllbnRZOiBudW1iZXIpIHtcbiAgICBpZiAoIWRyYWdnaW5nSXRlbSB8fCBpc05hTihjbGllbnRYKSB8fCBpc05hTihjbGllbnRZKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBsZXQgd2lkdGggPSAyMDA7XG4gICAgbGV0IGhlaWdodCA9IDEwMDtcbiAgICBjb25zdCB7IHByb3BzIH0gPSBjb250ZXh0UmVmLmN1cnJlbnQ7XG4gICAgaWYgKGRyYWdnaW5nSXRlbS5tYW5pZmVzdC5kZWZhdWx0U2l6ZSkge1xuICAgICAgd2lkdGggPSBpc05hTihkcmFnZ2luZ0l0ZW0ubWFuaWZlc3QuZGVmYXVsdFNpemUud2lkdGgpXG4gICAgICAgID8gd2lkdGhcbiAgICAgICAgOiBkcmFnZ2luZ0l0ZW0ubWFuaWZlc3QuZGVmYXVsdFNpemUud2lkdGg7XG4gICAgICBoZWlnaHQgPSBpc05hTihkcmFnZ2luZ0l0ZW0ubWFuaWZlc3QuZGVmYXVsdFNpemUuaGVpZ2h0KVxuICAgICAgICA/IGhlaWdodFxuICAgICAgICA6IGRyYWdnaW5nSXRlbS5tYW5pZmVzdC5kZWZhdWx0U2l6ZS5oZWlnaHQ7XG4gICAgfVxuXG4gICAgaWYgKHByb3BzLm9uRHJhZ092ZXIpIHtcbiAgICAgIHByb3BzLm9uRHJhZ092ZXIoXG4gICAgICAgIGRyYWdnaW5nSXRlbSxcbiAgICAgICAgbnVsbCxcbiAgICAgICAgY29udGFpbmVyUmVjdCxcbiAgICAgICAge1xuICAgICAgICAgIGxlZnQ6IGNsaWVudFggLSB3aWR0aCAvIDIgLSBjb250YWluZXJSZWN0LmxlZnQsXG4gICAgICAgICAgdG9wOiBjbGllbnRZIC0gaGVpZ2h0IC8gMiAtIGNvbnRhaW5lclJlY3QudG9wLFxuICAgICAgICAgIHdpZHRoLFxuICAgICAgICAgIGhlaWdodCxcbiAgICAgICAgICByaWdodDogY2xpZW50WCAtIHdpZHRoIC8gMiAtIGNvbnRhaW5lclJlY3QubGVmdCArIHdpZHRoLFxuICAgICAgICAgIGJvdHRvbTogY2xpZW50WSAtIGhlaWdodCAvIDIgLSBjb250YWluZXJSZWN0LnRvcCArIGhlaWdodCxcbiAgICAgICAgfSxcbiAgICAgICAgY2xpZW50WCAtIGNvbnRhaW5lclJlY3QubGVmdCxcbiAgICAgICAgY2xpZW50WSAtIGNvbnRhaW5lclJlY3QudG9wLFxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBvbkRyb3AoZSkge1xuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICBlbGVtLmNsYXNzTGlzdC5yZW1vdmUoJ2Ryb3AtdGFyZ2V0Jyk7XG4gICAgZWxlbS5jbGFzc0xpc3QucmVtb3ZlKCdkcm9wLWFjdGl2ZScpO1xuICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKEdMT0JBTF9INV9EUkFHR0lOR19DTEFTU19OQU1FKTtcblxuICAgIGlmICghaXNINURyYWdFbGVtZW50QWNjZXB0ZWQoKSkge1xuICAgICAgaDVEcmFnZ2luZ0l0ZW0gPSBudWxsO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHsgcHJvcHMgfSA9IGNvbnRleHRSZWYuY3VycmVudDtcbiAgICBjb25zdCB7IGNsaWVudFgsIGNsaWVudFkgfSA9IGU7XG4gICAgY29uc3QgY29udGFpbmVyUmVjdCA9IGVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgbGV0IHdpZHRoID0gMjAwO1xuICAgIGxldCBoZWlnaHQgPSAxMDA7XG4gICAgaWYgKGg1RHJhZ2dpbmdJdGVtLm1hbmlmZXN0LmRlZmF1bHRTaXplKSB7XG4gICAgICB3aWR0aCA9IGlzTmFOKGg1RHJhZ2dpbmdJdGVtLm1hbmlmZXN0LmRlZmF1bHRTaXplLndpZHRoKVxuICAgICAgICA/IHdpZHRoXG4gICAgICAgIDogaDVEcmFnZ2luZ0l0ZW0ubWFuaWZlc3QuZGVmYXVsdFNpemUud2lkdGg7XG4gICAgICBoZWlnaHQgPSBpc05hTihoNURyYWdnaW5nSXRlbS5tYW5pZmVzdC5kZWZhdWx0U2l6ZS5oZWlnaHQpXG4gICAgICAgID8gaGVpZ2h0XG4gICAgICAgIDogaDVEcmFnZ2luZ0l0ZW0ubWFuaWZlc3QuZGVmYXVsdFNpemUuaGVpZ2h0O1xuICAgIH1cbiAgICBjb25zdCBpdGVtUmVjdCA9IHtcbiAgICAgIHdpZHRoLFxuICAgICAgaGVpZ2h0LFxuICAgICAgbGVmdDogY2xpZW50WCAtIHdpZHRoIC8gMiAtIGNvbnRhaW5lclJlY3QubGVmdCxcbiAgICAgIHRvcDogY2xpZW50WSAtIGhlaWdodCAvIDIgLSBjb250YWluZXJSZWN0LnRvcCxcbiAgICB9O1xuXG4gICAgaWYgKHByb3BzLm9uVG9nZ2xlRHJhZ292ZXJFZmZlY3QpIHtcbiAgICAgIHByb3BzLm9uVG9nZ2xlRHJhZ292ZXJFZmZlY3QoZmFsc2UsIGg1RHJhZ2dpbmdJdGVtKTtcbiAgICB9XG4gICAgaWYgKHByb3BzLm9uRHJvcCkge1xuICAgICAgcHJvcHMub25Ecm9wKFxuICAgICAgICBoNURyYWdnaW5nSXRlbSxcbiAgICAgICAgY29udGFpbmVyUmVjdCxcbiAgICAgICAge1xuICAgICAgICAgIHdpZHRoLFxuICAgICAgICAgIGhlaWdodCxcbiAgICAgICAgICBsZWZ0OiBjbGllbnRYIC0gd2lkdGggLyAyIC0gY29udGFpbmVyUmVjdC5sZWZ0LFxuICAgICAgICAgIHRvcDogY2xpZW50WSAtIGhlaWdodCAvIDIgLSBjb250YWluZXJSZWN0LnRvcCxcbiAgICAgICAgICByaWdodDogaXRlbVJlY3QubGVmdCArIGl0ZW1SZWN0LndpZHRoLFxuICAgICAgICAgIGJvdHRvbTogaXRlbVJlY3QudG9wICsgaXRlbVJlY3QuaGVpZ2h0LFxuICAgICAgICB9LFxuICAgICAgICBjbGllbnRYIC0gY29udGFpbmVyUmVjdC5sZWZ0LFxuICAgICAgICBjbGllbnRZIC0gY29udGFpbmVyUmVjdC50b3AsXG4gICAgICApO1xuICAgIH1cbiAgICBoNURyYWdnaW5nSXRlbSA9IG51bGw7XG4gIH1cbn0iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBSUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./jimu-layouts/lib/builder/interactive/droparea-effect-h5.tsx\n");

/***/ }),

/***/ "./jimu-layouts/lib/builder/interactive/droparea-effect-interactjs.tsx":
/*!*****************************************************************************!*\
  !*** ./jimu-layouts/lib/builder/interactive/droparea-effect-interactjs.tsx ***!
  \*****************************************************************************/
/*! exports provided: initInteractive */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"initInteractive\", function() { return initInteractive; });\n/* harmony import */ var jimu_core_dnd__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core/dnd */ \"jimu-core/dnd\");\n/* harmony import */ var jimu_core_dnd__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jimu_core_dnd__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _droparea_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./droparea-common */ \"./jimu-layouts/lib/builder/interactive/droparea-common.ts\");\n\n\nfunction initInteractive(domRef, contextRef) {\n    var draggingItem;\n    var draggingElement;\n    var containerRect;\n    var lastDragCall;\n    return Object(jimu_core_dnd__WEBPACK_IMPORTED_MODULE_0__[\"interact\"])(domRef).dropzone({\n        accept: '.exb-rnd',\n        checker: function (dragEvent, // related dragmove or dragend\n        event, // Touch, Pointer or Mouse Event\n        dropped, // bool default checker result\n        dropzone, // dropzone Interactable\n        dropElement, // dropzone elemnt\n        draggable, // draggable Interactable\n        draggableElement // draggable element\n        ) {\n            var _a = contextRef.current, props = _a.props, layoutId = _a.layoutId, pageContext = _a.pageContext, layoutContext = _a.layoutContext;\n            if (getComputedStyle(dropElement).pointerEvents === 'none') {\n                return false;\n            }\n            // if checker returns false, the following events such as dragenter and dragmove will not be fired.\n            draggingItem = Object(_droparea_common__WEBPACK_IMPORTED_MODULE_1__[\"createItemFromInteractEvent\"])(draggableElement);\n            return (pageContext.isDesignMode &&\n                !pageContext.viewOnly &&\n                !pageContext.lockLayout &&\n                dropped &&\n                !draggableElement.contains(dropElement) &&\n                Object(_droparea_common__WEBPACK_IMPORTED_MODULE_1__[\"isDraggingItemAccepted\"])(draggingItem, layoutContext, props, layoutId));\n        },\n        ondragenter: function (event) {\n            var _a = contextRef.current, props = _a.props, layoutId = _a.layoutId, pageContext = _a.pageContext;\n            event.stopPropagation();\n            event.target.classList.add('drop-target');\n            if (layoutId !== pageContext.rootLayoutId) {\n                event.target.classList.add('drop-active');\n            }\n            draggingElement = document.getElementById('interact_dragging_placeholder') || event.relatedTarget;\n            containerRect = event.dropzone.getRect();\n            if (props.onDragEnter) {\n                props.onDragEnter(draggingItem);\n            }\n            if (props.onToggleDragoverEffect) {\n                props.onToggleDragoverEffect(true, draggingItem);\n            }\n        },\n        ondragleave: function (event) {\n            var props = contextRef.current.props;\n            event.stopPropagation();\n            event.target.classList.remove('drop-target');\n            event.target.classList.remove('drop-active');\n            draggingElement = null;\n            containerRect = null;\n            if (lastDragCall) {\n                cancelAnimationFrame(lastDragCall);\n            }\n            if (props.onDragLeave) {\n                props.onDragLeave(draggingItem);\n            }\n            if (props.onToggleDragoverEffect) {\n                props.onToggleDragoverEffect(false, draggingItem);\n            }\n        },\n        ondropmove: function (event) {\n            var props = contextRef.current.props;\n            event.stopPropagation();\n            if (lastDragCall) {\n                cancelAnimationFrame(lastDragCall);\n            }\n            lastDragCall = requestAnimationFrame(function () {\n                var dragElementRect = event.dragEvent.rect;\n                var clientCoor = event.dragEvent._interaction.coords.cur.client;\n                var clientX = clientCoor.x - containerRect.left;\n                var clientY = clientCoor.y - containerRect.top;\n                if (props.onDragOver) {\n                    props.onDragOver(draggingItem, draggingElement, containerRect, {\n                        left: dragElementRect.left - containerRect.left,\n                        top: dragElementRect.top - containerRect.top,\n                        width: dragElementRect.width,\n                        height: dragElementRect.height,\n                        right: dragElementRect.left - containerRect.left + dragElementRect.width,\n                        bottom: dragElementRect.top - containerRect.top + dragElementRect.height,\n                    }, clientX, clientY);\n                }\n                lastDragCall = null;\n            });\n        },\n        ondrop: function (event) {\n            var props = contextRef.current.props;\n            event.stopPropagation();\n            event.target.classList.remove('drop-target');\n            event.target.classList.remove('drop-active');\n            if (props.onToggleDragoverEffect) {\n                props.onToggleDragoverEffect(false, draggingItem);\n            }\n            if (lastDragCall) {\n                cancelAnimationFrame(lastDragCall);\n            }\n            if (props.onDrop) {\n                var dragElementRect = event.dragEvent.rect;\n                var left = void 0;\n                var top = void 0;\n                // make sure the dragElement is totally in the container rect\n                left = dragElementRect.left - containerRect.left;\n                top = dragElementRect.top - containerRect.top;\n                left = Math.max(0, Math.min(left, containerRect.width - dragElementRect.width));\n                top = Math.max(0, Math.min(top, containerRect.height - dragElementRect.height));\n                var itemRect = {\n                    left: left,\n                    top: top,\n                    width: dragElementRect.width,\n                    height: dragElementRect.height,\n                };\n                itemRect.right = itemRect.left + itemRect.width;\n                itemRect.bottom = itemRect.top + itemRect.height;\n                var clientCoor = event.dragEvent._interaction.coords.cur.client;\n                var clientX = clientCoor.x - containerRect.left;\n                var clientY = clientCoor.y - containerRect.top;\n                props.onDrop(draggingItem, containerRect, itemRect, clientX, clientY);\n            }\n        },\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWxheW91dHMvbGliL2J1aWxkZXIvaW50ZXJhY3RpdmUvZHJvcGFyZWEtZWZmZWN0LWludGVyYWN0anMudHN4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vamltdS1sYXlvdXRzL2xpYi9idWlsZGVyL2ludGVyYWN0aXZlL2Ryb3BhcmVhLWVmZmVjdC1pbnRlcmFjdGpzLnRzeD85YTA5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJlYWN0IH0gZnJvbSAnamltdS1jb3JlJztcbmltcG9ydCB7IGludGVyYWN0IH0gZnJvbSAnamltdS1jb3JlL2RuZCc7XG5pbXBvcnQgeyBjcmVhdGVJdGVtRnJvbUludGVyYWN0RXZlbnQsIGlzRHJhZ2dpbmdJdGVtQWNjZXB0ZWQsIERyb3BBcmVhQ29udGV4dCB9IGZyb20gJy4vZHJvcGFyZWEtY29tbW9uJztcblxuZXhwb3J0IGZ1bmN0aW9uIGluaXRJbnRlcmFjdGl2ZShcbiAgZG9tUmVmOiBIVE1MRWxlbWVudCxcbiAgY29udGV4dFJlZjogUmVhY3QuUmVmT2JqZWN0PERyb3BBcmVhQ29udGV4dD5cbik6IEludGVyYWN0LkludGVyYWN0YWJsZSB7XG4gIGxldCBkcmFnZ2luZ0l0ZW07XG4gIGxldCBkcmFnZ2luZ0VsZW1lbnQ7XG4gIGxldCBjb250YWluZXJSZWN0O1xuICBsZXQgbGFzdERyYWdDYWxsO1xuXG4gIHJldHVybiBpbnRlcmFjdChkb21SZWYpLmRyb3B6b25lKHtcbiAgICBhY2NlcHQ6ICcuZXhiLXJuZCcsXG4gICAgY2hlY2tlcjogKFxuICAgICAgZHJhZ0V2ZW50LCAvLyByZWxhdGVkIGRyYWdtb3ZlIG9yIGRyYWdlbmRcbiAgICAgIGV2ZW50LCAvLyBUb3VjaCwgUG9pbnRlciBvciBNb3VzZSBFdmVudFxuICAgICAgZHJvcHBlZCwgLy8gYm9vbCBkZWZhdWx0IGNoZWNrZXIgcmVzdWx0XG4gICAgICBkcm9wem9uZSwgLy8gZHJvcHpvbmUgSW50ZXJhY3RhYmxlXG4gICAgICBkcm9wRWxlbWVudCwgLy8gZHJvcHpvbmUgZWxlbW50XG4gICAgICBkcmFnZ2FibGUsIC8vIGRyYWdnYWJsZSBJbnRlcmFjdGFibGVcbiAgICAgIGRyYWdnYWJsZUVsZW1lbnQgLy8gZHJhZ2dhYmxlIGVsZW1lbnRcbiAgICApID0+IHtcbiAgICAgIGNvbnN0IHsgcHJvcHMsIGxheW91dElkLCBwYWdlQ29udGV4dCwgbGF5b3V0Q29udGV4dCB9ID0gY29udGV4dFJlZi5jdXJyZW50O1xuICAgICAgaWYgKGdldENvbXB1dGVkU3R5bGUoZHJvcEVsZW1lbnQpLnBvaW50ZXJFdmVudHMgPT09ICdub25lJykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICAvLyBpZiBjaGVja2VyIHJldHVybnMgZmFsc2UsIHRoZSBmb2xsb3dpbmcgZXZlbnRzIHN1Y2ggYXMgZHJhZ2VudGVyIGFuZCBkcmFnbW92ZSB3aWxsIG5vdCBiZSBmaXJlZC5cbiAgICAgIGRyYWdnaW5nSXRlbSA9IGNyZWF0ZUl0ZW1Gcm9tSW50ZXJhY3RFdmVudChkcmFnZ2FibGVFbGVtZW50IGFzIEhUTUxFbGVtZW50KTtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIHBhZ2VDb250ZXh0LmlzRGVzaWduTW9kZSAmJlxuICAgICAgICAhcGFnZUNvbnRleHQudmlld09ubHkgJiZcbiAgICAgICAgIXBhZ2VDb250ZXh0LmxvY2tMYXlvdXQgJiZcbiAgICAgICAgZHJvcHBlZCAmJlxuICAgICAgICAhZHJhZ2dhYmxlRWxlbWVudC5jb250YWlucyhkcm9wRWxlbWVudCkgJiZcbiAgICAgICAgaXNEcmFnZ2luZ0l0ZW1BY2NlcHRlZChkcmFnZ2luZ0l0ZW0sIGxheW91dENvbnRleHQsIHByb3BzLCBsYXlvdXRJZClcbiAgICAgICk7XG4gICAgfSxcbiAgICBvbmRyYWdlbnRlcjogZXZlbnQgPT4ge1xuICAgICAgY29uc3QgeyBwcm9wcywgbGF5b3V0SWQsIHBhZ2VDb250ZXh0IH0gPSBjb250ZXh0UmVmLmN1cnJlbnQ7XG4gICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIGV2ZW50LnRhcmdldC5jbGFzc0xpc3QuYWRkKCdkcm9wLXRhcmdldCcpO1xuICAgICAgaWYgKGxheW91dElkICE9PSBwYWdlQ29udGV4dC5yb290TGF5b3V0SWQpIHtcbiAgICAgICAgZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ2Ryb3AtYWN0aXZlJyk7XG4gICAgICB9XG4gICAgICBkcmFnZ2luZ0VsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW50ZXJhY3RfZHJhZ2dpbmdfcGxhY2Vob2xkZXInKSB8fCBldmVudC5yZWxhdGVkVGFyZ2V0IGFzIEhUTUxFbGVtZW50O1xuICAgICAgY29udGFpbmVyUmVjdCA9IGV2ZW50LmRyb3B6b25lLmdldFJlY3QoKTtcbiAgICAgIGlmIChwcm9wcy5vbkRyYWdFbnRlcikge1xuICAgICAgICBwcm9wcy5vbkRyYWdFbnRlcihkcmFnZ2luZ0l0ZW0pO1xuICAgICAgfVxuICAgICAgaWYgKHByb3BzLm9uVG9nZ2xlRHJhZ292ZXJFZmZlY3QpIHtcbiAgICAgICAgcHJvcHMub25Ub2dnbGVEcmFnb3ZlckVmZmVjdCh0cnVlLCBkcmFnZ2luZ0l0ZW0pO1xuICAgICAgfVxuICAgIH0sXG4gICAgb25kcmFnbGVhdmU6IGV2ZW50ID0+IHtcbiAgICAgIGNvbnN0IHsgcHJvcHMgfSA9IGNvbnRleHRSZWYuY3VycmVudDtcbiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC5yZW1vdmUoJ2Ryb3AtdGFyZ2V0Jyk7XG4gICAgICBldmVudC50YXJnZXQuY2xhc3NMaXN0LnJlbW92ZSgnZHJvcC1hY3RpdmUnKTtcbiAgICAgIGRyYWdnaW5nRWxlbWVudCA9IG51bGw7XG4gICAgICBjb250YWluZXJSZWN0ID0gbnVsbDtcbiAgICAgIGlmIChsYXN0RHJhZ0NhbGwpIHtcbiAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUobGFzdERyYWdDYWxsKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHByb3BzLm9uRHJhZ0xlYXZlKSB7XG4gICAgICAgIHByb3BzLm9uRHJhZ0xlYXZlKGRyYWdnaW5nSXRlbSk7XG4gICAgICB9XG4gICAgICBpZiAocHJvcHMub25Ub2dnbGVEcmFnb3ZlckVmZmVjdCkge1xuICAgICAgICBwcm9wcy5vblRvZ2dsZURyYWdvdmVyRWZmZWN0KGZhbHNlLCBkcmFnZ2luZ0l0ZW0pO1xuICAgICAgfVxuICAgIH0sXG4gICAgb25kcm9wbW92ZTogZXZlbnQgPT4ge1xuICAgICAgY29uc3QgeyBwcm9wcyB9ID0gY29udGV4dFJlZi5jdXJyZW50O1xuICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICBpZiAobGFzdERyYWdDYWxsKSB7XG4gICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKGxhc3REcmFnQ2FsbCk7XG4gICAgICB9XG5cbiAgICAgIGxhc3REcmFnQ2FsbCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgIGNvbnN0IGRyYWdFbGVtZW50UmVjdCA9IGV2ZW50LmRyYWdFdmVudC5yZWN0O1xuXG4gICAgICAgIGNvbnN0IGNsaWVudENvb3IgPSBldmVudC5kcmFnRXZlbnQuX2ludGVyYWN0aW9uLmNvb3Jkcy5jdXIuY2xpZW50O1xuICAgICAgICBjb25zdCBjbGllbnRYID0gY2xpZW50Q29vci54IC0gY29udGFpbmVyUmVjdC5sZWZ0O1xuICAgICAgICBjb25zdCBjbGllbnRZID0gY2xpZW50Q29vci55IC0gY29udGFpbmVyUmVjdC50b3A7XG5cbiAgICAgICAgaWYgKHByb3BzLm9uRHJhZ092ZXIpIHtcbiAgICAgICAgICBwcm9wcy5vbkRyYWdPdmVyKFxuICAgICAgICAgICAgZHJhZ2dpbmdJdGVtLFxuICAgICAgICAgICAgZHJhZ2dpbmdFbGVtZW50LFxuICAgICAgICAgICAgY29udGFpbmVyUmVjdCxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgbGVmdDogZHJhZ0VsZW1lbnRSZWN0LmxlZnQgLSBjb250YWluZXJSZWN0LmxlZnQsXG4gICAgICAgICAgICAgIHRvcDogZHJhZ0VsZW1lbnRSZWN0LnRvcCAtIGNvbnRhaW5lclJlY3QudG9wLFxuICAgICAgICAgICAgICB3aWR0aDogZHJhZ0VsZW1lbnRSZWN0LndpZHRoLFxuICAgICAgICAgICAgICBoZWlnaHQ6IGRyYWdFbGVtZW50UmVjdC5oZWlnaHQsXG4gICAgICAgICAgICAgIHJpZ2h0OiBkcmFnRWxlbWVudFJlY3QubGVmdCAtIGNvbnRhaW5lclJlY3QubGVmdCArIGRyYWdFbGVtZW50UmVjdC53aWR0aCxcbiAgICAgICAgICAgICAgYm90dG9tOiBkcmFnRWxlbWVudFJlY3QudG9wIC0gY29udGFpbmVyUmVjdC50b3AgKyBkcmFnRWxlbWVudFJlY3QuaGVpZ2h0LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNsaWVudFgsXG4gICAgICAgICAgICBjbGllbnRZLFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgbGFzdERyYWdDYWxsID0gbnVsbDtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgb25kcm9wOiBldmVudCA9PiB7XG4gICAgICBjb25zdCB7IHByb3BzIH0gPSBjb250ZXh0UmVmLmN1cnJlbnQ7XG4gICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIGV2ZW50LnRhcmdldC5jbGFzc0xpc3QucmVtb3ZlKCdkcm9wLXRhcmdldCcpO1xuICAgICAgZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC5yZW1vdmUoJ2Ryb3AtYWN0aXZlJyk7XG4gICAgICBpZiAocHJvcHMub25Ub2dnbGVEcmFnb3ZlckVmZmVjdCkge1xuICAgICAgICBwcm9wcy5vblRvZ2dsZURyYWdvdmVyRWZmZWN0KGZhbHNlLCBkcmFnZ2luZ0l0ZW0pO1xuICAgICAgfVxuXG4gICAgICBpZiAobGFzdERyYWdDYWxsKSB7XG4gICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKGxhc3REcmFnQ2FsbCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChwcm9wcy5vbkRyb3ApIHtcbiAgICAgICAgY29uc3QgZHJhZ0VsZW1lbnRSZWN0ID0gZXZlbnQuZHJhZ0V2ZW50LnJlY3Q7XG4gICAgICAgIGxldCBsZWZ0O1xuICAgICAgICBsZXQgdG9wO1xuXG4gICAgICAgIC8vIG1ha2Ugc3VyZSB0aGUgZHJhZ0VsZW1lbnQgaXMgdG90YWxseSBpbiB0aGUgY29udGFpbmVyIHJlY3RcbiAgICAgICAgbGVmdCA9IGRyYWdFbGVtZW50UmVjdC5sZWZ0IC0gY29udGFpbmVyUmVjdC5sZWZ0O1xuICAgICAgICB0b3AgPSBkcmFnRWxlbWVudFJlY3QudG9wIC0gY29udGFpbmVyUmVjdC50b3A7XG4gICAgICAgIGxlZnQgPSBNYXRoLm1heCgwLCBNYXRoLm1pbihsZWZ0LCBjb250YWluZXJSZWN0LndpZHRoIC0gZHJhZ0VsZW1lbnRSZWN0LndpZHRoKSk7XG4gICAgICAgIHRvcCA9IE1hdGgubWF4KDAsIE1hdGgubWluKHRvcCwgY29udGFpbmVyUmVjdC5oZWlnaHQgLSBkcmFnRWxlbWVudFJlY3QuaGVpZ2h0KSk7XG5cbiAgICAgICAgY29uc3QgaXRlbVJlY3Q6IGFueSA9IHtcbiAgICAgICAgICBsZWZ0OiBsZWZ0LFxuICAgICAgICAgIHRvcDogdG9wLFxuICAgICAgICAgIHdpZHRoOiBkcmFnRWxlbWVudFJlY3Qud2lkdGgsXG4gICAgICAgICAgaGVpZ2h0OiBkcmFnRWxlbWVudFJlY3QuaGVpZ2h0LFxuICAgICAgICB9O1xuICAgICAgICBpdGVtUmVjdC5yaWdodCA9IGl0ZW1SZWN0LmxlZnQgKyBpdGVtUmVjdC53aWR0aDtcbiAgICAgICAgaXRlbVJlY3QuYm90dG9tID0gaXRlbVJlY3QudG9wICsgaXRlbVJlY3QuaGVpZ2h0O1xuXG4gICAgICAgIGNvbnN0IGNsaWVudENvb3IgPSBldmVudC5kcmFnRXZlbnQuX2ludGVyYWN0aW9uLmNvb3Jkcy5jdXIuY2xpZW50O1xuICAgICAgICBjb25zdCBjbGllbnRYID0gY2xpZW50Q29vci54IC0gY29udGFpbmVyUmVjdC5sZWZ0O1xuICAgICAgICBjb25zdCBjbGllbnRZID0gY2xpZW50Q29vci55IC0gY29udGFpbmVyUmVjdC50b3A7XG5cbiAgICAgICAgcHJvcHMub25Ecm9wKGRyYWdnaW5nSXRlbSwgY29udGFpbmVyUmVjdCwgaXRlbVJlY3QsIGNsaWVudFgsIGNsaWVudFkpO1xuICAgICAgfVxuICAgIH0sXG4gIH0pO1xufVxuIl0sIm1hcHBpbmdzIjoiQUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./jimu-layouts/lib/builder/interactive/droparea-effect-interactjs.tsx\n");

/***/ }),

/***/ "./jimu-layouts/lib/builder/interactive/droparea-hook.tsx":
/*!****************************************************************!*\
  !*** ./jimu-layouts/lib/builder/interactive/droparea-hook.tsx ***!
  \****************************************************************/
/*! exports provided: DropArea */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DropArea\", function() { return DropArea; });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jimu_core__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-layouts/layout-runtime */ \"jimu-layouts/layout-runtime\");\n/* harmony import */ var jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _droparea_effect_interactjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./droparea-effect-interactjs */ \"./jimu-layouts/lib/builder/interactive/droparea-effect-interactjs.tsx\");\n/* harmony import */ var _droparea_effect_h5__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./droparea-effect-h5 */ \"./jimu-layouts/lib/builder/interactive/droparea-effect-h5.tsx\");\nvar __makeTemplateObject = (undefined && undefined.__makeTemplateObject) || function (cooked, raw) {\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n    return cooked;\n};\n/** @jsx jsx */\n\n\n\n\n/* eslint-disable react-hooks/exhaustive-deps */\nfunction DropArea(props) {\n    var refObj = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useRef();\n    var layoutId = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"ReactRedux\"].useSelector(function (state) {\n        return props.layouts[state.browserSizeMode];\n    });\n    var pageContext = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useContext(jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__[\"PageContext\"]);\n    var layoutContext = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useContext(jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__[\"LayoutContext\"]);\n    var contextRef = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useRef();\n    contextRef.current = { props: props, layoutId: layoutId, pageContext: pageContext, layoutContext: layoutContext };\n    jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useEffect(function () {\n        var interactble;\n        if (refObj.current) {\n            interactble = Object(_droparea_effect_interactjs__WEBPACK_IMPORTED_MODULE_2__[\"initInteractive\"])(refObj.current, contextRef);\n        }\n        return function () {\n            if (interactble) {\n                interactble.unset();\n            }\n        };\n    }, []);\n    jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useEffect(function () {\n        if (refObj.current) {\n            Object(_droparea_effect_h5__WEBPACK_IMPORTED_MODULE_3__[\"initH5\"])(refObj.current, contextRef);\n        }\n    }, []);\n    var className = props.className, style = props.style, highlightDragover = props.highlightDragover;\n    var mergedClass = Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"classNames\"])('exb-drop-area d-flex', className);\n    var getStyle = function () {\n        return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n      background: transparent;\\n      padding: inherit;\\n\\n      & > .highlight-content {\\n        display: none;\\n        pointer-events: none;\\n      }\\n\\n      &.drop-target > .highlight-content {\\n        display: flex;\\n      }\\n\\n      &.drop-active {\\n        background: \", \";\\n      }\\n    \"], [\"\\n      background: transparent;\\n      padding: inherit;\\n\\n      & > .highlight-content {\\n        display: none;\\n        pointer-events: none;\\n      }\\n\\n      &.drop-target > .highlight-content {\\n        display: flex;\\n      }\\n\\n      &.drop-active {\\n        background: \", \";\\n      }\\n    \"])), jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"polished\"].rgba(pageContext.builderTheme.colors.palette.primary[700], 0.2));\n    };\n    return (Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: mergedClass, css: getStyle(), style: style, ref: function (el) { return refObj.current = el; } }, highlightDragover && Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"w-100 highlight-content\" }, props.children)));\n}\nvar templateObject_1;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWxheW91dHMvbGliL2J1aWxkZXIvaW50ZXJhY3RpdmUvZHJvcGFyZWEtaG9vay50c3guanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qaW11LWxheW91dHMvbGliL2J1aWxkZXIvaW50ZXJhY3RpdmUvZHJvcGFyZWEtaG9vay50c3g/NjM3ZSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiogQGpzeCBqc3ggKi9cbmltcG9ydCB7XG4gIFJlYWN0LFxuICBSZWFjdFJlZHV4LFxuICBJTVN0YXRlLFxuICBjbGFzc05hbWVzLFxuICBqc3gsXG4gIGNzcyxcbiAgcG9saXNoZWQsXG59IGZyb20gJ2ppbXUtY29yZSc7XG5pbXBvcnQge1xuICBQYWdlQ29udGV4dCxcbiAgTGF5b3V0Q29udGV4dCxcbn0gZnJvbSAnamltdS1sYXlvdXRzL2xheW91dC1ydW50aW1lJztcbmltcG9ydCB7IERyb3BBcmVhUHJvcHMsIERyb3BBcmVhQ29udGV4dCB9IGZyb20gJy4vZHJvcGFyZWEtY29tbW9uJztcbmltcG9ydCB7IGluaXRJbnRlcmFjdGl2ZSB9IGZyb20gJy4vZHJvcGFyZWEtZWZmZWN0LWludGVyYWN0anMnO1xuaW1wb3J0IHsgaW5pdEg1IH0gZnJvbSAnLi9kcm9wYXJlYS1lZmZlY3QtaDUnO1xuXG4vKiBlc2xpbnQtZGlzYWJsZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHMgKi9cbmV4cG9ydCBmdW5jdGlvbiBEcm9wQXJlYShwcm9wczogRHJvcEFyZWFQcm9wcykge1xuICBjb25zdCByZWZPYmogPSBSZWFjdC51c2VSZWY8SFRNTERpdkVsZW1lbnQ+KCk7XG4gIGNvbnN0IGxheW91dElkID0gUmVhY3RSZWR1eC51c2VTZWxlY3Rvcigoc3RhdGU6IElNU3RhdGUpID0+IHtcbiAgICByZXR1cm4gcHJvcHMubGF5b3V0c1tzdGF0ZS5icm93c2VyU2l6ZU1vZGVdO1xuICB9KTtcbiAgY29uc3QgcGFnZUNvbnRleHQgPSBSZWFjdC51c2VDb250ZXh0KFBhZ2VDb250ZXh0KTtcbiAgY29uc3QgbGF5b3V0Q29udGV4dCA9IFJlYWN0LnVzZUNvbnRleHQoTGF5b3V0Q29udGV4dCk7XG5cbiAgY29uc3QgY29udGV4dFJlZiA9IFJlYWN0LnVzZVJlZjxEcm9wQXJlYUNvbnRleHQ+KCk7XG4gIGNvbnRleHRSZWYuY3VycmVudCA9IHsgcHJvcHMsIGxheW91dElkLCBwYWdlQ29udGV4dCwgbGF5b3V0Q29udGV4dCB9O1xuXG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgbGV0IGludGVyYWN0YmxlO1xuICAgIGlmIChyZWZPYmouY3VycmVudCkge1xuICAgICAgaW50ZXJhY3RibGUgPSBpbml0SW50ZXJhY3RpdmUocmVmT2JqLmN1cnJlbnQsIGNvbnRleHRSZWYpO1xuICAgIH1cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgaWYgKGludGVyYWN0YmxlKSB7XG4gICAgICAgIGludGVyYWN0YmxlLnVuc2V0KCk7XG4gICAgICB9XG4gICAgfVxuICB9LCBbXSk7XG5cbiAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAocmVmT2JqLmN1cnJlbnQpIHtcbiAgICAgIGluaXRINShyZWZPYmouY3VycmVudCwgY29udGV4dFJlZik7XG4gICAgfVxuICB9LCBbXSk7XG5cbiAgY29uc3Qge1xuICAgIGNsYXNzTmFtZSxcbiAgICBzdHlsZSxcbiAgICBoaWdobGlnaHREcmFnb3ZlcixcbiAgfSA9IHByb3BzO1xuXG4gIGNvbnN0IG1lcmdlZENsYXNzID0gY2xhc3NOYW1lcygnZXhiLWRyb3AtYXJlYSBkLWZsZXgnLCBjbGFzc05hbWUpO1xuXG4gIGNvbnN0IGdldFN0eWxlID0gKCkgPT4ge1xuICAgIHJldHVybiBjc3NgXG4gICAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcbiAgICAgIHBhZGRpbmc6IGluaGVyaXQ7XG5cbiAgICAgICYgPiAuaGlnaGxpZ2h0LWNvbnRlbnQge1xuICAgICAgICBkaXNwbGF5OiBub25lO1xuICAgICAgICBwb2ludGVyLWV2ZW50czogbm9uZTtcbiAgICAgIH1cblxuICAgICAgJi5kcm9wLXRhcmdldCA+IC5oaWdobGlnaHQtY29udGVudCB7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICB9XG5cbiAgICAgICYuZHJvcC1hY3RpdmUge1xuICAgICAgICBiYWNrZ3JvdW5kOiAke3BvbGlzaGVkLnJnYmEocGFnZUNvbnRleHQuYnVpbGRlclRoZW1lLmNvbG9ycy5wYWxldHRlLnByaW1hcnlbNzAwXSwgMC4yKX07XG4gICAgICB9XG4gICAgYDtcbiAgfVxuICByZXR1cm4gKFxuICAgIDxkaXZcbiAgICAgIGNsYXNzTmFtZT17bWVyZ2VkQ2xhc3N9XG4gICAgICBjc3M9e2dldFN0eWxlKCl9XG4gICAgICBzdHlsZT17c3R5bGV9XG4gICAgICByZWY9e2VsID0+IHJlZk9iai5jdXJyZW50ID0gZWx9XG4gICAgPlxuICAgICAge2hpZ2hsaWdodERyYWdvdmVyICYmIDxkaXYgY2xhc3NOYW1lPVwidy0xMDAgaGlnaGxpZ2h0LWNvbnRlbnRcIj5cbiAgICAgICAge3Byb3BzLmNoaWxkcmVufVxuICAgICAgPC9kaXY+fVxuICAgIDwvZGl2PlxuICApO1xufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBU0E7QUFLQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBS0E7QUFFQTtBQUNBO0FBaUJBO0FBQ0E7QUFZQTs7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./jimu-layouts/lib/builder/interactive/droparea-hook.tsx\n");

/***/ }),

/***/ "./jimu-layouts/lib/builder/interactive/resize-event-handler.ts":
/*!**********************************************************************!*\
  !*** ./jimu-layouts/lib/builder/interactive/resize-event-handler.ts ***!
  \**********************************************************************/
/*! exports provided: GLOBAL_RESIZING_CLASS_NAME, bindResizeHandler, setIsResizing, isResizing */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GLOBAL_RESIZING_CLASS_NAME\", function() { return GLOBAL_RESIZING_CLASS_NAME; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"bindResizeHandler\", function() { return bindResizeHandler; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setIsResizing\", function() { return setIsResizing; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isResizing\", function() { return isResizing; });\n/* harmony import */ var jimu_core_dnd__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core/dnd */ \"jimu-core/dnd\");\n/* harmony import */ var jimu_core_dnd__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jimu_core_dnd__WEBPACK_IMPORTED_MODULE_0__);\n\nvar GLOBAL_RESIZING_CLASS_NAME = 'interactjs-resizing';\nvar isItemResizing = false;\nfunction bindResizeHandler(interactable, resizeHandlerProps) {\n    if (!interactable) {\n        return null;\n    }\n    var dx;\n    var dy;\n    var dw;\n    var dh;\n    var lastResizeCall = null;\n    var layoutItemId = resizeHandlerProps.layoutItemId, onResizeStart = resizeHandlerProps.onResizeStart, onResizing = resizeHandlerProps.onResizing, onResizeEnd = resizeHandlerProps.onResizeEnd;\n    return interactable.resizable({\n        inertia: false,\n        edges: {\n            top: '.rnd-resize-top',\n            left: '.rnd-resize-left',\n            bottom: '.rnd-resize-bottom',\n            right: '.rnd-resize-right',\n        },\n        modifiers: [\n            // keep the edges inside the parent\n            jimu_core_dnd__WEBPACK_IMPORTED_MODULE_0__[\"interact\"].modifiers.restrictEdges({\n                outer: 'parent'\n            }),\n            // minimum size\n            jimu_core_dnd__WEBPACK_IMPORTED_MODULE_0__[\"interact\"].modifiers.restrictSize({\n                min: { width: 16, height: 16 }\n            })\n        ],\n        onstart: function (event) {\n            event.stopPropagation();\n            dx = 0;\n            dy = 0;\n            dw = 0;\n            dh = 0;\n            var target = event.target;\n            var rect = target.getBoundingClientRect();\n            if (onResizeStart) {\n                onResizeStart(layoutItemId, rect.width, rect.height);\n            }\n            document.body.classList.add(GLOBAL_RESIZING_CLASS_NAME);\n        },\n        onmove: function (event) {\n            event.stopPropagation();\n            var deltaRect = event.deltaRect;\n            dx += deltaRect.left;\n            dy += deltaRect.top;\n            dw += deltaRect.width;\n            dh += deltaRect.height;\n            if (lastResizeCall) {\n                cancelAnimationFrame(lastResizeCall);\n                lastResizeCall = null;\n            }\n            lastResizeCall = requestAnimationFrame(function () {\n                if (onResizing) {\n                    onResizing(layoutItemId, dx, dy, dw, dh, event.shiftKey);\n                }\n                // Since this frame didn't get cancelled, the lastUpdateCall should be reset so new frames can be called.\n                lastResizeCall = null;\n            });\n        },\n        onend: function (event) {\n            event.stopPropagation();\n            if (lastResizeCall) {\n                cancelAnimationFrame(lastResizeCall);\n                lastResizeCall = null;\n            }\n            if (onResizeEnd) {\n                onResizeEnd(layoutItemId, dx, dy, dw, dh, event.shiftKey);\n            }\n            document.body.classList.remove(GLOBAL_RESIZING_CLASS_NAME);\n        },\n    });\n}\nfunction setIsResizing(value) {\n    isItemResizing = value;\n}\nfunction isResizing() {\n    return isItemResizing;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWxheW91dHMvbGliL2J1aWxkZXIvaW50ZXJhY3RpdmUvcmVzaXplLWV2ZW50LWhhbmRsZXIudHMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qaW11LWxheW91dHMvbGliL2J1aWxkZXIvaW50ZXJhY3RpdmUvcmVzaXplLWV2ZW50LWhhbmRsZXIudHM/NmE1ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpbnRlcmFjdCB9IGZyb20gJ2ppbXUtY29yZS9kbmQnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFJlc2l6ZUhhbmRsZXJQcm9wcyB7XG4gIGxheW91dEl0ZW1JZDogc3RyaW5nO1xuICBvblJlc2l6ZVN0YXJ0PzogKGlkOiBzdHJpbmcsIGluaXRXaWR0aDogbnVtYmVyLCBpbml0SGVpZ2h0OiBudW1iZXIpID0+IHZvaWQ7XG4gIG9uUmVzaXppbmc/OiAoaWQ6IHN0cmluZywgeDogbnVtYmVyLCB5OiBudW1iZXIsIGR3OiBudW1iZXIsIGRoOiBudW1iZXIsIHNoaWZ0S2V5PzogYm9vbGVhbikgPT4gdm9pZDtcbiAgb25SZXNpemVFbmQ/OiAoaWQ6IHN0cmluZywgeDogbnVtYmVyLCB5OiBudW1iZXIsIGR3OiBudW1iZXIsIGRoOiBudW1iZXIsIHNoaWZ0S2V5PzogYm9vbGVhbikgPT4gdm9pZDtcbn1cblxuZXhwb3J0IGNvbnN0IEdMT0JBTF9SRVNJWklOR19DTEFTU19OQU1FID0gJ2ludGVyYWN0anMtcmVzaXppbmcnO1xuXG5sZXQgaXNJdGVtUmVzaXppbmcgPSBmYWxzZTtcblxuZXhwb3J0IGZ1bmN0aW9uIGJpbmRSZXNpemVIYW5kbGVyKFxuICBpbnRlcmFjdGFibGU6IEludGVyYWN0LkludGVyYWN0YWJsZSxcbiAgcmVzaXplSGFuZGxlclByb3BzOiBSZXNpemVIYW5kbGVyUHJvcHMsXG4pOiBJbnRlcmFjdC5JbnRlcmFjdGFibGUge1xuICBpZiAoIWludGVyYWN0YWJsZSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGxldCBkeDtcbiAgbGV0IGR5O1xuICBsZXQgZHc7XG4gIGxldCBkaDtcbiAgbGV0IGxhc3RSZXNpemVDYWxsID0gbnVsbDtcbiAgY29uc3QgeyBsYXlvdXRJdGVtSWQsIG9uUmVzaXplU3RhcnQsIG9uUmVzaXppbmcsIG9uUmVzaXplRW5kIH0gPSByZXNpemVIYW5kbGVyUHJvcHM7XG5cbiAgcmV0dXJuIGludGVyYWN0YWJsZS5yZXNpemFibGUoe1xuICAgIGluZXJ0aWE6IGZhbHNlLFxuICAgIGVkZ2VzOiB7XG4gICAgICB0b3A6ICcucm5kLXJlc2l6ZS10b3AnLFxuICAgICAgbGVmdDogJy5ybmQtcmVzaXplLWxlZnQnLFxuICAgICAgYm90dG9tOiAnLnJuZC1yZXNpemUtYm90dG9tJyxcbiAgICAgIHJpZ2h0OiAnLnJuZC1yZXNpemUtcmlnaHQnLFxuICAgIH0sXG4gICAgbW9kaWZpZXJzOiBbXG4gICAgICAvLyBrZWVwIHRoZSBlZGdlcyBpbnNpZGUgdGhlIHBhcmVudFxuICAgICAgaW50ZXJhY3QubW9kaWZpZXJzLnJlc3RyaWN0RWRnZXMoe1xuICAgICAgICBvdXRlcjogJ3BhcmVudCdcbiAgICAgIH0pLFxuICAgICAgLy8gbWluaW11bSBzaXplXG4gICAgICBpbnRlcmFjdC5tb2RpZmllcnMucmVzdHJpY3RTaXplKHtcbiAgICAgICAgbWluOiB7IHdpZHRoOiAxNiwgaGVpZ2h0OiAxNiB9XG4gICAgICB9KVxuICAgIF0sXG4gICAgb25zdGFydDogKGV2ZW50OiBJbnRlcmFjdC5JbnRlcmFjdEV2ZW50KSA9PiB7XG4gICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIGR4ID0gMDtcbiAgICAgIGR5ID0gMDtcbiAgICAgIGR3ID0gMDtcbiAgICAgIGRoID0gMDtcbiAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldCBhcyBIVE1MRWxlbWVudDtcbiAgICAgIGNvbnN0IHJlY3QgPSB0YXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICBpZiAob25SZXNpemVTdGFydCkge1xuICAgICAgICBvblJlc2l6ZVN0YXJ0KGxheW91dEl0ZW1JZCwgcmVjdC53aWR0aCwgcmVjdC5oZWlnaHQpO1xuICAgICAgfVxuICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKEdMT0JBTF9SRVNJWklOR19DTEFTU19OQU1FKTtcbiAgICB9LFxuICAgIG9ubW92ZTogKGV2ZW50OiBJbnRlcmFjdC5SZXNpemVFdmVudCkgPT4ge1xuICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICAgIGNvbnN0IGRlbHRhUmVjdCA9IGV2ZW50LmRlbHRhUmVjdDtcbiAgICAgIGR4ICs9IGRlbHRhUmVjdC5sZWZ0O1xuICAgICAgZHkgKz0gZGVsdGFSZWN0LnRvcDtcbiAgICAgIGR3ICs9IGRlbHRhUmVjdC53aWR0aDtcbiAgICAgIGRoICs9IGRlbHRhUmVjdC5oZWlnaHQ7XG4gICAgICBpZiAobGFzdFJlc2l6ZUNhbGwpIHtcbiAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUobGFzdFJlc2l6ZUNhbGwpO1xuICAgICAgICBsYXN0UmVzaXplQ2FsbCA9IG51bGw7XG4gICAgICB9XG4gICAgICBsYXN0UmVzaXplQ2FsbCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgIGlmIChvblJlc2l6aW5nKSB7XG4gICAgICAgICAgb25SZXNpemluZyhsYXlvdXRJdGVtSWQsIGR4LCBkeSwgZHcsIGRoLCBldmVudC5zaGlmdEtleSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gU2luY2UgdGhpcyBmcmFtZSBkaWRuJ3QgZ2V0IGNhbmNlbGxlZCwgdGhlIGxhc3RVcGRhdGVDYWxsIHNob3VsZCBiZSByZXNldCBzbyBuZXcgZnJhbWVzIGNhbiBiZSBjYWxsZWQuXG4gICAgICAgIGxhc3RSZXNpemVDYWxsID0gbnVsbDtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgb25lbmQ6IChldmVudDogSW50ZXJhY3QuUmVzaXplRXZlbnQpID0+IHtcbiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgaWYgKGxhc3RSZXNpemVDYWxsKSB7XG4gICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKGxhc3RSZXNpemVDYWxsKTtcbiAgICAgICAgbGFzdFJlc2l6ZUNhbGwgPSBudWxsO1xuICAgICAgfVxuICAgICAgaWYgKG9uUmVzaXplRW5kKSB7XG4gICAgICAgIG9uUmVzaXplRW5kKGxheW91dEl0ZW1JZCwgZHgsIGR5LCBkdywgZGgsIGV2ZW50LnNoaWZ0S2V5KTtcbiAgICAgIH1cbiAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZShHTE9CQUxfUkVTSVpJTkdfQ0xBU1NfTkFNRSk7XG4gICAgfSxcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRJc1Jlc2l6aW5nKHZhbHVlOiBib29sZWFuKSB7XG4gIGlzSXRlbVJlc2l6aW5nID0gdmFsdWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1Jlc2l6aW5nKCk6IGJvb2xlYW4ge1xuICByZXR1cm4gaXNJdGVtUmVzaXppbmc7XG59XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFTQTtBQUVBO0FBRUE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./jimu-layouts/lib/builder/interactive/resize-event-handler.ts\n");

/***/ }),

/***/ "./jimu-layouts/lib/builder/interactive/rnd-decorator.tsx":
/*!****************************************************************!*\
  !*** ./jimu-layouts/lib/builder/interactive/rnd-decorator.tsx ***!
  \****************************************************************/
/*! exports provided: mapStateToRndWrapperProps, withRnd */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"mapStateToRndWrapperProps\", function() { return mapStateToRndWrapperProps; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"withRnd\", function() { return withRnd; });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jimu_core__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var jimu_core_dnd__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-core/dnd */ \"jimu-core/dnd\");\n/* harmony import */ var jimu_core_dnd__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jimu_core_dnd__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var hoist_non_react_statics__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! hoist-non-react-statics */ \"./node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js\");\n/* harmony import */ var hoist_non_react_statics__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(hoist_non_react_statics__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _drag_event_handler__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./drag-event-handler */ \"./jimu-layouts/lib/builder/interactive/drag-event-handler.ts\");\n/* harmony import */ var _resize_event_handler__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./resize-event-handler */ \"./jimu-layouts/lib/builder/interactive/resize-event-handler.ts\");\n/* harmony import */ var jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! jimu-layouts/layout-runtime */ \"jimu-layouts/layout-runtime\");\n/* harmony import */ var jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_5__);\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __makeTemplateObject = (undefined && undefined.__makeTemplateObject) || function (cooked, raw) {\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n    return cooked;\n};\nvar __assign = (undefined && undefined.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (undefined && undefined.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\n/** @jsx jsx */\n/* eslint-disable @typescript-eslint/no-unused-vars*/\n\n\n\n\n\n\nfunction mapStateToRndWrapperProps(state, ownProps) {\n    var _a, _b, _c, _d;\n    var layoutId = ownProps.layoutId;\n    // const layout = state.appConfig.layouts[layoutId];\n    // const layoutItemId = ownProps.layoutItemId;\n    var selection = state.appRuntimeInfo.selection;\n    var layoutItem = ownProps.layoutItem;\n    var selected = false;\n    var isInlineEditing = false;\n    var supportRepeat = false;\n    var isLayoutWidget = false;\n    if (layoutItem) {\n        selected = Boolean(selection && layoutId === selection.layoutId && layoutItem.id === selection.layoutItemId);\n        if (layoutItem.type === jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"LayoutItemType\"].Widget) {\n            var widget = state.appConfig.widgets[layoutItem.widgetId];\n            var supportInlineEditing = ((_b = (_a = widget === null || widget === void 0 ? void 0 : widget.manifest) === null || _a === void 0 ? void 0 : _a.properties) === null || _b === void 0 ? void 0 : _b.supportInlineEditing) === true;\n            supportRepeat = ((_d = (_c = widget === null || widget === void 0 ? void 0 : widget.manifest) === null || _c === void 0 ? void 0 : _c.properties) === null || _d === void 0 ? void 0 : _d.supportRepeat) === true;\n            if (supportInlineEditing) {\n                var widgetRuntimeInfo = state.widgetsRuntimeInfo[layoutItem.widgetId];\n                isInlineEditing = widgetRuntimeInfo && widgetRuntimeInfo.isInlineEditing;\n            }\n            isLayoutWidget = jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_5__[\"utils\"].isWidgetHasEmbeddedLayout(layoutItem.widgetId, state.appConfig);\n        }\n    }\n    return {\n        selected: selected,\n        supportRepeat: supportRepeat,\n        isInlineEditing: isInlineEditing,\n        isLayoutWidget: isLayoutWidget,\n    };\n}\nvar emptyFunc = function () { };\nfunction withRnd(autoSelect) {\n    return function (WrappedComponent) {\n        var RndWrapper = /** @class */ (function (_super) {\n            __extends(RndWrapper, _super);\n            function RndWrapper(props) {\n                var _this = _super.call(this, props) || this;\n                _this.ref = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].createRef();\n                return _this;\n            }\n            RndWrapper.prototype.componentDidMount = function () {\n                var _this = this;\n                var _a = this.props, layoutId = _a.layoutId, layoutItemId = _a.layoutItemId, layoutItem = _a.layoutItem, onResizeStart = _a.onResizeStart, onResizing = _a.onResizing, onResizeEnd = _a.onResizeEnd, onDragStart = _a.onDragStart, onDragging = _a.onDragging, onDragEnd = _a.onDragEnd, useDragHandler = _a.useDragHandler;\n                if (this.ref.current) {\n                    this.interactable = Object(jimu_core_dnd__WEBPACK_IMPORTED_MODULE_1__[\"interact\"])(this.ref.current).origin('parent');\n                    this.interactable = Object(_drag_event_handler__WEBPACK_IMPORTED_MODULE_3__[\"bindDragHandler\"])(this.interactable, {\n                        layoutId: layoutId,\n                        layoutItemId: layoutItemId,\n                        useDragHandler: useDragHandler,\n                        onDragging: onDragging,\n                        onDragStart: onDragStart,\n                        onDragEnd: onDragEnd,\n                        itemType: layoutItem.type,\n                        rootLayoutId: function () { return _this.rootLayoutId; },\n                        restrict: function () { return _this.props.restrict; },\n                    });\n                    this.interactable = Object(_resize_event_handler__WEBPACK_IMPORTED_MODULE_4__[\"bindResizeHandler\"])(this.interactable, {\n                        layoutItemId: layoutItemId,\n                        onResizing: onResizing,\n                        onResizeStart: onResizeStart,\n                        onResizeEnd: onResizeEnd,\n                    });\n                }\n            };\n            RndWrapper.prototype.componentWillUnMount = function () {\n                if (this.interactable) {\n                    this.interactable.unset();\n                    this.interactable = null;\n                }\n            };\n            RndWrapper.prototype.getStyle = function (isInlineEditing) {\n                return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n          \", \";\\n\\n          &.dragging {\\n            opacity: 0.9;\\n          }\\n\\n          display: flex;\\n          position: relative;\\n          touch-action: \", \";\\n          user-select: \", \";\\n        \"], [\"\\n          \", \";\\n\\n          &.dragging {\\n            opacity: 0.9;\\n          }\\n\\n          display: flex;\\n          position: relative;\\n          touch-action: \", \";\\n          user-select: \", \";\\n        \"])), this.aspectRatioStyle(), isInlineEditing ? 'auto' : 'none', isInlineEditing ? 'auto' : 'none');\n            };\n            RndWrapper.prototype.aspectRatioStyle = function () {\n                var _a = this.props, aspectRatio = _a.aspectRatio, keepAspectRatio = _a.forceAspectRatio;\n                if (keepAspectRatio) {\n                    return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_2 || (templateObject_2 = __makeTemplateObject([\"\\n            & > div.rnd-aspect-ratio-wrapper {\\n              width: 100%;\\n              position: relative;\\n              padding-top: \", \"%;\\n\\n              & > div {\\n                position: absolute !important;\\n                top: 0;\\n                left: 0;\\n                bottom: 0;\\n                right: 0;\\n              }\\n            }\\n          \"], [\"\\n            & > div.rnd-aspect-ratio-wrapper {\\n              width: 100%;\\n              position: relative;\\n              padding-top: \", \"%;\\n\\n              & > div {\\n                position: absolute !important;\\n                top: 0;\\n                left: 0;\\n                bottom: 0;\\n                right: 0;\\n              }\\n            }\\n          \"])), aspectRatio * 100);\n                }\n                return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_3 || (templateObject_3 = __makeTemplateObject([\"\\n          & > .rnd-aspect-ratio-wrapper {\\n            width: 100%;\\n            height: 100%;\\n            display: flex;\\n          }\\n        \"], [\"\\n          & > .rnd-aspect-ratio-wrapper {\\n            width: 100%;\\n            height: 100%;\\n            display: flex;\\n          }\\n        \"])));\n            };\n            RndWrapper.prototype.render = function () {\n                var _this = this;\n                return (Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_5__[\"PageContext\"].Consumer, null, function (pageContext) {\n                    _this.isDesignMode = pageContext.isDesignMode;\n                    _this.rootLayoutId = pageContext.rootLayoutId;\n                    var _a = _this.props, gridSize = _a.gridSize, draggable = _a.draggable, onResizeStart = _a.onResizeStart, onResizing = _a.onResizing, onResizeEnd = _a.onResizeEnd, style = _a.style, className = _a.className, useDragHandler = _a.useDragHandler, children = _a.children, otherProps = __rest(_a, [\"gridSize\", \"draggable\", \"onResizeStart\", \"onResizing\", \"onResizeEnd\", \"style\", \"className\", \"useDragHandler\", \"children\"]);\n                    var isInlineEditing = _this.props.isInlineEditing;\n                    var mergedClass = Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"classNames\"])('exb-rnd', className, {\n                        'functional-widget': !_this.props.isLayoutWidget,\n                    });\n                    var mergedStyle = typeof style === 'string' ? JSON.parse(style) : __assign({}, style);\n                    if (_this.props.forceAspectRatio) {\n                        mergedStyle.height = 'auto';\n                    }\n                    return (Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: mergedClass, ref: _this.ref, css: _this.getStyle(isInlineEditing), \"data-layoutid\": _this.props.layoutId, \"data-layoutitemid\": _this.props.layoutItemId, \"data-repeatable\": _this.props.supportRepeat, style: mergedStyle },\n                        Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"rnd-aspect-ratio-wrapper\" },\n                            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(WrappedComponent, __assign({ layoutId: _this.props.layoutId, className: \"w-100\", layoutItemId: _this.props.layoutItemId }, otherProps))),\n                        children));\n                }));\n            };\n            RndWrapper.defaultProps = {\n                left: true,\n                top: true,\n                right: true,\n                bottom: true,\n                restrict: false,\n                onResizeStart: emptyFunc,\n                onResizing: emptyFunc,\n                onResizeEnd: emptyFunc,\n                onDragStart: emptyFunc,\n                onDragging: emptyFunc,\n                onDragEnd: emptyFunc,\n            };\n            return RndWrapper;\n        }(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].PureComponent));\n        var HoistedComponent = hoist_non_react_statics__WEBPACK_IMPORTED_MODULE_2__(RndWrapper, WrappedComponent);\n        return jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"ReactRedux\"].connect(mapStateToRndWrapperProps)(HoistedComponent);\n    };\n}\nvar templateObject_1, templateObject_2, templateObject_3;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWxheW91dHMvbGliL2J1aWxkZXIvaW50ZXJhY3RpdmUvcm5kLWRlY29yYXRvci50c3guanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qaW11LWxheW91dHMvbGliL2J1aWxkZXIvaW50ZXJhY3RpdmUvcm5kLWRlY29yYXRvci50c3g/YTliNiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiogQGpzeCBqc3ggKi9cbi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnVzZWQtdmFycyovXG5pbXBvcnQge1xuICBSZWFjdCxcbiAgUmVhY3RSZWR1eCxcbiAgY2xhc3NOYW1lcyxcbiAganN4LFxuICBjc3MsXG4gIElNTGF5b3V0SXRlbUpzb24sXG4gIElNU3RhdGUsXG4gIExheW91dEl0ZW1UeXBlLFxufSBmcm9tICdqaW11LWNvcmUnO1xuaW1wb3J0IHsgaW50ZXJhY3QgfSBmcm9tICdqaW11LWNvcmUvZG5kJztcbmltcG9ydCAqIGFzIGhvaXN0Tm9uUmVhY3RTdGF0aWMgZnJvbSAnaG9pc3Qtbm9uLXJlYWN0LXN0YXRpY3MnO1xuaW1wb3J0IHsgYmluZERyYWdIYW5kbGVyIH0gZnJvbSAnLi9kcmFnLWV2ZW50LWhhbmRsZXInO1xuaW1wb3J0IHsgYmluZFJlc2l6ZUhhbmRsZXIgfSBmcm9tICcuL3Jlc2l6ZS1ldmVudC1oYW5kbGVyJztcbmltcG9ydCB7XG4gIExheW91dEl0ZW1Qcm9wcyxcbiAgUGFnZUNvbnRleHQsXG4gIFBhZ2VDb250ZXh0UHJvcHMsXG4gIHV0aWxzLFxufSBmcm9tICdqaW11LWxheW91dHMvbGF5b3V0LXJ1bnRpbWUnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFJuZE9wdGlvbnMge1xuICBsYXlvdXRJdGVtOiBJTUxheW91dEl0ZW1Kc29uO1xuICB0b3A/OiBib29sZWFuO1xuICBsZWZ0PzogYm9vbGVhbjtcbiAgcmlnaHQ/OiBib29sZWFuO1xuICBib3R0b20/OiBib29sZWFuO1xuICByZXN0cmljdD86IGJvb2xlYW47XG4gIGdyaWRTaXplPzogbnVtYmVyO1xuICB1c2VEcmFnSGFuZGxlcj86IGJvb2xlYW47XG4gIGZvcmNlQXNwZWN0UmF0aW8/OiBib29sZWFuO1xuICBhc3BlY3RSYXRpbz86IG51bWJlcjtcbiAgc3R5bGU/OiBhbnk7XG4gIGNsYXNzTmFtZT86IGFueTtcbiAgb25SZXNpemVTdGFydD86IChpZDogc3RyaW5nLCBpbml0V2lkdGg6IG51bWJlciwgaW5pdEhlaWdodDogbnVtYmVyKSA9PiB2b2lkO1xuICBvblJlc2l6aW5nPzogKGlkOiBzdHJpbmcsIHg6IG51bWJlciwgeTogbnVtYmVyLCBkdzogbnVtYmVyLCBkaDogbnVtYmVyKSA9PiB2b2lkO1xuICBvblJlc2l6ZUVuZD86IChpZDogc3RyaW5nLCB4OiBudW1iZXIsIHk6IG51bWJlciwgZHc6IG51bWJlciwgZGg6IG51bWJlcikgPT4gdm9pZDtcbiAgb25EcmFnU3RhcnQ/OiAoaWQ6IHN0cmluZykgPT4gdm9pZDtcbiAgb25EcmFnZ2luZz86IChpZDogc3RyaW5nLCBkeDogbnVtYmVyLCBkeTogbnVtYmVyKSA9PiB2b2lkO1xuICBvbkRyYWdFbmQ/OiAoaWQ6IHN0cmluZywgZHg6IG51bWJlciwgZHk6IG51bWJlcikgPT4gdm9pZDtcbn1cblxuaW50ZXJmYWNlIFJuZFdyYXBwZXJQcm9wcyB7XG4gIGlzSW5saW5lRWRpdGluZzogYm9vbGVhbjtcbiAgc3VwcG9ydFJlcGVhdDogYm9vbGVhbjtcbiAgaXNMYXlvdXRXaWRnZXQ6IGJvb2xlYW47XG4gIHNlbGVjdGVkOiBib29sZWFuO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbWFwU3RhdGVUb1JuZFdyYXBwZXJQcm9wcyhzdGF0ZTogSU1TdGF0ZSwgb3duUHJvcHM6IExheW91dEl0ZW1Qcm9wcyAmIFJuZE9wdGlvbnMpOiBSbmRXcmFwcGVyUHJvcHMge1xuICBjb25zdCBsYXlvdXRJZCA9IG93blByb3BzLmxheW91dElkO1xuICAvLyBjb25zdCBsYXlvdXQgPSBzdGF0ZS5hcHBDb25maWcubGF5b3V0c1tsYXlvdXRJZF07XG4gIC8vIGNvbnN0IGxheW91dEl0ZW1JZCA9IG93blByb3BzLmxheW91dEl0ZW1JZDtcbiAgY29uc3Qgc2VsZWN0aW9uID0gc3RhdGUuYXBwUnVudGltZUluZm8uc2VsZWN0aW9uO1xuICBjb25zdCBsYXlvdXRJdGVtID0gb3duUHJvcHMubGF5b3V0SXRlbTtcbiAgbGV0IHNlbGVjdGVkID0gZmFsc2U7XG4gIGxldCBpc0lubGluZUVkaXRpbmcgPSBmYWxzZTtcbiAgbGV0IHN1cHBvcnRSZXBlYXQgPSBmYWxzZTtcbiAgbGV0IGlzTGF5b3V0V2lkZ2V0ID0gZmFsc2U7XG5cbiAgaWYgKGxheW91dEl0ZW0pIHtcbiAgICBzZWxlY3RlZCA9IEJvb2xlYW4oc2VsZWN0aW9uICYmIGxheW91dElkID09PSBzZWxlY3Rpb24ubGF5b3V0SWQgJiYgbGF5b3V0SXRlbS5pZCA9PT0gc2VsZWN0aW9uLmxheW91dEl0ZW1JZCk7XG4gICAgaWYgKGxheW91dEl0ZW0udHlwZSA9PT0gTGF5b3V0SXRlbVR5cGUuV2lkZ2V0KSB7XG4gICAgICBjb25zdCB3aWRnZXQgPSBzdGF0ZS5hcHBDb25maWcud2lkZ2V0c1tsYXlvdXRJdGVtLndpZGdldElkXTtcbiAgICAgIGNvbnN0IHN1cHBvcnRJbmxpbmVFZGl0aW5nID0gd2lkZ2V0Py5tYW5pZmVzdD8ucHJvcGVydGllcz8uc3VwcG9ydElubGluZUVkaXRpbmcgPT09IHRydWU7XG4gICAgICBzdXBwb3J0UmVwZWF0ID0gd2lkZ2V0Py5tYW5pZmVzdD8ucHJvcGVydGllcz8uc3VwcG9ydFJlcGVhdCA9PT0gdHJ1ZTtcbiAgICAgIGlmIChzdXBwb3J0SW5saW5lRWRpdGluZykge1xuICAgICAgICBjb25zdCB3aWRnZXRSdW50aW1lSW5mbyA9IHN0YXRlLndpZGdldHNSdW50aW1lSW5mb1tsYXlvdXRJdGVtLndpZGdldElkXTtcbiAgICAgICAgaXNJbmxpbmVFZGl0aW5nID0gd2lkZ2V0UnVudGltZUluZm8gJiYgd2lkZ2V0UnVudGltZUluZm8uaXNJbmxpbmVFZGl0aW5nO1xuICAgICAgfVxuICAgICAgaXNMYXlvdXRXaWRnZXQgPSB1dGlscy5pc1dpZGdldEhhc0VtYmVkZGVkTGF5b3V0KGxheW91dEl0ZW0ud2lkZ2V0SWQsIHN0YXRlLmFwcENvbmZpZyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBzZWxlY3RlZCxcbiAgICBzdXBwb3J0UmVwZWF0LFxuICAgIGlzSW5saW5lRWRpdGluZyxcbiAgICBpc0xheW91dFdpZGdldCxcbiAgfTtcbn1cblxuY29uc3QgZW1wdHlGdW5jID0gKCkgPT4ge307XG5cbmV4cG9ydCBmdW5jdGlvbiB3aXRoUm5kKGF1dG9TZWxlY3Q/OiBib29sZWFuKSB7XG4gIHJldHVybiAoXG4gICAgV3JhcHBlZENvbXBvbmVudDogUmVhY3QuQ29tcG9uZW50Q2xhc3M8XG4gICAgICBMYXlvdXRJdGVtUHJvcHMgJiB7XG4gICAgICAgIGRpc2FibGVSZXNpemluZz86IGJvb2xlYW47XG4gICAgICAgIGlzRHJhZ2dpbmc/OiBib29sZWFuO1xuICAgICAgICBpc1Jlc2l6aW5nPzogYm9vbGVhbjtcbiAgICAgIH1cbiAgICA+XG4gICk6IFJlYWN0LkNvbXBvbmVudENsYXNzPFJuZE9wdGlvbnMgJiBMYXlvdXRJdGVtUHJvcHMgJiB7d2lkZ2V0SWQ/OiBzdHJpbmcsIFt4OiBzdHJpbmddOiBhbnl9PiA9PiB7XG4gICAgY2xhc3MgUm5kV3JhcHBlciBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQ8Um5kV3JhcHBlclByb3BzICYgUm5kT3B0aW9ucyAmIExheW91dEl0ZW1Qcm9wcz4ge1xuICAgICAgc3RhdGljIGRlZmF1bHRQcm9wczogUGFydGlhbDxSbmRPcHRpb25zPiA9IHtcbiAgICAgICAgbGVmdDogdHJ1ZSxcbiAgICAgICAgdG9wOiB0cnVlLFxuICAgICAgICByaWdodDogdHJ1ZSxcbiAgICAgICAgYm90dG9tOiB0cnVlLFxuICAgICAgICByZXN0cmljdDogZmFsc2UsXG4gICAgICAgIG9uUmVzaXplU3RhcnQ6IGVtcHR5RnVuYyxcbiAgICAgICAgb25SZXNpemluZzogZW1wdHlGdW5jLFxuICAgICAgICBvblJlc2l6ZUVuZDogZW1wdHlGdW5jLFxuICAgICAgICBvbkRyYWdTdGFydDogZW1wdHlGdW5jLFxuICAgICAgICBvbkRyYWdnaW5nOiBlbXB0eUZ1bmMsXG4gICAgICAgIG9uRHJhZ0VuZDogZW1wdHlGdW5jLFxuICAgICAgfTtcblxuICAgICAgcmVmOiBSZWFjdC5SZWZPYmplY3Q8SFRNTERpdkVsZW1lbnQ+O1xuICAgICAgaW50ZXJhY3RhYmxlOiBJbnRlcmFjdC5JbnRlcmFjdGFibGU7XG4gICAgICBpc0Rlc2lnbk1vZGU6IGJvb2xlYW47XG4gICAgICByb290TGF5b3V0SWQ6IHN0cmluZztcblxuICAgICAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICAgICAgc3VwZXIocHJvcHMpO1xuICAgICAgICB0aGlzLnJlZiA9IFJlYWN0LmNyZWF0ZVJlZjxIVE1MRGl2RWxlbWVudD4oKTtcbiAgICAgIH1cblxuICAgICAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICBsYXlvdXRJZCxcbiAgICAgICAgICBsYXlvdXRJdGVtSWQsXG4gICAgICAgICAgbGF5b3V0SXRlbSxcbiAgICAgICAgICBvblJlc2l6ZVN0YXJ0LFxuICAgICAgICAgIG9uUmVzaXppbmcsXG4gICAgICAgICAgb25SZXNpemVFbmQsXG4gICAgICAgICAgb25EcmFnU3RhcnQsXG4gICAgICAgICAgb25EcmFnZ2luZyxcbiAgICAgICAgICBvbkRyYWdFbmQsXG4gICAgICAgICAgdXNlRHJhZ0hhbmRsZXIsXG4gICAgICAgIH0gPSB0aGlzLnByb3BzO1xuXG4gICAgICAgIGlmICh0aGlzLnJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgdGhpcy5pbnRlcmFjdGFibGUgPSBpbnRlcmFjdCh0aGlzLnJlZi5jdXJyZW50KS5vcmlnaW4oJ3BhcmVudCcpO1xuICAgICAgICAgIHRoaXMuaW50ZXJhY3RhYmxlID0gYmluZERyYWdIYW5kbGVyKHRoaXMuaW50ZXJhY3RhYmxlIGFzIGFueSwge1xuICAgICAgICAgICAgbGF5b3V0SWQsXG4gICAgICAgICAgICBsYXlvdXRJdGVtSWQsXG4gICAgICAgICAgICB1c2VEcmFnSGFuZGxlcixcbiAgICAgICAgICAgIG9uRHJhZ2dpbmcsXG4gICAgICAgICAgICBvbkRyYWdTdGFydCxcbiAgICAgICAgICAgIG9uRHJhZ0VuZCxcbiAgICAgICAgICAgIGl0ZW1UeXBlOiBsYXlvdXRJdGVtLnR5cGUsXG4gICAgICAgICAgICByb290TGF5b3V0SWQ6ICgpID0+IHRoaXMucm9vdExheW91dElkLFxuICAgICAgICAgICAgcmVzdHJpY3Q6ICgpID0+IHRoaXMucHJvcHMucmVzdHJpY3QsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgdGhpcy5pbnRlcmFjdGFibGUgPSBiaW5kUmVzaXplSGFuZGxlcih0aGlzLmludGVyYWN0YWJsZSwge1xuICAgICAgICAgICAgbGF5b3V0SXRlbUlkLFxuICAgICAgICAgICAgb25SZXNpemluZyxcbiAgICAgICAgICAgIG9uUmVzaXplU3RhcnQsXG4gICAgICAgICAgICBvblJlc2l6ZUVuZCxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBjb21wb25lbnRXaWxsVW5Nb3VudCgpIHtcbiAgICAgICAgaWYgKHRoaXMuaW50ZXJhY3RhYmxlKSB7XG4gICAgICAgICAgdGhpcy5pbnRlcmFjdGFibGUudW5zZXQoKTtcbiAgICAgICAgICB0aGlzLmludGVyYWN0YWJsZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZ2V0U3R5bGUoaXNJbmxpbmVFZGl0aW5nOiBib29sZWFuKSB7XG4gICAgICAgIHJldHVybiBjc3NgXG4gICAgICAgICAgJHt0aGlzLmFzcGVjdFJhdGlvU3R5bGUoKX07XG5cbiAgICAgICAgICAmLmRyYWdnaW5nIHtcbiAgICAgICAgICAgIG9wYWNpdHk6IDAuOTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgICAgICB0b3VjaC1hY3Rpb246ICR7aXNJbmxpbmVFZGl0aW5nID8gJ2F1dG8nIDogJ25vbmUnfTtcbiAgICAgICAgICB1c2VyLXNlbGVjdDogJHtpc0lubGluZUVkaXRpbmcgPyAnYXV0bycgOiAnbm9uZSd9O1xuICAgICAgICBgO1xuICAgICAgfVxuXG4gICAgICBhc3BlY3RSYXRpb1N0eWxlKCkge1xuICAgICAgICBjb25zdCB7IGFzcGVjdFJhdGlvLCBmb3JjZUFzcGVjdFJhdGlvOiBrZWVwQXNwZWN0UmF0aW8gfSA9IHRoaXMucHJvcHM7XG4gICAgICAgIGlmIChrZWVwQXNwZWN0UmF0aW8pIHtcbiAgICAgICAgICByZXR1cm4gY3NzYFxuICAgICAgICAgICAgJiA+IGRpdi5ybmQtYXNwZWN0LXJhdGlvLXdyYXBwZXIge1xuICAgICAgICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgICAgICAgICBwYWRkaW5nLXRvcDogJHthc3BlY3RSYXRpbyAqIDEwMH0lO1xuXG4gICAgICAgICAgICAgICYgPiBkaXYge1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZSAhaW1wb3J0YW50O1xuICAgICAgICAgICAgICAgIHRvcDogMDtcbiAgICAgICAgICAgICAgICBsZWZ0OiAwO1xuICAgICAgICAgICAgICAgIGJvdHRvbTogMDtcbiAgICAgICAgICAgICAgICByaWdodDogMDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIGA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNzc2BcbiAgICAgICAgICAmID4gLnJuZC1hc3BlY3QtcmF0aW8td3JhcHBlciB7XG4gICAgICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgICAgIGhlaWdodDogMTAwJTtcbiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgfVxuICAgICAgICBgO1xuICAgICAgfVxuXG4gICAgICByZW5kZXIoKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPFBhZ2VDb250ZXh0LkNvbnN1bWVyPlxuICAgICAgICAgICAgeyhwYWdlQ29udGV4dDogUGFnZUNvbnRleHRQcm9wcykgPT4ge1xuICAgICAgICAgICAgICB0aGlzLmlzRGVzaWduTW9kZSA9IHBhZ2VDb250ZXh0LmlzRGVzaWduTW9kZTtcbiAgICAgICAgICAgICAgdGhpcy5yb290TGF5b3V0SWQgPSBwYWdlQ29udGV4dC5yb290TGF5b3V0SWQ7XG4gICAgICAgICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgICAgICBncmlkU2l6ZSxcbiAgICAgICAgICAgICAgICBkcmFnZ2FibGUsXG4gICAgICAgICAgICAgICAgb25SZXNpemVTdGFydCxcbiAgICAgICAgICAgICAgICBvblJlc2l6aW5nLFxuICAgICAgICAgICAgICAgIG9uUmVzaXplRW5kLFxuICAgICAgICAgICAgICAgIHN0eWxlLFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZSxcbiAgICAgICAgICAgICAgICB1c2VEcmFnSGFuZGxlcixcbiAgICAgICAgICAgICAgICBjaGlsZHJlbixcbiAgICAgICAgICAgICAgICAuLi5vdGhlclByb3BzXG4gICAgICAgICAgICAgIH0gPSB0aGlzLnByb3BzO1xuICAgICAgICAgICAgICBjb25zdCB7IGlzSW5saW5lRWRpdGluZyB9ID0gdGhpcy5wcm9wcztcblxuICAgICAgICAgICAgICBjb25zdCBtZXJnZWRDbGFzcyA9IGNsYXNzTmFtZXMoJ2V4Yi1ybmQnLCBjbGFzc05hbWUsIHtcbiAgICAgICAgICAgICAgICAnZnVuY3Rpb25hbC13aWRnZXQnOiAhdGhpcy5wcm9wcy5pc0xheW91dFdpZGdldCxcbiAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgY29uc3QgbWVyZ2VkU3R5bGUgPSB0eXBlb2Ygc3R5bGUgPT09ICdzdHJpbmcnID8gSlNPTi5wYXJzZShzdHlsZSkgOiB7XG4gICAgICAgICAgICAgICAgLi4uc3R5bGUsXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLmZvcmNlQXNwZWN0UmF0aW8pIHtcbiAgICAgICAgICAgICAgICBtZXJnZWRTdHlsZS5oZWlnaHQgPSAnYXV0byc7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17bWVyZ2VkQ2xhc3N9XG4gICAgICAgICAgICAgICAgICByZWY9e3RoaXMucmVmfVxuICAgICAgICAgICAgICAgICAgY3NzPXt0aGlzLmdldFN0eWxlKGlzSW5saW5lRWRpdGluZyl9XG4gICAgICAgICAgICAgICAgICBkYXRhLWxheW91dGlkPXt0aGlzLnByb3BzLmxheW91dElkfVxuICAgICAgICAgICAgICAgICAgZGF0YS1sYXlvdXRpdGVtaWQ9e3RoaXMucHJvcHMubGF5b3V0SXRlbUlkfVxuICAgICAgICAgICAgICAgICAgZGF0YS1yZXBlYXRhYmxlPXt0aGlzLnByb3BzLnN1cHBvcnRSZXBlYXR9XG4gICAgICAgICAgICAgICAgICBzdHlsZT17bWVyZ2VkU3R5bGV9PlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJybmQtYXNwZWN0LXJhdGlvLXdyYXBwZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPFdyYXBwZWRDb21wb25lbnRcbiAgICAgICAgICAgICAgICAgICAgICBsYXlvdXRJZD17dGhpcy5wcm9wcy5sYXlvdXRJZH1cbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTEwMFwiXG4gICAgICAgICAgICAgICAgICAgICAgbGF5b3V0SXRlbUlkPXt0aGlzLnByb3BzLmxheW91dEl0ZW1JZH1cbiAgICAgICAgICAgICAgICAgICAgICB7Li4ub3RoZXJQcm9wc31cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAge2NoaWxkcmVufVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfX1cbiAgICAgICAgICA8L1BhZ2VDb250ZXh0LkNvbnN1bWVyPlxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IEhvaXN0ZWRDb21wb25lbnQgPSBob2lzdE5vblJlYWN0U3RhdGljKFJuZFdyYXBwZXIsIFdyYXBwZWRDb21wb25lbnQpO1xuICAgIHJldHVybiBSZWFjdFJlZHV4LmNvbm5lY3Q8Um5kV3JhcHBlclByb3BzLCB1bmtub3duLCBSbmRPcHRpb25zICYgTGF5b3V0SXRlbVByb3BzPihtYXBTdGF0ZVRvUm5kV3JhcHBlclByb3BzKShcbiAgICAgIEhvaXN0ZWRDb21wb25lbnQsXG4gICAgKSBhcyB1bmtub3duIGFzIFJlYWN0LkNvbXBvbmVudENsYXNzPFJuZE9wdGlvbnMgJiBMYXlvdXRJdGVtUHJvcHMgJiB7d2lkZ2V0SWQ/OiBzdHJpbmcsIFt4OiBzdHJpbmddOiBhbnl9PjtcbiAgfTtcbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQVVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFtQ0E7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQVNBO0FBQUE7QUFvQkE7QUFBQTtBQUVBOztBQUNBO0FBRUE7QUFBQTtBQUNBO0FBYUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQVlBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFlQTtBQUNBO0FBT0E7QUFFQTtBQUFBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFZQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFTQTtBQUNBO0FBT0E7QUFHQTtBQUdBO0FBcEtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBeUpBO0FBQUE7QUFFQTtBQUNBO0FBR0E7QUFDQTs7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./jimu-layouts/lib/builder/interactive/rnd-decorator.tsx\n");

/***/ }),

/***/ "./jimu-layouts/lib/builder/layout-entry.tsx":
/*!***************************************************!*\
  !*** ./jimu-layouts/lib/builder/layout-entry.tsx ***!
  \***************************************************/
/*! exports provided: default, defaultWidetFilter */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"defaultWidetFilter\", function() { return defaultWidetFilter; });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jimu_core__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-layouts/layout-runtime */ \"jimu-layouts/layout-runtime\");\n/* harmony import */ var jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__);\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (undefined && undefined.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (undefined && undefined.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\n/** @jsx jsx */\n\n\n// import { LayoutSelector } from './layout-selector';\nvar LayoutEntryMode;\n(function (LayoutEntryMode) {\n    LayoutEntryMode[LayoutEntryMode[\"ChooseLayoutType\"] = 0] = \"ChooseLayoutType\";\n    LayoutEntryMode[LayoutEntryMode[\"RenderLayout\"] = 1] = \"RenderLayout\";\n})(LayoutEntryMode || (LayoutEntryMode = {}));\nvar LayoutEntry = /** @class */ (function (_super) {\n    __extends(LayoutEntry, _super);\n    function LayoutEntry() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            mode: LayoutEntryMode.RenderLayout,\n        };\n        _this.onLayoutTypeSelected = function () {\n            _this.setState({\n                mode: LayoutEntryMode.RenderLayout,\n            });\n        };\n        _this.switchToChoosingMobe = function () {\n            _this.setState({\n                mode: LayoutEntryMode.ChooseLayoutType,\n            });\n        };\n        return _this;\n    }\n    LayoutEntry.prototype.shouldComponentUpdate = function (nextProps) {\n        var _this = this;\n        if (nextProps.isPageItem && !nextProps.visible) {\n            return false;\n        }\n        return Object.keys(nextProps).some(function (key) { return nextProps[key] !== _this.props[key]; });\n    };\n    LayoutEntry.prototype.render = function () {\n        var layout = this.props.layout;\n        if (!layout) {\n            return null;\n        }\n        var LayoutElement = Object(jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__[\"findLayoutBuilder\"])(layout.type || jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"LayoutType\"].FlowLayout); // default layout type is FlowLayout\n        if (!LayoutElement) {\n            return null;\n        }\n        var _a = this.props, isItemAccepted = _a.isItemAccepted, otherProps = __rest(_a, [\"isItemAccepted\"]);\n        return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__[\"LayoutContext\"].Provider, { value: {\n                isItemAccepted: isItemAccepted || defaultWidetFilter,\n            } },\n            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(LayoutElement, __assign({}, otherProps)));\n    };\n    return LayoutEntry;\n}(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].Component));\n/* harmony default export */ __webpack_exports__[\"default\"] = (jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"ReactRedux\"].connect(jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__[\"utils\"].mapStateToLayoutProps)(LayoutEntry));\nfunction defaultWidetFilter(item, isPlaceholder) {\n    var _a;\n    if (!isPlaceholder) {\n        return true;\n    }\n    return ((_a = item === null || item === void 0 ? void 0 : item.manifest) === null || _a === void 0 ? void 0 : _a.widgetType) !== jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"WidgetType\"].Layout;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWxheW91dHMvbGliL2J1aWxkZXIvbGF5b3V0LWVudHJ5LnRzeC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2ppbXUtbGF5b3V0cy9saWIvYnVpbGRlci9sYXlvdXQtZW50cnkudHN4P2ViNDkiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqIEBqc3gganN4ICovXG5pbXBvcnQgeyBSZWFjdCwganN4LCBSZWFjdFJlZHV4LCBMYXlvdXRUeXBlLCBMYXlvdXRJdGVtQ29uc3RydWN0b3JQcm9wcywgV2lkZ2V0VHlwZSB9IGZyb20gJ2ppbXUtY29yZSc7XG5pbXBvcnQge1xuICB1dGlscyxcbiAgTGF5b3V0UHJvcHMsXG4gIFN0YXRlVG9MYXlvdXRQcm9wcyxcbiAgZmluZExheW91dEJ1aWxkZXIsXG4gIExheW91dENvbnRleHQsXG59IGZyb20gJ2ppbXUtbGF5b3V0cy9sYXlvdXQtcnVudGltZSc7XG4vLyBpbXBvcnQgeyBMYXlvdXRTZWxlY3RvciB9IGZyb20gJy4vbGF5b3V0LXNlbGVjdG9yJztcblxuY29uc3QgZW51bSBMYXlvdXRFbnRyeU1vZGUge1xuICBDaG9vc2VMYXlvdXRUeXBlLFxuICBSZW5kZXJMYXlvdXQsXG59XG5cbmludGVyZmFjZSBTdGF0ZSB7XG4gIG1vZGU6IExheW91dEVudHJ5TW9kZTtcbn1cblxuY2xhc3MgTGF5b3V0RW50cnkgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8TGF5b3V0UHJvcHMgJiBTdGF0ZVRvTGF5b3V0UHJvcHMsIFN0YXRlPntcbiAgc3RhdGU6IFN0YXRlID0ge1xuICAgIG1vZGU6IExheW91dEVudHJ5TW9kZS5SZW5kZXJMYXlvdXQsXG4gIH07XG5cbiAgc2hvdWxkQ29tcG9uZW50VXBkYXRlKG5leHRQcm9wczogTGF5b3V0UHJvcHMpIHtcbiAgICBpZiAobmV4dFByb3BzLmlzUGFnZUl0ZW0gJiYgIW5leHRQcm9wcy52aXNpYmxlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiBPYmplY3Qua2V5cyhuZXh0UHJvcHMpLnNvbWUoa2V5ID0+IG5leHRQcm9wc1trZXldICE9PSB0aGlzLnByb3BzW2tleV0pO1xuICB9XG5cbiAgb25MYXlvdXRUeXBlU2VsZWN0ZWQgPSAoKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBtb2RlOiBMYXlvdXRFbnRyeU1vZGUuUmVuZGVyTGF5b3V0LFxuICAgIH0pO1xuICB9XG5cbiAgc3dpdGNoVG9DaG9vc2luZ01vYmUgPSAoKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBtb2RlOiBMYXlvdXRFbnRyeU1vZGUuQ2hvb3NlTGF5b3V0VHlwZSxcbiAgICB9KTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IGxheW91dCB9ID0gdGhpcy5wcm9wcztcblxuICAgIGlmICghbGF5b3V0KSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBjb25zdCBMYXlvdXRFbGVtZW50ID0gZmluZExheW91dEJ1aWxkZXIobGF5b3V0LnR5cGUgfHwgTGF5b3V0VHlwZS5GbG93TGF5b3V0KTsgLy8gZGVmYXVsdCBsYXlvdXQgdHlwZSBpcyBGbG93TGF5b3V0XG4gICAgaWYgKCFMYXlvdXRFbGVtZW50KSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBjb25zdCB7IGlzSXRlbUFjY2VwdGVkLCAuLi5vdGhlclByb3BzIH0gPSB0aGlzLnByb3BzO1xuXG4gICAgcmV0dXJuIDxMYXlvdXRDb250ZXh0LlByb3ZpZGVyIHZhbHVlPXt7XG4gICAgICBpc0l0ZW1BY2NlcHRlZDogaXNJdGVtQWNjZXB0ZWQgfHwgZGVmYXVsdFdpZGV0RmlsdGVyLFxuICAgIH19PlxuICAgICAgPExheW91dEVsZW1lbnQgey4uLm90aGVyUHJvcHN9PjwvTGF5b3V0RWxlbWVudD5cbiAgICA8L0xheW91dENvbnRleHQuUHJvdmlkZXI+O1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFJlYWN0UmVkdXguY29ubmVjdDxTdGF0ZVRvTGF5b3V0UHJvcHMsIHVua25vd24sIExheW91dFByb3BzPih1dGlscy5tYXBTdGF0ZVRvTGF5b3V0UHJvcHMpKExheW91dEVudHJ5KTtcblxuZXhwb3J0IGZ1bmN0aW9uIGRlZmF1bHRXaWRldEZpbHRlcihpdGVtOiBMYXlvdXRJdGVtQ29uc3RydWN0b3JQcm9wcywgaXNQbGFjZWhvbGRlcjogYm9vbGVhbikge1xuICBpZiAoIWlzUGxhY2Vob2xkZXIpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXR1cm4gaXRlbT8ubWFuaWZlc3Q/LndpZGdldFR5cGUgIT09IFdpZGdldFR5cGUuTGF5b3V0O1xufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQU9BO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBU0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBc0JBO0FBdkNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBY0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUVBO0FBRUE7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./jimu-layouts/lib/builder/layout-entry.tsx\n");

/***/ }),

/***/ "./jimu-layouts/lib/builder/layout-item-hook/use-animation.ts":
/*!********************************************************************!*\
  !*** ./jimu-layouts/lib/builder/layout-item-hook/use-animation.ts ***!
  \********************************************************************/
/*! exports provided: useAnimation */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"useAnimation\", function() { return useAnimation; });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jimu_core__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-layouts/layout-runtime */ \"jimu-layouts/layout-runtime\");\n/* harmony import */ var jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _use_visible__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./use-visible */ \"./jimu-layouts/lib/builder/layout-item-hook/use-visible.ts\");\n\n\n\n/**\n * Use this hook to update animation trigger and playId.\n * Update playId when\n * 1. isPreview and playmode is not one by one\n * 2. switch from edit mode to live view mode\n * 3. page turns into view\n *\n * By default the trigger is AnimationTriggerType.Manual. Update trigger to\n * AnimationTriggerType.ScrollIntoView when\n * 1. switch from edit mode to live view mode, after animation finished\n * 2. page turns into view, after animation finished\n * @param option\n */\nfunction useAnimation(option) {\n    var _a;\n    var effect = option.effect, isPreview = option.isPreview, previewId = option.previewId, playMode = option.playMode, isParentPlaying = option.isParentPlaying;\n    var _b = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useContext(jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__[\"PageContext\"]), isDesignMode = _b.isDesignMode, pageId = _b.pageId;\n    var previewIdRef = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useRef();\n    var _c = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useState(), liveViewPlayId = _c[0], setLiveViewPlayId = _c[1];\n    var triggerRef = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useRef(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"AnimationTriggerType\"].Manual);\n    var effectType = (_a = effect === null || effect === void 0 ? void 0 : effect[jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"AnimationTriggerType\"].ScrollIntoView]) === null || _a === void 0 ? void 0 : _a.type;\n    effectType = effectType && effectType !== jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"AnimationType\"].None ? effectType : null;\n    var isInCurrentPage = Object(_use_visible__WEBPACK_IMPORTED_MODULE_2__[\"useVisibility\"])(effectType, pageId); //React.useContext(PageVisibilityContext);\n    var visibleRef = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useRef(isInCurrentPage);\n    var playId = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useMemo(function () {\n        if (!effectType) {\n            return null;\n        }\n        var isPreviewAsOne = isPreview && previewIdRef.current !== previewId && playMode !== jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"AnimationPlayMode\"].OneByOne;\n        if (isPreviewAsOne) {\n            previewIdRef.current = previewId;\n            return previewId;\n        }\n        return liveViewPlayId;\n    }, [effectType, isPreview, playMode, previewId, liveViewPlayId]);\n    jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useEffect(function () {\n        if (!effectType) {\n            return;\n        }\n        // switch from edit mode to live view mode\n        // update the playId manually to play animation\n        if (!isDesignMode) {\n            setLiveViewPlayId(Symbol('autoplay when switching to live view'));\n            // console.log(`${option.layoutId} item ${option.layoutItemId} update liveview playId ${countRef.current}`);\n        }\n        triggerRef.current = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"AnimationTriggerType\"].Manual;\n    }, [effectType, isDesignMode]);\n    jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useEffect(function () {\n        if (!effectType) {\n            return;\n        }\n        if (!isDesignMode && visibleRef.current !== isInCurrentPage) {\n            visibleRef.current = isInCurrentPage;\n            setLiveViewPlayId(Symbol('autoplay when visible change'));\n            triggerRef.current = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"AnimationTriggerType\"].Manual;\n        }\n    }, [effectType, isInCurrentPage, isDesignMode]);\n    var onAnimationEnd = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useCallback(function () {\n        // console.log(`${option.layoutId} item ${option.layoutItemId} animation end ${countRef.current}`);\n        if (liveViewPlayId) {\n            triggerRef.current = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"AnimationTriggerType\"].ScrollIntoView;\n            setLiveViewPlayId(null);\n        }\n    }, [liveViewPlayId]);\n    if (!effectType) {\n        return {};\n    }\n    return {\n        onAnimationEnd: onAnimationEnd,\n        playId: playId,\n        type: !isDesignMode || (playId && playId === previewId) || isParentPlaying ? effectType : null,\n        trigger: playId ? jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"AnimationTriggerType\"].Manual : triggerRef.current,\n        revert: !isInCurrentPage\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWxheW91dHMvbGliL2J1aWxkZXIvbGF5b3V0LWl0ZW0taG9vay91c2UtYW5pbWF0aW9uLnRzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vamltdS1sYXlvdXRzL2xpYi9idWlsZGVyL2xheW91dC1pdGVtLWhvb2svdXNlLWFuaW1hdGlvbi50cz82ZWYyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJlYWN0LCBBbmltYXRpb25TZXR0aW5nLCBBbmltYXRpb25UeXBlLCBBbmltYXRpb25QbGF5TW9kZSwgQW5pbWF0aW9uVHJpZ2dlclR5cGUgfSBmcm9tICdqaW11LWNvcmUnO1xuaW1wb3J0IHsgUGFnZUNvbnRleHQgfSBmcm9tICdqaW11LWxheW91dHMvbGF5b3V0LXJ1bnRpbWUnO1xuaW1wb3J0IHsgdXNlVmlzaWJpbGl0eSB9IGZyb20gJy4vdXNlLXZpc2libGUnO1xuLyoqXG4gKiBVc2UgdGhpcyBob29rIHRvIHVwZGF0ZSBhbmltYXRpb24gdHJpZ2dlciBhbmQgcGxheUlkLlxuICogVXBkYXRlIHBsYXlJZCB3aGVuXG4gKiAxLiBpc1ByZXZpZXcgYW5kIHBsYXltb2RlIGlzIG5vdCBvbmUgYnkgb25lXG4gKiAyLiBzd2l0Y2ggZnJvbSBlZGl0IG1vZGUgdG8gbGl2ZSB2aWV3IG1vZGVcbiAqIDMuIHBhZ2UgdHVybnMgaW50byB2aWV3XG4gKlxuICogQnkgZGVmYXVsdCB0aGUgdHJpZ2dlciBpcyBBbmltYXRpb25UcmlnZ2VyVHlwZS5NYW51YWwuIFVwZGF0ZSB0cmlnZ2VyIHRvXG4gKiBBbmltYXRpb25UcmlnZ2VyVHlwZS5TY3JvbGxJbnRvVmlldyB3aGVuXG4gKiAxLiBzd2l0Y2ggZnJvbSBlZGl0IG1vZGUgdG8gbGl2ZSB2aWV3IG1vZGUsIGFmdGVyIGFuaW1hdGlvbiBmaW5pc2hlZFxuICogMi4gcGFnZSB0dXJucyBpbnRvIHZpZXcsIGFmdGVyIGFuaW1hdGlvbiBmaW5pc2hlZFxuICogQHBhcmFtIG9wdGlvblxuICovXG5leHBvcnQgZnVuY3Rpb24gdXNlQW5pbWF0aW9uKG9wdGlvbjoge1xuICBlZmZlY3Q6IHtba2V5OiBzdHJpbmddOiBBbmltYXRpb25TZXR0aW5nfTtcbiAgaXNQcmV2aWV3OiBib29sZWFuO1xuICBwcmV2aWV3SWQ6IHN5bWJvbDtcbiAgcGxheU1vZGU6IEFuaW1hdGlvblBsYXlNb2RlO1xuICBpc1BhcmVudFBsYXlpbmc6IGJvb2xlYW47XG59KToge1xuICB0eXBlOiBBbmltYXRpb25UeXBlO1xuICB0cmlnZ2VyOiBzdHJpbmc7XG4gIHBsYXlJZDogc3ltYm9sO1xuICByZXZlcnQ6IGJvb2xlYW47XG4gIG9uQW5pbWF0aW9uRW5kOiAoKSA9PiB2b2lkO1xufSB7XG4gIGNvbnN0IHsgZWZmZWN0LCBpc1ByZXZpZXcsIHByZXZpZXdJZCwgcGxheU1vZGUsIGlzUGFyZW50UGxheWluZyB9ID0gb3B0aW9uO1xuICBjb25zdCB7IGlzRGVzaWduTW9kZSwgcGFnZUlkIH0gPSBSZWFjdC51c2VDb250ZXh0KFBhZ2VDb250ZXh0KTtcbiAgY29uc3QgcHJldmlld0lkUmVmID0gUmVhY3QudXNlUmVmPHN5bWJvbD4oKTtcbiAgY29uc3QgW2xpdmVWaWV3UGxheUlkLCBzZXRMaXZlVmlld1BsYXlJZF0gPSBSZWFjdC51c2VTdGF0ZTxzeW1ib2w+KCk7XG4gIGNvbnN0IHRyaWdnZXJSZWYgPSBSZWFjdC51c2VSZWYoQW5pbWF0aW9uVHJpZ2dlclR5cGUuTWFudWFsKTtcblxuICBsZXQgZWZmZWN0VHlwZSA9IGVmZmVjdD8uW0FuaW1hdGlvblRyaWdnZXJUeXBlLlNjcm9sbEludG9WaWV3XT8udHlwZTtcbiAgZWZmZWN0VHlwZSA9IGVmZmVjdFR5cGUgJiYgZWZmZWN0VHlwZSAhPT0gQW5pbWF0aW9uVHlwZS5Ob25lID8gZWZmZWN0VHlwZSA6IG51bGw7XG4gIGNvbnN0IGlzSW5DdXJyZW50UGFnZSA9IHVzZVZpc2liaWxpdHkoZWZmZWN0VHlwZSwgcGFnZUlkKTsvL1JlYWN0LnVzZUNvbnRleHQoUGFnZVZpc2liaWxpdHlDb250ZXh0KTtcbiAgY29uc3QgdmlzaWJsZVJlZiA9IFJlYWN0LnVzZVJlZjxib29sZWFuPihpc0luQ3VycmVudFBhZ2UpO1xuXG4gIGNvbnN0IHBsYXlJZCA9IFJlYWN0LnVzZU1lbW8oKCkgPT4ge1xuICAgIGlmICghZWZmZWN0VHlwZSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNvbnN0IGlzUHJldmlld0FzT25lID0gaXNQcmV2aWV3ICYmIHByZXZpZXdJZFJlZi5jdXJyZW50ICE9PSBwcmV2aWV3SWQgJiYgcGxheU1vZGUgIT09IEFuaW1hdGlvblBsYXlNb2RlLk9uZUJ5T25lO1xuICAgIGlmIChpc1ByZXZpZXdBc09uZSkge1xuICAgICAgcHJldmlld0lkUmVmLmN1cnJlbnQgPSBwcmV2aWV3SWQ7XG4gICAgICByZXR1cm4gcHJldmlld0lkO1xuICAgIH1cbiAgICByZXR1cm4gbGl2ZVZpZXdQbGF5SWQ7XG4gIH0sIFtlZmZlY3RUeXBlLCBpc1ByZXZpZXcsIHBsYXlNb2RlLCBwcmV2aWV3SWQsIGxpdmVWaWV3UGxheUlkXSk7XG5cbiAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIWVmZmVjdFR5cGUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gc3dpdGNoIGZyb20gZWRpdCBtb2RlIHRvIGxpdmUgdmlldyBtb2RlXG4gICAgLy8gdXBkYXRlIHRoZSBwbGF5SWQgbWFudWFsbHkgdG8gcGxheSBhbmltYXRpb25cbiAgICBpZiAoIWlzRGVzaWduTW9kZSkge1xuICAgICAgc2V0TGl2ZVZpZXdQbGF5SWQoU3ltYm9sKCdhdXRvcGxheSB3aGVuIHN3aXRjaGluZyB0byBsaXZlIHZpZXcnKSk7XG4gICAgICAvLyBjb25zb2xlLmxvZyhgJHtvcHRpb24ubGF5b3V0SWR9IGl0ZW0gJHtvcHRpb24ubGF5b3V0SXRlbUlkfSB1cGRhdGUgbGl2ZXZpZXcgcGxheUlkICR7Y291bnRSZWYuY3VycmVudH1gKTtcbiAgICB9XG4gICAgdHJpZ2dlclJlZi5jdXJyZW50ID0gQW5pbWF0aW9uVHJpZ2dlclR5cGUuTWFudWFsO1xuICB9LCBbZWZmZWN0VHlwZSwgaXNEZXNpZ25Nb2RlXSk7XG5cbiAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIWVmZmVjdFR5cGUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCFpc0Rlc2lnbk1vZGUgJiYgdmlzaWJsZVJlZi5jdXJyZW50ICE9PSBpc0luQ3VycmVudFBhZ2UpIHtcbiAgICAgIHZpc2libGVSZWYuY3VycmVudCA9IGlzSW5DdXJyZW50UGFnZTtcbiAgICAgIHNldExpdmVWaWV3UGxheUlkKFN5bWJvbCgnYXV0b3BsYXkgd2hlbiB2aXNpYmxlIGNoYW5nZScpKTtcbiAgICAgIHRyaWdnZXJSZWYuY3VycmVudCA9IEFuaW1hdGlvblRyaWdnZXJUeXBlLk1hbnVhbDtcbiAgICB9XG4gIH0sIFtlZmZlY3RUeXBlLCBpc0luQ3VycmVudFBhZ2UsIGlzRGVzaWduTW9kZV0pO1xuXG4gIGNvbnN0IG9uQW5pbWF0aW9uRW5kID0gUmVhY3QudXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIC8vIGNvbnNvbGUubG9nKGAke29wdGlvbi5sYXlvdXRJZH0gaXRlbSAke29wdGlvbi5sYXlvdXRJdGVtSWR9IGFuaW1hdGlvbiBlbmQgJHtjb3VudFJlZi5jdXJyZW50fWApO1xuICAgIGlmIChsaXZlVmlld1BsYXlJZCkge1xuICAgICAgdHJpZ2dlclJlZi5jdXJyZW50ID0gQW5pbWF0aW9uVHJpZ2dlclR5cGUuU2Nyb2xsSW50b1ZpZXc7XG4gICAgICBzZXRMaXZlVmlld1BsYXlJZChudWxsKTtcbiAgICB9XG4gIH0sIFtsaXZlVmlld1BsYXlJZF0pO1xuXG4gIGlmICghZWZmZWN0VHlwZSkge1xuICAgIHJldHVybiB7fSBhcyBhbnk7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBvbkFuaW1hdGlvbkVuZCxcbiAgICBwbGF5SWQsXG4gICAgdHlwZTogIWlzRGVzaWduTW9kZSB8fCAocGxheUlkICYmIHBsYXlJZCA9PT0gcHJldmlld0lkKSB8fCBpc1BhcmVudFBsYXlpbmcgPyBlZmZlY3RUeXBlIDogbnVsbCxcbiAgICB0cmlnZ2VyOiBwbGF5SWQgPyBBbmltYXRpb25UcmlnZ2VyVHlwZS5NYW51YWwgOiB0cmlnZ2VyUmVmLmN1cnJlbnQsXG4gICAgcmV2ZXJ0OiAhaXNJbkN1cnJlbnRQYWdlXG4gIH07XG59XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7OztBQVlBO0FBQ0E7O0FBYUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./jimu-layouts/lib/builder/layout-item-hook/use-animation.ts\n");

/***/ }),

/***/ "./jimu-layouts/lib/builder/layout-item-hook/use-onebyone-animation.ts":
/*!*****************************************************************************!*\
  !*** ./jimu-layouts/lib/builder/layout-item-hook/use-onebyone-animation.ts ***!
  \*****************************************************************************/
/*! exports provided: useOneByOneAnimation */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"useOneByOneAnimation\", function() { return useOneByOneAnimation; });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jimu_core__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-layouts/layout-runtime */ \"jimu-layouts/layout-runtime\");\n/* harmony import */ var jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _use_visible__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./use-visible */ \"./jimu-layouts/lib/builder/layout-item-hook/use-visible.ts\");\n\n\n\n/**\n * Use this hook to update animation trigger and playId.\n * Update playId when\n * 1. isPreview and playmode is not one by one\n * 2. switch from edit mode to live view mode\n * 3. page turns into view\n *\n * By default the trigger is AnimationTriggerType.Manual. Update trigger to\n * AnimationTriggerType.ScrollIntoView when\n * 1. switch from edit mode to live view mode, after animation finished\n * 2. page turns into view, after animation finished\n * @param option\n */\nfunction useOneByOneAnimation(option) {\n    var _a, _b, _c;\n    var effect = option.effect, isSection = option.isSection, isPreview = option.isPreview, previewId = option.previewId, playMode = option.playMode, isParentPlaying = option.isParentPlaying;\n    var _d = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useContext(jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__[\"PageContext\"]), isDesignMode = _d.isDesignMode, pageId = _d.pageId;\n    var parentAnimationContext = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useContext(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"AnimationContext\"]);\n    var previewIdRef = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useRef();\n    var triggerRef = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useRef(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"AnimationTriggerType\"].Manual);\n    var effectType = (_a = effect === null || effect === void 0 ? void 0 : effect[jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"AnimationTriggerType\"].ScrollIntoView]) === null || _a === void 0 ? void 0 : _a.type;\n    effectType = effectType && effectType !== jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"AnimationType\"].None ? effectType : null;\n    var isInCurrentPage = Object(_use_visible__WEBPACK_IMPORTED_MODULE_2__[\"useVisibility\"])(effectType, pageId); //React.useContext(PageVisibilityContext);\n    var visibleRef = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useRef(isInCurrentPage);\n    // const setting = (!isDesignMode && !isPreviewAsOne) || isPreviewOneByOne || isSection ? effectSetting : null;\n    var _e = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useState(), liveViewPlayId = _e[0], setLiveViewPlayId = _e[1];\n    var playId = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useMemo(function () {\n        if (!effectType) {\n            return null;\n        }\n        var isPreviewOneByOne = isPreview && previewIdRef.current !== previewId && playMode !== jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"AnimationPlayMode\"].AsOne;\n        if (isPreviewOneByOne) {\n            previewIdRef.current = previewId;\n            return previewId;\n        }\n        return liveViewPlayId;\n    }, [effectType, isPreview, playMode, previewId, liveViewPlayId]);\n    jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useEffect(function () {\n        if (!effectType) {\n            return;\n        }\n        // switch from edit mode to live view mode\n        // update the playId manually to play animation\n        if (!isDesignMode) {\n            setLiveViewPlayId(Symbol('autoplay when switching to live view'));\n            // console.log(`${option.layoutId} item ${option.layoutItemId} update one by one liveview playId`);\n        }\n        // 1. design mode: always use manual trigger\n        // 2. live view: set to manual first, when animation end set to scroll in\n        triggerRef.current = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"AnimationTriggerType\"].Manual;\n    }, [effectType, isDesignMode]);\n    jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useEffect(function () {\n        if (!effectType) {\n            return;\n        }\n        if (!isDesignMode && visibleRef.current !== isInCurrentPage) {\n            visibleRef.current = isInCurrentPage;\n            setLiveViewPlayId(Symbol('autoplay when visible change'));\n            triggerRef.current = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"AnimationTriggerType\"].Manual;\n        }\n    }, [effectType, isInCurrentPage, isDesignMode]);\n    var onAnimationEnd = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useCallback(function () {\n        // console.log(`${option.layoutId} item ${option.layoutItemId} animation one by one end`);\n        if (liveViewPlayId) {\n            triggerRef.current = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"AnimationTriggerType\"].ScrollIntoView;\n            setLiveViewPlayId(null);\n        }\n    }, [liveViewPlayId]);\n    if (!effectType) {\n        return {\n            inheritedOneByOneSetting: isDesignMode ? null : parentAnimationContext === null || parentAnimationContext === void 0 ? void 0 : parentAnimationContext.setting,\n            depth: ((_b = parentAnimationContext === null || parentAnimationContext === void 0 ? void 0 : parentAnimationContext.depth) !== null && _b !== void 0 ? _b : 0) + 1,\n        };\n    }\n    var result = {\n        setting: !isDesignMode || (playId && playId === previewId) || isSection || isParentPlaying ? effect === null || effect === void 0 ? void 0 : effect[jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"AnimationTriggerType\"].ScrollIntoView] : null,\n        onAnimationEnd: onAnimationEnd,\n        trigger: playId ? jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"AnimationTriggerType\"].Manual : triggerRef.current,\n        inheritedOneByOneSetting: isDesignMode ? null : parentAnimationContext === null || parentAnimationContext === void 0 ? void 0 : parentAnimationContext.setting,\n        playId: playId,\n        depth: ((_c = parentAnimationContext === null || parentAnimationContext === void 0 ? void 0 : parentAnimationContext.depth) !== null && _c !== void 0 ? _c : 0) + 1,\n    };\n    // only change revert property when there is animation.\n    result.revert = result.setting || result.inheritedOneByOneSetting ? !isInCurrentPage : false;\n    return result;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWxheW91dHMvbGliL2J1aWxkZXIvbGF5b3V0LWl0ZW0taG9vay91c2Utb25lYnlvbmUtYW5pbWF0aW9uLnRzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vamltdS1sYXlvdXRzL2xpYi9idWlsZGVyL2xheW91dC1pdGVtLWhvb2svdXNlLW9uZWJ5b25lLWFuaW1hdGlvbi50cz80N2YzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJlYWN0LCBBbmltYXRpb25TZXR0aW5nLCBBbmltYXRpb25Db250ZXh0LCBBbmltYXRpb25QbGF5TW9kZSwgQW5pbWF0aW9uVHJpZ2dlclR5cGUsIEFuaW1hdGlvblR5cGUgfSBmcm9tICdqaW11LWNvcmUnO1xuaW1wb3J0IHsgUGFnZUNvbnRleHQgfSBmcm9tICdqaW11LWxheW91dHMvbGF5b3V0LXJ1bnRpbWUnO1xuaW1wb3J0IHsgdXNlVmlzaWJpbGl0eSB9IGZyb20gJy4vdXNlLXZpc2libGUnO1xuLyoqXG4gKiBVc2UgdGhpcyBob29rIHRvIHVwZGF0ZSBhbmltYXRpb24gdHJpZ2dlciBhbmQgcGxheUlkLlxuICogVXBkYXRlIHBsYXlJZCB3aGVuXG4gKiAxLiBpc1ByZXZpZXcgYW5kIHBsYXltb2RlIGlzIG5vdCBvbmUgYnkgb25lXG4gKiAyLiBzd2l0Y2ggZnJvbSBlZGl0IG1vZGUgdG8gbGl2ZSB2aWV3IG1vZGVcbiAqIDMuIHBhZ2UgdHVybnMgaW50byB2aWV3XG4gKlxuICogQnkgZGVmYXVsdCB0aGUgdHJpZ2dlciBpcyBBbmltYXRpb25UcmlnZ2VyVHlwZS5NYW51YWwuIFVwZGF0ZSB0cmlnZ2VyIHRvXG4gKiBBbmltYXRpb25UcmlnZ2VyVHlwZS5TY3JvbGxJbnRvVmlldyB3aGVuXG4gKiAxLiBzd2l0Y2ggZnJvbSBlZGl0IG1vZGUgdG8gbGl2ZSB2aWV3IG1vZGUsIGFmdGVyIGFuaW1hdGlvbiBmaW5pc2hlZFxuICogMi4gcGFnZSB0dXJucyBpbnRvIHZpZXcsIGFmdGVyIGFuaW1hdGlvbiBmaW5pc2hlZFxuICogQHBhcmFtIG9wdGlvblxuICovXG5leHBvcnQgZnVuY3Rpb24gdXNlT25lQnlPbmVBbmltYXRpb24ob3B0aW9uOiB7XG4gIGVmZmVjdDoge1trZXk6IHN0cmluZ106IEFuaW1hdGlvblNldHRpbmd9O1xuICBpc1NlY3Rpb246IGJvb2xlYW47XG4gIGlzUHJldmlldzogYm9vbGVhbjtcbiAgcHJldmlld0lkOiBzeW1ib2w7XG4gIHBsYXlNb2RlOiBBbmltYXRpb25QbGF5TW9kZTtcbiAgaXNQYXJlbnRQbGF5aW5nOiBib29sZWFuO1xufSk6IHtcbiAgc2V0dGluZzogQW5pbWF0aW9uU2V0dGluZztcbiAgdHJpZ2dlcjogc3RyaW5nO1xuICBpbmhlcml0ZWRPbmVCeU9uZVNldHRpbmc6IEFuaW1hdGlvblNldHRpbmc7XG4gIHBsYXlJZDogc3ltYm9sO1xuICBkZXB0aDogbnVtYmVyO1xuICByZXZlcnQ6IGJvb2xlYW47XG4gIG9uQW5pbWF0aW9uRW5kOiAoKSA9PiB2b2lkO1xufSB7XG4gIGNvbnN0IHsgZWZmZWN0LCBpc1NlY3Rpb24sIGlzUHJldmlldywgcHJldmlld0lkLCBwbGF5TW9kZSwgaXNQYXJlbnRQbGF5aW5nIH0gPSBvcHRpb247XG4gIGNvbnN0IHsgaXNEZXNpZ25Nb2RlLCBwYWdlSWQgfSA9IFJlYWN0LnVzZUNvbnRleHQoUGFnZUNvbnRleHQpO1xuICBjb25zdCBwYXJlbnRBbmltYXRpb25Db250ZXh0ID0gUmVhY3QudXNlQ29udGV4dChBbmltYXRpb25Db250ZXh0KTtcbiAgY29uc3QgcHJldmlld0lkUmVmID0gUmVhY3QudXNlUmVmPHN5bWJvbD4oKTtcblxuICBjb25zdCB0cmlnZ2VyUmVmID0gUmVhY3QudXNlUmVmKEFuaW1hdGlvblRyaWdnZXJUeXBlLk1hbnVhbCk7XG4gIGxldCBlZmZlY3RUeXBlID0gZWZmZWN0Py5bQW5pbWF0aW9uVHJpZ2dlclR5cGUuU2Nyb2xsSW50b1ZpZXddPy50eXBlO1xuICBlZmZlY3RUeXBlID0gZWZmZWN0VHlwZSAmJiBlZmZlY3RUeXBlICE9PSBBbmltYXRpb25UeXBlLk5vbmUgPyBlZmZlY3RUeXBlIDogbnVsbDtcbiAgY29uc3QgaXNJbkN1cnJlbnRQYWdlID0gdXNlVmlzaWJpbGl0eShlZmZlY3RUeXBlLCBwYWdlSWQpOyAvL1JlYWN0LnVzZUNvbnRleHQoUGFnZVZpc2liaWxpdHlDb250ZXh0KTtcbiAgY29uc3QgdmlzaWJsZVJlZiA9IFJlYWN0LnVzZVJlZjxib29sZWFuPihpc0luQ3VycmVudFBhZ2UpO1xuICAvLyBjb25zdCBzZXR0aW5nID0gKCFpc0Rlc2lnbk1vZGUgJiYgIWlzUHJldmlld0FzT25lKSB8fCBpc1ByZXZpZXdPbmVCeU9uZSB8fCBpc1NlY3Rpb24gPyBlZmZlY3RTZXR0aW5nIDogbnVsbDtcblxuICBjb25zdCBbbGl2ZVZpZXdQbGF5SWQsIHNldExpdmVWaWV3UGxheUlkXSA9IFJlYWN0LnVzZVN0YXRlPHN5bWJvbD4oKTtcblxuICBjb25zdCBwbGF5SWQgPSBSZWFjdC51c2VNZW1vKCgpID0+IHtcbiAgICBpZiAoIWVmZmVjdFR5cGUpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBjb25zdCBpc1ByZXZpZXdPbmVCeU9uZSA9IGlzUHJldmlldyAmJiBwcmV2aWV3SWRSZWYuY3VycmVudCAhPT0gcHJldmlld0lkICYmIHBsYXlNb2RlICE9PSBBbmltYXRpb25QbGF5TW9kZS5Bc09uZTtcbiAgICBpZiAoaXNQcmV2aWV3T25lQnlPbmUpIHtcbiAgICAgIHByZXZpZXdJZFJlZi5jdXJyZW50ID0gcHJldmlld0lkO1xuICAgICAgcmV0dXJuIHByZXZpZXdJZDtcbiAgICB9XG4gICAgcmV0dXJuIGxpdmVWaWV3UGxheUlkO1xuICB9LCBbZWZmZWN0VHlwZSwgaXNQcmV2aWV3LCBwbGF5TW9kZSwgcHJldmlld0lkLCBsaXZlVmlld1BsYXlJZF0pO1xuXG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFlZmZlY3RUeXBlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIHN3aXRjaCBmcm9tIGVkaXQgbW9kZSB0byBsaXZlIHZpZXcgbW9kZVxuICAgIC8vIHVwZGF0ZSB0aGUgcGxheUlkIG1hbnVhbGx5IHRvIHBsYXkgYW5pbWF0aW9uXG4gICAgaWYgKCFpc0Rlc2lnbk1vZGUpIHtcbiAgICAgIHNldExpdmVWaWV3UGxheUlkKFN5bWJvbCgnYXV0b3BsYXkgd2hlbiBzd2l0Y2hpbmcgdG8gbGl2ZSB2aWV3JykpO1xuICAgICAgLy8gY29uc29sZS5sb2coYCR7b3B0aW9uLmxheW91dElkfSBpdGVtICR7b3B0aW9uLmxheW91dEl0ZW1JZH0gdXBkYXRlIG9uZSBieSBvbmUgbGl2ZXZpZXcgcGxheUlkYCk7XG4gICAgfVxuICAgIC8vIDEuIGRlc2lnbiBtb2RlOiBhbHdheXMgdXNlIG1hbnVhbCB0cmlnZ2VyXG4gICAgLy8gMi4gbGl2ZSB2aWV3OiBzZXQgdG8gbWFudWFsIGZpcnN0LCB3aGVuIGFuaW1hdGlvbiBlbmQgc2V0IHRvIHNjcm9sbCBpblxuICAgIHRyaWdnZXJSZWYuY3VycmVudCA9IEFuaW1hdGlvblRyaWdnZXJUeXBlLk1hbnVhbDtcbiAgfSwgW2VmZmVjdFR5cGUsIGlzRGVzaWduTW9kZV0pO1xuXG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFlZmZlY3RUeXBlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghaXNEZXNpZ25Nb2RlICYmIHZpc2libGVSZWYuY3VycmVudCAhPT0gaXNJbkN1cnJlbnRQYWdlKSB7XG4gICAgICB2aXNpYmxlUmVmLmN1cnJlbnQgPSBpc0luQ3VycmVudFBhZ2U7XG4gICAgICBzZXRMaXZlVmlld1BsYXlJZChTeW1ib2woJ2F1dG9wbGF5IHdoZW4gdmlzaWJsZSBjaGFuZ2UnKSk7XG4gICAgICB0cmlnZ2VyUmVmLmN1cnJlbnQgPSBBbmltYXRpb25UcmlnZ2VyVHlwZS5NYW51YWw7XG4gICAgfVxuICB9LCBbZWZmZWN0VHlwZSwgaXNJbkN1cnJlbnRQYWdlLCBpc0Rlc2lnbk1vZGVdKTtcblxuICBjb25zdCBvbkFuaW1hdGlvbkVuZCA9IFJlYWN0LnVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICAvLyBjb25zb2xlLmxvZyhgJHtvcHRpb24ubGF5b3V0SWR9IGl0ZW0gJHtvcHRpb24ubGF5b3V0SXRlbUlkfSBhbmltYXRpb24gb25lIGJ5IG9uZSBlbmRgKTtcbiAgICBpZiAobGl2ZVZpZXdQbGF5SWQpIHtcbiAgICAgIHRyaWdnZXJSZWYuY3VycmVudCA9IEFuaW1hdGlvblRyaWdnZXJUeXBlLlNjcm9sbEludG9WaWV3O1xuICAgICAgc2V0TGl2ZVZpZXdQbGF5SWQobnVsbCk7XG4gICAgfVxuICB9LCBbbGl2ZVZpZXdQbGF5SWRdKTtcblxuICBpZiAoIWVmZmVjdFR5cGUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgaW5oZXJpdGVkT25lQnlPbmVTZXR0aW5nOiBpc0Rlc2lnbk1vZGUgPyBudWxsIDogcGFyZW50QW5pbWF0aW9uQ29udGV4dD8uc2V0dGluZyxcbiAgICAgIGRlcHRoOiAocGFyZW50QW5pbWF0aW9uQ29udGV4dD8uZGVwdGggPz8gMCkgKyAxLFxuICAgIH0gYXMgYW55O1xuICB9XG4gIGNvbnN0IHJlc3VsdDogYW55ID0ge1xuICAgIHNldHRpbmc6ICFpc0Rlc2lnbk1vZGUgfHwgKHBsYXlJZCAmJiBwbGF5SWQgPT09IHByZXZpZXdJZCkgfHwgaXNTZWN0aW9uIHx8IGlzUGFyZW50UGxheWluZyA/IGVmZmVjdD8uW0FuaW1hdGlvblRyaWdnZXJUeXBlLlNjcm9sbEludG9WaWV3XSA6IG51bGwsXG4gICAgb25BbmltYXRpb25FbmQsXG4gICAgdHJpZ2dlcjogcGxheUlkID8gQW5pbWF0aW9uVHJpZ2dlclR5cGUuTWFudWFsIDogdHJpZ2dlclJlZi5jdXJyZW50LFxuICAgIGluaGVyaXRlZE9uZUJ5T25lU2V0dGluZzogaXNEZXNpZ25Nb2RlID8gbnVsbCA6IHBhcmVudEFuaW1hdGlvbkNvbnRleHQ/LnNldHRpbmcsXG4gICAgcGxheUlkLFxuICAgIGRlcHRoOiAocGFyZW50QW5pbWF0aW9uQ29udGV4dD8uZGVwdGggPz8gMCkgKyAxLFxuICB9O1xuICAvLyBvbmx5IGNoYW5nZSByZXZlcnQgcHJvcGVydHkgd2hlbiB0aGVyZSBpcyBhbmltYXRpb24uXG4gIHJlc3VsdC5yZXZlcnQgPSByZXN1bHQuc2V0dGluZyB8fCByZXN1bHQuaW5oZXJpdGVkT25lQnlPbmVTZXR0aW5nID8gIWlzSW5DdXJyZW50UGFnZSA6IGZhbHNlO1xuICByZXR1cm4gcmVzdWx0O1xufVxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7QUFZQTtBQUNBOztBQWdCQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./jimu-layouts/lib/builder/layout-item-hook/use-onebyone-animation.ts\n");

/***/ }),

/***/ "./jimu-layouts/lib/builder/layout-item-hook/use-visible.ts":
/*!******************************************************************!*\
  !*** ./jimu-layouts/lib/builder/layout-item-hook/use-visible.ts ***!
  \******************************************************************/
/*! exports provided: useVisibility */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"useVisibility\", function() { return useVisibility; });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jimu_core__WEBPACK_IMPORTED_MODULE_0__);\n\nfunction useVisibility(effectType, pageId) {\n    var _a = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useState(true), visible = _a[0], setVisible = _a[1];\n    // check page visible\n    var urlInfo = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"urlUtils\"].getAppIdPageIdFromUrl();\n    var currentPageId;\n    if (urlInfo.pageId) {\n        currentPageId = urlInfo.pageId;\n    }\n    else {\n        var pages_1 = Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"getAppStore\"])().getState().appConfig.pages;\n        currentPageId = Object.keys(pages_1).find(function (pId) { return pages_1[pId].isDefault; });\n    }\n    jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useEffect(function () {\n        if (effectType != null) {\n            setVisible(currentPageId === pageId);\n        }\n    }, [effectType, pageId, currentPageId]);\n    return visible;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWxheW91dHMvbGliL2J1aWxkZXIvbGF5b3V0LWl0ZW0taG9vay91c2UtdmlzaWJsZS50cy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2ppbXUtbGF5b3V0cy9saWIvYnVpbGRlci9sYXlvdXQtaXRlbS1ob29rL3VzZS12aXNpYmxlLnRzP2E3ZDgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUmVhY3QsIEFuaW1hdGlvblR5cGUsIHVybFV0aWxzLCBnZXRBcHBTdG9yZSB9IGZyb20gJ2ppbXUtY29yZSc7XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VWaXNpYmlsaXR5KGVmZmVjdFR5cGU6IEFuaW1hdGlvblR5cGUsIHBhZ2VJZDogc3RyaW5nKSB7XG4gIGNvbnN0IFt2aXNpYmxlLCBzZXRWaXNpYmxlXSA9IFJlYWN0LnVzZVN0YXRlKHRydWUpO1xuXG4gIC8vIGNoZWNrIHBhZ2UgdmlzaWJsZVxuICBjb25zdCB1cmxJbmZvID0gdXJsVXRpbHMuZ2V0QXBwSWRQYWdlSWRGcm9tVXJsKCk7XG4gIGxldCBjdXJyZW50UGFnZUlkO1xuICBpZih1cmxJbmZvLnBhZ2VJZCl7XG4gICAgY3VycmVudFBhZ2VJZCA9IHVybEluZm8ucGFnZUlkO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IHBhZ2VzID0gZ2V0QXBwU3RvcmUoKS5nZXRTdGF0ZSgpLmFwcENvbmZpZy5wYWdlcztcbiAgICBjdXJyZW50UGFnZUlkID0gT2JqZWN0LmtleXMocGFnZXMpLmZpbmQocElkID0+IHBhZ2VzW3BJZF0uaXNEZWZhdWx0KTtcbiAgfVxuXG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGVmZmVjdFR5cGUgIT0gbnVsbCkge1xuICAgICAgc2V0VmlzaWJsZShjdXJyZW50UGFnZUlkID09PSBwYWdlSWQpO1xuICAgIH1cbiAgfSwgW2VmZmVjdFR5cGUsIHBhZ2VJZCwgY3VycmVudFBhZ2VJZF0pO1xuXG4gIHJldHVybiB2aXNpYmxlO1xufSJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./jimu-layouts/lib/builder/layout-item-hook/use-visible.ts\n");

/***/ }),

/***/ "./jimu-layouts/lib/builder/layout-item.tsx":
/*!**************************************************!*\
  !*** ./jimu-layouts/lib/builder/layout-item.tsx ***!
  \**************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return LayoutItemInBuilder; });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jimu_core__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-layouts/layout-runtime */ \"jimu-layouts/layout-runtime\");\n/* harmony import */ var jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var jimu_core_dnd__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-core/dnd */ \"jimu-core/dnd\");\n/* harmony import */ var jimu_core_dnd__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jimu_core_dnd__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _context_menu__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./context-menu */ \"./jimu-layouts/lib/builder/context-menu.tsx\");\n/* harmony import */ var _interactive_drag_event_handler__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./interactive/drag-event-handler */ \"./jimu-layouts/lib/builder/interactive/drag-event-handler.ts\");\n/* harmony import */ var _interactive_resize_event_handler__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./interactive/resize-event-handler */ \"./jimu-layouts/lib/builder/interactive/resize-event-handler.ts\");\n/* harmony import */ var _menu_common_menu__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./menu/common-menu */ \"./jimu-layouts/lib/builder/menu/common-menu.tsx\");\n/* harmony import */ var _select_wrapper__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./select-wrapper */ \"./jimu-layouts/lib/builder/select-wrapper.tsx\");\n/* harmony import */ var _widget_renderer__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./widget-renderer */ \"./jimu-layouts/lib/builder/widget-renderer.tsx\");\n/* harmony import */ var _section_renderer__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./section-renderer */ \"./jimu-layouts/lib/builder/section-renderer.tsx\");\n/* harmony import */ var _menu_section_menu__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./menu/section-menu */ \"./jimu-layouts/lib/builder/menu/section-menu.tsx\");\n/* harmony import */ var _layout_item_hook_use_animation__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./layout-item-hook/use-animation */ \"./jimu-layouts/lib/builder/layout-item-hook/use-animation.ts\");\n/* harmony import */ var _layout_item_hook_use_onebyone_animation__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./layout-item-hook/use-onebyone-animation */ \"./jimu-layouts/lib/builder/layout-item-hook/use-onebyone-animation.ts\");\n/* harmony import */ var _use_viewport_intersection__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../use-viewport-intersection */ \"./jimu-layouts/lib/use-viewport-intersection.ts\");\nvar __makeTemplateObject = (undefined && undefined.__makeTemplateObject) || function (cooked, raw) {\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n    return cooked;\n};\nvar __assign = (undefined && undefined.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (undefined && undefined.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\n/** @jsx jsx */\n/* eslint-disable @typescript-eslint/no-unused-vars*/\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar parentRestrict = jimu_core_dnd__WEBPACK_IMPORTED_MODULE_2__[\"interact\"].modifiers.restrictRect({\n    restriction: 'parent',\n});\nvar boundaryRestrict = jimu_core_dnd__WEBPACK_IMPORTED_MODULE_2__[\"interact\"].modifiers.restrictRect({\n    restriction: \"div.\" + _interactive_drag_event_handler__WEBPACK_IMPORTED_MODULE_4__[\"LIMITED_BOUNDARY_CLASS_NAME\"],\n});\nvar minSizeRestrict = jimu_core_dnd__WEBPACK_IMPORTED_MODULE_2__[\"interact\"].modifiers.restrictSize({\n    min: { width: 16, height: 16 },\n});\nvar defaultConstextMenus = [_menu_common_menu__WEBPACK_IMPORTED_MODULE_6__[\"settingMenuItem\"], _menu_common_menu__WEBPACK_IMPORTED_MODULE_6__[\"draggingMenuItem\"], _menu_common_menu__WEBPACK_IMPORTED_MODULE_6__[\"pendingMenuItem\"], _menu_common_menu__WEBPACK_IMPORTED_MODULE_6__[\"deleteMenuItem\"]];\n/* eslint-disable @typescript-eslint/no-unused-vars*/\n/* eslint-disable react-hooks/exhaustive-deps */\nfunction LayoutItemInBuilder(props) {\n    var _a, _b, _c, _d, _e, _f, _g, _h;\n    var stateProps = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"ReactRedux\"].useSelector(function (state) { return mapStateToProps(state, props); }, jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"ReactRedux\"].shallowEqual);\n    var allProps = __assign(__assign({}, stateProps), props);\n    var pageContext = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useContext(jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__[\"PageContext\"]);\n    var refObj = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useRef();\n    var interactableRef = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useRef();\n    var mousedownX;\n    var mousedownY;\n    var _j = (_b = (_a = allProps.layoutItem) === null || _a === void 0 ? void 0 : _a.setting) !== null && _b !== void 0 ? _b : {}, effect = _j.effect, oneByOneEffect = _j.oneByOneEffect;\n    var animationPreview = allProps.animationPreview, previewId = allProps.previewId, playMode = allProps.playMode;\n    var getCurrentRootLayoutId = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useCallback(function () { return pageContext.rootLayoutId; }, [pageContext.rootLayoutId]);\n    var isInViewport = Object(_use_viewport_intersection__WEBPACK_IMPORTED_MODULE_13__[\"useViewportIntersection\"])(refObj.current);\n    var _k = Object(_layout_item_hook_use_animation__WEBPACK_IMPORTED_MODULE_11__[\"useAnimation\"])({\n        effect: effect,\n        isPreview: animationPreview,\n        previewId: previewId,\n        playMode: playMode,\n        isParentPlaying: allProps.isParentPlaying,\n    }), effectType = _k.type, effectTrigger = _k.trigger, effectPlayId = _k.playId, effectRevert = _k.revert, onEffectAnimationEnd = _k.onAnimationEnd;\n    var _l = Object(_layout_item_hook_use_onebyone_animation__WEBPACK_IMPORTED_MODULE_12__[\"useOneByOneAnimation\"])({\n        effect: oneByOneEffect,\n        isSection: ((_c = allProps.layoutItem) === null || _c === void 0 ? void 0 : _c.type) === jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"LayoutItemType\"].Section,\n        isPreview: animationPreview,\n        previewId: previewId,\n        playMode: playMode,\n        isParentPlaying: allProps.isParentPlaying,\n    }), oneByOneSetting = _l.setting, oneByOneTrigger = _l.trigger, inheritedOneByOneSetting = _l.inheritedOneByOneSetting, oneByOnePlayId = _l.playId, oneByOneDepth = _l.depth, oneByOneRevert = _l.revert, onOneByOneAnimationEnd = _l.onAnimationEnd;\n    jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useEffect(function () {\n        if (refObj.current && !interactableRef.current) {\n            var layoutId_1 = props.layoutId, layoutItemId_1 = props.layoutItemId, useDragHandler = props.useDragHandler, onDragging = props.onDragging, onResizing = props.onResizing;\n            var layoutItem_1 = stateProps.layoutItem;\n            interactableRef.current = Object(jimu_core_dnd__WEBPACK_IMPORTED_MODULE_2__[\"interact\"])(refObj.current).origin('parent');\n            interactableRef.current = Object(_interactive_drag_event_handler__WEBPACK_IMPORTED_MODULE_4__[\"bindDragHandler\"])(interactableRef.current, {\n                layoutId: layoutId_1,\n                layoutItemId: layoutItemId_1,\n                useDragHandler: useDragHandler,\n                onDragging: onDragging,\n                onDragStart: onItemDragStart,\n                onDragEnd: onItemDragEnd,\n                itemType: layoutItem_1.type,\n                rootLayoutId: getCurrentRootLayoutId,\n                restrict: function () { return props.restrict; },\n            });\n            interactableRef.current = Object(_interactive_resize_event_handler__WEBPACK_IMPORTED_MODULE_5__[\"bindResizeHandler\"])(interactableRef.current, {\n                layoutItemId: layoutItemId_1,\n                onResizing: onResizing,\n                onResizeStart: onItemResizeStart,\n                onResizeEnd: onItemResizeEnd,\n            });\n            interactableRef.current.resizable({\n                modifiers: [minSizeRestrict],\n            });\n        }\n        if (interactableRef.current) {\n            if (props.restrict) {\n                interactableRef.current.draggable({\n                    modifiers: [parentRestrict],\n                });\n            }\n            else {\n                interactableRef.current.draggable({\n                    modifiers: [boundaryRestrict],\n                });\n            }\n        }\n        if (props.resizeObserver) {\n            props.resizeObserver.observe(refObj.current);\n        }\n        return function () {\n            if (interactableRef.current) {\n                interactableRef.current.unset();\n                interactableRef.current = null;\n            }\n            if (props.resizeObserver) {\n                props.resizeObserver.unobserve(refObj.current);\n            }\n        };\n    }, [props.restrict]);\n    function onItemDragStart(layoutItemId) {\n        Object(_interactive_drag_event_handler__WEBPACK_IMPORTED_MODULE_4__[\"setIsDragging\"])(true);\n        Object(_interactive_resize_event_handler__WEBPACK_IMPORTED_MODULE_5__[\"setIsResizing\"])(false);\n        if (props.onDragStart) {\n            props.onDragStart(layoutItemId);\n        }\n    }\n    function onItemDragEnd(id, dx, dy) {\n        jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"lodash\"].defer(function () {\n            Object(_interactive_drag_event_handler__WEBPACK_IMPORTED_MODULE_4__[\"setIsDragging\"])(false);\n        });\n        if (props.onDragEnd) {\n            props.onDragEnd(id, dx, dy);\n        }\n    }\n    function onItemResizeStart(layoutItemId, initWidth, initHeight) {\n        Object(_interactive_drag_event_handler__WEBPACK_IMPORTED_MODULE_4__[\"setIsDragging\"])(false);\n        Object(_interactive_resize_event_handler__WEBPACK_IMPORTED_MODULE_5__[\"setIsResizing\"])(true);\n        if (props.onResizeStart) {\n            props.onResizeStart(layoutItemId, initWidth, initHeight);\n        }\n    }\n    function onItemResizeEnd(id, x, y, dw, dh, shiftKey) {\n        jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"lodash\"].defer(function () {\n            Object(_interactive_resize_event_handler__WEBPACK_IMPORTED_MODULE_5__[\"setIsResizing\"])(false);\n        });\n        if (props.onResizeEnd) {\n            props.onResizeEnd(id, x, y, dw, dh, shiftKey);\n        }\n    }\n    /**\n     * Enable inline editing mode for the widget\n     *\n     * @memberof LayoutItemInBuilder\n     */\n    function doubleClick(e) {\n        var layoutId = props.layoutId, layoutItemId = props.layoutItemId;\n        var supportInlineEditing = stateProps.supportInlineEditing, widgetId = stateProps.widgetId;\n        if (props.onDoubleClick) {\n            props.onDoubleClick(e, { layoutId: layoutId, layoutItemId: layoutItemId });\n        }\n        if (pageContext.viewOnly) {\n            return;\n        }\n        e.stopPropagation();\n        if (supportInlineEditing) {\n            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"getAppStore\"])().dispatch(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"appActions\"].setWidgetIsInlineEditingState(widgetId, true));\n        }\n    }\n    function onItemClick(e) {\n        if (Math.abs(e.screenX - mousedownX) > jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__[\"CLICK_TOLRERANCE\"] || Math.abs(e.screenY - mousedownY) > jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__[\"CLICK_TOLRERANCE\"]) {\n            e.stopPropagation();\n            return;\n        }\n        var viewOnly = pageContext.viewOnly, lockLayout = pageContext.lockLayout, isDesignMode = pageContext.isDesignMode;\n        var isFunctionalWidget = stateProps.isFunctionalWidget, layoutItem = stateProps.layoutItem;\n        if (viewOnly ||\n            ((lockLayout || !isDesignMode) && !isFunctionalWidget && layoutItem.type !== jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"LayoutItemType\"].Section)) {\n            // propagate normally in view mode\n            return;\n        }\n        e.stopPropagation();\n        if (Object(_interactive_resize_event_handler__WEBPACK_IMPORTED_MODULE_5__[\"isResizing\"])()) {\n            // Prevent switching selection when resizing an item\n            return;\n        }\n        if (props.onClick) {\n            var layoutId_2 = allProps.layoutId, layoutItemId_2 = allProps.layoutItemId;\n            props.onClick(e, { layoutId: layoutId_2, layoutItemId: layoutItemId_2 });\n        }\n        switchSetting();\n    }\n    function onMouseDown(e) {\n        mousedownX = e.screenX;\n        mousedownY = e.screenY;\n    }\n    function createContextMenu() {\n        var builderTheme = pageContext.builderTheme;\n        return (Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_context_menu__WEBPACK_IMPORTED_MODULE_3__[\"default\"], { builderTheme: builderTheme, layoutId: props.layoutId, layoutItem: stateProps.layoutItem, positionType: \"center\", size: jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__[\"CONTEXT_MENU_ITEM_SIZE\"], iconSize: jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__[\"CONTEXT_MENU_ICON_SIZE\"], className: \"widget-context-menu\", menuItems: props.contextMenuItems || defaultConstextMenus }));\n    }\n    function switchSetting() {\n        var layoutId = props.layoutId, layoutItemId = props.layoutItemId;\n        if (!stateProps.selected) {\n            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"getAppStore\"])().dispatch(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"appActions\"].selectionChanged({\n                layoutId: layoutId,\n                layoutItemId: layoutItemId,\n            }));\n        }\n    }\n    function getStyle() {\n        var _a;\n        var draggable = canDrag();\n        var isInlineEditing = (_a = stateProps.isInlineEditing) !== null && _a !== void 0 ? _a : false;\n        return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n      position: relative;\\n      overflow: visible;\\n      cursor: \", \";\\n      touch-action: \", \";\\n      user-select: \", \";\\n      min-height: \", \"px;\\n\\n      & > div.widget-context-menu {\\n        display: none;\\n      }\\n\\n      &:hover > div.widget-context-menu {\\n        display: flex;\\n      }\\n\\n      .\", \" &.functional-widget {\\n        pointer-events: none;\\n      }\\n      .\", \" &.functional-widget .exb-drop-area {\\n        pointer-events: all;\\n      }\\n    \"], [\"\\n      position: relative;\\n      overflow: visible;\\n      cursor: \", \";\\n      touch-action: \", \";\\n      user-select: \", \";\\n      min-height: \", \"px;\\n\\n      & > div.widget-context-menu {\\n        display: none;\\n      }\\n\\n      &:hover > div.widget-context-menu {\\n        display: flex;\\n      }\\n\\n      .\", \" &.functional-widget {\\n        pointer-events: none;\\n      }\\n      .\", \" &.functional-widget .exb-drop-area {\\n        pointer-events: all;\\n      }\\n    \"])), draggable ? 'move' : 'default', isInlineEditing ? 'auto' : 'none', isInlineEditing ? 'auto' : 'none', jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__[\"MIN_LAYOUT_ITEM_SIZE\"], _interactive_drag_event_handler__WEBPACK_IMPORTED_MODULE_4__[\"GLOBAL_H5_DRAGGING_CLASS_NAME\"], _interactive_drag_event_handler__WEBPACK_IMPORTED_MODULE_4__[\"GLOBAL_H5_DRAGGING_CLASS_NAME\"]);\n    }\n    function canDrag() {\n        var _a;\n        var selected = allProps.selected, draggable = allProps.draggable;\n        var isInlineEditing = (_a = stateProps.isInlineEditing) !== null && _a !== void 0 ? _a : false;\n        var isTouchDevice = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"utils\"].isTouchDevice();\n        return (draggable !== false &&\n            pageContext.isDesignMode &&\n            !pageContext.viewOnly &&\n            !pageContext.lockLayout &&\n            !isInlineEditing &&\n            (!isTouchDevice || selected));\n    }\n    var layoutId = allProps.layoutId, layoutItemId = allProps.layoutItemId, top = allProps.top, left = allProps.left, right = allProps.right, bottom = allProps.bottom, resizable = allProps.resizable, draggable = allProps.draggable, isBlock = allProps.isBlock, autoScroll = allProps.autoScroll, layoutItem = allProps.layoutItem, isFunctionalWidget = allProps.isFunctionalWidget, selected = allProps.selected, isInlineEditing = allProps.isInlineEditing, hasEmbeddedLayout = allProps.hasEmbeddedLayout, activeView = allProps.activeView, hasExtension = allProps.hasExtension, isParentPlaying = allProps.isParentPlaying, isParentRevert = allProps.isParentRevert, isParentEnableScroll = allProps.isParentEnableScroll, parentAnimationStyle = allProps.parentAnimationStyle, parentPlayId = allProps.parentPlayId;\n    var className = allProps.className, forbidContextMenu = allProps.forbidContextMenu, onClick = allProps.onClick, onDoubleClick = allProps.onDoubleClick, children = allProps.children, otherProps = __rest(allProps, [\"className\", \"forbidContextMenu\", \"onClick\", \"onDoubleClick\", \"children\"]);\n    var isWidget = layoutItem.type === jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"LayoutItemType\"].Widget;\n    var isSection = layoutItem.type === jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"LayoutItemType\"].Section;\n    var showContextMenu = !forbidContextMenu &&\n        !pageContext.viewOnly &&\n        pageContext.isDesignMode &&\n        !pageContext.lockLayout &&\n        (layoutItem.widgetId || layoutItem.sectionId) &&\n        (!isFunctionalWidget || isSection);\n    var effectOption = (_d = effect === null || effect === void 0 ? void 0 : effect[jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"AnimationTriggerType\"].ScrollIntoView]) === null || _d === void 0 ? void 0 : _d.option;\n    var rotate = (_h = (_g = (_f = (_e = layoutItem.setting) === null || _e === void 0 ? void 0 : _e.style) === null || _f === void 0 ? void 0 : _f.transform) === null || _g === void 0 ? void 0 : _g.rotate) !== null && _h !== void 0 ? _h : 0;\n    var animationContextValue = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useMemo(function () {\n        return {\n            isDesignMode: pageContext.isDesignMode,\n            trigger: oneByOneTrigger,\n            setting: oneByOneSetting,\n            inheritedOneByOneSetting: inheritedOneByOneSetting,\n            playId: oneByOnePlayId,\n            depth: oneByOneDepth,\n            revert: oneByOneRevert,\n            onAnimationEnd: onOneByOneAnimationEnd\n        };\n    }, [\n        pageContext.isDesignMode,\n        oneByOneTrigger,\n        oneByOneSetting,\n        inheritedOneByOneSetting,\n        oneByOnePlayId,\n        oneByOneDepth,\n        oneByOneRevert,\n        onOneByOneAnimationEnd\n    ]);\n    // const animPlayId = getPlayId();\n    if (!stateProps.layoutItem) {\n        return null;\n    }\n    return (Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"AnimationContext\"].Provider, { value: animationContextValue },\n        Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__[\"ViewportVisibilityContext\"].Provider, { value: isInViewport },\n            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"Animation\"], { type: effectType, trigger: effectTrigger, configType: effectOption === null || effectOption === void 0 ? void 0 : effectOption.configType, direction: effectOption === null || effectOption === void 0 ? void 0 : effectOption.direction, playId: effectPlayId, onAnimationEnd: onEffectAnimationEnd, parentAnimationStyle: parentAnimationStyle, isParentPlaying: isParentPlaying, isParentRevert: isParentRevert, isParentEnableScroll: isParentEnableScroll, parentPlayId: parentPlayId, revert: effectRevert, css: getStyle(), ref: refObj, className: Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"classNames\"])('builder-layout-item exb-rnd', className, {\n                    selected: selected,\n                    'is-widget': isWidget,\n                    'is-section': isSection,\n                    'functional-widget': isWidget && isFunctionalWidget,\n                    'no-drag-action': !canDrag(),\n                }), onDoubleClick: doubleClick, onClick: onItemClick, onMouseDown: onMouseDown, \"data-layoutitemid\": layoutItemId, \"data-layoutid\": layoutId },\n                isWidget && Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_widget_renderer__WEBPACK_IMPORTED_MODULE_8__[\"WidgetRendererInBuilder\"], __assign({ rotate: rotate, isDesignMode: pageContext.isDesignMode }, otherProps)),\n                isSection && Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_section_renderer__WEBPACK_IMPORTED_MODULE_9__[\"SectionRendererInBuilder\"], __assign({ rotate: rotate }, otherProps)),\n                showContextMenu && createContextMenu(),\n                !pageContext.viewOnly && (Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_select_wrapper__WEBPACK_IMPORTED_MODULE_7__[\"default\"], { layoutId: layoutId, layoutItem: layoutItem, top: top, left: left, right: right, bottom: bottom, resizable: resizable, draggable: draggable, selected: selected, autoScroll: autoScroll, forbidToolbar: props.forbidToolbar, toolItems: props.toolItems, showDefaultTools: props.showDefaultTools, isInlineEditing: isInlineEditing, isFunctionalWidget: isFunctionalWidget, hasEmbeddedLayout: hasEmbeddedLayout, isSection: isSection, activeView: isSection ? activeView : null, isBlock: isBlock, hasExtension: isWidget && hasExtension, widgetJson: stateProps.widgetJson, widgetState: stateProps.widgetState, rotate: rotate })),\n                props.children))));\n}\nfunction mapStateToProps(state, ownProps) {\n    var layoutItemProps = jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__[\"utils\"].mapStateToLayoutItemProps(state, ownProps);\n    if (!layoutItemProps.layoutItem) {\n        return __assign({}, layoutItemProps);\n    }\n    if (layoutItemProps.layoutItem.type === jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"LayoutItemType\"].Widget) {\n        return __assign(__assign({}, layoutItemProps), jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__[\"utils\"].mapStateToWidgetProps(state, ownProps));\n    }\n    var sectionProps = jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__[\"searchUtils\"].getSectionInfo(state, layoutItemProps.layoutItem.sectionId);\n    var activeViewId = Object(_menu_section_menu__WEBPACK_IMPORTED_MODULE_10__[\"findActiveViewId\"])(sectionProps);\n    return __assign(__assign(__assign({}, layoutItemProps), sectionProps), { activeView: state.appConfig.views[activeViewId] });\n}\nvar templateObject_1;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWxheW91dHMvbGliL2J1aWxkZXIvbGF5b3V0LWl0ZW0udHN4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vamltdS1sYXlvdXRzL2xpYi9idWlsZGVyL2xheW91dC1pdGVtLnRzeD9iZjczIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKiBAanN4IGpzeCAqL1xuLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC12YXJzKi9cbmltcG9ydCB7XG4gIFJlYWN0LFxuICBqc3gsXG4gIGNzcyxcbiAgSU1TdGF0ZSxcbiAgUmVhY3RSZWR1eCxcbiAgYXBwQWN0aW9ucyxcbiAgZ2V0QXBwU3RvcmUsXG4gIGNsYXNzTmFtZXMsXG4gIHV0aWxzLFxuICBsb2Rhc2gsXG4gIExheW91dEl0ZW1UeXBlLFxuICBBbmltYXRpb24sXG4gIEFuaW1hdGlvbkNvbnRleHQsXG4gIEFuaW1hdGlvblRyaWdnZXJUeXBlLFxufSBmcm9tICdqaW11LWNvcmUnO1xuaW1wb3J0IHtcbiAgdXRpbHMgYXMgbGF5b3V0VXRpbHMsXG4gIFBhZ2VDb250ZXh0LFxuICBWaWV3cG9ydFZpc2liaWxpdHlDb250ZXh0LFxuICBMYXlvdXRJdGVtUHJvcHMsXG4gIFdpZGdldFByb3BzLFxuICBTZWN0aW9uUHJvcHMsXG4gIFRvb2xiYXJDb25maWcsXG4gIENvbW1vbkxheW91dEl0ZW1TZXR0aW5nLFxuICBTdGF0ZVRvTGF5b3V0SXRlbVByb3BzLFxuICBDT05URVhUX01FTlVfSUNPTl9TSVpFLFxuICBDT05URVhUX01FTlVfSVRFTV9TSVpFLFxuICBzZWFyY2hVdGlscyxcbiAgTUlOX0xBWU9VVF9JVEVNX1NJWkUsXG4gIENMSUNLX1RPTFJFUkFOQ0UsXG59IGZyb20gJ2ppbXUtbGF5b3V0cy9sYXlvdXQtcnVudGltZSc7XG5pbXBvcnQgeyBpbnRlcmFjdCB9IGZyb20gJ2ppbXUtY29yZS9kbmQnO1xuaW1wb3J0IENvbnRleHRNZW51IGZyb20gJy4vY29udGV4dC1tZW51JztcbmltcG9ydCB7IGJpbmREcmFnSGFuZGxlciwgR0xPQkFMX0g1X0RSQUdHSU5HX0NMQVNTX05BTUUsIHNldElzRHJhZ2dpbmcsIExJTUlURURfQk9VTkRBUllfQ0xBU1NfTkFNRSB9IGZyb20gJy4vaW50ZXJhY3RpdmUvZHJhZy1ldmVudC1oYW5kbGVyJztcbmltcG9ydCB7IGJpbmRSZXNpemVIYW5kbGVyLCBzZXRJc1Jlc2l6aW5nLCBpc1Jlc2l6aW5nIH0gZnJvbSAnLi9pbnRlcmFjdGl2ZS9yZXNpemUtZXZlbnQtaGFuZGxlcic7XG5pbXBvcnQgeyBwZW5kaW5nTWVudUl0ZW0sIGRlbGV0ZU1lbnVJdGVtLCBzZXR0aW5nTWVudUl0ZW0sIGRyYWdnaW5nTWVudUl0ZW0gfSBmcm9tICcuL21lbnUvY29tbW9uLW1lbnUnO1xuaW1wb3J0IFNlbGVjdFdyYXBwZXIgZnJvbSAnLi9zZWxlY3Qtd3JhcHBlcic7XG5pbXBvcnQgeyBXaWRnZXRSZW5kZXJlckluQnVpbGRlciB9IGZyb20gJy4vd2lkZ2V0LXJlbmRlcmVyJztcbmltcG9ydCB7IFNlY3Rpb25SZW5kZXJlckluQnVpbGRlciB9IGZyb20gJy4vc2VjdGlvbi1yZW5kZXJlcic7XG5pbXBvcnQgeyBmaW5kQWN0aXZlVmlld0lkIH0gZnJvbSAnLi9tZW51L3NlY3Rpb24tbWVudSc7XG5pbXBvcnQgeyB1c2VBbmltYXRpb24gfSBmcm9tICcuL2xheW91dC1pdGVtLWhvb2svdXNlLWFuaW1hdGlvbic7XG5pbXBvcnQgeyB1c2VPbmVCeU9uZUFuaW1hdGlvbiB9IGZyb20gJy4vbGF5b3V0LWl0ZW0taG9vay91c2Utb25lYnlvbmUtYW5pbWF0aW9uJztcbmltcG9ydCB7IHVzZVZpZXdwb3J0SW50ZXJzZWN0aW9uIH0gZnJvbSAnLi4vdXNlLXZpZXdwb3J0LWludGVyc2VjdGlvbic7XG5cbi8vIGNvbnN0IGFuaW1hdGVkID0gc3ByaW5nLmFuaW1hdGVkO1xuXG5pbnRlcmZhY2UgQ2hpbGRFbWVtZW50IHtcbiAgY2hpbGRyZW4/OiBFbGVtZW50IHwgUmVhY3QuUmVhY3ROb2RlOyAvLyByZWY6IEhUTUxFbGVtZW50O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE93blByb3BzIHtcbiAgaXNCbG9jaz86IGJvb2xlYW47XG4gIHRvb2xJdGVtcz86IFRvb2xiYXJDb25maWc7XG4gIGNvbnRleHRNZW51SXRlbXM/OiBUb29sYmFyQ29uZmlnO1xuICBpc1BhcmVudFBsYXlpbmc/OiBib29sZWFuO1xuICBpc1BhcmVudFJldmVydD86IGJvb2xlYW47XG4gIGlzUGFyZW50RW5hYmxlU2Nyb2xsPzogYm9vbGVhbjtcbiAgcGFyZW50QW5pbWF0aW9uU3R5bGU/OiBhbnk7XG4gIHBhcmVudFBsYXlJZD86IHN5bWJvbDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBEcmFnRXZlbnRIYW5kbGVycyB7XG4gIHJlc3RyaWN0PzogYm9vbGVhbjtcbiAgdXNlRHJhZ0hhbmRsZXI/OiBib29sZWFuO1xuICBvbkRyYWdTdGFydD86IChsYXlvdXRJdGVtSWQ6IHN0cmluZykgPT4gdm9pZDtcbiAgb25EcmFnZ2luZz86IChsYXlvdXRJdGVtSWQ6IHN0cmluZywgZHg6IG51bWJlciwgZHk6IG51bWJlcikgPT4gdm9pZDtcbiAgb25EcmFnRW5kPzogKGxheW91dEl0ZW1JZDogc3RyaW5nLCBkeDogbnVtYmVyLCBkeTogbnVtYmVyKSA9PiB2b2lkO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFJlc2l6ZUV2ZW50SGFuZGxlcnMge1xuICB0b3A/OiBib29sZWFuO1xuICBsZWZ0PzogYm9vbGVhbjtcbiAgcmlnaHQ/OiBib29sZWFuO1xuICBib3R0b20/OiBib29sZWFuO1xuICByZXNpemFibGU/OiBib29sZWFuO1xuICBrZWVwQXNwZWN0UmF0aW8/OiBib29sZWFuO1xuICBhc3BlY3RSYXRpbz86IG51bWJlcjtcbiAgb25SZXNpemVTdGFydD86IChsYXlvdXRJdGVtSWQ6IHN0cmluZywgaW5pdFdpZHRoOiBudW1iZXIsIGluaXRIZWlnaHQ6IG51bWJlcikgPT4gdm9pZDtcbiAgb25SZXNpemluZz86IChsYXlvdXRJdGVtSWQ6IHN0cmluZywgeDogbnVtYmVyLCB5OiBudW1iZXIsIGR3OiBudW1iZXIsIGRoOiBudW1iZXIsIHNoaWZ0S2V5PzogYm9vbGVhbikgPT4gdm9pZDtcbiAgb25SZXNpemVFbmQ/OiAobGF5b3V0SXRlbUlkOiBzdHJpbmcsIHg6IG51bWJlciwgeTogbnVtYmVyLCBkdzogbnVtYmVyLCBkaDogbnVtYmVyLCBzaGlmdEtleT86IGJvb2xlYW4pID0+IHZvaWQ7XG59XG5cbnR5cGUgTGF5b3V0SXRlbUluQnVpbGRlclByb3BzID0gTGF5b3V0SXRlbVByb3BzICYgRHJhZ0V2ZW50SGFuZGxlcnMgJiBSZXNpemVFdmVudEhhbmRsZXJzICYgT3duUHJvcHM7XG5cbnR5cGUgU3RhdGVUb0l0ZW1Qcm9wcyA9IFN0YXRlVG9MYXlvdXRJdGVtUHJvcHMgJiBXaWRnZXRQcm9wcyAmIFNlY3Rpb25Qcm9wcztcblxuY29uc3QgcGFyZW50UmVzdHJpY3QgPSBpbnRlcmFjdC5tb2RpZmllcnMucmVzdHJpY3RSZWN0KHtcbiAgcmVzdHJpY3Rpb246ICdwYXJlbnQnLFxufSk7XG5cbmNvbnN0IGJvdW5kYXJ5UmVzdHJpY3QgPSBpbnRlcmFjdC5tb2RpZmllcnMucmVzdHJpY3RSZWN0KHtcbiAgcmVzdHJpY3Rpb246IGBkaXYuJHtMSU1JVEVEX0JPVU5EQVJZX0NMQVNTX05BTUV9YCxcbn0pO1xuXG5jb25zdCBtaW5TaXplUmVzdHJpY3QgPSBpbnRlcmFjdC5tb2RpZmllcnMucmVzdHJpY3RTaXplKHtcbiAgbWluOiB7IHdpZHRoOiAxNiwgaGVpZ2h0OiAxNiB9LFxufSk7XG5cbmNvbnN0IGRlZmF1bHRDb25zdGV4dE1lbnVzOiBUb29sYmFyQ29uZmlnID0gW3NldHRpbmdNZW51SXRlbSwgZHJhZ2dpbmdNZW51SXRlbSwgcGVuZGluZ01lbnVJdGVtLCBkZWxldGVNZW51SXRlbV07XG5cbi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnVzZWQtdmFycyovXG4vKiBlc2xpbnQtZGlzYWJsZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHMgKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIExheW91dEl0ZW1JbkJ1aWxkZXIocHJvcHM6IExheW91dEl0ZW1JbkJ1aWxkZXJQcm9wcyAmIENoaWxkRW1lbWVudCkge1xuICBjb25zdCBzdGF0ZVByb3BzID0gUmVhY3RSZWR1eC51c2VTZWxlY3Rvcigoc3RhdGU6IElNU3RhdGUpID0+IG1hcFN0YXRlVG9Qcm9wcyhzdGF0ZSwgcHJvcHMpLCBSZWFjdFJlZHV4LnNoYWxsb3dFcXVhbCk7XG4gIGNvbnN0IGFsbFByb3BzID0geyAuLi5zdGF0ZVByb3BzLCAuLi5wcm9wcyB9O1xuICBjb25zdCBwYWdlQ29udGV4dCA9IFJlYWN0LnVzZUNvbnRleHQoUGFnZUNvbnRleHQpO1xuICBjb25zdCByZWZPYmogPSBSZWFjdC51c2VSZWY8SFRNTERpdkVsZW1lbnQ+KCk7XG4gIGNvbnN0IGludGVyYWN0YWJsZVJlZiA9IFJlYWN0LnVzZVJlZjxJbnRlcmFjdC5JbnRlcmFjdGFibGU+KCk7XG5cbiAgbGV0IG1vdXNlZG93blg6IG51bWJlcjtcbiAgbGV0IG1vdXNlZG93blk6IG51bWJlcjtcblxuICBjb25zdCB7IGVmZmVjdCwgb25lQnlPbmVFZmZlY3QgfSA9IGFsbFByb3BzLmxheW91dEl0ZW0/LnNldHRpbmcgPz8ge30gYXMgQ29tbW9uTGF5b3V0SXRlbVNldHRpbmc7XG4gIGNvbnN0IHsgYW5pbWF0aW9uUHJldmlldywgcHJldmlld0lkLCBwbGF5TW9kZSB9ID0gYWxsUHJvcHM7XG5cbiAgY29uc3QgZ2V0Q3VycmVudFJvb3RMYXlvdXRJZCA9IFJlYWN0LnVzZUNhbGxiYWNrKCgpID0+IHBhZ2VDb250ZXh0LnJvb3RMYXlvdXRJZCwgW3BhZ2VDb250ZXh0LnJvb3RMYXlvdXRJZF0pO1xuXG4gIGNvbnN0IGlzSW5WaWV3cG9ydCA9IHVzZVZpZXdwb3J0SW50ZXJzZWN0aW9uKHJlZk9iai5jdXJyZW50KTtcbiAgY29uc3Qge1xuICAgIHR5cGU6IGVmZmVjdFR5cGUsXG4gICAgdHJpZ2dlcjogZWZmZWN0VHJpZ2dlcixcbiAgICBwbGF5SWQ6IGVmZmVjdFBsYXlJZCxcbiAgICByZXZlcnQ6IGVmZmVjdFJldmVydCxcbiAgICBvbkFuaW1hdGlvbkVuZDogb25FZmZlY3RBbmltYXRpb25FbmRcbiAgfSA9IHVzZUFuaW1hdGlvbih7XG4gICAgZWZmZWN0LFxuICAgIGlzUHJldmlldzogYW5pbWF0aW9uUHJldmlldyxcbiAgICBwcmV2aWV3SWQ6IHByZXZpZXdJZCxcbiAgICBwbGF5TW9kZTogcGxheU1vZGUsXG4gICAgaXNQYXJlbnRQbGF5aW5nOiBhbGxQcm9wcy5pc1BhcmVudFBsYXlpbmcsXG4gIH0pO1xuICBjb25zdCB7XG4gICAgc2V0dGluZzogb25lQnlPbmVTZXR0aW5nLFxuICAgIHRyaWdnZXI6IG9uZUJ5T25lVHJpZ2dlcixcbiAgICBpbmhlcml0ZWRPbmVCeU9uZVNldHRpbmcsXG4gICAgcGxheUlkOiBvbmVCeU9uZVBsYXlJZCxcbiAgICBkZXB0aDogb25lQnlPbmVEZXB0aCxcbiAgICByZXZlcnQ6IG9uZUJ5T25lUmV2ZXJ0LFxuICAgIG9uQW5pbWF0aW9uRW5kOiBvbk9uZUJ5T25lQW5pbWF0aW9uRW5kLFxuICB9ID0gdXNlT25lQnlPbmVBbmltYXRpb24oe1xuICAgIGVmZmVjdDogb25lQnlPbmVFZmZlY3QsXG4gICAgaXNTZWN0aW9uOiBhbGxQcm9wcy5sYXlvdXRJdGVtPy50eXBlID09PSBMYXlvdXRJdGVtVHlwZS5TZWN0aW9uLFxuICAgIGlzUHJldmlldzogYW5pbWF0aW9uUHJldmlldyxcbiAgICBwcmV2aWV3SWQ6IHByZXZpZXdJZCxcbiAgICBwbGF5TW9kZTogcGxheU1vZGUsXG4gICAgaXNQYXJlbnRQbGF5aW5nOiBhbGxQcm9wcy5pc1BhcmVudFBsYXlpbmcsXG4gIH0pO1xuXG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHJlZk9iai5jdXJyZW50ICYmICFpbnRlcmFjdGFibGVSZWYuY3VycmVudCkge1xuICAgICAgY29uc3QgeyBsYXlvdXRJZCwgbGF5b3V0SXRlbUlkLCB1c2VEcmFnSGFuZGxlciwgb25EcmFnZ2luZywgb25SZXNpemluZyB9ID0gcHJvcHM7XG4gICAgICBjb25zdCB7IGxheW91dEl0ZW0gfSA9IHN0YXRlUHJvcHM7XG4gICAgICBpbnRlcmFjdGFibGVSZWYuY3VycmVudCA9IGludGVyYWN0KHJlZk9iai5jdXJyZW50KS5vcmlnaW4oJ3BhcmVudCcpO1xuICAgICAgaW50ZXJhY3RhYmxlUmVmLmN1cnJlbnQgPSBiaW5kRHJhZ0hhbmRsZXIoaW50ZXJhY3RhYmxlUmVmLmN1cnJlbnQgYXMgYW55LCB7XG4gICAgICAgIGxheW91dElkLFxuICAgICAgICBsYXlvdXRJdGVtSWQsXG4gICAgICAgIHVzZURyYWdIYW5kbGVyLFxuICAgICAgICBvbkRyYWdnaW5nLFxuICAgICAgICBvbkRyYWdTdGFydDogb25JdGVtRHJhZ1N0YXJ0LFxuICAgICAgICBvbkRyYWdFbmQ6IG9uSXRlbURyYWdFbmQsXG4gICAgICAgIGl0ZW1UeXBlOiBsYXlvdXRJdGVtLnR5cGUsXG4gICAgICAgIHJvb3RMYXlvdXRJZDogZ2V0Q3VycmVudFJvb3RMYXlvdXRJZCxcbiAgICAgICAgcmVzdHJpY3Q6ICgpID0+IHByb3BzLnJlc3RyaWN0LFxuICAgICAgfSk7XG4gICAgICBpbnRlcmFjdGFibGVSZWYuY3VycmVudCA9IGJpbmRSZXNpemVIYW5kbGVyKGludGVyYWN0YWJsZVJlZi5jdXJyZW50LCB7XG4gICAgICAgIGxheW91dEl0ZW1JZCxcbiAgICAgICAgb25SZXNpemluZyxcbiAgICAgICAgb25SZXNpemVTdGFydDogb25JdGVtUmVzaXplU3RhcnQsXG4gICAgICAgIG9uUmVzaXplRW5kOiBvbkl0ZW1SZXNpemVFbmQsXG4gICAgICB9KTtcbiAgICAgIGludGVyYWN0YWJsZVJlZi5jdXJyZW50LnJlc2l6YWJsZSh7XG4gICAgICAgIG1vZGlmaWVyczogW21pblNpemVSZXN0cmljdF0sXG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGludGVyYWN0YWJsZVJlZi5jdXJyZW50KSB7XG4gICAgICBpZiAocHJvcHMucmVzdHJpY3QpIHtcbiAgICAgICAgaW50ZXJhY3RhYmxlUmVmLmN1cnJlbnQuZHJhZ2dhYmxlKHtcbiAgICAgICAgICBtb2RpZmllcnM6IFtwYXJlbnRSZXN0cmljdF0sXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaW50ZXJhY3RhYmxlUmVmLmN1cnJlbnQuZHJhZ2dhYmxlKHtcbiAgICAgICAgICBtb2RpZmllcnM6IFtib3VuZGFyeVJlc3RyaWN0XSxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChwcm9wcy5yZXNpemVPYnNlcnZlcikge1xuICAgICAgcHJvcHMucmVzaXplT2JzZXJ2ZXIub2JzZXJ2ZShyZWZPYmouY3VycmVudCk7XG4gICAgfVxuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGlmIChpbnRlcmFjdGFibGVSZWYuY3VycmVudCkge1xuICAgICAgICBpbnRlcmFjdGFibGVSZWYuY3VycmVudC51bnNldCgpO1xuICAgICAgICBpbnRlcmFjdGFibGVSZWYuY3VycmVudCA9IG51bGw7XG4gICAgICB9XG4gICAgICBpZiAocHJvcHMucmVzaXplT2JzZXJ2ZXIpIHtcbiAgICAgICAgcHJvcHMucmVzaXplT2JzZXJ2ZXIudW5vYnNlcnZlKHJlZk9iai5jdXJyZW50KTtcbiAgICAgIH1cbiAgICB9O1xuICB9LCBbcHJvcHMucmVzdHJpY3RdKTtcblxuICBmdW5jdGlvbiBvbkl0ZW1EcmFnU3RhcnQobGF5b3V0SXRlbUlkOiBzdHJpbmcpIHtcbiAgICBzZXRJc0RyYWdnaW5nKHRydWUpO1xuICAgIHNldElzUmVzaXppbmcoZmFsc2UpO1xuICAgIGlmIChwcm9wcy5vbkRyYWdTdGFydCkge1xuICAgICAgcHJvcHMub25EcmFnU3RhcnQobGF5b3V0SXRlbUlkKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBvbkl0ZW1EcmFnRW5kKGlkOiBzdHJpbmcsIGR4OiBudW1iZXIsIGR5OiBudW1iZXIpIHtcbiAgICBsb2Rhc2guZGVmZXIoKCkgPT4ge1xuICAgICAgc2V0SXNEcmFnZ2luZyhmYWxzZSk7XG4gICAgfSk7XG4gICAgaWYgKHByb3BzLm9uRHJhZ0VuZCkge1xuICAgICAgcHJvcHMub25EcmFnRW5kKGlkLCBkeCwgZHkpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIG9uSXRlbVJlc2l6ZVN0YXJ0KGxheW91dEl0ZW1JZDogc3RyaW5nLCBpbml0V2lkdGg6IG51bWJlciwgaW5pdEhlaWdodDogbnVtYmVyKSB7XG4gICAgc2V0SXNEcmFnZ2luZyhmYWxzZSk7XG4gICAgc2V0SXNSZXNpemluZyh0cnVlKTtcbiAgICBpZiAocHJvcHMub25SZXNpemVTdGFydCkge1xuICAgICAgcHJvcHMub25SZXNpemVTdGFydChsYXlvdXRJdGVtSWQsIGluaXRXaWR0aCwgaW5pdEhlaWdodCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gb25JdGVtUmVzaXplRW5kKGlkOiBzdHJpbmcsIHg6IG51bWJlciwgeTogbnVtYmVyLCBkdzogbnVtYmVyLCBkaDogbnVtYmVyLCBzaGlmdEtleT86IGJvb2xlYW4pIHtcbiAgICBsb2Rhc2guZGVmZXIoKCkgPT4ge1xuICAgICAgc2V0SXNSZXNpemluZyhmYWxzZSk7XG4gICAgfSk7XG4gICAgaWYgKHByb3BzLm9uUmVzaXplRW5kKSB7XG4gICAgICBwcm9wcy5vblJlc2l6ZUVuZChpZCwgeCwgeSwgZHcsIGRoLCBzaGlmdEtleSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEVuYWJsZSBpbmxpbmUgZWRpdGluZyBtb2RlIGZvciB0aGUgd2lkZ2V0XG4gICAqXG4gICAqIEBtZW1iZXJvZiBMYXlvdXRJdGVtSW5CdWlsZGVyXG4gICAqL1xuICBmdW5jdGlvbiBkb3VibGVDbGljayhlKSB7XG4gICAgY29uc3QgeyBsYXlvdXRJZCwgbGF5b3V0SXRlbUlkIH0gPSBwcm9wcztcbiAgICBjb25zdCB7IHN1cHBvcnRJbmxpbmVFZGl0aW5nLCB3aWRnZXRJZCB9ID0gc3RhdGVQcm9wcztcblxuICAgIGlmIChwcm9wcy5vbkRvdWJsZUNsaWNrKSB7XG4gICAgICBwcm9wcy5vbkRvdWJsZUNsaWNrKGUsIHsgbGF5b3V0SWQsIGxheW91dEl0ZW1JZCB9KTtcbiAgICB9XG4gICAgaWYgKHBhZ2VDb250ZXh0LnZpZXdPbmx5KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgaWYgKHN1cHBvcnRJbmxpbmVFZGl0aW5nKSB7XG4gICAgICBnZXRBcHBTdG9yZSgpLmRpc3BhdGNoKGFwcEFjdGlvbnMuc2V0V2lkZ2V0SXNJbmxpbmVFZGl0aW5nU3RhdGUod2lkZ2V0SWQsIHRydWUpKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBvbkl0ZW1DbGljayhlKSB7XG4gICAgaWYgKE1hdGguYWJzKGUuc2NyZWVuWCAtIG1vdXNlZG93blgpID4gQ0xJQ0tfVE9MUkVSQU5DRSB8fCBNYXRoLmFicyhlLnNjcmVlblkgLSBtb3VzZWRvd25ZKSA+IENMSUNLX1RPTFJFUkFOQ0UpIHtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHsgdmlld09ubHksIGxvY2tMYXlvdXQsIGlzRGVzaWduTW9kZSB9ID0gcGFnZUNvbnRleHQ7XG4gICAgY29uc3QgeyBpc0Z1bmN0aW9uYWxXaWRnZXQsIGxheW91dEl0ZW0gfSA9IHN0YXRlUHJvcHM7XG4gICAgaWYgKFxuICAgICAgdmlld09ubHkgfHxcbiAgICAgICgobG9ja0xheW91dCB8fCAhaXNEZXNpZ25Nb2RlKSAmJiAhaXNGdW5jdGlvbmFsV2lkZ2V0ICYmIGxheW91dEl0ZW0udHlwZSAhPT0gTGF5b3V0SXRlbVR5cGUuU2VjdGlvbilcbiAgICApIHtcbiAgICAgIC8vIHByb3BhZ2F0ZSBub3JtYWxseSBpbiB2aWV3IG1vZGVcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIGlmIChpc1Jlc2l6aW5nKCkpIHtcbiAgICAgIC8vIFByZXZlbnQgc3dpdGNoaW5nIHNlbGVjdGlvbiB3aGVuIHJlc2l6aW5nIGFuIGl0ZW1cbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHByb3BzLm9uQ2xpY2spIHtcbiAgICAgIGNvbnN0IHsgbGF5b3V0SWQsIGxheW91dEl0ZW1JZCB9ID0gYWxsUHJvcHM7XG4gICAgICBwcm9wcy5vbkNsaWNrKGUsIHsgbGF5b3V0SWQsIGxheW91dEl0ZW1JZCB9KTtcbiAgICB9XG4gICAgc3dpdGNoU2V0dGluZygpO1xuICB9XG5cbiAgZnVuY3Rpb24gb25Nb3VzZURvd24oZSkge1xuICAgIG1vdXNlZG93blggPSBlLnNjcmVlblg7XG4gICAgbW91c2Vkb3duWSA9IGUuc2NyZWVuWTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZUNvbnRleHRNZW51KCkge1xuICAgIGNvbnN0IHsgYnVpbGRlclRoZW1lIH0gPSBwYWdlQ29udGV4dDtcbiAgICByZXR1cm4gKFxuICAgICAgPENvbnRleHRNZW51XG4gICAgICAgIGJ1aWxkZXJUaGVtZT17YnVpbGRlclRoZW1lfVxuICAgICAgICBsYXlvdXRJZD17cHJvcHMubGF5b3V0SWR9XG4gICAgICAgIGxheW91dEl0ZW09e3N0YXRlUHJvcHMubGF5b3V0SXRlbX1cbiAgICAgICAgcG9zaXRpb25UeXBlPVwiY2VudGVyXCJcbiAgICAgICAgc2l6ZT17Q09OVEVYVF9NRU5VX0lURU1fU0laRX1cbiAgICAgICAgaWNvblNpemU9e0NPTlRFWFRfTUVOVV9JQ09OX1NJWkV9XG4gICAgICAgIGNsYXNzTmFtZT1cIndpZGdldC1jb250ZXh0LW1lbnVcIlxuICAgICAgICBtZW51SXRlbXM9e3Byb3BzLmNvbnRleHRNZW51SXRlbXMgfHwgZGVmYXVsdENvbnN0ZXh0TWVudXN9XG4gICAgICAvPlxuICAgICk7XG4gIH1cblxuICBmdW5jdGlvbiBzd2l0Y2hTZXR0aW5nKCkge1xuICAgIGNvbnN0IHsgbGF5b3V0SWQsIGxheW91dEl0ZW1JZCB9ID0gcHJvcHM7XG4gICAgaWYgKCFzdGF0ZVByb3BzLnNlbGVjdGVkKSB7XG4gICAgICBnZXRBcHBTdG9yZSgpLmRpc3BhdGNoKFxuICAgICAgICBhcHBBY3Rpb25zLnNlbGVjdGlvbkNoYW5nZWQoe1xuICAgICAgICAgIGxheW91dElkLFxuICAgICAgICAgIGxheW91dEl0ZW1JZCxcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZ2V0U3R5bGUoKSB7XG4gICAgY29uc3QgZHJhZ2dhYmxlID0gY2FuRHJhZygpO1xuICAgIGNvbnN0IGlzSW5saW5lRWRpdGluZyA9IHN0YXRlUHJvcHMuaXNJbmxpbmVFZGl0aW5nID8/IGZhbHNlO1xuICAgIHJldHVybiBjc3NgXG4gICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICBvdmVyZmxvdzogdmlzaWJsZTtcbiAgICAgIGN1cnNvcjogJHtkcmFnZ2FibGUgPyAnbW92ZScgOiAnZGVmYXVsdCd9O1xuICAgICAgdG91Y2gtYWN0aW9uOiAke2lzSW5saW5lRWRpdGluZyA/ICdhdXRvJyA6ICdub25lJ307XG4gICAgICB1c2VyLXNlbGVjdDogJHtpc0lubGluZUVkaXRpbmcgPyAnYXV0bycgOiAnbm9uZSd9O1xuICAgICAgbWluLWhlaWdodDogJHtNSU5fTEFZT1VUX0lURU1fU0laRX1weDtcblxuICAgICAgJiA+IGRpdi53aWRnZXQtY29udGV4dC1tZW51IHtcbiAgICAgICAgZGlzcGxheTogbm9uZTtcbiAgICAgIH1cblxuICAgICAgJjpob3ZlciA+IGRpdi53aWRnZXQtY29udGV4dC1tZW51IHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgIH1cblxuICAgICAgLiR7R0xPQkFMX0g1X0RSQUdHSU5HX0NMQVNTX05BTUV9ICYuZnVuY3Rpb25hbC13aWRnZXQge1xuICAgICAgICBwb2ludGVyLWV2ZW50czogbm9uZTtcbiAgICAgIH1cbiAgICAgIC4ke0dMT0JBTF9INV9EUkFHR0lOR19DTEFTU19OQU1FfSAmLmZ1bmN0aW9uYWwtd2lkZ2V0IC5leGItZHJvcC1hcmVhIHtcbiAgICAgICAgcG9pbnRlci1ldmVudHM6IGFsbDtcbiAgICAgIH1cbiAgICBgO1xuICB9XG5cbiAgZnVuY3Rpb24gY2FuRHJhZygpOiBib29sZWFuIHtcbiAgICBjb25zdCB7IHNlbGVjdGVkLCBkcmFnZ2FibGUgfSA9IGFsbFByb3BzO1xuICAgIGNvbnN0IGlzSW5saW5lRWRpdGluZyA9IHN0YXRlUHJvcHMuaXNJbmxpbmVFZGl0aW5nID8/IGZhbHNlO1xuICAgIGNvbnN0IGlzVG91Y2hEZXZpY2UgPSB1dGlscy5pc1RvdWNoRGV2aWNlKCk7XG4gICAgcmV0dXJuIChcbiAgICAgIGRyYWdnYWJsZSAhPT0gZmFsc2UgJiZcbiAgICAgIHBhZ2VDb250ZXh0LmlzRGVzaWduTW9kZSAmJlxuICAgICAgIXBhZ2VDb250ZXh0LnZpZXdPbmx5ICYmXG4gICAgICAhcGFnZUNvbnRleHQubG9ja0xheW91dCAmJlxuICAgICAgIWlzSW5saW5lRWRpdGluZyAmJlxuICAgICAgKCFpc1RvdWNoRGV2aWNlIHx8IHNlbGVjdGVkKVxuICAgICk7XG4gIH1cblxuICBjb25zdCB7XG4gICAgbGF5b3V0SWQsXG4gICAgbGF5b3V0SXRlbUlkLFxuICAgIHRvcCxcbiAgICBsZWZ0LFxuICAgIHJpZ2h0LFxuICAgIGJvdHRvbSxcbiAgICByZXNpemFibGUsXG4gICAgZHJhZ2dhYmxlLFxuICAgIGlzQmxvY2ssXG4gICAgYXV0b1Njcm9sbCxcbiAgICBsYXlvdXRJdGVtLFxuICAgIGlzRnVuY3Rpb25hbFdpZGdldCxcbiAgICBzZWxlY3RlZCxcbiAgICBpc0lubGluZUVkaXRpbmcsXG4gICAgaGFzRW1iZWRkZWRMYXlvdXQsXG4gICAgYWN0aXZlVmlldyxcbiAgICBoYXNFeHRlbnNpb24sXG4gICAgaXNQYXJlbnRQbGF5aW5nLFxuICAgIGlzUGFyZW50UmV2ZXJ0LFxuICAgIGlzUGFyZW50RW5hYmxlU2Nyb2xsLFxuICAgIHBhcmVudEFuaW1hdGlvblN0eWxlLFxuICAgIHBhcmVudFBsYXlJZCxcbiAgfSA9IGFsbFByb3BzO1xuICBjb25zdCB7IGNsYXNzTmFtZSwgZm9yYmlkQ29udGV4dE1lbnUsIG9uQ2xpY2ssIG9uRG91YmxlQ2xpY2ssIGNoaWxkcmVuLCAuLi5vdGhlclByb3BzIH0gPSBhbGxQcm9wcztcbiAgY29uc3QgaXNXaWRnZXQgPSBsYXlvdXRJdGVtLnR5cGUgPT09IExheW91dEl0ZW1UeXBlLldpZGdldDtcbiAgY29uc3QgaXNTZWN0aW9uID0gbGF5b3V0SXRlbS50eXBlID09PSBMYXlvdXRJdGVtVHlwZS5TZWN0aW9uO1xuICBjb25zdCBzaG93Q29udGV4dE1lbnUgPVxuICAgICFmb3JiaWRDb250ZXh0TWVudSAmJlxuICAgICFwYWdlQ29udGV4dC52aWV3T25seSAmJlxuICAgIHBhZ2VDb250ZXh0LmlzRGVzaWduTW9kZSAmJlxuICAgICFwYWdlQ29udGV4dC5sb2NrTGF5b3V0ICYmXG4gICAgKGxheW91dEl0ZW0ud2lkZ2V0SWQgfHwgbGF5b3V0SXRlbS5zZWN0aW9uSWQpICYmXG4gICAgKCFpc0Z1bmN0aW9uYWxXaWRnZXQgfHwgaXNTZWN0aW9uKTtcblxuICBjb25zdCBlZmZlY3RPcHRpb24gPSBlZmZlY3Q/LltBbmltYXRpb25UcmlnZ2VyVHlwZS5TY3JvbGxJbnRvVmlld10/Lm9wdGlvbjtcbiAgY29uc3Qgcm90YXRlID0gbGF5b3V0SXRlbS5zZXR0aW5nPy5zdHlsZT8udHJhbnNmb3JtPy5yb3RhdGUgPz8gMDtcblxuICBjb25zdCBhbmltYXRpb25Db250ZXh0VmFsdWUgPSBSZWFjdC51c2VNZW1vKCgpID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgaXNEZXNpZ25Nb2RlOiBwYWdlQ29udGV4dC5pc0Rlc2lnbk1vZGUsXG4gICAgICB0cmlnZ2VyOiBvbmVCeU9uZVRyaWdnZXIsXG4gICAgICBzZXR0aW5nOiBvbmVCeU9uZVNldHRpbmcsXG4gICAgICBpbmhlcml0ZWRPbmVCeU9uZVNldHRpbmcsXG4gICAgICBwbGF5SWQgOiBvbmVCeU9uZVBsYXlJZCxcbiAgICAgIGRlcHRoOiBvbmVCeU9uZURlcHRoLFxuICAgICAgcmV2ZXJ0OiBvbmVCeU9uZVJldmVydCxcbiAgICAgIG9uQW5pbWF0aW9uRW5kOiBvbk9uZUJ5T25lQW5pbWF0aW9uRW5kXG4gICAgfTtcbiAgfSwgW1xuICAgIHBhZ2VDb250ZXh0LmlzRGVzaWduTW9kZSxcbiAgICBvbmVCeU9uZVRyaWdnZXIsXG4gICAgb25lQnlPbmVTZXR0aW5nLFxuICAgIGluaGVyaXRlZE9uZUJ5T25lU2V0dGluZyxcbiAgICBvbmVCeU9uZVBsYXlJZCxcbiAgICBvbmVCeU9uZURlcHRoLFxuICAgIG9uZUJ5T25lUmV2ZXJ0LFxuICAgIG9uT25lQnlPbmVBbmltYXRpb25FbmRcbiAgXSk7XG4gIC8vIGNvbnN0IGFuaW1QbGF5SWQgPSBnZXRQbGF5SWQoKTtcbiAgaWYgKCFzdGF0ZVByb3BzLmxheW91dEl0ZW0pIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHJldHVybiAoPEFuaW1hdGlvbkNvbnRleHQuUHJvdmlkZXIgdmFsdWU9e2FuaW1hdGlvbkNvbnRleHRWYWx1ZX0+XG4gICAgPFZpZXdwb3J0VmlzaWJpbGl0eUNvbnRleHQuUHJvdmlkZXIgdmFsdWU9e2lzSW5WaWV3cG9ydH0+XG4gICAgICA8QW5pbWF0aW9uXG4gICAgICAgIHR5cGU9e2VmZmVjdFR5cGV9XG4gICAgICAgIHRyaWdnZXI9e2VmZmVjdFRyaWdnZXJ9XG4gICAgICAgIGNvbmZpZ1R5cGU9e2VmZmVjdE9wdGlvbj8uY29uZmlnVHlwZX1cbiAgICAgICAgZGlyZWN0aW9uPXtlZmZlY3RPcHRpb24/LmRpcmVjdGlvbn1cbiAgICAgICAgcGxheUlkPXtlZmZlY3RQbGF5SWR9XG4gICAgICAgIG9uQW5pbWF0aW9uRW5kPXtvbkVmZmVjdEFuaW1hdGlvbkVuZH1cbiAgICAgICAgcGFyZW50QW5pbWF0aW9uU3R5bGU9e3BhcmVudEFuaW1hdGlvblN0eWxlfVxuICAgICAgICBpc1BhcmVudFBsYXlpbmc9e2lzUGFyZW50UGxheWluZ31cbiAgICAgICAgaXNQYXJlbnRSZXZlcnQ9e2lzUGFyZW50UmV2ZXJ0fVxuICAgICAgICBpc1BhcmVudEVuYWJsZVNjcm9sbD17aXNQYXJlbnRFbmFibGVTY3JvbGx9XG4gICAgICAgIHBhcmVudFBsYXlJZD17cGFyZW50UGxheUlkfVxuICAgICAgICByZXZlcnQ9e2VmZmVjdFJldmVydH1cbiAgICAgICAgY3NzPXtnZXRTdHlsZSgpfVxuICAgICAgICByZWY9e3JlZk9ian1cbiAgICAgICAgY2xhc3NOYW1lPXtjbGFzc05hbWVzKCdidWlsZGVyLWxheW91dC1pdGVtIGV4Yi1ybmQnLCBjbGFzc05hbWUsIHtcbiAgICAgICAgICBzZWxlY3RlZCxcbiAgICAgICAgICAnaXMtd2lkZ2V0JzogaXNXaWRnZXQsXG4gICAgICAgICAgJ2lzLXNlY3Rpb24nOiBpc1NlY3Rpb24sXG4gICAgICAgICAgJ2Z1bmN0aW9uYWwtd2lkZ2V0JzogaXNXaWRnZXQgJiYgaXNGdW5jdGlvbmFsV2lkZ2V0LFxuICAgICAgICAgICduby1kcmFnLWFjdGlvbic6ICFjYW5EcmFnKCksXG4gICAgICAgIH0pfVxuICAgICAgICBvbkRvdWJsZUNsaWNrPXtkb3VibGVDbGlja31cbiAgICAgICAgb25DbGljaz17b25JdGVtQ2xpY2t9XG4gICAgICAgIG9uTW91c2VEb3duPXtvbk1vdXNlRG93bn1cbiAgICAgICAgZGF0YS1sYXlvdXRpdGVtaWQ9e2xheW91dEl0ZW1JZH1cbiAgICAgICAgZGF0YS1sYXlvdXRpZD17bGF5b3V0SWR9XG4gICAgICA+XG4gICAgICAgIHtpc1dpZGdldCAmJiA8V2lkZ2V0UmVuZGVyZXJJbkJ1aWxkZXIgcm90YXRlPXtyb3RhdGV9IGlzRGVzaWduTW9kZT17cGFnZUNvbnRleHQuaXNEZXNpZ25Nb2RlfSB7Li4ub3RoZXJQcm9wc30gLz59XG4gICAgICAgIHtpc1NlY3Rpb24gJiYgPFNlY3Rpb25SZW5kZXJlckluQnVpbGRlciByb3RhdGU9e3JvdGF0ZX0gey4uLm90aGVyUHJvcHN9IC8+fVxuICAgICAgICB7c2hvd0NvbnRleHRNZW51ICYmIGNyZWF0ZUNvbnRleHRNZW51KCl9XG4gICAgICAgIHshcGFnZUNvbnRleHQudmlld09ubHkgJiYgKFxuICAgICAgICAgIDxTZWxlY3RXcmFwcGVyXG4gICAgICAgICAgICBsYXlvdXRJZD17bGF5b3V0SWR9XG4gICAgICAgICAgICBsYXlvdXRJdGVtPXtsYXlvdXRJdGVtfVxuICAgICAgICAgICAgdG9wPXt0b3B9XG4gICAgICAgICAgICBsZWZ0PXtsZWZ0fVxuICAgICAgICAgICAgcmlnaHQ9e3JpZ2h0fVxuICAgICAgICAgICAgYm90dG9tPXtib3R0b219XG4gICAgICAgICAgICByZXNpemFibGU9e3Jlc2l6YWJsZX1cbiAgICAgICAgICAgIGRyYWdnYWJsZT17ZHJhZ2dhYmxlfVxuICAgICAgICAgICAgc2VsZWN0ZWQ9e3NlbGVjdGVkfVxuICAgICAgICAgICAgYXV0b1Njcm9sbD17YXV0b1Njcm9sbH1cbiAgICAgICAgICAgIGZvcmJpZFRvb2xiYXI9e3Byb3BzLmZvcmJpZFRvb2xiYXJ9XG4gICAgICAgICAgICB0b29sSXRlbXM9e3Byb3BzLnRvb2xJdGVtc31cbiAgICAgICAgICAgIHNob3dEZWZhdWx0VG9vbHM9e3Byb3BzLnNob3dEZWZhdWx0VG9vbHN9XG4gICAgICAgICAgICBpc0lubGluZUVkaXRpbmc9e2lzSW5saW5lRWRpdGluZ31cbiAgICAgICAgICAgIGlzRnVuY3Rpb25hbFdpZGdldD17aXNGdW5jdGlvbmFsV2lkZ2V0fVxuICAgICAgICAgICAgaGFzRW1iZWRkZWRMYXlvdXQ9e2hhc0VtYmVkZGVkTGF5b3V0fVxuICAgICAgICAgICAgaXNTZWN0aW9uPXtpc1NlY3Rpb259XG4gICAgICAgICAgICBhY3RpdmVWaWV3PXtpc1NlY3Rpb24gPyBhY3RpdmVWaWV3IDogbnVsbH1cbiAgICAgICAgICAgIGlzQmxvY2s9e2lzQmxvY2t9XG4gICAgICAgICAgICBoYXNFeHRlbnNpb249e2lzV2lkZ2V0ICYmIGhhc0V4dGVuc2lvbn1cbiAgICAgICAgICAgIHdpZGdldEpzb249e3N0YXRlUHJvcHMud2lkZ2V0SnNvbn1cbiAgICAgICAgICAgIHdpZGdldFN0YXRlPXtzdGF0ZVByb3BzLndpZGdldFN0YXRlfVxuICAgICAgICAgICAgcm90YXRlPXtyb3RhdGV9XG4gICAgICAgICAgPjwvU2VsZWN0V3JhcHBlcj5cbiAgICAgICAgKX1cbiAgICAgICAge3Byb3BzLmNoaWxkcmVufVxuICAgICAgPC9BbmltYXRpb24+XG4gICAgPC9WaWV3cG9ydFZpc2liaWxpdHlDb250ZXh0LlByb3ZpZGVyPlxuICA8L0FuaW1hdGlvbkNvbnRleHQuUHJvdmlkZXI+KTtcbn1cblxuZnVuY3Rpb24gbWFwU3RhdGVUb1Byb3BzKHN0YXRlOiBJTVN0YXRlLCBvd25Qcm9wczogTGF5b3V0SXRlbVByb3BzKTogU3RhdGVUb0l0ZW1Qcm9wcyB7XG4gIGNvbnN0IGxheW91dEl0ZW1Qcm9wcyA9IGxheW91dFV0aWxzLm1hcFN0YXRlVG9MYXlvdXRJdGVtUHJvcHMoc3RhdGUsIG93blByb3BzKTtcblxuICBpZiAoIWxheW91dEl0ZW1Qcm9wcy5sYXlvdXRJdGVtKSB7XG4gICAgcmV0dXJuIHsuLi5sYXlvdXRJdGVtUHJvcHN9IGFzIGFueTtcbiAgfVxuXG4gIGlmIChsYXlvdXRJdGVtUHJvcHMubGF5b3V0SXRlbS50eXBlID09PSBMYXlvdXRJdGVtVHlwZS5XaWRnZXQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgLi4ubGF5b3V0SXRlbVByb3BzLFxuICAgICAgLi4ubGF5b3V0VXRpbHMubWFwU3RhdGVUb1dpZGdldFByb3BzKHN0YXRlLCBvd25Qcm9wcyksXG4gICAgfSBhcyBTdGF0ZVRvSXRlbVByb3BzO1xuICB9XG4gIGNvbnN0IHNlY3Rpb25Qcm9wcyA9IHNlYXJjaFV0aWxzLmdldFNlY3Rpb25JbmZvKHN0YXRlLCBsYXlvdXRJdGVtUHJvcHMubGF5b3V0SXRlbS5zZWN0aW9uSWQpO1xuICBjb25zdCBhY3RpdmVWaWV3SWQgPSBmaW5kQWN0aXZlVmlld0lkKHNlY3Rpb25Qcm9wcyk7XG4gIHJldHVybiB7XG4gICAgLi4ubGF5b3V0SXRlbVByb3BzLFxuICAgIC4uLnNlY3Rpb25Qcm9wcyxcbiAgICBhY3RpdmVWaWV3OiBzdGF0ZS5hcHBDb25maWcudmlld3NbYWN0aXZlVmlld0lkXSxcbiAgfSBhcyBTdGF0ZVRvSXRlbVByb3BzO1xufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFnQkE7QUFnQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBNENBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBU0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQVlBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7O0FBQ0E7QUFDQTtBQUNBO0FBdUJBO0FBRUE7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFHQTtBQXVCQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFnQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUEyQkE7QUFJQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFLQTs7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./jimu-layouts/lib/builder/layout-item.tsx\n");

/***/ }),

/***/ "./jimu-layouts/lib/builder/menu/common-menu.tsx":
/*!*******************************************************!*\
  !*** ./jimu-layouts/lib/builder/menu/common-menu.tsx ***!
  \*******************************************************/
/*! exports provided: getAppMode, isLockLayout, deleteMenuItem, pendingMenuItem, settingMenuItem, draggingMenuItem, duplicateMenuItem, floatingMenuItem, sinkingMenuItem */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getAppMode\", function() { return getAppMode; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isLockLayout\", function() { return isLockLayout; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"deleteMenuItem\", function() { return deleteMenuItem; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"pendingMenuItem\", function() { return pendingMenuItem; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"settingMenuItem\", function() { return settingMenuItem; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"draggingMenuItem\", function() { return draggingMenuItem; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"duplicateMenuItem\", function() { return duplicateMenuItem; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"floatingMenuItem\", function() { return floatingMenuItem; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"sinkingMenuItem\", function() { return sinkingMenuItem; });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jimu_core__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _common_layout_actions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../common-layout-actions */ \"./jimu-layouts/lib/builder/common-layout-actions.ts\");\n/* harmony import */ var _floating_area_chooser__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./floating-area-chooser */ \"./jimu-layouts/lib/builder/menu/floating-area-chooser.tsx\");\n\n\n\nfunction getAppMode() {\n    var _a;\n    return (_a = Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"getAppStore\"])().getState().appRuntimeInfo) === null || _a === void 0 ? void 0 : _a.appMode;\n}\nfunction isLockLayout() {\n    var _a, _b, _c;\n    return (_c = (_b = (_a = Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"getAppStore\"])().getState().appConfig) === null || _a === void 0 ? void 0 : _a.forBuilderAttributes) === null || _b === void 0 ? void 0 : _b.lockLayout) !== null && _c !== void 0 ? _c : false;\n}\nvar deleteMenuItem = {\n    icon: __webpack_require__(/*! jimu-ui/lib/icons/tool-delete.svg */ \"./jimu-ui/lib/icons/tool-delete.svg\"),\n    title: function (props) {\n        return props.formatMessage('delete');\n    },\n    visible: function (props) {\n        return getAppMode() === jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"AppMode\"].Design &&\n            (!isLockLayout() || (props.layoutItem.type === jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"LayoutItemType\"].Widget && props.layoutItem.widgetId));\n    },\n    onClick: function (props) {\n        var layoutItem = props.layoutItem, layoutId = props.layoutId;\n        var appMode = getAppMode();\n        var layoutInfo = {\n            layoutId: layoutId,\n            layoutItemId: layoutItem.id,\n        };\n        if (appMode === jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"AppMode\"].Design && !isLockLayout()) {\n            if (layoutItem.type === jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"LayoutItemType\"].Widget) {\n                if (layoutItem.widgetId) {\n                    Object(_common_layout_actions__WEBPACK_IMPORTED_MODULE_1__[\"deleteWidget\"])(layoutInfo, layoutItem.widgetId);\n                }\n                else {\n                    Object(_common_layout_actions__WEBPACK_IMPORTED_MODULE_1__[\"deleteLayoutItem\"])(layoutInfo);\n                }\n            }\n            else if (layoutItem.type === jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"LayoutItemType\"].Section) {\n                Object(_common_layout_actions__WEBPACK_IMPORTED_MODULE_1__[\"deleteSection\"])(layoutInfo, layoutItem.sectionId);\n            }\n        }\n        else if (appMode === jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"AppMode\"].Design && isLockLayout()) {\n            if (layoutItem.type === jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"LayoutItemType\"].Widget && layoutItem.widgetId) {\n                Object(_common_layout_actions__WEBPACK_IMPORTED_MODULE_1__[\"removeWidgetFromLayoutItem\"])(layoutInfo, layoutItem.widgetId);\n            }\n        }\n    },\n};\nvar pendingMenuItem = {\n    icon: __webpack_require__(/*! jimu-ui/lib/icons/pending.svg */ \"./jimu-ui/lib/icons/pending.svg\"),\n    title: function (props) {\n        return props.formatMessage('pendingTip');\n    },\n    visible: function () { return getAppMode() === jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"AppMode\"].Design && !isLockLayout(); },\n    onClick: function (props) {\n        var layoutId = props.layoutId, layoutItem = props.layoutItem;\n        Object(_common_layout_actions__WEBPACK_IMPORTED_MODULE_1__[\"pendLayoutItem\"])({\n            layoutId: layoutId,\n            layoutItemId: layoutItem.id,\n        });\n    },\n};\nvar settingMenuItem = {\n    icon: __webpack_require__(/*! jimu-ui/lib/icons/settings-12.svg */ \"./jimu-ui/lib/icons/settings-12.svg\"),\n    title: function (props) {\n        return props.formatMessage('setting');\n    },\n    onClick: function (props) {\n        var layoutId = props.layoutId, layoutItem = props.layoutItem;\n        Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"getAppStore\"])().dispatch(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"appActions\"].selectionChanged({\n            layoutId: layoutId,\n            layoutItemId: layoutItem.id,\n        }));\n    },\n};\nvar draggingMenuItem = {\n    icon: __webpack_require__(/*! jimu-ui/lib/icons/tool-drag.svg */ \"./jimu-ui/lib/icons/tool-drag.svg\"),\n    title: function (props) {\n        return props.formatMessage('dragToMove');\n    },\n    visible: function () { return getAppMode() === jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"AppMode\"].Design && !isLockLayout(); },\n};\nvar duplicateMenuItem = {\n    icon: __webpack_require__(/*! jimu-ui/lib/icons/duplicate-16.svg */ \"./jimu-ui/lib/icons/duplicate-16.svg\"),\n    title: function (props) {\n        return props.formatMessage('duplicate');\n    },\n    visible: function (props) {\n        var _a, _b;\n        // if it is in a row, the number of sibling items should be less than 12\n        var layoutId = props.layoutId;\n        var layout = Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"getAppStore\"])().getState().appConfig.layouts[layoutId];\n        if ((layout === null || layout === void 0 ? void 0 : layout.type) === 'ROW') {\n            return ((_b = (_a = layout.order) === null || _a === void 0 ? void 0 : _a.length) !== null && _b !== void 0 ? _b : 0) < 12;\n        }\n        return true;\n    },\n    onClick: function (props) {\n        var layoutId = props.layoutId, layoutItem = props.layoutItem;\n        Object(_common_layout_actions__WEBPACK_IMPORTED_MODULE_1__[\"duplicateLayoutItem\"])({ layoutId: layoutId, layoutItemId: layoutItem.id });\n    },\n};\nvar floatingMenuItem = {\n    icon: __webpack_require__(/*! jimu-ui/lib/icons/floating.svg */ \"./jimu-ui/lib/icons/floating.svg\"),\n    title: function (props) {\n        return props.formatMessage('floating');\n    },\n    visible: function (props) {\n        var layoutItem = props.layoutItem, layoutId = props.layoutId;\n        return Object(_common_layout_actions__WEBPACK_IMPORTED_MODULE_1__[\"supportFloating\"])({ layoutId: layoutId, layoutItemId: layoutItem.id });\n    },\n    settingPanel: _floating_area_chooser__WEBPACK_IMPORTED_MODULE_2__[\"FloatingAreaChooser\"],\n    onClick: function () { },\n};\nvar sinkingMenuItem = {\n    icon: __webpack_require__(/*! jimu-ui/lib/icons/sinking.svg */ \"./jimu-ui/lib/icons/sinking.svg\"),\n    title: function (props) {\n        return props.formatMessage('sinking');\n    },\n    visible: function (props) {\n        var _a, _b;\n        var layoutItem = props.layoutItem;\n        return (_b = (_a = layoutItem.setting) === null || _a === void 0 ? void 0 : _a.isFloating) !== null && _b !== void 0 ? _b : false;\n    },\n    onClick: function (props) {\n        var layoutId = props.layoutId, layoutItem = props.layoutItem, clientRect = props.clientRect;\n        Object(_common_layout_actions__WEBPACK_IMPORTED_MODULE_1__[\"sinkingLayoutItem\"])({ layoutId: layoutId, layoutItemId: layoutItem.id }, clientRect);\n    },\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWxheW91dHMvbGliL2J1aWxkZXIvbWVudS9jb21tb24tbWVudS50c3guanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qaW11LWxheW91dHMvbGliL2J1aWxkZXIvbWVudS9jb21tb24tbWVudS50c3g/MjdjMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBMYXlvdXRDb250ZXh0VG9vbFByb3BzLCBMYXlvdXRJdGVtVHlwZSwgZ2V0QXBwU3RvcmUsIEFwcE1vZGUsIGFwcEFjdGlvbnMgfSBmcm9tICdqaW11LWNvcmUnO1xuaW1wb3J0IHtcbiAgZGVsZXRlU2VjdGlvbixcbiAgZGVsZXRlV2lkZ2V0LFxuICBwZW5kTGF5b3V0SXRlbSxcbiAgZGVsZXRlTGF5b3V0SXRlbSxcbiAgcmVtb3ZlV2lkZ2V0RnJvbUxheW91dEl0ZW0sXG4gIGR1cGxpY2F0ZUxheW91dEl0ZW0sXG4gIHNpbmtpbmdMYXlvdXRJdGVtLFxuICBzdXBwb3J0RmxvYXRpbmdcbn0gZnJvbSAnLi4vY29tbW9uLWxheW91dC1hY3Rpb25zJztcbmltcG9ydCB7IEZsb2F0aW5nQXJlYUNob29zZXIgfSBmcm9tICcuL2Zsb2F0aW5nLWFyZWEtY2hvb3Nlcic7XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRBcHBNb2RlKCkge1xuICByZXR1cm4gZ2V0QXBwU3RvcmUoKS5nZXRTdGF0ZSgpLmFwcFJ1bnRpbWVJbmZvPy5hcHBNb2RlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNMb2NrTGF5b3V0KCkge1xuICByZXR1cm4gZ2V0QXBwU3RvcmUoKS5nZXRTdGF0ZSgpLmFwcENvbmZpZz8uZm9yQnVpbGRlckF0dHJpYnV0ZXM/LmxvY2tMYXlvdXQgPz8gZmFsc2U7XG59XG5cbmV4cG9ydCBjb25zdCBkZWxldGVNZW51SXRlbSA9IHtcbiAgaWNvbjogcmVxdWlyZSgnamltdS11aS9saWIvaWNvbnMvdG9vbC1kZWxldGUuc3ZnJyksXG4gIHRpdGxlOiAocHJvcHM6IHsgZm9ybWF0TWVzc2FnZTogKGlkOiBzdHJpbmcpID0+IHN0cmluZyB9KSA9PiB7XG4gICAgcmV0dXJuIHByb3BzLmZvcm1hdE1lc3NhZ2UoJ2RlbGV0ZScpO1xuICB9LFxuICB2aXNpYmxlOiAocHJvcHM6IExheW91dENvbnRleHRUb29sUHJvcHMpID0+IHtcbiAgICByZXR1cm4gZ2V0QXBwTW9kZSgpID09PSBBcHBNb2RlLkRlc2lnbiAmJlxuICAgICAgKCFpc0xvY2tMYXlvdXQoKSB8fCAocHJvcHMubGF5b3V0SXRlbS50eXBlID09PSBMYXlvdXRJdGVtVHlwZS5XaWRnZXQgJiYgcHJvcHMubGF5b3V0SXRlbS53aWRnZXRJZCkpO1xuICB9LFxuICBvbkNsaWNrOiAocHJvcHM6IExheW91dENvbnRleHRUb29sUHJvcHMpID0+IHtcbiAgICBjb25zdCB7IGxheW91dEl0ZW0sIGxheW91dElkIH0gPSBwcm9wcztcbiAgICBjb25zdCBhcHBNb2RlID0gZ2V0QXBwTW9kZSgpO1xuICAgIGNvbnN0IGxheW91dEluZm8gPSB7XG4gICAgICBsYXlvdXRJZCxcbiAgICAgIGxheW91dEl0ZW1JZDogbGF5b3V0SXRlbS5pZCxcbiAgICB9O1xuICAgIGlmIChhcHBNb2RlID09PSBBcHBNb2RlLkRlc2lnbiAmJiAhaXNMb2NrTGF5b3V0KCkpIHtcbiAgICAgIGlmIChsYXlvdXRJdGVtLnR5cGUgPT09IExheW91dEl0ZW1UeXBlLldpZGdldCkge1xuICAgICAgICBpZiAobGF5b3V0SXRlbS53aWRnZXRJZCkge1xuICAgICAgICAgIGRlbGV0ZVdpZGdldChsYXlvdXRJbmZvLCBsYXlvdXRJdGVtLndpZGdldElkKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkZWxldGVMYXlvdXRJdGVtKGxheW91dEluZm8pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGxheW91dEl0ZW0udHlwZSA9PT0gTGF5b3V0SXRlbVR5cGUuU2VjdGlvbikge1xuICAgICAgICBkZWxldGVTZWN0aW9uKGxheW91dEluZm8sIGxheW91dEl0ZW0uc2VjdGlvbklkKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGFwcE1vZGUgPT09IEFwcE1vZGUuRGVzaWduICYmIGlzTG9ja0xheW91dCgpKSB7XG4gICAgICBpZiAobGF5b3V0SXRlbS50eXBlID09PSBMYXlvdXRJdGVtVHlwZS5XaWRnZXQgJiYgbGF5b3V0SXRlbS53aWRnZXRJZCkge1xuICAgICAgICByZW1vdmVXaWRnZXRGcm9tTGF5b3V0SXRlbShsYXlvdXRJbmZvLCBsYXlvdXRJdGVtLndpZGdldElkKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG59O1xuXG5leHBvcnQgY29uc3QgcGVuZGluZ01lbnVJdGVtID0ge1xuICBpY29uOiByZXF1aXJlKCdqaW11LXVpL2xpYi9pY29ucy9wZW5kaW5nLnN2ZycpLFxuICB0aXRsZTogKHByb3BzOiB7IGZvcm1hdE1lc3NhZ2U6IChpZDogc3RyaW5nKSA9PiBzdHJpbmcgfSkgPT4ge1xuICAgIHJldHVybiBwcm9wcy5mb3JtYXRNZXNzYWdlKCdwZW5kaW5nVGlwJyk7XG4gIH0sXG4gIHZpc2libGU6ICgpID0+IGdldEFwcE1vZGUoKSA9PT0gQXBwTW9kZS5EZXNpZ24gJiYgIWlzTG9ja0xheW91dCgpLFxuICBvbkNsaWNrOiAocHJvcHM6IExheW91dENvbnRleHRUb29sUHJvcHMpID0+IHtcbiAgICBjb25zdCB7IGxheW91dElkLCBsYXlvdXRJdGVtIH0gPSBwcm9wcztcbiAgICBwZW5kTGF5b3V0SXRlbSh7XG4gICAgICBsYXlvdXRJZCxcbiAgICAgIGxheW91dEl0ZW1JZDogbGF5b3V0SXRlbS5pZCxcbiAgICB9KTtcbiAgfSxcbn07XG5cbmV4cG9ydCBjb25zdCBzZXR0aW5nTWVudUl0ZW0gPSB7XG4gIGljb246IHJlcXVpcmUoJ2ppbXUtdWkvbGliL2ljb25zL3NldHRpbmdzLTEyLnN2ZycpLFxuICB0aXRsZTogKHByb3BzOiB7IGZvcm1hdE1lc3NhZ2U6IChpZDogc3RyaW5nKSA9PiBzdHJpbmcgfSkgPT4ge1xuICAgIHJldHVybiBwcm9wcy5mb3JtYXRNZXNzYWdlKCdzZXR0aW5nJyk7XG4gIH0sXG4gIG9uQ2xpY2s6IChwcm9wczogTGF5b3V0Q29udGV4dFRvb2xQcm9wcykgPT4ge1xuICAgIGNvbnN0IHsgbGF5b3V0SWQsIGxheW91dEl0ZW0gfSA9IHByb3BzO1xuICAgIGdldEFwcFN0b3JlKCkuZGlzcGF0Y2goYXBwQWN0aW9ucy5zZWxlY3Rpb25DaGFuZ2VkKHtcbiAgICAgIGxheW91dElkLFxuICAgICAgbGF5b3V0SXRlbUlkOiBsYXlvdXRJdGVtLmlkLFxuICAgIH0pKTtcbiAgfSxcbn07XG5cbmV4cG9ydCBjb25zdCBkcmFnZ2luZ01lbnVJdGVtID0ge1xuICBpY29uOiByZXF1aXJlKCdqaW11LXVpL2xpYi9pY29ucy90b29sLWRyYWcuc3ZnJyksXG4gIHRpdGxlOiAocHJvcHM6IHsgZm9ybWF0TWVzc2FnZTogKGlkOiBzdHJpbmcpID0+IHN0cmluZyB9KSA9PiB7XG4gICAgcmV0dXJuIHByb3BzLmZvcm1hdE1lc3NhZ2UoJ2RyYWdUb01vdmUnKTtcbiAgfSxcbiAgdmlzaWJsZTogKCkgPT4gZ2V0QXBwTW9kZSgpID09PSBBcHBNb2RlLkRlc2lnbiAmJiAhaXNMb2NrTGF5b3V0KCksXG59O1xuXG5leHBvcnQgY29uc3QgZHVwbGljYXRlTWVudUl0ZW0gPSB7XG4gIGljb246IHJlcXVpcmUoJ2ppbXUtdWkvbGliL2ljb25zL2R1cGxpY2F0ZS0xNi5zdmcnKSxcbiAgdGl0bGU6IChwcm9wczogeyBmb3JtYXRNZXNzYWdlOiAoaWQ6IHN0cmluZykgPT4gc3RyaW5nIH0pID0+IHtcbiAgICByZXR1cm4gcHJvcHMuZm9ybWF0TWVzc2FnZSgnZHVwbGljYXRlJyk7XG4gIH0sXG4gIHZpc2libGU6IChwcm9wczogTGF5b3V0Q29udGV4dFRvb2xQcm9wcykgPT4ge1xuICAgIC8vIGlmIGl0IGlzIGluIGEgcm93LCB0aGUgbnVtYmVyIG9mIHNpYmxpbmcgaXRlbXMgc2hvdWxkIGJlIGxlc3MgdGhhbiAxMlxuICAgIGNvbnN0IHsgbGF5b3V0SWQgfSA9IHByb3BzO1xuICAgIGNvbnN0IGxheW91dCA9IGdldEFwcFN0b3JlKCkuZ2V0U3RhdGUoKS5hcHBDb25maWcubGF5b3V0c1tsYXlvdXRJZF07XG4gICAgaWYgKChsYXlvdXQ/LnR5cGUgYXMgYW55KSA9PT0gJ1JPVycpIHtcbiAgICAgIHJldHVybiAobGF5b3V0Lm9yZGVyPy5sZW5ndGggPz8gMCkgPCAxMjtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH0sXG4gIG9uQ2xpY2s6IChwcm9wczogTGF5b3V0Q29udGV4dFRvb2xQcm9wcykgPT4ge1xuICAgIGNvbnN0IHsgbGF5b3V0SWQsIGxheW91dEl0ZW0gfSA9IHByb3BzO1xuICAgIGR1cGxpY2F0ZUxheW91dEl0ZW0oe2xheW91dElkLCBsYXlvdXRJdGVtSWQ6IGxheW91dEl0ZW0uaWR9KTtcbiAgfSxcbn07XG5cbmV4cG9ydCBjb25zdCBmbG9hdGluZ01lbnVJdGVtID0ge1xuICBpY29uOiByZXF1aXJlKCdqaW11LXVpL2xpYi9pY29ucy9mbG9hdGluZy5zdmcnKSxcbiAgdGl0bGU6IChwcm9wczogeyBmb3JtYXRNZXNzYWdlOiAoaWQ6IHN0cmluZykgPT4gc3RyaW5nIH0pID0+IHtcbiAgICByZXR1cm4gcHJvcHMuZm9ybWF0TWVzc2FnZSgnZmxvYXRpbmcnKTtcbiAgfSxcbiAgdmlzaWJsZTogKHByb3BzOiBMYXlvdXRDb250ZXh0VG9vbFByb3BzKSA9PiB7XG4gICAgY29uc3QgeyBsYXlvdXRJdGVtLCBsYXlvdXRJZCB9ID0gcHJvcHM7XG4gICAgcmV0dXJuIHN1cHBvcnRGbG9hdGluZyh7IGxheW91dElkLCBsYXlvdXRJdGVtSWQ6IGxheW91dEl0ZW0uaWQgfSk7XG4gIH0sXG4gIHNldHRpbmdQYW5lbDogRmxvYXRpbmdBcmVhQ2hvb3NlcixcbiAgb25DbGljazogKCkgPT4geyB9LFxufTtcblxuZXhwb3J0IGNvbnN0IHNpbmtpbmdNZW51SXRlbSA9IHtcbiAgaWNvbjogcmVxdWlyZSgnamltdS11aS9saWIvaWNvbnMvc2lua2luZy5zdmcnKSxcbiAgdGl0bGU6IChwcm9wczogeyBmb3JtYXRNZXNzYWdlOiAoaWQ6IHN0cmluZykgPT4gc3RyaW5nIH0pID0+IHtcbiAgICByZXR1cm4gcHJvcHMuZm9ybWF0TWVzc2FnZSgnc2lua2luZycpO1xuICB9LFxuICB2aXNpYmxlOiAocHJvcHM6IExheW91dENvbnRleHRUb29sUHJvcHMpID0+IHtcbiAgICBjb25zdCB7IGxheW91dEl0ZW0gfSA9IHByb3BzO1xuICAgIHJldHVybiBsYXlvdXRJdGVtLnNldHRpbmc/LmlzRmxvYXRpbmcgPz8gZmFsc2U7XG4gIH0sXG4gIG9uQ2xpY2s6IChwcm9wczogTGF5b3V0Q29udGV4dFRvb2xQcm9wcykgPT4ge1xuICAgIGNvbnN0IHsgbGF5b3V0SWQsIGxheW91dEl0ZW0sIGNsaWVudFJlY3QgfSA9IHByb3BzO1xuICAgIHNpbmtpbmdMYXlvdXRJdGVtKHtsYXlvdXRJZCwgbGF5b3V0SXRlbUlkOiBsYXlvdXRJdGVtLmlkfSwgY2xpZW50UmVjdCk7XG4gIH0sXG59OyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFVQTtBQUVBOztBQUNBO0FBQ0E7QUFFQTs7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./jimu-layouts/lib/builder/menu/common-menu.tsx\n");

/***/ }),

/***/ "./jimu-layouts/lib/builder/menu/floating-area-chooser.tsx":
/*!*****************************************************************!*\
  !*** ./jimu-layouts/lib/builder/menu/floating-area-chooser.tsx ***!
  \*****************************************************************/
/*! exports provided: FloatingAreaChooser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FloatingAreaChooser\", function() { return FloatingAreaChooser; });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jimu_core__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _common_layout_actions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../common-layout-actions */ \"./jimu-layouts/lib/builder/common-layout-actions.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __makeTemplateObject = (undefined && undefined.__makeTemplateObject) || function (cooked, raw) {\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n    return cooked;\n};\n/** @jsx jsx */\n\n\nvar FloatingAreaChooser = /** @class */ (function (_super) {\n    __extends(FloatingAreaChooser, _super);\n    function FloatingAreaChooser(props) {\n        var _this = _super.call(this, props) || this;\n        _this.topLeft = _this.updateFloatingArea.bind(_this, 1);\n        _this.topCenter = _this.updateFloatingArea.bind(_this, 2);\n        _this.topRight = _this.updateFloatingArea.bind(_this, 3);\n        _this.middleLeft = _this.updateFloatingArea.bind(_this, 4);\n        _this.middleCenter = _this.updateFloatingArea.bind(_this, 5);\n        _this.middleRight = _this.updateFloatingArea.bind(_this, 6);\n        _this.bottomLeft = _this.updateFloatingArea.bind(_this, 7);\n        _this.bottomCenter = _this.updateFloatingArea.bind(_this, 8);\n        _this.bottomRight = _this.updateFloatingArea.bind(_this, 9);\n        return _this;\n    }\n    FloatingAreaChooser.prototype.updateFloatingArea = function (value) {\n        var _a = this.props, layoutId = _a.layoutId, layoutItem = _a.layoutItem;\n        var layoutInfo = { layoutId: layoutId, layoutItemId: layoutItem.id };\n        Object(_common_layout_actions__WEBPACK_IMPORTED_MODULE_1__[\"floatingLayoutItem\"])(layoutInfo, this.getSizeOfItem(), value);\n    };\n    FloatingAreaChooser.prototype.getSizeOfItem = function () {\n        var _a = this.props, layoutId = _a.layoutId, layoutItem = _a.layoutItem;\n        var layoutElem = document.querySelector(\"div.exb-rnd[data-layoutid=\\\"\" + layoutId + \"\\\"][data-layoutitemid=\\\"\" + layoutItem.id + \"\\\"]\");\n        if (layoutElem) {\n            return layoutElem.getBoundingClientRect();\n        }\n        return null;\n    };\n    FloatingAreaChooser.prototype.getStyle = function () {\n        return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n      background-color: var(--light-500);\\n      border: 1px solid var(--dark-200);\\n      position: relative;\\n      width: 200px;\\n      height: 200px;\\n\\n      .content {\\n        .flex-column {\\n          width: 33.3%;\\n\\n          & > div {\\n            cursor: pointer;\\n            height: 33.3%;\\n            position: relative;\\n\\n            &:hover {\\n              background: var(--primary);\\n            }\\n          }\\n\\n          & > div + div {\\n            border-top: 1px solid var(--dark-200);\\n          }\\n        }\\n\\n        .selected:after {\\n          content: '';\\n          position: absolute;\\n          width: 50%;\\n          height: 50%;\\n          background-color: var(--primary-100);\\n          border: 1px solid var(--primary-600);\\n        }\\n\\n        .top-left.selected:after {\\n          left: 0;\\n          top: 0;\\n        }\\n        .top-center.selected:after {\\n          left: 25%;\\n          top: 0;\\n        }\\n        .top-right.selected:after {\\n          right: 0;\\n          top: 0;\\n        }\\n        .middle-left.selected:after {\\n          left: 0;\\n          top: 25%;\\n        }\\n        .middle-center.selected:after {\\n          left: 25%;\\n          top: 25%;\\n        }\\n        .middle-right.selected:after {\\n          right: 0;\\n          top: 25%;\\n        }\\n        .bottom-left.selected:after {\\n          left: 0;\\n          bottom: 0;\\n        }\\n        .bottom-center.selected:after {\\n          left: 25%;\\n          bottom: 0;\\n        }\\n        .bottom-right.selected:after {\\n          right: 0;\\n          bottom: 0;\\n        }\\n\\n\\n        .flex-column + .flex-column {\\n          border-left: 1px solid var(--dark-200);\\n        }\\n      }\\n    \"], [\"\\n      background-color: var(--light-500);\\n      border: 1px solid var(--dark-200);\\n      position: relative;\\n      width: 200px;\\n      height: 200px;\\n\\n      .content {\\n        .flex-column {\\n          width: 33.3%;\\n\\n          & > div {\\n            cursor: pointer;\\n            height: 33.3%;\\n            position: relative;\\n\\n            &:hover {\\n              background: var(--primary);\\n            }\\n          }\\n\\n          & > div + div {\\n            border-top: 1px solid var(--dark-200);\\n          }\\n        }\\n\\n        .selected:after {\\n          content: '';\\n          position: absolute;\\n          width: 50%;\\n          height: 50%;\\n          background-color: var(--primary-100);\\n          border: 1px solid var(--primary-600);\\n        }\\n\\n        .top-left.selected:after {\\n          left: 0;\\n          top: 0;\\n        }\\n        .top-center.selected:after {\\n          left: 25%;\\n          top: 0;\\n        }\\n        .top-right.selected:after {\\n          right: 0;\\n          top: 0;\\n        }\\n        .middle-left.selected:after {\\n          left: 0;\\n          top: 25%;\\n        }\\n        .middle-center.selected:after {\\n          left: 25%;\\n          top: 25%;\\n        }\\n        .middle-right.selected:after {\\n          right: 0;\\n          top: 25%;\\n        }\\n        .bottom-left.selected:after {\\n          left: 0;\\n          bottom: 0;\\n        }\\n        .bottom-center.selected:after {\\n          left: 25%;\\n          bottom: 0;\\n        }\\n        .bottom-right.selected:after {\\n          right: 0;\\n          bottom: 0;\\n        }\\n\\n\\n        .flex-column + .flex-column {\\n          border-left: 1px solid var(--dark-200);\\n        }\\n      }\\n    \"])));\n    };\n    FloatingAreaChooser.prototype.render = function () {\n        var area = this.props.area;\n        return (Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"floating-area-chooser d-flex\", css: this.getStyle() },\n            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"content d-flex w-100\" },\n                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"d-flex flex-column\" },\n                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"classNames\"])('top-left', { selected: area === 1 }), onClick: this.topLeft }),\n                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"classNames\"])('middle-left', { selected: area === 4 }), onClick: this.middleLeft }),\n                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"classNames\"])('bottom-left', { selected: area === 7 }), onClick: this.bottomLeft })),\n                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"d-flex flex-column\" },\n                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"classNames\"])('top-center', { selected: area === 2 }), onClick: this.topCenter }),\n                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"classNames\"])('middle-center', { selected: area === 5 }), onClick: this.middleCenter }),\n                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"classNames\"])('bottom-center', { selected: area === 8 }), onClick: this.bottomCenter })),\n                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"d-flex flex-column\" },\n                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"classNames\"])('top-right', { selected: area === 3 }), onClick: this.topRight }),\n                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"classNames\"])('middle-right', { selected: area === 6 }), onClick: this.middleRight }),\n                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"classNames\"])('bottom-right', { selected: area === 9 }), onClick: this.bottomRight })))));\n    };\n    FloatingAreaChooser.defaultProps = {\n        area: 0\n    };\n    return FloatingAreaChooser;\n}(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].PureComponent));\n\nvar templateObject_1;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWxheW91dHMvbGliL2J1aWxkZXIvbWVudS9mbG9hdGluZy1hcmVhLWNob29zZXIudHN4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vamltdS1sYXlvdXRzL2xpYi9idWlsZGVyL21lbnUvZmxvYXRpbmctYXJlYS1jaG9vc2VyLnRzeD9kNmE1Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKiBAanN4IGpzeCAqL1xuaW1wb3J0IHtcbiAgUmVhY3QsXG4gIGpzeCxcbiAgY3NzLFxuICBjbGFzc05hbWVzLFxuICBJTUxheW91dEl0ZW1Kc29uLFxufSBmcm9tICdqaW11LWNvcmUnO1xuaW1wb3J0IHsgZmxvYXRpbmdMYXlvdXRJdGVtIH0gZnJvbSAnLi4vY29tbW9uLWxheW91dC1hY3Rpb25zJztcblxuaW50ZXJmYWNlIFByb3BzIHtcbiAgYXJlYT86IG51bWJlcjtcbiAgbGF5b3V0SWQ6IHN0cmluZztcbiAgbGF5b3V0SXRlbTogSU1MYXlvdXRJdGVtSnNvbjtcbn1cblxuZXhwb3J0IGNsYXNzIEZsb2F0aW5nQXJlYUNob29zZXIgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50PFByb3BzPiB7XG4gIHN0YXRpYyBkZWZhdWx0UHJvcHM6IFBhcnRpYWw8UHJvcHM+ID0ge1xuICAgIGFyZWE6IDBcbiAgfTtcbiAgdG9wTGVmdDogKCkgPT4gdm9pZDtcbiAgdG9wQ2VudGVyOiAoKSA9PiB2b2lkO1xuICB0b3BSaWdodDogKCkgPT4gdm9pZDtcbiAgbWlkZGxlTGVmdDogKCkgPT4gdm9pZDtcbiAgbWlkZGxlQ2VudGVyOiAoKSA9PiB2b2lkO1xuICBtaWRkbGVSaWdodDogKCkgPT4gdm9pZDtcbiAgYm90dG9tTGVmdDogKCkgPT4gdm9pZDtcbiAgYm90dG9tQ2VudGVyOiAoKSA9PiB2b2lkO1xuICBib3R0b21SaWdodDogKCkgPT4gdm9pZDtcblxuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLnRvcExlZnQgPSB0aGlzLnVwZGF0ZUZsb2F0aW5nQXJlYS5iaW5kKHRoaXMsIDEpO1xuICAgIHRoaXMudG9wQ2VudGVyID0gdGhpcy51cGRhdGVGbG9hdGluZ0FyZWEuYmluZCh0aGlzLCAyKTtcbiAgICB0aGlzLnRvcFJpZ2h0ID0gdGhpcy51cGRhdGVGbG9hdGluZ0FyZWEuYmluZCh0aGlzLCAzKTtcbiAgICB0aGlzLm1pZGRsZUxlZnQgPSB0aGlzLnVwZGF0ZUZsb2F0aW5nQXJlYS5iaW5kKHRoaXMsIDQpO1xuICAgIHRoaXMubWlkZGxlQ2VudGVyID0gdGhpcy51cGRhdGVGbG9hdGluZ0FyZWEuYmluZCh0aGlzLCA1KTtcbiAgICB0aGlzLm1pZGRsZVJpZ2h0ID0gdGhpcy51cGRhdGVGbG9hdGluZ0FyZWEuYmluZCh0aGlzLCA2KTtcbiAgICB0aGlzLmJvdHRvbUxlZnQgPSB0aGlzLnVwZGF0ZUZsb2F0aW5nQXJlYS5iaW5kKHRoaXMsIDcpO1xuICAgIHRoaXMuYm90dG9tQ2VudGVyID0gdGhpcy51cGRhdGVGbG9hdGluZ0FyZWEuYmluZCh0aGlzLCA4KTtcbiAgICB0aGlzLmJvdHRvbVJpZ2h0ID0gdGhpcy51cGRhdGVGbG9hdGluZ0FyZWEuYmluZCh0aGlzLCA5KTtcbiAgfVxuXG4gIHVwZGF0ZUZsb2F0aW5nQXJlYSh2YWx1ZTogbnVtYmVyKSB7XG4gICAgY29uc3QgeyBsYXlvdXRJZCwgbGF5b3V0SXRlbSB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCBsYXlvdXRJbmZvID0geyBsYXlvdXRJZCwgbGF5b3V0SXRlbUlkOiBsYXlvdXRJdGVtLmlkIH07XG4gICAgZmxvYXRpbmdMYXlvdXRJdGVtKGxheW91dEluZm8sIHRoaXMuZ2V0U2l6ZU9mSXRlbSgpLCB2YWx1ZSk7XG4gIH1cblxuICBnZXRTaXplT2ZJdGVtKCk6IENsaWVudFJlY3Qge1xuICAgIGNvbnN0IHsgbGF5b3V0SWQsIGxheW91dEl0ZW0gfSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3QgbGF5b3V0RWxlbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICBgZGl2LmV4Yi1ybmRbZGF0YS1sYXlvdXRpZD1cIiR7bGF5b3V0SWR9XCJdW2RhdGEtbGF5b3V0aXRlbWlkPVwiJHtsYXlvdXRJdGVtLmlkfVwiXWApO1xuICAgIGlmIChsYXlvdXRFbGVtKSB7XG4gICAgICByZXR1cm4gbGF5b3V0RWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBnZXRTdHlsZSgpIHtcbiAgICByZXR1cm4gY3NzYFxuICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tbGlnaHQtNTAwKTtcbiAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWRhcmstMjAwKTtcbiAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgIHdpZHRoOiAyMDBweDtcbiAgICAgIGhlaWdodDogMjAwcHg7XG5cbiAgICAgIC5jb250ZW50IHtcbiAgICAgICAgLmZsZXgtY29sdW1uIHtcbiAgICAgICAgICB3aWR0aDogMzMuMyU7XG5cbiAgICAgICAgICAmID4gZGl2IHtcbiAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgICAgICAgIGhlaWdodDogMzMuMyU7XG4gICAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG5cbiAgICAgICAgICAgICY6aG92ZXIge1xuICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1wcmltYXJ5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICAmID4gZGl2ICsgZGl2IHtcbiAgICAgICAgICAgIGJvcmRlci10b3A6IDFweCBzb2xpZCB2YXIoLS1kYXJrLTIwMCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLnNlbGVjdGVkOmFmdGVyIHtcbiAgICAgICAgICBjb250ZW50OiAnJztcbiAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgICAgd2lkdGg6IDUwJTtcbiAgICAgICAgICBoZWlnaHQ6IDUwJTtcbiAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1wcmltYXJ5LTEwMCk7XG4gICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tcHJpbWFyeS02MDApO1xuICAgICAgICB9XG5cbiAgICAgICAgLnRvcC1sZWZ0LnNlbGVjdGVkOmFmdGVyIHtcbiAgICAgICAgICBsZWZ0OiAwO1xuICAgICAgICAgIHRvcDogMDtcbiAgICAgICAgfVxuICAgICAgICAudG9wLWNlbnRlci5zZWxlY3RlZDphZnRlciB7XG4gICAgICAgICAgbGVmdDogMjUlO1xuICAgICAgICAgIHRvcDogMDtcbiAgICAgICAgfVxuICAgICAgICAudG9wLXJpZ2h0LnNlbGVjdGVkOmFmdGVyIHtcbiAgICAgICAgICByaWdodDogMDtcbiAgICAgICAgICB0b3A6IDA7XG4gICAgICAgIH1cbiAgICAgICAgLm1pZGRsZS1sZWZ0LnNlbGVjdGVkOmFmdGVyIHtcbiAgICAgICAgICBsZWZ0OiAwO1xuICAgICAgICAgIHRvcDogMjUlO1xuICAgICAgICB9XG4gICAgICAgIC5taWRkbGUtY2VudGVyLnNlbGVjdGVkOmFmdGVyIHtcbiAgICAgICAgICBsZWZ0OiAyNSU7XG4gICAgICAgICAgdG9wOiAyNSU7XG4gICAgICAgIH1cbiAgICAgICAgLm1pZGRsZS1yaWdodC5zZWxlY3RlZDphZnRlciB7XG4gICAgICAgICAgcmlnaHQ6IDA7XG4gICAgICAgICAgdG9wOiAyNSU7XG4gICAgICAgIH1cbiAgICAgICAgLmJvdHRvbS1sZWZ0LnNlbGVjdGVkOmFmdGVyIHtcbiAgICAgICAgICBsZWZ0OiAwO1xuICAgICAgICAgIGJvdHRvbTogMDtcbiAgICAgICAgfVxuICAgICAgICAuYm90dG9tLWNlbnRlci5zZWxlY3RlZDphZnRlciB7XG4gICAgICAgICAgbGVmdDogMjUlO1xuICAgICAgICAgIGJvdHRvbTogMDtcbiAgICAgICAgfVxuICAgICAgICAuYm90dG9tLXJpZ2h0LnNlbGVjdGVkOmFmdGVyIHtcbiAgICAgICAgICByaWdodDogMDtcbiAgICAgICAgICBib3R0b206IDA7XG4gICAgICAgIH1cblxuXG4gICAgICAgIC5mbGV4LWNvbHVtbiArIC5mbGV4LWNvbHVtbiB7XG4gICAgICAgICAgYm9yZGVyLWxlZnQ6IDFweCBzb2xpZCB2YXIoLS1kYXJrLTIwMCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICBgO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgYXJlYSB9ID0gdGhpcy5wcm9wcztcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsb2F0aW5nLWFyZWEtY2hvb3NlciBkLWZsZXhcIiBjc3M9e3RoaXMuZ2V0U3R5bGUoKX0+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGVudCBkLWZsZXggdy0xMDBcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImQtZmxleCBmbGV4LWNvbHVtblwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzTmFtZXMoJ3RvcC1sZWZ0Jywge3NlbGVjdGVkOiBhcmVhID09PSAxfSl9XG4gICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMudG9wTGVmdH0+PC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NOYW1lcygnbWlkZGxlLWxlZnQnLCB7c2VsZWN0ZWQ6IGFyZWEgPT09IDR9KX1cbiAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5taWRkbGVMZWZ0fT48L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc05hbWVzKCdib3R0b20tbGVmdCcsIHtzZWxlY3RlZDogYXJlYSA9PT0gN30pfVxuICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLmJvdHRvbUxlZnR9PjwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZC1mbGV4IGZsZXgtY29sdW1uXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NOYW1lcygndG9wLWNlbnRlcicsIHtzZWxlY3RlZDogYXJlYSA9PT0gMn0pfVxuICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnRvcENlbnRlcn0+PC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NOYW1lcygnbWlkZGxlLWNlbnRlcicsIHtzZWxlY3RlZDogYXJlYSA9PT0gNX0pfVxuICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLm1pZGRsZUNlbnRlcn0+PC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NOYW1lcygnYm90dG9tLWNlbnRlcicsIHtzZWxlY3RlZDogYXJlYSA9PT0gOH0pfVxuICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLmJvdHRvbUNlbnRlcn0+PC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJkLWZsZXggZmxleC1jb2x1bW5cIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc05hbWVzKCd0b3AtcmlnaHQnLCB7c2VsZWN0ZWQ6IGFyZWEgPT09IDN9KX1cbiAgICAgICAgICAgICAgb25DbGljaz17dGhpcy50b3BSaWdodH0+PC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NOYW1lcygnbWlkZGxlLXJpZ2h0Jywge3NlbGVjdGVkOiBhcmVhID09PSA2fSl9XG4gICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMubWlkZGxlUmlnaHR9PjwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzTmFtZXMoJ2JvdHRvbS1yaWdodCcsIHtzZWxlY3RlZDogYXJlYSA9PT0gOX0pfVxuICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLmJvdHRvbVJpZ2h0fT48L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBT0E7QUFRQTtBQUFBO0FBY0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQThFQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFHQTtBQUNBO0FBRUE7QUFFQTtBQUdBO0FBQ0E7QUFFQTtBQUVBO0FBTUE7QUE1SkE7QUFDQTtBQUNBO0FBMkpBO0FBQUE7QUE5SkE7OyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./jimu-layouts/lib/builder/menu/floating-area-chooser.tsx\n");

/***/ }),

/***/ "./jimu-layouts/lib/builder/menu/section-menu.tsx":
/*!********************************************************!*\
  !*** ./jimu-layouts/lib/builder/menu/section-menu.tsx ***!
  \********************************************************/
/*! exports provided: findActiveViewId, sectionMenuItems */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"findActiveViewId\", function() { return findActiveViewId; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"sectionMenuItems\", function() { return sectionMenuItems; });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jimu_core__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var jimu_for_builder__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-for-builder */ \"jimu-for-builder\");\n/* harmony import */ var jimu_for_builder__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jimu_for_builder__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-layouts/layout-runtime */ \"jimu-layouts/layout-runtime\");\n/* harmony import */ var jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _common_menu__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./common-menu */ \"./jimu-layouts/lib/builder/menu/common-menu.tsx\");\n\n\n\n\nfunction findSectionInfo(layoutItem) {\n    var state = Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"getAppStore\"])().getState();\n    return jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_2__[\"searchUtils\"].getSectionInfo(state, layoutItem.sectionId);\n}\nfunction findActiveViewId(props) {\n    var _a;\n    var navInfo = props.navInfo, views = props.views, activeView = props.activeView;\n    if (!navInfo) {\n        return activeView === null || activeView === void 0 ? void 0 : activeView.id;\n    }\n    if (!navInfo.useProgress) {\n        return navInfo.currentViewId;\n    }\n    var visibleViews = ((_a = navInfo.visibleViews) === null || _a === void 0 ? void 0 : _a.length) > 0 ? navInfo.visibleViews : views;\n    var currentIndex = Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"getIndexFromProgress\"])(navInfo.progress, visibleViews.length).currentIndex;\n    return visibleViews[currentIndex];\n}\nvar sectionMenuItems = [\n    {\n        label: function (props) {\n            var layoutItem = props.layoutItem;\n            var sectionInfo = findSectionInfo(layoutItem);\n            if (!sectionInfo) {\n                return '';\n            }\n            var views = sectionInfo.views;\n            var activeViewId = findActiveViewId(sectionInfo);\n            var index = views.indexOf(activeViewId);\n            return props.formatMessage('view') + \": \" + (index + 1) + \" / \" + views.length;\n        },\n    },\n    {\n        icon: __webpack_require__(/*! jimu-ui/lib/icons/arrow-left.svg */ \"./jimu-ui/lib/icons/arrow-left.svg\"),\n        autoFlipIcon: true,\n        size: 10,\n        title: function (props) {\n            return props.formatMessage('previousView');\n        },\n        onClick: function (props) {\n            var layoutItem = props.layoutItem;\n            var sectionInfo = findSectionInfo(layoutItem);\n            var views = sectionInfo.views;\n            var activeViewId = findActiveViewId(sectionInfo);\n            var index = views.indexOf(activeViewId);\n            if (index > 0) {\n                jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jimuHistory\"].changeView(layoutItem.sectionId, views[index - 1]);\n                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"getAppStore\"])().dispatch(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"appActions\"].currentViewChanged(views[index - 1]));\n                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"getAppStore\"])().dispatch(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"appActions\"].sectionNavInfoChanged(layoutItem.sectionId, {\n                    currentViewId: views[index - 1],\n                    previousViewId: views[index],\n                    useProgress: false\n                }));\n            }\n        },\n        disabled: function (props) {\n            var layoutItem = props.layoutItem;\n            var sectionInfo = findSectionInfo(layoutItem);\n            if (!sectionInfo) {\n                return true;\n            }\n            var views = sectionInfo.views;\n            var activeViewId = findActiveViewId(sectionInfo);\n            var index = views.indexOf(activeViewId);\n            return index <= 0;\n        },\n    },\n    {\n        icon: __webpack_require__(/*! jimu-ui/lib/icons/arrow-right.svg */ \"./jimu-ui/lib/icons/arrow-right.svg\"),\n        autoFlipIcon: true,\n        size: 10,\n        title: function (props) {\n            return props.formatMessage('nextView');\n        },\n        onClick: function (props) {\n            var layoutItem = props.layoutItem;\n            var sectionInfo = findSectionInfo(layoutItem);\n            var views = sectionInfo.views;\n            var activeViewId = findActiveViewId(sectionInfo);\n            var index = views.indexOf(activeViewId);\n            if (index >= 0 && index < views.length - 1) {\n                jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jimuHistory\"].changeView(layoutItem.sectionId, views[index + 1]);\n                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"getAppStore\"])().dispatch(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"appActions\"].currentViewChanged(views[index + 1]));\n                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"getAppStore\"])().dispatch(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"appActions\"].sectionNavInfoChanged(layoutItem.sectionId, {\n                    currentViewId: views[index + 1],\n                    previousViewId: views[index],\n                    useProgress: false\n                }));\n            }\n        },\n        disabled: function (props) {\n            var layoutItem = props.layoutItem;\n            var sectionInfo = findSectionInfo(layoutItem);\n            if (!sectionInfo) {\n                return true;\n            }\n            var views = sectionInfo.views;\n            var activeViewId = findActiveViewId(sectionInfo);\n            var index = views.indexOf(activeViewId);\n            return index < 0 || index >= views.length - 1;\n        },\n    },\n    {\n        icon: __webpack_require__(/*! jimu-ui/lib/icons/add.svg */ \"./jimu-ui/lib/icons/add.svg\"),\n        title: function (props) {\n            return props.formatMessage('addView');\n        },\n        visible: function () { return Object(_common_menu__WEBPACK_IMPORTED_MODULE_3__[\"getAppMode\"])() === jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"AppMode\"].Design && !Object(_common_menu__WEBPACK_IMPORTED_MODULE_3__[\"isLockLayout\"])(); },\n        onClick: function (props) {\n            var _a;\n            var appConfig = Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"getAppStore\"])().getState().appConfig;\n            var layoutItem = props.layoutItem;\n            var layoutId = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"appConfigUtils\"].getUniqueId(appConfig, 'layout');\n            var viewLayout = Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"Immutable\"])({}).merge({\n                id: layoutId,\n                type: jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"LayoutType\"].FixedLayout,\n            });\n            var viewJson = Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"Immutable\"])({}).merge({\n                id: jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"appConfigUtils\"].getUniqueId(appConfig, 'view'),\n                label: jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"appConfigUtils\"].getUniqueLabel(appConfig, 'view', jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"i18n\"].getIntl().formatMessage({ id: 'view' })),\n                layout: (_a = {}, _a[Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"getAppStore\"])().getState().browserSizeMode] = layoutId, _a),\n            });\n            Object(jimu_for_builder__WEBPACK_IMPORTED_MODULE_1__[\"getAppConfigAction\"])()\n                .addView(viewJson, layoutItem.sectionId, [viewLayout])\n                .exec();\n            jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jimuHistory\"].changeView(layoutItem.sectionId, viewJson.id);\n            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"getAppStore\"])().dispatch(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"appActions\"].currentViewChanged(viewJson.id));\n        },\n    },\n    {\n        icon: __webpack_require__(/*! jimu-ui/lib/icons/duplicate-view.svg */ \"./jimu-ui/lib/icons/duplicate-view.svg\"),\n        title: function (props) {\n            return props.formatMessage('duplicateView');\n        },\n        visible: function () { return Object(_common_menu__WEBPACK_IMPORTED_MODULE_3__[\"getAppMode\"])() === jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"AppMode\"].Design && !Object(_common_menu__WEBPACK_IMPORTED_MODULE_3__[\"isLockLayout\"])(); },\n        onClick: function (props) {\n            var layoutItem = props.layoutItem;\n            var sectionInfo = findSectionInfo(layoutItem);\n            var activeViewId = findActiveViewId(sectionInfo);\n            var appConfigAction = Object(jimu_for_builder__WEBPACK_IMPORTED_MODULE_1__[\"getAppConfigAction\"])();\n            var newView = appConfigAction.duplicateView(activeViewId, layoutItem.sectionId, true);\n            appConfigAction.exec();\n            jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jimuHistory\"].changeView(layoutItem.sectionId, newView.id);\n            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"getAppStore\"])().dispatch(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"appActions\"].currentViewChanged(newView.id));\n        },\n    },\n    {\n        icon: __webpack_require__(/*! jimu-ui/lib/icons/close-24.svg */ \"./jimu-ui/lib/icons/close-24.svg\"),\n        title: function (props) {\n            return props.formatMessage('deleteView');\n        },\n        visible: function (props) {\n            var appMode = Object(_common_menu__WEBPACK_IMPORTED_MODULE_3__[\"getAppMode\"])();\n            if (appMode !== jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"AppMode\"].Design || Object(_common_menu__WEBPACK_IMPORTED_MODULE_3__[\"isLockLayout\"])()) {\n                return false;\n            }\n            var layoutItem = props.layoutItem;\n            var sectionInfo = findSectionInfo(layoutItem);\n            if (!sectionInfo) {\n                return false;\n            }\n            var views = sectionInfo.views;\n            return views && views.length > 1;\n        },\n        onClick: function (props) {\n            var layoutItem = props.layoutItem;\n            var sectionInfo = findSectionInfo(layoutItem);\n            var views = sectionInfo.views;\n            var activeViewId = findActiveViewId(sectionInfo);\n            if (views.length > 1) {\n                var indexToDelete = views.indexOf(activeViewId);\n                var viewIdToShow = void 0;\n                if (indexToDelete > 0) {\n                    // show previous view\n                    viewIdToShow = views[indexToDelete - 1];\n                }\n                else {\n                    // show next view\n                    viewIdToShow = views[1];\n                }\n                Object(jimu_for_builder__WEBPACK_IMPORTED_MODULE_1__[\"getAppConfigAction\"])()\n                    .removeView(activeViewId, layoutItem.sectionId)\n                    .exec();\n                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"getAppStore\"])().dispatch(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"appActions\"].selectionChanged(null));\n                jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jimuHistory\"].changeView(props.layoutItem.sectionId, viewIdToShow);\n                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"getAppStore\"])().dispatch(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"appActions\"].currentViewChanged(viewIdToShow));\n            }\n        },\n    },\n    { seperator: true }\n];\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWxheW91dHMvbGliL2J1aWxkZXIvbWVudS9zZWN0aW9uLW1lbnUudHN4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vamltdS1sYXlvdXRzL2xpYi9idWlsZGVyL21lbnUvc2VjdGlvbi1tZW51LnRzeD9hM2ZlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIGFwcEFjdGlvbnMsXG4gIGppbXVIaXN0b3J5LFxuICBhcHBDb25maWdVdGlscyxcbiAgSW1tdXRhYmxlLFxuICBMYXlvdXRDb250ZXh0VG9vbFByb3BzLFxuICBJTUxheW91dEpzb24sXG4gIElNVmlld0pzb24sXG4gIGdldEFwcFN0b3JlLFxuICBJTUxheW91dEl0ZW1Kc29uLFxuICBBcHBNb2RlLFxuICBMYXlvdXRUeXBlLFxuICBpMThuLFxuICBnZXRJbmRleEZyb21Qcm9ncmVzc1xufSBmcm9tICdqaW11LWNvcmUnO1xuaW1wb3J0IHsgZ2V0QXBwQ29uZmlnQWN0aW9uIH0gZnJvbSAnamltdS1mb3ItYnVpbGRlcic7XG5pbXBvcnQgeyBzZWFyY2hVdGlscywgVG9vbEl0ZW1Db25maWcsIFNlY3Rpb25Qcm9wcyB9IGZyb20gJ2ppbXUtbGF5b3V0cy9sYXlvdXQtcnVudGltZSc7XG5pbXBvcnQgeyBnZXRBcHBNb2RlLCBpc0xvY2tMYXlvdXQgfSBmcm9tICcuL2NvbW1vbi1tZW51JztcblxuZnVuY3Rpb24gZmluZFNlY3Rpb25JbmZvKGxheW91dEl0ZW06IElNTGF5b3V0SXRlbUpzb24pIHtcbiAgY29uc3Qgc3RhdGUgPSBnZXRBcHBTdG9yZSgpLmdldFN0YXRlKCk7XG4gIHJldHVybiBzZWFyY2hVdGlscy5nZXRTZWN0aW9uSW5mbyhzdGF0ZSwgbGF5b3V0SXRlbS5zZWN0aW9uSWQpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZmluZEFjdGl2ZVZpZXdJZChwcm9wczogU2VjdGlvblByb3BzKTogc3RyaW5nIHtcbiAgY29uc3QgeyBuYXZJbmZvLCB2aWV3cywgYWN0aXZlVmlldyB9ID0gcHJvcHM7XG4gIGlmICghbmF2SW5mbykge1xuICAgIHJldHVybiBhY3RpdmVWaWV3Py5pZDtcbiAgfVxuICBpZiAoIW5hdkluZm8udXNlUHJvZ3Jlc3MpIHtcbiAgICByZXR1cm4gbmF2SW5mby5jdXJyZW50Vmlld0lkO1xuICB9XG4gIGNvbnN0IHZpc2libGVWaWV3cyA9IG5hdkluZm8udmlzaWJsZVZpZXdzPy5sZW5ndGggPiAwID8gbmF2SW5mby52aXNpYmxlVmlld3MgOiB2aWV3cztcbiAgY29uc3QgeyBjdXJyZW50SW5kZXggfSA9IGdldEluZGV4RnJvbVByb2dyZXNzKG5hdkluZm8ucHJvZ3Jlc3MsIHZpc2libGVWaWV3cy5sZW5ndGgpO1xuICByZXR1cm4gdmlzaWJsZVZpZXdzW2N1cnJlbnRJbmRleF07XG59XG5cbmV4cG9ydCBjb25zdCBzZWN0aW9uTWVudUl0ZW1zOiBUb29sSXRlbUNvbmZpZ1tdID0gW1xuICB7XG4gICAgbGFiZWw6IChwcm9wczogTGF5b3V0Q29udGV4dFRvb2xQcm9wcyAmIHtmb3JtYXRNZXNzYWdlOiAoaWQ6IHN0cmluZykgPT4gc3RyaW5nfSkgPT4ge1xuICAgICAgY29uc3QgeyBsYXlvdXRJdGVtIH0gPSBwcm9wcztcbiAgICAgIGNvbnN0IHNlY3Rpb25JbmZvID0gZmluZFNlY3Rpb25JbmZvKGxheW91dEl0ZW0pO1xuICAgICAgaWYgKCFzZWN0aW9uSW5mbykge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgICB9XG4gICAgICBjb25zdCB7IHZpZXdzIH0gPSBzZWN0aW9uSW5mbztcbiAgICAgIGNvbnN0IGFjdGl2ZVZpZXdJZCA9IGZpbmRBY3RpdmVWaWV3SWQoc2VjdGlvbkluZm8pO1xuICAgICAgY29uc3QgaW5kZXggPSB2aWV3cy5pbmRleE9mKGFjdGl2ZVZpZXdJZCk7XG4gICAgICByZXR1cm4gYCR7cHJvcHMuZm9ybWF0TWVzc2FnZSgndmlldycpfTogJHtpbmRleCArIDF9IC8gJHt2aWV3cy5sZW5ndGh9YDtcbiAgICB9LFxuICB9LFxuICB7XG4gICAgaWNvbjogcmVxdWlyZSgnamltdS11aS9saWIvaWNvbnMvYXJyb3ctbGVmdC5zdmcnKSxcbiAgICBhdXRvRmxpcEljb246IHRydWUsXG4gICAgc2l6ZTogMTAsXG4gICAgdGl0bGU6IChwcm9wczoge2Zvcm1hdE1lc3NhZ2U6IChpZDogc3RyaW5nKSA9PiBzdHJpbmd9KSA9PiB7XG4gICAgICByZXR1cm4gcHJvcHMuZm9ybWF0TWVzc2FnZSgncHJldmlvdXNWaWV3Jyk7XG4gICAgfSxcbiAgICBvbkNsaWNrOiAocHJvcHM6IExheW91dENvbnRleHRUb29sUHJvcHMpID0+IHtcbiAgICAgIGNvbnN0IHsgbGF5b3V0SXRlbSB9ID0gcHJvcHM7XG4gICAgICBjb25zdCBzZWN0aW9uSW5mbyA9IGZpbmRTZWN0aW9uSW5mbyhsYXlvdXRJdGVtKTtcbiAgICAgIGNvbnN0IHsgdmlld3MgfSA9IHNlY3Rpb25JbmZvO1xuICAgICAgY29uc3QgYWN0aXZlVmlld0lkID0gZmluZEFjdGl2ZVZpZXdJZChzZWN0aW9uSW5mbyk7XG4gICAgICBjb25zdCBpbmRleCA9IHZpZXdzLmluZGV4T2YoYWN0aXZlVmlld0lkKTtcbiAgICAgIGlmIChpbmRleCA+IDApIHtcbiAgICAgICAgamltdUhpc3RvcnkuY2hhbmdlVmlldyhsYXlvdXRJdGVtLnNlY3Rpb25JZCwgdmlld3NbaW5kZXggLSAxXSk7XG4gICAgICAgIGdldEFwcFN0b3JlKCkuZGlzcGF0Y2goYXBwQWN0aW9ucy5jdXJyZW50Vmlld0NoYW5nZWQodmlld3NbaW5kZXggLSAxXSkpO1xuICAgICAgICBnZXRBcHBTdG9yZSgpLmRpc3BhdGNoKGFwcEFjdGlvbnMuc2VjdGlvbk5hdkluZm9DaGFuZ2VkKGxheW91dEl0ZW0uc2VjdGlvbklkLCB7XG4gICAgICAgICAgY3VycmVudFZpZXdJZDogdmlld3NbaW5kZXggLSAxXSxcbiAgICAgICAgICBwcmV2aW91c1ZpZXdJZDogdmlld3NbaW5kZXhdLFxuICAgICAgICAgIHVzZVByb2dyZXNzOiBmYWxzZVxuICAgICAgICB9KSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBkaXNhYmxlZDogKHByb3BzOiBMYXlvdXRDb250ZXh0VG9vbFByb3BzKSA9PiB7XG4gICAgICBjb25zdCB7IGxheW91dEl0ZW0gfSA9IHByb3BzO1xuICAgICAgY29uc3Qgc2VjdGlvbkluZm8gPSBmaW5kU2VjdGlvbkluZm8obGF5b3V0SXRlbSk7XG4gICAgICBpZiAoIXNlY3Rpb25JbmZvKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgY29uc3QgeyB2aWV3cyB9ID0gc2VjdGlvbkluZm87XG4gICAgICBjb25zdCBhY3RpdmVWaWV3SWQgPSBmaW5kQWN0aXZlVmlld0lkKHNlY3Rpb25JbmZvKTtcbiAgICAgIGNvbnN0IGluZGV4ID0gdmlld3MuaW5kZXhPZihhY3RpdmVWaWV3SWQpO1xuICAgICAgcmV0dXJuIGluZGV4IDw9IDA7XG4gICAgfSxcbiAgfSxcbiAge1xuICAgIGljb246IHJlcXVpcmUoJ2ppbXUtdWkvbGliL2ljb25zL2Fycm93LXJpZ2h0LnN2ZycpLFxuICAgIGF1dG9GbGlwSWNvbjogdHJ1ZSxcbiAgICBzaXplOiAxMCxcbiAgICB0aXRsZTogKHByb3BzOiB7Zm9ybWF0TWVzc2FnZTogKGlkOiBzdHJpbmcpID0+IHN0cmluZ30pID0+IHtcbiAgICAgIHJldHVybiBwcm9wcy5mb3JtYXRNZXNzYWdlKCduZXh0VmlldycpO1xuICAgIH0sXG4gICAgb25DbGljazogKHByb3BzOiBMYXlvdXRDb250ZXh0VG9vbFByb3BzKSA9PiB7XG4gICAgICBjb25zdCB7IGxheW91dEl0ZW0gfSA9IHByb3BzO1xuICAgICAgY29uc3Qgc2VjdGlvbkluZm8gPSBmaW5kU2VjdGlvbkluZm8obGF5b3V0SXRlbSk7XG4gICAgICBjb25zdCB7IHZpZXdzIH0gPSBzZWN0aW9uSW5mbztcbiAgICAgIGNvbnN0IGFjdGl2ZVZpZXdJZCA9IGZpbmRBY3RpdmVWaWV3SWQoc2VjdGlvbkluZm8pO1xuICAgICAgY29uc3QgaW5kZXggPSB2aWV3cy5pbmRleE9mKGFjdGl2ZVZpZXdJZCk7XG4gICAgICBpZiAoaW5kZXggPj0gMCAmJiBpbmRleCA8IHZpZXdzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgamltdUhpc3RvcnkuY2hhbmdlVmlldyhsYXlvdXRJdGVtLnNlY3Rpb25JZCwgdmlld3NbaW5kZXggKyAxXSk7XG4gICAgICAgIGdldEFwcFN0b3JlKCkuZGlzcGF0Y2goYXBwQWN0aW9ucy5jdXJyZW50Vmlld0NoYW5nZWQodmlld3NbaW5kZXggKyAxXSkpO1xuICAgICAgICBnZXRBcHBTdG9yZSgpLmRpc3BhdGNoKGFwcEFjdGlvbnMuc2VjdGlvbk5hdkluZm9DaGFuZ2VkKGxheW91dEl0ZW0uc2VjdGlvbklkLCB7XG4gICAgICAgICAgY3VycmVudFZpZXdJZDogdmlld3NbaW5kZXggKyAxXSxcbiAgICAgICAgICBwcmV2aW91c1ZpZXdJZDogdmlld3NbaW5kZXhdLFxuICAgICAgICAgIHVzZVByb2dyZXNzOiBmYWxzZVxuICAgICAgICB9KSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBkaXNhYmxlZDogKHByb3BzOiBMYXlvdXRDb250ZXh0VG9vbFByb3BzKSA9PiB7XG4gICAgICBjb25zdCB7IGxheW91dEl0ZW0gfSA9IHByb3BzO1xuICAgICAgY29uc3Qgc2VjdGlvbkluZm8gPSBmaW5kU2VjdGlvbkluZm8obGF5b3V0SXRlbSk7XG4gICAgICBpZiAoIXNlY3Rpb25JbmZvKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgY29uc3QgeyB2aWV3cyB9ID0gc2VjdGlvbkluZm87XG4gICAgICBjb25zdCBhY3RpdmVWaWV3SWQgPSBmaW5kQWN0aXZlVmlld0lkKHNlY3Rpb25JbmZvKTtcbiAgICAgIGNvbnN0IGluZGV4ID0gdmlld3MuaW5kZXhPZihhY3RpdmVWaWV3SWQpO1xuICAgICAgcmV0dXJuIGluZGV4IDwgMCB8fCBpbmRleCA+PSB2aWV3cy5sZW5ndGggLSAxO1xuICAgIH0sXG4gIH0sXG4gIHtcbiAgICBpY29uOiByZXF1aXJlKCdqaW11LXVpL2xpYi9pY29ucy9hZGQuc3ZnJyksXG4gICAgdGl0bGU6IChwcm9wczoge2Zvcm1hdE1lc3NhZ2U6IChpZDogc3RyaW5nKSA9PiBzdHJpbmd9KSA9PiB7XG4gICAgICByZXR1cm4gcHJvcHMuZm9ybWF0TWVzc2FnZSgnYWRkVmlldycpO1xuICAgIH0sXG4gICAgdmlzaWJsZTogKCkgPT4gZ2V0QXBwTW9kZSgpID09PSBBcHBNb2RlLkRlc2lnbiAmJiAhaXNMb2NrTGF5b3V0KCksXG4gICAgb25DbGljazogKHByb3BzOiBMYXlvdXRDb250ZXh0VG9vbFByb3BzKSA9PiB7XG4gICAgICBjb25zdCBhcHBDb25maWcgPSBnZXRBcHBTdG9yZSgpLmdldFN0YXRlKCkuYXBwQ29uZmlnO1xuICAgICAgY29uc3QgeyBsYXlvdXRJdGVtIH0gPSBwcm9wcztcbiAgICAgIGNvbnN0IGxheW91dElkID0gYXBwQ29uZmlnVXRpbHMuZ2V0VW5pcXVlSWQoYXBwQ29uZmlnLCAnbGF5b3V0Jyk7XG4gICAgICBjb25zdCB2aWV3TGF5b3V0ID0gSW1tdXRhYmxlKHt9KS5tZXJnZSh7XG4gICAgICAgIGlkOiBsYXlvdXRJZCxcbiAgICAgICAgdHlwZTogTGF5b3V0VHlwZS5GaXhlZExheW91dCxcbiAgICAgIH0pIGFzIElNTGF5b3V0SnNvbjtcblxuICAgICAgY29uc3Qgdmlld0pzb24gPSBJbW11dGFibGUoe30pLm1lcmdlKHtcbiAgICAgICAgaWQ6IGFwcENvbmZpZ1V0aWxzLmdldFVuaXF1ZUlkKGFwcENvbmZpZywgJ3ZpZXcnKSxcbiAgICAgICAgbGFiZWw6IGFwcENvbmZpZ1V0aWxzLmdldFVuaXF1ZUxhYmVsKGFwcENvbmZpZywgJ3ZpZXcnLCBpMThuLmdldEludGwoKS5mb3JtYXRNZXNzYWdlKHtpZDogJ3ZpZXcnfSkpLFxuICAgICAgICBsYXlvdXQ6IHsgW2dldEFwcFN0b3JlKCkuZ2V0U3RhdGUoKS5icm93c2VyU2l6ZU1vZGVdOiBsYXlvdXRJZCB9LFxuICAgICAgfSkgYXMgSU1WaWV3SnNvbjtcbiAgICAgIGdldEFwcENvbmZpZ0FjdGlvbigpXG4gICAgICAgIC5hZGRWaWV3KHZpZXdKc29uLCBsYXlvdXRJdGVtLnNlY3Rpb25JZCwgW3ZpZXdMYXlvdXRdKVxuICAgICAgICAuZXhlYygpO1xuICAgICAgamltdUhpc3RvcnkuY2hhbmdlVmlldyhsYXlvdXRJdGVtLnNlY3Rpb25JZCwgdmlld0pzb24uaWQpO1xuICAgICAgZ2V0QXBwU3RvcmUoKS5kaXNwYXRjaChhcHBBY3Rpb25zLmN1cnJlbnRWaWV3Q2hhbmdlZCh2aWV3SnNvbi5pZCkpO1xuICAgIH0sXG4gIH0sXG4gIHtcbiAgICBpY29uOiByZXF1aXJlKCdqaW11LXVpL2xpYi9pY29ucy9kdXBsaWNhdGUtdmlldy5zdmcnKSxcbiAgICB0aXRsZTogKHByb3BzOiB7Zm9ybWF0TWVzc2FnZTogKGlkOiBzdHJpbmcpID0+IHN0cmluZ30pID0+IHtcbiAgICAgIHJldHVybiBwcm9wcy5mb3JtYXRNZXNzYWdlKCdkdXBsaWNhdGVWaWV3Jyk7XG4gICAgfSxcbiAgICB2aXNpYmxlOiAoKSA9PiBnZXRBcHBNb2RlKCkgPT09IEFwcE1vZGUuRGVzaWduICYmICFpc0xvY2tMYXlvdXQoKSxcbiAgICBvbkNsaWNrOiAocHJvcHM6IExheW91dENvbnRleHRUb29sUHJvcHMpID0+IHtcbiAgICAgIGNvbnN0IHsgbGF5b3V0SXRlbSB9ID0gcHJvcHM7XG4gICAgICBjb25zdCBzZWN0aW9uSW5mbyA9IGZpbmRTZWN0aW9uSW5mbyhsYXlvdXRJdGVtKTtcbiAgICAgIGNvbnN0IGFjdGl2ZVZpZXdJZCA9IGZpbmRBY3RpdmVWaWV3SWQoc2VjdGlvbkluZm8pO1xuXG4gICAgICBjb25zdCBhcHBDb25maWdBY3Rpb24gPSBnZXRBcHBDb25maWdBY3Rpb24oKTtcbiAgICAgIGNvbnN0IG5ld1ZpZXcgPSBhcHBDb25maWdBY3Rpb24uZHVwbGljYXRlVmlldyhhY3RpdmVWaWV3SWQsIGxheW91dEl0ZW0uc2VjdGlvbklkLCB0cnVlKTtcbiAgICAgIGFwcENvbmZpZ0FjdGlvbi5leGVjKCk7XG4gICAgICBqaW11SGlzdG9yeS5jaGFuZ2VWaWV3KGxheW91dEl0ZW0uc2VjdGlvbklkLCBuZXdWaWV3LmlkKTtcbiAgICAgIGdldEFwcFN0b3JlKCkuZGlzcGF0Y2goYXBwQWN0aW9ucy5jdXJyZW50Vmlld0NoYW5nZWQobmV3Vmlldy5pZCkpO1xuICAgIH0sXG4gIH0sXG4gIHtcbiAgICBpY29uOiByZXF1aXJlKCdqaW11LXVpL2xpYi9pY29ucy9jbG9zZS0yNC5zdmcnKSxcbiAgICB0aXRsZTogKHByb3BzOiB7Zm9ybWF0TWVzc2FnZTogKGlkOiBzdHJpbmcpID0+IHN0cmluZ30pID0+IHtcbiAgICAgIHJldHVybiBwcm9wcy5mb3JtYXRNZXNzYWdlKCdkZWxldGVWaWV3Jyk7XG4gICAgfSxcbiAgICB2aXNpYmxlOiAocHJvcHM6IExheW91dENvbnRleHRUb29sUHJvcHMpID0+IHtcbiAgICAgIGNvbnN0IGFwcE1vZGUgPSBnZXRBcHBNb2RlKCk7XG4gICAgICBpZiAoYXBwTW9kZSAhPT0gQXBwTW9kZS5EZXNpZ24gfHwgaXNMb2NrTGF5b3V0KCkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgY29uc3QgeyBsYXlvdXRJdGVtIH0gPSBwcm9wcztcbiAgICAgIGNvbnN0IHNlY3Rpb25JbmZvID0gZmluZFNlY3Rpb25JbmZvKGxheW91dEl0ZW0pO1xuICAgICAgaWYgKCFzZWN0aW9uSW5mbykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBjb25zdCB7IHZpZXdzIH0gPSBzZWN0aW9uSW5mbztcbiAgICAgIHJldHVybiB2aWV3cyAmJiB2aWV3cy5sZW5ndGggPiAxO1xuICAgIH0sXG4gICAgb25DbGljazogKHByb3BzOiBMYXlvdXRDb250ZXh0VG9vbFByb3BzKSA9PiB7XG4gICAgICBjb25zdCB7IGxheW91dEl0ZW0gfSA9IHByb3BzO1xuICAgICAgY29uc3Qgc2VjdGlvbkluZm8gPSBmaW5kU2VjdGlvbkluZm8obGF5b3V0SXRlbSk7XG4gICAgICBjb25zdCB7IHZpZXdzIH0gPSBzZWN0aW9uSW5mbztcbiAgICAgIGNvbnN0IGFjdGl2ZVZpZXdJZCA9IGZpbmRBY3RpdmVWaWV3SWQoc2VjdGlvbkluZm8pO1xuXG4gICAgICBpZiAodmlld3MubGVuZ3RoID4gMSkge1xuICAgICAgICBjb25zdCBpbmRleFRvRGVsZXRlID0gdmlld3MuaW5kZXhPZihhY3RpdmVWaWV3SWQpO1xuICAgICAgICBsZXQgdmlld0lkVG9TaG93O1xuICAgICAgICBpZiAoaW5kZXhUb0RlbGV0ZSA+IDApIHtcbiAgICAgICAgICAvLyBzaG93IHByZXZpb3VzIHZpZXdcbiAgICAgICAgICB2aWV3SWRUb1Nob3cgPSB2aWV3c1tpbmRleFRvRGVsZXRlIC0gMV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gc2hvdyBuZXh0IHZpZXdcbiAgICAgICAgICB2aWV3SWRUb1Nob3cgPSB2aWV3c1sxXTtcbiAgICAgICAgfVxuICAgICAgICBnZXRBcHBDb25maWdBY3Rpb24oKVxuICAgICAgICAgIC5yZW1vdmVWaWV3KGFjdGl2ZVZpZXdJZCwgbGF5b3V0SXRlbS5zZWN0aW9uSWQpXG4gICAgICAgICAgLmV4ZWMoKTtcbiAgICAgICAgZ2V0QXBwU3RvcmUoKS5kaXNwYXRjaChhcHBBY3Rpb25zLnNlbGVjdGlvbkNoYW5nZWQobnVsbCkpO1xuICAgICAgICBqaW11SGlzdG9yeS5jaGFuZ2VWaWV3KHByb3BzLmxheW91dEl0ZW0uc2VjdGlvbklkLCB2aWV3SWRUb1Nob3cpO1xuICAgICAgICBnZXRBcHBTdG9yZSgpLmRpc3BhdGNoKGFwcEFjdGlvbnMuY3VycmVudFZpZXdDaGFuZ2VkKHZpZXdJZFRvU2hvdykpO1xuICAgICAgfVxuICAgIH0sXG4gIH0sXG4gIHsgc2VwZXJhdG9yOiB0cnVlIH1cbl07XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFlQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./jimu-layouts/lib/builder/menu/section-menu.tsx\n");

/***/ }),

/***/ "./jimu-layouts/lib/builder/page-body.tsx":
/*!************************************************!*\
  !*** ./jimu-layouts/lib/builder/page-body.tsx ***!
  \************************************************/
/*! exports provided: PageBody */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PageBody\", function() { return PageBody; });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jimu_core__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-layouts/layout-runtime */ \"jimu-layouts/layout-runtime\");\n/* harmony import */ var jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _layout_entry__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./layout-entry */ \"./jimu-layouts/lib/builder/layout-entry.tsx\");\n/* harmony import */ var _page_renderer_common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./page-renderer-common */ \"./jimu-layouts/lib/builder/page-renderer-common.ts\");\nvar __makeTemplateObject = (undefined && undefined.__makeTemplateObject) || function (cooked, raw) {\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n    return cooked;\n};\nvar __assign = (undefined && undefined.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\n/** @jsx jsx */\n\n\n\n\nfunction mapStateToProps(state, pageId) {\n    var animationPreview = state.appRuntimeInfo.animationPreview;\n    if ((animationPreview === null || animationPreview === void 0 ? void 0 : animationPreview.pageId) === pageId) {\n        return animationPreview.id;\n    }\n    return null;\n}\n/* eslint-disable @typescript-eslint/no-unused-vars*/\nfunction PageBody(props) {\n    var pageJson = props.pageJson, visible = props.visible, renderedPageId = props.renderedPageId, browserSizeMode = props.browserSizeMode, isDesignMode = props.isDesignMode, activePagePart = props.activePagePart, pageContext = props.pageContext;\n    var playedAfterSwtichMode = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useRef(false);\n    var _a = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useState(Symbol('init')), playId = _a[0], setPlayId = _a[1];\n    var previewId = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"ReactRedux\"].useSelector(function (state) { return mapStateToProps(state, pageJson.id); });\n    var previousPlayId = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useRef();\n    var playPreview = previewId && previewId !== previousPlayId.current;\n    var layout = pageJson.layout;\n    var oneByOnePlayId = getPlayId();\n    var oneByOneEffect = pageJson.oneByOneEffect && pageJson.oneByOneEffect.type !== jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"AnimationType\"].None ? pageJson.oneByOneEffect : null;\n    var effectRef = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useRef(oneByOneEffect);\n    var revert = oneByOneEffect ? (visible ? false : true) : null;\n    jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useEffect(function () {\n        previousPlayId.current = previewId;\n        effectRef.current = oneByOneEffect;\n    });\n    jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useEffect(function () {\n        if (!pageContext.isDesignMode && effectRef.current) {\n            // play every animation\n            setPlayId(Symbol('play page'));\n            playedAfterSwtichMode.current = false;\n        }\n    }, [pageContext.isDesignMode]);\n    jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useEffect(function () {\n        if (effectRef.current) {\n            setPlayId(Symbol('autoplay when switching to visible'));\n            playedAfterSwtichMode.current = false;\n        }\n    }, [visible]);\n    var viewOnly = !layout[browserSizeMode];\n    var maxWidth;\n    if (pageJson.mode !== jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"PageMode\"].FitWindow && pageJson.maxWidth > 0) {\n        maxWidth = pageJson.maxWidth;\n    }\n    var pageContextValue = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useMemo(function () {\n        return __assign(__assign({}, pageContext), { maxWidth: maxWidth,\n            viewOnly: viewOnly, \n            // visible,\n            pageId: renderedPageId, rootLayoutId: Object(_page_renderer_common__WEBPACK_IMPORTED_MODULE_3__[\"getPageLayoutId\"])(pageJson.id) });\n    }, [pageContext, viewOnly, maxWidth, renderedPageId, pageJson.id]);\n    var animationContextValue = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useMemo(function () {\n        return {\n            isDesignMode: pageContext.isDesignMode,\n            trigger: jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"AnimationTriggerType\"].Manual,\n            setting: (!pageContext.isDesignMode || playPreview) ? oneByOneEffect : null,\n            inheritedOneByOneSetting: null,\n            playId: oneByOnePlayId,\n            depth: 0,\n            revert: revert,\n        };\n    }, [pageContext.isDesignMode, revert, oneByOnePlayId, playPreview, oneByOneEffect]);\n    if (!layout) {\n        return;\n    }\n    function getPlayId() {\n        if (!playedAfterSwtichMode.current) {\n            // play once after switch to live view mode\n            playedAfterSwtichMode.current = true;\n            return playId;\n        }\n        return previewId;\n    }\n    return (Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__[\"PageContext\"].Provider, { key: pageJson.id, value: pageContextValue },\n        Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__[\"PageVisibilityContext\"].Provider, { value: visible },\n            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { id: pageJson.id, \"data-pageid\": pageJson.id, className: \"page\", style: {\n                    display: visible ? 'flex' : 'none',\n                    position: 'relative',\n                    backgroundColor: pageJson.bodyBackgroundColor || 'transparent',\n                    zIndex: 1,\n                    flex: '1 0 auto'\n                } },\n                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"AnimationContext\"].Provider, { value: animationContextValue },\n                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_layout_entry__WEBPACK_IMPORTED_MODULE_2__[\"default\"], { layouts: layout, isPageItem: true, visible: visible, className: \"w-100\", css: Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n                margin: 0 auto;\\n                background-color: transparent;\\n                z-index: 0;\\n              \"], [\"\\n                margin: 0 auto;\\n                background-color: transparent;\\n                z-index: 0;\\n              \"]))) })),\n                activePagePart !== jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"PagePart\"].Body && isDesignMode && (Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { css: Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_2 || (templateObject_2 = __makeTemplateObject([\"\\n                \", \";\\n                background: \", \";\\n                z-index: 1;\\n              \"], [\"\\n                \", \";\\n                background: \", \";\\n                z-index: 1;\\n              \"])), _page_renderer_common__WEBPACK_IMPORTED_MODULE_3__[\"maskStyle\"], jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"polished\"].rgba(pageContext.theme.colors.palette.dark[800], 0.6)), onClick: _page_renderer_common__WEBPACK_IMPORTED_MODULE_3__[\"editBody\"] }))))));\n}\nvar templateObject_1, templateObject_2;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWxheW91dHMvbGliL2J1aWxkZXIvcGFnZS1ib2R5LnRzeC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2ppbXUtbGF5b3V0cy9saWIvYnVpbGRlci9wYWdlLWJvZHkudHN4P2YxMjUiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqIEBqc3gganN4ICovXG5pbXBvcnQge1xuICBSZWFjdCxcbiAgUmVhY3RSZWR1eCxcbiAganN4LFxuICBjc3MsXG4gIFBhZ2VQYXJ0LFxuICBCcm93c2VyU2l6ZU1vZGUsXG4gIHBvbGlzaGVkLFxuICBJTVBhZ2VKc29uLFxuICBQYWdlTW9kZSxcbiAgQW5pbWF0aW9uQ29udGV4dCxcbiAgQW5pbWF0aW9uVHJpZ2dlclR5cGUsXG4gIElNU3RhdGUsXG4gIEltbXV0YWJsZU9iamVjdCxcbiAgQW5pbWF0aW9uVHlwZSxcbn0gZnJvbSAnamltdS1jb3JlJztcbmltcG9ydCB7XG4gIFBhZ2VDb250ZXh0LFxuICBQYWdlQ29udGV4dFByb3BzLFxuICBQYWdlVmlzaWJpbGl0eUNvbnRleHQsXG59IGZyb20gJ2ppbXUtbGF5b3V0cy9sYXlvdXQtcnVudGltZSc7XG5pbXBvcnQgTGF5b3V0RW50cnkgZnJvbSAnLi9sYXlvdXQtZW50cnknO1xuaW1wb3J0IHtcbiAgbWFza1N0eWxlLFxuICBlZGl0Qm9keSxcbiAgZ2V0UGFnZUxheW91dElkXG59IGZyb20gJy4vcGFnZS1yZW5kZXJlci1jb21tb24nO1xuXG5leHBvcnQgaW50ZXJmYWNlIFBhZ2VCb2R5UHJvcHMge1xuICBwYWdlSnNvbjogSU1QYWdlSnNvbjtcbiAgcmVuZGVyZWRQYWdlSWQ6IHN0cmluZztcbiAgYWN0aXZlUGFnZVBhcnQ6IFBhZ2VQYXJ0O1xuICBpc0Rlc2lnbk1vZGU6IGJvb2xlYW47XG4gIGJyb3dzZXJTaXplTW9kZTogQnJvd3NlclNpemVNb2RlO1xuICBwYWdlQ29udGV4dDogSW1tdXRhYmxlT2JqZWN0PFBhZ2VDb250ZXh0UHJvcHM+O1xuICB2aXNpYmxlOiBib29sZWFuO1xufVxuXG5mdW5jdGlvbiBtYXBTdGF0ZVRvUHJvcHMoc3RhdGU6IElNU3RhdGUsIHBhZ2VJZDogc3RyaW5nKSB7XG4gIGNvbnN0IGFuaW1hdGlvblByZXZpZXcgPSBzdGF0ZS5hcHBSdW50aW1lSW5mby5hbmltYXRpb25QcmV2aWV3O1xuICBpZiAoYW5pbWF0aW9uUHJldmlldz8ucGFnZUlkID09PSBwYWdlSWQpIHtcbiAgICByZXR1cm4gYW5pbWF0aW9uUHJldmlldy5pZDtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC12YXJzKi9cblxuZXhwb3J0IGZ1bmN0aW9uIFBhZ2VCb2R5KHByb3BzOiBQYWdlQm9keVByb3BzKSB7XG4gIGNvbnN0IHsgcGFnZUpzb24sIHZpc2libGUsIHJlbmRlcmVkUGFnZUlkLCBicm93c2VyU2l6ZU1vZGUsIGlzRGVzaWduTW9kZSwgYWN0aXZlUGFnZVBhcnQsIHBhZ2VDb250ZXh0IH0gPSBwcm9wcztcbiAgY29uc3QgcGxheWVkQWZ0ZXJTd3RpY2hNb2RlID0gUmVhY3QudXNlUmVmKGZhbHNlKTtcbiAgY29uc3QgW3BsYXlJZCwgc2V0UGxheUlkXSA9IFJlYWN0LnVzZVN0YXRlKFN5bWJvbCgnaW5pdCcpKTtcbiAgY29uc3QgcHJldmlld0lkID0gUmVhY3RSZWR1eC51c2VTZWxlY3Rvcigoc3RhdGU6IElNU3RhdGUpID0+IG1hcFN0YXRlVG9Qcm9wcyhzdGF0ZSwgcGFnZUpzb24uaWQpKTtcbiAgY29uc3QgcHJldmlvdXNQbGF5SWQgPSBSZWFjdC51c2VSZWY8c3ltYm9sPigpO1xuICBjb25zdCBwbGF5UHJldmlldyA9IHByZXZpZXdJZCAmJiBwcmV2aWV3SWQgIT09IHByZXZpb3VzUGxheUlkLmN1cnJlbnQ7XG4gIGNvbnN0IGxheW91dCA9IHBhZ2VKc29uLmxheW91dDtcbiAgY29uc3Qgb25lQnlPbmVQbGF5SWQgPSBnZXRQbGF5SWQoKTtcbiAgY29uc3Qgb25lQnlPbmVFZmZlY3QgPSBwYWdlSnNvbi5vbmVCeU9uZUVmZmVjdCAmJiBwYWdlSnNvbi5vbmVCeU9uZUVmZmVjdC50eXBlICE9PSBBbmltYXRpb25UeXBlLk5vbmUgPyBwYWdlSnNvbi5vbmVCeU9uZUVmZmVjdCA6IG51bGw7XG4gIGNvbnN0IGVmZmVjdFJlZiA9IFJlYWN0LnVzZVJlZihvbmVCeU9uZUVmZmVjdCk7XG4gIGNvbnN0IHJldmVydCA9IG9uZUJ5T25lRWZmZWN0ID8gKHZpc2libGUgPyBmYWxzZSA6IHRydWUpIDogbnVsbDtcblxuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIHByZXZpb3VzUGxheUlkLmN1cnJlbnQgPSBwcmV2aWV3SWQ7XG4gICAgZWZmZWN0UmVmLmN1cnJlbnQgPSBvbmVCeU9uZUVmZmVjdDtcbiAgfSk7XG5cbiAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIXBhZ2VDb250ZXh0LmlzRGVzaWduTW9kZSAmJiBlZmZlY3RSZWYuY3VycmVudCkge1xuICAgICAgLy8gcGxheSBldmVyeSBhbmltYXRpb25cbiAgICAgIHNldFBsYXlJZChTeW1ib2woJ3BsYXkgcGFnZScpKTtcbiAgICAgIHBsYXllZEFmdGVyU3d0aWNoTW9kZS5jdXJyZW50ID0gZmFsc2U7XG4gICAgfVxuICB9LCBbcGFnZUNvbnRleHQuaXNEZXNpZ25Nb2RlXSk7XG5cbiAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoZWZmZWN0UmVmLmN1cnJlbnQpIHtcbiAgICAgIHNldFBsYXlJZChTeW1ib2woJ2F1dG9wbGF5IHdoZW4gc3dpdGNoaW5nIHRvIHZpc2libGUnKSk7XG4gICAgICBwbGF5ZWRBZnRlclN3dGljaE1vZGUuY3VycmVudCA9IGZhbHNlO1xuICAgIH1cbiAgfSwgW3Zpc2libGVdKTtcblxuICBjb25zdCB2aWV3T25seSA9ICFsYXlvdXRbYnJvd3NlclNpemVNb2RlXTtcbiAgbGV0IG1heFdpZHRoO1xuICBpZiAocGFnZUpzb24ubW9kZSAhPT0gUGFnZU1vZGUuRml0V2luZG93ICYmIHBhZ2VKc29uLm1heFdpZHRoID4gMCkge1xuICAgIG1heFdpZHRoID0gcGFnZUpzb24ubWF4V2lkdGg7XG4gIH1cblxuICBjb25zdCBwYWdlQ29udGV4dFZhbHVlID0gUmVhY3QudXNlTWVtbygoKSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnBhZ2VDb250ZXh0IGFzIGFueSxcbiAgICAgIG1heFdpZHRoLFxuICAgICAgdmlld09ubHksXG4gICAgICAvLyB2aXNpYmxlLFxuICAgICAgcGFnZUlkOiByZW5kZXJlZFBhZ2VJZCxcbiAgICAgIHJvb3RMYXlvdXRJZDogZ2V0UGFnZUxheW91dElkKHBhZ2VKc29uLmlkKSxcbiAgICB9XG4gIH0sIFtwYWdlQ29udGV4dCwgdmlld09ubHksIG1heFdpZHRoLCByZW5kZXJlZFBhZ2VJZCwgcGFnZUpzb24uaWRdKTtcblxuICBjb25zdCBhbmltYXRpb25Db250ZXh0VmFsdWUgPSBSZWFjdC51c2VNZW1vKCgpID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgaXNEZXNpZ25Nb2RlOiBwYWdlQ29udGV4dC5pc0Rlc2lnbk1vZGUsXG4gICAgICB0cmlnZ2VyOiBBbmltYXRpb25UcmlnZ2VyVHlwZS5NYW51YWwsXG4gICAgICBzZXR0aW5nOiAoIXBhZ2VDb250ZXh0LmlzRGVzaWduTW9kZSB8fCBwbGF5UHJldmlldykgPyBvbmVCeU9uZUVmZmVjdCA6IG51bGwsXG4gICAgICBpbmhlcml0ZWRPbmVCeU9uZVNldHRpbmc6IG51bGwsXG4gICAgICBwbGF5SWQgOiBvbmVCeU9uZVBsYXlJZCxcbiAgICAgIGRlcHRoOiAwLFxuICAgICAgcmV2ZXJ0LFxuICAgIH1cbiAgfSwgW3BhZ2VDb250ZXh0LmlzRGVzaWduTW9kZSwgcmV2ZXJ0LCBvbmVCeU9uZVBsYXlJZCwgcGxheVByZXZpZXcsIG9uZUJ5T25lRWZmZWN0XSk7XG5cbiAgaWYgKCFsYXlvdXQpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBmdW5jdGlvbiBnZXRQbGF5SWQoKSB7XG4gICAgaWYgKCFwbGF5ZWRBZnRlclN3dGljaE1vZGUuY3VycmVudCkge1xuICAgICAgLy8gcGxheSBvbmNlIGFmdGVyIHN3aXRjaCB0byBsaXZlIHZpZXcgbW9kZVxuICAgICAgcGxheWVkQWZ0ZXJTd3RpY2hNb2RlLmN1cnJlbnQgPSB0cnVlO1xuICAgICAgcmV0dXJuIHBsYXlJZDtcbiAgICB9XG5cbiAgICByZXR1cm4gcHJldmlld0lkO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8UGFnZUNvbnRleHQuUHJvdmlkZXJcbiAgICAgIGtleT17cGFnZUpzb24uaWR9XG4gICAgICB2YWx1ZT17cGFnZUNvbnRleHRWYWx1ZX0+XG4gICAgICA8UGFnZVZpc2liaWxpdHlDb250ZXh0LlByb3ZpZGVyIHZhbHVlPXt2aXNpYmxlfT5cbiAgICAgICAgPGRpdlxuICAgICAgICAgIGlkPXtwYWdlSnNvbi5pZH1cbiAgICAgICAgICBkYXRhLXBhZ2VpZD17cGFnZUpzb24uaWR9XG4gICAgICAgICAgY2xhc3NOYW1lPVwicGFnZVwiXG4gICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgIGRpc3BsYXk6IHZpc2libGUgPyAnZmxleCcgOiAnbm9uZScsXG4gICAgICAgICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogcGFnZUpzb24uYm9keUJhY2tncm91bmRDb2xvciB8fCAndHJhbnNwYXJlbnQnLFxuICAgICAgICAgICAgekluZGV4OiAxLFxuICAgICAgICAgICAgZmxleDogJzEgMCBhdXRvJ1xuICAgICAgICAgIH19PlxuICAgICAgICAgIDxBbmltYXRpb25Db250ZXh0LlByb3ZpZGVyIHZhbHVlPXthbmltYXRpb25Db250ZXh0VmFsdWV9PlxuICAgICAgICAgICAgPExheW91dEVudHJ5XG4gICAgICAgICAgICAgIGxheW91dHM9e2xheW91dH1cbiAgICAgICAgICAgICAgaXNQYWdlSXRlbT17dHJ1ZX1cbiAgICAgICAgICAgICAgdmlzaWJsZT17dmlzaWJsZX1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy0xMDBcIlxuICAgICAgICAgICAgICBjc3M9e2Nzc2BcbiAgICAgICAgICAgICAgICBtYXJnaW46IDAgYXV0bztcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcbiAgICAgICAgICAgICAgICB6LWluZGV4OiAwO1xuICAgICAgICAgICAgICBgfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L0FuaW1hdGlvbkNvbnRleHQuUHJvdmlkZXI+XG4gICAgICAgICAge2FjdGl2ZVBhZ2VQYXJ0ICE9PSBQYWdlUGFydC5Cb2R5ICYmIGlzRGVzaWduTW9kZSAmJiAoXG4gICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgIGNzcz17Y3NzYFxuICAgICAgICAgICAgICAgICR7bWFza1N0eWxlfTtcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAke3BvbGlzaGVkLnJnYmEocGFnZUNvbnRleHQudGhlbWUuY29sb3JzLnBhbGV0dGUuZGFya1s4MDBdLCAwLjYpfTtcbiAgICAgICAgICAgICAgICB6LWluZGV4OiAxO1xuICAgICAgICAgICAgICBgfVxuICAgICAgICAgICAgICBvbkNsaWNrPXtlZGl0Qm9keX0+PC9kaXY+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L1BhZ2VWaXNpYmlsaXR5Q29udGV4dC5Qcm92aWRlcj5cbiAgICA8L1BhZ2VDb250ZXh0LlByb3ZpZGVyPlxuICApO1xufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFnQkE7QUFLQTtBQUNBO0FBZ0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFHQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFJQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVlBO0FBYUE7OyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./jimu-layouts/lib/builder/page-body.tsx\n");

/***/ }),

/***/ "./jimu-layouts/lib/builder/page-context.tsx":
/*!***************************************************!*\
  !*** ./jimu-layouts/lib/builder/page-context.tsx ***!
  \***************************************************/
/*! exports provided: PageContext, ViewportVisibilityContext, PageVisibilityContext, ViewVisibilityContext */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PageContext\", function() { return PageContext; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ViewportVisibilityContext\", function() { return ViewportVisibilityContext; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PageVisibilityContext\", function() { return PageVisibilityContext; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ViewVisibilityContext\", function() { return ViewVisibilityContext; });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jimu_core__WEBPACK_IMPORTED_MODULE_0__);\n\nvar PageContext = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].createContext({\n    viewOnly: true,\n    isDesignMode: true,\n    mainSizeMode: jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"BrowserSizeMode\"].Large,\n    browserSizeMode: jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"BrowserSizeMode\"].Large,\n});\nvar ViewportVisibilityContext = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].createContext(true);\nvar PageVisibilityContext = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].createContext(true);\nvar ViewVisibilityContext = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].createContext({\n    isInView: false,\n    isInCurrentView: false\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWxheW91dHMvbGliL2J1aWxkZXIvcGFnZS1jb250ZXh0LnRzeC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2ppbXUtbGF5b3V0cy9saWIvYnVpbGRlci9wYWdlLWNvbnRleHQudHN4Pzc0MTMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUmVhY3QsIElNVGhlbWVWYXJpYWJsZXMsIEJyb3dzZXJTaXplTW9kZSB9IGZyb20gJ2ppbXUtY29yZSc7XG5cbmV4cG9ydCBjb25zdCBQYWdlQ29udGV4dCA9IFJlYWN0LmNyZWF0ZUNvbnRleHQ8UGFnZUNvbnRleHRQcm9wcz4oe1xuICB2aWV3T25seTogdHJ1ZSxcbiAgaXNEZXNpZ25Nb2RlOiB0cnVlLFxuICBtYWluU2l6ZU1vZGU6IEJyb3dzZXJTaXplTW9kZS5MYXJnZSxcbiAgYnJvd3NlclNpemVNb2RlOiBCcm93c2VyU2l6ZU1vZGUuTGFyZ2UsXG59KTtcblxuZXhwb3J0IHR5cGUgUGFnZUNvbnRleHRQcm9wcyA9IHtcbiAgaXNEZXNpZ25Nb2RlOiBib29sZWFuO1xuICBsb2NrTGF5b3V0PzogYm9vbGVhbjtcbiAgcm9vdExheW91dElkPzogc3RyaW5nO1xuICBpc0hlYWRlcj86IGJvb2xlYW47XG4gIGlzRm9vdGVyPzogYm9vbGVhbjtcbiAgaXNEaWFsb2c/OiBib29sZWFuO1xuICBwYWdlSWQ/OiBzdHJpbmc7XG4gIGJ1aWxkZXJUaGVtZT86IElNVGhlbWVWYXJpYWJsZXM7XG4gIHRoZW1lPzogSU1UaGVtZVZhcmlhYmxlcztcbiAgbWFpblNpemVNb2RlOiBCcm93c2VyU2l6ZU1vZGU7XG4gIGJyb3dzZXJTaXplTW9kZTogQnJvd3NlclNpemVNb2RlO1xuICB2aWV3T25seT86IGJvb2xlYW47XG4gIG1heFdpZHRoPzogbnVtYmVyO1xuICBmb3JtYXRNZXNzYWdlPzogKGlkOiBzdHJpbmcpID0+IHN0cmluZztcbiAgZGlhbG9nSWQ/OiBzdHJpbmc7XG59O1xuXG5leHBvcnQgY29uc3QgVmlld3BvcnRWaXNpYmlsaXR5Q29udGV4dCA9IFJlYWN0LmNyZWF0ZUNvbnRleHQ8Ym9vbGVhbj4odHJ1ZSk7XG5leHBvcnQgY29uc3QgUGFnZVZpc2liaWxpdHlDb250ZXh0ID0gUmVhY3QuY3JlYXRlQ29udGV4dDxib29sZWFuPih0cnVlKTtcbmV4cG9ydCBjb25zdCBWaWV3VmlzaWJpbGl0eUNvbnRleHQgPSBSZWFjdC5jcmVhdGVDb250ZXh0PFZpZXdWaXNpYmlsaXR5Q29udGV4dFByb3BzPih7XG4gIGlzSW5WaWV3OiBmYWxzZSxcbiAgaXNJbkN1cnJlbnRWaWV3OiBmYWxzZVxufSk7XG5cbmV4cG9ydCB0eXBlIFZpZXdWaXNpYmlsaXR5Q29udGV4dFByb3BzID0ge1xuICBpc0luVmlldz86IGJvb2xlYW47XG4gIGlzSW5DdXJyZW50Vmlldz86IGJvb2xlYW47XG59O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBb0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./jimu-layouts/lib/builder/page-context.tsx\n");

/***/ }),

/***/ "./jimu-layouts/lib/builder/page-footer.tsx":
/*!**************************************************!*\
  !*** ./jimu-layouts/lib/builder/page-footer.tsx ***!
  \**************************************************/
/*! exports provided: PageFooter */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PageFooter\", function() { return PageFooter; });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jimu_core__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var jimu_core_dnd__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-core/dnd */ \"jimu-core/dnd\");\n/* harmony import */ var jimu_core_dnd__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jimu_core_dnd__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var jimu_for_builder__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-for-builder */ \"jimu-for-builder\");\n/* harmony import */ var jimu_for_builder__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jimu_for_builder__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-layouts/layout-runtime */ \"jimu-layouts/layout-runtime\");\n/* harmony import */ var jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! jimu-ui */ \"jimu-ui\");\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(jimu_ui__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _layout_entry__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./layout-entry */ \"./jimu-layouts/lib/builder/layout-entry.tsx\");\n/* harmony import */ var _page_renderer_common__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./page-renderer-common */ \"./jimu-layouts/lib/builder/page-renderer-common.ts\");\nvar __makeTemplateObject = (undefined && undefined.__makeTemplateObject) || function (cooked, raw) {\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n    return cooked;\n};\nvar __assign = (undefined && undefined.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\n/** @jsx jsx */\n\n\n\n\n\n\n\nvar DEFAULT_HEADER_HEIGHT = 75;\nvar iconEdit = __webpack_require__(/*! jimu-ui/lib/icons/tool-edit.svg */ \"./jimu-ui/lib/icons/tool-edit.svg\");\nfunction getStyle(footer, height, footerVisible, builderTheme, theme) {\n    return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n    \", \";\\n    \", \";\\n    display: \", \";\\n    position: relative;\\n    width: 100%;\\n    height: auto;\\n    min-height: \", \"px;\\n    overflow: hidden;\\n    background-color: \", \";\\n    background-image: \", \";\\n    background-position: \", \";\\n    color: \", \";\\n    border-top: 1px dashed \", \";\\n    z-index: 0;\\n\\n    &:hover {\\n      .edit-mask {\\n        display: flex;\\n      }\\n    }\\n  \"], [\"\\n    \", \";\\n    \", \";\\n    display: \", \";\\n    position: relative;\\n    width: 100%;\\n    height: auto;\\n    min-height: \", \"px;\\n    overflow: hidden;\\n    background-color: \", \";\\n    background-image: \", \";\\n    background-position: \", \";\\n    color: \", \";\\n    border-top: 1px dashed \", \";\\n    z-index: 0;\\n\\n    &:hover {\\n      .edit-mask {\\n        display: flex;\\n      }\\n    }\\n  \"])), _page_renderer_common__WEBPACK_IMPORTED_MODULE_6__[\"resizeHandlerStyle\"], Object(_page_renderer_common__WEBPACK_IMPORTED_MODULE_6__[\"editBtnStyle\"])(builderTheme), footerVisible ? 'flex' : 'none', parseFloat(height), footer.backgroundColor || theme.footer.bg || 'transparent', footer.backgroundIMage, footer.backgroundPosition, theme.footer.color, jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"polished\"].rgba(builderTheme.colors.white, 0.12));\n}\nfunction bindResizeHandler(footerRef, browserSizeMode) {\n    var dh;\n    var initHeight;\n    return Object(jimu_core_dnd__WEBPACK_IMPORTED_MODULE_1__[\"interact\"])(footerRef)\n        .origin('parent')\n        .resizable({\n        inertia: false,\n        edges: {\n            top: '.resize-handler',\n        },\n        onstart: function (event) {\n            event.stopPropagation();\n            dh = 0;\n            initHeight = footerRef.getBoundingClientRect().height;\n        },\n        onmove: function (event) {\n            event.stopPropagation();\n            var deltaRect = event.deltaRect;\n            dh += deltaRect.height;\n            footerRef.style.height = initHeight + dh + \"px\";\n        },\n        onend: function (event) {\n            event.stopPropagation();\n            var appConfigAction = Object(jimu_for_builder__WEBPACK_IMPORTED_MODULE_2__[\"getAppConfigAction\"])();\n            var footerJson = appConfigAction.appConfig.footer;\n            footerRef.style.height = null;\n            Object(jimu_for_builder__WEBPACK_IMPORTED_MODULE_2__[\"getAppConfigAction\"])()\n                .editFooter(footerJson.setIn(['height', browserSizeMode], Math.round(initHeight + dh)))\n                .exec();\n        },\n    });\n}\nfunction PageFooter(props) {\n    var footer = props.footer, footerVisible = props.footerVisible, browserSizeMode = props.browserSizeMode, mainSizeMode = props.mainSizeMode, isDesignMode = props.isDesignMode, activePagePart = props.activePagePart, pageContext = props.pageContext;\n    var footerRef = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useRef(null);\n    var height = footer.height[browserSizeMode] || footer.height[mainSizeMode] || DEFAULT_HEADER_HEIGHT;\n    var layout = footer.layout;\n    var viewOnly = !layout[browserSizeMode];\n    var builderTheme = pageContext.builderTheme;\n    /* eslint-disable react-hooks/exhaustive-deps*/\n    jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useEffect(function () {\n        var interactble;\n        if (footerRef.current) {\n            interactble = bindResizeHandler(footerRef.current, browserSizeMode);\n        }\n        return function () {\n            if (interactble) {\n                interactble.unset();\n            }\n        };\n    }, []);\n    var footerLayoutId = Object(_page_renderer_common__WEBPACK_IMPORTED_MODULE_6__[\"getFooterLayoutId\"])();\n    var pageContextValue = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useMemo(function () {\n        return __assign(__assign({}, pageContext), { isFooter: true, rootLayoutId: footerLayoutId, viewOnly: viewOnly || activePagePart !== jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"PagePart\"].Footer });\n    }, [pageContext, footerLayoutId, viewOnly, activePagePart]);\n    return (Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_3__[\"PageContext\"].Provider, { value: pageContextValue },\n        Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"footer\", css: getStyle(footer, height, footerVisible, pageContext.builderTheme, pageContext.theme), ref: function (el) { return (footerRef.current = el); } },\n            isDesignMode && !viewOnly && (Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"span\", { className: \"resize-handler\", css: Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_2 || (templateObject_2 = __makeTemplateObject([\"\\n              top: \", \"px;\\n              z-index: 1;\\n            \"], [\"\\n              top: \", \"px;\\n              z-index: 1;\\n            \"])), -_page_renderer_common__WEBPACK_IMPORTED_MODULE_6__[\"RESIZE_HANDLER_HEIGHT\"] / 2) })),\n            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"w-100 h-100\", css: Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_3 || (templateObject_3 = __makeTemplateObject([\"\\n            overflow: auto;\\n            display: flex;\\n            position: relative;\\n            z-index: 0;\\n            min-height: \", \"px;\\n          \"], [\"\\n            overflow: auto;\\n            display: flex;\\n            position: relative;\\n            z-index: 0;\\n            min-height: \", \"px;\\n          \"])), parseFloat(height)) },\n                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_layout_entry__WEBPACK_IMPORTED_MODULE_5__[\"default\"], { layouts: layout, isPageItem: true, visible: footerVisible })),\n            activePagePart !== jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"PagePart\"].Footer && !viewOnly && isDesignMode && (Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { css: Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_4 || (templateObject_4 = __makeTemplateObject([\"\\n              \", \";\\n              background: \", \";\\n              z-index: 1;\\n            \"], [\"\\n              \", \";\\n              background: \", \";\\n              z-index: 1;\\n            \"])), _page_renderer_common__WEBPACK_IMPORTED_MODULE_6__[\"maskStyle\"], activePagePart === jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"PagePart\"].Body ? 'transparent' : jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"polished\"].rgba(builderTheme.colors.palette.light[400], 0.6)), onClick: _page_renderer_common__WEBPACK_IMPORTED_MODULE_6__[\"editBody\"] })),\n            activePagePart === jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"PagePart\"].Body && (!viewOnly || browserSizeMode === mainSizeMode) && isDesignMode && (Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"edit-mask justify-content-center align-items-center\", css: Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_5 || (templateObject_5 = __makeTemplateObject([\"\\n              \", \";\\n              background: \", \";\\n              z-index: 1;\\n              display: none;\\n            \"], [\"\\n              \", \";\\n              background: \", \";\\n              z-index: 1;\\n              display: none;\\n            \"])), _page_renderer_common__WEBPACK_IMPORTED_MODULE_6__[\"maskStyle\"], jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"polished\"].rgba(builderTheme.colors.palette.light[400], 0.6)) },\n                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_4__[\"Button\"], { className: \"edit-btn btn-large border-0\", onClick: _page_renderer_common__WEBPACK_IMPORTED_MODULE_6__[\"editFooter\"] },\n                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_4__[\"Icon\"], { icon: iconEdit, width: 16, height: 16 }),\n                    pageContext.formatMessage('editFooter')))))));\n}\nvar templateObject_1, templateObject_2, templateObject_3, templateObject_4, templateObject_5;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWxheW91dHMvbGliL2J1aWxkZXIvcGFnZS1mb290ZXIudHN4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vamltdS1sYXlvdXRzL2xpYi9idWlsZGVyL3BhZ2UtZm9vdGVyLnRzeD9kZWIwIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKiBAanN4IGpzeCAqL1xuaW1wb3J0IHtcbiAgUmVhY3QsXG4gIGpzeCxcbiAgY3NzLFxuICBQYWdlUGFydCxcbiAgSU1Gb290ZXJKc29uLFxuICBCcm93c2VyU2l6ZU1vZGUsXG4gIElNVGhlbWVWYXJpYWJsZXMsXG4gIHBvbGlzaGVkLFxuICBJbW11dGFibGVPYmplY3QsXG59IGZyb20gJ2ppbXUtY29yZSc7XG5pbXBvcnQgeyBpbnRlcmFjdCB9IGZyb20gJ2ppbXUtY29yZS9kbmQnO1xuaW1wb3J0IHsgZ2V0QXBwQ29uZmlnQWN0aW9uIH0gZnJvbSAnamltdS1mb3ItYnVpbGRlcic7XG5pbXBvcnQgeyBQYWdlQ29udGV4dCwgUGFnZUNvbnRleHRQcm9wcyB9IGZyb20gJ2ppbXUtbGF5b3V0cy9sYXlvdXQtcnVudGltZSc7XG5pbXBvcnQgeyBCdXR0b24sIEljb24gfSBmcm9tICdqaW11LXVpJztcbmltcG9ydCBMYXlvdXRFbnRyeSBmcm9tICcuL2xheW91dC1lbnRyeSc7XG5pbXBvcnQge1xuICBSRVNJWkVfSEFORExFUl9IRUlHSFQsXG4gIHJlc2l6ZUhhbmRsZXJTdHlsZSxcbiAgbWFza1N0eWxlLFxuICBlZGl0QnRuU3R5bGUsXG4gIGVkaXRCb2R5LFxuICBlZGl0Rm9vdGVyLFxuICBnZXRGb290ZXJMYXlvdXRJZFxufSBmcm9tICcuL3BhZ2UtcmVuZGVyZXItY29tbW9uJztcblxuZXhwb3J0IGludGVyZmFjZSBQYWdlRm9vdGVyUHJvcHMge1xuICBmb290ZXI6IElNRm9vdGVySnNvbjtcbiAgYWN0aXZlUGFnZVBhcnQ6IFBhZ2VQYXJ0O1xuICBmb290ZXJWaXNpYmxlOiBib29sZWFuO1xuICBpc0Rlc2lnbk1vZGU6IGJvb2xlYW47XG4gIGJyb3dzZXJTaXplTW9kZTogQnJvd3NlclNpemVNb2RlO1xuICBtYWluU2l6ZU1vZGU6IEJyb3dzZXJTaXplTW9kZTtcbiAgcGFnZUNvbnRleHQ6IEltbXV0YWJsZU9iamVjdDxQYWdlQ29udGV4dFByb3BzPjtcbn1cblxuY29uc3QgREVGQVVMVF9IRUFERVJfSEVJR0hUID0gNzU7XG5jb25zdCBpY29uRWRpdCA9IHJlcXVpcmUoJ2ppbXUtdWkvbGliL2ljb25zL3Rvb2wtZWRpdC5zdmcnKTtcblxuZnVuY3Rpb24gZ2V0U3R5bGUoXG4gIGZvb3RlcjogSU1Gb290ZXJKc29uLFxuICBoZWlnaHQ6IHN0cmluZyxcbiAgZm9vdGVyVmlzaWJsZTogYm9vbGVhbixcbiAgYnVpbGRlclRoZW1lOiBJTVRoZW1lVmFyaWFibGVzLFxuICB0aGVtZTogSU1UaGVtZVZhcmlhYmxlc1xuKSB7XG4gIHJldHVybiBjc3NgXG4gICAgJHtyZXNpemVIYW5kbGVyU3R5bGV9O1xuICAgICR7ZWRpdEJ0blN0eWxlKGJ1aWxkZXJUaGVtZSl9O1xuICAgIGRpc3BsYXk6ICR7Zm9vdGVyVmlzaWJsZSA/ICdmbGV4JyA6ICdub25lJ307XG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIGhlaWdodDogYXV0bztcbiAgICBtaW4taGVpZ2h0OiAke3BhcnNlRmxvYXQoaGVpZ2h0KX1weDtcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgIGJhY2tncm91bmQtY29sb3I6ICR7Zm9vdGVyLmJhY2tncm91bmRDb2xvciB8fCB0aGVtZS5mb290ZXIuYmcgfHwgJ3RyYW5zcGFyZW50J307XG4gICAgYmFja2dyb3VuZC1pbWFnZTogJHtmb290ZXIuYmFja2dyb3VuZElNYWdlIGFzIGFueX07XG4gICAgYmFja2dyb3VuZC1wb3NpdGlvbjogJHtmb290ZXIuYmFja2dyb3VuZFBvc2l0aW9ufTtcbiAgICBjb2xvcjogJHt0aGVtZS5mb290ZXIuY29sb3J9O1xuICAgIGJvcmRlci10b3A6IDFweCBkYXNoZWQgJHtwb2xpc2hlZC5yZ2JhKGJ1aWxkZXJUaGVtZS5jb2xvcnMud2hpdGUsIDAuMTIpfTtcbiAgICB6LWluZGV4OiAwO1xuXG4gICAgJjpob3ZlciB7XG4gICAgICAuZWRpdC1tYXNrIHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgIH1cbiAgICB9XG4gIGA7XG59XG5cbmZ1bmN0aW9uIGJpbmRSZXNpemVIYW5kbGVyKGZvb3RlclJlZjogSFRNTERpdkVsZW1lbnQsIGJyb3dzZXJTaXplTW9kZTogQnJvd3NlclNpemVNb2RlKTogSW50ZXJhY3QuSW50ZXJhY3RhYmxlIHtcbiAgbGV0IGRoO1xuICBsZXQgaW5pdEhlaWdodDtcblxuICByZXR1cm4gaW50ZXJhY3QoZm9vdGVyUmVmKVxuICAgIC5vcmlnaW4oJ3BhcmVudCcpXG4gICAgLnJlc2l6YWJsZSh7XG4gICAgICBpbmVydGlhOiBmYWxzZSxcbiAgICAgIGVkZ2VzOiB7XG4gICAgICAgIHRvcDogJy5yZXNpemUtaGFuZGxlcicsXG4gICAgICB9LFxuICAgICAgb25zdGFydDogKGV2ZW50OiBJbnRlcmFjdC5JbnRlcmFjdEV2ZW50KSA9PiB7XG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICBkaCA9IDA7XG4gICAgICAgIGluaXRIZWlnaHQgPSBmb290ZXJSZWYuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0O1xuICAgICAgfSxcbiAgICAgIG9ubW92ZTogKGV2ZW50OiBJbnRlcmFjdC5SZXNpemVFdmVudCkgPT4ge1xuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgY29uc3QgZGVsdGFSZWN0ID0gZXZlbnQuZGVsdGFSZWN0O1xuICAgICAgICBkaCArPSBkZWx0YVJlY3QuaGVpZ2h0O1xuICAgICAgICBmb290ZXJSZWYuc3R5bGUuaGVpZ2h0ID0gYCR7aW5pdEhlaWdodCArIGRofXB4YDtcbiAgICAgIH0sXG4gICAgICBvbmVuZDogKGV2ZW50OiBJbnRlcmFjdC5SZXNpemVFdmVudCkgPT4ge1xuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgY29uc3QgYXBwQ29uZmlnQWN0aW9uID0gZ2V0QXBwQ29uZmlnQWN0aW9uKCk7XG4gICAgICAgIGNvbnN0IGZvb3Rlckpzb24gPSBhcHBDb25maWdBY3Rpb24uYXBwQ29uZmlnLmZvb3RlcjtcbiAgICAgICAgZm9vdGVyUmVmLnN0eWxlLmhlaWdodCA9IG51bGw7XG4gICAgICAgIGdldEFwcENvbmZpZ0FjdGlvbigpXG4gICAgICAgICAgLmVkaXRGb290ZXIoZm9vdGVySnNvbi5zZXRJbihbJ2hlaWdodCcsIGJyb3dzZXJTaXplTW9kZV0sIE1hdGgucm91bmQoaW5pdEhlaWdodCArIGRoKSkpXG4gICAgICAgICAgLmV4ZWMoKTtcbiAgICAgIH0sXG4gICAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBQYWdlRm9vdGVyKHByb3BzOiBQYWdlRm9vdGVyUHJvcHMpIHtcbiAgY29uc3QgeyBmb290ZXIsIGZvb3RlclZpc2libGUsIGJyb3dzZXJTaXplTW9kZSwgbWFpblNpemVNb2RlLCBpc0Rlc2lnbk1vZGUsIGFjdGl2ZVBhZ2VQYXJ0LCBwYWdlQ29udGV4dCB9ID0gcHJvcHM7XG4gIGNvbnN0IGZvb3RlclJlZiA9IFJlYWN0LnVzZVJlZjxIVE1MRGl2RWxlbWVudD4obnVsbCk7XG4gIGNvbnN0IGhlaWdodCA9IGZvb3Rlci5oZWlnaHRbYnJvd3NlclNpemVNb2RlXSB8fCBmb290ZXIuaGVpZ2h0W21haW5TaXplTW9kZV0gfHwgREVGQVVMVF9IRUFERVJfSEVJR0hUO1xuICBjb25zdCBsYXlvdXQgPSBmb290ZXIubGF5b3V0O1xuICBjb25zdCB2aWV3T25seSA9ICFsYXlvdXRbYnJvd3NlclNpemVNb2RlXTtcbiAgY29uc3QgYnVpbGRlclRoZW1lID0gcGFnZUNvbnRleHQuYnVpbGRlclRoZW1lO1xuXG4gIC8qIGVzbGludC1kaXNhYmxlIHJlYWN0LWhvb2tzL2V4aGF1c3RpdmUtZGVwcyovXG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgbGV0IGludGVyYWN0YmxlO1xuICAgIGlmIChmb290ZXJSZWYuY3VycmVudCkge1xuICAgICAgaW50ZXJhY3RibGUgPSBiaW5kUmVzaXplSGFuZGxlcihmb290ZXJSZWYuY3VycmVudCwgYnJvd3NlclNpemVNb2RlKTtcbiAgICB9XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGlmIChpbnRlcmFjdGJsZSkge1xuICAgICAgICBpbnRlcmFjdGJsZS51bnNldCgpO1xuICAgICAgfVxuICAgIH1cbiAgfSwgW10pO1xuXG4gIGNvbnN0IGZvb3RlckxheW91dElkID0gZ2V0Rm9vdGVyTGF5b3V0SWQoKTtcblxuICBjb25zdCBwYWdlQ29udGV4dFZhbHVlID0gUmVhY3QudXNlTWVtbygoKSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnBhZ2VDb250ZXh0IGFzIGFueSxcbiAgICAgIGlzRm9vdGVyOiB0cnVlLFxuICAgICAgcm9vdExheW91dElkOiBmb290ZXJMYXlvdXRJZCxcbiAgICAgIHZpZXdPbmx5OiB2aWV3T25seSB8fCBhY3RpdmVQYWdlUGFydCAhPT0gUGFnZVBhcnQuRm9vdGVyLFxuICAgIH1cbiAgfSwgW3BhZ2VDb250ZXh0LCBmb290ZXJMYXlvdXRJZCwgdmlld09ubHksIGFjdGl2ZVBhZ2VQYXJ0XSk7XG5cbiAgcmV0dXJuIChcbiAgICA8UGFnZUNvbnRleHQuUHJvdmlkZXIgdmFsdWU9e3BhZ2VDb250ZXh0VmFsdWV9PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb290ZXJcIiBjc3M9e2dldFN0eWxlKGZvb3RlciwgaGVpZ2h0IGFzIHN0cmluZywgZm9vdGVyVmlzaWJsZSwgcGFnZUNvbnRleHQuYnVpbGRlclRoZW1lLCBwYWdlQ29udGV4dC50aGVtZSl9XG4gICAgICAgIHJlZj17ZWwgPT4gKGZvb3RlclJlZi5jdXJyZW50ID0gZWwpfVxuICAgICAgPlxuICAgICAgICB7aXNEZXNpZ25Nb2RlICYmICF2aWV3T25seSAmJiAoXG4gICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInJlc2l6ZS1oYW5kbGVyXCJcbiAgICAgICAgICAgIGNzcz17Y3NzYFxuICAgICAgICAgICAgICB0b3A6ICR7LVJFU0laRV9IQU5ETEVSX0hFSUdIVCAvIDJ9cHg7XG4gICAgICAgICAgICAgIHotaW5kZXg6IDE7XG4gICAgICAgICAgICBgfT48L3NwYW4+XG4gICAgICAgICl9XG4gICAgICAgIDxkaXZcbiAgICAgICAgICBjbGFzc05hbWU9XCJ3LTEwMCBoLTEwMFwiXG4gICAgICAgICAgY3NzPXtjc3NgXG4gICAgICAgICAgICBvdmVyZmxvdzogYXV0bztcbiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICAgICAgICB6LWluZGV4OiAwO1xuICAgICAgICAgICAgbWluLWhlaWdodDogJHtwYXJzZUZsb2F0KGhlaWdodCBhcyBzdHJpbmcpfXB4O1xuICAgICAgICAgIGB9PlxuICAgICAgICAgIDxMYXlvdXRFbnRyeSBsYXlvdXRzPXtsYXlvdXR9IGlzUGFnZUl0ZW09e3RydWV9IHZpc2libGU9e2Zvb3RlclZpc2libGV9IC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICB7YWN0aXZlUGFnZVBhcnQgIT09IFBhZ2VQYXJ0LkZvb3RlciAmJiAhdmlld09ubHkgJiYgaXNEZXNpZ25Nb2RlICYmIChcbiAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICBjc3M9e2Nzc2BcbiAgICAgICAgICAgICAgJHttYXNrU3R5bGV9O1xuICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAke2FjdGl2ZVBhZ2VQYXJ0ID09PSBQYWdlUGFydC5Cb2R5ID8gJ3RyYW5zcGFyZW50JyA6IHBvbGlzaGVkLnJnYmEoYnVpbGRlclRoZW1lLmNvbG9ycy5wYWxldHRlLmxpZ2h0WzQwMF0sIDAuNil9O1xuICAgICAgICAgICAgICB6LWluZGV4OiAxO1xuICAgICAgICAgICAgYH1cbiAgICAgICAgICAgIG9uQ2xpY2s9e2VkaXRCb2R5fT48L2Rpdj5cbiAgICAgICAgKX1cbiAgICAgICAge2FjdGl2ZVBhZ2VQYXJ0ID09PSBQYWdlUGFydC5Cb2R5ICYmICghdmlld09ubHkgfHwgYnJvd3NlclNpemVNb2RlID09PSBtYWluU2l6ZU1vZGUpICYmIGlzRGVzaWduTW9kZSAmJiAoXG4gICAgICAgICAgPGRpdlxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiZWRpdC1tYXNrIGp1c3RpZnktY29udGVudC1jZW50ZXIgYWxpZ24taXRlbXMtY2VudGVyXCJcbiAgICAgICAgICAgIGNzcz17Y3NzYFxuICAgICAgICAgICAgICAke21hc2tTdHlsZX07XG4gICAgICAgICAgICAgIGJhY2tncm91bmQ6ICR7cG9saXNoZWQucmdiYShidWlsZGVyVGhlbWUuY29sb3JzLnBhbGV0dGUubGlnaHRbNDAwXSwgMC42KX07XG4gICAgICAgICAgICAgIHotaW5kZXg6IDE7XG4gICAgICAgICAgICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgICAgICAgICBgfT5cbiAgICAgICAgICAgIDxCdXR0b24gY2xhc3NOYW1lPVwiZWRpdC1idG4gYnRuLWxhcmdlIGJvcmRlci0wXCIgb25DbGljaz17ZWRpdEZvb3Rlcn0+XG4gICAgICAgICAgICAgIDxJY29uIGljb249e2ljb25FZGl0fSB3aWR0aD17MTZ9IGhlaWdodD17MTZ9PjwvSWNvbj5cbiAgICAgICAgICAgICAge3BhZ2VDb250ZXh0LmZvcm1hdE1lc3NhZ2UoJ2VkaXRGb290ZXInKX1cbiAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuICAgICAgPC9kaXY+XG4gICAgPC9QYWdlQ29udGV4dC5Qcm92aWRlcj5cbiAgKTtcbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBV0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBb0JBO0FBQ0E7QUFFQTtBQU9BO0FBc0JBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBTUE7QUFFQTtBQUVBO0FBR0E7QUFRQTtBQVNBO0FBRUE7QUFTQTtBQVNBO0FBQ0E7QUFDQTtBQU9BOzsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./jimu-layouts/lib/builder/page-footer.tsx\n");

/***/ }),

/***/ "./jimu-layouts/lib/builder/page-header.tsx":
/*!**************************************************!*\
  !*** ./jimu-layouts/lib/builder/page-header.tsx ***!
  \**************************************************/
/*! exports provided: PageHeader */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PageHeader\", function() { return PageHeader; });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jimu_core__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var jimu_core_dnd__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-core/dnd */ \"jimu-core/dnd\");\n/* harmony import */ var jimu_core_dnd__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jimu_core_dnd__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var jimu_for_builder__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-for-builder */ \"jimu-for-builder\");\n/* harmony import */ var jimu_for_builder__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jimu_for_builder__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-layouts/layout-runtime */ \"jimu-layouts/layout-runtime\");\n/* harmony import */ var jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! jimu-ui */ \"jimu-ui\");\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(jimu_ui__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _layout_entry__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./layout-entry */ \"./jimu-layouts/lib/builder/layout-entry.tsx\");\n/* harmony import */ var _page_renderer_common__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./page-renderer-common */ \"./jimu-layouts/lib/builder/page-renderer-common.ts\");\nvar __makeTemplateObject = (undefined && undefined.__makeTemplateObject) || function (cooked, raw) {\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n    return cooked;\n};\nvar __assign = (undefined && undefined.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\n/** @jsx jsx */\n\n\n\n\n\n\n\nvar iconEdit = __webpack_require__(/*! jimu-ui/lib/icons/tool-edit.svg */ \"./jimu-ui/lib/icons/tool-edit.svg\");\nfunction getStyle(header, height, headerVisible, builderTheme, theme, isDesignMode) {\n    return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n    \", \";\\n    \", \";\\n    position: \", \";\\n    z-index: \", \";\\n    top: 0;\\n    display: \", \";\\n    width: 100%;\\n    height: auto;\\n    min-height: \", \"px;\\n    overflow: hidden;\\n    background-color: \", \";\\n    background-image: \", \";\\n    background-position: \", \";\\n    color: \", \";\\n    border-bottom: 1px dashed \", \";\\n    flex: 0 0 auto;\\n\\n    &:hover {\\n      .edit-mask {\\n        display: flex;\\n      }\\n    }\\n  \"], [\"\\n    \", \";\\n    \", \";\\n    position: \", \";\\n    z-index: \", \";\\n    top: 0;\\n    display: \", \";\\n    width: 100%;\\n    height: auto;\\n    min-height: \", \"px;\\n    overflow: hidden;\\n    background-color: \", \";\\n    background-image: \", \";\\n    background-position: \", \";\\n    color: \", \";\\n    border-bottom: 1px dashed \", \";\\n    flex: 0 0 auto;\\n\\n    &:hover {\\n      .edit-mask {\\n        display: flex;\\n      }\\n    }\\n  \"])), _page_renderer_common__WEBPACK_IMPORTED_MODULE_6__[\"resizeHandlerStyle\"], Object(_page_renderer_common__WEBPACK_IMPORTED_MODULE_6__[\"editBtnStyle\"])(builderTheme), header.sticky && !isDesignMode ? 'sticky' : 'relative', header.sticky && !isDesignMode ? 2 : 'auto', headerVisible ? 'flex' : 'none', parseFloat(height), header.backgroundColor || theme.header.bg || 'transparent', header.backgroundIMage, header.backgroundPosition, theme.header.color, jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"polished\"].rgba(builderTheme.colors.white, 0.12));\n}\nfunction bindResizeHandler(headerRef, browserSizeMode) {\n    var dh;\n    var initHeight;\n    return Object(jimu_core_dnd__WEBPACK_IMPORTED_MODULE_1__[\"interact\"])(headerRef)\n        .origin('parent')\n        .resizable({\n        inertia: false,\n        edges: {\n            bottom: '.resize-handler',\n        },\n        onstart: function (event) {\n            event.stopPropagation();\n            dh = 0;\n            initHeight = headerRef.getBoundingClientRect().height;\n            headerRef.style.minHeight = '0px';\n        },\n        onmove: function (event) {\n            event.stopPropagation();\n            var deltaRect = event.deltaRect;\n            dh += deltaRect.height;\n            headerRef.style.height = initHeight + dh + \"px\";\n        },\n        onend: function (event) {\n            event.stopPropagation();\n            var appConfigAction = Object(jimu_for_builder__WEBPACK_IMPORTED_MODULE_2__[\"getAppConfigAction\"])();\n            var headerJson = appConfigAction.appConfig.header;\n            headerRef.style.height = null;\n            headerRef.style.minHeight = null;\n            Object(jimu_for_builder__WEBPACK_IMPORTED_MODULE_2__[\"getAppConfigAction\"])()\n                .editHeader(headerJson.setIn(['height', browserSizeMode], Math.round(initHeight + dh)))\n                .exec();\n        },\n    });\n}\nfunction PageHeader(props) {\n    var header = props.header, headerVisible = props.headerVisible, browserSizeMode = props.browserSizeMode, mainSizeMode = props.mainSizeMode, isDesignMode = props.isDesignMode, activePagePart = props.activePagePart, pageContext = props.pageContext;\n    var headerRef = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useRef(null);\n    var height = header.height[browserSizeMode] || header.height[mainSizeMode] || _page_renderer_common__WEBPACK_IMPORTED_MODULE_6__[\"DEFAULT_HEADER_HEIGHT\"];\n    var layout = header.layout;\n    var viewOnly = !layout[browserSizeMode];\n    var builderTheme = pageContext.builderTheme;\n    /* eslint-disable react-hooks/exhaustive-deps*/\n    jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useEffect(function () {\n        var interactble;\n        if (headerRef.current) {\n            interactble = bindResizeHandler(headerRef.current, browserSizeMode);\n        }\n        return function () {\n            if (interactble) {\n                interactble.unset();\n            }\n        };\n    }, []);\n    var headerLayoutId = Object(_page_renderer_common__WEBPACK_IMPORTED_MODULE_6__[\"getHeaderLayoutId\"])();\n    var pageContextValue = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useMemo(function () {\n        return __assign(__assign({}, pageContext), { isHeader: true, rootLayoutId: headerLayoutId, viewOnly: viewOnly || activePagePart !== jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"PagePart\"].Header });\n    }, [pageContext, headerLayoutId, viewOnly, activePagePart]);\n    return (Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_3__[\"PageContext\"].Provider, { value: pageContextValue },\n        Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"header\", css: getStyle(header, height, headerVisible, pageContext.builderTheme, pageContext.theme, isDesignMode), ref: function (el) { return (headerRef.current = el); } },\n            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"w-100 h-100\", css: Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_2 || (templateObject_2 = __makeTemplateObject([\"\\n            overflow: auto;\\n            display: flex;\\n            position: relative;\\n            z-index: 0;\\n            min-height: \", \"px;\\n          \"], [\"\\n            overflow: auto;\\n            display: flex;\\n            position: relative;\\n            z-index: 0;\\n            min-height: \", \"px;\\n          \"])), parseFloat(height)) },\n                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_layout_entry__WEBPACK_IMPORTED_MODULE_5__[\"default\"], { layouts: layout, isPageItem: true, visible: headerVisible })),\n            isDesignMode && !viewOnly && (Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"span\", { className: \"resize-handler\", css: Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_3 || (templateObject_3 = __makeTemplateObject([\"\\n              bottom: \", \"px;\\n              z-index: 1;\\n            \"], [\"\\n              bottom: \", \"px;\\n              z-index: 1;\\n            \"])), -_page_renderer_common__WEBPACK_IMPORTED_MODULE_6__[\"RESIZE_HANDLER_HEIGHT\"] / 2) })),\n            activePagePart !== jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"PagePart\"].Header && !viewOnly && isDesignMode && (Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { css: Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_4 || (templateObject_4 = __makeTemplateObject([\"\\n              \", \";\\n              background: \", \";\\n              z-index: 1;\\n            \"], [\"\\n              \", \";\\n              background: \", \";\\n              z-index: 1;\\n            \"])), _page_renderer_common__WEBPACK_IMPORTED_MODULE_6__[\"maskStyle\"], activePagePart === jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"PagePart\"].Body ? 'transparent' : jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"polished\"].rgba(builderTheme.colors.palette.light[400], 0.6)), onClick: _page_renderer_common__WEBPACK_IMPORTED_MODULE_6__[\"editBody\"] })),\n            activePagePart === jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"PagePart\"].Body && (!viewOnly || browserSizeMode === mainSizeMode) && isDesignMode && (Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"edit-mask justify-content-center align-items-center\", css: Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_5 || (templateObject_5 = __makeTemplateObject([\"\\n              \", \";\\n              background: \", \";\\n              z-index: 1;\\n              display: none;\\n            \"], [\"\\n              \", \";\\n              background: \", \";\\n              z-index: 1;\\n              display: none;\\n            \"])), _page_renderer_common__WEBPACK_IMPORTED_MODULE_6__[\"maskStyle\"], jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"polished\"].rgba(builderTheme.colors.palette.light[400], 0.6)) },\n                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_4__[\"Button\"], { className: \"edit-btn btn-large border-0\", onClick: _page_renderer_common__WEBPACK_IMPORTED_MODULE_6__[\"editHeader\"] },\n                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_4__[\"Icon\"], { icon: iconEdit, width: 16, height: 16 }),\n                    pageContext.formatMessage('editHeader')))))));\n}\nvar templateObject_1, templateObject_2, templateObject_3, templateObject_4, templateObject_5;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWxheW91dHMvbGliL2J1aWxkZXIvcGFnZS1oZWFkZXIudHN4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vamltdS1sYXlvdXRzL2xpYi9idWlsZGVyL3BhZ2UtaGVhZGVyLnRzeD9iYjUwIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKiBAanN4IGpzeCAqL1xuaW1wb3J0IHtcbiAgUmVhY3QsXG4gIGpzeCxcbiAgY3NzLFxuICBQYWdlUGFydCxcbiAgSU1IZWFkZXJKc29uLFxuICBCcm93c2VyU2l6ZU1vZGUsXG4gIElNVGhlbWVWYXJpYWJsZXMsXG4gIHBvbGlzaGVkLFxuICBJbW11dGFibGVPYmplY3QsXG59IGZyb20gJ2ppbXUtY29yZSc7XG5pbXBvcnQgeyBpbnRlcmFjdCB9IGZyb20gJ2ppbXUtY29yZS9kbmQnO1xuaW1wb3J0IHsgZ2V0QXBwQ29uZmlnQWN0aW9uIH0gZnJvbSAnamltdS1mb3ItYnVpbGRlcic7XG5pbXBvcnQgeyBQYWdlQ29udGV4dCwgUGFnZUNvbnRleHRQcm9wcyB9IGZyb20gJ2ppbXUtbGF5b3V0cy9sYXlvdXQtcnVudGltZSc7XG5pbXBvcnQgeyBCdXR0b24sIEljb24gfSBmcm9tICdqaW11LXVpJztcbmltcG9ydCBMYXlvdXRFbnRyeSBmcm9tICcuL2xheW91dC1lbnRyeSc7XG5pbXBvcnQge1xuICBERUZBVUxUX0hFQURFUl9IRUlHSFQsXG4gIFJFU0laRV9IQU5ETEVSX0hFSUdIVCxcbiAgcmVzaXplSGFuZGxlclN0eWxlLFxuICBtYXNrU3R5bGUsXG4gIGVkaXRCdG5TdHlsZSxcbiAgZWRpdEJvZHksXG4gIGVkaXRIZWFkZXIsXG4gIGdldEhlYWRlckxheW91dElkLFxufSBmcm9tICcuL3BhZ2UtcmVuZGVyZXItY29tbW9uJztcblxuZXhwb3J0IGludGVyZmFjZSBQYWdlSGVhZGVyUHJvcHMge1xuICBoZWFkZXI6IElNSGVhZGVySnNvbjtcbiAgYWN0aXZlUGFnZVBhcnQ6IFBhZ2VQYXJ0O1xuICBoZWFkZXJWaXNpYmxlOiBib29sZWFuO1xuICBpc0Rlc2lnbk1vZGU6IGJvb2xlYW47XG4gIGJyb3dzZXJTaXplTW9kZTogQnJvd3NlclNpemVNb2RlO1xuICBtYWluU2l6ZU1vZGU6IEJyb3dzZXJTaXplTW9kZTtcbiAgcGFnZUNvbnRleHQ6IEltbXV0YWJsZU9iamVjdDxQYWdlQ29udGV4dFByb3BzPjtcbn1cblxuY29uc3QgaWNvbkVkaXQgPSByZXF1aXJlKCdqaW11LXVpL2xpYi9pY29ucy90b29sLWVkaXQuc3ZnJyk7XG5cbmZ1bmN0aW9uIGdldFN0eWxlKFxuICBoZWFkZXI6IElNSGVhZGVySnNvbixcbiAgaGVpZ2h0OiBzdHJpbmcsXG4gIGhlYWRlclZpc2libGU6IGJvb2xlYW4sXG4gIGJ1aWxkZXJUaGVtZTogSU1UaGVtZVZhcmlhYmxlcyxcbiAgdGhlbWU6IElNVGhlbWVWYXJpYWJsZXMsXG4gIGlzRGVzaWduTW9kZTogYm9vbGVhbixcbikge1xuICByZXR1cm4gY3NzYFxuICAgICR7cmVzaXplSGFuZGxlclN0eWxlfTtcbiAgICAke2VkaXRCdG5TdHlsZShidWlsZGVyVGhlbWUpfTtcbiAgICBwb3NpdGlvbjogJHtoZWFkZXIuc3RpY2t5ICYmICFpc0Rlc2lnbk1vZGUgPyAnc3RpY2t5JyA6ICdyZWxhdGl2ZSd9O1xuICAgIHotaW5kZXg6ICR7aGVhZGVyLnN0aWNreSAmJiAhaXNEZXNpZ25Nb2RlID8gMiA6ICdhdXRvJ307XG4gICAgdG9wOiAwO1xuICAgIGRpc3BsYXk6ICR7aGVhZGVyVmlzaWJsZSA/ICdmbGV4JyA6ICdub25lJ307XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgaGVpZ2h0OiBhdXRvO1xuICAgIG1pbi1oZWlnaHQ6ICR7cGFyc2VGbG9hdChoZWlnaHQpfXB4O1xuICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgYmFja2dyb3VuZC1jb2xvcjogJHtoZWFkZXIuYmFja2dyb3VuZENvbG9yIHx8IHRoZW1lLmhlYWRlci5iZyB8fCAndHJhbnNwYXJlbnQnfTtcbiAgICBiYWNrZ3JvdW5kLWltYWdlOiAke2hlYWRlci5iYWNrZ3JvdW5kSU1hZ2UgYXMgYW55fTtcbiAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAke2hlYWRlci5iYWNrZ3JvdW5kUG9zaXRpb259O1xuICAgIGNvbG9yOiAke3RoZW1lLmhlYWRlci5jb2xvcn07XG4gICAgYm9yZGVyLWJvdHRvbTogMXB4IGRhc2hlZCAke3BvbGlzaGVkLnJnYmEoYnVpbGRlclRoZW1lLmNvbG9ycy53aGl0ZSwgMC4xMil9O1xuICAgIGZsZXg6IDAgMCBhdXRvO1xuXG4gICAgJjpob3ZlciB7XG4gICAgICAuZWRpdC1tYXNrIHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgIH1cbiAgICB9XG4gIGA7XG59XG5cbmZ1bmN0aW9uIGJpbmRSZXNpemVIYW5kbGVyKGhlYWRlclJlZjogSFRNTERpdkVsZW1lbnQsIGJyb3dzZXJTaXplTW9kZTogQnJvd3NlclNpemVNb2RlKTogSW50ZXJhY3QuSW50ZXJhY3RhYmxlIHtcbiAgbGV0IGRoO1xuICBsZXQgaW5pdEhlaWdodDtcblxuICByZXR1cm4gaW50ZXJhY3QoaGVhZGVyUmVmKVxuICAgIC5vcmlnaW4oJ3BhcmVudCcpXG4gICAgLnJlc2l6YWJsZSh7XG4gICAgICBpbmVydGlhOiBmYWxzZSxcbiAgICAgIGVkZ2VzOiB7XG4gICAgICAgIGJvdHRvbTogJy5yZXNpemUtaGFuZGxlcicsXG4gICAgICB9LFxuICAgICAgb25zdGFydDogKGV2ZW50OiBJbnRlcmFjdC5JbnRlcmFjdEV2ZW50KSA9PiB7XG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICBkaCA9IDA7XG4gICAgICAgIGluaXRIZWlnaHQgPSBoZWFkZXJSZWYuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0O1xuICAgICAgICBoZWFkZXJSZWYuc3R5bGUubWluSGVpZ2h0ID0gJzBweCc7XG4gICAgICB9LFxuICAgICAgb25tb3ZlOiAoZXZlbnQ6IEludGVyYWN0LlJlc2l6ZUV2ZW50KSA9PiB7XG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICBjb25zdCBkZWx0YVJlY3QgPSBldmVudC5kZWx0YVJlY3Q7XG4gICAgICAgIGRoICs9IGRlbHRhUmVjdC5oZWlnaHQ7XG4gICAgICAgIGhlYWRlclJlZi5zdHlsZS5oZWlnaHQgPSBgJHtpbml0SGVpZ2h0ICsgZGh9cHhgO1xuICAgICAgfSxcbiAgICAgIG9uZW5kOiAoZXZlbnQ6IEludGVyYWN0LlJlc2l6ZUV2ZW50KSA9PiB7XG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICBjb25zdCBhcHBDb25maWdBY3Rpb24gPSBnZXRBcHBDb25maWdBY3Rpb24oKTtcbiAgICAgICAgY29uc3QgaGVhZGVySnNvbiA9IGFwcENvbmZpZ0FjdGlvbi5hcHBDb25maWcuaGVhZGVyO1xuICAgICAgICBoZWFkZXJSZWYuc3R5bGUuaGVpZ2h0ID0gbnVsbDtcbiAgICAgICAgaGVhZGVyUmVmLnN0eWxlLm1pbkhlaWdodCA9IG51bGw7XG4gICAgICAgIGdldEFwcENvbmZpZ0FjdGlvbigpXG4gICAgICAgICAgLmVkaXRIZWFkZXIoaGVhZGVySnNvbi5zZXRJbihbJ2hlaWdodCcsIGJyb3dzZXJTaXplTW9kZV0sIE1hdGgucm91bmQoaW5pdEhlaWdodCArIGRoKSkpXG4gICAgICAgICAgLmV4ZWMoKTtcbiAgICAgIH0sXG4gICAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBQYWdlSGVhZGVyKHByb3BzOiBQYWdlSGVhZGVyUHJvcHMpIHtcbiAgY29uc3QgeyBoZWFkZXIsIGhlYWRlclZpc2libGUsIGJyb3dzZXJTaXplTW9kZSwgbWFpblNpemVNb2RlLCBpc0Rlc2lnbk1vZGUsIGFjdGl2ZVBhZ2VQYXJ0LCBwYWdlQ29udGV4dCB9ID0gcHJvcHM7XG4gIGNvbnN0IGhlYWRlclJlZiA9IFJlYWN0LnVzZVJlZjxIVE1MRGl2RWxlbWVudD4obnVsbCk7XG4gIGNvbnN0IGhlaWdodCA9IGhlYWRlci5oZWlnaHRbYnJvd3NlclNpemVNb2RlXSB8fCBoZWFkZXIuaGVpZ2h0W21haW5TaXplTW9kZV0gfHwgREVGQVVMVF9IRUFERVJfSEVJR0hUO1xuICBjb25zdCBsYXlvdXQgPSBoZWFkZXIubGF5b3V0O1xuICBjb25zdCB2aWV3T25seSA9ICFsYXlvdXRbYnJvd3NlclNpemVNb2RlXTtcbiAgY29uc3QgYnVpbGRlclRoZW1lID0gcGFnZUNvbnRleHQuYnVpbGRlclRoZW1lO1xuXG4gIC8qIGVzbGludC1kaXNhYmxlIHJlYWN0LWhvb2tzL2V4aGF1c3RpdmUtZGVwcyovXG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgbGV0IGludGVyYWN0YmxlO1xuICAgIGlmIChoZWFkZXJSZWYuY3VycmVudCkge1xuICAgICAgaW50ZXJhY3RibGUgPSBiaW5kUmVzaXplSGFuZGxlcihoZWFkZXJSZWYuY3VycmVudCwgYnJvd3NlclNpemVNb2RlKTtcbiAgICB9XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGlmIChpbnRlcmFjdGJsZSkge1xuICAgICAgICBpbnRlcmFjdGJsZS51bnNldCgpO1xuICAgICAgfVxuICAgIH1cbiAgfSwgW10pO1xuXG4gIGNvbnN0IGhlYWRlckxheW91dElkID0gZ2V0SGVhZGVyTGF5b3V0SWQoKTtcblxuICBjb25zdCBwYWdlQ29udGV4dFZhbHVlID0gUmVhY3QudXNlTWVtbygoKSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnBhZ2VDb250ZXh0IGFzIGFueSxcbiAgICAgIGlzSGVhZGVyOiB0cnVlLFxuICAgICAgcm9vdExheW91dElkOiBoZWFkZXJMYXlvdXRJZCxcbiAgICAgIHZpZXdPbmx5OiB2aWV3T25seSB8fCBhY3RpdmVQYWdlUGFydCAhPT0gUGFnZVBhcnQuSGVhZGVyLFxuICAgIH1cbiAgfSwgW3BhZ2VDb250ZXh0LCBoZWFkZXJMYXlvdXRJZCwgdmlld09ubHksIGFjdGl2ZVBhZ2VQYXJ0XSk7XG5cbiAgcmV0dXJuIChcbiAgICA8UGFnZUNvbnRleHQuUHJvdmlkZXIgdmFsdWU9e3BhZ2VDb250ZXh0VmFsdWV9PlxuICAgICAgPGRpdlxuICAgICAgICBjbGFzc05hbWU9XCJoZWFkZXJcIlxuICAgICAgICBjc3M9e2dldFN0eWxlKGhlYWRlciwgaGVpZ2h0IGFzIHN0cmluZywgaGVhZGVyVmlzaWJsZSwgcGFnZUNvbnRleHQuYnVpbGRlclRoZW1lLCBwYWdlQ29udGV4dC50aGVtZSwgaXNEZXNpZ25Nb2RlKX1cbiAgICAgICAgcmVmPXtlbCA9PiAoaGVhZGVyUmVmLmN1cnJlbnQgPSBlbCl9XG4gICAgICA+XG4gICAgICAgIDxkaXZcbiAgICAgICAgICBjbGFzc05hbWU9XCJ3LTEwMCBoLTEwMFwiXG4gICAgICAgICAgY3NzPXtjc3NgXG4gICAgICAgICAgICBvdmVyZmxvdzogYXV0bztcbiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICAgICAgICB6LWluZGV4OiAwO1xuICAgICAgICAgICAgbWluLWhlaWdodDogJHtwYXJzZUZsb2F0KGhlaWdodCBhcyBzdHJpbmcpfXB4O1xuICAgICAgICAgIGB9XG4gICAgICAgID5cbiAgICAgICAgICA8TGF5b3V0RW50cnkgbGF5b3V0cz17bGF5b3V0fSBpc1BhZ2VJdGVtPXt0cnVlfSB2aXNpYmxlPXtoZWFkZXJWaXNpYmxlfSAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAge2lzRGVzaWduTW9kZSAmJiAhdmlld09ubHkgJiYgKFxuICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJyZXNpemUtaGFuZGxlclwiXG4gICAgICAgICAgICBjc3M9e2Nzc2BcbiAgICAgICAgICAgICAgYm90dG9tOiAkey1SRVNJWkVfSEFORExFUl9IRUlHSFQgLyAyfXB4O1xuICAgICAgICAgICAgICB6LWluZGV4OiAxO1xuICAgICAgICAgICAgYH1cbiAgICAgICAgICA+PC9zcGFuPlxuICAgICAgICApfVxuICAgICAgICB7YWN0aXZlUGFnZVBhcnQgIT09IFBhZ2VQYXJ0LkhlYWRlciAmJiAhdmlld09ubHkgJiYgaXNEZXNpZ25Nb2RlICYmIChcbiAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICBjc3M9e2Nzc2BcbiAgICAgICAgICAgICAgJHttYXNrU3R5bGV9O1xuICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAke2FjdGl2ZVBhZ2VQYXJ0ID09PSBQYWdlUGFydC5Cb2R5ID8gJ3RyYW5zcGFyZW50JyA6IHBvbGlzaGVkLnJnYmEoYnVpbGRlclRoZW1lLmNvbG9ycy5wYWxldHRlLmxpZ2h0WzQwMF0sIDAuNil9O1xuICAgICAgICAgICAgICB6LWluZGV4OiAxO1xuICAgICAgICAgICAgYH1cbiAgICAgICAgICAgIG9uQ2xpY2s9e2VkaXRCb2R5fVxuICAgICAgICAgID48L2Rpdj5cbiAgICAgICAgKX1cbiAgICAgICAge2FjdGl2ZVBhZ2VQYXJ0ID09PSBQYWdlUGFydC5Cb2R5ICYmICghdmlld09ubHkgfHwgYnJvd3NlclNpemVNb2RlID09PSBtYWluU2l6ZU1vZGUpICYmIGlzRGVzaWduTW9kZSAmJiAoXG4gICAgICAgICAgPGRpdlxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiZWRpdC1tYXNrIGp1c3RpZnktY29udGVudC1jZW50ZXIgYWxpZ24taXRlbXMtY2VudGVyXCJcbiAgICAgICAgICAgIGNzcz17Y3NzYFxuICAgICAgICAgICAgICAke21hc2tTdHlsZX07XG4gICAgICAgICAgICAgIGJhY2tncm91bmQ6ICR7cG9saXNoZWQucmdiYShidWlsZGVyVGhlbWUuY29sb3JzLnBhbGV0dGUubGlnaHRbNDAwXSwgMC42KX07XG4gICAgICAgICAgICAgIHotaW5kZXg6IDE7XG4gICAgICAgICAgICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgICAgICAgICBgfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxCdXR0b24gY2xhc3NOYW1lPVwiZWRpdC1idG4gYnRuLWxhcmdlIGJvcmRlci0wXCIgb25DbGljaz17ZWRpdEhlYWRlcn0+XG4gICAgICAgICAgICAgIDxJY29uIGljb249e2ljb25FZGl0fSB3aWR0aD17MTZ9IGhlaWdodD17MTZ9PjwvSWNvbj5cbiAgICAgICAgICAgICAge3BhZ2VDb250ZXh0LmZvcm1hdE1lc3NhZ2UoJ2VkaXRIZWFkZXInKX1cbiAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuICAgICAgPC9kaXY+XG4gICAgPC9QYWdlQ29udGV4dC5Qcm92aWRlcj5cbiAgKTtcbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBV0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBcUJBO0FBRUE7QUFRQTtBQXdCQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFNQTtBQUVBO0FBRUE7QUFLQTtBQVVBO0FBRUE7QUFTQTtBQVVBO0FBVUE7QUFDQTtBQUNBO0FBT0E7OyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./jimu-layouts/lib/builder/page-header.tsx\n");

/***/ }),

/***/ "./jimu-layouts/lib/builder/page-renderer-common.ts":
/*!**********************************************************!*\
  !*** ./jimu-layouts/lib/builder/page-renderer-common.ts ***!
  \**********************************************************/
/*! exports provided: RESIZE_HANDLER_HEIGHT, DEFAULT_HEADER_HEIGHT, resizeHandlerStyle, maskStyle, editBtnStyle, editHeader, editFooter, editBody, getHeaderLayoutId, getFooterLayoutId, getPageLayoutId, getDialogLayoutId, getVisiblePageId */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"RESIZE_HANDLER_HEIGHT\", function() { return RESIZE_HANDLER_HEIGHT; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DEFAULT_HEADER_HEIGHT\", function() { return DEFAULT_HEADER_HEIGHT; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"resizeHandlerStyle\", function() { return resizeHandlerStyle; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"maskStyle\", function() { return maskStyle; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"editBtnStyle\", function() { return editBtnStyle; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"editHeader\", function() { return editHeader; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"editFooter\", function() { return editFooter; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"editBody\", function() { return editBody; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getHeaderLayoutId\", function() { return getHeaderLayoutId; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getFooterLayoutId\", function() { return getFooterLayoutId; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getPageLayoutId\", function() { return getPageLayoutId; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getDialogLayoutId\", function() { return getDialogLayoutId; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getVisiblePageId\", function() { return getVisiblePageId; });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jimu_core__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-layouts/layout-runtime */ \"jimu-layouts/layout-runtime\");\n/* harmony import */ var jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__);\nvar __makeTemplateObject = (undefined && undefined.__makeTemplateObject) || function (cooked, raw) {\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n    return cooked;\n};\n\n\nvar RESIZE_HANDLER_HEIGHT = 16;\nvar DEFAULT_HEADER_HEIGHT = 75;\nvar resizeHandlerStyle = Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n  .resize-handler {\\n    height: \", \"px;\\n    width: 100%;\\n    cursor: ns-resize;\\n    position: absolute;\\n  }\\n\"], [\"\\n  .resize-handler {\\n    height: \", \"px;\\n    width: 100%;\\n    cursor: ns-resize;\\n    position: absolute;\\n  }\\n\"])), RESIZE_HANDLER_HEIGHT);\nvar maskStyle = Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_2 || (templateObject_2 = __makeTemplateObject([\"\\n  position: absolute;\\n  right: 0;\\n  top: 0;\\n  left: 0;\\n  bottom: 0;\\n\"], [\"\\n  position: absolute;\\n  right: 0;\\n  top: 0;\\n  left: 0;\\n  bottom: 0;\\n\"])));\nfunction editBtnStyle(theme) {\n    return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_3 || (templateObject_3 = __makeTemplateObject([\"\\n    .edit-btn {\\n      background: \", \";\\n      color: \", \";\\n      border-radius: 2px;\\n      &:hover {\\n        background: \", \";\\n        color: \", \";\\n      }\\n    }\\n  \"], [\"\\n    .edit-btn {\\n      background: \", \";\\n      color: \", \";\\n      border-radius: 2px;\\n      &:hover {\\n        background: \", \";\\n        color: \", \";\\n      }\\n    }\\n  \"])), theme.colors.primary, theme.colors.palette.dark[800], theme.colors.palette.primary[600], theme.colors.black);\n}\nfunction editHeader() {\n    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"getAppStore\"])().dispatch(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"appActions\"].activePagePartChanged(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"PagePart\"].Header));\n}\nfunction editFooter() {\n    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"getAppStore\"])().dispatch(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"appActions\"].activePagePartChanged(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"PagePart\"].Footer));\n}\nfunction editBody() {\n    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"getAppStore\"])().dispatch(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"appActions\"].activePagePartChanged(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"PagePart\"].Body));\n}\nfunction getHeaderLayoutId() {\n    var state = Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"getAppStore\"])().getState();\n    var sizeModeLayout = state.appConfig.header.layout;\n    return jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__[\"searchUtils\"].findLayoutId(sizeModeLayout, state.browserSizeMode, state.appConfig.mainSizeMode);\n}\nfunction getFooterLayoutId() {\n    var state = Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"getAppStore\"])().getState();\n    var sizeModeLayout = state.appConfig.footer.layout;\n    return jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__[\"searchUtils\"].findLayoutId(sizeModeLayout, state.browserSizeMode, state.appConfig.mainSizeMode);\n}\nfunction getPageLayoutId(pageId) {\n    var _a;\n    var state = Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"getAppStore\"])().getState();\n    var sizeModeLayout = (_a = state.appConfig.pages[pageId]) === null || _a === void 0 ? void 0 : _a.layout;\n    if (sizeModeLayout) {\n        return jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__[\"searchUtils\"].findLayoutId(sizeModeLayout, state.browserSizeMode, state.appConfig.mainSizeMode);\n    }\n    return null;\n}\nfunction getDialogLayoutId(dialogId) {\n    var state = Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"getAppStore\"])().getState();\n    var sizeModeLayout = state.appConfig.dialogs[dialogId].layout;\n    return jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__[\"searchUtils\"].findLayoutId(sizeModeLayout, state.browserSizeMode, state.appConfig.mainSizeMode);\n}\nfunction getVisiblePageId(pageStatus) {\n    return Object.keys(pageStatus).find(function (pid) { return pageStatus[pid] === true; });\n}\nvar templateObject_1, templateObject_2, templateObject_3;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWxheW91dHMvbGliL2J1aWxkZXIvcGFnZS1yZW5kZXJlci1jb21tb24udHMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qaW11LWxheW91dHMvbGliL2J1aWxkZXIvcGFnZS1yZW5kZXJlci1jb21tb24udHM/ZjU0ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge2dldEFwcFN0b3JlLCBjc3MsIGFwcEFjdGlvbnMsIFBhZ2VQYXJ0LCBJTVRoZW1lVmFyaWFibGVzLCBJbW11dGFibGVPYmplY3R9IGZyb20gJ2ppbXUtY29yZSc7XG5pbXBvcnQgeyBzZWFyY2hVdGlscyB9IGZyb20gJ2ppbXUtbGF5b3V0cy9sYXlvdXQtcnVudGltZSc7XG5cbmV4cG9ydCBjb25zdCBSRVNJWkVfSEFORExFUl9IRUlHSFQgPSAxNjtcbmV4cG9ydCBjb25zdCBERUZBVUxUX0hFQURFUl9IRUlHSFQgPSA3NTtcblxuZXhwb3J0IGNvbnN0IHJlc2l6ZUhhbmRsZXJTdHlsZSA9IGNzc2BcbiAgLnJlc2l6ZS1oYW5kbGVyIHtcbiAgICBoZWlnaHQ6ICR7UkVTSVpFX0hBTkRMRVJfSEVJR0hUfXB4O1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIGN1cnNvcjogbnMtcmVzaXplO1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgfVxuYDtcblxuZXhwb3J0IGNvbnN0IG1hc2tTdHlsZSA9IGNzc2BcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICByaWdodDogMDtcbiAgdG9wOiAwO1xuICBsZWZ0OiAwO1xuICBib3R0b206IDA7XG5gO1xuXG5leHBvcnQgZnVuY3Rpb24gZWRpdEJ0blN0eWxlKHRoZW1lOiBJTVRoZW1lVmFyaWFibGVzKSB7XG4gIHJldHVybiBjc3NgXG4gICAgLmVkaXQtYnRuIHtcbiAgICAgIGJhY2tncm91bmQ6ICR7dGhlbWUuY29sb3JzLnByaW1hcnl9O1xuICAgICAgY29sb3I6ICR7dGhlbWUuY29sb3JzLnBhbGV0dGUuZGFya1s4MDBdfTtcbiAgICAgIGJvcmRlci1yYWRpdXM6IDJweDtcbiAgICAgICY6aG92ZXIge1xuICAgICAgICBiYWNrZ3JvdW5kOiAke3RoZW1lLmNvbG9ycy5wYWxldHRlLnByaW1hcnlbNjAwXX07XG4gICAgICAgIGNvbG9yOiAke3RoZW1lLmNvbG9ycy5ibGFja307XG4gICAgICB9XG4gICAgfVxuICBgO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZWRpdEhlYWRlcigpIHtcbiAgZ2V0QXBwU3RvcmUoKS5kaXNwYXRjaChhcHBBY3Rpb25zLmFjdGl2ZVBhZ2VQYXJ0Q2hhbmdlZChQYWdlUGFydC5IZWFkZXIpKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGVkaXRGb290ZXIoKSB7XG4gIGdldEFwcFN0b3JlKCkuZGlzcGF0Y2goYXBwQWN0aW9ucy5hY3RpdmVQYWdlUGFydENoYW5nZWQoUGFnZVBhcnQuRm9vdGVyKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlZGl0Qm9keSgpIHtcbiAgZ2V0QXBwU3RvcmUoKS5kaXNwYXRjaChhcHBBY3Rpb25zLmFjdGl2ZVBhZ2VQYXJ0Q2hhbmdlZChQYWdlUGFydC5Cb2R5KSk7XG59XG5cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEhlYWRlckxheW91dElkKCkge1xuICBjb25zdCBzdGF0ZSA9IGdldEFwcFN0b3JlKCkuZ2V0U3RhdGUoKTtcbiAgY29uc3Qgc2l6ZU1vZGVMYXlvdXQgPSBzdGF0ZS5hcHBDb25maWcuaGVhZGVyLmxheW91dDtcbiAgcmV0dXJuIHNlYXJjaFV0aWxzLmZpbmRMYXlvdXRJZChzaXplTW9kZUxheW91dCwgc3RhdGUuYnJvd3NlclNpemVNb2RlLCBzdGF0ZS5hcHBDb25maWcubWFpblNpemVNb2RlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEZvb3RlckxheW91dElkKCkge1xuICBjb25zdCBzdGF0ZSA9IGdldEFwcFN0b3JlKCkuZ2V0U3RhdGUoKTtcbiAgY29uc3Qgc2l6ZU1vZGVMYXlvdXQgPSBzdGF0ZS5hcHBDb25maWcuZm9vdGVyLmxheW91dDtcbiAgcmV0dXJuIHNlYXJjaFV0aWxzLmZpbmRMYXlvdXRJZChzaXplTW9kZUxheW91dCwgc3RhdGUuYnJvd3NlclNpemVNb2RlLCBzdGF0ZS5hcHBDb25maWcubWFpblNpemVNb2RlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFBhZ2VMYXlvdXRJZChwYWdlSWQ6IHN0cmluZykge1xuICBjb25zdCBzdGF0ZSA9IGdldEFwcFN0b3JlKCkuZ2V0U3RhdGUoKTtcbiAgY29uc3Qgc2l6ZU1vZGVMYXlvdXQgPSBzdGF0ZS5hcHBDb25maWcucGFnZXNbcGFnZUlkXT8ubGF5b3V0O1xuICBpZiAoc2l6ZU1vZGVMYXlvdXQpIHtcbiAgICByZXR1cm4gc2VhcmNoVXRpbHMuZmluZExheW91dElkKHNpemVNb2RlTGF5b3V0LCBzdGF0ZS5icm93c2VyU2l6ZU1vZGUsIHN0YXRlLmFwcENvbmZpZy5tYWluU2l6ZU1vZGUpO1xuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0RGlhbG9nTGF5b3V0SWQoZGlhbG9nSWQ6IHN0cmluZykge1xuICBjb25zdCBzdGF0ZSA9IGdldEFwcFN0b3JlKCkuZ2V0U3RhdGUoKTtcbiAgY29uc3Qgc2l6ZU1vZGVMYXlvdXQgPSBzdGF0ZS5hcHBDb25maWcuZGlhbG9nc1tkaWFsb2dJZF0ubGF5b3V0O1xuICByZXR1cm4gc2VhcmNoVXRpbHMuZmluZExheW91dElkKHNpemVNb2RlTGF5b3V0LCBzdGF0ZS5icm93c2VyU2l6ZU1vZGUsIHN0YXRlLmFwcENvbmZpZy5tYWluU2l6ZU1vZGUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0VmlzaWJsZVBhZ2VJZChwYWdlU3RhdHVzOiBJbW11dGFibGVPYmplY3Q8eyBbcGFnZUlkOiBzdHJpbmddOiBib29sZWFuIH0+KTogc3RyaW5nIHtcbiAgcmV0dXJuIE9iamVjdC5rZXlzKHBhZ2VTdGF0dXMpLmZpbmQocGlkID0+IHBhZ2VTdGF0dXNbcGlkXSA9PT0gdHJ1ZSk7XG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQVNBO0FBUUE7QUFDQTtBQVdBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7OyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./jimu-layouts/lib/builder/page-renderer-common.ts\n");

/***/ }),

/***/ "./jimu-layouts/lib/builder/page-renderer.tsx":
/*!****************************************************!*\
  !*** ./jimu-layouts/lib/builder/page-renderer.tsx ***!
  \****************************************************/
/*! exports provided: PageRenderer, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PageRenderer\", function() { return PageRenderer; });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jimu_core__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _fixed_layout_builder_layout__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../fixed-layout/builder/layout */ \"./jimu-layouts/lib/fixed-layout/builder/layout.tsx\");\n/* harmony import */ var _flow_layout_layout_transform__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../flow-layout/layout-transform */ \"./jimu-layouts/lib/flow-layout/layout-transform.ts\");\n/* harmony import */ var _flow_layout_builder_layout__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../flow-layout/builder/layout */ \"./jimu-layouts/lib/flow-layout/builder/layout.tsx\");\n/* harmony import */ var _grid_layout_builder_layout__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../grid-layout/builder/layout */ \"./jimu-layouts/lib/grid-layout/builder/layout.tsx\");\n/* harmony import */ var _column_layout_builder_layout__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../column-layout/builder/layout */ \"./jimu-layouts/lib/column-layout/builder/layout.tsx\");\n/* harmony import */ var jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! jimu-layouts/layout-runtime */ \"jimu-layouts/layout-runtime\");\n/* harmony import */ var jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _interactive_resize_event_handler__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./interactive/resize-event-handler */ \"./jimu-layouts/lib/builder/interactive/resize-event-handler.ts\");\n/* harmony import */ var _translations_default__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../translations/default */ \"./jimu-layouts/lib/translations/default.ts\");\n/* harmony import */ var _common_layout_actions__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./common-layout-actions */ \"./jimu-layouts/lib/builder/common-layout-actions.ts\");\n/* harmony import */ var _page_header__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./page-header */ \"./jimu-layouts/lib/builder/page-header.tsx\");\n/* harmony import */ var _page_footer__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./page-footer */ \"./jimu-layouts/lib/builder/page-footer.tsx\");\n/* harmony import */ var _page_body__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./page-body */ \"./jimu-layouts/lib/builder/page-body.tsx\");\n/* harmony import */ var _page_renderer_common__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./page-renderer-common */ \"./jimu-layouts/lib/builder/page-renderer-common.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __makeTemplateObject = (undefined && undefined.__makeTemplateObject) || function (cooked, raw) {\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n    return cooked;\n};\nvar __assign = (undefined && undefined.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\n/** @jsx jsx */\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nObject(jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_6__[\"registerLayoutBuilder\"])(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"LayoutType\"].FixedLayout, _fixed_layout_builder_layout__WEBPACK_IMPORTED_MODULE_1__[\"default\"]);\nObject(jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_6__[\"registerLayoutBuilder\"])(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"LayoutType\"].FlowLayout, _flow_layout_builder_layout__WEBPACK_IMPORTED_MODULE_3__[\"default\"]);\nObject(jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_6__[\"registerLayoutBuilder\"])(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"LayoutType\"].GridLayout, _grid_layout_builder_layout__WEBPACK_IMPORTED_MODULE_4__[\"default\"]);\nObject(jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_6__[\"registerLayoutBuilder\"])(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"LayoutType\"].ColumnLayout, _column_layout_builder_layout__WEBPACK_IMPORTED_MODULE_5__[\"default\"]);\nvar PageRenderer = /** @class */ (function (_super) {\n    __extends(PageRenderer, _super);\n    function PageRenderer(props) {\n        var _this = _super.call(this, props) || this;\n        _this.startPaste = function () {\n            var _a;\n            var clipboardItem = (_a = Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"getAppStore\"])().getState().appRuntimeInfo) === null || _a === void 0 ? void 0 : _a.clipboard;\n            var _b = _this.props, activePagePart = _b.activePagePart, pageStatus = _b.pageStatus, currentDialogId = _b.currentDialogId, dialogs = _b.dialogs;\n            if (clipboardItem) {\n                var targetLayoutId = void 0;\n                if (currentDialogId && dialogs[currentDialogId]) {\n                    targetLayoutId = Object(_page_renderer_common__WEBPACK_IMPORTED_MODULE_13__[\"getDialogLayoutId\"])(currentDialogId);\n                }\n                else if (activePagePart === jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"PagePart\"].Header) {\n                    targetLayoutId = Object(_page_renderer_common__WEBPACK_IMPORTED_MODULE_13__[\"getHeaderLayoutId\"])();\n                }\n                else if (activePagePart === jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"PagePart\"].Footer) {\n                    targetLayoutId = Object(_page_renderer_common__WEBPACK_IMPORTED_MODULE_13__[\"getFooterLayoutId\"])();\n                }\n                else {\n                    var vivisiblePageId = Object(_page_renderer_common__WEBPACK_IMPORTED_MODULE_13__[\"getVisiblePageId\"])(pageStatus);\n                    targetLayoutId = Object(_page_renderer_common__WEBPACK_IMPORTED_MODULE_13__[\"getPageLayoutId\"])(vivisiblePageId);\n                }\n                Object(_common_layout_actions__WEBPACK_IMPORTED_MODULE_9__[\"pasteLayoutItem\"])(clipboardItem, targetLayoutId);\n            }\n        };\n        _this.isMac = function () {\n            return /macintosh|mac os x/i.test(navigator.userAgent);\n        };\n        _this.clearSelection = function (e) {\n            e.stopPropagation();\n            if (_this.props.isDesignMode && !Object(_interactive_resize_event_handler__WEBPACK_IMPORTED_MODULE_7__[\"isResizing\"])()) {\n                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"getAppStore\"])().dispatch(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"appActions\"].selectionChanged(null));\n            }\n        };\n        _this.formatMessage = function (id) {\n            if (_this.props.intl) {\n                return _this.props.intl.formatMessage({\n                    id: id,\n                    defaultMessage: _translations_default__WEBPACK_IMPORTED_MODULE_8__[\"default\"][id]\n                });\n            }\n            return _translations_default__WEBPACK_IMPORTED_MODULE_8__[\"default\"][id];\n        };\n        jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"ExtensionManager\"].getInstance().registerExtension({\n            epName: jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"extensionSpec\"].ExtensionPoints.LayoutTransformer,\n            extension: new _flow_layout_layout_transform__WEBPACK_IMPORTED_MODULE_2__[\"FlowLayoutTransformer\"](),\n        });\n        if (_this.isMac()) {\n            _this.keyBindings = {\n                'command+keyv': _this.startPaste,\n            };\n        }\n        else {\n            _this.keyBindings = {\n                'ctrl+keyv': _this.startPaste,\n            };\n        }\n        _this.updatePageContext();\n        return _this;\n    }\n    PageRenderer.prototype.componentDidUpdate = function () {\n        var _a;\n        var documentElement = (_a = window.document) === null || _a === void 0 ? void 0 : _a.documentElement;\n        if (documentElement) {\n            if (window.jimuConfig.isInBuilder && this.props.isDesignMode) {\n                documentElement.classList.add('is-in-builder');\n            }\n            else {\n                documentElement.classList.remove('is-in-builder');\n            }\n        }\n    };\n    PageRenderer.prototype.getPageStyle = function () {\n        var _a = this.props, pageStatus = _a.pageStatus, pages = _a.pages, minHeight = _a.minHeight;\n        var visiblePageId = Object.keys(pageStatus).find(function (pid) { return pageStatus[pid]; });\n        var pageJson = pages[visiblePageId];\n        return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n      position: relative;\\n      margin: 0 auto;\\n      overflow: \", \";\\n      height: \", \";\\n      min-height: \", \"px;\\n      .page {\\n        height: auto;\\n      }\\n    \"], [\"\\n      position: relative;\\n      margin: 0 auto;\\n      overflow: \", \";\\n      height: \", \";\\n      min-height: \", \"px;\\n      .page {\\n        height: auto;\\n      }\\n    \"])), this.pageContext.isDesignMode ? 'hidden' : 'auto', !this.pageContext.isDesignMode || pageJson.mode === jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"PageMode\"].FitWindow ? '100%' : 'auto', minHeight);\n    };\n    PageRenderer.prototype.updatePageContext = function () {\n        var _a = this.props, isDesignMode = _a.isDesignMode, theme = _a.theme, mainSizeMode = _a.mainSizeMode, browserSizeMode = _a.browserSizeMode, lockLayout = _a.lockLayout;\n        var pageContext = {\n            isDesignMode: isDesignMode,\n            theme: theme,\n            mainSizeMode: mainSizeMode,\n            browserSizeMode: browserSizeMode,\n            lockLayout: lockLayout,\n            builderTheme: jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_6__[\"utils\"].getBuilderThemeVariables(),\n            formatMessage: this.formatMessage,\n        };\n        if (!this.pageContext) {\n            this.pageContext = Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"Immutable\"])(pageContext);\n        }\n        else {\n            for (var prop in pageContext) {\n                if (this.pageContext[prop] !== pageContext[prop]) {\n                    this.pageContext = this.pageContext.set(prop, pageContext[prop]);\n                }\n            }\n        }\n    };\n    PageRenderer.prototype.render = function () {\n        var _this = this;\n        var pageStatus = this.props.pageStatus;\n        this.updatePageContext();\n        return (Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"page-renderer d-flex flex-column align-items-center w-100\", ref: function (el) { return (_this.pageRef = el); }, css: this.getPageStyle(), onClick: this.clearSelection },\n            this.renderDialog(),\n            this.renderHeader(),\n            Object.keys(pageStatus).map(function (pId) { return _this.renderPageBody(pId); }),\n            this.renderFooter(),\n            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"Keyboard\"], { bindings: this.keyBindings })));\n    };\n    PageRenderer.prototype.renderHeader = function () {\n        if (!this.props.header) {\n            return null;\n        }\n        var _a = this.props, header = _a.header, headerVisible = _a.headerVisible, browserSizeMode = _a.browserSizeMode, mainSizeMode = _a.mainSizeMode, isDesignMode = _a.isDesignMode, activePagePart = _a.activePagePart;\n        return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_page_header__WEBPACK_IMPORTED_MODULE_10__[\"PageHeader\"], { header: header, activePagePart: activePagePart, headerVisible: headerVisible, isDesignMode: isDesignMode, browserSizeMode: browserSizeMode, mainSizeMode: mainSizeMode, pageContext: this.pageContext });\n    };\n    PageRenderer.prototype.renderFooter = function () {\n        if (!this.props.footer) {\n            return null;\n        }\n        var _a = this.props, footer = _a.footer, footerVisible = _a.footerVisible, browserSizeMode = _a.browserSizeMode, mainSizeMode = _a.mainSizeMode, isDesignMode = _a.isDesignMode, activePagePart = _a.activePagePart;\n        return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_page_footer__WEBPACK_IMPORTED_MODULE_11__[\"PageFooter\"], { footer: footer, activePagePart: activePagePart, footerVisible: footerVisible, isDesignMode: isDesignMode, browserSizeMode: browserSizeMode, mainSizeMode: mainSizeMode, pageContext: this.pageContext });\n    };\n    PageRenderer.prototype.renderPageBody = function (renderedPageId) {\n        var _a = this.props, pages = _a.pages, pageStatus = _a.pageStatus, browserSizeMode = _a.browserSizeMode, isDesignMode = _a.isDesignMode, activePagePart = _a.activePagePart;\n        var pageJson = pages[renderedPageId];\n        if (!pageJson) {\n            // page is removed\n            return;\n        }\n        return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_page_body__WEBPACK_IMPORTED_MODULE_12__[\"PageBody\"], { key: pageJson.id, pageJson: pageJson, renderedPageId: renderedPageId, activePagePart: activePagePart, isDesignMode: isDesignMode, browserSizeMode: browserSizeMode, pageContext: this.pageContext, visible: !!pageStatus[pageJson.id] });\n    };\n    PageRenderer.prototype.renderDialog = function () {\n        var _a = this.props, dialogs = _a.dialogs, dialogId = _a.dialogId, pageStatus = _a.pageStatus, pages = _a.pages;\n        var urlDialogJson = dialogs[dialogId];\n        var splashDialogJson = dialogs[Object.keys(dialogs).find(function (dlgId) { return dialogs[dlgId].isSplash; })];\n        var pageDialogId = '';\n        Object.keys(pageStatus).some(function (pId) {\n            if (pageStatus[pId] === true) {\n                pageDialogId = pages[pId].autoOpenDialogId;\n                return true;\n            }\n        });\n        var pageDialogJson = dialogs[Object.keys(dialogs).find(function (dlgId) { return dialogs[dlgId].id === pageDialogId; })];\n        return (Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].Fragment, null,\n            urlDialogJson && Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_6__[\"PageContext\"].Provider, { value: __assign(__assign({}, this.pageContext), { dialogId: dialogId, isDialog: true, viewOnly: false, rootLayoutId: Object(_page_renderer_common__WEBPACK_IMPORTED_MODULE_13__[\"getDialogLayoutId\"])(dialogId) }) },\n                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"AppDialog\"], { dialogJson: urlDialogJson })),\n            pageDialogJson && (urlDialogJson === null || urlDialogJson === void 0 ? void 0 : urlDialogJson.id) !== pageDialogJson.id && Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_6__[\"PageContext\"].Provider, { value: __assign(__assign({}, this.pageContext), { dialogId: pageDialogId, viewOnly: false }) },\n                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"AppDialog\"], { dialogJson: pageDialogJson, isOpenByPage: true })),\n            splashDialogJson && (urlDialogJson === null || urlDialogJson === void 0 ? void 0 : urlDialogJson.id) !== splashDialogJson.id && Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_6__[\"PageContext\"].Provider, { value: __assign(__assign({}, this.pageContext), { dialogId: splashDialogJson.id, viewOnly: false }) },\n                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"AppDialog\"], { dialogJson: splashDialogJson }))));\n    };\n    PageRenderer.displayName = 'BuilderPageRenderer';\n    return PageRenderer;\n}(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].PureComponent));\n\nvar mapStateToProps = function (state, ownProps) {\n    var _a, _b, _c;\n    // const selection: Selection = state.appRuntimeInfo.selection || ({} as Selection);\n    var viewportSize = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"utils\"].findViewportSize(state.appConfig, state.browserSizeMode);\n    var pageId = Object(_page_renderer_common__WEBPACK_IMPORTED_MODULE_13__[\"getVisiblePageId\"])(ownProps.pageStatus);\n    return {\n        pages: state.appConfig.pages,\n        header: state.appConfig.header,\n        headerVisible: !!state.appConfig.pages[pageId].header,\n        footer: state.appConfig.footer,\n        footerVisible: !!state.appConfig.pages[pageId].footer,\n        isDesignMode: state.appRuntimeInfo.appMode === jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"AppMode\"].Design,\n        mainSizeMode: state.appConfig.mainSizeMode,\n        browserSizeMode: state.browserSizeMode,\n        // locale: state.appContext.locale,\n        // layoutIdWithSelection: selection.layoutId,\n        theme: state.theme,\n        lockLayout: (_b = (_a = state.appConfig.forBuilderAttributes) === null || _a === void 0 ? void 0 : _a.lockLayout) !== null && _b !== void 0 ? _b : false,\n        minHeight: viewportSize.height,\n        activePagePart: (_c = state.appRuntimeInfo.activePagePart) !== null && _c !== void 0 ? _c : jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"PagePart\"].Body,\n        clipboardItem: state.appRuntimeInfo.clipboard,\n        dialogs: state.appConfig.dialogs,\n        currentDialogId: state.appRuntimeInfo.currentDialogId,\n    };\n};\n// connect<IMapStateToProps, IMapDispatchToProps, ICompProps, IReduxState>(mapStateToProps, mapDispatchToProps)\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"injectIntl\"])(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"ReactRedux\"].connect(mapStateToProps)(PageRenderer)));\nvar templateObject_1;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWxheW91dHMvbGliL2J1aWxkZXIvcGFnZS1yZW5kZXJlci50c3guanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qaW11LWxheW91dHMvbGliL2J1aWxkZXIvcGFnZS1yZW5kZXJlci50c3g/ZjhkMSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiogQGpzeCBqc3ggKi9cbmltcG9ydCB7XG4gIFJlYWN0LFxuICBqc3gsXG4gIGNzcyxcbiAgUGFnZUpzb24sXG4gIEV4dGVuc2lvbk1hbmFnZXIsXG4gIElNU3RhdGUsXG4gIFJlYWN0UmVkdXgsXG4gIGV4dGVuc2lvblNwZWMsXG4gIEFwcE1vZGUsXG4gIEltbXV0YWJsZU9iamVjdCxcbiAgSW1tdXRhYmxlLFxuICBCcm93c2VyU2l6ZU1vZGUsXG4gIExheW91dFR5cGUsXG4gIGdldEFwcFN0b3JlLFxuICBhcHBBY3Rpb25zLFxuICBJTVRoZW1lVmFyaWFibGVzLFxuICBQYWdlUGFydCxcbiAgSU1IZWFkZXJKc29uLFxuICBJTUZvb3Rlckpzb24sXG4gIExheW91dEluZm8sXG4gIHV0aWxzLFxuICBpbmplY3RJbnRsLFxuICBJbnRsU2hhcGUsXG4gIEtleWJvYXJkLFxuICBDbGlwYm9hcmRJdGVtLFxuICBEaWFsb2dKc29uLFxuICBBcHBEaWFsb2csXG4gIFBhZ2VNb2RlXG59IGZyb20gJ2ppbXUtY29yZSc7XG5pbXBvcnQgRml4ZWRMYXlvdXRCdWlsZGVyIGZyb20gJy4uL2ZpeGVkLWxheW91dC9idWlsZGVyL2xheW91dCc7XG5pbXBvcnQgeyBGbG93TGF5b3V0VHJhbnNmb3JtZXIgfSBmcm9tICcuLi9mbG93LWxheW91dC9sYXlvdXQtdHJhbnNmb3JtJztcbmltcG9ydCBGbG93TGF5b3V0QnVpbGRlciBmcm9tICcuLi9mbG93LWxheW91dC9idWlsZGVyL2xheW91dCc7XG5pbXBvcnQgR3JpZExheW91dEJ1aWxkZXIgZnJvbSAnLi4vZ3JpZC1sYXlvdXQvYnVpbGRlci9sYXlvdXQnO1xuaW1wb3J0IENvbHVtbkxheW91dEJ1aWxkZXIgZnJvbSAnLi4vY29sdW1uLWxheW91dC9idWlsZGVyL2xheW91dCc7XG5pbXBvcnQge1xuICByZWdpc3RlckxheW91dEJ1aWxkZXIsXG4gIFBhZ2VDb250ZXh0LFxuICBQYWdlQ29udGV4dFByb3BzLFxuICB1dGlscyBhcyBsYXlvdXRVdGlscyxcbn0gZnJvbSAnamltdS1sYXlvdXRzL2xheW91dC1ydW50aW1lJztcbmltcG9ydCB7IGlzUmVzaXppbmcgfSBmcm9tICcuL2ludGVyYWN0aXZlL3Jlc2l6ZS1ldmVudC1oYW5kbGVyJztcbmltcG9ydCBkZWZhdWx0TWVzc2FnZXMgZnJvbSAnLi4vdHJhbnNsYXRpb25zL2RlZmF1bHQnO1xuaW1wb3J0IHsgcGFzdGVMYXlvdXRJdGVtIH0gZnJvbSAnLi9jb21tb24tbGF5b3V0LWFjdGlvbnMnO1xuaW1wb3J0IHsgUGFnZUhlYWRlciB9IGZyb20gJy4vcGFnZS1oZWFkZXInO1xuaW1wb3J0IHsgUGFnZUZvb3RlciB9IGZyb20gJy4vcGFnZS1mb290ZXInO1xuaW1wb3J0IHsgUGFnZUJvZHkgfSBmcm9tICcuL3BhZ2UtYm9keSc7XG5pbXBvcnQge1xuICBnZXREaWFsb2dMYXlvdXRJZCxcbiAgZ2V0Rm9vdGVyTGF5b3V0SWQsXG4gIGdldEhlYWRlckxheW91dElkLFxuICBnZXRQYWdlTGF5b3V0SWQsXG4gIGdldFZpc2libGVQYWdlSWQsXG59IGZyb20gJy4vcGFnZS1yZW5kZXJlci1jb21tb24nO1xuXG5yZWdpc3RlckxheW91dEJ1aWxkZXIoTGF5b3V0VHlwZS5GaXhlZExheW91dCwgRml4ZWRMYXlvdXRCdWlsZGVyIGFzIGFueSk7XG5yZWdpc3RlckxheW91dEJ1aWxkZXIoTGF5b3V0VHlwZS5GbG93TGF5b3V0LCBGbG93TGF5b3V0QnVpbGRlciBhcyBhbnkpO1xucmVnaXN0ZXJMYXlvdXRCdWlsZGVyKExheW91dFR5cGUuR3JpZExheW91dCwgR3JpZExheW91dEJ1aWxkZXIgYXMgYW55KTtcbnJlZ2lzdGVyTGF5b3V0QnVpbGRlcihMYXlvdXRUeXBlLkNvbHVtbkxheW91dCwgQ29sdW1uTGF5b3V0QnVpbGRlciBhcyBhbnkpO1xuXG5pbnRlcmZhY2UgUGFnZVByb3BzIHtcbiAgaW50bDogSW50bFNoYXBlO1xuICBkaWFsb2dJZD86IHN0cmluZztcbiAgLyoqXG4gICAqIHN0b3JlIHBhZ2VzIHRoYXQgaGF2ZSBiZWVuIHJlbmRlcmVkXG4gICAqXG4gICAqIE9ubHkgb25lIHBhZ2Ugd2lsbCBiZSB2aXNpYmxlLCBhbGwgb3RoZXIgcGFnZXMgd2lsbCBiZSBoaWRkZW5cbiAgICogICovXG4gIHBhZ2VTdGF0dXM6IEltbXV0YWJsZU9iamVjdDx7IFtwYWdlSWQ6IHN0cmluZ106IGJvb2xlYW4gfT47XG4gIC8vIGxheW91dElkV2l0aFNlbGVjdGlvbj86IHN0cmluZztcbn1cblxuaW50ZXJmYWNlIFN0YXRlVG9Qcm9wcyB7XG4gIHBhZ2VzOiBJbW11dGFibGVPYmplY3Q8eyBbcGFnZUlkOiBzdHJpbmddOiBQYWdlSnNvbiB9PjtcbiAgaGVhZGVyOiBJTUhlYWRlckpzb247XG4gIGhlYWRlclZpc2libGU/OiBib29sZWFuO1xuICBmb290ZXI6IElNRm9vdGVySnNvbjtcbiAgZm9vdGVyVmlzaWJsZT86IGJvb2xlYW47XG4gIG1haW5TaXplTW9kZTogQnJvd3NlclNpemVNb2RlO1xuICBicm93c2VyU2l6ZU1vZGU6IEJyb3dzZXJTaXplTW9kZTtcbiAgaXNEZXNpZ25Nb2RlOiBib29sZWFuO1xuICAvLyBsb2NhbGU/OiBzdHJpbmc7XG4gIC8vIGRpc3BhdGNoPzogYW55O1xuICB0aGVtZTogSU1UaGVtZVZhcmlhYmxlcztcbiAgbG9ja0xheW91dDogYm9vbGVhbjtcbiAgbWluSGVpZ2h0OiBudW1iZXI7XG4gIGFjdGl2ZVBhZ2VQYXJ0OiBQYWdlUGFydDtcbiAgY2xpcGJvYXJkSXRlbTogQ2xpcGJvYXJkSXRlbTtcbiAgZGlhbG9nczogSW1tdXRhYmxlT2JqZWN0PHsgW2RsZ0lkOiBzdHJpbmddOiBEaWFsb2dKc29uIH0+O1xuICBjdXJyZW50RGlhbG9nSWQ/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBjbGFzcyBQYWdlUmVuZGVyZXIgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50PFBhZ2VQcm9wcyAmIFN0YXRlVG9Qcm9wcz4ge1xuICBzdGF0aWMgZGlzcGxheU5hbWUgPSAnQnVpbGRlclBhZ2VSZW5kZXJlcic7XG4gIHBhZ2VSZWY6IEhUTUxFbGVtZW50O1xuICBwYWdlQ29udGV4dDogSW1tdXRhYmxlT2JqZWN0PFBhZ2VDb250ZXh0UHJvcHM+O1xuICBhY3RpdmVMYXlvdXRJbmZvOiBMYXlvdXRJbmZvO1xuICBrZXlCaW5kaW5nczoge1trZXk6IHN0cmluZ106IGFueX07XG5cbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgRXh0ZW5zaW9uTWFuYWdlci5nZXRJbnN0YW5jZSgpLnJlZ2lzdGVyRXh0ZW5zaW9uKHtcbiAgICAgIGVwTmFtZTogZXh0ZW5zaW9uU3BlYy5FeHRlbnNpb25Qb2ludHMuTGF5b3V0VHJhbnNmb3JtZXIsXG4gICAgICBleHRlbnNpb246IG5ldyBGbG93TGF5b3V0VHJhbnNmb3JtZXIoKSxcbiAgICB9KTtcblxuICAgIGlmICh0aGlzLmlzTWFjKCkpIHtcbiAgICAgIHRoaXMua2V5QmluZGluZ3MgPSB7XG4gICAgICAgICdjb21tYW5kK2tleXYnOiB0aGlzLnN0YXJ0UGFzdGUsXG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmtleUJpbmRpbmdzID0ge1xuICAgICAgICAnY3RybCtrZXl2JzogdGhpcy5zdGFydFBhc3RlLFxuICAgICAgfTtcbiAgICB9XG5cbiAgICB0aGlzLnVwZGF0ZVBhZ2VDb250ZXh0KCk7XG4gIH1cblxuICBzdGFydFBhc3RlID0gKCkgPT4ge1xuICAgIGNvbnN0IGNsaXBib2FyZEl0ZW0gPSBnZXRBcHBTdG9yZSgpLmdldFN0YXRlKCkuYXBwUnVudGltZUluZm8/LmNsaXBib2FyZDtcbiAgICBjb25zdCB7IGFjdGl2ZVBhZ2VQYXJ0LCBwYWdlU3RhdHVzLCBjdXJyZW50RGlhbG9nSWQsIGRpYWxvZ3MgfSA9IHRoaXMucHJvcHM7XG5cbiAgICBpZiAoY2xpcGJvYXJkSXRlbSkge1xuICAgICAgbGV0IHRhcmdldExheW91dElkO1xuICAgICAgaWYgKGN1cnJlbnREaWFsb2dJZCAmJiBkaWFsb2dzW2N1cnJlbnREaWFsb2dJZF0pIHtcbiAgICAgICAgdGFyZ2V0TGF5b3V0SWQgPSBnZXREaWFsb2dMYXlvdXRJZChjdXJyZW50RGlhbG9nSWQpO1xuICAgICAgfSBlbHNlIGlmIChhY3RpdmVQYWdlUGFydCA9PT0gUGFnZVBhcnQuSGVhZGVyKSB7XG4gICAgICAgIHRhcmdldExheW91dElkID0gZ2V0SGVhZGVyTGF5b3V0SWQoKTtcbiAgICAgIH0gZWxzZSBpZiAoYWN0aXZlUGFnZVBhcnQgPT09IFBhZ2VQYXJ0LkZvb3Rlcikge1xuICAgICAgICB0YXJnZXRMYXlvdXRJZCA9IGdldEZvb3RlckxheW91dElkKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCB2aXZpc2libGVQYWdlSWQgPSBnZXRWaXNpYmxlUGFnZUlkKHBhZ2VTdGF0dXMpO1xuICAgICAgICB0YXJnZXRMYXlvdXRJZCA9IGdldFBhZ2VMYXlvdXRJZCh2aXZpc2libGVQYWdlSWQpO1xuICAgICAgfVxuICAgICAgcGFzdGVMYXlvdXRJdGVtKGNsaXBib2FyZEl0ZW0sIHRhcmdldExheW91dElkKTtcbiAgICB9XG4gIH1cblxuICBpc01hYyA9ICgpID0+IHtcbiAgICByZXR1cm4gL21hY2ludG9zaHxtYWMgb3MgeC9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG4gIH1cblxuICBjb21wb25lbnREaWRVcGRhdGUoKSB7XG4gICAgY29uc3QgZG9jdW1lbnRFbGVtZW50ID0gd2luZG93LmRvY3VtZW50Py5kb2N1bWVudEVsZW1lbnQ7XG4gICAgaWYgKGRvY3VtZW50RWxlbWVudCkge1xuICAgICAgaWYgKHdpbmRvdy5qaW11Q29uZmlnLmlzSW5CdWlsZGVyICYmIHRoaXMucHJvcHMuaXNEZXNpZ25Nb2RlKSB7XG4gICAgICAgIGRvY3VtZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdpcy1pbi1idWlsZGVyJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkb2N1bWVudEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnaXMtaW4tYnVpbGRlcicpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGNsZWFyU2VsZWN0aW9uID0gZSA9PiB7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBpZiAodGhpcy5wcm9wcy5pc0Rlc2lnbk1vZGUgJiYgIWlzUmVzaXppbmcoKSkge1xuICAgICAgZ2V0QXBwU3RvcmUoKS5kaXNwYXRjaChhcHBBY3Rpb25zLnNlbGVjdGlvbkNoYW5nZWQobnVsbCkpO1xuICAgIH1cbiAgfTtcblxuICBmb3JtYXRNZXNzYWdlID0gKGlkOiBzdHJpbmcpOiBzdHJpbmcgPT4ge1xuICAgIGlmICh0aGlzLnByb3BzLmludGwpIHtcbiAgICAgIHJldHVybiB0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7XG4gICAgICAgIGlkLFxuICAgICAgICBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzW2lkXVxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBkZWZhdWx0TWVzc2FnZXNbaWRdO1xuICB9O1xuXG4gIGdldFBhZ2VTdHlsZSgpIHtcbiAgICBjb25zdCB7IHBhZ2VTdGF0dXMsIHBhZ2VzLCBtaW5IZWlnaHQgfSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3QgdmlzaWJsZVBhZ2VJZCA9IE9iamVjdC5rZXlzKHBhZ2VTdGF0dXMpLmZpbmQocGlkID0+IHBhZ2VTdGF0dXNbcGlkXSk7XG4gICAgY29uc3QgcGFnZUpzb24gPSBwYWdlc1t2aXNpYmxlUGFnZUlkXTtcbiAgICByZXR1cm4gY3NzYFxuICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgbWFyZ2luOiAwIGF1dG87XG4gICAgICBvdmVyZmxvdzogJHt0aGlzLnBhZ2VDb250ZXh0LmlzRGVzaWduTW9kZSA/ICdoaWRkZW4nIDogJ2F1dG8nfTtcbiAgICAgIGhlaWdodDogJHshdGhpcy5wYWdlQ29udGV4dC5pc0Rlc2lnbk1vZGUgfHwgcGFnZUpzb24ubW9kZSA9PT0gUGFnZU1vZGUuRml0V2luZG93ID8gJzEwMCUnIDogJ2F1dG8nfTtcbiAgICAgIG1pbi1oZWlnaHQ6ICR7bWluSGVpZ2h0fXB4O1xuICAgICAgLnBhZ2Uge1xuICAgICAgICBoZWlnaHQ6IGF1dG87XG4gICAgICB9XG4gICAgYDtcbiAgfVxuXG4gIHVwZGF0ZVBhZ2VDb250ZXh0KCkge1xuICAgIGNvbnN0IHsgaXNEZXNpZ25Nb2RlLCB0aGVtZSwgbWFpblNpemVNb2RlLCBicm93c2VyU2l6ZU1vZGUsIGxvY2tMYXlvdXQgfSA9IHRoaXMucHJvcHM7XG5cbiAgICBjb25zdCBwYWdlQ29udGV4dCA9IHtcbiAgICAgIGlzRGVzaWduTW9kZSxcbiAgICAgIHRoZW1lLFxuICAgICAgbWFpblNpemVNb2RlLFxuICAgICAgYnJvd3NlclNpemVNb2RlLFxuICAgICAgbG9ja0xheW91dCxcbiAgICAgIGJ1aWxkZXJUaGVtZTogbGF5b3V0VXRpbHMuZ2V0QnVpbGRlclRoZW1lVmFyaWFibGVzKCksXG4gICAgICBmb3JtYXRNZXNzYWdlOiB0aGlzLmZvcm1hdE1lc3NhZ2UsXG4gICAgfTtcbiAgICBpZiAoIXRoaXMucGFnZUNvbnRleHQpIHtcbiAgICAgIHRoaXMucGFnZUNvbnRleHQgPSBJbW11dGFibGUocGFnZUNvbnRleHQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBmb3IgKGNvbnN0IHByb3AgaW4gcGFnZUNvbnRleHQpIHtcbiAgICAgICAgaWYgKHRoaXMucGFnZUNvbnRleHRbcHJvcF0gIT09IHBhZ2VDb250ZXh0W3Byb3BdKSB7XG4gICAgICAgICAgdGhpcy5wYWdlQ29udGV4dCA9IHRoaXMucGFnZUNvbnRleHQuc2V0KHByb3AsIHBhZ2VDb250ZXh0W3Byb3BdKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IHBhZ2VTdGF0dXMgfSA9IHRoaXMucHJvcHM7XG5cbiAgICB0aGlzLnVwZGF0ZVBhZ2VDb250ZXh0KCk7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdlxuICAgICAgICBjbGFzc05hbWU9XCJwYWdlLXJlbmRlcmVyIGQtZmxleCBmbGV4LWNvbHVtbiBhbGlnbi1pdGVtcy1jZW50ZXIgdy0xMDBcIlxuICAgICAgICByZWY9e2VsID0+ICh0aGlzLnBhZ2VSZWYgPSBlbCl9XG4gICAgICAgIGNzcz17dGhpcy5nZXRQYWdlU3R5bGUoKX1cbiAgICAgICAgb25DbGljaz17dGhpcy5jbGVhclNlbGVjdGlvbn0+XG4gICAgICAgIHt0aGlzLnJlbmRlckRpYWxvZygpfVxuICAgICAgICB7dGhpcy5yZW5kZXJIZWFkZXIoKX1cbiAgICAgICAge09iamVjdC5rZXlzKHBhZ2VTdGF0dXMpLm1hcChwSWQgPT4gdGhpcy5yZW5kZXJQYWdlQm9keShwSWQpKX1cbiAgICAgICAge3RoaXMucmVuZGVyRm9vdGVyKCl9XG4gICAgICAgIDxLZXlib2FyZCBiaW5kaW5ncz17dGhpcy5rZXlCaW5kaW5nc30vPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuXG4gIHJlbmRlckhlYWRlcigpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMuaGVhZGVyKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgeyBoZWFkZXIsIGhlYWRlclZpc2libGUsIGJyb3dzZXJTaXplTW9kZSwgbWFpblNpemVNb2RlLCBpc0Rlc2lnbk1vZGUsIGFjdGl2ZVBhZ2VQYXJ0IH0gPSB0aGlzLnByb3BzO1xuXG4gICAgcmV0dXJuIDxQYWdlSGVhZGVyXG4gICAgICBoZWFkZXI9e2hlYWRlcn1cbiAgICAgIGFjdGl2ZVBhZ2VQYXJ0PXthY3RpdmVQYWdlUGFydH1cbiAgICAgIGhlYWRlclZpc2libGU9e2hlYWRlclZpc2libGV9XG4gICAgICBpc0Rlc2lnbk1vZGU9e2lzRGVzaWduTW9kZX1cbiAgICAgIGJyb3dzZXJTaXplTW9kZT17YnJvd3NlclNpemVNb2RlfVxuICAgICAgbWFpblNpemVNb2RlPXttYWluU2l6ZU1vZGV9XG4gICAgICBwYWdlQ29udGV4dD17dGhpcy5wYWdlQ29udGV4dH1cbiAgICA+PC9QYWdlSGVhZGVyPjtcbiAgfVxuXG4gIHJlbmRlckZvb3RlcigpIHtcbiAgICBpZiAoIXRoaXMucHJvcHMuZm9vdGVyKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgeyBmb290ZXIsIGZvb3RlclZpc2libGUsIGJyb3dzZXJTaXplTW9kZSwgbWFpblNpemVNb2RlLCBpc0Rlc2lnbk1vZGUsIGFjdGl2ZVBhZ2VQYXJ0IH0gPSB0aGlzLnByb3BzO1xuICAgIHJldHVybiA8UGFnZUZvb3RlclxuICAgICAgZm9vdGVyPXtmb290ZXJ9XG4gICAgICBhY3RpdmVQYWdlUGFydD17YWN0aXZlUGFnZVBhcnR9XG4gICAgICBmb290ZXJWaXNpYmxlPXtmb290ZXJWaXNpYmxlfVxuICAgICAgaXNEZXNpZ25Nb2RlPXtpc0Rlc2lnbk1vZGV9XG4gICAgICBicm93c2VyU2l6ZU1vZGU9e2Jyb3dzZXJTaXplTW9kZX1cbiAgICAgIG1haW5TaXplTW9kZT17bWFpblNpemVNb2RlfVxuICAgICAgcGFnZUNvbnRleHQ9e3RoaXMucGFnZUNvbnRleHR9XG4gICAgPjwvUGFnZUZvb3Rlcj47XG4gIH1cblxuICByZW5kZXJQYWdlQm9keShyZW5kZXJlZFBhZ2VJZDogc3RyaW5nKSB7XG4gICAgY29uc3QgeyBwYWdlcywgcGFnZVN0YXR1cywgYnJvd3NlclNpemVNb2RlLCBpc0Rlc2lnbk1vZGUsIGFjdGl2ZVBhZ2VQYXJ0IH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IHBhZ2VKc29uID0gcGFnZXNbcmVuZGVyZWRQYWdlSWRdO1xuICAgIGlmICghcGFnZUpzb24pIHtcbiAgICAgIC8vIHBhZ2UgaXMgcmVtb3ZlZFxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICByZXR1cm4gPFBhZ2VCb2R5XG4gICAgICBrZXk9e3BhZ2VKc29uLmlkfVxuICAgICAgcGFnZUpzb249e3BhZ2VKc29ufVxuICAgICAgcmVuZGVyZWRQYWdlSWQ9e3JlbmRlcmVkUGFnZUlkfVxuICAgICAgYWN0aXZlUGFnZVBhcnQ9e2FjdGl2ZVBhZ2VQYXJ0fVxuICAgICAgaXNEZXNpZ25Nb2RlPXtpc0Rlc2lnbk1vZGV9XG4gICAgICBicm93c2VyU2l6ZU1vZGU9e2Jyb3dzZXJTaXplTW9kZX1cbiAgICAgIHBhZ2VDb250ZXh0PXt0aGlzLnBhZ2VDb250ZXh0fVxuICAgICAgdmlzaWJsZT17ISFwYWdlU3RhdHVzW3BhZ2VKc29uLmlkXX1cbiAgICA+PC9QYWdlQm9keT47XG4gIH1cblxuICByZW5kZXJEaWFsb2coKSB7XG4gICAgY29uc3QgeyBkaWFsb2dzLCBkaWFsb2dJZCwgcGFnZVN0YXR1cywgcGFnZXMgfSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3QgdXJsRGlhbG9nSnNvbiA9IGRpYWxvZ3NbZGlhbG9nSWRdO1xuICAgIGNvbnN0IHNwbGFzaERpYWxvZ0pzb24gPSBkaWFsb2dzW09iamVjdC5rZXlzKGRpYWxvZ3MpLmZpbmQoZGxnSWQgPT4gZGlhbG9nc1tkbGdJZF0uaXNTcGxhc2gpXTtcblxuICAgIGxldCBwYWdlRGlhbG9nSWQgPSAnJztcbiAgICBPYmplY3Qua2V5cyhwYWdlU3RhdHVzKS5zb21lKHBJZCA9PiB7XG4gICAgICBpZihwYWdlU3RhdHVzW3BJZF0gPT09IHRydWUpe1xuICAgICAgICBwYWdlRGlhbG9nSWQgPSBwYWdlc1twSWRdLmF1dG9PcGVuRGlhbG9nSWQ7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGNvbnN0IHBhZ2VEaWFsb2dKc29uID0gZGlhbG9nc1tPYmplY3Qua2V5cyhkaWFsb2dzKS5maW5kKGRsZ0lkID0+IGRpYWxvZ3NbZGxnSWRdLmlkID09PSBwYWdlRGlhbG9nSWQpXTtcblxuICAgIHJldHVybiAoXG4gICAgICA8UmVhY3QuRnJhZ21lbnQ+XG4gICAgICAgIHtcbiAgICAgICAgICB1cmxEaWFsb2dKc29uICYmIDxQYWdlQ29udGV4dC5Qcm92aWRlciB2YWx1ZT17e1xuICAgICAgICAgICAgLi4udGhpcy5wYWdlQ29udGV4dCBhcyBhbnksXG4gICAgICAgICAgICBkaWFsb2dJZDogZGlhbG9nSWQsXG4gICAgICAgICAgICBpc0RpYWxvZzogdHJ1ZSxcbiAgICAgICAgICAgIHZpZXdPbmx5OiBmYWxzZSxcbiAgICAgICAgICAgIHJvb3RMYXlvdXRJZDogZ2V0RGlhbG9nTGF5b3V0SWQoZGlhbG9nSWQpLFxuICAgICAgICAgICAgLy8gdmlzaWJsZTogdHJ1ZVxuICAgICAgICAgIH19PlxuICAgICAgICAgICAgPEFwcERpYWxvZyBkaWFsb2dKc29uPXt1cmxEaWFsb2dKc29ufSAvPlxuICAgICAgICAgIDwvUGFnZUNvbnRleHQuUHJvdmlkZXI+XG4gICAgICAgIH1cblxuICAgICAgICB7XG4gICAgICAgICAgcGFnZURpYWxvZ0pzb24gJiYgdXJsRGlhbG9nSnNvbj8uaWQgIT09IHBhZ2VEaWFsb2dKc29uLmlkICYmIDxQYWdlQ29udGV4dC5Qcm92aWRlciB2YWx1ZT17e1xuICAgICAgICAgICAgLi4udGhpcy5wYWdlQ29udGV4dCBhcyBhbnksXG4gICAgICAgICAgICBkaWFsb2dJZDogcGFnZURpYWxvZ0lkLFxuICAgICAgICAgICAgdmlld09ubHk6IGZhbHNlLFxuICAgICAgICAgICAgLy8gdmlzaWJsZTogdHJ1ZVxuICAgICAgICAgIH19PlxuICAgICAgICAgICAgPEFwcERpYWxvZyBkaWFsb2dKc29uPXtwYWdlRGlhbG9nSnNvbn0gaXNPcGVuQnlQYWdlPXt0cnVlfSAvPlxuICAgICAgICAgIDwvUGFnZUNvbnRleHQuUHJvdmlkZXI+XG4gICAgICAgIH1cblxuICAgICAgICB7XG4gICAgICAgICAgc3BsYXNoRGlhbG9nSnNvbiAmJiB1cmxEaWFsb2dKc29uPy5pZCAhPT0gc3BsYXNoRGlhbG9nSnNvbi5pZCAmJiA8UGFnZUNvbnRleHQuUHJvdmlkZXIgdmFsdWU9e3tcbiAgICAgICAgICAgIC4uLnRoaXMucGFnZUNvbnRleHQgYXMgYW55LFxuICAgICAgICAgICAgZGlhbG9nSWQ6IHNwbGFzaERpYWxvZ0pzb24uaWQsXG4gICAgICAgICAgICB2aWV3T25seTogZmFsc2UsXG4gICAgICAgICAgICAvLyB2aXNpYmxlOiB0cnVlXG4gICAgICAgICAgfX0+XG4gICAgICAgICAgICA8QXBwRGlhbG9nIGRpYWxvZ0pzb249e3NwbGFzaERpYWxvZ0pzb259IC8+XG4gICAgICAgICAgPC9QYWdlQ29udGV4dC5Qcm92aWRlcj5cbiAgICAgICAgfVxuICAgICAgPC9SZWFjdC5GcmFnbWVudD5cbiAgICApO1xuICB9XG59XG5cbmNvbnN0IG1hcFN0YXRlVG9Qcm9wcyA9IChzdGF0ZTogSU1TdGF0ZSwgb3duUHJvcHM6IFBhZ2VQcm9wcyk6IFN0YXRlVG9Qcm9wcyA9PiB7XG4gIC8vIGNvbnN0IHNlbGVjdGlvbjogU2VsZWN0aW9uID0gc3RhdGUuYXBwUnVudGltZUluZm8uc2VsZWN0aW9uIHx8ICh7fSBhcyBTZWxlY3Rpb24pO1xuICBjb25zdCB2aWV3cG9ydFNpemUgPSB1dGlscy5maW5kVmlld3BvcnRTaXplKHN0YXRlLmFwcENvbmZpZywgc3RhdGUuYnJvd3NlclNpemVNb2RlKTtcbiAgY29uc3QgcGFnZUlkID0gZ2V0VmlzaWJsZVBhZ2VJZChvd25Qcm9wcy5wYWdlU3RhdHVzKTtcbiAgcmV0dXJuIHtcbiAgICBwYWdlczogc3RhdGUuYXBwQ29uZmlnLnBhZ2VzLFxuICAgIGhlYWRlcjogc3RhdGUuYXBwQ29uZmlnLmhlYWRlcixcbiAgICBoZWFkZXJWaXNpYmxlOiAhIXN0YXRlLmFwcENvbmZpZy5wYWdlc1twYWdlSWRdLmhlYWRlcixcbiAgICBmb290ZXI6IHN0YXRlLmFwcENvbmZpZy5mb290ZXIsXG4gICAgZm9vdGVyVmlzaWJsZTogISFzdGF0ZS5hcHBDb25maWcucGFnZXNbcGFnZUlkXS5mb290ZXIsXG4gICAgaXNEZXNpZ25Nb2RlOiBzdGF0ZS5hcHBSdW50aW1lSW5mby5hcHBNb2RlID09PSBBcHBNb2RlLkRlc2lnbixcbiAgICBtYWluU2l6ZU1vZGU6IHN0YXRlLmFwcENvbmZpZy5tYWluU2l6ZU1vZGUsXG4gICAgYnJvd3NlclNpemVNb2RlOiBzdGF0ZS5icm93c2VyU2l6ZU1vZGUsXG4gICAgLy8gbG9jYWxlOiBzdGF0ZS5hcHBDb250ZXh0LmxvY2FsZSxcbiAgICAvLyBsYXlvdXRJZFdpdGhTZWxlY3Rpb246IHNlbGVjdGlvbi5sYXlvdXRJZCxcbiAgICB0aGVtZTogc3RhdGUudGhlbWUsXG4gICAgbG9ja0xheW91dDogc3RhdGUuYXBwQ29uZmlnLmZvckJ1aWxkZXJBdHRyaWJ1dGVzPy5sb2NrTGF5b3V0ID8/IGZhbHNlLFxuICAgIG1pbkhlaWdodDogdmlld3BvcnRTaXplLmhlaWdodCxcbiAgICBhY3RpdmVQYWdlUGFydDogc3RhdGUuYXBwUnVudGltZUluZm8uYWN0aXZlUGFnZVBhcnQgPz8gUGFnZVBhcnQuQm9keSxcbiAgICBjbGlwYm9hcmRJdGVtOiBzdGF0ZS5hcHBSdW50aW1lSW5mby5jbGlwYm9hcmQsXG4gICAgZGlhbG9nczogc3RhdGUuYXBwQ29uZmlnLmRpYWxvZ3MsXG4gICAgY3VycmVudERpYWxvZ0lkOiBzdGF0ZS5hcHBSdW50aW1lSW5mby5jdXJyZW50RGlhbG9nSWQsXG4gIH07XG59O1xuXG4vLyBjb25uZWN0PElNYXBTdGF0ZVRvUHJvcHMsIElNYXBEaXNwYXRjaFRvUHJvcHMsIElDb21wUHJvcHMsIElSZWR1eFN0YXRlPihtYXBTdGF0ZVRvUHJvcHMsIG1hcERpc3BhdGNoVG9Qcm9wcylcbmV4cG9ydCBkZWZhdWx0IGluamVjdEludGwoUmVhY3RSZWR1eC5jb25uZWN0PFN0YXRlVG9Qcm9wcywgdW5rbm93biwgUGFnZVByb3BzPihtYXBTdGF0ZVRvUHJvcHMpKFBhZ2VSZW5kZXJlcikpO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQThCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBa0NBO0FBQUE7QUFPQTtBQUFBO0FBb0JBOztBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFhQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFwRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUNBO0FBMEJBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBbUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFVQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBRUE7QUFFQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQVNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBU0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBVUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUdBO0FBUUE7QUFLQTtBQU1BO0FBS0E7QUFNQTtBQUtBO0FBalBBO0FBa1BBO0FBQUE7QUFuUEE7QUFxUEE7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7OyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./jimu-layouts/lib/builder/page-renderer.tsx\n");

/***/ }),

/***/ "./jimu-layouts/lib/builder/resize-cursor-util.ts":
/*!********************************************************!*\
  !*** ./jimu-layouts/lib/builder/resize-cursor-util.ts ***!
  \********************************************************/
/*! exports provided: getCursor */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getCursor\", function() { return getCursor; });\nvar STEP = 22.5;\nfunction clampRotation(rotation) {\n    if (isNaN(rotation)) {\n        return 0;\n    }\n    var result = rotation % 360;\n    return result < 0 ? result + 360 : result;\n}\nfunction getCursor(rotation, initAngle) {\n    var r = clampRotation(rotation + initAngle);\n    if (r >= 360 - STEP || r < STEP || (r >= STEP * 7 && r < STEP * 9)) {\n        return 'ns-resize';\n    }\n    else if ((r >= STEP && r < STEP * 3) || (r >= STEP * 9 && r < STEP * 11)) {\n        return 'nesw-resize';\n    }\n    else if ((r >= STEP * 3 && r < STEP * 5) || (r >= STEP * 11 && r < STEP * 13)) {\n        return 'ew-resize';\n    }\n    else if ((r >= STEP * 5 && r < STEP * 7) || (r >= STEP * 13 && r < STEP * 15)) {\n        return 'nwse-resize';\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWxheW91dHMvbGliL2J1aWxkZXIvcmVzaXplLWN1cnNvci11dGlsLnRzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vamltdS1sYXlvdXRzL2xpYi9idWlsZGVyL3Jlc2l6ZS1jdXJzb3ItdXRpbC50cz81MmEyIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IFNURVAgPSAyMi41O1xuXG5mdW5jdGlvbiBjbGFtcFJvdGF0aW9uKHJvdGF0aW9uOiBudW1iZXIpOiBudW1iZXIge1xuICBpZiAoaXNOYU4ocm90YXRpb24pKSB7XG4gICAgcmV0dXJuIDA7XG4gIH1cblxuICBjb25zdCByZXN1bHQgPSByb3RhdGlvbiAlIDM2MDtcblxuICByZXR1cm4gcmVzdWx0IDwgMCA/IHJlc3VsdCArIDM2MCA6IHJlc3VsdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEN1cnNvcihyb3RhdGlvbjogbnVtYmVyLCBpbml0QW5nbGU6IG51bWJlcikge1xuICBjb25zdCByID0gY2xhbXBSb3RhdGlvbihyb3RhdGlvbiArIGluaXRBbmdsZSk7XG4gIGlmIChyID49IDM2MCAtIFNURVAgfHwgciA8IFNURVAgfHwgKHIgPj0gU1RFUCAqIDcgJiYgciA8IFNURVAgKiA5KSkge1xuICAgIHJldHVybiAnbnMtcmVzaXplJztcbiAgfSBlbHNlIGlmICgociA+PSBTVEVQICYmIHIgPCBTVEVQICogMykgfHwgKHIgPj0gU1RFUCAqIDkgJiYgciA8IFNURVAgKiAxMSkpIHtcbiAgICByZXR1cm4gJ25lc3ctcmVzaXplJztcbiAgfSBlbHNlIGlmICgociA+PSBTVEVQICogMyAmJiByIDwgU1RFUCAqIDUpIHx8IChyID49IFNURVAgKiAxMSAmJiByIDwgU1RFUCAqIDEzKSkge1xuICAgIHJldHVybiAnZXctcmVzaXplJztcbiAgfSAgZWxzZSBpZiAoKHIgPj0gU1RFUCAqIDUgJiYgciA8IFNURVAgKiA3KSB8fCAociA+PSBTVEVQICogMTMgJiYgciA8IFNURVAgKiAxNSkpIHtcbiAgICByZXR1cm4gJ253c2UtcmVzaXplJztcbiAgfVxufSJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./jimu-layouts/lib/builder/resize-cursor-util.ts\n");

/***/ }),

/***/ "./jimu-layouts/lib/builder/section-renderer.tsx":
/*!*******************************************************!*\
  !*** ./jimu-layouts/lib/builder/section-renderer.tsx ***!
  \*******************************************************/
/*! exports provided: SectionRendererInBuilder */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SectionRendererInBuilder\", function() { return SectionRendererInBuilder; });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jimu_core__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _layout_entry__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./layout-entry */ \"./jimu-layouts/lib/builder/layout-entry.tsx\");\n/* harmony import */ var _runtime_section_renderer_base__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../runtime/section-renderer-base */ \"./jimu-layouts/lib/runtime/section-renderer-base.tsx\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (undefined && undefined.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\n\n\n\nvar SectionRendererInBuilder = /** @class */ (function (_super) {\n    __extends(SectionRendererInBuilder, _super);\n    function SectionRendererInBuilder() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    SectionRendererInBuilder.prototype.render = function () {\n        return (jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].createElement(_runtime_section_renderer_base__WEBPACK_IMPORTED_MODULE_2__[\"SectionRendererBase\"], __assign({}, this.props, { layoutEntryComponent: _layout_entry__WEBPACK_IMPORTED_MODULE_1__[\"default\"] })));\n    };\n    return SectionRendererInBuilder;\n}(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].PureComponent));\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWxheW91dHMvbGliL2J1aWxkZXIvc2VjdGlvbi1yZW5kZXJlci50c3guanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qaW11LWxheW91dHMvbGliL2J1aWxkZXIvc2VjdGlvbi1yZW5kZXJlci50c3g/NzhmOCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBSZWFjdCB9IGZyb20gJ2ppbXUtY29yZSc7XG5pbXBvcnQgeyBMYXlvdXRJdGVtUHJvcHMsIFNlY3Rpb25Qcm9wcywgU3RhdGVUb0xheW91dEl0ZW1Qcm9wcyB9IGZyb20gJ2ppbXUtbGF5b3V0cy9sYXlvdXQtcnVudGltZSc7XG5pbXBvcnQgTGF5b3V0RW50cnkgZnJvbSAnLi9sYXlvdXQtZW50cnknO1xuaW1wb3J0IHsgU2VjdGlvblJlbmRlcmVyQmFzZSB9IGZyb20gJy4uL3J1bnRpbWUvc2VjdGlvbi1yZW5kZXJlci1iYXNlJztcblxuZXhwb3J0IGNsYXNzIFNlY3Rpb25SZW5kZXJlckluQnVpbGRlciBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQ8TGF5b3V0SXRlbVByb3BzICYgU3RhdGVUb0xheW91dEl0ZW1Qcm9wcyAmIFNlY3Rpb25Qcm9wcz4ge1xuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPFNlY3Rpb25SZW5kZXJlckJhc2Ugey4uLnRoaXMucHJvcHN9IGxheW91dEVudHJ5Q29tcG9uZW50PXtMYXlvdXRFbnRyeSBhcyBhbnl9Lz5cbiAgICApO1xuICB9XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBRUE7QUFDQTtBQUVBO0FBQUE7QUFBQTs7QUFPQTtBQUxBO0FBQ0E7QUFHQTtBQUNBO0FBQUE7OyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./jimu-layouts/lib/builder/section-renderer.tsx\n");

/***/ }),

/***/ "./jimu-layouts/lib/builder/select-wrapper.tsx":
/*!*****************************************************!*\
  !*** ./jimu-layouts/lib/builder/select-wrapper.tsx ***!
  \*****************************************************/
/*! exports provided: SelectWrapper, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SelectWrapper\", function() { return SelectWrapper; });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jimu_core__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-layouts/layout-runtime */ \"jimu-layouts/layout-runtime\");\n/* harmony import */ var jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var jimu_for_builder__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-for-builder */ \"jimu-for-builder\");\n/* harmony import */ var jimu_for_builder__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jimu_for_builder__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _toolbar__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./toolbar */ \"./jimu-layouts/lib/builder/toolbar.tsx\");\n/* harmony import */ var _menu_common_menu__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./menu/common-menu */ \"./jimu-layouts/lib/builder/menu/common-menu.tsx\");\n/* harmony import */ var _menu_section_menu__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./menu/section-menu */ \"./jimu-layouts/lib/builder/menu/section-menu.tsx\");\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! jimu-ui */ \"jimu-ui\");\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(jimu_ui__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _interactive_drag_event_handler__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./interactive/drag-event-handler */ \"./jimu-layouts/lib/builder/interactive/drag-event-handler.ts\");\n/* harmony import */ var _translations_default__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../translations/default */ \"./jimu-layouts/lib/translations/default.ts\");\n/* harmony import */ var _common_layout_actions__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./common-layout-actions */ \"./jimu-layouts/lib/builder/common-layout-actions.ts\");\n/* harmony import */ var _resize_cursor_util__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./resize-cursor-util */ \"./jimu-layouts/lib/builder/resize-cursor-util.ts\");\nvar __makeTemplateObject = (undefined && undefined.__makeTemplateObject) || function (cooked, raw) {\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n    return cooked;\n};\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/** @jsx jsx */\n\n\n\n\n\n\n\n\n\n\n\nvar commonWidgetMenuItems = [_menu_common_menu__WEBPACK_IMPORTED_MODULE_4__[\"duplicateMenuItem\"], _menu_common_menu__WEBPACK_IMPORTED_MODULE_4__[\"floatingMenuItem\"], _menu_common_menu__WEBPACK_IMPORTED_MODULE_4__[\"sinkingMenuItem\"], _menu_common_menu__WEBPACK_IMPORTED_MODULE_4__[\"pendingMenuItem\"], _menu_common_menu__WEBPACK_IMPORTED_MODULE_4__[\"deleteMenuItem\"]];\nvar commonSectionMenuItems = [].concat(_menu_section_menu__WEBPACK_IMPORTED_MODULE_5__[\"sectionMenuItems\"], commonWidgetMenuItems);\nvar cornerSize = 10;\nvar cornerPosition = -10;\nvar sideSize = 16;\nvar sidePosition = -10;\nvar topLeftCursor = function (rotation) { return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n  top: \", \"px;\\n  left: \", \"px;\\n  /* cursor: nwse-resize; */\\n  cursor: \", \";\\n  .jimu-rtl & {\\n    /* cursor: nesw-resize; */\\n    cursor: \", \";\\n  }\\n\"], [\"\\n  top: \", \"px;\\n  left: \", \"px;\\n  /* cursor: nwse-resize; */\\n  cursor: \", \";\\n  .jimu-rtl & {\\n    /* cursor: nesw-resize; */\\n    cursor: \", \";\\n  }\\n\"])), cornerPosition / 2, cornerPosition / 2, Object(_resize_cursor_util__WEBPACK_IMPORTED_MODULE_10__[\"getCursor\"])(rotation, 135), Object(_resize_cursor_util__WEBPACK_IMPORTED_MODULE_10__[\"getCursor\"])(rotation, 135 + 90)); };\nvar topRightCursor = function (rotation) { return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_2 || (templateObject_2 = __makeTemplateObject([\"\\n  top: \", \"px;\\n  right: \", \"px;\\n  /* cursor: nesw-resize; */\\n  cursor: \", \";\\n  .jimu-rtl & {\\n    /* cursor: nwse-resize; */\\n    cursor: \", \";\\n  }\\n\"], [\"\\n  top: \", \"px;\\n  right: \", \"px;\\n  /* cursor: nesw-resize; */\\n  cursor: \", \";\\n  .jimu-rtl & {\\n    /* cursor: nwse-resize; */\\n    cursor: \", \";\\n  }\\n\"])), cornerPosition / 2, cornerPosition / 2, Object(_resize_cursor_util__WEBPACK_IMPORTED_MODULE_10__[\"getCursor\"])(rotation, 225), Object(_resize_cursor_util__WEBPACK_IMPORTED_MODULE_10__[\"getCursor\"])(rotation, 225 + 90)); };\nvar bottomLeftCursor = function (rotation) { return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_3 || (templateObject_3 = __makeTemplateObject([\"\\n  bottom: \", \"px;\\n  left: \", \"px;\\n  /* cursor: nesw-resize; */\\n  cursor: \", \";\\n  .jimu-rtl & {\\n    /* cursor: nwse-resize; */\\n    cursor: \", \";\\n  }\\n\"], [\"\\n  bottom: \", \"px;\\n  left: \", \"px;\\n  /* cursor: nesw-resize; */\\n  cursor: \", \";\\n  .jimu-rtl & {\\n    /* cursor: nwse-resize; */\\n    cursor: \", \";\\n  }\\n\"])), cornerPosition / 2, cornerPosition / 2, Object(_resize_cursor_util__WEBPACK_IMPORTED_MODULE_10__[\"getCursor\"])(rotation, 45), Object(_resize_cursor_util__WEBPACK_IMPORTED_MODULE_10__[\"getCursor\"])(rotation, 45 + 90)); };\nvar bottomRightCursor = function (rotation) { return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_4 || (templateObject_4 = __makeTemplateObject([\"\\n  bottom: \", \"px;\\n  right: \", \"px;\\n  /* cursor: nwse-resize; */\\n  cursor: \", \";\\n  .jimu-rtl & {\\n    /* cursor: nesw-resize; */\\n    cursor: \", \";\\n  }\\n\"], [\"\\n  bottom: \", \"px;\\n  right: \", \"px;\\n  /* cursor: nwse-resize; */\\n  cursor: \", \";\\n  .jimu-rtl & {\\n    /* cursor: nesw-resize; */\\n    cursor: \", \";\\n  }\\n\"])), cornerPosition / 2, cornerPosition / 2, Object(_resize_cursor_util__WEBPACK_IMPORTED_MODULE_10__[\"getCursor\"])(rotation, 315), Object(_resize_cursor_util__WEBPACK_IMPORTED_MODULE_10__[\"getCursor\"])(rotation, 315 + 90)); };\nvar topSideCursor = function (rotation) { return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_5 || (templateObject_5 = __makeTemplateObject([\"\\n  height: \", \"px;\\n  left: \", \"px;\\n  right: \", \"px;\\n  top: \", \"px;\\n  /* cursor: ns-resize; */\\n  cursor: \", \";\\n\\n  &:after {\\n    left: 50%;\\n    top: 50%;\\n    margin-left: \", \"px;\\n    margin-top: \", \"px;\\n  }\\n\"], [\"\\n  height: \", \"px;\\n  left: \", \"px;\\n  right: \", \"px;\\n  top: \", \"px;\\n  /* cursor: ns-resize; */\\n  cursor: \", \";\\n\\n  &:after {\\n    left: 50%;\\n    top: 50%;\\n    margin-left: \", \"px;\\n    margin-top: \", \"px;\\n  }\\n\"])), sideSize, -1 * sidePosition, -1 * sidePosition, -1 * (sideSize / 2), Object(_resize_cursor_util__WEBPACK_IMPORTED_MODULE_10__[\"getCursor\"])(rotation, 180), cornerPosition / 2, cornerPosition / 2); };\nvar rightSideCursor = function (rotation) { return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_6 || (templateObject_6 = __makeTemplateObject([\"\\n  width: \", \"px;\\n  top: \", \"px;\\n  bottom: \", \"px;\\n  right: \", \"px;\\n  /* cursor: ew-resize; */\\n  cursor: \", \";\\n\\n  &:after {\\n    top: 50%;\\n    right: 50%;\\n    margin-top: \", \"px;\\n    margin-right: \", \"px;\\n  }\\n\"], [\"\\n  width: \", \"px;\\n  top: \", \"px;\\n  bottom: \", \"px;\\n  right: \", \"px;\\n  /* cursor: ew-resize; */\\n  cursor: \", \";\\n\\n  &:after {\\n    top: 50%;\\n    right: 50%;\\n    margin-top: \", \"px;\\n    margin-right: \", \"px;\\n  }\\n\"])), sideSize, -1 * sidePosition, -1 * sidePosition, -1 * (sideSize / 2), Object(_resize_cursor_util__WEBPACK_IMPORTED_MODULE_10__[\"getCursor\"])(rotation, 270), cornerPosition / 2, cornerPosition / 2); };\nvar bottomSideCursor = function (rotation) { return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_7 || (templateObject_7 = __makeTemplateObject([\"\\n  height: \", \"px;\\n  left: \", \"px;\\n  right: \", \"px;\\n  bottom: \", \"px;\\n  /* cursor: ns-resize; */\\n  cursor: \", \";\\n\\n  &:after {\\n    left: 50%;\\n    bottom: 50%;\\n    margin-left: \", \"px;\\n    margin-bottom: \", \"px;\\n  }\\n\"], [\"\\n  height: \", \"px;\\n  left: \", \"px;\\n  right: \", \"px;\\n  bottom: \", \"px;\\n  /* cursor: ns-resize; */\\n  cursor: \", \";\\n\\n  &:after {\\n    left: 50%;\\n    bottom: 50%;\\n    margin-left: \", \"px;\\n    margin-bottom: \", \"px;\\n  }\\n\"])), sideSize, -1 * sidePosition, -1 * sidePosition, -1 * (sideSize / 2), Object(_resize_cursor_util__WEBPACK_IMPORTED_MODULE_10__[\"getCursor\"])(rotation, 0), cornerPosition / 2, cornerPosition / 2); };\nvar leftSideCursor = function (rotation) { return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_8 || (templateObject_8 = __makeTemplateObject([\"\\n  width: \", \"px;\\n  top: \", \"px;\\n  bottom: \", \"px;\\n  left: \", \"px;\\n  /* cursor: ew-resize; */\\n  cursor: \", \";\\n\\n  &:after {\\n    top: 50%;\\n    left: 50%;\\n    margin-top: \", \"px;\\n    margin-left: \", \"px;\\n  }\\n\"], [\"\\n  width: \", \"px;\\n  top: \", \"px;\\n  bottom: \", \"px;\\n  left: \", \"px;\\n  /* cursor: ew-resize; */\\n  cursor: \", \";\\n\\n  &:after {\\n    top: 50%;\\n    left: 50%;\\n    margin-top: \", \"px;\\n    margin-left: \", \"px;\\n  }\\n\"])), sideSize, -1 * sidePosition, -1 * sidePosition, -1 * (sideSize / 2), Object(_resize_cursor_util__WEBPACK_IMPORTED_MODULE_10__[\"getCursor\"])(rotation, 90), cornerPosition / 2, cornerPosition / 2); };\nvar MODIFIERS = [\n    {\n        name: 'preventOverflow',\n        options: {\n            altAxis: true\n        },\n    },\n    {\n        name: 'flip',\n        enabled: true,\n        options: {\n            fallbackPlacements: ['top-start', 'bottom-start'],\n        }\n    }\n];\nvar lockIcon = __webpack_require__(/*! jimu-ui/lib/icons/lock.svg */ \"./jimu-ui/lib/icons/lock.svg\");\nvar SelectWrapper = /** @class */ (function (_super) {\n    __extends(SelectWrapper, _super);\n    function SelectWrapper(props) {\n        var _this = _super.call(this, props) || this;\n        _this.formatMessage = function (id) {\n            if (_this.props.intl) {\n                return _this.props.intl.formatMessage({ id: id, defaultMessage: _translations_default__WEBPACK_IMPORTED_MODULE_8__[\"default\"][id] });\n            }\n            return _translations_default__WEBPACK_IMPORTED_MODULE_8__[\"default\"][id];\n        };\n        _this.isMac = function () {\n            return /macintosh|mac os x/i.test(navigator.userAgent);\n        };\n        _this.copyItem = function () {\n            var width;\n            var height;\n            var _a = _this.props, layoutId = _a.layoutId, layoutItem = _a.layoutItem;\n            if (_this.state.virtualElement) {\n                width = _this.state.virtualElement.clientWidth;\n                height = _this.state.virtualElement.clientHeight;\n            }\n            else {\n                var rect = _this.ref.getBoundingClientRect();\n                width = rect.width;\n                height = rect.height;\n            }\n            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"getAppStore\"])().dispatch(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"appActions\"].clipboardChanged({\n                layoutId: layoutId,\n                width: width,\n                height: height,\n                layoutItemId: layoutItem.id,\n            }));\n        };\n        _this.deleteSelectedItem = function (pageContext) {\n            var _a = _this.props, selected = _a.selected, layoutId = _a.layoutId, layoutItem = _a.layoutItem;\n            if (!selected) {\n                return;\n            }\n            var layoutInfo = {\n                layoutId: layoutId,\n                layoutItemId: layoutItem.id,\n            };\n            if (!pageContext.lockLayout) {\n                if (layoutItem.type === jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"LayoutItemType\"].Widget) {\n                    if (layoutItem.widgetId) {\n                        Object(_common_layout_actions__WEBPACK_IMPORTED_MODULE_9__[\"deleteWidget\"])(layoutInfo, layoutItem.widgetId);\n                    }\n                    else {\n                        Object(_common_layout_actions__WEBPACK_IMPORTED_MODULE_9__[\"deleteLayoutItem\"])(layoutInfo);\n                    }\n                }\n                else if (layoutItem.type === jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"LayoutItemType\"].Section) {\n                    Object(_common_layout_actions__WEBPACK_IMPORTED_MODULE_9__[\"deleteSection\"])(layoutInfo, layoutItem.sectionId);\n                }\n            }\n            else {\n                if (layoutItem.type === jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"LayoutItemType\"].Widget && layoutItem.widgetId) {\n                    Object(_common_layout_actions__WEBPACK_IMPORTED_MODULE_9__[\"removeWidgetFromLayoutItem\"])(layoutInfo, layoutItem.widgetId);\n                }\n            }\n        };\n        _this.state = { virtualElement: null, selected: false };\n        if (_this.isMac()) {\n            _this.keyBindings = {\n                'delete': _this.deleteSelectedItem,\n                'backspace': _this.deleteSelectedItem,\n                'command+keyc': _this.copyItem,\n            };\n        }\n        else {\n            _this.keyBindings = {\n                'delete': _this.deleteSelectedItem,\n                'backspace': _this.deleteSelectedItem,\n                'ctrl+keyc': _this.copyItem,\n            };\n        }\n        return _this;\n    }\n    SelectWrapper.prototype.componentDidMount = function () {\n        if (this.ref) {\n            var boundingRect_1 = this.ref.getBoundingClientRect();\n            this.setState({\n                virtualElement: {\n                    getBoundingClientRect: function () { return boundingRect_1; },\n                    clientWidth: boundingRect_1.width,\n                    clientHeight: boundingRect_1.height,\n                },\n            });\n        }\n    };\n    SelectWrapper.prototype.isNumberEqual = function (n1, n2) {\n        return Math.abs(n1 - n2) <= 1;\n    };\n    SelectWrapper.prototype.isRectEqual = function (rect1, rect2) {\n        return (this.isNumberEqual(rect1.left, rect2.left) &&\n            this.isNumberEqual(rect1.top, rect2.top) &&\n            this.isNumberEqual(rect1.width, rect2.width) &&\n            this.isNumberEqual(rect1.height, rect2.height));\n    };\n    SelectWrapper.prototype.componentDidUpdate = function () {\n        this.scrollIntoView();\n        this.updateVirtualElement();\n    };\n    SelectWrapper.prototype.doScroll = function () {\n        var _a = this.props, layoutId = _a.layoutId, layoutItem = _a.layoutItem;\n        var element = document.querySelector(\"div.exb-rnd[data-layoutid=\\\"\" + layoutId + \"\\\"][data-layoutitemid=\\\"\" + layoutItem.id + \"\\\"]\");\n        if (element) {\n            element.scrollIntoView({ behavior: 'auto', block: 'center' });\n            this.updateVirtualElement();\n        }\n    };\n    SelectWrapper.prototype.updateVirtualElement = function () {\n        if (!this.state.virtualElement ||\n            this.state.selected !== this.props.selected ||\n            !this.isRectEqual(this.state.virtualElement.getBoundingClientRect(), this.ref.getBoundingClientRect())) {\n            var boundingRect_2 = this.ref.getBoundingClientRect();\n            this.setState({\n                virtualElement: {\n                    getBoundingClientRect: function () { return boundingRect_2; },\n                    clientWidth: boundingRect_2.width,\n                    clientHeight: boundingRect_2.height,\n                },\n                selected: this.props.selected\n            });\n        }\n    };\n    SelectWrapper.prototype.scrollIntoView = function () {\n        var _this = this;\n        var _a = this.props, selected = _a.selected, autoScroll = _a.autoScroll;\n        if (!selected || !autoScroll) {\n            return;\n        }\n        var layoutId = this.props.layoutId;\n        var viewChanged = false;\n        var appConfig = Object(jimu_for_builder__WEBPACK_IMPORTED_MODULE_2__[\"getAppConfigAction\"])().appConfig;\n        var viewId = jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__[\"searchUtils\"].findParentViewId(appConfig, layoutId);\n        if (viewId) {\n            var sectionId = jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__[\"searchUtils\"].findParentSectionId(appConfig, viewId);\n            if (sectionId) {\n                jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jimuHistory\"].changeView(sectionId, viewId);\n                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"getAppStore\"])().dispatch(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"appActions\"].currentViewChanged(viewId));\n                viewChanged = true;\n            }\n        }\n        if (!viewChanged) {\n            this.doScroll();\n        }\n        else {\n            jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"lodash\"].defer(function () {\n                _this.doScroll();\n            });\n        }\n    };\n    SelectWrapper.prototype.createToolbar = function () {\n        if (!this.ref) {\n            return null;\n        }\n        var _a = this.props, layoutId = _a.layoutId, layoutItem = _a.layoutItem, isSection = _a.isSection;\n        var extensionTools;\n        if (this.props.showDefaultTools !== false) {\n            var commonToolItems = isSection ? commonSectionMenuItems : commonWidgetMenuItems;\n            extensionTools = [].concat(this.props.toolItems || [], commonToolItems, this.getExtensionTools() || []);\n        }\n        else {\n            extensionTools = this.getExtensionTools();\n        }\n        if (extensionTools.length === 0) {\n            return null;\n        }\n        return (Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_6__[\"_Popper\"], { placement: \"top-start\", reference: this.state.virtualElement, open: true, modifiers: MODIFIERS, css: Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_9 || (templateObject_9 = __makeTemplateObject([\"\\n          background: transparent;\\n          box-shadow: none;\\n        \"], [\"\\n          background: transparent;\\n          box-shadow: none;\\n        \"]))) },\n            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", null,\n                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_toolbar__WEBPACK_IMPORTED_MODULE_3__[\"Toolbar\"], { layoutId: layoutId, layoutItem: layoutItem, theme: this.pageContext.builderTheme, parentRef: this.ref, tools: extensionTools, formatMessage: this.formatMessage }))));\n    };\n    SelectWrapper.prototype.getExtensionTools = function () {\n        var _this = this;\n        var widgetId = this.props.layoutItem.widgetId;\n        if (!widgetId) {\n            return [];\n        }\n        var exts = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"ExtensionManager\"].getInstance().getExtensions(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"extensionSpec\"].ExtensionPoints.ContextTool);\n        return exts\n            .filter(function (ext) { return ext.widgetId === widgetId; })\n            .map(function (ext) {\n            return {\n                widgetId: widgetId,\n                icon: ext.getIcon(),\n                title: ext.getTitle(),\n                onClick: ext.onClick.bind(ext),\n                checked: ext.checked && ext.checked.bind(ext),\n                disabled: ext.disabled ? (typeof ext.disabled === 'function' ? ext.disabled.bind(ext) : ext.disabled) : null,\n                visible: ext.visible ? (typeof ext.visible === 'function' ? ext.visible.bind(ext) : ext.visible) : null,\n                settingPanel: ext.getSettingPanel({\n                    layoutId: _this.props.layoutId,\n                    layoutItem: _this.props.layoutItem,\n                    clientRect: _this.ref.getBoundingClientRect(),\n                }),\n                index: ext.index,\n            };\n        })\n            .sort(function (a, b) {\n            return a.index - b.index;\n        });\n    };\n    SelectWrapper.prototype.getStyle = function () {\n        var _a = this.props, isFunctionalWidget = _a.isFunctionalWidget, isSection = _a.isSection, selected = _a.selected, isBlock = _a.isBlock, _b = _a.rotate, rotate = _b === void 0 ? 0 : _b;\n        var defaultColor = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"polished\"].rgba(this.pageContext.builderTheme.colors.palette.dark[300], 0.6);\n        var hoverColor = this.pageContext.builderTheme.colors.palette.primary[700];\n        var selectedColor = hoverColor;\n        var outlineStyle = (!isFunctionalWidget || isSection) && (!selected || this.pageContext.lockLayout) ? 'dashed' : 'solid';\n        return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_10 || (templateObject_10 = __makeTemplateObject([\"\\n      .\", \" &,\\n      .\", \" & {\\n        > .action-area {\\n          display: none !important;\\n        }\\n        > div.highlight-tip {\\n          .tip-content {\\n            outline-color: \", \";\\n          }\\n        }\\n      }\\n\\n      transform: \", \" ;\\n      padding: inherit;\\n      position: absolute;\\n      left: 0;\\n      bottom: 0;\\n      top: 0;\\n      right: 0;\\n      z-index: \", \";\\n      pointer-events: none;\\n      & > div.highlight-tip {\\n        display: block;\\n        padding: inherit;\\n        position: absolute;\\n        left: 0;\\n        bottom: 0;\\n        top: 0;\\n        right: 0;\\n        pointer-events: none;\\n        .tip-content {\\n          height: 100%;\\n          padding: 1px;\\n          &:after {\\n            content: '';\\n            width: 100%;\\n            height: 100%;\\n            outline: \", \";\\n            display: block;\\n            outline-color: \", \";\\n          }\\n        }\\n      }\\n\\n      .exb-rnd:hover > & > div.highlight-tip {\\n        display: block;\\n        .tip-content {\\n          &:after {\\n            outline-color: \", \";\\n          }\\n        }\\n      }\\n      .exb-rnd.selected > & > div.highlight-tip {\\n        display: block;\\n        .tip-content {\\n          &:after {\\n            outline-color: \", \";\\n          }\\n        }\\n      }\\n\\n      & > .action-area {\\n        position: relative;\\n        .handle {\\n          position: absolute;\\n          pointer-events: all;\\n        }\\n      }\\n\\n      .lock-layout-tip {\\n        background: \", \";\\n        border: 1px solid \", \";\\n        box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.5);\\n        width: 20px;\\n        height: 20px;\\n        position: absolute;\\n        left: -10px;\\n        top: -10px;\\n\\n        svg {\\n          margin-bottom: 6px;\\n          margin-left: 4px;\\n        }\\n      }\\n    \"], [\"\\n      .\", \" &,\\n      .\", \" & {\\n        > .action-area {\\n          display: none !important;\\n        }\\n        > div.highlight-tip {\\n          .tip-content {\\n            outline-color: \", \";\\n          }\\n        }\\n      }\\n\\n      transform: \", \" ;\\n      padding: inherit;\\n      position: absolute;\\n      left: 0;\\n      bottom: 0;\\n      top: 0;\\n      right: 0;\\n      z-index: \", \";\\n      pointer-events: none;\\n      & > div.highlight-tip {\\n        display: block;\\n        padding: inherit;\\n        position: absolute;\\n        left: 0;\\n        bottom: 0;\\n        top: 0;\\n        right: 0;\\n        pointer-events: none;\\n        .tip-content {\\n          height: 100%;\\n          padding: 1px;\\n          &:after {\\n            content: '';\\n            width: 100%;\\n            height: 100%;\\n            outline: \", \";\\n            display: block;\\n            outline-color: \", \";\\n          }\\n        }\\n      }\\n\\n      .exb-rnd:hover > & > div.highlight-tip {\\n        display: block;\\n        .tip-content {\\n          &:after {\\n            outline-color: \", \";\\n          }\\n        }\\n      }\\n      .exb-rnd.selected > & > div.highlight-tip {\\n        display: block;\\n        .tip-content {\\n          &:after {\\n            outline-color: \", \";\\n          }\\n        }\\n      }\\n\\n      & > .action-area {\\n        position: relative;\\n        .handle {\\n          position: absolute;\\n          pointer-events: all;\\n        }\\n      }\\n\\n      .lock-layout-tip {\\n        background: \", \";\\n        border: 1px solid \", \";\\n        box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.5);\\n        width: 20px;\\n        height: 20px;\\n        position: absolute;\\n        left: -10px;\\n        top: -10px;\\n\\n        svg {\\n          margin-bottom: 6px;\\n          margin-left: 4px;\\n        }\\n      }\\n    \"])), _interactive_drag_event_handler__WEBPACK_IMPORTED_MODULE_7__[\"GLOBAL_H5_DRAGGING_CLASS_NAME\"], _interactive_drag_event_handler__WEBPACK_IMPORTED_MODULE_7__[\"GLOBAL_DRAGGING_CLASS_NAME\"], defaultColor, rotate > 0 || rotate < 0 ? \"rotateZ(\" + rotate + \"deg)\" : '', selected ? jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__[\"LayoutZIndex\"].HandlerTools : 'auto', isBlock && !selected ? 'none' : \"1px \" + outlineStyle + \" \" + defaultColor, !isFunctionalWidget || isSection ? defaultColor : 'transparent', hoverColor, selectedColor, this.pageContext.builderTheme.colors.palette.dark[100], this.pageContext.builderTheme.colors.palette.light[700]);\n    };\n    SelectWrapper.prototype.getKeyboardComponent = function () {\n        return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"Keyboard\"], { bindings: this.keyBindings });\n    };\n    SelectWrapper.prototype.render = function () {\n        var _this = this;\n        return (Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__[\"PageContext\"].Consumer, null, function (pageContext) {\n            _this.pageContext = pageContext;\n            var _a = _this.props, resizable = _a.resizable, draggable = _a.draggable, selected = _a.selected, isInlineEditing = _a.isInlineEditing, forbidToolbar = _a.forbidToolbar;\n            var canResize = selected && pageContext.isDesignMode && !pageContext.viewOnly && !pageContext.lockLayout;\n            var actions;\n            if (canResize) {\n                var enableResizing = _this.enableResizing(!pageContext.viewOnly && resizable !== false && selected && pageContext.isDesignMode && !isInlineEditing);\n                actions = _this.actionHandlers(enableResizing, pageContext.builderTheme);\n            }\n            var lockLayout = draggable === false && resizable === false;\n            return (Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { ref: function (el) { return (_this.ref = el); }, css: _this.getStyle(), className: Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"classNames\"])('select-wrapper', {\n                    selected: selected,\n                    'design-mode': pageContext.isDesignMode,\n                    'no-embed-layout': !_this.props.hasEmbeddedLayout,\n                }) },\n                !pageContext.viewOnly && pageContext.isDesignMode && (Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"highlight-tip\" },\n                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"tip-content\" }))),\n                !forbidToolbar && !pageContext.viewOnly && pageContext.isDesignMode && selected && _this.createToolbar(),\n                canResize && Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"w-100 h-100 action-area\" }, actions),\n                lockLayout && selected && (Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"lock-layout-tip rounded-circle\" },\n                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_6__[\"Icon\"], { icon: lockIcon, size: 12, color: pageContext.builderTheme.colors.black }))),\n                pageContext.isDesignMode && selected && _this.getKeyboardComponent()));\n        }));\n    };\n    SelectWrapper.prototype.enableResizing = function (isActive) {\n        var _a = this.props, left = _a.left, right = _a.right, top = _a.top, bottom = _a.bottom;\n        return {\n            top: Boolean(isActive && top !== false),\n            right: Boolean(isActive && right !== false),\n            bottom: Boolean(isActive && bottom !== false),\n            left: Boolean(isActive && left !== false),\n            topRight: Boolean(isActive && top !== false && right !== false),\n            bottomRight: Boolean(isActive && bottom !== false && right !== false),\n            bottomLeft: Boolean(isActive && bottom !== false && left !== false),\n            topLeft: Boolean(isActive && top !== false && left !== false),\n        };\n    };\n    SelectWrapper.prototype.actionHandlers = function (enableResizing, builderTheme) {\n        var handlers = [];\n        var rotation = this.props.rotate;\n        var rectHandle = Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_11 || (templateObject_11 = __makeTemplateObject([\"\\n      width: \", \"px;\\n      height: \", \"px;\\n      background: \", \";\\n      border: 1px solid \", \";\\n      box-shadow: 0 2px 4px 0 \", \";\\n      z-index: \", \";\\n    \"], [\"\\n      width: \", \"px;\\n      height: \", \"px;\\n      background: \", \";\\n      border: 1px solid \", \";\\n      box-shadow: 0 2px 4px 0 \", \";\\n      z-index: \", \";\\n    \"])), cornerSize, cornerSize, builderTheme.colors.black, builderTheme.colors.palette.light[600], jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"polished\"].rgba(builderTheme.colors.white, 0.5), jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__[\"LayoutZIndex\"].HandlerTools);\n        this.cornerHandle = rectHandle;\n        this.sideHandle = Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_12 || (templateObject_12 = __makeTemplateObject([\"\\n      box-shadow: none;\\n\\n      &:after {\\n        position: absolute;\\n        content: '';\\n        \", \";\\n      }\\n    \"], [\"\\n      box-shadow: none;\\n\\n      &:after {\\n        position: absolute;\\n        content: '';\\n        \", \";\\n      }\\n    \"])), rectHandle);\n        if (enableResizing.top) {\n            handlers.push(Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"span\", { key: \"2\", className: \"rnd-resize-top handle no-drag-action\", css: [this.sideHandle, topSideCursor(rotation)] }));\n        }\n        if (enableResizing.right) {\n            handlers.push(Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"span\", { key: \"4\", className: \"rnd-resize-right handle no-drag-action\", css: [this.sideHandle, rightSideCursor(rotation)] }));\n        }\n        if (enableResizing.bottom) {\n            handlers.push(Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"span\", { key: \"6\", className: \"rnd-resize-bottom handle no-drag-action\", css: [this.sideHandle, bottomSideCursor(rotation)] }));\n        }\n        if (enableResizing.left) {\n            handlers.push(Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"span\", { key: \"8\", className: \"rnd-resize-left handle no-drag-action\", css: [this.sideHandle, leftSideCursor(rotation)] }));\n        }\n        if (enableResizing.topLeft) {\n            handlers.push(Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"span\", { key: \"1\", className: \"rnd-resize-top rnd-resize-left handle no-drag-action\", css: [this.cornerHandle, topLeftCursor(rotation)] }));\n        }\n        if (enableResizing.topRight) {\n            handlers.push(Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"span\", { key: \"3\", className: \"rnd-resize-top rnd-resize-right handle no-drag-action\", css: [this.cornerHandle, topRightCursor(rotation)] }));\n        }\n        if (enableResizing.bottomRight) {\n            handlers.push(Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"span\", { key: \"5\", className: \"rnd-resize-bottom rnd-resize-right handle no-drag-action\", css: [this.cornerHandle, bottomRightCursor(rotation)] }));\n        }\n        if (enableResizing.bottomLeft) {\n            handlers.push(Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"span\", { key: \"7\", className: \"rnd-resize-bottom rnd-resize-left handle no-drag-action\", css: [this.cornerHandle, bottomLeftCursor(rotation)] }));\n        }\n        return handlers;\n    };\n    return SelectWrapper;\n}(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].PureComponent));\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"injectIntl\"])(SelectWrapper));\nvar templateObject_1, templateObject_2, templateObject_3, templateObject_4, templateObject_5, templateObject_6, templateObject_7, templateObject_8, templateObject_9, templateObject_10, templateObject_11, templateObject_12;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWxheW91dHMvbGliL2J1aWxkZXIvc2VsZWN0LXdyYXBwZXIudHN4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vamltdS1sYXlvdXRzL2xpYi9idWlsZGVyL3NlbGVjdC13cmFwcGVyLnRzeD8xNTdiIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKiBAanN4IGpzeCAqL1xuaW1wb3J0IHtcbiAgUmVhY3QsXG4gIGpzeCxcbiAgY3NzLFxuICBFeHRlbnNpb25NYW5hZ2VyLFxuICBJTVRoZW1lVmFyaWFibGVzLFxuICBleHRlbnNpb25TcGVjLFxuICBJTUxheW91dEl0ZW1Kc29uLFxuICBjbGFzc05hbWVzLFxuICBwb2xpc2hlZCxcbiAgaW5qZWN0SW50bCxcbiAgSW50bFNoYXBlLFxuICBqaW11SGlzdG9yeSxcbiAgZ2V0QXBwU3RvcmUsXG4gIGFwcEFjdGlvbnMsXG4gIGxvZGFzaCxcbiAgSU1XaWRnZXRKc29uLFxuICBLZXlib2FyZCxcbiAgTGF5b3V0SXRlbVR5cGUsXG4gIEltbXV0YWJsZUFycmF5LFxufSBmcm9tICdqaW11LWNvcmUnO1xuaW1wb3J0IHtcbiAgVG9vbEl0ZW1Db25maWcsXG4gIFRvb2xiYXJDb25maWcsXG4gIFBhZ2VDb250ZXh0LFxuICBQYWdlQ29udGV4dFByb3BzLFxuICBMYXlvdXRaSW5kZXgsXG4gIHNlYXJjaFV0aWxzXG59IGZyb20gJ2ppbXUtbGF5b3V0cy9sYXlvdXQtcnVudGltZSc7XG5pbXBvcnQgeyBnZXRBcHBDb25maWdBY3Rpb24gfSBmcm9tICdqaW11LWZvci1idWlsZGVyJztcbmltcG9ydCB7IFRvb2xiYXIgfSBmcm9tICcuL3Rvb2xiYXInO1xuaW1wb3J0IHsgZGVsZXRlTWVudUl0ZW0sIHBlbmRpbmdNZW51SXRlbSwgZHVwbGljYXRlTWVudUl0ZW0sIGZsb2F0aW5nTWVudUl0ZW0sIHNpbmtpbmdNZW51SXRlbSB9IGZyb20gJy4vbWVudS9jb21tb24tbWVudSc7XG5pbXBvcnQgeyBzZWN0aW9uTWVudUl0ZW1zIH0gZnJvbSAnLi9tZW51L3NlY3Rpb24tbWVudSc7XG5pbXBvcnQgeyBfUG9wcGVyIGFzIFBvcHBlciwgSWNvbiwgVGFyZ2V0VHlwZSB9IGZyb20gJ2ppbXUtdWknO1xuaW1wb3J0IHsgR0xPQkFMX0RSQUdHSU5HX0NMQVNTX05BTUUsIEdMT0JBTF9INV9EUkFHR0lOR19DTEFTU19OQU1FIH0gZnJvbSAnLi9pbnRlcmFjdGl2ZS9kcmFnLWV2ZW50LWhhbmRsZXInO1xuaW1wb3J0IGRlZmF1bHRNZXNzYWdlcyBmcm9tICcuLi90cmFuc2xhdGlvbnMvZGVmYXVsdCc7XG5pbXBvcnQgeyBkZWxldGVTZWN0aW9uLCBkZWxldGVXaWRnZXQsIGRlbGV0ZUxheW91dEl0ZW0sIHJlbW92ZVdpZGdldEZyb21MYXlvdXRJdGVtIH0gZnJvbSAnLi9jb21tb24tbGF5b3V0LWFjdGlvbnMnO1xuaW1wb3J0IHsgZ2V0Q3Vyc29yIH0gZnJvbSAnLi9yZXNpemUtY3Vyc29yLXV0aWwnO1xuXG5jb25zdCBjb21tb25XaWRnZXRNZW51SXRlbXMgPSBbZHVwbGljYXRlTWVudUl0ZW0sIGZsb2F0aW5nTWVudUl0ZW0sIHNpbmtpbmdNZW51SXRlbSwgcGVuZGluZ01lbnVJdGVtLCBkZWxldGVNZW51SXRlbV07XG5jb25zdCBjb21tb25TZWN0aW9uTWVudUl0ZW1zID0gW10uY29uY2F0KHNlY3Rpb25NZW51SXRlbXMsIGNvbW1vbldpZGdldE1lbnVJdGVtcyk7XG5cbnR5cGUgUHJvcHMgPSB7XG4gIGxheW91dElkOiBzdHJpbmc7XG4gIGxheW91dEl0ZW06IElNTGF5b3V0SXRlbUpzb247XG4gIHRvcD86IGJvb2xlYW47XG4gIGxlZnQ/OiBib29sZWFuO1xuICByaWdodD86IGJvb2xlYW47XG4gIGJvdHRvbT86IGJvb2xlYW47XG4gIHJlc2l6YWJsZT86IGJvb2xlYW47XG4gIGRyYWdnYWJsZT86IGJvb2xlYW47XG4gIGZvcmJpZFRvb2xiYXI/OiBib29sZWFuO1xuICB0b29sSXRlbXM/OiBUb29sYmFyQ29uZmlnO1xuICBzaG93RGVmYXVsdFRvb2xzPzogYm9vbGVhbjtcbiAgc2VsZWN0ZWQ6IGJvb2xlYW47XG4gIGF1dG9TY3JvbGw/OiBib29sZWFuO1xuICBpc0lubGluZUVkaXRpbmc6IGJvb2xlYW47XG4gIGlzRnVuY3Rpb25hbFdpZGdldDogYm9vbGVhbjtcbiAgaGFzRW1iZWRkZWRMYXlvdXQ6IGJvb2xlYW47XG4gIGlzU2VjdGlvbjogYm9vbGVhbjtcbiAgYWN0aXZlVmlldzogc3RyaW5nO1xuICB2aWV3cz86IEltbXV0YWJsZUFycmF5PHN0cmluZz47XG4gIGlzQmxvY2s/OiBib29sZWFuO1xuICBoYXNFeHRlbnNpb24/OiBib29sZWFuO1xuICB3aWRnZXRKc29uPzogSU1XaWRnZXRKc29uO1xuICB3aWRnZXRTdGF0ZT86IGFueTtcbiAgcm90YXRlPzogbnVtYmVyO1xufTtcblxuY29uc3QgY29ybmVyU2l6ZSA9IDEwO1xuY29uc3QgY29ybmVyUG9zaXRpb24gPSAtMTA7XG5jb25zdCBzaWRlU2l6ZSA9IDE2O1xuY29uc3Qgc2lkZVBvc2l0aW9uID0gLTEwO1xuXG5jb25zdCB0b3BMZWZ0Q3Vyc29yID0gKHJvdGF0aW9uOiBudW1iZXIpID0+IGNzc2BcbiAgdG9wOiAke2Nvcm5lclBvc2l0aW9uIC8gMn1weDtcbiAgbGVmdDogJHtjb3JuZXJQb3NpdGlvbiAvIDJ9cHg7XG4gIC8qIGN1cnNvcjogbndzZS1yZXNpemU7ICovXG4gIGN1cnNvcjogJHtnZXRDdXJzb3Iocm90YXRpb24sIDEzNSl9O1xuICAuamltdS1ydGwgJiB7XG4gICAgLyogY3Vyc29yOiBuZXN3LXJlc2l6ZTsgKi9cbiAgICBjdXJzb3I6ICR7Z2V0Q3Vyc29yKHJvdGF0aW9uLCAxMzUgKyA5MCl9O1xuICB9XG5gO1xuY29uc3QgdG9wUmlnaHRDdXJzb3IgPSAocm90YXRpb246IG51bWJlcikgPT4gY3NzYFxuICB0b3A6ICR7Y29ybmVyUG9zaXRpb24gLyAyfXB4O1xuICByaWdodDogJHtjb3JuZXJQb3NpdGlvbiAvIDJ9cHg7XG4gIC8qIGN1cnNvcjogbmVzdy1yZXNpemU7ICovXG4gIGN1cnNvcjogJHtnZXRDdXJzb3Iocm90YXRpb24sIDIyNSl9O1xuICAuamltdS1ydGwgJiB7XG4gICAgLyogY3Vyc29yOiBud3NlLXJlc2l6ZTsgKi9cbiAgICBjdXJzb3I6ICR7Z2V0Q3Vyc29yKHJvdGF0aW9uLCAyMjUgKyA5MCl9O1xuICB9XG5gO1xuY29uc3QgYm90dG9tTGVmdEN1cnNvciA9IChyb3RhdGlvbjogbnVtYmVyKSA9PiBjc3NgXG4gIGJvdHRvbTogJHtjb3JuZXJQb3NpdGlvbiAvIDJ9cHg7XG4gIGxlZnQ6ICR7Y29ybmVyUG9zaXRpb24gLyAyfXB4O1xuICAvKiBjdXJzb3I6IG5lc3ctcmVzaXplOyAqL1xuICBjdXJzb3I6ICR7Z2V0Q3Vyc29yKHJvdGF0aW9uLCA0NSl9O1xuICAuamltdS1ydGwgJiB7XG4gICAgLyogY3Vyc29yOiBud3NlLXJlc2l6ZTsgKi9cbiAgICBjdXJzb3I6ICR7Z2V0Q3Vyc29yKHJvdGF0aW9uLCA0NSArIDkwKX07XG4gIH1cbmA7XG5jb25zdCBib3R0b21SaWdodEN1cnNvciA9IChyb3RhdGlvbjogbnVtYmVyKSA9PiBjc3NgXG4gIGJvdHRvbTogJHtjb3JuZXJQb3NpdGlvbiAvIDJ9cHg7XG4gIHJpZ2h0OiAke2Nvcm5lclBvc2l0aW9uIC8gMn1weDtcbiAgLyogY3Vyc29yOiBud3NlLXJlc2l6ZTsgKi9cbiAgY3Vyc29yOiAke2dldEN1cnNvcihyb3RhdGlvbiwgMzE1KX07XG4gIC5qaW11LXJ0bCAmIHtcbiAgICAvKiBjdXJzb3I6IG5lc3ctcmVzaXplOyAqL1xuICAgIGN1cnNvcjogJHtnZXRDdXJzb3Iocm90YXRpb24sIDMxNSArIDkwKX07XG4gIH1cbmA7XG5jb25zdCB0b3BTaWRlQ3Vyc29yID0gKHJvdGF0aW9uOiBudW1iZXIpID0+IGNzc2BcbiAgaGVpZ2h0OiAke3NpZGVTaXplfXB4O1xuICBsZWZ0OiAkey0xICogc2lkZVBvc2l0aW9ufXB4O1xuICByaWdodDogJHstMSAqIHNpZGVQb3NpdGlvbn1weDtcbiAgdG9wOiAkey0xICogKHNpZGVTaXplIC8gMil9cHg7XG4gIC8qIGN1cnNvcjogbnMtcmVzaXplOyAqL1xuICBjdXJzb3I6ICR7Z2V0Q3Vyc29yKHJvdGF0aW9uLCAxODApfTtcblxuICAmOmFmdGVyIHtcbiAgICBsZWZ0OiA1MCU7XG4gICAgdG9wOiA1MCU7XG4gICAgbWFyZ2luLWxlZnQ6ICR7Y29ybmVyUG9zaXRpb24gLyAyfXB4O1xuICAgIG1hcmdpbi10b3A6ICR7Y29ybmVyUG9zaXRpb24gLyAyfXB4O1xuICB9XG5gO1xuY29uc3QgcmlnaHRTaWRlQ3Vyc29yID0gKHJvdGF0aW9uOiBudW1iZXIpID0+IGNzc2BcbiAgd2lkdGg6ICR7c2lkZVNpemV9cHg7XG4gIHRvcDogJHstMSAqIHNpZGVQb3NpdGlvbn1weDtcbiAgYm90dG9tOiAkey0xICogc2lkZVBvc2l0aW9ufXB4O1xuICByaWdodDogJHstMSAqIChzaWRlU2l6ZSAvIDIpfXB4O1xuICAvKiBjdXJzb3I6IGV3LXJlc2l6ZTsgKi9cbiAgY3Vyc29yOiAke2dldEN1cnNvcihyb3RhdGlvbiwgMjcwKX07XG5cbiAgJjphZnRlciB7XG4gICAgdG9wOiA1MCU7XG4gICAgcmlnaHQ6IDUwJTtcbiAgICBtYXJnaW4tdG9wOiAke2Nvcm5lclBvc2l0aW9uIC8gMn1weDtcbiAgICBtYXJnaW4tcmlnaHQ6ICR7Y29ybmVyUG9zaXRpb24gLyAyfXB4O1xuICB9XG5gO1xuY29uc3QgYm90dG9tU2lkZUN1cnNvciA9IChyb3RhdGlvbjogbnVtYmVyKSA9PiBjc3NgXG4gIGhlaWdodDogJHtzaWRlU2l6ZX1weDtcbiAgbGVmdDogJHstMSAqIHNpZGVQb3NpdGlvbn1weDtcbiAgcmlnaHQ6ICR7LTEgKiBzaWRlUG9zaXRpb259cHg7XG4gIGJvdHRvbTogJHstMSAqIChzaWRlU2l6ZSAvIDIpfXB4O1xuICAvKiBjdXJzb3I6IG5zLXJlc2l6ZTsgKi9cbiAgY3Vyc29yOiAke2dldEN1cnNvcihyb3RhdGlvbiwgMCl9O1xuXG4gICY6YWZ0ZXIge1xuICAgIGxlZnQ6IDUwJTtcbiAgICBib3R0b206IDUwJTtcbiAgICBtYXJnaW4tbGVmdDogJHtjb3JuZXJQb3NpdGlvbiAvIDJ9cHg7XG4gICAgbWFyZ2luLWJvdHRvbTogJHtjb3JuZXJQb3NpdGlvbiAvIDJ9cHg7XG4gIH1cbmA7XG5jb25zdCBsZWZ0U2lkZUN1cnNvciA9IChyb3RhdGlvbjogbnVtYmVyKSA9PiBjc3NgXG4gIHdpZHRoOiAke3NpZGVTaXplfXB4O1xuICB0b3A6ICR7LTEgKiBzaWRlUG9zaXRpb259cHg7XG4gIGJvdHRvbTogJHstMSAqIHNpZGVQb3NpdGlvbn1weDtcbiAgbGVmdDogJHstMSAqIChzaWRlU2l6ZSAvIDIpfXB4O1xuICAvKiBjdXJzb3I6IGV3LXJlc2l6ZTsgKi9cbiAgY3Vyc29yOiAke2dldEN1cnNvcihyb3RhdGlvbiwgOTApfTtcblxuICAmOmFmdGVyIHtcbiAgICB0b3A6IDUwJTtcbiAgICBsZWZ0OiA1MCU7XG4gICAgbWFyZ2luLXRvcDogJHtjb3JuZXJQb3NpdGlvbiAvIDJ9cHg7XG4gICAgbWFyZ2luLWxlZnQ6ICR7Y29ybmVyUG9zaXRpb24gLyAyfXB4O1xuICB9XG5gO1xuXG5jb25zdCBNT0RJRklFUlMgPSBbXG4gIHtcbiAgICBuYW1lOiAncHJldmVudE92ZXJmbG93JyxcbiAgICBvcHRpb25zOiB7XG4gICAgICBhbHRBeGlzOiB0cnVlXG4gICAgfSxcbiAgfSxcbiAge1xuICAgIG5hbWU6ICdmbGlwJyxcbiAgICBlbmFibGVkOiB0cnVlLFxuICAgIG9wdGlvbnM6IHtcbiAgICAgIGZhbGxiYWNrUGxhY2VtZW50czogWyd0b3Atc3RhcnQnLCAnYm90dG9tLXN0YXJ0J10sXG4gICAgfVxuICB9XG5dO1xuXG5jb25zdCBsb2NrSWNvbiA9IHJlcXVpcmUoJ2ppbXUtdWkvbGliL2ljb25zL2xvY2suc3ZnJyk7XG5cbmludGVyZmFjZSBTdGF0ZSB7XG4gIHZpcnR1YWxFbGVtZW50OiB7XG4gICAgZ2V0Qm91bmRpbmdDbGllbnRSZWN0OiAoKSA9PiBDbGllbnRSZWN0O1xuICAgIGNsaWVudFdpZHRoOiBudW1iZXI7XG4gICAgY2xpZW50SGVpZ2h0OiBudW1iZXI7XG4gIH07XG4gIHNlbGVjdGVkOiBib29sZWFuO1xufVxuXG5pbnRlcmZhY2UgSW50bFByb3BzIHtcbiAgaW50bDogSW50bFNoYXBlO1xufVxuXG5leHBvcnQgY2xhc3MgU2VsZWN0V3JhcHBlciBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQ8UHJvcHMgJiBJbnRsUHJvcHMsIFN0YXRlPiB7XG4gIHJlZjogSFRNTEVsZW1lbnQ7XG5cbiAgcGFnZUNvbnRleHQ6IFBhZ2VDb250ZXh0UHJvcHM7XG5cbiAgY29ybmVySGFuZGxlO1xuICBzaWRlSGFuZGxlO1xuXG4gIGtleUJpbmRpbmdzOiB7W2tleTogc3RyaW5nXTogYW55fTtcblxuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLnN0YXRlID0geyB2aXJ0dWFsRWxlbWVudDogbnVsbCwgc2VsZWN0ZWQ6IGZhbHNlIH07XG4gICAgaWYgKHRoaXMuaXNNYWMoKSkge1xuICAgICAgdGhpcy5rZXlCaW5kaW5ncyA9IHtcbiAgICAgICAgJ2RlbGV0ZSc6IHRoaXMuZGVsZXRlU2VsZWN0ZWRJdGVtLFxuICAgICAgICAnYmFja3NwYWNlJzogdGhpcy5kZWxldGVTZWxlY3RlZEl0ZW0sXG4gICAgICAgICdjb21tYW5kK2tleWMnOiB0aGlzLmNvcHlJdGVtLFxuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5rZXlCaW5kaW5ncyA9IHtcbiAgICAgICAgJ2RlbGV0ZSc6IHRoaXMuZGVsZXRlU2VsZWN0ZWRJdGVtLFxuICAgICAgICAnYmFja3NwYWNlJzogdGhpcy5kZWxldGVTZWxlY3RlZEl0ZW0sXG4gICAgICAgICdjdHJsK2tleWMnOiB0aGlzLmNvcHlJdGVtLFxuICAgICAgfTtcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBpZiAodGhpcy5yZWYpIHtcbiAgICAgIGNvbnN0IGJvdW5kaW5nUmVjdCA9IHRoaXMucmVmLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIHZpcnR1YWxFbGVtZW50OiB7XG4gICAgICAgICAgZ2V0Qm91bmRpbmdDbGllbnRSZWN0OiAoKSA9PiBib3VuZGluZ1JlY3QsXG4gICAgICAgICAgY2xpZW50V2lkdGg6IGJvdW5kaW5nUmVjdC53aWR0aCxcbiAgICAgICAgICBjbGllbnRIZWlnaHQ6IGJvdW5kaW5nUmVjdC5oZWlnaHQsXG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGlzTnVtYmVyRXF1YWwobjE6IG51bWJlciwgbjI6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgIHJldHVybiBNYXRoLmFicyhuMSAtIG4yKSA8PSAxO1xuICB9XG5cbiAgcHJpdmF0ZSBpc1JlY3RFcXVhbChyZWN0MTogQ2xpZW50UmVjdCwgcmVjdDI6IENsaWVudFJlY3QpOiBib29sZWFuIHtcbiAgICByZXR1cm4gKFxuICAgICAgdGhpcy5pc051bWJlckVxdWFsKHJlY3QxLmxlZnQsIHJlY3QyLmxlZnQpICYmXG4gICAgICB0aGlzLmlzTnVtYmVyRXF1YWwocmVjdDEudG9wLCByZWN0Mi50b3ApICYmXG4gICAgICB0aGlzLmlzTnVtYmVyRXF1YWwocmVjdDEud2lkdGgsIHJlY3QyLndpZHRoKSAmJlxuICAgICAgdGhpcy5pc051bWJlckVxdWFsKHJlY3QxLmhlaWdodCwgcmVjdDIuaGVpZ2h0KVxuICAgICk7XG4gIH1cblxuICBjb21wb25lbnREaWRVcGRhdGUoKSB7XG4gICAgdGhpcy5zY3JvbGxJbnRvVmlldygpO1xuICAgIHRoaXMudXBkYXRlVmlydHVhbEVsZW1lbnQoKTtcbiAgfVxuXG4gIHByaXZhdGUgZG9TY3JvbGwoKSB7XG4gICAgY29uc3QgeyBsYXlvdXRJZCwgbGF5b3V0SXRlbSB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCBlbGVtZW50OiBIVE1MRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICBgZGl2LmV4Yi1ybmRbZGF0YS1sYXlvdXRpZD1cIiR7bGF5b3V0SWR9XCJdW2RhdGEtbGF5b3V0aXRlbWlkPVwiJHtsYXlvdXRJdGVtLmlkfVwiXWBcbiAgICApO1xuICAgIGlmIChlbGVtZW50KSB7XG4gICAgICBlbGVtZW50LnNjcm9sbEludG9WaWV3KHsgYmVoYXZpb3I6ICdhdXRvJywgYmxvY2s6ICdjZW50ZXInIH0pO1xuICAgICAgdGhpcy51cGRhdGVWaXJ0dWFsRWxlbWVudCgpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgdXBkYXRlVmlydHVhbEVsZW1lbnQoKSB7XG4gICAgaWYgKFxuICAgICAgIXRoaXMuc3RhdGUudmlydHVhbEVsZW1lbnQgfHxcbiAgICAgIHRoaXMuc3RhdGUuc2VsZWN0ZWQgIT09IHRoaXMucHJvcHMuc2VsZWN0ZWQgfHxcbiAgICAgICF0aGlzLmlzUmVjdEVxdWFsKHRoaXMuc3RhdGUudmlydHVhbEVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksIHRoaXMucmVmLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKVxuICAgICkge1xuICAgICAgY29uc3QgYm91bmRpbmdSZWN0ID0gdGhpcy5yZWYuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgdmlydHVhbEVsZW1lbnQ6IHtcbiAgICAgICAgICBnZXRCb3VuZGluZ0NsaWVudFJlY3Q6ICgpID0+IGJvdW5kaW5nUmVjdCxcbiAgICAgICAgICBjbGllbnRXaWR0aDogYm91bmRpbmdSZWN0LndpZHRoLFxuICAgICAgICAgIGNsaWVudEhlaWdodDogYm91bmRpbmdSZWN0LmhlaWdodCxcbiAgICAgICAgfSxcbiAgICAgICAgc2VsZWN0ZWQ6IHRoaXMucHJvcHMuc2VsZWN0ZWRcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHNjcm9sbEludG9WaWV3KCkge1xuICAgIGNvbnN0IHsgc2VsZWN0ZWQsIGF1dG9TY3JvbGwgfSA9IHRoaXMucHJvcHM7XG4gICAgaWYgKCFzZWxlY3RlZCB8fCAhYXV0b1Njcm9sbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCB7IGxheW91dElkIH0gPSB0aGlzLnByb3BzO1xuXG4gICAgbGV0IHZpZXdDaGFuZ2VkID0gZmFsc2U7XG4gICAgY29uc3QgYXBwQ29uZmlnID0gZ2V0QXBwQ29uZmlnQWN0aW9uKCkuYXBwQ29uZmlnO1xuICAgIGNvbnN0IHZpZXdJZCA9IHNlYXJjaFV0aWxzLmZpbmRQYXJlbnRWaWV3SWQoYXBwQ29uZmlnLCBsYXlvdXRJZCk7XG4gICAgaWYgKHZpZXdJZCkge1xuICAgICAgY29uc3Qgc2VjdGlvbklkID0gc2VhcmNoVXRpbHMuZmluZFBhcmVudFNlY3Rpb25JZChhcHBDb25maWcsIHZpZXdJZCk7XG4gICAgICBpZiAoc2VjdGlvbklkKSB7XG4gICAgICAgIGppbXVIaXN0b3J5LmNoYW5nZVZpZXcoc2VjdGlvbklkLCB2aWV3SWQpO1xuICAgICAgICBnZXRBcHBTdG9yZSgpLmRpc3BhdGNoKGFwcEFjdGlvbnMuY3VycmVudFZpZXdDaGFuZ2VkKHZpZXdJZCkpO1xuICAgICAgICB2aWV3Q2hhbmdlZCA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICghdmlld0NoYW5nZWQpIHtcbiAgICAgIHRoaXMuZG9TY3JvbGwoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbG9kYXNoLmRlZmVyKCgpID0+IHtcbiAgICAgICAgdGhpcy5kb1Njcm9sbCgpO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgY3JlYXRlVG9vbGJhcigpIHtcbiAgICBpZiAoIXRoaXMucmVmKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBjb25zdCB7IGxheW91dElkLCBsYXlvdXRJdGVtLCBpc1NlY3Rpb24gfSA9IHRoaXMucHJvcHM7XG4gICAgbGV0IGV4dGVuc2lvblRvb2xzO1xuICAgIGlmICh0aGlzLnByb3BzLnNob3dEZWZhdWx0VG9vbHMgIT09IGZhbHNlKSB7XG4gICAgICBjb25zdCBjb21tb25Ub29sSXRlbXMgPSBpc1NlY3Rpb24gPyBjb21tb25TZWN0aW9uTWVudUl0ZW1zIDogY29tbW9uV2lkZ2V0TWVudUl0ZW1zO1xuICAgICAgZXh0ZW5zaW9uVG9vbHMgPSBbXS5jb25jYXQodGhpcy5wcm9wcy50b29sSXRlbXMgfHwgW10sIGNvbW1vblRvb2xJdGVtcywgdGhpcy5nZXRFeHRlbnNpb25Ub29scygpIHx8IFtdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZXh0ZW5zaW9uVG9vbHMgPSB0aGlzLmdldEV4dGVuc2lvblRvb2xzKCk7XG4gICAgfVxuXG4gICAgaWYgKGV4dGVuc2lvblRvb2xzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxQb3BwZXJcbiAgICAgICAgcGxhY2VtZW50PVwidG9wLXN0YXJ0XCJcbiAgICAgICAgcmVmZXJlbmNlPXt0aGlzLnN0YXRlLnZpcnR1YWxFbGVtZW50IGFzIFRhcmdldFR5cGV9XG4gICAgICAgIG9wZW49e3RydWV9XG4gICAgICAgIG1vZGlmaWVycz17TU9ESUZJRVJTfVxuICAgICAgICBjc3M9e2Nzc2BcbiAgICAgICAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcbiAgICAgICAgICBib3gtc2hhZG93OiBub25lO1xuICAgICAgICBgfT5cbiAgICAgICAgPGRpdj5cbiAgICAgICAgICA8VG9vbGJhclxuICAgICAgICAgICAgbGF5b3V0SWQ9e2xheW91dElkfVxuICAgICAgICAgICAgbGF5b3V0SXRlbT17bGF5b3V0SXRlbX1cbiAgICAgICAgICAgIHRoZW1lPXt0aGlzLnBhZ2VDb250ZXh0LmJ1aWxkZXJUaGVtZX1cbiAgICAgICAgICAgIHBhcmVudFJlZj17dGhpcy5yZWZ9XG4gICAgICAgICAgICB0b29scz17ZXh0ZW5zaW9uVG9vbHN9XG4gICAgICAgICAgICBmb3JtYXRNZXNzYWdlPXt0aGlzLmZvcm1hdE1lc3NhZ2V9XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L1BvcHBlcj5cbiAgICApO1xuICB9XG5cbiAgZm9ybWF0TWVzc2FnZSA9IChpZDogc3RyaW5nKSA9PiB7XG4gICAgaWYgKHRoaXMucHJvcHMuaW50bCkge1xuICAgICAgcmV0dXJuIHRoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHsgaWQsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXNbaWRdIH0pO1xuICAgIH1cbiAgICByZXR1cm4gZGVmYXVsdE1lc3NhZ2VzW2lkXTtcbiAgfTtcblxuICBnZXRFeHRlbnNpb25Ub29scygpOiBUb29sSXRlbUNvbmZpZ1tdIHtcbiAgICBjb25zdCB7IHdpZGdldElkIH0gPSB0aGlzLnByb3BzLmxheW91dEl0ZW07XG4gICAgaWYgKCF3aWRnZXRJZCkge1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICBjb25zdCBleHRzID0gRXh0ZW5zaW9uTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldEV4dGVuc2lvbnMoXG4gICAgICBleHRlbnNpb25TcGVjLkV4dGVuc2lvblBvaW50cy5Db250ZXh0VG9vbFxuICAgICkgYXMgZXh0ZW5zaW9uU3BlYy5Db250ZXh0VG9vbFtdO1xuICAgIHJldHVybiBleHRzXG4gICAgICAuZmlsdGVyKGV4dCA9PiBleHQud2lkZ2V0SWQgPT09IHdpZGdldElkKVxuICAgICAgLm1hcChleHQgPT4ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHdpZGdldElkLFxuICAgICAgICAgIGljb246IGV4dC5nZXRJY29uKCksXG4gICAgICAgICAgdGl0bGU6IGV4dC5nZXRUaXRsZSgpLFxuICAgICAgICAgIG9uQ2xpY2s6IGV4dC5vbkNsaWNrLmJpbmQoZXh0KSxcbiAgICAgICAgICBjaGVja2VkOiBleHQuY2hlY2tlZCAmJiBleHQuY2hlY2tlZC5iaW5kKGV4dCksXG4gICAgICAgICAgZGlzYWJsZWQ6IGV4dC5kaXNhYmxlZCA/ICh0eXBlb2YgZXh0LmRpc2FibGVkID09PSAnZnVuY3Rpb24nID8gZXh0LmRpc2FibGVkLmJpbmQoZXh0KSA6IGV4dC5kaXNhYmxlZCkgOiBudWxsLFxuICAgICAgICAgIHZpc2libGU6IGV4dC52aXNpYmxlID8gKHR5cGVvZiBleHQudmlzaWJsZSA9PT0gJ2Z1bmN0aW9uJyA/IGV4dC52aXNpYmxlLmJpbmQoZXh0KSA6IGV4dC52aXNpYmxlKSA6IG51bGwsXG4gICAgICAgICAgc2V0dGluZ1BhbmVsOiBleHQuZ2V0U2V0dGluZ1BhbmVsKHtcbiAgICAgICAgICAgIGxheW91dElkOiB0aGlzLnByb3BzLmxheW91dElkLFxuICAgICAgICAgICAgbGF5b3V0SXRlbTogdGhpcy5wcm9wcy5sYXlvdXRJdGVtLFxuICAgICAgICAgICAgY2xpZW50UmVjdDogdGhpcy5yZWYuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksXG4gICAgICAgICAgfSksXG4gICAgICAgICAgaW5kZXg6IGV4dC5pbmRleCxcbiAgICAgICAgfTtcbiAgICAgIH0pXG4gICAgICAuc29ydCgoYSwgYikgPT4ge1xuICAgICAgICByZXR1cm4gYS5pbmRleCAtIGIuaW5kZXg7XG4gICAgICB9KTtcbiAgfVxuXG4gIGdldFN0eWxlKCkge1xuICAgIGNvbnN0IHsgaXNGdW5jdGlvbmFsV2lkZ2V0LCBpc1NlY3Rpb24sIHNlbGVjdGVkLCBpc0Jsb2NrLCByb3RhdGUgPSAwIH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IGRlZmF1bHRDb2xvciA9IHBvbGlzaGVkLnJnYmEodGhpcy5wYWdlQ29udGV4dC5idWlsZGVyVGhlbWUuY29sb3JzLnBhbGV0dGUuZGFya1szMDBdLCAwLjYpO1xuICAgIGNvbnN0IGhvdmVyQ29sb3IgPSB0aGlzLnBhZ2VDb250ZXh0LmJ1aWxkZXJUaGVtZS5jb2xvcnMucGFsZXR0ZS5wcmltYXJ5WzcwMF07XG4gICAgY29uc3Qgc2VsZWN0ZWRDb2xvciA9IGhvdmVyQ29sb3I7XG4gICAgY29uc3Qgb3V0bGluZVN0eWxlID1cbiAgICAgICghaXNGdW5jdGlvbmFsV2lkZ2V0IHx8IGlzU2VjdGlvbikgJiYgKCFzZWxlY3RlZCB8fCB0aGlzLnBhZ2VDb250ZXh0LmxvY2tMYXlvdXQpID8gJ2Rhc2hlZCcgOiAnc29saWQnO1xuXG4gICAgcmV0dXJuIGNzc2BcbiAgICAgIC4ke0dMT0JBTF9INV9EUkFHR0lOR19DTEFTU19OQU1FfSAmLFxuICAgICAgLiR7R0xPQkFMX0RSQUdHSU5HX0NMQVNTX05BTUV9ICYge1xuICAgICAgICA+IC5hY3Rpb24tYXJlYSB7XG4gICAgICAgICAgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50O1xuICAgICAgICB9XG4gICAgICAgID4gZGl2LmhpZ2hsaWdodC10aXAge1xuICAgICAgICAgIC50aXAtY29udGVudCB7XG4gICAgICAgICAgICBvdXRsaW5lLWNvbG9yOiAke2RlZmF1bHRDb2xvcn07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRyYW5zZm9ybTogJHtyb3RhdGUgPiAwIHx8IHJvdGF0ZSA8IDAgPyBgcm90YXRlWigke3JvdGF0ZX1kZWcpYCA6ICcnfSA7XG4gICAgICBwYWRkaW5nOiBpbmhlcml0O1xuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgbGVmdDogMDtcbiAgICAgIGJvdHRvbTogMDtcbiAgICAgIHRvcDogMDtcbiAgICAgIHJpZ2h0OiAwO1xuICAgICAgei1pbmRleDogJHtzZWxlY3RlZCA/IExheW91dFpJbmRleC5IYW5kbGVyVG9vbHMgOiAnYXV0byd9O1xuICAgICAgcG9pbnRlci1ldmVudHM6IG5vbmU7XG4gICAgICAmID4gZGl2LmhpZ2hsaWdodC10aXAge1xuICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgICAgcGFkZGluZzogaW5oZXJpdDtcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICBsZWZ0OiAwO1xuICAgICAgICBib3R0b206IDA7XG4gICAgICAgIHRvcDogMDtcbiAgICAgICAgcmlnaHQ6IDA7XG4gICAgICAgIHBvaW50ZXItZXZlbnRzOiBub25lO1xuICAgICAgICAudGlwLWNvbnRlbnQge1xuICAgICAgICAgIGhlaWdodDogMTAwJTtcbiAgICAgICAgICBwYWRkaW5nOiAxcHg7XG4gICAgICAgICAgJjphZnRlciB7XG4gICAgICAgICAgICBjb250ZW50OiAnJztcbiAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICAgICAgaGVpZ2h0OiAxMDAlO1xuICAgICAgICAgICAgb3V0bGluZTogJHtpc0Jsb2NrICYmICFzZWxlY3RlZCA/ICdub25lJyA6IGAxcHggJHtvdXRsaW5lU3R5bGV9ICR7ZGVmYXVsdENvbG9yfWB9O1xuICAgICAgICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICAgICAgICBvdXRsaW5lLWNvbG9yOiAkeyFpc0Z1bmN0aW9uYWxXaWRnZXQgfHwgaXNTZWN0aW9uID8gZGVmYXVsdENvbG9yIDogJ3RyYW5zcGFyZW50J307XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC5leGItcm5kOmhvdmVyID4gJiA+IGRpdi5oaWdobGlnaHQtdGlwIHtcbiAgICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICAgIC50aXAtY29udGVudCB7XG4gICAgICAgICAgJjphZnRlciB7XG4gICAgICAgICAgICBvdXRsaW5lLWNvbG9yOiAke2hvdmVyQ29sb3J9O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLmV4Yi1ybmQuc2VsZWN0ZWQgPiAmID4gZGl2LmhpZ2hsaWdodC10aXAge1xuICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgICAgLnRpcC1jb250ZW50IHtcbiAgICAgICAgICAmOmFmdGVyIHtcbiAgICAgICAgICAgIG91dGxpbmUtY29sb3I6ICR7c2VsZWN0ZWRDb2xvcn07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgICYgPiAuYWN0aW9uLWFyZWEge1xuICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICAgIC5oYW5kbGUge1xuICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgICBwb2ludGVyLWV2ZW50czogYWxsO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC5sb2NrLWxheW91dC10aXAge1xuICAgICAgICBiYWNrZ3JvdW5kOiAke3RoaXMucGFnZUNvbnRleHQuYnVpbGRlclRoZW1lLmNvbG9ycy5wYWxldHRlLmRhcmtbMTAwXX07XG4gICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICR7dGhpcy5wYWdlQ29udGV4dC5idWlsZGVyVGhlbWUuY29sb3JzLnBhbGV0dGUubGlnaHRbNzAwXX07XG4gICAgICAgIGJveC1zaGFkb3c6IDAgMnB4IDRweCAwIHJnYmEoMCwgMCwgMCwgMC41KTtcbiAgICAgICAgd2lkdGg6IDIwcHg7XG4gICAgICAgIGhlaWdodDogMjBweDtcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICBsZWZ0OiAtMTBweDtcbiAgICAgICAgdG9wOiAtMTBweDtcblxuICAgICAgICBzdmcge1xuICAgICAgICAgIG1hcmdpbi1ib3R0b206IDZweDtcbiAgICAgICAgICBtYXJnaW4tbGVmdDogNHB4O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgYDtcbiAgfVxuXG4gIGlzTWFjID0gKCkgPT4ge1xuICAgIHJldHVybiAvbWFjaW50b3NofG1hYyBvcyB4L2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcbiAgfVxuXG4gIGdldEtleWJvYXJkQ29tcG9uZW50KCkge1xuICAgIHJldHVybiA8S2V5Ym9hcmRcbiAgICAgIGJpbmRpbmdzPXt0aGlzLmtleUJpbmRpbmdzfS8+O1xuICB9XG5cbiAgY29weUl0ZW0gPSAoKSA9PiB7XG4gICAgbGV0IHdpZHRoO1xuICAgIGxldCBoZWlnaHQ7XG4gICAgY29uc3QgeyBsYXlvdXRJZCwgbGF5b3V0SXRlbSB9ID0gdGhpcy5wcm9wcztcblxuICAgIGlmICh0aGlzLnN0YXRlLnZpcnR1YWxFbGVtZW50KSB7XG4gICAgICB3aWR0aCA9IHRoaXMuc3RhdGUudmlydHVhbEVsZW1lbnQuY2xpZW50V2lkdGg7XG4gICAgICBoZWlnaHQgPSB0aGlzLnN0YXRlLnZpcnR1YWxFbGVtZW50LmNsaWVudEhlaWdodDtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgcmVjdCA9IHRoaXMucmVmLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgd2lkdGggPSByZWN0LndpZHRoO1xuICAgICAgaGVpZ2h0ID0gcmVjdC5oZWlnaHQ7XG4gICAgfVxuICAgIGdldEFwcFN0b3JlKCkuZGlzcGF0Y2goYXBwQWN0aW9ucy5jbGlwYm9hcmRDaGFuZ2VkKHtcbiAgICAgIGxheW91dElkLFxuICAgICAgd2lkdGgsXG4gICAgICBoZWlnaHQsXG4gICAgICBsYXlvdXRJdGVtSWQ6IGxheW91dEl0ZW0uaWQsXG4gICAgfSkpO1xuICB9XG5cbiAgZGVsZXRlU2VsZWN0ZWRJdGVtID0gKHBhZ2VDb250ZXh0OiBQYWdlQ29udGV4dFByb3BzKSA9PiB7XG4gICAgY29uc3QgeyBzZWxlY3RlZCwgbGF5b3V0SWQsIGxheW91dEl0ZW0gfSA9IHRoaXMucHJvcHM7XG4gICAgaWYgKCFzZWxlY3RlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBsYXlvdXRJbmZvID0ge1xuICAgICAgbGF5b3V0SWQsXG4gICAgICBsYXlvdXRJdGVtSWQ6IGxheW91dEl0ZW0uaWQsXG4gICAgfTtcbiAgICBpZiAoIXBhZ2VDb250ZXh0LmxvY2tMYXlvdXQpIHtcbiAgICAgIGlmIChsYXlvdXRJdGVtLnR5cGUgPT09IExheW91dEl0ZW1UeXBlLldpZGdldCkge1xuICAgICAgICBpZiAobGF5b3V0SXRlbS53aWRnZXRJZCkge1xuICAgICAgICAgIGRlbGV0ZVdpZGdldChsYXlvdXRJbmZvLCBsYXlvdXRJdGVtLndpZGdldElkKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkZWxldGVMYXlvdXRJdGVtKGxheW91dEluZm8pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGxheW91dEl0ZW0udHlwZSA9PT0gTGF5b3V0SXRlbVR5cGUuU2VjdGlvbikge1xuICAgICAgICBkZWxldGVTZWN0aW9uKGxheW91dEluZm8sIGxheW91dEl0ZW0uc2VjdGlvbklkKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGxheW91dEl0ZW0udHlwZSA9PT0gTGF5b3V0SXRlbVR5cGUuV2lkZ2V0ICYmIGxheW91dEl0ZW0ud2lkZ2V0SWQpIHtcbiAgICAgICAgcmVtb3ZlV2lkZ2V0RnJvbUxheW91dEl0ZW0obGF5b3V0SW5mbywgbGF5b3V0SXRlbS53aWRnZXRJZCk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPFBhZ2VDb250ZXh0LkNvbnN1bWVyPlxuICAgICAgICB7KHBhZ2VDb250ZXh0OiBQYWdlQ29udGV4dFByb3BzKSA9PiB7XG4gICAgICAgICAgdGhpcy5wYWdlQ29udGV4dCA9IHBhZ2VDb250ZXh0O1xuICAgICAgICAgIGNvbnN0IHsgcmVzaXphYmxlLCBkcmFnZ2FibGUsIHNlbGVjdGVkLCBpc0lubGluZUVkaXRpbmcsIGZvcmJpZFRvb2xiYXIgfSA9IHRoaXMucHJvcHM7XG5cbiAgICAgICAgICBjb25zdCBjYW5SZXNpemUgPSBzZWxlY3RlZCAmJiBwYWdlQ29udGV4dC5pc0Rlc2lnbk1vZGUgJiYgIXBhZ2VDb250ZXh0LnZpZXdPbmx5ICYmICFwYWdlQ29udGV4dC5sb2NrTGF5b3V0O1xuICAgICAgICAgIGxldCBhY3Rpb25zO1xuICAgICAgICAgIGlmIChjYW5SZXNpemUpIHtcbiAgICAgICAgICAgIGNvbnN0IGVuYWJsZVJlc2l6aW5nID0gdGhpcy5lbmFibGVSZXNpemluZyhcbiAgICAgICAgICAgICAgIXBhZ2VDb250ZXh0LnZpZXdPbmx5ICYmIHJlc2l6YWJsZSAhPT0gZmFsc2UgJiYgc2VsZWN0ZWQgJiYgcGFnZUNvbnRleHQuaXNEZXNpZ25Nb2RlICYmICFpc0lubGluZUVkaXRpbmdcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBhY3Rpb25zID0gdGhpcy5hY3Rpb25IYW5kbGVycyhlbmFibGVSZXNpemluZywgcGFnZUNvbnRleHQuYnVpbGRlclRoZW1lKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3QgbG9ja0xheW91dCA9IGRyYWdnYWJsZSA9PT0gZmFsc2UgJiYgcmVzaXphYmxlID09PSBmYWxzZTtcblxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgIHJlZj17ZWwgPT4gKHRoaXMucmVmID0gZWwpfVxuICAgICAgICAgICAgICBjc3M9e3RoaXMuZ2V0U3R5bGUoKX1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc05hbWVzKCdzZWxlY3Qtd3JhcHBlcicsIHtcbiAgICAgICAgICAgICAgICBzZWxlY3RlZCxcbiAgICAgICAgICAgICAgICAnZGVzaWduLW1vZGUnOiBwYWdlQ29udGV4dC5pc0Rlc2lnbk1vZGUsXG4gICAgICAgICAgICAgICAgJ25vLWVtYmVkLWxheW91dCc6ICF0aGlzLnByb3BzLmhhc0VtYmVkZGVkTGF5b3V0LFxuICAgICAgICAgICAgICB9KX0+XG4gICAgICAgICAgICAgIHshcGFnZUNvbnRleHQudmlld09ubHkgJiYgcGFnZUNvbnRleHQuaXNEZXNpZ25Nb2RlICYmIChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImhpZ2hsaWdodC10aXBcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGlwLWNvbnRlbnRcIj48L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgeyFmb3JiaWRUb29sYmFyICYmICFwYWdlQ29udGV4dC52aWV3T25seSAmJiBwYWdlQ29udGV4dC5pc0Rlc2lnbk1vZGUgJiYgc2VsZWN0ZWQgJiYgdGhpcy5jcmVhdGVUb29sYmFyKCl9XG4gICAgICAgICAgICAgIHtjYW5SZXNpemUgJiYgPGRpdiBjbGFzc05hbWU9XCJ3LTEwMCBoLTEwMCBhY3Rpb24tYXJlYVwiPnthY3Rpb25zfTwvZGl2Pn1cbiAgICAgICAgICAgICAge2xvY2tMYXlvdXQgJiYgc2VsZWN0ZWQgJiYgKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibG9jay1sYXlvdXQtdGlwIHJvdW5kZWQtY2lyY2xlXCI+XG4gICAgICAgICAgICAgICAgICA8SWNvbiBpY29uPXtsb2NrSWNvbn0gc2l6ZT17MTJ9IGNvbG9yPXtwYWdlQ29udGV4dC5idWlsZGVyVGhlbWUuY29sb3JzLmJsYWNrfSAvPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICB7cGFnZUNvbnRleHQuaXNEZXNpZ25Nb2RlICYmIHNlbGVjdGVkICYmIHRoaXMuZ2V0S2V5Ym9hcmRDb21wb25lbnQoKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICk7XG4gICAgICAgIH19XG4gICAgICA8L1BhZ2VDb250ZXh0LkNvbnN1bWVyPlxuICAgICk7XG4gIH1cblxuICBlbmFibGVSZXNpemluZyhpc0FjdGl2ZTogYm9vbGVhbikge1xuICAgIGNvbnN0IHsgbGVmdCwgcmlnaHQsIHRvcCwgYm90dG9tIH0gPSB0aGlzLnByb3BzO1xuICAgIHJldHVybiB7XG4gICAgICB0b3A6IEJvb2xlYW4oaXNBY3RpdmUgJiYgdG9wICE9PSBmYWxzZSksXG4gICAgICByaWdodDogQm9vbGVhbihpc0FjdGl2ZSAmJiByaWdodCAhPT0gZmFsc2UpLFxuICAgICAgYm90dG9tOiBCb29sZWFuKGlzQWN0aXZlICYmIGJvdHRvbSAhPT0gZmFsc2UpLFxuICAgICAgbGVmdDogQm9vbGVhbihpc0FjdGl2ZSAmJiBsZWZ0ICE9PSBmYWxzZSksXG4gICAgICB0b3BSaWdodDogQm9vbGVhbihpc0FjdGl2ZSAmJiB0b3AgIT09IGZhbHNlICYmIHJpZ2h0ICE9PSBmYWxzZSksXG4gICAgICBib3R0b21SaWdodDogQm9vbGVhbihpc0FjdGl2ZSAmJiBib3R0b20gIT09IGZhbHNlICYmIHJpZ2h0ICE9PSBmYWxzZSksXG4gICAgICBib3R0b21MZWZ0OiBCb29sZWFuKGlzQWN0aXZlICYmIGJvdHRvbSAhPT0gZmFsc2UgJiYgbGVmdCAhPT0gZmFsc2UpLFxuICAgICAgdG9wTGVmdDogQm9vbGVhbihpc0FjdGl2ZSAmJiB0b3AgIT09IGZhbHNlICYmIGxlZnQgIT09IGZhbHNlKSxcbiAgICB9O1xuICB9XG5cbiAgYWN0aW9uSGFuZGxlcnMoZW5hYmxlUmVzaXppbmcsIGJ1aWxkZXJUaGVtZTogSU1UaGVtZVZhcmlhYmxlcykge1xuICAgIGNvbnN0IGhhbmRsZXJzID0gW107XG4gICAgY29uc3Qgcm90YXRpb24gPSB0aGlzLnByb3BzLnJvdGF0ZTtcbiAgICBjb25zdCByZWN0SGFuZGxlID0gY3NzYFxuICAgICAgd2lkdGg6ICR7Y29ybmVyU2l6ZX1weDtcbiAgICAgIGhlaWdodDogJHtjb3JuZXJTaXplfXB4O1xuICAgICAgYmFja2dyb3VuZDogJHtidWlsZGVyVGhlbWUuY29sb3JzLmJsYWNrfTtcbiAgICAgIGJvcmRlcjogMXB4IHNvbGlkICR7YnVpbGRlclRoZW1lLmNvbG9ycy5wYWxldHRlLmxpZ2h0WzYwMF19O1xuICAgICAgYm94LXNoYWRvdzogMCAycHggNHB4IDAgJHtwb2xpc2hlZC5yZ2JhKGJ1aWxkZXJUaGVtZS5jb2xvcnMud2hpdGUsIDAuNSl9O1xuICAgICAgei1pbmRleDogJHtMYXlvdXRaSW5kZXguSGFuZGxlclRvb2xzfTtcbiAgICBgO1xuICAgIHRoaXMuY29ybmVySGFuZGxlID0gcmVjdEhhbmRsZTtcbiAgICB0aGlzLnNpZGVIYW5kbGUgPSBjc3NgXG4gICAgICBib3gtc2hhZG93OiBub25lO1xuXG4gICAgICAmOmFmdGVyIHtcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICBjb250ZW50OiAnJztcbiAgICAgICAgJHtyZWN0SGFuZGxlfTtcbiAgICAgIH1cbiAgICBgO1xuXG4gICAgaWYgKGVuYWJsZVJlc2l6aW5nLnRvcCkge1xuICAgICAgaGFuZGxlcnMucHVzaChcbiAgICAgICAgPHNwYW4ga2V5PVwiMlwiIGNsYXNzTmFtZT1cInJuZC1yZXNpemUtdG9wIGhhbmRsZSBuby1kcmFnLWFjdGlvblwiIGNzcz17W3RoaXMuc2lkZUhhbmRsZSwgdG9wU2lkZUN1cnNvcihyb3RhdGlvbildfSAvPlxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKGVuYWJsZVJlc2l6aW5nLnJpZ2h0KSB7XG4gICAgICBoYW5kbGVycy5wdXNoKFxuICAgICAgICA8c3BhbiBrZXk9XCI0XCIgY2xhc3NOYW1lPVwicm5kLXJlc2l6ZS1yaWdodCBoYW5kbGUgbm8tZHJhZy1hY3Rpb25cIiBjc3M9e1t0aGlzLnNpZGVIYW5kbGUsIHJpZ2h0U2lkZUN1cnNvcihyb3RhdGlvbildfSAvPlxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKGVuYWJsZVJlc2l6aW5nLmJvdHRvbSkge1xuICAgICAgaGFuZGxlcnMucHVzaChcbiAgICAgICAgPHNwYW4ga2V5PVwiNlwiIGNsYXNzTmFtZT1cInJuZC1yZXNpemUtYm90dG9tIGhhbmRsZSBuby1kcmFnLWFjdGlvblwiIGNzcz17W3RoaXMuc2lkZUhhbmRsZSwgYm90dG9tU2lkZUN1cnNvcihyb3RhdGlvbildfSAvPlxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKGVuYWJsZVJlc2l6aW5nLmxlZnQpIHtcbiAgICAgIGhhbmRsZXJzLnB1c2goXG4gICAgICAgIDxzcGFuIGtleT1cIjhcIiBjbGFzc05hbWU9XCJybmQtcmVzaXplLWxlZnQgaGFuZGxlIG5vLWRyYWctYWN0aW9uXCIgY3NzPXtbdGhpcy5zaWRlSGFuZGxlLCBsZWZ0U2lkZUN1cnNvcihyb3RhdGlvbildfSAvPlxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKGVuYWJsZVJlc2l6aW5nLnRvcExlZnQpIHtcbiAgICAgIGhhbmRsZXJzLnB1c2goXG4gICAgICAgIDxzcGFuXG4gICAgICAgICAga2V5PVwiMVwiXG4gICAgICAgICAgY2xhc3NOYW1lPVwicm5kLXJlc2l6ZS10b3Agcm5kLXJlc2l6ZS1sZWZ0IGhhbmRsZSBuby1kcmFnLWFjdGlvblwiXG4gICAgICAgICAgY3NzPXtbdGhpcy5jb3JuZXJIYW5kbGUsIHRvcExlZnRDdXJzb3Iocm90YXRpb24pXX1cbiAgICAgICAgLz5cbiAgICAgICk7XG4gICAgfVxuICAgIGlmIChlbmFibGVSZXNpemluZy50b3BSaWdodCkge1xuICAgICAgaGFuZGxlcnMucHVzaChcbiAgICAgICAgPHNwYW5cbiAgICAgICAgICBrZXk9XCIzXCJcbiAgICAgICAgICBjbGFzc05hbWU9XCJybmQtcmVzaXplLXRvcCBybmQtcmVzaXplLXJpZ2h0IGhhbmRsZSBuby1kcmFnLWFjdGlvblwiXG4gICAgICAgICAgY3NzPXtbdGhpcy5jb3JuZXJIYW5kbGUsIHRvcFJpZ2h0Q3Vyc29yKHJvdGF0aW9uKV19XG4gICAgICAgIC8+XG4gICAgICApO1xuICAgIH1cbiAgICBpZiAoZW5hYmxlUmVzaXppbmcuYm90dG9tUmlnaHQpIHtcbiAgICAgIGhhbmRsZXJzLnB1c2goXG4gICAgICAgIDxzcGFuXG4gICAgICAgICAga2V5PVwiNVwiXG4gICAgICAgICAgY2xhc3NOYW1lPVwicm5kLXJlc2l6ZS1ib3R0b20gcm5kLXJlc2l6ZS1yaWdodCBoYW5kbGUgbm8tZHJhZy1hY3Rpb25cIlxuICAgICAgICAgIGNzcz17W3RoaXMuY29ybmVySGFuZGxlLCBib3R0b21SaWdodEN1cnNvcihyb3RhdGlvbildfVxuICAgICAgICAvPlxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKGVuYWJsZVJlc2l6aW5nLmJvdHRvbUxlZnQpIHtcbiAgICAgIGhhbmRsZXJzLnB1c2goXG4gICAgICAgIDxzcGFuXG4gICAgICAgICAga2V5PVwiN1wiXG4gICAgICAgICAgY2xhc3NOYW1lPVwicm5kLXJlc2l6ZS1ib3R0b20gcm5kLXJlc2l6ZS1sZWZ0IGhhbmRsZSBuby1kcmFnLWFjdGlvblwiXG4gICAgICAgICAgY3NzPXtbdGhpcy5jb3JuZXJIYW5kbGUsIGJvdHRvbUxlZnRDdXJzb3Iocm90YXRpb24pXX1cbiAgICAgICAgLz5cbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiBoYW5kbGVycztcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBpbmplY3RJbnRsKFNlbGVjdFdyYXBwZXIpO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQXFCQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUE2QkE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQVVBO0FBVUE7QUFVQTtBQVVBO0FBZUE7QUFlQTtBQWVBO0FBZ0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBZUE7QUFBQTtBQVVBO0FBQUE7QUFtSkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBa0lBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQTlVQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBVUE7QUFDQTtBQVdBO0FBU0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFzRkE7QUFNQTtBQUNBO0FBRUE7QUFpREE7QUFBQTtBQUNBO0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFHQTtBQUNBO0FBQ0E7QUFFQTtBQUdBO0FBR0E7QUFHQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFRQTtBQUNBO0FBVUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQUE7O0FBRUE7OyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./jimu-layouts/lib/builder/select-wrapper.tsx\n");

/***/ }),

/***/ "./jimu-layouts/lib/builder/toolbar-context.tsx":
/*!******************************************************!*\
  !*** ./jimu-layouts/lib/builder/toolbar-context.tsx ***!
  \******************************************************/
/*! exports provided: ToolbarContext */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ToolbarContext\", function() { return ToolbarContext; });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jimu_core__WEBPACK_IMPORTED_MODULE_0__);\n\nvar ToolbarContext = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].createContext({});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWxheW91dHMvbGliL2J1aWxkZXIvdG9vbGJhci1jb250ZXh0LnRzeC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2ppbXUtbGF5b3V0cy9saWIvYnVpbGRlci90b29sYmFyLWNvbnRleHQudHN4PzkwNmMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUmVhY3QsIFRoZW1lVmFyaWFibGVzLCBJTUxheW91dEl0ZW1Kc29uIH0gZnJvbSAnamltdS1jb3JlJztcblxuZXhwb3J0IGNvbnN0IFRvb2xiYXJDb250ZXh0ID0gUmVhY3QuY3JlYXRlQ29udGV4dCh7fSk7XG5cbmV4cG9ydCB0eXBlIFRvb2xiYXJDb250ZXh0UHJvcHMgPSB7XG4gIGFjdGl2ZUl0ZW0/OiBzdHJpbmc7XG4gIHRvZ2dsZU9uPzogYm9vbGVhbjtcbiAgbGF5b3V0SWQ6IHN0cmluZztcbiAgbGF5b3V0SXRlbTogSU1MYXlvdXRJdGVtSnNvbjtcbiAgcGFyZW50UmVmOiBIVE1MRWxlbWVudDtcbiAgdGhlbWU6IFRoZW1lVmFyaWFibGVzO1xuICBvbkl0ZW1DbGljazogKHZhbHVlOiBzdHJpbmcsIHRvZ2dsZU9uPzogYm9vbGVhbikgPT4gdm9pZDtcbiAgZm9ybWF0TWVzc2FnZTogKGlkOiBzdHJpbmcpID0+IHN0cmluZztcbn07XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./jimu-layouts/lib/builder/toolbar-context.tsx\n");

/***/ }),

/***/ "./jimu-layouts/lib/builder/toolbar-group.tsx":
/*!****************************************************!*\
  !*** ./jimu-layouts/lib/builder/toolbar-group.tsx ***!
  \****************************************************/
/*! exports provided: ToolbarGroup */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ToolbarGroup\", function() { return ToolbarGroup; });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jimu_core__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ \"jimu-ui\");\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jimu_ui__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _toolbar_item__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./toolbar-item */ \"./jimu-layouts/lib/builder/toolbar-item.tsx\");\n/* harmony import */ var _toolbar_context__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./toolbar-context */ \"./jimu-layouts/lib/builder/toolbar-context.tsx\");\n/* harmony import */ var jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! jimu-layouts/layout-runtime */ \"jimu-layouts/layout-runtime\");\n/* harmony import */ var jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_4__);\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __makeTemplateObject = (undefined && undefined.__makeTemplateObject) || function (cooked, raw) {\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n    return cooked;\n};\nvar __assign = (undefined && undefined.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\n/** @jsx jsx */\n\n\n\n\n\n\nvar noAction = function () { };\nvar MODIFIERS = [\n    {\n        name: 'preventOverflow',\n        options: {\n            boundariesElement: 'viewport',\n            padding: { bottom: 20 }\n        }\n    }\n];\nvar ToolbarGroup = /** @class */ (function (_super) {\n    __extends(ToolbarGroup, _super);\n    function ToolbarGroup(props) {\n        var _this = _super.call(this, props) || this;\n        _this.handleOutsideClick = function (event) {\n            var _a = _this.contextProps, activeItem = _a.activeItem, toggleOn = _a.toggleOn;\n            if (activeItem === _this.props.uid &&\n                toggleOn && !_this.ref.contains(event.target)) {\n                _this.contextProps.onItemClick(_this.props.uid); // toggle off the popper tool items\n            }\n        };\n        jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_4__[\"utils\"].autoBindHandlers(_this, ['togglePopToolItems', 'onItemClick']);\n        return _this;\n    }\n    ToolbarGroup.prototype.componentDidMount = function () {\n        document.addEventListener('click', this.handleOutsideClick);\n    };\n    ToolbarGroup.prototype.componentWillUnmount = function () {\n        document.removeEventListener('click', this.handleOutsideClick);\n    };\n    ToolbarGroup.prototype.getBaseStyle = function () {\n        var theme = this.contextProps.theme;\n        return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n      cursor: pointer;\\n      min-width: 50px;\\n      display: flex;\\n      justify-content: space-around;\\n      align-items: center;\\n      background-color: \", \";\\n\\n      &:hover {\\n        background-color: \", \" !important;\\n      }\\n    \"], [\"\\n      cursor: pointer;\\n      min-width: 50px;\\n      display: flex;\\n      justify-content: space-around;\\n      align-items: center;\\n      background-color: \", \";\\n\\n      &:hover {\\n        background-color: \", \" !important;\\n      }\\n    \"])), theme.colors.palette.light[300], theme.colors.palette.light[500]);\n    };\n    ToolbarGroup.prototype.getPopStyle = function () {\n        return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_2 || (templateObject_2 = __makeTemplateObject([\"\\n      display: flex;\\n      pointer-events: all;\\n      background-color: \", \";\\n      border-radius: 2px;\\n      box-shadow: 0 2px 8px 1px rgba(0, 0, 0, 0.2);\\n      padding: 4px 0;\\n\\n      .toolbar-item {\\n        .icon-container {\\n          width: auto;\\n        }\\n      }\\n    \"], [\"\\n      display: flex;\\n      pointer-events: all;\\n      background-color: \", \";\\n      border-radius: 2px;\\n      box-shadow: 0 2px 8px 1px rgba(0, 0, 0, 0.2);\\n      padding: 4px 0;\\n\\n      .toolbar-item {\\n        .icon-container {\\n          width: auto;\\n        }\\n      }\\n    \"])), this.contextProps.theme.colors.palette.light[300]);\n    };\n    ToolbarGroup.prototype.getValue = function (target, props) {\n        if (typeof target === 'function') {\n            return target(props);\n        }\n        return target;\n    };\n    ToolbarGroup.prototype.togglePopToolItems = function (e) {\n        if (e) {\n            e.stopPropagation();\n        }\n        this.contextProps.onItemClick(this.props.uid);\n    };\n    ToolbarGroup.prototype.onItemClick = function (toolConfig, props) {\n        var parentRef = this.contextProps.parentRef;\n        toolConfig.onClick(__assign(__assign({}, props), { clientRect: parentRef.getBoundingClientRect() }));\n    };\n    ToolbarGroup.prototype.createToolItem = function (toolConfig, props, index) {\n        var _this = this;\n        if (!toolConfig.onClick && !toolConfig.seperator) {\n            return null;\n        }\n        return (Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_toolbar_item__WEBPACK_IMPORTED_MODULE_2__[\"ToolbarItem\"], __assign({ key: index, uid: this.props.uid + \"_\" + (index + 1), isInGroup: true }, toolConfig, { onClick: function () { return _this.onItemClick(toolConfig, props); } })));\n    };\n    ToolbarGroup.prototype.getGroupMenu = function (selectedTool, visibleTools) {\n        var theme = this.contextProps.theme;\n        if (selectedTool) {\n            return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"Icon\"], { rotate: selectedTool.rotate, icon: selectedTool.icon, size: selectedTool.size || _toolbar_item__WEBPACK_IMPORTED_MODULE_2__[\"DEFAULT_ICON_SIZE\"], color: theme.colors.black });\n        }\n        if (visibleTools[0].icon) {\n            return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"Icon\"], { icon: visibleTools[0].icon, size: visibleTools[0].size || _toolbar_item__WEBPACK_IMPORTED_MODULE_2__[\"DEFAULT_ICON_SIZE\"], color: theme.colors.black });\n        }\n        return (Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_toolbar_item__WEBPACK_IMPORTED_MODULE_2__[\"ToolbarItem\"], __assign({ uid: this.props.uid + \"_0\", onClick: noAction }, visibleTools[0])));\n    };\n    ToolbarGroup.prototype.render = function () {\n        var _this = this;\n        var _a = this.props, tools = _a.tools, uid = _a.uid;\n        if (!tools || tools.length === 0) {\n            return null;\n        }\n        return (Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_toolbar_context__WEBPACK_IMPORTED_MODULE_3__[\"ToolbarContext\"].Consumer, null, function (props) {\n            _this.contextProps = props;\n            var rootVisible = tools[0].visible;\n            var isRootVisible = _this.getValue(rootVisible, props);\n            if (rootVisible !== undefined && !isRootVisible) {\n                return null;\n            }\n            var visibleTools = tools.filter(function (tool) {\n                var visible = tool.visible;\n                var isVisible = _this.getValue(visible, props);\n                return typeof visible === 'undefined' || isVisible;\n            });\n            if (visibleTools.length === 0) {\n                return null;\n            }\n            if (visibleTools.length === 1) {\n                return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_toolbar_item__WEBPACK_IMPORTED_MODULE_2__[\"ToolbarItem\"], __assign({ uid: uid + \"_0\" }, visibleTools[0]));\n            }\n            var selectedTool;\n            visibleTools.some(function (tool) {\n                var checked = tool.checked;\n                if (_this.getValue(checked, props)) {\n                    selectedTool = tool;\n                    return true;\n                }\n            });\n            return (Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"toolbar-group\", css: _this.getBaseStyle(), ref: function (el) { return _this.ref = el; }, onClick: _this.togglePopToolItems },\n                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { ref: function (ref) { return _this.reference = ref; }, className: \"d-flex w-100 justify-content-around align-items-center\" },\n                    _this.getGroupMenu(selectedTool, visibleTools),\n                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"Icon\"], { icon: __webpack_require__(/*! jimu-ui/lib/icons/arrow-down-8.svg */ \"./jimu-ui/lib/icons/arrow-down-8.svg\"), size: 8, color: props.theme.colors.black })),\n                props.activeItem === uid && props.toggleOn &&\n                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"Popper\"], { toggle: _this.togglePopToolItems, placement: \"bottom\", modifiers: MODIFIERS, reference: _this.reference, open: true },\n                        Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { css: _this.getPopStyle(), className: \"d-flex flex-column\" }, visibleTools.map(function (toolConfig, index) { return _this.createToolItem(toolConfig, props, index); })))));\n        }));\n    };\n    return ToolbarGroup;\n}(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].PureComponent));\n\nvar templateObject_1, templateObject_2;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWxheW91dHMvbGliL2J1aWxkZXIvdG9vbGJhci1ncm91cC50c3guanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qaW11LWxheW91dHMvbGliL2J1aWxkZXIvdG9vbGJhci1ncm91cC50c3g/NDU5YiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiogQGpzeCBqc3ggKi9cbmltcG9ydCB7IFJlYWN0LCBqc3gsIGNzcyB9IGZyb20gJ2ppbXUtY29yZSc7XG5pbXBvcnQgeyBJY29uIH0gZnJvbSAnamltdS11aSc7XG5pbXBvcnQgeyBUb29sSXRlbUNvbmZpZywgU3RhdGVUb0xheW91dFByb3BzIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgVG9vbGJhckl0ZW0sIERFRkFVTFRfSUNPTl9TSVpFIH0gZnJvbSAnLi90b29sYmFyLWl0ZW0nO1xuaW1wb3J0IHsgVG9vbGJhckNvbnRleHQsIFRvb2xiYXJDb250ZXh0UHJvcHMgfSBmcm9tICcuL3Rvb2xiYXItY29udGV4dCc7XG5pbXBvcnQgeyBQb3BwZXIgfSBmcm9tICdqaW11LXVpJztcbmltcG9ydCB7IHV0aWxzIH0gZnJvbSAnamltdS1sYXlvdXRzL2xheW91dC1ydW50aW1lJztcblxuY29uc3Qgbm9BY3Rpb24gPSAoKSA9PiB7IH07XG5cbmNvbnN0IE1PRElGSUVSUyA9IFtcbiAge1xuICAgIG5hbWU6ICdwcmV2ZW50T3ZlcmZsb3cnLFxuICAgIG9wdGlvbnM6IHtcbiAgICAgIGJvdW5kYXJpZXNFbGVtZW50OiAndmlld3BvcnQnLFxuICAgICAgcGFkZGluZzogeyBib3R0b206IDIwIH1cbiAgICB9XG4gIH1cbl07XG5cbmludGVyZmFjZSBQcm9wcyB7XG4gIHVpZDogc3RyaW5nO1xuICB0b29sczogVG9vbEl0ZW1Db25maWdbXTtcbn1cblxuZXhwb3J0IGNsYXNzIFRvb2xiYXJHcm91cCBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQ8UHJvcHM+IHtcbiAgY29udGV4dFByb3BzOiBUb29sYmFyQ29udGV4dFByb3BzO1xuICByZWY6IEhUTUxEaXZFbGVtZW50O1xuICByZWZlcmVuY2U6IEhUTUxEaXZFbGVtZW50O1xuXG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHV0aWxzLmF1dG9CaW5kSGFuZGxlcnModGhpcywgWyd0b2dnbGVQb3BUb29sSXRlbXMnLCAnb25JdGVtQ2xpY2snXSk7XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlT3V0c2lkZUNsaWNrKTtcbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVPdXRzaWRlQ2xpY2spO1xuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVPdXRzaWRlQ2xpY2s6IEV2ZW50TGlzdGVuZXIgPSAoZXZlbnQpID0+IHtcbiAgICBjb25zdCB7IGFjdGl2ZUl0ZW0sIHRvZ2dsZU9uIH0gPSB0aGlzLmNvbnRleHRQcm9wcztcbiAgICBpZiAoYWN0aXZlSXRlbSA9PT0gdGhpcy5wcm9wcy51aWQgJiZcbiAgICAgIHRvZ2dsZU9uICYmICF0aGlzLnJlZi5jb250YWlucyhldmVudC50YXJnZXQgYXMgTm9kZSkpIHtcbiAgICAgIHRoaXMuY29udGV4dFByb3BzLm9uSXRlbUNsaWNrKHRoaXMucHJvcHMudWlkKTsgLy8gdG9nZ2xlIG9mZiB0aGUgcG9wcGVyIHRvb2wgaXRlbXNcbiAgICB9XG4gIH1cblxuICBnZXRCYXNlU3R5bGUoKSB7XG4gICAgY29uc3QgeyB0aGVtZSB9ID0gdGhpcy5jb250ZXh0UHJvcHM7XG4gICAgcmV0dXJuIGNzc2BcbiAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgIG1pbi13aWR0aDogNTBweDtcbiAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWFyb3VuZDtcbiAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAke3RoZW1lLmNvbG9ycy5wYWxldHRlLmxpZ2h0WzMwMF19O1xuXG4gICAgICAmOmhvdmVyIHtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogJHt0aGVtZS5jb2xvcnMucGFsZXR0ZS5saWdodFs1MDBdfSAhaW1wb3J0YW50O1xuICAgICAgfVxuICAgIGA7XG4gIH1cblxuICBnZXRQb3BTdHlsZSgpIHtcbiAgICByZXR1cm4gY3NzYFxuICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgIHBvaW50ZXItZXZlbnRzOiBhbGw7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAke3RoaXMuY29udGV4dFByb3BzLnRoZW1lLmNvbG9ycy5wYWxldHRlLmxpZ2h0WzMwMF19O1xuICAgICAgYm9yZGVyLXJhZGl1czogMnB4O1xuICAgICAgYm94LXNoYWRvdzogMCAycHggOHB4IDFweCByZ2JhKDAsIDAsIDAsIDAuMik7XG4gICAgICBwYWRkaW5nOiA0cHggMDtcblxuICAgICAgLnRvb2xiYXItaXRlbSB7XG4gICAgICAgIC5pY29uLWNvbnRhaW5lciB7XG4gICAgICAgICAgd2lkdGg6IGF1dG87XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICBgO1xuICB9XG5cbiAgZ2V0VmFsdWUodGFyZ2V0LCBwcm9wcykge1xuICAgIGlmICh0eXBlb2YgdGFyZ2V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXR1cm4gdGFyZ2V0KHByb3BzKTtcbiAgICB9XG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfVxuXG4gIHRvZ2dsZVBvcFRvb2xJdGVtcyhlPzogUmVhY3QuTW91c2VFdmVudDxIVE1MRGl2RWxlbWVudD4pIHtcbiAgICBpZiAoZSkge1xuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB9XG4gICAgdGhpcy5jb250ZXh0UHJvcHMub25JdGVtQ2xpY2sodGhpcy5wcm9wcy51aWQpO1xuICB9XG5cbiAgb25JdGVtQ2xpY2sodG9vbENvbmZpZzogVG9vbEl0ZW1Db25maWcsIHByb3BzKSB7XG4gICAgY29uc3QgeyBwYXJlbnRSZWYgfSA9IHRoaXMuY29udGV4dFByb3BzO1xuICAgIHRvb2xDb25maWcub25DbGljayh7XG4gICAgICAuLi5wcm9wcyxcbiAgICAgIGNsaWVudFJlY3Q6IHBhcmVudFJlZi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxcbiAgICB9KTtcbiAgfVxuXG4gIGNyZWF0ZVRvb2xJdGVtKHRvb2xDb25maWc6IFRvb2xJdGVtQ29uZmlnLCBwcm9wczogU3RhdGVUb0xheW91dFByb3BzLCBpbmRleDogbnVtYmVyKSB7XG4gICAgaWYgKCF0b29sQ29uZmlnLm9uQ2xpY2sgJiYgIXRvb2xDb25maWcuc2VwZXJhdG9yKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIChcbiAgICAgIDxUb29sYmFySXRlbVxuICAgICAgICBrZXk9e2luZGV4fVxuICAgICAgICB1aWQ9e2Ake3RoaXMucHJvcHMudWlkfV8ke2luZGV4ICsgMX1gfVxuICAgICAgICBpc0luR3JvdXA9e3RydWV9XG4gICAgICAgIHsuLi50b29sQ29uZmlnfVxuICAgICAgICBvbkNsaWNrPXsoKSA9PiB0aGlzLm9uSXRlbUNsaWNrKHRvb2xDb25maWcsIHByb3BzKX1cbiAgICAgIC8+XG4gICAgKTtcbiAgfVxuXG4gIGdldEdyb3VwTWVudShzZWxlY3RlZFRvb2w6IFRvb2xJdGVtQ29uZmlnLCB2aXNpYmxlVG9vbHM6IFRvb2xJdGVtQ29uZmlnW10pIHtcbiAgICBjb25zdCB7IHRoZW1lIH0gPSB0aGlzLmNvbnRleHRQcm9wcztcbiAgICBpZiAoc2VsZWN0ZWRUb29sKSB7XG4gICAgICByZXR1cm4gPEljb24gcm90YXRlPXtzZWxlY3RlZFRvb2wucm90YXRlfSBpY29uPXtzZWxlY3RlZFRvb2wuaWNvbn1cbiAgICAgICAgc2l6ZT17c2VsZWN0ZWRUb29sLnNpemUgfHwgREVGQVVMVF9JQ09OX1NJWkV9IGNvbG9yPXt0aGVtZS5jb2xvcnMuYmxhY2t9IC8+O1xuICAgIH1cbiAgICBpZiAodmlzaWJsZVRvb2xzWzBdLmljb24pIHtcbiAgICAgIHJldHVybiA8SWNvbiBpY29uPXt2aXNpYmxlVG9vbHNbMF0uaWNvbn1cbiAgICAgICAgc2l6ZT17dmlzaWJsZVRvb2xzWzBdLnNpemUgfHwgREVGQVVMVF9JQ09OX1NJWkV9IGNvbG9yPXt0aGVtZS5jb2xvcnMuYmxhY2t9IC8+O1xuICAgIH1cbiAgICByZXR1cm4gKFxuICAgICAgPFRvb2xiYXJJdGVtXG4gICAgICAgIHVpZD17YCR7dGhpcy5wcm9wcy51aWR9XzBgfVxuICAgICAgICBvbkNsaWNrPXtub0FjdGlvbn1cbiAgICAgICAgey4uLnZpc2libGVUb29sc1swXX1cbiAgICAgIC8+XG4gICAgKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IHRvb2xzLCB1aWQgfSA9IHRoaXMucHJvcHM7XG4gICAgaWYgKCF0b29scyB8fCB0b29scy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8VG9vbGJhckNvbnRleHQuQ29uc3VtZXI+XG4gICAgICAgIHsocHJvcHM6IFN0YXRlVG9MYXlvdXRQcm9wcyAmIFRvb2xiYXJDb250ZXh0UHJvcHMpID0+IHtcbiAgICAgICAgICB0aGlzLmNvbnRleHRQcm9wcyA9IHByb3BzO1xuICAgICAgICAgIGNvbnN0IHsgdmlzaWJsZTogcm9vdFZpc2libGUgfSA9IHRvb2xzWzBdO1xuICAgICAgICAgIGNvbnN0IGlzUm9vdFZpc2libGUgPSB0aGlzLmdldFZhbHVlKHJvb3RWaXNpYmxlLCBwcm9wcyk7XG4gICAgICAgICAgaWYgKHJvb3RWaXNpYmxlICE9PSB1bmRlZmluZWQgJiYgIWlzUm9vdFZpc2libGUpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCB2aXNpYmxlVG9vbHMgPSB0b29scy5maWx0ZXIoKHRvb2wpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgdmlzaWJsZSB9ID0gdG9vbDtcbiAgICAgICAgICAgIGNvbnN0IGlzVmlzaWJsZSA9IHRoaXMuZ2V0VmFsdWUodmlzaWJsZSwgcHJvcHMpO1xuICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiB2aXNpYmxlID09PSAndW5kZWZpbmVkJyB8fCBpc1Zpc2libGU7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgaWYgKHZpc2libGVUb29scy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAodmlzaWJsZVRvb2xzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgcmV0dXJuIDxUb29sYmFySXRlbSB1aWQ9e2Ake3VpZH1fMGB9IHsuLi52aXNpYmxlVG9vbHNbMF19IC8+O1xuICAgICAgICAgIH1cbiAgICAgICAgICBsZXQgc2VsZWN0ZWRUb29sO1xuICAgICAgICAgIHZpc2libGVUb29scy5zb21lKCh0b29sKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB7IGNoZWNrZWQgfSA9IHRvb2w7XG4gICAgICAgICAgICBpZiAodGhpcy5nZXRWYWx1ZShjaGVja2VkLCBwcm9wcykpIHtcbiAgICAgICAgICAgICAgc2VsZWN0ZWRUb29sID0gdG9vbDtcbiAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidG9vbGJhci1ncm91cFwiIGNzcz17dGhpcy5nZXRCYXNlU3R5bGUoKX1cbiAgICAgICAgICAgICAgcmVmPXtlbCA9PiB0aGlzLnJlZiA9IGVsfSBvbkNsaWNrPXt0aGlzLnRvZ2dsZVBvcFRvb2xJdGVtc30+XG4gICAgICAgICAgICAgIDxkaXYgcmVmPXtyZWYgPT4gdGhpcy5yZWZlcmVuY2UgPSByZWZ9IGNsYXNzTmFtZT1cImQtZmxleCB3LTEwMCBqdXN0aWZ5LWNvbnRlbnQtYXJvdW5kIGFsaWduLWl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgIHt0aGlzLmdldEdyb3VwTWVudShzZWxlY3RlZFRvb2wsIHZpc2libGVUb29scyl9XG4gICAgICAgICAgICAgICAgPEljb24gaWNvbj17cmVxdWlyZSgnamltdS11aS9saWIvaWNvbnMvYXJyb3ctZG93bi04LnN2ZycpfVxuICAgICAgICAgICAgICAgICAgc2l6ZT17OH0gY29sb3I9e3Byb3BzLnRoZW1lLmNvbG9ycy5ibGFja30gLz5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIHtwcm9wcy5hY3RpdmVJdGVtID09PSB1aWQgJiYgcHJvcHMudG9nZ2xlT24gJiZcbiAgICAgICAgICAgICAgICA8UG9wcGVyIHRvZ2dsZT17dGhpcy50b2dnbGVQb3BUb29sSXRlbXN9IHBsYWNlbWVudD1cImJvdHRvbVwiIG1vZGlmaWVycz17TU9ESUZJRVJTfSByZWZlcmVuY2U9e3RoaXMucmVmZXJlbmNlfSBvcGVuPXt0cnVlfT5cbiAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgY3NzPXt0aGlzLmdldFBvcFN0eWxlKCl9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImQtZmxleCBmbGV4LWNvbHVtblwiPlxuICAgICAgICAgICAgICAgICAgICB7dmlzaWJsZVRvb2xzLm1hcCgodG9vbENvbmZpZywgaW5kZXgpID0+IHRoaXMuY3JlYXRlVG9vbEl0ZW0odG9vbENvbmZpZywgcHJvcHMsIGluZGV4KSl9XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L1BvcHBlcj59XG5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICk7XG4gICAgICAgIH19XG4gICAgICA8L1Rvb2xiYXJDb250ZXh0LkNvbnN1bWVyPlxuICAgICk7XG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFBQTtBQUtBO0FBQUE7QUFhQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWpCQTs7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQVVBO0FBQ0E7QUFDQTtBQVlBO0FBRUE7QUFDQTtBQWNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBSUE7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFTQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQU9BO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBU0E7QUFHQTtBQUNBO0FBQUE7OzsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./jimu-layouts/lib/builder/toolbar-group.tsx\n");

/***/ }),

/***/ "./jimu-layouts/lib/builder/toolbar-item.tsx":
/*!***************************************************!*\
  !*** ./jimu-layouts/lib/builder/toolbar-item.tsx ***!
  \***************************************************/
/*! exports provided: DEFAULT_ICON_SIZE, ToolbarItem */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DEFAULT_ICON_SIZE\", function() { return DEFAULT_ICON_SIZE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ToolbarItem\", function() { return ToolbarItem; });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jimu_core__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ \"jimu-ui\");\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jimu_ui__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-layouts/layout-runtime */ \"jimu-layouts/layout-runtime\");\n/* harmony import */ var jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _toolbar_context__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./toolbar-context */ \"./jimu-layouts/lib/builder/toolbar-context.tsx\");\nvar __makeTemplateObject = (undefined && undefined.__makeTemplateObject) || function (cooked, raw) {\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n    return cooked;\n};\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (undefined && undefined.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\n/** @jsx jsx */\n\n\n\n\nvar DEFAULT_ICON_SIZE = 16;\nvar iconStyle = Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n  width: 50px;\\n  height: 100%;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n\"], [\"\\n  width: 50px;\\n  height: 100%;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n\"])));\nvar modifiers = [\n    {\n        name: 'flip',\n        options: {\n            fallbackPlacements: ['top', 'right'],\n        },\n    }\n];\nvar ToolbarItem = /** @class */ (function (_super) {\n    __extends(ToolbarItem, _super);\n    function ToolbarItem(props) {\n        var _this = _super.call(this, props) || this;\n        _this.togglePopper = function () {\n            _this.setState({ showPopper: !_this.state.showPopper });\n        };\n        jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_2__[\"utils\"].autoBindHandlers(_this, ['select']);\n        _this.state = { showPopper: false };\n        return _this;\n    }\n    ToolbarItem.prototype.select = function (e) {\n        e.stopPropagation();\n        if (this.props.onClick) {\n            var parentRef = this.contextProps.parentRef;\n            this.props.onClick({\n                layoutId: this.contextProps.layoutId,\n                layoutItem: this.contextProps.layoutItem,\n                clientRect: parentRef && parentRef.getBoundingClientRect()\n            }, e);\n            this.contextProps.onItemClick(this.props.uid);\n            this.togglePopper();\n        }\n    };\n    ToolbarItem.prototype.getValue = function (target, props) {\n        if (typeof target === 'function') {\n            return target(props);\n        }\n        return target;\n    };\n    ToolbarItem.prototype.getStyle = function () {\n        var theme = this.contextProps.theme;\n        return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_2 || (templateObject_2 = __makeTemplateObject([\"\\n      cursor: pointer;\\n      width: 32px;\\n      min-height: 32px;\\n      display: flex;\\n      justify-content: flex-start;\\n      user-select: none;\\n      background: \", \";\\n\\n      &:hover {\\n        background: \", \";\\n      }\\n      &.selected {\\n        background: \", \";\\n      }\\n\\n      &.disabled,\\n      &.no-action {\\n        cursor: default;\\n        pointer-events: none;\\n        &:hover {\\n          background: \", \";\\n        }\\n        &.msg {\\n          color: \", \";\\n        }\\n      }\\n\\n      &.msg {\\n        width: auto;\\n        font-size: 12px;\\n        color: \", \";\\n        letter-spacing: 0.33px;\\n        text-align: center;\\n        padding: 0 8px;\\n        &:hover {\\n          background: \", \";\\n        }\\n      }\\n\\n      .toolbar-group & {\\n        justify-content: flex-start;\\n      }\\n    \"], [\"\\n      cursor: pointer;\\n      width: 32px;\\n      min-height: 32px;\\n      display: flex;\\n      justify-content: flex-start;\\n      user-select: none;\\n      background: \", \";\\n\\n      &:hover {\\n        background: \", \";\\n      }\\n      &.selected {\\n        background: \", \";\\n      }\\n\\n      &.disabled,\\n      &.no-action {\\n        cursor: default;\\n        pointer-events: none;\\n        &:hover {\\n          background: \", \";\\n        }\\n        &.msg {\\n          color: \", \";\\n        }\\n      }\\n\\n      &.msg {\\n        width: auto;\\n        font-size: 12px;\\n        color: \", \";\\n        letter-spacing: 0.33px;\\n        text-align: center;\\n        padding: 0 8px;\\n        &:hover {\\n          background: \", \";\\n        }\\n      }\\n\\n      .toolbar-group & {\\n        justify-content: flex-start;\\n      }\\n    \"])), theme.colors.palette.light[300], theme.colors.palette.light[500], theme.colors.primary, theme.colors.palette.light[300], theme.colors.palette.dark[400], theme.colors.black, theme.colors.palette.light[500]);\n    };\n    ToolbarItem.prototype.separatorStyle = function () {\n        var theme = this.contextProps.theme;\n        if (this.props.isInGroup) {\n            return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_3 || (templateObject_3 = __makeTemplateObject([\"\\n        width: 100%;\\n        height: 1px;\\n        background-color: \", \";\\n        align-self: center;\\n      \"], [\"\\n        width: 100%;\\n        height: 1px;\\n        background-color: \", \";\\n        align-self: center;\\n      \"])), theme.colors.palette.light[600]);\n        }\n        return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_4 || (templateObject_4 = __makeTemplateObject([\"\\n      width: 1px;\\n      height: 30px;\\n      border-left: 1px solid \", \";\\n      align-self: center;\\n    \"], [\"\\n      width: 1px;\\n      height: 30px;\\n      border-left: 1px solid \", \";\\n      align-self: center;\\n    \"])), theme.colors.palette.light[600]);\n    };\n    ToolbarItem.prototype.render = function () {\n        var _this = this;\n        var _a = this.props, icon = _a.icon, autoFlipIcon = _a.autoFlipIcon, label = _a.label, size = _a.size, checked = _a.checked, disabled = _a.disabled, visible = _a.visible, rotate = _a.rotate, settingPanel = _a.settingPanel, title = _a.title, uid = _a.uid, widgetId = _a.widgetId, className = _a.className, seperator = _a.seperator;\n        if (seperator) {\n            return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_toolbar_context__WEBPACK_IMPORTED_MODULE_3__[\"ToolbarContext\"].Consumer, null, function (props) {\n                _this.contextProps = props;\n                return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { css: _this.separatorStyle() });\n            });\n        }\n        var noAction = this.props.onClick == null;\n        var iconSize = size || DEFAULT_ICON_SIZE;\n        var SettingPanel = settingPanel;\n        return (Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_toolbar_context__WEBPACK_IMPORTED_MODULE_3__[\"ToolbarContext\"].Consumer, null, function (props) {\n            _this.contextProps = props;\n            if (widgetId && props.layoutItem.widgetId !== widgetId) {\n                // TODO - prevent renderring toolbar item for the previous selected widget.\n                // Should have better solution\n                return null;\n            }\n            var tooltip = '';\n            if (typeof title === 'function') {\n                tooltip = title(props);\n            }\n            else if (typeof title === 'string') {\n                tooltip = title;\n            }\n            var showSettingPanel = settingPanel && props.activeItem === uid && props.toggleOn;\n            var isChecked = showSettingPanel || _this.getValue(checked, props);\n            var isDisabled = _this.getValue(disabled, props);\n            var isVisible = _this.getValue(visible, props);\n            var textContent = _this.getValue(label, props);\n            var iconContent = _this.getValue(icon, props);\n            if (visible != null && !isVisible) {\n                return null;\n            }\n            return (Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"classNames\"])('toolbar-item', className, {\n                    'selected': isChecked,\n                    'disabled': isDisabled,\n                    'msg': textContent,\n                    'no-action': noAction,\n                }), css: _this.getStyle() },\n                !SettingPanel && Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"Tooltip\"], { placement: \"bottom\", title: textContent ? '' : tooltip, modifiers: modifiers },\n                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"d-flex justify-content-start align-items-center w-100\", onClick: _this.select },\n                        iconContent && (Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"icon-container\", css: iconStyle },\n                            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"Icon\"], { className: Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"classNames\"])('tool-item-icon', { checked: isChecked }), icon: iconContent, rotate: rotate, size: iconSize, color: props.theme.colors.black, autoFlip: autoFlipIcon }))),\n                        textContent && (Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"span\", { className: \"pl-2 text-nowrap\" }, textContent)))),\n                SettingPanel && (Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].Fragment, null,\n                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"Tooltip\"], { placement: \"bottom\", title: textContent ? '' : tooltip, modifiers: modifiers },\n                        Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { ref: function (ref) { return _this.reference = ref; }, css: iconStyle, onClick: _this.select },\n                            iconContent && (Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"Icon\"], { className: Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"classNames\"])('tool-item-icon', { checked: isChecked }), icon: iconContent, rotate: rotate, size: iconSize, color: props.theme.colors.black, autoFlip: autoFlipIcon })),\n                            textContent && Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"span\", null, textContent))),\n                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"Popper\"], { placement: \"bottom-start\", reference: _this.reference, open: _this.state.showPopper, disablePortal: true },\n                        Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { css: Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_5 || (templateObject_5 = __makeTemplateObject([\"\\n                          display: flex;\\n                          pointer-events: all;\\n                          background-color: \", \";\\n                          border-radius: 2px;\\n                          box-shadow: 0 2px 8px 1px rgba(0, 0, 0, 0.2);\\n                          margin: 4px 0;\\n                        \"], [\"\\n                          display: flex;\\n                          pointer-events: all;\\n                          background-color: \", \";\\n                          border-radius: 2px;\\n                          box-shadow: 0 2px 8px 1px rgba(0, 0, 0, 0.2);\\n                          margin: 4px 0;\\n                        \"])), props.theme.colors.white), className: \"d-flex\" }, showSettingPanel && Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(SettingPanel, __assign({}, props))))))));\n        }));\n    };\n    return ToolbarItem;\n}(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].PureComponent));\n\nvar templateObject_1, templateObject_2, templateObject_3, templateObject_4, templateObject_5;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWxheW91dHMvbGliL2J1aWxkZXIvdG9vbGJhci1pdGVtLnRzeC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2ppbXUtbGF5b3V0cy9saWIvYnVpbGRlci90b29sYmFyLWl0ZW0udHN4P2M2NjciXSwic291cmNlc0NvbnRlbnQiOlsiLyoqIEBqc3gganN4ICovXG5pbXBvcnQgeyBSZWFjdCwgY2xhc3NOYW1lcywganN4LCBjc3MsIElNTGF5b3V0SXRlbUpzb24gfSBmcm9tICdqaW11LWNvcmUnO1xuaW1wb3J0IHsgUG9wcGVyLCBUb29sdGlwLCBJY29uIH0gZnJvbSAnamltdS11aSc7XG5pbXBvcnQgeyBUb29sSXRlbUNvbmZpZywgU3RhdGVUb0xheW91dEl0ZW1Qcm9wcyB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IHV0aWxzIH0gZnJvbSAnamltdS1sYXlvdXRzL2xheW91dC1ydW50aW1lJztcbmltcG9ydCB7IFRvb2xiYXJDb250ZXh0LCBUb29sYmFyQ29udGV4dFByb3BzIH0gZnJvbSAnLi90b29sYmFyLWNvbnRleHQnO1xuXG5leHBvcnQgY29uc3QgREVGQVVMVF9JQ09OX1NJWkUgPSAxNjtcblxuY29uc3QgaWNvblN0eWxlID0gY3NzYFxuICB3aWR0aDogNTBweDtcbiAgaGVpZ2h0OiAxMDAlO1xuICBkaXNwbGF5OiBmbGV4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbmA7XG5cbmNvbnN0IG1vZGlmaWVycyA9IFtcbiAge1xuICAgIG5hbWU6ICdmbGlwJyxcbiAgICBvcHRpb25zOiB7XG4gICAgICBmYWxsYmFja1BsYWNlbWVudHM6IFsndG9wJywgJ3JpZ2h0J10sXG4gICAgfSxcbiAgfVxuXTtcblxuaW50ZXJmYWNlIFN0YXRlIHtcbiAgc2hvd1BvcHBlcjogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGNsYXNzIFRvb2xiYXJJdGVtIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudDxcbiAgVG9vbEl0ZW1Db25maWcgJiB7XG4gICAgdWlkOiBzdHJpbmc7XG4gICAgaXNJbkdyb3VwPzogYm9vbGVhbjtcbiAgfSwgU3RhdGVcbiAgPiB7XG4gIGNvbnRleHRQcm9wczogVG9vbGJhckNvbnRleHRQcm9wcztcbiAgcmVmZXJlbmNlOiBIVE1MRGl2RWxlbWVudDtcblxuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHV0aWxzLmF1dG9CaW5kSGFuZGxlcnModGhpcywgWydzZWxlY3QnXSk7XG5cbiAgICB0aGlzLnN0YXRlID0geyBzaG93UG9wcGVyOiBmYWxzZSB9O1xuICB9XG5cbiAgc2VsZWN0KGU6IFJlYWN0Lk1vdXNlRXZlbnQpIHtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIGlmICh0aGlzLnByb3BzLm9uQ2xpY2spIHtcbiAgICAgIGNvbnN0IHsgcGFyZW50UmVmIH0gPSB0aGlzLmNvbnRleHRQcm9wcztcbiAgICAgIHRoaXMucHJvcHMub25DbGljayhcbiAgICAgICAge1xuICAgICAgICAgIGxheW91dElkOiB0aGlzLmNvbnRleHRQcm9wcy5sYXlvdXRJZCxcbiAgICAgICAgICBsYXlvdXRJdGVtOiB0aGlzLmNvbnRleHRQcm9wcy5sYXlvdXRJdGVtIGFzIElNTGF5b3V0SXRlbUpzb24sXG4gICAgICAgICAgY2xpZW50UmVjdDogcGFyZW50UmVmICYmIHBhcmVudFJlZi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxuICAgICAgICB9LFxuICAgICAgICBlLFxuICAgICAgKTtcbiAgICAgIHRoaXMuY29udGV4dFByb3BzLm9uSXRlbUNsaWNrKHRoaXMucHJvcHMudWlkKTtcbiAgICAgIHRoaXMudG9nZ2xlUG9wcGVyKCk7XG4gICAgfVxuICB9XG5cbiAgZ2V0VmFsdWUodGFyZ2V0LCBwcm9wcykge1xuICAgIGlmICh0eXBlb2YgdGFyZ2V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXR1cm4gdGFyZ2V0KHByb3BzKTtcbiAgICB9XG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfVxuXG4gIGdldFN0eWxlKCkge1xuICAgIGNvbnN0IHsgdGhlbWUgfSA9IHRoaXMuY29udGV4dFByb3BzO1xuXG4gICAgcmV0dXJuIGNzc2BcbiAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgIHdpZHRoOiAzMnB4O1xuICAgICAgbWluLWhlaWdodDogMzJweDtcbiAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtc3RhcnQ7XG4gICAgICB1c2VyLXNlbGVjdDogbm9uZTtcbiAgICAgIGJhY2tncm91bmQ6ICR7dGhlbWUuY29sb3JzLnBhbGV0dGUubGlnaHRbMzAwXX07XG5cbiAgICAgICY6aG92ZXIge1xuICAgICAgICBiYWNrZ3JvdW5kOiAke3RoZW1lLmNvbG9ycy5wYWxldHRlLmxpZ2h0WzUwMF19O1xuICAgICAgfVxuICAgICAgJi5zZWxlY3RlZCB7XG4gICAgICAgIGJhY2tncm91bmQ6ICR7dGhlbWUuY29sb3JzLnByaW1hcnl9O1xuICAgICAgfVxuXG4gICAgICAmLmRpc2FibGVkLFxuICAgICAgJi5uby1hY3Rpb24ge1xuICAgICAgICBjdXJzb3I6IGRlZmF1bHQ7XG4gICAgICAgIHBvaW50ZXItZXZlbnRzOiBub25lO1xuICAgICAgICAmOmhvdmVyIHtcbiAgICAgICAgICBiYWNrZ3JvdW5kOiAke3RoZW1lLmNvbG9ycy5wYWxldHRlLmxpZ2h0WzMwMF19O1xuICAgICAgICB9XG4gICAgICAgICYubXNnIHtcbiAgICAgICAgICBjb2xvcjogJHt0aGVtZS5jb2xvcnMucGFsZXR0ZS5kYXJrWzQwMF19O1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgICYubXNnIHtcbiAgICAgICAgd2lkdGg6IGF1dG87XG4gICAgICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICAgICAgY29sb3I6ICR7dGhlbWUuY29sb3JzLmJsYWNrfTtcbiAgICAgICAgbGV0dGVyLXNwYWNpbmc6IDAuMzNweDtcbiAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgICBwYWRkaW5nOiAwIDhweDtcbiAgICAgICAgJjpob3ZlciB7XG4gICAgICAgICAgYmFja2dyb3VuZDogJHt0aGVtZS5jb2xvcnMucGFsZXR0ZS5saWdodFs1MDBdfTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAudG9vbGJhci1ncm91cCAmIHtcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBmbGV4LXN0YXJ0O1xuICAgICAgfVxuICAgIGA7XG4gIH1cblxuICBzZXBhcmF0b3JTdHlsZSgpIHtcbiAgICBjb25zdCB7IHRoZW1lIH0gPSB0aGlzLmNvbnRleHRQcm9wcztcbiAgICBpZiAodGhpcy5wcm9wcy5pc0luR3JvdXApIHtcbiAgICAgIHJldHVybiBjc3NgXG4gICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICBoZWlnaHQ6IDFweDtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogJHt0aGVtZS5jb2xvcnMucGFsZXR0ZS5saWdodFs2MDBdfTtcbiAgICAgICAgYWxpZ24tc2VsZjogY2VudGVyO1xuICAgICAgYDtcbiAgICB9XG4gICAgcmV0dXJuIGNzc2BcbiAgICAgIHdpZHRoOiAxcHg7XG4gICAgICBoZWlnaHQ6IDMwcHg7XG4gICAgICBib3JkZXItbGVmdDogMXB4IHNvbGlkICR7dGhlbWUuY29sb3JzLnBhbGV0dGUubGlnaHRbNjAwXX07XG4gICAgICBhbGlnbi1zZWxmOiBjZW50ZXI7XG4gICAgYDtcbiAgfVxuXG4gIHRvZ2dsZVBvcHBlciA9ICgpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHsgc2hvd1BvcHBlcjogIXRoaXMuc3RhdGUuc2hvd1BvcHBlciB9KTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7XG4gICAgICBpY29uLFxuICAgICAgYXV0b0ZsaXBJY29uLFxuICAgICAgbGFiZWwsXG4gICAgICBzaXplLFxuICAgICAgY2hlY2tlZCxcbiAgICAgIGRpc2FibGVkLFxuICAgICAgdmlzaWJsZSxcbiAgICAgIHJvdGF0ZSxcbiAgICAgIHNldHRpbmdQYW5lbCxcbiAgICAgIHRpdGxlLFxuICAgICAgdWlkLFxuICAgICAgd2lkZ2V0SWQsXG4gICAgICBjbGFzc05hbWUsXG4gICAgICBzZXBlcmF0b3IsXG4gICAgfSA9IHRoaXMucHJvcHM7XG5cbiAgICBpZiAoc2VwZXJhdG9yKSB7XG4gICAgICByZXR1cm4gPFRvb2xiYXJDb250ZXh0LkNvbnN1bWVyPlxuICAgICAgICB7KHByb3BzOiBTdGF0ZVRvTGF5b3V0SXRlbVByb3BzICYgVG9vbGJhckNvbnRleHRQcm9wcyAmIHsgbGF5b3V0SWQ6IHN0cmluZyB9KSA9PiB7XG4gICAgICAgICAgdGhpcy5jb250ZXh0UHJvcHMgPSBwcm9wcztcbiAgICAgICAgICByZXR1cm4gPGRpdiBjc3M9e3RoaXMuc2VwYXJhdG9yU3R5bGUoKX0+PC9kaXY+O1xuICAgICAgICB9fVxuICAgICAgPC9Ub29sYmFyQ29udGV4dC5Db25zdW1lcj5cbiAgICB9XG5cbiAgICBjb25zdCBub0FjdGlvbiA9IHRoaXMucHJvcHMub25DbGljayA9PSBudWxsO1xuXG4gICAgY29uc3QgaWNvblNpemUgPSBzaXplIHx8IERFRkFVTFRfSUNPTl9TSVpFO1xuXG4gICAgY29uc3QgU2V0dGluZ1BhbmVsID0gc2V0dGluZ1BhbmVsO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxUb29sYmFyQ29udGV4dC5Db25zdW1lcj5cbiAgICAgICAgeyhwcm9wczogU3RhdGVUb0xheW91dEl0ZW1Qcm9wcyAmIFRvb2xiYXJDb250ZXh0UHJvcHMgJiB7IGxheW91dElkOiBzdHJpbmcgfSkgPT4ge1xuICAgICAgICAgIHRoaXMuY29udGV4dFByb3BzID0gcHJvcHM7XG4gICAgICAgICAgaWYgKHdpZGdldElkICYmIHByb3BzLmxheW91dEl0ZW0ud2lkZ2V0SWQgIT09IHdpZGdldElkKSB7XG4gICAgICAgICAgICAvLyBUT0RPIC0gcHJldmVudCByZW5kZXJyaW5nIHRvb2xiYXIgaXRlbSBmb3IgdGhlIHByZXZpb3VzIHNlbGVjdGVkIHdpZGdldC5cbiAgICAgICAgICAgIC8vIFNob3VsZCBoYXZlIGJldHRlciBzb2x1dGlvblxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICAgIGxldCB0b29sdGlwID0gJyc7XG4gICAgICAgICAgaWYgKHR5cGVvZiB0aXRsZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdG9vbHRpcCA9IHRpdGxlKHByb3BzIGFzIGFueSk7XG4gICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgdGl0bGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB0b29sdGlwID0gdGl0bGU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29uc3Qgc2hvd1NldHRpbmdQYW5lbCA9IHNldHRpbmdQYW5lbCAmJiBwcm9wcy5hY3RpdmVJdGVtID09PSB1aWQgJiYgcHJvcHMudG9nZ2xlT247XG4gICAgICAgICAgY29uc3QgaXNDaGVja2VkID0gc2hvd1NldHRpbmdQYW5lbCB8fCB0aGlzLmdldFZhbHVlKGNoZWNrZWQsIHByb3BzKTtcbiAgICAgICAgICBjb25zdCBpc0Rpc2FibGVkID0gdGhpcy5nZXRWYWx1ZShkaXNhYmxlZCwgcHJvcHMpO1xuICAgICAgICAgIGNvbnN0IGlzVmlzaWJsZSA9IHRoaXMuZ2V0VmFsdWUodmlzaWJsZSwgcHJvcHMpO1xuICAgICAgICAgIGNvbnN0IHRleHRDb250ZW50ID0gdGhpcy5nZXRWYWx1ZShsYWJlbCwgcHJvcHMpO1xuICAgICAgICAgIGNvbnN0IGljb25Db250ZW50ID0gdGhpcy5nZXRWYWx1ZShpY29uLCBwcm9wcyk7XG4gICAgICAgICAgaWYgKHZpc2libGUgIT0gbnVsbCAmJiAhaXNWaXNpYmxlKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzTmFtZXMoJ3Rvb2xiYXItaXRlbScsIGNsYXNzTmFtZSwge1xuICAgICAgICAgICAgICAgICdzZWxlY3RlZCc6IGlzQ2hlY2tlZCxcbiAgICAgICAgICAgICAgICAnZGlzYWJsZWQnOiBpc0Rpc2FibGVkLFxuICAgICAgICAgICAgICAgICdtc2cnOiB0ZXh0Q29udGVudCxcbiAgICAgICAgICAgICAgICAnbm8tYWN0aW9uJzogbm9BY3Rpb24sXG4gICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICBjc3M9e3RoaXMuZ2V0U3R5bGUoKX0+XG4gICAgICAgICAgICAgIHshU2V0dGluZ1BhbmVsICYmIDxUb29sdGlwIHBsYWNlbWVudD1cImJvdHRvbVwiIHRpdGxlPXt0ZXh0Q29udGVudCA/ICcnIDogdG9vbHRpcH0gbW9kaWZpZXJzPXttb2RpZmllcnN9PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZC1mbGV4IGp1c3RpZnktY29udGVudC1zdGFydCBhbGlnbi1pdGVtcy1jZW50ZXIgdy0xMDBcIiBvbkNsaWNrPXt0aGlzLnNlbGVjdH0+XG4gICAgICAgICAgICAgICAgICB7aWNvbkNvbnRlbnQgJiYgKFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImljb24tY29udGFpbmVyXCIgY3NzPXtpY29uU3R5bGV9PlxuICAgICAgICAgICAgICAgICAgICAgIDxJY29uXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzTmFtZXMoJ3Rvb2wtaXRlbS1pY29uJywgeyBjaGVja2VkOiBpc0NoZWNrZWQgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICBpY29uPXtpY29uQ29udGVudH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJvdGF0ZT17cm90YXRlfVxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZT17aWNvblNpemV9XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcj17cHJvcHMudGhlbWUuY29sb3JzLmJsYWNrfVxuICAgICAgICAgICAgICAgICAgICAgICAgYXV0b0ZsaXA9e2F1dG9GbGlwSWNvbn1cbiAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICB7dGV4dENvbnRlbnQgJiYgKFxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJwbC0yIHRleHQtbm93cmFwXCI+e3RleHRDb250ZW50fTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvVG9vbHRpcD59XG4gICAgICAgICAgICAgIHtTZXR0aW5nUGFuZWwgJiYgKFxuICAgICAgICAgICAgICAgIDxSZWFjdC5GcmFnbWVudD5cbiAgICAgICAgICAgICAgICAgIDxUb29sdGlwIHBsYWNlbWVudD1cImJvdHRvbVwiIHRpdGxlPXt0ZXh0Q29udGVudCA/ICcnIDogdG9vbHRpcH0gbW9kaWZpZXJzPXttb2RpZmllcnN9PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IHJlZj17cmVmID0+IHRoaXMucmVmZXJlbmNlID0gcmVmfSBjc3M9e2ljb25TdHlsZX0gb25DbGljaz17dGhpcy5zZWxlY3R9PlxuICAgICAgICAgICAgICAgICAgICAgIHtpY29uQ29udGVudCAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8SWNvblxuICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzTmFtZXMoJ3Rvb2wtaXRlbS1pY29uJywgeyBjaGVja2VkOiBpc0NoZWNrZWQgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGljb249e2ljb25Db250ZW50fVxuICAgICAgICAgICAgICAgICAgICAgICAgICByb3RhdGU9e3JvdGF0ZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZT17aWNvblNpemV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yPXtwcm9wcy50aGVtZS5jb2xvcnMuYmxhY2t9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGF1dG9GbGlwPXthdXRvRmxpcEljb259XG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAge3RleHRDb250ZW50ICYmIDxzcGFuPnt0ZXh0Q29udGVudH08L3NwYW4+fVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvVG9vbHRpcD5cbiAgICAgICAgICAgICAgICAgIDxQb3BwZXIgcGxhY2VtZW50PVwiYm90dG9tLXN0YXJ0XCIgcmVmZXJlbmNlPXt0aGlzLnJlZmVyZW5jZX0gb3Blbj17dGhpcy5zdGF0ZS5zaG93UG9wcGVyfSBkaXNhYmxlUG9ydGFsPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgY3NzPXtjc3NgXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHBvaW50ZXItZXZlbnRzOiBhbGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICR7cHJvcHMudGhlbWUuY29sb3JzLndoaXRlfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMnB4O1xuICAgICAgICAgICAgICAgICAgICAgICAgICBib3gtc2hhZG93OiAwIDJweCA4cHggMXB4IHJnYmEoMCwgMCwgMCwgMC4yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luOiA0cHggMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGB9XG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZC1mbGV4XCI+XG4gICAgICAgICAgICAgICAgICAgICAge3Nob3dTZXR0aW5nUGFuZWwgJiYgPFNldHRpbmdQYW5lbCB7Li4ucHJvcHN9IC8+fVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvUG9wcGVyPlxuICAgICAgICAgICAgICAgIDwvUmVhY3QuRnJhZ21lbnQ+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApO1xuICAgICAgICB9fVxuICAgICAgPC9Ub29sYmFyQ29udGV4dC5Db25zdW1lcj5cbiAgICApO1xuICB9XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFBQTtBQVNBO0FBQUE7QUFtR0E7QUFDQTtBQUNBO0FBbEdBO0FBRUE7O0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQTRDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQU1BO0FBTUE7QUFBQTtBQUNBO0FBaUJBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBRUE7QUFFQTtBQUVBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQVVBO0FBS0E7QUFFQTtBQUNBO0FBQ0E7QUFVQTtBQUdBO0FBQ0E7QUFpQkE7QUFHQTtBQUNBO0FBQUE7OzsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./jimu-layouts/lib/builder/toolbar-item.tsx\n");

/***/ }),

/***/ "./jimu-layouts/lib/builder/toolbar.tsx":
/*!**********************************************!*\
  !*** ./jimu-layouts/lib/builder/toolbar.tsx ***!
  \**********************************************/
/*! exports provided: Toolbar */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Toolbar\", function() { return Toolbar; });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jimu_core__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _toolbar_context__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./toolbar-context */ \"./jimu-layouts/lib/builder/toolbar-context.tsx\");\n/* harmony import */ var _toolbar_group__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./toolbar-group */ \"./jimu-layouts/lib/builder/toolbar-group.tsx\");\n/* harmony import */ var _toolbar_item__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./toolbar-item */ \"./jimu-layouts/lib/builder/toolbar-item.tsx\");\n/* harmony import */ var jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! jimu-layouts/layout-runtime */ \"jimu-layouts/layout-runtime\");\n/* harmony import */ var jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _interactive_drag_event_handler__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./interactive/drag-event-handler */ \"./jimu-layouts/lib/builder/interactive/drag-event-handler.ts\");\n/* harmony import */ var _interactive_resize_event_handler__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./interactive/resize-event-handler */ \"./jimu-layouts/lib/builder/interactive/resize-event-handler.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __makeTemplateObject = (undefined && undefined.__makeTemplateObject) || function (cooked, raw) {\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n    return cooked;\n};\nvar __assign = (undefined && undefined.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\n/** @jsx jsx */\n\n\n\n\n\n\n\nvar Toolbar = /** @class */ (function (_super) {\n    __extends(Toolbar, _super);\n    function Toolbar(props) {\n        var _this = _super.call(this, props) || this;\n        _this.state = {\n            activeItem: null,\n        };\n        jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_4__[\"utils\"].autoBindHandlers(_this, ['onItemClick']);\n        return _this;\n    }\n    Toolbar.prototype.onItemClick = function (value) {\n        var isOn = this.state.toggleOn;\n        if (value === this.state.activeItem) {\n            isOn = !isOn;\n        }\n        else {\n            isOn = true;\n        }\n        this.setState({\n            activeItem: value,\n            toggleOn: isOn,\n        });\n    };\n    Toolbar.prototype.getStyle = function () {\n        var theme = this.props.theme;\n        return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n      display: flex;\\n      pointer-events: all;\\n      border-radius: 2px;\\n      box-shadow: 0 2px 8px 1px rgba(0,0,0,0.20);\\n      height: 100%;\\n      margin: 5px 0;\\n      background: \", \";\\n\\n      .\", \" &,\\n      .\", \" &,\\n      .\", \" & {\\n        display: none;\\n      }\\n    \"], [\"\\n      display: flex;\\n      pointer-events: all;\\n      border-radius: 2px;\\n      box-shadow: 0 2px 8px 1px rgba(0,0,0,0.20);\\n      height: 100%;\\n      margin: 5px 0;\\n      background: \", \";\\n\\n      .\", \" &,\\n      .\", \" &,\\n      .\", \" & {\\n        display: none;\\n      }\\n    \"])), theme.colors.palette.light[300], _interactive_drag_event_handler__WEBPACK_IMPORTED_MODULE_5__[\"GLOBAL_DRAGGING_CLASS_NAME\"], _interactive_resize_event_handler__WEBPACK_IMPORTED_MODULE_6__[\"GLOBAL_RESIZING_CLASS_NAME\"], _interactive_drag_event_handler__WEBPACK_IMPORTED_MODULE_5__[\"GLOBAL_H5_DRAGGING_CLASS_NAME\"]);\n    };\n    Toolbar.prototype.render = function () {\n        var tools = this.props.tools;\n        if (!tools || tools.length === 0) {\n            return null;\n        }\n        var _a = this.state, activeItem = _a.activeItem, toggleOn = _a.toggleOn;\n        return (Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_toolbar_context__WEBPACK_IMPORTED_MODULE_1__[\"ToolbarContext\"].Provider, { value: __assign(__assign({}, this.props), { activeItem: activeItem, toggleOn: toggleOn, onItemClick: this.onItemClick }) },\n            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { css: this.getStyle(), className: \"layout-item-toolbar\" }, tools.map(function (toolConfig, index) {\n                if (Array.isArray(toolConfig)) {\n                    return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_toolbar_group__WEBPACK_IMPORTED_MODULE_2__[\"ToolbarGroup\"], { uid: \"\" + index, key: index, tools: toolConfig });\n                }\n                return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_toolbar_item__WEBPACK_IMPORTED_MODULE_3__[\"ToolbarItem\"], __assign({ uid: \"\" + index, key: index }, toolConfig));\n            }))));\n    };\n    return Toolbar;\n}(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].PureComponent));\n\nvar templateObject_1;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWxheW91dHMvbGliL2J1aWxkZXIvdG9vbGJhci50c3guanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qaW11LWxheW91dHMvbGliL2J1aWxkZXIvdG9vbGJhci50c3g/MjYxYyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiogQGpzeCBqc3ggKi9cbmltcG9ydCB7IFJlYWN0LCBUaGVtZVZhcmlhYmxlcywganN4LCBjc3MsIElNTGF5b3V0SXRlbUpzb24gfSBmcm9tICdqaW11LWNvcmUnO1xuaW1wb3J0IHsgVG9vbEl0ZW1Db25maWcgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBUb29sYmFyQ29udGV4dCB9IGZyb20gJy4vdG9vbGJhci1jb250ZXh0JztcbmltcG9ydCB7IFRvb2xiYXJHcm91cCB9IGZyb20gJy4vdG9vbGJhci1ncm91cCc7XG5pbXBvcnQgeyBUb29sYmFySXRlbSB9IGZyb20gJy4vdG9vbGJhci1pdGVtJztcbmltcG9ydCB7IHV0aWxzIH0gZnJvbSAnamltdS1sYXlvdXRzL2xheW91dC1ydW50aW1lJztcbmltcG9ydCB7IEdMT0JBTF9EUkFHR0lOR19DTEFTU19OQU1FLCBHTE9CQUxfSDVfRFJBR0dJTkdfQ0xBU1NfTkFNRSB9IGZyb20gJy4vaW50ZXJhY3RpdmUvZHJhZy1ldmVudC1oYW5kbGVyJztcbmltcG9ydCB7IEdMT0JBTF9SRVNJWklOR19DTEFTU19OQU1FIH0gZnJvbSAnLi9pbnRlcmFjdGl2ZS9yZXNpemUtZXZlbnQtaGFuZGxlcic7XG5cbmV4cG9ydCBpbnRlcmZhY2UgVG9vbGJhclByb3BzIHtcbiAgdG9vbHM6IChUb29sSXRlbUNvbmZpZyB8IFRvb2xJdGVtQ29uZmlnW10pW107XG4gIGxheW91dElkOiBzdHJpbmc7XG4gIGxheW91dEl0ZW06IElNTGF5b3V0SXRlbUpzb247XG4gIHBhcmVudFJlZjogSFRNTEVsZW1lbnQ7XG4gIHRoZW1lOiBUaGVtZVZhcmlhYmxlcztcbiAgZm9ybWF0TWVzc2FnZTogKGlkOiBzdHJpbmcpID0+IHN0cmluZztcbn1cblxuaW50ZXJmYWNlIFN0YXRlIHtcbiAgYWN0aXZlSXRlbT86IHN0cmluZzsgLy8gVGhlIHRvb2xiYXIgaXRlbSB0aGF0IGlzIGNsaWNrZWQgbW9zdCByZWNlbnRseS5cbiAgdG9nZ2xlT24/OiBib29sZWFuOyAvLyBzdGF0ZSBjb250cm9sIGZvciB0aGUgYWN0aXZlIGl0ZW1cbn1cbmV4cG9ydCBjbGFzcyBUb29sYmFyIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudDxUb29sYmFyUHJvcHMsIFN0YXRlPiB7XG4gIHN0YXRlOiBTdGF0ZSA9IHtcbiAgICBhY3RpdmVJdGVtOiBudWxsLFxuICB9O1xuXG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHV0aWxzLmF1dG9CaW5kSGFuZGxlcnModGhpcywgWydvbkl0ZW1DbGljayddKTtcbiAgfVxuXG4gIG9uSXRlbUNsaWNrKHZhbHVlOiBzdHJpbmcpIHtcbiAgICBsZXQgaXNPbiA9IHRoaXMuc3RhdGUudG9nZ2xlT247XG4gICAgaWYgKHZhbHVlID09PSB0aGlzLnN0YXRlLmFjdGl2ZUl0ZW0pIHtcbiAgICAgIGlzT24gPSAhaXNPbjtcbiAgICB9IGVsc2Uge1xuICAgICAgaXNPbiA9IHRydWU7XG4gICAgfVxuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgYWN0aXZlSXRlbTogdmFsdWUsXG4gICAgICB0b2dnbGVPbjogaXNPbixcbiAgICB9KTtcbiAgfVxuXG4gIGdldFN0eWxlKCkge1xuICAgIGNvbnN0IHsgdGhlbWUgfSA9IHRoaXMucHJvcHM7XG4gICAgcmV0dXJuIGNzc2BcbiAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICBwb2ludGVyLWV2ZW50czogYWxsO1xuICAgICAgYm9yZGVyLXJhZGl1czogMnB4O1xuICAgICAgYm94LXNoYWRvdzogMCAycHggOHB4IDFweCByZ2JhKDAsMCwwLDAuMjApO1xuICAgICAgaGVpZ2h0OiAxMDAlO1xuICAgICAgbWFyZ2luOiA1cHggMDtcbiAgICAgIGJhY2tncm91bmQ6ICR7dGhlbWUuY29sb3JzLnBhbGV0dGUubGlnaHRbMzAwXX07XG5cbiAgICAgIC4ke0dMT0JBTF9EUkFHR0lOR19DTEFTU19OQU1FfSAmLFxuICAgICAgLiR7R0xPQkFMX1JFU0laSU5HX0NMQVNTX05BTUV9ICYsXG4gICAgICAuJHtHTE9CQUxfSDVfRFJBR0dJTkdfQ0xBU1NfTkFNRX0gJiB7XG4gICAgICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgICB9XG4gICAgYDtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IHRvb2xzIH0gPSB0aGlzLnByb3BzO1xuICAgIGlmICghdG9vbHMgfHwgdG9vbHMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgeyBhY3RpdmVJdGVtLCB0b2dnbGVPbiB9ID0gdGhpcy5zdGF0ZTtcbiAgICByZXR1cm4gKFxuICAgICAgPFRvb2xiYXJDb250ZXh0LlByb3ZpZGVyIHZhbHVlPXt7IC4uLnRoaXMucHJvcHMsIGFjdGl2ZUl0ZW0sIHRvZ2dsZU9uLCBvbkl0ZW1DbGljazogdGhpcy5vbkl0ZW1DbGljayB9fT5cbiAgICAgICAgPGRpdiBjc3M9e3RoaXMuZ2V0U3R5bGUoKX0gY2xhc3NOYW1lPVwibGF5b3V0LWl0ZW0tdG9vbGJhclwiPlxuICAgICAgICAgIHt0b29scy5tYXAoKHRvb2xDb25maWcsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh0b29sQ29uZmlnKSkge1xuICAgICAgICAgICAgICByZXR1cm4gPFRvb2xiYXJHcm91cCB1aWQ9e2Ake2luZGV4fWB9IGtleT17aW5kZXh9IHRvb2xzPXt0b29sQ29uZmlnIGFzIFRvb2xJdGVtQ29uZmlnW119Lz47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gPFRvb2xiYXJJdGVtIHVpZD17YCR7aW5kZXh9YH0ga2V5PXtpbmRleH0gey4uLnRvb2xDb25maWd9Lz47XG4gICAgICAgICAgfSl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9Ub29sYmFyQ29udGV4dC5Qcm92aWRlcj5cbiAgICApO1xuICB9XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFlQTtBQUFBO0FBS0E7QUFBQTtBQUpBO0FBQ0E7QUFDQTtBQUlBOztBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFlQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUFBOzs7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./jimu-layouts/lib/builder/toolbar.tsx\n");

/***/ }),

/***/ "./jimu-layouts/lib/builder/types.ts":
/*!*******************************************!*\
  !*** ./jimu-layouts/lib/builder/types.ts ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWxheW91dHMvbGliL2J1aWxkZXIvdHlwZXMudHMuanMiLCJzb3VyY2VzIjpbXSwibWFwcGluZ3MiOiIiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./jimu-layouts/lib/builder/types.ts\n");

/***/ }),

/***/ "./jimu-layouts/lib/builder/widget-placeholder.tsx":
/*!*********************************************************!*\
  !*** ./jimu-layouts/lib/builder/widget-placeholder.tsx ***!
  \*********************************************************/
/*! exports provided: WidgetPlaceholder */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"WidgetPlaceholder\", function() { return WidgetPlaceholder; });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jimu_core__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ \"jimu-ui\");\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jimu_ui__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-ui/advanced/setting-components */ \"jimu-ui/advanced/setting-components\");\n/* harmony import */ var jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-layouts/layout-runtime */ \"jimu-layouts/layout-runtime\");\n/* harmony import */ var jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var jimu_for_builder__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! jimu-for-builder */ \"jimu-for-builder\");\n/* harmony import */ var jimu_for_builder__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(jimu_for_builder__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _interactive_droparea_hook__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./interactive/droparea-hook */ \"./jimu-layouts/lib/builder/interactive/droparea-hook.tsx\");\nvar __makeTemplateObject = (undefined && undefined.__makeTemplateObject) || function (cooked, raw) {\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n    return cooked;\n};\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/** @jsx jsx */\n\n\n\n\n\n\nvar dropareaStyle = Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n  position: absolute;\\n  left: 0;\\n  top: 0;\\n  bottom: 0;\\n  right: 0;\\n  right: 0;\\n  display: flex;\\n  z-index: 0;\\n\"], [\"\\n  position: absolute;\\n  left: 0;\\n  top: 0;\\n  bottom: 0;\\n  right: 0;\\n  right: 0;\\n  display: flex;\\n  z-index: 0;\\n\"])));\nvar WidgetPlaceholder = /** @class */ (function (_super) {\n    __extends(WidgetPlaceholder, _super);\n    function WidgetPlaceholder(props) {\n        var _a;\n        var _this = _super.call(this, props) || this;\n        _this.toggleModal = function (e) {\n            e.stopPropagation();\n            _this.setState(function (prevState) { return ({\n                showModal: !prevState.showModal,\n            }); });\n        };\n        _this.closeModal = function () {\n            if (_this.state.showModal) {\n                _this.setState({ showModal: false });\n            }\n        };\n        _this.toggleDragoverEffect = function (isDragover, draggingItem) {\n            if (_this.ref && isDragover && _this.canDrop(draggingItem)) {\n                _this.ref.classList.add('dragover');\n            }\n            else {\n                _this.ref.classList.remove('dragover');\n            }\n        };\n        _this.onDrop = function (draggingItem, containerRect, itemRect) {\n            if (!_this.canDrop(draggingItem)) {\n                return;\n            }\n            var appConfigAction = Object(jimu_for_builder__WEBPACK_IMPORTED_MODULE_4__[\"getAppConfigAction\"])();\n            if (draggingItem.layoutInfo) {\n                var _a = draggingItem.layoutInfo, layoutId = _a.layoutId, layoutItemId = _a.layoutItemId;\n                var layoutItem = appConfigAction.appConfig.layouts[layoutId].content[layoutItemId];\n                if (layoutItem.type === jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"LayoutItemType\"].Widget) {\n                    appConfigAction.removeLayoutItem(draggingItem.layoutInfo, false);\n                    appConfigAction.updateLayoutItem({\n                        layoutId: _this.props.layoutId,\n                        layoutItemId: _this.props.layoutItemId,\n                    }, 'widgetId', layoutItem.widgetId);\n                    appConfigAction.exec();\n                }\n            }\n            else {\n                _this.newWidget(draggingItem.uri);\n            }\n        };\n        _this.setWidget = function (item) {\n            _this.newWidget(item.uri).then(function () {\n                _this.setState({\n                    isBusy: false,\n                });\n            });\n            _this.setState({\n                showModal: false,\n                isBusy: true,\n            });\n        };\n        _this.isItemAccepted = function (item) {\n            return _this.layoutContext.isItemAccepted(item, true);\n        };\n        _this.fakeLayouts = Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"Immutable\"])((_a = {},\n            _a[jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"BrowserSizeMode\"].Large] = _this.props.layoutId + \"_\" + _this.props.layoutItemId + \"_tlarge\",\n            _a[jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"BrowserSizeMode\"].Medium] = _this.props.layoutId + \"_\" + _this.props.layoutItemId + \"_tmedium\",\n            _a[jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"BrowserSizeMode\"].Small] = _this.props.layoutId + \"_\" + _this.props.layoutItemId + \"_tsmall\",\n            _a));\n        _this.state = { showModal: false, isBusy: false };\n        return _this;\n    }\n    WidgetPlaceholder.prototype.getStyle = function (builderTheme) {\n        return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_2 || (templateObject_2 = __makeTemplateObject([\"\\n      position: relative;\\n      overflow: hidden;\\n\\n      &.no-widget {\\n        border: 1px dashed \", \";\\n      }\\n\\n      &.dragover .drop-tip {\\n        background: \", \" !important;\\n      }\\n\\n      .add-btn {\\n        z-index: 1;\\n      }\\n\\n      .mask {\\n        position: absolute;\\n        left:0;\\n        top:0;\\n        right:0;\\n        bottom:0;\\n        z-index:2;\\n        background: transparent;\\n      }\\n    \"], [\"\\n      position: relative;\\n      overflow: hidden;\\n\\n      &.no-widget {\\n        border: 1px dashed \", \";\\n      }\\n\\n      &.dragover .drop-tip {\\n        background: \", \" !important;\\n      }\\n\\n      .add-btn {\\n        z-index: 1;\\n      }\\n\\n      .mask {\\n        position: absolute;\\n        left:0;\\n        top:0;\\n        right:0;\\n        bottom:0;\\n        z-index:2;\\n        background: transparent;\\n      }\\n    \"])), builderTheme.colors.palette.dark[300], jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"polished\"].rgba(builderTheme.colors.palette.primary[700], 0.5));\n    };\n    WidgetPlaceholder.prototype.canDrop = function (draggingItem) {\n        var _a, _b;\n        var appConfigAction = Object(jimu_for_builder__WEBPACK_IMPORTED_MODULE_4__[\"getAppConfigAction\"])();\n        if (draggingItem.layoutInfo) {\n            var _c = draggingItem.layoutInfo, layoutId = _c.layoutId, layoutItemId = _c.layoutItemId;\n            var layoutItem = appConfigAction.appConfig.layouts[layoutId].content[layoutItemId];\n            if (layoutItem.type === jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"LayoutItemType\"].Widget && layoutItem.widgetId) {\n                var widget = appConfigAction.appConfig.widgets[layoutItem.widgetId];\n                var widgetType = (_a = widget === null || widget === void 0 ? void 0 : widget.manifest) === null || _a === void 0 ? void 0 : _a.widgetType;\n                if (widgetType !== jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"WidgetType\"].Layout) {\n                    return true;\n                }\n            }\n        }\n        else if (draggingItem.itemType === jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"LayoutItemType\"].Widget && draggingItem.manifest) {\n            var widgetType = (_b = draggingItem.manifest) === null || _b === void 0 ? void 0 : _b.widgetType;\n            if (widgetType !== jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"WidgetType\"].Layout && draggingItem.uri) {\n                return true;\n            }\n        }\n        return false;\n    };\n    WidgetPlaceholder.prototype.newWidget = function (uri) {\n        var _this = this;\n        var appConfigAction = Object(jimu_for_builder__WEBPACK_IMPORTED_MODULE_4__[\"getAppConfigAction\"])();\n        var widgetJson = {\n            uri: uri,\n        };\n        return jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"WidgetManager\"].getInstance()\n            .handleNewWidgetJson(widgetJson)\n            .then(function (widgetJson) {\n            var widgetId = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"appConfigUtils\"].getUniqueId(appConfigAction.appConfig, 'widget');\n            widgetJson.id = widgetId;\n            appConfigAction.createWidget(Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"Immutable\"])(widgetJson));\n            appConfigAction.updateLayoutItem({\n                layoutId: _this.props.layoutId,\n                layoutItemId: _this.props.layoutItemId,\n            }, 'widgetId', widgetId);\n            appConfigAction.exec();\n        });\n    };\n    WidgetPlaceholder.prototype.getPopupStyle = function () {\n        var builderTheme = this.pageContext.builderTheme;\n        return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_3 || (templateObject_3 = __makeTemplateObject([\"\\n      background-color: \", \";\\n      max-height: 400px;\\n      overflow: auto;\\n    \"], [\"\\n      background-color: \", \";\\n      max-height: 400px;\\n      overflow: auto;\\n    \"])), builderTheme.colors.palette.light[300]);\n    };\n    WidgetPlaceholder.prototype.getModalStyle = function () {\n        var builderTheme = this.pageContext.builderTheme;\n        return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_4 || (templateObject_4 = __makeTemplateObject([\"\\n      .modal-content {\\n        background-color: \", \";\\n      }\\n\\n      .modal-header {\\n        color: \", \";\\n        .close {\\n          color: \", \";\\n          &:hover {\\n            color: \", \";\\n          }\\n        }\\n      }\\n    \"], [\"\\n      .modal-content {\\n        background-color: \", \";\\n      }\\n\\n      .modal-header {\\n        color: \", \";\\n        .close {\\n          color: \", \";\\n          &:hover {\\n            color: \", \";\\n          }\\n        }\\n      }\\n    \"])), builderTheme.colors.palette.light[300], builderTheme.colors.black, builderTheme.colors.palette.dark[700], builderTheme.colors.black);\n    };\n    WidgetPlaceholder.prototype.render = function () {\n        var _this = this;\n        return (Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_3__[\"PageContext\"].Consumer, null, function (pageContext) {\n            _this.pageContext = pageContext;\n            return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_3__[\"LayoutContext\"].Consumer, null, function (layoutContext) {\n                _this.layoutContext = layoutContext;\n                return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"layout-widget no-widget w-100 d-flex justify-content-center align-items-center\", ref: function (el) { return _this.ref = el; }, css: _this.getStyle(pageContext.builderTheme) },\n                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_interactive_droparea_hook__WEBPACK_IMPORTED_MODULE_5__[\"DropArea\"], { css: dropareaStyle, className: \"drop-tip\", layouts: _this.fakeLayouts, isPlaceholder: true, highlightDragover: false, onToggleDragoverEffect: _this.toggleDragoverEffect, onDrop: _this.onDrop }),\n                    _this.state.isBusy && Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"Loading\"], null),\n                    !_this.state.isBusy && Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { ref: function (el) { return _this.btnRef = el; }, className: \"add-btn\" },\n                        Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"Button\"], { icon: true, css: Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_5 || (templateObject_5 = __makeTemplateObject([\"width: 36px; height: 36px; padding: 0.5rem;\"], [\"width: 36px; height: 36px; padding: 0.5rem;\"]))), onClick: _this.toggleModal },\n                            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"Icon\"], { icon: __webpack_require__(/*! jimu-ui/lib/icons/add-16.svg */ \"./jimu-ui/lib/icons/add-16.svg\") }))),\n                    !_this.state.isBusy && _this.state.showModal &&\n                        Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_2__[\"WidgetListPopper\"], { builderTheme: pageContext.builderTheme, referenceElement: _this.btnRef, isItemAccepted: _this.isItemAccepted, onItemSelect: _this.setWidget, onClose: _this.closeModal }),\n                    _this.pageContext.viewOnly && Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"mask\" }));\n            });\n        }));\n    };\n    return WidgetPlaceholder;\n}(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].PureComponent));\n\nvar templateObject_1, templateObject_2, templateObject_3, templateObject_4, templateObject_5;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWxheW91dHMvbGliL2J1aWxkZXIvd2lkZ2V0LXBsYWNlaG9sZGVyLnRzeC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2ppbXUtbGF5b3V0cy9saWIvYnVpbGRlci93aWRnZXQtcGxhY2Vob2xkZXIudHN4PzAxMmQiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqIEBqc3gganN4ICovXG5pbXBvcnQge1xuICBSZWFjdCxcbiAganN4LFxuICBjc3MsXG4gIFdpZGdldE1hbmFnZXIsXG4gIC8vIG1vZHVsZUxvYWRlcixcbiAgcG9saXNoZWQsXG4gIElNU2l6ZU1vZGVMYXlvdXRKc29uLFxuICBCcm93c2VyU2l6ZU1vZGUsXG4gIExheW91dEl0ZW1Db25zdHJ1Y3RvclByb3BzLFxuICBMYXlvdXRJdGVtVHlwZSxcbiAgSU1UaGVtZVZhcmlhYmxlcyxcbiAgV2lkZ2V0VHlwZSxcbiAgYXBwQ29uZmlnVXRpbHMsXG4gIFdpZGdldEpzb24sXG4gIEltbXV0YWJsZSxcbn0gZnJvbSAnamltdS1jb3JlJztcbmltcG9ydCB7IEljb24sIExvYWRpbmcsIEJ1dHRvbiB9IGZyb20gJ2ppbXUtdWknO1xuaW1wb3J0IHsgV2lkZ2V0TGlzdFBvcHBlciB9IGZyb20gJ2ppbXUtdWkvYWR2YW5jZWQvc2V0dGluZy1jb21wb25lbnRzJztcbmltcG9ydCB7XG4gIFBhZ2VDb250ZXh0LFxuICBQYWdlQ29udGV4dFByb3BzLFxuICBMYXlvdXRJdGVtUHJvcHMsXG4gIExheW91dENvbnRleHQsXG4gIExheW91dENvbnRleHRQcm9wcyxcbn0gZnJvbSAnamltdS1sYXlvdXRzL2xheW91dC1ydW50aW1lJztcbmltcG9ydCB7IGdldEFwcENvbmZpZ0FjdGlvbiB9IGZyb20gJ2ppbXUtZm9yLWJ1aWxkZXInO1xuaW1wb3J0IHsgRHJvcEFyZWEgfSBmcm9tICcuL2ludGVyYWN0aXZlL2Ryb3BhcmVhLWhvb2snO1xuXG5jb25zdCBkcm9wYXJlYVN0eWxlID0gY3NzYFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIGxlZnQ6IDA7XG4gIHRvcDogMDtcbiAgYm90dG9tOiAwO1xuICByaWdodDogMDtcbiAgcmlnaHQ6IDA7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIHotaW5kZXg6IDA7XG5gO1xuXG5pbnRlcmZhY2UgU3RhdGUge1xuICBzaG93TW9kYWw6IGJvb2xlYW47XG4gIGlzQnVzeTogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGNsYXNzIFdpZGdldFBsYWNlaG9sZGVyIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudDxMYXlvdXRJdGVtUHJvcHMsIFN0YXRlPiB7XG4gIHJlZjogSFRNTEVsZW1lbnQ7XG4gIGJ0blJlZjogSFRNTEVsZW1lbnQ7XG4gIHBhZ2VDb250ZXh0OiBQYWdlQ29udGV4dFByb3BzO1xuICBsYXlvdXRDb250ZXh0OiBMYXlvdXRDb250ZXh0UHJvcHM7XG4gIGZha2VMYXlvdXRzOiBJTVNpemVNb2RlTGF5b3V0SnNvbjtcblxuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLmZha2VMYXlvdXRzID0gSW1tdXRhYmxlKHtcbiAgICAgIFtCcm93c2VyU2l6ZU1vZGUuTGFyZ2VdIDogYCR7dGhpcy5wcm9wcy5sYXlvdXRJZH1fJHt0aGlzLnByb3BzLmxheW91dEl0ZW1JZH1fdGxhcmdlYCxcbiAgICAgIFtCcm93c2VyU2l6ZU1vZGUuTWVkaXVtXSA6IGAke3RoaXMucHJvcHMubGF5b3V0SWR9XyR7dGhpcy5wcm9wcy5sYXlvdXRJdGVtSWR9X3RtZWRpdW1gLFxuICAgICAgW0Jyb3dzZXJTaXplTW9kZS5TbWFsbF0gOiBgJHt0aGlzLnByb3BzLmxheW91dElkfV8ke3RoaXMucHJvcHMubGF5b3V0SXRlbUlkfV90c21hbGxgLFxuICAgIH0pIGFzIGFueTtcbiAgICB0aGlzLnN0YXRlID0geyBzaG93TW9kYWw6IGZhbHNlLCBpc0J1c3k6IGZhbHNlIH07XG4gIH1cblxuICBnZXRTdHlsZShidWlsZGVyVGhlbWU6IElNVGhlbWVWYXJpYWJsZXMpIHtcbiAgICByZXR1cm4gY3NzYFxuICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcblxuICAgICAgJi5uby13aWRnZXQge1xuICAgICAgICBib3JkZXI6IDFweCBkYXNoZWQgJHtidWlsZGVyVGhlbWUuY29sb3JzLnBhbGV0dGUuZGFya1szMDBdfTtcbiAgICAgIH1cblxuICAgICAgJi5kcmFnb3ZlciAuZHJvcC10aXAge1xuICAgICAgICBiYWNrZ3JvdW5kOiAke3BvbGlzaGVkLnJnYmEoYnVpbGRlclRoZW1lLmNvbG9ycy5wYWxldHRlLnByaW1hcnlbNzAwXSwgMC41KX0gIWltcG9ydGFudDtcbiAgICAgIH1cblxuICAgICAgLmFkZC1idG4ge1xuICAgICAgICB6LWluZGV4OiAxO1xuICAgICAgfVxuXG4gICAgICAubWFzayB7XG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgbGVmdDowO1xuICAgICAgICB0b3A6MDtcbiAgICAgICAgcmlnaHQ6MDtcbiAgICAgICAgYm90dG9tOjA7XG4gICAgICAgIHotaW5kZXg6MjtcbiAgICAgICAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XG4gICAgICB9XG4gICAgYDtcbiAgfVxuXG4gIHRvZ2dsZU1vZGFsID0gKGUpID0+IHtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIHRoaXMuc2V0U3RhdGUocHJldlN0YXRlID0+ICh7XG4gICAgICBzaG93TW9kYWw6ICFwcmV2U3RhdGUuc2hvd01vZGFsLFxuICAgIH0pKTtcbiAgfVxuXG4gIGNsb3NlTW9kYWwgPSAoKSA9PiB7XG4gICAgaWYgKHRoaXMuc3RhdGUuc2hvd01vZGFsKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHsgc2hvd01vZGFsOiBmYWxzZSB9KTtcbiAgICB9XG4gIH1cblxuICBjYW5Ecm9wKGRyYWdnaW5nSXRlbTogTGF5b3V0SXRlbUNvbnN0cnVjdG9yUHJvcHMpOiBib29sZWFuIHtcbiAgICBjb25zdCBhcHBDb25maWdBY3Rpb24gPSBnZXRBcHBDb25maWdBY3Rpb24oKTtcbiAgICBpZiAoZHJhZ2dpbmdJdGVtLmxheW91dEluZm8pIHtcbiAgICAgIGNvbnN0IHsgbGF5b3V0SWQsIGxheW91dEl0ZW1JZCB9ID0gZHJhZ2dpbmdJdGVtLmxheW91dEluZm87XG4gICAgICBjb25zdCBsYXlvdXRJdGVtID0gYXBwQ29uZmlnQWN0aW9uLmFwcENvbmZpZy5sYXlvdXRzW2xheW91dElkXS5jb250ZW50W2xheW91dEl0ZW1JZF07XG4gICAgICBpZiAobGF5b3V0SXRlbS50eXBlID09PSBMYXlvdXRJdGVtVHlwZS5XaWRnZXQgJiYgbGF5b3V0SXRlbS53aWRnZXRJZCkge1xuICAgICAgICBjb25zdCB3aWRnZXQgPSBhcHBDb25maWdBY3Rpb24uYXBwQ29uZmlnLndpZGdldHNbbGF5b3V0SXRlbS53aWRnZXRJZF07XG4gICAgICAgIGNvbnN0IHdpZGdldFR5cGUgPSB3aWRnZXQ/Lm1hbmlmZXN0Py53aWRnZXRUeXBlO1xuICAgICAgICBpZiAod2lkZ2V0VHlwZSAhPT0gV2lkZ2V0VHlwZS5MYXlvdXQpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoZHJhZ2dpbmdJdGVtLml0ZW1UeXBlID09PSBMYXlvdXRJdGVtVHlwZS5XaWRnZXQgJiYgZHJhZ2dpbmdJdGVtLm1hbmlmZXN0KSB7XG4gICAgICBjb25zdCB3aWRnZXRUeXBlID0gZHJhZ2dpbmdJdGVtLm1hbmlmZXN0Py53aWRnZXRUeXBlO1xuICAgICAgaWYgKHdpZGdldFR5cGUgIT09IFdpZGdldFR5cGUuTGF5b3V0ICYmIGRyYWdnaW5nSXRlbS51cmkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHRvZ2dsZURyYWdvdmVyRWZmZWN0ID0gKGlzRHJhZ292ZXI6IGJvb2xlYW4sIGRyYWdnaW5nSXRlbTogTGF5b3V0SXRlbUNvbnN0cnVjdG9yUHJvcHMpID0+IHtcbiAgICBpZiAodGhpcy5yZWYgJiYgaXNEcmFnb3ZlciAmJiB0aGlzLmNhbkRyb3AoZHJhZ2dpbmdJdGVtKSkge1xuICAgICAgdGhpcy5yZWYuY2xhc3NMaXN0LmFkZCgnZHJhZ292ZXInKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5yZWYuY2xhc3NMaXN0LnJlbW92ZSgnZHJhZ292ZXInKTtcbiAgICB9XG4gIH1cblxuICBvbkRyb3AgPSAoXG4gICAgZHJhZ2dpbmdJdGVtOiBMYXlvdXRJdGVtQ29uc3RydWN0b3JQcm9wcyxcbiAgICBjb250YWluZXJSZWN0OiBDbGllbnRSZWN0LFxuICAgIGl0ZW1SZWN0OiBDbGllbnRSZWN0LFxuICApID0+IHtcbiAgICBpZiAoIXRoaXMuY2FuRHJvcChkcmFnZ2luZ0l0ZW0pKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgYXBwQ29uZmlnQWN0aW9uID0gZ2V0QXBwQ29uZmlnQWN0aW9uKCk7XG5cbiAgICBpZiAoZHJhZ2dpbmdJdGVtLmxheW91dEluZm8pIHtcbiAgICAgIGNvbnN0IHsgbGF5b3V0SWQsIGxheW91dEl0ZW1JZCB9ID0gZHJhZ2dpbmdJdGVtLmxheW91dEluZm87XG4gICAgICBjb25zdCBsYXlvdXRJdGVtID0gYXBwQ29uZmlnQWN0aW9uLmFwcENvbmZpZy5sYXlvdXRzW2xheW91dElkXS5jb250ZW50W2xheW91dEl0ZW1JZF07XG4gICAgICBpZiAobGF5b3V0SXRlbS50eXBlID09PSBMYXlvdXRJdGVtVHlwZS5XaWRnZXQpIHtcbiAgICAgICAgYXBwQ29uZmlnQWN0aW9uLnJlbW92ZUxheW91dEl0ZW0oZHJhZ2dpbmdJdGVtLmxheW91dEluZm8sIGZhbHNlKTtcbiAgICAgICAgYXBwQ29uZmlnQWN0aW9uLnVwZGF0ZUxheW91dEl0ZW0oXG4gICAgICAgICAge1xuICAgICAgICAgICAgbGF5b3V0SWQ6IHRoaXMucHJvcHMubGF5b3V0SWQsXG4gICAgICAgICAgICBsYXlvdXRJdGVtSWQ6IHRoaXMucHJvcHMubGF5b3V0SXRlbUlkLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgJ3dpZGdldElkJyxcbiAgICAgICAgICBsYXlvdXRJdGVtLndpZGdldElkLFxuICAgICAgICApO1xuICAgICAgICBhcHBDb25maWdBY3Rpb24uZXhlYygpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLm5ld1dpZGdldChkcmFnZ2luZ0l0ZW0udXJpKTtcbiAgICB9XG4gIH1cblxuICBuZXdXaWRnZXQodXJpOiBzdHJpbmcpIHtcbiAgICBjb25zdCBhcHBDb25maWdBY3Rpb24gPSBnZXRBcHBDb25maWdBY3Rpb24oKTtcbiAgICBjb25zdCB3aWRnZXRKc29uID0ge1xuICAgICAgdXJpLFxuICAgIH0gYXMgV2lkZ2V0SnNvbjtcbiAgICByZXR1cm4gV2lkZ2V0TWFuYWdlci5nZXRJbnN0YW5jZSgpXG4gICAgICAuaGFuZGxlTmV3V2lkZ2V0SnNvbih3aWRnZXRKc29uKVxuICAgICAgLnRoZW4oKHdpZGdldEpzb24pID0+IHtcbiAgICAgICAgY29uc3Qgd2lkZ2V0SWQgPSBhcHBDb25maWdVdGlscy5nZXRVbmlxdWVJZChhcHBDb25maWdBY3Rpb24uYXBwQ29uZmlnLCAnd2lkZ2V0Jyk7XG4gICAgICAgIHdpZGdldEpzb24uaWQgPSB3aWRnZXRJZDtcbiAgICAgICAgYXBwQ29uZmlnQWN0aW9uLmNyZWF0ZVdpZGdldChJbW11dGFibGUod2lkZ2V0SnNvbikpO1xuXG4gICAgICAgIGFwcENvbmZpZ0FjdGlvbi51cGRhdGVMYXlvdXRJdGVtKFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGxheW91dElkOiB0aGlzLnByb3BzLmxheW91dElkLFxuICAgICAgICAgICAgbGF5b3V0SXRlbUlkOiB0aGlzLnByb3BzLmxheW91dEl0ZW1JZCxcbiAgICAgICAgICB9LFxuICAgICAgICAgICd3aWRnZXRJZCcsXG4gICAgICAgICAgd2lkZ2V0SWQsXG4gICAgICAgICk7XG4gICAgICAgIGFwcENvbmZpZ0FjdGlvbi5leGVjKCk7XG4gICAgICB9KTtcbiAgfVxuXG4gIHNldFdpZGdldCA9IChpdGVtOiBMYXlvdXRJdGVtQ29uc3RydWN0b3JQcm9wcykgPT4ge1xuICAgIHRoaXMubmV3V2lkZ2V0KGl0ZW0udXJpKS50aGVuKCgpID0+IHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBpc0J1c3k6IGZhbHNlLFxuICAgICAgfSk7XG4gICAgfSk7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBzaG93TW9kYWw6IGZhbHNlLFxuICAgICAgaXNCdXN5OiB0cnVlLFxuICAgIH0pO1xuICB9XG5cbiAgZ2V0UG9wdXBTdHlsZSgpIHtcbiAgICBjb25zdCB7IGJ1aWxkZXJUaGVtZSB9ID0gdGhpcy5wYWdlQ29udGV4dDtcbiAgICByZXR1cm4gY3NzYFxuICAgICAgYmFja2dyb3VuZC1jb2xvcjogJHtidWlsZGVyVGhlbWUuY29sb3JzLnBhbGV0dGUubGlnaHRbMzAwXX07XG4gICAgICBtYXgtaGVpZ2h0OiA0MDBweDtcbiAgICAgIG92ZXJmbG93OiBhdXRvO1xuICAgIGA7XG4gIH1cblxuICBnZXRNb2RhbFN0eWxlKCkge1xuICAgIGNvbnN0IHsgYnVpbGRlclRoZW1lIH0gPSB0aGlzLnBhZ2VDb250ZXh0O1xuICAgIHJldHVybiBjc3NgXG4gICAgICAubW9kYWwtY29udGVudCB7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6ICR7YnVpbGRlclRoZW1lLmNvbG9ycy5wYWxldHRlLmxpZ2h0WzMwMF19O1xuICAgICAgfVxuXG4gICAgICAubW9kYWwtaGVhZGVyIHtcbiAgICAgICAgY29sb3I6ICR7YnVpbGRlclRoZW1lLmNvbG9ycy5ibGFja307XG4gICAgICAgIC5jbG9zZSB7XG4gICAgICAgICAgY29sb3I6ICR7YnVpbGRlclRoZW1lLmNvbG9ycy5wYWxldHRlLmRhcmtbNzAwXX07XG4gICAgICAgICAgJjpob3ZlciB7XG4gICAgICAgICAgICBjb2xvcjogJHtidWlsZGVyVGhlbWUuY29sb3JzLmJsYWNrfTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICBgO1xuICB9XG5cbiAgaXNJdGVtQWNjZXB0ZWQgPSAoaXRlbTogTGF5b3V0SXRlbUNvbnN0cnVjdG9yUHJvcHMpOiBib29sZWFuID0+IHtcbiAgICByZXR1cm4gdGhpcy5sYXlvdXRDb250ZXh0LmlzSXRlbUFjY2VwdGVkKGl0ZW0sIHRydWUpO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8UGFnZUNvbnRleHQuQ29uc3VtZXI+XG4gICAgICAgIHsocGFnZUNvbnRleHQ6IFBhZ2VDb250ZXh0UHJvcHMpID0+IHtcbiAgICAgICAgICB0aGlzLnBhZ2VDb250ZXh0ID0gcGFnZUNvbnRleHQ7XG4gICAgICAgICAgcmV0dXJuIDxMYXlvdXRDb250ZXh0LkNvbnN1bWVyPlxuICAgICAgICAgICAgeyhsYXlvdXRDb250ZXh0OiBMYXlvdXRDb250ZXh0UHJvcHMpID0+IHtcbiAgICAgICAgICAgICAgdGhpcy5sYXlvdXRDb250ZXh0ID0gbGF5b3V0Q29udGV4dDtcbiAgICAgICAgICAgICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwibGF5b3V0LXdpZGdldCBuby13aWRnZXQgdy0xMDAgZC1mbGV4IGp1c3RpZnktY29udGVudC1jZW50ZXIgYWxpZ24taXRlbXMtY2VudGVyXCJcbiAgICAgICAgICAgICAgICByZWY9e2VsID0+IHRoaXMucmVmID0gZWx9XG4gICAgICAgICAgICAgICAgY3NzPXt0aGlzLmdldFN0eWxlKHBhZ2VDb250ZXh0LmJ1aWxkZXJUaGVtZSl9PlxuICAgICAgICAgICAgICAgIDxEcm9wQXJlYVxuICAgICAgICAgICAgICAgICAgY3NzPXtkcm9wYXJlYVN0eWxlfVxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZHJvcC10aXBcIlxuICAgICAgICAgICAgICAgICAgbGF5b3V0cz17dGhpcy5mYWtlTGF5b3V0c31cbiAgICAgICAgICAgICAgICAgIGlzUGxhY2Vob2xkZXI9e3RydWV9XG4gICAgICAgICAgICAgICAgICBoaWdobGlnaHREcmFnb3Zlcj17ZmFsc2V9XG4gICAgICAgICAgICAgICAgICBvblRvZ2dsZURyYWdvdmVyRWZmZWN0PXt0aGlzLnRvZ2dsZURyYWdvdmVyRWZmZWN0fVxuICAgICAgICAgICAgICAgICAgb25Ecm9wPXt0aGlzLm9uRHJvcH0+XG4gICAgICAgICAgICAgICAgPC9Ecm9wQXJlYT5cbiAgICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS5pc0J1c3kgJiYgPExvYWRpbmcvPn1cbiAgICAgICAgICAgICAgICB7IXRoaXMuc3RhdGUuaXNCdXN5ICYmIDxkaXYgcmVmPXtlbCA9PiB0aGlzLmJ0blJlZiA9IGVsfSBjbGFzc05hbWU9XCJhZGQtYnRuXCI+XG4gICAgICAgICAgICAgICAgICA8QnV0dG9uIGljb25cbiAgICAgICAgICAgICAgICAgICAgY3NzPXtjc3Ngd2lkdGg6IDM2cHg7IGhlaWdodDogMzZweDsgcGFkZGluZzogMC41cmVtO2B9XG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMudG9nZ2xlTW9kYWx9PlxuICAgICAgICAgICAgICAgICAgICA8SWNvbiBpY29uPXtyZXF1aXJlKCdqaW11LXVpL2xpYi9pY29ucy9hZGQtMTYuc3ZnJyl9PjwvSWNvbj5cbiAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvZGl2Pn1cbiAgICAgICAgICAgICAgICB7IXRoaXMuc3RhdGUuaXNCdXN5ICYmIHRoaXMuc3RhdGUuc2hvd01vZGFsICYmXG4gICAgICAgICAgICAgICAgPFdpZGdldExpc3RQb3BwZXJcbiAgICAgICAgICAgICAgICAgIGJ1aWxkZXJUaGVtZT17cGFnZUNvbnRleHQuYnVpbGRlclRoZW1lfVxuICAgICAgICAgICAgICAgICAgcmVmZXJlbmNlRWxlbWVudD17dGhpcy5idG5SZWZ9XG4gICAgICAgICAgICAgICAgICBpc0l0ZW1BY2NlcHRlZD17dGhpcy5pc0l0ZW1BY2NlcHRlZH1cbiAgICAgICAgICAgICAgICAgIG9uSXRlbVNlbGVjdD17dGhpcy5zZXRXaWRnZXR9XG4gICAgICAgICAgICAgICAgICBvbkNsb3NlPXt0aGlzLmNsb3NlTW9kYWx9PjwvV2lkZ2V0TGlzdFBvcHBlcj5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAge3RoaXMucGFnZUNvbnRleHQudmlld09ubHkgJiYgPGRpdiBjbGFzc05hbWU9XCJtYXNrXCI+PC9kaXY+fVxuICAgICAgICAgICAgICA8L2Rpdj47XG4gICAgICAgICAgICB9fVxuICAgICAgICAgIDwvTGF5b3V0Q29udGV4dC5Db25zdW1lcj47XG4gICAgICAgIH19XG4gICAgICA8L1BhZ2VDb250ZXh0LkNvbnN1bWVyPlxuICAgICk7XG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFPQTtBQVdBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFFQTtBQWdCQTtBQUFBO0FBT0E7O0FBQUE7QUF1Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXVCQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFLQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBMEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUE4QkE7QUFDQTtBQUNBO0FBaExBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUVBO0FBQ0E7QUEwQkE7QUFlQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBeUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBY0E7QUFDQTtBQUNBO0FBS0E7QUFFQTtBQUNBO0FBQ0E7QUFlQTtBQU1BO0FBQUE7QUFDQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBR0E7QUFTQTtBQUNBO0FBQ0E7QUFHQTtBQUdBO0FBQ0E7QUFPQTtBQUVBO0FBRUE7QUFHQTtBQUNBO0FBQUE7OzsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./jimu-layouts/lib/builder/widget-placeholder.tsx\n");

/***/ }),

/***/ "./jimu-layouts/lib/builder/widget-renderer.tsx":
/*!******************************************************!*\
  !*** ./jimu-layouts/lib/builder/widget-renderer.tsx ***!
  \******************************************************/
/*! exports provided: WidgetRendererInBuilder */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"WidgetRendererInBuilder\", function() { return WidgetRendererInBuilder; });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jimu_core__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-layouts/layout-runtime */ \"jimu-layouts/layout-runtime\");\n/* harmony import */ var jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _widget_placeholder__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./widget-placeholder */ \"./jimu-layouts/lib/builder/widget-placeholder.tsx\");\n/* harmony import */ var _interactive_drag_event_handler__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./interactive/drag-event-handler */ \"./jimu-layouts/lib/builder/interactive/drag-event-handler.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __makeTemplateObject = (undefined && undefined.__makeTemplateObject) || function (cooked, raw) {\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n    return cooked;\n};\nvar __assign = (undefined && undefined.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\n/** @jsx jsx */\n\n\n\n\nvar WidgetRendererInBuilder = /** @class */ (function (_super) {\n    __extends(WidgetRendererInBuilder, _super);\n    function WidgetRendererInBuilder() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    WidgetRendererInBuilder.prototype.mask = function () {\n        return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"widget-mask\" });\n    };\n    WidgetRendererInBuilder.prototype.getStyle = function () {\n        // Set z-index higher than droparea (z-index: 10) when widget is inline editing\n        return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n      .\", \" & {\\n        overflow: visible !important;\\n      }\\n      z-index: \", \";\\n\\n      .widget-mask {\\n        position: absolute;\\n        background: transparent;\\n        left: 0;\\n        right: 0;\\n        top: 0;\\n        bottom: 0;\\n        z-index: 1;\\n      }\\n    \"], [\"\\n      .\", \" & {\\n        overflow: visible !important;\\n      }\\n      z-index: \", \";\\n\\n      .widget-mask {\\n        position: absolute;\\n        background: transparent;\\n        left: 0;\\n        right: 0;\\n        top: 0;\\n        bottom: 0;\\n        z-index: 1;\\n      }\\n    \"])), _interactive_drag_event_handler__WEBPACK_IMPORTED_MODULE_3__[\"GLOBAL_DRAGGING_CLASS_NAME\"], this.props.isInlineEditing ? jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__[\"LayoutZIndex\"].HandlerTools : 0);\n    };\n    WidgetRendererInBuilder.prototype.render = function () {\n        var _a = this.props, widgetId = _a.widgetId, layoutId = _a.layoutId, layoutItemId = _a.layoutItemId, isDesignMode = _a.isDesignMode, isInlineEditing = _a.isInlineEditing, isFunctionalWidget = _a.isFunctionalWidget, hasEmbeddedLayout = _a.hasEmbeddedLayout;\n        if (!widgetId) {\n            if (isDesignMode) {\n                return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_widget_placeholder__WEBPACK_IMPORTED_MODULE_2__[\"WidgetPlaceholder\"], { layoutId: layoutId, layoutItemId: layoutItemId });\n            }\n            return null;\n        }\n        var showMask = isDesignMode && !isInlineEditing && isFunctionalWidget && !hasEmbeddedLayout;\n        return (Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__[\"WidgetRenderer\"], __assign({ className: \"w-100\", css: this.getStyle() }, this.props), showMask && this.mask()));\n    };\n    return WidgetRendererInBuilder;\n}(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].PureComponent));\n\nvar templateObject_1;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWxheW91dHMvbGliL2J1aWxkZXIvd2lkZ2V0LXJlbmRlcmVyLnRzeC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2ppbXUtbGF5b3V0cy9saWIvYnVpbGRlci93aWRnZXQtcmVuZGVyZXIudHN4P2E2NDIiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqIEBqc3gganN4ICovXG5pbXBvcnQgeyBSZWFjdCwganN4LCBjc3MgfSBmcm9tICdqaW11LWNvcmUnO1xuaW1wb3J0IHtcbiAgUGFnZUNvbnRleHRQcm9wcyxcbiAgTGF5b3V0SXRlbVByb3BzLFxuICBXaWRnZXRQcm9wcyxcbiAgTGF5b3V0WkluZGV4LFxuICBXaWRnZXRSZW5kZXJlcixcbn0gZnJvbSAnamltdS1sYXlvdXRzL2xheW91dC1ydW50aW1lJztcbmltcG9ydCB7IFdpZGdldFBsYWNlaG9sZGVyIH0gZnJvbSAnLi93aWRnZXQtcGxhY2Vob2xkZXInO1xuaW1wb3J0IHsgR0xPQkFMX0RSQUdHSU5HX0NMQVNTX05BTUUgfSBmcm9tICcuL2ludGVyYWN0aXZlL2RyYWctZXZlbnQtaGFuZGxlcic7XG5cbnR5cGUgUHJvcHMgPSBMYXlvdXRJdGVtUHJvcHMgJiBXaWRnZXRQcm9wcyAmIHsgaXNEZXNpZ25Nb2RlOiBib29sZWFuIH07XG5cbmV4cG9ydCBjbGFzcyBXaWRnZXRSZW5kZXJlckluQnVpbGRlciBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQ8UHJvcHM+IHtcbiAgcGFnZUNvbnRleHQ6IFBhZ2VDb250ZXh0UHJvcHM7XG5cbiAgbWFzaygpIHtcbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJ3aWRnZXQtbWFza1wiIC8+O1xuICB9XG5cbiAgZ2V0U3R5bGUoKSB7XG4gICAgLy8gU2V0IHotaW5kZXggaGlnaGVyIHRoYW4gZHJvcGFyZWEgKHotaW5kZXg6IDEwKSB3aGVuIHdpZGdldCBpcyBpbmxpbmUgZWRpdGluZ1xuICAgIHJldHVybiBjc3NgXG4gICAgICAuJHtHTE9CQUxfRFJBR0dJTkdfQ0xBU1NfTkFNRX0gJiB7XG4gICAgICAgIG92ZXJmbG93OiB2aXNpYmxlICFpbXBvcnRhbnQ7XG4gICAgICB9XG4gICAgICB6LWluZGV4OiAke3RoaXMucHJvcHMuaXNJbmxpbmVFZGl0aW5nID8gTGF5b3V0WkluZGV4LkhhbmRsZXJUb29scyA6IDB9O1xuXG4gICAgICAud2lkZ2V0LW1hc2sge1xuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xuICAgICAgICBsZWZ0OiAwO1xuICAgICAgICByaWdodDogMDtcbiAgICAgICAgdG9wOiAwO1xuICAgICAgICBib3R0b206IDA7XG4gICAgICAgIHotaW5kZXg6IDE7XG4gICAgICB9XG4gICAgYDtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7XG4gICAgICB3aWRnZXRJZCxcbiAgICAgIGxheW91dElkLFxuICAgICAgbGF5b3V0SXRlbUlkLFxuICAgICAgaXNEZXNpZ25Nb2RlLFxuICAgICAgaXNJbmxpbmVFZGl0aW5nLFxuICAgICAgaXNGdW5jdGlvbmFsV2lkZ2V0LFxuICAgICAgaGFzRW1iZWRkZWRMYXlvdXQsXG4gICAgfSA9IHRoaXMucHJvcHM7XG4gICAgaWYgKCF3aWRnZXRJZCkge1xuICAgICAgaWYgKGlzRGVzaWduTW9kZSkge1xuICAgICAgICByZXR1cm4gPFdpZGdldFBsYWNlaG9sZGVyIGxheW91dElkPXtsYXlvdXRJZH0gbGF5b3V0SXRlbUlkPXtsYXlvdXRJdGVtSWR9IC8+O1xuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHNob3dNYXNrID0gaXNEZXNpZ25Nb2RlICYmICFpc0lubGluZUVkaXRpbmcgJiYgaXNGdW5jdGlvbmFsV2lkZ2V0ICYmICFoYXNFbWJlZGRlZExheW91dDtcbiAgICByZXR1cm4gKFxuICAgICAgPFdpZGdldFJlbmRlcmVyIGNsYXNzTmFtZT1cInctMTAwXCIgY3NzPXt0aGlzLmdldFN0eWxlKCl9IHsuLi50aGlzLnByb3BzfT5cbiAgICAgICAge3Nob3dNYXNrICYmIHRoaXMubWFzaygpfVxuICAgICAgPC9XaWRnZXRSZW5kZXJlcj5cbiAgICApO1xuICB9XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFJQTtBQUFBO0FBQUE7O0FBa0RBO0FBL0NBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQWdCQTtBQUVBO0FBQ0E7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUFBOzs7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./jimu-layouts/lib/builder/widget-renderer.tsx\n");

/***/ }),

/***/ "./jimu-layouts/lib/column-layout/builder/column-item-setting.tsx":
/*!************************************************************************!*\
  !*** ./jimu-layouts/lib/column-layout/builder/column-item-setting.tsx ***!
  \************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jimu_core__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui/advanced/setting-components */ \"jimu-ui/advanced/setting-components\");\n/* harmony import */ var jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var jimu_ui_advanced_style_setting_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-ui/advanced/style-setting-components */ \"jimu-ui/advanced/style-setting-components\");\n/* harmony import */ var jimu_ui_advanced_style_setting_components__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jimu_ui_advanced_style_setting_components__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-ui */ \"jimu-ui\");\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(jimu_ui__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! jimu-layouts/layout-runtime */ \"jimu-layouts/layout-runtime\");\n/* harmony import */ var jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _builder_common_layout_item_setting__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../builder/common-layout-item-setting */ \"./jimu-layouts/lib/builder/common-layout-item-setting.tsx\");\n/* harmony import */ var _builder_common_transform_setting__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../builder/common-transform-setting */ \"./jimu-layouts/lib/builder/common-transform-setting.tsx\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __makeTemplateObject = (undefined && undefined.__makeTemplateObject) || function (cooked, raw) {\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n    return cooked;\n};\n/** @jsx jsx */\n\n\n\n\n\n\n\nvar inputStyle = { width: '7.5rem' };\nvar widthModes = [jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_4__[\"LayoutItemSizeModes\"].Stretch, jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_4__[\"LayoutItemSizeModes\"].Custom];\nvar heightModes = [jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_4__[\"LayoutItemSizeModes\"].Auto, jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_4__[\"LayoutItemSizeModes\"].Stretch, jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_4__[\"LayoutItemSizeModes\"].Custom];\nvar availableWidthUnits = [jimu_ui__WEBPACK_IMPORTED_MODULE_3__[\"UnitTypes\"].PIXEL, jimu_ui__WEBPACK_IMPORTED_MODULE_3__[\"UnitTypes\"].PERCENTAGE];\nvar availableHeightUnits = [jimu_ui__WEBPACK_IMPORTED_MODULE_3__[\"UnitTypes\"].PIXEL];\nvar ColumnItemSetting = /** @class */ (function (_super) {\n    __extends(ColumnItemSetting, _super);\n    function ColumnItemSetting() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.updateBBox = function (prop, value) {\n            var _a;\n            var bbox = _this.props.layoutItem.bbox;\n            var distance = value.distance, unit = value.unit;\n            var originalValue = bbox[prop];\n            var contaienrRect = _this.getSizeOfContainer();\n            var newValue = distance.toFixed(2);\n            var pixelValue;\n            if (jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_4__[\"utils\"].isPercentage(originalValue) && unit === jimu_ui__WEBPACK_IMPORTED_MODULE_3__[\"UnitTypes\"].PIXEL) { // change from percentage to pixel\n                if (contaienrRect) {\n                    if (prop === 'left' || prop === 'right' || prop === 'width') {\n                        newValue = Math.round(parseFloat(originalValue) * contaienrRect.width / 100);\n                    }\n                    else {\n                        newValue = Math.round(parseFloat(originalValue) * contaienrRect.height / 100);\n                    }\n                    pixelValue = newValue;\n                }\n            }\n            else if (!jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_4__[\"utils\"].isPercentage(originalValue) && unit === jimu_ui__WEBPACK_IMPORTED_MODULE_3__[\"UnitTypes\"].PERCENTAGE) { // change from pixel to percentage\n                if (contaienrRect) {\n                    if (prop === 'left' || prop === 'right' || prop === 'width') {\n                        newValue = (parseFloat(originalValue) * 100 / contaienrRect.width).toFixed(4);\n                    }\n                    else {\n                        newValue = (parseFloat(originalValue) * 100 / contaienrRect.height).toFixed(4);\n                    }\n                }\n                pixelValue = parseFloat(originalValue);\n            }\n            if (!pixelValue && unit === jimu_ui__WEBPACK_IMPORTED_MODULE_3__[\"UnitTypes\"].PERCENTAGE) {\n                // change percentage value\n                var total = prop === 'width' ? contaienrRect.width : contaienrRect.height;\n                pixelValue = Math.round(distance * total / 100);\n            }\n            else if (!pixelValue && unit === jimu_ui__WEBPACK_IMPORTED_MODULE_3__[\"UnitTypes\"].PIXEL) {\n                pixelValue = distance;\n            }\n            bbox = bbox.set(prop, unit === jimu_ui__WEBPACK_IMPORTED_MODULE_3__[\"UnitTypes\"].PERCENTAGE ? newValue + \"%\" : newValue + \"px\");\n            if (((_a = _this.props.layoutItem.setting) === null || _a === void 0 ? void 0 : _a.heightMode) === 'ratio') {\n                var ratio = _this.props.layoutItem.setting.aspectRatio;\n                if (prop === 'width') {\n                    var height = pixelValue * ratio;\n                    if (jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_4__[\"utils\"].isPercentage(bbox.height)) {\n                        var newValue_1 = (height * 100 / contaienrRect.height).toFixed(4);\n                        bbox = bbox.set('height', newValue_1 + \"%\");\n                    }\n                    else {\n                        bbox = bbox.set('height', Math.round(height) + \"px\");\n                    }\n                }\n                else {\n                    var width = pixelValue / ratio;\n                    if (jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_4__[\"utils\"].isPercentage(bbox.width)) {\n                        var newValue_2 = (width * 100 / contaienrRect.width).toFixed(4);\n                        bbox = bbox.set('width', newValue_2 + \"%\");\n                    }\n                    else {\n                        bbox = bbox.set('width', Math.round(width) + \"px\");\n                    }\n                }\n            }\n            _this.props.onPosChange({\n                layoutId: _this.props.layoutId,\n                layoutItemId: _this.props.layoutItem.id,\n            }, bbox);\n        };\n        _this.updateAspectSetting = function (heightMode) {\n            var setting = _this.props.layoutItem.setting || Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"Immutable\"])({});\n            setting = setting.set('heightMode', heightMode);\n            if (heightMode === 'ratio') {\n                var itemRect = _this.getSizeOfItem();\n                if (itemRect) {\n                    setting = setting.set('aspectRatio', Number((itemRect.height / itemRect.width).toFixed(2)));\n                }\n            }\n            else {\n                var bbox = _this.props.layoutItem.bbox;\n                var rect = _this.getSizeOfItem();\n                if (jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_4__[\"utils\"].isPercentage(bbox.width)) {\n                    var contaienrRect = _this.getSizeOfContainer();\n                    bbox = bbox.set('width', (rect.width * 100 / contaienrRect.width).toFixed(4) + \"%\");\n                }\n                else {\n                    bbox = bbox.set('width', Math.round(rect.width) + \"px\");\n                }\n                bbox = bbox.set('height', Math.round(rect.height) + \"px\");\n                _this.props.onPosChange({\n                    layoutId: _this.props.layoutId,\n                    layoutItemId: _this.props.layoutItem.id,\n                }, bbox);\n            }\n            _this.props.onSettingChange({\n                layoutId: _this.props.layoutId,\n                layoutItemId: _this.props.layoutItem.id,\n            }, setting);\n        };\n        _this.updateAlignSelf = function (e) {\n            var setting = _this.props.layoutItem.setting || Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"Immutable\"])({});\n            setting = setting.setIn(['style', 'alignSelf'], e.target.value);\n            _this.props.onSettingChange({\n                layoutId: _this.props.layoutId,\n                layoutItemId: _this.props.layoutItem.id,\n            }, setting);\n        };\n        _this.updateHeightMode = function (mode) {\n            var setting = _this.props.layoutItem.setting || Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"Immutable\"])({});\n            _this.props.onSettingChange({\n                layoutId: _this.props.layoutId,\n                layoutItemId: _this.props.layoutItem.id,\n            }, setting.setIn(['autoProps', 'height'], mode));\n        };\n        _this.updateWidthMode = function (mode) {\n            var setting = _this.props.layoutItem.setting || Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"Immutable\"])({});\n            _this.props.onSettingChange({\n                layoutId: _this.props.layoutId,\n                layoutItemId: _this.props.layoutItem.id,\n            }, setting.setIn(['autoProps', 'width'], mode));\n        };\n        _this.updateAspectRatio = function (newRatio) {\n            var setting = _this.props.layoutItem.setting || Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"Immutable\"])({});\n            setting = setting.set('aspectRatio', newRatio);\n            _this.props.onSettingChange({\n                layoutId: _this.props.layoutId,\n                layoutItemId: _this.props.layoutItem.id,\n            }, setting);\n        };\n        _this.formatMessage = function (id) {\n            return _this.props.formatMessage(id);\n        };\n        return _this;\n    }\n    ColumnItemSetting.prototype.getSizeOfContainer = function () {\n        var layoutElem = this.querySelector(\"div.flexbox-layout[data-layoutid=\\\"\" + this.props.layoutId + \"\\\"]\");\n        if (layoutElem) {\n            return layoutElem.getBoundingClientRect();\n        }\n        return null;\n    };\n    ColumnItemSetting.prototype.getSizeOfItem = function () {\n        var _a = this.props, layoutId = _a.layoutId, layoutItem = _a.layoutItem;\n        var layoutElem = this.querySelector(\"div.exb-rnd[data-layoutid=\\\"\" + layoutId + \"\\\"][data-layoutitemid=\\\"\" + layoutItem.id + \"\\\"]\");\n        if (layoutElem) {\n            return layoutElem.getBoundingClientRect();\n        }\n        return null;\n    };\n    ColumnItemSetting.prototype.querySelector = function (selector) {\n        var appFrame = document.querySelector(\"iframe[name=\\\"\" + jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"APP_FRAME_NAME_IN_BUILDER\"] + \"\\\"]\");\n        if (appFrame) {\n            var appFrameDoc = appFrame.contentDocument || appFrame.contentWindow.document;\n            return appFrameDoc.querySelector(selector);\n        }\n        return null;\n    };\n    ColumnItemSetting.prototype.getStyle = function () {\n        return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n      .rotation-setting, .rotation-setting input {\\n        height: 26px;\\n      }\\n\\n      .ratio-value {\\n        font-size: 12px;\\n      }\\n\\n      .align-select {\\n        .dropdown-button, .dropdown-button:hover {\\n          height: 26px;\\n        }\\n      }\\n    \"], [\"\\n      .rotation-setting, .rotation-setting input {\\n        height: 26px;\\n      }\\n\\n      .ratio-value {\\n        font-size: 12px;\\n      }\\n\\n      .align-select {\\n        .dropdown-button, .dropdown-button:hover {\\n          height: 26px;\\n        }\\n      }\\n    \"])));\n    };\n    // getAspectRatio() {\n    //   const ratio = this.props.layoutItem.setting?.aspectRatio ?? -1;\n    //   if (ratio < 0) {\n    //     return '';\n    //   }\n    //   const width = 100;\n    //   const height = Math.round(ratio * 100);\n    //   const common = layoutUtils.gcd(width, height);\n    //   return `${width / common} : ${height / common}`;\n    // }\n    ColumnItemSetting.prototype.render = function () {\n        var _this = this;\n        var _a, _b, _c, _d;\n        var _e = this.props, layoutId = _e.layoutId, layoutItem = _e.layoutItem, isLockLayout = _e.isLockLayout;\n        if (!layoutItem) {\n            return null;\n        }\n        var setting = layoutItem.setting || {};\n        var style = setting.style || {};\n        var bbox = layoutItem.bbox || {};\n        var isAutoWidth = ((_a = setting.autoProps) === null || _a === void 0 ? void 0 : _a.width) !== jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_4__[\"LayoutItemSizeModes\"].Custom;\n        var heightMode = (_c = (_b = setting.autoProps) === null || _b === void 0 ? void 0 : _b.height) !== null && _c !== void 0 ? _c : jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_4__[\"LayoutItemSizeModes\"].Custom;\n        var keepAspectRatio = setting.heightMode === 'ratio';\n        return (Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"column-item-setting\", css: this.getStyle() },\n            !isLockLayout && Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].Fragment, null,\n                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_1__[\"SettingSection\"], { title: this.formatMessage('size') },\n                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_1__[\"SettingRow\"], { label: this.formatMessage('width') },\n                        Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { style: inputStyle },\n                            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui_advanced_style_setting_components__WEBPACK_IMPORTED_MODULE_2__[\"SizeEditor\"], { label: \"W\", mode: isAutoWidth ? jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_4__[\"LayoutItemSizeModes\"].Stretch : jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_4__[\"LayoutItemSizeModes\"].Custom, sizeModes: widthModes, value: bbox === null || bbox === void 0 ? void 0 : bbox.width, availableUnits: availableWidthUnits, onChange: function (value) { return _this.updateBBox('width', value); }, onModeChange: this.updateWidthMode }))),\n                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_1__[\"SettingRow\"], { label: this.formatMessage('height') },\n                        Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { style: inputStyle },\n                            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui_advanced_style_setting_components__WEBPACK_IMPORTED_MODULE_2__[\"SizeEditor\"], { label: \"H\", mode: heightMode || jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_4__[\"LayoutItemSizeModes\"].Custom, sizeModes: heightModes, value: bbox.height, availableUnits: availableHeightUnits, onChange: function (value) { return _this.updateBBox('height', value); }, onModeChange: this.updateHeightMode, disabled: keepAspectRatio }))),\n                    heightMode === jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_4__[\"LayoutItemSizeModes\"].Custom &&\n                        Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_1__[\"SettingRow\"], null,\n                            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_3__[\"Checkbox\"], { checked: keepAspectRatio, onChange: function (e) { return _this.updateAspectSetting(e.target.checked ? 'ratio' : 'fixed'); }, className: \"mr-2\" }),\n                            this.formatMessage('keepAspectRatio')),\n                    keepAspectRatio &&\n                        Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_1__[\"SettingRow\"], { label: this.formatMessage('aspectRatio') },\n                            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui_advanced_style_setting_components__WEBPACK_IMPORTED_MODULE_2__[\"InputRatio\"], { value: setting.aspectRatio, style: inputStyle, onChange: this.updateAspectRatio })),\n                    !isAutoWidth && Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_1__[\"SettingRow\"], { label: this.formatMessage('align') },\n                        Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_3__[\"Select\"], { className: \"align-select\", value: (_d = style.alignSelf) !== null && _d !== void 0 ? _d : 'flex-start', onChange: this.updateAlignSelf, style: inputStyle },\n                            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"option\", { value: \"flex-start\" }, this.formatMessage('start')),\n                            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"option\", { value: \"flex-end\" }, this.formatMessage('end')),\n                            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"option\", { value: \"center\" }, this.formatMessage('center')))),\n                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_builder_common_transform_setting__WEBPACK_IMPORTED_MODULE_6__[\"default\"], { layoutId: layoutId, layoutItemId: layoutItem.id, setting: setting, onSettingChange: this.props.onSettingChange, formatMessage: this.props.formatMessage }))),\n            (layoutItem.widgetId || layoutItem.sectionId) && Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_builder_common_layout_item_setting__WEBPACK_IMPORTED_MODULE_5__[\"default\"], { layoutId: layoutId, layoutItemId: layoutItem.id, isSection: layoutItem.type === jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"LayoutItemType\"].Section, style: this.props.style, onStyleChange: this.props.onStyleChange, onSettingChange: this.props.onSettingChange, formatMessage: this.props.formatMessage })));\n    };\n    return ColumnItemSetting;\n}(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].PureComponent));\n/* harmony default export */ __webpack_exports__[\"default\"] = (ColumnItemSetting);\nvar templateObject_1;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWxheW91dHMvbGliL2NvbHVtbi1sYXlvdXQvYnVpbGRlci9jb2x1bW4taXRlbS1zZXR0aW5nLnRzeC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2ppbXUtbGF5b3V0cy9saWIvY29sdW1uLWxheW91dC9idWlsZGVyL2NvbHVtbi1pdGVtLXNldHRpbmcudHN4P2E0MGEiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqIEBqc3gganN4ICovXG5pbXBvcnQgeyBSZWFjdCwganN4LCBjc3MsIEltbXV0YWJsZSwgTGF5b3V0SXRlbVR5cGUsIEFQUF9GUkFNRV9OQU1FX0lOX0JVSUxERVIsIElNQm91bmRpbmdCb3ggfSBmcm9tICdqaW11LWNvcmUnO1xuaW1wb3J0IHsgU2V0dGluZ1NlY3Rpb24sIFNldHRpbmdSb3cgfSBmcm9tICdqaW11LXVpL2FkdmFuY2VkL3NldHRpbmctY29tcG9uZW50cyc7XG5pbXBvcnQgeyBTaXplRWRpdG9yLCBJbnB1dFJhdGlvIH0gZnJvbSAnamltdS11aS9hZHZhbmNlZC9zdHlsZS1zZXR0aW5nLWNvbXBvbmVudHMnO1xuaW1wb3J0IHsgVW5pdFR5cGVzLCBDaGVja2JveCwgTGluZWFyVW5pdCwgU2VsZWN0IH0gZnJvbSAnamltdS11aSc7XG5pbXBvcnQgeyBMYXlvdXRJdGVtU2l6ZU1vZGVzLCB1dGlscyBhcyBsYXlvdXRVdGlscyB9IGZyb20gJ2ppbXUtbGF5b3V0cy9sYXlvdXQtcnVudGltZSc7XG5pbXBvcnQgeyBMYXlvdXRJdGVtU2V0dGluZ1Byb3BzIH0gZnJvbSAnLi4vLi4vYnVpbGRlci90eXBlcyc7XG5pbXBvcnQgQ29tbW9uTGF5b3V0SXRlbVNldHRpbmcgZnJvbSAnLi4vLi4vYnVpbGRlci9jb21tb24tbGF5b3V0LWl0ZW0tc2V0dGluZyc7XG5pbXBvcnQgQ29tbW9uVHJhbnNmb3JtU2V0dGluZyBmcm9tICcuLi8uLi9idWlsZGVyL2NvbW1vbi10cmFuc2Zvcm0tc2V0dGluZyc7XG5cbmNvbnN0IGlucHV0U3R5bGUgPSB7IHdpZHRoOiAnNy41cmVtJyB9O1xuXG5jb25zdCB3aWR0aE1vZGVzID0gW0xheW91dEl0ZW1TaXplTW9kZXMuU3RyZXRjaCwgTGF5b3V0SXRlbVNpemVNb2Rlcy5DdXN0b21dO1xuY29uc3QgaGVpZ2h0TW9kZXMgPSBbTGF5b3V0SXRlbVNpemVNb2Rlcy5BdXRvLCBMYXlvdXRJdGVtU2l6ZU1vZGVzLlN0cmV0Y2gsIExheW91dEl0ZW1TaXplTW9kZXMuQ3VzdG9tXTtcbmNvbnN0IGF2YWlsYWJsZVdpZHRoVW5pdHMgPSBbVW5pdFR5cGVzLlBJWEVMLCBVbml0VHlwZXMuUEVSQ0VOVEFHRV07XG5jb25zdCBhdmFpbGFibGVIZWlnaHRVbml0cyA9IFtVbml0VHlwZXMuUElYRUxdO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDb2x1bW5JdGVtU2V0dGluZyBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQ8TGF5b3V0SXRlbVNldHRpbmdQcm9wcz4ge1xuICB1cGRhdGVCQm94ID0gKHByb3A6IHN0cmluZywgdmFsdWU6IExpbmVhclVuaXQpID0+IHtcbiAgICBsZXQgYmJveCA9IHRoaXMucHJvcHMubGF5b3V0SXRlbS5iYm94IGFzIElNQm91bmRpbmdCb3g7XG4gICAgY29uc3QgeyBkaXN0YW5jZSwgdW5pdCB9ID0gdmFsdWU7XG4gICAgY29uc3Qgb3JpZ2luYWxWYWx1ZSA9IGJib3hbcHJvcF07XG4gICAgY29uc3QgY29udGFpZW5yUmVjdCA9IHRoaXMuZ2V0U2l6ZU9mQ29udGFpbmVyKCk7XG4gICAgbGV0IG5ld1ZhbHVlOiBzdHJpbmcgfCBudW1iZXIgPSBkaXN0YW5jZS50b0ZpeGVkKDIpO1xuICAgIGxldCBwaXhlbFZhbHVlOiBudW1iZXI7XG5cbiAgICBpZiAobGF5b3V0VXRpbHMuaXNQZXJjZW50YWdlKG9yaWdpbmFsVmFsdWUpICYmIHVuaXQgPT09IFVuaXRUeXBlcy5QSVhFTCkgeyAvLyBjaGFuZ2UgZnJvbSBwZXJjZW50YWdlIHRvIHBpeGVsXG4gICAgICBpZiAoY29udGFpZW5yUmVjdCkge1xuICAgICAgICBpZiAocHJvcCA9PT0gJ2xlZnQnIHx8IHByb3AgPT09ICdyaWdodCcgfHwgcHJvcCA9PT0gJ3dpZHRoJykge1xuICAgICAgICAgIG5ld1ZhbHVlID0gTWF0aC5yb3VuZChwYXJzZUZsb2F0KG9yaWdpbmFsVmFsdWUpICogY29udGFpZW5yUmVjdC53aWR0aCAvIDEwMCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbmV3VmFsdWUgPSBNYXRoLnJvdW5kKHBhcnNlRmxvYXQob3JpZ2luYWxWYWx1ZSkgKiBjb250YWllbnJSZWN0LmhlaWdodCAvIDEwMCk7XG4gICAgICAgIH1cbiAgICAgICAgcGl4ZWxWYWx1ZSA9IG5ld1ZhbHVlO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoIWxheW91dFV0aWxzLmlzUGVyY2VudGFnZShvcmlnaW5hbFZhbHVlKSAmJiB1bml0ID09PSBVbml0VHlwZXMuUEVSQ0VOVEFHRSkgeyAvLyBjaGFuZ2UgZnJvbSBwaXhlbCB0byBwZXJjZW50YWdlXG4gICAgICBpZiAoY29udGFpZW5yUmVjdCkge1xuICAgICAgICBpZiAocHJvcCA9PT0gJ2xlZnQnIHx8IHByb3AgPT09ICdyaWdodCcgfHwgcHJvcCA9PT0gJ3dpZHRoJykge1xuICAgICAgICAgIG5ld1ZhbHVlID0gKHBhcnNlRmxvYXQob3JpZ2luYWxWYWx1ZSkgKiAxMDAgLyBjb250YWllbnJSZWN0LndpZHRoKS50b0ZpeGVkKDQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG5ld1ZhbHVlID0gKHBhcnNlRmxvYXQob3JpZ2luYWxWYWx1ZSkgKiAxMDAgLyBjb250YWllbnJSZWN0LmhlaWdodCkudG9GaXhlZCg0KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcGl4ZWxWYWx1ZSA9IHBhcnNlRmxvYXQob3JpZ2luYWxWYWx1ZSk7XG4gICAgfVxuXG4gICAgaWYgKCFwaXhlbFZhbHVlICYmIHVuaXQgPT09IFVuaXRUeXBlcy5QRVJDRU5UQUdFKSB7XG4gICAgICAvLyBjaGFuZ2UgcGVyY2VudGFnZSB2YWx1ZVxuICAgICAgY29uc3QgdG90YWwgPSBwcm9wID09PSAnd2lkdGgnID8gY29udGFpZW5yUmVjdC53aWR0aCA6IGNvbnRhaWVuclJlY3QuaGVpZ2h0O1xuICAgICAgcGl4ZWxWYWx1ZSA9IE1hdGgucm91bmQoZGlzdGFuY2UgKiB0b3RhbCAvIDEwMCk7XG4gICAgfSBlbHNlIGlmICghcGl4ZWxWYWx1ZSAmJiB1bml0ID09PSBVbml0VHlwZXMuUElYRUwpe1xuICAgICAgcGl4ZWxWYWx1ZSA9IGRpc3RhbmNlO1xuICAgIH1cblxuICAgIGJib3ggPSBiYm94LnNldChwcm9wLCB1bml0ID09PSBVbml0VHlwZXMuUEVSQ0VOVEFHRSA/IGAke25ld1ZhbHVlfSVgIDogYCR7bmV3VmFsdWV9cHhgKTtcblxuICAgIGlmICh0aGlzLnByb3BzLmxheW91dEl0ZW0uc2V0dGluZz8uaGVpZ2h0TW9kZSA9PT0gJ3JhdGlvJykge1xuICAgICAgY29uc3QgcmF0aW8gPSB0aGlzLnByb3BzLmxheW91dEl0ZW0uc2V0dGluZy5hc3BlY3RSYXRpbztcbiAgICAgIGlmIChwcm9wID09PSAnd2lkdGgnKSB7XG4gICAgICAgIGNvbnN0IGhlaWdodCA9IHBpeGVsVmFsdWUgKiByYXRpbztcbiAgICAgICAgaWYgKGxheW91dFV0aWxzLmlzUGVyY2VudGFnZShiYm94LmhlaWdodCkpIHtcbiAgICAgICAgICBjb25zdCBuZXdWYWx1ZSA9IChoZWlnaHQgKiAxMDAgLyBjb250YWllbnJSZWN0LmhlaWdodCkudG9GaXhlZCg0KTtcbiAgICAgICAgICBiYm94ID0gYmJveC5zZXQoJ2hlaWdodCcsIGAke25ld1ZhbHVlfSVgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBiYm94ID0gYmJveC5zZXQoJ2hlaWdodCcsIGAke01hdGgucm91bmQoaGVpZ2h0KX1weGApO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCB3aWR0aCA9IHBpeGVsVmFsdWUgLyByYXRpbztcbiAgICAgICAgaWYgKGxheW91dFV0aWxzLmlzUGVyY2VudGFnZShiYm94LndpZHRoKSkge1xuICAgICAgICAgIGNvbnN0IG5ld1ZhbHVlID0gKHdpZHRoICogMTAwIC8gY29udGFpZW5yUmVjdC53aWR0aCkudG9GaXhlZCg0KTtcbiAgICAgICAgICBiYm94ID0gYmJveC5zZXQoJ3dpZHRoJywgYCR7bmV3VmFsdWV9JWApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGJib3ggPSBiYm94LnNldCgnd2lkdGgnLCBgJHtNYXRoLnJvdW5kKHdpZHRoKX1weGApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5wcm9wcy5vblBvc0NoYW5nZShcbiAgICAgIHtcbiAgICAgICAgbGF5b3V0SWQ6IHRoaXMucHJvcHMubGF5b3V0SWQsXG4gICAgICAgIGxheW91dEl0ZW1JZDogdGhpcy5wcm9wcy5sYXlvdXRJdGVtLmlkLFxuICAgICAgfSxcbiAgICAgIGJib3hcbiAgICApO1xuICB9XG5cbiAgdXBkYXRlQXNwZWN0U2V0dGluZyA9IChoZWlnaHRNb2RlPzogc3RyaW5nKSA9PiB7XG4gICAgbGV0IHNldHRpbmcgPSB0aGlzLnByb3BzLmxheW91dEl0ZW0uc2V0dGluZyB8fCBJbW11dGFibGUoe30pO1xuICAgIHNldHRpbmcgPSBzZXR0aW5nLnNldCgnaGVpZ2h0TW9kZScsIGhlaWdodE1vZGUpO1xuICAgIGlmIChoZWlnaHRNb2RlID09PSAncmF0aW8nKSB7XG4gICAgICBjb25zdCBpdGVtUmVjdCA9IHRoaXMuZ2V0U2l6ZU9mSXRlbSgpO1xuICAgICAgaWYgKGl0ZW1SZWN0KSB7XG4gICAgICAgIHNldHRpbmcgPSBzZXR0aW5nLnNldCgnYXNwZWN0UmF0aW8nLCBOdW1iZXIoKGl0ZW1SZWN0LmhlaWdodCAvIGl0ZW1SZWN0LndpZHRoKS50b0ZpeGVkKDIpKSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCBiYm94ID0gdGhpcy5wcm9wcy5sYXlvdXRJdGVtLmJib3ggYXMgSU1Cb3VuZGluZ0JveDtcbiAgICAgIGNvbnN0IHJlY3QgPSB0aGlzLmdldFNpemVPZkl0ZW0oKTtcbiAgICAgIGlmIChsYXlvdXRVdGlscy5pc1BlcmNlbnRhZ2UoYmJveC53aWR0aCkpIHtcbiAgICAgICAgY29uc3QgY29udGFpZW5yUmVjdCA9IHRoaXMuZ2V0U2l6ZU9mQ29udGFpbmVyKCk7XG4gICAgICAgIGJib3ggPSBiYm94LnNldCgnd2lkdGgnLCBgJHsocmVjdC53aWR0aCAqIDEwMCAvIGNvbnRhaWVuclJlY3Qud2lkdGgpLnRvRml4ZWQoNCl9JWApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYmJveCA9IGJib3guc2V0KCd3aWR0aCcsIGAke01hdGgucm91bmQocmVjdC53aWR0aCl9cHhgKTtcbiAgICAgIH1cbiAgICAgIGJib3ggPSBiYm94LnNldCgnaGVpZ2h0JywgYCR7TWF0aC5yb3VuZChyZWN0LmhlaWdodCl9cHhgKTtcbiAgICAgIHRoaXMucHJvcHMub25Qb3NDaGFuZ2UoXG4gICAgICAgIHtcbiAgICAgICAgICBsYXlvdXRJZDogdGhpcy5wcm9wcy5sYXlvdXRJZCxcbiAgICAgICAgICBsYXlvdXRJdGVtSWQ6IHRoaXMucHJvcHMubGF5b3V0SXRlbS5pZCxcbiAgICAgICAgfSxcbiAgICAgICAgYmJveFxuICAgICAgKTtcbiAgICB9XG5cbiAgICB0aGlzLnByb3BzLm9uU2V0dGluZ0NoYW5nZShcbiAgICAgIHtcbiAgICAgICAgbGF5b3V0SWQ6IHRoaXMucHJvcHMubGF5b3V0SWQsXG4gICAgICAgIGxheW91dEl0ZW1JZDogdGhpcy5wcm9wcy5sYXlvdXRJdGVtLmlkLFxuICAgICAgfSxcbiAgICAgIHNldHRpbmcsXG4gICAgKTtcbiAgfVxuXG4gIHVwZGF0ZUFsaWduU2VsZiA9IChlKSA9PiB7XG4gICAgbGV0IHNldHRpbmcgPSB0aGlzLnByb3BzLmxheW91dEl0ZW0uc2V0dGluZyB8fCBJbW11dGFibGUoe30pO1xuICAgIHNldHRpbmcgPSBzZXR0aW5nLnNldEluKFsnc3R5bGUnLCAnYWxpZ25TZWxmJ10sIGUudGFyZ2V0LnZhbHVlKTtcbiAgICB0aGlzLnByb3BzLm9uU2V0dGluZ0NoYW5nZShcbiAgICAgIHtcbiAgICAgICAgbGF5b3V0SWQ6IHRoaXMucHJvcHMubGF5b3V0SWQsXG4gICAgICAgIGxheW91dEl0ZW1JZDogdGhpcy5wcm9wcy5sYXlvdXRJdGVtLmlkLFxuICAgICAgfSxcbiAgICAgIHNldHRpbmcsXG4gICAgKTtcbiAgfVxuXG4gIHVwZGF0ZUhlaWdodE1vZGUgPSAobW9kZTogTGF5b3V0SXRlbVNpemVNb2RlcykgPT4ge1xuICAgIGNvbnN0IHNldHRpbmcgPSB0aGlzLnByb3BzLmxheW91dEl0ZW0uc2V0dGluZyB8fCBJbW11dGFibGUoe30pO1xuXG4gICAgdGhpcy5wcm9wcy5vblNldHRpbmdDaGFuZ2UoXG4gICAgICB7XG4gICAgICAgIGxheW91dElkOiB0aGlzLnByb3BzLmxheW91dElkLFxuICAgICAgICBsYXlvdXRJdGVtSWQ6IHRoaXMucHJvcHMubGF5b3V0SXRlbS5pZCxcbiAgICAgIH0sXG4gICAgICBzZXR0aW5nLnNldEluKFsnYXV0b1Byb3BzJywgJ2hlaWdodCddLCBtb2RlKVxuICAgICk7XG4gIH1cblxuICB1cGRhdGVXaWR0aE1vZGUgPSAobW9kZTogTGF5b3V0SXRlbVNpemVNb2RlcykgPT4ge1xuICAgIGNvbnN0IHNldHRpbmcgPSB0aGlzLnByb3BzLmxheW91dEl0ZW0uc2V0dGluZyB8fCBJbW11dGFibGUoe30pO1xuXG4gICAgdGhpcy5wcm9wcy5vblNldHRpbmdDaGFuZ2UoXG4gICAgICB7XG4gICAgICAgIGxheW91dElkOiB0aGlzLnByb3BzLmxheW91dElkLFxuICAgICAgICBsYXlvdXRJdGVtSWQ6IHRoaXMucHJvcHMubGF5b3V0SXRlbS5pZCxcbiAgICAgIH0sXG4gICAgICBzZXR0aW5nLnNldEluKFsnYXV0b1Byb3BzJywgJ3dpZHRoJ10sIG1vZGUpXG4gICAgKTtcbiAgfVxuXG4gIHVwZGF0ZUFzcGVjdFJhdGlvID0gKG5ld1JhdGlvKSA9PiB7XG4gICAgbGV0IHNldHRpbmcgPSB0aGlzLnByb3BzLmxheW91dEl0ZW0uc2V0dGluZyB8fCBJbW11dGFibGUoe30pO1xuICAgIHNldHRpbmcgPSBzZXR0aW5nLnNldCgnYXNwZWN0UmF0aW8nLCBuZXdSYXRpbyk7XG4gICAgdGhpcy5wcm9wcy5vblNldHRpbmdDaGFuZ2UoXG4gICAgICB7XG4gICAgICAgIGxheW91dElkOiB0aGlzLnByb3BzLmxheW91dElkLFxuICAgICAgICBsYXlvdXRJdGVtSWQ6IHRoaXMucHJvcHMubGF5b3V0SXRlbS5pZCxcbiAgICAgIH0sXG4gICAgICBzZXR0aW5nLFxuICAgICk7XG4gIH1cblxuICBnZXRTaXplT2ZDb250YWluZXIoKTogQ2xpZW50UmVjdCB7XG4gICAgY29uc3QgbGF5b3V0RWxlbSA9IHRoaXMucXVlcnlTZWxlY3RvcihgZGl2LmZsZXhib3gtbGF5b3V0W2RhdGEtbGF5b3V0aWQ9XCIke3RoaXMucHJvcHMubGF5b3V0SWR9XCJdYCk7XG4gICAgaWYgKGxheW91dEVsZW0pIHtcbiAgICAgIHJldHVybiBsYXlvdXRFbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGdldFNpemVPZkl0ZW0oKTogQ2xpZW50UmVjdCB7XG4gICAgY29uc3QgeyBsYXlvdXRJZCwgbGF5b3V0SXRlbSB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCBsYXlvdXRFbGVtID0gdGhpcy5xdWVyeVNlbGVjdG9yKFxuICAgICAgYGRpdi5leGItcm5kW2RhdGEtbGF5b3V0aWQ9XCIke2xheW91dElkfVwiXVtkYXRhLWxheW91dGl0ZW1pZD1cIiR7bGF5b3V0SXRlbS5pZH1cIl1gKTtcbiAgICBpZiAobGF5b3V0RWxlbSkge1xuICAgICAgcmV0dXJuIGxheW91dEVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgcXVlcnlTZWxlY3RvcihzZWxlY3Rvcjogc3RyaW5nKTogSFRNTEVsZW1lbnQge1xuICAgIGNvbnN0IGFwcEZyYW1lOiBIVE1MRnJhbWVFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgaWZyYW1lW25hbWU9XCIke0FQUF9GUkFNRV9OQU1FX0lOX0JVSUxERVJ9XCJdYCk7XG4gICAgaWYgKGFwcEZyYW1lKSB7XG4gICAgICBjb25zdCBhcHBGcmFtZURvYyA9IGFwcEZyYW1lLmNvbnRlbnREb2N1bWVudCB8fCBhcHBGcmFtZS5jb250ZW50V2luZG93LmRvY3VtZW50O1xuICAgICAgcmV0dXJuIGFwcEZyYW1lRG9jLnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGZvcm1hdE1lc3NhZ2UgPSAoaWQ6IHN0cmluZykgPT4ge1xuICAgIHJldHVybiB0aGlzLnByb3BzLmZvcm1hdE1lc3NhZ2UoaWQpO1xuICB9XG5cbiAgZ2V0U3R5bGUoKSB7XG4gICAgcmV0dXJuIGNzc2BcbiAgICAgIC5yb3RhdGlvbi1zZXR0aW5nLCAucm90YXRpb24tc2V0dGluZyBpbnB1dCB7XG4gICAgICAgIGhlaWdodDogMjZweDtcbiAgICAgIH1cblxuICAgICAgLnJhdGlvLXZhbHVlIHtcbiAgICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgICAgfVxuXG4gICAgICAuYWxpZ24tc2VsZWN0IHtcbiAgICAgICAgLmRyb3Bkb3duLWJ1dHRvbiwgLmRyb3Bkb3duLWJ1dHRvbjpob3ZlciB7XG4gICAgICAgICAgaGVpZ2h0OiAyNnB4O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgYDtcbiAgfVxuXG4gIC8vIGdldEFzcGVjdFJhdGlvKCkge1xuICAvLyAgIGNvbnN0IHJhdGlvID0gdGhpcy5wcm9wcy5sYXlvdXRJdGVtLnNldHRpbmc/LmFzcGVjdFJhdGlvID8/IC0xO1xuICAvLyAgIGlmIChyYXRpbyA8IDApIHtcbiAgLy8gICAgIHJldHVybiAnJztcbiAgLy8gICB9XG4gIC8vICAgY29uc3Qgd2lkdGggPSAxMDA7XG4gIC8vICAgY29uc3QgaGVpZ2h0ID0gTWF0aC5yb3VuZChyYXRpbyAqIDEwMCk7XG4gIC8vICAgY29uc3QgY29tbW9uID0gbGF5b3V0VXRpbHMuZ2NkKHdpZHRoLCBoZWlnaHQpO1xuICAvLyAgIHJldHVybiBgJHt3aWR0aCAvIGNvbW1vbn0gOiAke2hlaWdodCAvIGNvbW1vbn1gO1xuICAvLyB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgbGF5b3V0SWQsIGxheW91dEl0ZW0sIGlzTG9ja0xheW91dCB9ID0gdGhpcy5wcm9wcztcbiAgICBpZiAoIWxheW91dEl0ZW0pIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBjb25zdCBzZXR0aW5nID0gbGF5b3V0SXRlbS5zZXR0aW5nIHx8IHt9O1xuICAgIGNvbnN0IHN0eWxlID0gc2V0dGluZy5zdHlsZSB8fCB7fTtcbiAgICBjb25zdCBiYm94ID0gbGF5b3V0SXRlbS5iYm94IHx8IHt9O1xuICAgIGNvbnN0IGlzQXV0b1dpZHRoID0gc2V0dGluZy5hdXRvUHJvcHM/LndpZHRoICE9PSBMYXlvdXRJdGVtU2l6ZU1vZGVzLkN1c3RvbTtcbiAgICBjb25zdCBoZWlnaHRNb2RlID0gc2V0dGluZy5hdXRvUHJvcHM/LmhlaWdodCA/PyBMYXlvdXRJdGVtU2l6ZU1vZGVzLkN1c3RvbTtcbiAgICBjb25zdCBrZWVwQXNwZWN0UmF0aW8gPSBzZXR0aW5nLmhlaWdodE1vZGUgPT09ICdyYXRpbyc7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2x1bW4taXRlbS1zZXR0aW5nXCIgY3NzPXt0aGlzLmdldFN0eWxlKCl9PlxuICAgICAgICB7IWlzTG9ja0xheW91dCAmJiA8UmVhY3QuRnJhZ21lbnQ+XG4gICAgICAgICAgPFNldHRpbmdTZWN0aW9uIHRpdGxlPXt0aGlzLmZvcm1hdE1lc3NhZ2UoJ3NpemUnKX0+XG4gICAgICAgICAgICA8U2V0dGluZ1JvdyBsYWJlbD17dGhpcy5mb3JtYXRNZXNzYWdlKCd3aWR0aCcpfT5cbiAgICAgICAgICAgICAgPGRpdiBzdHlsZT17aW5wdXRTdHlsZX0+XG4gICAgICAgICAgICAgICAgPFNpemVFZGl0b3JcbiAgICAgICAgICAgICAgICAgIGxhYmVsPVwiV1wiXG4gICAgICAgICAgICAgICAgICBtb2RlPXtpc0F1dG9XaWR0aCA/IExheW91dEl0ZW1TaXplTW9kZXMuU3RyZXRjaCA6IExheW91dEl0ZW1TaXplTW9kZXMuQ3VzdG9tfVxuICAgICAgICAgICAgICAgICAgc2l6ZU1vZGVzPXt3aWR0aE1vZGVzfVxuICAgICAgICAgICAgICAgICAgdmFsdWU9e2Jib3g/LndpZHRofVxuICAgICAgICAgICAgICAgICAgYXZhaWxhYmxlVW5pdHM9e2F2YWlsYWJsZVdpZHRoVW5pdHN9XG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dmFsdWUgPT4gdGhpcy51cGRhdGVCQm94KCd3aWR0aCcsIHZhbHVlKX1cbiAgICAgICAgICAgICAgICAgIG9uTW9kZUNoYW5nZT17dGhpcy51cGRhdGVXaWR0aE1vZGV9XG4gICAgICAgICAgICAgICAgPjwvU2l6ZUVkaXRvcj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L1NldHRpbmdSb3c+XG4gICAgICAgICAgICA8U2V0dGluZ1JvdyBsYWJlbD17dGhpcy5mb3JtYXRNZXNzYWdlKCdoZWlnaHQnKX0+XG4gICAgICAgICAgICAgIDxkaXYgc3R5bGU9e2lucHV0U3R5bGV9PlxuICAgICAgICAgICAgICAgIDxTaXplRWRpdG9yXG4gICAgICAgICAgICAgICAgICBsYWJlbD1cIkhcIlxuICAgICAgICAgICAgICAgICAgbW9kZT17aGVpZ2h0TW9kZSB8fCBMYXlvdXRJdGVtU2l6ZU1vZGVzLkN1c3RvbX1cbiAgICAgICAgICAgICAgICAgIHNpemVNb2Rlcz17aGVpZ2h0TW9kZXN9XG4gICAgICAgICAgICAgICAgICB2YWx1ZT17YmJveC5oZWlnaHR9XG4gICAgICAgICAgICAgICAgICBhdmFpbGFibGVVbml0cz17YXZhaWxhYmxlSGVpZ2h0VW5pdHN9XG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dmFsdWUgPT4gdGhpcy51cGRhdGVCQm94KCdoZWlnaHQnLCB2YWx1ZSl9XG4gICAgICAgICAgICAgICAgICBvbk1vZGVDaGFuZ2U9e3RoaXMudXBkYXRlSGVpZ2h0TW9kZX1cbiAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtrZWVwQXNwZWN0UmF0aW99XG4gICAgICAgICAgICAgICAgPjwvU2l6ZUVkaXRvcj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L1NldHRpbmdSb3c+XG4gICAgICAgICAgICB7aGVpZ2h0TW9kZSA9PT0gTGF5b3V0SXRlbVNpemVNb2Rlcy5DdXN0b20gJiZcbiAgICAgICAgICAgIDxTZXR0aW5nUm93PlxuICAgICAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgICAgICBjaGVja2VkPXtrZWVwQXNwZWN0UmF0aW99XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB0aGlzLnVwZGF0ZUFzcGVjdFNldHRpbmcoZS50YXJnZXQuY2hlY2tlZCA/ICdyYXRpbycgOiAnZml4ZWQnKX1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJtci0yXCJcbiAgICAgICAgICAgICAgPjwvQ2hlY2tib3g+XG4gICAgICAgICAgICAgIHt0aGlzLmZvcm1hdE1lc3NhZ2UoJ2tlZXBBc3BlY3RSYXRpbycpfVxuICAgICAgICAgICAgPC9TZXR0aW5nUm93Pn1cbiAgICAgICAgICAgIHtrZWVwQXNwZWN0UmF0aW8gJiZcbiAgICAgICAgICAgIDxTZXR0aW5nUm93IGxhYmVsPXt0aGlzLmZvcm1hdE1lc3NhZ2UoJ2FzcGVjdFJhdGlvJyl9PlxuICAgICAgICAgICAgICA8SW5wdXRSYXRpbyB2YWx1ZT17c2V0dGluZy5hc3BlY3RSYXRpb30gc3R5bGU9e2lucHV0U3R5bGV9IG9uQ2hhbmdlPXt0aGlzLnVwZGF0ZUFzcGVjdFJhdGlvfS8+XG4gICAgICAgICAgICA8L1NldHRpbmdSb3c+fVxuICAgICAgICAgICAgeyFpc0F1dG9XaWR0aCAmJiA8U2V0dGluZ1JvdyBsYWJlbD17dGhpcy5mb3JtYXRNZXNzYWdlKCdhbGlnbicpfT5cbiAgICAgICAgICAgICAgPFNlbGVjdCBjbGFzc05hbWU9XCJhbGlnbi1zZWxlY3RcIiB2YWx1ZT17c3R5bGUuYWxpZ25TZWxmID8/ICdmbGV4LXN0YXJ0J30gb25DaGFuZ2U9e3RoaXMudXBkYXRlQWxpZ25TZWxmfSBzdHlsZT17aW5wdXRTdHlsZX0+XG4gICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cImZsZXgtc3RhcnRcIj57dGhpcy5mb3JtYXRNZXNzYWdlKCdzdGFydCcpfTwvb3B0aW9uPlxuICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJmbGV4LWVuZFwiPnt0aGlzLmZvcm1hdE1lc3NhZ2UoJ2VuZCcpfTwvb3B0aW9uPlxuICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJjZW50ZXJcIj57dGhpcy5mb3JtYXRNZXNzYWdlKCdjZW50ZXInKX08L29wdGlvbj5cbiAgICAgICAgICAgICAgPC9TZWxlY3Q+XG4gICAgICAgICAgICA8L1NldHRpbmdSb3c+fVxuICAgICAgICAgICAgPENvbW1vblRyYW5zZm9ybVNldHRpbmdcbiAgICAgICAgICAgICAgbGF5b3V0SWQ9e2xheW91dElkfVxuICAgICAgICAgICAgICBsYXlvdXRJdGVtSWQ9e2xheW91dEl0ZW0uaWR9XG4gICAgICAgICAgICAgIHNldHRpbmc9e3NldHRpbmd9XG4gICAgICAgICAgICAgIG9uU2V0dGluZ0NoYW5nZT17dGhpcy5wcm9wcy5vblNldHRpbmdDaGFuZ2V9XG4gICAgICAgICAgICAgIGZvcm1hdE1lc3NhZ2U9e3RoaXMucHJvcHMuZm9ybWF0TWVzc2FnZX0vPlxuICAgICAgICAgIDwvU2V0dGluZ1NlY3Rpb24+XG4gICAgICAgIDwvUmVhY3QuRnJhZ21lbnQ+fVxuICAgICAgICB7KGxheW91dEl0ZW0ud2lkZ2V0SWQgfHwgbGF5b3V0SXRlbS5zZWN0aW9uSWQpICYmIDxDb21tb25MYXlvdXRJdGVtU2V0dGluZ1xuICAgICAgICAgIGxheW91dElkPXtsYXlvdXRJZH1cbiAgICAgICAgICBsYXlvdXRJdGVtSWQ9e2xheW91dEl0ZW0uaWR9XG4gICAgICAgICAgaXNTZWN0aW9uPXtsYXlvdXRJdGVtLnR5cGUgPT09IExheW91dEl0ZW1UeXBlLlNlY3Rpb259XG4gICAgICAgICAgc3R5bGU9e3RoaXMucHJvcHMuc3R5bGV9XG4gICAgICAgICAgb25TdHlsZUNoYW5nZT17dGhpcy5wcm9wcy5vblN0eWxlQ2hhbmdlfVxuICAgICAgICAgIG9uU2V0dGluZ0NoYW5nZT17dGhpcy5wcm9wcy5vblNldHRpbmdDaGFuZ2V9XG4gICAgICAgICAgZm9ybWF0TWVzc2FnZT17dGhpcy5wcm9wcy5mb3JtYXRNZXNzYWdlfS8+fVxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFHQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUdBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFHQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBR0E7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFHQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUdBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFHQTtBQTZCQTtBQUNBO0FBQ0E7O0FBaUhBO0FBOUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBZUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFXQTtBQUNBO0FBQ0E7QUFZQTtBQUNBO0FBQ0E7QUFLQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQVFBO0FBVUE7QUFDQTtBQUFBOzs7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./jimu-layouts/lib/column-layout/builder/column-item-setting.tsx\n");

/***/ }),

/***/ "./jimu-layouts/lib/column-layout/builder/dnd-helper.ts":
/*!**************************************************************!*\
  !*** ./jimu-layouts/lib/column-layout/builder/dnd-helper.ts ***!
  \**************************************************************/
/*! exports provided: calInsertPositionForColumn */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"calInsertPositionForColumn\", function() { return calInsertPositionForColumn; });\nfunction calInsertPositionForColumn(boundingRect, itemRect, childRects) {\n    var centerY = itemRect.top + itemRect.height / 2;\n    var result;\n    var refId;\n    var found = false;\n    childRects.some(function (rect, i) {\n        var rectY = rect.top + rect.height / 2;\n        if (rectY > centerY) {\n            if (i === 0) { // insert before the first item\n                result = rect.top / 2;\n            }\n            else { // insert between this and previous one\n                var previousItem = childRects[i - 1];\n                result = (rect.top + previousItem.top + previousItem.height) / 2;\n            }\n            found = true;\n            refId = rect.id;\n        }\n        return found;\n    });\n    if (!found) { // insert after the last one\n        var lastItem = childRects[childRects.length - 1];\n        result = (lastItem.top + lastItem.height + boundingRect.height) / 2;\n    }\n    return {\n        refId: refId,\n        insertY: result,\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWxheW91dHMvbGliL2NvbHVtbi1sYXlvdXQvYnVpbGRlci9kbmQtaGVscGVyLnRzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vamltdS1sYXlvdXRzL2xpYi9jb2x1bW4tbGF5b3V0L2J1aWxkZXIvZG5kLWhlbHBlci50cz9jNmU0Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBmdW5jdGlvbiAgY2FsSW5zZXJ0UG9zaXRpb25Gb3JDb2x1bW4oXG4gIGJvdW5kaW5nUmVjdDogQ2xpZW50UmVjdCxcbiAgaXRlbVJlY3Q6IFBhcnRpYWw8Q2xpZW50UmVjdD4sXG4gIGNoaWxkUmVjdHM6IEFycmF5PENsaWVudFJlY3QgJiB7aWQ6IHN0cmluZ30+XG4pOiB7aW5zZXJ0WTogbnVtYmVyLCByZWZJZDogc3RyaW5nfSB7XG4gIGNvbnN0IGNlbnRlclkgPSBpdGVtUmVjdC50b3AgKyBpdGVtUmVjdC5oZWlnaHQgLyAyO1xuICBsZXQgcmVzdWx0O1xuICBsZXQgcmVmSWQ7XG4gIGxldCBmb3VuZCA9IGZhbHNlO1xuICBjaGlsZFJlY3RzLnNvbWUoKHJlY3QsIGkpID0+IHtcbiAgICBjb25zdCByZWN0WSA9IHJlY3QudG9wICsgcmVjdC5oZWlnaHQgLyAyO1xuICAgIGlmIChyZWN0WSA+IGNlbnRlclkpIHtcbiAgICAgIGlmIChpID09PSAwKSB7IC8vIGluc2VydCBiZWZvcmUgdGhlIGZpcnN0IGl0ZW1cbiAgICAgICAgcmVzdWx0ID0gcmVjdC50b3AgLyAyO1xuICAgICAgfSBlbHNlIHsgLy8gaW5zZXJ0IGJldHdlZW4gdGhpcyBhbmQgcHJldmlvdXMgb25lXG4gICAgICAgIGNvbnN0IHByZXZpb3VzSXRlbSA9IGNoaWxkUmVjdHNbaSAtIDFdO1xuICAgICAgICByZXN1bHQgPSAocmVjdC50b3AgKyBwcmV2aW91c0l0ZW0udG9wICsgcHJldmlvdXNJdGVtLmhlaWdodCkgLyAyO1xuICAgICAgfVxuICAgICAgZm91bmQgPSB0cnVlO1xuICAgICAgcmVmSWQgPSByZWN0LmlkO1xuICAgIH1cbiAgICByZXR1cm4gZm91bmQ7XG4gIH0pO1xuICBpZiAoIWZvdW5kKSB7IC8vIGluc2VydCBhZnRlciB0aGUgbGFzdCBvbmVcbiAgICBjb25zdCBsYXN0SXRlbSA9IGNoaWxkUmVjdHNbY2hpbGRSZWN0cy5sZW5ndGggLSAxXTtcbiAgICByZXN1bHQgPSAobGFzdEl0ZW0udG9wICsgbGFzdEl0ZW0uaGVpZ2h0ICsgYm91bmRpbmdSZWN0LmhlaWdodCkgLyAyO1xuICB9XG4gIHJldHVybiB7XG4gICAgcmVmSWQsXG4gICAgaW5zZXJ0WTogcmVzdWx0LFxuICB9O1xufVxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./jimu-layouts/lib/column-layout/builder/dnd-helper.ts\n");

/***/ }),

/***/ "./jimu-layouts/lib/column-layout/builder/layout-item.tsx":
/*!****************************************************************!*\
  !*** ./jimu-layouts/lib/column-layout/builder/layout-item.tsx ***!
  \****************************************************************/
/*! exports provided: ColumnItem */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ColumnItem\", function() { return ColumnItem; });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jimu_core__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../types */ \"./jimu-layouts/lib/types.ts\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils */ \"./jimu-layouts/lib/utils.ts\");\n/* harmony import */ var _builder_layout_item__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../builder/layout-item */ \"./jimu-layouts/lib/builder/layout-item.tsx\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __makeTemplateObject = (undefined && undefined.__makeTemplateObject) || function (cooked, raw) {\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n    return cooked;\n};\nvar __assign = (undefined && undefined.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\n/** @jsx jsx */\n\n\n\n\nvar ColumnItem = /** @class */ (function (_super) {\n    __extends(ColumnItem, _super);\n    function ColumnItem() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            isResizing: false,\n            dw: 0,\n            dh: 0,\n        };\n        _this.onResizeStart = function (id, initW, initH) {\n            _this.initWidth = initW;\n            _this.initHeight = initH;\n            _this.props.onResizeStart(id);\n            _this.setState({\n                isResizing: true,\n            });\n        };\n        _this.onResizing = function (id, x, y, dw, dh) {\n            _this.props.onResizing(id, x, y, dw, dh);\n            _this.setState({\n                dw: dw,\n                dh: dh,\n                isResizing: true,\n            });\n        };\n        _this.onResizeEnd = function (id, x, y, dw, dh, shiftKey) {\n            var layoutItem = _this.props.layoutItem;\n            _this.props.onResizeEnd(id, x, y, dw, dh, layoutItem);\n            _this.setState({\n                isResizing: false,\n                dw: 0,\n                dh: 0,\n            });\n        };\n        return _this;\n    }\n    ColumnItem.prototype.isStretchInCrossAxis = function () {\n        var _a, _b;\n        var layoutItem = this.props.layoutItem;\n        return ((_b = (_a = layoutItem.setting) === null || _a === void 0 ? void 0 : _a.autoProps) === null || _b === void 0 ? void 0 : _b.width) !== _types__WEBPACK_IMPORTED_MODULE_1__[\"LayoutItemSizeModes\"].Custom;\n    };\n    ColumnItem.prototype.calHeight = function (itemSetting, bbox) {\n        var _a, _b;\n        if (((_a = itemSetting.autoProps) === null || _a === void 0 ? void 0 : _a.height) === _types__WEBPACK_IMPORTED_MODULE_1__[\"LayoutItemSizeModes\"].Auto || itemSetting.heightMode === 'ratio') {\n            if (itemSetting.heightMode === 'ratio') {\n                return { height: 'auto', flex: '0 0 auto' };\n            }\n            return { height: 'auto' };\n        }\n        if (((_b = itemSetting.autoProps) === null || _b === void 0 ? void 0 : _b.height) === _types__WEBPACK_IMPORTED_MODULE_1__[\"LayoutItemSizeModes\"].Stretch || itemSetting.heightMode === 'fit') {\n            return { flex: '1 1 auto' };\n        }\n        return { height: bbox.height, flexShrink: 0 };\n    };\n    ColumnItem.prototype.getStyle = function (layoutSetting, isStretch) {\n        var _a, _b;\n        var _c = this.props, index = _c.index, layoutItem = _c.layoutItem, space = _c.space;\n        var _d = this.state, dw = _d.dw, dh = _d.dh, isResizing = _d.isResizing;\n        var bbox = layoutItem.bbox || {};\n        var style = this.calHeight(layoutSetting, bbox);\n        if (isStretch) {\n            style.width = 'auto';\n        }\n        else {\n            style.width = bbox.width;\n        }\n        if (isResizing && (dw || dh)) {\n            style.height = this.initHeight + dh;\n            style.width = this.initWidth + dw;\n        }\n        return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n      margin-top: \", \";\\n      align-self: \", \";\\n      width: \", \";\\n      height: \", \";\\n      flex: \", \";\\n      flex-shrink: \", \";\\n    \"], [\"\\n      margin-top: \", \";\\n      align-self: \", \";\\n      width: \", \";\\n      height: \", \";\\n      flex: \", \";\\n      flex-shrink: \", \";\\n    \"])), index > 0 ? space + \"px\" : 'unset', isStretch ? 'stretch' : (_b = (_a = layoutSetting.style) === null || _a === void 0 ? void 0 : _a.alignSelf) !== null && _b !== void 0 ? _b : 'auto', Object(_utils__WEBPACK_IMPORTED_MODULE_2__[\"getValueOfBBox\"])(style, 'width'), Object(_utils__WEBPACK_IMPORTED_MODULE_2__[\"getValueOfBBox\"])(style, 'height'), style.flex, style.flexShrink);\n    };\n    ColumnItem.prototype.render = function () {\n        var _a, _b;\n        var _c = this.props, layoutId = _c.layoutId, layoutItem = _c.layoutItem, draggable = _c.draggable, resizable = _c.resizable, selectable = _c.selectable, showDefaultTools = _c.showDefaultTools;\n        if (!layoutItem || layoutItem.isPending) {\n            return null;\n        }\n        var layoutSetting = layoutItem.setting || {};\n        var mergedClass = Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"classNames\"])('flexbox-layout-item d-flex');\n        var isStretch = this.isStretchInCrossAxis();\n        var heightMode = (_b = (_a = layoutSetting.autoProps) === null || _a === void 0 ? void 0 : _a.height) !== null && _b !== void 0 ? _b : _types__WEBPACK_IMPORTED_MODULE_1__[\"LayoutItemSizeModes\"].Custom;\n        var keepAspectRatio = layoutSetting.heightMode === 'ratio';\n        var ratio = Object(_utils__WEBPACK_IMPORTED_MODULE_2__[\"parseAspectRatio\"])(layoutSetting.aspectRatio);\n        var oneByOneAnimationProps = Object(_utils__WEBPACK_IMPORTED_MODULE_2__[\"handleOnebyOneAnimation\"])(this.props);\n        return (Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_builder_layout_item__WEBPACK_IMPORTED_MODULE_3__[\"default\"], __assign({ css: this.getStyle(layoutSetting, isStretch), layoutId: layoutId, layoutItemId: layoutItem.id, onResizeStart: this.onResizeStart, onResizing: this.onResizing, onResizeEnd: this.onResizeEnd, left: !isStretch, right: !isStretch, top: false, bottom: heightMode === _types__WEBPACK_IMPORTED_MODULE_1__[\"LayoutItemSizeModes\"].Custom && !keepAspectRatio, draggable: draggable, resizable: resizable, selectable: selectable, showDefaultTools: showDefaultTools, onClick: this.props.onClick, className: mergedClass, forceAspectRatio: keepAspectRatio, aspectRatio: ratio }, oneByOneAnimationProps)));\n    };\n    return ColumnItem;\n}(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].PureComponent));\n\nvar templateObject_1;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWxheW91dHMvbGliL2NvbHVtbi1sYXlvdXQvYnVpbGRlci9sYXlvdXQtaXRlbS50c3guanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qaW11LWxheW91dHMvbGliL2NvbHVtbi1sYXlvdXQvYnVpbGRlci9sYXlvdXQtaXRlbS50c3g/ZDJjZSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiogQGpzeCBqc3ggKi9cbmltcG9ydCB7IFJlYWN0LCBjbGFzc05hbWVzLCBMYXlvdXRJdGVtSnNvbiwgSU1MYXlvdXRJdGVtSnNvbiwgQm91bmRpbmdCb3gsIGpzeCwgY3NzIH0gZnJvbSAnamltdS1jb3JlJztcbmltcG9ydCB7IExheW91dEl0ZW1Qcm9wcywgU3RhdGVUb0xheW91dEl0ZW1Qcm9wcywgTGF5b3V0SXRlbVNpemVNb2RlcyB9IGZyb20gJy4uLy4uL3R5cGVzJztcbmltcG9ydCB7IGdldFZhbHVlT2ZCQm94LCBwYXJzZUFzcGVjdFJhdGlvLCBoYW5kbGVPbmVieU9uZUFuaW1hdGlvbiB9IGZyb20gJy4uLy4uL3V0aWxzJztcbmltcG9ydCBMYXlvdXRJdGVtSW5CdWlsZGVyIGZyb20gJy4uLy4uL2J1aWxkZXIvbGF5b3V0LWl0ZW0nO1xuXG5pbnRlcmZhY2UgT3duUHJvcHMge1xuICBsYXlvdXRJdGVtOiBJTUxheW91dEl0ZW1Kc29uO1xuICBhY3RpdmVJZHM/OiBzdHJpbmc7XG4gIGluZGV4OiBudW1iZXI7XG4gIHNwYWNlOiBudW1iZXI7XG4gIGVkaXRpbmdTZWN0aW9uSWQ/OiBzdHJpbmc7XG4gIGNoaWxkcmVuPzogYW55O1xuICBvblJlc2l6ZVN0YXJ0OiAoaWQ6IHN0cmluZykgPT4gdm9pZDtcbiAgb25SZXNpemluZzogKGlkOiBzdHJpbmcsIHg6IG51bWJlciwgeTogbnVtYmVyLCBkdzogbnVtYmVyLCBkaDogbnVtYmVyKSA9PiB2b2lkO1xuICBvblJlc2l6ZUVuZDogKGlkOiBzdHJpbmcsIHg6IG51bWJlciwgeTogbnVtYmVyLCBkdzogbnVtYmVyLCBkaDogbnVtYmVyLCBsYXlvdXRJdGVtOiBMYXlvdXRJdGVtSnNvbikgPT4gdm9pZDtcbn1cblxuaW50ZXJmYWNlIFN0YXRlIHtcbiAgaXNSZXNpemluZzogYm9vbGVhbjtcbiAgZHc6IG51bWJlcjtcbiAgZGg6IG51bWJlcjtcbn1cblxuZXhwb3J0IGNsYXNzIENvbHVtbkl0ZW0gZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50PExheW91dEl0ZW1Qcm9wcyAmIFN0YXRlVG9MYXlvdXRJdGVtUHJvcHMgJiBPd25Qcm9wcywgU3RhdGU+IHtcbiAgaW5pdFdpZHRoOiBudW1iZXI7XG4gIGluaXRIZWlnaHQ6IG51bWJlcjtcbiAgc3RhdGU6IFN0YXRlID0ge1xuICAgIGlzUmVzaXppbmc6IGZhbHNlLFxuICAgIGR3OiAwLFxuICAgIGRoOiAwLFxuICB9O1xuXG4gIG9uUmVzaXplU3RhcnQgPSAoaWQ6IHN0cmluZywgaW5pdFc6IG51bWJlciwgaW5pdEg6IG51bWJlcikgPT4ge1xuICAgIHRoaXMuaW5pdFdpZHRoID0gaW5pdFc7XG4gICAgdGhpcy5pbml0SGVpZ2h0ID0gaW5pdEg7XG4gICAgdGhpcy5wcm9wcy5vblJlc2l6ZVN0YXJ0KGlkKTtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGlzUmVzaXppbmc6IHRydWUsXG4gICAgfSk7XG4gIH07XG5cbiAgb25SZXNpemluZyA9IChpZDogc3RyaW5nLCB4OiBudW1iZXIsIHk6IG51bWJlciwgZHc6IG51bWJlciwgZGg6IG51bWJlcikgPT4ge1xuICAgIHRoaXMucHJvcHMub25SZXNpemluZyhpZCwgeCwgeSwgZHcsIGRoKTtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGR3LFxuICAgICAgZGgsXG4gICAgICBpc1Jlc2l6aW5nOiB0cnVlLFxuICAgIH0pO1xuICB9O1xuXG4gIG9uUmVzaXplRW5kID0gKGlkOiBzdHJpbmcsIHg6IG51bWJlciwgeTogbnVtYmVyLCBkdzogbnVtYmVyLCBkaDogbnVtYmVyLCBzaGlmdEtleT86IGJvb2xlYW4pID0+IHtcbiAgICBjb25zdCB7IGxheW91dEl0ZW0gfSA9IHRoaXMucHJvcHM7XG4gICAgdGhpcy5wcm9wcy5vblJlc2l6ZUVuZChpZCwgeCwgeSwgZHcsIGRoLCBsYXlvdXRJdGVtKTtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGlzUmVzaXppbmc6IGZhbHNlLFxuICAgICAgZHc6IDAsXG4gICAgICBkaDogMCxcbiAgICB9KTtcbiAgfTtcblxuICBpc1N0cmV0Y2hJbkNyb3NzQXhpcygpIHtcbiAgICBjb25zdCB7IGxheW91dEl0ZW0gfSA9IHRoaXMucHJvcHM7XG4gICAgcmV0dXJuIGxheW91dEl0ZW0uc2V0dGluZz8uYXV0b1Byb3BzPy53aWR0aCAhPT0gTGF5b3V0SXRlbVNpemVNb2Rlcy5DdXN0b207XG4gIH1cblxuICBjYWxIZWlnaHQoaXRlbVNldHRpbmcsIGJib3g6IEJvdW5kaW5nQm94KSB7XG4gICAgaWYgKGl0ZW1TZXR0aW5nLmF1dG9Qcm9wcz8uaGVpZ2h0ID09PSBMYXlvdXRJdGVtU2l6ZU1vZGVzLkF1dG8gfHwgaXRlbVNldHRpbmcuaGVpZ2h0TW9kZSA9PT0gJ3JhdGlvJykge1xuICAgICAgaWYgKGl0ZW1TZXR0aW5nLmhlaWdodE1vZGUgPT09ICdyYXRpbycpIHtcbiAgICAgICAgcmV0dXJuIHsgaGVpZ2h0OiAnYXV0bycsIGZsZXg6ICcwIDAgYXV0bycgfTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7IGhlaWdodDogJ2F1dG8nIH07XG4gICAgfVxuICAgIGlmIChpdGVtU2V0dGluZy5hdXRvUHJvcHM/LmhlaWdodCA9PT0gTGF5b3V0SXRlbVNpemVNb2Rlcy5TdHJldGNoIHx8IGl0ZW1TZXR0aW5nLmhlaWdodE1vZGUgPT09ICdmaXQnKSB7XG4gICAgICByZXR1cm4geyBmbGV4OiAnMSAxIGF1dG8nIH07XG4gICAgfVxuICAgIHJldHVybiB7IGhlaWdodDogYmJveC5oZWlnaHQsIGZsZXhTaHJpbms6IDAgfTtcbiAgfVxuXG4gIGdldFN0eWxlKGxheW91dFNldHRpbmcsIGlzU3RyZXRjaDogYm9vbGVhbikge1xuICAgIGNvbnN0IHsgaW5kZXgsIGxheW91dEl0ZW0sIHNwYWNlIH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IHsgZHcsIGRoLCBpc1Jlc2l6aW5nIH0gPSB0aGlzLnN0YXRlO1xuICAgIGNvbnN0IGJib3ggPSBsYXlvdXRJdGVtLmJib3ggfHwgKHt9IGFzIGFueSk7XG5cbiAgICBjb25zdCBzdHlsZTogYW55ID0gdGhpcy5jYWxIZWlnaHQobGF5b3V0U2V0dGluZywgYmJveCk7XG5cbiAgICBpZiAoaXNTdHJldGNoKSB7XG4gICAgICBzdHlsZS53aWR0aCA9ICdhdXRvJztcbiAgICB9IGVsc2Uge1xuICAgICAgc3R5bGUud2lkdGggPSBiYm94LndpZHRoO1xuICAgIH1cblxuICAgIGlmIChpc1Jlc2l6aW5nICYmIChkdyB8fCBkaCkpIHtcbiAgICAgIHN0eWxlLmhlaWdodCA9IHRoaXMuaW5pdEhlaWdodCArIGRoO1xuICAgICAgc3R5bGUud2lkdGggPSB0aGlzLmluaXRXaWR0aCArIGR3O1xuICAgIH1cblxuICAgIHJldHVybiBjc3NgXG4gICAgICBtYXJnaW4tdG9wOiAke2luZGV4ID4gMCA/IGAke3NwYWNlfXB4YCA6ICd1bnNldCd9O1xuICAgICAgYWxpZ24tc2VsZjogJHtpc1N0cmV0Y2ggPyAnc3RyZXRjaCcgOiBsYXlvdXRTZXR0aW5nLnN0eWxlPy5hbGlnblNlbGYgPz8gJ2F1dG8nfTtcbiAgICAgIHdpZHRoOiAke2dldFZhbHVlT2ZCQm94KHN0eWxlLCAnd2lkdGgnKX07XG4gICAgICBoZWlnaHQ6ICR7Z2V0VmFsdWVPZkJCb3goc3R5bGUsICdoZWlnaHQnKX07XG4gICAgICBmbGV4OiAke3N0eWxlLmZsZXh9O1xuICAgICAgZmxleC1zaHJpbms6ICR7c3R5bGUuZmxleFNocmlua307XG4gICAgYDtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IGxheW91dElkLCBsYXlvdXRJdGVtLCBkcmFnZ2FibGUsIHJlc2l6YWJsZSwgc2VsZWN0YWJsZSwgc2hvd0RlZmF1bHRUb29scyB9ID0gdGhpcy5wcm9wcztcbiAgICBpZiAoIWxheW91dEl0ZW0gfHwgbGF5b3V0SXRlbS5pc1BlbmRpbmcpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBjb25zdCBsYXlvdXRTZXR0aW5nID0gbGF5b3V0SXRlbS5zZXR0aW5nIHx8IHt9O1xuICAgIGNvbnN0IG1lcmdlZENsYXNzID0gY2xhc3NOYW1lcygnZmxleGJveC1sYXlvdXQtaXRlbSBkLWZsZXgnKTtcbiAgICBjb25zdCBpc1N0cmV0Y2ggPSB0aGlzLmlzU3RyZXRjaEluQ3Jvc3NBeGlzKCk7XG4gICAgY29uc3QgaGVpZ2h0TW9kZSA9IGxheW91dFNldHRpbmcuYXV0b1Byb3BzPy5oZWlnaHQgPz8gTGF5b3V0SXRlbVNpemVNb2Rlcy5DdXN0b207XG4gICAgY29uc3Qga2VlcEFzcGVjdFJhdGlvID0gbGF5b3V0U2V0dGluZy5oZWlnaHRNb2RlID09PSAncmF0aW8nO1xuXG4gICAgY29uc3QgcmF0aW8gPSBwYXJzZUFzcGVjdFJhdGlvKGxheW91dFNldHRpbmcuYXNwZWN0UmF0aW8pO1xuICAgIGNvbnN0IG9uZUJ5T25lQW5pbWF0aW9uUHJvcHMgPSBoYW5kbGVPbmVieU9uZUFuaW1hdGlvbih0aGlzLnByb3BzKTtcbiAgICByZXR1cm4gKFxuICAgICAgPExheW91dEl0ZW1JbkJ1aWxkZXJcbiAgICAgICAgY3NzPXt0aGlzLmdldFN0eWxlKGxheW91dFNldHRpbmcsIGlzU3RyZXRjaCl9XG4gICAgICAgIGxheW91dElkPXtsYXlvdXRJZH1cbiAgICAgICAgbGF5b3V0SXRlbUlkPXtsYXlvdXRJdGVtLmlkfVxuICAgICAgICBvblJlc2l6ZVN0YXJ0PXt0aGlzLm9uUmVzaXplU3RhcnR9XG4gICAgICAgIG9uUmVzaXppbmc9e3RoaXMub25SZXNpemluZ31cbiAgICAgICAgb25SZXNpemVFbmQ9e3RoaXMub25SZXNpemVFbmR9XG4gICAgICAgIGxlZnQ9eyFpc1N0cmV0Y2h9XG4gICAgICAgIHJpZ2h0PXshaXNTdHJldGNofVxuICAgICAgICB0b3A9e2ZhbHNlfVxuICAgICAgICBib3R0b209e2hlaWdodE1vZGUgPT09IExheW91dEl0ZW1TaXplTW9kZXMuQ3VzdG9tICYmICFrZWVwQXNwZWN0UmF0aW99XG4gICAgICAgIGRyYWdnYWJsZT17ZHJhZ2dhYmxlfVxuICAgICAgICByZXNpemFibGU9e3Jlc2l6YWJsZX1cbiAgICAgICAgc2VsZWN0YWJsZT17c2VsZWN0YWJsZX1cbiAgICAgICAgc2hvd0RlZmF1bHRUb29scz17c2hvd0RlZmF1bHRUb29sc31cbiAgICAgICAgb25DbGljaz17dGhpcy5wcm9wcy5vbkNsaWNrfVxuICAgICAgICBjbGFzc05hbWU9e21lcmdlZENsYXNzfVxuICAgICAgICBmb3JjZUFzcGVjdFJhdGlvPXtrZWVwQXNwZWN0UmF0aW99XG4gICAgICAgIGFzcGVjdFJhdGlvPXtyYXRpb31cbiAgICAgICAgey4uLm9uZUJ5T25lQW5pbWF0aW9uUHJvcHN9XG4gICAgICAvPlxuICAgICk7XG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBb0JBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQXFGQTtBQW5GQTs7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBUUE7QUFFQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUF1QkE7QUFDQTtBQUFBOzs7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./jimu-layouts/lib/column-layout/builder/layout-item.tsx\n");

/***/ }),

/***/ "./jimu-layouts/lib/column-layout/builder/layout.tsx":
/*!***********************************************************!*\
  !*** ./jimu-layouts/lib/column-layout/builder/layout.tsx ***!
  \***********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jimu_core__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ \"jimu-ui\");\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jimu_ui__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var jimu_for_builder__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-for-builder */ \"jimu-for-builder\");\n/* harmony import */ var jimu_for_builder__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jimu_for_builder__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-layouts/layout-runtime */ \"jimu-layouts/layout-runtime\");\n/* harmony import */ var jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _builder_interactive_droparea_hook__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../builder/interactive/droparea-hook */ \"./jimu-layouts/lib/builder/interactive/droparea-hook.tsx\");\n/* harmony import */ var _builder_common_layout_actions__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../builder/common-layout-actions */ \"./jimu-layouts/lib/builder/common-layout-actions.ts\");\n/* harmony import */ var svg_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! svg.js */ \"./node_modules/svg.js/dist/svg.js\");\n/* harmony import */ var svg_js__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(svg_js__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _dnd_helper__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./dnd-helper */ \"./jimu-layouts/lib/column-layout/builder/dnd-helper.ts\");\n/* harmony import */ var _default_setting__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../default-setting */ \"./jimu-layouts/lib/column-layout/default-setting.ts\");\n/* harmony import */ var _layout_item__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./layout-item */ \"./jimu-layouts/lib/column-layout/builder/layout-item.tsx\");\nvar __makeTemplateObject = (undefined && undefined.__makeTemplateObject) || function (cooked, raw) {\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n    return cooked;\n};\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/** @jsx jsx */\n\n\n\n\n\n\n\n\n\n\nvar dropareaStyle = Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n  position: absolute;\\n  left: 0;\\n  bottom: 0;\\n  top: 0;\\n  right: 0;\\n  background: transparent;\\n\"], [\"\\n  position: absolute;\\n  left: 0;\\n  bottom: 0;\\n  top: 0;\\n  right: 0;\\n  background: transparent;\\n\"])));\nvar guideOverlay = Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_2 || (templateObject_2 = __makeTemplateObject([\"\\n  \", \";\\n  z-index: 20;\\n  pointer-events: none;\\n\"], [\"\\n  \", \";\\n  z-index: 20;\\n  pointer-events: none;\\n\"])), dropareaStyle);\nvar dropIndicatorSize = 10;\nvar Layout = /** @class */ (function (_super) {\n    __extends(Layout, _super);\n    function Layout(props) {\n        var _this = _super.call(this, props) || this;\n        _this.state = {\n            isDragover: false,\n        };\n        _this.onItemResizing = function () { };\n        jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_3__[\"utils\"].autoBindHandlers(_this, [\n            'onItemResizeStart',\n            'onItemResizing',\n            'onItemResizeEnd',\n            'onDrop',\n            'onPaste',\n            'onDragOver',\n            'onDragEnter',\n            'onDragLeave',\n            'toggleDragoverEffect',\n        ]);\n        return _this;\n    }\n    Layout.prototype.componentDidMount = function () {\n        this.guideDragOverDraw = svg_js__WEBPACK_IMPORTED_MODULE_6__(this.guideDragOverRef);\n    };\n    Layout.prototype.onItemResizeStart = function (id) {\n        var layout = this.props.layout;\n        this.domRect = this.ref.getBoundingClientRect();\n        var draggingChild = this.ref.querySelector(\"div.exb-rnd[data-layoutid=\\\"\" + layout.id + \"\\\"][data-layoutitemid=\\\"\" + id + \"\\\"]\");\n        var rect = draggingChild.getBoundingClientRect();\n        this.resizingRect = jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_3__[\"utils\"].relativeClientRect(rect, this.domRect);\n    };\n    Layout.prototype.onItemResizeEnd = function (id, x, y, dw, dh, layoutItem) {\n        var layout = this.props.layout;\n        var bbox = layout.content[id].bbox;\n        var width;\n        if (jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_3__[\"utils\"].isPercentage(bbox.width)) {\n            width = ((this.resizingRect.width + dw) * 100 / this.domRect.width).toFixed(4) + \"%\";\n        }\n        else {\n            width = Math.round(this.resizingRect.width + dw) + \"px\";\n        }\n        var newPos = {\n            width: width,\n            height: Math.round(this.resizingRect.height + dh),\n        };\n        this.childRects = [];\n        this.domRect = null;\n        var appConfigAction = Object(jimu_for_builder__WEBPACK_IMPORTED_MODULE_2__[\"getAppConfigAction\"])();\n        appConfigAction\n            .editLayoutItemBBox({\n            layoutId: this.props.layout.id,\n            layoutItemId: id,\n        }, newPos)\n            .exec();\n    };\n    Layout.prototype.onDragOver = function (draggingItem, draggingElement, containerRect, itemRect) {\n        var rect = itemRect;\n        if (this.childRects && this.childRects.length > 0) {\n            var _a = Object(_dnd_helper__WEBPACK_IMPORTED_MODULE_7__[\"calInsertPositionForColumn\"])(containerRect, rect, this.childRects), insertY = _a.insertY, refId = _a.refId;\n            this.referenceId = refId;\n            rect = {\n                top: insertY - dropIndicatorSize / 2 + this.ref.scrollTop,\n                width: containerRect.width - dropIndicatorSize,\n                left: dropIndicatorSize / 2,\n                height: dropIndicatorSize,\n            };\n        }\n        else {\n            rect = {\n                top: containerRect.height / 2 - dropIndicatorSize / 2,\n                width: containerRect.width - dropIndicatorSize,\n                left: dropIndicatorSize / 2,\n                height: dropIndicatorSize,\n            };\n        }\n        if (!this.dropArea) {\n            this.dropArea = this.guideDragOverDraw\n                .rect(rect.width, rect.height)\n                .fill(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"polished\"].rgba(this.builderTheme.colors.palette.primary[700], 1))\n                .stroke('none')\n                .attr({\n                x: rect.left,\n                y: rect.top,\n            });\n        }\n        else {\n            this.dropArea.move(rect.left, rect.top).size(rect.width, rect.height);\n            if (!this.dropArea.visible()) {\n                this.dropArea.show();\n            }\n        }\n    };\n    Layout.prototype.toggleDragoverEffect = function (value) {\n        if (value) {\n            this.referenceId = null;\n            this.collectBounds(null);\n        }\n        this.setState({\n            isDragover: value,\n        });\n    };\n    Layout.prototype.onDragEnter = function () { };\n    Layout.prototype.onDragLeave = function () { };\n    Layout.prototype.onDrop = function (draggingItem, containerRect, itemRect) {\n        if (this.dropArea) {\n            this.dropArea.hide();\n        }\n        var layout = this.props.layout;\n        var layoutInfo = {\n            layoutId: layout.id,\n        };\n        var insertIndex = 0;\n        if (this.referenceId) {\n            insertIndex = layout.order.indexOf(this.referenceId);\n        }\n        else if (layout.order) {\n            insertIndex = layout.order.length;\n        }\n        var appConfigAction = Object(jimu_for_builder__WEBPACK_IMPORTED_MODULE_2__[\"getAppConfigAction\"])();\n        Object(_builder_common_layout_actions__WEBPACK_IMPORTED_MODULE_5__[\"addItemToLayout\"])(appConfigAction.appConfig, draggingItem, layoutInfo, containerRect, itemRect, insertIndex).then(function (result) {\n            var layoutInfo = result.layoutInfo, updatedAppConfig = result.updatedAppConfig;\n            // only width and height are necessary\n            var layoutId = layoutInfo.layoutId, layoutItemId = layoutInfo.layoutItemId;\n            var bbox = updatedAppConfig.layouts[layoutId].content[layoutItemId].bbox;\n            bbox = bbox.without('left').without('top').without('right').without('bottom');\n            var appConfig = updatedAppConfig.setIn(['layouts', layoutId, 'content', layoutItemId, 'bbox'], bbox);\n            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"getAppStore\"])().dispatch(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"appActions\"].layoutChanged(appConfig, layoutInfo));\n        });\n        this.referenceId = null;\n        this.childRects = [];\n    };\n    Layout.prototype.collectBounds = function (id) {\n        var _this = this;\n        var layout = this.props.layout;\n        this.childRects = [];\n        this.domRect = this.ref.getBoundingClientRect();\n        var draggableChildren = this.ref.parentNode.querySelectorAll(\"div[data-layoutid=\\\"\" + layout.id + \"\\\"] > .trail-container > div.exb-rnd\");\n        if (draggableChildren && draggableChildren.length > 0) {\n            draggableChildren.forEach(function (node) {\n                var itemId = node.getAttribute('data-layoutitemid');\n                if (id !== itemId && layout.order.indexOf(itemId) >= 0) {\n                    var rect = jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_3__[\"utils\"].relativeClientRect(node.getBoundingClientRect(), _this.domRect);\n                    rect.id = itemId;\n                    _this.childRects.push(rect);\n                }\n            });\n        }\n        return this.childRects.sort(function (a, b) { return a.top - b.top; });\n    };\n    Layout.prototype.createItem = function (itemId, index, layoutSetting) {\n        var _a = this.props, layout = _a.layout, itemDraggable = _a.itemDraggable, itemResizable = _a.itemResizable, itemSelectable = _a.itemSelectable, showDefaultTools = _a.showDefaultTools;\n        return (Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_layout_item__WEBPACK_IMPORTED_MODULE_9__[\"ColumnItem\"], { key: itemId, index: index, space: layoutSetting.space, layoutId: layout.id, layoutItemId: itemId, layoutItem: layout.content[itemId], draggable: itemDraggable, resizable: itemResizable, selectable: itemSelectable, showDefaultTools: showDefaultTools, onResizeStart: this.onItemResizeStart, onResizing: this.onItemResizing, onResizeEnd: this.onItemResizeEnd }));\n    };\n    Layout.prototype.render = function () {\n        var _this = this;\n        var _a = this.props, layout = _a.layout, className = _a.className;\n        var content = layout.order || [];\n        var layoutSetting = Object.assign({}, _default_setting__WEBPACK_IMPORTED_MODULE_8__[\"DEFAULT_COLUMN_LAYOUT_SETTING\"], layout.setting);\n        return (Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_3__[\"PageContext\"].Consumer, null, function (pageContext) {\n            _this.builderTheme = pageContext.builderTheme;\n            _this.theme = pageContext.theme;\n            var mergedStyle = {\n                position: 'relative',\n                minWidth: layoutSetting.min,\n                padding: jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"styleUtils\"].toCSSPadding(layoutSetting.padding),\n            };\n            if (!mergedStyle.border && pageContext.isDesignMode) {\n                mergedStyle.border = \"1px dashed \" + jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"polished\"].rgba(_this.builderTheme.colors.palette.dark[300], 0.3);\n            }\n            var outClass = Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"classNames\"])('layout column-layout', className);\n            var guideVisibleStyle = {\n                display: _this.state.isDragover ? 'block' : 'none',\n            };\n            return (Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: outClass, ref: function (el) { return (_this.ref = el); }, style: mergedStyle, \"data-layoutid\": layout.id },\n                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"OneByOneAnimation\"], { enableScroll: true, className: \"trail-container d-flex flex-column w-100\" },\n                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_builder_interactive_droparea_hook__WEBPACK_IMPORTED_MODULE_4__[\"DropArea\"], { css: dropareaStyle, layouts: _this.props.layouts, highlightDragover: true, onDragEnter: _this.onDragEnter, onDragLeave: _this.onDragLeave, onDragOver: _this.onDragOver, onDrop: _this.onDrop, onToggleDragoverEffect: _this.toggleDragoverEffect }),\n                    content.map(function (layoutItem, index) { return _this.createItem(layoutItem, index, layoutSetting); })),\n                content.length === 0 && _this.props.children,\n                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { css: guideOverlay, style: guideVisibleStyle, ref: function (el) { return (_this.guideDragOverRef = el); } })));\n        }));\n    };\n    return Layout;\n}(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].PureComponent));\n/* harmony default export */ __webpack_exports__[\"default\"] = (jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"ReactRedux\"].connect(jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_3__[\"utils\"].mapStateToLayoutProps)(Layout));\nvar templateObject_1, templateObject_2;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWxheW91dHMvbGliL2NvbHVtbi1sYXlvdXQvYnVpbGRlci9sYXlvdXQudHN4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vamltdS1sYXlvdXRzL2xpYi9jb2x1bW4tbGF5b3V0L2J1aWxkZXIvbGF5b3V0LnRzeD8wNDliIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKiBAanN4IGpzeCAqL1xuaW1wb3J0IHtcbiAgUmVhY3QsXG4gIFJlYWN0UmVkdXgsXG4gIGNsYXNzTmFtZXMsXG4gIHBvbGlzaGVkLFxuICBqc3gsXG4gIGNzcyxcbiAgTGF5b3V0SXRlbUpzb24sXG4gIExheW91dEl0ZW1Db25zdHJ1Y3RvclByb3BzLFxuICBnZXRBcHBTdG9yZSxcbiAgYXBwQWN0aW9ucyxcbiAgSU1UaGVtZVZhcmlhYmxlcyxcbiAgT25lQnlPbmVBbmltYXRpb24sXG59IGZyb20gJ2ppbXUtY29yZSc7XG5pbXBvcnQgeyBzdHlsZVV0aWxzIH0gZnJvbSAnamltdS11aSc7XG5pbXBvcnQgeyBnZXRBcHBDb25maWdBY3Rpb24gfSBmcm9tICdqaW11LWZvci1idWlsZGVyJztcbmltcG9ydCB7IERyb3BIYW5kbGVycyB9IGZyb20gJy4uLy4uL2J1aWxkZXIvdHlwZXMnO1xuaW1wb3J0IHtcbiAgTGF5b3V0UHJvcHMsXG4gIFN0YXRlVG9MYXlvdXRQcm9wcyxcbiAgdXRpbHMsXG4gIFBhZ2VDb250ZXh0LFxuICBQYWdlQ29udGV4dFByb3BzXG59IGZyb20gJ2ppbXUtbGF5b3V0cy9sYXlvdXQtcnVudGltZSc7XG5pbXBvcnQgeyBEcm9wQXJlYSB9IGZyb20gJy4uLy4uL2J1aWxkZXIvaW50ZXJhY3RpdmUvZHJvcGFyZWEtaG9vayc7XG5pbXBvcnQgeyBhZGRJdGVtVG9MYXlvdXQgfSBmcm9tICcuLi8uLi9idWlsZGVyL2NvbW1vbi1sYXlvdXQtYWN0aW9ucyc7XG5pbXBvcnQgKiBhcyBTVkcgZnJvbSAnc3ZnLmpzJztcbmltcG9ydCB7IGNhbEluc2VydFBvc2l0aW9uRm9yQ29sdW1uIH0gZnJvbSAnLi9kbmQtaGVscGVyJztcbmltcG9ydCB7IERFRkFVTFRfQ09MVU1OX0xBWU9VVF9TRVRUSU5HIH0gZnJvbSAnLi4vZGVmYXVsdC1zZXR0aW5nJztcbmltcG9ydCB7IENvbHVtbkl0ZW0gfSBmcm9tICcuL2xheW91dC1pdGVtJztcblxuY29uc3QgZHJvcGFyZWFTdHlsZSA9IGNzc2BcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICBsZWZ0OiAwO1xuICBib3R0b206IDA7XG4gIHRvcDogMDtcbiAgcmlnaHQ6IDA7XG4gIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xuYDtcblxuY29uc3QgZ3VpZGVPdmVybGF5ID0gY3NzYFxuICAke2Ryb3BhcmVhU3R5bGV9O1xuICB6LWluZGV4OiAyMDtcbiAgcG9pbnRlci1ldmVudHM6IG5vbmU7XG5gO1xuXG5jb25zdCBkcm9wSW5kaWNhdG9yU2l6ZSA9IDEwO1xuXG5pbnRlcmZhY2UgU3RhdGUge1xuICBpc0RyYWdvdmVyOiBib29sZWFuO1xufVxuXG5jbGFzcyBMYXlvdXQgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50PExheW91dFByb3BzICYgU3RhdGVUb0xheW91dFByb3BzLCBTdGF0ZT4gaW1wbGVtZW50cyBEcm9wSGFuZGxlcnMge1xuICByZWY6IEhUTUxFbGVtZW50O1xuICBndWlkZURyYWdPdmVyUmVmOiBIVE1MRWxlbWVudDtcbiAgZ3VpZGVEcmFnT3ZlckRyYXc6IFNWRy5Eb2M7XG4gIGRyb3BBcmVhOiBTVkcuUmVjdDtcbiAgLy8gZHJhZ0VudGVyQXJlYTogU1ZHLlJlY3Q7XG4gIGJvdW5kaW5nUmVjdDogQ2xpZW50UmVjdDtcbiAgaXNEcmFnZ2luZzogYm9vbGVhbjtcbiAgLy8gY2hpbGRyZW5SZWY6IHsgW2tleTogc3RyaW5nXTogUmVhY3QuUmVmT2JqZWN0PEhUTUxEaXZFbGVtZW50PiB9O1xuICBjaGlsZFJlY3RzOiBBcnJheTxDbGllbnRSZWN0ICYgeyBpZDogc3RyaW5nIH0+O1xuICBkb21SZWN0OiBDbGllbnRSZWN0O1xuICByZXNpemluZ1JlY3Q6IENsaWVudFJlY3Q7XG4gIHJlZmVyZW5jZUlkOiBzdHJpbmc7XG5cbiAgLy8gcGFnZSBlbnZcbiAgdGhlbWU6IElNVGhlbWVWYXJpYWJsZXM7XG4gIGJ1aWxkZXJUaGVtZTogSU1UaGVtZVZhcmlhYmxlcztcblxuICBzdGF0ZTogU3RhdGUgPSB7XG4gICAgaXNEcmFnb3ZlcjogZmFsc2UsXG4gIH07XG5cbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdXRpbHMuYXV0b0JpbmRIYW5kbGVycyh0aGlzLCBbXG4gICAgICAnb25JdGVtUmVzaXplU3RhcnQnLFxuICAgICAgJ29uSXRlbVJlc2l6aW5nJyxcbiAgICAgICdvbkl0ZW1SZXNpemVFbmQnLFxuICAgICAgJ29uRHJvcCcsXG4gICAgICAnb25QYXN0ZScsXG4gICAgICAnb25EcmFnT3ZlcicsXG4gICAgICAnb25EcmFnRW50ZXInLFxuICAgICAgJ29uRHJhZ0xlYXZlJyxcbiAgICAgICd0b2dnbGVEcmFnb3ZlckVmZmVjdCcsXG4gICAgXSk7XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB0aGlzLmd1aWRlRHJhZ092ZXJEcmF3ID0gU1ZHKHRoaXMuZ3VpZGVEcmFnT3ZlclJlZik7XG4gIH1cblxuICBvbkl0ZW1SZXNpemVTdGFydChpZDogc3RyaW5nKSB7XG4gICAgY29uc3QgeyBsYXlvdXQgfSA9IHRoaXMucHJvcHM7XG4gICAgdGhpcy5kb21SZWN0ID0gdGhpcy5yZWYuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgY29uc3QgZHJhZ2dpbmdDaGlsZCA9IHRoaXMucmVmLnF1ZXJ5U2VsZWN0b3IoXG4gICAgICBgZGl2LmV4Yi1ybmRbZGF0YS1sYXlvdXRpZD1cIiR7bGF5b3V0LmlkfVwiXVtkYXRhLWxheW91dGl0ZW1pZD1cIiR7aWR9XCJdYFxuICAgICk7XG4gICAgY29uc3QgcmVjdCA9IGRyYWdnaW5nQ2hpbGQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgdGhpcy5yZXNpemluZ1JlY3QgPSB1dGlscy5yZWxhdGl2ZUNsaWVudFJlY3QocmVjdCwgdGhpcy5kb21SZWN0KTtcbiAgfVxuXG4gIG9uSXRlbVJlc2l6aW5nID0gKCkgPT4ge307XG5cbiAgb25JdGVtUmVzaXplRW5kKGlkOiBzdHJpbmcsIHg6IG51bWJlciwgeTogbnVtYmVyLCBkdzogbnVtYmVyLCBkaDogbnVtYmVyLCBsYXlvdXRJdGVtOiBMYXlvdXRJdGVtSnNvbikge1xuICAgIGNvbnN0IHsgbGF5b3V0IH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IGJib3ggPSBsYXlvdXQuY29udGVudFtpZF0uYmJveDtcbiAgICBsZXQgd2lkdGg7XG4gICAgaWYgKHV0aWxzLmlzUGVyY2VudGFnZShiYm94LndpZHRoKSkge1xuICAgICAgd2lkdGggPSBgJHsoKHRoaXMucmVzaXppbmdSZWN0LndpZHRoICsgZHcpICogMTAwIC8gdGhpcy5kb21SZWN0LndpZHRoKS50b0ZpeGVkKDQpfSVgO1xuICAgIH0gZWxzZSB7XG4gICAgICB3aWR0aCA9IGAke01hdGgucm91bmQodGhpcy5yZXNpemluZ1JlY3Qud2lkdGggKyBkdyl9cHhgO1xuICAgIH1cbiAgICBjb25zdCBuZXdQb3MgPSB7XG4gICAgICB3aWR0aCxcbiAgICAgIGhlaWdodDogTWF0aC5yb3VuZCh0aGlzLnJlc2l6aW5nUmVjdC5oZWlnaHQgKyBkaCksXG4gICAgfTtcbiAgICB0aGlzLmNoaWxkUmVjdHMgPSBbXTtcbiAgICB0aGlzLmRvbVJlY3QgPSBudWxsO1xuICAgIGNvbnN0IGFwcENvbmZpZ0FjdGlvbiA9IGdldEFwcENvbmZpZ0FjdGlvbigpO1xuICAgIGFwcENvbmZpZ0FjdGlvblxuICAgICAgLmVkaXRMYXlvdXRJdGVtQkJveChcbiAgICAgICAge1xuICAgICAgICAgIGxheW91dElkOiB0aGlzLnByb3BzLmxheW91dC5pZCxcbiAgICAgICAgICBsYXlvdXRJdGVtSWQ6IGlkLFxuICAgICAgICB9LFxuICAgICAgICBuZXdQb3NcbiAgICAgIClcbiAgICAgIC5leGVjKCk7XG4gIH1cblxuICBvbkRyYWdPdmVyKFxuICAgIGRyYWdnaW5nSXRlbTogTGF5b3V0SXRlbUNvbnN0cnVjdG9yUHJvcHMsXG4gICAgZHJhZ2dpbmdFbGVtZW50OiBIVE1MRWxlbWVudCxcbiAgICBjb250YWluZXJSZWN0OiBQYXJ0aWFsPENsaWVudFJlY3Q+LFxuICAgIGl0ZW1SZWN0OiBQYXJ0aWFsPENsaWVudFJlY3Q+XG4gICkge1xuICAgIGxldCByZWN0ID0gaXRlbVJlY3Q7XG5cbiAgICBpZiAodGhpcy5jaGlsZFJlY3RzICYmIHRoaXMuY2hpbGRSZWN0cy5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCB7IGluc2VydFksIHJlZklkIH0gPSBjYWxJbnNlcnRQb3NpdGlvbkZvckNvbHVtbihjb250YWluZXJSZWN0IGFzIENsaWVudFJlY3QsIHJlY3QsIHRoaXMuY2hpbGRSZWN0cyk7XG4gICAgICB0aGlzLnJlZmVyZW5jZUlkID0gcmVmSWQ7XG4gICAgICByZWN0ID0ge1xuICAgICAgICB0b3A6IGluc2VydFkgLSBkcm9wSW5kaWNhdG9yU2l6ZSAvIDIgKyB0aGlzLnJlZi5zY3JvbGxUb3AsXG4gICAgICAgIHdpZHRoOiBjb250YWluZXJSZWN0LndpZHRoIC0gZHJvcEluZGljYXRvclNpemUsXG4gICAgICAgIGxlZnQ6IGRyb3BJbmRpY2F0b3JTaXplIC8gMixcbiAgICAgICAgaGVpZ2h0OiBkcm9wSW5kaWNhdG9yU2l6ZSxcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlY3QgPSB7XG4gICAgICAgIHRvcDogY29udGFpbmVyUmVjdC5oZWlnaHQgLyAyIC0gZHJvcEluZGljYXRvclNpemUgLyAyLFxuICAgICAgICB3aWR0aDogY29udGFpbmVyUmVjdC53aWR0aCAtIGRyb3BJbmRpY2F0b3JTaXplLFxuICAgICAgICBsZWZ0OiBkcm9wSW5kaWNhdG9yU2l6ZSAvIDIsXG4gICAgICAgIGhlaWdodDogZHJvcEluZGljYXRvclNpemUsXG4gICAgICB9O1xuICAgIH1cblxuICAgIGlmICghdGhpcy5kcm9wQXJlYSkge1xuICAgICAgdGhpcy5kcm9wQXJlYSA9IHRoaXMuZ3VpZGVEcmFnT3ZlckRyYXdcbiAgICAgICAgLnJlY3QocmVjdC53aWR0aCwgcmVjdC5oZWlnaHQpXG4gICAgICAgIC5maWxsKHBvbGlzaGVkLnJnYmEodGhpcy5idWlsZGVyVGhlbWUuY29sb3JzLnBhbGV0dGUucHJpbWFyeVs3MDBdLCAxKSlcbiAgICAgICAgLnN0cm9rZSgnbm9uZScpXG4gICAgICAgIC5hdHRyKHtcbiAgICAgICAgICB4OiByZWN0LmxlZnQsXG4gICAgICAgICAgeTogcmVjdC50b3AsXG4gICAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmRyb3BBcmVhLm1vdmUocmVjdC5sZWZ0LCByZWN0LnRvcCkuc2l6ZShyZWN0LndpZHRoLCByZWN0LmhlaWdodCk7XG4gICAgICBpZiAoIXRoaXMuZHJvcEFyZWEudmlzaWJsZSgpKSB7XG4gICAgICAgIHRoaXMuZHJvcEFyZWEuc2hvdygpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHRvZ2dsZURyYWdvdmVyRWZmZWN0KHZhbHVlOiBib29sZWFuKSB7XG4gICAgaWYgKHZhbHVlKSB7XG4gICAgICB0aGlzLnJlZmVyZW5jZUlkID0gbnVsbDtcbiAgICAgIHRoaXMuY29sbGVjdEJvdW5kcyhudWxsKTtcbiAgICB9XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBpc0RyYWdvdmVyOiB2YWx1ZSxcbiAgICB9KTtcbiAgfVxuXG4gIG9uRHJhZ0VudGVyKCkge31cblxuICBvbkRyYWdMZWF2ZSgpIHt9XG5cbiAgb25Ecm9wKGRyYWdnaW5nSXRlbTogTGF5b3V0SXRlbUNvbnN0cnVjdG9yUHJvcHMsIGNvbnRhaW5lclJlY3Q6IENsaWVudFJlY3QsIGl0ZW1SZWN0OiBDbGllbnRSZWN0KSB7XG4gICAgaWYgKHRoaXMuZHJvcEFyZWEpIHtcbiAgICAgIHRoaXMuZHJvcEFyZWEuaGlkZSgpO1xuICAgIH1cbiAgICBjb25zdCB7IGxheW91dCB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCBsYXlvdXRJbmZvID0ge1xuICAgICAgbGF5b3V0SWQ6IGxheW91dC5pZCxcbiAgICB9O1xuICAgIGxldCBpbnNlcnRJbmRleCA9IDA7XG4gICAgaWYgKHRoaXMucmVmZXJlbmNlSWQpIHtcbiAgICAgIGluc2VydEluZGV4ID0gbGF5b3V0Lm9yZGVyLmluZGV4T2YodGhpcy5yZWZlcmVuY2VJZCk7XG4gICAgfSBlbHNlIGlmIChsYXlvdXQub3JkZXIpIHtcbiAgICAgIGluc2VydEluZGV4ID0gbGF5b3V0Lm9yZGVyLmxlbmd0aDtcbiAgICB9XG5cbiAgICBjb25zdCBhcHBDb25maWdBY3Rpb24gPSBnZXRBcHBDb25maWdBY3Rpb24oKTtcbiAgICBhZGRJdGVtVG9MYXlvdXQoYXBwQ29uZmlnQWN0aW9uLmFwcENvbmZpZywgZHJhZ2dpbmdJdGVtLCBsYXlvdXRJbmZvLCBjb250YWluZXJSZWN0LCBpdGVtUmVjdCwgaW5zZXJ0SW5kZXgpLnRoZW4oXG4gICAgICAocmVzdWx0KSA9PiB7XG4gICAgICAgIGNvbnN0IHsgbGF5b3V0SW5mbywgdXBkYXRlZEFwcENvbmZpZyB9ID0gcmVzdWx0O1xuICAgICAgICAvLyBvbmx5IHdpZHRoIGFuZCBoZWlnaHQgYXJlIG5lY2Vzc2FyeVxuICAgICAgICBjb25zdCB7IGxheW91dElkLCBsYXlvdXRJdGVtSWQgfSA9IGxheW91dEluZm87XG4gICAgICAgIGxldCBiYm94ID0gdXBkYXRlZEFwcENvbmZpZy5sYXlvdXRzW2xheW91dElkXS5jb250ZW50W2xheW91dEl0ZW1JZF0uYmJveDtcbiAgICAgICAgYmJveCA9IGJib3gud2l0aG91dCgnbGVmdCcpLndpdGhvdXQoJ3RvcCcpLndpdGhvdXQoJ3JpZ2h0Jykud2l0aG91dCgnYm90dG9tJyk7XG4gICAgICAgIGNvbnN0IGFwcENvbmZpZyA9IHVwZGF0ZWRBcHBDb25maWcuc2V0SW4oWydsYXlvdXRzJywgbGF5b3V0SWQsICdjb250ZW50JywgbGF5b3V0SXRlbUlkLCAnYmJveCddLCBiYm94KTtcbiAgICAgICAgZ2V0QXBwU3RvcmUoKS5kaXNwYXRjaChhcHBBY3Rpb25zLmxheW91dENoYW5nZWQoYXBwQ29uZmlnLCBsYXlvdXRJbmZvKSk7XG4gICAgICB9XG4gICAgKTtcbiAgICB0aGlzLnJlZmVyZW5jZUlkID0gbnVsbDtcbiAgICB0aGlzLmNoaWxkUmVjdHMgPSBbXTtcbiAgfVxuXG4gIGNvbGxlY3RCb3VuZHMoaWQ6IHN0cmluZykge1xuICAgIGNvbnN0IHsgbGF5b3V0IH0gPSB0aGlzLnByb3BzO1xuICAgIHRoaXMuY2hpbGRSZWN0cyA9IFtdO1xuICAgIHRoaXMuZG9tUmVjdCA9IHRoaXMucmVmLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGNvbnN0IGRyYWdnYWJsZUNoaWxkcmVuID0gdGhpcy5yZWYucGFyZW50Tm9kZS5xdWVyeVNlbGVjdG9yQWxsKGBkaXZbZGF0YS1sYXlvdXRpZD1cIiR7bGF5b3V0LmlkfVwiXSA+IC50cmFpbC1jb250YWluZXIgPiBkaXYuZXhiLXJuZGApO1xuICAgIGlmIChkcmFnZ2FibGVDaGlsZHJlbiAmJiBkcmFnZ2FibGVDaGlsZHJlbi5sZW5ndGggPiAwKSB7XG4gICAgICBkcmFnZ2FibGVDaGlsZHJlbi5mb3JFYWNoKChub2RlKSA9PiB7XG4gICAgICAgIGNvbnN0IGl0ZW1JZCA9IG5vZGUuZ2V0QXR0cmlidXRlKCdkYXRhLWxheW91dGl0ZW1pZCcpO1xuICAgICAgICBpZiAoaWQgIT09IGl0ZW1JZCAmJiBsYXlvdXQub3JkZXIuaW5kZXhPZihpdGVtSWQpID49IDApIHtcbiAgICAgICAgICBjb25zdCByZWN0ID0gdXRpbHMucmVsYXRpdmVDbGllbnRSZWN0KG5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksIHRoaXMuZG9tUmVjdCk7XG4gICAgICAgICAgcmVjdC5pZCA9IGl0ZW1JZDtcbiAgICAgICAgICB0aGlzLmNoaWxkUmVjdHMucHVzaChyZWN0KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuY2hpbGRSZWN0cy5zb3J0KChhLCBiKSA9PiBhLnRvcCAtIGIudG9wKTtcbiAgfVxuXG4gIGNyZWF0ZUl0ZW0oaXRlbUlkOiBzdHJpbmcsIGluZGV4OiBudW1iZXIsIGxheW91dFNldHRpbmcpIHtcbiAgICBjb25zdCB7IGxheW91dCwgaXRlbURyYWdnYWJsZSwgaXRlbVJlc2l6YWJsZSwgaXRlbVNlbGVjdGFibGUsIHNob3dEZWZhdWx0VG9vbHMgfSA9IHRoaXMucHJvcHM7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPENvbHVtbkl0ZW1cbiAgICAgICAga2V5PXtpdGVtSWR9XG4gICAgICAgIGluZGV4PXtpbmRleH1cbiAgICAgICAgc3BhY2U9e2xheW91dFNldHRpbmcuc3BhY2V9XG4gICAgICAgIGxheW91dElkPXtsYXlvdXQuaWR9XG4gICAgICAgIGxheW91dEl0ZW1JZD17aXRlbUlkfVxuICAgICAgICBsYXlvdXRJdGVtPXtsYXlvdXQuY29udGVudFtpdGVtSWRdfVxuICAgICAgICBkcmFnZ2FibGU9e2l0ZW1EcmFnZ2FibGV9XG4gICAgICAgIHJlc2l6YWJsZT17aXRlbVJlc2l6YWJsZX1cbiAgICAgICAgc2VsZWN0YWJsZT17aXRlbVNlbGVjdGFibGV9XG4gICAgICAgIHNob3dEZWZhdWx0VG9vbHM9e3Nob3dEZWZhdWx0VG9vbHN9XG4gICAgICAgIG9uUmVzaXplU3RhcnQ9e3RoaXMub25JdGVtUmVzaXplU3RhcnR9XG4gICAgICAgIG9uUmVzaXppbmc9e3RoaXMub25JdGVtUmVzaXppbmd9XG4gICAgICAgIG9uUmVzaXplRW5kPXt0aGlzLm9uSXRlbVJlc2l6ZUVuZH1cbiAgICAgIC8+XG4gICAgKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IGxheW91dCwgY2xhc3NOYW1lIH0gPSB0aGlzLnByb3BzO1xuXG4gICAgY29uc3QgY29udGVudCA9IGxheW91dC5vcmRlciB8fCBbXTtcbiAgICBjb25zdCBsYXlvdXRTZXR0aW5nID0gT2JqZWN0LmFzc2lnbih7fSwgREVGQVVMVF9DT0xVTU5fTEFZT1VUX1NFVFRJTkcsIGxheW91dC5zZXR0aW5nKTtcblxuICAgIHJldHVybiAoXG4gICAgICA8UGFnZUNvbnRleHQuQ29uc3VtZXI+XG4gICAgICAgIHsocGFnZUNvbnRleHQ6IFBhZ2VDb250ZXh0UHJvcHMpID0+IHtcbiAgICAgICAgICB0aGlzLmJ1aWxkZXJUaGVtZSA9IHBhZ2VDb250ZXh0LmJ1aWxkZXJUaGVtZTtcbiAgICAgICAgICB0aGlzLnRoZW1lID0gcGFnZUNvbnRleHQudGhlbWU7XG5cbiAgICAgICAgICBjb25zdCBtZXJnZWRTdHlsZTogYW55ID0ge1xuICAgICAgICAgICAgcG9zaXRpb246ICdyZWxhdGl2ZScsXG4gICAgICAgICAgICBtaW5XaWR0aDogbGF5b3V0U2V0dGluZy5taW4sXG4gICAgICAgICAgICBwYWRkaW5nOiBzdHlsZVV0aWxzLnRvQ1NTUGFkZGluZyhsYXlvdXRTZXR0aW5nLnBhZGRpbmcpLFxuICAgICAgICAgIH07XG4gICAgICAgICAgaWYgKCFtZXJnZWRTdHlsZS5ib3JkZXIgJiYgcGFnZUNvbnRleHQuaXNEZXNpZ25Nb2RlKSB7XG4gICAgICAgICAgICBtZXJnZWRTdHlsZS5ib3JkZXIgPSBgMXB4IGRhc2hlZCAke3BvbGlzaGVkLnJnYmEodGhpcy5idWlsZGVyVGhlbWUuY29sb3JzLnBhbGV0dGUuZGFya1szMDBdLCAwLjMpfWA7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IG91dENsYXNzID0gY2xhc3NOYW1lcygnbGF5b3V0IGNvbHVtbi1sYXlvdXQnLCBjbGFzc05hbWUpO1xuICAgICAgICAgIGNvbnN0IGd1aWRlVmlzaWJsZVN0eWxlID0ge1xuICAgICAgICAgICAgZGlzcGxheTogdGhpcy5zdGF0ZS5pc0RyYWdvdmVyID8gJ2Jsb2NrJyA6ICdub25lJyxcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtvdXRDbGFzc30gcmVmPXsoZWwpID0+ICh0aGlzLnJlZiA9IGVsKX0gc3R5bGU9e21lcmdlZFN0eWxlfSBkYXRhLWxheW91dGlkPXtsYXlvdXQuaWR9PlxuICAgICAgICAgICAgICA8T25lQnlPbmVBbmltYXRpb25cbiAgICAgICAgICAgICAgICBlbmFibGVTY3JvbGw9e3RydWV9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidHJhaWwtY29udGFpbmVyIGQtZmxleCBmbGV4LWNvbHVtbiB3LTEwMFwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8RHJvcEFyZWFcbiAgICAgICAgICAgICAgICAgIGNzcz17ZHJvcGFyZWFTdHlsZX1cbiAgICAgICAgICAgICAgICAgIGxheW91dHM9e3RoaXMucHJvcHMubGF5b3V0c31cbiAgICAgICAgICAgICAgICAgIGhpZ2hsaWdodERyYWdvdmVyPXt0cnVlfVxuICAgICAgICAgICAgICAgICAgb25EcmFnRW50ZXI9e3RoaXMub25EcmFnRW50ZXJ9XG4gICAgICAgICAgICAgICAgICBvbkRyYWdMZWF2ZT17dGhpcy5vbkRyYWdMZWF2ZX1cbiAgICAgICAgICAgICAgICAgIG9uRHJhZ092ZXI9e3RoaXMub25EcmFnT3Zlcn1cbiAgICAgICAgICAgICAgICAgIG9uRHJvcD17dGhpcy5vbkRyb3B9XG4gICAgICAgICAgICAgICAgICBvblRvZ2dsZURyYWdvdmVyRWZmZWN0PXt0aGlzLnRvZ2dsZURyYWdvdmVyRWZmZWN0fVxuICAgICAgICAgICAgICAgID48L0Ryb3BBcmVhPlxuICAgICAgICAgICAgICAgIHsoY29udGVudCBhcyBhbnkpLm1hcCgobGF5b3V0SXRlbSwgaW5kZXgpID0+IHRoaXMuY3JlYXRlSXRlbShsYXlvdXRJdGVtLCBpbmRleCwgbGF5b3V0U2V0dGluZykpfVxuICAgICAgICAgICAgICA8L09uZUJ5T25lQW5pbWF0aW9uPlxuICAgICAgICAgICAgICB7Y29udGVudC5sZW5ndGggPT09IDAgJiYgdGhpcy5wcm9wcy5jaGlsZHJlbn1cbiAgICAgICAgICAgICAgPGRpdiBjc3M9e2d1aWRlT3ZlcmxheX0gc3R5bGU9e2d1aWRlVmlzaWJsZVN0eWxlfSByZWY9eyhlbCkgPT4gKHRoaXMuZ3VpZGVEcmFnT3ZlclJlZiA9IGVsKX0gLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICk7XG4gICAgICAgIH19XG4gICAgICA8L1BhZ2VDb250ZXh0LkNvbnN1bWVyPlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUmVhY3RSZWR1eC5jb25uZWN0PFN0YXRlVG9MYXlvdXRQcm9wcywgdW5rbm93biwgTGF5b3V0UHJvcHM+KHV0aWxzLm1hcFN0YXRlVG9MYXlvdXRQcm9wcykoTGF5b3V0KTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQWNBO0FBQ0E7QUFFQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBU0E7QUFNQTtBQU1BO0FBQUE7QUFzQkE7QUFBQTtBQUpBO0FBQ0E7QUFDQTtBQStCQTtBQTNCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFFQTtBQU1BO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQWlCQTtBQUVBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBSUE7QUFVQTtBQUVBO0FBQ0E7QUFHQTtBQUdBO0FBQ0E7QUFBQTtBQUVBOzsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./jimu-layouts/lib/column-layout/builder/layout.tsx\n");

/***/ }),

/***/ "./jimu-layouts/lib/column-layout/default-setting.ts":
/*!***********************************************************!*\
  !*** ./jimu-layouts/lib/column-layout/default-setting.ts ***!
  \***********************************************************/
/*! exports provided: DEFAULT_COLUMN_LAYOUT_SETTING */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DEFAULT_COLUMN_LAYOUT_SETTING\", function() { return DEFAULT_COLUMN_LAYOUT_SETTING; });\nvar DEFAULT_COLUMN_LAYOUT_SETTING = {\n    min: 16,\n    space: 10\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWxheW91dHMvbGliL2NvbHVtbi1sYXlvdXQvZGVmYXVsdC1zZXR0aW5nLnRzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vamltdS1sYXlvdXRzL2xpYi9jb2x1bW4tbGF5b3V0L2RlZmF1bHQtc2V0dGluZy50cz9jYTc5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbHVtbkxheW91dFNldHRpbmcgfSBmcm9tICcuLi90eXBlcyc7XG5cbmV4cG9ydCBjb25zdCBERUZBVUxUX0NPTFVNTl9MQVlPVVRfU0VUVElORzogQ29sdW1uTGF5b3V0U2V0dGluZyA9IHtcbiAgbWluOiAxNixcbiAgc3BhY2U6IDEwXG59O1xuIl0sIm1hcHBpbmdzIjoiQUFFQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./jimu-layouts/lib/column-layout/default-setting.ts\n");

/***/ }),

/***/ "./jimu-layouts/lib/default-common-setting.ts":
/*!****************************************************!*\
  !*** ./jimu-layouts/lib/default-common-setting.ts ***!
  \****************************************************/
/*! exports provided: DEFAULT_LAYOUT_ITEM_SETTING */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DEFAULT_LAYOUT_ITEM_SETTING\", function() { return DEFAULT_LAYOUT_ITEM_SETTING; });\nvar DEFAULT_LAYOUT_ITEM_SETTING = {\n    order: 0\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWxheW91dHMvbGliL2RlZmF1bHQtY29tbW9uLXNldHRpbmcudHMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qaW11LWxheW91dHMvbGliL2RlZmF1bHQtY29tbW9uLXNldHRpbmcudHM/OWM1NyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21tb25MYXlvdXRTZXR0aW5nIH0gZnJvbSAnLi90eXBlcyc7XG5cbmV4cG9ydCBjb25zdCBERUZBVUxUX0xBWU9VVF9JVEVNX1NFVFRJTkc6IENvbW1vbkxheW91dFNldHRpbmcgPSB7XG4gIG9yZGVyOiAwXG59Il0sIm1hcHBpbmdzIjoiQUFFQTtBQUFBO0FBQUE7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./jimu-layouts/lib/default-common-setting.ts\n");

/***/ }),

/***/ "./jimu-layouts/lib/fixed-layout/builder/action-block.tsx":
/*!****************************************************************!*\
  !*** ./jimu-layouts/lib/fixed-layout/builder/action-block.tsx ***!
  \****************************************************************/
/*! exports provided: ActionBlock */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ActionBlock\", function() { return ActionBlock; });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jimu_core__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ \"jimu-ui\");\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jimu_ui__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-ui/advanced/setting-components */ \"jimu-ui/advanced/setting-components\");\n/* harmony import */ var jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_2__);\nvar __makeTemplateObject = (undefined && undefined.__makeTemplateObject) || function (cooked, raw) {\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n    return cooked;\n};\n/** @jsx jsx */\n\n\n\n\nvar layoutIcon = __webpack_require__(/*! jimu-ui/lib/icons/layout-12.svg */ \"./jimu-ui/lib/icons/layout-12.svg\");\nvar buttonStyle = Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n  padding: 8px;\\n  border-radius: 16px;\\n  pointer-events: all;\\n\"], [\"\\n  padding: 8px;\\n  border-radius: 16px;\\n  pointer-events: all;\\n\"])));\nfunction getStyle(builderTheme) {\n    return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_2 || (templateObject_2 = __makeTemplateObject([\"\\n    position: relative;\\n    height: 200px;\\n    padding: 1rem;\\n    pointer-events: none;\\n    z-index: 1;\\n    .btn-text {\\n      line-height: 32px;\\n    }\\n    .btn {\\n      background: \", \";\\n      &:hover {\\n        background: \", \";\\n      }\\n    }\\n    .action-item {\\n      width: 32px;\\n    }\\n    .action-seprator {\\n      width: 300px;\\n      height: 1px;\\n      background-color: \", \";\\n    }\\n  \"], [\"\\n    position: relative;\\n    height: 200px;\\n    padding: 1rem;\\n    pointer-events: none;\\n    z-index: 1;\\n    .btn-text {\\n      line-height: 32px;\\n    }\\n    .btn {\\n      background: \", \";\\n      &:hover {\\n        background: \", \";\\n      }\\n    }\\n    .action-item {\\n      width: 32px;\\n    }\\n    .action-seprator {\\n      width: 300px;\\n      height: 1px;\\n      background-color: \", \";\\n    }\\n  \"])), builderTheme.colors.palette.light[600], builderTheme.colors.palette.light[800], builderTheme.colors.palette.dark[800]);\n}\nfunction ActionBlock(props) {\n    var pageContext = props.pageContext, onPageTemplateSelected = props.onPageTemplateSelected;\n    var builderTheme = pageContext.builderTheme, formatMessage = pageContext.formatMessage, isHeader = pageContext.isHeader, isFooter = pageContext.isFooter;\n    var _a = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useState(false), showTemplatePopper = _a[0], setShowTemplatePopper = _a[1];\n    var templateRef = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useRef(null);\n    var toggleTemplatePopper = function (e) {\n        e.stopPropagation();\n        setShowTemplatePopper(!showTemplatePopper);\n    };\n    var closeTemplatePopover = function () {\n        setShowTemplatePopper(false);\n    };\n    return (Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"d-flex w-100 flex-column justify-content-center align-items-center\", css: getStyle(builderTheme) },\n        Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"d-flex flex-column justify-content-center align-items-center\", ref: templateRef },\n            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"Tooltip\"], { placement: \"bottom\", title: formatMessage('chooseTemplate') },\n                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"action-item\" },\n                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"Button\"], { icon: true, css: buttonStyle, onClick: toggleTemplatePopper },\n                        Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"Icon\"], { icon: layoutIcon, size: 16, color: builderTheme.colors.palette.dark[800] })))),\n            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"action-seprator mt-3\" }),\n            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"h5\", { className: \"btn-text mt-2\" }, formatMessage('dropWidgetToAdd'))),\n        showTemplatePopper && !pageContext.isDialog && (Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_2__[\"PageTemplatePopper\"], { isHeader: isHeader, isFooter: isFooter, theme: builderTheme, pageMode: jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"PageMode\"].FitWindow, referenceElement: templateRef.current, formatMessage: formatMessage, onItemSelect: onPageTemplateSelected, onClose: closeTemplatePopover })),\n        showTemplatePopper && pageContext.isDialog && (Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_2__[\"DialogTemplatePopper\"], { theme: builderTheme, referenceElement: templateRef.current, formatMessage: formatMessage, onItemSelect: onPageTemplateSelected, onClose: closeTemplatePopover }))));\n}\nvar templateObject_1, templateObject_2;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWxheW91dHMvbGliL2ZpeGVkLWxheW91dC9idWlsZGVyL2FjdGlvbi1ibG9jay50c3guanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qaW11LWxheW91dHMvbGliL2ZpeGVkLWxheW91dC9idWlsZGVyL2FjdGlvbi1ibG9jay50c3g/MTc0NyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiogQGpzeCBqc3ggKi9cbmltcG9ydCB7IFJlYWN0LCBqc3gsIGNzcywgSU1UaGVtZVZhcmlhYmxlcywgUGFnZU1vZGUgfSBmcm9tICdqaW11LWNvcmUnO1xuaW1wb3J0IHsgVG9vbHRpcCB9IGZyb20gJ2ppbXUtdWknO1xuaW1wb3J0IHsgQnV0dG9uLCBJY29uIH0gZnJvbSAnamltdS11aSc7XG5pbXBvcnQgeyBQYWdlVGVtcGxhdGVQb3BwZXIsIERpYWxvZ1RlbXBsYXRlUG9wcGVyIH0gZnJvbSAnamltdS11aS9hZHZhbmNlZC9zZXR0aW5nLWNvbXBvbmVudHMnO1xuaW1wb3J0IHsgUGFnZUNvbnRleHRQcm9wcyB9IGZyb20gJ2ppbXUtbGF5b3V0cy9sYXlvdXQtcnVudGltZSc7XG5cbmNvbnN0IGxheW91dEljb24gPSByZXF1aXJlKCdqaW11LXVpL2xpYi9pY29ucy9sYXlvdXQtMTIuc3ZnJyk7XG5jb25zdCBidXR0b25TdHlsZSA9IGNzc2BcbiAgcGFkZGluZzogOHB4O1xuICBib3JkZXItcmFkaXVzOiAxNnB4O1xuICBwb2ludGVyLWV2ZW50czogYWxsO1xuYDtcblxuZnVuY3Rpb24gZ2V0U3R5bGUoYnVpbGRlclRoZW1lOiBJTVRoZW1lVmFyaWFibGVzKSB7XG4gIHJldHVybiBjc3NgXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgIGhlaWdodDogMjAwcHg7XG4gICAgcGFkZGluZzogMXJlbTtcbiAgICBwb2ludGVyLWV2ZW50czogbm9uZTtcbiAgICB6LWluZGV4OiAxO1xuICAgIC5idG4tdGV4dCB7XG4gICAgICBsaW5lLWhlaWdodDogMzJweDtcbiAgICB9XG4gICAgLmJ0biB7XG4gICAgICBiYWNrZ3JvdW5kOiAke2J1aWxkZXJUaGVtZS5jb2xvcnMucGFsZXR0ZS5saWdodFs2MDBdfTtcbiAgICAgICY6aG92ZXIge1xuICAgICAgICBiYWNrZ3JvdW5kOiAke2J1aWxkZXJUaGVtZS5jb2xvcnMucGFsZXR0ZS5saWdodFs4MDBdfTtcbiAgICAgIH1cbiAgICB9XG4gICAgLmFjdGlvbi1pdGVtIHtcbiAgICAgIHdpZHRoOiAzMnB4O1xuICAgIH1cbiAgICAuYWN0aW9uLXNlcHJhdG9yIHtcbiAgICAgIHdpZHRoOiAzMDBweDtcbiAgICAgIGhlaWdodDogMXB4O1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogJHtidWlsZGVyVGhlbWUuY29sb3JzLnBhbGV0dGUuZGFya1s4MDBdfTtcbiAgICB9XG4gIGA7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQWN0aW9uQmxvY2tQcm9wcyB7XG4gIHBhZ2VDb250ZXh0OiBQYWdlQ29udGV4dFByb3BzO1xuICBvblBhZ2VUZW1wbGF0ZVNlbGVjdGVkOiAodGVtcGxhdGVQYWdlSnNvbikgPT4gdm9pZDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEFjdGlvbkJsb2NrKHByb3BzOiBBY3Rpb25CbG9ja1Byb3BzKSB7XG4gIGNvbnN0IHsgcGFnZUNvbnRleHQsIG9uUGFnZVRlbXBsYXRlU2VsZWN0ZWQgfSA9IHByb3BzO1xuICBjb25zdCB7IGJ1aWxkZXJUaGVtZSwgZm9ybWF0TWVzc2FnZSwgaXNIZWFkZXIsIGlzRm9vdGVyIH0gPSBwYWdlQ29udGV4dDtcbiAgY29uc3QgW3Nob3dUZW1wbGF0ZVBvcHBlciwgc2V0U2hvd1RlbXBsYXRlUG9wcGVyXSA9IFJlYWN0LnVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgdGVtcGxhdGVSZWYgPSBSZWFjdC51c2VSZWY8SFRNTERpdkVsZW1lbnQ+KG51bGwpO1xuXG4gIGNvbnN0IHRvZ2dsZVRlbXBsYXRlUG9wcGVyID0gZSA9PiB7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBzZXRTaG93VGVtcGxhdGVQb3BwZXIoIXNob3dUZW1wbGF0ZVBvcHBlcik7XG4gIH07XG5cbiAgY29uc3QgY2xvc2VUZW1wbGF0ZVBvcG92ZXIgPSAoKSA9PiB7XG4gICAgc2V0U2hvd1RlbXBsYXRlUG9wcGVyKGZhbHNlKTtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdlxuICAgICAgY2xhc3NOYW1lPVwiZC1mbGV4IHctMTAwIGZsZXgtY29sdW1uIGp1c3RpZnktY29udGVudC1jZW50ZXIgYWxpZ24taXRlbXMtY2VudGVyXCJcbiAgICAgIGNzcz17Z2V0U3R5bGUoYnVpbGRlclRoZW1lKX1cbiAgICA+XG4gICAgICA8ZGl2XG4gICAgICAgIGNsYXNzTmFtZT1cImQtZmxleCBmbGV4LWNvbHVtbiBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyIGFsaWduLWl0ZW1zLWNlbnRlclwiXG4gICAgICAgIHJlZj17dGVtcGxhdGVSZWZ9XG4gICAgICA+XG4gICAgICAgIDxUb29sdGlwIHBsYWNlbWVudD1cImJvdHRvbVwiIHRpdGxlPXtmb3JtYXRNZXNzYWdlKCdjaG9vc2VUZW1wbGF0ZScpfT5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFjdGlvbi1pdGVtXCI+XG4gICAgICAgICAgICA8QnV0dG9uIGljb24gY3NzPXtidXR0b25TdHlsZX0gb25DbGljaz17dG9nZ2xlVGVtcGxhdGVQb3BwZXJ9PlxuICAgICAgICAgICAgICA8SWNvbiBpY29uPXtsYXlvdXRJY29ufSBzaXplPXsxNn0gY29sb3I9e2J1aWxkZXJUaGVtZS5jb2xvcnMucGFsZXR0ZS5kYXJrWzgwMF19PjwvSWNvbj5cbiAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L1Rvb2x0aXA+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWN0aW9uLXNlcHJhdG9yIG10LTNcIj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxoNSBjbGFzc05hbWU9XCJidG4tdGV4dCBtdC0yXCI+e2Zvcm1hdE1lc3NhZ2UoJ2Ryb3BXaWRnZXRUb0FkZCcpfTwvaDU+XG4gICAgICA8L2Rpdj5cbiAgICAgIHtzaG93VGVtcGxhdGVQb3BwZXIgJiYgIXBhZ2VDb250ZXh0LmlzRGlhbG9nICYmIChcbiAgICAgICAgPFBhZ2VUZW1wbGF0ZVBvcHBlclxuICAgICAgICAgIGlzSGVhZGVyPXtpc0hlYWRlcn1cbiAgICAgICAgICBpc0Zvb3Rlcj17aXNGb290ZXJ9XG4gICAgICAgICAgdGhlbWU9e2J1aWxkZXJUaGVtZX1cbiAgICAgICAgICBwYWdlTW9kZT17UGFnZU1vZGUuRml0V2luZG93fVxuICAgICAgICAgIHJlZmVyZW5jZUVsZW1lbnQ9e3RlbXBsYXRlUmVmLmN1cnJlbnR9XG4gICAgICAgICAgZm9ybWF0TWVzc2FnZT17Zm9ybWF0TWVzc2FnZX1cbiAgICAgICAgICBvbkl0ZW1TZWxlY3Q9e29uUGFnZVRlbXBsYXRlU2VsZWN0ZWR9XG4gICAgICAgICAgb25DbG9zZT17Y2xvc2VUZW1wbGF0ZVBvcG92ZXJ9XG4gICAgICAgID48L1BhZ2VUZW1wbGF0ZVBvcHBlcj5cbiAgICAgICl9XG4gICAgICB7c2hvd1RlbXBsYXRlUG9wcGVyICYmIHBhZ2VDb250ZXh0LmlzRGlhbG9nICYmIChcbiAgICAgICAgPERpYWxvZ1RlbXBsYXRlUG9wcGVyXG4gICAgICAgICAgdGhlbWU9e2J1aWxkZXJUaGVtZX1cbiAgICAgICAgICByZWZlcmVuY2VFbGVtZW50PXt0ZW1wbGF0ZVJlZi5jdXJyZW50fVxuICAgICAgICAgIGZvcm1hdE1lc3NhZ2U9e2Zvcm1hdE1lc3NhZ2V9XG4gICAgICAgICAgb25JdGVtU2VsZWN0PXtvblBhZ2VUZW1wbGF0ZVNlbGVjdGVkfVxuICAgICAgICAgIG9uQ2xvc2U9e2Nsb3NlVGVtcGxhdGVQb3BvdmVyfVxuICAgICAgICA+PC9EaWFsb2dUZW1wbGF0ZVBvcHBlcj5cbiAgICAgICl9XG4gICAgPC9kaXY+XG4gICk7XG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQU1BO0FBQ0E7QUF3QkE7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUtBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUVBO0FBRUE7QUFZQTtBQVdBOzsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./jimu-layouts/lib/fixed-layout/builder/action-block.tsx\n");

/***/ }),

/***/ "./jimu-layouts/lib/fixed-layout/builder/fixed-item-menu.tsx":
/*!*******************************************************************!*\
  !*** ./jimu-layouts/lib/fixed-layout/builder/fixed-item-menu.tsx ***!
  \*******************************************************************/
/*! exports provided: fixedItemMenu */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"fixedItemMenu\", function() { return fixedItemMenu; });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jimu_core__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-layouts/layout-runtime */ \"jimu-layouts/layout-runtime\");\n/* harmony import */ var jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _layout_action__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./layout-action */ \"./jimu-layouts/lib/fixed-layout/builder/layout-action.ts\");\n/* harmony import */ var _builder_menu_common_menu__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../builder/menu/common-menu */ \"./jimu-layouts/lib/builder/menu/common-menu.tsx\");\n\n\n\n\nvar fixedItemMenu = [\n    [\n        {\n            icon: __webpack_require__(/*! jimu-ui/lib/icons/tool-a-l.svg */ \"./jimu-ui/lib/icons/tool-a-l.svg\"),\n            visible: function () { return Object(_builder_menu_common_menu__WEBPACK_IMPORTED_MODULE_3__[\"getAppMode\"])() === jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"AppMode\"].Design && !Object(_builder_menu_common_menu__WEBPACK_IMPORTED_MODULE_3__[\"isLockLayout\"])(); },\n        },\n        {\n            icon: __webpack_require__(/*! jimu-ui/lib/icons/snap-to-left.svg */ \"./jimu-ui/lib/icons/snap-to-left.svg\"),\n            label: function (props) {\n                return props.formatMessage(jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__[\"utils\"].isRTL() ? 'snapToRight' : 'snapToLeft');\n            },\n            title: function (props) {\n                return props.formatMessage(jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__[\"utils\"].isRTL() ? 'snapToRight' : 'snapToLeft');\n            },\n            rotate: jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__[\"utils\"].isRTL() ? 180 : 0,\n            onClick: function (props) {\n                var layoutItem = props.layoutItem, layoutId = props.layoutId;\n                Object(_layout_action__WEBPACK_IMPORTED_MODULE_2__[\"alignTo\"])({ layoutId: layoutId, layoutItemId: layoutItem.id }, 'left');\n            },\n        },\n        {\n            icon: __webpack_require__(/*! jimu-ui/lib/icons/snap-to-h-m.svg */ \"./jimu-ui/lib/icons/snap-to-h-m.svg\"),\n            label: function (props) {\n                return props.formatMessage('alignHCenter');\n            },\n            title: function (props) {\n                return props.formatMessage('alignHCenter');\n            },\n            onClick: function (props) {\n                var layoutItem = props.layoutItem, layoutId = props.layoutId;\n                Object(_layout_action__WEBPACK_IMPORTED_MODULE_2__[\"alignHorizontalCenter\"])({ layoutId: layoutId, layoutItemId: layoutItem.id });\n            },\n        },\n        {\n            icon: __webpack_require__(/*! jimu-ui/lib/icons/snap-to-right.svg */ \"./jimu-ui/lib/icons/snap-to-right.svg\"),\n            label: function (props) {\n                return props.formatMessage(jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__[\"utils\"].isRTL() ? 'snapToLeft' : 'snapToRight');\n            },\n            title: function (props) {\n                return props.formatMessage(jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__[\"utils\"].isRTL() ? 'snapToLeft' : 'snapToRight');\n            },\n            rotate: jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__[\"utils\"].isRTL() ? 180 : 0,\n            onClick: function (props) {\n                var layoutItem = props.layoutItem, layoutId = props.layoutId;\n                Object(_layout_action__WEBPACK_IMPORTED_MODULE_2__[\"alignTo\"])({ layoutId: layoutId, layoutItemId: layoutItem.id }, 'right');\n            },\n        },\n        {\n            icon: __webpack_require__(/*! jimu-ui/lib/icons/snap-to-top.svg */ \"./jimu-ui/lib/icons/snap-to-top.svg\"),\n            label: function (props) {\n                return props.formatMessage('snapToTop');\n            },\n            title: function (props) {\n                return props.formatMessage('snapToTop');\n            },\n            onClick: function (props) {\n                var layoutItem = props.layoutItem, layoutId = props.layoutId;\n                Object(_layout_action__WEBPACK_IMPORTED_MODULE_2__[\"alignTo\"])({ layoutId: layoutId, layoutItemId: layoutItem.id }, 'top');\n            },\n        },\n        {\n            icon: __webpack_require__(/*! jimu-ui/lib/icons/snap-to-v-c.svg */ \"./jimu-ui/lib/icons/snap-to-v-c.svg\"),\n            label: function (props) {\n                return props.formatMessage('alignVCenter');\n            },\n            title: function (props) {\n                return props.formatMessage('alignVCenter');\n            },\n            onClick: function (props) {\n                var layoutItem = props.layoutItem, layoutId = props.layoutId;\n                Object(_layout_action__WEBPACK_IMPORTED_MODULE_2__[\"alignVerticalCenter\"])({ layoutId: layoutId, layoutItemId: layoutItem.id });\n            },\n        },\n        {\n            icon: __webpack_require__(/*! jimu-ui/lib/icons/snap-to-bottom.svg */ \"./jimu-ui/lib/icons/snap-to-bottom.svg\"),\n            label: function (props) {\n                return props.formatMessage('snapToBottom');\n            },\n            title: function (props) {\n                return props.formatMessage('snapToBottom');\n            },\n            onClick: function (props) {\n                var layoutItem = props.layoutItem, layoutId = props.layoutId;\n                Object(_layout_action__WEBPACK_IMPORTED_MODULE_2__[\"alignTo\"])({ layoutId: layoutId, layoutItemId: layoutItem.id }, 'bottom');\n            },\n        },\n        {\n            icon: __webpack_require__(/*! jimu-ui/lib/icons/tool-width-max.svg */ \"./jimu-ui/lib/icons/tool-width-max.svg\"),\n            label: function (props) {\n                return props.formatMessage('fullWidth');\n            },\n            title: function (props) {\n                return props.formatMessage('fullWidth');\n            },\n            onClick: function (props) {\n                var layoutItem = props.layoutItem, layoutId = props.layoutId;\n                Object(_layout_action__WEBPACK_IMPORTED_MODULE_2__[\"alignFullWidth\"])({ layoutId: layoutId, layoutItemId: layoutItem.id });\n            },\n        },\n        {\n            icon: __webpack_require__(/*! jimu-ui/lib/icons/tool-height-max.svg */ \"./jimu-ui/lib/icons/tool-height-max.svg\"),\n            label: function (props) {\n                return props.formatMessage('fullHeight');\n            },\n            title: function (props) {\n                return props.formatMessage('fullHeight');\n            },\n            onClick: function (props) {\n                var layoutItem = props.layoutItem, layoutId = props.layoutId;\n                Object(_layout_action__WEBPACK_IMPORTED_MODULE_2__[\"alignFullHeight\"])({ layoutId: layoutId, layoutItemId: layoutItem.id });\n            },\n        },\n        {\n            icon: __webpack_require__(/*! jimu-ui/lib/icons/tool-max.svg */ \"./jimu-ui/lib/icons/tool-max.svg\"),\n            label: function (props) {\n                return props.formatMessage('fullSize');\n            },\n            title: function (props) {\n                return props.formatMessage('fullSize');\n            },\n            onClick: function (props) {\n                var layoutItem = props.layoutItem, layoutId = props.layoutId;\n                Object(_layout_action__WEBPACK_IMPORTED_MODULE_2__[\"alignFullSize\"])({ layoutId: layoutId, layoutItemId: layoutItem.id });\n            },\n        },\n    ],\n    [\n        {\n            icon: __webpack_require__(/*! jimu-ui/lib/icons/tool-layer.svg */ \"./jimu-ui/lib/icons/tool-layer.svg\"),\n            visible: function () { return Object(_builder_menu_common_menu__WEBPACK_IMPORTED_MODULE_3__[\"getAppMode\"])() === jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"AppMode\"].Design && !Object(_builder_menu_common_menu__WEBPACK_IMPORTED_MODULE_3__[\"isLockLayout\"])(); },\n        },\n        {\n            icon: __webpack_require__(/*! jimu-ui/lib/icons/tool-layer-down.svg */ \"./jimu-ui/lib/icons/tool-layer-down.svg\"),\n            label: function (props) {\n                return props.formatMessage('sendBackward');\n            },\n            title: function (props) {\n                return props.formatMessage('sendBackward');\n            },\n            onClick: function (props) {\n                var layoutItem = props.layoutItem, layoutId = props.layoutId;\n                Object(_layout_action__WEBPACK_IMPORTED_MODULE_2__[\"sendBackward\"])({ layoutId: layoutId, layoutItemId: layoutItem.id });\n            },\n        },\n        {\n            icon: __webpack_require__(/*! jimu-ui/lib/icons/tool-layer-up.svg */ \"./jimu-ui/lib/icons/tool-layer-up.svg\"),\n            label: function (props) {\n                return props.formatMessage('bringForward');\n            },\n            title: function (props) {\n                return props.formatMessage('bringForward');\n            },\n            onClick: function (props) {\n                var layoutItem = props.layoutItem, layoutId = props.layoutId;\n                Object(_layout_action__WEBPACK_IMPORTED_MODULE_2__[\"bringForward\"])({ layoutId: layoutId, layoutItemId: layoutItem.id });\n            },\n        },\n        {\n            icon: __webpack_require__(/*! jimu-ui/lib/icons/tool-layer-bottom.svg */ \"./jimu-ui/lib/icons/tool-layer-bottom.svg\"),\n            label: function (props) {\n                return props.formatMessage('sendToBack');\n            },\n            title: function (props) {\n                return props.formatMessage('sendToBack');\n            },\n            onClick: function (props) {\n                var layoutItem = props.layoutItem, layoutId = props.layoutId;\n                Object(_layout_action__WEBPACK_IMPORTED_MODULE_2__[\"sendToBack\"])({ layoutId: layoutId, layoutItemId: layoutItem.id });\n            },\n        },\n        {\n            icon: __webpack_require__(/*! jimu-ui/lib/icons/tool-layer-top.svg */ \"./jimu-ui/lib/icons/tool-layer-top.svg\"),\n            label: function (props) {\n                return props.formatMessage('bringToFront');\n            },\n            title: function (props) {\n                return props.formatMessage('bringToFront');\n            },\n            onClick: function (props) {\n                var layoutItem = props.layoutItem, layoutId = props.layoutId;\n                Object(_layout_action__WEBPACK_IMPORTED_MODULE_2__[\"bringToFront\"])({ layoutId: layoutId, layoutItemId: layoutItem.id });\n            },\n        },\n    ],\n    {\n        icon: function (props) {\n            var _a, _b;\n            var layoutItem = props.layoutItem;\n            var lockLayout = (_b = (_a = layoutItem.setting) === null || _a === void 0 ? void 0 : _a.lockLayout) !== null && _b !== void 0 ? _b : false;\n            return lockLayout ? __webpack_require__(/*! jimu-ui/lib/icons/lock.svg */ \"./jimu-ui/lib/icons/lock.svg\") : __webpack_require__(/*! jimu-ui/lib/icons/unlock.svg */ \"./jimu-ui/lib/icons/unlock.svg\");\n        },\n        title: function (props) {\n            var _a, _b;\n            var layoutItem = props.layoutItem;\n            var lockLayout = (_b = (_a = layoutItem.setting) === null || _a === void 0 ? void 0 : _a.lockLayout) !== null && _b !== void 0 ? _b : false;\n            return props.formatMessage(lockLayout ? 'unlockLayout' : 'lockLayout');\n        },\n        onClick: function (props) {\n            var layoutItem = props.layoutItem, layoutId = props.layoutId;\n            Object(_layout_action__WEBPACK_IMPORTED_MODULE_2__[\"toggleLockLayout\"])({ layoutId: layoutId, layoutItemId: layoutItem.id });\n        },\n    },\n    { seperator: true }\n];\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWxheW91dHMvbGliL2ZpeGVkLWxheW91dC9idWlsZGVyL2ZpeGVkLWl0ZW0tbWVudS50c3guanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qaW11LWxheW91dHMvbGliL2ZpeGVkLWxheW91dC9idWlsZGVyL2ZpeGVkLWl0ZW0tbWVudS50c3g/YzM5ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBMYXlvdXRDb250ZXh0VG9vbFByb3BzLCBBcHBNb2RlIH0gZnJvbSAnamltdS1jb3JlJztcbmltcG9ydCB7IHV0aWxzIH0gZnJvbSAnamltdS1sYXlvdXRzL2xheW91dC1ydW50aW1lJztcbmltcG9ydCB7IFRvb2xiYXJDb25maWcgfSBmcm9tICcuLi8uLi90eXBlcyc7XG5pbXBvcnQge1xuICBicmluZ0ZvcndhcmQsXG4gIGJyaW5nVG9Gcm9udCxcbiAgc2VuZEJhY2t3YXJkLFxuICBzZW5kVG9CYWNrLFxuICB0b2dnbGVMb2NrTGF5b3V0LFxuICBhbGlnblRvLFxuICBhbGlnbkhvcml6b250YWxDZW50ZXIsXG4gIGFsaWduVmVydGljYWxDZW50ZXIsXG4gIGFsaWduRnVsbFdpZHRoLFxuICBhbGlnbkZ1bGxIZWlnaHQsXG4gIGFsaWduRnVsbFNpemUsXG59IGZyb20gJy4vbGF5b3V0LWFjdGlvbic7XG5pbXBvcnQgeyBnZXRBcHBNb2RlLCBpc0xvY2tMYXlvdXQgfSBmcm9tICcuLi8uLi9idWlsZGVyL21lbnUvY29tbW9uLW1lbnUnO1xuXG5leHBvcnQgY29uc3QgZml4ZWRJdGVtTWVudTogVG9vbGJhckNvbmZpZyA9IFtcbiAgW1xuICAgIHtcbiAgICAgIGljb246IHJlcXVpcmUoJ2ppbXUtdWkvbGliL2ljb25zL3Rvb2wtYS1sLnN2ZycpLFxuICAgICAgdmlzaWJsZTogKCkgPT4gZ2V0QXBwTW9kZSgpID09PSBBcHBNb2RlLkRlc2lnbiAmJiAhaXNMb2NrTGF5b3V0KCksXG4gICAgfSxcbiAgICB7XG4gICAgICBpY29uOiByZXF1aXJlKCdqaW11LXVpL2xpYi9pY29ucy9zbmFwLXRvLWxlZnQuc3ZnJyksXG4gICAgICBsYWJlbDogKHByb3BzOiB7IGZvcm1hdE1lc3NhZ2U6IChpZDogc3RyaW5nKSA9PiBzdHJpbmcgfSkgPT4ge1xuICAgICAgICByZXR1cm4gcHJvcHMuZm9ybWF0TWVzc2FnZSh1dGlscy5pc1JUTCgpID8gJ3NuYXBUb1JpZ2h0JyA6ICdzbmFwVG9MZWZ0Jyk7XG4gICAgICB9LFxuICAgICAgdGl0bGU6IChwcm9wczogeyBmb3JtYXRNZXNzYWdlOiAoaWQ6IHN0cmluZykgPT4gc3RyaW5nIH0pID0+IHtcbiAgICAgICAgcmV0dXJuIHByb3BzLmZvcm1hdE1lc3NhZ2UodXRpbHMuaXNSVEwoKSA/ICdzbmFwVG9SaWdodCcgOiAnc25hcFRvTGVmdCcpO1xuICAgICAgfSxcbiAgICAgIHJvdGF0ZTogdXRpbHMuaXNSVEwoKSA/IDE4MCA6IDAsXG4gICAgICBvbkNsaWNrOiAocHJvcHM6IExheW91dENvbnRleHRUb29sUHJvcHMpID0+IHtcbiAgICAgICAgY29uc3QgeyBsYXlvdXRJdGVtLCBsYXlvdXRJZCB9ID0gcHJvcHM7XG4gICAgICAgIGFsaWduVG8oeyBsYXlvdXRJZCwgbGF5b3V0SXRlbUlkOiBsYXlvdXRJdGVtLmlkIH0sICdsZWZ0Jyk7XG4gICAgICB9LFxuICAgIH0sXG4gICAge1xuICAgICAgaWNvbjogcmVxdWlyZSgnamltdS11aS9saWIvaWNvbnMvc25hcC10by1oLW0uc3ZnJyksXG4gICAgICBsYWJlbDogKHByb3BzOiB7IGZvcm1hdE1lc3NhZ2U6IChpZDogc3RyaW5nKSA9PiBzdHJpbmcgfSkgPT4ge1xuICAgICAgICByZXR1cm4gcHJvcHMuZm9ybWF0TWVzc2FnZSgnYWxpZ25IQ2VudGVyJyk7XG4gICAgICB9LFxuICAgICAgdGl0bGU6IChwcm9wczogeyBmb3JtYXRNZXNzYWdlOiAoaWQ6IHN0cmluZykgPT4gc3RyaW5nIH0pID0+IHtcbiAgICAgICAgcmV0dXJuIHByb3BzLmZvcm1hdE1lc3NhZ2UoJ2FsaWduSENlbnRlcicpO1xuICAgICAgfSxcbiAgICAgIG9uQ2xpY2s6IChwcm9wczogTGF5b3V0Q29udGV4dFRvb2xQcm9wcykgPT4ge1xuICAgICAgICBjb25zdCB7IGxheW91dEl0ZW0sIGxheW91dElkIH0gPSBwcm9wcztcbiAgICAgICAgYWxpZ25Ib3Jpem9udGFsQ2VudGVyKHsgbGF5b3V0SWQsIGxheW91dEl0ZW1JZDogbGF5b3V0SXRlbS5pZCB9KTtcbiAgICAgIH0sXG4gICAgfSxcbiAgICB7XG4gICAgICBpY29uOiByZXF1aXJlKCdqaW11LXVpL2xpYi9pY29ucy9zbmFwLXRvLXJpZ2h0LnN2ZycpLFxuICAgICAgbGFiZWw6IChwcm9wczogeyBmb3JtYXRNZXNzYWdlOiAoaWQ6IHN0cmluZykgPT4gc3RyaW5nIH0pID0+IHtcbiAgICAgICAgcmV0dXJuIHByb3BzLmZvcm1hdE1lc3NhZ2UodXRpbHMuaXNSVEwoKSA/ICdzbmFwVG9MZWZ0JyA6ICdzbmFwVG9SaWdodCcpO1xuICAgICAgfSxcbiAgICAgIHRpdGxlOiAocHJvcHM6IHsgZm9ybWF0TWVzc2FnZTogKGlkOiBzdHJpbmcpID0+IHN0cmluZyB9KSA9PiB7XG4gICAgICAgIHJldHVybiBwcm9wcy5mb3JtYXRNZXNzYWdlKHV0aWxzLmlzUlRMKCkgPyAnc25hcFRvTGVmdCcgOiAnc25hcFRvUmlnaHQnKTtcbiAgICAgIH0sXG4gICAgICByb3RhdGU6IHV0aWxzLmlzUlRMKCkgPyAxODAgOiAwLFxuICAgICAgb25DbGljazogKHByb3BzOiBMYXlvdXRDb250ZXh0VG9vbFByb3BzKSA9PiB7XG4gICAgICAgIGNvbnN0IHsgbGF5b3V0SXRlbSwgbGF5b3V0SWQgfSA9IHByb3BzO1xuICAgICAgICBhbGlnblRvKHsgbGF5b3V0SWQsIGxheW91dEl0ZW1JZDogbGF5b3V0SXRlbS5pZCB9LCAncmlnaHQnKTtcbiAgICAgIH0sXG4gICAgfSxcbiAgICB7XG4gICAgICBpY29uOiByZXF1aXJlKCdqaW11LXVpL2xpYi9pY29ucy9zbmFwLXRvLXRvcC5zdmcnKSxcbiAgICAgIGxhYmVsOiAocHJvcHM6IHsgZm9ybWF0TWVzc2FnZTogKGlkOiBzdHJpbmcpID0+IHN0cmluZyB9KSA9PiB7XG4gICAgICAgIHJldHVybiBwcm9wcy5mb3JtYXRNZXNzYWdlKCdzbmFwVG9Ub3AnKTtcbiAgICAgIH0sXG4gICAgICB0aXRsZTogKHByb3BzOiB7IGZvcm1hdE1lc3NhZ2U6IChpZDogc3RyaW5nKSA9PiBzdHJpbmcgfSkgPT4ge1xuICAgICAgICByZXR1cm4gcHJvcHMuZm9ybWF0TWVzc2FnZSgnc25hcFRvVG9wJyk7XG4gICAgICB9LFxuICAgICAgb25DbGljazogKHByb3BzOiBMYXlvdXRDb250ZXh0VG9vbFByb3BzKSA9PiB7XG4gICAgICAgIGNvbnN0IHsgbGF5b3V0SXRlbSwgbGF5b3V0SWQgfSA9IHByb3BzO1xuICAgICAgICBhbGlnblRvKHsgbGF5b3V0SWQsIGxheW91dEl0ZW1JZDogbGF5b3V0SXRlbS5pZCB9LCAndG9wJyk7XG4gICAgICB9LFxuICAgIH0sXG4gICAge1xuICAgICAgaWNvbjogcmVxdWlyZSgnamltdS11aS9saWIvaWNvbnMvc25hcC10by12LWMuc3ZnJyksXG4gICAgICBsYWJlbDogKHByb3BzOiB7IGZvcm1hdE1lc3NhZ2U6IChpZDogc3RyaW5nKSA9PiBzdHJpbmcgfSkgPT4ge1xuICAgICAgICByZXR1cm4gcHJvcHMuZm9ybWF0TWVzc2FnZSgnYWxpZ25WQ2VudGVyJyk7XG4gICAgICB9LFxuICAgICAgdGl0bGU6IChwcm9wczogeyBmb3JtYXRNZXNzYWdlOiAoaWQ6IHN0cmluZykgPT4gc3RyaW5nIH0pID0+IHtcbiAgICAgICAgcmV0dXJuIHByb3BzLmZvcm1hdE1lc3NhZ2UoJ2FsaWduVkNlbnRlcicpO1xuICAgICAgfSxcbiAgICAgIG9uQ2xpY2s6IChwcm9wczogTGF5b3V0Q29udGV4dFRvb2xQcm9wcykgPT4ge1xuICAgICAgICBjb25zdCB7IGxheW91dEl0ZW0sIGxheW91dElkIH0gPSBwcm9wcztcbiAgICAgICAgYWxpZ25WZXJ0aWNhbENlbnRlcih7IGxheW91dElkLCBsYXlvdXRJdGVtSWQ6IGxheW91dEl0ZW0uaWQgfSk7XG4gICAgICB9LFxuICAgIH0sXG4gICAge1xuICAgICAgaWNvbjogcmVxdWlyZSgnamltdS11aS9saWIvaWNvbnMvc25hcC10by1ib3R0b20uc3ZnJyksXG4gICAgICBsYWJlbDogKHByb3BzOiB7IGZvcm1hdE1lc3NhZ2U6IChpZDogc3RyaW5nKSA9PiBzdHJpbmcgfSkgPT4ge1xuICAgICAgICByZXR1cm4gcHJvcHMuZm9ybWF0TWVzc2FnZSgnc25hcFRvQm90dG9tJyk7XG4gICAgICB9LFxuICAgICAgdGl0bGU6IChwcm9wczogeyBmb3JtYXRNZXNzYWdlOiAoaWQ6IHN0cmluZykgPT4gc3RyaW5nIH0pID0+IHtcbiAgICAgICAgcmV0dXJuIHByb3BzLmZvcm1hdE1lc3NhZ2UoJ3NuYXBUb0JvdHRvbScpO1xuICAgICAgfSxcbiAgICAgIG9uQ2xpY2s6IChwcm9wczogTGF5b3V0Q29udGV4dFRvb2xQcm9wcykgPT4ge1xuICAgICAgICBjb25zdCB7IGxheW91dEl0ZW0sIGxheW91dElkIH0gPSBwcm9wcztcbiAgICAgICAgYWxpZ25Ubyh7IGxheW91dElkLCBsYXlvdXRJdGVtSWQ6IGxheW91dEl0ZW0uaWQgfSwgJ2JvdHRvbScpO1xuICAgICAgfSxcbiAgICB9LFxuICAgIHtcbiAgICAgIGljb246IHJlcXVpcmUoJ2ppbXUtdWkvbGliL2ljb25zL3Rvb2wtd2lkdGgtbWF4LnN2ZycpLFxuICAgICAgbGFiZWw6IChwcm9wczogeyBmb3JtYXRNZXNzYWdlOiAoaWQ6IHN0cmluZykgPT4gc3RyaW5nIH0pID0+IHtcbiAgICAgICAgcmV0dXJuIHByb3BzLmZvcm1hdE1lc3NhZ2UoJ2Z1bGxXaWR0aCcpO1xuICAgICAgfSxcbiAgICAgIHRpdGxlOiAocHJvcHM6IHsgZm9ybWF0TWVzc2FnZTogKGlkOiBzdHJpbmcpID0+IHN0cmluZyB9KSA9PiB7XG4gICAgICAgIHJldHVybiBwcm9wcy5mb3JtYXRNZXNzYWdlKCdmdWxsV2lkdGgnKTtcbiAgICAgIH0sXG4gICAgICBvbkNsaWNrOiAocHJvcHM6IExheW91dENvbnRleHRUb29sUHJvcHMpID0+IHtcbiAgICAgICAgY29uc3QgeyBsYXlvdXRJdGVtLCBsYXlvdXRJZCB9ID0gcHJvcHM7XG4gICAgICAgIGFsaWduRnVsbFdpZHRoKHsgbGF5b3V0SWQsIGxheW91dEl0ZW1JZDogbGF5b3V0SXRlbS5pZCB9KTtcbiAgICAgIH0sXG4gICAgfSxcbiAgICB7XG4gICAgICBpY29uOiByZXF1aXJlKCdqaW11LXVpL2xpYi9pY29ucy90b29sLWhlaWdodC1tYXguc3ZnJyksXG4gICAgICBsYWJlbDogKHByb3BzOiB7IGZvcm1hdE1lc3NhZ2U6IChpZDogc3RyaW5nKSA9PiBzdHJpbmcgfSkgPT4ge1xuICAgICAgICByZXR1cm4gcHJvcHMuZm9ybWF0TWVzc2FnZSgnZnVsbEhlaWdodCcpO1xuICAgICAgfSxcbiAgICAgIHRpdGxlOiAocHJvcHM6IHsgZm9ybWF0TWVzc2FnZTogKGlkOiBzdHJpbmcpID0+IHN0cmluZyB9KSA9PiB7XG4gICAgICAgIHJldHVybiBwcm9wcy5mb3JtYXRNZXNzYWdlKCdmdWxsSGVpZ2h0Jyk7XG4gICAgICB9LFxuICAgICAgb25DbGljazogKHByb3BzOiBMYXlvdXRDb250ZXh0VG9vbFByb3BzKSA9PiB7XG4gICAgICAgIGNvbnN0IHsgbGF5b3V0SXRlbSwgbGF5b3V0SWQgfSA9IHByb3BzO1xuICAgICAgICBhbGlnbkZ1bGxIZWlnaHQoeyBsYXlvdXRJZCwgbGF5b3V0SXRlbUlkOiBsYXlvdXRJdGVtLmlkIH0pO1xuICAgICAgfSxcbiAgICB9LFxuICAgIHtcbiAgICAgIGljb246IHJlcXVpcmUoJ2ppbXUtdWkvbGliL2ljb25zL3Rvb2wtbWF4LnN2ZycpLFxuICAgICAgbGFiZWw6IChwcm9wczogTGF5b3V0Q29udGV4dFRvb2xQcm9wcyAmIHsgZm9ybWF0TWVzc2FnZTogKGlkOiBzdHJpbmcpID0+IHN0cmluZyB9KSA9PiB7XG4gICAgICAgIHJldHVybiBwcm9wcy5mb3JtYXRNZXNzYWdlKCdmdWxsU2l6ZScpO1xuICAgICAgfSxcbiAgICAgIHRpdGxlOiAocHJvcHM6IExheW91dENvbnRleHRUb29sUHJvcHMgJiB7IGZvcm1hdE1lc3NhZ2U6IChpZDogc3RyaW5nKSA9PiBzdHJpbmcgfSkgPT4ge1xuICAgICAgICByZXR1cm4gcHJvcHMuZm9ybWF0TWVzc2FnZSgnZnVsbFNpemUnKTtcbiAgICAgIH0sXG4gICAgICBvbkNsaWNrOiAocHJvcHM6IExheW91dENvbnRleHRUb29sUHJvcHMpID0+IHtcbiAgICAgICAgY29uc3QgeyBsYXlvdXRJdGVtLCBsYXlvdXRJZCB9ID0gcHJvcHM7XG4gICAgICAgIGFsaWduRnVsbFNpemUoeyBsYXlvdXRJZCwgbGF5b3V0SXRlbUlkOiBsYXlvdXRJdGVtLmlkIH0pO1xuICAgICAgfSxcbiAgICB9LFxuICBdLFxuICBbXG4gICAge1xuICAgICAgaWNvbjogcmVxdWlyZSgnamltdS11aS9saWIvaWNvbnMvdG9vbC1sYXllci5zdmcnKSxcbiAgICAgIHZpc2libGU6ICgpID0+IGdldEFwcE1vZGUoKSA9PT0gQXBwTW9kZS5EZXNpZ24gJiYgIWlzTG9ja0xheW91dCgpLFxuICAgIH0sXG4gICAge1xuICAgICAgaWNvbjogcmVxdWlyZSgnamltdS11aS9saWIvaWNvbnMvdG9vbC1sYXllci1kb3duLnN2ZycpLFxuICAgICAgbGFiZWw6IChwcm9wczogeyBmb3JtYXRNZXNzYWdlOiAoaWQ6IHN0cmluZykgPT4gc3RyaW5nIH0pID0+IHtcbiAgICAgICAgcmV0dXJuIHByb3BzLmZvcm1hdE1lc3NhZ2UoJ3NlbmRCYWNrd2FyZCcpO1xuICAgICAgfSxcbiAgICAgIHRpdGxlOiAocHJvcHM6IHsgZm9ybWF0TWVzc2FnZTogKGlkOiBzdHJpbmcpID0+IHN0cmluZyB9KSA9PiB7XG4gICAgICAgIHJldHVybiBwcm9wcy5mb3JtYXRNZXNzYWdlKCdzZW5kQmFja3dhcmQnKTtcbiAgICAgIH0sXG4gICAgICBvbkNsaWNrOiAocHJvcHM6IExheW91dENvbnRleHRUb29sUHJvcHMpID0+IHtcbiAgICAgICAgY29uc3QgeyBsYXlvdXRJdGVtLCBsYXlvdXRJZCB9ID0gcHJvcHM7XG4gICAgICAgIHNlbmRCYWNrd2FyZCh7IGxheW91dElkLCBsYXlvdXRJdGVtSWQ6IGxheW91dEl0ZW0uaWQgfSk7XG4gICAgICB9LFxuICAgIH0sXG4gICAge1xuICAgICAgaWNvbjogcmVxdWlyZSgnamltdS11aS9saWIvaWNvbnMvdG9vbC1sYXllci11cC5zdmcnKSxcbiAgICAgIGxhYmVsOiAocHJvcHM6IHsgZm9ybWF0TWVzc2FnZTogKGlkOiBzdHJpbmcpID0+IHN0cmluZyB9KSA9PiB7XG4gICAgICAgIHJldHVybiBwcm9wcy5mb3JtYXRNZXNzYWdlKCdicmluZ0ZvcndhcmQnKTtcbiAgICAgIH0sXG4gICAgICB0aXRsZTogKHByb3BzOiB7IGZvcm1hdE1lc3NhZ2U6IChpZDogc3RyaW5nKSA9PiBzdHJpbmcgfSkgPT4ge1xuICAgICAgICByZXR1cm4gcHJvcHMuZm9ybWF0TWVzc2FnZSgnYnJpbmdGb3J3YXJkJyk7XG4gICAgICB9LFxuICAgICAgb25DbGljazogKHByb3BzOiBMYXlvdXRDb250ZXh0VG9vbFByb3BzKSA9PiB7XG4gICAgICAgIGNvbnN0IHsgbGF5b3V0SXRlbSwgbGF5b3V0SWQgfSA9IHByb3BzO1xuICAgICAgICBicmluZ0ZvcndhcmQoeyBsYXlvdXRJZCwgbGF5b3V0SXRlbUlkOiBsYXlvdXRJdGVtLmlkIH0pO1xuICAgICAgfSxcbiAgICB9LFxuICAgIHtcbiAgICAgIGljb246IHJlcXVpcmUoJ2ppbXUtdWkvbGliL2ljb25zL3Rvb2wtbGF5ZXItYm90dG9tLnN2ZycpLFxuICAgICAgbGFiZWw6IChwcm9wczogeyBmb3JtYXRNZXNzYWdlOiAoaWQ6IHN0cmluZykgPT4gc3RyaW5nIH0pID0+IHtcbiAgICAgICAgcmV0dXJuIHByb3BzLmZvcm1hdE1lc3NhZ2UoJ3NlbmRUb0JhY2snKTtcbiAgICAgIH0sXG4gICAgICB0aXRsZTogKHByb3BzOiB7IGZvcm1hdE1lc3NhZ2U6IChpZDogc3RyaW5nKSA9PiBzdHJpbmcgfSkgPT4ge1xuICAgICAgICByZXR1cm4gcHJvcHMuZm9ybWF0TWVzc2FnZSgnc2VuZFRvQmFjaycpO1xuICAgICAgfSxcbiAgICAgIG9uQ2xpY2s6IChwcm9wczogTGF5b3V0Q29udGV4dFRvb2xQcm9wcykgPT4ge1xuICAgICAgICBjb25zdCB7IGxheW91dEl0ZW0sIGxheW91dElkIH0gPSBwcm9wcztcbiAgICAgICAgc2VuZFRvQmFjayh7IGxheW91dElkLCBsYXlvdXRJdGVtSWQ6IGxheW91dEl0ZW0uaWQgfSk7XG4gICAgICB9LFxuICAgIH0sXG4gICAge1xuICAgICAgaWNvbjogcmVxdWlyZSgnamltdS11aS9saWIvaWNvbnMvdG9vbC1sYXllci10b3Auc3ZnJyksXG4gICAgICBsYWJlbDogKHByb3BzOiB7IGZvcm1hdE1lc3NhZ2U6IChpZDogc3RyaW5nKSA9PiBzdHJpbmcgfSkgPT4ge1xuICAgICAgICByZXR1cm4gcHJvcHMuZm9ybWF0TWVzc2FnZSgnYnJpbmdUb0Zyb250Jyk7XG4gICAgICB9LFxuICAgICAgdGl0bGU6IChwcm9wczogeyBmb3JtYXRNZXNzYWdlOiAoaWQ6IHN0cmluZykgPT4gc3RyaW5nIH0pID0+IHtcbiAgICAgICAgcmV0dXJuIHByb3BzLmZvcm1hdE1lc3NhZ2UoJ2JyaW5nVG9Gcm9udCcpO1xuICAgICAgfSxcbiAgICAgIG9uQ2xpY2s6IChwcm9wczogTGF5b3V0Q29udGV4dFRvb2xQcm9wcykgPT4ge1xuICAgICAgICBjb25zdCB7IGxheW91dEl0ZW0sIGxheW91dElkIH0gPSBwcm9wcztcbiAgICAgICAgYnJpbmdUb0Zyb250KHsgbGF5b3V0SWQsIGxheW91dEl0ZW1JZDogbGF5b3V0SXRlbS5pZCB9KTtcbiAgICAgIH0sXG4gICAgfSxcbiAgXSxcbiAge1xuICAgIGljb246IChwcm9wczogTGF5b3V0Q29udGV4dFRvb2xQcm9wcykgPT4ge1xuICAgICAgY29uc3QgeyBsYXlvdXRJdGVtIH0gPSBwcm9wcztcbiAgICAgIGNvbnN0IGxvY2tMYXlvdXQgPSBsYXlvdXRJdGVtLnNldHRpbmc/LmxvY2tMYXlvdXQgPz8gZmFsc2U7XG4gICAgICByZXR1cm4gbG9ja0xheW91dCA/IHJlcXVpcmUoJ2ppbXUtdWkvbGliL2ljb25zL2xvY2suc3ZnJykgOiByZXF1aXJlKCdqaW11LXVpL2xpYi9pY29ucy91bmxvY2suc3ZnJyk7XG4gICAgfSxcbiAgICB0aXRsZTogKHByb3BzOiBMYXlvdXRDb250ZXh0VG9vbFByb3BzICYgeyBmb3JtYXRNZXNzYWdlOiAoaWQ6IHN0cmluZykgPT4gc3RyaW5nIH0pID0+IHtcbiAgICAgIGNvbnN0IHsgbGF5b3V0SXRlbSB9ID0gcHJvcHM7XG4gICAgICBjb25zdCBsb2NrTGF5b3V0ID0gbGF5b3V0SXRlbS5zZXR0aW5nPy5sb2NrTGF5b3V0ID8/IGZhbHNlO1xuICAgICAgcmV0dXJuIHByb3BzLmZvcm1hdE1lc3NhZ2UobG9ja0xheW91dCA/ICd1bmxvY2tMYXlvdXQnIDogJ2xvY2tMYXlvdXQnKTtcbiAgICB9LFxuICAgIG9uQ2xpY2s6IChwcm9wczogTGF5b3V0Q29udGV4dFRvb2xQcm9wcykgPT4ge1xuICAgICAgY29uc3QgeyBsYXlvdXRJdGVtLCBsYXlvdXRJZCB9ID0gcHJvcHM7XG4gICAgICB0b2dnbGVMb2NrTGF5b3V0KHsgbGF5b3V0SWQsIGxheW91dEl0ZW1JZDogbGF5b3V0SXRlbS5pZCB9KTtcbiAgICB9LFxuICB9LFxuICB7IHNlcGVyYXRvcjogdHJ1ZSB9XG5dO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBYUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./jimu-layouts/lib/fixed-layout/builder/fixed-item-menu.tsx\n");

/***/ }),

/***/ "./jimu-layouts/lib/fixed-layout/builder/fixed-item-setting.tsx":
/*!**********************************************************************!*\
  !*** ./jimu-layouts/lib/fixed-layout/builder/fixed-item-setting.tsx ***!
  \**********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jimu_core__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var jimu_for_builder__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-for-builder */ \"jimu-for-builder\");\n/* harmony import */ var jimu_for_builder__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jimu_for_builder__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _default_setting__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../default-setting */ \"./jimu-layouts/lib/fixed-layout/default-setting.ts\");\n/* harmony import */ var jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-ui/advanced/setting-components */ \"jimu-ui/advanced/setting-components\");\n/* harmony import */ var jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! jimu-ui */ \"jimu-ui\");\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(jimu_ui__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var jimu_ui_advanced_style_setting_components__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! jimu-ui/advanced/style-setting-components */ \"jimu-ui/advanced/style-setting-components\");\n/* harmony import */ var jimu_ui_advanced_style_setting_components__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(jimu_ui_advanced_style_setting_components__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _builder_common_layout_item_setting__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../builder/common-layout-item-setting */ \"./jimu-layouts/lib/builder/common-layout-item-setting.tsx\");\n/* harmony import */ var _builder_common_transform_setting__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../builder/common-transform-setting */ \"./jimu-layouts/lib/builder/common-transform-setting.tsx\");\n/* harmony import */ var jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! jimu-layouts/layout-runtime */ \"jimu-layouts/layout-runtime\");\n/* harmony import */ var jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _item_position_setting__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./item-position-setting */ \"./jimu-layouts/lib/fixed-layout/builder/item-position-setting.tsx\");\n/* harmony import */ var _fixed_item_menu__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./fixed-item-menu */ \"./jimu-layouts/lib/fixed-layout/builder/fixed-item-menu.tsx\");\n/* harmony import */ var _builder_toolbar__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../builder/toolbar */ \"./jimu-layouts/lib/builder/toolbar.tsx\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __makeTemplateObject = (undefined && undefined.__makeTemplateObject) || function (cooked, raw) {\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n    return cooked;\n};\nvar __assign = (undefined && undefined.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __spreadArrays = (undefined && undefined.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\n/** @jsx jsx */\n\n\n\n\n\n\n\n\n\n\n\n\nvar lockIcon = __webpack_require__(/*! jimu-ui/lib/icons/lock.svg */ \"./jimu-ui/lib/icons/lock.svg\");\nvar unlockIcon = __webpack_require__(/*! jimu-ui/lib/icons/unlock.svg */ \"./jimu-ui/lib/icons/unlock.svg\");\nvar sizemodes = [jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_8__[\"LayoutItemSizeModes\"].Auto, jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_8__[\"LayoutItemSizeModes\"].Custom, jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_8__[\"LayoutItemSizeModes\"].Stretch];\nvar pixelUnitOnly = [jimu_ui__WEBPACK_IMPORTED_MODULE_4__[\"UnitTypes\"].PIXEL];\nvar group1 = [\n    _fixed_item_menu__WEBPACK_IMPORTED_MODULE_10__[\"fixedItemMenu\"][1][1],\n    _fixed_item_menu__WEBPACK_IMPORTED_MODULE_10__[\"fixedItemMenu\"][1][2],\n    _fixed_item_menu__WEBPACK_IMPORTED_MODULE_10__[\"fixedItemMenu\"][1][3],\n    _fixed_item_menu__WEBPACK_IMPORTED_MODULE_10__[\"fixedItemMenu\"][1][4],\n    { seperator: true },\n    _fixed_item_menu__WEBPACK_IMPORTED_MODULE_10__[\"fixedItemMenu\"][0][1],\n    _fixed_item_menu__WEBPACK_IMPORTED_MODULE_10__[\"fixedItemMenu\"][0][2],\n    _fixed_item_menu__WEBPACK_IMPORTED_MODULE_10__[\"fixedItemMenu\"][0][3],\n].map(function (item) { return __assign(__assign({}, item), { title: item.title, label: null }); });\nvar positionMenus = __spreadArrays(group1, [\n    [\n        { icon: __webpack_require__(/*! jimu-ui/lib/icons/snap-to-top.svg */ \"./jimu-ui/lib/icons/snap-to-top.svg\") },\n        _fixed_item_menu__WEBPACK_IMPORTED_MODULE_10__[\"fixedItemMenu\"][0][4],\n        _fixed_item_menu__WEBPACK_IMPORTED_MODULE_10__[\"fixedItemMenu\"][0][5],\n        _fixed_item_menu__WEBPACK_IMPORTED_MODULE_10__[\"fixedItemMenu\"][0][6],\n        { seperator: true },\n        _fixed_item_menu__WEBPACK_IMPORTED_MODULE_10__[\"fixedItemMenu\"][0][7],\n        _fixed_item_menu__WEBPACK_IMPORTED_MODULE_10__[\"fixedItemMenu\"][0][8],\n        _fixed_item_menu__WEBPACK_IMPORTED_MODULE_10__[\"fixedItemMenu\"][0][9],\n    ]\n]);\nvar FloatingItemSetting = /** @class */ (function (_super) {\n    __extends(FloatingItemSetting, _super);\n    function FloatingItemSetting(props) {\n        var _this = _super.call(this, props) || this;\n        _this.updateBBox = function (prop, value) {\n            var _a;\n            var bbox = _this.props.layoutItem.bbox;\n            var distance = value.distance, unit = value.unit;\n            var originalValue = bbox[prop];\n            var contaienrRect = _this.getSizeOfContainer();\n            var newValue = distance.toFixed(2);\n            var pixelValue;\n            if (jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_8__[\"utils\"].isPercentage(originalValue) && unit === jimu_ui__WEBPACK_IMPORTED_MODULE_4__[\"UnitTypes\"].PIXEL) { // change from percentage to pixel\n                if (contaienrRect) {\n                    if (prop === 'left' || prop === 'right' || prop === 'width') {\n                        newValue = Math.round(parseFloat(originalValue) * contaienrRect.width / 100);\n                    }\n                    else {\n                        newValue = Math.round(parseFloat(originalValue) * contaienrRect.height / 100);\n                    }\n                    pixelValue = newValue;\n                }\n            }\n            else if (!jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_8__[\"utils\"].isPercentage(originalValue) && unit === jimu_ui__WEBPACK_IMPORTED_MODULE_4__[\"UnitTypes\"].PERCENTAGE) { // change from pixel to percentage\n                if (contaienrRect) {\n                    if (prop === 'left' || prop === 'right' || prop === 'width') {\n                        newValue = (parseFloat(originalValue) * 100 / contaienrRect.width).toFixed(4);\n                    }\n                    else {\n                        newValue = (parseFloat(originalValue) * 100 / contaienrRect.height).toFixed(4);\n                    }\n                }\n                pixelValue = parseFloat(originalValue);\n            }\n            if (!pixelValue && unit === jimu_ui__WEBPACK_IMPORTED_MODULE_4__[\"UnitTypes\"].PERCENTAGE) {\n                // change percentage value\n                var total = prop === 'width' ? contaienrRect.width : contaienrRect.height;\n                pixelValue = Math.round(distance * total / 100);\n            }\n            else if (!pixelValue && unit === jimu_ui__WEBPACK_IMPORTED_MODULE_4__[\"UnitTypes\"].PIXEL) {\n                pixelValue = distance;\n            }\n            bbox = bbox.set(prop, unit === jimu_ui__WEBPACK_IMPORTED_MODULE_4__[\"UnitTypes\"].PERCENTAGE ? newValue + \"%\" : newValue + \"px\");\n            if (((_a = _this.props.layoutItem.setting) === null || _a === void 0 ? void 0 : _a.heightMode) === 'ratio') {\n                var ratio = _this.props.layoutItem.setting.aspectRatio;\n                if (prop === 'width') {\n                    var height = pixelValue * ratio;\n                    if (jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_8__[\"utils\"].isPercentage(bbox.height)) {\n                        var newValue_1 = (height * 100 / contaienrRect.height).toFixed(4);\n                        bbox = bbox.set('height', newValue_1 + \"%\");\n                    }\n                    else {\n                        bbox = bbox.set('height', Math.round(height) + \"px\");\n                    }\n                }\n                else {\n                    var width = pixelValue / ratio;\n                    if (jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_8__[\"utils\"].isPercentage(bbox.width)) {\n                        var newValue_2 = (width * 100 / contaienrRect.width).toFixed(4);\n                        bbox = bbox.set('width', newValue_2 + \"%\");\n                    }\n                    else {\n                        bbox = bbox.set('width', Math.round(width) + \"px\");\n                    }\n                }\n            }\n            _this.props.onPosChange({\n                layoutId: _this.props.layoutId,\n                layoutItemId: _this.props.layoutItem.id,\n            }, bbox);\n        };\n        _this.updateMode = function (prop, value) {\n            var _a;\n            var setting = (_a = _this.props.layoutItem.setting) !== null && _a !== void 0 ? _a : Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"Immutable\"])({});\n            _this.props.onSettingChange({\n                layoutId: _this.props.layoutId,\n                layoutItemId: _this.props.layoutItem.id,\n            }, setting.setIn(['autoProps', prop], value));\n        };\n        _this.updateLockParent = function (e) {\n            var setting = _this.props.layoutItem.setting || Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"Immutable\"])({});\n            setting = setting.set('lockParent', e.target.checked);\n            _this.props.onSettingChange({\n                layoutId: _this.props.layoutId,\n                layoutItemId: _this.props.layoutItem.id,\n            }, setting);\n        };\n        _this.toggleHeightMode = function () {\n            var setting = _this.props.layoutItem.setting || Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"Immutable\"])({});\n            var mode = setting.heightMode === 'ratio' ? 'fixed' : 'ratio';\n            setting = setting.set('heightMode', mode);\n            if (mode === 'ratio') {\n                var itemRect = _this.getSizeOfItem();\n                if (itemRect) {\n                    setting = setting.set('aspectRatio', Number((itemRect.height / itemRect.width).toFixed(2)));\n                }\n            }\n            _this.props.onSettingChange({\n                layoutId: _this.props.layoutId,\n                layoutItemId: _this.props.layoutItem.id,\n            }, setting);\n        };\n        _this.updateAspectRatio = function (newRatio) {\n            var setting = _this.props.layoutItem.setting || Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"Immutable\"])({});\n            setting = setting.set('aspectRatio', newRatio);\n            _this.props.onSettingChange({\n                layoutId: _this.props.layoutId,\n                layoutItemId: _this.props.layoutItem.id,\n            }, setting);\n        };\n        _this.flipLeftRight = jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_8__[\"utils\"].isRTL();\n        _this.state = { enableToolbar: false };\n        return _this;\n    }\n    FloatingItemSetting.prototype.componentDidMount = function () {\n        if (this.ref) {\n            this.setState({ enableToolbar: true });\n        }\n    };\n    FloatingItemSetting.prototype.getSizeOfContainer = function () {\n        var layoutElem = this.querySelector(\"div.fixed-layout[data-layoutid=\\\"\" + this.props.layoutId + \"\\\"]\");\n        if (layoutElem) {\n            return layoutElem.getBoundingClientRect();\n        }\n        return null;\n    };\n    FloatingItemSetting.prototype.getSizeOfItem = function () {\n        var _a = this.props, layoutId = _a.layoutId, layoutItem = _a.layoutItem;\n        var layoutElem = this.querySelector(\"div.exb-rnd[data-layoutid=\\\"\" + layoutId + \"\\\"][data-layoutitemid=\\\"\" + layoutItem.id + \"\\\"]\");\n        if (layoutElem) {\n            return layoutElem.getBoundingClientRect();\n        }\n        return null;\n    };\n    FloatingItemSetting.prototype.querySelector = function (selector) {\n        var appFrame = document.querySelector(\"iframe[name=\\\"\" + jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"APP_FRAME_NAME_IN_BUILDER\"] + \"\\\"]\");\n        if (appFrame) {\n            var appFrameDoc = appFrame.contentDocument || appFrame.contentWindow.document;\n            return appFrameDoc.querySelector(selector);\n        }\n        return null;\n    };\n    FloatingItemSetting.prototype.getAspectRatio = function () {\n        var _a, _b;\n        var ratio = (_b = (_a = this.props.layoutItem.setting) === null || _a === void 0 ? void 0 : _a.aspectRatio) !== null && _b !== void 0 ? _b : -1;\n        if (ratio < 0) {\n            return '';\n        }\n        var width = 100;\n        var height = Math.round(ratio * 100);\n        var common = jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_8__[\"utils\"].gcd(width, height);\n        return width / common + \" : \" + height / common;\n    };\n    FloatingItemSetting.prototype.sizeModeOptions = function () {\n        var _this = this;\n        return sizemodes.map(function (mode, index) { return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"option\", { value: mode, key: index }, _this.props.formatMessage(mode.toLowerCase())); });\n    };\n    /**\n     * 1. In a scrolling page\n     * 2. In a screen view\n     * 3. The first block is not a screen section, or it's not in the first view\n     */\n    FloatingItemSetting.prototype.supportAnimation = function () {\n        var layoutId = this.props.layoutId;\n        var appConfig = Object(jimu_for_builder__WEBPACK_IMPORTED_MODULE_1__[\"getAppConfigAction\"])().appConfig;\n        var pageRootLayoutId = jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_8__[\"utils\"].getCurrentPageRootLayoutId();\n        var pageLayout = appConfig.layouts[pageRootLayoutId];\n        if ((pageLayout === null || pageLayout === void 0 ? void 0 : pageLayout.type) === jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"LayoutType\"].FlowLayout) {\n            var parentViewId_1 = jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_8__[\"searchUtils\"].findParentViewId(appConfig, layoutId);\n            if (parentViewId_1) { // it' in a view\n                var parentSectionId_1 = jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_8__[\"searchUtils\"].findParentSectionId(appConfig, parentViewId_1);\n                var isInPageLayout_1 = false;\n                var isFirst_1 = false;\n                pageLayout.order.some(function (itemId, index) {\n                    var layoutItem = pageLayout.content[itemId];\n                    if (layoutItem.type === jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"LayoutItemType\"].Section && layoutItem.sectionId === parentSectionId_1) {\n                        isInPageLayout_1 = true;\n                        var section = appConfig.sections[layoutItem.sectionId];\n                        isFirst_1 = index === 0 && section.views.indexOf(parentViewId_1) === 0;\n                        return true;\n                    }\n                });\n                return isInPageLayout_1 && !isFirst_1;\n            }\n        }\n        return false;\n    };\n    FloatingItemSetting.prototype.getStyle = function () {\n        return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n      .layout-item-toolbar {\\n        box-shadow: none;\\n        background: transparent;\\n\\n        .toolbar-item, icon-container {\\n          width: 26px;\\n          min-height: 26px;\\n        }\\n        .toolbar-group {\\n          background: transparent;\\n          margin: 0 1px;\\n          min-width: 40px;\\n        }\\n        .toolbar-item {\\n          margin: 0 1px;\\n          background: transparent;\\n          &:hover {\\n            background: var(--light-500);\\n          }\\n\\n          svg {\\n            width: 14px;\\n            height: 14px;\\n          }\\n        }\\n      }\\n\\n      .ratio-value {\\n        font-size: 12px;\\n      }\\n    \"], [\"\\n      .layout-item-toolbar {\\n        box-shadow: none;\\n        background: transparent;\\n\\n        .toolbar-item, icon-container {\\n          width: 26px;\\n          min-height: 26px;\\n        }\\n        .toolbar-group {\\n          background: transparent;\\n          margin: 0 1px;\\n          min-width: 40px;\\n        }\\n        .toolbar-item {\\n          margin: 0 1px;\\n          background: transparent;\\n          &:hover {\\n            background: var(--light-500);\\n          }\\n\\n          svg {\\n            width: 14px;\\n            height: 14px;\\n          }\\n        }\\n      }\\n\\n      .ratio-value {\\n        font-size: 12px;\\n      }\\n    \"])));\n    };\n    FloatingItemSetting.prototype.render = function () {\n        var _this = this;\n        var _a = this.props, layoutItem = _a.layoutItem, layoutId = _a.layoutId, formatMessage = _a.formatMessage, isLockLayout = _a.isLockLayout;\n        if (!layoutItem) {\n            return null;\n        }\n        this.itemSetting = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"lodash\"].assign({}, _default_setting__WEBPACK_IMPORTED_MODULE_2__[\"DEFAULT_FIX_LAYOUT_ITEM_SETTING\"], layoutItem.setting);\n        var isKeepAspect = this.itemSetting.heightMode === 'ratio';\n        var widthMode = isKeepAspect ?\n            jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_8__[\"LayoutItemSizeModes\"].Custom : jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_8__[\"utils\"].getLayoutItemSizeMode('width', layoutItem.bbox, this.itemSetting.autoProps);\n        var heightMode = isKeepAspect ?\n            jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_8__[\"LayoutItemSizeModes\"].Custom : jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_8__[\"utils\"].getLayoutItemSizeMode('height', layoutItem.bbox, this.itemSetting.autoProps);\n        var bbox = layoutItem.bbox;\n        var theme = Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"getAppStore\"])().getState().theme;\n        var isPixelWidth = !jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_8__[\"utils\"].isPercentage(bbox.width);\n        var isPixelHeight = !jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_8__[\"utils\"].isPercentage(bbox.height);\n        var canKeepAspect = heightMode === jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_8__[\"LayoutItemSizeModes\"].Custom && widthMode === heightMode && isPixelHeight && isPixelWidth;\n        var inputStyle = Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_2 || (templateObject_2 = __makeTemplateObject([\"width: 60%;\"], [\"width: 60%;\"])));\n        return (Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"fixed-item-setting\", css: this.getStyle(), ref: function (el) { return (_this.ref = el); } },\n            !isLockLayout && this.state.enableToolbar && Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].Fragment, null,\n                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_3__[\"SettingSection\"], { className: \"p-0 d-flex justify-content-center\" },\n                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_builder_toolbar__WEBPACK_IMPORTED_MODULE_11__[\"Toolbar\"], { layoutId: layoutId, layoutItem: layoutItem, parentRef: this.ref, theme: theme, tools: positionMenus, formatMessage: this.props.formatMessage })),\n                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_3__[\"SettingSection\"], { title: formatMessage('size') + \" & \" + formatMessage('position') },\n                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_3__[\"SettingRow\"], { label: formatMessage('width') },\n                        Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { css: inputStyle },\n                            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui_advanced_style_setting_components__WEBPACK_IMPORTED_MODULE_5__[\"SizeEditor\"], { label: \"W\", mode: widthMode, disableModeSelect: isKeepAspect, availableUnits: isKeepAspect ? pixelUnitOnly : null, value: jimu_ui__WEBPACK_IMPORTED_MODULE_4__[\"utils\"].stringOfLinearUnit(bbox.width), onChange: function (value) { return _this.updateBBox('width', value); }, onModeChange: function (value) { return _this.updateMode('width', value); } }))),\n                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"ml-3 d-flex\", css: Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_3 || (templateObject_3 = __makeTemplateObject([\"\\n                visibility: \", \";\\n                .icon {\\n                  cursor: pointer;\\n                  width: 12px;\\n                }\\n              \"], [\"\\n                visibility: \", \";\\n                .icon {\\n                  cursor: pointer;\\n                  width: 12px;\\n                }\\n              \"])), canKeepAspect ? 'visible' : 'hidden') },\n                        Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_4__[\"Tooltip\"], { title: formatMessage('aspectRatio'), placement: \"bottom\" },\n                            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"icon\", onClick: this.toggleHeightMode },\n                                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_4__[\"Icon\"], { icon: this.itemSetting.heightMode === 'ratio' ? lockIcon : unlockIcon, size: 12 })))),\n                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_3__[\"SettingRow\"], { label: formatMessage('height') },\n                        Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { css: inputStyle },\n                            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui_advanced_style_setting_components__WEBPACK_IMPORTED_MODULE_5__[\"SizeEditor\"], { label: \"H\", mode: heightMode, disableModeSelect: isKeepAspect, availableUnits: isKeepAspect ? pixelUnitOnly : null, value: jimu_ui__WEBPACK_IMPORTED_MODULE_4__[\"utils\"].stringOfLinearUnit(bbox.height), onChange: function (value) { return _this.updateBBox('height', value); }, onModeChange: function (value) { return _this.updateMode('height', value); } }))),\n                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_3__[\"SettingRow\"], null,\n                        Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_item_position_setting__WEBPACK_IMPORTED_MODULE_9__[\"ItemPositionSetting\"], __assign({}, this.props, { widthMode: widthMode, heightMode: heightMode }))),\n                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_builder_common_transform_setting__WEBPACK_IMPORTED_MODULE_7__[\"default\"], { layoutId: layoutId, layoutItemId: layoutItem.id, setting: layoutItem.setting, onSettingChange: this.props.onSettingChange, formatMessage: this.props.formatMessage })),\n                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_3__[\"SettingSection\"], null,\n                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_3__[\"SettingRow\"], { label: formatMessage('lockParent') },\n                        Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_4__[\"Switch\"], { checked: this.itemSetting.lockParent, onChange: this.updateLockParent })))),\n            (layoutItem.widgetId || layoutItem.sectionId) && Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_builder_common_layout_item_setting__WEBPACK_IMPORTED_MODULE_6__[\"default\"], { layoutId: layoutId, layoutItemId: layoutItem.id, style: this.props.style, isSection: layoutItem.type === jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"LayoutItemType\"].Section, onStyleChange: this.props.onStyleChange, formatMessage: this.props.formatMessage, setting: layoutItem.setting || Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"Immutable\"])({}), onSettingChange: this.props.onSettingChange })));\n    };\n    return FloatingItemSetting;\n}(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].PureComponent));\n/* harmony default export */ __webpack_exports__[\"default\"] = (FloatingItemSetting);\nvar templateObject_1, templateObject_2, templateObject_3;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWxheW91dHMvbGliL2ZpeGVkLWxheW91dC9idWlsZGVyL2ZpeGVkLWl0ZW0tc2V0dGluZy50c3guanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qaW11LWxheW91dHMvbGliL2ZpeGVkLWxheW91dC9idWlsZGVyL2ZpeGVkLWl0ZW0tc2V0dGluZy50c3g/MzM5YyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiogQGpzeCBqc3ggKi9cbmltcG9ydCB7XG4gIFJlYWN0LFxuICBJbW11dGFibGUsXG4gIGpzeCxcbiAgY3NzLFxuICBsb2Rhc2gsXG4gIEFQUF9GUkFNRV9OQU1FX0lOX0JVSUxERVIsXG4gIExheW91dEl0ZW1UeXBlLFxuICBJTUJvdW5kaW5nQm94LFxuICBMYXlvdXRUeXBlLFxuICBJTUxheW91dEl0ZW1Kc29uLFxuICBnZXRBcHBTdG9yZSxcbn0gZnJvbSAnamltdS1jb3JlJztcbmltcG9ydCB7IGdldEFwcENvbmZpZ0FjdGlvbiB9IGZyb20gJ2ppbXUtZm9yLWJ1aWxkZXInO1xuaW1wb3J0IHsgRml4ZWRMYXlvdXRJdGVtU2V0dGluZyB9IGZyb20gJy4uLy4uL3R5cGVzJztcbmltcG9ydCB7IERFRkFVTFRfRklYX0xBWU9VVF9JVEVNX1NFVFRJTkcgfSBmcm9tICcuLi9kZWZhdWx0LXNldHRpbmcnO1xuaW1wb3J0IHtcbiAgU2V0dGluZ1NlY3Rpb24sXG4gIFNldHRpbmdSb3csXG59IGZyb20gJ2ppbXUtdWkvYWR2YW5jZWQvc2V0dGluZy1jb21wb25lbnRzJztcbmltcG9ydCB7IFRvb2x0aXAsIEljb24sIFN3aXRjaCwgTGluZWFyVW5pdCwgVW5pdFR5cGVzLCB1dGlscyBhcyB1aVV0aWxzIH0gZnJvbSAnamltdS11aSc7XG5pbXBvcnQgeyBTaXplRWRpdG9yIH0gZnJvbSAnamltdS11aS9hZHZhbmNlZC9zdHlsZS1zZXR0aW5nLWNvbXBvbmVudHMnO1xuaW1wb3J0IENvbW1vbkxheW91dEl0ZW1TZXR0aW5nIGZyb20gJy4uLy4uL2J1aWxkZXIvY29tbW9uLWxheW91dC1pdGVtLXNldHRpbmcnO1xuaW1wb3J0IENvbW1vblRyYW5zZm9ybVNldHRpbmcgZnJvbSAnLi4vLi4vYnVpbGRlci9jb21tb24tdHJhbnNmb3JtLXNldHRpbmcnO1xuaW1wb3J0IHsgdXRpbHMsIHNlYXJjaFV0aWxzLCBMYXlvdXRJdGVtU2l6ZU1vZGVzIH0gZnJvbSAnamltdS1sYXlvdXRzL2xheW91dC1ydW50aW1lJztcbmltcG9ydCB7IExheW91dEl0ZW1TZXR0aW5nUHJvcHMgfSBmcm9tICcuLi8uLi9idWlsZGVyL3R5cGVzJztcbmltcG9ydCB7IEl0ZW1Qb3NpdGlvblNldHRpbmd9IGZyb20gJy4vaXRlbS1wb3NpdGlvbi1zZXR0aW5nJztcbmltcG9ydCB7IGZpeGVkSXRlbU1lbnUgfSBmcm9tICcuL2ZpeGVkLWl0ZW0tbWVudSc7XG5pbXBvcnQgeyBUb29sYmFyIH0gZnJvbSAnLi4vLi4vYnVpbGRlci90b29sYmFyJztcblxuY29uc3QgbG9ja0ljb24gPSByZXF1aXJlKCdqaW11LXVpL2xpYi9pY29ucy9sb2NrLnN2ZycpO1xuY29uc3QgdW5sb2NrSWNvbiA9IHJlcXVpcmUoJ2ppbXUtdWkvbGliL2ljb25zL3VubG9jay5zdmcnKTtcblxuY29uc3Qgc2l6ZW1vZGVzID0gW0xheW91dEl0ZW1TaXplTW9kZXMuQXV0bywgTGF5b3V0SXRlbVNpemVNb2Rlcy5DdXN0b20sIExheW91dEl0ZW1TaXplTW9kZXMuU3RyZXRjaF07XG5jb25zdCBwaXhlbFVuaXRPbmx5ID0gW1VuaXRUeXBlcy5QSVhFTF07XG5cbmNvbnN0IGdyb3VwMSA9IFtcbiAgZml4ZWRJdGVtTWVudVsxXVsxXSxcbiAgZml4ZWRJdGVtTWVudVsxXVsyXSxcbiAgZml4ZWRJdGVtTWVudVsxXVszXSxcbiAgZml4ZWRJdGVtTWVudVsxXVs0XSxcbiAgeyBzZXBlcmF0b3I6IHRydWUgfSxcbiAgZml4ZWRJdGVtTWVudVswXVsxXSxcbiAgZml4ZWRJdGVtTWVudVswXVsyXSxcbiAgZml4ZWRJdGVtTWVudVswXVszXSxcbl0ubWFwKGl0ZW0gPT4geyByZXR1cm4gey4uLml0ZW0sIHRpdGxlOiBpdGVtLnRpdGxlLCBsYWJlbDogbnVsbH19KTtcblxuY29uc3QgcG9zaXRpb25NZW51cyA9IFtcbiAgLi4uZ3JvdXAxLFxuICBbXG4gICAge2ljb246IHJlcXVpcmUoJ2ppbXUtdWkvbGliL2ljb25zL3NuYXAtdG8tdG9wLnN2ZycpfSxcbiAgICBmaXhlZEl0ZW1NZW51WzBdWzRdLFxuICAgIGZpeGVkSXRlbU1lbnVbMF1bNV0sXG4gICAgZml4ZWRJdGVtTWVudVswXVs2XSxcbiAgICB7IHNlcGVyYXRvcjogdHJ1ZSB9LFxuICAgIGZpeGVkSXRlbU1lbnVbMF1bN10sXG4gICAgZml4ZWRJdGVtTWVudVswXVs4XSxcbiAgICBmaXhlZEl0ZW1NZW51WzBdWzldLFxuICBdXG5dO1xuXG5pbnRlcmZhY2UgU3RhdGUge1xuICBlbmFibGVUb29sYmFyOiBib29sZWFuO1xufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBGbG9hdGluZ0l0ZW1TZXR0aW5nIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudDxMYXlvdXRJdGVtU2V0dGluZ1Byb3BzLCBTdGF0ZT4ge1xuICBpdGVtU2V0dGluZzogRml4ZWRMYXlvdXRJdGVtU2V0dGluZztcbiAgZmxpcExlZnRSaWdodDogYm9vbGVhbjtcbiAgcmVmOiBIVE1MRGl2RWxlbWVudDtcblxuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLmZsaXBMZWZ0UmlnaHQgPSB1dGlscy5pc1JUTCgpO1xuICAgIHRoaXMuc3RhdGUgPSB7IGVuYWJsZVRvb2xiYXI6IGZhbHNlIH07XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBpZiAodGhpcy5yZWYpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBlbmFibGVUb29sYmFyOiB0cnVlIH0pO1xuICAgIH1cbiAgfVxuXG4gIHVwZGF0ZUJCb3ggPSAocHJvcDogc3RyaW5nLCB2YWx1ZTogTGluZWFyVW5pdCkgPT4ge1xuICAgIGxldCBiYm94ID0gdGhpcy5wcm9wcy5sYXlvdXRJdGVtLmJib3ggYXMgSU1Cb3VuZGluZ0JveDtcbiAgICBjb25zdCB7IGRpc3RhbmNlLCB1bml0IH0gPSB2YWx1ZTtcbiAgICBjb25zdCBvcmlnaW5hbFZhbHVlID0gYmJveFtwcm9wXTtcbiAgICBjb25zdCBjb250YWllbnJSZWN0ID0gdGhpcy5nZXRTaXplT2ZDb250YWluZXIoKTtcbiAgICBsZXQgbmV3VmFsdWU6IHN0cmluZyB8IG51bWJlciA9IGRpc3RhbmNlLnRvRml4ZWQoMik7XG4gICAgbGV0IHBpeGVsVmFsdWU6IG51bWJlcjtcblxuICAgIGlmICh1dGlscy5pc1BlcmNlbnRhZ2Uob3JpZ2luYWxWYWx1ZSkgJiYgdW5pdCA9PT0gVW5pdFR5cGVzLlBJWEVMKSB7IC8vIGNoYW5nZSBmcm9tIHBlcmNlbnRhZ2UgdG8gcGl4ZWxcbiAgICAgIGlmIChjb250YWllbnJSZWN0KSB7XG4gICAgICAgIGlmIChwcm9wID09PSAnbGVmdCcgfHwgcHJvcCA9PT0gJ3JpZ2h0JyB8fCBwcm9wID09PSAnd2lkdGgnKSB7XG4gICAgICAgICAgbmV3VmFsdWUgPSBNYXRoLnJvdW5kKHBhcnNlRmxvYXQob3JpZ2luYWxWYWx1ZSkgKiBjb250YWllbnJSZWN0LndpZHRoIC8gMTAwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBuZXdWYWx1ZSA9IE1hdGgucm91bmQocGFyc2VGbG9hdChvcmlnaW5hbFZhbHVlKSAqIGNvbnRhaWVuclJlY3QuaGVpZ2h0IC8gMTAwKTtcbiAgICAgICAgfVxuICAgICAgICBwaXhlbFZhbHVlID0gbmV3VmFsdWU7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICghdXRpbHMuaXNQZXJjZW50YWdlKG9yaWdpbmFsVmFsdWUpICYmIHVuaXQgPT09IFVuaXRUeXBlcy5QRVJDRU5UQUdFKSB7IC8vIGNoYW5nZSBmcm9tIHBpeGVsIHRvIHBlcmNlbnRhZ2VcbiAgICAgIGlmIChjb250YWllbnJSZWN0KSB7XG4gICAgICAgIGlmIChwcm9wID09PSAnbGVmdCcgfHwgcHJvcCA9PT0gJ3JpZ2h0JyB8fCBwcm9wID09PSAnd2lkdGgnKSB7XG4gICAgICAgICAgbmV3VmFsdWUgPSAocGFyc2VGbG9hdChvcmlnaW5hbFZhbHVlKSAqIDEwMCAvIGNvbnRhaWVuclJlY3Qud2lkdGgpLnRvRml4ZWQoNCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbmV3VmFsdWUgPSAocGFyc2VGbG9hdChvcmlnaW5hbFZhbHVlKSAqIDEwMCAvIGNvbnRhaWVuclJlY3QuaGVpZ2h0KS50b0ZpeGVkKDQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBwaXhlbFZhbHVlID0gcGFyc2VGbG9hdChvcmlnaW5hbFZhbHVlKTtcbiAgICB9XG5cbiAgICBpZiAoIXBpeGVsVmFsdWUgJiYgdW5pdCA9PT0gVW5pdFR5cGVzLlBFUkNFTlRBR0UpIHtcbiAgICAgIC8vIGNoYW5nZSBwZXJjZW50YWdlIHZhbHVlXG4gICAgICBjb25zdCB0b3RhbCA9IHByb3AgPT09ICd3aWR0aCcgPyBjb250YWllbnJSZWN0LndpZHRoIDogY29udGFpZW5yUmVjdC5oZWlnaHQ7XG4gICAgICBwaXhlbFZhbHVlID0gTWF0aC5yb3VuZChkaXN0YW5jZSAqIHRvdGFsIC8gMTAwKTtcbiAgICB9IGVsc2UgaWYgKCFwaXhlbFZhbHVlICYmIHVuaXQgPT09IFVuaXRUeXBlcy5QSVhFTCl7XG4gICAgICBwaXhlbFZhbHVlID0gZGlzdGFuY2U7XG4gICAgfVxuXG4gICAgYmJveCA9IGJib3guc2V0KHByb3AsIHVuaXQgPT09IFVuaXRUeXBlcy5QRVJDRU5UQUdFID8gYCR7bmV3VmFsdWV9JWAgOiBgJHtuZXdWYWx1ZX1weGApO1xuXG4gICAgaWYgKHRoaXMucHJvcHMubGF5b3V0SXRlbS5zZXR0aW5nPy5oZWlnaHRNb2RlID09PSAncmF0aW8nKSB7XG4gICAgICBjb25zdCByYXRpbyA9IHRoaXMucHJvcHMubGF5b3V0SXRlbS5zZXR0aW5nLmFzcGVjdFJhdGlvO1xuICAgICAgaWYgKHByb3AgPT09ICd3aWR0aCcpIHtcbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gcGl4ZWxWYWx1ZSAqIHJhdGlvO1xuICAgICAgICBpZiAodXRpbHMuaXNQZXJjZW50YWdlKGJib3guaGVpZ2h0KSkge1xuICAgICAgICAgIGNvbnN0IG5ld1ZhbHVlID0gKGhlaWdodCAqIDEwMCAvIGNvbnRhaWVuclJlY3QuaGVpZ2h0KS50b0ZpeGVkKDQpO1xuICAgICAgICAgIGJib3ggPSBiYm94LnNldCgnaGVpZ2h0JywgYCR7bmV3VmFsdWV9JWApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGJib3ggPSBiYm94LnNldCgnaGVpZ2h0JywgYCR7TWF0aC5yb3VuZChoZWlnaHQpfXB4YCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IHdpZHRoID0gcGl4ZWxWYWx1ZSAvIHJhdGlvO1xuICAgICAgICBpZiAodXRpbHMuaXNQZXJjZW50YWdlKGJib3gud2lkdGgpKSB7XG4gICAgICAgICAgY29uc3QgbmV3VmFsdWUgPSAod2lkdGggKiAxMDAgLyBjb250YWllbnJSZWN0LndpZHRoKS50b0ZpeGVkKDQpO1xuICAgICAgICAgIGJib3ggPSBiYm94LnNldCgnd2lkdGgnLCBgJHtuZXdWYWx1ZX0lYCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYmJveCA9IGJib3guc2V0KCd3aWR0aCcsIGAke01hdGgucm91bmQod2lkdGgpfXB4YCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLnByb3BzLm9uUG9zQ2hhbmdlKFxuICAgICAge1xuICAgICAgICBsYXlvdXRJZDogdGhpcy5wcm9wcy5sYXlvdXRJZCxcbiAgICAgICAgbGF5b3V0SXRlbUlkOiB0aGlzLnByb3BzLmxheW91dEl0ZW0uaWQsXG4gICAgICB9LFxuICAgICAgYmJveFxuICAgICk7XG4gIH1cblxuICB1cGRhdGVNb2RlID0gKHByb3A6IHN0cmluZywgdmFsdWU6IExheW91dEl0ZW1TaXplTW9kZXMpID0+IHtcbiAgICBjb25zdCBzZXR0aW5nID0gdGhpcy5wcm9wcy5sYXlvdXRJdGVtLnNldHRpbmcgPz8gSW1tdXRhYmxlKHt9KTtcbiAgICB0aGlzLnByb3BzLm9uU2V0dGluZ0NoYW5nZShcbiAgICAgIHtcbiAgICAgICAgbGF5b3V0SWQ6IHRoaXMucHJvcHMubGF5b3V0SWQsXG4gICAgICAgIGxheW91dEl0ZW1JZDogdGhpcy5wcm9wcy5sYXlvdXRJdGVtLmlkLFxuICAgICAgfSxcbiAgICAgIHNldHRpbmcuc2V0SW4oWydhdXRvUHJvcHMnLCBwcm9wXSwgdmFsdWUpXG4gICAgKTtcbiAgfVxuXG4gIHVwZGF0ZUxvY2tQYXJlbnQgPSAoZSkgPT4ge1xuICAgIGxldCBzZXR0aW5nID0gdGhpcy5wcm9wcy5sYXlvdXRJdGVtLnNldHRpbmcgfHwgSW1tdXRhYmxlKHt9KTtcbiAgICBzZXR0aW5nID0gc2V0dGluZy5zZXQoJ2xvY2tQYXJlbnQnLCBlLnRhcmdldC5jaGVja2VkKTtcbiAgICB0aGlzLnByb3BzLm9uU2V0dGluZ0NoYW5nZShcbiAgICAgIHtcbiAgICAgICAgbGF5b3V0SWQ6IHRoaXMucHJvcHMubGF5b3V0SWQsXG4gICAgICAgIGxheW91dEl0ZW1JZDogdGhpcy5wcm9wcy5sYXlvdXRJdGVtLmlkLFxuICAgICAgfSxcbiAgICAgIHNldHRpbmcsXG4gICAgKTtcbiAgfVxuXG4gIGdldFNpemVPZkNvbnRhaW5lcigpOiBDbGllbnRSZWN0IHtcbiAgICBjb25zdCBsYXlvdXRFbGVtID0gdGhpcy5xdWVyeVNlbGVjdG9yKGBkaXYuZml4ZWQtbGF5b3V0W2RhdGEtbGF5b3V0aWQ9XCIke3RoaXMucHJvcHMubGF5b3V0SWR9XCJdYCk7XG4gICAgaWYgKGxheW91dEVsZW0pIHtcbiAgICAgIHJldHVybiBsYXlvdXRFbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGdldFNpemVPZkl0ZW0oKTogQ2xpZW50UmVjdCB7XG4gICAgY29uc3QgeyBsYXlvdXRJZCwgbGF5b3V0SXRlbSB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCBsYXlvdXRFbGVtID0gdGhpcy5xdWVyeVNlbGVjdG9yKFxuICAgICAgYGRpdi5leGItcm5kW2RhdGEtbGF5b3V0aWQ9XCIke2xheW91dElkfVwiXVtkYXRhLWxheW91dGl0ZW1pZD1cIiR7bGF5b3V0SXRlbS5pZH1cIl1gKTtcbiAgICBpZiAobGF5b3V0RWxlbSkge1xuICAgICAgcmV0dXJuIGxheW91dEVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgcXVlcnlTZWxlY3RvcihzZWxlY3Rvcjogc3RyaW5nKTogSFRNTEVsZW1lbnQge1xuICAgIGNvbnN0IGFwcEZyYW1lOiBIVE1MRnJhbWVFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgaWZyYW1lW25hbWU9XCIke0FQUF9GUkFNRV9OQU1FX0lOX0JVSUxERVJ9XCJdYCk7XG4gICAgaWYgKGFwcEZyYW1lKSB7XG4gICAgICBjb25zdCBhcHBGcmFtZURvYyA9IGFwcEZyYW1lLmNvbnRlbnREb2N1bWVudCB8fCBhcHBGcmFtZS5jb250ZW50V2luZG93LmRvY3VtZW50O1xuICAgICAgcmV0dXJuIGFwcEZyYW1lRG9jLnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHRvZ2dsZUhlaWdodE1vZGUgPSAoKSA9PiB7XG4gICAgbGV0IHNldHRpbmcgPSB0aGlzLnByb3BzLmxheW91dEl0ZW0uc2V0dGluZyB8fCBJbW11dGFibGUoe30pO1xuICAgIGNvbnN0IG1vZGUgPSBzZXR0aW5nLmhlaWdodE1vZGUgPT09ICdyYXRpbycgPyAnZml4ZWQnIDogJ3JhdGlvJztcbiAgICBzZXR0aW5nID0gc2V0dGluZy5zZXQoJ2hlaWdodE1vZGUnLCBtb2RlKTtcbiAgICBpZiAobW9kZSA9PT0gJ3JhdGlvJykge1xuICAgICAgY29uc3QgaXRlbVJlY3QgPSB0aGlzLmdldFNpemVPZkl0ZW0oKTtcbiAgICAgIGlmIChpdGVtUmVjdCkge1xuICAgICAgICBzZXR0aW5nID0gc2V0dGluZy5zZXQoJ2FzcGVjdFJhdGlvJywgTnVtYmVyKChpdGVtUmVjdC5oZWlnaHQgLyBpdGVtUmVjdC53aWR0aCkudG9GaXhlZCgyKSkpO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLnByb3BzLm9uU2V0dGluZ0NoYW5nZShcbiAgICAgIHtcbiAgICAgICAgbGF5b3V0SWQ6IHRoaXMucHJvcHMubGF5b3V0SWQsXG4gICAgICAgIGxheW91dEl0ZW1JZDogdGhpcy5wcm9wcy5sYXlvdXRJdGVtLmlkLFxuICAgICAgfSxcbiAgICAgIHNldHRpbmcsXG4gICAgKTtcbiAgfVxuXG4gIGdldEFzcGVjdFJhdGlvKCkge1xuICAgIGNvbnN0IHJhdGlvID0gdGhpcy5wcm9wcy5sYXlvdXRJdGVtLnNldHRpbmc/LmFzcGVjdFJhdGlvID8/IC0xO1xuICAgIGlmIChyYXRpbyA8IDApIHtcbiAgICAgIHJldHVybiAnJztcbiAgICB9XG4gICAgY29uc3Qgd2lkdGggPSAxMDA7XG4gICAgY29uc3QgaGVpZ2h0ID0gTWF0aC5yb3VuZChyYXRpbyAqIDEwMCk7XG4gICAgY29uc3QgY29tbW9uID0gdXRpbHMuZ2NkKHdpZHRoLCBoZWlnaHQpO1xuICAgIHJldHVybiBgJHt3aWR0aCAvIGNvbW1vbn0gOiAke2hlaWdodCAvIGNvbW1vbn1gO1xuICB9XG5cbiAgdXBkYXRlQXNwZWN0UmF0aW8gPSAobmV3UmF0aW8pID0+IHtcbiAgICBsZXQgc2V0dGluZyA9IHRoaXMucHJvcHMubGF5b3V0SXRlbS5zZXR0aW5nIHx8IEltbXV0YWJsZSh7fSk7XG4gICAgc2V0dGluZyA9IHNldHRpbmcuc2V0KCdhc3BlY3RSYXRpbycsIG5ld1JhdGlvKTtcbiAgICB0aGlzLnByb3BzLm9uU2V0dGluZ0NoYW5nZShcbiAgICAgIHtcbiAgICAgICAgbGF5b3V0SWQ6IHRoaXMucHJvcHMubGF5b3V0SWQsXG4gICAgICAgIGxheW91dEl0ZW1JZDogdGhpcy5wcm9wcy5sYXlvdXRJdGVtLmlkLFxuICAgICAgfSxcbiAgICAgIHNldHRpbmcsXG4gICAgKTtcbiAgfVxuXG4gIHNpemVNb2RlT3B0aW9ucygpIHtcbiAgICByZXR1cm4gc2l6ZW1vZGVzLm1hcCgobW9kZSwgaW5kZXgpID0+IDxvcHRpb24gdmFsdWU9e21vZGV9IGtleT17aW5kZXh9Pnt0aGlzLnByb3BzLmZvcm1hdE1lc3NhZ2UobW9kZS50b0xvd2VyQ2FzZSgpKX08L29wdGlvbj4pO1xuICB9XG5cbiAgLyoqXG4gICAqIDEuIEluIGEgc2Nyb2xsaW5nIHBhZ2VcbiAgICogMi4gSW4gYSBzY3JlZW4gdmlld1xuICAgKiAzLiBUaGUgZmlyc3QgYmxvY2sgaXMgbm90IGEgc2NyZWVuIHNlY3Rpb24sIG9yIGl0J3Mgbm90IGluIHRoZSBmaXJzdCB2aWV3XG4gICAqL1xuICBzdXBwb3J0QW5pbWF0aW9uKCk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IHsgbGF5b3V0SWQgfSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3QgYXBwQ29uZmlnID0gZ2V0QXBwQ29uZmlnQWN0aW9uKCkuYXBwQ29uZmlnO1xuICAgIGNvbnN0IHBhZ2VSb290TGF5b3V0SWQgPSB1dGlscy5nZXRDdXJyZW50UGFnZVJvb3RMYXlvdXRJZCgpO1xuICAgIGNvbnN0IHBhZ2VMYXlvdXQgPSBhcHBDb25maWcubGF5b3V0c1twYWdlUm9vdExheW91dElkXTtcbiAgICBpZiAocGFnZUxheW91dD8udHlwZSA9PT0gTGF5b3V0VHlwZS5GbG93TGF5b3V0KSB7XG4gICAgICBjb25zdCBwYXJlbnRWaWV3SWQgPSBzZWFyY2hVdGlscy5maW5kUGFyZW50Vmlld0lkKGFwcENvbmZpZywgbGF5b3V0SWQpO1xuICAgICAgaWYgKHBhcmVudFZpZXdJZCkgeyAvLyBpdCcgaW4gYSB2aWV3XG4gICAgICAgIGNvbnN0IHBhcmVudFNlY3Rpb25JZCA9IHNlYXJjaFV0aWxzLmZpbmRQYXJlbnRTZWN0aW9uSWQoYXBwQ29uZmlnLCBwYXJlbnRWaWV3SWQpO1xuICAgICAgICBsZXQgaXNJblBhZ2VMYXlvdXQgPSBmYWxzZTtcbiAgICAgICAgbGV0IGlzRmlyc3QgPSBmYWxzZTtcblxuICAgICAgICBwYWdlTGF5b3V0Lm9yZGVyLnNvbWUoKGl0ZW1JZCwgaW5kZXgpID0+IHtcbiAgICAgICAgICBjb25zdCBsYXlvdXRJdGVtID0gcGFnZUxheW91dC5jb250ZW50W2l0ZW1JZF07XG4gICAgICAgICAgaWYgKGxheW91dEl0ZW0udHlwZSA9PT0gTGF5b3V0SXRlbVR5cGUuU2VjdGlvbiAmJiBsYXlvdXRJdGVtLnNlY3Rpb25JZCA9PT0gcGFyZW50U2VjdGlvbklkKSB7XG4gICAgICAgICAgICBpc0luUGFnZUxheW91dCA9IHRydWU7XG4gICAgICAgICAgICBjb25zdCBzZWN0aW9uID0gYXBwQ29uZmlnLnNlY3Rpb25zW2xheW91dEl0ZW0uc2VjdGlvbklkXTtcbiAgICAgICAgICAgIGlzRmlyc3QgPSBpbmRleCA9PT0gMCAmJiBzZWN0aW9uLnZpZXdzLmluZGV4T2YocGFyZW50Vmlld0lkKSA9PT0gMDtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBpc0luUGFnZUxheW91dCAmJiAhaXNGaXJzdDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBnZXRTdHlsZSgpIHtcbiAgICByZXR1cm4gY3NzYFxuICAgICAgLmxheW91dC1pdGVtLXRvb2xiYXIge1xuICAgICAgICBib3gtc2hhZG93OiBub25lO1xuICAgICAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcblxuICAgICAgICAudG9vbGJhci1pdGVtLCBpY29uLWNvbnRhaW5lciB7XG4gICAgICAgICAgd2lkdGg6IDI2cHg7XG4gICAgICAgICAgbWluLWhlaWdodDogMjZweDtcbiAgICAgICAgfVxuICAgICAgICAudG9vbGJhci1ncm91cCB7XG4gICAgICAgICAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XG4gICAgICAgICAgbWFyZ2luOiAwIDFweDtcbiAgICAgICAgICBtaW4td2lkdGg6IDQwcHg7XG4gICAgICAgIH1cbiAgICAgICAgLnRvb2xiYXItaXRlbSB7XG4gICAgICAgICAgbWFyZ2luOiAwIDFweDtcbiAgICAgICAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcbiAgICAgICAgICAmOmhvdmVyIHtcbiAgICAgICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWxpZ2h0LTUwMCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgc3ZnIHtcbiAgICAgICAgICAgIHdpZHRoOiAxNHB4O1xuICAgICAgICAgICAgaGVpZ2h0OiAxNHB4O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAucmF0aW8tdmFsdWUge1xuICAgICAgICBmb250LXNpemU6IDEycHg7XG4gICAgICB9XG4gICAgYDtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IGxheW91dEl0ZW0sIGxheW91dElkLCBmb3JtYXRNZXNzYWdlLCBpc0xvY2tMYXlvdXQgfSA9IHRoaXMucHJvcHM7XG4gICAgaWYgKCFsYXlvdXRJdGVtKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgdGhpcy5pdGVtU2V0dGluZyA9IGxvZGFzaC5hc3NpZ24oe30sIERFRkFVTFRfRklYX0xBWU9VVF9JVEVNX1NFVFRJTkcsIGxheW91dEl0ZW0uc2V0dGluZyk7XG4gICAgY29uc3QgaXNLZWVwQXNwZWN0ID0gdGhpcy5pdGVtU2V0dGluZy5oZWlnaHRNb2RlID09PSAncmF0aW8nO1xuXG4gICAgY29uc3Qgd2lkdGhNb2RlID0gaXNLZWVwQXNwZWN0ID9cbiAgICAgIExheW91dEl0ZW1TaXplTW9kZXMuQ3VzdG9tIDogdXRpbHMuZ2V0TGF5b3V0SXRlbVNpemVNb2RlKCd3aWR0aCcsIGxheW91dEl0ZW0uYmJveCBhcyBJTUJvdW5kaW5nQm94LCB0aGlzLml0ZW1TZXR0aW5nLmF1dG9Qcm9wcyk7XG4gICAgY29uc3QgaGVpZ2h0TW9kZSA9IGlzS2VlcEFzcGVjdCA/XG4gICAgICBMYXlvdXRJdGVtU2l6ZU1vZGVzLkN1c3RvbSA6IHV0aWxzLmdldExheW91dEl0ZW1TaXplTW9kZSgnaGVpZ2h0JywgbGF5b3V0SXRlbS5iYm94IGFzIElNQm91bmRpbmdCb3gsIHRoaXMuaXRlbVNldHRpbmcuYXV0b1Byb3BzKVxuICAgIGNvbnN0IGJib3ggPSBsYXlvdXRJdGVtLmJib3g7XG4gICAgY29uc3QgdGhlbWUgPSBnZXRBcHBTdG9yZSgpLmdldFN0YXRlKCkudGhlbWU7XG5cbiAgICBjb25zdCBpc1BpeGVsV2lkdGggPSAhdXRpbHMuaXNQZXJjZW50YWdlKGJib3gud2lkdGgpO1xuICAgIGNvbnN0IGlzUGl4ZWxIZWlnaHQgPSAhdXRpbHMuaXNQZXJjZW50YWdlKGJib3guaGVpZ2h0KTtcbiAgICBjb25zdCBjYW5LZWVwQXNwZWN0ID0gaGVpZ2h0TW9kZSA9PT0gTGF5b3V0SXRlbVNpemVNb2Rlcy5DdXN0b20gJiYgd2lkdGhNb2RlID09PSBoZWlnaHRNb2RlICYmIGlzUGl4ZWxIZWlnaHQgJiYgaXNQaXhlbFdpZHRoO1xuXG4gICAgY29uc3QgaW5wdXRTdHlsZSA9IGNzc2B3aWR0aDogNjAlO2A7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmaXhlZC1pdGVtLXNldHRpbmdcIiBjc3M9e3RoaXMuZ2V0U3R5bGUoKX0gcmVmPXtlbCA9PiAodGhpcy5yZWYgPSBlbCl9PlxuICAgICAgICB7IWlzTG9ja0xheW91dCAmJiB0aGlzLnN0YXRlLmVuYWJsZVRvb2xiYXIgJiYgPFJlYWN0LkZyYWdtZW50PlxuICAgICAgICAgIDxTZXR0aW5nU2VjdGlvbiBjbGFzc05hbWU9XCJwLTAgZC1mbGV4IGp1c3RpZnktY29udGVudC1jZW50ZXJcIj5cbiAgICAgICAgICAgIDxUb29sYmFyXG4gICAgICAgICAgICAgIGxheW91dElkPXtsYXlvdXRJZH1cbiAgICAgICAgICAgICAgbGF5b3V0SXRlbT17bGF5b3V0SXRlbSBhcyBJTUxheW91dEl0ZW1Kc29ufVxuICAgICAgICAgICAgICBwYXJlbnRSZWY9e3RoaXMucmVmfVxuICAgICAgICAgICAgICB0aGVtZT17dGhlbWV9XG4gICAgICAgICAgICAgIHRvb2xzPXtwb3NpdGlvbk1lbnVzfVxuICAgICAgICAgICAgICBmb3JtYXRNZXNzYWdlPXt0aGlzLnByb3BzLmZvcm1hdE1lc3NhZ2V9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvU2V0dGluZ1NlY3Rpb24+XG4gICAgICAgICAgPFNldHRpbmdTZWN0aW9uIHRpdGxlPXtgJHtmb3JtYXRNZXNzYWdlKCdzaXplJyl9ICYgJHtmb3JtYXRNZXNzYWdlKCdwb3NpdGlvbicpfWB9PlxuICAgICAgICAgICAgPFNldHRpbmdSb3cgbGFiZWw9e2Zvcm1hdE1lc3NhZ2UoJ3dpZHRoJyl9PlxuICAgICAgICAgICAgICA8ZGl2IGNzcz17aW5wdXRTdHlsZX0+XG4gICAgICAgICAgICAgICAgPFNpemVFZGl0b3JcbiAgICAgICAgICAgICAgICAgIGxhYmVsPVwiV1wiXG4gICAgICAgICAgICAgICAgICBtb2RlPXt3aWR0aE1vZGV9XG4gICAgICAgICAgICAgICAgICBkaXNhYmxlTW9kZVNlbGVjdD17aXNLZWVwQXNwZWN0fVxuICAgICAgICAgICAgICAgICAgYXZhaWxhYmxlVW5pdHM9e2lzS2VlcEFzcGVjdCA/IHBpeGVsVW5pdE9ubHkgOiBudWxsfVxuICAgICAgICAgICAgICAgICAgdmFsdWU9e3VpVXRpbHMuc3RyaW5nT2ZMaW5lYXJVbml0KGJib3gud2lkdGgpfVxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3ZhbHVlID0+IHRoaXMudXBkYXRlQkJveCgnd2lkdGgnLCB2YWx1ZSl9XG4gICAgICAgICAgICAgICAgICBvbk1vZGVDaGFuZ2U9e3ZhbHVlID0+IHRoaXMudXBkYXRlTW9kZSgnd2lkdGgnLCB2YWx1ZSl9XG4gICAgICAgICAgICAgICAgPjwvU2l6ZUVkaXRvcj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L1NldHRpbmdSb3c+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1sLTMgZC1mbGV4XCJcbiAgICAgICAgICAgICAgY3NzPXtjc3NgXG4gICAgICAgICAgICAgICAgdmlzaWJpbGl0eTogJHtjYW5LZWVwQXNwZWN0ID8gJ3Zpc2libGUnIDogJ2hpZGRlbid9O1xuICAgICAgICAgICAgICAgIC5pY29uIHtcbiAgICAgICAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgICAgICAgICAgICAgIHdpZHRoOiAxMnB4O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgYH1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPFRvb2x0aXAgdGl0bGU9e2Zvcm1hdE1lc3NhZ2UoJ2FzcGVjdFJhdGlvJyl9IHBsYWNlbWVudD1cImJvdHRvbVwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaWNvblwiIG9uQ2xpY2s9e3RoaXMudG9nZ2xlSGVpZ2h0TW9kZX0+XG4gICAgICAgICAgICAgICAgICA8SWNvbiBpY29uPXt0aGlzLml0ZW1TZXR0aW5nLmhlaWdodE1vZGUgPT09ICdyYXRpbycgPyBsb2NrSWNvbiA6IHVubG9ja0ljb259IHNpemU9ezEyfT48L0ljb24+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvVG9vbHRpcD5cbiAgICAgICAgICAgICAgey8qIHt0aGlzLml0ZW1TZXR0aW5nLmhlaWdodE1vZGUgPT09ICdyYXRpbycgJiYgPGRpdiBjbGFzc05hbWU9XCJyYXRpby12YWx1ZSBtbC0yXCI+e3RoaXMuZ2V0QXNwZWN0UmF0aW8oKX08L2Rpdj59ICovfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8U2V0dGluZ1JvdyBsYWJlbD17Zm9ybWF0TWVzc2FnZSgnaGVpZ2h0Jyl9PlxuICAgICAgICAgICAgICA8ZGl2IGNzcz17aW5wdXRTdHlsZX0+XG4gICAgICAgICAgICAgICAgPFNpemVFZGl0b3JcbiAgICAgICAgICAgICAgICAgIGxhYmVsPVwiSFwiXG4gICAgICAgICAgICAgICAgICBtb2RlPXtoZWlnaHRNb2RlfVxuICAgICAgICAgICAgICAgICAgZGlzYWJsZU1vZGVTZWxlY3Q9e2lzS2VlcEFzcGVjdH1cbiAgICAgICAgICAgICAgICAgIGF2YWlsYWJsZVVuaXRzPXtpc0tlZXBBc3BlY3QgPyBwaXhlbFVuaXRPbmx5IDogbnVsbH1cbiAgICAgICAgICAgICAgICAgIHZhbHVlPXt1aVV0aWxzLnN0cmluZ09mTGluZWFyVW5pdChiYm94LmhlaWdodCl9XG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dmFsdWUgPT4gdGhpcy51cGRhdGVCQm94KCdoZWlnaHQnLCB2YWx1ZSl9XG4gICAgICAgICAgICAgICAgICBvbk1vZGVDaGFuZ2U9e3ZhbHVlID0+IHRoaXMudXBkYXRlTW9kZSgnaGVpZ2h0JywgdmFsdWUpfVxuICAgICAgICAgICAgICAgID48L1NpemVFZGl0b3I+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9TZXR0aW5nUm93PlxuICAgICAgICAgICAgPFNldHRpbmdSb3c+XG4gICAgICAgICAgICAgIDxJdGVtUG9zaXRpb25TZXR0aW5nIHsuLi50aGlzLnByb3BzfSB3aWR0aE1vZGU9e3dpZHRoTW9kZX0gaGVpZ2h0TW9kZT17aGVpZ2h0TW9kZX0+PC9JdGVtUG9zaXRpb25TZXR0aW5nPlxuICAgICAgICAgICAgPC9TZXR0aW5nUm93PlxuICAgICAgICAgICAgPENvbW1vblRyYW5zZm9ybVNldHRpbmdcbiAgICAgICAgICAgICAgbGF5b3V0SWQ9e2xheW91dElkfVxuICAgICAgICAgICAgICBsYXlvdXRJdGVtSWQ9e2xheW91dEl0ZW0uaWR9XG4gICAgICAgICAgICAgIHNldHRpbmc9e2xheW91dEl0ZW0uc2V0dGluZ31cbiAgICAgICAgICAgICAgb25TZXR0aW5nQ2hhbmdlPXt0aGlzLnByb3BzLm9uU2V0dGluZ0NoYW5nZX1cbiAgICAgICAgICAgICAgZm9ybWF0TWVzc2FnZT17dGhpcy5wcm9wcy5mb3JtYXRNZXNzYWdlfS8+XG4gICAgICAgICAgPC9TZXR0aW5nU2VjdGlvbj5cbiAgICAgICAgICA8U2V0dGluZ1NlY3Rpb24+XG4gICAgICAgICAgICA8U2V0dGluZ1JvdyBsYWJlbD17Zm9ybWF0TWVzc2FnZSgnbG9ja1BhcmVudCcpfT5cbiAgICAgICAgICAgICAgPFN3aXRjaCBjaGVja2VkPXt0aGlzLml0ZW1TZXR0aW5nLmxvY2tQYXJlbnR9IG9uQ2hhbmdlPXt0aGlzLnVwZGF0ZUxvY2tQYXJlbnR9PjwvU3dpdGNoPlxuICAgICAgICAgICAgPC9TZXR0aW5nUm93PlxuICAgICAgICAgIDwvU2V0dGluZ1NlY3Rpb24+XG4gICAgICAgIDwvUmVhY3QuRnJhZ21lbnQ+fVxuICAgICAgICB7KGxheW91dEl0ZW0ud2lkZ2V0SWQgfHwgbGF5b3V0SXRlbS5zZWN0aW9uSWQpICYmIDxDb21tb25MYXlvdXRJdGVtU2V0dGluZ1xuICAgICAgICAgIGxheW91dElkPXtsYXlvdXRJZH1cbiAgICAgICAgICBsYXlvdXRJdGVtSWQ9e2xheW91dEl0ZW0uaWR9XG4gICAgICAgICAgc3R5bGU9e3RoaXMucHJvcHMuc3R5bGV9XG4gICAgICAgICAgaXNTZWN0aW9uPXtsYXlvdXRJdGVtLnR5cGUgPT09IExheW91dEl0ZW1UeXBlLlNlY3Rpb259XG4gICAgICAgICAgb25TdHlsZUNoYW5nZT17dGhpcy5wcm9wcy5vblN0eWxlQ2hhbmdlfVxuICAgICAgICAgIGZvcm1hdE1lc3NhZ2U9e3RoaXMucHJvcHMuZm9ybWF0TWVzc2FnZX1cbiAgICAgICAgICBzZXR0aW5nPXtsYXlvdXRJdGVtLnNldHRpbmcgfHwgSW1tdXRhYmxlKHt9KX1cbiAgICAgICAgICBvblNldHRpbmdDaGFuZ2U9e3RoaXMucHJvcHMub25TZXR0aW5nQ2hhbmdlfS8+fVxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBYUE7QUFFQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUFBO0FBS0E7QUFBQTtBQVlBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBR0E7QUFFQTs7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUdBO0FBNkJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFHQTtBQWFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBR0E7QUF4S0E7QUFDQTs7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUE2RkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXFCQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFjQTtBQUFBO0FBQ0E7QUFDQTtBQUVBOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFnQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBV0E7QUFTQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFXQTtBQUNBO0FBRUE7QUFPQTtBQUNBO0FBQ0E7QUFJQTtBQVdBO0FBQ0E7QUFBQTs7OyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./jimu-layouts/lib/fixed-layout/builder/fixed-item-setting.tsx\n");

/***/ }),

/***/ "./jimu-layouts/lib/fixed-layout/builder/item-position-setting.tsx":
/*!*************************************************************************!*\
  !*** ./jimu-layouts/lib/fixed-layout/builder/item-position-setting.tsx ***!
  \*************************************************************************/
/*! exports provided: ItemPositionSetting */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ItemPositionSetting\", function() { return ItemPositionSetting; });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jimu_core__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var jimu_ui_advanced_style_setting_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui/advanced/style-setting-components */ \"jimu-ui/advanced/style-setting-components\");\n/* harmony import */ var jimu_ui_advanced_style_setting_components__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jimu_ui_advanced_style_setting_components__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-ui */ \"jimu-ui\");\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jimu_ui__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _default_setting__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../default-setting */ \"./jimu-layouts/lib/fixed-layout/default-setting.ts\");\n/* harmony import */ var jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! jimu-layouts/layout-runtime */ \"jimu-layouts/layout-runtime\");\n/* harmony import */ var jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _fixed_layout_util__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../fixed-layout-util */ \"./jimu-layouts/lib/fixed-layout/fixed-layout-util.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __makeTemplateObject = (undefined && undefined.__makeTemplateObject) || function (cooked, raw) {\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n    return cooked;\n};\n/** @jsx jsx */\n\n\n\n\n\n\n\nvar availableUnits = [jimu_ui__WEBPACK_IMPORTED_MODULE_2__[\"UnitTypes\"].PIXEL, jimu_ui__WEBPACK_IMPORTED_MODULE_2__[\"UnitTypes\"].PERCENTAGE];\nvar stretchIcon = __webpack_require__(/*! jimu-ui/lib/icons/arrow-stretched.svg */ \"./jimu-ui/lib/icons/arrow-stretched.svg\");\nvar ItemPositionSetting = /** @class */ (function (_super) {\n    __extends(ItemPositionSetting, _super);\n    function ItemPositionSetting(props) {\n        var _this = _super.call(this, props) || this;\n        _this.updateBBox = function (prop, value) {\n            var bbox = _this.props.layoutItem.bbox;\n            var distance = value.distance, unit = value.unit;\n            var originalValue = bbox[prop];\n            var newValue = distance.toFixed(2);\n            if (jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_4__[\"utils\"].isPercentage(originalValue) && unit === jimu_ui__WEBPACK_IMPORTED_MODULE_2__[\"UnitTypes\"].PIXEL) {\n                // change from percentage to pixel\n                var contaienrRect = _this.getSizeOfContainer();\n                if (contaienrRect) {\n                    if (prop === 'left' || prop === 'right' || prop === 'width') {\n                        newValue = Math.round((parseFloat(originalValue) * contaienrRect.width) / 100);\n                    }\n                    else {\n                        newValue = Math.round((parseFloat(originalValue) * contaienrRect.height) / 100);\n                    }\n                }\n            }\n            else if (!jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_4__[\"utils\"].isPercentage(originalValue) && unit === jimu_ui__WEBPACK_IMPORTED_MODULE_2__[\"UnitTypes\"].PERCENTAGE) {\n                // change from pixel to percentage\n                var contaienrRect = _this.getSizeOfContainer();\n                if (contaienrRect) {\n                    if (prop === 'left' || prop === 'right' || prop === 'width') {\n                        newValue = ((parseFloat(originalValue) * 100) / contaienrRect.width).toFixed(2);\n                    }\n                    else {\n                        newValue = ((parseFloat(originalValue) * 100) / contaienrRect.height).toFixed(2);\n                    }\n                }\n            }\n            _this.props.onPosChange({\n                layoutId: _this.props.layoutId,\n                layoutItemId: _this.props.layoutItem.id,\n            }, bbox.set(prop, value.unit === jimu_ui__WEBPACK_IMPORTED_MODULE_2__[\"UnitTypes\"].PERCENTAGE ? newValue + \"%\" : newValue + \"px\"));\n        };\n        _this.flipLeftRight = jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_4__[\"utils\"].isRTL();\n        return _this;\n    }\n    ItemPositionSetting.prototype.getStyle = function () {\n        return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n      .position-setting {\\n        background-color: var(--light-500);\\n        position: relative;\\n        width: 100%;\\n        padding-top: 60%;\\n        overflow: visible;\\n      }\\n\\n      .content {\\n        position: absolute;\\n        top: 0;\\n        left: 0;\\n        bottom: 0;\\n        right: 0;\\n        padding: 7px;\\n      }\\n\\n      .w-half {\\n        width: calc(50% - 16px);\\n        position: relative;\\n        z-index: 0;\\n      }\\n      .h-half {\\n        height: calc(50% - 16px);\\n        position: relative;\\n        z-index: 0;\\n      }\\n      .pos-label {\\n        z-index: 1;\\n      }\\n\\n      .box-column {\\n        width: 32px;\\n        overflow: visible;\\n      }\\n\\n      .box-item {\\n        width: 24px;\\n        height: 24px;\\n        background-color: var(--dark-200);\\n        margin: 4px 0;\\n        position: relative;\\n        overflow: visible;\\n\\n        &.stretch {\\n          background-color: transparent;\\n          border: 1px solid var(--dark-200);\\n        }\\n        .h-arrow, .v-arrow {\\n          display: none;\\n          .arrow-icon {\\n            color: var(--dark-200);\\n            width: 100%;\\n            height: 100%;\\n          }\\n          position: absolute;\\n          width: 100%;\\n        }\\n        .h-arrow {\\n          top: 50%;\\n          transform: translateY(-50%);\\n        }\\n        .v-arrow {\\n          left: 50%;\\n          transform: translateX(-50%);\\n        }\\n        &.stretch-w .h-arrow,\\n        &.stretch-h .v-arrow {\\n          display: block;\\n        }\\n      }\\n\\n      .anchor {\\n        position: absolute;\\n        width: 16px;\\n        height: 16px;\\n        background: transparent;\\n        overflow: visible;\\n\\n        &.selected {\\n          width: 10px;\\n          height: 10px;\\n          opacity: 1;\\n          background: var(--primary-100);\\n          border: 2px solid var(--primary-600) !important;\\n          border-radius: 3px !important;\\n        }\\n        &.top.left {\\n          border-radius: 3px 0 0 0;\\n        }\\n        &.top.right {\\n          border-radius: 0 3px 0 0;\\n        }\\n        &.bottom.right {\\n          border-radius: 0 0 3px 0;\\n        }\\n        &.bottom.left {\\n          border-radius: 0 0 0 3px;\\n        }\\n        &.left {\\n          left: 6px;\\n          border-left: 2px solid var(--dark-200);\\n          &.selected:before {\\n            position: absolute;\\n            right: -10px;\\n            top: 50%;\\n            transform: translateY(-50%);\\n            content: '';\\n            height: 2px;\\n            width: 10px;\\n            background-color: var(--primary-600);\\n          }\\n        }\\n        &.top {\\n          top: 6px;\\n          border-top: 2px solid var(--dark-200);\\n          &.selected:after {\\n            position: absolute;\\n            bottom: -10px;\\n            left: 50%;\\n            transform: translateX(-50%);\\n            content: '';\\n            width: 2px;\\n            height: 10px;\\n            background-color: var(--primary-600);\\n          }\\n        }\\n        &.bottom {\\n          bottom: 6px;\\n          border-bottom: 2px solid var(--dark-200);\\n          &.selected:after {\\n            position: absolute;\\n            top: -10px;\\n            left: 50%;\\n            transform: translateX(-50%);\\n            content: '';\\n            width: 2px;\\n            height: 10px;\\n            background-color: var(--primary-600);\\n          }\\n        }\\n        &.right {\\n          right: 6px;\\n          border-right: 2px solid var(--dark-200);\\n          &.selected:before {\\n            position: absolute;\\n            left: -10px;\\n            top: 50%;\\n            transform: translateY(-50%);\\n            content: '';\\n            height: 2px;\\n            width: 10px;\\n            background-color: var(--primary-600);\\n          }\\n        }\\n      }\\n\\n      .from-left {\\n        border-left: 2px solid var(--primary-600);\\n        &.is-auto {\\n          border-left-color: var(--dark-200);\\n        }\\n        &.allow-change:hover {\\n          border-left-color: var(--primary-600);\\n        }\\n      }\\n      .from-top {\\n        border-top: 2px solid var(--primary-600);\\n        &.is-auto {\\n          border-top-color: var(--dark-200);\\n        }\\n        &.allow-change:hover {\\n          border-top-color: var(--primary-600);\\n        }\\n      }\\n      .from-right {\\n        border-right: 2px solid var(--primary-600);\\n        &.is-auto {\\n          border-right-color: var(--dark-200);\\n        }\\n        &.allow-change:hover {\\n          border-right-color: var(--primary-600);\\n        }\\n      }\\n      .from-bottom {\\n        border-bottom: 2px solid var(--primary-600);\\n        &.is-auto {\\n          border-bottom-color: var(--dark-200);\\n        }\\n        &.allow-change:hover {\\n          border-bottom-color: var(--primary-600);\\n        }\\n      }\\n      /* .line-h.is-auto,\\n      .line-v.is-auto {\\n        border-color: var(--dark-200);\\n      } */\\n      .line-h {\\n        position: absolute;\\n        width: 100%;\\n        top: 50%;\\n        transform: translateY(-50%);\\n        height: 12px;\\n        display: flex;\\n        flex-direction: column;\\n        justify-content: center;\\n        z-index: 0;\\n\\n        &.allow-change {\\n          cursor: pointer;\\n          &:hover:after {\\n            border-top-color: var(--primary-600);\\n          }\\n        }\\n        &:after {\\n          content: '';\\n          height: 0;\\n          width: 100%;\\n          border-top: 2px solid var(--primary-600);\\n        }\\n        &.is-auto:after {\\n          border-top-style: dashed;\\n          border-top-color: var(--dark-200);\\n        }\\n      }\\n      .line-v {\\n        position: absolute;\\n        height: 100%;\\n        width: 12px;\\n        left: 50%;\\n        transform: translateX(-50%);\\n        display: flex;\\n        justify-content: center;\\n        z-index: 0;\\n\\n        &.allow-change {\\n          cursor: pointer;\\n          &:hover:after {\\n            border-left-color: var(--primary-600);\\n          }\\n        }\\n        &:after {\\n          content: '';\\n          width: 0;\\n          height: 100%;\\n          border-left: 2px solid var(--primary-600);\\n        }\\n        &.is-auto:after {\\n          border-left-style: dashed;\\n          border-left-color: var(--dark-200);\\n        }\\n      }\\n\\n      .auto-label {\\n        width: 16px;\\n        height: 16px;\\n        background: var(--primary);\\n        border: 1px solid var(--light-500);\\n        font-size: 12px;\\n        display: flex;\\n        justify-content: center;\\n        align-items: center;\\n        color: var(--light-300);\\n      }\\n\\n      .style-setting--input-unit {\\n        &:hover {\\n          input.jimu-numeric-input-input {\\n            background-color: var(--light-200);\\n          }\\n          .style-setting--unit-selector {\\n            background-color: var(--light-200);\\n          }\\n        }\\n        border-radius: 2px;\\n        width: 52px;\\n        height: 24px;\\n\\n        input.jimu-numeric-input-input {\\n          height: 100%;\\n          font-size: 12px;\\n          padding: 0;\\n          text-align: center;\\n          border: none;\\n          background-color: var(--light-500);\\n          &:focus {\\n            background-color: var(--light-200);\\n          }\\n        }\\n        .style-setting--unit-selector {\\n          background-color: var(--light-500);\\n          color: var(--dark-400);\\n          height: 24px;\\n          width: 20px;\\n          min-width: 0;\\n          padding: 0;\\n          margin-left: 0;\\n          font-size: 12px;\\n          border: none;\\n        }\\n      }\\n\\n      .origin-tip {\\n        margin-top: 8px;\\n        font-size: 12px;\\n        color: var(--dark-400);\\n      }\\n    \"], [\"\\n      .position-setting {\\n        background-color: var(--light-500);\\n        position: relative;\\n        width: 100%;\\n        padding-top: 60%;\\n        overflow: visible;\\n      }\\n\\n      .content {\\n        position: absolute;\\n        top: 0;\\n        left: 0;\\n        bottom: 0;\\n        right: 0;\\n        padding: 7px;\\n      }\\n\\n      .w-half {\\n        width: calc(50% - 16px);\\n        position: relative;\\n        z-index: 0;\\n      }\\n      .h-half {\\n        height: calc(50% - 16px);\\n        position: relative;\\n        z-index: 0;\\n      }\\n      .pos-label {\\n        z-index: 1;\\n      }\\n\\n      .box-column {\\n        width: 32px;\\n        overflow: visible;\\n      }\\n\\n      .box-item {\\n        width: 24px;\\n        height: 24px;\\n        background-color: var(--dark-200);\\n        margin: 4px 0;\\n        position: relative;\\n        overflow: visible;\\n\\n        &.stretch {\\n          background-color: transparent;\\n          border: 1px solid var(--dark-200);\\n        }\\n        .h-arrow, .v-arrow {\\n          display: none;\\n          .arrow-icon {\\n            color: var(--dark-200);\\n            width: 100%;\\n            height: 100%;\\n          }\\n          position: absolute;\\n          width: 100%;\\n        }\\n        .h-arrow {\\n          top: 50%;\\n          transform: translateY(-50%);\\n        }\\n        .v-arrow {\\n          left: 50%;\\n          transform: translateX(-50%);\\n        }\\n        &.stretch-w .h-arrow,\\n        &.stretch-h .v-arrow {\\n          display: block;\\n        }\\n      }\\n\\n      .anchor {\\n        position: absolute;\\n        width: 16px;\\n        height: 16px;\\n        background: transparent;\\n        overflow: visible;\\n\\n        &.selected {\\n          width: 10px;\\n          height: 10px;\\n          opacity: 1;\\n          background: var(--primary-100);\\n          border: 2px solid var(--primary-600) !important;\\n          border-radius: 3px !important;\\n        }\\n        &.top.left {\\n          border-radius: 3px 0 0 0;\\n        }\\n        &.top.right {\\n          border-radius: 0 3px 0 0;\\n        }\\n        &.bottom.right {\\n          border-radius: 0 0 3px 0;\\n        }\\n        &.bottom.left {\\n          border-radius: 0 0 0 3px;\\n        }\\n        &.left {\\n          left: 6px;\\n          border-left: 2px solid var(--dark-200);\\n          &.selected:before {\\n            position: absolute;\\n            right: -10px;\\n            top: 50%;\\n            transform: translateY(-50%);\\n            content: '';\\n            height: 2px;\\n            width: 10px;\\n            background-color: var(--primary-600);\\n          }\\n        }\\n        &.top {\\n          top: 6px;\\n          border-top: 2px solid var(--dark-200);\\n          &.selected:after {\\n            position: absolute;\\n            bottom: -10px;\\n            left: 50%;\\n            transform: translateX(-50%);\\n            content: '';\\n            width: 2px;\\n            height: 10px;\\n            background-color: var(--primary-600);\\n          }\\n        }\\n        &.bottom {\\n          bottom: 6px;\\n          border-bottom: 2px solid var(--dark-200);\\n          &.selected:after {\\n            position: absolute;\\n            top: -10px;\\n            left: 50%;\\n            transform: translateX(-50%);\\n            content: '';\\n            width: 2px;\\n            height: 10px;\\n            background-color: var(--primary-600);\\n          }\\n        }\\n        &.right {\\n          right: 6px;\\n          border-right: 2px solid var(--dark-200);\\n          &.selected:before {\\n            position: absolute;\\n            left: -10px;\\n            top: 50%;\\n            transform: translateY(-50%);\\n            content: '';\\n            height: 2px;\\n            width: 10px;\\n            background-color: var(--primary-600);\\n          }\\n        }\\n      }\\n\\n      .from-left {\\n        border-left: 2px solid var(--primary-600);\\n        &.is-auto {\\n          border-left-color: var(--dark-200);\\n        }\\n        &.allow-change:hover {\\n          border-left-color: var(--primary-600);\\n        }\\n      }\\n      .from-top {\\n        border-top: 2px solid var(--primary-600);\\n        &.is-auto {\\n          border-top-color: var(--dark-200);\\n        }\\n        &.allow-change:hover {\\n          border-top-color: var(--primary-600);\\n        }\\n      }\\n      .from-right {\\n        border-right: 2px solid var(--primary-600);\\n        &.is-auto {\\n          border-right-color: var(--dark-200);\\n        }\\n        &.allow-change:hover {\\n          border-right-color: var(--primary-600);\\n        }\\n      }\\n      .from-bottom {\\n        border-bottom: 2px solid var(--primary-600);\\n        &.is-auto {\\n          border-bottom-color: var(--dark-200);\\n        }\\n        &.allow-change:hover {\\n          border-bottom-color: var(--primary-600);\\n        }\\n      }\\n      /* .line-h.is-auto,\\n      .line-v.is-auto {\\n        border-color: var(--dark-200);\\n      } */\\n      .line-h {\\n        position: absolute;\\n        width: 100%;\\n        top: 50%;\\n        transform: translateY(-50%);\\n        height: 12px;\\n        display: flex;\\n        flex-direction: column;\\n        justify-content: center;\\n        z-index: 0;\\n\\n        &.allow-change {\\n          cursor: pointer;\\n          &:hover:after {\\n            border-top-color: var(--primary-600);\\n          }\\n        }\\n        &:after {\\n          content: '';\\n          height: 0;\\n          width: 100%;\\n          border-top: 2px solid var(--primary-600);\\n        }\\n        &.is-auto:after {\\n          border-top-style: dashed;\\n          border-top-color: var(--dark-200);\\n        }\\n      }\\n      .line-v {\\n        position: absolute;\\n        height: 100%;\\n        width: 12px;\\n        left: 50%;\\n        transform: translateX(-50%);\\n        display: flex;\\n        justify-content: center;\\n        z-index: 0;\\n\\n        &.allow-change {\\n          cursor: pointer;\\n          &:hover:after {\\n            border-left-color: var(--primary-600);\\n          }\\n        }\\n        &:after {\\n          content: '';\\n          width: 0;\\n          height: 100%;\\n          border-left: 2px solid var(--primary-600);\\n        }\\n        &.is-auto:after {\\n          border-left-style: dashed;\\n          border-left-color: var(--dark-200);\\n        }\\n      }\\n\\n      .auto-label {\\n        width: 16px;\\n        height: 16px;\\n        background: var(--primary);\\n        border: 1px solid var(--light-500);\\n        font-size: 12px;\\n        display: flex;\\n        justify-content: center;\\n        align-items: center;\\n        color: var(--light-300);\\n      }\\n\\n      .style-setting--input-unit {\\n        &:hover {\\n          input.jimu-numeric-input-input {\\n            background-color: var(--light-200);\\n          }\\n          .style-setting--unit-selector {\\n            background-color: var(--light-200);\\n          }\\n        }\\n        border-radius: 2px;\\n        width: 52px;\\n        height: 24px;\\n\\n        input.jimu-numeric-input-input {\\n          height: 100%;\\n          font-size: 12px;\\n          padding: 0;\\n          text-align: center;\\n          border: none;\\n          background-color: var(--light-500);\\n          &:focus {\\n            background-color: var(--light-200);\\n          }\\n        }\\n        .style-setting--unit-selector {\\n          background-color: var(--light-500);\\n          color: var(--dark-400);\\n          height: 24px;\\n          width: 20px;\\n          min-width: 0;\\n          padding: 0;\\n          margin-left: 0;\\n          font-size: 12px;\\n          border: none;\\n        }\\n      }\\n\\n      .origin-tip {\\n        margin-top: 8px;\\n        font-size: 12px;\\n        color: var(--dark-400);\\n      }\\n    \"])));\n    };\n    // autoLabel() {\n    //   return <div className=\"auto-label rounded-circle\">A</div>;\n    // }\n    ItemPositionSetting.prototype.inputUnit = function (prop) {\n        var _this = this;\n        var layoutItem = this.props.layoutItem;\n        var value = jimu_ui__WEBPACK_IMPORTED_MODULE_2__[\"utils\"].stringOfLinearUnit(layoutItem.bbox[prop]);\n        return (Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"pos-label\" },\n            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui_advanced_style_setting_components__WEBPACK_IMPORTED_MODULE_1__[\"InputUnit\"], { units: availableUnits, min: -Infinity, max: Infinity, value: value, onChange: function (value) { return _this.updateBBox(prop, value); } })));\n    };\n    ItemPositionSetting.prototype.getSizeOfContainer = function () {\n        var layoutElem = this.querySelector(\"div.fixed-layout[data-layoutid=\\\"\" + this.props.layoutId + \"\\\"]\");\n        if (layoutElem) {\n            return layoutElem.getBoundingClientRect();\n        }\n        return null;\n    };\n    ItemPositionSetting.prototype.getSizeOfItem = function () {\n        var _a = this.props, layoutId = _a.layoutId, layoutItem = _a.layoutItem;\n        var layoutElem = this.querySelector(\"div.exb-rnd[data-layoutid=\\\"\" + layoutId + \"\\\"][data-layoutitemid=\\\"\" + layoutItem.id + \"\\\"]\");\n        if (layoutElem) {\n            return layoutElem.getBoundingClientRect();\n        }\n        return null;\n    };\n    ItemPositionSetting.prototype.querySelector = function (selector) {\n        var appFrame = document.querySelector(\"iframe[name=\\\"\" + jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"APP_FRAME_NAME_IN_BUILDER\"] + \"\\\"]\");\n        if (appFrame) {\n            var appFrameDoc = appFrame.contentDocument || appFrame.contentWindow.document;\n            return appFrameDoc.querySelector(selector);\n        }\n        return null;\n    };\n    ItemPositionSetting.prototype.switchAuto = function (side, otherSize, originValue) {\n        var _a;\n        var _b = this.props, layoutId = _b.layoutId, layoutItem = _b.layoutItem;\n        var setting = (_a = layoutItem.setting) !== null && _a !== void 0 ? _a : Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"Immutable\"])({});\n        this.props.onSettingChange({\n            layoutId: layoutId,\n            layoutItemId: layoutItem.id,\n        }, setting.setIn(['autoProps', side], !originValue).setIn(['autoProps', otherSize], originValue));\n    };\n    ItemPositionSetting.prototype.checkAutoProps = function (itemSetting) {\n        var box = Object(_fixed_layout_util__WEBPACK_IMPORTED_MODULE_5__[\"generateBBoxStyle\"])(this.props.layoutItem.bbox, itemSetting);\n        var leftAuto = box.left == null || itemSetting.hCenter;\n        var rightAuto = box.right == null || itemSetting.hCenter;\n        var topAuto = box.top == null || itemSetting.vCenter;\n        var bottomAuto = box.bottom == null || itemSetting.vCenter;\n        return { leftAuto: leftAuto, rightAuto: rightAuto, topAuto: topAuto, bottomAuto: bottomAuto };\n    };\n    ItemPositionSetting.prototype.checkOrigin = function (leftAuto, rightAuto, topAuto, bottomAuto) {\n        var left = leftAuto;\n        var right = rightAuto;\n        var top = topAuto;\n        var bottom = bottomAuto;\n        if (leftAuto === rightAuto) {\n            left = jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_4__[\"utils\"].isRTL();\n            right = !left;\n        }\n        if (topAuto === bottomAuto) {\n            top = false;\n            bottom = true;\n        }\n        return { top: top, bottom: bottom, left: left, right: right };\n    };\n    /**\n     * When width is custom, only one of the left and right can set to custom.\n     * @param prop\n     * @param relatedProp\n     * @param side\n     */\n    ItemPositionSetting.prototype.allowChangeAutoProps = function (side) {\n        var _a;\n        var itemSetting = this.props.layoutItem.setting;\n        var autoProps = (_a = itemSetting === null || itemSetting === void 0 ? void 0 : itemSetting.autoProps) !== null && _a !== void 0 ? _a : {};\n        var sizeMode = jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_4__[\"utils\"].getLayoutItemSizeMode(side, this.props.layoutItem.bbox, autoProps);\n        if (sizeMode === jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_4__[\"LayoutItemSizeModes\"].Stretch ||\n            (side === 'width' && (itemSetting === null || itemSetting === void 0 ? void 0 : itemSetting.hCenter)) ||\n            (side === 'height' && (itemSetting === null || itemSetting === void 0 ? void 0 : itemSetting.vCenter))) {\n            return false;\n        }\n        return true;\n    };\n    ItemPositionSetting.prototype.getOrigin = function (left, top, right, bottom) {\n        var formatMessage = this.props.formatMessage;\n        if (!left && !top) {\n            return formatMessage('TL');\n        }\n        if (!right && !top) {\n            return formatMessage('TR');\n        }\n        if (!right && !bottom) {\n            return formatMessage('BR');\n        }\n        if (!left && !bottom) {\n            return formatMessage('BL');\n        }\n        return '';\n    };\n    ItemPositionSetting.prototype.render = function () {\n        var _a = this.props, layoutItem = _a.layoutItem, widthMode = _a.widthMode, heightMode = _a.heightMode, formatMessage = _a.formatMessage;\n        if (!layoutItem) {\n            return null;\n        }\n        var itemSetting = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"lodash\"].assign({}, _default_setting__WEBPACK_IMPORTED_MODULE_3__[\"DEFAULT_FIX_LAYOUT_ITEM_SETTING\"], layoutItem.setting);\n        var _b = this.checkAutoProps(itemSetting), leftAuto = _b.leftAuto, rightAuto = _b.rightAuto, topAuto = _b.topAuto, bottomAuto = _b.bottomAuto;\n        var _c = this.checkOrigin(leftAuto, rightAuto, topAuto, bottomAuto), top = _c.top, bottom = _c.bottom, left = _c.left, right = _c.right;\n        var canSwitchXAuto = this.allowChangeAutoProps('width');\n        var canSwitchYAuto = this.allowChangeAutoProps('height');\n        return (Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { css: this.getStyle(), className: \"w-100\" },\n            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"position-setting rounded-lg\" },\n                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"content d-flex justify-content-center align-items-center\" },\n                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"d-flex w-half flex-column justify-content-center align-items-center\" },\n                        Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"d-flex w-100 justify-content-center align-items-center\" },\n                            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_2__[\"Tooltip\"], { placement: \"bottom\", title: canSwitchXAuto ? formatMessage(leftAuto ? 'changeToCustom' : 'changeToAuto') : '' },\n                                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"classNames\"])('from-left line-h flex-grow-1 flex-shrink-1', {\n                                        'is-auto': leftAuto,\n                                        'allow-change': canSwitchXAuto\n                                    }), onClick: canSwitchXAuto ? this.switchAuto.bind(this, 'left', 'right', leftAuto) : null })),\n                            leftAuto ? null : this.inputUnit('left'))),\n                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"d-flex h-100 flex-column justify-content-center align-items-center box-column\" },\n                        Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"d-flex h-half w-100 flex-column justify-content-center align-items-center\" },\n                            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_2__[\"Tooltip\"], { placement: \"bottom\", title: canSwitchYAuto ? formatMessage(topAuto ? 'changeToCustom' : 'changeToAuto') : '' },\n                                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"classNames\"])('from-top line-v flex-grow-1 flex-shrink-1', {\n                                        'is-auto': topAuto,\n                                        'allow-change': canSwitchYAuto\n                                    }), onClick: canSwitchYAuto ? this.switchAuto.bind(this, 'top', 'bottom', topAuto) : null })),\n                            topAuto ? null : this.inputUnit('top')),\n                        Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"classNames\"])('box-item rounded-lg', {\n                                'stretch': widthMode === jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_4__[\"LayoutItemSizeModes\"].Stretch || heightMode === jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_4__[\"LayoutItemSizeModes\"].Stretch,\n                                'stretch-w': widthMode === jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_4__[\"LayoutItemSizeModes\"].Stretch,\n                                'stretch-h': heightMode === jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_4__[\"LayoutItemSizeModes\"].Stretch,\n                            }) },\n                            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"h-arrow\" },\n                                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_2__[\"Icon\"], { icon: stretchIcon, className: \"arrow-icon\" })),\n                            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"v-arrow\" },\n                                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_2__[\"Icon\"], { icon: stretchIcon, rotate: 90, className: \"arrow-icon\" }))),\n                        Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"d-flex h-half w-100 flex-column justify-content-center align-items-center\" },\n                            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_2__[\"Tooltip\"], { placement: \"bottom\", title: canSwitchYAuto ? formatMessage(bottomAuto ? 'changeToCustom' : 'changeToAuto') : '' },\n                                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"classNames\"])('from-bottom line-v flex-grow-1 flex-shrink-1', {\n                                        'is-auto': bottomAuto,\n                                        'allow-change': canSwitchYAuto\n                                    }), onClick: canSwitchYAuto ? this.switchAuto.bind(this, 'bottom', 'top', bottomAuto) : null })),\n                            bottomAuto ? null : this.inputUnit('bottom'))),\n                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"d-flex w-half flex-column justify-content-center align-items-center\" },\n                        Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"d-flex w-100 justify-content-center align-items-center\" },\n                            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_2__[\"Tooltip\"], { placement: \"bottom\", title: canSwitchXAuto ? formatMessage(rightAuto ? 'changeToCustom' : 'changeToAuto') : '' },\n                                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"classNames\"])('from-right line-h flex-grow-1 flex-shrink-1', {\n                                        'is-auto': rightAuto,\n                                        'allow-change': canSwitchXAuto\n                                    }), onClick: canSwitchXAuto ? this.switchAuto.bind(this, 'right', 'left', rightAuto) : null })),\n                            rightAuto ? null : this.inputUnit('right'))),\n                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"classNames\"])('anchor top left', {\n                            selected: !left && !top,\n                        }) }),\n                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"classNames\"])('anchor top right', {\n                            selected: !right && !top,\n                        }) }),\n                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"classNames\"])('anchor bottom left', {\n                            selected: !left && !bottom,\n                        }) }),\n                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"classNames\"])('anchor bottom right', {\n                            selected: !bottom && !right,\n                        }) }))),\n            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"origin-tip d-flex justify-content-center align-item-center\" }, this.getOrigin(left, top, right, bottom))));\n    };\n    return ItemPositionSetting;\n}(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].PureComponent));\n\nvar templateObject_1;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWxheW91dHMvbGliL2ZpeGVkLWxheW91dC9idWlsZGVyL2l0ZW0tcG9zaXRpb24tc2V0dGluZy50c3guanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qaW11LWxheW91dHMvbGliL2ZpeGVkLWxheW91dC9idWlsZGVyL2l0ZW0tcG9zaXRpb24tc2V0dGluZy50c3g/NGY5ZSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiogQGpzeCBqc3ggKi9cbmltcG9ydCB7IFJlYWN0LCBqc3gsIGNzcywgbG9kYXNoLCBjbGFzc05hbWVzLCBJTUJvdW5kaW5nQm94LCBBUFBfRlJBTUVfTkFNRV9JTl9CVUlMREVSLCBJbW11dGFibGUgfSBmcm9tICdqaW11LWNvcmUnO1xuaW1wb3J0IHsgSW5wdXRVbml0IH0gZnJvbSAnamltdS11aS9hZHZhbmNlZC9zdHlsZS1zZXR0aW5nLWNvbXBvbmVudHMnO1xuaW1wb3J0IHsgVW5pdFR5cGVzLCBMaW5lYXJVbml0LCBJY29uLCB1dGlscyBhcyB1aVV0aWxzIH0gZnJvbSAnamltdS11aSc7XG5pbXBvcnQgeyBUb29sdGlwIH0gZnJvbSAnamltdS11aSc7XG5pbXBvcnQgeyBERUZBVUxUX0ZJWF9MQVlPVVRfSVRFTV9TRVRUSU5HIH0gZnJvbSAnLi4vZGVmYXVsdC1zZXR0aW5nJztcbmltcG9ydCB7IHV0aWxzLCBGaXhlZExheW91dEl0ZW1TZXR0aW5nLCBMYXlvdXRJdGVtU2l6ZU1vZGVzIH0gZnJvbSAnamltdS1sYXlvdXRzL2xheW91dC1ydW50aW1lJztcbmltcG9ydCB7IExheW91dEl0ZW1TZXR0aW5nUHJvcHMgfSBmcm9tICcuLi8uLi9idWlsZGVyL3R5cGVzJztcbmltcG9ydCB7IGdlbmVyYXRlQkJveFN0eWxlIH0gZnJvbSAnLi4vZml4ZWQtbGF5b3V0LXV0aWwnO1xuXG5jb25zdCBhdmFpbGFibGVVbml0cyA9IFtVbml0VHlwZXMuUElYRUwsIFVuaXRUeXBlcy5QRVJDRU5UQUdFXTtcblxuaW50ZXJmYWNlIFByb3BzIHtcbiAgaGVpZ2h0TW9kZTogTGF5b3V0SXRlbVNpemVNb2RlcztcbiAgd2lkdGhNb2RlOiBMYXlvdXRJdGVtU2l6ZU1vZGVzO1xufVxuXG5jb25zdCBzdHJldGNoSWNvbiA9IHJlcXVpcmUoJ2ppbXUtdWkvbGliL2ljb25zL2Fycm93LXN0cmV0Y2hlZC5zdmcnKTtcblxuZXhwb3J0IGNsYXNzIEl0ZW1Qb3NpdGlvblNldHRpbmcgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50PExheW91dEl0ZW1TZXR0aW5nUHJvcHMgJiBQcm9wcz4ge1xuICBmbGlwTGVmdFJpZ2h0OiBib29sZWFuO1xuXG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMuZmxpcExlZnRSaWdodCA9IHV0aWxzLmlzUlRMKCk7XG4gIH1cblxuICBnZXRTdHlsZSgpIHtcbiAgICByZXR1cm4gY3NzYFxuICAgICAgLnBvc2l0aW9uLXNldHRpbmcge1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1saWdodC01MDApO1xuICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICBwYWRkaW5nLXRvcDogNjAlO1xuICAgICAgICBvdmVyZmxvdzogdmlzaWJsZTtcbiAgICAgIH1cblxuICAgICAgLmNvbnRlbnQge1xuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgIHRvcDogMDtcbiAgICAgICAgbGVmdDogMDtcbiAgICAgICAgYm90dG9tOiAwO1xuICAgICAgICByaWdodDogMDtcbiAgICAgICAgcGFkZGluZzogN3B4O1xuICAgICAgfVxuXG4gICAgICAudy1oYWxmIHtcbiAgICAgICAgd2lkdGg6IGNhbGMoNTAlIC0gMTZweCk7XG4gICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgICAgei1pbmRleDogMDtcbiAgICAgIH1cbiAgICAgIC5oLWhhbGYge1xuICAgICAgICBoZWlnaHQ6IGNhbGMoNTAlIC0gMTZweCk7XG4gICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgICAgei1pbmRleDogMDtcbiAgICAgIH1cbiAgICAgIC5wb3MtbGFiZWwge1xuICAgICAgICB6LWluZGV4OiAxO1xuICAgICAgfVxuXG4gICAgICAuYm94LWNvbHVtbiB7XG4gICAgICAgIHdpZHRoOiAzMnB4O1xuICAgICAgICBvdmVyZmxvdzogdmlzaWJsZTtcbiAgICAgIH1cblxuICAgICAgLmJveC1pdGVtIHtcbiAgICAgICAgd2lkdGg6IDI0cHg7XG4gICAgICAgIGhlaWdodDogMjRweDtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tZGFyay0yMDApO1xuICAgICAgICBtYXJnaW46IDRweCAwO1xuICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICAgIG92ZXJmbG93OiB2aXNpYmxlO1xuXG4gICAgICAgICYuc3RyZXRjaCB7XG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XG4gICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tZGFyay0yMDApO1xuICAgICAgICB9XG4gICAgICAgIC5oLWFycm93LCAudi1hcnJvdyB7XG4gICAgICAgICAgZGlzcGxheTogbm9uZTtcbiAgICAgICAgICAuYXJyb3ctaWNvbiB7XG4gICAgICAgICAgICBjb2xvcjogdmFyKC0tZGFyay0yMDApO1xuICAgICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgICAgICAgfVxuICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgfVxuICAgICAgICAuaC1hcnJvdyB7XG4gICAgICAgICAgdG9wOiA1MCU7XG4gICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01MCUpO1xuICAgICAgICB9XG4gICAgICAgIC52LWFycm93IHtcbiAgICAgICAgICBsZWZ0OiA1MCU7XG4gICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC01MCUpO1xuICAgICAgICB9XG4gICAgICAgICYuc3RyZXRjaC13IC5oLWFycm93LFxuICAgICAgICAmLnN0cmV0Y2gtaCAudi1hcnJvdyB7XG4gICAgICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLmFuY2hvciB7XG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgd2lkdGg6IDE2cHg7XG4gICAgICAgIGhlaWdodDogMTZweDtcbiAgICAgICAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XG4gICAgICAgIG92ZXJmbG93OiB2aXNpYmxlO1xuXG4gICAgICAgICYuc2VsZWN0ZWQge1xuICAgICAgICAgIHdpZHRoOiAxMHB4O1xuICAgICAgICAgIGhlaWdodDogMTBweDtcbiAgICAgICAgICBvcGFjaXR5OiAxO1xuICAgICAgICAgIGJhY2tncm91bmQ6IHZhcigtLXByaW1hcnktMTAwKTtcbiAgICAgICAgICBib3JkZXI6IDJweCBzb2xpZCB2YXIoLS1wcmltYXJ5LTYwMCkgIWltcG9ydGFudDtcbiAgICAgICAgICBib3JkZXItcmFkaXVzOiAzcHggIWltcG9ydGFudDtcbiAgICAgICAgfVxuICAgICAgICAmLnRvcC5sZWZ0IHtcbiAgICAgICAgICBib3JkZXItcmFkaXVzOiAzcHggMCAwIDA7XG4gICAgICAgIH1cbiAgICAgICAgJi50b3AucmlnaHQge1xuICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDAgM3B4IDAgMDtcbiAgICAgICAgfVxuICAgICAgICAmLmJvdHRvbS5yaWdodCB7XG4gICAgICAgICAgYm9yZGVyLXJhZGl1czogMCAwIDNweCAwO1xuICAgICAgICB9XG4gICAgICAgICYuYm90dG9tLmxlZnQge1xuICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDAgMCAwIDNweDtcbiAgICAgICAgfVxuICAgICAgICAmLmxlZnQge1xuICAgICAgICAgIGxlZnQ6IDZweDtcbiAgICAgICAgICBib3JkZXItbGVmdDogMnB4IHNvbGlkIHZhcigtLWRhcmstMjAwKTtcbiAgICAgICAgICAmLnNlbGVjdGVkOmJlZm9yZSB7XG4gICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgICAgICByaWdodDogLTEwcHg7XG4gICAgICAgICAgICB0b3A6IDUwJTtcbiAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtNTAlKTtcbiAgICAgICAgICAgIGNvbnRlbnQ6ICcnO1xuICAgICAgICAgICAgaGVpZ2h0OiAycHg7XG4gICAgICAgICAgICB3aWR0aDogMTBweDtcbiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLXByaW1hcnktNjAwKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgJi50b3Age1xuICAgICAgICAgIHRvcDogNnB4O1xuICAgICAgICAgIGJvcmRlci10b3A6IDJweCBzb2xpZCB2YXIoLS1kYXJrLTIwMCk7XG4gICAgICAgICAgJi5zZWxlY3RlZDphZnRlciB7XG4gICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgICAgICBib3R0b206IC0xMHB4O1xuICAgICAgICAgICAgbGVmdDogNTAlO1xuICAgICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC01MCUpO1xuICAgICAgICAgICAgY29udGVudDogJyc7XG4gICAgICAgICAgICB3aWR0aDogMnB4O1xuICAgICAgICAgICAgaGVpZ2h0OiAxMHB4O1xuICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tcHJpbWFyeS02MDApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAmLmJvdHRvbSB7XG4gICAgICAgICAgYm90dG9tOiA2cHg7XG4gICAgICAgICAgYm9yZGVyLWJvdHRvbTogMnB4IHNvbGlkIHZhcigtLWRhcmstMjAwKTtcbiAgICAgICAgICAmLnNlbGVjdGVkOmFmdGVyIHtcbiAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgICAgIHRvcDogLTEwcHg7XG4gICAgICAgICAgICBsZWZ0OiA1MCU7XG4gICAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTUwJSk7XG4gICAgICAgICAgICBjb250ZW50OiAnJztcbiAgICAgICAgICAgIHdpZHRoOiAycHg7XG4gICAgICAgICAgICBoZWlnaHQ6IDEwcHg7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1wcmltYXJ5LTYwMCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgICYucmlnaHQge1xuICAgICAgICAgIHJpZ2h0OiA2cHg7XG4gICAgICAgICAgYm9yZGVyLXJpZ2h0OiAycHggc29saWQgdmFyKC0tZGFyay0yMDApO1xuICAgICAgICAgICYuc2VsZWN0ZWQ6YmVmb3JlIHtcbiAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgICAgIGxlZnQ6IC0xMHB4O1xuICAgICAgICAgICAgdG9wOiA1MCU7XG4gICAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTUwJSk7XG4gICAgICAgICAgICBjb250ZW50OiAnJztcbiAgICAgICAgICAgIGhlaWdodDogMnB4O1xuICAgICAgICAgICAgd2lkdGg6IDEwcHg7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1wcmltYXJ5LTYwMCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC5mcm9tLWxlZnQge1xuICAgICAgICBib3JkZXItbGVmdDogMnB4IHNvbGlkIHZhcigtLXByaW1hcnktNjAwKTtcbiAgICAgICAgJi5pcy1hdXRvIHtcbiAgICAgICAgICBib3JkZXItbGVmdC1jb2xvcjogdmFyKC0tZGFyay0yMDApO1xuICAgICAgICB9XG4gICAgICAgICYuYWxsb3ctY2hhbmdlOmhvdmVyIHtcbiAgICAgICAgICBib3JkZXItbGVmdC1jb2xvcjogdmFyKC0tcHJpbWFyeS02MDApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAuZnJvbS10b3Age1xuICAgICAgICBib3JkZXItdG9wOiAycHggc29saWQgdmFyKC0tcHJpbWFyeS02MDApO1xuICAgICAgICAmLmlzLWF1dG8ge1xuICAgICAgICAgIGJvcmRlci10b3AtY29sb3I6IHZhcigtLWRhcmstMjAwKTtcbiAgICAgICAgfVxuICAgICAgICAmLmFsbG93LWNoYW5nZTpob3ZlciB7XG4gICAgICAgICAgYm9yZGVyLXRvcC1jb2xvcjogdmFyKC0tcHJpbWFyeS02MDApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAuZnJvbS1yaWdodCB7XG4gICAgICAgIGJvcmRlci1yaWdodDogMnB4IHNvbGlkIHZhcigtLXByaW1hcnktNjAwKTtcbiAgICAgICAgJi5pcy1hdXRvIHtcbiAgICAgICAgICBib3JkZXItcmlnaHQtY29sb3I6IHZhcigtLWRhcmstMjAwKTtcbiAgICAgICAgfVxuICAgICAgICAmLmFsbG93LWNoYW5nZTpob3ZlciB7XG4gICAgICAgICAgYm9yZGVyLXJpZ2h0LWNvbG9yOiB2YXIoLS1wcmltYXJ5LTYwMCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC5mcm9tLWJvdHRvbSB7XG4gICAgICAgIGJvcmRlci1ib3R0b206IDJweCBzb2xpZCB2YXIoLS1wcmltYXJ5LTYwMCk7XG4gICAgICAgICYuaXMtYXV0byB7XG4gICAgICAgICAgYm9yZGVyLWJvdHRvbS1jb2xvcjogdmFyKC0tZGFyay0yMDApO1xuICAgICAgICB9XG4gICAgICAgICYuYWxsb3ctY2hhbmdlOmhvdmVyIHtcbiAgICAgICAgICBib3JkZXItYm90dG9tLWNvbG9yOiB2YXIoLS1wcmltYXJ5LTYwMCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8qIC5saW5lLWguaXMtYXV0byxcbiAgICAgIC5saW5lLXYuaXMtYXV0byB7XG4gICAgICAgIGJvcmRlci1jb2xvcjogdmFyKC0tZGFyay0yMDApO1xuICAgICAgfSAqL1xuICAgICAgLmxpbmUtaCB7XG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgIHRvcDogNTAlO1xuICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTUwJSk7XG4gICAgICAgIGhlaWdodDogMTJweDtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgICAgIHotaW5kZXg6IDA7XG5cbiAgICAgICAgJi5hbGxvdy1jaGFuZ2Uge1xuICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgICAgICAmOmhvdmVyOmFmdGVyIHtcbiAgICAgICAgICAgIGJvcmRlci10b3AtY29sb3I6IHZhcigtLXByaW1hcnktNjAwKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgJjphZnRlciB7XG4gICAgICAgICAgY29udGVudDogJyc7XG4gICAgICAgICAgaGVpZ2h0OiAwO1xuICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICAgIGJvcmRlci10b3A6IDJweCBzb2xpZCB2YXIoLS1wcmltYXJ5LTYwMCk7XG4gICAgICAgIH1cbiAgICAgICAgJi5pcy1hdXRvOmFmdGVyIHtcbiAgICAgICAgICBib3JkZXItdG9wLXN0eWxlOiBkYXNoZWQ7XG4gICAgICAgICAgYm9yZGVyLXRvcC1jb2xvcjogdmFyKC0tZGFyay0yMDApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAubGluZS12IHtcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgICAgIHdpZHRoOiAxMnB4O1xuICAgICAgICBsZWZ0OiA1MCU7XG4gICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNTAlKTtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgICAgIHotaW5kZXg6IDA7XG5cbiAgICAgICAgJi5hbGxvdy1jaGFuZ2Uge1xuICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgICAgICAmOmhvdmVyOmFmdGVyIHtcbiAgICAgICAgICAgIGJvcmRlci1sZWZ0LWNvbG9yOiB2YXIoLS1wcmltYXJ5LTYwMCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgICY6YWZ0ZXIge1xuICAgICAgICAgIGNvbnRlbnQ6ICcnO1xuICAgICAgICAgIHdpZHRoOiAwO1xuICAgICAgICAgIGhlaWdodDogMTAwJTtcbiAgICAgICAgICBib3JkZXItbGVmdDogMnB4IHNvbGlkIHZhcigtLXByaW1hcnktNjAwKTtcbiAgICAgICAgfVxuICAgICAgICAmLmlzLWF1dG86YWZ0ZXIge1xuICAgICAgICAgIGJvcmRlci1sZWZ0LXN0eWxlOiBkYXNoZWQ7XG4gICAgICAgICAgYm9yZGVyLWxlZnQtY29sb3I6IHZhcigtLWRhcmstMjAwKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAuYXV0by1sYWJlbCB7XG4gICAgICAgIHdpZHRoOiAxNnB4O1xuICAgICAgICBoZWlnaHQ6IDE2cHg7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLXByaW1hcnkpO1xuICAgICAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1saWdodC01MDApO1xuICAgICAgICBmb250LXNpemU6IDEycHg7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICBjb2xvcjogdmFyKC0tbGlnaHQtMzAwKTtcbiAgICAgIH1cblxuICAgICAgLnN0eWxlLXNldHRpbmctLWlucHV0LXVuaXQge1xuICAgICAgICAmOmhvdmVyIHtcbiAgICAgICAgICBpbnB1dC5qaW11LW51bWVyaWMtaW5wdXQtaW5wdXQge1xuICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tbGlnaHQtMjAwKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLnN0eWxlLXNldHRpbmctLXVuaXQtc2VsZWN0b3Ige1xuICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tbGlnaHQtMjAwKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYm9yZGVyLXJhZGl1czogMnB4O1xuICAgICAgICB3aWR0aDogNTJweDtcbiAgICAgICAgaGVpZ2h0OiAyNHB4O1xuXG4gICAgICAgIGlucHV0LmppbXUtbnVtZXJpYy1pbnB1dC1pbnB1dCB7XG4gICAgICAgICAgaGVpZ2h0OiAxMDAlO1xuICAgICAgICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICAgICAgICBwYWRkaW5nOiAwO1xuICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgICAgICBib3JkZXI6IG5vbmU7XG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tbGlnaHQtNTAwKTtcbiAgICAgICAgICAmOmZvY3VzIHtcbiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWxpZ2h0LTIwMCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC5zdHlsZS1zZXR0aW5nLS11bml0LXNlbGVjdG9yIHtcbiAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1saWdodC01MDApO1xuICAgICAgICAgIGNvbG9yOiB2YXIoLS1kYXJrLTQwMCk7XG4gICAgICAgICAgaGVpZ2h0OiAyNHB4O1xuICAgICAgICAgIHdpZHRoOiAyMHB4O1xuICAgICAgICAgIG1pbi13aWR0aDogMDtcbiAgICAgICAgICBwYWRkaW5nOiAwO1xuICAgICAgICAgIG1hcmdpbi1sZWZ0OiAwO1xuICAgICAgICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICAgICAgICBib3JkZXI6IG5vbmU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLm9yaWdpbi10aXAge1xuICAgICAgICBtYXJnaW4tdG9wOiA4cHg7XG4gICAgICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICAgICAgY29sb3I6IHZhcigtLWRhcmstNDAwKTtcbiAgICAgIH1cbiAgICBgO1xuICB9XG5cbiAgLy8gYXV0b0xhYmVsKCkge1xuICAvLyAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cImF1dG8tbGFiZWwgcm91bmRlZC1jaXJjbGVcIj5BPC9kaXY+O1xuICAvLyB9XG5cbiAgaW5wdXRVbml0KHByb3A6IHN0cmluZykge1xuICAgIGNvbnN0IHsgbGF5b3V0SXRlbSB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCB2YWx1ZSA9IHVpVXRpbHMuc3RyaW5nT2ZMaW5lYXJVbml0KGxheW91dEl0ZW0uYmJveFtwcm9wXSk7XG5cbiAgICByZXR1cm4gKDxkaXYgY2xhc3NOYW1lPVwicG9zLWxhYmVsXCI+XG4gICAgICA8SW5wdXRVbml0XG4gICAgICAgIHVuaXRzPXthdmFpbGFibGVVbml0c31cbiAgICAgICAgbWluPXstSW5maW5pdHl9XG4gICAgICAgIG1heD17SW5maW5pdHl9XG4gICAgICAgIHZhbHVlPXt2YWx1ZX1cbiAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSkgPT4gdGhpcy51cGRhdGVCQm94KHByb3AsIHZhbHVlKX1cbiAgICAgIC8+XG4gICAgPC9kaXY+KTtcbiAgfVxuXG4gIHVwZGF0ZUJCb3ggPSAocHJvcDogc3RyaW5nLCB2YWx1ZTogTGluZWFyVW5pdCkgPT4ge1xuICAgIGNvbnN0IGJib3ggPSB0aGlzLnByb3BzLmxheW91dEl0ZW0uYmJveCBhcyBJTUJvdW5kaW5nQm94O1xuICAgIGNvbnN0IHsgZGlzdGFuY2UsIHVuaXQgfSA9IHZhbHVlO1xuICAgIGNvbnN0IG9yaWdpbmFsVmFsdWUgPSBiYm94W3Byb3BdO1xuICAgIGxldCBuZXdWYWx1ZTogc3RyaW5nIHwgbnVtYmVyID0gZGlzdGFuY2UudG9GaXhlZCgyKTtcblxuICAgIGlmICh1dGlscy5pc1BlcmNlbnRhZ2Uob3JpZ2luYWxWYWx1ZSkgJiYgdW5pdCA9PT0gVW5pdFR5cGVzLlBJWEVMKSB7XG4gICAgICAvLyBjaGFuZ2UgZnJvbSBwZXJjZW50YWdlIHRvIHBpeGVsXG4gICAgICBjb25zdCBjb250YWllbnJSZWN0ID0gdGhpcy5nZXRTaXplT2ZDb250YWluZXIoKTtcbiAgICAgIGlmIChjb250YWllbnJSZWN0KSB7XG4gICAgICAgIGlmIChwcm9wID09PSAnbGVmdCcgfHwgcHJvcCA9PT0gJ3JpZ2h0JyB8fCBwcm9wID09PSAnd2lkdGgnKSB7XG4gICAgICAgICAgbmV3VmFsdWUgPSBNYXRoLnJvdW5kKChwYXJzZUZsb2F0KG9yaWdpbmFsVmFsdWUpICogY29udGFpZW5yUmVjdC53aWR0aCkgLyAxMDApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG5ld1ZhbHVlID0gTWF0aC5yb3VuZCgocGFyc2VGbG9hdChvcmlnaW5hbFZhbHVlKSAqIGNvbnRhaWVuclJlY3QuaGVpZ2h0KSAvIDEwMCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKCF1dGlscy5pc1BlcmNlbnRhZ2Uob3JpZ2luYWxWYWx1ZSkgJiYgdW5pdCA9PT0gVW5pdFR5cGVzLlBFUkNFTlRBR0UpIHtcbiAgICAgIC8vIGNoYW5nZSBmcm9tIHBpeGVsIHRvIHBlcmNlbnRhZ2VcbiAgICAgIGNvbnN0IGNvbnRhaWVuclJlY3QgPSB0aGlzLmdldFNpemVPZkNvbnRhaW5lcigpO1xuICAgICAgaWYgKGNvbnRhaWVuclJlY3QpIHtcbiAgICAgICAgaWYgKHByb3AgPT09ICdsZWZ0JyB8fCBwcm9wID09PSAncmlnaHQnIHx8IHByb3AgPT09ICd3aWR0aCcpIHtcbiAgICAgICAgICBuZXdWYWx1ZSA9ICgocGFyc2VGbG9hdChvcmlnaW5hbFZhbHVlKSAqIDEwMCkgLyBjb250YWllbnJSZWN0LndpZHRoKS50b0ZpeGVkKDIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG5ld1ZhbHVlID0gKChwYXJzZUZsb2F0KG9yaWdpbmFsVmFsdWUpICogMTAwKSAvIGNvbnRhaWVuclJlY3QuaGVpZ2h0KS50b0ZpeGVkKDIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5wcm9wcy5vblBvc0NoYW5nZShcbiAgICAgIHtcbiAgICAgICAgbGF5b3V0SWQ6IHRoaXMucHJvcHMubGF5b3V0SWQsXG4gICAgICAgIGxheW91dEl0ZW1JZDogdGhpcy5wcm9wcy5sYXlvdXRJdGVtLmlkLFxuICAgICAgfSxcbiAgICAgIGJib3guc2V0KHByb3AsIHZhbHVlLnVuaXQgPT09IFVuaXRUeXBlcy5QRVJDRU5UQUdFID8gYCR7bmV3VmFsdWV9JWAgOiBgJHtuZXdWYWx1ZX1weGApXG4gICAgKTtcbiAgfTtcblxuICBnZXRTaXplT2ZDb250YWluZXIoKTogQ2xpZW50UmVjdCB7XG4gICAgY29uc3QgbGF5b3V0RWxlbSA9IHRoaXMucXVlcnlTZWxlY3RvcihgZGl2LmZpeGVkLWxheW91dFtkYXRhLWxheW91dGlkPVwiJHt0aGlzLnByb3BzLmxheW91dElkfVwiXWApO1xuICAgIGlmIChsYXlvdXRFbGVtKSB7XG4gICAgICByZXR1cm4gbGF5b3V0RWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBnZXRTaXplT2ZJdGVtKCk6IENsaWVudFJlY3Qge1xuICAgIGNvbnN0IHsgbGF5b3V0SWQsIGxheW91dEl0ZW0gfSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3QgbGF5b3V0RWxlbSA9IHRoaXMucXVlcnlTZWxlY3RvcihcbiAgICAgIGBkaXYuZXhiLXJuZFtkYXRhLWxheW91dGlkPVwiJHtsYXlvdXRJZH1cIl1bZGF0YS1sYXlvdXRpdGVtaWQ9XCIke2xheW91dEl0ZW0uaWR9XCJdYFxuICAgICk7XG4gICAgaWYgKGxheW91dEVsZW0pIHtcbiAgICAgIHJldHVybiBsYXlvdXRFbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3I6IHN0cmluZyk6IEhUTUxFbGVtZW50IHtcbiAgICBjb25zdCBhcHBGcmFtZTogSFRNTEZyYW1lRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYGlmcmFtZVtuYW1lPVwiJHtBUFBfRlJBTUVfTkFNRV9JTl9CVUlMREVSfVwiXWApO1xuICAgIGlmIChhcHBGcmFtZSkge1xuICAgICAgY29uc3QgYXBwRnJhbWVEb2MgPSBhcHBGcmFtZS5jb250ZW50RG9jdW1lbnQgfHwgYXBwRnJhbWUuY29udGVudFdpbmRvdy5kb2N1bWVudDtcbiAgICAgIHJldHVybiBhcHBGcmFtZURvYy5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBzd2l0Y2hBdXRvKHNpZGU6IHN0cmluZywgb3RoZXJTaXplOiBzdHJpbmcsIG9yaWdpblZhbHVlOiBib29sZWFuKSB7XG4gICAgY29uc3QgeyBsYXlvdXRJZCwgbGF5b3V0SXRlbSB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCBzZXR0aW5nID0gbGF5b3V0SXRlbS5zZXR0aW5nID8/IEltbXV0YWJsZSh7fSk7XG4gICAgdGhpcy5wcm9wcy5vblNldHRpbmdDaGFuZ2UoXG4gICAgICB7XG4gICAgICAgIGxheW91dElkLFxuICAgICAgICBsYXlvdXRJdGVtSWQ6IGxheW91dEl0ZW0uaWQsXG4gICAgICB9LFxuICAgICAgc2V0dGluZy5zZXRJbihbJ2F1dG9Qcm9wcycsIHNpZGVdLCAhb3JpZ2luVmFsdWUpLnNldEluKFsnYXV0b1Byb3BzJywgb3RoZXJTaXplXSwgb3JpZ2luVmFsdWUpXG4gICAgKTtcbiAgfVxuXG4gIGNoZWNrQXV0b1Byb3BzKGl0ZW1TZXR0aW5nOiBGaXhlZExheW91dEl0ZW1TZXR0aW5nKToge1xuICAgIGxlZnRBdXRvOiBib29sZWFuLFxuICAgIHJpZ2h0QXV0bzogYm9vbGVhbixcbiAgICB0b3BBdXRvOiBib29sZWFuLFxuICAgIGJvdHRvbUF1dG86IGJvb2xlYW4sXG4gIH0ge1xuICAgIGNvbnN0IGJveCA9IGdlbmVyYXRlQkJveFN0eWxlKHRoaXMucHJvcHMubGF5b3V0SXRlbS5iYm94IGFzIElNQm91bmRpbmdCb3gsIGl0ZW1TZXR0aW5nKTtcblxuICAgIGNvbnN0IGxlZnRBdXRvID0gYm94LmxlZnQgPT0gbnVsbCB8fCBpdGVtU2V0dGluZy5oQ2VudGVyO1xuICAgIGNvbnN0IHJpZ2h0QXV0byA9IGJveC5yaWdodCA9PSBudWxsIHx8IGl0ZW1TZXR0aW5nLmhDZW50ZXI7XG4gICAgY29uc3QgdG9wQXV0byA9IGJveC50b3AgPT0gbnVsbCB8fCBpdGVtU2V0dGluZy52Q2VudGVyO1xuICAgIGNvbnN0IGJvdHRvbUF1dG8gPSBib3guYm90dG9tID09IG51bGwgfHwgaXRlbVNldHRpbmcudkNlbnRlcjtcblxuICAgIHJldHVybiB7bGVmdEF1dG8sIHJpZ2h0QXV0bywgdG9wQXV0bywgYm90dG9tQXV0b307XG4gIH1cblxuICBjaGVja09yaWdpbihsZWZ0QXV0bzogYm9vbGVhbiwgcmlnaHRBdXRvOiBib29sZWFuLCB0b3BBdXRvOiBib29sZWFuLCBib3R0b21BdXRvOiBib29sZWFuKToge1xuICAgIGxlZnQ6IGJvb2xlYW4sIHJpZ2h0OiBib29sZWFuLCB0b3A6IGJvb2xlYW4sIGJvdHRvbTogYm9vbGVhblxuICB9IHtcbiAgICBsZXQgbGVmdCA9IGxlZnRBdXRvO1xuICAgIGxldCByaWdodCA9IHJpZ2h0QXV0bztcbiAgICBsZXQgdG9wID0gdG9wQXV0bztcbiAgICBsZXQgYm90dG9tID0gYm90dG9tQXV0bztcblxuICAgIGlmIChsZWZ0QXV0byA9PT0gcmlnaHRBdXRvKSB7XG4gICAgICBsZWZ0ID0gdXRpbHMuaXNSVEwoKTtcbiAgICAgIHJpZ2h0ID0gIWxlZnQ7XG4gICAgfVxuXG4gICAgaWYgKHRvcEF1dG8gPT09IGJvdHRvbUF1dG8pIHtcbiAgICAgIHRvcCA9IGZhbHNlO1xuICAgICAgYm90dG9tID0gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIHt0b3AsIGJvdHRvbSwgbGVmdCwgcmlnaHR9O1xuICB9XG5cbiAgLyoqXG4gICAqIFdoZW4gd2lkdGggaXMgY3VzdG9tLCBvbmx5IG9uZSBvZiB0aGUgbGVmdCBhbmQgcmlnaHQgY2FuIHNldCB0byBjdXN0b20uXG4gICAqIEBwYXJhbSBwcm9wXG4gICAqIEBwYXJhbSByZWxhdGVkUHJvcFxuICAgKiBAcGFyYW0gc2lkZVxuICAgKi9cbiAgYWxsb3dDaGFuZ2VBdXRvUHJvcHMoc2lkZTogJ3dpZHRoJyB8ICdoZWlnaHQnKTogYm9vbGVhbiB7XG4gICAgY29uc3QgaXRlbVNldHRpbmcgPSB0aGlzLnByb3BzLmxheW91dEl0ZW0uc2V0dGluZztcbiAgICBjb25zdCBhdXRvUHJvcHMgPSBpdGVtU2V0dGluZz8uYXV0b1Byb3BzID8/IHt9O1xuICAgIGNvbnN0IHNpemVNb2RlID0gdXRpbHMuZ2V0TGF5b3V0SXRlbVNpemVNb2RlKHNpZGUsIHRoaXMucHJvcHMubGF5b3V0SXRlbS5iYm94IGFzIElNQm91bmRpbmdCb3gsIGF1dG9Qcm9wcyk7XG5cbiAgICBpZiAoc2l6ZU1vZGUgPT09IExheW91dEl0ZW1TaXplTW9kZXMuU3RyZXRjaCB8fFxuICAgICAgKHNpZGUgPT09ICd3aWR0aCcgJiYgaXRlbVNldHRpbmc/LmhDZW50ZXIpIHx8XG4gICAgICAoc2lkZSA9PT0gJ2hlaWdodCcgJiYgaXRlbVNldHRpbmc/LnZDZW50ZXIpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgZ2V0T3JpZ2luKGxlZnQ6IGJvb2xlYW4sIHRvcDogYm9vbGVhbiwgcmlnaHQ6IGJvb2xlYW4sIGJvdHRvbTogYm9vbGVhbik6IHN0cmluZyB7XG4gICAgY29uc3QgeyBmb3JtYXRNZXNzYWdlIH0gPSB0aGlzLnByb3BzO1xuICAgIGlmICghbGVmdCAmJiAhdG9wKSB7XG4gICAgICByZXR1cm4gZm9ybWF0TWVzc2FnZSgnVEwnKTtcbiAgICB9XG4gICAgaWYgKCFyaWdodCAmJiAhdG9wKSB7XG4gICAgICByZXR1cm4gZm9ybWF0TWVzc2FnZSgnVFInKTtcbiAgICB9XG4gICAgaWYgKCFyaWdodCAmJiAhYm90dG9tKSB7XG4gICAgICByZXR1cm4gZm9ybWF0TWVzc2FnZSgnQlInKTtcbiAgICB9XG4gICAgaWYgKCFsZWZ0ICYmICFib3R0b20pIHtcbiAgICAgIHJldHVybiBmb3JtYXRNZXNzYWdlKCdCTCcpO1xuICAgIH1cbiAgICByZXR1cm4gJyc7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBsYXlvdXRJdGVtLCB3aWR0aE1vZGUsIGhlaWdodE1vZGUsIGZvcm1hdE1lc3NhZ2UgfSA9IHRoaXMucHJvcHM7XG4gICAgaWYgKCFsYXlvdXRJdGVtKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgaXRlbVNldHRpbmcgPSBsb2Rhc2guYXNzaWduKHt9LCBERUZBVUxUX0ZJWF9MQVlPVVRfSVRFTV9TRVRUSU5HLCBsYXlvdXRJdGVtLnNldHRpbmcpO1xuICAgIGNvbnN0IHtsZWZ0QXV0bywgcmlnaHRBdXRvLCB0b3BBdXRvLCBib3R0b21BdXRvfSA9IHRoaXMuY2hlY2tBdXRvUHJvcHMoaXRlbVNldHRpbmcpO1xuICAgIGNvbnN0IHt0b3AsIGJvdHRvbSwgbGVmdCwgcmlnaHR9ID0gdGhpcy5jaGVja09yaWdpbihsZWZ0QXV0bywgcmlnaHRBdXRvLCB0b3BBdXRvLCBib3R0b21BdXRvKTtcblxuICAgIGNvbnN0IGNhblN3aXRjaFhBdXRvID0gdGhpcy5hbGxvd0NoYW5nZUF1dG9Qcm9wcygnd2lkdGgnKTtcbiAgICBjb25zdCBjYW5Td2l0Y2hZQXV0byA9IHRoaXMuYWxsb3dDaGFuZ2VBdXRvUHJvcHMoJ2hlaWdodCcpO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY3NzPXt0aGlzLmdldFN0eWxlKCl9IGNsYXNzTmFtZT1cInctMTAwXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicG9zaXRpb24tc2V0dGluZyByb3VuZGVkLWxnXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250ZW50IGQtZmxleCBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyIGFsaWduLWl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJkLWZsZXggdy1oYWxmIGZsZXgtY29sdW1uIGp1c3RpZnktY29udGVudC1jZW50ZXIgYWxpZ24taXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZC1mbGV4IHctMTAwIGp1c3RpZnktY29udGVudC1jZW50ZXIgYWxpZ24taXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgPFRvb2x0aXAgcGxhY2VtZW50PVwiYm90dG9tXCIgdGl0bGU9e2NhblN3aXRjaFhBdXRvID8gZm9ybWF0TWVzc2FnZShsZWZ0QXV0byA/ICdjaGFuZ2VUb0N1c3RvbScgOiAnY2hhbmdlVG9BdXRvJykgOiAnJ30+XG4gICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lcygnZnJvbS1sZWZ0IGxpbmUtaCBmbGV4LWdyb3ctMSBmbGV4LXNocmluay0xJywge1xuICAgICAgICAgICAgICAgICAgICAgICdpcy1hdXRvJzogbGVmdEF1dG8sXG4gICAgICAgICAgICAgICAgICAgICAgJ2FsbG93LWNoYW5nZSc6IGNhblN3aXRjaFhBdXRvXG4gICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtjYW5Td2l0Y2hYQXV0byA/IHRoaXMuc3dpdGNoQXV0by5iaW5kKHRoaXMsICdsZWZ0JywgJ3JpZ2h0JywgbGVmdEF1dG8pIDogbnVsbH1cbiAgICAgICAgICAgICAgICAgID48L2Rpdj5cbiAgICAgICAgICAgICAgICA8L1Rvb2x0aXA+XG4gICAgICAgICAgICAgICAge2xlZnRBdXRvID8gbnVsbCA6IHRoaXMuaW5wdXRVbml0KCdsZWZ0Jyl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImQtZmxleCBoLTEwMCBmbGV4LWNvbHVtbiBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyIGFsaWduLWl0ZW1zLWNlbnRlciBib3gtY29sdW1uXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZC1mbGV4IGgtaGFsZiB3LTEwMCBmbGV4LWNvbHVtbiBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyIGFsaWduLWl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgIDxUb29sdGlwIHBsYWNlbWVudD1cImJvdHRvbVwiIHRpdGxlPXtjYW5Td2l0Y2hZQXV0byA/IGZvcm1hdE1lc3NhZ2UodG9wQXV0byA/ICdjaGFuZ2VUb0N1c3RvbScgOiAnY2hhbmdlVG9BdXRvJykgOiAnJ30+XG4gICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lcygnZnJvbS10b3AgbGluZS12IGZsZXgtZ3Jvdy0xIGZsZXgtc2hyaW5rLTEnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgJ2lzLWF1dG8nOiB0b3BBdXRvLFxuICAgICAgICAgICAgICAgICAgICAgICdhbGxvdy1jaGFuZ2UnOiBjYW5Td2l0Y2hZQXV0b1xuICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17Y2FuU3dpdGNoWUF1dG8gPyB0aGlzLnN3aXRjaEF1dG8uYmluZCh0aGlzLCAndG9wJywgJ2JvdHRvbScsIHRvcEF1dG8pIDogbnVsbH1cbiAgICAgICAgICAgICAgICAgID48L2Rpdj5cbiAgICAgICAgICAgICAgICA8L1Rvb2x0aXA+XG4gICAgICAgICAgICAgICAge3RvcEF1dG8gPyBudWxsIDogdGhpcy5pbnB1dFVuaXQoJ3RvcCcpfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzTmFtZXMoJ2JveC1pdGVtIHJvdW5kZWQtbGcnLCB7XG4gICAgICAgICAgICAgICAgJ3N0cmV0Y2gnOiB3aWR0aE1vZGUgPT09IExheW91dEl0ZW1TaXplTW9kZXMuU3RyZXRjaCB8fCBoZWlnaHRNb2RlID09PSBMYXlvdXRJdGVtU2l6ZU1vZGVzLlN0cmV0Y2gsXG4gICAgICAgICAgICAgICAgJ3N0cmV0Y2gtdyc6IHdpZHRoTW9kZSA9PT0gTGF5b3V0SXRlbVNpemVNb2Rlcy5TdHJldGNoLFxuICAgICAgICAgICAgICAgICdzdHJldGNoLWgnOiBoZWlnaHRNb2RlID09PSBMYXlvdXRJdGVtU2l6ZU1vZGVzLlN0cmV0Y2gsXG4gICAgICAgICAgICAgIH0pfT5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImgtYXJyb3dcIj5cbiAgICAgICAgICAgICAgICAgIDxJY29uIGljb249e3N0cmV0Y2hJY29ufSBjbGFzc05hbWU9XCJhcnJvdy1pY29uXCI+PC9JY29uPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidi1hcnJvd1wiPlxuICAgICAgICAgICAgICAgICAgPEljb24gaWNvbj17c3RyZXRjaEljb259IHJvdGF0ZT17OTB9IGNsYXNzTmFtZT1cImFycm93LWljb25cIj48L0ljb24+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImQtZmxleCBoLWhhbGYgdy0xMDAgZmxleC1jb2x1bW4ganVzdGlmeS1jb250ZW50LWNlbnRlciBhbGlnbi1pdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICA8VG9vbHRpcCBwbGFjZW1lbnQ9XCJib3R0b21cIiB0aXRsZT17Y2FuU3dpdGNoWUF1dG8gPyBmb3JtYXRNZXNzYWdlKGJvdHRvbUF1dG8gPyAnY2hhbmdlVG9DdXN0b20nIDogJ2NoYW5nZVRvQXV0bycpIDogJyd9PlxuICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzTmFtZXMoJ2Zyb20tYm90dG9tIGxpbmUtdiBmbGV4LWdyb3ctMSBmbGV4LXNocmluay0xJywge1xuICAgICAgICAgICAgICAgICAgICAgICdpcy1hdXRvJzogYm90dG9tQXV0byxcbiAgICAgICAgICAgICAgICAgICAgICAnYWxsb3ctY2hhbmdlJzogY2FuU3dpdGNoWUF1dG9cbiAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2NhblN3aXRjaFlBdXRvID8gdGhpcy5zd2l0Y2hBdXRvLmJpbmQodGhpcywgJ2JvdHRvbScsICd0b3AnLCBib3R0b21BdXRvKSA6IG51bGx9XG4gICAgICAgICAgICAgICAgICA+PC9kaXY+XG4gICAgICAgICAgICAgICAgPC9Ub29sdGlwPlxuICAgICAgICAgICAgICAgIHtib3R0b21BdXRvID8gbnVsbCA6IHRoaXMuaW5wdXRVbml0KCdib3R0b20nKX1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZC1mbGV4IHctaGFsZiBmbGV4LWNvbHVtbiBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyIGFsaWduLWl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImQtZmxleCB3LTEwMCBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyIGFsaWduLWl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgIDxUb29sdGlwIHBsYWNlbWVudD1cImJvdHRvbVwiIHRpdGxlPXtjYW5Td2l0Y2hYQXV0byA/IGZvcm1hdE1lc3NhZ2UocmlnaHRBdXRvID8gJ2NoYW5nZVRvQ3VzdG9tJyA6ICdjaGFuZ2VUb0F1dG8nKSA6ICcnfT5cbiAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc05hbWVzKCdmcm9tLXJpZ2h0IGxpbmUtaCBmbGV4LWdyb3ctMSBmbGV4LXNocmluay0xJywge1xuICAgICAgICAgICAgICAgICAgICAgICdpcy1hdXRvJzogcmlnaHRBdXRvLFxuICAgICAgICAgICAgICAgICAgICAgICdhbGxvdy1jaGFuZ2UnOiBjYW5Td2l0Y2hYQXV0b1xuICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17Y2FuU3dpdGNoWEF1dG8gPyB0aGlzLnN3aXRjaEF1dG8uYmluZCh0aGlzLCAncmlnaHQnLCAnbGVmdCcsIHJpZ2h0QXV0bykgOiBudWxsfVxuICAgICAgICAgICAgICAgICAgPjwvZGl2PlxuICAgICAgICAgICAgICAgIDwvVG9vbHRpcD5cbiAgICAgICAgICAgICAgICB7cmlnaHRBdXRvID8gbnVsbCA6IHRoaXMuaW5wdXRVbml0KCdyaWdodCcpfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lcygnYW5jaG9yIHRvcCBsZWZ0Jywge1xuICAgICAgICAgICAgICAgIHNlbGVjdGVkOiAhbGVmdCAmJiAhdG9wLFxuICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgID48L2Rpdj5cbiAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc05hbWVzKCdhbmNob3IgdG9wIHJpZ2h0Jywge1xuICAgICAgICAgICAgICAgIHNlbGVjdGVkOiAhcmlnaHQgJiYgIXRvcCxcbiAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICA+PC9kaXY+XG4gICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lcygnYW5jaG9yIGJvdHRvbSBsZWZ0Jywge1xuICAgICAgICAgICAgICAgIHNlbGVjdGVkOiAhbGVmdCAmJiAhYm90dG9tLFxuICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgID48L2Rpdj5cbiAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc05hbWVzKCdhbmNob3IgYm90dG9tIHJpZ2h0Jywge1xuICAgICAgICAgICAgICAgIHNlbGVjdGVkOiAhYm90dG9tICYmICFyaWdodCxcbiAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICA+PC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwib3JpZ2luLXRpcCBkLWZsZXgganVzdGlmeS1jb250ZW50LWNlbnRlciBhbGlnbi1pdGVtLWNlbnRlclwiPlxuICAgICAgICAgIHt0aGlzLmdldE9yaWdpbihsZWZ0LCB0b3AsIHJpZ2h0LCBib3R0b20pfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFPQTtBQUVBO0FBQUE7QUFHQTtBQUFBO0FBZ1ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUdBO0FBalhBOztBQUNBO0FBRUE7QUFDQTtBQXFUQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQVFBO0FBdUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFHQTtBQUVBO0FBTUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7Ozs7QUFLQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBSUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUlBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBSUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUlBO0FBSUE7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBS0E7QUFLQTtBQUNBO0FBQUE7OzsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./jimu-layouts/lib/fixed-layout/builder/item-position-setting.tsx\n");

/***/ }),

/***/ "./jimu-layouts/lib/fixed-layout/builder/layout-action.ts":
/*!****************************************************************!*\
  !*** ./jimu-layouts/lib/fixed-layout/builder/layout-action.ts ***!
  \****************************************************************/
/*! exports provided: bringForward, bringToFront, sendBackward, sendToBack, toggleLockLayout, alignTo, alignFullWidth, alignVerticalCenter, alignHorizontalCenter, alignFullHeight, alignFullSize */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"bringForward\", function() { return bringForward; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"bringToFront\", function() { return bringToFront; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"sendBackward\", function() { return sendBackward; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"sendToBack\", function() { return sendToBack; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"toggleLockLayout\", function() { return toggleLockLayout; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"alignTo\", function() { return alignTo; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"alignFullWidth\", function() { return alignFullWidth; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"alignVerticalCenter\", function() { return alignVerticalCenter; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"alignHorizontalCenter\", function() { return alignHorizontalCenter; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"alignFullHeight\", function() { return alignFullHeight; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"alignFullSize\", function() { return alignFullSize; });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jimu_core__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-layouts/layout-runtime */ \"jimu-layouts/layout-runtime\");\n/* harmony import */ var jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var jimu_for_builder__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-for-builder */ \"jimu-for-builder\");\n/* harmony import */ var jimu_for_builder__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jimu_for_builder__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var invariant__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! invariant */ \"./node_modules/invariant/invariant.js\");\n/* harmony import */ var invariant__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(invariant__WEBPACK_IMPORTED_MODULE_3__);\n\n\n\n\nfunction bringForward(layoutInfo) {\n    var appConfigAction = Object(jimu_for_builder__WEBPACK_IMPORTED_MODULE_2__[\"getAppConfigAction\"])();\n    var appConfig = appConfigAction.appConfig;\n    var layoutId = layoutInfo.layoutId, layoutItemId = layoutInfo.layoutItemId;\n    var layout = appConfig.layouts[layoutId];\n    invariant__WEBPACK_IMPORTED_MODULE_3__(layout.order, 'parent order must not be empty to alter order');\n    var order = [].concat(layout.order);\n    var index = order.indexOf(layoutItemId);\n    if (index === order.length - 1 || index < 0) {\n        return;\n    }\n    order[index] = order[index + 1];\n    order[index + 1] = layoutInfo.layoutItemId;\n    appConfigAction.editLayoutOrder({ layoutId: layoutId }, order).exec();\n}\nfunction bringToFront(layoutInfo) {\n    var appConfigAction = Object(jimu_for_builder__WEBPACK_IMPORTED_MODULE_2__[\"getAppConfigAction\"])();\n    var appConfig = appConfigAction.appConfig;\n    var layoutId = layoutInfo.layoutId, layoutItemId = layoutInfo.layoutItemId;\n    var layout = appConfig.layouts[layoutId];\n    invariant__WEBPACK_IMPORTED_MODULE_3__(layout.order, 'parent order must not be empty to alter order');\n    var order = [].concat(layout.order);\n    var index = order.indexOf(layoutItemId);\n    if (index === order.length - 1 || index < 0) {\n        return;\n    }\n    order.splice(index, 1);\n    order.push(layoutInfo.layoutItemId);\n    appConfigAction.editLayoutOrder({ layoutId: layoutId }, order).exec();\n}\nfunction sendBackward(layoutInfo) {\n    var appConfigAction = Object(jimu_for_builder__WEBPACK_IMPORTED_MODULE_2__[\"getAppConfigAction\"])();\n    var appConfig = appConfigAction.appConfig;\n    var layoutId = layoutInfo.layoutId, layoutItemId = layoutInfo.layoutItemId;\n    var layout = appConfig.layouts[layoutId];\n    invariant__WEBPACK_IMPORTED_MODULE_3__(layout.order, 'parent order must not be empty to alter order');\n    var order = [].concat(layout.order);\n    var index = order.indexOf(layoutItemId);\n    if (index <= 0) {\n        return;\n    }\n    order[index] = order[index - 1];\n    order[index - 1] = layoutInfo.layoutItemId;\n    appConfigAction.editLayoutOrder({ layoutId: layoutId }, order).exec();\n}\nfunction sendToBack(layoutInfo) {\n    var appConfigAction = Object(jimu_for_builder__WEBPACK_IMPORTED_MODULE_2__[\"getAppConfigAction\"])();\n    var appConfig = appConfigAction.appConfig;\n    var layoutId = layoutInfo.layoutId, layoutItemId = layoutInfo.layoutItemId;\n    var layout = appConfig.layouts[layoutId];\n    invariant__WEBPACK_IMPORTED_MODULE_3__(layout.order, 'parent order must not be empty to alter order');\n    var order = [].concat(layout.order);\n    var index = order.indexOf(layoutItemId);\n    if (index <= 0) {\n        return;\n    }\n    order.splice(index, 1);\n    order.splice(0, 0, layoutInfo.layoutItemId);\n    appConfigAction.editLayoutOrder({ layoutId: layoutId }, order).exec();\n}\nfunction toggleLockLayout(layoutInfo) {\n    var appConfigAction = Object(jimu_for_builder__WEBPACK_IMPORTED_MODULE_2__[\"getAppConfigAction\"])();\n    var appConfig = appConfigAction.appConfig;\n    var layoutItem = jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__[\"searchUtils\"].findLayoutItem(appConfig, layoutInfo);\n    var setting = layoutItem.setting || Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"Immutable\"])({});\n    setting = setting.set('lockLayout', !setting.lockLayout);\n    appConfigAction.editLayoutItemSetting(layoutInfo, setting).exec();\n}\nfunction alignTo(layoutInfo, prop) {\n    var appConfigAction = Object(jimu_for_builder__WEBPACK_IMPORTED_MODULE_2__[\"getAppConfigAction\"])();\n    var appConfig = appConfigAction.appConfig;\n    var layoutItem = jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__[\"searchUtils\"].findLayoutItem(appConfig, layoutInfo);\n    var bbox = layoutItem.bbox;\n    var setting = layoutItem.setting || Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"Immutable\"])({});\n    var value = parseInt(bbox[prop], 10);\n    if (value !== 0) {\n        appConfigAction.editLayoutItemBBox(layoutInfo, bbox.set(prop, 0));\n    }\n    setting = setting.setIn(['autoProps', prop], false);\n    var autoProp;\n    switch (prop) {\n        case 'top':\n            autoProp = 'bottom';\n            break;\n        case 'bottom':\n            autoProp = 'top';\n            break;\n        case 'left':\n            autoProp = 'right';\n            break;\n        case 'right':\n            autoProp = 'left';\n            break;\n    }\n    setting = setting.setIn(['autoProps', autoProp], true);\n    if (prop === 'left' || prop === 'right') {\n        setting = setting.set('hCenter', false);\n    }\n    else if (prop === 'top' || prop === 'bottom') {\n        setting = setting.set('vCenter', false);\n    }\n    appConfigAction.editLayoutItemSetting(layoutInfo, setting).exec();\n}\nfunction alignFullWidth(layoutInfo) {\n    var appConfigAction = Object(jimu_for_builder__WEBPACK_IMPORTED_MODULE_2__[\"getAppConfigAction\"])();\n    var appConfig = appConfigAction.appConfig;\n    var layoutItem = jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__[\"searchUtils\"].findLayoutItem(appConfig, layoutInfo);\n    var bbox = layoutItem.bbox;\n    var setting = layoutItem.setting || Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"Immutable\"])({});\n    setting = setting\n        .set('hCenter', false)\n        .setIn(['autoProps', 'left'], false)\n        .setIn(['autoProps', 'right'], false)\n        .setIn(['autoProps', 'width'], jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__[\"LayoutItemSizeModes\"].Stretch);\n    appConfigAction\n        .editLayoutItemBBox(layoutInfo, bbox.set('left', 0).set('right', 0).set('width', '100%'))\n        .editLayoutItemSetting(layoutInfo, setting)\n        .exec();\n}\nfunction alignCenter(layoutInfo, direction) {\n    var appConfigAction = Object(jimu_for_builder__WEBPACK_IMPORTED_MODULE_2__[\"getAppConfigAction\"])();\n    var appConfig = appConfigAction.appConfig;\n    var layoutItem = jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__[\"searchUtils\"].findLayoutItem(appConfig, layoutInfo);\n    var setting = layoutItem.setting || Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"Immutable\"])({});\n    var bbox = layoutItem.bbox;\n    setting = setting.set(direction + \"Center\", true);\n    if (direction === 'h') {\n        bbox = bbox.set('left', '50%');\n        setting = setting.setIn(['autoProps', 'left'], false).setIn(['autoProps', 'right'], true);\n    }\n    else {\n        bbox = bbox.set('top', '50%');\n        setting = setting.setIn(['autoProps', 'top'], false).setIn(['autoProps', 'bottom'], true);\n    }\n    appConfigAction\n        .editLayoutItemBBox(layoutInfo, bbox)\n        .editLayoutItemSetting(layoutInfo, setting).exec();\n}\nfunction alignVerticalCenter(layoutInfo) {\n    alignCenter(layoutInfo, 'v');\n}\nfunction alignHorizontalCenter(layoutInfo) {\n    alignCenter(layoutInfo, 'h');\n}\nfunction alignFullHeight(layoutInfo) {\n    var appConfigAction = Object(jimu_for_builder__WEBPACK_IMPORTED_MODULE_2__[\"getAppConfigAction\"])();\n    var appConfig = appConfigAction.appConfig;\n    var layoutItem = jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__[\"searchUtils\"].findLayoutItem(appConfig, layoutInfo);\n    var bbox = layoutItem.bbox;\n    var setting = layoutItem.setting || Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"Immutable\"])({});\n    setting = setting\n        .set('vCenter', false)\n        .setIn(['autoProps', 'top'], false)\n        .setIn(['autoProps', 'bottom'], false)\n        .setIn(['autoProps', 'height'], jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__[\"LayoutItemSizeModes\"].Stretch);\n    appConfigAction\n        .editLayoutItemBBox(layoutInfo, bbox.set('top', 0).set('bottom', 0).set('height', '100%'))\n        .editLayoutItemSetting(layoutInfo, setting)\n        .exec();\n}\nfunction alignFullSize(layoutInfo) {\n    var appConfigAction = Object(jimu_for_builder__WEBPACK_IMPORTED_MODULE_2__[\"getAppConfigAction\"])();\n    var appConfig = appConfigAction.appConfig;\n    var layoutItem = jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__[\"searchUtils\"].findLayoutItem(appConfig, layoutInfo);\n    var bbox = layoutItem.bbox;\n    var setting = layoutItem.setting || Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"Immutable\"])({});\n    setting = setting\n        .set('vCenter', false)\n        .set('hCenter', false)\n        .setIn(['autoProps', 'top'], false)\n        .setIn(['autoProps', 'bottom'], false)\n        .setIn(['autoProps', 'left'], false)\n        .setIn(['autoProps', 'right'], false)\n        .setIn(['autoProps', 'height'], jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__[\"LayoutItemSizeModes\"].Stretch)\n        .setIn(['autoProps', 'width'], jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__[\"LayoutItemSizeModes\"].Stretch);\n    appConfigAction\n        .editLayoutItemBBox(layoutInfo, bbox.set('top', 0).set('bottom', 0).set('left', 0).set('right', 0).set('width', '100%').set('height', '100%'))\n        .editLayoutItemSetting(layoutInfo, setting)\n        .exec();\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWxheW91dHMvbGliL2ZpeGVkLWxheW91dC9idWlsZGVyL2xheW91dC1hY3Rpb24udHMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qaW11LWxheW91dHMvbGliL2ZpeGVkLWxheW91dC9idWlsZGVyL2xheW91dC1hY3Rpb24udHM/ODE5NiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBMYXlvdXRJbmZvLCBJTUJvdW5kaW5nQm94LCBJbW11dGFibGUgfSBmcm9tICdqaW11LWNvcmUnO1xuaW1wb3J0IHsgc2VhcmNoVXRpbHMsIExheW91dEl0ZW1TaXplTW9kZXMgfSBmcm9tICdqaW11LWxheW91dHMvbGF5b3V0LXJ1bnRpbWUnO1xuaW1wb3J0IHsgZ2V0QXBwQ29uZmlnQWN0aW9uIH0gZnJvbSAnamltdS1mb3ItYnVpbGRlcic7XG5pbXBvcnQgKiBhcyBpbnZhcmlhbnQgZnJvbSAnaW52YXJpYW50JztcblxuZXhwb3J0IGZ1bmN0aW9uIGJyaW5nRm9yd2FyZChsYXlvdXRJbmZvOiBMYXlvdXRJbmZvKSB7XG4gIGNvbnN0IGFwcENvbmZpZ0FjdGlvbiA9IGdldEFwcENvbmZpZ0FjdGlvbigpO1xuICBjb25zdCBhcHBDb25maWcgPSBhcHBDb25maWdBY3Rpb24uYXBwQ29uZmlnO1xuXG4gIGNvbnN0IHsgbGF5b3V0SWQsIGxheW91dEl0ZW1JZCB9ID0gbGF5b3V0SW5mbztcbiAgY29uc3QgbGF5b3V0ID0gYXBwQ29uZmlnLmxheW91dHNbbGF5b3V0SWRdO1xuICBpbnZhcmlhbnQobGF5b3V0Lm9yZGVyLCAncGFyZW50IG9yZGVyIG11c3Qgbm90IGJlIGVtcHR5IHRvIGFsdGVyIG9yZGVyJyk7XG4gIGNvbnN0IG9yZGVyID0gW10uY29uY2F0KGxheW91dC5vcmRlcik7XG4gIGNvbnN0IGluZGV4ID0gb3JkZXIuaW5kZXhPZihsYXlvdXRJdGVtSWQpO1xuICBpZiAoaW5kZXggPT09IG9yZGVyLmxlbmd0aCAtIDEgfHwgaW5kZXggPCAwKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIG9yZGVyW2luZGV4XSA9IG9yZGVyW2luZGV4ICsgMV07XG4gIG9yZGVyW2luZGV4ICsgMV0gPSBsYXlvdXRJbmZvLmxheW91dEl0ZW1JZDtcblxuICBhcHBDb25maWdBY3Rpb24uZWRpdExheW91dE9yZGVyKHsgbGF5b3V0SWQgfSwgb3JkZXIpLmV4ZWMoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGJyaW5nVG9Gcm9udChsYXlvdXRJbmZvOiBMYXlvdXRJbmZvKSB7XG4gIGNvbnN0IGFwcENvbmZpZ0FjdGlvbiA9IGdldEFwcENvbmZpZ0FjdGlvbigpO1xuICBjb25zdCBhcHBDb25maWcgPSBhcHBDb25maWdBY3Rpb24uYXBwQ29uZmlnO1xuXG4gIGNvbnN0IHsgbGF5b3V0SWQsIGxheW91dEl0ZW1JZCB9ID0gbGF5b3V0SW5mbztcbiAgY29uc3QgbGF5b3V0ID0gYXBwQ29uZmlnLmxheW91dHNbbGF5b3V0SWRdO1xuICBpbnZhcmlhbnQobGF5b3V0Lm9yZGVyLCAncGFyZW50IG9yZGVyIG11c3Qgbm90IGJlIGVtcHR5IHRvIGFsdGVyIG9yZGVyJyk7XG4gIGNvbnN0IG9yZGVyID0gW10uY29uY2F0KGxheW91dC5vcmRlcik7XG4gIGNvbnN0IGluZGV4ID0gb3JkZXIuaW5kZXhPZihsYXlvdXRJdGVtSWQpO1xuICBpZiAoaW5kZXggPT09IG9yZGVyLmxlbmd0aCAtIDEgfHwgaW5kZXggPCAwKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIG9yZGVyLnNwbGljZShpbmRleCwgMSk7XG4gIG9yZGVyLnB1c2gobGF5b3V0SW5mby5sYXlvdXRJdGVtSWQpO1xuXG4gIGFwcENvbmZpZ0FjdGlvbi5lZGl0TGF5b3V0T3JkZXIoeyBsYXlvdXRJZCB9LCBvcmRlcikuZXhlYygpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2VuZEJhY2t3YXJkKGxheW91dEluZm86IExheW91dEluZm8pIHtcbiAgY29uc3QgYXBwQ29uZmlnQWN0aW9uID0gZ2V0QXBwQ29uZmlnQWN0aW9uKCk7XG4gIGNvbnN0IGFwcENvbmZpZyA9IGFwcENvbmZpZ0FjdGlvbi5hcHBDb25maWc7XG5cbiAgY29uc3QgeyBsYXlvdXRJZCwgbGF5b3V0SXRlbUlkIH0gPSBsYXlvdXRJbmZvO1xuICBjb25zdCBsYXlvdXQgPSBhcHBDb25maWcubGF5b3V0c1tsYXlvdXRJZF07XG4gIGludmFyaWFudChsYXlvdXQub3JkZXIsICdwYXJlbnQgb3JkZXIgbXVzdCBub3QgYmUgZW1wdHkgdG8gYWx0ZXIgb3JkZXInKTtcbiAgY29uc3Qgb3JkZXIgPSBbXS5jb25jYXQobGF5b3V0Lm9yZGVyKTtcbiAgY29uc3QgaW5kZXggPSBvcmRlci5pbmRleE9mKGxheW91dEl0ZW1JZCk7XG4gIGlmIChpbmRleCA8PSAwKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIG9yZGVyW2luZGV4XSA9IG9yZGVyW2luZGV4IC0gMV07XG4gIG9yZGVyW2luZGV4IC0gMV0gPSBsYXlvdXRJbmZvLmxheW91dEl0ZW1JZDtcblxuICBhcHBDb25maWdBY3Rpb24uZWRpdExheW91dE9yZGVyKHsgbGF5b3V0SWQgfSwgb3JkZXIpLmV4ZWMoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNlbmRUb0JhY2sobGF5b3V0SW5mbzogTGF5b3V0SW5mbykge1xuICBjb25zdCBhcHBDb25maWdBY3Rpb24gPSBnZXRBcHBDb25maWdBY3Rpb24oKTtcbiAgY29uc3QgYXBwQ29uZmlnID0gYXBwQ29uZmlnQWN0aW9uLmFwcENvbmZpZztcblxuICBjb25zdCB7IGxheW91dElkLCBsYXlvdXRJdGVtSWQgfSA9IGxheW91dEluZm87XG4gIGNvbnN0IGxheW91dCA9IGFwcENvbmZpZy5sYXlvdXRzW2xheW91dElkXTtcbiAgaW52YXJpYW50KGxheW91dC5vcmRlciwgJ3BhcmVudCBvcmRlciBtdXN0IG5vdCBiZSBlbXB0eSB0byBhbHRlciBvcmRlcicpO1xuICBjb25zdCBvcmRlciA9IFtdLmNvbmNhdChsYXlvdXQub3JkZXIpO1xuICBjb25zdCBpbmRleCA9IG9yZGVyLmluZGV4T2YobGF5b3V0SXRlbUlkKTtcbiAgaWYgKGluZGV4IDw9IDApIHtcbiAgICByZXR1cm47XG4gIH1cbiAgb3JkZXIuc3BsaWNlKGluZGV4LCAxKTtcbiAgb3JkZXIuc3BsaWNlKDAsIDAsIGxheW91dEluZm8ubGF5b3V0SXRlbUlkKTtcblxuICBhcHBDb25maWdBY3Rpb24uZWRpdExheW91dE9yZGVyKHsgbGF5b3V0SWQgfSwgb3JkZXIpLmV4ZWMoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRvZ2dsZUxvY2tMYXlvdXQobGF5b3V0SW5mbzogTGF5b3V0SW5mbykge1xuICBjb25zdCBhcHBDb25maWdBY3Rpb24gPSBnZXRBcHBDb25maWdBY3Rpb24oKTtcbiAgY29uc3QgYXBwQ29uZmlnID0gYXBwQ29uZmlnQWN0aW9uLmFwcENvbmZpZztcbiAgY29uc3QgbGF5b3V0SXRlbSA9IHNlYXJjaFV0aWxzLmZpbmRMYXlvdXRJdGVtKGFwcENvbmZpZywgbGF5b3V0SW5mbyk7XG5cbiAgbGV0IHNldHRpbmcgPSBsYXlvdXRJdGVtLnNldHRpbmcgfHwgSW1tdXRhYmxlKHt9KTtcblxuICBzZXR0aW5nID0gc2V0dGluZy5zZXQoJ2xvY2tMYXlvdXQnLCAhc2V0dGluZy5sb2NrTGF5b3V0KTtcblxuICBhcHBDb25maWdBY3Rpb24uZWRpdExheW91dEl0ZW1TZXR0aW5nKGxheW91dEluZm8sIHNldHRpbmcpLmV4ZWMoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFsaWduVG8obGF5b3V0SW5mbzogTGF5b3V0SW5mbywgcHJvcDogJ3RvcCcgfCAnYm90dG9tJyB8ICdsZWZ0JyB8ICdyaWdodCcpIHtcbiAgY29uc3QgYXBwQ29uZmlnQWN0aW9uID0gZ2V0QXBwQ29uZmlnQWN0aW9uKCk7XG4gIGNvbnN0IGFwcENvbmZpZyA9IGFwcENvbmZpZ0FjdGlvbi5hcHBDb25maWc7XG4gIGNvbnN0IGxheW91dEl0ZW0gPSBzZWFyY2hVdGlscy5maW5kTGF5b3V0SXRlbShhcHBDb25maWcsIGxheW91dEluZm8pO1xuXG4gIGNvbnN0IGJib3ggPSBsYXlvdXRJdGVtLmJib3ggYXMgSU1Cb3VuZGluZ0JveDtcbiAgbGV0IHNldHRpbmcgPSBsYXlvdXRJdGVtLnNldHRpbmcgfHwgSW1tdXRhYmxlKHt9KTtcbiAgY29uc3QgdmFsdWUgPSBwYXJzZUludChiYm94W3Byb3BdLCAxMCk7XG4gIGlmICh2YWx1ZSAhPT0gMCkge1xuICAgIGFwcENvbmZpZ0FjdGlvbi5lZGl0TGF5b3V0SXRlbUJCb3gobGF5b3V0SW5mbywgYmJveC5zZXQocHJvcCwgMCkpO1xuICB9XG4gIHNldHRpbmcgPSBzZXR0aW5nLnNldEluKFsnYXV0b1Byb3BzJywgcHJvcF0sIGZhbHNlKTtcbiAgbGV0IGF1dG9Qcm9wO1xuICBzd2l0Y2ggKHByb3ApIHtcbiAgICBjYXNlICd0b3AnOlxuICAgICAgYXV0b1Byb3AgPSAnYm90dG9tJztcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2JvdHRvbSc6XG4gICAgICBhdXRvUHJvcCA9ICd0b3AnO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnbGVmdCc6XG4gICAgICBhdXRvUHJvcCA9ICdyaWdodCc7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdyaWdodCc6XG4gICAgICBhdXRvUHJvcCA9ICdsZWZ0JztcbiAgICAgIGJyZWFrO1xuICB9XG4gIHNldHRpbmcgPSBzZXR0aW5nLnNldEluKFsnYXV0b1Byb3BzJywgYXV0b1Byb3BdLCB0cnVlKTtcblxuICBpZiAocHJvcCA9PT0gJ2xlZnQnIHx8IHByb3AgPT09ICdyaWdodCcpIHtcbiAgICBzZXR0aW5nID0gc2V0dGluZy5zZXQoJ2hDZW50ZXInLCBmYWxzZSk7XG4gIH0gZWxzZSBpZiAocHJvcCA9PT0gJ3RvcCcgfHwgcHJvcCA9PT0gJ2JvdHRvbScpIHtcbiAgICBzZXR0aW5nID0gc2V0dGluZy5zZXQoJ3ZDZW50ZXInLCBmYWxzZSk7XG4gIH1cbiAgYXBwQ29uZmlnQWN0aW9uLmVkaXRMYXlvdXRJdGVtU2V0dGluZyhsYXlvdXRJbmZvLCBzZXR0aW5nKS5leGVjKCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhbGlnbkZ1bGxXaWR0aChsYXlvdXRJbmZvOiBMYXlvdXRJbmZvKSB7XG4gIGNvbnN0IGFwcENvbmZpZ0FjdGlvbiA9IGdldEFwcENvbmZpZ0FjdGlvbigpO1xuICBjb25zdCBhcHBDb25maWcgPSBhcHBDb25maWdBY3Rpb24uYXBwQ29uZmlnO1xuICBjb25zdCBsYXlvdXRJdGVtID0gc2VhcmNoVXRpbHMuZmluZExheW91dEl0ZW0oYXBwQ29uZmlnLCBsYXlvdXRJbmZvKTtcblxuICBjb25zdCBiYm94ID0gbGF5b3V0SXRlbS5iYm94IGFzIElNQm91bmRpbmdCb3g7XG4gIGxldCBzZXR0aW5nID0gbGF5b3V0SXRlbS5zZXR0aW5nIHx8IEltbXV0YWJsZSh7fSk7XG5cbiAgc2V0dGluZyA9IHNldHRpbmdcbiAgICAuc2V0KCdoQ2VudGVyJywgZmFsc2UpXG4gICAgLnNldEluKFsnYXV0b1Byb3BzJywgJ2xlZnQnXSwgZmFsc2UpXG4gICAgLnNldEluKFsnYXV0b1Byb3BzJywgJ3JpZ2h0J10sIGZhbHNlKVxuICAgIC5zZXRJbihbJ2F1dG9Qcm9wcycsICd3aWR0aCddLCBMYXlvdXRJdGVtU2l6ZU1vZGVzLlN0cmV0Y2gpO1xuXG4gIGFwcENvbmZpZ0FjdGlvblxuICAgIC5lZGl0TGF5b3V0SXRlbUJCb3gobGF5b3V0SW5mbywgYmJveC5zZXQoJ2xlZnQnLCAwKS5zZXQoJ3JpZ2h0JywgMCkuc2V0KCd3aWR0aCcsICcxMDAlJykpXG4gICAgLmVkaXRMYXlvdXRJdGVtU2V0dGluZyhsYXlvdXRJbmZvLCBzZXR0aW5nKVxuICAgIC5leGVjKCk7XG59XG5cbmZ1bmN0aW9uIGFsaWduQ2VudGVyKGxheW91dEluZm86IExheW91dEluZm8sIGRpcmVjdGlvbjogJ2gnIHwgJ3YnKSB7XG4gIGNvbnN0IGFwcENvbmZpZ0FjdGlvbiA9IGdldEFwcENvbmZpZ0FjdGlvbigpO1xuICBjb25zdCBhcHBDb25maWcgPSBhcHBDb25maWdBY3Rpb24uYXBwQ29uZmlnO1xuICBjb25zdCBsYXlvdXRJdGVtID0gc2VhcmNoVXRpbHMuZmluZExheW91dEl0ZW0oYXBwQ29uZmlnLCBsYXlvdXRJbmZvKTtcbiAgbGV0IHNldHRpbmcgPSBsYXlvdXRJdGVtLnNldHRpbmcgfHwgSW1tdXRhYmxlKHt9KTtcbiAgbGV0IGJib3ggPSBsYXlvdXRJdGVtLmJib3ggYXMgSU1Cb3VuZGluZ0JveDtcblxuICBzZXR0aW5nID0gc2V0dGluZy5zZXQoYCR7ZGlyZWN0aW9ufUNlbnRlcmAsIHRydWUpO1xuICBpZiAoZGlyZWN0aW9uID09PSAnaCcpIHtcbiAgICBiYm94ID0gYmJveC5zZXQoJ2xlZnQnLCAnNTAlJyk7XG4gICAgc2V0dGluZyA9IHNldHRpbmcuc2V0SW4oWydhdXRvUHJvcHMnLCAnbGVmdCddLCBmYWxzZSkuc2V0SW4oWydhdXRvUHJvcHMnLCAncmlnaHQnXSwgdHJ1ZSk7XG4gIH0gZWxzZSB7XG4gICAgYmJveCA9IGJib3guc2V0KCd0b3AnLCAnNTAlJyk7XG4gICAgc2V0dGluZyA9IHNldHRpbmcuc2V0SW4oWydhdXRvUHJvcHMnLCAndG9wJ10sIGZhbHNlKS5zZXRJbihbJ2F1dG9Qcm9wcycsICdib3R0b20nXSwgdHJ1ZSk7XG4gIH1cblxuICBhcHBDb25maWdBY3Rpb25cbiAgICAuZWRpdExheW91dEl0ZW1CQm94KGxheW91dEluZm8sIGJib3gpXG4gICAgLmVkaXRMYXlvdXRJdGVtU2V0dGluZyhsYXlvdXRJbmZvLCBzZXR0aW5nKS5leGVjKCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhbGlnblZlcnRpY2FsQ2VudGVyKGxheW91dEluZm86IExheW91dEluZm8pIHtcbiAgYWxpZ25DZW50ZXIobGF5b3V0SW5mbywgJ3YnKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFsaWduSG9yaXpvbnRhbENlbnRlcihsYXlvdXRJbmZvOiBMYXlvdXRJbmZvKSB7XG4gIGFsaWduQ2VudGVyKGxheW91dEluZm8sICdoJyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhbGlnbkZ1bGxIZWlnaHQobGF5b3V0SW5mbzogTGF5b3V0SW5mbykge1xuICBjb25zdCBhcHBDb25maWdBY3Rpb24gPSBnZXRBcHBDb25maWdBY3Rpb24oKTtcbiAgY29uc3QgYXBwQ29uZmlnID0gYXBwQ29uZmlnQWN0aW9uLmFwcENvbmZpZztcbiAgY29uc3QgbGF5b3V0SXRlbSA9IHNlYXJjaFV0aWxzLmZpbmRMYXlvdXRJdGVtKGFwcENvbmZpZywgbGF5b3V0SW5mbyk7XG5cbiAgY29uc3QgYmJveCA9IGxheW91dEl0ZW0uYmJveCBhcyBJTUJvdW5kaW5nQm94O1xuICBsZXQgc2V0dGluZyA9IGxheW91dEl0ZW0uc2V0dGluZyB8fCBJbW11dGFibGUoe30pO1xuXG4gIHNldHRpbmcgPSBzZXR0aW5nXG4gICAgLnNldCgndkNlbnRlcicsIGZhbHNlKVxuICAgIC5zZXRJbihbJ2F1dG9Qcm9wcycsICd0b3AnXSwgZmFsc2UpXG4gICAgLnNldEluKFsnYXV0b1Byb3BzJywgJ2JvdHRvbSddLCBmYWxzZSlcbiAgICAuc2V0SW4oWydhdXRvUHJvcHMnLCAnaGVpZ2h0J10sIExheW91dEl0ZW1TaXplTW9kZXMuU3RyZXRjaCk7XG5cbiAgYXBwQ29uZmlnQWN0aW9uXG4gICAgLmVkaXRMYXlvdXRJdGVtQkJveChsYXlvdXRJbmZvLCBiYm94LnNldCgndG9wJywgMCkuc2V0KCdib3R0b20nLCAwKS5zZXQoJ2hlaWdodCcsICcxMDAlJykpXG4gICAgLmVkaXRMYXlvdXRJdGVtU2V0dGluZyhsYXlvdXRJbmZvLCBzZXR0aW5nKVxuICAgIC5leGVjKCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhbGlnbkZ1bGxTaXplKGxheW91dEluZm86IExheW91dEluZm8pIHtcbiAgY29uc3QgYXBwQ29uZmlnQWN0aW9uID0gZ2V0QXBwQ29uZmlnQWN0aW9uKCk7XG4gIGNvbnN0IGFwcENvbmZpZyA9IGFwcENvbmZpZ0FjdGlvbi5hcHBDb25maWc7XG4gIGNvbnN0IGxheW91dEl0ZW0gPSBzZWFyY2hVdGlscy5maW5kTGF5b3V0SXRlbShhcHBDb25maWcsIGxheW91dEluZm8pO1xuXG4gIGNvbnN0IGJib3ggPSBsYXlvdXRJdGVtLmJib3ggYXMgSU1Cb3VuZGluZ0JveDtcbiAgbGV0IHNldHRpbmcgPSBsYXlvdXRJdGVtLnNldHRpbmcgfHwgSW1tdXRhYmxlKHt9KTtcblxuICBzZXR0aW5nID0gc2V0dGluZ1xuICAgIC5zZXQoJ3ZDZW50ZXInLCBmYWxzZSlcbiAgICAuc2V0KCdoQ2VudGVyJywgZmFsc2UpXG4gICAgLnNldEluKFsnYXV0b1Byb3BzJywgJ3RvcCddLCBmYWxzZSlcbiAgICAuc2V0SW4oWydhdXRvUHJvcHMnLCAnYm90dG9tJ10sIGZhbHNlKVxuICAgIC5zZXRJbihbJ2F1dG9Qcm9wcycsICdsZWZ0J10sIGZhbHNlKVxuICAgIC5zZXRJbihbJ2F1dG9Qcm9wcycsICdyaWdodCddLCBmYWxzZSlcbiAgICAuc2V0SW4oWydhdXRvUHJvcHMnLCAnaGVpZ2h0J10sIExheW91dEl0ZW1TaXplTW9kZXMuU3RyZXRjaClcbiAgICAuc2V0SW4oWydhdXRvUHJvcHMnLCAnd2lkdGgnXSwgTGF5b3V0SXRlbVNpemVNb2Rlcy5TdHJldGNoKTtcblxuICBhcHBDb25maWdBY3Rpb25cbiAgICAuZWRpdExheW91dEl0ZW1CQm94KFxuICAgICAgbGF5b3V0SW5mbyxcbiAgICAgIGJib3guc2V0KCd0b3AnLCAwKS5zZXQoJ2JvdHRvbScsIDApLnNldCgnbGVmdCcsIDApLnNldCgncmlnaHQnLCAwKS5zZXQoJ3dpZHRoJywgJzEwMCUnKS5zZXQoJ2hlaWdodCcsICcxMDAlJylcbiAgICApXG4gICAgLmVkaXRMYXlvdXRJdGVtU2V0dGluZyhsYXlvdXRJbmZvLCBzZXR0aW5nKVxuICAgIC5leGVjKCk7XG59XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUlBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./jimu-layouts/lib/fixed-layout/builder/layout-action.ts\n");

/***/ }),

/***/ "./jimu-layouts/lib/fixed-layout/builder/layout-item.tsx":
/*!***************************************************************!*\
  !*** ./jimu-layouts/lib/fixed-layout/builder/layout-item.tsx ***!
  \***************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jimu_core__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-layouts/layout-runtime */ \"jimu-layouts/layout-runtime\");\n/* harmony import */ var jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _default_setting__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../default-setting */ \"./jimu-layouts/lib/fixed-layout/default-setting.ts\");\n/* harmony import */ var _builder_layout_item__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../builder/layout-item */ \"./jimu-layouts/lib/builder/layout-item.tsx\");\n/* harmony import */ var _fixed_item_menu__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./fixed-item-menu */ \"./jimu-layouts/lib/fixed-layout/builder/fixed-item-menu.tsx\");\n/* harmony import */ var _fixed_layout_util__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../fixed-layout-util */ \"./jimu-layouts/lib/fixed-layout/fixed-layout-util.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __makeTemplateObject = (undefined && undefined.__makeTemplateObject) || function (cooked, raw) {\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n    return cooked;\n};\nvar __assign = (undefined && undefined.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\n/** @jsx jsx */\n\n\n\n\n\n\nvar FixedItem = /** @class */ (function (_super) {\n    __extends(FixedItem, _super);\n    function FixedItem() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {};\n        _this.onResizeEnd = function (id, dx, dy, dw, dh, shiftKey) {\n            var layoutItem = _this.props.layoutItem;\n            var deltaH = _this.itemSetting.heightMode === 'ratio' ? _this.itemSetting.aspectRatio * dw : dh;\n            _this.props.onResizeEnd(id, dx, dy, dw, deltaH, shiftKey, layoutItem, _this.itemSetting);\n        };\n        _this.onResizing = function (id, dx, dy, dw, dh, shiftKey) {\n            var deltaH = _this.itemSetting.heightMode === 'ratio' ? _this.itemSetting.aspectRatio * dw : dh;\n            _this.props.onResizing(id, dx, dy, dw, deltaH, shiftKey);\n        };\n        _this.moveUp = function () {\n            _this.props.onMoveByKey(_this.props.layoutItemId, 0, -1);\n        };\n        _this.moveDown = function () {\n            _this.props.onMoveByKey(_this.props.layoutItemId, 0, 1);\n        };\n        _this.moveLeft = function () {\n            _this.props.onMoveByKey(_this.props.layoutItemId, -1, 0);\n        };\n        _this.moveRight = function () {\n            _this.props.onMoveByKey(_this.props.layoutItemId, 1, 0);\n        };\n        return _this;\n    }\n    FixedItem.prototype.getKeyboardComponent = function () {\n        return (Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"Keyboard\"], { bindings: {\n                up: this.moveUp,\n                down: this.moveDown,\n                left: this.moveLeft,\n                right: this.moveRight,\n            } }));\n    };\n    FixedItem.prototype.getPositionStyle = function () {\n        var _a = this.props, layoutItem = _a.layoutItem, offsetX = _a.offsetX, offsetY = _a.offsetY, dw = _a.dw, dh = _a.dh, initRect = _a.initRect, containerRect = _a.containerRect;\n        var pos = Object(_fixed_layout_util__WEBPACK_IMPORTED_MODULE_5__[\"generateBBoxStyle\"])(layoutItem.bbox, this.itemSetting);\n        if (initRect) {\n            pos = Object(_fixed_layout_util__WEBPACK_IMPORTED_MODULE_5__[\"generateResizingBBoxStyle\"])(initRect, containerRect, {\n                dw: dw,\n                dh: this.itemSetting.heightMode === 'ratio' ? this.itemSetting.aspectRatio * dw : dh,\n                dx: offsetX,\n                dy: offsetY,\n            }, true); // The emotion css will process RTL\n        }\n        var mergedStyle = __assign(__assign({}, pos), Object(_fixed_layout_util__WEBPACK_IMPORTED_MODULE_5__[\"applyPositionSetting\"])(layoutItem.bbox, this.itemSetting, Boolean(initRect)));\n        if (dw !== 0 || dh !== 0) {\n            // is resizing. The right style will take effect in RTL.\n            mergedStyle.right = 'auto';\n        }\n        return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n      position: absolute;\\n      transform: \", \";\\n      left: \", \";\\n      right: \", \";\\n      top: \", \";\\n      bottom: \", \";\\n      width: \", \";\\n      height: \", \";\\n    \"], [\"\\n      position: absolute;\\n      transform: \", \";\\n      left: \", \";\\n      right: \", \";\\n      top: \", \";\\n      bottom: \", \";\\n      width: \", \";\\n      height: \", \";\\n    \"])), mergedStyle.transform, jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__[\"utils\"].getValueOfBBox(mergedStyle, 'left'), jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__[\"utils\"].getValueOfBBox(mergedStyle, 'right'), jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__[\"utils\"].getValueOfBBox(mergedStyle, 'top'), jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__[\"utils\"].getValueOfBBox(mergedStyle, 'bottom'), jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__[\"utils\"].getValueOfBBox(mergedStyle, 'width'), jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__[\"utils\"].getValueOfBBox(mergedStyle, 'height'));\n    };\n    FixedItem.prototype.render = function () {\n        var _a = this.props, layoutId = _a.layoutId, layoutItem = _a.layoutItem, isLayoutLockChildren = _a.isLayoutLockChildren;\n        if (!layoutItem || layoutItem.isPending) {\n            return null;\n        }\n        this.itemSetting = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"lodash\"].assign({}, _default_setting__WEBPACK_IMPORTED_MODULE_2__[\"DEFAULT_FIX_LAYOUT_ITEM_SETTING\"], layoutItem.setting);\n        var lockLayout = this.itemSetting.lockLayout;\n        var ratio = jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__[\"utils\"].parseAspectRatio(this.itemSetting.aspectRatio);\n        var useAspectRatio = Object(_fixed_layout_util__WEBPACK_IMPORTED_MODULE_5__[\"forceAspectRatio\"])(layoutItem.bbox, this.itemSetting);\n        var widthMode = jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__[\"utils\"].getLayoutItemSizeMode('width', layoutItem.bbox, this.itemSetting.autoProps);\n        var heightMode = jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__[\"utils\"].getLayoutItemSizeMode('height', layoutItem.bbox, this.itemSetting.autoProps);\n        var oneByOneAnimationProps = jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__[\"utils\"].handleOnebyOneAnimation(this.props);\n        return (Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_builder_layout_item__WEBPACK_IMPORTED_MODULE_3__[\"default\"], __assign({ className: \"d-flex\", css: this.getPositionStyle(), layoutId: layoutId, layoutItemId: layoutItem.id, restrict: this.itemSetting.lockParent || isLayoutLockChildren, draggable: this.props.draggable !== false && !lockLayout, resizable: this.props.resizable !== false && !lockLayout, showDefaultTools: this.props.showDefaultTools, toolItems: _fixed_item_menu__WEBPACK_IMPORTED_MODULE_4__[\"fixedItemMenu\"], onResizeStart: this.props.onResizeStart, onResizing: this.onResizing, onResizeEnd: this.onResizeEnd, onClick: this.props.onClick, top: heightMode !== jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__[\"LayoutItemSizeModes\"].Auto && !useAspectRatio, bottom: heightMode !== jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__[\"LayoutItemSizeModes\"].Auto && !useAspectRatio, left: widthMode !== jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__[\"LayoutItemSizeModes\"].Auto, right: widthMode !== jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__[\"LayoutItemSizeModes\"].Auto, forceAspectRatio: useAspectRatio, aspectRatio: ratio, isInSection: this.props.isInSection }, oneByOneAnimationProps), this.props.selected && this.getKeyboardComponent()));\n    };\n    return FixedItem;\n}(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].PureComponent));\nfunction mapStateToLayoutItemProps(state, ownProps) {\n    var _a;\n    var selected = false;\n    var selection = (_a = state.appRuntimeInfo) === null || _a === void 0 ? void 0 : _a.selection;\n    if (selection) {\n        selected = selection.layoutId === ownProps.layoutId && selection.layoutItemId === ownProps.layoutItemId;\n    }\n    return { selected: selected };\n}\n/* harmony default export */ __webpack_exports__[\"default\"] = (jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"ReactRedux\"].connect(mapStateToLayoutItemProps)(FixedItem));\nvar templateObject_1;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWxheW91dHMvbGliL2ZpeGVkLWxheW91dC9idWlsZGVyL2xheW91dC1pdGVtLnRzeC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2ppbXUtbGF5b3V0cy9saWIvZml4ZWQtbGF5b3V0L2J1aWxkZXIvbGF5b3V0LWl0ZW0udHN4PzdlMjMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqIEBqc3gganN4ICovXG5pbXBvcnQge1xuICBSZWFjdCxcbiAgTGF5b3V0SXRlbUpzb24sXG4gIGxvZGFzaCxcbiAgSU1Cb3VuZGluZ0JveCxcbiAgUmVhY3RSZWR1eCxcbiAgSU1TdGF0ZSxcbiAgS2V5Ym9hcmQsXG4gIGpzeCxcbiAgY3NzLFxufSBmcm9tICdqaW11LWNvcmUnO1xuaW1wb3J0IHsgdXRpbHMsIExheW91dEl0ZW1Qcm9wcywgRml4ZWRMYXlvdXRJdGVtU2V0dGluZywgTGF5b3V0SXRlbVNpemVNb2RlcyB9IGZyb20gJ2ppbXUtbGF5b3V0cy9sYXlvdXQtcnVudGltZSc7XG5pbXBvcnQgeyBERUZBVUxUX0ZJWF9MQVlPVVRfSVRFTV9TRVRUSU5HIH0gZnJvbSAnLi4vZGVmYXVsdC1zZXR0aW5nJztcbmltcG9ydCBMYXlvdXRJdGVtIGZyb20gJy4uLy4uL2J1aWxkZXIvbGF5b3V0LWl0ZW0nO1xuaW1wb3J0IHsgZml4ZWRJdGVtTWVudSB9IGZyb20gJy4vZml4ZWQtaXRlbS1tZW51JztcbmltcG9ydCB7XG4gIGdlbmVyYXRlUmVzaXppbmdCQm94U3R5bGUsXG4gIGdlbmVyYXRlQkJveFN0eWxlLFxuICBhcHBseVBvc2l0aW9uU2V0dGluZyxcbiAgZm9yY2VBc3BlY3RSYXRpbyxcbn0gZnJvbSAnLi4vZml4ZWQtbGF5b3V0LXV0aWwnO1xuXG5pbnRlcmZhY2UgT3duUHJvcHMge1xuICBsYXlvdXRJdGVtOiBMYXlvdXRJdGVtSnNvbjtcbiAgb2Zmc2V0WD86IG51bWJlcjtcbiAgb2Zmc2V0WT86IG51bWJlcjtcbiAgZHc/OiBudW1iZXI7XG4gIGRoPzogbnVtYmVyO1xuICBpbmRleDogbnVtYmVyO1xuICBpbml0UmVjdD86IENsaWVudFJlY3Q7XG4gIGNvbnRhaW5lclJlY3Q/OiBDbGllbnRSZWN0O1xuICBpc0xheW91dExvY2tDaGlsZHJlbj86IGJvb2xlYW47XG4gIC8vIGV2ZW50IGhhbmRsZXJzXG4gIG9uUmVzaXplU3RhcnQ6IChpZDogc3RyaW5nKSA9PiB2b2lkO1xuICBvblJlc2l6aW5nOiAoaWQ6IHN0cmluZywgeDogbnVtYmVyLCB5OiBudW1iZXIsIGR3OiBudW1iZXIsIGRoOiBudW1iZXIsIHNoaWZ0S2V5OiBib29sZWFuKSA9PiB2b2lkO1xuICBvblJlc2l6ZUVuZDogKFxuICAgIGlkOiBzdHJpbmcsXG4gICAgeDogbnVtYmVyLFxuICAgIHk6IG51bWJlcixcbiAgICBkdzogbnVtYmVyLFxuICAgIGRoOiBudW1iZXIsXG4gICAgc2hpZnRLZXk6IGJvb2xlYW4sXG4gICAgbGF5b3V0SXRlbTogTGF5b3V0SXRlbUpzb24sXG4gICAgaXRlbVNldHRpbmc6IEZpeGVkTGF5b3V0SXRlbVNldHRpbmdcbiAgKSA9PiB2b2lkO1xuICBvbk1vdmVCeUtleTogKGlkOiBzdHJpbmcsIGR4OiBudW1iZXIsIGR5OiBudW1iZXIpID0+IHZvaWQ7XG59XG5cbmludGVyZmFjZSBTdGF0ZVRvTGF5b3V0SXRlbVByb3BzIHtcbiAgc2VsZWN0ZWQ6IGJvb2xlYW47XG59XG5cbmludGVyZmFjZSBTdGF0ZSB7XG4gIGR4PzogbnVtYmVyO1xuICBkeT86IG51bWJlcjtcbn1cblxuY2xhc3MgRml4ZWRJdGVtIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudDxMYXlvdXRJdGVtUHJvcHMgJiBPd25Qcm9wcyAmIFN0YXRlVG9MYXlvdXRJdGVtUHJvcHMsIFN0YXRlPiB7XG4gIHN0YXRlOiBTdGF0ZSA9IHt9O1xuICBpdGVtU2V0dGluZzogRml4ZWRMYXlvdXRJdGVtU2V0dGluZztcblxuICBvblJlc2l6ZUVuZCA9IChpZDogc3RyaW5nLCBkeDogbnVtYmVyLCBkeTogbnVtYmVyLCBkdzogbnVtYmVyLCBkaDogbnVtYmVyLCBzaGlmdEtleTogYm9vbGVhbikgPT4ge1xuICAgIGNvbnN0IHsgbGF5b3V0SXRlbSB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCBkZWx0YUggPSB0aGlzLml0ZW1TZXR0aW5nLmhlaWdodE1vZGUgPT09ICdyYXRpbycgPyB0aGlzLml0ZW1TZXR0aW5nLmFzcGVjdFJhdGlvICogZHcgOiBkaDtcbiAgICB0aGlzLnByb3BzLm9uUmVzaXplRW5kKGlkLCBkeCwgZHksIGR3LCBkZWx0YUgsIHNoaWZ0S2V5LCBsYXlvdXRJdGVtLCB0aGlzLml0ZW1TZXR0aW5nKTtcbiAgfTtcblxuICBvblJlc2l6aW5nID0gKGlkOiBzdHJpbmcsIGR4OiBudW1iZXIsIGR5OiBudW1iZXIsIGR3OiBudW1iZXIsIGRoOiBudW1iZXIsIHNoaWZ0S2V5OiBib29sZWFuKSA9PiB7XG4gICAgY29uc3QgZGVsdGFIID0gdGhpcy5pdGVtU2V0dGluZy5oZWlnaHRNb2RlID09PSAncmF0aW8nID8gdGhpcy5pdGVtU2V0dGluZy5hc3BlY3RSYXRpbyAqIGR3IDogZGg7XG4gICAgdGhpcy5wcm9wcy5vblJlc2l6aW5nKGlkLCBkeCwgZHksIGR3LCBkZWx0YUgsIHNoaWZ0S2V5KTtcbiAgfTtcblxuICBtb3ZlVXAgPSAoKSA9PiB7XG4gICAgdGhpcy5wcm9wcy5vbk1vdmVCeUtleSh0aGlzLnByb3BzLmxheW91dEl0ZW1JZCwgMCwgLTEpO1xuICB9O1xuXG4gIG1vdmVEb3duID0gKCkgPT4ge1xuICAgIHRoaXMucHJvcHMub25Nb3ZlQnlLZXkodGhpcy5wcm9wcy5sYXlvdXRJdGVtSWQsIDAsIDEpO1xuICB9O1xuXG4gIG1vdmVMZWZ0ID0gKCkgPT4ge1xuICAgIHRoaXMucHJvcHMub25Nb3ZlQnlLZXkodGhpcy5wcm9wcy5sYXlvdXRJdGVtSWQsIC0xLCAwKTtcbiAgfTtcblxuICBtb3ZlUmlnaHQgPSAoKSA9PiB7XG4gICAgdGhpcy5wcm9wcy5vbk1vdmVCeUtleSh0aGlzLnByb3BzLmxheW91dEl0ZW1JZCwgMSwgMCk7XG4gIH07XG5cbiAgZ2V0S2V5Ym9hcmRDb21wb25lbnQoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxLZXlib2FyZFxuICAgICAgICBiaW5kaW5ncz17e1xuICAgICAgICAgIHVwOiB0aGlzLm1vdmVVcCxcbiAgICAgICAgICBkb3duOiB0aGlzLm1vdmVEb3duLFxuICAgICAgICAgIGxlZnQ6IHRoaXMubW92ZUxlZnQsXG4gICAgICAgICAgcmlnaHQ6IHRoaXMubW92ZVJpZ2h0LFxuICAgICAgICB9fVxuICAgICAgLz5cbiAgICApO1xuICB9XG5cbiAgZ2V0UG9zaXRpb25TdHlsZSgpIHtcbiAgICBjb25zdCB7IGxheW91dEl0ZW0sIG9mZnNldFgsIG9mZnNldFksIGR3LCBkaCwgaW5pdFJlY3QsIGNvbnRhaW5lclJlY3QgfSA9IHRoaXMucHJvcHM7XG4gICAgbGV0IHBvcyA9IGdlbmVyYXRlQkJveFN0eWxlKGxheW91dEl0ZW0uYmJveCBhcyBJTUJvdW5kaW5nQm94LCB0aGlzLml0ZW1TZXR0aW5nKTtcbiAgICBpZiAoaW5pdFJlY3QpIHtcbiAgICAgIHBvcyA9IGdlbmVyYXRlUmVzaXppbmdCQm94U3R5bGUoaW5pdFJlY3QsIGNvbnRhaW5lclJlY3QsIHtcbiAgICAgICAgZHcsXG4gICAgICAgIGRoOiB0aGlzLml0ZW1TZXR0aW5nLmhlaWdodE1vZGUgPT09ICdyYXRpbycgPyB0aGlzLml0ZW1TZXR0aW5nLmFzcGVjdFJhdGlvICogZHcgOiBkaCxcbiAgICAgICAgZHg6IG9mZnNldFgsXG4gICAgICAgIGR5OiBvZmZzZXRZLFxuICAgICAgfSwgdHJ1ZSk7IC8vIFRoZSBlbW90aW9uIGNzcyB3aWxsIHByb2Nlc3MgUlRMXG4gICAgfVxuICAgIGNvbnN0IG1lcmdlZFN0eWxlID0ge1xuICAgICAgLi4ucG9zLFxuICAgICAgLi4uYXBwbHlQb3NpdGlvblNldHRpbmcobGF5b3V0SXRlbS5iYm94IGFzIElNQm91bmRpbmdCb3gsIHRoaXMuaXRlbVNldHRpbmcsIEJvb2xlYW4oaW5pdFJlY3QpKSxcbiAgICB9O1xuICAgIGlmIChkdyAhPT0gMCB8fCBkaCAhPT0gMCkge1xuICAgICAgLy8gaXMgcmVzaXppbmcuIFRoZSByaWdodCBzdHlsZSB3aWxsIHRha2UgZWZmZWN0IGluIFJUTC5cbiAgICAgIG1lcmdlZFN0eWxlLnJpZ2h0ID0gJ2F1dG8nO1xuICAgIH1cbiAgICByZXR1cm4gY3NzYFxuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgdHJhbnNmb3JtOiAke21lcmdlZFN0eWxlLnRyYW5zZm9ybX07XG4gICAgICBsZWZ0OiAke3V0aWxzLmdldFZhbHVlT2ZCQm94KG1lcmdlZFN0eWxlLCAnbGVmdCcpfTtcbiAgICAgIHJpZ2h0OiAke3V0aWxzLmdldFZhbHVlT2ZCQm94KG1lcmdlZFN0eWxlLCAncmlnaHQnKX07XG4gICAgICB0b3A6ICR7dXRpbHMuZ2V0VmFsdWVPZkJCb3gobWVyZ2VkU3R5bGUsICd0b3AnKX07XG4gICAgICBib3R0b206ICR7dXRpbHMuZ2V0VmFsdWVPZkJCb3gobWVyZ2VkU3R5bGUsICdib3R0b20nKX07XG4gICAgICB3aWR0aDogJHt1dGlscy5nZXRWYWx1ZU9mQkJveChtZXJnZWRTdHlsZSwgJ3dpZHRoJyl9O1xuICAgICAgaGVpZ2h0OiAke3V0aWxzLmdldFZhbHVlT2ZCQm94KG1lcmdlZFN0eWxlLCAnaGVpZ2h0Jyl9O1xuICAgIGA7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3Qge1xuICAgICAgbGF5b3V0SWQsXG4gICAgICBsYXlvdXRJdGVtLFxuICAgICAgaXNMYXlvdXRMb2NrQ2hpbGRyZW4sXG4gICAgfSA9IHRoaXMucHJvcHM7XG4gICAgaWYgKCFsYXlvdXRJdGVtIHx8IGxheW91dEl0ZW0uaXNQZW5kaW5nKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICB0aGlzLml0ZW1TZXR0aW5nID0gbG9kYXNoLmFzc2lnbih7fSwgREVGQVVMVF9GSVhfTEFZT1VUX0lURU1fU0VUVElORywgbGF5b3V0SXRlbS5zZXR0aW5nKTtcbiAgICBjb25zdCBsb2NrTGF5b3V0ID0gdGhpcy5pdGVtU2V0dGluZy5sb2NrTGF5b3V0O1xuICAgIGNvbnN0IHJhdGlvID0gdXRpbHMucGFyc2VBc3BlY3RSYXRpbyh0aGlzLml0ZW1TZXR0aW5nLmFzcGVjdFJhdGlvKTtcbiAgICBjb25zdCB1c2VBc3BlY3RSYXRpbyA9IGZvcmNlQXNwZWN0UmF0aW8obGF5b3V0SXRlbS5iYm94IGFzIElNQm91bmRpbmdCb3gsIHRoaXMuaXRlbVNldHRpbmcpO1xuICAgIGNvbnN0IHdpZHRoTW9kZSA9IHV0aWxzLmdldExheW91dEl0ZW1TaXplTW9kZShcbiAgICAgICd3aWR0aCcsXG4gICAgICBsYXlvdXRJdGVtLmJib3ggYXMgSU1Cb3VuZGluZ0JveCxcbiAgICAgIHRoaXMuaXRlbVNldHRpbmcuYXV0b1Byb3BzXG4gICAgKTtcbiAgICBjb25zdCBoZWlnaHRNb2RlID0gdXRpbHMuZ2V0TGF5b3V0SXRlbVNpemVNb2RlKFxuICAgICAgJ2hlaWdodCcsXG4gICAgICBsYXlvdXRJdGVtLmJib3ggYXMgSU1Cb3VuZGluZ0JveCxcbiAgICAgIHRoaXMuaXRlbVNldHRpbmcuYXV0b1Byb3BzXG4gICAgKTtcbiAgICBjb25zdCBvbmVCeU9uZUFuaW1hdGlvblByb3BzID0gdXRpbHMuaGFuZGxlT25lYnlPbmVBbmltYXRpb24odGhpcy5wcm9wcyk7XG4gICAgcmV0dXJuIChcbiAgICAgIDxMYXlvdXRJdGVtXG4gICAgICAgIGNsYXNzTmFtZT1cImQtZmxleFwiXG4gICAgICAgIGNzcz17dGhpcy5nZXRQb3NpdGlvblN0eWxlKCl9XG4gICAgICAgIGxheW91dElkPXtsYXlvdXRJZH1cbiAgICAgICAgbGF5b3V0SXRlbUlkPXtsYXlvdXRJdGVtLmlkfVxuICAgICAgICByZXN0cmljdD17dGhpcy5pdGVtU2V0dGluZy5sb2NrUGFyZW50IHx8IGlzTGF5b3V0TG9ja0NoaWxkcmVufVxuICAgICAgICBkcmFnZ2FibGU9e3RoaXMucHJvcHMuZHJhZ2dhYmxlICE9PSBmYWxzZSAmJiAhbG9ja0xheW91dH1cbiAgICAgICAgcmVzaXphYmxlPXt0aGlzLnByb3BzLnJlc2l6YWJsZSAhPT0gZmFsc2UgJiYgIWxvY2tMYXlvdXR9XG4gICAgICAgIHNob3dEZWZhdWx0VG9vbHM9e3RoaXMucHJvcHMuc2hvd0RlZmF1bHRUb29sc31cbiAgICAgICAgdG9vbEl0ZW1zPXtmaXhlZEl0ZW1NZW51fVxuICAgICAgICBvblJlc2l6ZVN0YXJ0PXt0aGlzLnByb3BzLm9uUmVzaXplU3RhcnR9XG4gICAgICAgIG9uUmVzaXppbmc9e3RoaXMub25SZXNpemluZ31cbiAgICAgICAgb25SZXNpemVFbmQ9e3RoaXMub25SZXNpemVFbmR9XG4gICAgICAgIG9uQ2xpY2s9e3RoaXMucHJvcHMub25DbGlja31cbiAgICAgICAgdG9wPXtoZWlnaHRNb2RlICE9PSBMYXlvdXRJdGVtU2l6ZU1vZGVzLkF1dG8gJiYgIXVzZUFzcGVjdFJhdGlvfVxuICAgICAgICBib3R0b209e2hlaWdodE1vZGUgIT09IExheW91dEl0ZW1TaXplTW9kZXMuQXV0byAmJiAhdXNlQXNwZWN0UmF0aW99XG4gICAgICAgIGxlZnQ9e3dpZHRoTW9kZSAhPT0gTGF5b3V0SXRlbVNpemVNb2Rlcy5BdXRvfVxuICAgICAgICByaWdodD17d2lkdGhNb2RlICE9PSBMYXlvdXRJdGVtU2l6ZU1vZGVzLkF1dG99XG4gICAgICAgIGZvcmNlQXNwZWN0UmF0aW89e3VzZUFzcGVjdFJhdGlvfVxuICAgICAgICBhc3BlY3RSYXRpbz17cmF0aW99XG4gICAgICAgIGlzSW5TZWN0aW9uPXt0aGlzLnByb3BzLmlzSW5TZWN0aW9ufVxuICAgICAgICB7Li4ub25lQnlPbmVBbmltYXRpb25Qcm9wc31cbiAgICAgID5cbiAgICAgICAge3RoaXMucHJvcHMuc2VsZWN0ZWQgJiYgdGhpcy5nZXRLZXlib2FyZENvbXBvbmVudCgpfVxuICAgICAgPC9MYXlvdXRJdGVtPlxuICAgICk7XG4gIH1cbn1cblxuZnVuY3Rpb24gbWFwU3RhdGVUb0xheW91dEl0ZW1Qcm9wcyhzdGF0ZTogSU1TdGF0ZSwgb3duUHJvcHM6IExheW91dEl0ZW1Qcm9wcyk6IFN0YXRlVG9MYXlvdXRJdGVtUHJvcHMge1xuICBsZXQgc2VsZWN0ZWQgPSBmYWxzZTtcblxuICBjb25zdCBzZWxlY3Rpb24gPSBzdGF0ZS5hcHBSdW50aW1lSW5mbz8uc2VsZWN0aW9uO1xuICBpZiAoc2VsZWN0aW9uKSB7XG4gICAgc2VsZWN0ZWQgPSBzZWxlY3Rpb24ubGF5b3V0SWQgPT09IG93blByb3BzLmxheW91dElkICYmIHNlbGVjdGlvbi5sYXlvdXRJdGVtSWQgPT09IG93blByb3BzLmxheW91dEl0ZW1JZDtcbiAgfVxuXG4gIHJldHVybiB7IHNlbGVjdGVkIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IFJlYWN0UmVkdXguY29ubmVjdDxTdGF0ZVRvTGF5b3V0SXRlbVByb3BzLCB1bmtub3duLCBMYXlvdXRJdGVtUHJvcHM+KG1hcFN0YXRlVG9MYXlvdXRJdGVtUHJvcHMpKEZpeGVkSXRlbSk7XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBV0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQTBDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBOztBQW1HQTtBQWpHQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVVBO0FBRUE7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUtBO0FBQ0E7QUEyQkE7QUFDQTtBQUFBO0FBRUE7O0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTs7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./jimu-layouts/lib/fixed-layout/builder/layout-item.tsx\n");

/***/ }),

/***/ "./jimu-layouts/lib/fixed-layout/builder/layout.tsx":
/*!**********************************************************!*\
  !*** ./jimu-layouts/lib/fixed-layout/builder/layout.tsx ***!
  \**********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jimu_core__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var jimu_for_builder__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-for-builder */ \"jimu-for-builder\");\n/* harmony import */ var jimu_for_builder__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jimu_for_builder__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-ui */ \"jimu-ui\");\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jimu_ui__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _default_setting__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../default-setting */ \"./jimu-layouts/lib/fixed-layout/default-setting.ts\");\n/* harmony import */ var jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! jimu-layouts/layout-runtime */ \"jimu-layouts/layout-runtime\");\n/* harmony import */ var jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _layout_item__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./layout-item */ \"./jimu-layouts/lib/fixed-layout/builder/layout-item.tsx\");\n/* harmony import */ var _builder_interactive_drag_event_handler__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../builder/interactive/drag-event-handler */ \"./jimu-layouts/lib/builder/interactive/drag-event-handler.ts\");\n/* harmony import */ var _builder_interactive_droparea_hook__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../builder/interactive/droparea-hook */ \"./jimu-layouts/lib/builder/interactive/droparea-hook.tsx\");\n/* harmony import */ var _builder_common_layout_actions__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../builder/common-layout-actions */ \"./jimu-layouts/lib/builder/common-layout-actions.ts\");\n/* harmony import */ var _builder_interactive_resize_event_handler__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../builder/interactive/resize-event-handler */ \"./jimu-layouts/lib/builder/interactive/resize-event-handler.ts\");\n/* harmony import */ var _fixed_layout_util__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../fixed-layout-util */ \"./jimu-layouts/lib/fixed-layout/fixed-layout-util.ts\");\n/* harmony import */ var svg_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! svg.js */ \"./node_modules/svg.js/dist/svg.js\");\n/* harmony import */ var svg_js__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(svg_js__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var _move_guide__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./move_guide */ \"./jimu-layouts/lib/fixed-layout/builder/move_guide.ts\");\n/* harmony import */ var _action_block__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./action-block */ \"./jimu-layouts/lib/fixed-layout/builder/action-block.tsx\");\nvar __makeTemplateObject = (undefined && undefined.__makeTemplateObject) || function (cooked, raw) {\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n    return cooked;\n};\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (undefined && undefined.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\n/** @jsx jsx */\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar dropareaStyle = Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n  position: absolute;\\n  left: 0;\\n  bottom: 0;\\n  top: 0;\\n  right: 0;\\n  background: transparent;\\n\"], [\"\\n  position: absolute;\\n  left: 0;\\n  bottom: 0;\\n  top: 0;\\n  right: 0;\\n  background: transparent;\\n\"])));\nvar guideOverlay = Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_2 || (templateObject_2 = __makeTemplateObject([\"\\n  \", \";\\n  pointer-events: none;\\n\"], [\"\\n  \", \";\\n  pointer-events: none;\\n\"])), dropareaStyle);\nvar Layout = /** @class */ (function (_super) {\n    __extends(Layout, _super);\n    function Layout(props) {\n        var _a;\n        var _this = _super.call(this, props) || this;\n        _this.onMouseDown = function (e) {\n            _this.mousedownX = e.screenX;\n            _this.mousedownY = e.screenY;\n        };\n        _this.onMoveItemByKey = function (id, dx, dy) {\n            var layout = _this.props.layout;\n            var bbox = layout.content[id].bbox;\n            if (dx !== 0) {\n                // modify left and right\n                if (jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_4__[\"utils\"].isPercentage(bbox.left)) {\n                    var pValue = parseFloat(bbox.left);\n                    bbox = bbox.set('left', pValue + dx * 0.1 + \"%\");\n                }\n                else {\n                    var pValue = parseFloat(bbox.left);\n                    bbox = bbox.set('left', pValue + dx + \"px\");\n                }\n                if (jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_4__[\"utils\"].isPercentage(bbox.right)) {\n                    var pValue = parseFloat(bbox.right);\n                    bbox = bbox.set('right', pValue - dx * 0.1 + \"%\");\n                }\n                else {\n                    var pValue = parseFloat(bbox.right);\n                    bbox = bbox.set('right', pValue - dx + \"px\");\n                }\n            }\n            if (dy !== 0) {\n                // modify top and bottom\n                if (jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_4__[\"utils\"].isPercentage(bbox.top)) {\n                    var pValue = parseFloat(bbox.top);\n                    bbox = bbox.set('top', pValue + dy * 0.1 + \"%\");\n                }\n                else {\n                    var pValue = parseFloat(bbox.top);\n                    bbox = bbox.set('top', pValue + dy + \"px\");\n                }\n                if (jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_4__[\"utils\"].isPercentage(bbox.bottom)) {\n                    var pValue = parseFloat(bbox.bottom);\n                    bbox = bbox.set('bottom', pValue - dy * 0.1 + \"%\");\n                }\n                else {\n                    var pValue = parseFloat(bbox.bottom);\n                    bbox = bbox.set('bottom', pValue - dy + \"px\");\n                }\n            }\n            var appConfigAction = Object(jimu_for_builder__WEBPACK_IMPORTED_MODULE_1__[\"getAppConfigAction\"])();\n            appConfigAction.editLayoutItemBBox({\n                layoutId: layout.id,\n                layoutItemId: id\n            }, bbox).exec();\n        };\n        _this.toggleShowWidgetList = function (e) {\n            e.stopPropagation();\n            _this.setState({ showWidgetList: !_this.state.showWidgetList });\n        };\n        _this.closeWidgetList = function () {\n            if (_this.state.showWidgetList) {\n                _this.setState({ showWidgetList: false });\n            }\n        };\n        _this.onPageTemplateSelected = function (templatePageJson) {\n            var initAppConfig = Object(jimu_for_builder__WEBPACK_IMPORTED_MODULE_1__[\"getAppConfigAction\"])().appConfig;\n            _this.setState({ isLoadingTemplate: true });\n            if (_this.pageContext.isHeader) {\n                jimu_for_builder__WEBPACK_IMPORTED_MODULE_1__[\"templateUtils\"].applyPageTemplateToHeader(initAppConfig, templatePageJson).then(function (_a) {\n                    var appConfig = _a.appConfig;\n                    Object(jimu_for_builder__WEBPACK_IMPORTED_MODULE_1__[\"getAppConfigAction\"])(appConfig).exec();\n                    jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"lodash\"].defer(function () {\n                        _this.setState({ isLoadingTemplate: false });\n                    });\n                });\n            }\n            else if (_this.pageContext.isFooter) {\n                jimu_for_builder__WEBPACK_IMPORTED_MODULE_1__[\"templateUtils\"].applyPageTemplateToFooter(initAppConfig, templatePageJson).then(function (_a) {\n                    var appConfig = _a.appConfig;\n                    Object(jimu_for_builder__WEBPACK_IMPORTED_MODULE_1__[\"getAppConfigAction\"])(appConfig).exec();\n                    jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"lodash\"].defer(function () {\n                        _this.setState({ isLoadingTemplate: false });\n                    });\n                });\n            }\n            else if (_this.pageContext.isDialog) {\n                jimu_for_builder__WEBPACK_IMPORTED_MODULE_1__[\"templateUtils\"].applyPageTemplateToDialog(initAppConfig, _this.pageContext.dialogId, templatePageJson).then(function (_a) {\n                    var appConfig = _a.appConfig;\n                    Object(jimu_for_builder__WEBPACK_IMPORTED_MODULE_1__[\"getAppConfigAction\"])(appConfig).exec();\n                    jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"lodash\"].defer(function () {\n                        _this.setState({ isLoadingTemplate: false });\n                    });\n                });\n            }\n            else {\n                jimu_for_builder__WEBPACK_IMPORTED_MODULE_1__[\"templateUtils\"]\n                    .applyPageTemplateToBody(initAppConfig, _this.pageContext.pageId, templatePageJson)\n                    .then(function (_a) {\n                    var appConfig = _a.appConfig;\n                    Object(jimu_for_builder__WEBPACK_IMPORTED_MODULE_1__[\"getAppConfigAction\"])(appConfig).exec();\n                    jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"lodash\"].defer(function () {\n                        _this.setState({ isLoadingTemplate: false });\n                    });\n                });\n            }\n        };\n        // this.childrenRef = {};\n        if (!_this.props.layout) {\n            return _this;\n        }\n        jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_4__[\"utils\"].autoBindHandlers(_this, [\n            'onResizeStart',\n            'onResizing',\n            'onResizeEnd',\n            'onDragStart',\n            'onDragEnd',\n            'onDragOver',\n            'onDragEnter',\n            'onDragLeave',\n            'onDrop',\n            'onPaste',\n            'activate',\n            'toggleDragoverEffect',\n        ]);\n        var exts = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"ExtensionManager\"].getInstance().getExtensions(\"\" + jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"extensionSpec\"].ExtensionPoints.LayoutTransformer);\n        if (exts && exts.length > 0) {\n            var ext = exts.find(function (item) { return item.layoutType === _this.props.layout.type; });\n            _this.layoutTransform = (_a = ext) === null || _a === void 0 ? void 0 : _a.transformLayout;\n        }\n        _this.flipLeftRight = jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_4__[\"utils\"].isRTL();\n        _this.state = {\n            offsetX: 0,\n            offsetY: 0,\n            dw: 0,\n            dh: 0,\n            isDragover: false,\n            showWidgetList: false,\n            isLoadingTemplate: false,\n        };\n        return _this;\n    }\n    Layout.prototype.activate = function (e) {\n        if (Math.abs(e.screenX - this.mousedownX) > jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_4__[\"CLICK_TOLRERANCE\"] ||\n            Math.abs(e.screenY - this.mousedownY) > jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_4__[\"CLICK_TOLRERANCE\"]) {\n            e.stopPropagation();\n            return;\n        }\n        var _a = this.props, isInSection = _a.isInSection, isInWidget = _a.isInWidget;\n        if (!this.pageContext.viewOnly && !isInSection && !isInWidget && !Object(_builder_interactive_resize_event_handler__WEBPACK_IMPORTED_MODULE_9__[\"isResizing\"])()) {\n            e.stopPropagation();\n            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"getAppStore\"])().dispatch(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"appActions\"].selectionChanged(null));\n        }\n    };\n    Layout.prototype.componentDidMount = function () {\n        this.guideXDraw = svg_js__WEBPACK_IMPORTED_MODULE_11__(this.guideXRef);\n        this.guideYDraw = svg_js__WEBPACK_IMPORTED_MODULE_11__(this.guideYRef);\n        this.guideDragOverDraw = svg_js__WEBPACK_IMPORTED_MODULE_11__(this.guideDragOverRef);\n    };\n    Layout.prototype.isResizingItem = function () {\n        return this.state.dh !== 0 || this.state.dw !== 0;\n    };\n    Layout.prototype.onResizeStart = function (id) {\n        var layout = this.props.layout;\n        this.rndingLayoutId = id;\n        this.collectBounds({\n            layoutId: layout.id,\n            layoutItemId: id,\n        });\n        var draggingChild = this.ref.querySelector(\"div.exb-rnd[data-layoutid=\\\"\" + layout.id + \"\\\"][data-layoutitemid=\\\"\" + id + \"\\\"]\");\n        var rect = draggingChild.getBoundingClientRect();\n        this.resizingRect = jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_4__[\"utils\"].relativeClientRect(rect, this.domRect);\n    };\n    Layout.prototype.onResizing = function (id, dx, dy, dw, dh, shiftKey) {\n        var _a, _b;\n        this.guideXDraw.clear();\n        this.guideYDraw.clear();\n        var layoutItem = this.props.layout.content[id];\n        var x = dx;\n        var w = dw;\n        if (this.flipLeftRight) {\n            var flipResult = Object(_move_guide__WEBPACK_IMPORTED_MODULE_12__[\"flipDelta\"])(dx, dw);\n            x = flipResult.x;\n            w = flipResult.w;\n        }\n        var delta = Object(_move_guide__WEBPACK_IMPORTED_MODULE_12__[\"moveGuide\"])(this.domRect, this.resizingRect, {\n            x: x,\n            w: w,\n            y: dy,\n            h: dh,\n        }, shiftKey, this.childRects, (_b = (_a = layoutItem.setting) === null || _a === void 0 ? void 0 : _a.autoProps) !== null && _b !== void 0 ? _b : {});\n        this.setState({\n            offsetX: delta.x,\n            offsetY: delta.y,\n            dw: delta.w,\n            dh: delta.h,\n        });\n    };\n    Layout.prototype.onResizeEnd = function (id, dx, dy, dw, dh, shiftKey, layoutItem, itemSetting) {\n        var _a, _b;\n        this.rndingLayoutId = null;\n        var layout = this.props.layout;\n        this.guideXDraw.clear();\n        this.guideYDraw.clear();\n        var x = dx;\n        var w = dw;\n        if (this.flipLeftRight) {\n            var flipResult = Object(_move_guide__WEBPACK_IMPORTED_MODULE_12__[\"flipDelta\"])(dx, dw);\n            x = flipResult.x;\n            w = flipResult.w;\n        }\n        var delta = Object(_move_guide__WEBPACK_IMPORTED_MODULE_12__[\"moveGuide\"])(this.domRect, this.resizingRect, {\n            x: x,\n            w: w,\n            y: dy,\n            h: dh,\n        }, shiftKey, this.childRects, (_b = (_a = layoutItem.setting) === null || _a === void 0 ? void 0 : _a.autoProps) !== null && _b !== void 0 ? _b : {});\n        var newPos = Object(_fixed_layout_util__WEBPACK_IMPORTED_MODULE_10__[\"generateResizingBBoxStyle\"])(this.resizingRect, this.domRect, {\n            dx: delta.x,\n            dy: delta.y,\n            dw: delta.w,\n            dh: delta.h,\n        });\n        this.childRects = [];\n        var appConfigAction = Object(jimu_for_builder__WEBPACK_IMPORTED_MODULE_1__[\"getAppConfigAction\"])();\n        var newBBox = jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_4__[\"utils\"].replaceBoundingBox(layoutItem.bbox, newPos, this.domRect);\n        // let setting = Immutable(itemSetting);\n        var layoutInfo = { layoutId: layout.id, layoutItemId: id };\n        var snapToSettingResult = Object(_fixed_layout_util__WEBPACK_IMPORTED_MODULE_10__[\"applySnapResult\"])(newBBox, this.domRect, delta);\n        // setting = setting.set(\n        //   'autoProps',\n        //   this.flipLeftRight ? flipAutoProps(snapToSettingResult.autoProps) : snapToSettingResult.autoProps\n        // );\n        // appConfigAction.editLayoutItemSetting(layoutInfo, setting);÷\n        appConfigAction\n            .editLayoutItemBBox(layoutInfo, this.flipLeftRight ? Object(_fixed_layout_util__WEBPACK_IMPORTED_MODULE_10__[\"flipBBox\"])(snapToSettingResult) : snapToSettingResult)\n            .exec();\n        this.setState({\n            offsetX: 0,\n            offsetY: 0,\n            dw: 0,\n            dh: 0\n        });\n    };\n    Layout.prototype.onDragOver = function (draggingItem, draggingElement, containerRect, itemRect) {\n        var _a, _b;\n        var layout = this.props.layout;\n        if ((!this.childRects || this.childRects.length === 0) && layout.order && layout.order.length > 0) {\n            this.collectBounds(draggingItem.layoutInfo);\n        }\n        this.clearMoveGuide();\n        var deltaX = 0;\n        var deltaY = 0;\n        if (draggingElement && draggingItem.layoutInfo) {\n            var layoutItem = void 0;\n            if (draggingItem.layoutInfo.layoutId === this.props.layout.id) {\n                layoutItem = this.props.layout.content[draggingItem.layoutInfo.layoutItemId];\n            }\n            var hasRotation = draggingItem.rotation > 0 || draggingItem.rotation < 0;\n            var rndDelta = Object(_move_guide__WEBPACK_IMPORTED_MODULE_12__[\"moveGuide\"])(this.domRect, itemRect, {\n                x: 0,\n                y: 0,\n                w: 0,\n                h: 0,\n            }, false, this.childRects, (_b = (_a = layoutItem === null || layoutItem === void 0 ? void 0 : layoutItem.setting) === null || _a === void 0 ? void 0 : _a.autoProps) !== null && _b !== void 0 ? _b : {}, hasRotation ? null : this.guideXDraw, hasRotation ? null : this.guideYDraw, hasRotation ? null : this.pageContext.builderTheme);\n            // snap draggingElement\n            if (rndDelta.x || rndDelta.y) {\n                var tx = parseFloat(draggingElement.getAttribute('data-translatex')) || 0;\n                var ty = parseFloat(draggingElement.getAttribute('data-translatey')) || 0;\n                draggingElement.style.transform = \"translate(\" + (tx + rndDelta.x) + \"px, \" + (ty + rndDelta.y) + \"px)\";\n            }\n            deltaX = rndDelta.x;\n            deltaY = rndDelta.y;\n        }\n        if (!draggingItem.layoutInfo) {\n            if (!this.dropArea) {\n                this.dropArea = this.guideDragOverDraw\n                    .rect(itemRect.width, itemRect.height)\n                    .fill(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"polished\"].rgba(this.pageContext.builderTheme.colors.palette.primary[700], 0.2))\n                    .stroke('none')\n                    .attr({\n                    x: itemRect.left + deltaX,\n                    y: itemRect.top + deltaY,\n                });\n            }\n            else {\n                this.dropArea.move(itemRect.left + deltaX, itemRect.top + deltaY).size(itemRect.width, itemRect.height);\n                if (!this.dropArea.visible()) {\n                    this.dropArea.show();\n                }\n            }\n        }\n    };\n    Layout.prototype.toggleDragoverEffect = function (value, draggingItem) {\n        this.clearMoveGuide();\n        if (value) {\n            this.collectBounds(draggingItem.layoutInfo);\n        }\n        this.setState({\n            isDragover: value,\n        });\n    };\n    Layout.prototype.onDragEnter = function (draggingItem) { };\n    Layout.prototype.onDragLeave = function () { };\n    Layout.prototype.clearMoveGuide = function () {\n        var _a, _b, _c;\n        (_a = this.dropArea) === null || _a === void 0 ? void 0 : _a.hide();\n        (_b = this.guideXDraw) === null || _b === void 0 ? void 0 : _b.clear();\n        (_c = this.guideYDraw) === null || _c === void 0 ? void 0 : _c.clear();\n    };\n    Layout.prototype.onDrop = function (draggingItem, containerRect, itemRect) {\n        this.clearMoveGuide();\n        var _a = this.calSnappedRect(draggingItem, containerRect, itemRect), snappedRect = _a.snappedRect, delta = _a.delta;\n        this.addWidgetToLayout(draggingItem, containerRect, snappedRect, delta);\n    };\n    Layout.prototype.calSnappedRect = function (draggingItem, containerRect, itemRect) {\n        var _a, _b;\n        var layoutItem;\n        if (draggingItem && draggingItem.layoutInfo) {\n            if (draggingItem.layoutInfo.layoutId === this.props.layout.id) {\n                layoutItem = this.props.layout.content[draggingItem.layoutInfo.layoutItemId];\n            }\n        }\n        var delta = Object(_move_guide__WEBPACK_IMPORTED_MODULE_12__[\"moveGuide\"])(this.domRect, itemRect, {\n            x: 0,\n            y: 0,\n            w: 0,\n            h: 0,\n        }, false, this.childRects, (_b = (_a = layoutItem === null || layoutItem === void 0 ? void 0 : layoutItem.setting) === null || _a === void 0 ? void 0 : _a.autoProps) !== null && _b !== void 0 ? _b : {});\n        var snappedRect = {\n            left: itemRect.left + delta.x,\n            top: itemRect.top + delta.y,\n            width: Math.round(itemRect.width),\n            height: Math.round(itemRect.height),\n            right: containerRect.width - (itemRect.right + delta.x),\n            bottom: containerRect.height - (itemRect.bottom + delta.y),\n        };\n        if (itemRect.width > containerRect.width) {\n            snappedRect.width = Math.round(containerRect.width);\n            snappedRect.left = 0;\n        }\n        if (itemRect.height > containerRect.height) {\n            snappedRect.height = Math.round(containerRect.height);\n            snappedRect.top = 0;\n        }\n        this.childRects = [];\n        // Use percentage size by default\n        snappedRect.left = jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_4__[\"utils\"].toRatio(snappedRect.left, containerRect.width);\n        snappedRect.top = jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_4__[\"utils\"].toRatio(snappedRect.top, containerRect.height);\n        snappedRect.width = jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_4__[\"utils\"].toRatio(snappedRect.width, containerRect.width);\n        snappedRect.height = jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_4__[\"utils\"].toRatio(snappedRect.height, containerRect.height);\n        snappedRect.right = jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_4__[\"utils\"].toRatio(snappedRect.right, containerRect.width);\n        snappedRect.bottom = jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_4__[\"utils\"].toRatio(snappedRect.bottom, containerRect.height);\n        return { snappedRect: snappedRect, delta: delta };\n    };\n    // // update height when drop or resize end\n    // updateContainerHeight(itemRect: ClientRect): number {\n    //   let minHeight = Math.ceil(itemRect.top + itemRect.height);\n    //   this.childRects.forEach(rect => {\n    //     const bottom = rect.top + rect.height;\n    //     if (bottom > minHeight) {\n    //       minHeight = bottom;\n    //     }\n    //   });\n    //   return minHeight;\n    // }\n    Layout.prototype.addWidgetToLayout = function (draggingItem, containerRect, itemRect, snapResult, appConfig) {\n        var _this = this;\n        var layout = this.props.layout;\n        var appConfigAction = Object(jimu_for_builder__WEBPACK_IMPORTED_MODULE_1__[\"getAppConfigAction\"])(appConfig);\n        Object(_builder_common_layout_actions__WEBPACK_IMPORTED_MODULE_8__[\"addItemToLayout\"])(appConfigAction.appConfig, draggingItem, {\n            layoutId: layout.id,\n        }, containerRect, itemRect).then(function (result) {\n            var layoutInfo = result.layoutInfo, updatedAppConfig = result.updatedAppConfig;\n            appConfigAction = Object(jimu_for_builder__WEBPACK_IMPORTED_MODULE_1__[\"getAppConfigAction\"])(updatedAppConfig);\n            if (draggingItem.layoutInfo && draggingItem.layoutInfo.layoutId === layout.id) {\n                appConfigAction.editLayoutItemSetting(layoutInfo, { vCenter: false, hCenter: false });\n            }\n            var layoutItem = appConfigAction.appConfig.layouts[layoutInfo.layoutId].content[layoutInfo.layoutItemId];\n            // let setting = Immutable(layoutItem.setting || {});\n            var snapToSettingResult = Object(_fixed_layout_util__WEBPACK_IMPORTED_MODULE_10__[\"applySnapResult\"])(layoutItem.bbox, _this.domRect, snapResult);\n            appConfigAction.editLayoutItemBBox(layoutInfo, _this.flipLeftRight ? Object(_fixed_layout_util__WEBPACK_IMPORTED_MODULE_10__[\"flipBBox\"])(snapToSettingResult) : snapToSettingResult);\n            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"getAppStore\"])().dispatch(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"appActions\"].layoutChanged(appConfigAction.appConfig, layoutInfo));\n        });\n    };\n    Layout.prototype.collectBounds = function (layoutInfo) {\n        var _this = this;\n        var layout = this.props.layout;\n        this.childRects = [];\n        this.domRect = this.ref.getBoundingClientRect();\n        var draggableChildren = this.ref.parentNode.querySelectorAll(\"div[data-layoutid=\\\"\" + layout.id + \"\\\"] > .trail-container > div.exb-rnd\");\n        if (draggableChildren && draggableChildren.length > 0) {\n            draggableChildren.forEach(function (node) {\n                var itemId = node.getAttribute('data-layoutitemid');\n                if (!layoutInfo || layoutInfo.layoutId !== layout.id || layoutInfo.layoutItemId !== itemId) {\n                    var rect = jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_4__[\"utils\"].relativeClientRect(node.getBoundingClientRect(), _this.domRect);\n                    _this.childRects.push(rect);\n                }\n            });\n        }\n        return this.childRects;\n    };\n    Layout.prototype.createItem = function (targetLayout, layoutItemId, key) {\n        // if (!this.childrenRef[layoutItemId]) {\n        //   this.childrenRef[layoutItemId] = React.createRef<HTMLDivElement>();\n        // }\n        var _a = this.props, itemResizable = _a.itemResizable, itemDraggable = _a.itemDraggable, itemSelectable = _a.itemSelectable, showDefaultTools = _a.showDefaultTools;\n        var _b = this.state, offsetX = _b.offsetX, offsetY = _b.offsetY, dw = _b.dw, dh = _b.dh;\n        var deltaX = layoutItemId === this.rndingLayoutId ? offsetX : 0;\n        var deltaY = layoutItemId === this.rndingLayoutId ? offsetY : 0;\n        var deltaW = layoutItemId === this.rndingLayoutId ? dw : 0;\n        var deltaH = layoutItemId === this.rndingLayoutId ? dh : 0;\n        var initRect = layoutItemId === this.rndingLayoutId ? this.resizingRect : undefined;\n        var containerRect = layoutItemId === this.rndingLayoutId ? this.domRect : undefined;\n        var layoutItem = targetLayout.content[layoutItemId];\n        return (Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_layout_item__WEBPACK_IMPORTED_MODULE_5__[\"default\"], { key: layoutItemId, index: key, layoutItem: layoutItem, offsetX: deltaX, offsetY: deltaY, dw: deltaW, dh: deltaH, initRect: initRect, containerRect: containerRect, layoutId: targetLayout.id, layoutItemId: layoutItemId, draggable: itemDraggable, resizable: itemResizable, selectable: itemSelectable, showDefaultTools: showDefaultTools, isLayoutLockChildren: this.layoutSetting.lockChildren, onResizeStart: this.onResizeStart, onResizing: this.onResizing, onResizeEnd: this.onResizeEnd, onMoveByKey: this.onMoveItemByKey, isInSection: this.props.isInSection }));\n    };\n    Layout.prototype.render = function () {\n        var _this = this;\n        var _a = this.props, layout = _a.layout, className = _a.className, style = _a.style, layouts = _a.layouts, isPageItem = _a.isPageItem;\n        if (!layout) {\n            return null;\n        }\n        return (Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_4__[\"PageContext\"].Consumer, null, function (props) {\n            var _a;\n            var _b;\n            _this.pageContext = props;\n            var targetLayout = layout;\n            var viewOnly = layouts[props.browserSizeMode] !== layout.id;\n            if (viewOnly && _this.layoutTransform) {\n                targetLayout = _this.layoutTransform(layout, props.mainSizeMode, props.browserSizeMode);\n            }\n            _this.layoutSetting = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"lodash\"].assign({}, _default_setting__WEBPACK_IMPORTED_MODULE_3__[\"DEFAULT_FIX_LAYOUT_SETTING\"], viewOnly ? {} : layout.setting);\n            var content = targetLayout.order || [];\n            var mergedClasses = Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"classNames\"])('layout fixed-layout', className, (_a = {},\n                _a[_builder_interactive_drag_event_handler__WEBPACK_IMPORTED_MODULE_6__[\"LIMITED_BOUNDARY_CLASS_NAME\"]] = (_b = layout.setting) === null || _b === void 0 ? void 0 : _b.lockDescendants,\n                _a));\n            var isResizing = _this.state.dh !== 0 || _this.state.dw !== 0;\n            var mergedStyle = __assign(__assign(__assign({ height: 'auto', position: 'relative' }, style), jimu_ui__WEBPACK_IMPORTED_MODULE_2__[\"styleUtils\"].toCSSStyle(_this.layoutSetting.style)), { width: '100%', overflow: 'hidden' });\n            if (!mergedStyle.border && props.isDesignMode && !_this.props.isPageItem) {\n                mergedStyle.border = \"1px dashed \" + jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"polished\"].rgba(props.builderTheme.colors.palette.dark[300], 0.3);\n            }\n            var guideVisibleStyle = {\n                display: _this.state.isDragover || isResizing ? 'block' : 'none',\n                zIndex: content.length + 1,\n            };\n            return (Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: mergedClasses, ref: function (el) { return (_this.ref = el); }, onClick: _this.activate, onMouseDown: _this.onMouseDown, style: mergedStyle, \"data-layoutid\": targetLayout.id },\n                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"OneByOneAnimation\"], { \"data-layoutid\": targetLayout.id, className: \"trail-container\", css: Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_3 || (templateObject_3 = __makeTemplateObject([\"\\n                  position: absolute;\\n                  left: 0;\\n                  right: 0;\\n                  top: 0;\\n                  bottom: 0;\\n                \"], [\"\\n                  position: absolute;\\n                  left: 0;\\n                  right: 0;\\n                  top: 0;\\n                  bottom: 0;\\n                \"]))) },\n                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_builder_interactive_droparea_hook__WEBPACK_IMPORTED_MODULE_7__[\"DropArea\"], { css: dropareaStyle, layouts: _this.props.layouts, highlightDragover: !isPageItem, onDragEnter: _this.onDragEnter, onDragLeave: _this.onDragLeave, onDragOver: _this.onDragOver, onDrop: _this.onDrop, onToggleDragoverEffect: _this.toggleDragoverEffect, isRepeat: _this.props.isRepeat }),\n                    content.map(function (layoutItemId, index) {\n                        return _this.createItem(targetLayout, layoutItemId, index);\n                    })),\n                !_this.state.isLoadingTemplate &&\n                    content.length === 0 &&\n                    !props.viewOnly &&\n                    layout.id === props.rootLayoutId &&\n                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_action_block__WEBPACK_IMPORTED_MODULE_13__[\"ActionBlock\"], { pageContext: _this.pageContext, onPageTemplateSelected: _this.onPageTemplateSelected }),\n                _this.state.isLoadingTemplate && Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_2__[\"Loading\"], null),\n                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { css: guideOverlay, style: guideVisibleStyle, ref: function (el) { return (_this.guideXRef = el); } }),\n                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { css: guideOverlay, style: guideVisibleStyle, ref: function (el) { return (_this.guideYRef = el); } }),\n                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { css: guideOverlay, style: guideVisibleStyle, ref: function (el) { return (_this.guideDragOverRef = el); } })));\n        }));\n    };\n    Layout.displayName = 'FixedLayout';\n    return Layout;\n}(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].PureComponent));\n// const DroppableLayout = withDrop()(Layout);\n/* harmony default export */ __webpack_exports__[\"default\"] = (jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"ReactRedux\"].connect(jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_4__[\"utils\"].mapStateToLayoutProps)(Layout));\nvar templateObject_1, templateObject_2, templateObject_3;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWxheW91dHMvbGliL2ZpeGVkLWxheW91dC9idWlsZGVyL2xheW91dC50c3guanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qaW11LWxheW91dHMvbGliL2ZpeGVkLWxheW91dC9idWlsZGVyL2xheW91dC50c3g/NjcwZCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiogQGpzeCBqc3ggKi9cbmltcG9ydCB7XG4gIFJlYWN0LFxuICBSZWFjdFJlZHV4LFxuICBsb2Rhc2gsXG4gIGNsYXNzTmFtZXMsXG4gIGpzeCxcbiAgY3NzLFxuICBMYXlvdXRJbmZvLFxuICBMYXlvdXRJdGVtSnNvbixcbiAgTGF5b3V0SXRlbUNvbnN0cnVjdG9yUHJvcHMsXG4gIHBvbGlzaGVkLFxuICBJTUJvdW5kaW5nQm94LFxuICBJTUxheW91dEpzb24sXG4gIGdldEFwcFN0b3JlLFxuICBhcHBBY3Rpb25zLFxuICBFeHRlbnNpb25NYW5hZ2VyLFxuICBleHRlbnNpb25TcGVjLFxuICBMYXlvdXRUcmFuc2Zvcm1GdW5jLFxuICBJTUFwcENvbmZpZyxcbiAgT25lQnlPbmVBbmltYXRpb24sXG59IGZyb20gJ2ppbXUtY29yZSc7XG5pbXBvcnQgeyBnZXRBcHBDb25maWdBY3Rpb24gfSBmcm9tICdqaW11LWZvci1idWlsZGVyJztcbmltcG9ydCB7IERyb3BIYW5kbGVycyB9IGZyb20gJy4uLy4uL2J1aWxkZXIvdHlwZXMnO1xuaW1wb3J0IHsgc3R5bGVVdGlscywgTG9hZGluZyB9IGZyb20gJ2ppbXUtdWknO1xuaW1wb3J0IHsgREVGQVVMVF9GSVhfTEFZT1VUX1NFVFRJTkcgfSBmcm9tICcuLi9kZWZhdWx0LXNldHRpbmcnO1xuaW1wb3J0IHtcbiAgdXRpbHMsXG4gIFBhZ2VDb250ZXh0LFxuICBQYWdlQ29udGV4dFByb3BzLFxuICBDTElDS19UT0xSRVJBTkNFLFxuICBGaXhlZExheW91dFNldHRpbmcsXG4gIEZpeGVkTGF5b3V0SXRlbVNldHRpbmcsXG4gIExheW91dFByb3BzLFxuICBTdGF0ZVRvTGF5b3V0UHJvcHMsXG59IGZyb20gJ2ppbXUtbGF5b3V0cy9sYXlvdXQtcnVudGltZSc7XG5pbXBvcnQgRml4ZWRMYXlvdXRJdGVtIGZyb20gJy4vbGF5b3V0LWl0ZW0nO1xuaW1wb3J0IHsgTElNSVRFRF9CT1VOREFSWV9DTEFTU19OQU1FIH0gZnJvbSAnLi4vLi4vYnVpbGRlci9pbnRlcmFjdGl2ZS9kcmFnLWV2ZW50LWhhbmRsZXInO1xuaW1wb3J0IHsgRHJvcEFyZWEgfSBmcm9tICcuLi8uLi9idWlsZGVyL2ludGVyYWN0aXZlL2Ryb3BhcmVhLWhvb2snO1xuaW1wb3J0IHsgYWRkSXRlbVRvTGF5b3V0IH0gZnJvbSAnLi4vLi4vYnVpbGRlci9jb21tb24tbGF5b3V0LWFjdGlvbnMnO1xuaW1wb3J0IHsgdGVtcGxhdGVVdGlscyB9IGZyb20gJ2ppbXUtZm9yLWJ1aWxkZXInO1xuaW1wb3J0IHsgaXNSZXNpemluZyB9IGZyb20gJy4uLy4uL2J1aWxkZXIvaW50ZXJhY3RpdmUvcmVzaXplLWV2ZW50LWhhbmRsZXInO1xuaW1wb3J0IHtcbiAgZ2VuZXJhdGVSZXNpemluZ0JCb3hTdHlsZSxcbiAgYXBwbHlTbmFwUmVzdWx0LFxuICBmbGlwQkJveCxcbn0gZnJvbSAnLi4vZml4ZWQtbGF5b3V0LXV0aWwnO1xuaW1wb3J0ICogYXMgU1ZHIGZyb20gJ3N2Zy5qcyc7XG5pbXBvcnQgeyBtb3ZlR3VpZGUsIFNuYXBSZXN1bHQsIGZsaXBEZWx0YSwgUm5kRGVsdGEgfSBmcm9tICcuL21vdmVfZ3VpZGUnO1xuaW1wb3J0IHsgQWN0aW9uQmxvY2sgfSBmcm9tICcuL2FjdGlvbi1ibG9jayc7XG5cbmludGVyZmFjZSBTdGF0ZSB7XG4gIG9mZnNldFg6IG51bWJlcjtcbiAgb2Zmc2V0WTogbnVtYmVyO1xuICBkdzogbnVtYmVyO1xuICBkaDogbnVtYmVyO1xuICBpc0RyYWdvdmVyO1xuICBzaG93V2lkZ2V0TGlzdDogYm9vbGVhbjtcbiAgaXNMb2FkaW5nVGVtcGxhdGU6IGJvb2xlYW47XG59XG5cbmNvbnN0IGRyb3BhcmVhU3R5bGUgPSBjc3NgXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgbGVmdDogMDtcbiAgYm90dG9tOiAwO1xuICB0b3A6IDA7XG4gIHJpZ2h0OiAwO1xuICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcbmA7XG5cbmNvbnN0IGd1aWRlT3ZlcmxheSA9IGNzc2BcbiAgJHtkcm9wYXJlYVN0eWxlfTtcbiAgcG9pbnRlci1ldmVudHM6IG5vbmU7XG5gO1xuXG5jbGFzcyBMYXlvdXQgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50PExheW91dFByb3BzICYgU3RhdGVUb0xheW91dFByb3BzLCBTdGF0ZT4gaW1wbGVtZW50cyBEcm9wSGFuZGxlcnMge1xuICBzdGF0aWMgZGlzcGxheU5hbWUgPSAnRml4ZWRMYXlvdXQnO1xuICBsYXlvdXRUcmFuc2Zvcm06IExheW91dFRyYW5zZm9ybUZ1bmM7XG4gIGxheW91dFNldHRpbmc6IEZpeGVkTGF5b3V0U2V0dGluZztcbiAgcGFnZUNvbnRleHQ6IFBhZ2VDb250ZXh0UHJvcHM7XG4gIHJlZjogSFRNTEVsZW1lbnQ7XG5cbiAgYWRkQnRuUmVmOiBIVE1MRWxlbWVudDtcbiAgZ3VpZGVYUmVmOiBIVE1MRWxlbWVudDtcbiAgZ3VpZGVZUmVmOiBIVE1MRWxlbWVudDtcbiAgZ3VpZGVEcmFnT3ZlclJlZjogSFRNTEVsZW1lbnQ7XG4gIGd1aWRlWERyYXc6IFNWRy5Eb2M7XG4gIGd1aWRlWURyYXc6IFNWRy5Eb2M7XG4gIGd1aWRlRHJhZ092ZXJEcmF3OiBTVkcuRG9jO1xuICBkcm9wQXJlYTogU1ZHLlJlY3Q7XG4gIC8vIGRyYWdFbnRlckFyZWE6IFNWRy5SZWN0O1xuICBybmRpbmdMYXlvdXRJZDogc3RyaW5nO1xuICAvLyBjaGlsZHJlblJlZjogeyBba2V5OiBzdHJpbmddOiBSZWFjdC5SZWZPYmplY3Q8SFRNTERpdkVsZW1lbnQ+IH07XG4gIGNoaWxkUmVjdHM6IENsaWVudFJlY3RbXTtcbiAgZG9tUmVjdDogQ2xpZW50UmVjdDtcbiAgcmVzaXppbmdSZWN0OiBDbGllbnRSZWN0O1xuXG4gIGZsaXBMZWZ0UmlnaHQ6IGJvb2xlYW47XG5cbiAgbW91c2Vkb3duWDogbnVtYmVyO1xuICBtb3VzZWRvd25ZOiBudW1iZXI7XG5cbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgLy8gdGhpcy5jaGlsZHJlblJlZiA9IHt9O1xuICAgIGlmICghdGhpcy5wcm9wcy5sYXlvdXQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdXRpbHMuYXV0b0JpbmRIYW5kbGVycyh0aGlzLCBbXG4gICAgICAnb25SZXNpemVTdGFydCcsXG4gICAgICAnb25SZXNpemluZycsXG4gICAgICAnb25SZXNpemVFbmQnLFxuICAgICAgJ29uRHJhZ1N0YXJ0JyxcbiAgICAgICdvbkRyYWdFbmQnLFxuICAgICAgJ29uRHJhZ092ZXInLFxuICAgICAgJ29uRHJhZ0VudGVyJyxcbiAgICAgICdvbkRyYWdMZWF2ZScsXG4gICAgICAnb25Ecm9wJyxcbiAgICAgICdvblBhc3RlJyxcbiAgICAgICdhY3RpdmF0ZScsXG4gICAgICAndG9nZ2xlRHJhZ292ZXJFZmZlY3QnLFxuICAgIF0pO1xuICAgIGNvbnN0IGV4dHMgPSBFeHRlbnNpb25NYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0RXh0ZW5zaW9ucyhgJHtleHRlbnNpb25TcGVjLkV4dGVuc2lvblBvaW50cy5MYXlvdXRUcmFuc2Zvcm1lcn1gKTtcbiAgICBpZiAoZXh0cyAmJiBleHRzLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IGV4dCA9IGV4dHMuZmluZChpdGVtID0+IChpdGVtIGFzIGV4dGVuc2lvblNwZWMuTGF5b3V0VHJhbnNmb3JtZXIpLmxheW91dFR5cGUgPT09IHRoaXMucHJvcHMubGF5b3V0LnR5cGUpO1xuICAgICAgdGhpcy5sYXlvdXRUcmFuc2Zvcm0gPSAoZXh0IGFzIGFueSk/LnRyYW5zZm9ybUxheW91dDtcbiAgICB9XG4gICAgdGhpcy5mbGlwTGVmdFJpZ2h0ID0gdXRpbHMuaXNSVEwoKTtcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgb2Zmc2V0WDogMCxcbiAgICAgIG9mZnNldFk6IDAsXG4gICAgICBkdzogMCxcbiAgICAgIGRoOiAwLFxuICAgICAgaXNEcmFnb3ZlcjogZmFsc2UsXG4gICAgICBzaG93V2lkZ2V0TGlzdDogZmFsc2UsXG4gICAgICBpc0xvYWRpbmdUZW1wbGF0ZTogZmFsc2UsXG4gICAgfTtcbiAgfVxuXG4gIHByaXZhdGUgYWN0aXZhdGUoZTogUmVhY3QuTW91c2VFdmVudCkge1xuICAgIGlmIChNYXRoLmFicyhlLnNjcmVlblggLSB0aGlzLm1vdXNlZG93blgpID4gQ0xJQ0tfVE9MUkVSQU5DRSB8fFxuICAgICAgTWF0aC5hYnMoZS5zY3JlZW5ZIC0gdGhpcy5tb3VzZWRvd25ZKSA+IENMSUNLX1RPTFJFUkFOQ0UpIHtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHsgaXNJblNlY3Rpb24sIGlzSW5XaWRnZXQgfSA9IHRoaXMucHJvcHM7XG4gICAgaWYgKCF0aGlzLnBhZ2VDb250ZXh0LnZpZXdPbmx5ICYmICFpc0luU2VjdGlvbiAmJiAhaXNJbldpZGdldCAmJiAhaXNSZXNpemluZygpKSB7XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgZ2V0QXBwU3RvcmUoKS5kaXNwYXRjaChhcHBBY3Rpb25zLnNlbGVjdGlvbkNoYW5nZWQobnVsbCkpO1xuICAgIH1cbiAgfVxuXG4gIG9uTW91c2VEb3duID0gKGUpID0+IHtcbiAgICB0aGlzLm1vdXNlZG93blggPSBlLnNjcmVlblg7XG4gICAgdGhpcy5tb3VzZWRvd25ZID0gZS5zY3JlZW5ZO1xuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdGhpcy5ndWlkZVhEcmF3ID0gU1ZHKHRoaXMuZ3VpZGVYUmVmKTtcbiAgICB0aGlzLmd1aWRlWURyYXcgPSBTVkcodGhpcy5ndWlkZVlSZWYpO1xuICAgIHRoaXMuZ3VpZGVEcmFnT3ZlckRyYXcgPSBTVkcodGhpcy5ndWlkZURyYWdPdmVyUmVmKTtcbiAgfVxuXG4gIGlzUmVzaXppbmdJdGVtKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLnN0YXRlLmRoICE9PSAwIHx8IHRoaXMuc3RhdGUuZHcgIT09IDA7XG4gIH1cblxuICBvblJlc2l6ZVN0YXJ0KGlkOiBzdHJpbmcpIHtcbiAgICBjb25zdCB7IGxheW91dCB9ID0gdGhpcy5wcm9wcztcbiAgICB0aGlzLnJuZGluZ0xheW91dElkID0gaWQ7XG4gICAgdGhpcy5jb2xsZWN0Qm91bmRzKHtcbiAgICAgIGxheW91dElkOiBsYXlvdXQuaWQsXG4gICAgICBsYXlvdXRJdGVtSWQ6IGlkLFxuICAgIH0pO1xuICAgIGNvbnN0IGRyYWdnaW5nQ2hpbGQgPSB0aGlzLnJlZi5xdWVyeVNlbGVjdG9yKFxuICAgICAgYGRpdi5leGItcm5kW2RhdGEtbGF5b3V0aWQ9XCIke2xheW91dC5pZH1cIl1bZGF0YS1sYXlvdXRpdGVtaWQ9XCIke2lkfVwiXWBcbiAgICApO1xuICAgIGNvbnN0IHJlY3QgPSBkcmFnZ2luZ0NoaWxkLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIHRoaXMucmVzaXppbmdSZWN0ID0gdXRpbHMucmVsYXRpdmVDbGllbnRSZWN0KHJlY3QsIHRoaXMuZG9tUmVjdCk7XG4gIH1cblxuICBvblJlc2l6aW5nKGlkOiBzdHJpbmcsIGR4OiBudW1iZXIsIGR5OiBudW1iZXIsIGR3OiBudW1iZXIsIGRoOiBudW1iZXIsIHNoaWZ0S2V5OiBib29sZWFuKSB7XG4gICAgdGhpcy5ndWlkZVhEcmF3LmNsZWFyKCk7XG4gICAgdGhpcy5ndWlkZVlEcmF3LmNsZWFyKCk7XG4gICAgY29uc3QgbGF5b3V0SXRlbSA9IHRoaXMucHJvcHMubGF5b3V0LmNvbnRlbnRbaWRdO1xuICAgIGxldCB4ID0gZHg7XG4gICAgbGV0IHcgPSBkdztcbiAgICBpZiAodGhpcy5mbGlwTGVmdFJpZ2h0KSB7XG4gICAgICBjb25zdCBmbGlwUmVzdWx0ID0gZmxpcERlbHRhKGR4LCBkdyk7XG4gICAgICB4ID0gZmxpcFJlc3VsdC54O1xuICAgICAgdyA9IGZsaXBSZXN1bHQudztcbiAgICB9XG4gICAgY29uc3QgZGVsdGEgPSBtb3ZlR3VpZGUoXG4gICAgICB0aGlzLmRvbVJlY3QsXG4gICAgICB0aGlzLnJlc2l6aW5nUmVjdCxcbiAgICAgIHtcbiAgICAgICAgeCxcbiAgICAgICAgdyxcbiAgICAgICAgeTogZHksXG4gICAgICAgIGg6IGRoLFxuICAgICAgfSxcbiAgICAgIHNoaWZ0S2V5LFxuICAgICAgdGhpcy5jaGlsZFJlY3RzLFxuICAgICAgbGF5b3V0SXRlbS5zZXR0aW5nPy5hdXRvUHJvcHMgPz8ge30sXG4gICAgICAvLyB0aGlzLmd1aWRlWERyYXcsXG4gICAgICAvLyB0aGlzLmd1aWRlWURyYXcsXG4gICAgICAvLyB0aGlzLnBhZ2VDb250ZXh0LmJ1aWxkZXJUaGVtZVxuICAgICk7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBvZmZzZXRYOiBkZWx0YS54LFxuICAgICAgb2Zmc2V0WTogZGVsdGEueSxcbiAgICAgIGR3OiBkZWx0YS53LFxuICAgICAgZGg6IGRlbHRhLmgsXG4gICAgfSk7XG4gIH1cblxuICBvblJlc2l6ZUVuZChcbiAgICBpZDogc3RyaW5nLFxuICAgIGR4OiBudW1iZXIsXG4gICAgZHk6IG51bWJlcixcbiAgICBkdzogbnVtYmVyLFxuICAgIGRoOiBudW1iZXIsXG4gICAgc2hpZnRLZXk6IGJvb2xlYW4sXG4gICAgbGF5b3V0SXRlbTogTGF5b3V0SXRlbUpzb24sXG4gICAgaXRlbVNldHRpbmc6IEZpeGVkTGF5b3V0SXRlbVNldHRpbmdcbiAgKSB7XG4gICAgdGhpcy5ybmRpbmdMYXlvdXRJZCA9IG51bGw7XG4gICAgY29uc3QgeyBsYXlvdXQgfSA9IHRoaXMucHJvcHM7XG5cbiAgICB0aGlzLmd1aWRlWERyYXcuY2xlYXIoKTtcbiAgICB0aGlzLmd1aWRlWURyYXcuY2xlYXIoKTtcblxuICAgIGxldCB4ID0gZHg7XG4gICAgbGV0IHcgPSBkdztcbiAgICBpZiAodGhpcy5mbGlwTGVmdFJpZ2h0KSB7XG4gICAgICBjb25zdCBmbGlwUmVzdWx0ID0gZmxpcERlbHRhKGR4LCBkdyk7XG4gICAgICB4ID0gZmxpcFJlc3VsdC54O1xuICAgICAgdyA9IGZsaXBSZXN1bHQudztcbiAgICB9XG5cbiAgICBjb25zdCBkZWx0YSA9IG1vdmVHdWlkZShcbiAgICAgIHRoaXMuZG9tUmVjdCxcbiAgICAgIHRoaXMucmVzaXppbmdSZWN0LFxuICAgICAge1xuICAgICAgICB4LFxuICAgICAgICB3LFxuICAgICAgICB5OiBkeSxcbiAgICAgICAgaDogZGgsXG4gICAgICB9LFxuICAgICAgc2hpZnRLZXksXG4gICAgICB0aGlzLmNoaWxkUmVjdHMsXG4gICAgICBsYXlvdXRJdGVtLnNldHRpbmc/LmF1dG9Qcm9wcyA/PyB7fVxuICAgICk7XG5cbiAgICBjb25zdCBuZXdQb3MgPSBnZW5lcmF0ZVJlc2l6aW5nQkJveFN0eWxlKHRoaXMucmVzaXppbmdSZWN0LCB0aGlzLmRvbVJlY3QsIHtcbiAgICAgIGR4OiBkZWx0YS54LFxuICAgICAgZHk6IGRlbHRhLnksXG4gICAgICBkdzogZGVsdGEudyxcbiAgICAgIGRoOiBkZWx0YS5oLFxuICAgIH0pO1xuXG4gICAgdGhpcy5jaGlsZFJlY3RzID0gW107XG4gICAgY29uc3QgYXBwQ29uZmlnQWN0aW9uID0gZ2V0QXBwQ29uZmlnQWN0aW9uKCk7XG4gICAgY29uc3QgbmV3QkJveCA9IHV0aWxzLnJlcGxhY2VCb3VuZGluZ0JveChsYXlvdXRJdGVtLmJib3ggYXMgSU1Cb3VuZGluZ0JveCwgbmV3UG9zLCB0aGlzLmRvbVJlY3QpO1xuXG4gICAgLy8gbGV0IHNldHRpbmcgPSBJbW11dGFibGUoaXRlbVNldHRpbmcpO1xuXG4gICAgY29uc3QgbGF5b3V0SW5mbyA9IHsgbGF5b3V0SWQ6IGxheW91dC5pZCwgbGF5b3V0SXRlbUlkOiBpZCB9O1xuICAgIGNvbnN0IHNuYXBUb1NldHRpbmdSZXN1bHQgPSBhcHBseVNuYXBSZXN1bHQoXG4gICAgICBuZXdCQm94LFxuICAgICAgdGhpcy5kb21SZWN0LFxuICAgICAgZGVsdGEsXG4gICAgKTtcbiAgICAvLyBzZXR0aW5nID0gc2V0dGluZy5zZXQoXG4gICAgLy8gICAnYXV0b1Byb3BzJyxcbiAgICAvLyAgIHRoaXMuZmxpcExlZnRSaWdodCA/IGZsaXBBdXRvUHJvcHMoc25hcFRvU2V0dGluZ1Jlc3VsdC5hdXRvUHJvcHMpIDogc25hcFRvU2V0dGluZ1Jlc3VsdC5hdXRvUHJvcHNcbiAgICAvLyApO1xuICAgIC8vIGFwcENvbmZpZ0FjdGlvbi5lZGl0TGF5b3V0SXRlbVNldHRpbmcobGF5b3V0SW5mbywgc2V0dGluZyk7w7dcbiAgICBhcHBDb25maWdBY3Rpb25cbiAgICAgIC5lZGl0TGF5b3V0SXRlbUJCb3goXG4gICAgICAgIGxheW91dEluZm8sXG4gICAgICAgIHRoaXMuZmxpcExlZnRSaWdodCA/IGZsaXBCQm94KHNuYXBUb1NldHRpbmdSZXN1bHQpIDogc25hcFRvU2V0dGluZ1Jlc3VsdFxuICAgICAgKVxuICAgICAgLmV4ZWMoKTtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIG9mZnNldFg6IDAsXG4gICAgICBvZmZzZXRZOiAwLFxuICAgICAgZHc6IDAsXG4gICAgICBkaDogMFxuICAgIH0pO1xuICB9XG5cbiAgb25Nb3ZlSXRlbUJ5S2V5ID0gKGlkOiBzdHJpbmcsIGR4OiBudW1iZXIsIGR5OiBudW1iZXIpID0+IHtcbiAgICBjb25zdCB7IGxheW91dCB9ID0gdGhpcy5wcm9wcztcbiAgICBsZXQgYmJveCA9IGxheW91dC5jb250ZW50W2lkXS5iYm94O1xuICAgIGlmIChkeCAhPT0gMCkge1xuICAgICAgLy8gbW9kaWZ5IGxlZnQgYW5kIHJpZ2h0XG4gICAgICBpZiAodXRpbHMuaXNQZXJjZW50YWdlKGJib3gubGVmdCkpIHtcbiAgICAgICAgY29uc3QgcFZhbHVlID0gcGFyc2VGbG9hdChiYm94LmxlZnQpO1xuICAgICAgICBiYm94ID0gYmJveC5zZXQoJ2xlZnQnLCBgJHtwVmFsdWUgKyBkeCAqIDAuMX0lYCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBwVmFsdWUgPSBwYXJzZUZsb2F0KGJib3gubGVmdCk7XG4gICAgICAgIGJib3ggPSBiYm94LnNldCgnbGVmdCcsIGAke3BWYWx1ZSArIGR4fXB4YCk7XG4gICAgICB9XG4gICAgICBpZiAodXRpbHMuaXNQZXJjZW50YWdlKGJib3gucmlnaHQpKSB7XG4gICAgICAgIGNvbnN0IHBWYWx1ZSA9IHBhcnNlRmxvYXQoYmJveC5yaWdodCk7XG4gICAgICAgIGJib3ggPSBiYm94LnNldCgncmlnaHQnLCBgJHtwVmFsdWUgLSBkeCAqIDAuMX0lYCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBwVmFsdWUgPSBwYXJzZUZsb2F0KGJib3gucmlnaHQpO1xuICAgICAgICBiYm94ID0gYmJveC5zZXQoJ3JpZ2h0JywgYCR7cFZhbHVlIC0gZHh9cHhgKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoZHkgIT09IDApIHtcbiAgICAgIC8vIG1vZGlmeSB0b3AgYW5kIGJvdHRvbVxuICAgICAgaWYgKHV0aWxzLmlzUGVyY2VudGFnZShiYm94LnRvcCkpIHtcbiAgICAgICAgY29uc3QgcFZhbHVlID0gcGFyc2VGbG9hdChiYm94LnRvcCk7XG4gICAgICAgIGJib3ggPSBiYm94LnNldCgndG9wJywgYCR7cFZhbHVlICsgZHkgKiAwLjF9JWApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgcFZhbHVlID0gcGFyc2VGbG9hdChiYm94LnRvcCk7XG4gICAgICAgIGJib3ggPSBiYm94LnNldCgndG9wJywgYCR7cFZhbHVlICsgZHl9cHhgKTtcbiAgICAgIH1cbiAgICAgIGlmICh1dGlscy5pc1BlcmNlbnRhZ2UoYmJveC5ib3R0b20pKSB7XG4gICAgICAgIGNvbnN0IHBWYWx1ZSA9IHBhcnNlRmxvYXQoYmJveC5ib3R0b20pO1xuICAgICAgICBiYm94ID0gYmJveC5zZXQoJ2JvdHRvbScsIGAke3BWYWx1ZSAtIGR5ICogMC4xfSVgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IHBWYWx1ZSA9IHBhcnNlRmxvYXQoYmJveC5ib3R0b20pO1xuICAgICAgICBiYm94ID0gYmJveC5zZXQoJ2JvdHRvbScsIGAke3BWYWx1ZSAtIGR5fXB4YCk7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGFwcENvbmZpZ0FjdGlvbiA9IGdldEFwcENvbmZpZ0FjdGlvbigpO1xuICAgIGFwcENvbmZpZ0FjdGlvbi5lZGl0TGF5b3V0SXRlbUJCb3goe1xuICAgICAgbGF5b3V0SWQ6IGxheW91dC5pZCxcbiAgICAgIGxheW91dEl0ZW1JZDogaWRcbiAgICB9LCBiYm94KS5leGVjKCk7XG4gIH1cblxuICBvbkRyYWdPdmVyKFxuICAgIGRyYWdnaW5nSXRlbTogTGF5b3V0SXRlbUNvbnN0cnVjdG9yUHJvcHMsXG4gICAgZHJhZ2dpbmdFbGVtZW50OiBIVE1MRWxlbWVudCxcbiAgICBjb250YWluZXJSZWN0OiBDbGllbnRSZWN0LFxuICAgIGl0ZW1SZWN0OiBDbGllbnRSZWN0XG4gICkge1xuICAgIGNvbnN0IHsgbGF5b3V0IH0gPSB0aGlzLnByb3BzO1xuXG4gICAgaWYgKCghdGhpcy5jaGlsZFJlY3RzIHx8IHRoaXMuY2hpbGRSZWN0cy5sZW5ndGggPT09IDApICYmIGxheW91dC5vcmRlciAmJiBsYXlvdXQub3JkZXIubGVuZ3RoID4gMCkge1xuICAgICAgdGhpcy5jb2xsZWN0Qm91bmRzKGRyYWdnaW5nSXRlbS5sYXlvdXRJbmZvKTtcbiAgICB9XG5cbiAgICB0aGlzLmNsZWFyTW92ZUd1aWRlKCk7XG4gICAgbGV0IGRlbHRhWCA9IDA7XG4gICAgbGV0IGRlbHRhWSA9IDA7XG5cbiAgICBpZiAoZHJhZ2dpbmdFbGVtZW50ICYmIGRyYWdnaW5nSXRlbS5sYXlvdXRJbmZvKSB7XG4gICAgICBsZXQgbGF5b3V0SXRlbTtcbiAgICAgIGlmIChkcmFnZ2luZ0l0ZW0ubGF5b3V0SW5mby5sYXlvdXRJZCA9PT0gdGhpcy5wcm9wcy5sYXlvdXQuaWQpIHtcbiAgICAgICAgbGF5b3V0SXRlbSA9IHRoaXMucHJvcHMubGF5b3V0LmNvbnRlbnRbZHJhZ2dpbmdJdGVtLmxheW91dEluZm8ubGF5b3V0SXRlbUlkXTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGhhc1JvdGF0aW9uID0gZHJhZ2dpbmdJdGVtLnJvdGF0aW9uID4gMCB8fCBkcmFnZ2luZ0l0ZW0ucm90YXRpb24gPCAwO1xuICAgICAgY29uc3Qgcm5kRGVsdGEgPSBtb3ZlR3VpZGUoXG4gICAgICAgIHRoaXMuZG9tUmVjdCxcbiAgICAgICAgaXRlbVJlY3QgYXMgQ2xpZW50UmVjdCxcbiAgICAgICAge1xuICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgeTogMCxcbiAgICAgICAgICB3OiAwLFxuICAgICAgICAgIGg6IDAsXG4gICAgICAgIH0sXG4gICAgICAgIGZhbHNlLFxuICAgICAgICB0aGlzLmNoaWxkUmVjdHMsXG4gICAgICAgIGxheW91dEl0ZW0/LnNldHRpbmc/LmF1dG9Qcm9wcyA/PyB7fSxcbiAgICAgICAgaGFzUm90YXRpb24gPyBudWxsIDogdGhpcy5ndWlkZVhEcmF3LFxuICAgICAgICBoYXNSb3RhdGlvbiA/IG51bGwgOiB0aGlzLmd1aWRlWURyYXcsXG4gICAgICAgIGhhc1JvdGF0aW9uID8gbnVsbCA6IHRoaXMucGFnZUNvbnRleHQuYnVpbGRlclRoZW1lXG4gICAgICApO1xuICAgICAgLy8gc25hcCBkcmFnZ2luZ0VsZW1lbnRcbiAgICAgIGlmIChybmREZWx0YS54IHx8IHJuZERlbHRhLnkpIHtcbiAgICAgICAgY29uc3QgdHggPSBwYXJzZUZsb2F0KGRyYWdnaW5nRWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtdHJhbnNsYXRleCcpKSB8fCAwO1xuICAgICAgICBjb25zdCB0eSA9IHBhcnNlRmxvYXQoZHJhZ2dpbmdFbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS10cmFuc2xhdGV5JykpIHx8IDA7XG4gICAgICAgIGRyYWdnaW5nRWxlbWVudC5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlKCR7dHggKyBybmREZWx0YS54fXB4LCAke3R5ICsgcm5kRGVsdGEueX1weClgO1xuICAgICAgfVxuICAgICAgZGVsdGFYID0gcm5kRGVsdGEueDtcbiAgICAgIGRlbHRhWSA9IHJuZERlbHRhLnk7XG4gICAgfVxuXG4gICAgaWYgKCFkcmFnZ2luZ0l0ZW0ubGF5b3V0SW5mbykge1xuICAgICAgaWYgKCF0aGlzLmRyb3BBcmVhKSB7XG4gICAgICAgIHRoaXMuZHJvcEFyZWEgPSB0aGlzLmd1aWRlRHJhZ092ZXJEcmF3XG4gICAgICAgICAgLnJlY3QoaXRlbVJlY3Qud2lkdGgsIGl0ZW1SZWN0LmhlaWdodClcbiAgICAgICAgICAuZmlsbChwb2xpc2hlZC5yZ2JhKHRoaXMucGFnZUNvbnRleHQuYnVpbGRlclRoZW1lLmNvbG9ycy5wYWxldHRlLnByaW1hcnlbNzAwXSwgMC4yKSlcbiAgICAgICAgICAuc3Ryb2tlKCdub25lJylcbiAgICAgICAgICAuYXR0cih7XG4gICAgICAgICAgICB4OiBpdGVtUmVjdC5sZWZ0ICsgZGVsdGFYLFxuICAgICAgICAgICAgeTogaXRlbVJlY3QudG9wICsgZGVsdGFZLFxuICAgICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5kcm9wQXJlYS5tb3ZlKGl0ZW1SZWN0LmxlZnQgKyBkZWx0YVgsIGl0ZW1SZWN0LnRvcCArIGRlbHRhWSkuc2l6ZShpdGVtUmVjdC53aWR0aCwgaXRlbVJlY3QuaGVpZ2h0KTtcbiAgICAgICAgaWYgKCF0aGlzLmRyb3BBcmVhLnZpc2libGUoKSkge1xuICAgICAgICAgIHRoaXMuZHJvcEFyZWEuc2hvdygpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgdG9nZ2xlRHJhZ292ZXJFZmZlY3QodmFsdWU6IGJvb2xlYW4sIGRyYWdnaW5nSXRlbTogTGF5b3V0SXRlbUNvbnN0cnVjdG9yUHJvcHMpIHtcbiAgICB0aGlzLmNsZWFyTW92ZUd1aWRlKCk7XG4gICAgaWYgKHZhbHVlKSB7XG4gICAgICB0aGlzLmNvbGxlY3RCb3VuZHMoZHJhZ2dpbmdJdGVtLmxheW91dEluZm8pO1xuICAgIH1cbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGlzRHJhZ292ZXI6IHZhbHVlLFxuICAgIH0pO1xuICB9XG5cbiAgb25EcmFnRW50ZXIoZHJhZ2dpbmdJdGVtOiBMYXlvdXRJdGVtQ29uc3RydWN0b3JQcm9wcykge31cblxuICBvbkRyYWdMZWF2ZSgpIHt9XG5cbiAgY2xlYXJNb3ZlR3VpZGUoKSB7XG4gICAgdGhpcy5kcm9wQXJlYT8uaGlkZSgpO1xuICAgIHRoaXMuZ3VpZGVYRHJhdz8uY2xlYXIoKTtcbiAgICB0aGlzLmd1aWRlWURyYXc/LmNsZWFyKCk7XG4gIH1cblxuICBvbkRyb3AoZHJhZ2dpbmdJdGVtOiBMYXlvdXRJdGVtQ29uc3RydWN0b3JQcm9wcywgY29udGFpbmVyUmVjdDogQ2xpZW50UmVjdCwgaXRlbVJlY3Q6IENsaWVudFJlY3QpIHtcbiAgICB0aGlzLmNsZWFyTW92ZUd1aWRlKCk7XG5cbiAgICBjb25zdCB7c25hcHBlZFJlY3QsIGRlbHRhfSA9IHRoaXMuY2FsU25hcHBlZFJlY3QoZHJhZ2dpbmdJdGVtLCBjb250YWluZXJSZWN0LCBpdGVtUmVjdCk7XG5cbiAgICB0aGlzLmFkZFdpZGdldFRvTGF5b3V0KGRyYWdnaW5nSXRlbSwgY29udGFpbmVyUmVjdCwgc25hcHBlZFJlY3QsIGRlbHRhKTtcbiAgfVxuXG4gIGNhbFNuYXBwZWRSZWN0KGRyYWdnaW5nSXRlbTogTGF5b3V0SXRlbUNvbnN0cnVjdG9yUHJvcHMsIGNvbnRhaW5lclJlY3Q6IENsaWVudFJlY3QsIGl0ZW1SZWN0OiBDbGllbnRSZWN0KToge1xuICAgIHNuYXBwZWRSZWN0OiBDbGllbnRSZWN0LFxuICAgIGRlbHRhOiBSbmREZWx0YSAmIFNuYXBSZXN1bHRcbiAgfSB7XG4gICAgbGV0IGxheW91dEl0ZW07XG4gICAgaWYgKGRyYWdnaW5nSXRlbSAmJiBkcmFnZ2luZ0l0ZW0ubGF5b3V0SW5mbykge1xuICAgICAgaWYgKGRyYWdnaW5nSXRlbS5sYXlvdXRJbmZvLmxheW91dElkID09PSB0aGlzLnByb3BzLmxheW91dC5pZCkge1xuICAgICAgICBsYXlvdXRJdGVtID0gdGhpcy5wcm9wcy5sYXlvdXQuY29udGVudFtkcmFnZ2luZ0l0ZW0ubGF5b3V0SW5mby5sYXlvdXRJdGVtSWRdO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBkZWx0YSA9IG1vdmVHdWlkZShcbiAgICAgIHRoaXMuZG9tUmVjdCxcbiAgICAgIGl0ZW1SZWN0IGFzIENsaWVudFJlY3QsXG4gICAgICB7XG4gICAgICAgIHg6IDAsXG4gICAgICAgIHk6IDAsXG4gICAgICAgIHc6IDAsXG4gICAgICAgIGg6IDAsXG4gICAgICB9LFxuICAgICAgZmFsc2UsXG4gICAgICB0aGlzLmNoaWxkUmVjdHMsXG4gICAgICBsYXlvdXRJdGVtPy5zZXR0aW5nPy5hdXRvUHJvcHMgPz8ge31cbiAgICApO1xuICAgIGNvbnN0IHNuYXBwZWRSZWN0OiBhbnkgPSB7XG4gICAgICBsZWZ0OiBpdGVtUmVjdC5sZWZ0ICsgZGVsdGEueCxcbiAgICAgIHRvcDogaXRlbVJlY3QudG9wICsgZGVsdGEueSxcbiAgICAgIHdpZHRoOiBNYXRoLnJvdW5kKGl0ZW1SZWN0LndpZHRoKSxcbiAgICAgIGhlaWdodDogTWF0aC5yb3VuZChpdGVtUmVjdC5oZWlnaHQpLFxuICAgICAgcmlnaHQ6IGNvbnRhaW5lclJlY3Qud2lkdGggLSAoaXRlbVJlY3QucmlnaHQgKyBkZWx0YS54KSxcbiAgICAgIGJvdHRvbTogY29udGFpbmVyUmVjdC5oZWlnaHQgLSAoaXRlbVJlY3QuYm90dG9tICsgZGVsdGEueSksXG4gICAgfTtcbiAgICBpZiAoaXRlbVJlY3Qud2lkdGggPiBjb250YWluZXJSZWN0LndpZHRoKSB7XG4gICAgICBzbmFwcGVkUmVjdC53aWR0aCA9IE1hdGgucm91bmQoY29udGFpbmVyUmVjdC53aWR0aCk7XG4gICAgICBzbmFwcGVkUmVjdC5sZWZ0ID0gMDtcbiAgICB9XG4gICAgaWYgKGl0ZW1SZWN0LmhlaWdodCA+IGNvbnRhaW5lclJlY3QuaGVpZ2h0KSB7XG4gICAgICBzbmFwcGVkUmVjdC5oZWlnaHQgPSBNYXRoLnJvdW5kKGNvbnRhaW5lclJlY3QuaGVpZ2h0KTtcbiAgICAgIHNuYXBwZWRSZWN0LnRvcCA9IDA7XG4gICAgfVxuXG4gICAgdGhpcy5jaGlsZFJlY3RzID0gW107XG5cbiAgICAvLyBVc2UgcGVyY2VudGFnZSBzaXplIGJ5IGRlZmF1bHRcbiAgICBzbmFwcGVkUmVjdC5sZWZ0ID0gdXRpbHMudG9SYXRpbyhzbmFwcGVkUmVjdC5sZWZ0LCBjb250YWluZXJSZWN0LndpZHRoKTtcbiAgICBzbmFwcGVkUmVjdC50b3AgPSB1dGlscy50b1JhdGlvKHNuYXBwZWRSZWN0LnRvcCwgY29udGFpbmVyUmVjdC5oZWlnaHQpO1xuICAgIHNuYXBwZWRSZWN0LndpZHRoID0gdXRpbHMudG9SYXRpbyhzbmFwcGVkUmVjdC53aWR0aCwgY29udGFpbmVyUmVjdC53aWR0aCk7XG4gICAgc25hcHBlZFJlY3QuaGVpZ2h0ID0gdXRpbHMudG9SYXRpbyhzbmFwcGVkUmVjdC5oZWlnaHQsIGNvbnRhaW5lclJlY3QuaGVpZ2h0KTtcbiAgICBzbmFwcGVkUmVjdC5yaWdodCA9IHV0aWxzLnRvUmF0aW8oc25hcHBlZFJlY3QucmlnaHQsIGNvbnRhaW5lclJlY3Qud2lkdGgpO1xuICAgIHNuYXBwZWRSZWN0LmJvdHRvbSA9IHV0aWxzLnRvUmF0aW8oc25hcHBlZFJlY3QuYm90dG9tLCBjb250YWluZXJSZWN0LmhlaWdodCk7XG5cbiAgICByZXR1cm4ge3NuYXBwZWRSZWN0LCBkZWx0YX07XG4gIH1cblxuICAvLyAvLyB1cGRhdGUgaGVpZ2h0IHdoZW4gZHJvcCBvciByZXNpemUgZW5kXG4gIC8vIHVwZGF0ZUNvbnRhaW5lckhlaWdodChpdGVtUmVjdDogQ2xpZW50UmVjdCk6IG51bWJlciB7XG4gIC8vICAgbGV0IG1pbkhlaWdodCA9IE1hdGguY2VpbChpdGVtUmVjdC50b3AgKyBpdGVtUmVjdC5oZWlnaHQpO1xuICAvLyAgIHRoaXMuY2hpbGRSZWN0cy5mb3JFYWNoKHJlY3QgPT4ge1xuICAvLyAgICAgY29uc3QgYm90dG9tID0gcmVjdC50b3AgKyByZWN0LmhlaWdodDtcbiAgLy8gICAgIGlmIChib3R0b20gPiBtaW5IZWlnaHQpIHtcbiAgLy8gICAgICAgbWluSGVpZ2h0ID0gYm90dG9tO1xuICAvLyAgICAgfVxuICAvLyAgIH0pO1xuICAvLyAgIHJldHVybiBtaW5IZWlnaHQ7XG4gIC8vIH1cblxuICBhZGRXaWRnZXRUb0xheW91dChcbiAgICBkcmFnZ2luZ0l0ZW06IExheW91dEl0ZW1Db25zdHJ1Y3RvclByb3BzLFxuICAgIGNvbnRhaW5lclJlY3Q6IENsaWVudFJlY3QsXG4gICAgaXRlbVJlY3Q6IENsaWVudFJlY3QsXG4gICAgc25hcFJlc3VsdDogU25hcFJlc3VsdCxcbiAgICBhcHBDb25maWc/OiBJTUFwcENvbmZpZ1xuICApIHtcbiAgICBjb25zdCB7IGxheW91dCB9ID0gdGhpcy5wcm9wcztcbiAgICBsZXQgYXBwQ29uZmlnQWN0aW9uID0gZ2V0QXBwQ29uZmlnQWN0aW9uKGFwcENvbmZpZyk7XG4gICAgYWRkSXRlbVRvTGF5b3V0KFxuICAgICAgYXBwQ29uZmlnQWN0aW9uLmFwcENvbmZpZyxcbiAgICAgIGRyYWdnaW5nSXRlbSxcbiAgICAgIHtcbiAgICAgICAgbGF5b3V0SWQ6IGxheW91dC5pZCxcbiAgICAgIH0sXG4gICAgICBjb250YWluZXJSZWN0LFxuICAgICAgaXRlbVJlY3RcbiAgICApLnRoZW4ocmVzdWx0ID0+IHtcbiAgICAgIGNvbnN0IHsgbGF5b3V0SW5mbywgdXBkYXRlZEFwcENvbmZpZyB9ID0gcmVzdWx0O1xuICAgICAgYXBwQ29uZmlnQWN0aW9uID0gZ2V0QXBwQ29uZmlnQWN0aW9uKHVwZGF0ZWRBcHBDb25maWcpO1xuICAgICAgaWYgKGRyYWdnaW5nSXRlbS5sYXlvdXRJbmZvICYmIGRyYWdnaW5nSXRlbS5sYXlvdXRJbmZvLmxheW91dElkID09PSBsYXlvdXQuaWQpIHtcbiAgICAgICAgYXBwQ29uZmlnQWN0aW9uLmVkaXRMYXlvdXRJdGVtU2V0dGluZyhsYXlvdXRJbmZvLCB7IHZDZW50ZXI6IGZhbHNlLCBoQ2VudGVyOiBmYWxzZSB9KTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGxheW91dEl0ZW0gPSBhcHBDb25maWdBY3Rpb24uYXBwQ29uZmlnLmxheW91dHNbbGF5b3V0SW5mby5sYXlvdXRJZF0uY29udGVudFtsYXlvdXRJbmZvLmxheW91dEl0ZW1JZF07XG4gICAgICAvLyBsZXQgc2V0dGluZyA9IEltbXV0YWJsZShsYXlvdXRJdGVtLnNldHRpbmcgfHwge30pO1xuICAgICAgY29uc3Qgc25hcFRvU2V0dGluZ1Jlc3VsdCA9IGFwcGx5U25hcFJlc3VsdChcbiAgICAgICAgbGF5b3V0SXRlbS5iYm94LFxuICAgICAgICB0aGlzLmRvbVJlY3QsXG4gICAgICAgIHNuYXBSZXN1bHRcbiAgICAgICk7XG4gICAgICBhcHBDb25maWdBY3Rpb24uZWRpdExheW91dEl0ZW1CQm94KFxuICAgICAgICBsYXlvdXRJbmZvLFxuICAgICAgICB0aGlzLmZsaXBMZWZ0UmlnaHQgPyBmbGlwQkJveChzbmFwVG9TZXR0aW5nUmVzdWx0KSA6IHNuYXBUb1NldHRpbmdSZXN1bHRcbiAgICAgICk7XG4gICAgICBnZXRBcHBTdG9yZSgpLmRpc3BhdGNoKGFwcEFjdGlvbnMubGF5b3V0Q2hhbmdlZChhcHBDb25maWdBY3Rpb24uYXBwQ29uZmlnLCBsYXlvdXRJbmZvKSk7XG4gICAgfSk7XG4gIH1cblxuICBjb2xsZWN0Qm91bmRzKGxheW91dEluZm86IExheW91dEluZm8pIHtcbiAgICBjb25zdCB7IGxheW91dCB9ID0gdGhpcy5wcm9wcztcbiAgICB0aGlzLmNoaWxkUmVjdHMgPSBbXTtcbiAgICB0aGlzLmRvbVJlY3QgPSB0aGlzLnJlZi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBjb25zdCBkcmFnZ2FibGVDaGlsZHJlbiA9IHRoaXMucmVmLnBhcmVudE5vZGUucXVlcnlTZWxlY3RvckFsbChgZGl2W2RhdGEtbGF5b3V0aWQ9XCIke2xheW91dC5pZH1cIl0gPiAudHJhaWwtY29udGFpbmVyID4gZGl2LmV4Yi1ybmRgKTtcbiAgICBpZiAoZHJhZ2dhYmxlQ2hpbGRyZW4gJiYgZHJhZ2dhYmxlQ2hpbGRyZW4ubGVuZ3RoID4gMCkge1xuICAgICAgZHJhZ2dhYmxlQ2hpbGRyZW4uZm9yRWFjaChub2RlID0+IHtcbiAgICAgICAgY29uc3QgaXRlbUlkID0gbm9kZS5nZXRBdHRyaWJ1dGUoJ2RhdGEtbGF5b3V0aXRlbWlkJyk7XG4gICAgICAgIGlmICghbGF5b3V0SW5mbyB8fCBsYXlvdXRJbmZvLmxheW91dElkICE9PSBsYXlvdXQuaWQgfHwgbGF5b3V0SW5mby5sYXlvdXRJdGVtSWQgIT09IGl0ZW1JZCkge1xuICAgICAgICAgIGNvbnN0IHJlY3QgPSB1dGlscy5yZWxhdGl2ZUNsaWVudFJlY3Qobm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSwgdGhpcy5kb21SZWN0KTtcbiAgICAgICAgICB0aGlzLmNoaWxkUmVjdHMucHVzaChyZWN0KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuY2hpbGRSZWN0cztcbiAgfVxuXG4gIGNyZWF0ZUl0ZW0odGFyZ2V0TGF5b3V0OiBJTUxheW91dEpzb24sIGxheW91dEl0ZW1JZDogc3RyaW5nLCBrZXk6IG51bWJlcikge1xuICAgIC8vIGlmICghdGhpcy5jaGlsZHJlblJlZltsYXlvdXRJdGVtSWRdKSB7XG4gICAgLy8gICB0aGlzLmNoaWxkcmVuUmVmW2xheW91dEl0ZW1JZF0gPSBSZWFjdC5jcmVhdGVSZWY8SFRNTERpdkVsZW1lbnQ+KCk7XG4gICAgLy8gfVxuICAgIGNvbnN0IHsgaXRlbVJlc2l6YWJsZSwgaXRlbURyYWdnYWJsZSwgaXRlbVNlbGVjdGFibGUsIHNob3dEZWZhdWx0VG9vbHMgfSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3QgeyBvZmZzZXRYLCBvZmZzZXRZLCBkdywgZGggfSA9IHRoaXMuc3RhdGU7XG5cbiAgICBjb25zdCBkZWx0YVggPSBsYXlvdXRJdGVtSWQgPT09IHRoaXMucm5kaW5nTGF5b3V0SWQgPyBvZmZzZXRYIDogMDtcbiAgICBjb25zdCBkZWx0YVkgPSBsYXlvdXRJdGVtSWQgPT09IHRoaXMucm5kaW5nTGF5b3V0SWQgPyBvZmZzZXRZIDogMDtcbiAgICBjb25zdCBkZWx0YVcgPSBsYXlvdXRJdGVtSWQgPT09IHRoaXMucm5kaW5nTGF5b3V0SWQgPyBkdyA6IDA7XG4gICAgY29uc3QgZGVsdGFIID0gbGF5b3V0SXRlbUlkID09PSB0aGlzLnJuZGluZ0xheW91dElkID8gZGggOiAwO1xuICAgIGNvbnN0IGluaXRSZWN0ID0gbGF5b3V0SXRlbUlkID09PSB0aGlzLnJuZGluZ0xheW91dElkID8gdGhpcy5yZXNpemluZ1JlY3QgOiB1bmRlZmluZWQ7XG4gICAgY29uc3QgY29udGFpbmVyUmVjdCA9IGxheW91dEl0ZW1JZCA9PT0gdGhpcy5ybmRpbmdMYXlvdXRJZCA/IHRoaXMuZG9tUmVjdCA6IHVuZGVmaW5lZDtcblxuICAgIGNvbnN0IGxheW91dEl0ZW0gPSB0YXJnZXRMYXlvdXQuY29udGVudFtsYXlvdXRJdGVtSWRdO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxGaXhlZExheW91dEl0ZW1cbiAgICAgICAga2V5PXtsYXlvdXRJdGVtSWR9XG4gICAgICAgIGluZGV4PXtrZXl9XG4gICAgICAgIGxheW91dEl0ZW09e2xheW91dEl0ZW19XG4gICAgICAgIG9mZnNldFg9e2RlbHRhWH1cbiAgICAgICAgb2Zmc2V0WT17ZGVsdGFZfVxuICAgICAgICBkdz17ZGVsdGFXfVxuICAgICAgICBkaD17ZGVsdGFIfVxuICAgICAgICBpbml0UmVjdD17aW5pdFJlY3R9XG4gICAgICAgIGNvbnRhaW5lclJlY3Q9e2NvbnRhaW5lclJlY3R9XG4gICAgICAgIGxheW91dElkPXt0YXJnZXRMYXlvdXQuaWR9XG4gICAgICAgIGxheW91dEl0ZW1JZD17bGF5b3V0SXRlbUlkfVxuICAgICAgICBkcmFnZ2FibGU9e2l0ZW1EcmFnZ2FibGV9XG4gICAgICAgIHJlc2l6YWJsZT17aXRlbVJlc2l6YWJsZX1cbiAgICAgICAgc2VsZWN0YWJsZT17aXRlbVNlbGVjdGFibGV9XG4gICAgICAgIHNob3dEZWZhdWx0VG9vbHM9e3Nob3dEZWZhdWx0VG9vbHN9XG4gICAgICAgIGlzTGF5b3V0TG9ja0NoaWxkcmVuPXt0aGlzLmxheW91dFNldHRpbmcubG9ja0NoaWxkcmVufVxuICAgICAgICBvblJlc2l6ZVN0YXJ0PXt0aGlzLm9uUmVzaXplU3RhcnR9XG4gICAgICAgIG9uUmVzaXppbmc9e3RoaXMub25SZXNpemluZ31cbiAgICAgICAgb25SZXNpemVFbmQ9e3RoaXMub25SZXNpemVFbmR9XG4gICAgICAgIG9uTW92ZUJ5S2V5PXt0aGlzLm9uTW92ZUl0ZW1CeUtleX1cbiAgICAgICAgaXNJblNlY3Rpb249e3RoaXMucHJvcHMuaXNJblNlY3Rpb259XG4gICAgICAvPlxuICAgICk7XG4gIH1cblxuICB0b2dnbGVTaG93V2lkZ2V0TGlzdCA9IGUgPT4ge1xuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgdGhpcy5zZXRTdGF0ZSh7IHNob3dXaWRnZXRMaXN0OiAhdGhpcy5zdGF0ZS5zaG93V2lkZ2V0TGlzdCB9KTtcbiAgfTtcblxuICBjbG9zZVdpZGdldExpc3QgPSAoKSA9PiB7XG4gICAgaWYgKHRoaXMuc3RhdGUuc2hvd1dpZGdldExpc3QpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBzaG93V2lkZ2V0TGlzdDogZmFsc2UgfSk7XG4gICAgfVxuICB9O1xuXG4gIG9uUGFnZVRlbXBsYXRlU2VsZWN0ZWQgPSB0ZW1wbGF0ZVBhZ2VKc29uID0+IHtcbiAgICBjb25zdCBpbml0QXBwQ29uZmlnID0gZ2V0QXBwQ29uZmlnQWN0aW9uKCkuYXBwQ29uZmlnO1xuXG4gICAgdGhpcy5zZXRTdGF0ZSh7IGlzTG9hZGluZ1RlbXBsYXRlOiB0cnVlIH0pO1xuICAgIGlmICh0aGlzLnBhZ2VDb250ZXh0LmlzSGVhZGVyKSB7XG4gICAgICB0ZW1wbGF0ZVV0aWxzLmFwcGx5UGFnZVRlbXBsYXRlVG9IZWFkZXIoaW5pdEFwcENvbmZpZywgdGVtcGxhdGVQYWdlSnNvbikudGhlbigoeyBhcHBDb25maWcgfSkgPT4ge1xuICAgICAgICBnZXRBcHBDb25maWdBY3Rpb24oYXBwQ29uZmlnKS5leGVjKCk7XG4gICAgICAgIGxvZGFzaC5kZWZlcigoKSA9PiB7XG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGlzTG9hZGluZ1RlbXBsYXRlOiBmYWxzZSB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKHRoaXMucGFnZUNvbnRleHQuaXNGb290ZXIpIHtcbiAgICAgIHRlbXBsYXRlVXRpbHMuYXBwbHlQYWdlVGVtcGxhdGVUb0Zvb3Rlcihpbml0QXBwQ29uZmlnLCB0ZW1wbGF0ZVBhZ2VKc29uKS50aGVuKCh7IGFwcENvbmZpZyB9KSA9PiB7XG4gICAgICAgIGdldEFwcENvbmZpZ0FjdGlvbihhcHBDb25maWcpLmV4ZWMoKTtcbiAgICAgICAgbG9kYXNoLmRlZmVyKCgpID0+IHtcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgaXNMb2FkaW5nVGVtcGxhdGU6IGZhbHNlIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAodGhpcy5wYWdlQ29udGV4dC5pc0RpYWxvZykge1xuICAgICAgdGVtcGxhdGVVdGlscy5hcHBseVBhZ2VUZW1wbGF0ZVRvRGlhbG9nKGluaXRBcHBDb25maWcsIHRoaXMucGFnZUNvbnRleHQuZGlhbG9nSWQsIHRlbXBsYXRlUGFnZUpzb24pLnRoZW4oKHsgYXBwQ29uZmlnIH0pID0+IHtcbiAgICAgICAgZ2V0QXBwQ29uZmlnQWN0aW9uKGFwcENvbmZpZykuZXhlYygpO1xuICAgICAgICBsb2Rhc2guZGVmZXIoKCkgPT4ge1xuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBpc0xvYWRpbmdUZW1wbGF0ZTogZmFsc2UgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRlbXBsYXRlVXRpbHNcbiAgICAgICAgLmFwcGx5UGFnZVRlbXBsYXRlVG9Cb2R5KGluaXRBcHBDb25maWcsIHRoaXMucGFnZUNvbnRleHQucGFnZUlkLCB0ZW1wbGF0ZVBhZ2VKc29uKVxuICAgICAgICAudGhlbigoeyBhcHBDb25maWcgfSkgPT4ge1xuICAgICAgICAgIGdldEFwcENvbmZpZ0FjdGlvbihhcHBDb25maWcpLmV4ZWMoKTtcbiAgICAgICAgICBsb2Rhc2guZGVmZXIoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGlzTG9hZGluZ1RlbXBsYXRlOiBmYWxzZSB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IGxheW91dCwgY2xhc3NOYW1lLCBzdHlsZSwgbGF5b3V0cywgaXNQYWdlSXRlbSB9ID0gdGhpcy5wcm9wcztcbiAgICBpZiAoIWxheW91dCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxQYWdlQ29udGV4dC5Db25zdW1lcj5cbiAgICAgICAgeyhwcm9wczogUGFnZUNvbnRleHRQcm9wcykgPT4ge1xuICAgICAgICAgIHRoaXMucGFnZUNvbnRleHQgPSBwcm9wcztcbiAgICAgICAgICBsZXQgdGFyZ2V0TGF5b3V0ID0gbGF5b3V0O1xuICAgICAgICAgIGNvbnN0IHZpZXdPbmx5ID0gbGF5b3V0c1twcm9wcy5icm93c2VyU2l6ZU1vZGVdICE9PSBsYXlvdXQuaWQ7XG4gICAgICAgICAgaWYgKHZpZXdPbmx5ICYmIHRoaXMubGF5b3V0VHJhbnNmb3JtKSB7XG4gICAgICAgICAgICB0YXJnZXRMYXlvdXQgPSB0aGlzLmxheW91dFRyYW5zZm9ybShsYXlvdXQsIHByb3BzLm1haW5TaXplTW9kZSwgcHJvcHMuYnJvd3NlclNpemVNb2RlKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB0aGlzLmxheW91dFNldHRpbmcgPSBsb2Rhc2guYXNzaWduKHt9LCBERUZBVUxUX0ZJWF9MQVlPVVRfU0VUVElORywgdmlld09ubHkgPyB7fSA6IGxheW91dC5zZXR0aW5nKTtcbiAgICAgICAgICBjb25zdCBjb250ZW50ID0gdGFyZ2V0TGF5b3V0Lm9yZGVyIHx8IFtdO1xuXG4gICAgICAgICAgY29uc3QgbWVyZ2VkQ2xhc3NlcyA9IGNsYXNzTmFtZXMoJ2xheW91dCBmaXhlZC1sYXlvdXQnLCBjbGFzc05hbWUsIHtcbiAgICAgICAgICAgIFtMSU1JVEVEX0JPVU5EQVJZX0NMQVNTX05BTUVdOiBsYXlvdXQuc2V0dGluZz8ubG9ja0Rlc2NlbmRhbnRzXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgY29uc3QgaXNSZXNpemluZyA9IHRoaXMuc3RhdGUuZGggIT09IDAgfHwgdGhpcy5zdGF0ZS5kdyAhPT0gMDtcblxuICAgICAgICAgIGNvbnN0IG1lcmdlZFN0eWxlID0ge1xuICAgICAgICAgICAgaGVpZ2h0OiAnYXV0bycsXG4gICAgICAgICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgICAgICAgICAgIC4uLnN0eWxlLFxuICAgICAgICAgICAgLi4uc3R5bGVVdGlscy50b0NTU1N0eWxlKHRoaXMubGF5b3V0U2V0dGluZy5zdHlsZSksXG4gICAgICAgICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAgICAgICAgb3ZlcmZsb3c6ICdoaWRkZW4nLFxuICAgICAgICAgIH07XG4gICAgICAgICAgaWYgKCFtZXJnZWRTdHlsZS5ib3JkZXIgJiYgcHJvcHMuaXNEZXNpZ25Nb2RlICYmICF0aGlzLnByb3BzLmlzUGFnZUl0ZW0pIHtcbiAgICAgICAgICAgIG1lcmdlZFN0eWxlLmJvcmRlciA9IGAxcHggZGFzaGVkICR7cG9saXNoZWQucmdiYShwcm9wcy5idWlsZGVyVGhlbWUuY29sb3JzLnBhbGV0dGUuZGFya1szMDBdLCAwLjMpfWA7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IGd1aWRlVmlzaWJsZVN0eWxlID0ge1xuICAgICAgICAgICAgZGlzcGxheTogdGhpcy5zdGF0ZS5pc0RyYWdvdmVyIHx8IGlzUmVzaXppbmcgPyAnYmxvY2snIDogJ25vbmUnLFxuICAgICAgICAgICAgekluZGV4OiBjb250ZW50Lmxlbmd0aCArIDEsXG4gICAgICAgICAgfTtcblxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT17bWVyZ2VkQ2xhc3Nlc31cbiAgICAgICAgICAgICAgcmVmPXtlbCA9PiAodGhpcy5yZWYgPSBlbCl9XG4gICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuYWN0aXZhdGV9XG4gICAgICAgICAgICAgIG9uTW91c2VEb3duPXt0aGlzLm9uTW91c2VEb3dufVxuICAgICAgICAgICAgICBzdHlsZT17bWVyZ2VkU3R5bGV9XG4gICAgICAgICAgICAgIGRhdGEtbGF5b3V0aWQ9e3RhcmdldExheW91dC5pZH1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPE9uZUJ5T25lQW5pbWF0aW9uXG4gICAgICAgICAgICAgICAgZGF0YS1sYXlvdXRpZD17dGFyZ2V0TGF5b3V0LmlkfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRyYWlsLWNvbnRhaW5lclwiXG4gICAgICAgICAgICAgICAgY3NzPXtjc3NgXG4gICAgICAgICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgICAgICAgICAgICBsZWZ0OiAwO1xuICAgICAgICAgICAgICAgICAgcmlnaHQ6IDA7XG4gICAgICAgICAgICAgICAgICB0b3A6IDA7XG4gICAgICAgICAgICAgICAgICBib3R0b206IDA7XG4gICAgICAgICAgICAgICAgYH1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxEcm9wQXJlYVxuICAgICAgICAgICAgICAgICAgY3NzPXtkcm9wYXJlYVN0eWxlfVxuICAgICAgICAgICAgICAgICAgbGF5b3V0cz17dGhpcy5wcm9wcy5sYXlvdXRzfVxuICAgICAgICAgICAgICAgICAgaGlnaGxpZ2h0RHJhZ292ZXI9eyFpc1BhZ2VJdGVtfVxuICAgICAgICAgICAgICAgICAgb25EcmFnRW50ZXI9e3RoaXMub25EcmFnRW50ZXJ9XG4gICAgICAgICAgICAgICAgICBvbkRyYWdMZWF2ZT17dGhpcy5vbkRyYWdMZWF2ZX1cbiAgICAgICAgICAgICAgICAgIG9uRHJhZ092ZXI9e3RoaXMub25EcmFnT3Zlcn1cbiAgICAgICAgICAgICAgICAgIG9uRHJvcD17dGhpcy5vbkRyb3B9XG4gICAgICAgICAgICAgICAgICBvblRvZ2dsZURyYWdvdmVyRWZmZWN0PXt0aGlzLnRvZ2dsZURyYWdvdmVyRWZmZWN0fVxuICAgICAgICAgICAgICAgICAgaXNSZXBlYXQ9e3RoaXMucHJvcHMuaXNSZXBlYXR9XG4gICAgICAgICAgICAgICAgPjwvRHJvcEFyZWE+XG4gICAgICAgICAgICAgICAgeyhjb250ZW50IGFzIGFueSkubWFwKChsYXlvdXRJdGVtSWQsIGluZGV4KSA9PlxuICAgICAgICAgICAgICAgICAgdGhpcy5jcmVhdGVJdGVtKHRhcmdldExheW91dCwgbGF5b3V0SXRlbUlkLCBpbmRleClcbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8L09uZUJ5T25lQW5pbWF0aW9uPlxuICAgICAgICAgICAgICB7IXRoaXMuc3RhdGUuaXNMb2FkaW5nVGVtcGxhdGUgJiZcbiAgICAgICAgICAgICAgICBjb250ZW50Lmxlbmd0aCA9PT0gMCAmJlxuICAgICAgICAgICAgICAgICFwcm9wcy52aWV3T25seSAmJlxuICAgICAgICAgICAgICAgIGxheW91dC5pZCA9PT0gcHJvcHMucm9vdExheW91dElkICYmXG4gICAgICAgICAgICAgICAgPEFjdGlvbkJsb2NrIHBhZ2VDb250ZXh0PXt0aGlzLnBhZ2VDb250ZXh0fSBvblBhZ2VUZW1wbGF0ZVNlbGVjdGVkPXt0aGlzLm9uUGFnZVRlbXBsYXRlU2VsZWN0ZWR9PjwvQWN0aW9uQmxvY2s+fVxuICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS5pc0xvYWRpbmdUZW1wbGF0ZSAmJiA8TG9hZGluZyAvPn1cbiAgICAgICAgICAgICAgPGRpdiBjc3M9e2d1aWRlT3ZlcmxheX0gc3R5bGU9e2d1aWRlVmlzaWJsZVN0eWxlfSByZWY9e2VsID0+ICh0aGlzLmd1aWRlWFJlZiA9IGVsKX0gLz5cbiAgICAgICAgICAgICAgPGRpdiBjc3M9e2d1aWRlT3ZlcmxheX0gc3R5bGU9e2d1aWRlVmlzaWJsZVN0eWxlfSByZWY9e2VsID0+ICh0aGlzLmd1aWRlWVJlZiA9IGVsKX0gLz5cbiAgICAgICAgICAgICAgPGRpdiBjc3M9e2d1aWRlT3ZlcmxheX0gc3R5bGU9e2d1aWRlVmlzaWJsZVN0eWxlfSByZWY9e2VsID0+ICh0aGlzLmd1aWRlRHJhZ092ZXJSZWYgPSBlbCl9IC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApO1xuICAgICAgICB9fVxuICAgICAgPC9QYWdlQ29udGV4dC5Db25zdW1lcj5cbiAgICApO1xuICB9XG59XG5cbi8vIGNvbnN0IERyb3BwYWJsZUxheW91dCA9IHdpdGhEcm9wKCkoTGF5b3V0KTtcblxuZXhwb3J0IGRlZmF1bHQgUmVhY3RSZWR1eC5jb25uZWN0PFN0YXRlVG9MYXlvdXRQcm9wcywgdW5rbm93biwgTGF5b3V0UHJvcHM+KHV0aWxzLm1hcFN0YXRlVG9MYXlvdXRQcm9wcykoTGF5b3V0IGFzIGFueSk7XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFxQkE7QUFFQTtBQUNBO0FBQ0E7QUFVQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQVlBO0FBU0E7QUFLQTtBQUFBO0FBMkJBOztBQUFBO0FBa0RBO0FBQ0E7QUFDQTtBQUNBO0FBeUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFxUUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBMWhCQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBRUE7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQVVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUErQ0E7O0FBTUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFFQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFFQTs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFPQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBSUE7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUF5QkE7QUFrREE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQVNBO0FBV0E7QUFXQTtBQUNBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUdBO0FBanBCQTtBQWtwQkE7QUFBQTtBQUVBO0FBRUE7OyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./jimu-layouts/lib/fixed-layout/builder/layout.tsx\n");

/***/ }),

/***/ "./jimu-layouts/lib/fixed-layout/builder/move_guide.ts":
/*!*************************************************************!*\
  !*** ./jimu-layouts/lib/fixed-layout/builder/move_guide.ts ***!
  \*************************************************************/
/*! exports provided: FixedSides, flipDelta, moveGuide, snapVBoundary, snapHBoundary, edgeSnapGuide, distanceSnapGuide, calSnapDistance */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FixedSides\", function() { return FixedSides; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"flipDelta\", function() { return flipDelta; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"moveGuide\", function() { return moveGuide; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"snapVBoundary\", function() { return snapVBoundary; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"snapHBoundary\", function() { return snapHBoundary; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"edgeSnapGuide\", function() { return edgeSnapGuide; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"distanceSnapGuide\", function() { return distanceSnapGuide; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"calSnapDistance\", function() { return calSnapDistance; });\nvar tolerance = 5; // tolerance for snap\nvar snapEdgeTolerance = 10;\nvar FixedSides;\n(function (FixedSides) {\n    FixedSides[FixedSides[\"Left\"] = 0] = \"Left\";\n    FixedSides[FixedSides[\"Top\"] = 1] = \"Top\";\n    FixedSides[FixedSides[\"Right\"] = 2] = \"Right\";\n    FixedSides[FixedSides[\"Bottom\"] = 3] = \"Bottom\";\n    FixedSides[FixedSides[\"None\"] = 4] = \"None\";\n})(FixedSides || (FixedSides = {}));\nfunction getCenterX(bound) {\n    return bound.left + bound.width / 2;\n}\nfunction getCenterY(bound) {\n    return bound.top + bound.height / 2;\n}\n/**\n * When resizing in RTL, the resize edge should be flipped. That means if you resize by dragging the right edge,\n * the interactjs will move the left edge.\n * @param dx\n * @param dw\n */\nfunction flipDelta(dx, dw) {\n    if (dx === 0) { // move left edge\n        return { x: dw, w: -dw };\n    }\n    return { x: 0, w: -dw };\n}\nfunction keepMinimalSize(draggingBound, delta) {\n    if (delta.w !== 0 || delta.h !== 0) {\n        var minSize = 16;\n        var result = {\n            x: delta.x,\n            y: delta.y,\n            w: delta.w,\n            h: delta.h,\n        };\n        if (draggingBound.width + delta.w < minSize) {\n            result.w = minSize - draggingBound.width;\n            if (delta.x !== 0) {\n                result.x = -result.w;\n            }\n        }\n        if (draggingBound.height + delta.h < minSize) {\n            result.h = minSize - draggingBound.height;\n            if (delta.y !== 0) {\n                result.y = -result.h;\n            }\n        }\n        return result;\n    }\n    return delta;\n}\n/**\n * Moves a widget by the given delta and return the snapped result.\n */\nfunction moveGuide(containerRect, draggingBound, delta, shiftKey, siblingBounds, autoProps, xDraw, yDraw, theme) {\n    var result = keepMinimalSize(draggingBound, delta);\n    if (shiftKey) {\n        // keep the proportion of width and height\n        result = keepAspectRatio(draggingBound, result);\n    }\n    var dx = result.x;\n    var dy = result.y;\n    var dw = result.w;\n    var dh = result.h;\n    var overrideXPos = false;\n    var overrideWidth = false;\n    var overrideYPos = false;\n    var overrideHeight = false;\n    var snapToTop = false;\n    var snapToBottom = false;\n    var snapToLeft = false;\n    var snapToRight = false;\n    var vEdgeSnapResult = snapVBoundary(containerRect, draggingBound, result, autoProps);\n    snapToTop = vEdgeSnapResult.snapToTop;\n    snapToBottom = vEdgeSnapResult.snapToBottom;\n    dy = vEdgeSnapResult.dy;\n    dh = vEdgeSnapResult.dh;\n    if (!snapToTop && !snapToBottom && siblingBounds && siblingBounds.length > 0) {\n        var vSnapGuide = distanceSnapGuide(draggingBound, result, siblingBounds, 'v', yDraw, theme);\n        if (!vSnapGuide.overridePos && !vSnapGuide.overrideSize) {\n            vSnapGuide = edgeSnapGuide(draggingBound, result, siblingBounds, 'v', xDraw, theme);\n        }\n        overrideYPos = vSnapGuide.overridePos;\n        overrideHeight = vSnapGuide.overrideSize;\n        if (overrideHeight) {\n            dh = vSnapGuide.deltaSize;\n            if (result.y === 0) {\n                dy = 0;\n            }\n            else {\n                dy = -dh;\n            }\n        }\n        else if (overrideYPos) {\n            dy = vSnapGuide.deltaPos;\n            if (result.h === 0) {\n                dh = 0;\n            }\n            else {\n                dh = -dy;\n            }\n        }\n    }\n    var hEdgeSnapResult = snapHBoundary(containerRect, draggingBound, result, autoProps);\n    snapToLeft = hEdgeSnapResult.snapToLeft;\n    snapToRight = hEdgeSnapResult.snapToRight;\n    dx = hEdgeSnapResult.dx;\n    dw = hEdgeSnapResult.dw;\n    if (!snapToLeft && !snapToRight && siblingBounds && siblingBounds.length > 0) {\n        var hSnapGuide = distanceSnapGuide(draggingBound, result, siblingBounds, 'h', xDraw, theme);\n        if (!hSnapGuide.overridePos && !hSnapGuide.overrideSize) { // 'h'\n            hSnapGuide = edgeSnapGuide(draggingBound, result, siblingBounds, 'h', xDraw, theme);\n        }\n        overrideXPos = hSnapGuide.overridePos;\n        overrideWidth = hSnapGuide.overrideSize;\n        if (overrideWidth) {\n            dw = hSnapGuide.deltaSize;\n            if (result.x === 0) {\n                dx = 0;\n            }\n            else {\n                dx = -dw;\n            }\n        }\n        else if (overrideXPos) {\n            dx = hSnapGuide.deltaPos;\n            if (result.w === 0) {\n                dw = 0;\n            }\n            else {\n                dw = -dx;\n            }\n        }\n    }\n    return { x: dx, y: dy, w: dw, h: dh, top: snapToTop, bottom: snapToBottom, left: snapToLeft, right: snapToRight };\n}\nfunction snapVBoundary(containerRect, draggingBound, delta, autoProps) {\n    var snapToTop = false;\n    var snapToBottom = false;\n    var dy = delta.y;\n    var dh = delta.h;\n    if (delta.h === 0) { // move item or resize horizontally\n        if (delta.w === 0) { // move\n            if (!autoProps.top && Math.abs(draggingBound.top + delta.y) <= snapEdgeTolerance) {\n                snapToTop = true;\n                dy -= (draggingBound.top + delta.y);\n            }\n            else if (!autoProps.bottom && Math.abs(draggingBound.top + draggingBound.height - containerRect.height) <= snapEdgeTolerance) {\n                snapToBottom = true;\n                dy += (containerRect.height - draggingBound.top - draggingBound.height);\n            }\n        }\n        else { // resize horizontally\n            snapToTop = !autoProps.top && draggingBound.top === 0;\n            snapToBottom = !autoProps.bottom && Math.round(draggingBound.top + draggingBound.height) === Math.round(containerRect.height);\n        }\n        return { dy: dy, dh: dh, snapToTop: snapToTop, snapToBottom: snapToBottom };\n    }\n    if (delta.y === 0) { // resize by moving the bottom edge\n        if (!autoProps.bottom && containerRect.height - (draggingBound.top + draggingBound.height + delta.h) <= snapEdgeTolerance) {\n            snapToBottom = true;\n            var maxH = containerRect.height >= (draggingBound.top + draggingBound.height + delta.h) ?\n                containerRect.height - (draggingBound.top + draggingBound.height) :\n                Math.min(containerRect.height - draggingBound.top - draggingBound.height, delta.h);\n            dy = containerRect.height >= (draggingBound.top + draggingBound.height + delta.h) ?\n                0 :\n                Math.max(containerRect.height - (draggingBound.top + draggingBound.height + delta.h), -draggingBound.top);\n            dh = maxH + (-dy);\n        }\n        if (!autoProps.top && draggingBound.top === 0) {\n            snapToTop = true;\n        }\n        return { dy: dy, dh: dh, snapToTop: snapToTop, snapToBottom: snapToBottom };\n    }\n    // resize by moving the top edge\n    if (!autoProps.top && draggingBound.top + dy <= snapEdgeTolerance) {\n        snapToTop = true;\n        dy = -draggingBound.top;\n        dh = draggingBound.top + delta.y >= 0 ?\n            -dy : Math.min(-delta.y, containerRect.height - draggingBound.height);\n    }\n    if (!autoProps.bottom && Math.round(draggingBound.top + draggingBound.height) === Math.round(containerRect.height)) {\n        snapToBottom = true;\n    }\n    return { dy: dy, dh: dh, snapToTop: snapToTop, snapToBottom: snapToBottom };\n}\nfunction snapHBoundary(containerRect, draggingBound, delta, autoProps) {\n    var snapToLeft = false;\n    var snapToRight = false;\n    var dx = delta.x;\n    var dw = delta.w;\n    if (delta.w === 0) { // move item or resize vertically\n        if (delta.h === 0) { // move\n            if (!autoProps.left && Math.abs(draggingBound.left + delta.x) <= snapEdgeTolerance) {\n                snapToLeft = true;\n                dx -= (draggingBound.left + delta.x);\n            }\n            else if (!autoProps.right && Math.abs(draggingBound.left + draggingBound.width - containerRect.width) <= snapEdgeTolerance) {\n                snapToRight = true;\n                dx += (containerRect.width - draggingBound.left - draggingBound.width);\n            }\n        }\n        else { // resize vertically\n            snapToLeft = !autoProps.left && draggingBound.left === 0;\n            snapToRight = !autoProps.right && Math.round(draggingBound.left + draggingBound.width) === Math.round(containerRect.width);\n        }\n        return { dx: dx, dw: dw, snapToLeft: snapToLeft, snapToRight: snapToRight };\n    }\n    if (delta.x === 0) { // resize by moving the right edge\n        if (!autoProps.right && containerRect.width - (draggingBound.left + draggingBound.width + delta.w) <= snapEdgeTolerance) {\n            snapToRight = true;\n            var maxW = containerRect.width >= (draggingBound.left + draggingBound.width + delta.w) ?\n                containerRect.width - (draggingBound.left + draggingBound.width) :\n                Math.min(containerRect.width - draggingBound.left - draggingBound.width, delta.w);\n            dx = containerRect.width >= (draggingBound.left + draggingBound.width + delta.w) ?\n                0 :\n                Math.max(containerRect.width - (draggingBound.left + draggingBound.width + delta.w), -draggingBound.left);\n            dw = maxW + (-dx);\n        }\n        if (!autoProps.left && draggingBound.left === 0) {\n            snapToLeft = true;\n        }\n        return { dx: dx, dw: dw, snapToLeft: snapToLeft, snapToRight: snapToRight };\n    }\n    // resize by moving the left edge\n    if (!autoProps.left && draggingBound.left + dx <= snapEdgeTolerance) {\n        snapToLeft = true;\n        dx = -draggingBound.left;\n        dw = draggingBound.left + delta.x >= 0 ?\n            -dx : Math.min(-delta.x, containerRect.width - draggingBound.width);\n    }\n    if (!autoProps.right && Math.round(draggingBound.left + draggingBound.width) === Math.round(containerRect.width)) {\n        snapToRight = true;\n    }\n    return { dx: dx, dw: dw, snapToLeft: snapToLeft, snapToRight: snapToRight };\n}\nfunction edgeSnapGuide(draggingBound, delta, siblingBounds, direction, draw, theme) {\n    var posProp = direction === 'v' ? 'top' : 'left';\n    var sizeProp = direction === 'v' ? 'height' : 'width';\n    var deltaPos = direction === 'v' ? delta.y : delta.x;\n    var deltaSize = direction === 'v' ? delta.h : delta.w;\n    var overridePos = false;\n    var overrideSize = false;\n    var snapRect = null;\n    var snapEdge = null;\n    var fixedSide = direction === 'v' ? findVerticalFixedSide(delta) : findHorizontalFixedSide(delta);\n    var ttX = tolerance;\n    // new position for the dragging item\n    var b = {\n        left: draggingBound.left + delta.x,\n        top: draggingBound.top + delta.y,\n        width: draggingBound.width + delta.w,\n        height: draggingBound.height + delta.h\n    };\n    b.right = b.left + b.width;\n    b.bottom = b.top + b.height;\n    var previousEdge = direction === 'v' ? b.top : b.left;\n    var nextEdge = direction === 'v' ? b.bottom : b.right;\n    var center = direction === 'v' ? getCenterY(b) : getCenterX(b);\n    var originCenter = direction === 'v' ? getCenterY(draggingBound) : getCenterX(draggingBound);\n    var originalPreviousEdge = direction === 'v' ? draggingBound.top : draggingBound.left;\n    var snap = function (edge, rect) {\n        var override = false;\n        if (Math.abs(edge - center) < ttX) {\n            // only drag can snap to center\n            if ((direction === 'h' && fixedSide !== FixedSides.Left && fixedSide !== FixedSides.Right) ||\n                (direction === 'v' && fixedSide !== FixedSides.Top && fixedSide !== FixedSides.Bottom)) {\n                deltaPos = edge - originCenter;\n                overridePos = true;\n                ttX = Math.abs(edge - center);\n                override = true;\n            }\n        }\n        else if (Math.abs(edge - previousEdge) < ttX) {\n            if (deltaSize === 0) { // drag and move\n                deltaPos = edge - originalPreviousEdge;\n                overridePos = true;\n                ttX = Math.abs(edge - previousEdge);\n                override = true;\n            }\n            else if (fixedSide !== FixedSides.Top && fixedSide !== FixedSides.Left) { // resize at top or left\n                deltaSize = draggingBound[posProp] - edge;\n                overrideSize = true;\n                ttX = Math.abs(edge - previousEdge);\n                override = true;\n            }\n        }\n        else if (Math.abs(edge - nextEdge) < ttX) {\n            if (deltaSize === 0) { // drag and move\n                deltaPos = edge - draggingBound[posProp] - draggingBound[sizeProp];\n                overridePos = true;\n                ttX = Math.abs(edge - nextEdge);\n                override = true;\n            }\n            else if (fixedSide !== FixedSides.Bottom && fixedSide !== FixedSides.Right) { // resize at top or left\n                deltaSize = edge - draggingBound[posProp] - draggingBound[sizeProp];\n                overrideSize = true;\n                ttX = Math.abs(edge - nextEdge);\n                override = true;\n            }\n        }\n        if (override) {\n            snapRect = rect;\n            snapEdge = edge;\n        }\n    };\n    siblingBounds.forEach(function (boundItem) {\n        if (direction === 'h') {\n            snap(getCenterX(boundItem), boundItem);\n        }\n        else {\n            snap(getCenterY(boundItem), boundItem);\n        }\n        snap(boundItem[posProp], boundItem);\n        snap(boundItem[posProp] + boundItem[sizeProp], boundItem);\n    });\n    if (draw && (overridePos || overrideSize)) {\n        if (direction === 'v') {\n            var minX = null;\n            var maxX = null;\n            if (snapRect !== null) {\n                minX = Math.min(b.left, snapRect.left);\n                maxX = Math.max(b.left + b.width, snapRect.left + snapRect.width);\n            }\n            if (minX !== null && maxX !== null) {\n                var points = [[minX, snapEdge], [maxX, snapEdge]];\n                draw.polyline(points).fill('none').stroke({ width: 1, color: theme.colors.palette.danger[500] });\n            }\n        }\n        else {\n            var minY = null;\n            var maxY = null;\n            if (snapRect !== null) {\n                minY = Math.min(b.top, snapRect.top);\n                maxY = Math.max(b.top + b.height, snapRect.top + snapRect.height);\n            }\n            if (minY !== null && maxY !== null) {\n                var points = [[snapEdge, minY], [snapEdge, maxY]];\n                draw.polyline(points).fill('none').stroke({ width: 1, color: theme.colors.palette.danger[500] });\n            }\n        }\n    }\n    return {\n        deltaPos: deltaPos,\n        deltaSize: deltaSize,\n        overridePos: overridePos,\n        overrideSize: overrideSize\n    };\n}\nfunction distanceSnapGuide(draggingBound, delta, siblingBounds, direction, draw, theme) {\n    var posProp = direction === 'v' ? 'top' : 'left';\n    var sizeProp = direction === 'v' ? 'height' : 'width';\n    var deltaPos = direction === 'v' ? delta.y : delta.x;\n    var deltaSize = direction === 'v' ? delta.h : delta.w;\n    var overridePos = false;\n    var overrideSize = false;\n    var fixedSide = direction === 'v' ? findVerticalFixedSide(delta) : findHorizontalFixedSide(delta);\n    // new position for the dragging item\n    var b = {\n        left: draggingBound.left + delta.x,\n        top: draggingBound.top + delta.y,\n        width: draggingBound.width + delta.w,\n        height: draggingBound.height + delta.h\n    };\n    b.right = b.left + b.width;\n    b.bottom = b.top + b.height;\n    var snapResult = calSnapDistance(draggingBound, delta, siblingBounds, direction, fixedSide);\n    var snapDistance = Math.max(snapResult.previous, snapResult.next);\n    if (snapDistance > 0) {\n        var centerX = void 0;\n        var allRects = [].concat(snapResult.involvedRects, b);\n        allRects.sort(function (a, b) { return a[posProp] - b[posProp]; });\n        var bIndex = allRects.indexOf(b);\n        if (snapResult.previous > 0 && snapResult.next > 0) { // snap to both sizes\n            var previousItem = allRects[bIndex - 1];\n            var nextItem = allRects[bIndex + 1];\n            if (deltaSize === 0) { // drag and move\n                deltaPos = snapDistance - (draggingBound[posProp] - previousItem[posProp] - previousItem[sizeProp]);\n                overridePos = true;\n            }\n            else if (fixedSide === FixedSides.Top || fixedSide === FixedSides.Left) { // resize at bottom or right\n                deltaSize = nextItem[posProp] - draggingBound[posProp] - draggingBound[sizeProp] - snapDistance;\n                overrideSize = true;\n            }\n            else if (fixedSide === FixedSides.Bottom || fixedSide === FixedSides.Right) { // resize at left or top\n                deltaSize = draggingBound[posProp] - previousItem[posProp] - previousItem[sizeProp] - snapDistance;\n                overrideSize = true;\n            }\n            if (draw && (overridePos || overrideSize)) {\n                if (direction === 'v') {\n                    centerX = getIntersectionCenterX(previousItem, b);\n                    drawVerticalDistance(centerX, previousItem[posProp] + previousItem[sizeProp], snapDistance, draw, theme);\n                    centerX = getIntersectionCenterX(nextItem, b);\n                    drawVerticalDistance(centerX, nextItem[posProp] - snapDistance, snapDistance, draw, theme);\n                }\n                else {\n                    centerX = getIntersectionCenterY(previousItem, b);\n                    drawHorizontalDistance(previousItem[posProp] + previousItem[sizeProp], centerX, snapDistance, draw, theme);\n                    centerX = getIntersectionCenterY(nextItem, b);\n                    drawHorizontalDistance(nextItem[posProp] - snapDistance, centerX, snapDistance, draw, theme);\n                }\n            }\n        }\n        else if (snapResult.previous > 0 && bIndex > 0) { // snap to previous item\n            var previousItem = allRects[bIndex - 1];\n            if (deltaSize === 0) { // drag and move\n                deltaPos = snapDistance - (draggingBound[posProp] - previousItem[posProp] - previousItem[sizeProp]);\n                overridePos = true;\n            }\n            else if (fixedSide !== FixedSides.Top && fixedSide !== FixedSides.Left) {\n                deltaSize = draggingBound[posProp] - previousItem[posProp] - previousItem[sizeProp] - snapDistance;\n                overrideSize = true;\n            }\n            if (draw && (overridePos || overrideSize)) {\n                if (direction === 'v') {\n                    centerX = getIntersectionCenterX(b, previousItem);\n                    drawVerticalDistance(centerX, previousItem[posProp] + previousItem[sizeProp], snapDistance, draw, theme);\n                }\n                else {\n                    centerX = getIntersectionCenterY(b, previousItem);\n                    drawHorizontalDistance(previousItem[posProp] + previousItem[sizeProp], centerX, snapDistance, draw, theme);\n                }\n            }\n        }\n        else if (snapResult.next > 0 && bIndex < allRects.length - 1) { // snap to next item\n            var nextItem = allRects[bIndex + 1];\n            if (deltaSize === 0) { // drag and move\n                deltaPos = nextItem[posProp] - draggingBound[posProp] - draggingBound[sizeProp] - snapDistance;\n                overridePos = true;\n            }\n            else if (fixedSide !== FixedSides.Bottom && fixedSide !== FixedSides.Right) {\n                deltaSize = nextItem[posProp] - draggingBound[posProp] - draggingBound[sizeProp] - snapDistance;\n                overrideSize = true;\n            }\n            if (draw && (overridePos || overrideSize)) {\n                if (direction === 'v') {\n                    centerX = getIntersectionCenterX(b, nextItem);\n                    drawVerticalDistance(centerX, nextItem[posProp] - snapDistance, snapDistance, draw, theme);\n                }\n                else {\n                    centerX = getIntersectionCenterY(b, nextItem);\n                    drawHorizontalDistance(nextItem[posProp] - snapDistance, centerX, snapDistance, draw, theme);\n                }\n            }\n        }\n        for (var i = 0; i < allRects.length - 1; i++) {\n            var current = allRects[i];\n            var next = allRects[i + 1];\n            var hasDraggingItem = current === b || next === b;\n            var space = next[posProp] - current[posProp] - current[sizeProp];\n            if (!hasDraggingItem && space === snapDistance) {\n                if (draw) {\n                    if (direction === 'v') {\n                        centerX = getIntersectionCenterX(current, next);\n                        drawVerticalDistance(centerX, current[posProp] + current[sizeProp], snapDistance, draw, theme);\n                    }\n                    else {\n                        centerX = getIntersectionCenterY(current, next);\n                        drawHorizontalDistance(current[posProp] + current[sizeProp], centerX, snapDistance, draw, theme);\n                    }\n                }\n            }\n        }\n    }\n    return {\n        deltaPos: deltaPos,\n        deltaSize: deltaSize,\n        overridePos: overridePos,\n        overrideSize: overrideSize\n    };\n}\nfunction calSnapDistance(draggingBound, delta, siblingBounds, direction, fixedSide) {\n    // new position for the dragging item\n    var b = {\n        left: draggingBound.left + delta.x,\n        top: draggingBound.top + delta.y,\n        width: draggingBound.width + delta.w,\n        height: draggingBound.height + delta.h\n    };\n    var notOverlapped = [];\n    var sizeProp, posProp;\n    if (direction === 'h') {\n        sizeProp = 'width';\n        posProp = 'left';\n    }\n    else {\n        sizeProp = 'height';\n        posProp = 'top';\n    }\n    // separate the siblings into two group\n    siblingBounds.forEach(function (sItem) {\n        if (direction === 'h') {\n            if ((b.top >= sItem.top && b.top <= sItem.top + sItem.height || sItem.top >= b.top && sItem.top <= b.top + b.height) &&\n                (b.left > sItem.left + sItem.width + tolerance || b.left + b.width + tolerance < sItem.left)) {\n                notOverlapped.push(sItem);\n            }\n        }\n        else {\n            if ((b.left >= sItem.left && b.left <= sItem.left + sItem.width || sItem.left >= b.left && sItem.left <= b.left + b.width) &&\n                (b.top > sItem.top + sItem.height + tolerance || b.top + b.height + tolerance < sItem.top)) {\n                notOverlapped.push(sItem);\n            }\n        }\n    });\n    if (notOverlapped.length <= 1) {\n        return {\n            previous: -1,\n            next: -1,\n            involvedRects: notOverlapped\n        };\n    }\n    var originalNotOverlapped = notOverlapped;\n    notOverlapped = [].concat(notOverlapped, b);\n    notOverlapped.sort(function (a, b) { return a[posProp] - b[posProp]; });\n    var previousDist = -1;\n    var nextDist = -1;\n    var isFirst = b === notOverlapped[0];\n    var isLast = b === notOverlapped[notOverlapped.length - 1];\n    if (isFirst) {\n        var nextItem = notOverlapped[1];\n        nextDist = nextItem[posProp] - b[posProp] - b[sizeProp];\n    }\n    else if (isLast) {\n        var previousItem = notOverlapped[notOverlapped.length - 2];\n        previousDist = b[posProp] - previousItem[posProp] - previousItem[sizeProp];\n    }\n    else {\n        var idx = notOverlapped.indexOf(b);\n        var previousItem = notOverlapped[idx - 1];\n        var nextItem = notOverlapped[idx + 1];\n        previousDist = b[posProp] - previousItem[posProp] - previousItem[sizeProp];\n        nextDist = nextItem[posProp] - b[posProp] - b[sizeProp];\n        if (Math.abs(previousDist - nextDist) <= tolerance) {\n            if (fixedSide === FixedSides.None) {\n                var meanDist = (previousDist + nextDist) / 2;\n                return {\n                    previous: meanDist,\n                    next: meanDist,\n                    involvedRects: originalNotOverlapped\n                };\n            }\n            else if (fixedSide === FixedSides.Left || fixedSide === FixedSides.Top) {\n                return {\n                    previous: previousDist,\n                    next: previousDist,\n                    involvedRects: originalNotOverlapped\n                };\n            }\n            else if (fixedSide === FixedSides.Right || fixedSide === FixedSides.Bottom) {\n                return {\n                    previous: nextDist,\n                    next: nextDist,\n                    involvedRects: originalNotOverlapped\n                };\n            }\n        }\n    }\n    var closestPrev = notOverlapped[notOverlapped.length - 1][posProp] - notOverlapped[0][posProp];\n    var closestNext = closestPrev;\n    var snapToPrevious = false;\n    var snapToNext = false;\n    for (var i = 0; i < notOverlapped.length - 1; i++) {\n        var current = notOverlapped[i];\n        var next = notOverlapped[i + 1];\n        if (next !== b && current !== b) {\n            var space = next[posProp] - current[posProp] - current[sizeProp];\n            if (previousDist > 0 && Math.abs(space - previousDist) <= tolerance) {\n                closestPrev = Math.abs(closestPrev - previousDist) > Math.abs(space - previousDist) ? space : closestPrev;\n                snapToPrevious = true;\n            }\n            if (nextDist > 0 && Math.abs(space - nextDist) <= tolerance) {\n                closestNext = Math.abs(closestNext - nextDist) > Math.abs(space - nextDist) ? space : closestNext;\n                snapToNext = true;\n            }\n        }\n    }\n    if (snapToPrevious && snapToNext) {\n        if (fixedSide === FixedSides.None) {\n            if (closestNext < closestPrev) {\n                return {\n                    previous: -1,\n                    next: closestNext,\n                    involvedRects: originalNotOverlapped\n                };\n            }\n            else {\n                return {\n                    previous: closestPrev,\n                    next: -1,\n                    involvedRects: originalNotOverlapped\n                };\n            }\n        }\n        else if (fixedSide === FixedSides.Left || fixedSide === FixedSides.Top) {\n            return {\n                previous: -1,\n                next: closestNext,\n                involvedRects: originalNotOverlapped\n            };\n        }\n        else {\n            return {\n                previous: closestPrev,\n                next: -1,\n                involvedRects: originalNotOverlapped\n            };\n        }\n    }\n    else if (snapToPrevious && !snapToNext && fixedSide !== FixedSides.Left && fixedSide !== FixedSides.Top) {\n        return {\n            previous: closestPrev,\n            next: -1,\n            involvedRects: originalNotOverlapped\n        };\n    }\n    else if (!snapToPrevious && snapToNext && fixedSide !== FixedSides.Right && fixedSide !== FixedSides.Bottom) {\n        return {\n            previous: -1,\n            next: closestNext,\n            involvedRects: originalNotOverlapped\n        };\n    }\n    else {\n        return {\n            previous: -1,\n            next: -1,\n            involvedRects: originalNotOverlapped\n        };\n    }\n}\nfunction drawVerticalDistance(left, top, length, draw, theme) {\n    draw.polyline([[left - tolerance, top], [left + tolerance, top]])\n        .fill('none')\n        .stroke({ width: 1, color: theme.colors.palette.danger[500] });\n    draw.polyline([[left, top], [left, top + length]])\n        .fill('none')\n        .stroke({ width: 1, color: theme.colors.palette.danger[500] });\n    draw.polyline([[left - tolerance, top + length], [left + tolerance, top + length]])\n        .fill('none')\n        .stroke({ width: 1, color: theme.colors.palette.danger[500] });\n}\nfunction drawHorizontalDistance(left, top, length, draw, theme) {\n    draw.polyline([[left, top - tolerance], [left, top + tolerance]])\n        .fill('none')\n        .stroke({ width: 1, color: theme.colors.palette.danger[500] });\n    draw.polyline([[left, top], [left + length, top]])\n        .fill('none')\n        .stroke({ width: 1, color: theme.colors.palette.danger[500] });\n    draw.polyline([[left + length, top - tolerance], [left + length, top + tolerance]])\n        .fill('none')\n        .stroke({ width: 1, color: theme.colors.palette.danger[500] });\n}\n/**\n * Project the rect1 and rect2 to X axis, then they become two lines.\n * If line a is contained in another, return the center of the line a.\n * Otherwise, return the center of the intersection part.\n * @param rect1\n * @param rect2\n */\nfunction getIntersectionCenterX(rect1, rect2) {\n    if (rect1.left >= rect2.left && rect1.left + rect1.width <= rect2.left + rect2.width) {\n        return rect1.left + rect1.width / 2;\n    }\n    else if (rect2.left >= rect1.left && rect2.left + rect2.width <= rect1.left + rect1.width) {\n        return rect2.left + rect2.width / 2;\n    }\n    else if (rect1.left <= rect2.left) {\n        return rect2.left + (rect1.left + rect1.width - rect2.left) / 2;\n    }\n    else {\n        return rect1.left + (rect2.left + rect2.width - rect1.left) / 2;\n    }\n}\n/**\n * Similar as the getIntersectionCenterX\n * @param rect1\n * @param rect2\n */\nfunction getIntersectionCenterY(rect1, rect2) {\n    if (rect1.top >= rect2.top && rect1.top + rect1.height <= rect2.top + rect2.height) {\n        return rect1.top + rect1.height / 2;\n    }\n    else if (rect2.top >= rect1.top && rect2.top + rect2.height <= rect1.top + rect1.height) {\n        return rect2.top + rect2.height / 2;\n    }\n    else if (rect1.top <= rect2.top) {\n        return rect2.top + (rect1.top + rect1.height - rect2.top) / 2;\n    }\n    else {\n        return rect1.top + (rect2.top + rect2.height - rect1.top) / 2;\n    }\n}\nfunction findVerticalFixedSide(delta) {\n    if (delta.h === 0) { // drag and move\n        return FixedSides.None;\n    }\n    else if (delta.y === 0) { // resize at the bottom side\n        return FixedSides.Top;\n    }\n    else { // resize at the top side\n        return FixedSides.Bottom;\n    }\n}\nfunction findHorizontalFixedSide(delta) {\n    if (delta.w === 0) { // drag and move\n        return FixedSides.None;\n    }\n    else if (delta.x === 0) { // resize at the right side\n        return FixedSides.Left;\n    }\n    else { // resize at the left side\n        return FixedSides.Right;\n    }\n}\nfunction keepAspectRatio(draggingBound, delta) {\n    var ratio = draggingBound.height / draggingBound.width;\n    var w = delta.w;\n    var h = delta.h;\n    var x = delta.x;\n    var y = delta.y;\n    if (Math.abs(w) * ratio > Math.abs(h)) {\n        h = Math.round(w * ratio);\n    }\n    else {\n        w = Math.round(h / ratio);\n    }\n    if (x !== 0) {\n        x = -w;\n    }\n    if (y !== 0) {\n        y = -h;\n    }\n    return { x: x, y: y, w: w, h: h };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWxheW91dHMvbGliL2ZpeGVkLWxheW91dC9idWlsZGVyL21vdmVfZ3VpZGUudHMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qaW11LWxheW91dHMvbGliL2ZpeGVkLWxheW91dC9idWlsZGVyL21vdmVfZ3VpZGUudHM/ODk4OSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBTVkcgZnJvbSAnc3ZnLmpzJztcbmltcG9ydCB7IElNVGhlbWVWYXJpYWJsZXMgfSBmcm9tICdqaW11LWNvcmUnO1xuXG5jb25zdCB0b2xlcmFuY2UgPSA1OyAvLyB0b2xlcmFuY2UgZm9yIHNuYXBcbmNvbnN0IHNuYXBFZGdlVG9sZXJhbmNlID0gMTA7XG5cbmV4cG9ydCBjb25zdCBlbnVtIEZpeGVkU2lkZXMge1xuICBMZWZ0LFxuICBUb3AsXG4gIFJpZ2h0LFxuICBCb3R0b20sXG4gIE5vbmUsXG59XG5cbmZ1bmN0aW9uIGdldENlbnRlclgoYm91bmQ6IENsaWVudFJlY3QpIHtcbiAgcmV0dXJuIGJvdW5kLmxlZnQgKyBib3VuZC53aWR0aCAvIDI7XG59XG5cbmZ1bmN0aW9uIGdldENlbnRlclkoYm91bmQ6IENsaWVudFJlY3QpIHtcbiAgcmV0dXJuIGJvdW5kLnRvcCArIGJvdW5kLmhlaWdodCAvIDI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUm5kRGVsdGEge1xuICB4OiBudW1iZXI7XG4gIHk6IG51bWJlcjtcbiAgdzogbnVtYmVyO1xuICBoOiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU25hcFJlc3VsdCB7XG4gIHRvcDogYm9vbGVhbjtcbiAgYm90dG9tOiBib29sZWFuO1xuICBsZWZ0OiBib29sZWFuO1xuICByaWdodDogYm9vbGVhbjtcbn1cblxuLyoqXG4gKiBXaGVuIHJlc2l6aW5nIGluIFJUTCwgdGhlIHJlc2l6ZSBlZGdlIHNob3VsZCBiZSBmbGlwcGVkLiBUaGF0IG1lYW5zIGlmIHlvdSByZXNpemUgYnkgZHJhZ2dpbmcgdGhlIHJpZ2h0IGVkZ2UsXG4gKiB0aGUgaW50ZXJhY3RqcyB3aWxsIG1vdmUgdGhlIGxlZnQgZWRnZS5cbiAqIEBwYXJhbSBkeFxuICogQHBhcmFtIGR3XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmbGlwRGVsdGEoZHg6IG51bWJlciwgZHc6IG51bWJlcikge1xuICBpZiAoZHggPT09IDApIHsgLy8gbW92ZSBsZWZ0IGVkZ2VcbiAgICByZXR1cm4geyB4OiBkdywgdzogLWR3IH07XG4gIH1cbiAgcmV0dXJuIHsgeDogMCwgdzogLWR3IH07XG59XG5cbmZ1bmN0aW9uIGtlZXBNaW5pbWFsU2l6ZShkcmFnZ2luZ0JvdW5kOiBDbGllbnRSZWN0LCBkZWx0YTogUm5kRGVsdGEpOiBSbmREZWx0YSB7XG4gIGlmIChkZWx0YS53ICE9PSAwIHx8IGRlbHRhLmggIT09IDApIHtcbiAgICBjb25zdCBtaW5TaXplID0gMTY7XG4gICAgY29uc3QgcmVzdWx0ID0ge1xuICAgICAgeDogZGVsdGEueCxcbiAgICAgIHk6IGRlbHRhLnksXG4gICAgICB3OiBkZWx0YS53LFxuICAgICAgaDogZGVsdGEuaCxcbiAgICB9O1xuICAgIGlmIChkcmFnZ2luZ0JvdW5kLndpZHRoICsgZGVsdGEudyA8IG1pblNpemUpIHtcbiAgICAgIHJlc3VsdC53ID0gbWluU2l6ZSAtIGRyYWdnaW5nQm91bmQud2lkdGg7XG4gICAgICBpZiAoZGVsdGEueCAhPT0gMCkge1xuICAgICAgICByZXN1bHQueCA9IC1yZXN1bHQudztcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGRyYWdnaW5nQm91bmQuaGVpZ2h0ICsgZGVsdGEuaCA8IG1pblNpemUpIHtcbiAgICAgIHJlc3VsdC5oID0gbWluU2l6ZSAtIGRyYWdnaW5nQm91bmQuaGVpZ2h0O1xuICAgICAgaWYgKGRlbHRhLnkgIT09IDApIHtcbiAgICAgICAgcmVzdWx0LnkgPSAtcmVzdWx0Lmg7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgcmV0dXJuIGRlbHRhO1xufVxuXG4vKipcbiAqIE1vdmVzIGEgd2lkZ2V0IGJ5IHRoZSBnaXZlbiBkZWx0YSBhbmQgcmV0dXJuIHRoZSBzbmFwcGVkIHJlc3VsdC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1vdmVHdWlkZShcbiAgY29udGFpbmVyUmVjdDogQ2xpZW50UmVjdCxcbiAgZHJhZ2dpbmdCb3VuZDogQ2xpZW50UmVjdCxcbiAgZGVsdGE6IFJuZERlbHRhLFxuICBzaGlmdEtleTogYm9vbGVhbixcbiAgc2libGluZ0JvdW5kczogQ2xpZW50UmVjdFtdLFxuICBhdXRvUHJvcHM6IHtsZWZ0OiBib29sZWFuLCByaWdodDogYm9vbGVhbiwgdG9wOiBib29sZWFuLCBib3R0b206IGJvb2xlYW59LFxuICB4RHJhdz86IFNWRy5Eb2MsXG4gIHlEcmF3PzogU1ZHLkRvYyxcbiAgdGhlbWU/OiBJTVRoZW1lVmFyaWFibGVzLFxuKTogUm5kRGVsdGEgJiBTbmFwUmVzdWx0IHtcbiAgbGV0IHJlc3VsdCA9IGtlZXBNaW5pbWFsU2l6ZShkcmFnZ2luZ0JvdW5kLCBkZWx0YSk7XG4gIGlmIChzaGlmdEtleSkge1xuICAgIC8vIGtlZXAgdGhlIHByb3BvcnRpb24gb2Ygd2lkdGggYW5kIGhlaWdodFxuICAgIHJlc3VsdCA9IGtlZXBBc3BlY3RSYXRpbyhkcmFnZ2luZ0JvdW5kLCByZXN1bHQpO1xuICB9XG5cbiAgbGV0IGR4ID0gcmVzdWx0Lng7XG4gIGxldCBkeSA9IHJlc3VsdC55O1xuICBsZXQgZHcgPSByZXN1bHQudztcbiAgbGV0IGRoID0gcmVzdWx0Lmg7XG4gIGxldCBvdmVycmlkZVhQb3MgPSBmYWxzZTtcbiAgbGV0IG92ZXJyaWRlV2lkdGggPSBmYWxzZTtcbiAgbGV0IG92ZXJyaWRlWVBvcyA9IGZhbHNlO1xuICBsZXQgb3ZlcnJpZGVIZWlnaHQgPSBmYWxzZTtcbiAgbGV0IHNuYXBUb1RvcCA9IGZhbHNlO1xuICBsZXQgc25hcFRvQm90dG9tID0gZmFsc2U7XG4gIGxldCBzbmFwVG9MZWZ0ID0gZmFsc2U7XG4gIGxldCBzbmFwVG9SaWdodCA9IGZhbHNlO1xuXG4gIGNvbnN0IHZFZGdlU25hcFJlc3VsdCA9IHNuYXBWQm91bmRhcnkoY29udGFpbmVyUmVjdCwgZHJhZ2dpbmdCb3VuZCwgcmVzdWx0LCBhdXRvUHJvcHMpO1xuICBzbmFwVG9Ub3AgPSB2RWRnZVNuYXBSZXN1bHQuc25hcFRvVG9wO1xuICBzbmFwVG9Cb3R0b20gPSB2RWRnZVNuYXBSZXN1bHQuc25hcFRvQm90dG9tO1xuICBkeSA9IHZFZGdlU25hcFJlc3VsdC5keTtcbiAgZGggPSB2RWRnZVNuYXBSZXN1bHQuZGg7XG5cbiAgaWYgKCFzbmFwVG9Ub3AgJiYgIXNuYXBUb0JvdHRvbSAmJiBzaWJsaW5nQm91bmRzICYmIHNpYmxpbmdCb3VuZHMubGVuZ3RoID4gMCkge1xuICAgIGxldCB2U25hcEd1aWRlID0gZGlzdGFuY2VTbmFwR3VpZGUoZHJhZ2dpbmdCb3VuZCwgcmVzdWx0LCBzaWJsaW5nQm91bmRzLCAndicsIHlEcmF3LCB0aGVtZSk7XG4gICAgaWYgKCF2U25hcEd1aWRlLm92ZXJyaWRlUG9zICYmICF2U25hcEd1aWRlLm92ZXJyaWRlU2l6ZSkge1xuICAgICAgdlNuYXBHdWlkZSA9IGVkZ2VTbmFwR3VpZGUoZHJhZ2dpbmdCb3VuZCwgcmVzdWx0LCBzaWJsaW5nQm91bmRzLCAndicsIHhEcmF3LCB0aGVtZSk7XG4gICAgfVxuICAgIG92ZXJyaWRlWVBvcyA9IHZTbmFwR3VpZGUub3ZlcnJpZGVQb3M7XG4gICAgb3ZlcnJpZGVIZWlnaHQgPSB2U25hcEd1aWRlLm92ZXJyaWRlU2l6ZTtcbiAgICBpZiAob3ZlcnJpZGVIZWlnaHQpIHtcbiAgICAgIGRoID0gdlNuYXBHdWlkZS5kZWx0YVNpemU7XG4gICAgICBpZiAocmVzdWx0LnkgPT09IDApIHtcbiAgICAgICAgZHkgPSAwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZHkgPSAtZGg7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChvdmVycmlkZVlQb3MpIHtcbiAgICAgIGR5ID0gdlNuYXBHdWlkZS5kZWx0YVBvcztcbiAgICAgIGlmIChyZXN1bHQuaCA9PT0gMCkge1xuICAgICAgICBkaCA9IDA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkaCA9IC1keTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBjb25zdCBoRWRnZVNuYXBSZXN1bHQgPSBzbmFwSEJvdW5kYXJ5KGNvbnRhaW5lclJlY3QsIGRyYWdnaW5nQm91bmQsIHJlc3VsdCwgYXV0b1Byb3BzKTtcbiAgc25hcFRvTGVmdCA9IGhFZGdlU25hcFJlc3VsdC5zbmFwVG9MZWZ0O1xuICBzbmFwVG9SaWdodCA9IGhFZGdlU25hcFJlc3VsdC5zbmFwVG9SaWdodDtcbiAgZHggPSBoRWRnZVNuYXBSZXN1bHQuZHg7XG4gIGR3ID0gaEVkZ2VTbmFwUmVzdWx0LmR3O1xuXG4gIGlmICghc25hcFRvTGVmdCAmJiAhc25hcFRvUmlnaHQgJiYgc2libGluZ0JvdW5kcyAmJiBzaWJsaW5nQm91bmRzLmxlbmd0aCA+IDApIHtcbiAgICBsZXQgaFNuYXBHdWlkZSA9IGRpc3RhbmNlU25hcEd1aWRlKGRyYWdnaW5nQm91bmQsIHJlc3VsdCwgc2libGluZ0JvdW5kcywgJ2gnLCB4RHJhdywgdGhlbWUpO1xuICAgIGlmICghaFNuYXBHdWlkZS5vdmVycmlkZVBvcyAmJiAhaFNuYXBHdWlkZS5vdmVycmlkZVNpemUpIHsgLy8gJ2gnXG4gICAgICBoU25hcEd1aWRlID0gZWRnZVNuYXBHdWlkZShkcmFnZ2luZ0JvdW5kLCByZXN1bHQsIHNpYmxpbmdCb3VuZHMsICdoJywgeERyYXcsIHRoZW1lKTtcbiAgICB9XG4gICAgb3ZlcnJpZGVYUG9zID0gaFNuYXBHdWlkZS5vdmVycmlkZVBvcztcbiAgICBvdmVycmlkZVdpZHRoID0gaFNuYXBHdWlkZS5vdmVycmlkZVNpemU7XG4gICAgaWYgKG92ZXJyaWRlV2lkdGgpIHtcbiAgICAgIGR3ID0gaFNuYXBHdWlkZS5kZWx0YVNpemU7XG4gICAgICBpZiAocmVzdWx0LnggPT09IDApIHtcbiAgICAgICAgZHggPSAwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZHggPSAtZHc7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChvdmVycmlkZVhQb3MpIHtcbiAgICAgIGR4ID0gaFNuYXBHdWlkZS5kZWx0YVBvcztcbiAgICAgIGlmIChyZXN1bHQudyA9PT0gMCkge1xuICAgICAgICBkdyA9IDA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkdyA9IC1keDtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHsgeDogZHgsIHk6IGR5LCB3OiBkdywgaDogZGgsIHRvcDogc25hcFRvVG9wLCBib3R0b206IHNuYXBUb0JvdHRvbSwgbGVmdDogc25hcFRvTGVmdCwgcmlnaHQ6IHNuYXBUb1JpZ2h0IH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzbmFwVkJvdW5kYXJ5KFxuICBjb250YWluZXJSZWN0OiBDbGllbnRSZWN0LFxuICBkcmFnZ2luZ0JvdW5kOiBDbGllbnRSZWN0LFxuICBkZWx0YTogUm5kRGVsdGEsXG4gIGF1dG9Qcm9wczoge2xlZnQ6IGJvb2xlYW4sIHJpZ2h0OiBib29sZWFuLCB0b3A6IGJvb2xlYW4sIGJvdHRvbTogYm9vbGVhbn0sXG4pOiB7ZHk6IG51bWJlciwgZGg6IG51bWJlciwgc25hcFRvVG9wOiBib29sZWFuLCBzbmFwVG9Cb3R0b206IGJvb2xlYW59IHtcbiAgbGV0IHNuYXBUb1RvcCA9IGZhbHNlO1xuICBsZXQgc25hcFRvQm90dG9tID0gZmFsc2U7XG4gIGxldCBkeSA9IGRlbHRhLnk7XG4gIGxldCBkaCA9IGRlbHRhLmg7XG5cbiAgaWYgKGRlbHRhLmggPT09IDApIHsgLy8gbW92ZSBpdGVtIG9yIHJlc2l6ZSBob3Jpem9udGFsbHlcbiAgICBpZiAoZGVsdGEudyA9PT0gMCkgeyAvLyBtb3ZlXG4gICAgICBpZiAoIWF1dG9Qcm9wcy50b3AgJiYgTWF0aC5hYnMoZHJhZ2dpbmdCb3VuZC50b3AgKyBkZWx0YS55KSA8PSBzbmFwRWRnZVRvbGVyYW5jZSkge1xuICAgICAgICBzbmFwVG9Ub3AgPSB0cnVlO1xuICAgICAgICBkeSAtPSAoZHJhZ2dpbmdCb3VuZC50b3AgKyBkZWx0YS55KTtcbiAgICAgIH0gZWxzZSBpZiAoIWF1dG9Qcm9wcy5ib3R0b20gJiYgTWF0aC5hYnMoZHJhZ2dpbmdCb3VuZC50b3AgKyBkcmFnZ2luZ0JvdW5kLmhlaWdodCAtIGNvbnRhaW5lclJlY3QuaGVpZ2h0KSA8PSBzbmFwRWRnZVRvbGVyYW5jZSkge1xuICAgICAgICBzbmFwVG9Cb3R0b20gPSB0cnVlO1xuICAgICAgICBkeSArPSAoY29udGFpbmVyUmVjdC5oZWlnaHQgLSBkcmFnZ2luZ0JvdW5kLnRvcCAtIGRyYWdnaW5nQm91bmQuaGVpZ2h0KTtcbiAgICAgIH1cbiAgICB9IGVsc2UgeyAvLyByZXNpemUgaG9yaXpvbnRhbGx5XG4gICAgICBzbmFwVG9Ub3AgPSAhYXV0b1Byb3BzLnRvcCAmJiAgZHJhZ2dpbmdCb3VuZC50b3AgPT09IDA7XG4gICAgICBzbmFwVG9Cb3R0b20gPSAhYXV0b1Byb3BzLmJvdHRvbSAmJiBNYXRoLnJvdW5kKGRyYWdnaW5nQm91bmQudG9wICsgZHJhZ2dpbmdCb3VuZC5oZWlnaHQpID09PSBNYXRoLnJvdW5kKGNvbnRhaW5lclJlY3QuaGVpZ2h0KTtcbiAgICB9XG4gICAgcmV0dXJuIHsgZHksIGRoLCBzbmFwVG9Ub3AsIHNuYXBUb0JvdHRvbSB9O1xuICB9XG4gIGlmIChkZWx0YS55ID09PSAwKSB7IC8vIHJlc2l6ZSBieSBtb3ZpbmcgdGhlIGJvdHRvbSBlZGdlXG4gICAgaWYgKCFhdXRvUHJvcHMuYm90dG9tICYmIGNvbnRhaW5lclJlY3QuaGVpZ2h0IC0gKGRyYWdnaW5nQm91bmQudG9wICsgZHJhZ2dpbmdCb3VuZC5oZWlnaHQgKyBkZWx0YS5oKSA8PSBzbmFwRWRnZVRvbGVyYW5jZSkge1xuICAgICAgc25hcFRvQm90dG9tID0gdHJ1ZTtcbiAgICAgIGNvbnN0IG1heEggPSBjb250YWluZXJSZWN0LmhlaWdodCA+PSAoZHJhZ2dpbmdCb3VuZC50b3AgKyBkcmFnZ2luZ0JvdW5kLmhlaWdodCArIGRlbHRhLmgpID9cbiAgICAgICAgY29udGFpbmVyUmVjdC5oZWlnaHQgLSAoZHJhZ2dpbmdCb3VuZC50b3AgKyBkcmFnZ2luZ0JvdW5kLmhlaWdodCkgOlxuICAgICAgICBNYXRoLm1pbihjb250YWluZXJSZWN0LmhlaWdodCAtIGRyYWdnaW5nQm91bmQudG9wIC0gZHJhZ2dpbmdCb3VuZC5oZWlnaHQsIGRlbHRhLmgpO1xuICAgICAgZHkgPSBjb250YWluZXJSZWN0LmhlaWdodCA+PSAoZHJhZ2dpbmdCb3VuZC50b3AgKyBkcmFnZ2luZ0JvdW5kLmhlaWdodCArIGRlbHRhLmgpID9cbiAgICAgICAgMCA6XG4gICAgICAgIE1hdGgubWF4KGNvbnRhaW5lclJlY3QuaGVpZ2h0IC0gKGRyYWdnaW5nQm91bmQudG9wICsgZHJhZ2dpbmdCb3VuZC5oZWlnaHQgKyBkZWx0YS5oKSwgLWRyYWdnaW5nQm91bmQudG9wKTtcbiAgICAgIGRoID0gbWF4SCArICgtZHkpO1xuICAgIH1cbiAgICBpZiAoIWF1dG9Qcm9wcy50b3AgJiYgZHJhZ2dpbmdCb3VuZC50b3AgPT09IDApIHtcbiAgICAgIHNuYXBUb1RvcCA9IHRydWU7XG4gICAgfVxuICAgIHJldHVybiB7IGR5LCBkaCwgc25hcFRvVG9wLCBzbmFwVG9Cb3R0b20gfTtcbiAgfVxuICAvLyByZXNpemUgYnkgbW92aW5nIHRoZSB0b3AgZWRnZVxuICBpZiAoIWF1dG9Qcm9wcy50b3AgJiYgZHJhZ2dpbmdCb3VuZC50b3AgKyBkeSA8PSBzbmFwRWRnZVRvbGVyYW5jZSkge1xuICAgIHNuYXBUb1RvcCA9IHRydWU7XG4gICAgZHkgPSAtZHJhZ2dpbmdCb3VuZC50b3A7XG4gICAgZGggPSBkcmFnZ2luZ0JvdW5kLnRvcCArIGRlbHRhLnkgPj0gMCA/XG4gICAgICAtZHkgOiBNYXRoLm1pbigtZGVsdGEueSwgY29udGFpbmVyUmVjdC5oZWlnaHQgLSBkcmFnZ2luZ0JvdW5kLmhlaWdodCk7XG4gIH1cbiAgaWYgKCFhdXRvUHJvcHMuYm90dG9tICYmIE1hdGgucm91bmQoZHJhZ2dpbmdCb3VuZC50b3AgKyBkcmFnZ2luZ0JvdW5kLmhlaWdodCkgPT09IE1hdGgucm91bmQoY29udGFpbmVyUmVjdC5oZWlnaHQpKSB7XG4gICAgc25hcFRvQm90dG9tID0gdHJ1ZTtcbiAgfVxuICByZXR1cm4geyBkeSwgZGgsIHNuYXBUb1RvcCwgc25hcFRvQm90dG9tIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzbmFwSEJvdW5kYXJ5KFxuICBjb250YWluZXJSZWN0OiBDbGllbnRSZWN0LFxuICBkcmFnZ2luZ0JvdW5kOiBDbGllbnRSZWN0LFxuICBkZWx0YTogUm5kRGVsdGEsXG4gIGF1dG9Qcm9wczoge2xlZnQ6IGJvb2xlYW4sIHJpZ2h0OiBib29sZWFuLCB0b3A6IGJvb2xlYW4sIGJvdHRvbTogYm9vbGVhbn0sXG4pOiB7ZHg6IG51bWJlciwgZHc6IG51bWJlciwgc25hcFRvTGVmdDogYm9vbGVhbiwgc25hcFRvUmlnaHQ6IGJvb2xlYW59IHtcbiAgbGV0IHNuYXBUb0xlZnQgPSBmYWxzZTtcbiAgbGV0IHNuYXBUb1JpZ2h0ID0gZmFsc2U7XG4gIGxldCBkeCA9IGRlbHRhLng7XG4gIGxldCBkdyA9IGRlbHRhLnc7XG5cbiAgaWYgKGRlbHRhLncgPT09IDApIHsgLy8gbW92ZSBpdGVtIG9yIHJlc2l6ZSB2ZXJ0aWNhbGx5XG4gICAgaWYgKGRlbHRhLmggPT09IDApIHsvLyBtb3ZlXG4gICAgICBpZiAoIWF1dG9Qcm9wcy5sZWZ0ICYmIE1hdGguYWJzKGRyYWdnaW5nQm91bmQubGVmdCArIGRlbHRhLngpIDw9IHNuYXBFZGdlVG9sZXJhbmNlKSB7XG4gICAgICAgIHNuYXBUb0xlZnQgPSB0cnVlO1xuICAgICAgICBkeCAtPSAoZHJhZ2dpbmdCb3VuZC5sZWZ0ICsgZGVsdGEueCk7XG4gICAgICB9IGVsc2UgaWYgKCFhdXRvUHJvcHMucmlnaHQgJiYgTWF0aC5hYnMoZHJhZ2dpbmdCb3VuZC5sZWZ0ICsgZHJhZ2dpbmdCb3VuZC53aWR0aCAtIGNvbnRhaW5lclJlY3Qud2lkdGgpIDw9IHNuYXBFZGdlVG9sZXJhbmNlKSB7XG4gICAgICAgIHNuYXBUb1JpZ2h0ID0gdHJ1ZTtcbiAgICAgICAgZHggKz0gKGNvbnRhaW5lclJlY3Qud2lkdGggLSBkcmFnZ2luZ0JvdW5kLmxlZnQgLSBkcmFnZ2luZ0JvdW5kLndpZHRoKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgeyAvLyByZXNpemUgdmVydGljYWxseVxuICAgICAgc25hcFRvTGVmdCA9ICFhdXRvUHJvcHMubGVmdCAmJiBkcmFnZ2luZ0JvdW5kLmxlZnQgPT09IDA7XG4gICAgICBzbmFwVG9SaWdodCA9ICFhdXRvUHJvcHMucmlnaHQgJiYgTWF0aC5yb3VuZChkcmFnZ2luZ0JvdW5kLmxlZnQgKyBkcmFnZ2luZ0JvdW5kLndpZHRoKSA9PT0gTWF0aC5yb3VuZChjb250YWluZXJSZWN0LndpZHRoKTtcbiAgICB9XG4gICAgcmV0dXJuIHsgZHgsIGR3LCBzbmFwVG9MZWZ0LCBzbmFwVG9SaWdodCB9O1xuICB9XG4gIGlmIChkZWx0YS54ID09PSAwKSB7IC8vIHJlc2l6ZSBieSBtb3ZpbmcgdGhlIHJpZ2h0IGVkZ2VcbiAgICBpZiAoIWF1dG9Qcm9wcy5yaWdodCAmJiBjb250YWluZXJSZWN0LndpZHRoIC0gKGRyYWdnaW5nQm91bmQubGVmdCArIGRyYWdnaW5nQm91bmQud2lkdGggKyBkZWx0YS53KSA8PSBzbmFwRWRnZVRvbGVyYW5jZSkge1xuICAgICAgc25hcFRvUmlnaHQgPSB0cnVlO1xuICAgICAgY29uc3QgbWF4VyA9IGNvbnRhaW5lclJlY3Qud2lkdGggPj0gKGRyYWdnaW5nQm91bmQubGVmdCArIGRyYWdnaW5nQm91bmQud2lkdGggKyBkZWx0YS53KSA/XG4gICAgICAgIGNvbnRhaW5lclJlY3Qud2lkdGggLSAoZHJhZ2dpbmdCb3VuZC5sZWZ0ICsgZHJhZ2dpbmdCb3VuZC53aWR0aCkgOlxuICAgICAgICBNYXRoLm1pbihjb250YWluZXJSZWN0LndpZHRoIC0gZHJhZ2dpbmdCb3VuZC5sZWZ0IC0gZHJhZ2dpbmdCb3VuZC53aWR0aCwgZGVsdGEudyk7XG4gICAgICBkeCA9IGNvbnRhaW5lclJlY3Qud2lkdGggPj0gKGRyYWdnaW5nQm91bmQubGVmdCArIGRyYWdnaW5nQm91bmQud2lkdGggKyBkZWx0YS53KSA/XG4gICAgICAgIDAgOlxuICAgICAgICBNYXRoLm1heChjb250YWluZXJSZWN0LndpZHRoIC0gKGRyYWdnaW5nQm91bmQubGVmdCArIGRyYWdnaW5nQm91bmQud2lkdGggKyBkZWx0YS53KSwgLWRyYWdnaW5nQm91bmQubGVmdCk7XG4gICAgICBkdyA9IG1heFcgKyAoLWR4KTtcbiAgICB9XG4gICAgaWYgKCFhdXRvUHJvcHMubGVmdCAmJiBkcmFnZ2luZ0JvdW5kLmxlZnQgPT09IDApIHtcbiAgICAgIHNuYXBUb0xlZnQgPSB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4geyBkeCwgZHcsIHNuYXBUb0xlZnQsIHNuYXBUb1JpZ2h0IH07XG4gIH1cbiAgLy8gcmVzaXplIGJ5IG1vdmluZyB0aGUgbGVmdCBlZGdlXG4gIGlmICghYXV0b1Byb3BzLmxlZnQgJiYgZHJhZ2dpbmdCb3VuZC5sZWZ0ICsgZHggPD0gc25hcEVkZ2VUb2xlcmFuY2UpIHtcbiAgICBzbmFwVG9MZWZ0ID0gdHJ1ZTtcbiAgICBkeCA9IC1kcmFnZ2luZ0JvdW5kLmxlZnQ7XG4gICAgZHcgPSBkcmFnZ2luZ0JvdW5kLmxlZnQgKyBkZWx0YS54ID49IDAgP1xuICAgICAgLWR4IDogTWF0aC5taW4oLWRlbHRhLngsIGNvbnRhaW5lclJlY3Qud2lkdGggLSBkcmFnZ2luZ0JvdW5kLndpZHRoKTtcbiAgfVxuICBpZiAoIWF1dG9Qcm9wcy5yaWdodCAmJiBNYXRoLnJvdW5kKGRyYWdnaW5nQm91bmQubGVmdCArIGRyYWdnaW5nQm91bmQud2lkdGgpID09PSBNYXRoLnJvdW5kKGNvbnRhaW5lclJlY3Qud2lkdGgpKSB7XG4gICAgc25hcFRvUmlnaHQgPSB0cnVlO1xuICB9XG4gIHJldHVybiB7IGR4LCBkdywgc25hcFRvTGVmdCwgc25hcFRvUmlnaHQgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGVkZ2VTbmFwR3VpZGUoZHJhZ2dpbmdCb3VuZDogQ2xpZW50UmVjdCwgZGVsdGE6IFJuZERlbHRhLFxuICBzaWJsaW5nQm91bmRzOiBBcnJheTxDbGllbnRSZWN0PiwgZGlyZWN0aW9uOiAndicgfCAnaCcsXG4gIGRyYXc/OiBTVkcuRG9jLCB0aGVtZT86IElNVGhlbWVWYXJpYWJsZXMpOiB7XG4gICAgZGVsdGFQb3M6IG51bWJlcixcbiAgICBkZWx0YVNpemU6IG51bWJlcixcbiAgICBvdmVycmlkZVBvczogYm9vbGVhbixcbiAgICBvdmVycmlkZVNpemU6IGJvb2xlYW5cbiAgfSB7XG4gIGNvbnN0IHBvc1Byb3AgPSBkaXJlY3Rpb24gPT09ICd2JyA/ICd0b3AnIDogJ2xlZnQnO1xuICBjb25zdCBzaXplUHJvcCA9IGRpcmVjdGlvbiA9PT0gJ3YnID8gJ2hlaWdodCcgOiAnd2lkdGgnO1xuICBsZXQgZGVsdGFQb3MgPSBkaXJlY3Rpb24gPT09ICd2JyA/IGRlbHRhLnkgOiBkZWx0YS54O1xuICBsZXQgZGVsdGFTaXplID0gZGlyZWN0aW9uID09PSAndicgPyBkZWx0YS5oIDogZGVsdGEudztcbiAgbGV0IG92ZXJyaWRlUG9zID0gZmFsc2U7XG4gIGxldCBvdmVycmlkZVNpemUgPSBmYWxzZTtcbiAgbGV0IHNuYXBSZWN0ID0gbnVsbDtcbiAgbGV0IHNuYXBFZGdlID0gbnVsbDtcbiAgY29uc3QgZml4ZWRTaWRlID0gZGlyZWN0aW9uID09PSAndicgPyBmaW5kVmVydGljYWxGaXhlZFNpZGUoZGVsdGEpIDogZmluZEhvcml6b250YWxGaXhlZFNpZGUoZGVsdGEpO1xuICBsZXQgdHRYID0gdG9sZXJhbmNlO1xuXG4gIC8vIG5ldyBwb3NpdGlvbiBmb3IgdGhlIGRyYWdnaW5nIGl0ZW1cbiAgY29uc3QgYjogUGFydGlhbDxDbGllbnRSZWN0PiA9IHtcbiAgICBsZWZ0OiBkcmFnZ2luZ0JvdW5kLmxlZnQgKyBkZWx0YS54LFxuICAgIHRvcDogZHJhZ2dpbmdCb3VuZC50b3AgKyBkZWx0YS55LFxuICAgIHdpZHRoOiBkcmFnZ2luZ0JvdW5kLndpZHRoICsgZGVsdGEudyxcbiAgICBoZWlnaHQ6IGRyYWdnaW5nQm91bmQuaGVpZ2h0ICsgZGVsdGEuaFxuICB9O1xuICBiLnJpZ2h0ID0gYi5sZWZ0ICsgYi53aWR0aDtcbiAgYi5ib3R0b20gPSBiLnRvcCArIGIuaGVpZ2h0O1xuICBjb25zdCBwcmV2aW91c0VkZ2UgPSBkaXJlY3Rpb24gPT09ICd2JyA/IGIudG9wIDogYi5sZWZ0O1xuICBjb25zdCBuZXh0RWRnZSA9IGRpcmVjdGlvbiA9PT0gJ3YnID8gYi5ib3R0b20gOiBiLnJpZ2h0O1xuICBjb25zdCBjZW50ZXIgPSBkaXJlY3Rpb24gPT09ICd2JyA/IGdldENlbnRlclkoYiBhcyBDbGllbnRSZWN0KSA6IGdldENlbnRlclgoYiBhcyBDbGllbnRSZWN0KTtcbiAgY29uc3Qgb3JpZ2luQ2VudGVyID0gZGlyZWN0aW9uID09PSAndicgPyBnZXRDZW50ZXJZKGRyYWdnaW5nQm91bmQpIDogZ2V0Q2VudGVyWChkcmFnZ2luZ0JvdW5kKTtcbiAgY29uc3Qgb3JpZ2luYWxQcmV2aW91c0VkZ2UgPSBkaXJlY3Rpb24gPT09ICd2JyA/IGRyYWdnaW5nQm91bmQudG9wIDogZHJhZ2dpbmdCb3VuZC5sZWZ0O1xuXG4gIGNvbnN0IHNuYXAgPSAoZWRnZSwgcmVjdCkgPT4ge1xuICAgIGxldCBvdmVycmlkZSA9IGZhbHNlO1xuXG4gICAgaWYgKE1hdGguYWJzKGVkZ2UgLSBjZW50ZXIpIDwgdHRYKSB7XG4gICAgICAvLyBvbmx5IGRyYWcgY2FuIHNuYXAgdG8gY2VudGVyXG4gICAgICBpZiAoKGRpcmVjdGlvbiA9PT0gJ2gnICYmIGZpeGVkU2lkZSAhPT0gRml4ZWRTaWRlcy5MZWZ0ICYmIGZpeGVkU2lkZSAhPT0gRml4ZWRTaWRlcy5SaWdodCkgfHxcbiAgICAgIChkaXJlY3Rpb24gPT09ICd2JyAmJiBmaXhlZFNpZGUgIT09IEZpeGVkU2lkZXMuVG9wICYmIGZpeGVkU2lkZSAhPT0gRml4ZWRTaWRlcy5Cb3R0b20pKSB7XG4gICAgICAgIGRlbHRhUG9zID0gZWRnZSAtIG9yaWdpbkNlbnRlcjtcbiAgICAgICAgb3ZlcnJpZGVQb3MgPSB0cnVlO1xuICAgICAgICB0dFggPSBNYXRoLmFicyhlZGdlIC0gY2VudGVyKTtcbiAgICAgICAgb3ZlcnJpZGUgPSB0cnVlO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoTWF0aC5hYnMoZWRnZSAtIHByZXZpb3VzRWRnZSkgPCB0dFgpIHtcbiAgICAgIGlmIChkZWx0YVNpemUgPT09IDApIHsgLy8gZHJhZyBhbmQgbW92ZVxuICAgICAgICBkZWx0YVBvcyA9IGVkZ2UgLSBvcmlnaW5hbFByZXZpb3VzRWRnZTtcbiAgICAgICAgb3ZlcnJpZGVQb3MgPSB0cnVlO1xuICAgICAgICB0dFggPSBNYXRoLmFicyhlZGdlIC0gcHJldmlvdXNFZGdlKTtcbiAgICAgICAgb3ZlcnJpZGUgPSB0cnVlO1xuICAgICAgfSBlbHNlIGlmIChmaXhlZFNpZGUgIT09IEZpeGVkU2lkZXMuVG9wICYmIGZpeGVkU2lkZSAhPT0gRml4ZWRTaWRlcy5MZWZ0KSB7IC8vIHJlc2l6ZSBhdCB0b3Agb3IgbGVmdFxuICAgICAgICBkZWx0YVNpemUgPSBkcmFnZ2luZ0JvdW5kW3Bvc1Byb3BdIC0gZWRnZTtcbiAgICAgICAgb3ZlcnJpZGVTaXplID0gdHJ1ZTtcbiAgICAgICAgdHRYID0gTWF0aC5hYnMoZWRnZSAtIHByZXZpb3VzRWRnZSk7XG4gICAgICAgIG92ZXJyaWRlID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKE1hdGguYWJzKGVkZ2UgLSBuZXh0RWRnZSkgPCB0dFgpIHtcbiAgICAgIGlmIChkZWx0YVNpemUgPT09IDApIHsgLy8gZHJhZyBhbmQgbW92ZVxuICAgICAgICBkZWx0YVBvcyA9IGVkZ2UgLSBkcmFnZ2luZ0JvdW5kW3Bvc1Byb3BdIC0gZHJhZ2dpbmdCb3VuZFtzaXplUHJvcF07XG4gICAgICAgIG92ZXJyaWRlUG9zID0gdHJ1ZTtcbiAgICAgICAgdHRYID0gTWF0aC5hYnMoZWRnZSAtIG5leHRFZGdlKTtcbiAgICAgICAgb3ZlcnJpZGUgPSB0cnVlO1xuICAgICAgfSBlbHNlIGlmIChmaXhlZFNpZGUgIT09IEZpeGVkU2lkZXMuQm90dG9tICYmIGZpeGVkU2lkZSAhPT0gRml4ZWRTaWRlcy5SaWdodCkgeyAvLyByZXNpemUgYXQgdG9wIG9yIGxlZnRcbiAgICAgICAgZGVsdGFTaXplID0gZWRnZSAtIGRyYWdnaW5nQm91bmRbcG9zUHJvcF0gLSBkcmFnZ2luZ0JvdW5kW3NpemVQcm9wXTtcbiAgICAgICAgb3ZlcnJpZGVTaXplID0gdHJ1ZTtcbiAgICAgICAgdHRYID0gTWF0aC5hYnMoZWRnZSAtIG5leHRFZGdlKTtcbiAgICAgICAgb3ZlcnJpZGUgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChvdmVycmlkZSkge1xuICAgICAgc25hcFJlY3QgPSByZWN0O1xuICAgICAgc25hcEVkZ2UgPSBlZGdlO1xuICAgIH1cbiAgfVxuXG4gIHNpYmxpbmdCb3VuZHMuZm9yRWFjaChib3VuZEl0ZW0gPT4ge1xuICAgIGlmIChkaXJlY3Rpb24gPT09ICdoJykge1xuICAgICAgc25hcChnZXRDZW50ZXJYKGJvdW5kSXRlbSksIGJvdW5kSXRlbSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNuYXAoZ2V0Q2VudGVyWShib3VuZEl0ZW0pLCBib3VuZEl0ZW0pO1xuICAgIH1cbiAgICBzbmFwKGJvdW5kSXRlbVtwb3NQcm9wXSwgYm91bmRJdGVtKTtcbiAgICBzbmFwKGJvdW5kSXRlbVtwb3NQcm9wXSArIGJvdW5kSXRlbVtzaXplUHJvcF0sIGJvdW5kSXRlbSk7XG4gIH0pO1xuXG4gIGlmIChkcmF3ICYmIChvdmVycmlkZVBvcyB8fCBvdmVycmlkZVNpemUpKSB7XG4gICAgaWYgKGRpcmVjdGlvbiA9PT0gJ3YnKSB7XG4gICAgICBsZXQgbWluWCA9IG51bGw7XG4gICAgICBsZXQgbWF4WCA9IG51bGw7XG4gICAgICBpZiAoc25hcFJlY3QgIT09IG51bGwpIHtcbiAgICAgICAgbWluWCA9IE1hdGgubWluKGIubGVmdCwgc25hcFJlY3QubGVmdCk7XG4gICAgICAgIG1heFggPSBNYXRoLm1heChiLmxlZnQgKyBiLndpZHRoLCBzbmFwUmVjdC5sZWZ0ICsgc25hcFJlY3Qud2lkdGgpO1xuICAgICAgfVxuXG4gICAgICBpZiAobWluWCAhPT0gbnVsbCAmJiBtYXhYICE9PSBudWxsKXtcbiAgICAgICAgY29uc3QgcG9pbnRzID0gW1ttaW5YLCBzbmFwRWRnZV0sIFttYXhYLCBzbmFwRWRnZV1dO1xuICAgICAgICBkcmF3LnBvbHlsaW5lKHBvaW50cykuZmlsbCgnbm9uZScpLnN0cm9rZSh7IHdpZHRoOiAxLCBjb2xvcjogdGhlbWUuY29sb3JzLnBhbGV0dGUuZGFuZ2VyWzUwMF0gfSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCBtaW5ZID0gbnVsbDtcbiAgICAgIGxldCBtYXhZID0gbnVsbDtcbiAgICAgIGlmIChzbmFwUmVjdCAhPT0gbnVsbCkge1xuICAgICAgICBtaW5ZID0gTWF0aC5taW4oYi50b3AsIHNuYXBSZWN0LnRvcCk7XG4gICAgICAgIG1heFkgPSBNYXRoLm1heChiLnRvcCArIGIuaGVpZ2h0LCBzbmFwUmVjdC50b3AgKyBzbmFwUmVjdC5oZWlnaHQpO1xuICAgICAgfVxuXG4gICAgICBpZiAobWluWSAhPT0gbnVsbCAmJiBtYXhZICE9PSBudWxsKSB7XG4gICAgICAgIGNvbnN0IHBvaW50cyA9IFtbc25hcEVkZ2UsIG1pblldLCBbc25hcEVkZ2UsIG1heFldXTtcbiAgICAgICAgZHJhdy5wb2x5bGluZShwb2ludHMpLmZpbGwoJ25vbmUnKS5zdHJva2UoeyB3aWR0aDogMSwgY29sb3I6IHRoZW1lLmNvbG9ycy5wYWxldHRlLmRhbmdlcls1MDBdIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4ge1xuICAgIGRlbHRhUG9zLFxuICAgIGRlbHRhU2l6ZSxcbiAgICBvdmVycmlkZVBvcyxcbiAgICBvdmVycmlkZVNpemVcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRpc3RhbmNlU25hcEd1aWRlKGRyYWdnaW5nQm91bmQ6IENsaWVudFJlY3QsIGRlbHRhOiBSbmREZWx0YSxcbiAgc2libGluZ0JvdW5kczogQXJyYXk8Q2xpZW50UmVjdD4sIGRpcmVjdGlvbjogJ3YnIHwgJ2gnLCBkcmF3PzogU1ZHLkRvYywgdGhlbWU/OiBJTVRoZW1lVmFyaWFibGVzKToge1xuICAgIGRlbHRhUG9zOiBudW1iZXIsXG4gICAgZGVsdGFTaXplOiBudW1iZXIsXG4gICAgb3ZlcnJpZGVQb3M6IGJvb2xlYW4sXG4gICAgb3ZlcnJpZGVTaXplOiBib29sZWFuXG4gIH0ge1xuICBjb25zdCBwb3NQcm9wID0gZGlyZWN0aW9uID09PSAndicgPyAndG9wJyA6ICdsZWZ0JztcbiAgY29uc3Qgc2l6ZVByb3AgPSBkaXJlY3Rpb24gPT09ICd2JyA/ICdoZWlnaHQnIDogJ3dpZHRoJztcbiAgbGV0IGRlbHRhUG9zID0gZGlyZWN0aW9uID09PSAndicgPyBkZWx0YS55IDogZGVsdGEueDtcbiAgbGV0IGRlbHRhU2l6ZSA9IGRpcmVjdGlvbiA9PT0gJ3YnID8gZGVsdGEuaCA6IGRlbHRhLnc7XG4gIGxldCBvdmVycmlkZVBvcyA9IGZhbHNlO1xuICBsZXQgb3ZlcnJpZGVTaXplID0gZmFsc2U7XG4gIGNvbnN0IGZpeGVkU2lkZSA9IGRpcmVjdGlvbiA9PT0gJ3YnID8gZmluZFZlcnRpY2FsRml4ZWRTaWRlKGRlbHRhKSA6IGZpbmRIb3Jpem9udGFsRml4ZWRTaWRlKGRlbHRhKTtcblxuICAvLyBuZXcgcG9zaXRpb24gZm9yIHRoZSBkcmFnZ2luZyBpdGVtXG4gIGNvbnN0IGI6IFBhcnRpYWw8Q2xpZW50UmVjdD4gPSB7XG4gICAgbGVmdDogZHJhZ2dpbmdCb3VuZC5sZWZ0ICsgZGVsdGEueCxcbiAgICB0b3A6IGRyYWdnaW5nQm91bmQudG9wICsgZGVsdGEueSxcbiAgICB3aWR0aDogZHJhZ2dpbmdCb3VuZC53aWR0aCArIGRlbHRhLncsXG4gICAgaGVpZ2h0OiBkcmFnZ2luZ0JvdW5kLmhlaWdodCArIGRlbHRhLmhcbiAgfTtcbiAgYi5yaWdodCA9IGIubGVmdCArIGIud2lkdGg7XG4gIGIuYm90dG9tID0gYi50b3AgKyBiLmhlaWdodDtcblxuICBjb25zdCBzbmFwUmVzdWx0ID0gY2FsU25hcERpc3RhbmNlKGRyYWdnaW5nQm91bmQsIGRlbHRhLCBzaWJsaW5nQm91bmRzLCBkaXJlY3Rpb24sIGZpeGVkU2lkZSk7XG4gIGNvbnN0IHNuYXBEaXN0YW5jZSA9IE1hdGgubWF4KHNuYXBSZXN1bHQucHJldmlvdXMsIHNuYXBSZXN1bHQubmV4dCk7XG5cbiAgaWYgKHNuYXBEaXN0YW5jZSA+IDApIHtcbiAgICBsZXQgY2VudGVyWDtcbiAgICBjb25zdCBhbGxSZWN0cyA9IFtdLmNvbmNhdChzbmFwUmVzdWx0Lmludm9sdmVkUmVjdHMsIGIpO1xuICAgIGFsbFJlY3RzLnNvcnQoKGEsIGIpID0+IGFbcG9zUHJvcF0gLSBiW3Bvc1Byb3BdKTtcbiAgICBjb25zdCBiSW5kZXggPSBhbGxSZWN0cy5pbmRleE9mKGIpO1xuXG4gICAgaWYgKHNuYXBSZXN1bHQucHJldmlvdXMgPiAwICYmIHNuYXBSZXN1bHQubmV4dCA+IDApIHsgLy8gc25hcCB0byBib3RoIHNpemVzXG4gICAgICBjb25zdCBwcmV2aW91c0l0ZW0gPSBhbGxSZWN0c1tiSW5kZXggLSAxXTtcbiAgICAgIGNvbnN0IG5leHRJdGVtID0gYWxsUmVjdHNbYkluZGV4ICsgMV07XG4gICAgICBpZiAoZGVsdGFTaXplID09PSAwKSB7IC8vIGRyYWcgYW5kIG1vdmVcbiAgICAgICAgZGVsdGFQb3MgPSBzbmFwRGlzdGFuY2UgLSAoZHJhZ2dpbmdCb3VuZFtwb3NQcm9wXSAtIHByZXZpb3VzSXRlbVtwb3NQcm9wXSAtIHByZXZpb3VzSXRlbVtzaXplUHJvcF0pO1xuICAgICAgICBvdmVycmlkZVBvcyA9IHRydWU7XG4gICAgICB9IGVsc2UgaWYgKGZpeGVkU2lkZSA9PT0gRml4ZWRTaWRlcy5Ub3AgfHwgZml4ZWRTaWRlID09PSBGaXhlZFNpZGVzLkxlZnQpIHsgLy8gcmVzaXplIGF0IGJvdHRvbSBvciByaWdodFxuICAgICAgICBkZWx0YVNpemUgPSBuZXh0SXRlbVtwb3NQcm9wXSAtIGRyYWdnaW5nQm91bmRbcG9zUHJvcF0gLSBkcmFnZ2luZ0JvdW5kW3NpemVQcm9wXSAtIHNuYXBEaXN0YW5jZTtcbiAgICAgICAgb3ZlcnJpZGVTaXplID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSBpZiAoZml4ZWRTaWRlID09PSBGaXhlZFNpZGVzLkJvdHRvbSB8fCBmaXhlZFNpZGUgPT09IEZpeGVkU2lkZXMuUmlnaHQpIHsgLy8gcmVzaXplIGF0IGxlZnQgb3IgdG9wXG4gICAgICAgIGRlbHRhU2l6ZSA9IGRyYWdnaW5nQm91bmRbcG9zUHJvcF0gLSBwcmV2aW91c0l0ZW1bcG9zUHJvcF0gLSBwcmV2aW91c0l0ZW1bc2l6ZVByb3BdIC0gc25hcERpc3RhbmNlO1xuICAgICAgICBvdmVycmlkZVNpemUgPSB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKGRyYXcgJiYgKG92ZXJyaWRlUG9zIHx8IG92ZXJyaWRlU2l6ZSkpIHtcbiAgICAgICAgaWYgKGRpcmVjdGlvbiA9PT0gJ3YnKSB7XG4gICAgICAgICAgY2VudGVyWCA9IGdldEludGVyc2VjdGlvbkNlbnRlclgocHJldmlvdXNJdGVtLCBiKTtcbiAgICAgICAgICBkcmF3VmVydGljYWxEaXN0YW5jZShjZW50ZXJYLCBwcmV2aW91c0l0ZW1bcG9zUHJvcF0gKyBwcmV2aW91c0l0ZW1bc2l6ZVByb3BdLCBzbmFwRGlzdGFuY2UsIGRyYXcsIHRoZW1lKTtcblxuICAgICAgICAgIGNlbnRlclggPSBnZXRJbnRlcnNlY3Rpb25DZW50ZXJYKG5leHRJdGVtLCBiKTtcbiAgICAgICAgICBkcmF3VmVydGljYWxEaXN0YW5jZShjZW50ZXJYLCBuZXh0SXRlbVtwb3NQcm9wXSAtIHNuYXBEaXN0YW5jZSwgc25hcERpc3RhbmNlLCBkcmF3LCB0aGVtZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY2VudGVyWCA9IGdldEludGVyc2VjdGlvbkNlbnRlclkocHJldmlvdXNJdGVtLCBiKTtcbiAgICAgICAgICBkcmF3SG9yaXpvbnRhbERpc3RhbmNlKHByZXZpb3VzSXRlbVtwb3NQcm9wXSArIHByZXZpb3VzSXRlbVtzaXplUHJvcF0sIGNlbnRlclgsIHNuYXBEaXN0YW5jZSwgZHJhdywgdGhlbWUpO1xuXG4gICAgICAgICAgY2VudGVyWCA9IGdldEludGVyc2VjdGlvbkNlbnRlclkobmV4dEl0ZW0sIGIpO1xuICAgICAgICAgIGRyYXdIb3Jpem9udGFsRGlzdGFuY2UobmV4dEl0ZW1bcG9zUHJvcF0gLSBzbmFwRGlzdGFuY2UsIGNlbnRlclgsIHNuYXBEaXN0YW5jZSwgZHJhdywgdGhlbWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChzbmFwUmVzdWx0LnByZXZpb3VzID4gMCAmJiBiSW5kZXggPiAwKSB7IC8vIHNuYXAgdG8gcHJldmlvdXMgaXRlbVxuICAgICAgY29uc3QgcHJldmlvdXNJdGVtID0gYWxsUmVjdHNbYkluZGV4IC0gMV07XG4gICAgICBpZiAoZGVsdGFTaXplID09PSAwKSB7IC8vIGRyYWcgYW5kIG1vdmVcbiAgICAgICAgZGVsdGFQb3MgPSBzbmFwRGlzdGFuY2UgLSAoZHJhZ2dpbmdCb3VuZFtwb3NQcm9wXSAtIHByZXZpb3VzSXRlbVtwb3NQcm9wXSAtIHByZXZpb3VzSXRlbVtzaXplUHJvcF0pO1xuICAgICAgICBvdmVycmlkZVBvcyA9IHRydWU7XG4gICAgICB9IGVsc2UgaWYgKGZpeGVkU2lkZSAhPT0gRml4ZWRTaWRlcy5Ub3AgJiYgZml4ZWRTaWRlICE9PSBGaXhlZFNpZGVzLkxlZnQpIHtcbiAgICAgICAgZGVsdGFTaXplID0gZHJhZ2dpbmdCb3VuZFtwb3NQcm9wXSAtIHByZXZpb3VzSXRlbVtwb3NQcm9wXSAtIHByZXZpb3VzSXRlbVtzaXplUHJvcF0gLSBzbmFwRGlzdGFuY2U7XG4gICAgICAgIG92ZXJyaWRlU2l6ZSA9IHRydWU7XG4gICAgICB9XG4gICAgICBpZiAoZHJhdyAmJiAob3ZlcnJpZGVQb3MgfHwgb3ZlcnJpZGVTaXplKSkge1xuICAgICAgICBpZiAoZGlyZWN0aW9uID09PSAndicpIHtcbiAgICAgICAgICBjZW50ZXJYID0gZ2V0SW50ZXJzZWN0aW9uQ2VudGVyWChiLCBwcmV2aW91c0l0ZW0pO1xuICAgICAgICAgIGRyYXdWZXJ0aWNhbERpc3RhbmNlKGNlbnRlclgsIHByZXZpb3VzSXRlbVtwb3NQcm9wXSArIHByZXZpb3VzSXRlbVtzaXplUHJvcF0sIHNuYXBEaXN0YW5jZSwgZHJhdywgdGhlbWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNlbnRlclggPSBnZXRJbnRlcnNlY3Rpb25DZW50ZXJZKGIsIHByZXZpb3VzSXRlbSk7XG4gICAgICAgICAgZHJhd0hvcml6b250YWxEaXN0YW5jZShwcmV2aW91c0l0ZW1bcG9zUHJvcF0gKyBwcmV2aW91c0l0ZW1bc2l6ZVByb3BdLCBjZW50ZXJYLCBzbmFwRGlzdGFuY2UsIGRyYXcsIHRoZW1lKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoc25hcFJlc3VsdC5uZXh0ID4gMCAmJiBiSW5kZXggPCBhbGxSZWN0cy5sZW5ndGggLSAxKSB7IC8vIHNuYXAgdG8gbmV4dCBpdGVtXG4gICAgICBjb25zdCBuZXh0SXRlbSA9IGFsbFJlY3RzW2JJbmRleCArIDFdO1xuICAgICAgaWYgKGRlbHRhU2l6ZSA9PT0gMCkgeyAvLyBkcmFnIGFuZCBtb3ZlXG4gICAgICAgIGRlbHRhUG9zID0gbmV4dEl0ZW1bcG9zUHJvcF0gLSBkcmFnZ2luZ0JvdW5kW3Bvc1Byb3BdIC0gZHJhZ2dpbmdCb3VuZFtzaXplUHJvcF0gLSBzbmFwRGlzdGFuY2U7XG4gICAgICAgIG92ZXJyaWRlUG9zID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSBpZiAoZml4ZWRTaWRlICE9PSBGaXhlZFNpZGVzLkJvdHRvbSAmJiBmaXhlZFNpZGUgIT09IEZpeGVkU2lkZXMuUmlnaHQpIHtcbiAgICAgICAgZGVsdGFTaXplID0gbmV4dEl0ZW1bcG9zUHJvcF0gLSBkcmFnZ2luZ0JvdW5kW3Bvc1Byb3BdIC0gZHJhZ2dpbmdCb3VuZFtzaXplUHJvcF0gLSBzbmFwRGlzdGFuY2U7XG4gICAgICAgIG92ZXJyaWRlU2l6ZSA9IHRydWU7XG4gICAgICB9XG4gICAgICBpZiAoZHJhdyAmJiAob3ZlcnJpZGVQb3MgfHwgb3ZlcnJpZGVTaXplKSkge1xuICAgICAgICBpZiAoZGlyZWN0aW9uID09PSAndicpIHtcbiAgICAgICAgICBjZW50ZXJYID0gZ2V0SW50ZXJzZWN0aW9uQ2VudGVyWChiLCBuZXh0SXRlbSk7XG4gICAgICAgICAgZHJhd1ZlcnRpY2FsRGlzdGFuY2UoY2VudGVyWCwgbmV4dEl0ZW1bcG9zUHJvcF0gLSBzbmFwRGlzdGFuY2UsIHNuYXBEaXN0YW5jZSwgZHJhdywgdGhlbWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNlbnRlclggPSBnZXRJbnRlcnNlY3Rpb25DZW50ZXJZKGIsIG5leHRJdGVtKTtcbiAgICAgICAgICBkcmF3SG9yaXpvbnRhbERpc3RhbmNlKG5leHRJdGVtW3Bvc1Byb3BdIC0gc25hcERpc3RhbmNlLCBjZW50ZXJYLCBzbmFwRGlzdGFuY2UsIGRyYXcsIHRoZW1lKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYWxsUmVjdHMubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgICBjb25zdCBjdXJyZW50ID0gYWxsUmVjdHNbaV07XG4gICAgICBjb25zdCBuZXh0ID0gYWxsUmVjdHNbaSArIDFdO1xuICAgICAgY29uc3QgaGFzRHJhZ2dpbmdJdGVtID0gY3VycmVudCA9PT0gYiB8fCBuZXh0ID09PSBiO1xuICAgICAgY29uc3Qgc3BhY2UgPSBuZXh0W3Bvc1Byb3BdIC0gY3VycmVudFtwb3NQcm9wXSAtIGN1cnJlbnRbc2l6ZVByb3BdO1xuICAgICAgaWYgKCFoYXNEcmFnZ2luZ0l0ZW0gJiYgc3BhY2UgPT09IHNuYXBEaXN0YW5jZSkge1xuICAgICAgICBpZiAoZHJhdykge1xuICAgICAgICAgIGlmIChkaXJlY3Rpb24gPT09ICd2Jykge1xuICAgICAgICAgICAgY2VudGVyWCA9IGdldEludGVyc2VjdGlvbkNlbnRlclgoY3VycmVudCwgbmV4dCk7XG4gICAgICAgICAgICBkcmF3VmVydGljYWxEaXN0YW5jZShjZW50ZXJYLCBjdXJyZW50W3Bvc1Byb3BdICsgY3VycmVudFtzaXplUHJvcF0sIHNuYXBEaXN0YW5jZSwgZHJhdywgdGhlbWUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjZW50ZXJYID0gZ2V0SW50ZXJzZWN0aW9uQ2VudGVyWShjdXJyZW50LCBuZXh0KTtcbiAgICAgICAgICAgIGRyYXdIb3Jpem9udGFsRGlzdGFuY2UoY3VycmVudFtwb3NQcm9wXSArIGN1cnJlbnRbc2l6ZVByb3BdLCBjZW50ZXJYLCBzbmFwRGlzdGFuY2UsIGRyYXcsIHRoZW1lKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGRlbHRhUG9zLFxuICAgIGRlbHRhU2l6ZSxcbiAgICBvdmVycmlkZVBvcyxcbiAgICBvdmVycmlkZVNpemVcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNhbFNuYXBEaXN0YW5jZShkcmFnZ2luZ0JvdW5kOiBDbGllbnRSZWN0LCBkZWx0YTogUm5kRGVsdGEsXG4gIHNpYmxpbmdCb3VuZHM6IEFycmF5PENsaWVudFJlY3Q+LCBkaXJlY3Rpb246ICdoJyB8ICd2JywgZml4ZWRTaWRlOiBGaXhlZFNpZGVzKToge1xuICAgIHByZXZpb3VzOiBudW1iZXIsXG4gICAgbmV4dDogbnVtYmVyLFxuICAgIGludm9sdmVkUmVjdHM6IEFycmF5PENsaWVudFJlY3Q+XG4gIH0ge1xuICAvLyBuZXcgcG9zaXRpb24gZm9yIHRoZSBkcmFnZ2luZyBpdGVtXG4gIGNvbnN0IGI6IFBhcnRpYWw8Q2xpZW50UmVjdD4gPSB7XG4gICAgbGVmdDogZHJhZ2dpbmdCb3VuZC5sZWZ0ICsgZGVsdGEueCxcbiAgICB0b3A6IGRyYWdnaW5nQm91bmQudG9wICsgZGVsdGEueSxcbiAgICB3aWR0aDogZHJhZ2dpbmdCb3VuZC53aWR0aCArIGRlbHRhLncsXG4gICAgaGVpZ2h0OiBkcmFnZ2luZ0JvdW5kLmhlaWdodCArIGRlbHRhLmhcbiAgfTtcblxuICBsZXQgbm90T3ZlcmxhcHBlZDogQXJyYXk8Q2xpZW50UmVjdD4gPSBbXTtcbiAgbGV0IHNpemVQcm9wLCBwb3NQcm9wO1xuICBpZiAoZGlyZWN0aW9uID09PSAnaCcpIHtcbiAgICBzaXplUHJvcCA9ICd3aWR0aCc7XG4gICAgcG9zUHJvcCA9ICdsZWZ0JztcbiAgfSBlbHNlIHtcbiAgICBzaXplUHJvcCA9ICdoZWlnaHQnO1xuICAgIHBvc1Byb3AgPSAndG9wJztcbiAgfVxuXG4gIC8vIHNlcGFyYXRlIHRoZSBzaWJsaW5ncyBpbnRvIHR3byBncm91cFxuICBzaWJsaW5nQm91bmRzLmZvckVhY2goc0l0ZW0gPT4ge1xuICAgIGlmIChkaXJlY3Rpb24gPT09ICdoJykge1xuICAgICAgaWYgKChiLnRvcCA+PSBzSXRlbS50b3AgJiYgYi50b3AgPD0gc0l0ZW0udG9wICsgc0l0ZW0uaGVpZ2h0IHx8IHNJdGVtLnRvcCA+PSBiLnRvcCAmJiBzSXRlbS50b3AgPD0gYi50b3AgKyBiLmhlaWdodCkgJiZcbiAgICAgIChiLmxlZnQgPiBzSXRlbS5sZWZ0ICsgc0l0ZW0ud2lkdGggKyB0b2xlcmFuY2UgfHwgYi5sZWZ0ICsgYi53aWR0aCArIHRvbGVyYW5jZSA8IHNJdGVtLmxlZnQpKSB7XG4gICAgICAgIG5vdE92ZXJsYXBwZWQucHVzaChzSXRlbSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICgoYi5sZWZ0ID49IHNJdGVtLmxlZnQgJiYgYi5sZWZ0IDw9IHNJdGVtLmxlZnQgKyBzSXRlbS53aWR0aCB8fCBzSXRlbS5sZWZ0ID49IGIubGVmdCAmJiBzSXRlbS5sZWZ0IDw9IGIubGVmdCArIGIud2lkdGgpICYmXG4gICAgICAoYi50b3AgPiBzSXRlbS50b3AgKyBzSXRlbS5oZWlnaHQgKyB0b2xlcmFuY2UgfHwgYi50b3AgKyBiLmhlaWdodCArIHRvbGVyYW5jZSA8IHNJdGVtLnRvcCkpIHtcbiAgICAgICAgbm90T3ZlcmxhcHBlZC5wdXNoKHNJdGVtKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICBpZiAobm90T3ZlcmxhcHBlZC5sZW5ndGggPD0gMSkge1xuICAgIHJldHVybiB7XG4gICAgICBwcmV2aW91czogLTEsXG4gICAgICBuZXh0OiAtMSxcbiAgICAgIGludm9sdmVkUmVjdHM6IG5vdE92ZXJsYXBwZWRcbiAgICB9O1xuICB9XG5cbiAgY29uc3Qgb3JpZ2luYWxOb3RPdmVybGFwcGVkID0gbm90T3ZlcmxhcHBlZDtcbiAgbm90T3ZlcmxhcHBlZCA9IFtdLmNvbmNhdChub3RPdmVybGFwcGVkLCBiKTtcbiAgbm90T3ZlcmxhcHBlZC5zb3J0KChhLCBiKSA9PiBhW3Bvc1Byb3BdIC0gYltwb3NQcm9wXSk7XG5cbiAgbGV0IHByZXZpb3VzRGlzdCA9IC0xO1xuICBsZXQgbmV4dERpc3QgPSAtMTtcbiAgY29uc3QgaXNGaXJzdCA9IGIgPT09IG5vdE92ZXJsYXBwZWRbMF07XG4gIGNvbnN0IGlzTGFzdCA9IGIgPT09IG5vdE92ZXJsYXBwZWRbbm90T3ZlcmxhcHBlZC5sZW5ndGggLSAxXTtcbiAgaWYgKGlzRmlyc3QpIHtcbiAgICBjb25zdCBuZXh0SXRlbSA9IG5vdE92ZXJsYXBwZWRbMV07XG4gICAgbmV4dERpc3QgPSBuZXh0SXRlbVtwb3NQcm9wXSAtIGJbcG9zUHJvcF0gLSBiW3NpemVQcm9wXTtcbiAgfSBlbHNlIGlmIChpc0xhc3QpIHtcbiAgICBjb25zdCBwcmV2aW91c0l0ZW0gPSBub3RPdmVybGFwcGVkW25vdE92ZXJsYXBwZWQubGVuZ3RoIC0gMl07XG4gICAgcHJldmlvdXNEaXN0ID0gYltwb3NQcm9wXSAtIHByZXZpb3VzSXRlbVtwb3NQcm9wXSAtIHByZXZpb3VzSXRlbVtzaXplUHJvcF07XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgaWR4ID0gbm90T3ZlcmxhcHBlZC5pbmRleE9mKGIgYXMgQ2xpZW50UmVjdCk7XG4gICAgY29uc3QgcHJldmlvdXNJdGVtID0gbm90T3ZlcmxhcHBlZFtpZHggLSAxXTtcbiAgICBjb25zdCBuZXh0SXRlbSA9IG5vdE92ZXJsYXBwZWRbaWR4ICsgMV07XG4gICAgcHJldmlvdXNEaXN0ID0gYltwb3NQcm9wXSAtIHByZXZpb3VzSXRlbVtwb3NQcm9wXSAtIHByZXZpb3VzSXRlbVtzaXplUHJvcF07XG4gICAgbmV4dERpc3QgPSBuZXh0SXRlbVtwb3NQcm9wXSAtIGJbcG9zUHJvcF0gLSBiW3NpemVQcm9wXTtcblxuICAgIGlmIChNYXRoLmFicyhwcmV2aW91c0Rpc3QgLSBuZXh0RGlzdCkgPD0gdG9sZXJhbmNlKSB7XG4gICAgICBpZiAoZml4ZWRTaWRlID09PSBGaXhlZFNpZGVzLk5vbmUpIHtcbiAgICAgICAgY29uc3QgbWVhbkRpc3QgPSAocHJldmlvdXNEaXN0ICsgbmV4dERpc3QpIC8gMjtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBwcmV2aW91czogbWVhbkRpc3QsXG4gICAgICAgICAgbmV4dDogbWVhbkRpc3QsXG4gICAgICAgICAgaW52b2x2ZWRSZWN0czogb3JpZ2luYWxOb3RPdmVybGFwcGVkXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoZml4ZWRTaWRlID09PSBGaXhlZFNpZGVzLkxlZnQgfHwgZml4ZWRTaWRlID09PSBGaXhlZFNpZGVzLlRvcCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHByZXZpb3VzOiBwcmV2aW91c0Rpc3QsXG4gICAgICAgICAgbmV4dDogcHJldmlvdXNEaXN0LFxuICAgICAgICAgIGludm9sdmVkUmVjdHM6IG9yaWdpbmFsTm90T3ZlcmxhcHBlZFxuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGZpeGVkU2lkZSA9PT0gRml4ZWRTaWRlcy5SaWdodCB8fCBmaXhlZFNpZGUgPT09IEZpeGVkU2lkZXMuQm90dG9tKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgcHJldmlvdXM6IG5leHREaXN0LFxuICAgICAgICAgIG5leHQ6IG5leHREaXN0LFxuICAgICAgICAgIGludm9sdmVkUmVjdHM6IG9yaWdpbmFsTm90T3ZlcmxhcHBlZFxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgbGV0IGNsb3Nlc3RQcmV2ID0gbm90T3ZlcmxhcHBlZFtub3RPdmVybGFwcGVkLmxlbmd0aCAtIDFdW3Bvc1Byb3BdIC0gbm90T3ZlcmxhcHBlZFswXVtwb3NQcm9wXTtcbiAgbGV0IGNsb3Nlc3ROZXh0ID0gY2xvc2VzdFByZXY7XG4gIGxldCBzbmFwVG9QcmV2aW91cyA9IGZhbHNlO1xuICBsZXQgc25hcFRvTmV4dCA9IGZhbHNlO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IG5vdE92ZXJsYXBwZWQubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgY29uc3QgY3VycmVudCA9IG5vdE92ZXJsYXBwZWRbaV07XG4gICAgY29uc3QgbmV4dCA9IG5vdE92ZXJsYXBwZWRbaSArIDFdO1xuICAgIGlmIChuZXh0ICE9PSBiICYmIGN1cnJlbnQgIT09IGIpIHtcbiAgICAgIGNvbnN0IHNwYWNlID0gbmV4dFtwb3NQcm9wXSAtIGN1cnJlbnRbcG9zUHJvcF0gLSBjdXJyZW50W3NpemVQcm9wXTtcbiAgICAgIGlmIChwcmV2aW91c0Rpc3QgPiAwICYmIE1hdGguYWJzKHNwYWNlIC0gcHJldmlvdXNEaXN0KSA8PSB0b2xlcmFuY2UpIHtcbiAgICAgICAgY2xvc2VzdFByZXYgPSBNYXRoLmFicyhjbG9zZXN0UHJldiAtIHByZXZpb3VzRGlzdCkgPiBNYXRoLmFicyhzcGFjZSAtIHByZXZpb3VzRGlzdCkgPyBzcGFjZSA6IGNsb3Nlc3RQcmV2O1xuICAgICAgICBzbmFwVG9QcmV2aW91cyA9IHRydWU7XG4gICAgICB9XG4gICAgICBpZiAobmV4dERpc3QgPiAwICYmIE1hdGguYWJzKHNwYWNlIC0gbmV4dERpc3QpIDw9IHRvbGVyYW5jZSkge1xuICAgICAgICBjbG9zZXN0TmV4dCA9IE1hdGguYWJzKGNsb3Nlc3ROZXh0IC0gbmV4dERpc3QpID4gTWF0aC5hYnMoc3BhY2UgLSBuZXh0RGlzdCkgPyBzcGFjZSA6IGNsb3Nlc3ROZXh0O1xuICAgICAgICBzbmFwVG9OZXh0ID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBpZiAoc25hcFRvUHJldmlvdXMgJiYgc25hcFRvTmV4dCkge1xuICAgIGlmIChmaXhlZFNpZGUgPT09IEZpeGVkU2lkZXMuTm9uZSkge1xuICAgICAgaWYgKGNsb3Nlc3ROZXh0IDwgY2xvc2VzdFByZXYpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBwcmV2aW91czogLTEsXG4gICAgICAgICAgbmV4dDogY2xvc2VzdE5leHQsXG4gICAgICAgICAgaW52b2x2ZWRSZWN0czogb3JpZ2luYWxOb3RPdmVybGFwcGVkXG4gICAgICAgIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHByZXZpb3VzOiBjbG9zZXN0UHJldixcbiAgICAgICAgICBuZXh0OiAtMSxcbiAgICAgICAgICBpbnZvbHZlZFJlY3RzOiBvcmlnaW5hbE5vdE92ZXJsYXBwZWRcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGZpeGVkU2lkZSA9PT0gRml4ZWRTaWRlcy5MZWZ0IHx8IGZpeGVkU2lkZSA9PT0gRml4ZWRTaWRlcy5Ub3ApIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHByZXZpb3VzOiAtMSxcbiAgICAgICAgbmV4dDogY2xvc2VzdE5leHQsXG4gICAgICAgIGludm9sdmVkUmVjdHM6IG9yaWdpbmFsTm90T3ZlcmxhcHBlZFxuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcHJldmlvdXM6IGNsb3Nlc3RQcmV2LFxuICAgICAgICBuZXh0OiAtMSxcbiAgICAgICAgaW52b2x2ZWRSZWN0czogb3JpZ2luYWxOb3RPdmVybGFwcGVkXG4gICAgICB9O1xuICAgIH1cbiAgfSBlbHNlIGlmIChzbmFwVG9QcmV2aW91cyAmJiAhc25hcFRvTmV4dCAmJiBmaXhlZFNpZGUgIT09IEZpeGVkU2lkZXMuTGVmdCAmJiBmaXhlZFNpZGUgIT09IEZpeGVkU2lkZXMuVG9wKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHByZXZpb3VzOiBjbG9zZXN0UHJldixcbiAgICAgIG5leHQ6IC0xLFxuICAgICAgaW52b2x2ZWRSZWN0czogb3JpZ2luYWxOb3RPdmVybGFwcGVkXG4gICAgfTtcbiAgfSBlbHNlIGlmICghc25hcFRvUHJldmlvdXMgJiYgc25hcFRvTmV4dCAmJiBmaXhlZFNpZGUgIT09IEZpeGVkU2lkZXMuUmlnaHQgJiYgZml4ZWRTaWRlICE9PSBGaXhlZFNpZGVzLkJvdHRvbSkge1xuICAgIHJldHVybiB7XG4gICAgICBwcmV2aW91czogLTEsXG4gICAgICBuZXh0OiBjbG9zZXN0TmV4dCxcbiAgICAgIGludm9sdmVkUmVjdHM6IG9yaWdpbmFsTm90T3ZlcmxhcHBlZFxuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHByZXZpb3VzOiAtMSxcbiAgICAgIG5leHQ6IC0xLFxuICAgICAgaW52b2x2ZWRSZWN0czogb3JpZ2luYWxOb3RPdmVybGFwcGVkXG4gICAgfTtcbiAgfVxufVxuXG5mdW5jdGlvbiBkcmF3VmVydGljYWxEaXN0YW5jZShsZWZ0OiBudW1iZXIsIHRvcDogbnVtYmVyLCBsZW5ndGg6IG51bWJlciwgZHJhdzogU1ZHLkRvYywgdGhlbWU6IElNVGhlbWVWYXJpYWJsZXMpIHtcbiAgZHJhdy5wb2x5bGluZShbW2xlZnQgLSB0b2xlcmFuY2UsIHRvcF0sIFtsZWZ0ICsgdG9sZXJhbmNlLCB0b3BdXSlcbiAgICAuZmlsbCgnbm9uZScpXG4gICAgLnN0cm9rZSh7IHdpZHRoOiAxLCBjb2xvcjogdGhlbWUuY29sb3JzLnBhbGV0dGUuZGFuZ2VyWzUwMF0gfSk7XG4gIGRyYXcucG9seWxpbmUoW1tsZWZ0LCB0b3BdLCBbbGVmdCwgdG9wICsgbGVuZ3RoXV0pXG4gICAgLmZpbGwoJ25vbmUnKVxuICAgIC5zdHJva2UoeyB3aWR0aDogMSwgY29sb3I6IHRoZW1lLmNvbG9ycy5wYWxldHRlLmRhbmdlcls1MDBdIH0pO1xuICBkcmF3LnBvbHlsaW5lKFtbbGVmdCAtIHRvbGVyYW5jZSwgdG9wICsgbGVuZ3RoXSwgW2xlZnQgKyB0b2xlcmFuY2UsIHRvcCArIGxlbmd0aF1dKVxuICAgIC5maWxsKCdub25lJylcbiAgICAuc3Ryb2tlKHsgd2lkdGg6IDEsIGNvbG9yOiB0aGVtZS5jb2xvcnMucGFsZXR0ZS5kYW5nZXJbNTAwXSB9KTtcbn1cblxuZnVuY3Rpb24gZHJhd0hvcml6b250YWxEaXN0YW5jZShsZWZ0OiBudW1iZXIsIHRvcDogbnVtYmVyLCBsZW5ndGg6IG51bWJlciwgZHJhdzogU1ZHLkRvYywgIHRoZW1lOiBJTVRoZW1lVmFyaWFibGVzKSB7XG4gIGRyYXcucG9seWxpbmUoW1tsZWZ0LCB0b3AgLSB0b2xlcmFuY2VdLCBbbGVmdCwgdG9wICsgdG9sZXJhbmNlXV0pXG4gICAgLmZpbGwoJ25vbmUnKVxuICAgIC5zdHJva2UoeyB3aWR0aDogMSwgY29sb3I6IHRoZW1lLmNvbG9ycy5wYWxldHRlLmRhbmdlcls1MDBdIH0pO1xuICBkcmF3LnBvbHlsaW5lKFtbbGVmdCwgdG9wXSwgW2xlZnQgKyBsZW5ndGgsIHRvcF1dKVxuICAgIC5maWxsKCdub25lJylcbiAgICAuc3Ryb2tlKHsgd2lkdGg6IDEsIGNvbG9yOiB0aGVtZS5jb2xvcnMucGFsZXR0ZS5kYW5nZXJbNTAwXSB9KTtcbiAgZHJhdy5wb2x5bGluZShbW2xlZnQgKyBsZW5ndGgsIHRvcCAtIHRvbGVyYW5jZV0sIFtsZWZ0ICsgbGVuZ3RoLCB0b3AgKyB0b2xlcmFuY2VdXSlcbiAgICAuZmlsbCgnbm9uZScpXG4gICAgLnN0cm9rZSh7IHdpZHRoOiAxLCBjb2xvcjogdGhlbWUuY29sb3JzLnBhbGV0dGUuZGFuZ2VyWzUwMF0gfSk7XG59XG5cbi8qKlxuICogUHJvamVjdCB0aGUgcmVjdDEgYW5kIHJlY3QyIHRvIFggYXhpcywgdGhlbiB0aGV5IGJlY29tZSB0d28gbGluZXMuXG4gKiBJZiBsaW5lIGEgaXMgY29udGFpbmVkIGluIGFub3RoZXIsIHJldHVybiB0aGUgY2VudGVyIG9mIHRoZSBsaW5lIGEuXG4gKiBPdGhlcndpc2UsIHJldHVybiB0aGUgY2VudGVyIG9mIHRoZSBpbnRlcnNlY3Rpb24gcGFydC5cbiAqIEBwYXJhbSByZWN0MVxuICogQHBhcmFtIHJlY3QyXG4gKi9cbmZ1bmN0aW9uIGdldEludGVyc2VjdGlvbkNlbnRlclgocmVjdDE6IFBhcnRpYWw8Q2xpZW50UmVjdD4sIHJlY3QyOiBQYXJ0aWFsPENsaWVudFJlY3Q+KTogbnVtYmVyIHtcbiAgaWYgKHJlY3QxLmxlZnQgPj0gcmVjdDIubGVmdCAmJiByZWN0MS5sZWZ0ICsgcmVjdDEud2lkdGggPD0gcmVjdDIubGVmdCArIHJlY3QyLndpZHRoKSB7XG4gICAgcmV0dXJuIHJlY3QxLmxlZnQgKyByZWN0MS53aWR0aCAvIDI7XG4gIH0gZWxzZSBpZiAocmVjdDIubGVmdCA+PSByZWN0MS5sZWZ0ICYmIHJlY3QyLmxlZnQgKyByZWN0Mi53aWR0aCA8PSByZWN0MS5sZWZ0ICsgcmVjdDEud2lkdGgpIHtcbiAgICByZXR1cm4gcmVjdDIubGVmdCArIHJlY3QyLndpZHRoIC8gMjtcbiAgfSBlbHNlIGlmIChyZWN0MS5sZWZ0IDw9IHJlY3QyLmxlZnQpIHtcbiAgICByZXR1cm4gcmVjdDIubGVmdCArIChyZWN0MS5sZWZ0ICsgcmVjdDEud2lkdGggLSByZWN0Mi5sZWZ0KSAvIDI7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHJlY3QxLmxlZnQgKyAocmVjdDIubGVmdCArIHJlY3QyLndpZHRoIC0gcmVjdDEubGVmdCkgLyAyO1xuICB9XG59XG5cbi8qKlxuICogU2ltaWxhciBhcyB0aGUgZ2V0SW50ZXJzZWN0aW9uQ2VudGVyWFxuICogQHBhcmFtIHJlY3QxXG4gKiBAcGFyYW0gcmVjdDJcbiAqL1xuZnVuY3Rpb24gZ2V0SW50ZXJzZWN0aW9uQ2VudGVyWShyZWN0MTogUGFydGlhbDxDbGllbnRSZWN0PiwgcmVjdDI6IFBhcnRpYWw8Q2xpZW50UmVjdD4pOiBudW1iZXIge1xuICBpZiAocmVjdDEudG9wID49IHJlY3QyLnRvcCAmJiByZWN0MS50b3AgKyByZWN0MS5oZWlnaHQgPD0gcmVjdDIudG9wICsgcmVjdDIuaGVpZ2h0KSB7XG4gICAgcmV0dXJuIHJlY3QxLnRvcCArIHJlY3QxLmhlaWdodCAvIDI7XG4gIH0gZWxzZSBpZiAocmVjdDIudG9wID49IHJlY3QxLnRvcCAmJiByZWN0Mi50b3AgKyByZWN0Mi5oZWlnaHQgPD0gcmVjdDEudG9wICsgcmVjdDEuaGVpZ2h0KSB7XG4gICAgcmV0dXJuIHJlY3QyLnRvcCArIHJlY3QyLmhlaWdodCAvIDI7XG4gIH0gZWxzZSBpZiAocmVjdDEudG9wIDw9IHJlY3QyLnRvcCkge1xuICAgIHJldHVybiByZWN0Mi50b3AgKyAocmVjdDEudG9wICsgcmVjdDEuaGVpZ2h0IC0gcmVjdDIudG9wKSAvIDI7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHJlY3QxLnRvcCArIChyZWN0Mi50b3AgKyByZWN0Mi5oZWlnaHQgLSByZWN0MS50b3ApIC8gMjtcbiAgfVxufVxuXG5mdW5jdGlvbiBmaW5kVmVydGljYWxGaXhlZFNpZGUoZGVsdGE6IFJuZERlbHRhKTogRml4ZWRTaWRlcyB7XG4gIGlmIChkZWx0YS5oID09PSAwKSB7IC8vIGRyYWcgYW5kIG1vdmVcbiAgICByZXR1cm4gRml4ZWRTaWRlcy5Ob25lO1xuICB9IGVsc2UgaWYgKGRlbHRhLnkgPT09IDApIHsgLy8gcmVzaXplIGF0IHRoZSBib3R0b20gc2lkZVxuICAgIHJldHVybiBGaXhlZFNpZGVzLlRvcDtcbiAgfSBlbHNlIHsgLy8gcmVzaXplIGF0IHRoZSB0b3Agc2lkZVxuICAgIHJldHVybiBGaXhlZFNpZGVzLkJvdHRvbTtcbiAgfVxufVxuXG5mdW5jdGlvbiBmaW5kSG9yaXpvbnRhbEZpeGVkU2lkZShkZWx0YTogUm5kRGVsdGEpOiBGaXhlZFNpZGVzIHtcbiAgaWYgKGRlbHRhLncgPT09IDApIHsgLy8gZHJhZyBhbmQgbW92ZVxuICAgIHJldHVybiBGaXhlZFNpZGVzLk5vbmU7XG4gIH0gZWxzZSBpZiAoZGVsdGEueCA9PT0gMCkgeyAvLyByZXNpemUgYXQgdGhlIHJpZ2h0IHNpZGVcbiAgICByZXR1cm4gRml4ZWRTaWRlcy5MZWZ0O1xuICB9IGVsc2UgeyAvLyByZXNpemUgYXQgdGhlIGxlZnQgc2lkZVxuICAgIHJldHVybiBGaXhlZFNpZGVzLlJpZ2h0O1xuICB9XG59XG5cbmZ1bmN0aW9uIGtlZXBBc3BlY3RSYXRpbyhkcmFnZ2luZ0JvdW5kOiBDbGllbnRSZWN0LCBkZWx0YTogUm5kRGVsdGEpOiBSbmREZWx0YSB7XG4gIGNvbnN0IHJhdGlvID0gZHJhZ2dpbmdCb3VuZC5oZWlnaHQgLyBkcmFnZ2luZ0JvdW5kLndpZHRoO1xuICBsZXQgdyA9IGRlbHRhLnc7XG4gIGxldCBoID0gZGVsdGEuaDtcbiAgbGV0IHggPSBkZWx0YS54O1xuICBsZXQgeSA9IGRlbHRhLnk7XG5cbiAgaWYgKE1hdGguYWJzKHcpICogcmF0aW8gPiBNYXRoLmFicyhoKSkge1xuICAgIGggPSBNYXRoLnJvdW5kKHcgKiByYXRpbyk7XG4gIH0gZWxzZSB7XG4gICAgdyA9IE1hdGgucm91bmQoaCAvIHJhdGlvKTtcbiAgfVxuICBpZiAoeCAhPT0gMCkge1xuICAgIHggPSAtdztcbiAgfVxuICBpZiAoeSAhPT0gMCkge1xuICAgIHkgPSAtaDtcbiAgfVxuICByZXR1cm4geyB4LCB5LCB3LCBoIH07XG59XG4iXSwibWFwcGluZ3MiOiJBQUdBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBZ0JBOzs7OztBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBV0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7Ozs7OztBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./jimu-layouts/lib/fixed-layout/builder/move_guide.ts\n");

/***/ }),

/***/ "./jimu-layouts/lib/fixed-layout/default-setting.ts":
/*!**********************************************************!*\
  !*** ./jimu-layouts/lib/fixed-layout/default-setting.ts ***!
  \**********************************************************/
/*! exports provided: DEFAULT_FIX_LAYOUT_SETTING, DEFAULT_FIX_LAYOUT_ITEM_SETTING */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DEFAULT_FIX_LAYOUT_SETTING\", function() { return DEFAULT_FIX_LAYOUT_SETTING; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DEFAULT_FIX_LAYOUT_ITEM_SETTING\", function() { return DEFAULT_FIX_LAYOUT_ITEM_SETTING; });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jimu_core__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _default_common_setting__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../default-common-setting */ \"./jimu-layouts/lib/default-common-setting.ts\");\n\n\nvar DEFAULT_FIX_LAYOUT_SETTING = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"lodash\"].assign({}, {\n    gridSize: 1,\n});\nvar DEFAULT_FIX_LAYOUT_ITEM_SETTING = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"lodash\"].assign({}, _default_common_setting__WEBPACK_IMPORTED_MODULE_1__[\"DEFAULT_LAYOUT_ITEM_SETTING\"], {\n    lockParent: false,\n    lockLayout: false,\n    autoProps: {},\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWxheW91dHMvbGliL2ZpeGVkLWxheW91dC9kZWZhdWx0LXNldHRpbmcudHMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qaW11LWxheW91dHMvbGliL2ZpeGVkLWxheW91dC9kZWZhdWx0LXNldHRpbmcudHM/ZDA0NCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBGaXhlZExheW91dFNldHRpbmcsIEZpeGVkTGF5b3V0SXRlbVNldHRpbmcgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBsb2Rhc2ggfSBmcm9tICdqaW11LWNvcmUnO1xuaW1wb3J0IHsgREVGQVVMVF9MQVlPVVRfSVRFTV9TRVRUSU5HIH0gZnJvbSAnLi4vZGVmYXVsdC1jb21tb24tc2V0dGluZyc7XG5cbmV4cG9ydCBjb25zdCBERUZBVUxUX0ZJWF9MQVlPVVRfU0VUVElORzogRml4ZWRMYXlvdXRTZXR0aW5nID0gbG9kYXNoLmFzc2lnbih7fSwgIHtcbiAgZ3JpZFNpemU6IDEsXG59KTtcblxuZXhwb3J0IGNvbnN0IERFRkFVTFRfRklYX0xBWU9VVF9JVEVNX1NFVFRJTkc6IEZpeGVkTGF5b3V0SXRlbVNldHRpbmcgPSBsb2Rhc2guYXNzaWduKHt9LCBERUZBVUxUX0xBWU9VVF9JVEVNX1NFVFRJTkcsIHtcbiAgbG9ja1BhcmVudDogZmFsc2UsXG4gIGxvY2tMYXlvdXQ6IGZhbHNlLFxuICBhdXRvUHJvcHM6IHt9LFxufSk7XG4iXSwibWFwcGluZ3MiOiJBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./jimu-layouts/lib/fixed-layout/default-setting.ts\n");

/***/ }),

/***/ "./jimu-layouts/lib/fixed-layout/fixed-layout-util.ts":
/*!************************************************************!*\
  !*** ./jimu-layouts/lib/fixed-layout/fixed-layout-util.ts ***!
  \************************************************************/
/*! exports provided: sortLayoutItems, fixedLayoutTransform, autoResponseToDevice, intersects, contains, mergePos, getAbsolutePos, generateResizingBBoxStyle, generateBBoxStyle, flipAutoProps, flipBBox, applyPositionSetting, forceAspectRatio, applySnapResult */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"sortLayoutItems\", function() { return sortLayoutItems; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"fixedLayoutTransform\", function() { return fixedLayoutTransform; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"autoResponseToDevice\", function() { return autoResponseToDevice; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"intersects\", function() { return intersects; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"contains\", function() { return contains; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"mergePos\", function() { return mergePos; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getAbsolutePos\", function() { return getAbsolutePos; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"generateResizingBBoxStyle\", function() { return generateResizingBBoxStyle; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"generateBBoxStyle\", function() { return generateBBoxStyle; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"flipAutoProps\", function() { return flipAutoProps; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"flipBBox\", function() { return flipBBox; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"applyPositionSetting\", function() { return applyPositionSetting; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"forceAspectRatio\", function() { return forceAspectRatio; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"applySnapResult\", function() { return applySnapResult; });\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils */ \"./jimu-layouts/lib/utils.ts\");\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jimu_core__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../types */ \"./jimu-layouts/lib/types.ts\");\nvar __assign = (undefined && undefined.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\n/* eslint-disable prefer-const */\n\n\n\nfunction sortLayoutItems(layout) {\n    if (!layout.content || Object.keys(layout.content).length === 0) {\n        return [];\n    }\n    var defaultSize = 1280;\n    var parseValue = function (value) {\n        return Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"isPercentage\"])(value) ? (parseFloat(value) * defaultSize) / 100 : +value;\n    };\n    var sortFunc = function (item1, item2) {\n        // compare top\n        var top1 = parseValue(item1.bbox.top);\n        var top2 = parseValue(item2.bbox.top);\n        if (top1 > top2) {\n            return 1;\n        }\n        if (top1 < top2) {\n            return -1;\n        }\n        // compare left\n        var left1 = parseValue(item1.bbox.left);\n        var left2 = parseValue(item2.bbox.left);\n        if (left1 > left2) {\n            return 1;\n        }\n        if (left1 < left2) {\n            return -1;\n        }\n        return 0;\n    };\n    return Object.keys(layout.content)\n        .map(function (key) { return layout.content[key]; })\n        .sort(sortFunc)\n        .map(function (layoutItem) { return layoutItem.id; });\n}\nfunction fixedLayoutTransform(layout, fromSizeMode, toSizeMode) {\n    var fromSizeModeWidth = jimu_core__WEBPACK_IMPORTED_MODULE_1__[\"utils\"].getSizeModeWidth(fromSizeMode);\n    var toSizeModeWidth = jimu_core__WEBPACK_IMPORTED_MODULE_1__[\"utils\"].getSizeModeWidth(toSizeMode);\n    if (fromSizeModeWidth < toSizeModeWidth) {\n        return layout;\n    }\n    return autoResponseToDevice(layout, toSizeModeWidth);\n}\n/**\n * Convert a layout to a small size(width) layout.\n *\n * Return the new layout.\n *\n *\n * @param layout\n * @param convertToColumn\n * @param appConfig\n */\nfunction autoResponseToDevice(layout, deviceWidth) {\n    var defaultWidth = deviceWidth;\n    var defaultHeight = 800;\n    var content = layout.order;\n    if (!content || content.length === 0) {\n        return layout;\n    }\n    var updatedLayout = Object(jimu_core__WEBPACK_IMPORTED_MODULE_1__[\"Immutable\"])(layout);\n    var bboxes = [];\n    content.forEach(function (itemId) {\n        bboxes.push(__assign({ id: itemId }, getAbsolutePos(layout.content[itemId].bbox, defaultWidth, defaultHeight)));\n    });\n    bboxes.sort(sortPos);\n    // merge the items that are contained by another\n    var groupedBBoxes = [bboxes[0]];\n    var _loop_1 = function (i) {\n        var item = bboxes[i];\n        var grouped = groupedBBoxes.some(function (b) {\n            if (contains(b, item)) {\n                // b is always at the top left of the item after sorting\n                if (!b.content) {\n                    b.content = [];\n                }\n                b.content.push(__assign({}, item));\n                return true;\n            }\n        });\n        if (!grouped) {\n            groupedBBoxes.push(item);\n        }\n    };\n    for (var i = 1; i < bboxes.length; i++) {\n        _loop_1(i);\n    }\n    // restrict the bbox of each item into the container\n    var lastTop = 0, updatedContent = [];\n    groupedBBoxes.forEach(function (b) {\n        var deltaY = 0;\n        restrictPos(b, defaultWidth);\n        if (b.y < lastTop) {\n            deltaY = lastTop - b.y;\n            b.y = lastTop;\n        }\n        lastTop = b.y + b.h;\n        updatedLayout = updatedLayout\n            .setIn(['content', b.id, 'bbox'], {\n            left: Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"toRatio\"])(b.x, defaultWidth),\n            top: b.y + \"px\",\n            width: Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"toRatio\"])(b.w, defaultWidth),\n            height: b.h + \"px\",\n        })\n            .setIn(['content', b.id, 'setting', 'autoProps', 'width'], _types__WEBPACK_IMPORTED_MODULE_2__[\"LayoutItemSizeModes\"].Custom);\n        updatedContent.push(b.id);\n        if (b.content) {\n            b.content.forEach(function (subItem) {\n                restrictPos(subItem, defaultWidth);\n                if (deltaY > 0) {\n                    subItem.y += deltaY;\n                }\n                updatedLayout = updatedLayout\n                    .setIn(['content', b.id, 'bbox'], {\n                    left: Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"toRatio\"])(b.x, defaultWidth),\n                    top: b.y + \"px\",\n                    width: Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"toRatio\"])(b.w, defaultWidth),\n                    height: b.h + \"px\",\n                })\n                    .setIn(['content', b.id, 'setting', 'autoProps', 'width'], _types__WEBPACK_IMPORTED_MODULE_2__[\"LayoutItemSizeModes\"].Custom);\n                updatedContent.push(subItem.id);\n            });\n        }\n    });\n    updatedLayout = updatedLayout.set('order', updatedContent);\n    return updatedLayout;\n}\nfunction restrictPos(b, maxWidth, isInGroup) {\n    // restrict the bbox of each item into the container\n    if (b.x > maxWidth) {\n        if (!isInGroup) {\n            // wrap the item\n            b.x = 0;\n            b.y += b.h;\n        }\n        else {\n            // move left\n            b.x = maxWidth - b.w;\n        }\n    }\n    if (b.x < 0) {\n        b.x = 0;\n    }\n    if (b.x + b.w > maxWidth) {\n        if (b.w < maxWidth) {\n            b.x = maxWidth - b.w;\n        }\n        else {\n            b.w = maxWidth;\n            b.x = 0;\n        }\n    }\n}\nfunction sortPos(p1, p2) {\n    // top to bottom, left to right\n    if (p1.y !== p2.y) {\n        return p1.y > p2.y ? 1 : -1;\n    }\n    else if (p1.x !== p2.x) {\n        return p1.x > p2.x ? 1 : -1;\n    }\n    return 0;\n}\nfunction intersects(p1, p2) {\n    var x1 = Math.max(p1.x, p2.x);\n    var x2 = Math.min(p1.x + p1.w, p2.x + p2.w);\n    var y1 = Math.max(p1.y, p2.y);\n    var y2 = Math.min(p1.y + p1.h, p2.y + p2.h);\n    return x1 < x2 && y1 < y2;\n}\nfunction contains(p1, p2) {\n    return p1.x <= p2.x && p1.x + p1.w > p2.x + p2.w && p1.y <= p2.y && p1.y + p1.h > p2.y + p2.h;\n}\nfunction mergePos(p1, p2) {\n    var left = Math.min(p1.x, p2.x), top = Math.min(p1.y, p2.y);\n    var right = Math.max(p1.x + p1.w, p2.x + p2.w), bottom = Math.max(p1.y + p1.h, p2.y + p2.h);\n    return {\n        x: left,\n        y: top,\n        w: right - left,\n        h: bottom - top,\n    };\n}\nfunction getAbsolutePos(b, containerWidth, containerHeight) {\n    var result = {};\n    var x = 0, y = 0, w = containerWidth, h = containerHeight * 0.2; // default is 100% width, 20% height\n    if (b) {\n        ['left', 'right', 'top', 'bottom', 'width', 'height'].forEach(function (prop) {\n            if (b[prop] !== undefined && b[prop] !== 'auto') {\n                var size = ['left', 'right', 'width'].indexOf(prop) >= 0 ? containerWidth : containerHeight;\n                result[prop] = Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"isPercentage\"])(b[prop]) ? Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"fromRatio\"])(b[prop], size) : parseFloat(b[prop]);\n            }\n        });\n        if (result.left !== undefined) {\n            x = result.left;\n        }\n        if (result.width !== undefined) {\n            w = result.width;\n            if (result.left === undefined && result.right !== undefined) {\n                x = containerWidth - result.right - w;\n            }\n        }\n        else {\n            w = containerWidth - (result.left || 0) - (result.right || 0);\n        }\n        if (result.top !== undefined) {\n            y = result.top;\n        }\n        if (result.height !== undefined) {\n            h = result.height;\n            if (result.top === undefined && result.bottom !== undefined) {\n                y = containerHeight - result.bottom - h;\n            }\n        }\n        else if (result.top !== undefined && result.bottom !== undefined) {\n            h = containerHeight - result.top - result.bottom;\n        }\n    }\n    return { x: x, y: y, w: w, h: h };\n}\nfunction generateResizingBBoxStyle(initRect, containerRect, delta, autoFlip) {\n    if (autoFlip === void 0) { autoFlip = false; }\n    var result = {};\n    result.left = initRect.left + delta.dx;\n    result.width = initRect.width + delta.dw;\n    var right = containerRect.right - initRect.right;\n    if (delta.dw === 0) {\n        // move\n        result.right = right - delta.dx;\n    }\n    else if (delta.dx === 0) {\n        result.right = right - delta.dw;\n    }\n    else {\n        result.right = right;\n    }\n    result.top = initRect.top + delta.dy;\n    result.height = initRect.height + delta.dh;\n    var bottom = containerRect.bottom - initRect.bottom;\n    if (delta.dh === 0) {\n        // move\n        result.bottom = bottom - delta.dy;\n    }\n    else if (delta.dy === 0) {\n        result.bottom = bottom - delta.dh;\n    }\n    else {\n        result.bottom = bottom;\n    }\n    if (autoFlip && Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"isRTL\"])()) {\n        return flipBBox(result);\n    }\n    return result;\n}\nfunction generateBBoxStyle(bbox, setting) {\n    var _a, _b, _c, _d;\n    var result = {};\n    var autoProps = (setting && setting.autoProps) || {};\n    var box = bbox;\n    var heightMode = Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"getLayoutItemSizeMode\"])('height', bbox, autoProps);\n    var widthMode = Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"getLayoutItemSizeMode\"])('width', bbox, autoProps);\n    if (heightMode === _types__WEBPACK_IMPORTED_MODULE_2__[\"LayoutItemSizeModes\"].Stretch) {\n        result.top = box.top;\n        result.bottom = box.bottom;\n    }\n    else {\n        var topAuto = (_a = autoProps.top) !== null && _a !== void 0 ? _a : false;\n        var bottomAuto = (_b = autoProps.bottom) !== null && _b !== void 0 ? _b : false;\n        if (heightMode === _types__WEBPACK_IMPORTED_MODULE_2__[\"LayoutItemSizeModes\"].Custom) {\n            result.height = box.height;\n        }\n        // one and only one of the top or bottom can be used\n        if ((topAuto === bottomAuto || bottomAuto) && bbox.top != null) {\n            result.top = box.top;\n        }\n        else {\n            result.bottom = box.bottom;\n        }\n    }\n    if (widthMode === _types__WEBPACK_IMPORTED_MODULE_2__[\"LayoutItemSizeModes\"].Stretch) {\n        result.left = box.left;\n        result.right = box.right;\n    }\n    else {\n        var leftAuto = (_c = autoProps.left) !== null && _c !== void 0 ? _c : false;\n        var rightAuto = (_d = autoProps.right) !== null && _d !== void 0 ? _d : false;\n        if (widthMode === _types__WEBPACK_IMPORTED_MODULE_2__[\"LayoutItemSizeModes\"].Custom) {\n            result.width = box.width;\n        }\n        // one and only one of the left or right can be used\n        if (leftAuto === rightAuto) {\n            if (box.left != null) {\n                result.left = box.left;\n            }\n            else {\n                result.right = box.right;\n            }\n        }\n        else if (leftAuto && box.right != null) {\n            result.right = box.right;\n        }\n        else {\n            result.left = box.left;\n        }\n    }\n    return result;\n}\nfunction flipAutoProps(autoProps) {\n    var result = Object(jimu_core__WEBPACK_IMPORTED_MODULE_1__[\"Immutable\"])(autoProps);\n    var temp = autoProps.left;\n    return result.set('left', autoProps.right).set('right', temp);\n}\nfunction flipBBox(bbox) {\n    var result = Object(jimu_core__WEBPACK_IMPORTED_MODULE_1__[\"Immutable\"])(bbox);\n    var temp = bbox.left;\n    return result.set('left', bbox.right).set('right', temp);\n}\nfunction applyPositionSetting(bbox, itemSetting, isResizing) {\n    if (isResizing === void 0) { isResizing = false; }\n    var extraStyle = {};\n    var hCenter = itemSetting.hCenter && bbox.left === '50%';\n    var vCenter = itemSetting.vCenter && bbox.top === '50%';\n    if (hCenter && vCenter) {\n        extraStyle.right = 'auto';\n        extraStyle.bottom = 'auto';\n        extraStyle.transform = 'translate(-50%, -50%)';\n    }\n    else if (hCenter) {\n        extraStyle.right = 'auto';\n        extraStyle.transform = 'translateX(-50%)';\n    }\n    else if (vCenter) {\n        extraStyle.bottom = 'auto';\n        extraStyle.transform = 'translateY(-50%)';\n    }\n    if (!isResizing && forceAspectRatio(bbox, itemSetting)) {\n        extraStyle.height = 'auto';\n    }\n    return extraStyle;\n}\nfunction forceAspectRatio(bbox, itemSetting) {\n    return Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"getLayoutItemSizeMode\"])('width', bbox, itemSetting.autoProps) === _types__WEBPACK_IMPORTED_MODULE_2__[\"LayoutItemSizeModes\"].Custom &&\n        Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"getLayoutItemSizeMode\"])('height', bbox, itemSetting.autoProps) === _types__WEBPACK_IMPORTED_MODULE_2__[\"LayoutItemSizeModes\"].Custom &&\n        itemSetting.heightMode === 'ratio';\n}\n/**\n * Do not change the autoProps value except that value is empty.\n */\nfunction applySnapResult(bbox, containerRect, snapResult) {\n    var outputBox = Object(jimu_core__WEBPACK_IMPORTED_MODULE_1__[\"Immutable\"])(bbox);\n    var left = Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"isPercentage\"])(bbox.left) ? Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"fromRatio\"])(bbox.left, containerRect.width) : parseFloat(bbox.left);\n    var right = Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"isPercentage\"])(bbox.right) ? Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"fromRatio\"])(bbox.right, containerRect.width) : parseFloat(bbox.right);\n    var width = Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"isPercentage\"])(bbox.width) ? Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"fromRatio\"])(bbox.width, containerRect.width) : parseFloat(bbox.width);\n    if (isNaN(left)) {\n        outputBox = outputBox.set('left', containerRect.width - right - width);\n    }\n    if (isNaN(right)) {\n        outputBox = outputBox.set('right', containerRect.width - left - width);\n    }\n    if (isNaN(width)) {\n        outputBox = outputBox.set('width', containerRect.width - right - left);\n    }\n    if (snapResult.left) {\n        outputBox = outputBox.set('left', 0);\n    }\n    if (snapResult.right) {\n        outputBox = outputBox.set('right', 0);\n    }\n    var top = Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"isPercentage\"])(bbox.top) ? Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"fromRatio\"])(bbox.top, containerRect.height) : parseFloat(bbox.top);\n    var bottom = Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"isPercentage\"])(bbox.bottom) ? Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"fromRatio\"])(bbox.bottom, containerRect.height) : parseFloat(bbox.bottom);\n    var height = Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"isPercentage\"])(bbox.height) ? Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"fromRatio\"])(bbox.height, containerRect.height) : parseFloat(bbox.height);\n    if (isNaN(top)) {\n        outputBox = outputBox.set('top', containerRect.height - bottom - height);\n    }\n    if (isNaN(bottom)) {\n        outputBox = outputBox.set('bottom', containerRect.height - top - height);\n    }\n    if (isNaN(height)) {\n        outputBox = outputBox.set('height', containerRect.height - bottom - top);\n    }\n    if (snapResult.top) {\n        outputBox = outputBox.set('top', 0);\n    }\n    if (snapResult.bottom) {\n        outputBox = outputBox.set('bottom', 0);\n    }\n    return outputBox;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWxheW91dHMvbGliL2ZpeGVkLWxheW91dC9maXhlZC1sYXlvdXQtdXRpbC50cy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2ppbXUtbGF5b3V0cy9saWIvZml4ZWQtbGF5b3V0L2ZpeGVkLWxheW91dC11dGlsLnRzP2Q3YTAiXSwic291cmNlc0NvbnRlbnQiOlsiLyogZXNsaW50LWRpc2FibGUgcHJlZmVyLWNvbnN0ICovXG5pbXBvcnQgeyBpc1BlcmNlbnRhZ2UsIGZyb21SYXRpbywgdG9SYXRpbywgaXNSVEwsIGdldExheW91dEl0ZW1TaXplTW9kZSB9IGZyb20gJy4uL3V0aWxzJztcbmltcG9ydCB7XG4gIEJvdW5kaW5nQm94LFxuICBJTUxheW91dEpzb24sXG4gIEltbXV0YWJsZSxcbiAgQnJvd3NlclNpemVNb2RlLFxuICB1dGlscyBhcyBqaW11VXRpbHMsXG4gIElNTGF5b3V0SXRlbUpzb24sXG4gIElNQm91bmRpbmdCb3gsXG59IGZyb20gJ2ppbXUtY29yZSc7XG5pbXBvcnQgeyBGaXhlZExheW91dEl0ZW1TZXR0aW5nLCBMYXlvdXRJdGVtU2l6ZU1vZGVzIH0gZnJvbSAnLi4vdHlwZXMnO1xuXG5pbnRlcmZhY2UgUG9zIHtcbiAgeDogbnVtYmVyO1xuICB5OiBudW1iZXI7XG4gIHc6IG51bWJlcjtcbiAgaDogbnVtYmVyO1xufVxuXG50eXBlIEJCb3hJdGVtID0gUG9zICYge1xuICBpZDogc3RyaW5nO1xuICBjb250ZW50PzogQkJveEl0ZW1bXTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBzb3J0TGF5b3V0SXRlbXMobGF5b3V0OiBJTUxheW91dEpzb24pOiBzdHJpbmdbXSB7XG4gIGlmICghbGF5b3V0LmNvbnRlbnQgfHwgT2JqZWN0LmtleXMobGF5b3V0LmNvbnRlbnQpLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBbXTtcbiAgfVxuICBjb25zdCBkZWZhdWx0U2l6ZSA9IDEyODA7XG5cbiAgY29uc3QgcGFyc2VWYWx1ZSA9ICh2YWx1ZSk6IG51bWJlciA9PiB7XG4gICAgcmV0dXJuIGlzUGVyY2VudGFnZSh2YWx1ZSkgPyAocGFyc2VGbG9hdCh2YWx1ZSkgKiBkZWZhdWx0U2l6ZSkgLyAxMDAgOiArdmFsdWU7XG4gIH07XG5cbiAgY29uc3Qgc29ydEZ1bmMgPSAoaXRlbTE6IElNTGF5b3V0SXRlbUpzb24sIGl0ZW0yOiBJTUxheW91dEl0ZW1Kc29uKTogbnVtYmVyID0+IHtcbiAgICAvLyBjb21wYXJlIHRvcFxuICAgIGNvbnN0IHRvcDEgPSBwYXJzZVZhbHVlKGl0ZW0xLmJib3gudG9wKTtcbiAgICBjb25zdCB0b3AyID0gcGFyc2VWYWx1ZShpdGVtMi5iYm94LnRvcCk7XG4gICAgaWYgKHRvcDEgPiB0b3AyKSB7XG4gICAgICByZXR1cm4gMTtcbiAgICB9XG4gICAgaWYgKHRvcDEgPCB0b3AyKSB7XG4gICAgICByZXR1cm4gLTE7XG4gICAgfVxuICAgIC8vIGNvbXBhcmUgbGVmdFxuICAgIGNvbnN0IGxlZnQxID0gcGFyc2VWYWx1ZShpdGVtMS5iYm94LmxlZnQpO1xuICAgIGNvbnN0IGxlZnQyID0gcGFyc2VWYWx1ZShpdGVtMi5iYm94LmxlZnQpO1xuICAgIGlmIChsZWZ0MSA+IGxlZnQyKSB7XG4gICAgICByZXR1cm4gMTtcbiAgICB9XG4gICAgaWYgKGxlZnQxIDwgbGVmdDIpIHtcbiAgICAgIHJldHVybiAtMTtcbiAgICB9XG4gICAgcmV0dXJuIDA7XG4gIH07XG5cbiAgcmV0dXJuIE9iamVjdC5rZXlzKGxheW91dC5jb250ZW50KVxuICAgIC5tYXAoa2V5ID0+IGxheW91dC5jb250ZW50W2tleV0pXG4gICAgLnNvcnQoc29ydEZ1bmMpXG4gICAgLm1hcChsYXlvdXRJdGVtID0+IGxheW91dEl0ZW0uaWQpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZml4ZWRMYXlvdXRUcmFuc2Zvcm0oXG4gIGxheW91dDogSU1MYXlvdXRKc29uLFxuICBmcm9tU2l6ZU1vZGU6IEJyb3dzZXJTaXplTW9kZSxcbiAgdG9TaXplTW9kZTogQnJvd3NlclNpemVNb2RlXG4pOiBJTUxheW91dEpzb24ge1xuICBjb25zdCBmcm9tU2l6ZU1vZGVXaWR0aCA9IGppbXVVdGlscy5nZXRTaXplTW9kZVdpZHRoKGZyb21TaXplTW9kZSk7XG4gIGNvbnN0IHRvU2l6ZU1vZGVXaWR0aCA9IGppbXVVdGlscy5nZXRTaXplTW9kZVdpZHRoKHRvU2l6ZU1vZGUpO1xuICBpZiAoZnJvbVNpemVNb2RlV2lkdGggPCB0b1NpemVNb2RlV2lkdGgpIHtcbiAgICByZXR1cm4gbGF5b3V0O1xuICB9XG5cbiAgcmV0dXJuIGF1dG9SZXNwb25zZVRvRGV2aWNlKGxheW91dCwgdG9TaXplTW9kZVdpZHRoKTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0IGEgbGF5b3V0IHRvIGEgc21hbGwgc2l6ZSh3aWR0aCkgbGF5b3V0LlxuICpcbiAqIFJldHVybiB0aGUgbmV3IGxheW91dC5cbiAqXG4gKlxuICogQHBhcmFtIGxheW91dFxuICogQHBhcmFtIGNvbnZlcnRUb0NvbHVtblxuICogQHBhcmFtIGFwcENvbmZpZ1xuICovXG5leHBvcnQgZnVuY3Rpb24gYXV0b1Jlc3BvbnNlVG9EZXZpY2UobGF5b3V0OiBJTUxheW91dEpzb24sIGRldmljZVdpZHRoOiBudW1iZXIpOiBJTUxheW91dEpzb24ge1xuICBjb25zdCBkZWZhdWx0V2lkdGggPSBkZXZpY2VXaWR0aDtcbiAgY29uc3QgZGVmYXVsdEhlaWdodCA9IDgwMDtcblxuICBjb25zdCBjb250ZW50ID0gbGF5b3V0Lm9yZGVyO1xuICBpZiAoIWNvbnRlbnQgfHwgY29udGVudC5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gbGF5b3V0O1xuICB9XG5cbiAgbGV0IHVwZGF0ZWRMYXlvdXQ6IElNTGF5b3V0SnNvbiA9IEltbXV0YWJsZShsYXlvdXQpO1xuICBjb25zdCBiYm94ZXM6IEFycmF5PEJCb3hJdGVtPiA9IFtdO1xuICBjb250ZW50LmZvckVhY2goaXRlbUlkID0+IHtcbiAgICBiYm94ZXMucHVzaCh7XG4gICAgICBpZDogaXRlbUlkLFxuICAgICAgLi4uZ2V0QWJzb2x1dGVQb3MobGF5b3V0LmNvbnRlbnRbaXRlbUlkXS5iYm94LCBkZWZhdWx0V2lkdGgsIGRlZmF1bHRIZWlnaHQpLFxuICAgIH0pO1xuICB9KTtcbiAgYmJveGVzLnNvcnQoc29ydFBvcyk7XG4gIC8vIG1lcmdlIHRoZSBpdGVtcyB0aGF0IGFyZSBjb250YWluZWQgYnkgYW5vdGhlclxuICBjb25zdCBncm91cGVkQkJveGVzID0gW2Jib3hlc1swXV07XG4gIGZvciAobGV0IGkgPSAxOyBpIDwgYmJveGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgaXRlbSA9IGJib3hlc1tpXTtcbiAgICBjb25zdCBncm91cGVkID0gZ3JvdXBlZEJCb3hlcy5zb21lKGIgPT4ge1xuICAgICAgaWYgKGNvbnRhaW5zKGIsIGl0ZW0pKSB7XG4gICAgICAgIC8vIGIgaXMgYWx3YXlzIGF0IHRoZSB0b3AgbGVmdCBvZiB0aGUgaXRlbSBhZnRlciBzb3J0aW5nXG4gICAgICAgIGlmICghYi5jb250ZW50KSB7XG4gICAgICAgICAgYi5jb250ZW50ID0gW107XG4gICAgICAgIH1cbiAgICAgICAgYi5jb250ZW50LnB1c2goe1xuICAgICAgICAgIC4uLml0ZW0sXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoIWdyb3VwZWQpIHtcbiAgICAgIGdyb3VwZWRCQm94ZXMucHVzaChpdGVtKTtcbiAgICB9XG4gIH1cblxuICAvLyByZXN0cmljdCB0aGUgYmJveCBvZiBlYWNoIGl0ZW0gaW50byB0aGUgY29udGFpbmVyXG4gIGxldCBsYXN0VG9wID0gMCxcbiAgICB1cGRhdGVkQ29udGVudCA9IFtdO1xuICBncm91cGVkQkJveGVzLmZvckVhY2goYiA9PiB7XG4gICAgbGV0IGRlbHRhWSA9IDA7XG4gICAgcmVzdHJpY3RQb3MoYiwgZGVmYXVsdFdpZHRoKTtcbiAgICBpZiAoYi55IDwgbGFzdFRvcCkge1xuICAgICAgZGVsdGFZID0gbGFzdFRvcCAtIGIueTtcbiAgICAgIGIueSA9IGxhc3RUb3A7XG4gICAgfVxuICAgIGxhc3RUb3AgPSBiLnkgKyBiLmg7XG4gICAgdXBkYXRlZExheW91dCA9IHVwZGF0ZWRMYXlvdXRcbiAgICAgIC5zZXRJbihbJ2NvbnRlbnQnLCBiLmlkLCAnYmJveCddLCB7XG4gICAgICAgIGxlZnQ6IHRvUmF0aW8oYi54LCBkZWZhdWx0V2lkdGgpLFxuICAgICAgICB0b3A6IGAke2IueX1weGAsXG4gICAgICAgIHdpZHRoOiB0b1JhdGlvKGIudywgZGVmYXVsdFdpZHRoKSxcbiAgICAgICAgaGVpZ2h0OiBgJHtiLmh9cHhgLFxuICAgICAgfSlcbiAgICAgIC5zZXRJbihbJ2NvbnRlbnQnLCBiLmlkLCAnc2V0dGluZycsICdhdXRvUHJvcHMnLCAnd2lkdGgnXSwgTGF5b3V0SXRlbVNpemVNb2Rlcy5DdXN0b20pO1xuICAgIHVwZGF0ZWRDb250ZW50LnB1c2goYi5pZCk7XG4gICAgaWYgKGIuY29udGVudCkge1xuICAgICAgYi5jb250ZW50LmZvckVhY2goc3ViSXRlbSA9PiB7XG4gICAgICAgIHJlc3RyaWN0UG9zKHN1Ykl0ZW0sIGRlZmF1bHRXaWR0aCk7XG4gICAgICAgIGlmIChkZWx0YVkgPiAwKSB7XG4gICAgICAgICAgc3ViSXRlbS55ICs9IGRlbHRhWTtcbiAgICAgICAgfVxuICAgICAgICB1cGRhdGVkTGF5b3V0ID0gdXBkYXRlZExheW91dFxuICAgICAgICAgIC5zZXRJbihbJ2NvbnRlbnQnLCBiLmlkLCAnYmJveCddLCB7XG4gICAgICAgICAgICBsZWZ0OiB0b1JhdGlvKGIueCwgZGVmYXVsdFdpZHRoKSxcbiAgICAgICAgICAgIHRvcDogYCR7Yi55fXB4YCxcbiAgICAgICAgICAgIHdpZHRoOiB0b1JhdGlvKGIudywgZGVmYXVsdFdpZHRoKSxcbiAgICAgICAgICAgIGhlaWdodDogYCR7Yi5ofXB4YCxcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5zZXRJbihbJ2NvbnRlbnQnLCBiLmlkLCAnc2V0dGluZycsICdhdXRvUHJvcHMnLCAnd2lkdGgnXSwgTGF5b3V0SXRlbVNpemVNb2Rlcy5DdXN0b20pO1xuICAgICAgICB1cGRhdGVkQ29udGVudC5wdXNoKHN1Ykl0ZW0uaWQpO1xuICAgICAgfSk7XG4gICAgfVxuICB9KTtcblxuICB1cGRhdGVkTGF5b3V0ID0gdXBkYXRlZExheW91dC5zZXQoJ29yZGVyJywgdXBkYXRlZENvbnRlbnQpO1xuICByZXR1cm4gdXBkYXRlZExheW91dDtcbn1cblxuZnVuY3Rpb24gcmVzdHJpY3RQb3MoYjogUG9zLCBtYXhXaWR0aDogbnVtYmVyLCBpc0luR3JvdXA/OiBib29sZWFuKSB7XG4gIC8vIHJlc3RyaWN0IHRoZSBiYm94IG9mIGVhY2ggaXRlbSBpbnRvIHRoZSBjb250YWluZXJcbiAgaWYgKGIueCA+IG1heFdpZHRoKSB7XG4gICAgaWYgKCFpc0luR3JvdXApIHtcbiAgICAgIC8vIHdyYXAgdGhlIGl0ZW1cbiAgICAgIGIueCA9IDA7XG4gICAgICBiLnkgKz0gYi5oO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBtb3ZlIGxlZnRcbiAgICAgIGIueCA9IG1heFdpZHRoIC0gYi53O1xuICAgIH1cbiAgfVxuICBpZiAoYi54IDwgMCkge1xuICAgIGIueCA9IDA7XG4gIH1cbiAgaWYgKGIueCArIGIudyA+IG1heFdpZHRoKSB7XG4gICAgaWYgKGIudyA8IG1heFdpZHRoKSB7XG4gICAgICBiLnggPSBtYXhXaWR0aCAtIGIudztcbiAgICB9IGVsc2Uge1xuICAgICAgYi53ID0gbWF4V2lkdGg7XG4gICAgICBiLnggPSAwO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBzb3J0UG9zKHAxOiBQb3MsIHAyOiBQb3MpOiBudW1iZXIge1xuICAvLyB0b3AgdG8gYm90dG9tLCBsZWZ0IHRvIHJpZ2h0XG4gIGlmIChwMS55ICE9PSBwMi55KSB7XG4gICAgcmV0dXJuIHAxLnkgPiBwMi55ID8gMSA6IC0xO1xuICB9IGVsc2UgaWYgKHAxLnggIT09IHAyLngpIHtcbiAgICByZXR1cm4gcDEueCA+IHAyLnggPyAxIDogLTE7XG4gIH1cbiAgcmV0dXJuIDA7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpbnRlcnNlY3RzKHAxOiBQb3MsIHAyOiBQb3MpOiBib29sZWFuIHtcbiAgY29uc3QgeDEgPSBNYXRoLm1heChwMS54LCBwMi54KTtcbiAgY29uc3QgeDIgPSBNYXRoLm1pbihwMS54ICsgcDEudywgcDIueCArIHAyLncpO1xuICBjb25zdCB5MSA9IE1hdGgubWF4KHAxLnksIHAyLnkpO1xuICBjb25zdCB5MiA9IE1hdGgubWluKHAxLnkgKyBwMS5oLCBwMi55ICsgcDIuaCk7XG5cbiAgcmV0dXJuIHgxIDwgeDIgJiYgeTEgPCB5Mjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbnRhaW5zKHAxOiBQb3MsIHAyOiBQb3MpOiBib29sZWFuIHtcbiAgcmV0dXJuIHAxLnggPD0gcDIueCAmJiBwMS54ICsgcDEudyA+IHAyLnggKyBwMi53ICYmIHAxLnkgPD0gcDIueSAmJiBwMS55ICsgcDEuaCA+IHAyLnkgKyBwMi5oO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbWVyZ2VQb3MocDE6IFBvcywgcDI6IFBvcyk6IFBvcyB7XG4gIGNvbnN0IGxlZnQgPSBNYXRoLm1pbihwMS54LCBwMi54KSxcbiAgICB0b3AgPSBNYXRoLm1pbihwMS55LCBwMi55KTtcbiAgY29uc3QgcmlnaHQgPSBNYXRoLm1heChwMS54ICsgcDEudywgcDIueCArIHAyLncpLFxuICAgIGJvdHRvbSA9IE1hdGgubWF4KHAxLnkgKyBwMS5oLCBwMi55ICsgcDIuaCk7XG4gIHJldHVybiB7XG4gICAgeDogbGVmdCxcbiAgICB5OiB0b3AsXG4gICAgdzogcmlnaHQgLSBsZWZ0LFxuICAgIGg6IGJvdHRvbSAtIHRvcCxcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEFic29sdXRlUG9zKGI6IEJvdW5kaW5nQm94LCBjb250YWluZXJXaWR0aDogbnVtYmVyLCBjb250YWluZXJIZWlnaHQ6IG51bWJlcik6IFBvcyB7XG4gIGNvbnN0IHJlc3VsdDogYW55ID0ge307XG4gIGxldCB4ID0gMCxcbiAgICB5ID0gMCxcbiAgICB3ID0gY29udGFpbmVyV2lkdGgsXG4gICAgaCA9IGNvbnRhaW5lckhlaWdodCAqIDAuMjsgLy8gZGVmYXVsdCBpcyAxMDAlIHdpZHRoLCAyMCUgaGVpZ2h0XG4gIGlmIChiKSB7XG4gICAgWydsZWZ0JywgJ3JpZ2h0JywgJ3RvcCcsICdib3R0b20nLCAnd2lkdGgnLCAnaGVpZ2h0J10uZm9yRWFjaChwcm9wID0+IHtcbiAgICAgIGlmIChiW3Byb3BdICE9PSB1bmRlZmluZWQgJiYgYltwcm9wXSAhPT0gJ2F1dG8nKSB7XG4gICAgICAgIGNvbnN0IHNpemUgPSBbJ2xlZnQnLCAncmlnaHQnLCAnd2lkdGgnXS5pbmRleE9mKHByb3ApID49IDAgPyBjb250YWluZXJXaWR0aCA6IGNvbnRhaW5lckhlaWdodDtcbiAgICAgICAgcmVzdWx0W3Byb3BdID0gaXNQZXJjZW50YWdlKGJbcHJvcF0pID8gZnJvbVJhdGlvKGJbcHJvcF0sIHNpemUpIDogcGFyc2VGbG9hdChiW3Byb3BdKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAocmVzdWx0LmxlZnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgeCA9IHJlc3VsdC5sZWZ0O1xuICAgIH1cblxuICAgIGlmIChyZXN1bHQud2lkdGggIT09IHVuZGVmaW5lZCkge1xuICAgICAgdyA9IHJlc3VsdC53aWR0aDtcbiAgICAgIGlmIChyZXN1bHQubGVmdCA9PT0gdW5kZWZpbmVkICYmIHJlc3VsdC5yaWdodCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHggPSBjb250YWluZXJXaWR0aCAtIHJlc3VsdC5yaWdodCAtIHc7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHcgPSBjb250YWluZXJXaWR0aCAtIChyZXN1bHQubGVmdCB8fCAwKSAtIChyZXN1bHQucmlnaHQgfHwgMCk7XG4gICAgfVxuXG4gICAgaWYgKHJlc3VsdC50b3AgIT09IHVuZGVmaW5lZCkge1xuICAgICAgeSA9IHJlc3VsdC50b3A7XG4gICAgfVxuXG4gICAgaWYgKHJlc3VsdC5oZWlnaHQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgaCA9IHJlc3VsdC5oZWlnaHQ7XG4gICAgICBpZiAocmVzdWx0LnRvcCA9PT0gdW5kZWZpbmVkICYmIHJlc3VsdC5ib3R0b20gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB5ID0gY29udGFpbmVySGVpZ2h0IC0gcmVzdWx0LmJvdHRvbSAtIGg7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChyZXN1bHQudG9wICE9PSB1bmRlZmluZWQgJiYgcmVzdWx0LmJvdHRvbSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBoID0gY29udGFpbmVySGVpZ2h0IC0gcmVzdWx0LnRvcCAtIHJlc3VsdC5ib3R0b207XG4gICAgfVxuICB9XG4gIHJldHVybiB7IHgsIHksIHcsIGggfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlUmVzaXppbmdCQm94U3R5bGUoXG4gIGluaXRSZWN0OiBDbGllbnRSZWN0LFxuICBjb250YWluZXJSZWN0OiBDbGllbnRSZWN0LFxuICBkZWx0YTogeyBkeDogbnVtYmVyOyBkeTogbnVtYmVyOyBkdzogbnVtYmVyOyBkaDogbnVtYmVyIH0sXG4gIGF1dG9GbGlwID0gZmFsc2Vcbikge1xuICBjb25zdCByZXN1bHQ6IGFueSA9IHt9O1xuXG4gIHJlc3VsdC5sZWZ0ID0gaW5pdFJlY3QubGVmdCArIGRlbHRhLmR4O1xuICByZXN1bHQud2lkdGggPSBpbml0UmVjdC53aWR0aCArIGRlbHRhLmR3O1xuICBjb25zdCByaWdodCA9IGNvbnRhaW5lclJlY3QucmlnaHQgLSBpbml0UmVjdC5yaWdodDtcbiAgaWYgKGRlbHRhLmR3ID09PSAwKSB7XG4gICAgLy8gbW92ZVxuICAgIHJlc3VsdC5yaWdodCA9IHJpZ2h0IC0gZGVsdGEuZHg7XG4gIH0gZWxzZSBpZiAoZGVsdGEuZHggPT09IDApIHtcbiAgICByZXN1bHQucmlnaHQgPSByaWdodCAtIGRlbHRhLmR3O1xuICB9IGVsc2Uge1xuICAgIHJlc3VsdC5yaWdodCA9IHJpZ2h0O1xuICB9XG5cbiAgcmVzdWx0LnRvcCA9IGluaXRSZWN0LnRvcCArIGRlbHRhLmR5O1xuICByZXN1bHQuaGVpZ2h0ID0gaW5pdFJlY3QuaGVpZ2h0ICsgZGVsdGEuZGg7XG4gIGNvbnN0IGJvdHRvbSA9IGNvbnRhaW5lclJlY3QuYm90dG9tIC0gaW5pdFJlY3QuYm90dG9tO1xuICBpZiAoZGVsdGEuZGggPT09IDApIHtcbiAgICAvLyBtb3ZlXG4gICAgcmVzdWx0LmJvdHRvbSA9IGJvdHRvbSAtIGRlbHRhLmR5O1xuICB9IGVsc2UgaWYgKGRlbHRhLmR5ID09PSAwKSB7XG4gICAgcmVzdWx0LmJvdHRvbSA9IGJvdHRvbSAtIGRlbHRhLmRoO1xuICB9IGVsc2Uge1xuICAgIHJlc3VsdC5ib3R0b20gPSBib3R0b207XG4gIH1cblxuICBpZiAoYXV0b0ZsaXAgJiYgaXNSVEwoKSkge1xuICAgIHJldHVybiBmbGlwQkJveChyZXN1bHQpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZUJCb3hTdHlsZShiYm94OiBJTUJvdW5kaW5nQm94LCBzZXR0aW5nOiBGaXhlZExheW91dEl0ZW1TZXR0aW5nKSB7XG4gIGNvbnN0IHJlc3VsdDogYW55ID0ge307XG4gIGxldCBhdXRvUHJvcHMgPSAoc2V0dGluZyAmJiBzZXR0aW5nLmF1dG9Qcm9wcykgfHwge307XG4gIGxldCBib3ggPSBiYm94O1xuICBjb25zdCBoZWlnaHRNb2RlID0gZ2V0TGF5b3V0SXRlbVNpemVNb2RlKCdoZWlnaHQnLCBiYm94LCBhdXRvUHJvcHMpO1xuICBjb25zdCB3aWR0aE1vZGUgPSBnZXRMYXlvdXRJdGVtU2l6ZU1vZGUoJ3dpZHRoJywgYmJveCwgYXV0b1Byb3BzKTtcblxuICBpZiAoaGVpZ2h0TW9kZSA9PT0gTGF5b3V0SXRlbVNpemVNb2Rlcy5TdHJldGNoKSB7XG4gICAgcmVzdWx0LnRvcCA9IGJveC50b3A7XG4gICAgcmVzdWx0LmJvdHRvbSA9IGJveC5ib3R0b207XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgdG9wQXV0byA9IGF1dG9Qcm9wcy50b3AgPz8gZmFsc2U7XG4gICAgY29uc3QgYm90dG9tQXV0byA9IGF1dG9Qcm9wcy5ib3R0b20gPz8gZmFsc2U7XG4gICAgaWYgKGhlaWdodE1vZGUgPT09IExheW91dEl0ZW1TaXplTW9kZXMuQ3VzdG9tKSB7XG4gICAgICByZXN1bHQuaGVpZ2h0ID0gYm94LmhlaWdodDtcbiAgICB9XG4gICAgLy8gb25lIGFuZCBvbmx5IG9uZSBvZiB0aGUgdG9wIG9yIGJvdHRvbSBjYW4gYmUgdXNlZFxuICAgIGlmICgodG9wQXV0byA9PT0gYm90dG9tQXV0byB8fCBib3R0b21BdXRvKSAmJiBiYm94LnRvcCAhPSBudWxsKSB7XG4gICAgICByZXN1bHQudG9wID0gYm94LnRvcDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0LmJvdHRvbSA9IGJveC5ib3R0b207XG4gICAgfVxuICB9XG5cbiAgaWYgKHdpZHRoTW9kZSA9PT0gTGF5b3V0SXRlbVNpemVNb2Rlcy5TdHJldGNoKSB7XG4gICAgcmVzdWx0LmxlZnQgPSBib3gubGVmdDtcbiAgICByZXN1bHQucmlnaHQgPSBib3gucmlnaHQ7XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgbGVmdEF1dG8gPSBhdXRvUHJvcHMubGVmdCA/PyBmYWxzZTtcbiAgICBjb25zdCByaWdodEF1dG8gPSBhdXRvUHJvcHMucmlnaHQgPz8gZmFsc2U7XG4gICAgaWYgKHdpZHRoTW9kZSA9PT0gTGF5b3V0SXRlbVNpemVNb2Rlcy5DdXN0b20pIHtcbiAgICAgIHJlc3VsdC53aWR0aCA9IGJveC53aWR0aDtcbiAgICB9XG4gICAgLy8gb25lIGFuZCBvbmx5IG9uZSBvZiB0aGUgbGVmdCBvciByaWdodCBjYW4gYmUgdXNlZFxuICAgIGlmIChsZWZ0QXV0byA9PT0gcmlnaHRBdXRvKSB7XG4gICAgICBpZiAoYm94LmxlZnQgIT0gbnVsbCkge1xuICAgICAgICByZXN1bHQubGVmdCA9IGJveC5sZWZ0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0LnJpZ2h0ID0gYm94LnJpZ2h0O1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAobGVmdEF1dG8gJiYgYm94LnJpZ2h0ICE9IG51bGwpIHtcbiAgICAgIHJlc3VsdC5yaWdodCA9IGJveC5yaWdodDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0LmxlZnQgPSBib3gubGVmdDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZsaXBBdXRvUHJvcHMoYXV0b1Byb3BzOiB7IGxlZnQ/OiBib29sZWFuOyByaWdodD86IGJvb2xlYW4gfSkge1xuICBjb25zdCByZXN1bHQgPSBJbW11dGFibGUoYXV0b1Byb3BzKTtcbiAgY29uc3QgdGVtcCA9IGF1dG9Qcm9wcy5sZWZ0O1xuICByZXR1cm4gcmVzdWx0LnNldCgnbGVmdCcsIGF1dG9Qcm9wcy5yaWdodCkuc2V0KCdyaWdodCcsIHRlbXApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZmxpcEJCb3goYmJveDogQm91bmRpbmdCb3gpIHtcbiAgY29uc3QgcmVzdWx0ID0gSW1tdXRhYmxlKGJib3gpO1xuICBjb25zdCB0ZW1wID0gYmJveC5sZWZ0O1xuICByZXR1cm4gcmVzdWx0LnNldCgnbGVmdCcsIGJib3gucmlnaHQpLnNldCgncmlnaHQnLCB0ZW1wKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFwcGx5UG9zaXRpb25TZXR0aW5nKGJib3g6IElNQm91bmRpbmdCb3gsIGl0ZW1TZXR0aW5nOiBGaXhlZExheW91dEl0ZW1TZXR0aW5nLCBpc1Jlc2l6aW5nOiBib29sZWFuID0gZmFsc2UpIHtcbiAgY29uc3QgZXh0cmFTdHlsZTogYW55ID0ge307XG4gIGNvbnN0IGhDZW50ZXIgPSBpdGVtU2V0dGluZy5oQ2VudGVyICYmIGJib3gubGVmdCA9PT0gJzUwJSc7XG4gIGNvbnN0IHZDZW50ZXIgPSBpdGVtU2V0dGluZy52Q2VudGVyICYmIGJib3gudG9wID09PSAnNTAlJztcbiAgaWYgKGhDZW50ZXIgJiYgdkNlbnRlcikge1xuICAgIGV4dHJhU3R5bGUucmlnaHQgPSAnYXV0byc7XG4gICAgZXh0cmFTdHlsZS5ib3R0b20gPSAnYXV0byc7XG4gICAgZXh0cmFTdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlKC01MCUsIC01MCUpJztcbiAgfSBlbHNlIGlmIChoQ2VudGVyKSB7XG4gICAgZXh0cmFTdHlsZS5yaWdodCA9ICdhdXRvJztcbiAgICBleHRyYVN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGVYKC01MCUpJztcbiAgfSBlbHNlIGlmICh2Q2VudGVyKSB7XG4gICAgZXh0cmFTdHlsZS5ib3R0b20gPSAnYXV0byc7XG4gICAgZXh0cmFTdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlWSgtNTAlKSc7XG4gIH1cbiAgaWYgKCFpc1Jlc2l6aW5nICYmIGZvcmNlQXNwZWN0UmF0aW8oYmJveCwgaXRlbVNldHRpbmcpKSB7XG4gICAgZXh0cmFTdHlsZS5oZWlnaHQgPSAnYXV0byc7XG4gIH1cbiAgcmV0dXJuIGV4dHJhU3R5bGU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmb3JjZUFzcGVjdFJhdGlvKGJib3g6IElNQm91bmRpbmdCb3gsIGl0ZW1TZXR0aW5nOiBGaXhlZExheW91dEl0ZW1TZXR0aW5nKTogYm9vbGVhbiB7XG4gIHJldHVybiBnZXRMYXlvdXRJdGVtU2l6ZU1vZGUoJ3dpZHRoJywgYmJveCwgaXRlbVNldHRpbmcuYXV0b1Byb3BzKSA9PT0gTGF5b3V0SXRlbVNpemVNb2Rlcy5DdXN0b20gJiZcbiAgZ2V0TGF5b3V0SXRlbVNpemVNb2RlKCdoZWlnaHQnLCBiYm94LCBpdGVtU2V0dGluZy5hdXRvUHJvcHMpID09PSBMYXlvdXRJdGVtU2l6ZU1vZGVzLkN1c3RvbSAmJlxuICBpdGVtU2V0dGluZy5oZWlnaHRNb2RlID09PSAncmF0aW8nO1xufVxuXG4vKipcbiAqIERvIG5vdCBjaGFuZ2UgdGhlIGF1dG9Qcm9wcyB2YWx1ZSBleGNlcHQgdGhhdCB2YWx1ZSBpcyBlbXB0eS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFwcGx5U25hcFJlc3VsdChiYm94LCBjb250YWluZXJSZWN0LCBzbmFwUmVzdWx0KTogSU1Cb3VuZGluZ0JveCB7XG4gIGxldCBvdXRwdXRCb3ggPSBJbW11dGFibGUoYmJveCk7XG5cbiAgbGV0IGxlZnQgPSBpc1BlcmNlbnRhZ2UoYmJveC5sZWZ0KSA/IGZyb21SYXRpbyhiYm94LmxlZnQsIGNvbnRhaW5lclJlY3Qud2lkdGgpIDogcGFyc2VGbG9hdChiYm94LmxlZnQpO1xuICBsZXQgcmlnaHQgPSBpc1BlcmNlbnRhZ2UoYmJveC5yaWdodCkgPyBmcm9tUmF0aW8oYmJveC5yaWdodCwgY29udGFpbmVyUmVjdC53aWR0aCkgOiBwYXJzZUZsb2F0KGJib3gucmlnaHQpO1xuICBsZXQgd2lkdGggPSBpc1BlcmNlbnRhZ2UoYmJveC53aWR0aCkgPyBmcm9tUmF0aW8oYmJveC53aWR0aCwgY29udGFpbmVyUmVjdC53aWR0aCkgOiBwYXJzZUZsb2F0KGJib3gud2lkdGgpO1xuICBpZiAoaXNOYU4obGVmdCkpIHtcbiAgICBvdXRwdXRCb3ggPSBvdXRwdXRCb3guc2V0KCdsZWZ0JywgY29udGFpbmVyUmVjdC53aWR0aCAtIHJpZ2h0IC0gd2lkdGgpO1xuICB9XG4gIGlmIChpc05hTihyaWdodCkpIHtcbiAgICBvdXRwdXRCb3ggPSBvdXRwdXRCb3guc2V0KCdyaWdodCcsIGNvbnRhaW5lclJlY3Qud2lkdGggLSBsZWZ0IC0gd2lkdGgpO1xuICB9XG4gIGlmIChpc05hTih3aWR0aCkpIHtcbiAgICBvdXRwdXRCb3ggPSBvdXRwdXRCb3guc2V0KCd3aWR0aCcsIGNvbnRhaW5lclJlY3Qud2lkdGggLSByaWdodCAtIGxlZnQpO1xuICB9XG4gIGlmIChzbmFwUmVzdWx0LmxlZnQpIHtcbiAgICBvdXRwdXRCb3ggPSBvdXRwdXRCb3guc2V0KCdsZWZ0JywgMCk7XG4gIH1cbiAgaWYgKHNuYXBSZXN1bHQucmlnaHQpIHtcbiAgICBvdXRwdXRCb3ggPSBvdXRwdXRCb3guc2V0KCdyaWdodCcsIDApO1xuICB9XG5cbiAgbGV0IHRvcCA9IGlzUGVyY2VudGFnZShiYm94LnRvcCkgPyBmcm9tUmF0aW8oYmJveC50b3AsIGNvbnRhaW5lclJlY3QuaGVpZ2h0KSA6IHBhcnNlRmxvYXQoYmJveC50b3ApO1xuICBsZXQgYm90dG9tID0gaXNQZXJjZW50YWdlKGJib3guYm90dG9tKSA/IGZyb21SYXRpbyhiYm94LmJvdHRvbSwgY29udGFpbmVyUmVjdC5oZWlnaHQpIDogcGFyc2VGbG9hdChiYm94LmJvdHRvbSk7XG4gIGxldCBoZWlnaHQgPSBpc1BlcmNlbnRhZ2UoYmJveC5oZWlnaHQpID8gZnJvbVJhdGlvKGJib3guaGVpZ2h0LCBjb250YWluZXJSZWN0LmhlaWdodCkgOiBwYXJzZUZsb2F0KGJib3guaGVpZ2h0KTtcblxuICBpZiAoaXNOYU4odG9wKSkge1xuICAgIG91dHB1dEJveCA9IG91dHB1dEJveC5zZXQoJ3RvcCcsIGNvbnRhaW5lclJlY3QuaGVpZ2h0IC0gYm90dG9tIC0gaGVpZ2h0KVxuICB9XG4gIGlmIChpc05hTihib3R0b20pKSB7XG4gICAgb3V0cHV0Qm94ID0gb3V0cHV0Qm94LnNldCgnYm90dG9tJywgY29udGFpbmVyUmVjdC5oZWlnaHQgLSB0b3AgLSBoZWlnaHQpO1xuICB9XG4gIGlmIChpc05hTihoZWlnaHQpKSB7XG4gICAgb3V0cHV0Qm94ID0gb3V0cHV0Qm94LnNldCgnaGVpZ2h0JywgY29udGFpbmVyUmVjdC5oZWlnaHQgLSBib3R0b20gLSB0b3ApO1xuICB9XG4gIGlmIChzbmFwUmVzdWx0LnRvcCkge1xuICAgIG91dHB1dEJveCA9IG91dHB1dEJveC5zZXQoJ3RvcCcsIDApO1xuICB9XG4gIGlmIChzbmFwUmVzdWx0LmJvdHRvbSkge1xuICAgIG91dHB1dEJveCA9IG91dHB1dEJveC5zZXQoJ2JvdHRvbScsIDApO1xuICB9XG4gIHJldHVybiBvdXRwdXRCb3g7XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQVNBO0FBY0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7Ozs7Ozs7OztBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQWhCQTtBQUFBO0FBaUJBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUlBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./jimu-layouts/lib/fixed-layout/fixed-layout-util.ts\n");

/***/ }),

/***/ "./jimu-layouts/lib/flow-layout/builder/action-block.tsx":
/*!***************************************************************!*\
  !*** ./jimu-layouts/lib/flow-layout/builder/action-block.tsx ***!
  \***************************************************************/
/*! exports provided: ActionBlock */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ActionBlock\", function() { return ActionBlock; });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jimu_core__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ \"jimu-ui\");\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jimu_ui__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-ui/advanced/setting-components */ \"jimu-ui/advanced/setting-components\");\n/* harmony import */ var jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_2__);\nvar __makeTemplateObject = (undefined && undefined.__makeTemplateObject) || function (cooked, raw) {\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n    return cooked;\n};\n/** @jsx jsx */\n\n\n\n\nvar addIcon = __webpack_require__(/*! jimu-ui/lib/icons/add-16.svg */ \"./jimu-ui/lib/icons/add-16.svg\");\nvar rectIcon = __webpack_require__(/*! jimu-ui/lib/icons/screen-group.svg */ \"./jimu-ui/lib/icons/screen-group.svg\");\nvar layoutIcon = __webpack_require__(/*! jimu-ui/lib/icons/layout-12.svg */ \"./jimu-ui/lib/icons/layout-12.svg\");\nvar buttonStyle = Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n  padding: 8px;\\n  border-radius: 16px;\\n  pointer-events: all;\\n\"], [\"\\n  padding: 8px;\\n  border-radius: 16px;\\n  pointer-events: all;\\n\"])));\nfunction getStyle(builderTheme) {\n    return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_2 || (templateObject_2 = __makeTemplateObject([\"\\n    height: 200px;\\n    padding: 1rem;\\n    pointer-events: none;\\n    position: relative;\\n    z-index: 1;\\n    .btn-text {\\n      line-height: 32px;\\n    }\\n    .btn {\\n      margin-right: 2rem;\\n      background: \", \";\\n      &:hover {\\n        background: \", \";\\n      }\\n    }\\n    .action-item {\\n      width: 32px;\\n    }\\n\\n    .action-seprator {\\n      width: 300px;\\n      height: 1px;\\n      background-color: \", \";\\n    }\\n  \"], [\"\\n    height: 200px;\\n    padding: 1rem;\\n    pointer-events: none;\\n    position: relative;\\n    z-index: 1;\\n    .btn-text {\\n      line-height: 32px;\\n    }\\n    .btn {\\n      margin-right: 2rem;\\n      background: \", \";\\n      &:hover {\\n        background: \", \";\\n      }\\n    }\\n    .action-item {\\n      width: 32px;\\n    }\\n\\n    .action-seprator {\\n      width: 300px;\\n      height: 1px;\\n      background-color: \", \";\\n    }\\n  \"])), builderTheme.colors.palette.light[600], builderTheme.colors.palette.light[800], builderTheme.colors.palette.dark[800]);\n}\nfunction ActionBlock(props) {\n    var pageContext = props.pageContext, onPageTemplateSelected = props.onPageTemplateSelected, onBlockTemplateSelected = props.onBlockTemplateSelected, onScreenTemplateSelected = props.onScreenTemplateSelected, blockOnly = props.blockOnly;\n    var builderTheme = pageContext.builderTheme, formatMessage = pageContext.formatMessage, isHeader = pageContext.isHeader, isFooter = pageContext.isFooter;\n    var _a = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useState(false), showTemplatePopper = _a[0], setShowTemplatePopper = _a[1];\n    var _b = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useState(false), showBlockPopper = _b[0], setShowBlockPopper = _b[1];\n    var _c = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useState(false), showScreenPopper = _c[0], setShowScreenPopper = _c[1];\n    var blockRef = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useRef(null);\n    var screenRef = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useRef(null);\n    var templateRef = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useRef(null);\n    var isPageBody = !isHeader && !isFooter;\n    var templateTooltip;\n    if (isHeader) {\n        templateTooltip = formatMessage('chooseHeaderTemplate');\n    }\n    else if (isFooter) {\n        templateTooltip = formatMessage('chooseFooterTemplate');\n    }\n    else {\n        templateTooltip = formatMessage('chooseTemplate');\n    }\n    var toggleBlockPopper = function (e) {\n        e.stopPropagation();\n        setShowBlockPopper(!showBlockPopper);\n    };\n    var toggleScreenPopper = function (e) {\n        e.stopPropagation();\n        setShowScreenPopper(!showBlockPopper);\n    };\n    var toggleTemplatePopper = function (e) {\n        e.stopPropagation();\n        setShowTemplatePopper(!showTemplatePopper);\n    };\n    var closeBlockPopper = function () {\n        setShowBlockPopper(false);\n    };\n    var closeScreenPopper = function () {\n        setShowScreenPopper(false);\n    };\n    var closeTemplatePopover = function () {\n        setShowTemplatePopper(false);\n    };\n    var onBlockSelected = function (template) {\n        setShowBlockPopper(false);\n        onBlockTemplateSelected(template);\n    };\n    var onScreenSelected = function (template) {\n        setShowScreenPopper(false);\n        onScreenTemplateSelected(template);\n    };\n    var onTemplateSelected = function (template) {\n        setShowTemplatePopper(false);\n        onPageTemplateSelected(template);\n    };\n    return (Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"d-flex w-100 flex-column justify-content-center align-items-center\", css: getStyle(builderTheme) },\n        Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"d-flex\" },\n            isPageBody && (Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].Fragment, null,\n                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"Tooltip\"], { placement: \"bottom\", title: formatMessage('insertABlock') },\n                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"action-item\", ref: blockRef },\n                        Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"Button\"], { icon: true, onClick: toggleBlockPopper, css: buttonStyle },\n                            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"Icon\"], { icon: addIcon, size: 16, color: builderTheme.colors.palette.dark[800] })))),\n                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"Tooltip\"], { placement: \"bottom\", title: formatMessage('insertAScreenGroup') },\n                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"action-item ml-4\", ref: screenRef },\n                        Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"Button\"], { icon: true, onClick: toggleScreenPopper, css: buttonStyle },\n                            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"Icon\"], { icon: rectIcon, size: 16, color: builderTheme.colors.palette.dark[800] })))))),\n            !blockOnly && (Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"Tooltip\"], { placement: \"bottom\", title: templateTooltip },\n                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"classNames\"])('action-item', { 'ml-4': isPageBody }), ref: templateRef },\n                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"Button\"], { icon: true, css: buttonStyle, onClick: toggleTemplatePopper },\n                        Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"Icon\"], { icon: layoutIcon, size: 16, color: builderTheme.colors.palette.dark[800] })))))),\n        Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"action-seprator mt-3\" }),\n        Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", null,\n            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"h5\", { className: \"btn-text mt-2\" }, formatMessage('dropWidgetToAdd'))),\n        isPageBody && showBlockPopper && (Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_2__[\"BlockTemplatePopper\"], { referenceElement: blockRef.current, theme: builderTheme, onItemSelect: onBlockSelected, onClose: closeBlockPopper })),\n        isPageBody && showScreenPopper && (Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_2__[\"ScreenGroupTemplatePopper\"], { referenceElement: screenRef.current, theme: builderTheme, onItemSelect: onScreenSelected, onClose: closeScreenPopper })),\n        !blockOnly && showTemplatePopper && (Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_2__[\"PageTemplatePopper\"], { isHeader: isHeader, isFooter: isFooter, theme: builderTheme, pageMode: jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"PageMode\"].AutoScroll, referenceElement: templateRef.current, formatMessage: formatMessage, onItemSelect: onTemplateSelected, onClose: closeTemplatePopover }))));\n}\nvar templateObject_1, templateObject_2;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWxheW91dHMvbGliL2Zsb3ctbGF5b3V0L2J1aWxkZXIvYWN0aW9uLWJsb2NrLnRzeC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2ppbXUtbGF5b3V0cy9saWIvZmxvdy1sYXlvdXQvYnVpbGRlci9hY3Rpb24tYmxvY2sudHN4PzViNmUiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqIEBqc3gganN4ICovXG5pbXBvcnQgeyBSZWFjdCwganN4LCBjc3MsIElNVGhlbWVWYXJpYWJsZXMsIFBhZ2VNb2RlLCBjbGFzc05hbWVzIH0gZnJvbSAnamltdS1jb3JlJztcbmltcG9ydCB7IFRvb2x0aXAgfSBmcm9tICdqaW11LXVpJztcbmltcG9ydCB7IEJ1dHRvbiwgSWNvbiB9IGZyb20gJ2ppbXUtdWknO1xuaW1wb3J0IHsgQmxvY2tUZW1wbGF0ZVBvcHBlciwgUGFnZVRlbXBsYXRlUG9wcGVyLCBTY3JlZW5Hcm91cFRlbXBsYXRlUG9wcGVyIH0gZnJvbSAnamltdS11aS9hZHZhbmNlZC9zZXR0aW5nLWNvbXBvbmVudHMnO1xuaW1wb3J0IHsgUGFnZUNvbnRleHRQcm9wcyB9IGZyb20gJ2ppbXUtbGF5b3V0cy9sYXlvdXQtcnVudGltZSc7XG5cbmNvbnN0IGFkZEljb24gPSByZXF1aXJlKCdqaW11LXVpL2xpYi9pY29ucy9hZGQtMTYuc3ZnJyk7XG5jb25zdCByZWN0SWNvbiA9IHJlcXVpcmUoJ2ppbXUtdWkvbGliL2ljb25zL3NjcmVlbi1ncm91cC5zdmcnKTtcbmNvbnN0IGxheW91dEljb24gPSByZXF1aXJlKCdqaW11LXVpL2xpYi9pY29ucy9sYXlvdXQtMTIuc3ZnJyk7XG5jb25zdCBidXR0b25TdHlsZSA9IGNzc2BcbiAgcGFkZGluZzogOHB4O1xuICBib3JkZXItcmFkaXVzOiAxNnB4O1xuICBwb2ludGVyLWV2ZW50czogYWxsO1xuYDtcblxuZnVuY3Rpb24gZ2V0U3R5bGUoYnVpbGRlclRoZW1lOiBJTVRoZW1lVmFyaWFibGVzKSB7XG4gIHJldHVybiBjc3NgXG4gICAgaGVpZ2h0OiAyMDBweDtcbiAgICBwYWRkaW5nOiAxcmVtO1xuICAgIHBvaW50ZXItZXZlbnRzOiBub25lO1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICB6LWluZGV4OiAxO1xuICAgIC5idG4tdGV4dCB7XG4gICAgICBsaW5lLWhlaWdodDogMzJweDtcbiAgICB9XG4gICAgLmJ0biB7XG4gICAgICBtYXJnaW4tcmlnaHQ6IDJyZW07XG4gICAgICBiYWNrZ3JvdW5kOiAke2J1aWxkZXJUaGVtZS5jb2xvcnMucGFsZXR0ZS5saWdodFs2MDBdfTtcbiAgICAgICY6aG92ZXIge1xuICAgICAgICBiYWNrZ3JvdW5kOiAke2J1aWxkZXJUaGVtZS5jb2xvcnMucGFsZXR0ZS5saWdodFs4MDBdfTtcbiAgICAgIH1cbiAgICB9XG4gICAgLmFjdGlvbi1pdGVtIHtcbiAgICAgIHdpZHRoOiAzMnB4O1xuICAgIH1cblxuICAgIC5hY3Rpb24tc2VwcmF0b3Ige1xuICAgICAgd2lkdGg6IDMwMHB4O1xuICAgICAgaGVpZ2h0OiAxcHg7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAke2J1aWxkZXJUaGVtZS5jb2xvcnMucGFsZXR0ZS5kYXJrWzgwMF19O1xuICAgIH1cbiAgYDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBBY3Rpb25CbG9ja1Byb3BzIHtcbiAgcGFnZUNvbnRleHQ6IFBhZ2VDb250ZXh0UHJvcHM7XG4gIGJsb2NrT25seT86IGJvb2xlYW47XG4gIG9uUGFnZVRlbXBsYXRlU2VsZWN0ZWQ6ICh0ZW1wbGF0ZVBhZ2VKc29uKSA9PiB2b2lkO1xuICBvbkJsb2NrVGVtcGxhdGVTZWxlY3RlZDogKHRlbXBsYXRlQmxvY2tKc29uKSA9PiB2b2lkO1xuICBvblNjcmVlblRlbXBsYXRlU2VsZWN0ZWQ6ICh0ZW1wbGF0ZVNjcmVlbkpzb24pID0+IHZvaWQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBBY3Rpb25CbG9jayhwcm9wczogQWN0aW9uQmxvY2tQcm9wcykge1xuICBjb25zdCB7XG4gICAgcGFnZUNvbnRleHQsXG4gICAgb25QYWdlVGVtcGxhdGVTZWxlY3RlZCxcbiAgICBvbkJsb2NrVGVtcGxhdGVTZWxlY3RlZCxcbiAgICBvblNjcmVlblRlbXBsYXRlU2VsZWN0ZWQsXG4gICAgYmxvY2tPbmx5LFxuICB9ID0gcHJvcHM7XG4gIGNvbnN0IHsgYnVpbGRlclRoZW1lLCBmb3JtYXRNZXNzYWdlLCBpc0hlYWRlciwgaXNGb290ZXIgfSA9IHBhZ2VDb250ZXh0O1xuICBjb25zdCBbc2hvd1RlbXBsYXRlUG9wcGVyLCBzZXRTaG93VGVtcGxhdGVQb3BwZXJdID0gUmVhY3QudXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbc2hvd0Jsb2NrUG9wcGVyLCBzZXRTaG93QmxvY2tQb3BwZXJdID0gUmVhY3QudXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbc2hvd1NjcmVlblBvcHBlciwgc2V0U2hvd1NjcmVlblBvcHBlcl0gPSBSZWFjdC51c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IGJsb2NrUmVmID0gUmVhY3QudXNlUmVmPEhUTUxEaXZFbGVtZW50PihudWxsKTtcbiAgY29uc3Qgc2NyZWVuUmVmID0gUmVhY3QudXNlUmVmPEhUTUxEaXZFbGVtZW50PihudWxsKTtcbiAgY29uc3QgdGVtcGxhdGVSZWYgPSBSZWFjdC51c2VSZWY8SFRNTERpdkVsZW1lbnQ+KG51bGwpO1xuXG4gIGNvbnN0IGlzUGFnZUJvZHkgPSAhaXNIZWFkZXIgJiYgIWlzRm9vdGVyO1xuICBsZXQgdGVtcGxhdGVUb29sdGlwO1xuICBpZiAoaXNIZWFkZXIpIHtcbiAgICB0ZW1wbGF0ZVRvb2x0aXAgPSBmb3JtYXRNZXNzYWdlKCdjaG9vc2VIZWFkZXJUZW1wbGF0ZScpO1xuICB9IGVsc2UgaWYgKGlzRm9vdGVyKSB7XG4gICAgdGVtcGxhdGVUb29sdGlwID0gZm9ybWF0TWVzc2FnZSgnY2hvb3NlRm9vdGVyVGVtcGxhdGUnKTtcbiAgfSBlbHNlIHtcbiAgICB0ZW1wbGF0ZVRvb2x0aXAgPSBmb3JtYXRNZXNzYWdlKCdjaG9vc2VUZW1wbGF0ZScpO1xuICB9XG5cbiAgY29uc3QgdG9nZ2xlQmxvY2tQb3BwZXIgPSAoZSkgPT4ge1xuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgc2V0U2hvd0Jsb2NrUG9wcGVyKCFzaG93QmxvY2tQb3BwZXIpO1xuICB9O1xuXG4gIGNvbnN0IHRvZ2dsZVNjcmVlblBvcHBlciA9IChlKSA9PiB7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBzZXRTaG93U2NyZWVuUG9wcGVyKCFzaG93QmxvY2tQb3BwZXIpO1xuICB9O1xuXG4gIGNvbnN0IHRvZ2dsZVRlbXBsYXRlUG9wcGVyID0gKGUpID0+IHtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIHNldFNob3dUZW1wbGF0ZVBvcHBlcighc2hvd1RlbXBsYXRlUG9wcGVyKTtcbiAgfTtcblxuICBjb25zdCBjbG9zZUJsb2NrUG9wcGVyID0gKCkgPT4ge1xuICAgIHNldFNob3dCbG9ja1BvcHBlcihmYWxzZSk7XG4gIH07XG5cbiAgY29uc3QgY2xvc2VTY3JlZW5Qb3BwZXIgPSAoKSA9PiB7XG4gICAgc2V0U2hvd1NjcmVlblBvcHBlcihmYWxzZSk7XG4gIH07XG5cbiAgY29uc3QgY2xvc2VUZW1wbGF0ZVBvcG92ZXIgPSAoKSA9PiB7XG4gICAgc2V0U2hvd1RlbXBsYXRlUG9wcGVyKGZhbHNlKTtcbiAgfTtcblxuICBjb25zdCBvbkJsb2NrU2VsZWN0ZWQgPSAodGVtcGxhdGUpID0+IHtcbiAgICBzZXRTaG93QmxvY2tQb3BwZXIoZmFsc2UpO1xuICAgIG9uQmxvY2tUZW1wbGF0ZVNlbGVjdGVkKHRlbXBsYXRlKTtcbiAgfTtcblxuICBjb25zdCBvblNjcmVlblNlbGVjdGVkID0gKHRlbXBsYXRlKSA9PiB7XG4gICAgc2V0U2hvd1NjcmVlblBvcHBlcihmYWxzZSk7XG4gICAgb25TY3JlZW5UZW1wbGF0ZVNlbGVjdGVkKHRlbXBsYXRlKTtcbiAgfTtcblxuICBjb25zdCBvblRlbXBsYXRlU2VsZWN0ZWQgPSAodGVtcGxhdGUpID0+IHtcbiAgICBzZXRTaG93VGVtcGxhdGVQb3BwZXIoZmFsc2UpO1xuICAgIG9uUGFnZVRlbXBsYXRlU2VsZWN0ZWQodGVtcGxhdGUpO1xuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJkLWZsZXggdy0xMDAgZmxleC1jb2x1bW4ganVzdGlmeS1jb250ZW50LWNlbnRlciBhbGlnbi1pdGVtcy1jZW50ZXJcIiBjc3M9e2dldFN0eWxlKGJ1aWxkZXJUaGVtZSl9PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJkLWZsZXhcIj5cbiAgICAgICAge2lzUGFnZUJvZHkgJiYgKFxuICAgICAgICAgIDxSZWFjdC5GcmFnbWVudD5cbiAgICAgICAgICAgIDxUb29sdGlwIHBsYWNlbWVudD1cImJvdHRvbVwiIHRpdGxlPXtmb3JtYXRNZXNzYWdlKCdpbnNlcnRBQmxvY2snKX0+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWN0aW9uLWl0ZW1cIiByZWY9e2Jsb2NrUmVmfT5cbiAgICAgICAgICAgICAgICA8QnV0dG9uIGljb24gb25DbGljaz17dG9nZ2xlQmxvY2tQb3BwZXJ9IGNzcz17YnV0dG9uU3R5bGV9PlxuICAgICAgICAgICAgICAgICAgPEljb24gaWNvbj17YWRkSWNvbn0gc2l6ZT17MTZ9IGNvbG9yPXtidWlsZGVyVGhlbWUuY29sb3JzLnBhbGV0dGUuZGFya1s4MDBdfT48L0ljb24+XG4gICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9Ub29sdGlwPlxuICAgICAgICAgICAgPFRvb2x0aXAgcGxhY2VtZW50PVwiYm90dG9tXCIgdGl0bGU9e2Zvcm1hdE1lc3NhZ2UoJ2luc2VydEFTY3JlZW5Hcm91cCcpfT5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhY3Rpb24taXRlbSBtbC00XCIgcmVmPXtzY3JlZW5SZWZ9PlxuICAgICAgICAgICAgICAgIDxCdXR0b24gaWNvbiBvbkNsaWNrPXt0b2dnbGVTY3JlZW5Qb3BwZXJ9IGNzcz17YnV0dG9uU3R5bGV9PlxuICAgICAgICAgICAgICAgICAgPEljb24gaWNvbj17cmVjdEljb259IHNpemU9ezE2fSBjb2xvcj17YnVpbGRlclRoZW1lLmNvbG9ycy5wYWxldHRlLmRhcmtbODAwXX0+PC9JY29uPlxuICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvVG9vbHRpcD5cbiAgICAgICAgICA8L1JlYWN0LkZyYWdtZW50PlxuICAgICAgICApfVxuICAgICAgICB7IWJsb2NrT25seSAmJiAoXG4gICAgICAgICAgPFRvb2x0aXAgcGxhY2VtZW50PVwiYm90dG9tXCIgdGl0bGU9e3RlbXBsYXRlVG9vbHRpcH0+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NOYW1lcygnYWN0aW9uLWl0ZW0nLCB7ICdtbC00JzogaXNQYWdlQm9keSB9KX0gcmVmPXt0ZW1wbGF0ZVJlZn0+XG4gICAgICAgICAgICAgIDxCdXR0b24gaWNvbiBjc3M9e2J1dHRvblN0eWxlfSBvbkNsaWNrPXt0b2dnbGVUZW1wbGF0ZVBvcHBlcn0+XG4gICAgICAgICAgICAgICAgPEljb24gaWNvbj17bGF5b3V0SWNvbn0gc2l6ZT17MTZ9IGNvbG9yPXtidWlsZGVyVGhlbWUuY29sb3JzLnBhbGV0dGUuZGFya1s4MDBdfT48L0ljb24+XG4gICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9Ub29sdGlwPlxuICAgICAgICApfVxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImFjdGlvbi1zZXByYXRvciBtdC0zXCI+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXY+XG4gICAgICAgIDxoNSBjbGFzc05hbWU9XCJidG4tdGV4dCBtdC0yXCI+e2Zvcm1hdE1lc3NhZ2UoJ2Ryb3BXaWRnZXRUb0FkZCcpfTwvaDU+XG4gICAgICA8L2Rpdj5cbiAgICAgIHtpc1BhZ2VCb2R5ICYmIHNob3dCbG9ja1BvcHBlciAmJiAoXG4gICAgICAgIDxCbG9ja1RlbXBsYXRlUG9wcGVyXG4gICAgICAgICAgcmVmZXJlbmNlRWxlbWVudD17YmxvY2tSZWYuY3VycmVudH1cbiAgICAgICAgICB0aGVtZT17YnVpbGRlclRoZW1lfVxuICAgICAgICAgIG9uSXRlbVNlbGVjdD17b25CbG9ja1NlbGVjdGVkfVxuICAgICAgICAgIG9uQ2xvc2U9e2Nsb3NlQmxvY2tQb3BwZXJ9XG4gICAgICAgID48L0Jsb2NrVGVtcGxhdGVQb3BwZXI+XG4gICAgICApfVxuICAgICAge2lzUGFnZUJvZHkgJiYgc2hvd1NjcmVlblBvcHBlciAmJiAoXG4gICAgICAgIDxTY3JlZW5Hcm91cFRlbXBsYXRlUG9wcGVyXG4gICAgICAgICAgcmVmZXJlbmNlRWxlbWVudD17c2NyZWVuUmVmLmN1cnJlbnR9XG4gICAgICAgICAgdGhlbWU9e2J1aWxkZXJUaGVtZX1cbiAgICAgICAgICBvbkl0ZW1TZWxlY3Q9e29uU2NyZWVuU2VsZWN0ZWR9XG4gICAgICAgICAgb25DbG9zZT17Y2xvc2VTY3JlZW5Qb3BwZXJ9XG4gICAgICAgID48L1NjcmVlbkdyb3VwVGVtcGxhdGVQb3BwZXI+XG4gICAgICApfVxuICAgICAgeyFibG9ja09ubHkgJiYgc2hvd1RlbXBsYXRlUG9wcGVyICYmIChcbiAgICAgICAgPFBhZ2VUZW1wbGF0ZVBvcHBlclxuICAgICAgICAgIGlzSGVhZGVyPXtpc0hlYWRlcn1cbiAgICAgICAgICBpc0Zvb3Rlcj17aXNGb290ZXJ9XG4gICAgICAgICAgdGhlbWU9e2J1aWxkZXJUaGVtZX1cbiAgICAgICAgICBwYWdlTW9kZT17UGFnZU1vZGUuQXV0b1Njcm9sbH1cbiAgICAgICAgICByZWZlcmVuY2VFbGVtZW50PXt0ZW1wbGF0ZVJlZi5jdXJyZW50fVxuICAgICAgICAgIGZvcm1hdE1lc3NhZ2U9e2Zvcm1hdE1lc3NhZ2V9XG4gICAgICAgICAgb25JdGVtU2VsZWN0PXtvblRlbXBsYXRlU2VsZWN0ZWR9XG4gICAgICAgICAgb25DbG9zZT17Y2xvc2VUZW1wbGF0ZVBvcG92ZXJ9XG4gICAgICAgID48L1BhZ2VUZW1wbGF0ZVBvcHBlcj5cbiAgICAgICl9XG4gICAgPC9kaXY+XG4gICk7XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUEwQkE7QUFVQTtBQUVBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBRUE7QUFDQTtBQUNBO0FBTUE7QUFFQTtBQUNBO0FBRUE7QUFRQTtBQVFBO0FBY0E7OyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./jimu-layouts/lib/flow-layout/builder/action-block.tsx\n");

/***/ }),

/***/ "./jimu-layouts/lib/flow-layout/builder/dnd-helper.ts":
/*!************************************************************!*\
  !*** ./jimu-layouts/lib/flow-layout/builder/dnd-helper.ts ***!
  \************************************************************/
/*! exports provided: DropIndicatorSize, calInsertPositionForColumn */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DropIndicatorSize\", function() { return DropIndicatorSize; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"calInsertPositionForColumn\", function() { return calInsertPositionForColumn; });\nvar DropIndicatorSize = 10;\nfunction calInsertPositionForColumn(boundingRect, centerY, childRects, indicatorSize) {\n    // const centerY = itemRect.top + itemRect.height / 2;\n    var result;\n    var refId;\n    var found = false;\n    childRects.some(function (rect, i) {\n        var rectY = rect.top + rect.height / 2;\n        if (rectY > centerY) {\n            if (i === 0) {\n                // insert before the first item\n                result = Math.max(rect.top / 2, rect.top - DropIndicatorSize / 2);\n            }\n            else {\n                // insert between this and previous one\n                var previousItem = childRects[i - 1];\n                result = (rect.top + previousItem.top + previousItem.height) / 2;\n            }\n            found = true;\n            refId = rect.id;\n        }\n        return found;\n    });\n    if (!found) {\n        // insert after the last one\n        var lastItem = childRects[childRects.length - 1];\n        result = Math.min(lastItem.top + lastItem.height + DropIndicatorSize / 2, (lastItem.top + lastItem.height + boundingRect.height) / 2);\n    }\n    return {\n        refId: refId,\n        insertY: result,\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWxheW91dHMvbGliL2Zsb3ctbGF5b3V0L2J1aWxkZXIvZG5kLWhlbHBlci50cy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2ppbXUtbGF5b3V0cy9saWIvZmxvdy1sYXlvdXQvYnVpbGRlci9kbmQtaGVscGVyLnRzPzY1M2UiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IERyb3BJbmRpY2F0b3JTaXplID0gMTA7XG5cbmV4cG9ydCBmdW5jdGlvbiBjYWxJbnNlcnRQb3NpdGlvbkZvckNvbHVtbihcbiAgYm91bmRpbmdSZWN0OiBDbGllbnRSZWN0LFxuICBjZW50ZXJZOiBudW1iZXIsXG4gIGNoaWxkUmVjdHM6IEFycmF5PENsaWVudFJlY3QgJiB7IGlkOiBzdHJpbmcgfT4sXG4gIGluZGljYXRvclNpemU6IG51bWJlcixcbik6IHsgaW5zZXJ0WTogbnVtYmVyOyByZWZJZDogc3RyaW5nIH0ge1xuICAvLyBjb25zdCBjZW50ZXJZID0gaXRlbVJlY3QudG9wICsgaXRlbVJlY3QuaGVpZ2h0IC8gMjtcbiAgbGV0IHJlc3VsdDtcbiAgbGV0IHJlZklkO1xuICBsZXQgZm91bmQgPSBmYWxzZTtcbiAgY2hpbGRSZWN0cy5zb21lKChyZWN0LCBpKSA9PiB7XG4gICAgY29uc3QgcmVjdFkgPSByZWN0LnRvcCArIHJlY3QuaGVpZ2h0IC8gMjtcbiAgICBpZiAocmVjdFkgPiBjZW50ZXJZKSB7XG4gICAgICBpZiAoaSA9PT0gMCkge1xuICAgICAgICAvLyBpbnNlcnQgYmVmb3JlIHRoZSBmaXJzdCBpdGVtXG4gICAgICAgIHJlc3VsdCA9IE1hdGgubWF4KHJlY3QudG9wIC8gMiwgcmVjdC50b3AgLSBEcm9wSW5kaWNhdG9yU2l6ZSAvIDIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gaW5zZXJ0IGJldHdlZW4gdGhpcyBhbmQgcHJldmlvdXMgb25lXG4gICAgICAgIGNvbnN0IHByZXZpb3VzSXRlbSA9IGNoaWxkUmVjdHNbaSAtIDFdO1xuICAgICAgICByZXN1bHQgPSAocmVjdC50b3AgKyBwcmV2aW91c0l0ZW0udG9wICsgcHJldmlvdXNJdGVtLmhlaWdodCkgLyAyO1xuICAgICAgfVxuICAgICAgZm91bmQgPSB0cnVlO1xuICAgICAgcmVmSWQgPSByZWN0LmlkO1xuICAgIH1cbiAgICByZXR1cm4gZm91bmQ7XG4gIH0pO1xuICBpZiAoIWZvdW5kKSB7XG4gICAgLy8gaW5zZXJ0IGFmdGVyIHRoZSBsYXN0IG9uZVxuICAgIGNvbnN0IGxhc3RJdGVtID0gY2hpbGRSZWN0c1tjaGlsZFJlY3RzLmxlbmd0aCAtIDFdO1xuICAgIHJlc3VsdCA9IE1hdGgubWluKFxuICAgICAgbGFzdEl0ZW0udG9wICsgbGFzdEl0ZW0uaGVpZ2h0ICsgRHJvcEluZGljYXRvclNpemUgLyAyLFxuICAgICAgKGxhc3RJdGVtLnRvcCArIGxhc3RJdGVtLmhlaWdodCArIGJvdW5kaW5nUmVjdC5oZWlnaHQpIC8gMixcbiAgICApO1xuICB9XG4gIHJldHVybiB7XG4gICAgcmVmSWQsXG4gICAgaW5zZXJ0WTogcmVzdWx0LFxuICB9O1xufVxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./jimu-layouts/lib/flow-layout/builder/dnd-helper.ts\n");

/***/ }),

/***/ "./jimu-layouts/lib/flow-layout/builder/floating-layout-item.tsx":
/*!***********************************************************************!*\
  !*** ./jimu-layouts/lib/flow-layout/builder/floating-layout-item.tsx ***!
  \***********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jimu_core__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var jimu_for_builder__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-for-builder */ \"jimu-for-builder\");\n/* harmony import */ var jimu_for_builder__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jimu_for_builder__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-layouts/layout-runtime */ \"jimu-layouts/layout-runtime\");\n/* harmony import */ var jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _builder_layout_item__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../builder/layout-item */ \"./jimu-layouts/lib/builder/layout-item.tsx\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __makeTemplateObject = (undefined && undefined.__makeTemplateObject) || function (cooked, raw) {\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n    return cooked;\n};\n/** @jsx jsx */\n\n\n\n\nvar FloatingLayoutItem = /** @class */ (function (_super) {\n    __extends(FloatingLayoutItem, _super);\n    function FloatingLayoutItem() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            isResizing: false,\n            dx: 0,\n            dy: 0,\n            dw: 0,\n            dh: 0,\n        };\n        _this.onResizeStart = function (id, initWidth, initHeight) {\n            _this.setState({\n                isResizing: true,\n            });\n            _this.initHeight = initHeight;\n            _this.initWidth = initWidth;\n        };\n        _this.onResizing = function (id, x, y, dw, dh) {\n            _this.setState({\n                dx: x,\n                dy: y,\n                dw: dw,\n                dh: dh,\n            });\n        };\n        _this.onResizeEnd = function (id, x, y, dw, dh, shiftKey) {\n            var _a = _this.props, layoutId = _a.layoutId, layoutItem = _a.layoutItem;\n            var bbox = layoutItem.bbox;\n            bbox = bbox.set('height', Math.round(parseInt(bbox.height, 10) + dh))\n                .set('width', Math.round(parseInt(bbox.width, 10) + dw))\n                .set('left', Math.round(parseInt(bbox.left, 10) + x))\n                .set('top', Math.round(parseInt(bbox.top, 10) + y))\n                .set('bottom', Math.round(parseInt(bbox.top, 10) - dh + y));\n            var appConfigAction = Object(jimu_for_builder__WEBPACK_IMPORTED_MODULE_1__[\"getAppConfigAction\"])();\n            appConfigAction.editLayoutItemBBox({\n                layoutId: layoutId,\n                layoutItemId: layoutItem.id,\n            }, bbox).exec();\n            _this.setState({\n                isResizing: false,\n                dx: 0,\n                dy: 0,\n                dw: 0,\n                dh: 0,\n            });\n        };\n        return _this;\n    }\n    FloatingLayoutItem.prototype.calculatePosition = function () {\n        var _a, _b, _c, _d, _e, _f;\n        var layoutItem = this.props.layoutItem;\n        var floatingArea = (_b = (_a = layoutItem.setting) === null || _a === void 0 ? void 0 : _a.floatingArea) !== null && _b !== void 0 ? _b : 1;\n        var offsetX = ((_d = (_c = layoutItem.setting) === null || _c === void 0 ? void 0 : _c.offsetX) !== null && _d !== void 0 ? _d : 0) + \"px\";\n        var offsetY = ((_f = (_e = layoutItem.setting) === null || _e === void 0 ? void 0 : _e.offsetY) !== null && _f !== void 0 ? _f : 0) + \"px\";\n        var _g = this.state, dh = _g.dh, dw = _g.dw, isResizing = _g.isResizing;\n        var pos = {};\n        switch (floatingArea) {\n            case 1: // top-left\n                pos.left = offsetX;\n                pos.top = offsetY;\n                pos.transform = null;\n                break;\n            case 2: // top-center\n                pos.left = '50%';\n                pos.top = offsetY;\n                pos.transform = \"translateX(calc(-50% + \" + offsetX + \"px))\";\n                break;\n            case 3: // top-right\n                pos.right = offsetX;\n                pos.top = offsetY;\n                pos.transform = null;\n                break;\n            case 4: // middle-left\n                pos.left = offsetX;\n                pos.top = '50%';\n                pos.transform = \"translateY(calc(-50% + \" + offsetY + \"px))\";\n                break;\n            case 5: // middle-center\n                pos.left = '50%';\n                pos.top = '50%';\n                pos.transform = \"translateX(calc(-50% + \" + offsetX + \"px)) translateY(calc(-50% + \" + offsetY + \"px))\";\n                break;\n            case 6: // middle-right\n                pos.right = offsetX;\n                pos.top = '50%';\n                pos.transform = \"translateY(calc(-50% + \" + offsetY + \"px))\";\n                break;\n            case 7: // bottom-left\n                pos.left = offsetX;\n                pos.bottom = offsetY;\n                pos.transform = null;\n                break;\n            case 8: // bottom-center\n                pos.left = '50%';\n                pos.bottom = offsetY;\n                pos.transform = \"translateX(calc(-50% + \" + offsetX + \"px))\";\n                break;\n            case 9: // bottom-right\n                pos.right = offsetX;\n                pos.bottom = offsetY;\n                pos.transform = null;\n                break;\n        }\n        return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n      position: fixed;\\n      z-index: 1;\\n      width: \", \";\\n      height: \", \";\\n      left: \", \";\\n      right: \", \";\\n      top: \", \";\\n      bottom: \", \";\\n      transform: \", \";\\n    \"], [\"\\n      position: fixed;\\n      z-index: 1;\\n      width: \", \";\\n      height: \", \";\\n      left: \", \";\\n      right: \", \";\\n      top: \", \";\\n      bottom: \", \";\\n      transform: \", \";\\n    \"])), isResizing ? this.initWidth + dw + \"px\" : jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_2__[\"utils\"].getValueOfBBox(layoutItem.bbox, 'width'), isResizing ? this.initHeight + dh + \"px\" : jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_2__[\"utils\"].getValueOfBBox(layoutItem.bbox, 'height'), pos.left, pos.right, pos.top, pos.bottom, pos.transform);\n    };\n    FloatingLayoutItem.prototype.render = function () {\n        var _this = this;\n        var _a = this.props, layoutId = _a.layoutId, layoutItem = _a.layoutItem, selectable = _a.selectable, selected = _a.selected;\n        if (!layoutItem) {\n            return null;\n        }\n        // const { dh, dw, dx, dy } = this.state;\n        // const itemSetting: FlowLayoutItemSetting = lodash.assign({}, DEFAULT_FLOW_ITEM_SETTING, layoutItem.setting);\n        var mergedClass = Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"classNames\"])('flexbox-layout-item d-flex', {\n            selected: selected,\n        });\n        return (Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_2__[\"PageContext\"].Consumer, null, function (pageContext) {\n            _this.pageContext = pageContext;\n            return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_builder_layout_item__WEBPACK_IMPORTED_MODULE_3__[\"default\"], { css: _this.calculatePosition(), layoutId: layoutId, layoutItemId: layoutItem.id, onResizeStart: _this.onResizeStart, onResizing: _this.onResizing, onResizeEnd: _this.onResizeEnd, restrict: true, draggable: false, selectable: selectable, className: mergedClass });\n        }));\n    };\n    return FloatingLayoutItem;\n}(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].PureComponent));\n/* harmony default export */ __webpack_exports__[\"default\"] = (jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"ReactRedux\"].connect(jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_2__[\"utils\"].mapStateToLayoutItemProps)(FloatingLayoutItem));\nvar templateObject_1;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWxheW91dHMvbGliL2Zsb3ctbGF5b3V0L2J1aWxkZXIvZmxvYXRpbmctbGF5b3V0LWl0ZW0udHN4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vamltdS1sYXlvdXRzL2xpYi9mbG93LWxheW91dC9idWlsZGVyL2Zsb2F0aW5nLWxheW91dC1pdGVtLnRzeD8wNGQ5Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKiBAanN4IGpzeCAqL1xuaW1wb3J0IHtcbiAgUmVhY3QsXG4gIGpzeCxcbiAgY3NzLFxuICBSZWFjdFJlZHV4LFxuICBjbGFzc05hbWVzLFxuICBJTUxheW91dEl0ZW1Kc29uLFxuICBJTVNpemVNb2RlTGF5b3V0SnNvbixcbiAgSU1UaGVtZVZhcmlhYmxlcyxcbiAgTGF5b3V0SXRlbUNvbnN0cnVjdG9yUHJvcHMsXG59IGZyb20gJ2ppbXUtY29yZSc7XG5pbXBvcnQgeyBnZXRBcHBDb25maWdBY3Rpb24gfSBmcm9tICdqaW11LWZvci1idWlsZGVyJztcbmltcG9ydCB7IExheW91dEl0ZW1Qcm9wcywgUGFnZUNvbnRleHQsIFBhZ2VDb250ZXh0UHJvcHMsIFN0YXRlVG9MYXlvdXRJdGVtUHJvcHMsIHV0aWxzIH0gZnJvbSAnamltdS1sYXlvdXRzL2xheW91dC1ydW50aW1lJztcbmltcG9ydCBMYXlvdXRJdGVtIGZyb20gJy4uLy4uL2J1aWxkZXIvbGF5b3V0LWl0ZW0nO1xuXG5pbnRlcmZhY2UgT3duUHJvcHMge1xuICBsYXlvdXRzOiBJTVNpemVNb2RlTGF5b3V0SnNvbjtcbiAgbGF5b3V0SXRlbTogSU1MYXlvdXRJdGVtSnNvbjtcbiAgYnVpbGRlclRoZW1lOiBJTVRoZW1lVmFyaWFibGVzO1xuICBpbmRleDogbnVtYmVyO1xuICB0b3RhbDogbnVtYmVyO1xuICBndXR0ZXI6IG51bWJlcjtcbiAgZWRpdGluZ1NlY3Rpb25JZD86IHN0cmluZztcbiAgZm9ybWF0TWVzc2FnZTogKGlkOiBzdHJpbmcpID0+IHN0cmluZztcbiAgY2hpbGRyZW4/OiBhbnk7XG4gIG9uRHJvcEF0Qm91bmRhcnk6IChkcmFnZ2luZ0l0ZW06IExheW91dEl0ZW1Db25zdHJ1Y3RvclByb3BzLCBpdGVtUmVjdDogQ2xpZW50UmVjdCwgaW5zZXJ0SW5kZXg6IG51bWJlcikgPT4gdm9pZDtcbn1cblxuaW50ZXJmYWNlIFN0YXRlIHtcbiAgaXNSZXNpemluZzogYm9vbGVhbjtcbiAgZHg6IG51bWJlcjtcbiAgZHk6IG51bWJlcjtcbiAgZHc6IG51bWJlcjtcbiAgZGg6IG51bWJlcjtcbn1cblxuY2xhc3MgRmxvYXRpbmdMYXlvdXRJdGVtIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudDxMYXlvdXRJdGVtUHJvcHMgJiBTdGF0ZVRvTGF5b3V0SXRlbVByb3BzICYgT3duUHJvcHMsIFN0YXRlPiB7XG4gIGRvbVJlY3Q6IENsaWVudFJlY3Q7XG4gIHN0YXRlOiBTdGF0ZSA9IHtcbiAgICBpc1Jlc2l6aW5nOiBmYWxzZSxcbiAgICBkeDogMCxcbiAgICBkeTogMCxcbiAgICBkdzogMCxcbiAgICBkaDogMCxcbiAgfTtcbiAgcGFnZUNvbnRleHQ6IFBhZ2VDb250ZXh0UHJvcHM7XG4gIGluaXRXaWR0aDogbnVtYmVyO1xuICBpbml0SGVpZ2h0OiBudW1iZXI7XG5cbiAgb25SZXNpemVTdGFydCA9IChpZDogc3RyaW5nLCBpbml0V2lkdGg6IG51bWJlciwgaW5pdEhlaWdodDogbnVtYmVyKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBpc1Jlc2l6aW5nOiB0cnVlLFxuICAgIH0pO1xuICAgIHRoaXMuaW5pdEhlaWdodCA9IGluaXRIZWlnaHQ7XG4gICAgdGhpcy5pbml0V2lkdGggPSBpbml0V2lkdGg7XG4gIH1cblxuICBvblJlc2l6aW5nID0gKGlkOiBzdHJpbmcsIHg6IG51bWJlciwgeTogbnVtYmVyLCBkdzogbnVtYmVyLCBkaDogbnVtYmVyKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBkeDogeCxcbiAgICAgIGR5OiB5LFxuICAgICAgZHcsXG4gICAgICBkaCxcbiAgICB9KTtcbiAgfVxuXG4gIG9uUmVzaXplRW5kID0gKGlkOiBzdHJpbmcsIHg6IG51bWJlciwgeTogbnVtYmVyLCBkdzogbnVtYmVyLCBkaDogbnVtYmVyLCBzaGlmdEtleT86IGJvb2xlYW4pID0+IHtcbiAgICBjb25zdCB7IGxheW91dElkLCBsYXlvdXRJdGVtIH0gPSB0aGlzLnByb3BzO1xuICAgIGxldCBiYm94ID0gbGF5b3V0SXRlbS5iYm94O1xuXG4gICAgYmJveCA9IGJib3guc2V0KCdoZWlnaHQnLCBNYXRoLnJvdW5kKHBhcnNlSW50KGJib3guaGVpZ2h0LCAxMCkgKyBkaCkpXG4gICAgICAuc2V0KCd3aWR0aCcsIE1hdGgucm91bmQocGFyc2VJbnQoYmJveC53aWR0aCwgMTApICsgZHcpKVxuICAgICAgLnNldCgnbGVmdCcsIE1hdGgucm91bmQocGFyc2VJbnQoYmJveC5sZWZ0LCAxMCkgKyB4KSlcbiAgICAgIC5zZXQoJ3RvcCcsIE1hdGgucm91bmQocGFyc2VJbnQoYmJveC50b3AsIDEwKSArIHkpKVxuICAgICAgLnNldCgnYm90dG9tJywgTWF0aC5yb3VuZChwYXJzZUludChiYm94LnRvcCwgMTApIC0gZGggKyB5KSk7XG5cbiAgICBjb25zdCBhcHBDb25maWdBY3Rpb24gPSBnZXRBcHBDb25maWdBY3Rpb24oKTtcbiAgICBhcHBDb25maWdBY3Rpb24uZWRpdExheW91dEl0ZW1CQm94KFxuICAgICAge1xuICAgICAgICBsYXlvdXRJZCxcbiAgICAgICAgbGF5b3V0SXRlbUlkOiBsYXlvdXRJdGVtLmlkLFxuICAgICAgfSxcbiAgICAgIGJib3gsXG4gICAgKS5leGVjKCk7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBpc1Jlc2l6aW5nOiBmYWxzZSxcbiAgICAgIGR4OiAwLFxuICAgICAgZHk6IDAsXG4gICAgICBkdzogMCxcbiAgICAgIGRoOiAwLFxuICAgIH0pO1xuICB9XG5cbiAgY2FsY3VsYXRlUG9zaXRpb24oKSB7XG4gICAgY29uc3QgeyBsYXlvdXRJdGVtIH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IGZsb2F0aW5nQXJlYSA9IGxheW91dEl0ZW0uc2V0dGluZz8uZmxvYXRpbmdBcmVhID8/IDE7XG4gICAgY29uc3Qgb2Zmc2V0WCA9IGAke2xheW91dEl0ZW0uc2V0dGluZz8ub2Zmc2V0WCA/PyAwfXB4YDtcbiAgICBjb25zdCBvZmZzZXRZID0gYCR7bGF5b3V0SXRlbS5zZXR0aW5nPy5vZmZzZXRZID8/IDB9cHhgO1xuXG4gICAgY29uc3QgeyBkaCwgZHcsIGlzUmVzaXppbmcgfSA9IHRoaXMuc3RhdGU7XG5cbiAgICBjb25zdCBwb3M6IFJlYWN0LkNTU1Byb3BlcnRpZXMgPSB7fTtcbiAgICBzd2l0Y2goZmxvYXRpbmdBcmVhKSB7XG4gICAgICBjYXNlIDE6IC8vIHRvcC1sZWZ0XG4gICAgICAgIHBvcy5sZWZ0ID0gb2Zmc2V0WDtcbiAgICAgICAgcG9zLnRvcCA9IG9mZnNldFk7XG4gICAgICAgIHBvcy50cmFuc2Zvcm0gPSBudWxsO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgMjogLy8gdG9wLWNlbnRlclxuICAgICAgICBwb3MubGVmdCA9ICc1MCUnO1xuICAgICAgICBwb3MudG9wID0gb2Zmc2V0WTtcbiAgICAgICAgcG9zLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGVYKGNhbGMoLTUwJSArICR7b2Zmc2V0WH1weCkpYDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDM6IC8vIHRvcC1yaWdodFxuICAgICAgICBwb3MucmlnaHQgPSBvZmZzZXRYO1xuICAgICAgICBwb3MudG9wID0gb2Zmc2V0WTtcbiAgICAgICAgcG9zLnRyYW5zZm9ybSA9IG51bGw7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSA0OiAvLyBtaWRkbGUtbGVmdFxuICAgICAgICBwb3MubGVmdCA9IG9mZnNldFg7XG4gICAgICAgIHBvcy50b3AgPSAnNTAlJztcbiAgICAgICAgcG9zLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGVZKGNhbGMoLTUwJSArICR7b2Zmc2V0WX1weCkpYDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDU6IC8vIG1pZGRsZS1jZW50ZXJcbiAgICAgICAgcG9zLmxlZnQgPSAnNTAlJztcbiAgICAgICAgcG9zLnRvcCA9ICc1MCUnO1xuICAgICAgICBwb3MudHJhbnNmb3JtID0gYHRyYW5zbGF0ZVgoY2FsYygtNTAlICsgJHtvZmZzZXRYfXB4KSkgdHJhbnNsYXRlWShjYWxjKC01MCUgKyAke29mZnNldFl9cHgpKWA7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSA2OiAvLyBtaWRkbGUtcmlnaHRcbiAgICAgICAgcG9zLnJpZ2h0ID0gb2Zmc2V0WDtcbiAgICAgICAgcG9zLnRvcCA9ICc1MCUnO1xuICAgICAgICBwb3MudHJhbnNmb3JtID0gYHRyYW5zbGF0ZVkoY2FsYygtNTAlICsgJHtvZmZzZXRZfXB4KSlgO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgNzogLy8gYm90dG9tLWxlZnRcbiAgICAgICAgcG9zLmxlZnQgPSBvZmZzZXRYO1xuICAgICAgICBwb3MuYm90dG9tID0gb2Zmc2V0WTtcbiAgICAgICAgcG9zLnRyYW5zZm9ybSA9IG51bGw7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSA4OiAvLyBib3R0b20tY2VudGVyXG4gICAgICAgIHBvcy5sZWZ0ID0gJzUwJSc7XG4gICAgICAgIHBvcy5ib3R0b20gPSBvZmZzZXRZO1xuICAgICAgICBwb3MudHJhbnNmb3JtID0gYHRyYW5zbGF0ZVgoY2FsYygtNTAlICsgJHtvZmZzZXRYfXB4KSlgO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgOTogLy8gYm90dG9tLXJpZ2h0XG4gICAgICAgIHBvcy5yaWdodCA9IG9mZnNldFg7XG4gICAgICAgIHBvcy5ib3R0b20gPSBvZmZzZXRZO1xuICAgICAgICBwb3MudHJhbnNmb3JtID0gbnVsbDtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHJldHVybiBjc3NgXG4gICAgICBwb3NpdGlvbjogZml4ZWQ7XG4gICAgICB6LWluZGV4OiAxO1xuICAgICAgd2lkdGg6ICR7aXNSZXNpemluZyA/IGAke3RoaXMuaW5pdFdpZHRoICsgZHd9cHhgIDogdXRpbHMuZ2V0VmFsdWVPZkJCb3gobGF5b3V0SXRlbS5iYm94LCAnd2lkdGgnKX07XG4gICAgICBoZWlnaHQ6ICR7aXNSZXNpemluZyA/IGAke3RoaXMuaW5pdEhlaWdodCArIGRofXB4YCA6IHV0aWxzLmdldFZhbHVlT2ZCQm94KGxheW91dEl0ZW0uYmJveCwgJ2hlaWdodCcpfTtcbiAgICAgIGxlZnQ6ICR7cG9zLmxlZnR9O1xuICAgICAgcmlnaHQ6ICR7cG9zLnJpZ2h0fTtcbiAgICAgIHRvcDogJHtwb3MudG9wfTtcbiAgICAgIGJvdHRvbTogJHtwb3MuYm90dG9tfTtcbiAgICAgIHRyYW5zZm9ybTogJHtwb3MudHJhbnNmb3JtfTtcbiAgICBgO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHtcbiAgICAgIGxheW91dElkLFxuICAgICAgbGF5b3V0SXRlbSxcbiAgICAgIHNlbGVjdGFibGUsXG4gICAgICBzZWxlY3RlZCxcbiAgICB9ID0gdGhpcy5wcm9wcztcbiAgICBpZiAoIWxheW91dEl0ZW0pIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIC8vIGNvbnN0IHsgZGgsIGR3LCBkeCwgZHkgfSA9IHRoaXMuc3RhdGU7XG4gICAgLy8gY29uc3QgaXRlbVNldHRpbmc6IEZsb3dMYXlvdXRJdGVtU2V0dGluZyA9IGxvZGFzaC5hc3NpZ24oe30sIERFRkFVTFRfRkxPV19JVEVNX1NFVFRJTkcsIGxheW91dEl0ZW0uc2V0dGluZyk7XG4gICAgY29uc3QgbWVyZ2VkQ2xhc3MgPSBjbGFzc05hbWVzKCdmbGV4Ym94LWxheW91dC1pdGVtIGQtZmxleCcsIHtcbiAgICAgIHNlbGVjdGVkLFxuICAgIH0pO1xuXG4gICAgcmV0dXJuICg8UGFnZUNvbnRleHQuQ29uc3VtZXI+XG4gICAgICB7KHBhZ2VDb250ZXh0OiBQYWdlQ29udGV4dFByb3BzKSA9PiB7XG4gICAgICAgIHRoaXMucGFnZUNvbnRleHQgPSBwYWdlQ29udGV4dDtcbiAgICAgICAgcmV0dXJuIDxMYXlvdXRJdGVtXG4gICAgICAgICAgY3NzPXt0aGlzLmNhbGN1bGF0ZVBvc2l0aW9uKCl9XG4gICAgICAgICAgbGF5b3V0SWQ9e2xheW91dElkfVxuICAgICAgICAgIGxheW91dEl0ZW1JZD17bGF5b3V0SXRlbS5pZH1cbiAgICAgICAgICBvblJlc2l6ZVN0YXJ0PXt0aGlzLm9uUmVzaXplU3RhcnR9XG4gICAgICAgICAgb25SZXNpemluZz17dGhpcy5vblJlc2l6aW5nfVxuICAgICAgICAgIG9uUmVzaXplRW5kPXt0aGlzLm9uUmVzaXplRW5kfVxuICAgICAgICAgIHJlc3RyaWN0PXt0cnVlfVxuICAgICAgICAgIGRyYWdnYWJsZT17ZmFsc2V9XG4gICAgICAgICAgc2VsZWN0YWJsZT17c2VsZWN0YWJsZX1cbiAgICAgICAgICBjbGFzc05hbWU9e21lcmdlZENsYXNzfT5cbiAgICAgICAgPC9MYXlvdXRJdGVtPjtcbiAgICAgIH19XG4gICAgPC9QYWdlQ29udGV4dC5Db25zdW1lcj5cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFJlYWN0UmVkdXguY29ubmVjdDxTdGF0ZVRvTGF5b3V0SXRlbVByb3BzLCB1bmtub3duLCBMYXlvdXRJdGVtUHJvcHMgJiBPd25Qcm9wcz4odXRpbHMubWFwU3RhdGVUb0xheW91dEl0ZW1Qcm9wcykoXG4gIEZsb2F0aW5nTGF5b3V0SXRlbSxcbik7XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBV0E7QUFDQTtBQUNBO0FBdUJBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBMkdBO0FBekdBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVdBO0FBRUE7QUFBQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQVlBO0FBR0E7QUFDQTtBQUFBO0FBRUE7OyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./jimu-layouts/lib/flow-layout/builder/floating-layout-item.tsx\n");

/***/ }),

/***/ "./jimu-layouts/lib/flow-layout/builder/flow-item-setting.tsx":
/*!********************************************************************!*\
  !*** ./jimu-layouts/lib/flow-layout/builder/flow-item-setting.tsx ***!
  \********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jimu_core__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-layouts/layout-runtime */ \"jimu-layouts/layout-runtime\");\n/* harmony import */ var jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _default_setting__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../default-setting */ \"./jimu-layouts/lib/flow-layout/default-setting.ts\");\n/* harmony import */ var jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-ui/advanced/setting-components */ \"jimu-ui/advanced/setting-components\");\n/* harmony import */ var jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _builder_common_layout_item_setting__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../builder/common-layout-item-setting */ \"./jimu-layouts/lib/builder/common-layout-item-setting.tsx\");\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! jimu-ui */ \"jimu-ui\");\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(jimu_ui__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var jimu_ui_advanced_style_setting_components__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! jimu-ui/advanced/style-setting-components */ \"jimu-ui/advanced/style-setting-components\");\n/* harmony import */ var jimu_ui_advanced_style_setting_components__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(jimu_ui_advanced_style_setting_components__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _layout_utils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../layout-utils */ \"./jimu-layouts/lib/flow-layout/layout-utils.ts\");\n/* harmony import */ var _screen_group_setting__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./screen-group-setting */ \"./jimu-layouts/lib/flow-layout/builder/screen-group-setting.tsx\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __makeTemplateObject = (undefined && undefined.__makeTemplateObject) || function (cooked, raw) {\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n    return cooked;\n};\nvar __assign = (undefined && undefined.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\n/** @jsx jsx */\n\n\n\n\n\n\n\n\n\n// const marginSides = [Sides.T, Sides.R, Sides.B, Sides.L];\nvar inputStyle = { width: 110 };\nvar heightModes = [jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__[\"LayoutItemSizeModes\"].Auto, jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__[\"LayoutItemSizeModes\"].Custom];\nvar heightUnits = [jimu_ui__WEBPACK_IMPORTED_MODULE_5__[\"UnitTypes\"].PIXEL];\nvar FlowItemSetting = /** @class */ (function (_super) {\n    __extends(FlowItemSetting, _super);\n    function FlowItemSetting() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.updateWidth = function (value) {\n            var setting = _this.props.layoutItem.setting || Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"Immutable\"])({});\n            setting = setting.set('width', jimu_ui__WEBPACK_IMPORTED_MODULE_5__[\"utils\"].stringOfLinearUnit(value));\n            _this.props.onSettingChange({\n                layoutId: _this.props.layoutId,\n                layoutItemId: _this.props.layoutItem.id,\n            }, setting);\n        };\n        _this.updateBBoxWidth = function (value) {\n            var bbox = Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"Immutable\"])(_this.props.layoutItem.bbox || {});\n            bbox = bbox.set('width', jimu_ui__WEBPACK_IMPORTED_MODULE_5__[\"utils\"].stringOfLinearUnit(value));\n            _this.props.onPosChange({\n                layoutId: _this.props.layoutId,\n                layoutItemId: _this.props.layoutItem.id,\n            }, bbox);\n        };\n        _this.updateHeight = function (value) {\n            var bbox = Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"Immutable\"])(_this.props.layoutItem.bbox || {});\n            bbox = bbox.set('height', jimu_ui__WEBPACK_IMPORTED_MODULE_5__[\"utils\"].stringOfLinearUnit(value));\n            _this.props.onPosChange({\n                layoutId: _this.props.layoutId,\n                layoutItemId: _this.props.layoutItem.id,\n            }, bbox);\n        };\n        _this.updateOffsetX = function (value) {\n            var setting = _this.props.layoutItem.setting || Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"Immutable\"])({});\n            _this.props.onSettingChange({\n                layoutId: _this.props.layoutId,\n                layoutItemId: _this.props.layoutItem.id,\n            }, setting.set('offsetX', value));\n        };\n        _this.updateOffsetY = function (value) {\n            var setting = _this.props.layoutItem.setting || Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"Immutable\"])({});\n            _this.props.onSettingChange({\n                layoutId: _this.props.layoutId,\n                layoutItemId: _this.props.layoutItem.id,\n            }, setting.set('offsetY', value));\n        };\n        _this.updateHeightMode = function (mode) {\n            var setting = _this.props.layoutItem.setting || Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"Immutable\"])({});\n            setting = setting.set('heightMode', mode === jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__[\"LayoutItemSizeModes\"].Custom ? 'fixed' : 'auto');\n            _this.props.onSettingChange({\n                layoutId: _this.props.layoutId,\n                layoutItemId: _this.props.layoutItem.id,\n            }, setting);\n        };\n        return _this;\n    }\n    FlowItemSetting.prototype.updateFloatingArea = function (value) {\n        var setting = this.props.layoutItem.setting || Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"Immutable\"])({});\n        this.props.onSettingChange({\n            layoutId: this.props.layoutId,\n            layoutItemId: this.props.layoutItem.id,\n        }, setting.set('floatingArea', value));\n    };\n    FlowItemSetting.prototype.getStyle = function () {\n        return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n      .floating-area-chooser {\\n        background-color: var(--light-500);\\n        border: 1px solid var(--dark-200);\\n        position: relative;\\n        width: 100%;\\n        padding-top: 100%;\\n\\n        .content {\\n          position: absolute;\\n          top: 0;\\n          left: 0;\\n          bottom: 0;\\n          right: 0;\\n\\n          .flex-column {\\n            width: 33.3%;\\n\\n            & > div {\\n              cursor: pointer;\\n              height: 33.3%;\\n              position: relative;\\n            }\\n\\n            & > div + div {\\n              border-top: 1px solid var(--dark-200);\\n            }\\n          }\\n\\n          .selected:after {\\n            content: '';\\n            position: absolute;\\n            width: 50%;\\n            height: 50%;\\n            background-color: var(--primary-100);\\n            border: 1px solid var(--primary-600);\\n          }\\n\\n          .top-left.selected:after {\\n            left: 0;\\n            top: 0;\\n          }\\n          .top-center.selected:after {\\n            left: 25%;\\n            top: 0;\\n          }\\n          .top-right.selected:after {\\n            right: 0;\\n            top: 0;\\n          }\\n          .middle-left.selected:after {\\n            left: 0;\\n            top: 25%;\\n          }\\n          .middle-center.selected:after {\\n            left: 25%;\\n            top: 25%;\\n          }\\n          .middle-right.selected:after {\\n            right: 0;\\n            top: 25%;\\n          }\\n          .bottom-left.selected:after {\\n            left: 0;\\n            bottom: 0;\\n          }\\n          .bottom-center.selected:after {\\n            left: 25%;\\n            bottom: 0;\\n          }\\n          .bottom-right.selected:after {\\n            right: 0;\\n            bottom: 0;\\n          }\\n\\n\\n          .flex-column + .flex-column {\\n            border-left: 1px solid var(--dark-200);\\n          }\\n        }\\n      }\\n    \"], [\"\\n      .floating-area-chooser {\\n        background-color: var(--light-500);\\n        border: 1px solid var(--dark-200);\\n        position: relative;\\n        width: 100%;\\n        padding-top: 100%;\\n\\n        .content {\\n          position: absolute;\\n          top: 0;\\n          left: 0;\\n          bottom: 0;\\n          right: 0;\\n\\n          .flex-column {\\n            width: 33.3%;\\n\\n            & > div {\\n              cursor: pointer;\\n              height: 33.3%;\\n              position: relative;\\n            }\\n\\n            & > div + div {\\n              border-top: 1px solid var(--dark-200);\\n            }\\n          }\\n\\n          .selected:after {\\n            content: '';\\n            position: absolute;\\n            width: 50%;\\n            height: 50%;\\n            background-color: var(--primary-100);\\n            border: 1px solid var(--primary-600);\\n          }\\n\\n          .top-left.selected:after {\\n            left: 0;\\n            top: 0;\\n          }\\n          .top-center.selected:after {\\n            left: 25%;\\n            top: 0;\\n          }\\n          .top-right.selected:after {\\n            right: 0;\\n            top: 0;\\n          }\\n          .middle-left.selected:after {\\n            left: 0;\\n            top: 25%;\\n          }\\n          .middle-center.selected:after {\\n            left: 25%;\\n            top: 25%;\\n          }\\n          .middle-right.selected:after {\\n            right: 0;\\n            top: 25%;\\n          }\\n          .bottom-left.selected:after {\\n            left: 0;\\n            bottom: 0;\\n          }\\n          .bottom-center.selected:after {\\n            left: 25%;\\n            bottom: 0;\\n          }\\n          .bottom-right.selected:after {\\n            right: 0;\\n            bottom: 0;\\n          }\\n\\n\\n          .flex-column + .flex-column {\\n            border-left: 1px solid var(--dark-200);\\n          }\\n        }\\n      }\\n    \"])));\n    };\n    FlowItemSetting.prototype.render = function () {\n        var _a, _b;\n        var _c = this.props, layoutId = _c.layoutId, layoutItem = _c.layoutItem, formatMessage = _c.formatMessage, isLockLayout = _c.isLockLayout;\n        if (!layoutItem) {\n            return null;\n        }\n        if (layoutItem.type === jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"LayoutItemType\"].ScreenGroup) {\n            return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_screen_group_setting__WEBPACK_IMPORTED_MODULE_8__[\"default\"], __assign({}, this.props));\n        }\n        this.itemSetting = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"lodash\"].assign({}, _default_setting__WEBPACK_IMPORTED_MODULE_2__[\"DEFAULT_FLOW_ITEM_SETTING\"], layoutItem.setting);\n        var bbox = layoutItem.bbox;\n        var width = jimu_ui__WEBPACK_IMPORTED_MODULE_5__[\"utils\"].stringOfLinearUnit(Object(_layout_utils__WEBPACK_IMPORTED_MODULE_7__[\"getWidthFromSetting\"])(this.itemSetting));\n        var height = jimu_ui__WEBPACK_IMPORTED_MODULE_5__[\"utils\"].stringOfLinearUnit(parseFloat((_a = layoutItem.bbox) === null || _a === void 0 ? void 0 : _a.height) > 0 ? (_b = layoutItem.bbox) === null || _b === void 0 ? void 0 : _b.height : 100);\n        var isAuto = this.itemSetting.heightMode === 'auto' || jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__[\"utils\"].isPercentage(bbox === null || bbox === void 0 ? void 0 : bbox.height);\n        return (Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"flow-item-setting\", css: this.getStyle() },\n            !isLockLayout && Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].Fragment, null,\n                this.itemSetting.isFloating && Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_3__[\"SettingSection\"], { title: formatMessage('position') },\n                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"floating-area-chooser\" },\n                        Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"content d-flex\" },\n                            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"d-flex flex-column\" },\n                                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"classNames\"])('top-left', { selected: this.itemSetting.floatingArea === 1 }), onClick: this.updateFloatingArea.bind(this, 1) }),\n                                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"classNames\"])('middle-left', { selected: this.itemSetting.floatingArea === 4 }), onClick: this.updateFloatingArea.bind(this, 4) }),\n                                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"classNames\"])('bottom-left', { selected: this.itemSetting.floatingArea === 7 }), onClick: this.updateFloatingArea.bind(this, 7) })),\n                            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"d-flex flex-column\" },\n                                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"classNames\"])('top-center', { selected: this.itemSetting.floatingArea === 2 }), onClick: this.updateFloatingArea.bind(this, 2) }),\n                                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"classNames\"])('middle-center', { selected: this.itemSetting.floatingArea === 5 }), onClick: this.updateFloatingArea.bind(this, 5) }),\n                                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"classNames\"])('bottom-center', { selected: this.itemSetting.floatingArea === 8 }), onClick: this.updateFloatingArea.bind(this, 8) })),\n                            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"d-flex flex-column\" },\n                                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"classNames\"])('top-right', { selected: this.itemSetting.floatingArea === 3 }), onClick: this.updateFloatingArea.bind(this, 3) }),\n                                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"classNames\"])('middle-right', { selected: this.itemSetting.floatingArea === 6 }), onClick: this.updateFloatingArea.bind(this, 6) }),\n                                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"classNames\"])('bottom-right', { selected: this.itemSetting.floatingArea === 9 }), onClick: this.updateFloatingArea.bind(this, 9) }))))),\n                this.itemSetting.isFloating && Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_3__[\"SettingSection\"], { title: formatMessage('size') },\n                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_3__[\"SettingRow\"], { label: formatMessage('width') },\n                        Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { style: inputStyle },\n                            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui_advanced_style_setting_components__WEBPACK_IMPORTED_MODULE_6__[\"SizeEditor\"], { label: \"W\", mode: jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__[\"LayoutItemSizeModes\"].Custom, disableModeSelect: true, value: bbox === null || bbox === void 0 ? void 0 : bbox.width, onChange: this.updateBBoxWidth }))),\n                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_3__[\"SettingRow\"], { label: formatMessage('height') },\n                        Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { style: inputStyle },\n                            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui_advanced_style_setting_components__WEBPACK_IMPORTED_MODULE_6__[\"SizeEditor\"], { label: \"H\", mode: jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__[\"LayoutItemSizeModes\"].Custom, disableModeSelect: true, value: bbox === null || bbox === void 0 ? void 0 : bbox.height, onChange: this.updateHeight })))),\n                !this.itemSetting.isFloating && Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_3__[\"SettingSection\"], { title: formatMessage('size') },\n                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_3__[\"SettingRow\"], { label: formatMessage('width') },\n                        Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { style: inputStyle },\n                            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui_advanced_style_setting_components__WEBPACK_IMPORTED_MODULE_6__[\"SizeEditor\"], { label: \"W\", mode: jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__[\"LayoutItemSizeModes\"].Custom, disableModeSelect: true, value: width, onChange: this.updateWidth }))),\n                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_3__[\"SettingRow\"], { label: formatMessage('height') },\n                        Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { style: inputStyle },\n                            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui_advanced_style_setting_components__WEBPACK_IMPORTED_MODULE_6__[\"SizeEditor\"], { label: \"H\", mode: isAuto ? jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__[\"LayoutItemSizeModes\"].Auto : jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__[\"LayoutItemSizeModes\"].Custom, sizeModes: heightModes, availableUnits: heightUnits, disableModeSelect: false, value: height, onChange: this.updateHeight, onModeChange: this.updateHeightMode })))),\n                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_3__[\"SettingSection\"], { title: formatMessage('position') },\n                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_3__[\"SettingRow\"], { label: formatMessage('offsetX') },\n                        Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_5__[\"NumericInput\"], { style: inputStyle, value: this.itemSetting.offsetX, onChange: this.updateOffsetX, size: \"sm\" })),\n                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_3__[\"SettingRow\"], { label: formatMessage('offsetY') },\n                        Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_5__[\"NumericInput\"], { style: inputStyle, value: this.itemSetting.offsetY, onChange: this.updateOffsetY, size: \"sm\" })))),\n            (layoutItem.widgetId || layoutItem.sectionId) && Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_builder_common_layout_item_setting__WEBPACK_IMPORTED_MODULE_4__[\"default\"], { layoutId: layoutId, layoutItemId: layoutItem.id, isSection: false, style: this.props.style, onStyleChange: this.props.onStyleChange, onSettingChange: this.props.onSettingChange, formatMessage: this.props.formatMessage })));\n    };\n    return FlowItemSetting;\n}(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].PureComponent));\n/* harmony default export */ __webpack_exports__[\"default\"] = (FlowItemSetting);\nvar templateObject_1;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWxheW91dHMvbGliL2Zsb3ctbGF5b3V0L2J1aWxkZXIvZmxvdy1pdGVtLXNldHRpbmcudHN4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vamltdS1sYXlvdXRzL2xpYi9mbG93LWxheW91dC9idWlsZGVyL2Zsb3ctaXRlbS1zZXR0aW5nLnRzeD9iMzhlIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKiBAanN4IGpzeCAqL1xuaW1wb3J0IHtcbiAgUmVhY3QsXG4gIEltbXV0YWJsZSxcbiAganN4LFxuICBjc3MsXG4gIGNsYXNzTmFtZXMsXG4gIGxvZGFzaCxcbiAgTGF5b3V0SXRlbVR5cGUsXG59IGZyb20gJ2ppbXUtY29yZSc7XG5pbXBvcnQgeyBGbG93TGF5b3V0SXRlbVNldHRpbmcsIExheW91dEl0ZW1TaXplTW9kZXMsIHV0aWxzIH0gZnJvbSAnamltdS1sYXlvdXRzL2xheW91dC1ydW50aW1lJztcbmltcG9ydCB7IExheW91dEl0ZW1TZXR0aW5nUHJvcHMgfSBmcm9tICcuLi8uLi9idWlsZGVyL3R5cGVzJ1xuaW1wb3J0IHsgREVGQVVMVF9GTE9XX0lURU1fU0VUVElORyB9IGZyb20gJy4uL2RlZmF1bHQtc2V0dGluZyc7XG5pbXBvcnQge1xuICAvLyBGb3VyU2lkZXMsXG4gIFNldHRpbmdTZWN0aW9uLFxuICBTZXR0aW5nUm93LFxufSBmcm9tICdqaW11LXVpL2FkdmFuY2VkL3NldHRpbmctY29tcG9uZW50cyc7XG5pbXBvcnQgQ29tbW9uTGF5b3V0SXRlbVNldHRpbmcgZnJvbSAnLi4vLi4vYnVpbGRlci9jb21tb24tbGF5b3V0LWl0ZW0tc2V0dGluZyc7XG5pbXBvcnQgeyBMaW5lYXJVbml0LCBVbml0VHlwZXMsIE51bWVyaWNJbnB1dCwgdXRpbHMgYXMgdWlVdGlscyB9IGZyb20gJ2ppbXUtdWknO1xuaW1wb3J0IHsgU2l6ZUVkaXRvciB9IGZyb20gJ2ppbXUtdWkvYWR2YW5jZWQvc3R5bGUtc2V0dGluZy1jb21wb25lbnRzJztcbmltcG9ydCB7IGdldFdpZHRoRnJvbVNldHRpbmcgfSBmcm9tICcuLi9sYXlvdXQtdXRpbHMnO1xuaW1wb3J0IFNjcmVlbkdyb3VwU2V0dGluZyBmcm9tICcuL3NjcmVlbi1ncm91cC1zZXR0aW5nJztcblxuLy8gY29uc3QgbWFyZ2luU2lkZXMgPSBbU2lkZXMuVCwgU2lkZXMuUiwgU2lkZXMuQiwgU2lkZXMuTF07XG5jb25zdCBpbnB1dFN0eWxlID0geyB3aWR0aDogMTEwIH07XG5jb25zdCBoZWlnaHRNb2RlcyA9IFtMYXlvdXRJdGVtU2l6ZU1vZGVzLkF1dG8sIExheW91dEl0ZW1TaXplTW9kZXMuQ3VzdG9tXTtcbmNvbnN0IGhlaWdodFVuaXRzID0gW1VuaXRUeXBlcy5QSVhFTF07XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZsb3dJdGVtU2V0dGluZyBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQ8TGF5b3V0SXRlbVNldHRpbmdQcm9wcz4ge1xuICBpdGVtU2V0dGluZzogRmxvd0xheW91dEl0ZW1TZXR0aW5nO1xuXG4gIHVwZGF0ZVdpZHRoID0gKHZhbHVlOiBMaW5lYXJVbml0KSA9PiB7XG4gICAgbGV0IHNldHRpbmcgPSB0aGlzLnByb3BzLmxheW91dEl0ZW0uc2V0dGluZyB8fCBJbW11dGFibGUoe30pO1xuICAgIHNldHRpbmcgPSBzZXR0aW5nLnNldCgnd2lkdGgnLCB1aVV0aWxzLnN0cmluZ09mTGluZWFyVW5pdCh2YWx1ZSkpO1xuICAgIHRoaXMucHJvcHMub25TZXR0aW5nQ2hhbmdlKFxuICAgICAge1xuICAgICAgICBsYXlvdXRJZDogdGhpcy5wcm9wcy5sYXlvdXRJZCxcbiAgICAgICAgbGF5b3V0SXRlbUlkOiB0aGlzLnByb3BzLmxheW91dEl0ZW0uaWQsXG4gICAgICB9LFxuICAgICAgc2V0dGluZyxcbiAgICApO1xuICB9XG5cbiAgdXBkYXRlQkJveFdpZHRoID0gKHZhbHVlOiBMaW5lYXJVbml0KSA9PiB7XG4gICAgbGV0IGJib3ggPSBJbW11dGFibGUodGhpcy5wcm9wcy5sYXlvdXRJdGVtLmJib3ggfHwge30pO1xuICAgIGJib3ggPSBiYm94LnNldCgnd2lkdGgnLCB1aVV0aWxzLnN0cmluZ09mTGluZWFyVW5pdCh2YWx1ZSkpO1xuICAgIHRoaXMucHJvcHMub25Qb3NDaGFuZ2UoXG4gICAgICB7XG4gICAgICAgIGxheW91dElkOiB0aGlzLnByb3BzLmxheW91dElkLFxuICAgICAgICBsYXlvdXRJdGVtSWQ6IHRoaXMucHJvcHMubGF5b3V0SXRlbS5pZCxcbiAgICAgIH0sXG4gICAgICBiYm94LFxuICAgICk7XG4gIH1cblxuICB1cGRhdGVIZWlnaHQgPSAodmFsdWU6IExpbmVhclVuaXQpID0+IHtcbiAgICBsZXQgYmJveCA9IEltbXV0YWJsZSh0aGlzLnByb3BzLmxheW91dEl0ZW0uYmJveCB8fCB7fSk7XG4gICAgYmJveCA9IGJib3guc2V0KCdoZWlnaHQnLCB1aVV0aWxzLnN0cmluZ09mTGluZWFyVW5pdCh2YWx1ZSkpO1xuICAgIHRoaXMucHJvcHMub25Qb3NDaGFuZ2UoXG4gICAgICB7XG4gICAgICAgIGxheW91dElkOiB0aGlzLnByb3BzLmxheW91dElkLFxuICAgICAgICBsYXlvdXRJdGVtSWQ6IHRoaXMucHJvcHMubGF5b3V0SXRlbS5pZCxcbiAgICAgIH0sXG4gICAgICBiYm94LFxuICAgICk7XG4gIH1cblxuICB1cGRhdGVPZmZzZXRYID0gKHZhbHVlOiBudW1iZXIpID0+IHtcbiAgICBjb25zdCBzZXR0aW5nID0gdGhpcy5wcm9wcy5sYXlvdXRJdGVtLnNldHRpbmcgfHwgSW1tdXRhYmxlKHt9KTtcbiAgICB0aGlzLnByb3BzLm9uU2V0dGluZ0NoYW5nZShcbiAgICAgIHtcbiAgICAgICAgbGF5b3V0SWQ6IHRoaXMucHJvcHMubGF5b3V0SWQsXG4gICAgICAgIGxheW91dEl0ZW1JZDogdGhpcy5wcm9wcy5sYXlvdXRJdGVtLmlkLFxuICAgICAgfSxcbiAgICAgIHNldHRpbmcuc2V0KCdvZmZzZXRYJywgdmFsdWUpLFxuICAgICk7XG4gIH1cblxuICB1cGRhdGVPZmZzZXRZID0gKHZhbHVlOiBudW1iZXIpID0+IHtcbiAgICBjb25zdCBzZXR0aW5nID0gdGhpcy5wcm9wcy5sYXlvdXRJdGVtLnNldHRpbmcgfHwgSW1tdXRhYmxlKHt9KTtcbiAgICB0aGlzLnByb3BzLm9uU2V0dGluZ0NoYW5nZShcbiAgICAgIHtcbiAgICAgICAgbGF5b3V0SWQ6IHRoaXMucHJvcHMubGF5b3V0SWQsXG4gICAgICAgIGxheW91dEl0ZW1JZDogdGhpcy5wcm9wcy5sYXlvdXRJdGVtLmlkLFxuICAgICAgfSxcbiAgICAgIHNldHRpbmcuc2V0KCdvZmZzZXRZJywgdmFsdWUpLFxuICAgICk7XG4gIH1cblxuICB1cGRhdGVIZWlnaHRNb2RlID0gKG1vZGU6IExheW91dEl0ZW1TaXplTW9kZXMpID0+IHtcbiAgICBsZXQgc2V0dGluZyA9IHRoaXMucHJvcHMubGF5b3V0SXRlbS5zZXR0aW5nIHx8IEltbXV0YWJsZSh7fSk7XG4gICAgc2V0dGluZyA9IHNldHRpbmcuc2V0KCdoZWlnaHRNb2RlJywgbW9kZSA9PT0gTGF5b3V0SXRlbVNpemVNb2Rlcy5DdXN0b20gPyAnZml4ZWQnIDogJ2F1dG8nKTtcbiAgICB0aGlzLnByb3BzLm9uU2V0dGluZ0NoYW5nZShcbiAgICAgIHtcbiAgICAgICAgbGF5b3V0SWQ6IHRoaXMucHJvcHMubGF5b3V0SWQsXG4gICAgICAgIGxheW91dEl0ZW1JZDogdGhpcy5wcm9wcy5sYXlvdXRJdGVtLmlkLFxuICAgICAgfSxcbiAgICAgIHNldHRpbmcsXG4gICAgKTtcbiAgfVxuXG4gIHVwZGF0ZUZsb2F0aW5nQXJlYSh2YWx1ZTogbnVtYmVyKSB7XG4gICAgY29uc3Qgc2V0dGluZyA9IHRoaXMucHJvcHMubGF5b3V0SXRlbS5zZXR0aW5nIHx8IEltbXV0YWJsZSh7fSk7XG4gICAgdGhpcy5wcm9wcy5vblNldHRpbmdDaGFuZ2UoXG4gICAgICB7XG4gICAgICAgIGxheW91dElkOiB0aGlzLnByb3BzLmxheW91dElkLFxuICAgICAgICBsYXlvdXRJdGVtSWQ6IHRoaXMucHJvcHMubGF5b3V0SXRlbS5pZCxcbiAgICAgIH0sXG4gICAgICBzZXR0aW5nLnNldCgnZmxvYXRpbmdBcmVhJywgdmFsdWUpXG4gICAgKTtcbiAgfVxuXG4gIGdldFN0eWxlKCkge1xuICAgIHJldHVybiBjc3NgXG4gICAgICAuZmxvYXRpbmctYXJlYS1jaG9vc2VyIHtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tbGlnaHQtNTAwKTtcbiAgICAgICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tZGFyay0yMDApO1xuICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICBwYWRkaW5nLXRvcDogMTAwJTtcblxuICAgICAgICAuY29udGVudCB7XG4gICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICAgIHRvcDogMDtcbiAgICAgICAgICBsZWZ0OiAwO1xuICAgICAgICAgIGJvdHRvbTogMDtcbiAgICAgICAgICByaWdodDogMDtcblxuICAgICAgICAgIC5mbGV4LWNvbHVtbiB7XG4gICAgICAgICAgICB3aWR0aDogMzMuMyU7XG5cbiAgICAgICAgICAgICYgPiBkaXYge1xuICAgICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICAgICAgICAgIGhlaWdodDogMzMuMyU7XG4gICAgICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgJiA+IGRpdiArIGRpdiB7XG4gICAgICAgICAgICAgIGJvcmRlci10b3A6IDFweCBzb2xpZCB2YXIoLS1kYXJrLTIwMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLnNlbGVjdGVkOmFmdGVyIHtcbiAgICAgICAgICAgIGNvbnRlbnQ6ICcnO1xuICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICAgICAgd2lkdGg6IDUwJTtcbiAgICAgICAgICAgIGhlaWdodDogNTAlO1xuICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tcHJpbWFyeS0xMDApO1xuICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tcHJpbWFyeS02MDApO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC50b3AtbGVmdC5zZWxlY3RlZDphZnRlciB7XG4gICAgICAgICAgICBsZWZ0OiAwO1xuICAgICAgICAgICAgdG9wOiAwO1xuICAgICAgICAgIH1cbiAgICAgICAgICAudG9wLWNlbnRlci5zZWxlY3RlZDphZnRlciB7XG4gICAgICAgICAgICBsZWZ0OiAyNSU7XG4gICAgICAgICAgICB0b3A6IDA7XG4gICAgICAgICAgfVxuICAgICAgICAgIC50b3AtcmlnaHQuc2VsZWN0ZWQ6YWZ0ZXIge1xuICAgICAgICAgICAgcmlnaHQ6IDA7XG4gICAgICAgICAgICB0b3A6IDA7XG4gICAgICAgICAgfVxuICAgICAgICAgIC5taWRkbGUtbGVmdC5zZWxlY3RlZDphZnRlciB7XG4gICAgICAgICAgICBsZWZ0OiAwO1xuICAgICAgICAgICAgdG9wOiAyNSU7XG4gICAgICAgICAgfVxuICAgICAgICAgIC5taWRkbGUtY2VudGVyLnNlbGVjdGVkOmFmdGVyIHtcbiAgICAgICAgICAgIGxlZnQ6IDI1JTtcbiAgICAgICAgICAgIHRvcDogMjUlO1xuICAgICAgICAgIH1cbiAgICAgICAgICAubWlkZGxlLXJpZ2h0LnNlbGVjdGVkOmFmdGVyIHtcbiAgICAgICAgICAgIHJpZ2h0OiAwO1xuICAgICAgICAgICAgdG9wOiAyNSU7XG4gICAgICAgICAgfVxuICAgICAgICAgIC5ib3R0b20tbGVmdC5zZWxlY3RlZDphZnRlciB7XG4gICAgICAgICAgICBsZWZ0OiAwO1xuICAgICAgICAgICAgYm90dG9tOiAwO1xuICAgICAgICAgIH1cbiAgICAgICAgICAuYm90dG9tLWNlbnRlci5zZWxlY3RlZDphZnRlciB7XG4gICAgICAgICAgICBsZWZ0OiAyNSU7XG4gICAgICAgICAgICBib3R0b206IDA7XG4gICAgICAgICAgfVxuICAgICAgICAgIC5ib3R0b20tcmlnaHQuc2VsZWN0ZWQ6YWZ0ZXIge1xuICAgICAgICAgICAgcmlnaHQ6IDA7XG4gICAgICAgICAgICBib3R0b206IDA7XG4gICAgICAgICAgfVxuXG5cbiAgICAgICAgICAuZmxleC1jb2x1bW4gKyAuZmxleC1jb2x1bW4ge1xuICAgICAgICAgICAgYm9yZGVyLWxlZnQ6IDFweCBzb2xpZCB2YXIoLS1kYXJrLTIwMCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgYDtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IGxheW91dElkLCBsYXlvdXRJdGVtLCBmb3JtYXRNZXNzYWdlLCBpc0xvY2tMYXlvdXQgfSA9IHRoaXMucHJvcHM7XG4gICAgaWYgKCFsYXlvdXRJdGVtKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgaWYgKGxheW91dEl0ZW0udHlwZSA9PT0gTGF5b3V0SXRlbVR5cGUuU2NyZWVuR3JvdXApIHtcbiAgICAgIHJldHVybiA8U2NyZWVuR3JvdXBTZXR0aW5nIHsuLi50aGlzLnByb3BzfS8+XG4gICAgfVxuXG4gICAgdGhpcy5pdGVtU2V0dGluZyA9IGxvZGFzaC5hc3NpZ24oe30sIERFRkFVTFRfRkxPV19JVEVNX1NFVFRJTkcsIGxheW91dEl0ZW0uc2V0dGluZyk7XG4gICAgY29uc3QgYmJveCA9IGxheW91dEl0ZW0uYmJveDtcbiAgICBjb25zdCB3aWR0aCA9IHVpVXRpbHMuc3RyaW5nT2ZMaW5lYXJVbml0KGdldFdpZHRoRnJvbVNldHRpbmcodGhpcy5pdGVtU2V0dGluZykpO1xuICAgIGNvbnN0IGhlaWdodCA9IHVpVXRpbHMuc3RyaW5nT2ZMaW5lYXJVbml0KHBhcnNlRmxvYXQobGF5b3V0SXRlbS5iYm94Py5oZWlnaHQpID4gMCA/IGxheW91dEl0ZW0uYmJveD8uaGVpZ2h0IDogMTAwKTtcbiAgICBjb25zdCBpc0F1dG8gPSB0aGlzLml0ZW1TZXR0aW5nLmhlaWdodE1vZGUgPT09ICdhdXRvJyB8fCB1dGlscy5pc1BlcmNlbnRhZ2UoYmJveD8uaGVpZ2h0KTtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbG93LWl0ZW0tc2V0dGluZ1wiIGNzcz17dGhpcy5nZXRTdHlsZSgpfT5cbiAgICAgICAgeyFpc0xvY2tMYXlvdXQgJiYgPFJlYWN0LkZyYWdtZW50PlxuICAgICAgICAgIHt0aGlzLml0ZW1TZXR0aW5nLmlzRmxvYXRpbmcgJiYgPFNldHRpbmdTZWN0aW9uIHRpdGxlPXtmb3JtYXRNZXNzYWdlKCdwb3NpdGlvbicpfT5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxvYXRpbmctYXJlYS1jaG9vc2VyXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGVudCBkLWZsZXhcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImQtZmxleCBmbGV4LWNvbHVtblwiPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzTmFtZXMoJ3RvcC1sZWZ0Jywge3NlbGVjdGVkOiB0aGlzLml0ZW1TZXR0aW5nLmZsb2F0aW5nQXJlYSA9PT0gMX0pfVxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnVwZGF0ZUZsb2F0aW5nQXJlYS5iaW5kKHRoaXMsIDEpfT48L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc05hbWVzKCdtaWRkbGUtbGVmdCcsIHtzZWxlY3RlZDogdGhpcy5pdGVtU2V0dGluZy5mbG9hdGluZ0FyZWEgPT09IDR9KX1cbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy51cGRhdGVGbG9hdGluZ0FyZWEuYmluZCh0aGlzLCA0KX0+PC9kaXY+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NOYW1lcygnYm90dG9tLWxlZnQnLCB7c2VsZWN0ZWQ6IHRoaXMuaXRlbVNldHRpbmcuZmxvYXRpbmdBcmVhID09PSA3fSl9XG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMudXBkYXRlRmxvYXRpbmdBcmVhLmJpbmQodGhpcywgNyl9PjwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZC1mbGV4IGZsZXgtY29sdW1uXCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NOYW1lcygndG9wLWNlbnRlcicsIHtzZWxlY3RlZDogdGhpcy5pdGVtU2V0dGluZy5mbG9hdGluZ0FyZWEgPT09IDJ9KX1cbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy51cGRhdGVGbG9hdGluZ0FyZWEuYmluZCh0aGlzLCAyKX0+PC9kaXY+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NOYW1lcygnbWlkZGxlLWNlbnRlcicsIHtzZWxlY3RlZDogdGhpcy5pdGVtU2V0dGluZy5mbG9hdGluZ0FyZWEgPT09IDV9KX1cbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy51cGRhdGVGbG9hdGluZ0FyZWEuYmluZCh0aGlzLCA1KX0+PC9kaXY+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NOYW1lcygnYm90dG9tLWNlbnRlcicsIHtzZWxlY3RlZDogdGhpcy5pdGVtU2V0dGluZy5mbG9hdGluZ0FyZWEgPT09IDh9KX1cbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy51cGRhdGVGbG9hdGluZ0FyZWEuYmluZCh0aGlzLCA4KX0+PC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJkLWZsZXggZmxleC1jb2x1bW5cIj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc05hbWVzKCd0b3AtcmlnaHQnLCB7c2VsZWN0ZWQ6IHRoaXMuaXRlbVNldHRpbmcuZmxvYXRpbmdBcmVhID09PSAzfSl9XG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMudXBkYXRlRmxvYXRpbmdBcmVhLmJpbmQodGhpcywgMyl9PjwvZGl2PlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzTmFtZXMoJ21pZGRsZS1yaWdodCcsIHtzZWxlY3RlZDogdGhpcy5pdGVtU2V0dGluZy5mbG9hdGluZ0FyZWEgPT09IDZ9KX1cbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy51cGRhdGVGbG9hdGluZ0FyZWEuYmluZCh0aGlzLCA2KX0+PC9kaXY+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NOYW1lcygnYm90dG9tLXJpZ2h0Jywge3NlbGVjdGVkOiB0aGlzLml0ZW1TZXR0aW5nLmZsb2F0aW5nQXJlYSA9PT0gOX0pfVxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnVwZGF0ZUZsb2F0aW5nQXJlYS5iaW5kKHRoaXMsIDkpfT48L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L1NldHRpbmdTZWN0aW9uPn1cblxuICAgICAgICAgIHt0aGlzLml0ZW1TZXR0aW5nLmlzRmxvYXRpbmcgJiYgPFNldHRpbmdTZWN0aW9uIHRpdGxlPXtmb3JtYXRNZXNzYWdlKCdzaXplJyl9PlxuICAgICAgICAgICAgPFNldHRpbmdSb3cgbGFiZWw9e2Zvcm1hdE1lc3NhZ2UoJ3dpZHRoJyl9PlxuICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXtpbnB1dFN0eWxlfT5cbiAgICAgICAgICAgICAgICA8U2l6ZUVkaXRvclxuICAgICAgICAgICAgICAgICAgbGFiZWw9XCJXXCJcbiAgICAgICAgICAgICAgICAgIG1vZGU9e0xheW91dEl0ZW1TaXplTW9kZXMuQ3VzdG9tfVxuICAgICAgICAgICAgICAgICAgZGlzYWJsZU1vZGVTZWxlY3Q9e3RydWV9XG4gICAgICAgICAgICAgICAgICB2YWx1ZT17YmJveD8ud2lkdGh9XG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy51cGRhdGVCQm94V2lkdGh9XG4gICAgICAgICAgICAgICAgPjwvU2l6ZUVkaXRvcj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L1NldHRpbmdSb3c+XG4gICAgICAgICAgICA8U2V0dGluZ1JvdyBsYWJlbD17Zm9ybWF0TWVzc2FnZSgnaGVpZ2h0Jyl9PlxuICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXtpbnB1dFN0eWxlfT5cbiAgICAgICAgICAgICAgICA8U2l6ZUVkaXRvclxuICAgICAgICAgICAgICAgICAgbGFiZWw9XCJIXCJcbiAgICAgICAgICAgICAgICAgIG1vZGU9e0xheW91dEl0ZW1TaXplTW9kZXMuQ3VzdG9tfVxuICAgICAgICAgICAgICAgICAgZGlzYWJsZU1vZGVTZWxlY3Q9e3RydWV9XG4gICAgICAgICAgICAgICAgICB2YWx1ZT17YmJveD8uaGVpZ2h0fVxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMudXBkYXRlSGVpZ2h0fVxuICAgICAgICAgICAgICAgID48L1NpemVFZGl0b3I+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9TZXR0aW5nUm93PlxuICAgICAgICAgIDwvU2V0dGluZ1NlY3Rpb24+fVxuXG4gICAgICAgICAgeyF0aGlzLml0ZW1TZXR0aW5nLmlzRmxvYXRpbmcgJiYgPFNldHRpbmdTZWN0aW9uIHRpdGxlPXtmb3JtYXRNZXNzYWdlKCdzaXplJyl9PlxuICAgICAgICAgICAgPFNldHRpbmdSb3cgbGFiZWw9e2Zvcm1hdE1lc3NhZ2UoJ3dpZHRoJyl9PlxuICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXtpbnB1dFN0eWxlfT5cbiAgICAgICAgICAgICAgICA8U2l6ZUVkaXRvclxuICAgICAgICAgICAgICAgICAgbGFiZWw9XCJXXCJcbiAgICAgICAgICAgICAgICAgIG1vZGU9e0xheW91dEl0ZW1TaXplTW9kZXMuQ3VzdG9tfVxuICAgICAgICAgICAgICAgICAgZGlzYWJsZU1vZGVTZWxlY3Q9e3RydWV9XG4gICAgICAgICAgICAgICAgICB2YWx1ZT17d2lkdGh9XG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy51cGRhdGVXaWR0aH1cbiAgICAgICAgICAgICAgICA+PC9TaXplRWRpdG9yPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvU2V0dGluZ1Jvdz5cbiAgICAgICAgICAgIDxTZXR0aW5nUm93IGxhYmVsPXtmb3JtYXRNZXNzYWdlKCdoZWlnaHQnKX0+XG4gICAgICAgICAgICAgIDxkaXYgc3R5bGU9e2lucHV0U3R5bGV9PlxuICAgICAgICAgICAgICAgIDxTaXplRWRpdG9yXG4gICAgICAgICAgICAgICAgICBsYWJlbD1cIkhcIlxuICAgICAgICAgICAgICAgICAgbW9kZT17aXNBdXRvID8gTGF5b3V0SXRlbVNpemVNb2Rlcy5BdXRvIDogTGF5b3V0SXRlbVNpemVNb2Rlcy5DdXN0b219XG4gICAgICAgICAgICAgICAgICBzaXplTW9kZXM9e2hlaWdodE1vZGVzfVxuICAgICAgICAgICAgICAgICAgYXZhaWxhYmxlVW5pdHM9e2hlaWdodFVuaXRzfVxuICAgICAgICAgICAgICAgICAgZGlzYWJsZU1vZGVTZWxlY3Q9e2ZhbHNlfVxuICAgICAgICAgICAgICAgICAgdmFsdWU9e2hlaWdodH1cbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLnVwZGF0ZUhlaWdodH1cbiAgICAgICAgICAgICAgICAgIG9uTW9kZUNoYW5nZT17dGhpcy51cGRhdGVIZWlnaHRNb2RlfVxuICAgICAgICAgICAgICAgID48L1NpemVFZGl0b3I+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9TZXR0aW5nUm93PlxuICAgICAgICAgIDwvU2V0dGluZ1NlY3Rpb24+fVxuXG4gICAgICAgICAgPFNldHRpbmdTZWN0aW9uIHRpdGxlPXtmb3JtYXRNZXNzYWdlKCdwb3NpdGlvbicpfT5cbiAgICAgICAgICAgIDxTZXR0aW5nUm93IGxhYmVsPXtmb3JtYXRNZXNzYWdlKCdvZmZzZXRYJyl9PlxuICAgICAgICAgICAgICA8TnVtZXJpY0lucHV0XG4gICAgICAgICAgICAgICAgc3R5bGU9e2lucHV0U3R5bGV9XG4gICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuaXRlbVNldHRpbmcub2Zmc2V0WH1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy51cGRhdGVPZmZzZXRYfVxuICAgICAgICAgICAgICAgIHNpemU9XCJzbVwiXG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L1NldHRpbmdSb3c+XG4gICAgICAgICAgICA8U2V0dGluZ1JvdyBsYWJlbD17Zm9ybWF0TWVzc2FnZSgnb2Zmc2V0WScpfT5cbiAgICAgICAgICAgICAgPE51bWVyaWNJbnB1dFxuICAgICAgICAgICAgICAgIHN0eWxlPXtpbnB1dFN0eWxlfVxuICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLml0ZW1TZXR0aW5nLm9mZnNldFl9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMudXBkYXRlT2Zmc2V0WX1cbiAgICAgICAgICAgICAgICBzaXplPVwic21cIlxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9TZXR0aW5nUm93PlxuICAgICAgICAgIDwvU2V0dGluZ1NlY3Rpb24+XG4gICAgICAgIDwvUmVhY3QuRnJhZ21lbnQ+fVxuXG4gICAgICAgIHsobGF5b3V0SXRlbS53aWRnZXRJZCB8fCBsYXlvdXRJdGVtLnNlY3Rpb25JZCkgJiYgPENvbW1vbkxheW91dEl0ZW1TZXR0aW5nXG4gICAgICAgICAgbGF5b3V0SWQ9e2xheW91dElkfVxuICAgICAgICAgIGxheW91dEl0ZW1JZD17bGF5b3V0SXRlbS5pZH1cbiAgICAgICAgICBpc1NlY3Rpb249e2ZhbHNlfVxuICAgICAgICAgIHN0eWxlPXt0aGlzLnByb3BzLnN0eWxlfVxuICAgICAgICAgIG9uU3R5bGVDaGFuZ2U9e3RoaXMucHJvcHMub25TdHlsZUNoYW5nZX1cbiAgICAgICAgICBvblNldHRpbmdDaGFuZ2U9e3RoaXMucHJvcHMub25TZXR0aW5nQ2hhbmdlfVxuICAgICAgICAgIGZvcm1hdE1lc3NhZ2U9e3RoaXMucHJvcHMuZm9ybWF0TWVzc2FnZX0vPn1cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFTQTtBQUVBO0FBR0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUdBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFHQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUdBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUdBOztBQXNPQTtBQXBPQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFHQTtBQUVBO0FBQ0E7QUFrRkE7QUFFQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFHQTtBQUNBO0FBRUE7QUFFQTtBQUdBO0FBQ0E7QUFFQTtBQUVBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFTQTtBQUNBO0FBQ0E7QUFXQTtBQUNBO0FBQ0E7QUFDQTtBQVNBO0FBQ0E7QUFDQTtBQWNBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFVQTtBQVVBO0FBQ0E7QUFBQTs7OyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./jimu-layouts/lib/flow-layout/builder/flow-item-setting.tsx\n");

/***/ }),

/***/ "./jimu-layouts/lib/flow-layout/builder/layout-item.tsx":
/*!**************************************************************!*\
  !*** ./jimu-layouts/lib/flow-layout/builder/layout-item.tsx ***!
  \**************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jimu_core__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var jimu_for_builder__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-for-builder */ \"jimu-for-builder\");\n/* harmony import */ var jimu_for_builder__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jimu_for_builder__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-ui/advanced/setting-components */ \"jimu-ui/advanced/setting-components\");\n/* harmony import */ var jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-layouts/layout-runtime */ \"jimu-layouts/layout-runtime\");\n/* harmony import */ var jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _default_setting__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../default-setting */ \"./jimu-layouts/lib/flow-layout/default-setting.ts\");\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../types */ \"./jimu-layouts/lib/types.ts\");\n/* harmony import */ var _builder_layout_item__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../builder/layout-item */ \"./jimu-layouts/lib/builder/layout-item.tsx\");\n/* harmony import */ var _builder_interactive_droparea_hook__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../builder/interactive/droparea-hook */ \"./jimu-layouts/lib/builder/interactive/droparea-hook.tsx\");\n/* harmony import */ var _builder_context_menu__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../builder/context-menu */ \"./jimu-layouts/lib/builder/context-menu.tsx\");\n/* harmony import */ var _layout_utils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../layout-utils */ \"./jimu-layouts/lib/flow-layout/layout-utils.ts\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./utils */ \"./jimu-layouts/lib/flow-layout/builder/utils.ts\");\n/* harmony import */ var _builder_menu_common_menu__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../builder/menu/common-menu */ \"./jimu-layouts/lib/builder/menu/common-menu.tsx\");\nvar __makeTemplateObject = (undefined && undefined.__makeTemplateObject) || function (cooked, raw) {\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n    return cooked;\n};\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (undefined && undefined.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\n/** @jsx jsx */\n\n\n\n\n\n\n\n\n\n\n\n\nvar dropareaStyle = Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n  position: absolute;\\n  left: 0;\\n  height: 10px;\\n  right: 0;\\n  z-index: \", \";\\n  display: flex;\\n\"], [\"\\n  position: absolute;\\n  left: 0;\\n  height: 10px;\\n  right: 0;\\n  z-index: \", \";\\n  display: flex;\\n\"])), jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_3__[\"LayoutZIndex\"].BoundaryDropArea);\nvar topDropareaStyle = Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_2 || (templateObject_2 = __makeTemplateObject([\"\\n  \", \";\\n  top: 0;\\n\"], [\"\\n  \", \";\\n  top: 0;\\n\"])), dropareaStyle);\nvar bottomDropareaStyle = Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_3 || (templateObject_3 = __makeTemplateObject([\"\\n  \", \";\\n  bottom: 0;\\n\"], [\"\\n  \", \";\\n  bottom: 0;\\n\"])), dropareaStyle);\nvar deleteIcon = __webpack_require__(/*! jimu-ui/lib/icons/tool-delete.svg */ \"./jimu-ui/lib/icons/tool-delete.svg\");\nvar settingIcon = __webpack_require__(/*! jimu-ui/lib/icons/settings-12.svg */ \"./jimu-ui/lib/icons/settings-12.svg\");\nvar draggingIcon = __webpack_require__(/*! jimu-ui/lib/icons/tool-drag.svg */ \"./jimu-ui/lib/icons/tool-drag.svg\");\nvar addIcon = __webpack_require__(/*! jimu-ui/lib/icons/add-12.svg */ \"./jimu-ui/lib/icons/add-12.svg\");\nvar rectIcon = __webpack_require__(/*! jimu-ui/lib/icons/screen-group.svg */ \"./jimu-ui/lib/icons/screen-group.svg\");\nvar upIcon = __webpack_require__(/*! jimu-ui/lib/icons/direction-up.svg */ \"./jimu-ui/lib/icons/direction-up.svg\");\nvar FlowLayoutItem = /** @class */ (function (_super) {\n    __extends(FlowLayoutItem, _super);\n    function FlowLayoutItem(props) {\n        var _a, _b;\n        var _this = _super.call(this, props) || this;\n        _this.state = {\n            isResizing: false,\n            dh: 0,\n            showBlockTemplatePopup: false,\n            showScreenTemplatePopup: false,\n            referenceElem: null,\n        };\n        _this.onResizeStart = function (id, initWidth, initHeight) {\n            var padding = _this.props.padding;\n            _this.minHeight = _types__WEBPACK_IMPORTED_MODULE_5__[\"MIN_LAYOUT_ITEM_SIZE\"] + padding;\n            _this.initHeight = initHeight;\n            _this.setState({\n                dh: 0,\n                isResizing: true,\n            });\n        };\n        _this.onResizing = function (id, x, y, dw, dh) {\n            var delta = dh;\n            if (dh < 0 && _this.initHeight + dh < _this.minHeight) {\n                delta = _this.minHeight - _this.initHeight;\n            }\n            _this.setState({\n                dh: delta,\n                isResizing: true,\n            });\n        };\n        _this.onResizeEnd = function (id, x, y, dw, dh, shiftKey) {\n            var _a = _this.props, layoutId = _a.layoutId, layoutItem = _a.layoutItem;\n            var delta = dh;\n            if (dh < 0 && _this.initHeight + dh < _this.minHeight) {\n                delta = _this.minHeight - _this.initHeight;\n            }\n            var bbox = Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"Immutable\"])(layoutItem.bbox || {}).set('height', Math.round(_this.initHeight + delta));\n            var appConfigAction = Object(jimu_for_builder__WEBPACK_IMPORTED_MODULE_1__[\"getAppConfigAction\"])();\n            appConfigAction.editLayoutItemBBox({\n                layoutId: layoutId,\n                layoutItemId: layoutItem.id,\n            }, bbox).exec();\n            _this.setState({\n                isResizing: false,\n                dh: 0,\n            });\n        };\n        _this.dropAtTop = function (draggingItem, containerRect, itemRect) {\n            _this.props.onDropAtBoundary(draggingItem, itemRect, _this.props.index);\n        };\n        _this.dropAtBottom = function (draggingItem, containerRect, itemRect) {\n            _this.props.onDropAtBoundary(draggingItem, itemRect, _this.props.index + 1);\n        };\n        _this.toggleBlockTemplatePopup = function () {\n            _this.setState({ showBlockTemplatePopup: !_this.state.showBlockTemplatePopup });\n        };\n        _this.toggleScreenTemplatePopup = function () {\n            _this.setState({ showScreenTemplatePopup: !_this.state.showScreenTemplatePopup });\n        };\n        _this.removeLayoutItem = function () {\n            var _a = _this.props, layoutId = _a.layoutId, layoutItemId = _a.layoutItemId;\n            var appConfigAction = Object(jimu_for_builder__WEBPACK_IMPORTED_MODULE_1__[\"getAppConfigAction\"])();\n            appConfigAction.removeLayoutItem({ layoutId: layoutId, layoutItemId: layoutItemId }, true).exec();\n        };\n        _this.moveup = function () {\n            var _a = _this.props, layoutId = _a.layoutId, index = _a.index, layoutItemId = _a.layoutItemId;\n            var appConfigAction = Object(jimu_for_builder__WEBPACK_IMPORTED_MODULE_1__[\"getAppConfigAction\"])();\n            var order = appConfigAction.appConfig.layouts[layoutId].order;\n            var result = [].concat(order);\n            result[index] = result[index - 1];\n            result[index - 1] = layoutItemId;\n            appConfigAction.editLayoutOrder({ layoutId: layoutId }, result).exec();\n        };\n        _this.movedown = function () {\n            var _a = _this.props, layoutId = _a.layoutId, index = _a.index, layoutItemId = _a.layoutItemId;\n            var appConfigAction = Object(jimu_for_builder__WEBPACK_IMPORTED_MODULE_1__[\"getAppConfigAction\"])();\n            var order = appConfigAction.appConfig.layouts[layoutId].order;\n            var result = [].concat(order);\n            result[index] = result[index + 1];\n            result[index + 1] = layoutItemId;\n            appConfigAction.editLayoutOrder({ layoutId: layoutId }, result).exec();\n        };\n        _this.switchSetting = function () {\n            var _a = _this.props, layoutId = _a.layoutId, layoutItemId = _a.layoutItemId, selected = _a.selected;\n            if (!selected) {\n                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"getAppStore\"])().dispatch(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"appActions\"].selectionChanged({\n                    layoutId: layoutId,\n                    layoutItemId: layoutItemId,\n                }));\n            }\n        };\n        _this.onTemplateBlockSelected = function (template) {\n            Object(_utils__WEBPACK_IMPORTED_MODULE_10__[\"addTemplateRow\"])(_this.props.layoutId, _this.props.layoutItemId, template);\n            _this.setState({ showBlockTemplatePopup: false });\n        };\n        _this.onTemplateScreenGroupSelected = function (template) {\n            Object(_utils__WEBPACK_IMPORTED_MODULE_10__[\"addTemplateScreenGroup\"])(_this.props.layoutId, _this.props.layoutItemId, template);\n            _this.setState({ showScreenTemplatePopup: false });\n        };\n        _this.fakeTopLayouts = Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"Immutable\"])((_a = {},\n            _a[jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"BrowserSizeMode\"].Large] = _this.props.layoutId + \"_\" + _this.props.layoutItemId + \"_tlarge\",\n            _a[jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"BrowserSizeMode\"].Medium] = _this.props.layoutId + \"_\" + _this.props.layoutItemId + \"_tmedium\",\n            _a[jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"BrowserSizeMode\"].Small] = _this.props.layoutId + \"_\" + _this.props.layoutItemId + \"_tsmall\",\n            _a));\n        _this.fakeBottomLayouts = Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"Immutable\"])((_b = {},\n            _b[jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"BrowserSizeMode\"].Large] = _this.props.layoutId + \"_\" + _this.props.layoutItemId + \"_blarge\",\n            _b[jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"BrowserSizeMode\"].Medium] = _this.props.layoutId + \"_\" + _this.props.layoutItemId + \"_bmedium\",\n            _b[jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"BrowserSizeMode\"].Small] = _this.props.layoutId + \"_\" + _this.props.layoutItemId + \"_bsmall\",\n            _b));\n        _this.minHeight = 0;\n        _this.contextMenus = [{\n                icon: addIcon,\n                title: _this.props.formatMessage('insertABlock'),\n                onClick: _this.toggleBlockTemplatePopup,\n            },\n            {\n                icon: rectIcon,\n                title: _this.props.formatMessage('insertAScreenGroup'),\n                onClick: _this.toggleScreenTemplatePopup,\n            },\n            _builder_menu_common_menu__WEBPACK_IMPORTED_MODULE_11__[\"duplicateMenuItem\"],\n            {\n                icon: settingIcon,\n                title: _this.props.formatMessage('setting'),\n                onClick: _this.switchSetting,\n            }, {\n                icon: draggingIcon,\n                title: _this.props.formatMessage('dragToMove'),\n                visible: function () { return _this.pageContext.isDesignMode && !_this.pageContext.lockLayout; },\n            }, {\n                icon: upIcon,\n                onClick: _this.moveup,\n                title: _this.props.formatMessage('moveup'),\n                visible: function () { return _this.props.index !== 0; },\n            }, {\n                icon: upIcon,\n                rotate: 180,\n                onClick: _this.movedown,\n                title: _this.props.formatMessage('movedown'),\n                visible: function () { return _this.props.index !== _this.props.total - 1; },\n            }, {\n                icon: deleteIcon,\n                title: _this.props.formatMessage('delete'),\n                onClick: _this.removeLayoutItem,\n            }];\n        return _this;\n    }\n    FlowLayoutItem.prototype.calHeight = function (itemSetting) {\n        if (this.state.isResizing) {\n            return this.initHeight + this.state.dh + \"px\";\n        }\n        var layoutItem = this.props.layoutItem;\n        var bbox = layoutItem.bbox || {};\n        var height = jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_3__[\"utils\"].getValueOfBBox(bbox, 'height');\n        if (!height || jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_3__[\"utils\"].isPercentage(height)) {\n            return 'auto';\n        }\n        switch (itemSetting.heightMode) {\n            case 'auto':\n                return 'auto';\n            case 'fixed':\n                return height;\n        }\n    };\n    FlowLayoutItem.prototype.createContextMenu = function () {\n        var _this = this;\n        var builderTheme = this.pageContext.builderTheme;\n        return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_builder_context_menu__WEBPACK_IMPORTED_MODULE_8__[\"default\"], { layoutId: this.props.layoutId, layoutItem: this.props.layoutItem, builderTheme: builderTheme, positionType: \"center\", size: _types__WEBPACK_IMPORTED_MODULE_5__[\"CONTEXT_MENU_ITEM_SIZE\"], iconSize: _types__WEBPACK_IMPORTED_MODULE_5__[\"CONTEXT_MENU_ICON_SIZE\"], className: \"widget-context-menu\", menuItems: this.contextMenus },\n            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { ref: function (ref) { return _this.reference = ref; }, css: Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_4 || (templateObject_4 = __makeTemplateObject([\"position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;\"], [\"position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;\"]))) }),\n            this.state.showBlockTemplatePopup && Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_2__[\"BlockTemplatePopper\"], { referenceElement: this.reference, theme: builderTheme, onItemSelect: this.onTemplateBlockSelected, onClose: this.toggleBlockTemplatePopup }),\n            this.state.showScreenTemplatePopup && Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_2__[\"ScreenGroupTemplatePopper\"], { referenceElement: this.reference, theme: builderTheme, onItemSelect: this.onTemplateScreenGroupSelected, onClose: this.toggleScreenTemplatePopup }));\n    };\n    FlowLayoutItem.prototype.getStyle = function (itemSetting) {\n        var _a = this.pageContext, builderTheme = _a.builderTheme, isDesignMode = _a.isDesignMode;\n        var _b = this.props, index = _b.index, gutter = _b.gutter;\n        return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_5 || (templateObject_5 = __makeTemplateObject([\"\\n      margin-top: \", \";\\n      width: \", \";\\n      height: \", \";\\n      border-bottom: \", \";\\n      flex-shrink: 0;\\n      position: relative;\\n      transform: \", \";\\n      & > div.widget-context-menu {\\n        display: none;\\n      }\\n\\n      &:hover > div.widget-context-menu {\\n        display: flex;\\n      }\\n\\n      .template-popup {\\n        background-color: \", \";\\n      }\\n    \"], [\"\\n      margin-top: \", \";\\n      width: \", \";\\n      height: \", \";\\n      border-bottom: \", \";\\n      flex-shrink: 0;\\n      position: relative;\\n      transform: \", \";\\n      & > div.widget-context-menu {\\n        display: none;\\n      }\\n\\n      &:hover > div.widget-context-menu {\\n        display: flex;\\n      }\\n\\n      .template-popup {\\n        background-color: \", \";\\n      }\\n    \"])), index > 0 ? gutter + \"px\" : 'unset', Object(_layout_utils__WEBPACK_IMPORTED_MODULE_9__[\"getWidthFromSetting\"])(itemSetting), this.calHeight(itemSetting), isDesignMode ? \"1px dashed \" + jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"polished\"].rgba(builderTheme.colors.palette.dark[600], 0.6) : 'none', itemSetting.offsetX || itemSetting.offsetY ? \"translate(\" + (itemSetting.offsetX || 0) + \"px, \" + (itemSetting.offsetY || 0) + \"px)\" : null, builderTheme.colors.black);\n    };\n    FlowLayoutItem.prototype.render = function () {\n        var _this = this;\n        var _a = this.props, layoutId = _a.layoutId, layoutItem = _a.layoutItem, draggable = _a.draggable, selectable = _a.selectable, isEmpty = _a.isEmpty, selected = _a.selected;\n        if (!layoutItem || isEmpty) {\n            return null;\n        }\n        var itemSetting = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"lodash\"].assign({}, _default_setting__WEBPACK_IMPORTED_MODULE_4__[\"DEFAULT_FLOW_ITEM_SETTING\"], layoutItem.setting);\n        var mergedClass = Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"classNames\"])('flow-layout-item d-flex', {\n            selected: selected,\n        });\n        var highlightStyle = Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_6 || (templateObject_6 = __makeTemplateObject([\"\\n      width: 100%;\\n      background: \", \";\\n    \"], [\"\\n      width: 100%;\\n      background: \", \";\\n    \"])), this.props.builderTheme.colors.palette.primary[700]);\n        var oneByOneAnimationProps = jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_3__[\"utils\"].handleOnebyOneAnimation(this.props);\n        return (Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_3__[\"PageContext\"].Consumer, null, function (pageContext) {\n            _this.pageContext = pageContext;\n            return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_builder_layout_item__WEBPACK_IMPORTED_MODULE_6__[\"default\"], __assign({ css: _this.getStyle(itemSetting), layoutId: layoutId, layoutItemId: layoutItem.id, onResizeStart: _this.onResizeStart, onResizing: _this.onResizing, onResizeEnd: _this.onResizeEnd, \n                // onDragStart={this.props.onDragStart}\n                left: false, right: false, top: false, bottom: itemSetting.heightMode === 'fixed', restrict: true, useDragHandler: true, draggable: draggable, selectable: selectable, forbidContextMenu: true, forbidToolbar: true, isBlock: true, className: mergedClass }, oneByOneAnimationProps),\n                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_builder_interactive_droparea_hook__WEBPACK_IMPORTED_MODULE_7__[\"DropArea\"], { css: Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_7 || (templateObject_7 = __makeTemplateObject([\"\\n              \", \";\\n            \"], [\"\\n              \", \";\\n            \"])), topDropareaStyle), highlightDragover: true, layouts: _this.fakeTopLayouts, onDrop: _this.dropAtTop },\n                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { css: highlightStyle })),\n                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_builder_interactive_droparea_hook__WEBPACK_IMPORTED_MODULE_7__[\"DropArea\"], { css: Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_8 || (templateObject_8 = __makeTemplateObject([\"\\n              \", \";\\n            \"], [\"\\n              \", \";\\n            \"])), bottomDropareaStyle), layouts: _this.fakeBottomLayouts, highlightDragover: true, onDrop: _this.dropAtBottom },\n                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { css: highlightStyle })),\n                pageContext.isDesignMode && !pageContext.viewOnly && _this.createContextMenu());\n        }));\n    };\n    return FlowLayoutItem;\n}(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].PureComponent));\n/* harmony default export */ __webpack_exports__[\"default\"] = (jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"ReactRedux\"].connect(_layout_utils__WEBPACK_IMPORTED_MODULE_9__[\"mapStateToFlowItemProps\"])(FlowLayoutItem));\nvar templateObject_1, templateObject_2, templateObject_3, templateObject_4, templateObject_5, templateObject_6, templateObject_7, templateObject_8;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWxheW91dHMvbGliL2Zsb3ctbGF5b3V0L2J1aWxkZXIvbGF5b3V0LWl0ZW0udHN4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vamltdS1sYXlvdXRzL2xpYi9mbG93LWxheW91dC9idWlsZGVyL2xheW91dC1pdGVtLnRzeD8wNDczIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKiBAanN4IGpzeCAqL1xuaW1wb3J0IHtcbiAgUmVhY3QsXG4gIGpzeCxcbiAgY3NzLFxuICBSZWFjdFJlZHV4LFxuICBjbGFzc05hbWVzLFxuICBsb2Rhc2gsXG4gIEJyb3dzZXJTaXplTW9kZSxcbiAgSU1MYXlvdXRJdGVtSnNvbixcbiAgSU1TaXplTW9kZUxheW91dEpzb24sXG4gIElNVGhlbWVWYXJpYWJsZXMsXG4gIExheW91dEl0ZW1Db25zdHJ1Y3RvclByb3BzLFxuICBJbW11dGFibGUsXG4gIGdldEFwcFN0b3JlLFxuICBhcHBBY3Rpb25zLFxuICBwb2xpc2hlZCxcbn0gZnJvbSAnamltdS1jb3JlJztcbmltcG9ydCB7IGdldEFwcENvbmZpZ0FjdGlvbiB9IGZyb20gJ2ppbXUtZm9yLWJ1aWxkZXInO1xuaW1wb3J0IHsgQmxvY2tUZW1wbGF0ZVBvcHBlciwgU2NyZWVuR3JvdXBUZW1wbGF0ZVBvcHBlciB9IGZyb20gJ2ppbXUtdWkvYWR2YW5jZWQvc2V0dGluZy1jb21wb25lbnRzJztcbmltcG9ydCB7IExheW91dEl0ZW1Qcm9wcywgUGFnZUNvbnRleHQsIFBhZ2VDb250ZXh0UHJvcHMsIFRvb2xiYXJDb25maWcsIExheW91dFpJbmRleCwgdXRpbHMgfSBmcm9tICdqaW11LWxheW91dHMvbGF5b3V0LXJ1bnRpbWUnO1xuaW1wb3J0IHsgREVGQVVMVF9GTE9XX0lURU1fU0VUVElORyB9IGZyb20gJy4uL2RlZmF1bHQtc2V0dGluZyc7XG5pbXBvcnQgeyBGbG93TGF5b3V0SXRlbVNldHRpbmcsIENPTlRFWFRfTUVOVV9JVEVNX1NJWkUsIENPTlRFWFRfTUVOVV9JQ09OX1NJWkUsIE1JTl9MQVlPVVRfSVRFTV9TSVpFIH0gZnJvbSAnLi4vLi4vdHlwZXMnO1xuaW1wb3J0IExheW91dEl0ZW0gZnJvbSAnLi4vLi4vYnVpbGRlci9sYXlvdXQtaXRlbSc7XG5pbXBvcnQgeyBEcm9wQXJlYSB9IGZyb20gJy4uLy4uL2J1aWxkZXIvaW50ZXJhY3RpdmUvZHJvcGFyZWEtaG9vayc7XG5pbXBvcnQgQ29udGV4dE1lbnUgZnJvbSAnLi4vLi4vYnVpbGRlci9jb250ZXh0LW1lbnUnO1xuaW1wb3J0IHsgbWFwU3RhdGVUb0Zsb3dJdGVtUHJvcHMsIFN0YXRlVG9GbG93SXRlbVByb3BzLCBnZXRXaWR0aEZyb21TZXR0aW5nIH0gZnJvbSAnLi4vbGF5b3V0LXV0aWxzJztcbmltcG9ydCB7IGFkZFRlbXBsYXRlUm93LCBhZGRUZW1wbGF0ZVNjcmVlbkdyb3VwIH0gZnJvbSAnLi91dGlscyc7XG5pbXBvcnQgeyBkdXBsaWNhdGVNZW51SXRlbSB9IGZyb20gJy4uLy4uL2J1aWxkZXIvbWVudS9jb21tb24tbWVudSc7XG5cbmludGVyZmFjZSBPd25Qcm9wcyB7XG4gIGxheW91dHM6IElNU2l6ZU1vZGVMYXlvdXRKc29uO1xuICBsYXlvdXRJdGVtOiBJTUxheW91dEl0ZW1Kc29uO1xuICBidWlsZGVyVGhlbWU6IElNVGhlbWVWYXJpYWJsZXM7XG4gIGluZGV4OiBudW1iZXI7XG4gIHRvdGFsOiBudW1iZXI7XG4gIGd1dHRlcjogbnVtYmVyO1xuICBlZGl0aW5nU2VjdGlvbklkPzogc3RyaW5nO1xuICBmb3JtYXRNZXNzYWdlOiAoaWQ6IHN0cmluZykgPT4gc3RyaW5nO1xuICBjaGlsZHJlbj86IGFueTtcbiAgb25Ecm9wQXRCb3VuZGFyeTogKGRyYWdnaW5nSXRlbTogTGF5b3V0SXRlbUNvbnN0cnVjdG9yUHJvcHMsIGl0ZW1SZWN0OiBDbGllbnRSZWN0LCBpbnNlcnRJbmRleDogbnVtYmVyKSA9PiB2b2lkO1xufVxuXG5pbnRlcmZhY2UgU3RhdGUge1xuICBpc1Jlc2l6aW5nOiBib29sZWFuO1xuICBkaDogbnVtYmVyO1xuICBzaG93QmxvY2tUZW1wbGF0ZVBvcHVwOiBib29sZWFuO1xuICBzaG93U2NyZWVuVGVtcGxhdGVQb3B1cDogYm9vbGVhbjtcbiAgcmVmZXJlbmNlRWxlbTogSFRNTEVsZW1lbnQ7XG59XG5cbmNvbnN0IGRyb3BhcmVhU3R5bGUgPSBjc3NgXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgbGVmdDogMDtcbiAgaGVpZ2h0OiAxMHB4O1xuICByaWdodDogMDtcbiAgei1pbmRleDogJHtMYXlvdXRaSW5kZXguQm91bmRhcnlEcm9wQXJlYX07XG4gIGRpc3BsYXk6IGZsZXg7XG5gO1xuXG5jb25zdCB0b3BEcm9wYXJlYVN0eWxlID0gY3NzYFxuICAke2Ryb3BhcmVhU3R5bGV9O1xuICB0b3A6IDA7XG5gO1xuXG5jb25zdCBib3R0b21Ecm9wYXJlYVN0eWxlID0gY3NzYFxuICAke2Ryb3BhcmVhU3R5bGV9O1xuICBib3R0b206IDA7XG5gO1xuXG5jb25zdCBkZWxldGVJY29uID0gcmVxdWlyZSgnamltdS11aS9saWIvaWNvbnMvdG9vbC1kZWxldGUuc3ZnJyk7XG5jb25zdCBzZXR0aW5nSWNvbiA9IHJlcXVpcmUoJ2ppbXUtdWkvbGliL2ljb25zL3NldHRpbmdzLTEyLnN2ZycpO1xuY29uc3QgZHJhZ2dpbmdJY29uID0gcmVxdWlyZSgnamltdS11aS9saWIvaWNvbnMvdG9vbC1kcmFnLnN2ZycpO1xuY29uc3QgYWRkSWNvbiA9IHJlcXVpcmUoJ2ppbXUtdWkvbGliL2ljb25zL2FkZC0xMi5zdmcnKTtcbmNvbnN0IHJlY3RJY29uID0gcmVxdWlyZSgnamltdS11aS9saWIvaWNvbnMvc2NyZWVuLWdyb3VwLnN2ZycpO1xuY29uc3QgdXBJY29uID0gcmVxdWlyZSgnamltdS11aS9saWIvaWNvbnMvZGlyZWN0aW9uLXVwLnN2ZycpO1xuXG5jbGFzcyBGbG93TGF5b3V0SXRlbSBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQ8TGF5b3V0SXRlbVByb3BzICYgU3RhdGVUb0Zsb3dJdGVtUHJvcHMgJiBPd25Qcm9wcywgU3RhdGU+IHtcbiAgc3RhdGU6IFN0YXRlID0ge1xuICAgIGlzUmVzaXppbmc6IGZhbHNlLFxuICAgIGRoOiAwLFxuICAgIHNob3dCbG9ja1RlbXBsYXRlUG9wdXA6IGZhbHNlLFxuICAgIHNob3dTY3JlZW5UZW1wbGF0ZVBvcHVwOiBmYWxzZSxcbiAgICByZWZlcmVuY2VFbGVtOiBudWxsLFxuICB9O1xuICBmYWtlVG9wTGF5b3V0czogSU1TaXplTW9kZUxheW91dEpzb247XG4gIGZha2VCb3R0b21MYXlvdXRzOiBJTVNpemVNb2RlTGF5b3V0SnNvbjtcbiAgbWluSGVpZ2h0OiBudW1iZXI7XG4gIGluaXRIZWlnaHQ6IG51bWJlcjtcbiAgcGFnZUNvbnRleHQ6IFBhZ2VDb250ZXh0UHJvcHM7XG4gIGNvbnRleHRNZW51czogVG9vbGJhckNvbmZpZztcbiAgcmVmZXJlbmNlOiBIVE1MRGl2RWxlbWVudDtcblxuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLmZha2VUb3BMYXlvdXRzID0gSW1tdXRhYmxlKHtcbiAgICAgIFtCcm93c2VyU2l6ZU1vZGUuTGFyZ2VdOiBgJHt0aGlzLnByb3BzLmxheW91dElkfV8ke3RoaXMucHJvcHMubGF5b3V0SXRlbUlkfV90bGFyZ2VgLFxuICAgICAgW0Jyb3dzZXJTaXplTW9kZS5NZWRpdW1dOiBgJHt0aGlzLnByb3BzLmxheW91dElkfV8ke3RoaXMucHJvcHMubGF5b3V0SXRlbUlkfV90bWVkaXVtYCxcbiAgICAgIFtCcm93c2VyU2l6ZU1vZGUuU21hbGxdOiBgJHt0aGlzLnByb3BzLmxheW91dElkfV8ke3RoaXMucHJvcHMubGF5b3V0SXRlbUlkfV90c21hbGxgLFxuICAgIH0pIGFzIHVua25vd24gYXMgSU1TaXplTW9kZUxheW91dEpzb247XG5cbiAgICB0aGlzLmZha2VCb3R0b21MYXlvdXRzID0gSW1tdXRhYmxlKHtcbiAgICAgIFtCcm93c2VyU2l6ZU1vZGUuTGFyZ2VdOiBgJHt0aGlzLnByb3BzLmxheW91dElkfV8ke3RoaXMucHJvcHMubGF5b3V0SXRlbUlkfV9ibGFyZ2VgLFxuICAgICAgW0Jyb3dzZXJTaXplTW9kZS5NZWRpdW1dOiBgJHt0aGlzLnByb3BzLmxheW91dElkfV8ke3RoaXMucHJvcHMubGF5b3V0SXRlbUlkfV9ibWVkaXVtYCxcbiAgICAgIFtCcm93c2VyU2l6ZU1vZGUuU21hbGxdOiBgJHt0aGlzLnByb3BzLmxheW91dElkfV8ke3RoaXMucHJvcHMubGF5b3V0SXRlbUlkfV9ic21hbGxgLFxuICAgIH0pIGFzIHVua25vd24gYXMgSU1TaXplTW9kZUxheW91dEpzb247XG4gICAgdGhpcy5taW5IZWlnaHQgPSAwO1xuICAgIHRoaXMuY29udGV4dE1lbnVzID0gW3tcbiAgICAgIGljb246IGFkZEljb24sXG4gICAgICB0aXRsZTogdGhpcy5wcm9wcy5mb3JtYXRNZXNzYWdlKCdpbnNlcnRBQmxvY2snKSxcbiAgICAgIG9uQ2xpY2s6IHRoaXMudG9nZ2xlQmxvY2tUZW1wbGF0ZVBvcHVwLFxuICAgIH0sXG4gICAge1xuICAgICAgaWNvbjogcmVjdEljb24sXG4gICAgICB0aXRsZTogdGhpcy5wcm9wcy5mb3JtYXRNZXNzYWdlKCdpbnNlcnRBU2NyZWVuR3JvdXAnKSxcbiAgICAgIG9uQ2xpY2s6IHRoaXMudG9nZ2xlU2NyZWVuVGVtcGxhdGVQb3B1cCxcbiAgICB9LFxuICAgIGR1cGxpY2F0ZU1lbnVJdGVtLFxuICAgIHtcbiAgICAgIGljb246IHNldHRpbmdJY29uLFxuICAgICAgdGl0bGU6IHRoaXMucHJvcHMuZm9ybWF0TWVzc2FnZSgnc2V0dGluZycpLFxuICAgICAgb25DbGljazogdGhpcy5zd2l0Y2hTZXR0aW5nLFxuICAgIH0sIHtcbiAgICAgIGljb246IGRyYWdnaW5nSWNvbixcbiAgICAgIHRpdGxlOiB0aGlzLnByb3BzLmZvcm1hdE1lc3NhZ2UoJ2RyYWdUb01vdmUnKSxcbiAgICAgIHZpc2libGU6ICgpID0+IHRoaXMucGFnZUNvbnRleHQuaXNEZXNpZ25Nb2RlICYmICF0aGlzLnBhZ2VDb250ZXh0LmxvY2tMYXlvdXQsXG4gICAgfSwge1xuICAgICAgaWNvbjogdXBJY29uLFxuICAgICAgb25DbGljazogdGhpcy5tb3ZldXAsXG4gICAgICB0aXRsZTogdGhpcy5wcm9wcy5mb3JtYXRNZXNzYWdlKCdtb3ZldXAnKSxcbiAgICAgIHZpc2libGU6ICgpID0+IHRoaXMucHJvcHMuaW5kZXggIT09IDAsXG4gICAgfSwge1xuICAgICAgaWNvbjogdXBJY29uLFxuICAgICAgcm90YXRlOiAxODAsXG4gICAgICBvbkNsaWNrOiB0aGlzLm1vdmVkb3duLFxuICAgICAgdGl0bGU6IHRoaXMucHJvcHMuZm9ybWF0TWVzc2FnZSgnbW92ZWRvd24nKSxcbiAgICAgIHZpc2libGU6ICgpID0+IHRoaXMucHJvcHMuaW5kZXggIT09IHRoaXMucHJvcHMudG90YWwgLSAxLFxuICAgIH0sIHtcbiAgICAgIGljb246IGRlbGV0ZUljb24sXG4gICAgICB0aXRsZTogdGhpcy5wcm9wcy5mb3JtYXRNZXNzYWdlKCdkZWxldGUnKSxcbiAgICAgIG9uQ2xpY2s6IHRoaXMucmVtb3ZlTGF5b3V0SXRlbSxcbiAgICB9XTtcbiAgfVxuXG4gIG9uUmVzaXplU3RhcnQgPSAoaWQ6IHN0cmluZywgaW5pdFdpZHRoOiBudW1iZXIsIGluaXRIZWlnaHQ6IG51bWJlcikgPT4ge1xuICAgIGNvbnN0IHsgcGFkZGluZyB9ID0gdGhpcy5wcm9wcztcbiAgICB0aGlzLm1pbkhlaWdodCA9IE1JTl9MQVlPVVRfSVRFTV9TSVpFICsgcGFkZGluZztcbiAgICB0aGlzLmluaXRIZWlnaHQgPSBpbml0SGVpZ2h0O1xuXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBkaDogMCxcbiAgICAgIGlzUmVzaXppbmc6IHRydWUsXG4gICAgfSk7XG4gIH1cblxuICBvblJlc2l6aW5nID0gKGlkOiBzdHJpbmcsIHg6IG51bWJlciwgeTogbnVtYmVyLCBkdzogbnVtYmVyLCBkaDogbnVtYmVyKSA9PiB7XG4gICAgbGV0IGRlbHRhID0gZGg7XG4gICAgaWYgKGRoIDwgMCAmJiB0aGlzLmluaXRIZWlnaHQgKyBkaCA8IHRoaXMubWluSGVpZ2h0KSB7XG4gICAgICBkZWx0YSA9IHRoaXMubWluSGVpZ2h0IC0gdGhpcy5pbml0SGVpZ2h0O1xuICAgIH1cbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGRoOiBkZWx0YSxcbiAgICAgIGlzUmVzaXppbmc6IHRydWUsXG4gICAgfSk7XG4gIH1cblxuICBvblJlc2l6ZUVuZCA9IChpZDogc3RyaW5nLCB4OiBudW1iZXIsIHk6IG51bWJlciwgZHc6IG51bWJlciwgZGg6IG51bWJlciwgc2hpZnRLZXk/OiBib29sZWFuKSA9PiB7XG4gICAgY29uc3QgeyBsYXlvdXRJZCwgbGF5b3V0SXRlbSB9ID0gdGhpcy5wcm9wcztcbiAgICBsZXQgZGVsdGEgPSBkaDtcbiAgICBpZiAoZGggPCAwICYmIHRoaXMuaW5pdEhlaWdodCArIGRoIDwgdGhpcy5taW5IZWlnaHQpIHtcbiAgICAgIGRlbHRhID0gdGhpcy5taW5IZWlnaHQgLSB0aGlzLmluaXRIZWlnaHQ7XG4gICAgfVxuICAgIGNvbnN0IGJib3ggPSBJbW11dGFibGUobGF5b3V0SXRlbS5iYm94IHx8IHt9KS5zZXQoJ2hlaWdodCcsIE1hdGgucm91bmQodGhpcy5pbml0SGVpZ2h0ICsgZGVsdGEpKTtcblxuICAgIGNvbnN0IGFwcENvbmZpZ0FjdGlvbiA9IGdldEFwcENvbmZpZ0FjdGlvbigpO1xuICAgIGFwcENvbmZpZ0FjdGlvbi5lZGl0TGF5b3V0SXRlbUJCb3goXG4gICAgICB7XG4gICAgICAgIGxheW91dElkLFxuICAgICAgICBsYXlvdXRJdGVtSWQ6IGxheW91dEl0ZW0uaWQsXG4gICAgICB9LFxuICAgICAgYmJveCxcbiAgICApLmV4ZWMoKTtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGlzUmVzaXppbmc6IGZhbHNlLFxuICAgICAgZGg6IDAsXG4gICAgfSk7XG4gIH1cblxuICBkcm9wQXRUb3AgPSAoZHJhZ2dpbmdJdGVtOiBMYXlvdXRJdGVtQ29uc3RydWN0b3JQcm9wcywgY29udGFpbmVyUmVjdDogQ2xpZW50UmVjdCwgaXRlbVJlY3Q6IENsaWVudFJlY3QpID0+IHtcbiAgICB0aGlzLnByb3BzLm9uRHJvcEF0Qm91bmRhcnkoZHJhZ2dpbmdJdGVtLCBpdGVtUmVjdCwgdGhpcy5wcm9wcy5pbmRleCk7XG4gIH1cblxuICBkcm9wQXRCb3R0b20gPSAoZHJhZ2dpbmdJdGVtOiBMYXlvdXRJdGVtQ29uc3RydWN0b3JQcm9wcywgY29udGFpbmVyUmVjdDogQ2xpZW50UmVjdCwgaXRlbVJlY3Q6IENsaWVudFJlY3QpID0+IHtcbiAgICB0aGlzLnByb3BzLm9uRHJvcEF0Qm91bmRhcnkoZHJhZ2dpbmdJdGVtLCBpdGVtUmVjdCwgdGhpcy5wcm9wcy5pbmRleCArIDEpO1xuICB9XG5cbiAgY2FsSGVpZ2h0KGl0ZW1TZXR0aW5nOiBGbG93TGF5b3V0SXRlbVNldHRpbmcpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5pc1Jlc2l6aW5nKSB7XG4gICAgICByZXR1cm4gYCR7dGhpcy5pbml0SGVpZ2h0ICsgdGhpcy5zdGF0ZS5kaH1weGA7XG4gICAgfVxuICAgIGNvbnN0IHsgbGF5b3V0SXRlbSB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCBiYm94ID0gbGF5b3V0SXRlbS5iYm94IHx8ICh7fSBhcyBhbnkpO1xuICAgIGNvbnN0IGhlaWdodCA9IHV0aWxzLmdldFZhbHVlT2ZCQm94KGJib3gsICdoZWlnaHQnKTtcbiAgICBpZiAoIWhlaWdodCB8fCB1dGlscy5pc1BlcmNlbnRhZ2UoaGVpZ2h0KSkge1xuICAgICAgcmV0dXJuICdhdXRvJztcbiAgICB9XG4gICAgc3dpdGNoIChpdGVtU2V0dGluZy5oZWlnaHRNb2RlKSB7XG4gICAgICBjYXNlICdhdXRvJzpcbiAgICAgICAgcmV0dXJuICdhdXRvJztcbiAgICAgIGNhc2UgJ2ZpeGVkJzpcbiAgICAgICAgcmV0dXJuIGhlaWdodDtcbiAgICB9XG4gIH1cblxuICB0b2dnbGVCbG9ja1RlbXBsYXRlUG9wdXAgPSAoKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7IHNob3dCbG9ja1RlbXBsYXRlUG9wdXA6ICF0aGlzLnN0YXRlLnNob3dCbG9ja1RlbXBsYXRlUG9wdXAgfSk7XG4gIH1cblxuICB0b2dnbGVTY3JlZW5UZW1wbGF0ZVBvcHVwID0gKCkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoeyBzaG93U2NyZWVuVGVtcGxhdGVQb3B1cDogIXRoaXMuc3RhdGUuc2hvd1NjcmVlblRlbXBsYXRlUG9wdXAgfSk7XG4gIH1cblxuICByZW1vdmVMYXlvdXRJdGVtID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgbGF5b3V0SWQsIGxheW91dEl0ZW1JZCB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCBhcHBDb25maWdBY3Rpb24gPSBnZXRBcHBDb25maWdBY3Rpb24oKTtcbiAgICBhcHBDb25maWdBY3Rpb24ucmVtb3ZlTGF5b3V0SXRlbShcbiAgICAgIHsgbGF5b3V0SWQsIGxheW91dEl0ZW1JZCB9LFxuICAgICAgdHJ1ZSxcbiAgICApLmV4ZWMoKTtcbiAgfVxuXG4gIG1vdmV1cCA9ICgpID0+IHtcbiAgICBjb25zdCB7IGxheW91dElkLCBpbmRleCwgbGF5b3V0SXRlbUlkIH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IGFwcENvbmZpZ0FjdGlvbiA9IGdldEFwcENvbmZpZ0FjdGlvbigpO1xuICAgIGNvbnN0IG9yZGVyID0gYXBwQ29uZmlnQWN0aW9uLmFwcENvbmZpZy5sYXlvdXRzW2xheW91dElkXS5vcmRlcjtcbiAgICBjb25zdCByZXN1bHQgPSBbXS5jb25jYXQob3JkZXIpO1xuICAgIHJlc3VsdFtpbmRleF0gPSByZXN1bHRbaW5kZXggLSAxXTtcbiAgICByZXN1bHRbaW5kZXggLSAxXSA9IGxheW91dEl0ZW1JZDtcbiAgICBhcHBDb25maWdBY3Rpb24uZWRpdExheW91dE9yZGVyKHsgbGF5b3V0SWQgfSwgcmVzdWx0KS5leGVjKCk7XG4gIH1cblxuICBtb3ZlZG93biA9ICgpID0+IHtcbiAgICBjb25zdCB7IGxheW91dElkLCBpbmRleCwgbGF5b3V0SXRlbUlkIH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IGFwcENvbmZpZ0FjdGlvbiA9IGdldEFwcENvbmZpZ0FjdGlvbigpO1xuICAgIGNvbnN0IG9yZGVyID0gYXBwQ29uZmlnQWN0aW9uLmFwcENvbmZpZy5sYXlvdXRzW2xheW91dElkXS5vcmRlcjtcbiAgICBjb25zdCByZXN1bHQgPSBbXS5jb25jYXQob3JkZXIpO1xuICAgIHJlc3VsdFtpbmRleF0gPSByZXN1bHRbaW5kZXggKyAxXTtcbiAgICByZXN1bHRbaW5kZXggKyAxXSA9IGxheW91dEl0ZW1JZDtcbiAgICBhcHBDb25maWdBY3Rpb24uZWRpdExheW91dE9yZGVyKHsgbGF5b3V0SWQgfSwgcmVzdWx0KS5leGVjKCk7XG4gIH1cblxuICBjcmVhdGVDb250ZXh0TWVudSgpIHtcbiAgICBjb25zdCB7IGJ1aWxkZXJUaGVtZSB9ID0gdGhpcy5wYWdlQ29udGV4dDtcbiAgICByZXR1cm4gPENvbnRleHRNZW51XG4gICAgICBsYXlvdXRJZD17dGhpcy5wcm9wcy5sYXlvdXRJZH1cbiAgICAgIGxheW91dEl0ZW09e3RoaXMucHJvcHMubGF5b3V0SXRlbX1cbiAgICAgIGJ1aWxkZXJUaGVtZT17YnVpbGRlclRoZW1lfVxuICAgICAgcG9zaXRpb25UeXBlPVwiY2VudGVyXCJcbiAgICAgIHNpemU9e0NPTlRFWFRfTUVOVV9JVEVNX1NJWkV9XG4gICAgICBpY29uU2l6ZT17Q09OVEVYVF9NRU5VX0lDT05fU0laRX1cbiAgICAgIGNsYXNzTmFtZT1cIndpZGdldC1jb250ZXh0LW1lbnVcIlxuICAgICAgbWVudUl0ZW1zPXt0aGlzLmNvbnRleHRNZW51c31cbiAgICA+XG4gICAgICA8ZGl2IHJlZj17cmVmID0+IHRoaXMucmVmZXJlbmNlID0gcmVmfVxuICAgICAgICBjc3M9e2Nzc2Bwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjA7dG9wOjA7cmlnaHQ6MDtib3R0b206MDtwb2ludGVyLWV2ZW50czpub25lO2B9IC8+XG4gICAgICB7dGhpcy5zdGF0ZS5zaG93QmxvY2tUZW1wbGF0ZVBvcHVwICYmIDxCbG9ja1RlbXBsYXRlUG9wcGVyXG4gICAgICAgIHJlZmVyZW5jZUVsZW1lbnQ9e3RoaXMucmVmZXJlbmNlfVxuICAgICAgICB0aGVtZT17YnVpbGRlclRoZW1lfVxuICAgICAgICBvbkl0ZW1TZWxlY3Q9e3RoaXMub25UZW1wbGF0ZUJsb2NrU2VsZWN0ZWR9XG4gICAgICAgIG9uQ2xvc2U9e3RoaXMudG9nZ2xlQmxvY2tUZW1wbGF0ZVBvcHVwfT5cbiAgICAgIDwvQmxvY2tUZW1wbGF0ZVBvcHBlcj59XG4gICAgICB7dGhpcy5zdGF0ZS5zaG93U2NyZWVuVGVtcGxhdGVQb3B1cCAmJiA8U2NyZWVuR3JvdXBUZW1wbGF0ZVBvcHBlclxuICAgICAgICByZWZlcmVuY2VFbGVtZW50PXt0aGlzLnJlZmVyZW5jZX1cbiAgICAgICAgdGhlbWU9e2J1aWxkZXJUaGVtZX1cbiAgICAgICAgb25JdGVtU2VsZWN0PXt0aGlzLm9uVGVtcGxhdGVTY3JlZW5Hcm91cFNlbGVjdGVkfVxuICAgICAgICBvbkNsb3NlPXt0aGlzLnRvZ2dsZVNjcmVlblRlbXBsYXRlUG9wdXB9XG4gICAgICA+PC9TY3JlZW5Hcm91cFRlbXBsYXRlUG9wcGVyPn1cbiAgICA8L0NvbnRleHRNZW51PjtcbiAgfVxuXG4gIHN3aXRjaFNldHRpbmcgPSAoKSA9PiB7XG4gICAgY29uc3QgeyBsYXlvdXRJZCwgbGF5b3V0SXRlbUlkLCBzZWxlY3RlZCB9ID0gdGhpcy5wcm9wcztcbiAgICBpZiAoIXNlbGVjdGVkKSB7XG4gICAgICBnZXRBcHBTdG9yZSgpLmRpc3BhdGNoKGFwcEFjdGlvbnMuc2VsZWN0aW9uQ2hhbmdlZCh7XG4gICAgICAgIGxheW91dElkLFxuICAgICAgICBsYXlvdXRJdGVtSWQsXG4gICAgICB9KSk7XG4gICAgfVxuICB9XG5cbiAgb25UZW1wbGF0ZUJsb2NrU2VsZWN0ZWQgPSAodGVtcGxhdGUpID0+IHtcbiAgICBhZGRUZW1wbGF0ZVJvdyh0aGlzLnByb3BzLmxheW91dElkLCB0aGlzLnByb3BzLmxheW91dEl0ZW1JZCwgdGVtcGxhdGUgYXMgYW55KTtcblxuICAgIHRoaXMuc2V0U3RhdGUoeyBzaG93QmxvY2tUZW1wbGF0ZVBvcHVwOiBmYWxzZSB9KTtcbiAgfVxuXG4gIG9uVGVtcGxhdGVTY3JlZW5Hcm91cFNlbGVjdGVkID0gKHRlbXBsYXRlKSA9PiB7XG4gICAgYWRkVGVtcGxhdGVTY3JlZW5Hcm91cCh0aGlzLnByb3BzLmxheW91dElkLCB0aGlzLnByb3BzLmxheW91dEl0ZW1JZCwgdGVtcGxhdGUgYXMgYW55KTtcblxuICAgIHRoaXMuc2V0U3RhdGUoeyBzaG93U2NyZWVuVGVtcGxhdGVQb3B1cDogZmFsc2UgfSk7XG4gIH1cblxuICBnZXRTdHlsZShpdGVtU2V0dGluZzogRmxvd0xheW91dEl0ZW1TZXR0aW5nKSB7XG4gICAgY29uc3QgeyBidWlsZGVyVGhlbWUsIGlzRGVzaWduTW9kZSB9ID0gdGhpcy5wYWdlQ29udGV4dDtcbiAgICBjb25zdCB7IGluZGV4LCBndXR0ZXIgfSA9IHRoaXMucHJvcHM7XG5cbiAgICByZXR1cm4gY3NzYFxuICAgICAgbWFyZ2luLXRvcDogJHtpbmRleCA+IDAgPyBgJHtndXR0ZXJ9cHhgOiAndW5zZXQnfTtcbiAgICAgIHdpZHRoOiAke2dldFdpZHRoRnJvbVNldHRpbmcoaXRlbVNldHRpbmcpfTtcbiAgICAgIGhlaWdodDogJHt0aGlzLmNhbEhlaWdodChpdGVtU2V0dGluZyl9O1xuICAgICAgYm9yZGVyLWJvdHRvbTogJHtpc0Rlc2lnbk1vZGUgPyBgMXB4IGRhc2hlZCAke3BvbGlzaGVkLnJnYmEoYnVpbGRlclRoZW1lLmNvbG9ycy5wYWxldHRlLmRhcmtbNjAwXSwgMC42KX1gIDogJ25vbmUnfTtcbiAgICAgIGZsZXgtc2hyaW5rOiAwO1xuICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgdHJhbnNmb3JtOiAke2l0ZW1TZXR0aW5nLm9mZnNldFggfHwgaXRlbVNldHRpbmcub2Zmc2V0WSA/IGB0cmFuc2xhdGUoJHtpdGVtU2V0dGluZy5vZmZzZXRYIHx8IDB9cHgsICR7aXRlbVNldHRpbmcub2Zmc2V0WSB8fCAwfXB4KWAgOiBudWxsfTtcbiAgICAgICYgPiBkaXYud2lkZ2V0LWNvbnRleHQtbWVudSB7XG4gICAgICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgICB9XG5cbiAgICAgICY6aG92ZXIgPiBkaXYud2lkZ2V0LWNvbnRleHQtbWVudSB7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICB9XG5cbiAgICAgIC50ZW1wbGF0ZS1wb3B1cCB7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6ICR7YnVpbGRlclRoZW1lLmNvbG9ycy5ibGFja307XG4gICAgICB9XG4gICAgYDtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7XG4gICAgICBsYXlvdXRJZCxcbiAgICAgIGxheW91dEl0ZW0sXG4gICAgICBkcmFnZ2FibGUsXG4gICAgICBzZWxlY3RhYmxlLFxuICAgICAgaXNFbXB0eSxcbiAgICAgIHNlbGVjdGVkLFxuICAgIH0gPSB0aGlzLnByb3BzO1xuICAgIGlmICghbGF5b3V0SXRlbSB8fCBpc0VtcHR5KSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBjb25zdCBpdGVtU2V0dGluZzogRmxvd0xheW91dEl0ZW1TZXR0aW5nID0gbG9kYXNoLmFzc2lnbih7fSwgREVGQVVMVF9GTE9XX0lURU1fU0VUVElORywgbGF5b3V0SXRlbS5zZXR0aW5nKTtcbiAgICBjb25zdCBtZXJnZWRDbGFzcyA9IGNsYXNzTmFtZXMoJ2Zsb3ctbGF5b3V0LWl0ZW0gZC1mbGV4Jywge1xuICAgICAgc2VsZWN0ZWQsXG4gICAgfSk7XG5cbiAgICBjb25zdCBoaWdobGlnaHRTdHlsZSA9IGNzc2BcbiAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgYmFja2dyb3VuZDogJHt0aGlzLnByb3BzLmJ1aWxkZXJUaGVtZS5jb2xvcnMucGFsZXR0ZS5wcmltYXJ5WzcwMF19O1xuICAgIGA7XG4gICAgY29uc3Qgb25lQnlPbmVBbmltYXRpb25Qcm9wcyA9IHV0aWxzLmhhbmRsZU9uZWJ5T25lQW5pbWF0aW9uKHRoaXMucHJvcHMpO1xuICAgIHJldHVybiAoPFBhZ2VDb250ZXh0LkNvbnN1bWVyPlxuICAgICAgeyhwYWdlQ29udGV4dDogUGFnZUNvbnRleHRQcm9wcykgPT4ge1xuICAgICAgICB0aGlzLnBhZ2VDb250ZXh0ID0gcGFnZUNvbnRleHQ7XG4gICAgICAgIHJldHVybiA8TGF5b3V0SXRlbVxuICAgICAgICAgIGNzcz17dGhpcy5nZXRTdHlsZShpdGVtU2V0dGluZyl9XG4gICAgICAgICAgbGF5b3V0SWQ9e2xheW91dElkfVxuICAgICAgICAgIGxheW91dEl0ZW1JZD17bGF5b3V0SXRlbS5pZH1cbiAgICAgICAgICBvblJlc2l6ZVN0YXJ0PXt0aGlzLm9uUmVzaXplU3RhcnR9XG4gICAgICAgICAgb25SZXNpemluZz17dGhpcy5vblJlc2l6aW5nfVxuICAgICAgICAgIG9uUmVzaXplRW5kPXt0aGlzLm9uUmVzaXplRW5kfVxuICAgICAgICAgIC8vIG9uRHJhZ1N0YXJ0PXt0aGlzLnByb3BzLm9uRHJhZ1N0YXJ0fVxuICAgICAgICAgIGxlZnQ9e2ZhbHNlfVxuICAgICAgICAgIHJpZ2h0PXtmYWxzZX1cbiAgICAgICAgICB0b3A9e2ZhbHNlfVxuICAgICAgICAgIGJvdHRvbT17aXRlbVNldHRpbmcuaGVpZ2h0TW9kZSA9PT0gJ2ZpeGVkJ31cbiAgICAgICAgICByZXN0cmljdD17dHJ1ZX1cbiAgICAgICAgICB1c2VEcmFnSGFuZGxlcj17dHJ1ZX1cbiAgICAgICAgICBkcmFnZ2FibGU9e2RyYWdnYWJsZX1cbiAgICAgICAgICBzZWxlY3RhYmxlPXtzZWxlY3RhYmxlfVxuICAgICAgICAgIGZvcmJpZENvbnRleHRNZW51PXt0cnVlfVxuICAgICAgICAgIGZvcmJpZFRvb2xiYXI9e3RydWV9XG4gICAgICAgICAgaXNCbG9jaz17dHJ1ZX1cbiAgICAgICAgICBjbGFzc05hbWU9e21lcmdlZENsYXNzfVxuICAgICAgICAgIHsuLi5vbmVCeU9uZUFuaW1hdGlvblByb3BzfT5cbiAgICAgICAgICA8RHJvcEFyZWFcbiAgICAgICAgICAgIGNzcz17Y3NzYFxuICAgICAgICAgICAgICAke3RvcERyb3BhcmVhU3R5bGV9O1xuICAgICAgICAgICAgYH1cbiAgICAgICAgICAgIGhpZ2hsaWdodERyYWdvdmVyPXt0cnVlfVxuICAgICAgICAgICAgbGF5b3V0cz17dGhpcy5mYWtlVG9wTGF5b3V0c31cbiAgICAgICAgICAgIG9uRHJvcD17dGhpcy5kcm9wQXRUb3B9PlxuICAgICAgICAgICAgPGRpdiBjc3M9e2hpZ2hsaWdodFN0eWxlfT48L2Rpdj5cbiAgICAgICAgICA8L0Ryb3BBcmVhPlxuICAgICAgICAgIDxEcm9wQXJlYVxuICAgICAgICAgICAgY3NzPXtjc3NgXG4gICAgICAgICAgICAgICR7Ym90dG9tRHJvcGFyZWFTdHlsZX07XG4gICAgICAgICAgICBgfVxuICAgICAgICAgICAgbGF5b3V0cz17dGhpcy5mYWtlQm90dG9tTGF5b3V0c31cbiAgICAgICAgICAgIGhpZ2hsaWdodERyYWdvdmVyPXt0cnVlfVxuICAgICAgICAgICAgb25Ecm9wPXt0aGlzLmRyb3BBdEJvdHRvbX0+XG4gICAgICAgICAgICA8ZGl2IGNzcz17aGlnaGxpZ2h0U3R5bGV9PjwvZGl2PlxuICAgICAgICAgIDwvRHJvcEFyZWE+XG4gICAgICAgICAge3BhZ2VDb250ZXh0LmlzRGVzaWduTW9kZSAmJiAhcGFnZUNvbnRleHQudmlld09ubHkgJiYgdGhpcy5jcmVhdGVDb250ZXh0TWVudSgpfVxuICAgICAgICA8L0xheW91dEl0ZW0+O1xuICAgICAgfX1cbiAgICA8L1BhZ2VDb250ZXh0LkNvbnN1bWVyPlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUmVhY3RSZWR1eC5jb25uZWN0PFN0YXRlVG9GbG93SXRlbVByb3BzLCB1bmtub3duLCBMYXlvdXRJdGVtUHJvcHMgJiBPd25Qcm9wcz4obWFwU3RhdGVUb0Zsb3dJdGVtUHJvcHMpKFxuICBGbG93TGF5b3V0SXRlbSxcbik7XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFpQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXVCQTtBQVNBO0FBS0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBZ0JBOztBQUFBO0FBZkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUE0REE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBb0JBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUErQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQTdNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQXNEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBdUNBO0FBQUE7QUFDQTtBQUNBO0FBVUE7QUFFQTtBQU1BO0FBT0E7QUF3QkE7QUFDQTtBQUNBO0FBRUE7QUFvQkE7QUFFQTtBQUFBO0FBQ0E7QUFRQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBSUE7QUFDQTtBQUVBO0FBQ0E7QUFPQTtBQUNBO0FBYUE7QUFPQTtBQUVBO0FBT0E7QUFFQTtBQUVBO0FBR0E7QUFDQTtBQUFBO0FBRUE7OyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./jimu-layouts/lib/flow-layout/builder/layout-item.tsx\n");

/***/ }),

/***/ "./jimu-layouts/lib/flow-layout/builder/layout.tsx":
/*!*********************************************************!*\
  !*** ./jimu-layouts/lib/flow-layout/builder/layout.tsx ***!
  \*********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jimu_core__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var jimu_for_builder__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-for-builder */ \"jimu-for-builder\");\n/* harmony import */ var jimu_for_builder__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jimu_for_builder__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-ui */ \"jimu-ui\");\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jimu_ui__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var svg_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! svg.js */ \"./node_modules/svg.js/dist/svg.js\");\n/* harmony import */ var svg_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(svg_js__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _dnd_helper__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./dnd-helper */ \"./jimu-layouts/lib/flow-layout/builder/dnd-helper.ts\");\n/* harmony import */ var _layout_item__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./layout-item */ \"./jimu-layouts/lib/flow-layout/builder/layout-item.tsx\");\n/* harmony import */ var _floating_layout_item__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./floating-layout-item */ \"./jimu-layouts/lib/flow-layout/builder/floating-layout-item.tsx\");\n/* harmony import */ var _screen_group__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./screen-group */ \"./jimu-layouts/lib/flow-layout/builder/screen-group.tsx\");\n/* harmony import */ var jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! jimu-layouts/layout-runtime */ \"jimu-layouts/layout-runtime\");\n/* harmony import */ var jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _builder_interactive_droparea_hook__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../builder/interactive/droparea-hook */ \"./jimu-layouts/lib/builder/interactive/droparea-hook.tsx\");\n/* harmony import */ var _builder_common_layout_actions__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../builder/common-layout-actions */ \"./jimu-layouts/lib/builder/common-layout-actions.ts\");\n/* harmony import */ var _builder_interactive_resize_event_handler__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../builder/interactive/resize-event-handler */ \"./jimu-layouts/lib/builder/interactive/resize-event-handler.ts\");\n/* harmony import */ var _default_setting__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../default-setting */ \"./jimu-layouts/lib/flow-layout/default-setting.ts\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./utils */ \"./jimu-layouts/lib/flow-layout/builder/utils.ts\");\n/* harmony import */ var _action_block__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./action-block */ \"./jimu-layouts/lib/flow-layout/builder/action-block.tsx\");\nvar __makeTemplateObject = (undefined && undefined.__makeTemplateObject) || function (cooked, raw) {\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n    return cooked;\n};\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (undefined && undefined.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\n/** @jsx jsx */\n/* eslint-disable prefer-const */\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar dropareaStyle = Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n  position: absolute;\\n  left: 0;\\n  bottom: 0;\\n  top: 0;\\n  right: 0;\\n  background: transparent;\\n\"], [\"\\n  position: absolute;\\n  left: 0;\\n  bottom: 0;\\n  top: 0;\\n  right: 0;\\n  background: transparent;\\n\"])));\nvar guideOverlay = Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_2 || (templateObject_2 = __makeTemplateObject([\"\\n  \", \";\\n  z-index: \", \";\\n  pointer-events: none;\\n\"], [\"\\n  \", \";\\n  z-index: \", \";\\n  pointer-events: none;\\n\"])), dropareaStyle, jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_8__[\"LayoutZIndex\"].DragMoveTip);\nvar Layout = /** @class */ (function (_super) {\n    __extends(Layout, _super);\n    function Layout(props) {\n        var _a;\n        var _this = _super.call(this, props) || this;\n        _this.state = {\n            isDragover: false,\n            isLoadingTemplate: false,\n        };\n        _this.activate = function (e) {\n            if (Math.abs(e.screenX - _this.mousedownX) > jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_8__[\"CLICK_TOLRERANCE\"] ||\n                Math.abs(e.screenY - _this.mousedownY) > jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_8__[\"CLICK_TOLRERANCE\"]) {\n                e.stopPropagation();\n                return;\n            }\n            var _a = _this.props, isInSection = _a.isInSection, isInWidget = _a.isInWidget;\n            if (!_this.pageContext.viewOnly && !isInSection && !isInWidget && !Object(_builder_interactive_resize_event_handler__WEBPACK_IMPORTED_MODULE_11__[\"isResizing\"])()) {\n                e.stopPropagation();\n                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"getAppStore\"])().dispatch(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"appActions\"].selectionChanged(null));\n            }\n        };\n        _this.onMouseDown = function (e) {\n            _this.mousedownX = e.screenX;\n            _this.mousedownY = e.screenY;\n        };\n        _this.onDropAtBoundary = function (draggingItem, itemRect, insertIndex) {\n            if (insertIndex < _this.props.layout.order.length) {\n                _this.referenceId = _this.props.layout.order[insertIndex];\n            }\n            else {\n                _this.referenceId = null;\n            }\n            if (!_this.domRect) {\n                _this.domRect = _this.ref.getBoundingClientRect();\n            }\n            _this.onDrop(draggingItem, _this.domRect, itemRect);\n        };\n        _this.onWidgetItemSelected = function (item) {\n            var _a, _b, _c;\n            var rect = _this.ref.getBoundingClientRect();\n            var itemRect = {\n                height: (_c = (_b = (_a = item.manifest) === null || _a === void 0 ? void 0 : _a.defaultSize) === null || _b === void 0 ? void 0 : _b.height) !== null && _c !== void 0 ? _c : 300,\n            };\n            _this.addWidgetToLayout(item, rect, itemRect, 4, 0);\n        };\n        _this.onBlockTemplateSelected = function (template) {\n            Object(_utils__WEBPACK_IMPORTED_MODULE_13__[\"addTemplateRow\"])(_this.props.layout.id, '', template);\n        };\n        _this.onScreenTemplateSelected = function (template) {\n            Object(_utils__WEBPACK_IMPORTED_MODULE_13__[\"addTemplateScreenGroup\"])(_this.props.layout.id, '', template);\n        };\n        _this.onPageTemplateSelected = function (templatePageJson) {\n            var initAppConfig = Object(jimu_for_builder__WEBPACK_IMPORTED_MODULE_1__[\"getAppConfigAction\"])().appConfig;\n            _this.setState({ isLoadingTemplate: true });\n            if (_this.pageContext.isHeader) {\n                jimu_for_builder__WEBPACK_IMPORTED_MODULE_1__[\"templateUtils\"].applyPageTemplateToHeader(initAppConfig, templatePageJson).then(function (_a) {\n                    var appConfig = _a.appConfig;\n                    Object(jimu_for_builder__WEBPACK_IMPORTED_MODULE_1__[\"getAppConfigAction\"])(appConfig).exec();\n                    jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"lodash\"].defer(function () {\n                        _this.setState({ isLoadingTemplate: false });\n                    });\n                });\n            }\n            else if (_this.pageContext.isFooter) {\n                jimu_for_builder__WEBPACK_IMPORTED_MODULE_1__[\"templateUtils\"].applyPageTemplateToFooter(initAppConfig, templatePageJson).then(function (_a) {\n                    var appConfig = _a.appConfig;\n                    Object(jimu_for_builder__WEBPACK_IMPORTED_MODULE_1__[\"getAppConfigAction\"])(appConfig).exec();\n                    jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"lodash\"].defer(function () {\n                        _this.setState({ isLoadingTemplate: false });\n                    });\n                });\n            }\n            else {\n                jimu_for_builder__WEBPACK_IMPORTED_MODULE_1__[\"templateUtils\"]\n                    .applyPageTemplateToBody(initAppConfig, _this.pageContext.pageId, templatePageJson)\n                    .then(function (_a) {\n                    var appConfig = _a.appConfig;\n                    Object(jimu_for_builder__WEBPACK_IMPORTED_MODULE_1__[\"getAppConfigAction\"])(appConfig).exec();\n                    jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"lodash\"].defer(function () {\n                        _this.setState({ isLoadingTemplate: false });\n                    });\n                });\n            }\n        };\n        jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_8__[\"utils\"].autoBindHandlers(_this, [\n            'onPaste',\n            'onDrop',\n            'onDragOver',\n            'onDragEnter',\n            'onDragLeave',\n            'toggleDragoverEffect',\n        ]);\n        var exts = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"ExtensionManager\"].getInstance().getExtensions(\"\" + jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"extensionSpec\"].ExtensionPoints.LayoutTransformer);\n        if (exts && exts.length > 0) {\n            var ext = exts.find(function (item) { return item.layoutType === _this.props.layout.type; });\n            _this.layoutTransform = (_a = ext) === null || _a === void 0 ? void 0 : _a.transformLayout;\n        }\n        return _this;\n    }\n    Layout.prototype.componentDidMount = function () {\n        this.guideDragOverDraw = svg_js__WEBPACK_IMPORTED_MODULE_3__(this.guideDragOverRef);\n    };\n    Layout.prototype.onDragOver = function (draggingItem, draggingElement, containerRect, itemRect, clientX, clientY) {\n        var _a;\n        var layout = this.props.layout;\n        var layoutInfo = draggingItem.layoutInfo || {};\n        var rect = itemRect;\n        if (this.childRects && this.childRects.length > 0) {\n            var _b = Object(_dnd_helper__WEBPACK_IMPORTED_MODULE_4__[\"calInsertPositionForColumn\"])(containerRect, clientY, this.childRects, _dnd_helper__WEBPACK_IMPORTED_MODULE_4__[\"DropIndicatorSize\"]), insertY = _b.insertY, refId = _b.refId;\n            this.referenceId = refId;\n            if (layoutInfo.layoutId === this.props.layout.id) {\n                var content = layout.order;\n                var draggingIndex = content.indexOf(layoutInfo.layoutItemId);\n                var refIndex = content.indexOf(refId);\n                if (((_a = layout.content[layoutInfo.layoutItemId].setting) === null || _a === void 0 ? void 0 : _a.isFloating) ||\n                    draggingIndex === refIndex - 1 ||\n                    (!refId && draggingIndex === content.length - 1)) {\n                    if (this.dropArea) {\n                        this.dropArea.hide();\n                    }\n                    return;\n                }\n            }\n            rect = {\n                top: insertY - _dnd_helper__WEBPACK_IMPORTED_MODULE_4__[\"DropIndicatorSize\"] / 2 + this.ref.scrollTop,\n                width: containerRect.width - _dnd_helper__WEBPACK_IMPORTED_MODULE_4__[\"DropIndicatorSize\"],\n                left: _dnd_helper__WEBPACK_IMPORTED_MODULE_4__[\"DropIndicatorSize\"] / 2,\n                height: _dnd_helper__WEBPACK_IMPORTED_MODULE_4__[\"DropIndicatorSize\"],\n            };\n        }\n        else {\n            this.referenceId = null;\n            rect = {\n                top: containerRect.height / 2 - _dnd_helper__WEBPACK_IMPORTED_MODULE_4__[\"DropIndicatorSize\"] / 2,\n                width: containerRect.width - _dnd_helper__WEBPACK_IMPORTED_MODULE_4__[\"DropIndicatorSize\"],\n                left: _dnd_helper__WEBPACK_IMPORTED_MODULE_4__[\"DropIndicatorSize\"] / 2,\n                height: _dnd_helper__WEBPACK_IMPORTED_MODULE_4__[\"DropIndicatorSize\"],\n            };\n        }\n        // if (!this.referenceId) {\n        //   if (this.dropArea) {\n        //     this.dropArea.hide();\n        //   }\n        //   return;\n        // }\n        if (!this.dropArea) {\n            this.dropArea = this.guideDragOverDraw\n                .rect(rect.width, rect.height)\n                .fill(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"polished\"].rgba(this.builderTheme.colors.palette.primary[700], 0.4))\n                .stroke('none')\n                .attr({\n                x: rect.left,\n                y: rect.top,\n            });\n        }\n        else {\n            this.dropArea.move(rect.left, rect.top).size(rect.width, rect.height);\n            if (!this.dropArea.visible()) {\n                this.dropArea.show();\n            }\n        }\n    };\n    Layout.prototype.toggleDragoverEffect = function (value, draggingItem) {\n        if (value) {\n            this.referenceId = null;\n            this.collectBounds(draggingItem.layoutInfo || {});\n        }\n        if (this.dropArea) {\n            this.dropArea.hide();\n        }\n        this.setState({\n            isDragover: value,\n        });\n    };\n    Layout.prototype.onDragEnter = function (draggingItem) { };\n    Layout.prototype.onDragLeave = function () { };\n    Layout.prototype.onDrop = function (draggingItem, containerRect, itemRect) {\n        var _a;\n        if (this.dropArea) {\n            this.dropArea.hide();\n        }\n        var layout = this.props.layout;\n        var draggingLayoutInfo = draggingItem.layoutInfo || {};\n        var appConfigAction = Object(jimu_for_builder__WEBPACK_IMPORTED_MODULE_1__[\"getAppConfigAction\"])();\n        var insertIndex = 0;\n        if (this.referenceId) {\n            insertIndex = layout.order.indexOf(this.referenceId);\n        }\n        else if (layout.order) {\n            insertIndex = layout.order.length;\n        }\n        this.referenceId = null;\n        this.childRects = [];\n        // move in the same layout or add a new row widget\n        if (draggingLayoutInfo.layoutId === layout.id) {\n            if ((_a = layout.content[draggingLayoutInfo.layoutItemId].setting) === null || _a === void 0 ? void 0 : _a.isFloating) {\n                var appConfigAction_1 = Object(jimu_for_builder__WEBPACK_IMPORTED_MODULE_1__[\"getAppConfigAction\"])();\n                appConfigAction_1.editLayoutItemBBox(draggingLayoutInfo, {\n                    left: itemRect.left,\n                    top: itemRect.top,\n                    bottom: containerRect.height - (itemRect.top + itemRect.width),\n                    width: itemRect.width,\n                    height: itemRect.height\n                });\n                return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"getAppStore\"])().dispatch(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"appActions\"].layoutChanged(appConfigAction_1.appConfig, __assign(__assign({}, draggingLayoutInfo), { autoScroll: false })));\n            }\n            return Object(_builder_common_layout_actions__WEBPACK_IMPORTED_MODULE_10__[\"addItemToLayout\"])(appConfigAction.appConfig, draggingItem, {\n                layoutId: layout.id,\n            }, containerRect, itemRect, insertIndex).then(function (result) {\n                var layoutInfo = result.layoutInfo, updatedAppConfig = result.updatedAppConfig;\n                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"getAppStore\"])().dispatch(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"appActions\"].layoutChanged(updatedAppConfig, __assign(__assign({}, layoutInfo), { autoScroll: true })));\n            });\n        }\n        // Create a row widget, then add the dragging item\n        var totalCols = 12;\n        var rowWidth = this.maxPageWidth > 0 ? Math.min(this.maxPageWidth, containerRect.width) : containerRect.width;\n        var colWidth = rowWidth / totalCols;\n        var span = Math.min(Math.round(itemRect.width / colWidth), totalCols);\n        this.addWidgetToLayout(draggingItem, containerRect, itemRect, span, insertIndex);\n    };\n    Layout.prototype.addWidgetToLayout = function (draggingItem, containerRect, itemRect, width, insertIndex, appConfig) {\n        Object(_builder_common_layout_actions__WEBPACK_IMPORTED_MODULE_10__[\"addBlockToFlowLayout\"])(draggingItem, {\n            layoutId: this.props.layout.id,\n        }, containerRect, itemRect, width, insertIndex, appConfig);\n    };\n    Layout.prototype.collectBounds = function (layoutInfo) {\n        var _this = this;\n        var layout = this.props.layout;\n        this.childRects = [];\n        this.domRect = this.ref.getBoundingClientRect();\n        var draggableChildren = this.ref.parentNode.querySelectorAll(\"div[data-layoutid=\\\"\" + layout.id + \"\\\"] > div.exb-rnd\");\n        if (draggableChildren && draggableChildren.length > 0) {\n            draggableChildren.forEach(function (node) {\n                var itemId = node.getAttribute('data-layoutitemid');\n                if ((layoutInfo.layoutId !== layout.id || layoutInfo.layoutItemId !== itemId) &&\n                    layout.order &&\n                    layout.order.indexOf(itemId) >= 0) {\n                    var rect = jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_8__[\"utils\"].relativeClientRect(node.getBoundingClientRect(), _this.domRect);\n                    rect.id = itemId;\n                    _this.childRects.push(rect);\n                }\n            });\n        }\n        return this.childRects.sort(function (a, b) { return a.top - b.top; });\n    };\n    Layout.prototype.createItem = function (item, total, index, layoutSetting) {\n        var _a;\n        var _b = this.props, layouts = _b.layouts, layout = _b.layout, itemDraggable = _b.itemDraggable, itemSelectable = _b.itemSelectable;\n        // const { offsetX, offsetY, rndItemId } = this.state;\n        // const deltaX = itemId === rndItemId ? offsetX : 0;\n        // const deltaY = itemId === rndItemId ? offsetY : 0;\n        if (item.type === jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"LayoutItemType\"].ScreenGroup) {\n            return (Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_screen_group__WEBPACK_IMPORTED_MODULE_7__[\"ScreenGroup\"], { key: item.id + \"_\" + index, itemIndex: index, layoutId: layout.id, layoutItemId: item.id, layoutItem: item, theme: this.pageContext.builderTheme, formatMessage: this.pageContext.formatMessage }));\n        }\n        if ((_a = item.setting) === null || _a === void 0 ? void 0 : _a.isFloating) {\n            return (Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_floating_layout_item__WEBPACK_IMPORTED_MODULE_6__[\"default\"], { key: item.id + \"_\" + index, index: index, total: total, builderTheme: this.builderTheme, layouts: layouts, layoutId: layout.id, layoutItemId: item.id, layoutItem: item, gutter: layoutSetting.gutter, draggable: itemDraggable, selectable: itemSelectable, onDropAtBoundary: this.onDropAtBoundary, formatMessage: this.pageContext.formatMessage }));\n        }\n        return (Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_layout_item__WEBPACK_IMPORTED_MODULE_5__[\"default\"], { key: item.id + \"_\" + index, index: index, total: total, builderTheme: this.builderTheme, layouts: layouts, layoutId: layout.id, layoutItemId: item.id, layoutItem: item, gutter: layoutSetting.gutter, draggable: itemDraggable, selectable: itemSelectable, onDropAtBoundary: this.onDropAtBoundary, formatMessage: this.pageContext.formatMessage }));\n    };\n    Layout.prototype.getActionStyle = function () {\n        return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_3 || (templateObject_3 = __makeTemplateObject([\"\\n      height: 200px;\\n      padding: 1rem;\\n      pointer-events: none;\\n      z-index: 1;\\n      .btn-text {\\n        line-height: 32px;\\n      }\\n      .btn {\\n        margin-right: 2rem;\\n        background: \", \";\\n        &:hover {\\n          background: \", \";\\n        }\\n      }\\n      .action-item {\\n        width: 32px;\\n      }\\n\\n      .action-seprator {\\n        .sep {\\n          width: 65px;\\n          height: 1px;\\n          background-color: \", \";\\n        }\\n        .btn-text {\\n          margin: 0 13px;\\n        }\\n      }\\n    \"], [\"\\n      height: 200px;\\n      padding: 1rem;\\n      pointer-events: none;\\n      z-index: 1;\\n      .btn-text {\\n        line-height: 32px;\\n      }\\n      .btn {\\n        margin-right: 2rem;\\n        background: \", \";\\n        &:hover {\\n          background: \", \";\\n        }\\n      }\\n      .action-item {\\n        width: 32px;\\n      }\\n\\n      .action-seprator {\\n        .sep {\\n          width: 65px;\\n          height: 1px;\\n          background-color: \", \";\\n        }\\n        .btn-text {\\n          margin: 0 13px;\\n        }\\n      }\\n    \"])), this.builderTheme.colors.palette.light[600], this.builderTheme.colors.palette.light[800], this.builderTheme.colors.palette.dark[800]);\n    };\n    Layout.prototype.getStyle = function () {\n        return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_4 || (templateObject_4 = __makeTemplateObject([\"\\n      .flow-layout-item {\\n        z-index: 0;\\n\\n        &:hover, &.selected {\\n          z-index: 1;\\n        }\\n      }\\n    \"], [\"\\n      .flow-layout-item {\\n        z-index: 0;\\n\\n        &:hover, &.selected {\\n          z-index: 1;\\n        }\\n      }\\n    \"])));\n    };\n    Layout.prototype.createActions = function (blockOnly) {\n        var _a = this.pageContext, viewOnly = _a.viewOnly, lockLayout = _a.lockLayout, isDesignMode = _a.isDesignMode, rootLayoutId = _a.rootLayoutId;\n        var layout = this.props.layout;\n        var isPageBody = !this.pageContext.isHeader && !this.pageContext.isFooter;\n        if (this.state.isLoadingTemplate ||\n            !isPageBody ||\n            viewOnly ||\n            lockLayout ||\n            !isDesignMode ||\n            layout.id !== rootLayoutId) {\n            return null;\n        }\n        return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_action_block__WEBPACK_IMPORTED_MODULE_14__[\"ActionBlock\"], { pageContext: this.pageContext, blockOnly: blockOnly, onPageTemplateSelected: this.onPageTemplateSelected, onBlockTemplateSelected: this.onBlockTemplateSelected, onScreenTemplateSelected: this.onScreenTemplateSelected });\n    };\n    Layout.prototype.render = function () {\n        var _this = this;\n        var _a = this.props, layout = _a.layout, className = _a.className, isPageItem = _a.isPageItem, layouts = _a.layouts;\n        if (!layout) {\n            return null;\n        }\n        var outClass = Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"classNames\"])('layout flow-layout w-100', className);\n        var guideVisibleStyle = {\n            display: this.state.isDragover ? 'block' : 'none',\n        };\n        return (Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_8__[\"PageContext\"].Consumer, null, function (props) {\n            _this.builderTheme = props.builderTheme;\n            _this.maxPageWidth = props.maxWidth;\n            _this.pageContext = props;\n            var targetLayout = layout;\n            var viewOnly = layouts[props.browserSizeMode] !== layout.id;\n            if (viewOnly && _this.layoutTransform) {\n                targetLayout = _this.layoutTransform(layout, props.mainSizeMode, props.browserSizeMode);\n            }\n            var content = targetLayout.order || [];\n            var layoutSetting = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"lodash\"].assign({}, _default_setting__WEBPACK_IMPORTED_MODULE_12__[\"DEFAULT_FLOW_SETTING\"], targetLayout.setting);\n            var mergedStyle = __assign({ position: 'relative' }, jimu_ui__WEBPACK_IMPORTED_MODULE_2__[\"styleUtils\"].toCSSStyle(layoutSetting.style));\n            return (Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: outClass, ref: function (el) { return (_this.ref = el); }, css: _this.getStyle(), style: mergedStyle, \"data-layoutid\": layout.id, onClick: _this.activate, onMouseDown: _this.onMouseDown },\n                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"OneByOneAnimation\"], { \"data-layoutid\": targetLayout.id, enableScroll: true, className: \"trail-container d-flex flex-column align-items-center\", css: Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_5 || (templateObject_5 = __makeTemplateObject([\"\\n                  width: 100%;\\n                \"], [\"\\n                  width: 100%;\\n                \"]))) },\n                    !props.viewOnly && (Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_builder_interactive_droparea_hook__WEBPACK_IMPORTED_MODULE_9__[\"DropArea\"], { css: dropareaStyle, layouts: _this.props.layouts, isRepeat: _this.props.isRepeat, highlightDragover: !isPageItem, onDragEnter: _this.onDragEnter, onDragLeave: _this.onDragLeave, onDragOver: _this.onDragOver, onDrop: _this.onDrop, onToggleDragoverEffect: _this.toggleDragoverEffect })),\n                    content.length > 0 &&\n                        content.map(function (layoutItemId, index) {\n                            return _this.createItem(targetLayout.content[layoutItemId], content.length, index, layoutSetting);\n                        })),\n                !_this.state.isLoadingTemplate &&\n                    !props.viewOnly &&\n                    content.length === 0 &&\n                    layout.id === props.rootLayoutId &&\n                    _this.createActions(false),\n                content.length > 0 && _this.createActions(true),\n                _this.state.isLoadingTemplate && Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_2__[\"Loading\"], null),\n                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { css: guideOverlay, style: guideVisibleStyle, ref: function (el) { return (_this.guideDragOverRef = el); } })));\n        }));\n    };\n    return Layout;\n}(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].PureComponent));\n/* harmony default export */ __webpack_exports__[\"default\"] = (jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"ReactRedux\"].connect(jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_8__[\"utils\"].mapStateToLayoutProps)(Layout));\nvar templateObject_1, templateObject_2, templateObject_3, templateObject_4, templateObject_5;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWxheW91dHMvbGliL2Zsb3ctbGF5b3V0L2J1aWxkZXIvbGF5b3V0LnRzeC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2ppbXUtbGF5b3V0cy9saWIvZmxvdy1sYXlvdXQvYnVpbGRlci9sYXlvdXQudHN4PzgxNzIiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqIEBqc3gganN4ICovXG4vKiBlc2xpbnQtZGlzYWJsZSBwcmVmZXItY29uc3QgKi9cbmltcG9ydCB7XG4gIFJlYWN0LFxuICBSZWFjdFJlZHV4LFxuICBjbGFzc05hbWVzLFxuICBMYXlvdXRJbmZvLFxuICBwb2xpc2hlZCxcbiAganN4LFxuICBjc3MsXG4gIExheW91dEl0ZW1Db25zdHJ1Y3RvclByb3BzLFxuICBsb2Rhc2gsXG4gIGdldEFwcFN0b3JlLFxuICBhcHBBY3Rpb25zLFxuICBJTVRoZW1lVmFyaWFibGVzLFxuICBJTUxheW91dEl0ZW1Kc29uLFxuICBJTUFwcENvbmZpZyxcbiAgTGF5b3V0VHJhbnNmb3JtRnVuYyxcbiAgRXh0ZW5zaW9uTWFuYWdlcixcbiAgZXh0ZW5zaW9uU3BlYyxcbiAgTGF5b3V0SXRlbVR5cGUsXG4gIE9uZUJ5T25lQW5pbWF0aW9uLFxufSBmcm9tICdqaW11LWNvcmUnO1xuaW1wb3J0IHsgZ2V0QXBwQ29uZmlnQWN0aW9uIH0gZnJvbSAnamltdS1mb3ItYnVpbGRlcic7XG5pbXBvcnQgeyBzdHlsZVV0aWxzLCBMb2FkaW5nIH0gZnJvbSAnamltdS11aSc7XG5pbXBvcnQgKiBhcyBTVkcgZnJvbSAnc3ZnLmpzJztcbmltcG9ydCB7IGNhbEluc2VydFBvc2l0aW9uRm9yQ29sdW1uLCBEcm9wSW5kaWNhdG9yU2l6ZSB9IGZyb20gJy4vZG5kLWhlbHBlcic7XG5pbXBvcnQgRmxvd0xheW91dEl0ZW0gZnJvbSAnLi9sYXlvdXQtaXRlbSc7XG5pbXBvcnQgRmxvYXRpbmdMYXlvdXRJdGVtIGZyb20gJy4vZmxvYXRpbmctbGF5b3V0LWl0ZW0nO1xuaW1wb3J0IHsgU2NyZWVuR3JvdXAgfSBmcm9tICcuL3NjcmVlbi1ncm91cCc7XG5pbXBvcnQge1xuICBMYXlvdXRQcm9wcyxcbiAgU3RhdGVUb0xheW91dFByb3BzLFxuICBQYWdlQ29udGV4dCxcbiAgUGFnZUNvbnRleHRQcm9wcyxcbiAgTGF5b3V0WkluZGV4LFxuICBDTElDS19UT0xSRVJBTkNFLFxuICB1dGlscyxcbn0gZnJvbSAnamltdS1sYXlvdXRzL2xheW91dC1ydW50aW1lJztcbmltcG9ydCB7IERyb3BIYW5kbGVycyB9IGZyb20gJy4uLy4uL2J1aWxkZXIvdHlwZXMnO1xuaW1wb3J0IHsgRHJvcEFyZWEgfSBmcm9tICcuLi8uLi9idWlsZGVyL2ludGVyYWN0aXZlL2Ryb3BhcmVhLWhvb2snO1xuaW1wb3J0IHsgYWRkSXRlbVRvTGF5b3V0LCBhZGRCbG9ja1RvRmxvd0xheW91dCB9IGZyb20gJy4uLy4uL2J1aWxkZXIvY29tbW9uLWxheW91dC1hY3Rpb25zJztcbmltcG9ydCB7IGlzUmVzaXppbmcgfSBmcm9tICcuLi8uLi9idWlsZGVyL2ludGVyYWN0aXZlL3Jlc2l6ZS1ldmVudC1oYW5kbGVyJztcbmltcG9ydCB7IHRlbXBsYXRlVXRpbHMgfSBmcm9tICdqaW11LWZvci1idWlsZGVyJztcbmltcG9ydCB7IERFRkFVTFRfRkxPV19TRVRUSU5HIH0gZnJvbSAnLi4vZGVmYXVsdC1zZXR0aW5nJztcbmltcG9ydCB7IEZsb3dMYXlvdXRTZXR0aW5nIH0gZnJvbSAnLi4vLi4vdHlwZXMnO1xuaW1wb3J0IHsgYWRkVGVtcGxhdGVSb3csIGFkZFRlbXBsYXRlU2NyZWVuR3JvdXAgfSBmcm9tICcuL3V0aWxzJztcbmltcG9ydCB7IEFjdGlvbkJsb2NrIH0gZnJvbSAnLi9hY3Rpb24tYmxvY2snO1xuXG5jb25zdCBkcm9wYXJlYVN0eWxlID0gY3NzYFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIGxlZnQ6IDA7XG4gIGJvdHRvbTogMDtcbiAgdG9wOiAwO1xuICByaWdodDogMDtcbiAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XG5gO1xuXG5jb25zdCBndWlkZU92ZXJsYXkgPSBjc3NgXG4gICR7ZHJvcGFyZWFTdHlsZX07XG4gIHotaW5kZXg6ICR7TGF5b3V0WkluZGV4LkRyYWdNb3ZlVGlwfTtcbiAgcG9pbnRlci1ldmVudHM6IG5vbmU7XG5gO1xuXG5pbnRlcmZhY2UgU3RhdGUge1xuICBpc0RyYWdvdmVyOiBib29sZWFuO1xuICBpc0xvYWRpbmdUZW1wbGF0ZTogYm9vbGVhbjtcbn1cblxuY2xhc3MgTGF5b3V0IGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudDxMYXlvdXRQcm9wcyAmIFN0YXRlVG9MYXlvdXRQcm9wcywgU3RhdGU+IGltcGxlbWVudHMgRHJvcEhhbmRsZXJzIHtcbiAgcmVmOiBIVE1MRWxlbWVudDtcbiAgZ3VpZGVEcmFnT3ZlclJlZjogSFRNTEVsZW1lbnQ7XG4gIHdpZGdldExpc3RCdG5SZWY6IEhUTUxFbGVtZW50O1xuICBndWlkZURyYWdPdmVyRHJhdzogU1ZHLkRvYztcbiAgZHJvcEFyZWE6IFNWRy5SZWN0O1xuICBib3VuZGluZ1JlY3Q6IENsaWVudFJlY3Q7XG4gIGlzRHJhZ2dpbmc6IGJvb2xlYW47XG4gIGNoaWxkUmVjdHM6IEFycmF5PENsaWVudFJlY3QgJiB7IGlkOiBzdHJpbmcgfT47XG4gIGRvbVJlY3Q6IENsaWVudFJlY3Q7XG4gIHJlc2l6aW5nUmVjdDogQ2xpZW50UmVjdDtcbiAgcmVmZXJlbmNlSWQ6IHN0cmluZztcbiAgbWF4UGFnZVdpZHRoOiBudW1iZXI7XG5cbiAgYnVpbGRlclRoZW1lOiBJTVRoZW1lVmFyaWFibGVzO1xuICBwYWdlQ29udGV4dDogUGFnZUNvbnRleHRQcm9wcztcblxuICBsYXlvdXRUcmFuc2Zvcm06IExheW91dFRyYW5zZm9ybUZ1bmM7XG5cbiAgc3RhdGU6IFN0YXRlID0ge1xuICAgIGlzRHJhZ292ZXI6IGZhbHNlLFxuICAgIGlzTG9hZGluZ1RlbXBsYXRlOiBmYWxzZSxcbiAgfTtcbiAgYmxvY2tSZWZlcmVuY2U6IEhUTUxEaXZFbGVtZW50O1xuICBibG9ja1JlZmVyZW5jZTI6IEhUTUxEaXZFbGVtZW50O1xuICB0ZW1wbGF0ZVJlZmVyZW5jZTogSFRNTERpdkVsZW1lbnQ7XG5cbiAgbW91c2Vkb3duWDogbnVtYmVyO1xuICBtb3VzZWRvd25ZOiBudW1iZXI7XG5cbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdXRpbHMuYXV0b0JpbmRIYW5kbGVycyh0aGlzLCBbXG4gICAgICAnb25QYXN0ZScsXG4gICAgICAnb25Ecm9wJyxcbiAgICAgICdvbkRyYWdPdmVyJyxcbiAgICAgICdvbkRyYWdFbnRlcicsXG4gICAgICAnb25EcmFnTGVhdmUnLFxuICAgICAgJ3RvZ2dsZURyYWdvdmVyRWZmZWN0JyxcbiAgICBdKTtcbiAgICBjb25zdCBleHRzID0gRXh0ZW5zaW9uTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldEV4dGVuc2lvbnMoYCR7ZXh0ZW5zaW9uU3BlYy5FeHRlbnNpb25Qb2ludHMuTGF5b3V0VHJhbnNmb3JtZXJ9YCk7XG4gICAgaWYgKGV4dHMgJiYgZXh0cy5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCBleHQgPSBleHRzLmZpbmQoaXRlbSA9PiAoaXRlbSBhcyBleHRlbnNpb25TcGVjLkxheW91dFRyYW5zZm9ybWVyKS5sYXlvdXRUeXBlID09PSB0aGlzLnByb3BzLmxheW91dC50eXBlKTtcbiAgICAgIHRoaXMubGF5b3V0VHJhbnNmb3JtID0gKGV4dCBhcyBhbnkpPy50cmFuc2Zvcm1MYXlvdXQ7XG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdGhpcy5ndWlkZURyYWdPdmVyRHJhdyA9IFNWRyh0aGlzLmd1aWRlRHJhZ092ZXJSZWYpO1xuICB9XG5cbiAgYWN0aXZhdGUgPSAoZTogUmVhY3QuTW91c2VFdmVudCkgPT4ge1xuICAgIGlmIChcbiAgICAgIE1hdGguYWJzKGUuc2NyZWVuWCAtIHRoaXMubW91c2Vkb3duWCkgPiBDTElDS19UT0xSRVJBTkNFIHx8XG4gICAgICBNYXRoLmFicyhlLnNjcmVlblkgLSB0aGlzLm1vdXNlZG93blkpID4gQ0xJQ0tfVE9MUkVSQU5DRVxuICAgICkge1xuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgeyBpc0luU2VjdGlvbiwgaXNJbldpZGdldCB9ID0gdGhpcy5wcm9wcztcbiAgICBpZiAoIXRoaXMucGFnZUNvbnRleHQudmlld09ubHkgJiYgIWlzSW5TZWN0aW9uICYmICFpc0luV2lkZ2V0ICYmICFpc1Jlc2l6aW5nKCkpIHtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICBnZXRBcHBTdG9yZSgpLmRpc3BhdGNoKGFwcEFjdGlvbnMuc2VsZWN0aW9uQ2hhbmdlZChudWxsKSk7XG4gICAgfVxuICB9O1xuXG4gIG9uTW91c2VEb3duID0gZSA9PiB7XG4gICAgdGhpcy5tb3VzZWRvd25YID0gZS5zY3JlZW5YO1xuICAgIHRoaXMubW91c2Vkb3duWSA9IGUuc2NyZWVuWTtcbiAgfTtcblxuICBvbkRyYWdPdmVyKFxuICAgIGRyYWdnaW5nSXRlbTogTGF5b3V0SXRlbUNvbnN0cnVjdG9yUHJvcHMsXG4gICAgZHJhZ2dpbmdFbGVtZW50OiBIVE1MRWxlbWVudCxcbiAgICBjb250YWluZXJSZWN0OiBQYXJ0aWFsPENsaWVudFJlY3Q+LFxuICAgIGl0ZW1SZWN0OiBQYXJ0aWFsPENsaWVudFJlY3Q+LFxuICAgIGNsaWVudFg6IG51bWJlcixcbiAgICBjbGllbnRZOiBudW1iZXJcbiAgKSB7XG4gICAgY29uc3QgeyBsYXlvdXQgfSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3QgbGF5b3V0SW5mbyA9IGRyYWdnaW5nSXRlbS5sYXlvdXRJbmZvIHx8ICh7fSBhcyBMYXlvdXRJbmZvKTtcblxuICAgIGxldCByZWN0ID0gaXRlbVJlY3Q7XG5cbiAgICBpZiAodGhpcy5jaGlsZFJlY3RzICYmIHRoaXMuY2hpbGRSZWN0cy5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCB7IGluc2VydFksIHJlZklkIH0gPSBjYWxJbnNlcnRQb3NpdGlvbkZvckNvbHVtbihcbiAgICAgICAgY29udGFpbmVyUmVjdCBhcyBDbGllbnRSZWN0LFxuICAgICAgICBjbGllbnRZLFxuICAgICAgICB0aGlzLmNoaWxkUmVjdHMsXG4gICAgICAgIERyb3BJbmRpY2F0b3JTaXplXG4gICAgICApO1xuICAgICAgdGhpcy5yZWZlcmVuY2VJZCA9IHJlZklkO1xuXG4gICAgICBpZiAobGF5b3V0SW5mby5sYXlvdXRJZCA9PT0gdGhpcy5wcm9wcy5sYXlvdXQuaWQpIHtcbiAgICAgICAgY29uc3QgY29udGVudCA9IGxheW91dC5vcmRlcjtcbiAgICAgICAgY29uc3QgZHJhZ2dpbmdJbmRleCA9IGNvbnRlbnQuaW5kZXhPZihsYXlvdXRJbmZvLmxheW91dEl0ZW1JZCk7XG4gICAgICAgIGNvbnN0IHJlZkluZGV4ID0gY29udGVudC5pbmRleE9mKHJlZklkKTtcbiAgICAgICAgaWYgKGxheW91dC5jb250ZW50W2xheW91dEluZm8ubGF5b3V0SXRlbUlkXS5zZXR0aW5nPy5pc0Zsb2F0aW5nIHx8XG4gICAgICAgICAgZHJhZ2dpbmdJbmRleCA9PT0gcmVmSW5kZXggLSAxIHx8XG4gICAgICAgICAgKCFyZWZJZCAmJiBkcmFnZ2luZ0luZGV4ID09PSBjb250ZW50Lmxlbmd0aCAtIDEpKSB7XG4gICAgICAgICAgaWYgKHRoaXMuZHJvcEFyZWEpIHtcbiAgICAgICAgICAgIHRoaXMuZHJvcEFyZWEuaGlkZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmVjdCA9IHtcbiAgICAgICAgdG9wOiBpbnNlcnRZIC0gRHJvcEluZGljYXRvclNpemUgLyAyICsgdGhpcy5yZWYuc2Nyb2xsVG9wLFxuICAgICAgICB3aWR0aDogY29udGFpbmVyUmVjdC53aWR0aCAtIERyb3BJbmRpY2F0b3JTaXplLFxuICAgICAgICBsZWZ0OiBEcm9wSW5kaWNhdG9yU2l6ZSAvIDIsXG4gICAgICAgIGhlaWdodDogRHJvcEluZGljYXRvclNpemUsXG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnJlZmVyZW5jZUlkID0gbnVsbDtcbiAgICAgIHJlY3QgPSB7XG4gICAgICAgIHRvcDogY29udGFpbmVyUmVjdC5oZWlnaHQgLyAyIC0gRHJvcEluZGljYXRvclNpemUgLyAyLFxuICAgICAgICB3aWR0aDogY29udGFpbmVyUmVjdC53aWR0aCAtIERyb3BJbmRpY2F0b3JTaXplLFxuICAgICAgICBsZWZ0OiBEcm9wSW5kaWNhdG9yU2l6ZSAvIDIsXG4gICAgICAgIGhlaWdodDogRHJvcEluZGljYXRvclNpemUsXG4gICAgICB9O1xuICAgIH1cbiAgICAvLyBpZiAoIXRoaXMucmVmZXJlbmNlSWQpIHtcbiAgICAvLyAgIGlmICh0aGlzLmRyb3BBcmVhKSB7XG4gICAgLy8gICAgIHRoaXMuZHJvcEFyZWEuaGlkZSgpO1xuICAgIC8vICAgfVxuICAgIC8vICAgcmV0dXJuO1xuICAgIC8vIH1cblxuICAgIGlmICghdGhpcy5kcm9wQXJlYSkge1xuICAgICAgdGhpcy5kcm9wQXJlYSA9IHRoaXMuZ3VpZGVEcmFnT3ZlckRyYXdcbiAgICAgICAgLnJlY3QocmVjdC53aWR0aCwgcmVjdC5oZWlnaHQpXG4gICAgICAgIC5maWxsKHBvbGlzaGVkLnJnYmEodGhpcy5idWlsZGVyVGhlbWUuY29sb3JzLnBhbGV0dGUucHJpbWFyeVs3MDBdLCAwLjQpKVxuICAgICAgICAuc3Ryb2tlKCdub25lJylcbiAgICAgICAgLmF0dHIoe1xuICAgICAgICAgIHg6IHJlY3QubGVmdCxcbiAgICAgICAgICB5OiByZWN0LnRvcCxcbiAgICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZHJvcEFyZWEubW92ZShyZWN0LmxlZnQsIHJlY3QudG9wKS5zaXplKHJlY3Qud2lkdGgsIHJlY3QuaGVpZ2h0KTtcbiAgICAgIGlmICghdGhpcy5kcm9wQXJlYS52aXNpYmxlKCkpIHtcbiAgICAgICAgdGhpcy5kcm9wQXJlYS5zaG93KCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgdG9nZ2xlRHJhZ292ZXJFZmZlY3QodmFsdWU6IGJvb2xlYW4sIGRyYWdnaW5nSXRlbTogTGF5b3V0SXRlbUNvbnN0cnVjdG9yUHJvcHMpIHtcbiAgICBpZiAodmFsdWUpIHtcbiAgICAgIHRoaXMucmVmZXJlbmNlSWQgPSBudWxsO1xuICAgICAgdGhpcy5jb2xsZWN0Qm91bmRzKGRyYWdnaW5nSXRlbS5sYXlvdXRJbmZvIHx8ICh7fSBhcyBMYXlvdXRJbmZvKSk7XG4gICAgfVxuICAgIGlmICh0aGlzLmRyb3BBcmVhKSB7XG4gICAgICB0aGlzLmRyb3BBcmVhLmhpZGUoKTtcbiAgICB9XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBpc0RyYWdvdmVyOiB2YWx1ZSxcbiAgICB9KTtcbiAgfVxuXG4gIG9uRHJhZ0VudGVyKGRyYWdnaW5nSXRlbTogTGF5b3V0SXRlbUNvbnN0cnVjdG9yUHJvcHMpIHt9XG5cbiAgb25EcmFnTGVhdmUoKSB7fVxuXG4gIG9uRHJvcChkcmFnZ2luZ0l0ZW06IExheW91dEl0ZW1Db25zdHJ1Y3RvclByb3BzLCBjb250YWluZXJSZWN0OiBDbGllbnRSZWN0LCBpdGVtUmVjdDogQ2xpZW50UmVjdCkge1xuICAgIGlmICh0aGlzLmRyb3BBcmVhKSB7XG4gICAgICB0aGlzLmRyb3BBcmVhLmhpZGUoKTtcbiAgICB9XG4gICAgY29uc3QgeyBsYXlvdXQgfSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3QgZHJhZ2dpbmdMYXlvdXRJbmZvID0gZHJhZ2dpbmdJdGVtLmxheW91dEluZm8gfHwgKHt9IGFzIExheW91dEluZm8pO1xuICAgIGNvbnN0IGFwcENvbmZpZ0FjdGlvbiA9IGdldEFwcENvbmZpZ0FjdGlvbigpO1xuICAgIGxldCBpbnNlcnRJbmRleCA9IDA7XG4gICAgaWYgKHRoaXMucmVmZXJlbmNlSWQpIHtcbiAgICAgIGluc2VydEluZGV4ID0gbGF5b3V0Lm9yZGVyLmluZGV4T2YodGhpcy5yZWZlcmVuY2VJZCk7XG4gICAgfSBlbHNlIGlmIChsYXlvdXQub3JkZXIpIHtcbiAgICAgIGluc2VydEluZGV4ID0gbGF5b3V0Lm9yZGVyLmxlbmd0aDtcbiAgICB9XG5cbiAgICB0aGlzLnJlZmVyZW5jZUlkID0gbnVsbDtcbiAgICB0aGlzLmNoaWxkUmVjdHMgPSBbXTtcblxuICAgIC8vIG1vdmUgaW4gdGhlIHNhbWUgbGF5b3V0IG9yIGFkZCBhIG5ldyByb3cgd2lkZ2V0XG4gICAgaWYgKGRyYWdnaW5nTGF5b3V0SW5mby5sYXlvdXRJZCA9PT0gbGF5b3V0LmlkKSB7XG4gICAgICBpZiAobGF5b3V0LmNvbnRlbnRbZHJhZ2dpbmdMYXlvdXRJbmZvLmxheW91dEl0ZW1JZF0uc2V0dGluZz8uaXNGbG9hdGluZykge1xuICAgICAgICBjb25zdCBhcHBDb25maWdBY3Rpb24gPSBnZXRBcHBDb25maWdBY3Rpb24oKTtcbiAgICAgICAgYXBwQ29uZmlnQWN0aW9uLmVkaXRMYXlvdXRJdGVtQkJveChkcmFnZ2luZ0xheW91dEluZm8sIHtcbiAgICAgICAgICBsZWZ0OiBpdGVtUmVjdC5sZWZ0LFxuICAgICAgICAgIHRvcDogaXRlbVJlY3QudG9wLFxuICAgICAgICAgIGJvdHRvbTogY29udGFpbmVyUmVjdC5oZWlnaHQgLSAoaXRlbVJlY3QudG9wICsgaXRlbVJlY3Qud2lkdGgpLFxuICAgICAgICAgIHdpZHRoOiBpdGVtUmVjdC53aWR0aCxcbiAgICAgICAgICBoZWlnaHQ6IGl0ZW1SZWN0LmhlaWdodFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGdldEFwcFN0b3JlKCkuZGlzcGF0Y2goYXBwQWN0aW9ucy5sYXlvdXRDaGFuZ2VkKGFwcENvbmZpZ0FjdGlvbi5hcHBDb25maWcsIHsgLi4uZHJhZ2dpbmdMYXlvdXRJbmZvLCBhdXRvU2Nyb2xsOiBmYWxzZSB9KSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYWRkSXRlbVRvTGF5b3V0KFxuICAgICAgICBhcHBDb25maWdBY3Rpb24uYXBwQ29uZmlnLFxuICAgICAgICBkcmFnZ2luZ0l0ZW0sXG4gICAgICAgIHtcbiAgICAgICAgICBsYXlvdXRJZDogbGF5b3V0LmlkLFxuICAgICAgICB9LFxuICAgICAgICBjb250YWluZXJSZWN0LFxuICAgICAgICBpdGVtUmVjdCxcbiAgICAgICAgaW5zZXJ0SW5kZXhcbiAgICAgICkudGhlbihyZXN1bHQgPT4ge1xuICAgICAgICBjb25zdCB7IGxheW91dEluZm8sIHVwZGF0ZWRBcHBDb25maWcgfSA9IHJlc3VsdDtcbiAgICAgICAgZ2V0QXBwU3RvcmUoKS5kaXNwYXRjaChhcHBBY3Rpb25zLmxheW91dENoYW5nZWQodXBkYXRlZEFwcENvbmZpZywgeyAuLi5sYXlvdXRJbmZvLCBhdXRvU2Nyb2xsOiB0cnVlIH0pKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIENyZWF0ZSBhIHJvdyB3aWRnZXQsIHRoZW4gYWRkIHRoZSBkcmFnZ2luZyBpdGVtXG4gICAgY29uc3QgdG90YWxDb2xzID0gMTI7XG4gICAgY29uc3Qgcm93V2lkdGggPSB0aGlzLm1heFBhZ2VXaWR0aCA+IDAgPyBNYXRoLm1pbih0aGlzLm1heFBhZ2VXaWR0aCwgY29udGFpbmVyUmVjdC53aWR0aCkgOiBjb250YWluZXJSZWN0LndpZHRoO1xuICAgIGNvbnN0IGNvbFdpZHRoID0gcm93V2lkdGggLyB0b3RhbENvbHM7XG4gICAgY29uc3Qgc3BhbiA9IE1hdGgubWluKE1hdGgucm91bmQoaXRlbVJlY3Qud2lkdGggLyBjb2xXaWR0aCksIHRvdGFsQ29scyk7XG5cbiAgICB0aGlzLmFkZFdpZGdldFRvTGF5b3V0KGRyYWdnaW5nSXRlbSwgY29udGFpbmVyUmVjdCwgaXRlbVJlY3QsIHNwYW4sIGluc2VydEluZGV4KTtcbiAgfVxuXG4gIGFkZFdpZGdldFRvTGF5b3V0KFxuICAgIGRyYWdnaW5nSXRlbTogTGF5b3V0SXRlbUNvbnN0cnVjdG9yUHJvcHMsXG4gICAgY29udGFpbmVyUmVjdDogQ2xpZW50UmVjdCxcbiAgICBpdGVtUmVjdDogQ2xpZW50UmVjdCxcbiAgICB3aWR0aDogbnVtYmVyLFxuICAgIGluc2VydEluZGV4OiBudW1iZXIsXG4gICAgYXBwQ29uZmlnPzogSU1BcHBDb25maWcsXG4gICkge1xuICAgIGFkZEJsb2NrVG9GbG93TGF5b3V0KFxuICAgICAgZHJhZ2dpbmdJdGVtLFxuICAgICAge1xuICAgICAgICBsYXlvdXRJZDogdGhpcy5wcm9wcy5sYXlvdXQuaWQsXG4gICAgICB9LFxuICAgICAgY29udGFpbmVyUmVjdCxcbiAgICAgIGl0ZW1SZWN0LFxuICAgICAgd2lkdGgsXG4gICAgICBpbnNlcnRJbmRleCxcbiAgICAgIGFwcENvbmZpZ1xuICAgICk7XG4gIH1cblxuICBvbkRyb3BBdEJvdW5kYXJ5ID0gKGRyYWdnaW5nSXRlbTogTGF5b3V0SXRlbUNvbnN0cnVjdG9yUHJvcHMsIGl0ZW1SZWN0OiBDbGllbnRSZWN0LCBpbnNlcnRJbmRleDogbnVtYmVyKSA9PiB7XG4gICAgaWYgKGluc2VydEluZGV4IDwgdGhpcy5wcm9wcy5sYXlvdXQub3JkZXIubGVuZ3RoKSB7XG4gICAgICB0aGlzLnJlZmVyZW5jZUlkID0gdGhpcy5wcm9wcy5sYXlvdXQub3JkZXJbaW5zZXJ0SW5kZXhdO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnJlZmVyZW5jZUlkID0gbnVsbDtcbiAgICB9XG4gICAgaWYgKCF0aGlzLmRvbVJlY3QpIHtcbiAgICAgIHRoaXMuZG9tUmVjdCA9IHRoaXMucmVmLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIH1cbiAgICB0aGlzLm9uRHJvcChkcmFnZ2luZ0l0ZW0sIHRoaXMuZG9tUmVjdCwgaXRlbVJlY3QpO1xuICB9O1xuXG4gIGNvbGxlY3RCb3VuZHMobGF5b3V0SW5mbzogTGF5b3V0SW5mbykge1xuICAgIGNvbnN0IHsgbGF5b3V0IH0gPSB0aGlzLnByb3BzO1xuICAgIHRoaXMuY2hpbGRSZWN0cyA9IFtdO1xuICAgIHRoaXMuZG9tUmVjdCA9IHRoaXMucmVmLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGNvbnN0IGRyYWdnYWJsZUNoaWxkcmVuID0gdGhpcy5yZWYucGFyZW50Tm9kZS5xdWVyeVNlbGVjdG9yQWxsKGBkaXZbZGF0YS1sYXlvdXRpZD1cIiR7bGF5b3V0LmlkfVwiXSA+IGRpdi5leGItcm5kYCk7XG4gICAgaWYgKGRyYWdnYWJsZUNoaWxkcmVuICYmIGRyYWdnYWJsZUNoaWxkcmVuLmxlbmd0aCA+IDApIHtcbiAgICAgIGRyYWdnYWJsZUNoaWxkcmVuLmZvckVhY2gobm9kZSA9PiB7XG4gICAgICAgIGNvbnN0IGl0ZW1JZCA9IG5vZGUuZ2V0QXR0cmlidXRlKCdkYXRhLWxheW91dGl0ZW1pZCcpO1xuICAgICAgICBpZiAoXG4gICAgICAgICAgKGxheW91dEluZm8ubGF5b3V0SWQgIT09IGxheW91dC5pZCB8fCBsYXlvdXRJbmZvLmxheW91dEl0ZW1JZCAhPT0gaXRlbUlkKSAmJlxuICAgICAgICAgIGxheW91dC5vcmRlciAmJlxuICAgICAgICAgIGxheW91dC5vcmRlci5pbmRleE9mKGl0ZW1JZCkgPj0gMFxuICAgICAgICApIHtcbiAgICAgICAgICBjb25zdCByZWN0ID0gdXRpbHMucmVsYXRpdmVDbGllbnRSZWN0KG5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksIHRoaXMuZG9tUmVjdCk7XG4gICAgICAgICAgcmVjdC5pZCA9IGl0ZW1JZDtcbiAgICAgICAgICB0aGlzLmNoaWxkUmVjdHMucHVzaChyZWN0KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmNoaWxkUmVjdHMuc29ydCgoYSwgYikgPT4gYS50b3AgLSBiLnRvcCk7XG4gIH1cblxuICBjcmVhdGVJdGVtKFxuICAgIGl0ZW06IElNTGF5b3V0SXRlbUpzb24sXG4gICAgdG90YWw6IG51bWJlcixcbiAgICBpbmRleDogbnVtYmVyLFxuICAgIGxheW91dFNldHRpbmc6IEZsb3dMYXlvdXRTZXR0aW5nXG4gICkge1xuICAgIGNvbnN0IHsgbGF5b3V0cywgbGF5b3V0LCBpdGVtRHJhZ2dhYmxlLCBpdGVtU2VsZWN0YWJsZSB9ID0gdGhpcy5wcm9wcztcbiAgICAvLyBjb25zdCB7IG9mZnNldFgsIG9mZnNldFksIHJuZEl0ZW1JZCB9ID0gdGhpcy5zdGF0ZTtcblxuICAgIC8vIGNvbnN0IGRlbHRhWCA9IGl0ZW1JZCA9PT0gcm5kSXRlbUlkID8gb2Zmc2V0WCA6IDA7XG4gICAgLy8gY29uc3QgZGVsdGFZID0gaXRlbUlkID09PSBybmRJdGVtSWQgPyBvZmZzZXRZIDogMDtcbiAgICBpZiAoaXRlbS50eXBlID09PSBMYXlvdXRJdGVtVHlwZS5TY3JlZW5Hcm91cCkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPFNjcmVlbkdyb3VwXG4gICAgICAgICAga2V5PXtgJHtpdGVtLmlkfV8ke2luZGV4fWB9XG4gICAgICAgICAgaXRlbUluZGV4PXtpbmRleH1cbiAgICAgICAgICBsYXlvdXRJZD17bGF5b3V0LmlkfVxuICAgICAgICAgIGxheW91dEl0ZW1JZD17aXRlbS5pZH1cbiAgICAgICAgICBsYXlvdXRJdGVtPXtpdGVtfVxuICAgICAgICAgIHRoZW1lPXt0aGlzLnBhZ2VDb250ZXh0LmJ1aWxkZXJUaGVtZX1cbiAgICAgICAgICBmb3JtYXRNZXNzYWdlPXt0aGlzLnBhZ2VDb250ZXh0LmZvcm1hdE1lc3NhZ2V9XG4gICAgICAgIC8+XG4gICAgICApO1xuICAgIH1cbiAgICBpZiAoaXRlbS5zZXR0aW5nPy5pc0Zsb2F0aW5nKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8RmxvYXRpbmdMYXlvdXRJdGVtXG4gICAgICAgICAga2V5PXtgJHtpdGVtLmlkfV8ke2luZGV4fWB9XG4gICAgICAgICAgaW5kZXg9e2luZGV4fVxuICAgICAgICAgIHRvdGFsPXt0b3RhbH1cbiAgICAgICAgICBidWlsZGVyVGhlbWU9e3RoaXMuYnVpbGRlclRoZW1lfVxuICAgICAgICAgIGxheW91dHM9e2xheW91dHN9XG4gICAgICAgICAgbGF5b3V0SWQ9e2xheW91dC5pZH1cbiAgICAgICAgICBsYXlvdXRJdGVtSWQ9e2l0ZW0uaWR9XG4gICAgICAgICAgbGF5b3V0SXRlbT17aXRlbX1cbiAgICAgICAgICBndXR0ZXI9e2xheW91dFNldHRpbmcuZ3V0dGVyfVxuICAgICAgICAgIGRyYWdnYWJsZT17aXRlbURyYWdnYWJsZX1cbiAgICAgICAgICBzZWxlY3RhYmxlPXtpdGVtU2VsZWN0YWJsZX1cbiAgICAgICAgICBvbkRyb3BBdEJvdW5kYXJ5PXt0aGlzLm9uRHJvcEF0Qm91bmRhcnl9XG4gICAgICAgICAgZm9ybWF0TWVzc2FnZT17dGhpcy5wYWdlQ29udGV4dC5mb3JtYXRNZXNzYWdlfVxuICAgICAgICAvPlxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIChcbiAgICAgIDxGbG93TGF5b3V0SXRlbVxuICAgICAgICBrZXk9e2Ake2l0ZW0uaWR9XyR7aW5kZXh9YH1cbiAgICAgICAgaW5kZXg9e2luZGV4fVxuICAgICAgICB0b3RhbD17dG90YWx9XG4gICAgICAgIGJ1aWxkZXJUaGVtZT17dGhpcy5idWlsZGVyVGhlbWV9XG4gICAgICAgIGxheW91dHM9e2xheW91dHN9XG4gICAgICAgIGxheW91dElkPXtsYXlvdXQuaWR9XG4gICAgICAgIGxheW91dEl0ZW1JZD17aXRlbS5pZH1cbiAgICAgICAgbGF5b3V0SXRlbT17aXRlbX1cbiAgICAgICAgZ3V0dGVyPXtsYXlvdXRTZXR0aW5nLmd1dHRlcn1cbiAgICAgICAgZHJhZ2dhYmxlPXtpdGVtRHJhZ2dhYmxlfVxuICAgICAgICBzZWxlY3RhYmxlPXtpdGVtU2VsZWN0YWJsZX1cbiAgICAgICAgb25Ecm9wQXRCb3VuZGFyeT17dGhpcy5vbkRyb3BBdEJvdW5kYXJ5fVxuICAgICAgICBmb3JtYXRNZXNzYWdlPXt0aGlzLnBhZ2VDb250ZXh0LmZvcm1hdE1lc3NhZ2V9XG4gICAgICAvPlxuICAgICk7XG4gIH1cblxuICBvbldpZGdldEl0ZW1TZWxlY3RlZCA9IChpdGVtOiBMYXlvdXRJdGVtQ29uc3RydWN0b3JQcm9wcykgPT4ge1xuICAgIGNvbnN0IHJlY3QgPSB0aGlzLnJlZi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBjb25zdCBpdGVtUmVjdCA9IHtcbiAgICAgIGhlaWdodDogaXRlbS5tYW5pZmVzdD8uZGVmYXVsdFNpemU/LmhlaWdodCA/PyAzMDAsXG4gICAgfTtcbiAgICB0aGlzLmFkZFdpZGdldFRvTGF5b3V0KGl0ZW0sIHJlY3QsIGl0ZW1SZWN0IGFzIENsaWVudFJlY3QsIDQsIDApO1xuICB9O1xuXG4gIG9uQmxvY2tUZW1wbGF0ZVNlbGVjdGVkID0gdGVtcGxhdGUgPT4ge1xuICAgIGFkZFRlbXBsYXRlUm93KHRoaXMucHJvcHMubGF5b3V0LmlkLCAnJywgdGVtcGxhdGUgYXMgYW55KTtcbiAgfTtcblxuICBvblNjcmVlblRlbXBsYXRlU2VsZWN0ZWQgPSB0ZW1wbGF0ZSA9PiB7XG4gICAgYWRkVGVtcGxhdGVTY3JlZW5Hcm91cCh0aGlzLnByb3BzLmxheW91dC5pZCwgJycsIHRlbXBsYXRlIGFzIGFueSk7XG4gIH1cblxuICBvblBhZ2VUZW1wbGF0ZVNlbGVjdGVkID0gdGVtcGxhdGVQYWdlSnNvbiA9PiB7XG4gICAgY29uc3QgaW5pdEFwcENvbmZpZyA9IGdldEFwcENvbmZpZ0FjdGlvbigpLmFwcENvbmZpZztcblxuICAgIHRoaXMuc2V0U3RhdGUoeyBpc0xvYWRpbmdUZW1wbGF0ZTogdHJ1ZSB9KTtcbiAgICBpZiAodGhpcy5wYWdlQ29udGV4dC5pc0hlYWRlcikge1xuICAgICAgdGVtcGxhdGVVdGlscy5hcHBseVBhZ2VUZW1wbGF0ZVRvSGVhZGVyKGluaXRBcHBDb25maWcsIHRlbXBsYXRlUGFnZUpzb24pLnRoZW4oKHsgYXBwQ29uZmlnIH0pID0+IHtcbiAgICAgICAgZ2V0QXBwQ29uZmlnQWN0aW9uKGFwcENvbmZpZykuZXhlYygpO1xuICAgICAgICBsb2Rhc2guZGVmZXIoKCkgPT4ge1xuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBpc0xvYWRpbmdUZW1wbGF0ZTogZmFsc2UgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmICh0aGlzLnBhZ2VDb250ZXh0LmlzRm9vdGVyKSB7XG4gICAgICB0ZW1wbGF0ZVV0aWxzLmFwcGx5UGFnZVRlbXBsYXRlVG9Gb290ZXIoaW5pdEFwcENvbmZpZywgdGVtcGxhdGVQYWdlSnNvbikudGhlbigoeyBhcHBDb25maWcgfSkgPT4ge1xuICAgICAgICBnZXRBcHBDb25maWdBY3Rpb24oYXBwQ29uZmlnKS5leGVjKCk7XG4gICAgICAgIGxvZGFzaC5kZWZlcigoKSA9PiB7XG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGlzTG9hZGluZ1RlbXBsYXRlOiBmYWxzZSB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGVtcGxhdGVVdGlsc1xuICAgICAgICAuYXBwbHlQYWdlVGVtcGxhdGVUb0JvZHkoaW5pdEFwcENvbmZpZywgdGhpcy5wYWdlQ29udGV4dC5wYWdlSWQsIHRlbXBsYXRlUGFnZUpzb24pXG4gICAgICAgIC50aGVuKCh7IGFwcENvbmZpZyB9KSA9PiB7XG4gICAgICAgICAgZ2V0QXBwQ29uZmlnQWN0aW9uKGFwcENvbmZpZykuZXhlYygpO1xuICAgICAgICAgIGxvZGFzaC5kZWZlcigoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgaXNMb2FkaW5nVGVtcGxhdGU6IGZhbHNlIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgZ2V0QWN0aW9uU3R5bGUoKSB7XG4gICAgcmV0dXJuIGNzc2BcbiAgICAgIGhlaWdodDogMjAwcHg7XG4gICAgICBwYWRkaW5nOiAxcmVtO1xuICAgICAgcG9pbnRlci1ldmVudHM6IG5vbmU7XG4gICAgICB6LWluZGV4OiAxO1xuICAgICAgLmJ0bi10ZXh0IHtcbiAgICAgICAgbGluZS1oZWlnaHQ6IDMycHg7XG4gICAgICB9XG4gICAgICAuYnRuIHtcbiAgICAgICAgbWFyZ2luLXJpZ2h0OiAycmVtO1xuICAgICAgICBiYWNrZ3JvdW5kOiAke3RoaXMuYnVpbGRlclRoZW1lLmNvbG9ycy5wYWxldHRlLmxpZ2h0WzYwMF19O1xuICAgICAgICAmOmhvdmVyIHtcbiAgICAgICAgICBiYWNrZ3JvdW5kOiAke3RoaXMuYnVpbGRlclRoZW1lLmNvbG9ycy5wYWxldHRlLmxpZ2h0WzgwMF19O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAuYWN0aW9uLWl0ZW0ge1xuICAgICAgICB3aWR0aDogMzJweDtcbiAgICAgIH1cblxuICAgICAgLmFjdGlvbi1zZXByYXRvciB7XG4gICAgICAgIC5zZXAge1xuICAgICAgICAgIHdpZHRoOiA2NXB4O1xuICAgICAgICAgIGhlaWdodDogMXB4O1xuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICR7dGhpcy5idWlsZGVyVGhlbWUuY29sb3JzLnBhbGV0dGUuZGFya1s4MDBdfTtcbiAgICAgICAgfVxuICAgICAgICAuYnRuLXRleHQge1xuICAgICAgICAgIG1hcmdpbjogMCAxM3B4O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgYDtcbiAgfVxuXG4gIGdldFN0eWxlKCkge1xuICAgIHJldHVybiBjc3NgXG4gICAgICAuZmxvdy1sYXlvdXQtaXRlbSB7XG4gICAgICAgIHotaW5kZXg6IDA7XG5cbiAgICAgICAgJjpob3ZlciwgJi5zZWxlY3RlZCB7XG4gICAgICAgICAgei1pbmRleDogMTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIGA7XG4gIH1cblxuICBjcmVhdGVBY3Rpb25zKGJsb2NrT25seTogYm9vbGVhbikge1xuICAgIGNvbnN0IHsgdmlld09ubHksIGxvY2tMYXlvdXQsIGlzRGVzaWduTW9kZSwgcm9vdExheW91dElkIH0gPSB0aGlzLnBhZ2VDb250ZXh0O1xuICAgIGNvbnN0IHsgbGF5b3V0IH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IGlzUGFnZUJvZHkgPSAhdGhpcy5wYWdlQ29udGV4dC5pc0hlYWRlciAmJiAhdGhpcy5wYWdlQ29udGV4dC5pc0Zvb3RlcjtcblxuICAgIGlmIChcbiAgICAgIHRoaXMuc3RhdGUuaXNMb2FkaW5nVGVtcGxhdGUgfHxcbiAgICAgICFpc1BhZ2VCb2R5IHx8XG4gICAgICB2aWV3T25seSB8fFxuICAgICAgbG9ja0xheW91dCB8fFxuICAgICAgIWlzRGVzaWduTW9kZSB8fFxuICAgICAgbGF5b3V0LmlkICE9PSByb290TGF5b3V0SWRcbiAgICApIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiA8QWN0aW9uQmxvY2sgcGFnZUNvbnRleHQ9e3RoaXMucGFnZUNvbnRleHR9IGJsb2NrT25seT17YmxvY2tPbmx5fVxuICAgICAgb25QYWdlVGVtcGxhdGVTZWxlY3RlZD17dGhpcy5vblBhZ2VUZW1wbGF0ZVNlbGVjdGVkfVxuICAgICAgb25CbG9ja1RlbXBsYXRlU2VsZWN0ZWQ9e3RoaXMub25CbG9ja1RlbXBsYXRlU2VsZWN0ZWR9XG4gICAgICBvblNjcmVlblRlbXBsYXRlU2VsZWN0ZWQ9e3RoaXMub25TY3JlZW5UZW1wbGF0ZVNlbGVjdGVkfVxuICAgID48L0FjdGlvbkJsb2NrPjtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IGxheW91dCwgY2xhc3NOYW1lLCBpc1BhZ2VJdGVtLCBsYXlvdXRzIH0gPSB0aGlzLnByb3BzO1xuICAgIGlmICghbGF5b3V0KSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29uc3Qgb3V0Q2xhc3MgPSBjbGFzc05hbWVzKCdsYXlvdXQgZmxvdy1sYXlvdXQgdy0xMDAnLCBjbGFzc05hbWUpO1xuICAgIGNvbnN0IGd1aWRlVmlzaWJsZVN0eWxlID0ge1xuICAgICAgZGlzcGxheTogdGhpcy5zdGF0ZS5pc0RyYWdvdmVyID8gJ2Jsb2NrJyA6ICdub25lJyxcbiAgICB9O1xuICAgIHJldHVybiAoXG4gICAgICA8UGFnZUNvbnRleHQuQ29uc3VtZXI+XG4gICAgICAgIHsocHJvcHM6IFBhZ2VDb250ZXh0UHJvcHMpID0+IHtcbiAgICAgICAgICB0aGlzLmJ1aWxkZXJUaGVtZSA9IHByb3BzLmJ1aWxkZXJUaGVtZTtcbiAgICAgICAgICB0aGlzLm1heFBhZ2VXaWR0aCA9IHByb3BzLm1heFdpZHRoO1xuICAgICAgICAgIHRoaXMucGFnZUNvbnRleHQgPSBwcm9wcztcbiAgICAgICAgICBsZXQgdGFyZ2V0TGF5b3V0ID0gbGF5b3V0O1xuICAgICAgICAgIGNvbnN0IHZpZXdPbmx5ID0gbGF5b3V0c1twcm9wcy5icm93c2VyU2l6ZU1vZGVdICE9PSBsYXlvdXQuaWQ7XG4gICAgICAgICAgaWYgKHZpZXdPbmx5ICYmIHRoaXMubGF5b3V0VHJhbnNmb3JtKSB7XG4gICAgICAgICAgICB0YXJnZXRMYXlvdXQgPSB0aGlzLmxheW91dFRyYW5zZm9ybShsYXlvdXQsIHByb3BzLm1haW5TaXplTW9kZSwgcHJvcHMuYnJvd3NlclNpemVNb2RlKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb25zdCBjb250ZW50ID0gdGFyZ2V0TGF5b3V0Lm9yZGVyIHx8IFtdO1xuICAgICAgICAgIGNvbnN0IGxheW91dFNldHRpbmcgPSBsb2Rhc2guYXNzaWduKHt9LCBERUZBVUxUX0ZMT1dfU0VUVElORywgdGFyZ2V0TGF5b3V0LnNldHRpbmcpO1xuXG4gICAgICAgICAgY29uc3QgbWVyZ2VkU3R5bGU6IGFueSA9IHtcbiAgICAgICAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuICAgICAgICAgICAgLi4uc3R5bGVVdGlscy50b0NTU1N0eWxlKGxheW91dFNldHRpbmcuc3R5bGUgYXMgYW55KSxcbiAgICAgICAgICB9O1xuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT17b3V0Q2xhc3N9XG4gICAgICAgICAgICAgIHJlZj17ZWwgPT4gKHRoaXMucmVmID0gZWwpfVxuICAgICAgICAgICAgICBjc3M9e3RoaXMuZ2V0U3R5bGUoKX1cbiAgICAgICAgICAgICAgc3R5bGU9e21lcmdlZFN0eWxlfVxuICAgICAgICAgICAgICBkYXRhLWxheW91dGlkPXtsYXlvdXQuaWR9XG4gICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuYWN0aXZhdGV9XG4gICAgICAgICAgICAgIG9uTW91c2VEb3duPXt0aGlzLm9uTW91c2VEb3dufVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8T25lQnlPbmVBbmltYXRpb25cbiAgICAgICAgICAgICAgICBkYXRhLWxheW91dGlkPXt0YXJnZXRMYXlvdXQuaWR9XG4gICAgICAgICAgICAgICAgZW5hYmxlU2Nyb2xsPXt0cnVlfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRyYWlsLWNvbnRhaW5lciBkLWZsZXggZmxleC1jb2x1bW4gYWxpZ24taXRlbXMtY2VudGVyXCJcbiAgICAgICAgICAgICAgICBjc3M9e2Nzc2BcbiAgICAgICAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICAgICAgICAgIGB9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7IXByb3BzLnZpZXdPbmx5ICYmIChcbiAgICAgICAgICAgICAgICAgIDxEcm9wQXJlYVxuICAgICAgICAgICAgICAgICAgICBjc3M9e2Ryb3BhcmVhU3R5bGV9XG4gICAgICAgICAgICAgICAgICAgIGxheW91dHM9e3RoaXMucHJvcHMubGF5b3V0c31cbiAgICAgICAgICAgICAgICAgICAgaXNSZXBlYXQ9e3RoaXMucHJvcHMuaXNSZXBlYXR9XG4gICAgICAgICAgICAgICAgICAgIGhpZ2hsaWdodERyYWdvdmVyPXshaXNQYWdlSXRlbX1cbiAgICAgICAgICAgICAgICAgICAgb25EcmFnRW50ZXI9e3RoaXMub25EcmFnRW50ZXJ9XG4gICAgICAgICAgICAgICAgICAgIG9uRHJhZ0xlYXZlPXt0aGlzLm9uRHJhZ0xlYXZlfVxuICAgICAgICAgICAgICAgICAgICBvbkRyYWdPdmVyPXt0aGlzLm9uRHJhZ092ZXJ9XG4gICAgICAgICAgICAgICAgICAgIG9uRHJvcD17dGhpcy5vbkRyb3B9XG4gICAgICAgICAgICAgICAgICAgIG9uVG9nZ2xlRHJhZ292ZXJFZmZlY3Q9e3RoaXMudG9nZ2xlRHJhZ292ZXJFZmZlY3R9PjwvRHJvcEFyZWE+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICB7Y29udGVudC5sZW5ndGggPiAwICYmXG4gICAgICAgICAgICAgICAgICAoY29udGVudCBhcyBhbnkpLm1hcCgobGF5b3V0SXRlbUlkLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGVJdGVtKFxuICAgICAgICAgICAgICAgICAgICAgIHRhcmdldExheW91dC5jb250ZW50W2xheW91dEl0ZW1JZF0sXG4gICAgICAgICAgICAgICAgICAgICAgY29udGVudC5sZW5ndGgsXG4gICAgICAgICAgICAgICAgICAgICAgaW5kZXgsXG4gICAgICAgICAgICAgICAgICAgICAgbGF5b3V0U2V0dGluZ1xuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIDwvT25lQnlPbmVBbmltYXRpb24+XG5cbiAgICAgICAgICAgICAgeyF0aGlzLnN0YXRlLmlzTG9hZGluZ1RlbXBsYXRlICYmXG4gICAgICAgICAgICAgICAgIXByb3BzLnZpZXdPbmx5ICYmXG4gICAgICAgICAgICAgICAgY29udGVudC5sZW5ndGggPT09IDAgJiZcbiAgICAgICAgICAgICAgICBsYXlvdXQuaWQgPT09IHByb3BzLnJvb3RMYXlvdXRJZCAmJlxuICAgICAgICAgICAgICAgIHRoaXMuY3JlYXRlQWN0aW9ucyhmYWxzZSl9XG4gICAgICAgICAgICAgIHtjb250ZW50Lmxlbmd0aCA+IDAgJiYgdGhpcy5jcmVhdGVBY3Rpb25zKHRydWUpfVxuICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS5pc0xvYWRpbmdUZW1wbGF0ZSAmJiA8TG9hZGluZyAvPn1cbiAgICAgICAgICAgICAgPGRpdiBjc3M9e2d1aWRlT3ZlcmxheX0gc3R5bGU9e2d1aWRlVmlzaWJsZVN0eWxlfSByZWY9e2VsID0+ICh0aGlzLmd1aWRlRHJhZ092ZXJSZWYgPSBlbCl9IC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApO1xuICAgICAgICB9fVxuICAgICAgPC9QYWdlQ29udGV4dC5Db25zdW1lcj5cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFJlYWN0UmVkdXguY29ubmVjdDxTdGF0ZVRvTGF5b3V0UHJvcHMsIHVua25vd24sIExheW91dFByb3BzPih1dGlscy5tYXBTdGF0ZVRvTGF5b3V0UHJvcHMpKExheW91dCk7XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFxQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFTQTtBQVdBO0FBQUE7QUE4QkE7O0FBQUE7QUFYQTtBQUNBO0FBQ0E7QUFDQTtBQTZCQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQXlLQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFzRkE7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBMVZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBRUE7QUFDQTtBQUNBO0FBc0JBOztBQVFBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFNQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUVBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBUUE7QUFHQTtBQUNBO0FBT0E7QUFjQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBTUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBV0E7QUFDQTtBQUNBO0FBaUJBO0FBQ0E7QUFpQkE7QUFnREE7QUFDQTtBQThCQTtBQUVBO0FBQ0E7QUFTQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBS0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUlBO0FBVUE7QUFRQTtBQVlBO0FBQ0E7QUFDQTtBQU1BO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBR0E7QUFDQTtBQUFBO0FBRUE7OyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./jimu-layouts/lib/flow-layout/builder/layout.tsx\n");

/***/ }),

/***/ "./jimu-layouts/lib/flow-layout/builder/screen-group-setting-popper.tsx":
/*!******************************************************************************!*\
  !*** ./jimu-layouts/lib/flow-layout/builder/screen-group-setting-popper.tsx ***!
  \******************************************************************************/
/*! exports provided: icons, TransitionPopperContent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"icons\", function() { return icons; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TransitionPopperContent\", function() { return TransitionPopperContent; });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jimu_core__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ \"jimu-ui\");\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jimu_ui__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-ui/advanced/setting-components */ \"jimu-ui/advanced/setting-components\");\n/* harmony import */ var jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_2__);\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __makeTemplateObject = (undefined && undefined.__makeTemplateObject) || function (cooked, raw) {\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n    return cooked;\n};\nvar _a;\n/** @jsx jsx */\n\n\n\nvar icons = (_a = {},\n    _a[jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"ScreenTransitionType\"].Push] = __webpack_require__(/*! jimu-ui/advanced/lib/assets/icon_animation_transition_push.svg */ \"./jimu-ui/advanced/lib/assets/icon_animation_transition_push.svg\"),\n    _a[jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"ScreenTransitionType\"].Fade] = __webpack_require__(/*! jimu-ui/advanced/lib/assets/icon_animation_transition_fade.svg */ \"./jimu-ui/advanced/lib/assets/icon_animation_transition_fade.svg\"),\n    _a[jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"ScreenTransitionType\"].Cover] = __webpack_require__(/*! jimu-ui/advanced/lib/assets/icon_animation_transition_push.svg */ \"./jimu-ui/advanced/lib/assets/icon_animation_transition_push.svg\"),\n    _a);\nvar TransitionPopperContent = /** @class */ (function (_super) {\n    __extends(TransitionPopperContent, _super);\n    function TransitionPopperContent() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.onTypeChanged = function (e, type, isPanel) {\n            if (isPanel) {\n                _this.props.onPanelTransitionTypeChange(type);\n            }\n            else {\n                _this.props.onTransitionTypeChange(type);\n            }\n        };\n        _this.updateFirstPanel = function (e) {\n            //e.target.checked;\n        };\n        return _this;\n    }\n    TransitionPopperContent.prototype.getStyle = function () {\n        return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n      .animation-cards {\\n        display: grid;\\n        grid-template-columns: 1fr 1fr;\\n        grid-row-gap: 12px;\\n        grid-column-gap: 12px;\\n      }\\n\\n      .card-item {\\n        font-size: 13px;\\n        flex: 0 0 45%;\\n\\n        user-select: none;\\n        cursor: pointer;\\n        position: relative;\\n\\n        .card-content {\\n          width: 100%;\\n          height: 5rem;\\n          background-color: var(--light-200);\\n        }\\n\\n        &.selected .card-content {\\n          outline: 2px solid var(--primary-700);\\n        }\\n\\n        .card-image {\\n          width: 100%;\\n          height: 100%;\\n          padding: 8px;\\n          &:after {\\n            display: none;\\n          }\\n        }\\n\\n        .card-name {\\n          max-width: 90px;\\n          margin: 0 auto;\\n          color: var(--dark-800);\\n          .card-name-content {\\n            line-height: 1rem;\\n            max-height: 2rem;\\n            white-space: normal;\\n          }\\n        }\\n      }\\n    \"], [\"\\n      .animation-cards {\\n        display: grid;\\n        grid-template-columns: 1fr 1fr;\\n        grid-row-gap: 12px;\\n        grid-column-gap: 12px;\\n      }\\n\\n      .card-item {\\n        font-size: 13px;\\n        flex: 0 0 45%;\\n\\n        user-select: none;\\n        cursor: pointer;\\n        position: relative;\\n\\n        .card-content {\\n          width: 100%;\\n          height: 5rem;\\n          background-color: var(--light-200);\\n        }\\n\\n        &.selected .card-content {\\n          outline: 2px solid var(--primary-700);\\n        }\\n\\n        .card-image {\\n          width: 100%;\\n          height: 100%;\\n          padding: 8px;\\n          &:after {\\n            display: none;\\n          }\\n        }\\n\\n        .card-name {\\n          max-width: 90px;\\n          margin: 0 auto;\\n          color: var(--dark-800);\\n          .card-name-content {\\n            line-height: 1rem;\\n            max-height: 2rem;\\n            white-space: normal;\\n          }\\n        }\\n      }\\n    \"])));\n    };\n    TransitionPopperContent.prototype.createAnimationCard = function (type, index, isPanel) {\n        var _this = this;\n        if (isPanel === void 0) { isPanel = false; }\n        var _a = this.props, transitionType = _a.transitionType, panelTransitionType = _a.panelTransitionType;\n        var effectType;\n        if (isPanel) {\n            effectType = panelTransitionType !== null && panelTransitionType !== void 0 ? panelTransitionType : jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"ScreenTransitionType\"].Push;\n        }\n        else {\n            effectType = transitionType !== null && transitionType !== void 0 ? transitionType : jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"ScreenTransitionType\"].Fade;\n        }\n        return (Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"classNames\"])('d-flex flex-column align-items-center card-item', {\n                selected: type === effectType,\n            }), key: index, onClick: function (e) { return _this.onTypeChanged(e, type, isPanel); } },\n            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"d-flex justify-content-center card-content\" },\n                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"card-image\" },\n                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"Icon\"], { className: \"w-100\", options: { currentColor: false }, icon: icons[type], size: 72 }))),\n            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"card-name flex-grow-1 d-flex align-items-start mt-1\" },\n                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"span\", { className: \"text-center text-truncate card-name-content\", title: this.props.formatMessage(type.toLowerCase()) }, this.props.formatMessage(type.toLowerCase())))));\n    };\n    TransitionPopperContent.prototype.render = function () {\n        var _this = this;\n        var formatMessage = this.props.formatMessage;\n        return (Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"bg-light-300 border-color-gray-400\", css: this.getStyle() },\n            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_2__[\"SettingSection\"], { title: formatMessage('mainStage') },\n                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"animation-cards\" }, [jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"ScreenTransitionType\"].Fade, jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"ScreenTransitionType\"].Cover, jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"ScreenTransitionType\"].Push]\n                    .map(function (info, index) { return _this.createAnimationCard(info, index); }))),\n            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_2__[\"SettingSection\"], { title: formatMessage('scrollingPanel') },\n                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"animation-cards\" }, [jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"ScreenTransitionType\"].Push, jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"ScreenTransitionType\"].Fade]\n                    .map(function (info, index) { return _this.createAnimationCard(info, index, true); }))),\n            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_2__[\"SettingSection\"], null,\n                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_2__[\"SettingRow\"], null,\n                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"Checkbox\"], { onChange: this.updateFirstPanel, className: \"mr-2\" }),\n                    formatMessage('applyToFirstPanel')))));\n    };\n    return TransitionPopperContent;\n}(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].PureComponent));\n\nvar templateObject_1;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWxheW91dHMvbGliL2Zsb3ctbGF5b3V0L2J1aWxkZXIvc2NyZWVuLWdyb3VwLXNldHRpbmctcG9wcGVyLnRzeC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2ppbXUtbGF5b3V0cy9saWIvZmxvdy1sYXlvdXQvYnVpbGRlci9zY3JlZW4tZ3JvdXAtc2V0dGluZy1wb3BwZXIudHN4P2EwMGYiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqIEBqc3gganN4ICovXG5pbXBvcnQge1xuICBSZWFjdCxcbiAganN4LFxuICBjc3MsXG4gIFNjcmVlblRyYW5zaXRpb25UeXBlLFxuICBjbGFzc05hbWVzXG59IGZyb20gJ2ppbXUtY29yZSc7XG5pbXBvcnQgeyBJY29uLCBDaGVja2JveCB9IGZyb20gJ2ppbXUtdWknO1xuaW1wb3J0IHsgU2V0dGluZ1NlY3Rpb24sIFNldHRpbmdSb3cgfSBmcm9tICdqaW11LXVpL2FkdmFuY2VkL3NldHRpbmctY29tcG9uZW50cyc7XG5cbmludGVyZmFjZSBPd25Qcm9wcyB7XG4gIHRyYW5zaXRpb25UeXBlOiBTY3JlZW5UcmFuc2l0aW9uVHlwZTtcbiAgcGFuZWxUcmFuc2l0aW9uVHlwZTogU2NyZWVuVHJhbnNpdGlvblR5cGU7XG4gIG9uVHJhbnNpdGlvblR5cGVDaGFuZ2U6ICh0eXBlOiBTY3JlZW5UcmFuc2l0aW9uVHlwZSkgPT4gdm9pZDtcbiAgb25QYW5lbFRyYW5zaXRpb25UeXBlQ2hhbmdlOiAodHlwZTogU2NyZWVuVHJhbnNpdGlvblR5cGUpID0+IHZvaWQ7XG4gIGZvcm1hdE1lc3NhZ2U6IChpZDogc3RyaW5nKSA9PiBzdHJpbmc7XG59XG5cbmV4cG9ydCBjb25zdCBpY29ucyA9IHtcbiAgW1NjcmVlblRyYW5zaXRpb25UeXBlLlB1c2hdOiByZXF1aXJlKCdqaW11LXVpL2FkdmFuY2VkL2xpYi9hc3NldHMvaWNvbl9hbmltYXRpb25fdHJhbnNpdGlvbl9wdXNoLnN2ZycpLFxuICBbU2NyZWVuVHJhbnNpdGlvblR5cGUuRmFkZV06IHJlcXVpcmUoJ2ppbXUtdWkvYWR2YW5jZWQvbGliL2Fzc2V0cy9pY29uX2FuaW1hdGlvbl90cmFuc2l0aW9uX2ZhZGUuc3ZnJyksXG4gIFtTY3JlZW5UcmFuc2l0aW9uVHlwZS5Db3Zlcl06IHJlcXVpcmUoJ2ppbXUtdWkvYWR2YW5jZWQvbGliL2Fzc2V0cy9pY29uX2FuaW1hdGlvbl90cmFuc2l0aW9uX3B1c2guc3ZnJyksXG59O1xuXG5leHBvcnQgY2xhc3MgVHJhbnNpdGlvblBvcHBlckNvbnRlbnQgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50PE93blByb3BzPiB7XG4gIGdldFN0eWxlKCkge1xuICAgIHJldHVybiBjc3NgXG4gICAgICAuYW5pbWF0aW9uLWNhcmRzIHtcbiAgICAgICAgZGlzcGxheTogZ3JpZDtcbiAgICAgICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnIgMWZyO1xuICAgICAgICBncmlkLXJvdy1nYXA6IDEycHg7XG4gICAgICAgIGdyaWQtY29sdW1uLWdhcDogMTJweDtcbiAgICAgIH1cblxuICAgICAgLmNhcmQtaXRlbSB7XG4gICAgICAgIGZvbnQtc2l6ZTogMTNweDtcbiAgICAgICAgZmxleDogMCAwIDQ1JTtcblxuICAgICAgICB1c2VyLXNlbGVjdDogbm9uZTtcbiAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG5cbiAgICAgICAgLmNhcmQtY29udGVudCB7XG4gICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgICAgaGVpZ2h0OiA1cmVtO1xuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWxpZ2h0LTIwMCk7XG4gICAgICAgIH1cblxuICAgICAgICAmLnNlbGVjdGVkIC5jYXJkLWNvbnRlbnQge1xuICAgICAgICAgIG91dGxpbmU6IDJweCBzb2xpZCB2YXIoLS1wcmltYXJ5LTcwMCk7XG4gICAgICAgIH1cblxuICAgICAgICAuY2FyZC1pbWFnZSB7XG4gICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgICAgaGVpZ2h0OiAxMDAlO1xuICAgICAgICAgIHBhZGRpbmc6IDhweDtcbiAgICAgICAgICAmOmFmdGVyIHtcbiAgICAgICAgICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLmNhcmQtbmFtZSB7XG4gICAgICAgICAgbWF4LXdpZHRoOiA5MHB4O1xuICAgICAgICAgIG1hcmdpbjogMCBhdXRvO1xuICAgICAgICAgIGNvbG9yOiB2YXIoLS1kYXJrLTgwMCk7XG4gICAgICAgICAgLmNhcmQtbmFtZS1jb250ZW50IHtcbiAgICAgICAgICAgIGxpbmUtaGVpZ2h0OiAxcmVtO1xuICAgICAgICAgICAgbWF4LWhlaWdodDogMnJlbTtcbiAgICAgICAgICAgIHdoaXRlLXNwYWNlOiBub3JtYWw7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgYDtcbiAgfVxuXG4gIG9uVHlwZUNoYW5nZWQgPSAoZSwgdHlwZTogU2NyZWVuVHJhbnNpdGlvblR5cGUsIGlzUGFuZWw6IGJvb2xlYW4pID0+IHtcbiAgICBpZiAoaXNQYW5lbCkge1xuICAgICAgdGhpcy5wcm9wcy5vblBhbmVsVHJhbnNpdGlvblR5cGVDaGFuZ2UodHlwZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucHJvcHMub25UcmFuc2l0aW9uVHlwZUNoYW5nZSh0eXBlKTtcbiAgICB9XG4gIH07XG5cbiAgdXBkYXRlRmlyc3RQYW5lbCA9IChlKSA9PiB7XG4gICAgLy9lLnRhcmdldC5jaGVja2VkO1xuICB9XG5cbiAgY3JlYXRlQW5pbWF0aW9uQ2FyZCh0eXBlOiBTY3JlZW5UcmFuc2l0aW9uVHlwZSwgaW5kZXg6IG51bWJlciwgaXNQYW5lbCA9IGZhbHNlKSB7XG4gICAgY29uc3QgeyB0cmFuc2l0aW9uVHlwZSwgcGFuZWxUcmFuc2l0aW9uVHlwZSB9ID0gdGhpcy5wcm9wcztcbiAgICBsZXQgZWZmZWN0VHlwZTtcbiAgICBpZiAoaXNQYW5lbCkge1xuICAgICAgZWZmZWN0VHlwZSA9IHBhbmVsVHJhbnNpdGlvblR5cGUgPz8gU2NyZWVuVHJhbnNpdGlvblR5cGUuUHVzaDtcbiAgICB9IGVsc2Uge1xuICAgICAgZWZmZWN0VHlwZSA9IHRyYW5zaXRpb25UeXBlID8/IFNjcmVlblRyYW5zaXRpb25UeXBlLkZhZGU7XG4gICAgfVxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2XG4gICAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lcygnZC1mbGV4IGZsZXgtY29sdW1uIGFsaWduLWl0ZW1zLWNlbnRlciBjYXJkLWl0ZW0nLCB7XG4gICAgICAgICAgc2VsZWN0ZWQ6IHR5cGUgPT09IGVmZmVjdFR5cGUsXG4gICAgICAgIH0pfVxuICAgICAgICBrZXk9e2luZGV4fVxuICAgICAgICBvbkNsaWNrPXsoZSkgPT4gdGhpcy5vblR5cGVDaGFuZ2VkKGUsIHR5cGUsIGlzUGFuZWwpfVxuICAgICAgPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImQtZmxleCBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyIGNhcmQtY29udGVudFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZC1pbWFnZVwiPlxuICAgICAgICAgICAgPEljb24gY2xhc3NOYW1lPVwidy0xMDBcIiBvcHRpb25zPXt7Y3VycmVudENvbG9yOiBmYWxzZX19IGljb249e2ljb25zW3R5cGVdfSBzaXplPXs3Mn0gLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZC1uYW1lIGZsZXgtZ3Jvdy0xIGQtZmxleCBhbGlnbi1pdGVtcy1zdGFydCBtdC0xXCI+XG4gICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHRleHQtdHJ1bmNhdGUgY2FyZC1uYW1lLWNvbnRlbnRcIlxuICAgICAgICAgICAgdGl0bGU9e3RoaXMucHJvcHMuZm9ybWF0TWVzc2FnZSh0eXBlLnRvTG93ZXJDYXNlKCkpfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIHt0aGlzLnByb3BzLmZvcm1hdE1lc3NhZ2UodHlwZS50b0xvd2VyQ2FzZSgpKX1cbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IGZvcm1hdE1lc3NhZ2UgfSA9IHRoaXMucHJvcHM7XG5cbiAgICByZXR1cm4gKDxkaXZcbiAgICAgIGNsYXNzTmFtZT1cImJnLWxpZ2h0LTMwMCBib3JkZXItY29sb3ItZ3JheS00MDBcIiBjc3M9e3RoaXMuZ2V0U3R5bGUoKX1cbiAgICA+XG4gICAgICA8U2V0dGluZ1NlY3Rpb24gdGl0bGU9e2Zvcm1hdE1lc3NhZ2UoJ21haW5TdGFnZScpfT5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhbmltYXRpb24tY2FyZHNcIj5cbiAgICAgICAgICB7W1NjcmVlblRyYW5zaXRpb25UeXBlLkZhZGUsIFNjcmVlblRyYW5zaXRpb25UeXBlLkNvdmVyLCBTY3JlZW5UcmFuc2l0aW9uVHlwZS5QdXNoXVxuICAgICAgICAgICAgLm1hcCgoaW5mbywgaW5kZXgpID0+IHRoaXMuY3JlYXRlQW5pbWF0aW9uQ2FyZChpbmZvLCBpbmRleCkpfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvU2V0dGluZ1NlY3Rpb24+XG4gICAgICA8U2V0dGluZ1NlY3Rpb24gdGl0bGU9e2Zvcm1hdE1lc3NhZ2UoJ3Njcm9sbGluZ1BhbmVsJyl9PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFuaW1hdGlvbi1jYXJkc1wiPlxuICAgICAgICAgIHtbU2NyZWVuVHJhbnNpdGlvblR5cGUuUHVzaCwgU2NyZWVuVHJhbnNpdGlvblR5cGUuRmFkZV1cbiAgICAgICAgICAgIC5tYXAoKGluZm8sIGluZGV4KSA9PiB0aGlzLmNyZWF0ZUFuaW1hdGlvbkNhcmQoaW5mbywgaW5kZXgsIHRydWUpKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L1NldHRpbmdTZWN0aW9uPlxuICAgICAgPFNldHRpbmdTZWN0aW9uPlxuICAgICAgICA8U2V0dGluZ1Jvdz5cbiAgICAgICAgICA8Q2hlY2tib3hcbiAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLnVwZGF0ZUZpcnN0UGFuZWx9XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJtci0yXCJcbiAgICAgICAgICA+PC9DaGVja2JveD5cbiAgICAgICAgICB7Zm9ybWF0TWVzc2FnZSgnYXBwbHlUb0ZpcnN0UGFuZWwnKX1cbiAgICAgICAgPC9TZXR0aW5nUm93PlxuICAgICAgPC9TZXR0aW5nU2VjdGlvbj5cbiAgICA8L2Rpdj4pO1xuICB9XG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBT0E7QUFDQTtBQVVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQW1EQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBOztBQWdFQTtBQTVIQTtBQUNBO0FBK0NBO0FBY0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFTQTtBQUVBO0FBQUE7QUFDQTtBQUVBO0FBR0E7QUFDQTtBQUVBO0FBR0E7QUFDQTtBQUVBO0FBR0E7QUFDQTtBQUNBO0FBSUE7QUFJQTtBQUNBO0FBQUE7OzsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./jimu-layouts/lib/flow-layout/builder/screen-group-setting-popper.tsx\n");

/***/ }),

/***/ "./jimu-layouts/lib/flow-layout/builder/screen-group-setting.tsx":
/*!***********************************************************************!*\
  !*** ./jimu-layouts/lib/flow-layout/builder/screen-group-setting.tsx ***!
  \***********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jimu_core__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui/advanced/setting-components */ \"jimu-ui/advanced/setting-components\");\n/* harmony import */ var jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-ui */ \"jimu-ui\");\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jimu_ui__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var jimu_for_builder__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-for-builder */ \"jimu-for-builder\");\n/* harmony import */ var jimu_for_builder__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(jimu_for_builder__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _screen_group_setting_popper__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./screen-group-setting-popper */ \"./jimu-layouts/lib/flow-layout/builder/screen-group-setting-popper.tsx\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __makeTemplateObject = (undefined && undefined.__makeTemplateObject) || function (cooked, raw) {\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n    return cooked;\n};\n/** @jsx jsx */\n\n\n\n\n\n\nvar closeIcon = __webpack_require__(/*! jimu-ui/lib/icons/close.svg */ \"./jimu-ui/lib/icons/close.svg\");\nvar animationIcon = __webpack_require__(/*! jimu-ui/advanced/lib/assets/icon_animation_in_none.svg */ \"./jimu-ui/advanced/lib/assets/icon_animation_in_none.svg\");\nvar ScreenGroupSetting = /** @class */ (function (_super) {\n    __extends(ScreenGroupSetting, _super);\n    function ScreenGroupSetting(props) {\n        var _this = _super.call(this, props) || this;\n        _this.onTransitionTypeChange = function (type) {\n            var screenGroupId = _this.props.layoutItem.screenGroupId;\n            var appConfig = Object(jimu_for_builder__WEBPACK_IMPORTED_MODULE_3__[\"getAppConfigAction\"])().appConfig;\n            appConfig = appConfig.setIn(['screenGroups', screenGroupId, 'transitionType'], type);\n            Object(jimu_for_builder__WEBPACK_IMPORTED_MODULE_3__[\"getAppConfigAction\"])(appConfig).exec();\n        };\n        _this.onPanelTransitionTypeChange = function (type) {\n            var screenGroupId = _this.props.layoutItem.screenGroupId;\n            var appConfig = Object(jimu_for_builder__WEBPACK_IMPORTED_MODULE_3__[\"getAppConfigAction\"])().appConfig;\n            appConfig = appConfig.setIn(['screenGroups', screenGroupId, 'panelTransitionType'], type);\n            Object(jimu_for_builder__WEBPACK_IMPORTED_MODULE_3__[\"getAppConfigAction\"])(appConfig).exec();\n        };\n        _this.toggleSidePanel = function () {\n            _this.setState({ showSidePanel: !_this.state.showSidePanel });\n        };\n        _this.state = {\n            showSidePanel: false,\n        };\n        return _this;\n    }\n    ScreenGroupSetting.prototype.getAnimBoxStyle = function () {\n        return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n      background-color: transparent;\\n      width: 100%;\\n      height: 72px;\\n\\n      .img-tip {\\n        position: relative;\\n        min-width: 90px;\\n        height: 72px;\\n        cursor: pointer;\\n        background: var(--light-200);\\n\\n        .has-sibling {\\n          position: absolute;\\n          &.first {\\n            left: 5px;\\n            top: 5px;\\n          }\\n          &.second {\\n            bottom: 5px;\\n            right: 5px;\\n          }\\n        }\\n\\n        .diag-sep {\\n          position: absolute;\\n          height: 1px;\\n          width: 80px;\\n          top: 36px;\\n          transform: rotateZ(-45deg);\\n          background: var(--light-500);\\n        }\\n      }\\n\\n      .anim-label {\\n        align-self: flex-start;\\n      }\\n    \"], [\"\\n      background-color: transparent;\\n      width: 100%;\\n      height: 72px;\\n\\n      .img-tip {\\n        position: relative;\\n        min-width: 90px;\\n        height: 72px;\\n        cursor: pointer;\\n        background: var(--light-200);\\n\\n        .has-sibling {\\n          position: absolute;\\n          &.first {\\n            left: 5px;\\n            top: 5px;\\n          }\\n          &.second {\\n            bottom: 5px;\\n            right: 5px;\\n          }\\n        }\\n\\n        .diag-sep {\\n          position: absolute;\\n          height: 1px;\\n          width: 80px;\\n          top: 36px;\\n          transform: rotateZ(-45deg);\\n          background: var(--light-500);\\n        }\\n      }\\n\\n      .anim-label {\\n        align-self: flex-start;\\n      }\\n    \"])));\n    };\n    ScreenGroupSetting.prototype.getSidePopperStyle = function () {\n        return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_2 || (templateObject_2 = __makeTemplateObject([\"\\n      .header {\\n        height: 60px;\\n        padding: 0 0.5rem;\\n      }\\n      .side-popper-title {\\n        color: var(--dark-600);\\n        font-size: 13px;\\n      }\\n      .side-content {\\n        position: relative;\\n        width: 100%;\\n        height: calc(100% - 60px);\\n        overflow: auto;\\n      }\\n    \"], [\"\\n      .header {\\n        height: 60px;\\n        padding: 0 0.5rem;\\n      }\\n      .side-popper-title {\\n        color: var(--dark-600);\\n        font-size: 13px;\\n      }\\n      .side-content {\\n        position: relative;\\n        width: 100%;\\n        height: calc(100% - 60px);\\n        overflow: auto;\\n      }\\n    \"])));\n    };\n    ScreenGroupSetting.prototype.render = function () {\n        var _a, _b, _c, _d;\n        var formatMessage = this.props.formatMessage;\n        var transitionType = (_a = this.props.transitionType) !== null && _a !== void 0 ? _a : jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"ScreenTransitionType\"].Fade;\n        var panelTransitionType = (_b = this.props.panelTransitionType) !== null && _b !== void 0 ? _b : jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"ScreenTransitionType\"].Push;\n        return (Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_1__[\"SettingSection\"], { title: formatMessage('transition') },\n            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"anima-box d-flex justify-content-between align-items-center\", css: this.getAnimBoxStyle() },\n                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"img-tip d-flex justify-content-center align-items-center\", onClick: this.toggleSidePanel },\n                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"anim-icon first has-sibling\" },\n                        Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_2__[\"Icon\"], { icon: (_c = _screen_group_setting_popper__WEBPACK_IMPORTED_MODULE_4__[\"icons\"][transitionType]) !== null && _c !== void 0 ? _c : animationIcon, size: 32 })),\n                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"diag-sep\" }),\n                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"anim-icon second has-sibling\" },\n                        Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_2__[\"Icon\"], { icon: (_d = _screen_group_setting_popper__WEBPACK_IMPORTED_MODULE_4__[\"icons\"][panelTransitionType]) !== null && _d !== void 0 ? _d : animationIcon, size: 32 }))),\n                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"d-flex flex-column justify-content-between align-items-end h-100\" },\n                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"anim-label\" },\n                        Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"span\", null, formatMessage(transitionType.toLowerCase())),\n                        Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"span\", { className: \"mx-1\" }, \"/\"),\n                        Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"span\", null, formatMessage(panelTransitionType.toLowerCase()))),\n                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"amin-icons w-100\" },\n                        Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_2__[\"Button\"], { size: \"sm\", onClick: this.toggleSidePanel, className: \"text-truncate\", title: formatMessage('change') }, formatMessage('change'))))),\n            this.state.showSidePanel && (Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_1__[\"SidePopper\"], { isOpen: true, css: this.getSidePopperStyle(), position: \"right\" },\n                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_1__[\"SettingSection\"], { className: \"header d-flex justify-content-between align-items-center\" },\n                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"side-popper-title m-2\" }, formatMessage('transition')),\n                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"clost-btn\", title: formatMessage('close') },\n                        Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_2__[\"Button\"], { type: \"tertiary\", className: \"p-0 d-flex justify-content-center align-items-center\", onClick: this.toggleSidePanel },\n                            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_2__[\"Icon\"], { icon: closeIcon, size: 12 })))),\n                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"side-content\" },\n                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_screen_group_setting_popper__WEBPACK_IMPORTED_MODULE_4__[\"TransitionPopperContent\"], { transitionType: transitionType, panelTransitionType: panelTransitionType, onTransitionTypeChange: this.onTransitionTypeChange, onPanelTransitionTypeChange: this.onPanelTransitionTypeChange, formatMessage: formatMessage }))))));\n    };\n    return ScreenGroupSetting;\n}(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].PureComponent));\nvar mapStateToProps = function (state, props) {\n    var screenGroupId = props.layoutItem.screenGroupId;\n    var appConfig = state.appStateInBuilder.appConfig;\n    return {\n        transitionType: appConfig.screenGroups[screenGroupId].transitionType,\n        panelTransitionType: appConfig.screenGroups[screenGroupId].panelTransitionType\n    };\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"ReactRedux\"].connect(mapStateToProps)(ScreenGroupSetting));\nvar templateObject_1, templateObject_2;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWxheW91dHMvbGliL2Zsb3ctbGF5b3V0L2J1aWxkZXIvc2NyZWVuLWdyb3VwLXNldHRpbmcudHN4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vamltdS1sYXlvdXRzL2xpYi9mbG93LWxheW91dC9idWlsZGVyL3NjcmVlbi1ncm91cC1zZXR0aW5nLnRzeD8wMDc0Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKiBAanN4IGpzeCAqL1xuaW1wb3J0IHtcbiAgUmVhY3QsXG4gIGpzeCxcbiAgY3NzLFxuICBJTVN0YXRlLFxuICBSZWFjdFJlZHV4LFxuICBTY3JlZW5UcmFuc2l0aW9uVHlwZVxufSBmcm9tICdqaW11LWNvcmUnO1xuaW1wb3J0IHsgU2V0dGluZ1NlY3Rpb24gfSBmcm9tICdqaW11LXVpL2FkdmFuY2VkL3NldHRpbmctY29tcG9uZW50cyc7XG5pbXBvcnQgeyBJY29uLCBCdXR0b24gfSBmcm9tICdqaW11LXVpJztcbmltcG9ydCB7IFNpZGVQb3BwZXIgfSBmcm9tICdqaW11LXVpL2FkdmFuY2VkL3NldHRpbmctY29tcG9uZW50cyc7XG5pbXBvcnQgeyBnZXRBcHBDb25maWdBY3Rpb24gfSBmcm9tICdqaW11LWZvci1idWlsZGVyJztcbmltcG9ydCB7IExheW91dEl0ZW1TZXR0aW5nUHJvcHMgfSBmcm9tICcuLi8uLi9idWlsZGVyL3R5cGVzJztcbmltcG9ydCB7IFRyYW5zaXRpb25Qb3BwZXJDb250ZW50LCBpY29ucyB9IGZyb20gJy4vc2NyZWVuLWdyb3VwLXNldHRpbmctcG9wcGVyJztcblxuaW50ZXJmYWNlIFN0YXRlVG9Qcm9wcyB7XG4gIHRyYW5zaXRpb25UeXBlOiBTY3JlZW5UcmFuc2l0aW9uVHlwZTtcbiAgcGFuZWxUcmFuc2l0aW9uVHlwZTogU2NyZWVuVHJhbnNpdGlvblR5cGU7XG59XG5cbmludGVyZmFjZSBTdGF0ZSB7XG4gIHNob3dTaWRlUGFuZWw6IGJvb2xlYW47XG59XG5cbmNvbnN0IGNsb3NlSWNvbiA9IHJlcXVpcmUoJ2ppbXUtdWkvbGliL2ljb25zL2Nsb3NlLnN2ZycpO1xuY29uc3QgYW5pbWF0aW9uSWNvbiA9IHJlcXVpcmUoJ2ppbXUtdWkvYWR2YW5jZWQvbGliL2Fzc2V0cy9pY29uX2FuaW1hdGlvbl9pbl9ub25lLnN2ZycpO1xuXG5jbGFzcyBTY3JlZW5Hcm91cFNldHRpbmcgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50PExheW91dEl0ZW1TZXR0aW5nUHJvcHMgJiBTdGF0ZVRvUHJvcHMsIFN0YXRlPiB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBzaG93U2lkZVBhbmVsOiBmYWxzZSxcbiAgICB9O1xuICB9XG5cbiAgb25UcmFuc2l0aW9uVHlwZUNoYW5nZSA9ICh0eXBlOiBTY3JlZW5UcmFuc2l0aW9uVHlwZSkgPT4ge1xuICAgIGNvbnN0IHsgc2NyZWVuR3JvdXBJZCB9ID0gdGhpcy5wcm9wcy5sYXlvdXRJdGVtO1xuICAgIGxldCBhcHBDb25maWcgPSBnZXRBcHBDb25maWdBY3Rpb24oKS5hcHBDb25maWc7XG4gICAgYXBwQ29uZmlnID0gYXBwQ29uZmlnLnNldEluKFsnc2NyZWVuR3JvdXBzJywgc2NyZWVuR3JvdXBJZCwgJ3RyYW5zaXRpb25UeXBlJ10sIHR5cGUpO1xuICAgIGdldEFwcENvbmZpZ0FjdGlvbihhcHBDb25maWcpLmV4ZWMoKTtcbiAgfVxuXG4gIG9uUGFuZWxUcmFuc2l0aW9uVHlwZUNoYW5nZSA9ICh0eXBlOiBTY3JlZW5UcmFuc2l0aW9uVHlwZSkgPT4ge1xuICAgIGNvbnN0IHsgc2NyZWVuR3JvdXBJZCB9ID0gdGhpcy5wcm9wcy5sYXlvdXRJdGVtO1xuICAgIGxldCBhcHBDb25maWcgPSBnZXRBcHBDb25maWdBY3Rpb24oKS5hcHBDb25maWc7XG4gICAgYXBwQ29uZmlnID0gYXBwQ29uZmlnLnNldEluKFsnc2NyZWVuR3JvdXBzJywgc2NyZWVuR3JvdXBJZCwgJ3BhbmVsVHJhbnNpdGlvblR5cGUnXSwgdHlwZSk7XG4gICAgZ2V0QXBwQ29uZmlnQWN0aW9uKGFwcENvbmZpZykuZXhlYygpO1xuICB9XG5cbiAgZ2V0QW5pbUJveFN0eWxlKCkge1xuICAgIHJldHVybiBjc3NgXG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcbiAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgaGVpZ2h0OiA3MnB4O1xuXG4gICAgICAuaW1nLXRpcCB7XG4gICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgICAgbWluLXdpZHRoOiA5MHB4O1xuICAgICAgICBoZWlnaHQ6IDcycHg7XG4gICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tbGlnaHQtMjAwKTtcblxuICAgICAgICAuaGFzLXNpYmxpbmcge1xuICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgICAmLmZpcnN0IHtcbiAgICAgICAgICAgIGxlZnQ6IDVweDtcbiAgICAgICAgICAgIHRvcDogNXB4O1xuICAgICAgICAgIH1cbiAgICAgICAgICAmLnNlY29uZCB7XG4gICAgICAgICAgICBib3R0b206IDVweDtcbiAgICAgICAgICAgIHJpZ2h0OiA1cHg7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLmRpYWctc2VwIHtcbiAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgICAgaGVpZ2h0OiAxcHg7XG4gICAgICAgICAgd2lkdGg6IDgwcHg7XG4gICAgICAgICAgdG9wOiAzNnB4O1xuICAgICAgICAgIHRyYW5zZm9ybTogcm90YXRlWigtNDVkZWcpO1xuICAgICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWxpZ2h0LTUwMCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLmFuaW0tbGFiZWwge1xuICAgICAgICBhbGlnbi1zZWxmOiBmbGV4LXN0YXJ0O1xuICAgICAgfVxuICAgIGA7XG4gIH1cblxuICBnZXRTaWRlUG9wcGVyU3R5bGUoKSB7XG4gICAgcmV0dXJuIGNzc2BcbiAgICAgIC5oZWFkZXIge1xuICAgICAgICBoZWlnaHQ6IDYwcHg7XG4gICAgICAgIHBhZGRpbmc6IDAgMC41cmVtO1xuICAgICAgfVxuICAgICAgLnNpZGUtcG9wcGVyLXRpdGxlIHtcbiAgICAgICAgY29sb3I6IHZhcigtLWRhcmstNjAwKTtcbiAgICAgICAgZm9udC1zaXplOiAxM3B4O1xuICAgICAgfVxuICAgICAgLnNpZGUtY29udGVudCB7XG4gICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgIGhlaWdodDogY2FsYygxMDAlIC0gNjBweCk7XG4gICAgICAgIG92ZXJmbG93OiBhdXRvO1xuICAgICAgfVxuICAgIGBcbiAgfVxuXG4gIHRvZ2dsZVNpZGVQYW5lbCA9ICgpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHsgc2hvd1NpZGVQYW5lbDogIXRoaXMuc3RhdGUuc2hvd1NpZGVQYW5lbCB9KTtcbiAgfTtcblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBmb3JtYXRNZXNzYWdlIH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IHRyYW5zaXRpb25UeXBlID0gdGhpcy5wcm9wcy50cmFuc2l0aW9uVHlwZSA/PyBTY3JlZW5UcmFuc2l0aW9uVHlwZS5GYWRlO1xuICAgIGNvbnN0IHBhbmVsVHJhbnNpdGlvblR5cGUgPSB0aGlzLnByb3BzLnBhbmVsVHJhbnNpdGlvblR5cGUgPz8gU2NyZWVuVHJhbnNpdGlvblR5cGUuUHVzaDtcblxuICAgIHJldHVybiAoXG4gICAgICA8U2V0dGluZ1NlY3Rpb24gdGl0bGU9e2Zvcm1hdE1lc3NhZ2UoJ3RyYW5zaXRpb24nKX0+XG4gICAgICAgIDxkaXZcbiAgICAgICAgICBjbGFzc05hbWU9XCJhbmltYS1ib3ggZC1mbGV4IGp1c3RpZnktY29udGVudC1iZXR3ZWVuIGFsaWduLWl0ZW1zLWNlbnRlclwiXG4gICAgICAgICAgY3NzPXt0aGlzLmdldEFuaW1Cb3hTdHlsZSgpfVxuICAgICAgICA+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJpbWctdGlwIGQtZmxleCBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyIGFsaWduLWl0ZW1zLWNlbnRlclwiIG9uQ2xpY2s9e3RoaXMudG9nZ2xlU2lkZVBhbmVsfT5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYW5pbS1pY29uIGZpcnN0IGhhcy1zaWJsaW5nXCI+XG4gICAgICAgICAgICAgIDxJY29uIGljb249e2ljb25zW3RyYW5zaXRpb25UeXBlXSA/PyBhbmltYXRpb25JY29ufSBzaXplPXszMn0+PC9JY29uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImRpYWctc2VwXCI+PC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFuaW0taWNvbiBzZWNvbmQgaGFzLXNpYmxpbmdcIj5cbiAgICAgICAgICAgICAgPEljb24gaWNvbj17aWNvbnNbcGFuZWxUcmFuc2l0aW9uVHlwZV0gPz8gYW5pbWF0aW9uSWNvbn0gc2l6ZT17MzJ9PjwvSWNvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZC1mbGV4IGZsZXgtY29sdW1uIGp1c3RpZnktY29udGVudC1iZXR3ZWVuIGFsaWduLWl0ZW1zLWVuZCBoLTEwMFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhbmltLWxhYmVsXCI+XG4gICAgICAgICAgICAgIDxzcGFuPntmb3JtYXRNZXNzYWdlKHRyYW5zaXRpb25UeXBlLnRvTG93ZXJDYXNlKCkpfTwvc3Bhbj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibXgtMVwiPi88L3NwYW4+XG4gICAgICAgICAgICAgIDxzcGFuPntmb3JtYXRNZXNzYWdlKHBhbmVsVHJhbnNpdGlvblR5cGUudG9Mb3dlckNhc2UoKSl9PC9zcGFuPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFtaW4taWNvbnMgdy0xMDBcIj5cbiAgICAgICAgICAgICAgPEJ1dHRvbiBzaXplPVwic21cIiBvbkNsaWNrPXt0aGlzLnRvZ2dsZVNpZGVQYW5lbH0gY2xhc3NOYW1lPVwidGV4dC10cnVuY2F0ZVwiIHRpdGxlPXtmb3JtYXRNZXNzYWdlKCdjaGFuZ2UnKX0+XG4gICAgICAgICAgICAgICAge2Zvcm1hdE1lc3NhZ2UoJ2NoYW5nZScpfVxuICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAge3RoaXMuc3RhdGUuc2hvd1NpZGVQYW5lbCAmJiAoXG4gICAgICAgICAgPFNpZGVQb3BwZXIgaXNPcGVuPXt0cnVlfSBjc3M9e3RoaXMuZ2V0U2lkZVBvcHBlclN0eWxlKCl9IHBvc2l0aW9uPVwicmlnaHRcIj5cbiAgICAgICAgICAgIDxTZXR0aW5nU2VjdGlvbiBjbGFzc05hbWU9XCJoZWFkZXIgZC1mbGV4IGp1c3RpZnktY29udGVudC1iZXR3ZWVuIGFsaWduLWl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNpZGUtcG9wcGVyLXRpdGxlIG0tMlwiPntmb3JtYXRNZXNzYWdlKCd0cmFuc2l0aW9uJyl9PC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2xvc3QtYnRuXCIgdGl0bGU9e2Zvcm1hdE1lc3NhZ2UoJ2Nsb3NlJyl9PlxuICAgICAgICAgICAgICAgIDxCdXR0b24gdHlwZT1cInRlcnRpYXJ5XCIgY2xhc3NOYW1lPVwicC0wIGQtZmxleCBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyIGFsaWduLWl0ZW1zLWNlbnRlclwiIG9uQ2xpY2s9e3RoaXMudG9nZ2xlU2lkZVBhbmVsfT5cbiAgICAgICAgICAgICAgICAgIDxJY29uIGljb249e2Nsb3NlSWNvbn0gc2l6ZT17MTJ9PjwvSWNvbj5cbiAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L1NldHRpbmdTZWN0aW9uPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzaWRlLWNvbnRlbnRcIj5cbiAgICAgICAgICAgICAgPFRyYW5zaXRpb25Qb3BwZXJDb250ZW50XG4gICAgICAgICAgICAgICAgdHJhbnNpdGlvblR5cGU9e3RyYW5zaXRpb25UeXBlfVxuICAgICAgICAgICAgICAgIHBhbmVsVHJhbnNpdGlvblR5cGU9e3BhbmVsVHJhbnNpdGlvblR5cGV9XG4gICAgICAgICAgICAgICAgb25UcmFuc2l0aW9uVHlwZUNoYW5nZT17dGhpcy5vblRyYW5zaXRpb25UeXBlQ2hhbmdlfVxuICAgICAgICAgICAgICAgIG9uUGFuZWxUcmFuc2l0aW9uVHlwZUNoYW5nZT17dGhpcy5vblBhbmVsVHJhbnNpdGlvblR5cGVDaGFuZ2V9XG4gICAgICAgICAgICAgICAgZm9ybWF0TWVzc2FnZT17Zm9ybWF0TWVzc2FnZX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvU2lkZVBvcHBlcj5cbiAgICAgICAgKX1cbiAgICAgIDwvU2V0dGluZ1NlY3Rpb24+XG4gICAgKTtcbiAgfVxufVxuXG5jb25zdCBtYXBTdGF0ZVRvUHJvcHMgPSAoc3RhdGU6IElNU3RhdGUsIHByb3BzOiBMYXlvdXRJdGVtU2V0dGluZ1Byb3BzKSA9PiB7XG4gIGNvbnN0IHsgc2NyZWVuR3JvdXBJZCB9ID0gcHJvcHMubGF5b3V0SXRlbTtcbiAgY29uc3QgeyBhcHBDb25maWcgfSA9IHN0YXRlLmFwcFN0YXRlSW5CdWlsZGVyO1xuXG4gIHJldHVybiB7XG4gICAgdHJhbnNpdGlvblR5cGU6IGFwcENvbmZpZy5zY3JlZW5Hcm91cHNbc2NyZWVuR3JvdXBJZF0udHJhbnNpdGlvblR5cGUsXG4gICAgcGFuZWxUcmFuc2l0aW9uVHlwZTogYXBwQ29uZmlnLnNjcmVlbkdyb3Vwc1tzY3JlZW5Hcm91cElkXS5wYW5lbFRyYW5zaXRpb25UeXBlXG4gIH07XG59O1xuXG5leHBvcnQgZGVmYXVsdCBSZWFjdFJlZHV4LmNvbm5lY3Q8U3RhdGVUb1Byb3BzLCB1bmtub3duLCBMYXlvdXRJdGVtU2V0dGluZ1Byb3BzPihtYXBTdGF0ZVRvUHJvcHMpKFNjcmVlbkdyb3VwU2V0dGluZyk7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQVdBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFBQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQThEQTtBQUNBO0FBQ0E7QUFqRkE7QUFDQTtBQUNBOztBQUNBO0FBZ0JBO0FBQ0E7QUFzQ0E7QUFFQTtBQUNBO0FBZ0JBO0FBTUE7O0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUlBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBTUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQVlBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./jimu-layouts/lib/flow-layout/builder/screen-group-setting.tsx\n");

/***/ }),

/***/ "./jimu-layouts/lib/flow-layout/builder/screen-group.tsx":
/*!***************************************************************!*\
  !*** ./jimu-layouts/lib/flow-layout/builder/screen-group.tsx ***!
  \***************************************************************/
/*! exports provided: ScreenGroup */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ScreenGroup\", function() { return ScreenGroup; });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jimu_core__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-layouts/layout-runtime */ \"jimu-layouts/layout-runtime\");\n/* harmony import */ var jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _screen_menu__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./screen-menu */ \"./jimu-layouts/lib/flow-layout/builder/screen-menu.tsx\");\n/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../common */ \"./jimu-layouts/lib/flow-layout/common/index.tsx\");\n/* harmony import */ var _screen_side_panel__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./screen-side-panel */ \"./jimu-layouts/lib/flow-layout/builder/screen-side-panel.tsx\");\n/* harmony import */ var _builder_layout_entry__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../builder/layout-entry */ \"./jimu-layouts/lib/builder/layout-entry.tsx\");\nvar __makeTemplateObject = (undefined && undefined.__makeTemplateObject) || function (cooked, raw) {\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n    return cooked;\n};\n/** @jsx jsx */\n\n\n\n\n\n\nfunction getStyle(viewHeight, isDesignMode, builderTheme, isFirst, selected) {\n    return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n    position: relative;\\n    width: 100%;\\n\\n    .screen-menu {\\n      display: \", \";\\n      position: absolute;\\n      opacity: \", \";\\n      left: 0;\\n      top: \", \";\\n      bottom: \", \";\\n      height: 32px;\\n      width: 100%;\\n      background-color: \", \";\\n      overflow: visible;\\n\\n      .info {\\n        color: \", \";\\n      }\\n    }\\n\\n    &:hover .screen-menu {\\n      display: block;\\n    }\\n\\n    .screen-group {\\n      position: relative;\\n      height: \", \";\\n      overflow-y: \", \";\\n      overflow-x: \", \";\\n    }\\n\\n    .main-panels {\\n      position: absolute;\\n      left: 0;\\n      right: 0;\\n      top: 0;\\n      pointer-events: none;\\n      z-index: 0;\\n    }\\n\\n    .side-panels {\\n      position: relative;\\n      z-index: 1;\\n      pointer-events: none;\\n\\n      > div:nth-last-of-type(2) {\\n        min-height: \", \";\\n      }\\n    }\\n\\n    .group-tip {\\n      display: none;\\n      padding: inherit;\\n      position: absolute;\\n      left: 0;\\n      bottom: 0;\\n      top: 0;\\n      right: 0;\\n      pointer-events: none;\\n      .tip-content {\\n        height: 100%;\\n        padding: 2px;\\n        &:after {\\n          content: '';\\n          width: 100%;\\n          height: 100%;\\n          outline: 2px solid \", \";\\n          display: block;\\n        }\\n      }\\n    }\\n\\n    &:hover .group-tip {\\n      display: block;\\n    }\\n  \"], [\"\\n    position: relative;\\n    width: 100%;\\n\\n    .screen-menu {\\n      display: \", \";\\n      position: absolute;\\n      opacity: \", \";\\n      left: 0;\\n      top: \", \";\\n      bottom: \", \";\\n      height: 32px;\\n      width: 100%;\\n      background-color: \", \";\\n      overflow: visible;\\n\\n      .info {\\n        color: \", \";\\n      }\\n    }\\n\\n    &:hover .screen-menu {\\n      display: block;\\n    }\\n\\n    .screen-group {\\n      position: relative;\\n      height: \", \";\\n      overflow-y: \", \";\\n      overflow-x: \", \";\\n    }\\n\\n    .main-panels {\\n      position: absolute;\\n      left: 0;\\n      right: 0;\\n      top: 0;\\n      pointer-events: none;\\n      z-index: 0;\\n    }\\n\\n    .side-panels {\\n      position: relative;\\n      z-index: 1;\\n      pointer-events: none;\\n\\n      > div:nth-last-of-type(2) {\\n        min-height: \", \";\\n      }\\n    }\\n\\n    .group-tip {\\n      display: none;\\n      padding: inherit;\\n      position: absolute;\\n      left: 0;\\n      bottom: 0;\\n      top: 0;\\n      right: 0;\\n      pointer-events: none;\\n      .tip-content {\\n        height: 100%;\\n        padding: 2px;\\n        &:after {\\n          content: '';\\n          width: 100%;\\n          height: 100%;\\n          outline: 2px solid \", \";\\n          display: block;\\n        }\\n      }\\n    }\\n\\n    &:hover .group-tip {\\n      display: block;\\n    }\\n  \"])), selected ? 'block' : 'none', selected ? 0.8 : 0.5, isFirst ? 'auto' : '-32px', isFirst ? '-32px' : 'auto', builderTheme.colors.palette.light[200], builderTheme.colors.black, isDesignMode ? viewHeight + \"px\" : 'auto', isDesignMode ? 'auto' : null, isDesignMode ? 'hidden' : null, isDesignMode ? viewHeight + \"px\" : '100vh', builderTheme.colors.palette.primary[700]);\n}\nfunction ScreenGroup(props) {\n    var layoutId = props.layoutId, layoutItemId = props.layoutItemId, layoutItem = props.layoutItem, formatMessage = props.formatMessage, itemIndex = props.itemIndex;\n    var screenGroupId = layoutItem.screenGroupId;\n    var selected = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"ReactRedux\"].useSelector(function (state) {\n        var _a;\n        var selection = (_a = state.appRuntimeInfo) === null || _a === void 0 ? void 0 : _a.selection;\n        if (selection) {\n            return selection.layoutId === layoutId && selection.layoutItemId === layoutItemId;\n        }\n        return false;\n    });\n    var screenGroup = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"ReactRedux\"].useSelector(function (state) {\n        return state.appConfig.screenGroups[layoutItem.screenGroupId];\n    });\n    var screens = screenGroup.screens, _a = screenGroup.stretchPanel, stretchPanel = _a === void 0 ? true : _a, _b = screenGroup.triggerType, triggerType = _b === void 0 ? jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"ScreenTriggerType\"].Bottom : _b, _c = screenGroup.verticalSpace, verticalSpace = _c === void 0 ? '0' : _c, _d = screenGroup.transitionType, transitionType = _d === void 0 ? jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"ScreenTransitionType\"].Fade : _d, _e = screenGroup.panelTransitionType, panelTransitionType = _e === void 0 ? jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"ScreenTransitionType\"].Push : _e;\n    var navInfo = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"ReactRedux\"].useSelector(function (state) {\n        var _a;\n        return (_a = state.appRuntimeInfo.screenGroupNavInfos) === null || _a === void 0 ? void 0 : _a[screenGroupId];\n    });\n    var viewportSize = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"ReactRedux\"].useSelector(function (state) {\n        return jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"utils\"].findViewportSize(state.appConfig, state.browserSizeMode || jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"BrowserSizeMode\"].Large);\n    });\n    var _f = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useContext(jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__[\"PageContext\"]), isDesignMode = _f.isDesignMode, builderTheme = _f.builderTheme;\n    var domRef = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useRef();\n    var screenGroupRef = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useRef();\n    var mainPanelRef = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useRef();\n    var monitorScrollRef = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useRef(true);\n    var scrollListenerRef = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useRef();\n    var _g = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useState(0), activeIndex = _g[0], setActiveIndex = _g[1];\n    var scrollIntoView = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useCallback(function (index) {\n        // check if side panel of index is in current view extent\n        var sideElements = screenGroupRef.current.querySelectorAll('div.screen-side-panel');\n        var previousItemsHeight = 0;\n        // let targetHeight = 0;\n        sideElements.forEach(function (element) {\n            var elementIndex = +element.getAttribute('data-index');\n            if (elementIndex < index) {\n                previousItemsHeight += element.clientHeight;\n            }\n        });\n        screenGroupRef.current.scrollTop = previousItemsHeight;\n        if (transitionType !== jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"ScreenTransitionType\"].Fade) {\n            var screenContainerElem = mainPanelRef.current.children[0];\n            screenContainerElem.scrollTop = screenGroupRef.current.scrollTop;\n        }\n    }, [transitionType]);\n    jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useEffect(function () {\n        if ((navInfo === null || navInfo === void 0 ? void 0 : navInfo.activeIndex) != null && navInfo.activeIndex !== activeIndex) {\n            setActiveIndex(navInfo.activeIndex);\n            if (navInfo.scrollIntoView) {\n                monitorScrollRef.current = false; // do not monitor scroll event when user jumps to another screen\n                scrollIntoView(navInfo.activeIndex);\n                setTimeout(function () {\n                    monitorScrollRef.current = true;\n                }, 200);\n            }\n        }\n    }, [navInfo, activeIndex, scrollIntoView]);\n    jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useEffect(function () {\n        if (scrollListenerRef.current) {\n            screenGroupRef.current.removeEventListener('scroll', scrollListenerRef.current);\n            scrollListenerRef.current = null;\n        }\n        scrollListenerRef.current = function () {\n            var screenContainerElem = mainPanelRef.current.children[0];\n            if (transitionType === jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"ScreenTransitionType\"].Fade) {\n                return;\n            }\n            // for cover effect\n            screenContainerElem.scrollTop = screenGroupRef.current.scrollTop;\n        };\n        screenGroupRef.current.addEventListener('scroll', scrollListenerRef.current);\n    }, [transitionType]);\n    jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useEffect(function () {\n        Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"getAppStore\"])().dispatch(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"appActions\"].screenGroupNavInfoChanged(screenGroupId, 0));\n    }, [isDesignMode, screenGroupId]);\n    var onInterctionChange = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useCallback(function (index, isIntersecting) {\n        if (!monitorScrollRef.current) {\n            return;\n        }\n        if (isIntersecting && index !== activeIndex) {\n            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"getAppStore\"])().dispatch(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"appActions\"].screenGroupNavInfoChanged(screenGroupId, index, false));\n        }\n        else if (!isIntersecting && index > 0) {\n            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"getAppStore\"])().dispatch(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"appActions\"].screenGroupNavInfoChanged(screenGroupId, index - 1, false));\n        }\n    }, [activeIndex, screenGroupId]);\n    var selectItem = function (e) {\n        e.stopPropagation();\n        Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"getAppStore\"])().dispatch(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"appActions\"].selectionChanged({ layoutId: layoutId, layoutItemId: layoutItemId }));\n    };\n    var onSidePanelHeightChange = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useCallback(function (index, height) {\n        var relatedElement = mainPanelRef.current.querySelector(\"div.screen-main-panel[data-index=\\\"\" + index + \"\\\"]\");\n        relatedElement.style.height = height + \"px\";\n    }, []);\n    var onSidePanelsSizeChange = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useCallback(function (width, height) {\n        var main = screenGroupRef.current.children[1];\n        main.style.height = height + \"px\";\n    }, []);\n    if (screens.length > 0) {\n        return (Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"classNames\"])('flow-layout-item', { selected: selected }), css: getStyle(viewportSize.height, isDesignMode, builderTheme, itemIndex === 0, selected), \"data-layoutitemid\": layoutItemId, \"data-layoutid\": layoutId, onClick: selectItem, ref: domRef },\n            isDesignMode && (Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"screen-menu\" },\n                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_screen_menu__WEBPACK_IMPORTED_MODULE_2__[\"ScreenGroupMenu\"], { activeScreenIndex: activeIndex, itemIndex: itemIndex, total: screens.length, screenGroupId: screenGroupId, layoutId: layoutId, layoutItemId: layoutItemId, theme: builderTheme, formatMessage: formatMessage }))),\n            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"screen-group\", ref: screenGroupRef },\n                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"side-panels\" },\n                    screens.map(function (screenId, idx) {\n                        return (Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_screen_side_panel__WEBPACK_IMPORTED_MODULE_4__[\"ScreenSidePanel\"], { key: screenId, index: idx, screenId: screenId, viewHeight: viewportSize.height, refElement: isDesignMode ? domRef.current : null, layoutEntry: _builder_layout_entry__WEBPACK_IMPORTED_MODULE_5__[\"default\"], isDesignMode: isDesignMode, isActive: idx === activeIndex, stretched: stretchPanel, triggerType: triggerType, verticalSpace: verticalSpace, transitionType: panelTransitionType, onHeightChange: onSidePanelHeightChange, onInterctionChange: onInterctionChange }));\n                    }),\n                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"ReactResizeDetector\"], { handleHeight: true, onResize: onSidePanelsSizeChange })),\n                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"main-panels\", ref: mainPanelRef },\n                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_common__WEBPACK_IMPORTED_MODULE_3__[\"ScreenMainPanelList\"], { activeIndex: activeIndex, viewHeight: viewportSize.height, isDesignMode: isDesignMode, screens: screens, transitionType: transitionType, layoutEntry: _builder_layout_entry__WEBPACK_IMPORTED_MODULE_5__[\"default\"] }))),\n            isDesignMode && (Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"group-tip\" },\n                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"tip-content\" })))));\n    }\n    return null;\n}\nvar templateObject_1;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWxheW91dHMvbGliL2Zsb3ctbGF5b3V0L2J1aWxkZXIvc2NyZWVuLWdyb3VwLnRzeC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2ppbXUtbGF5b3V0cy9saWIvZmxvdy1sYXlvdXQvYnVpbGRlci9zY3JlZW4tZ3JvdXAudHN4PzEyNmIiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqIEBqc3gganN4ICovXG5pbXBvcnQge1xuICBSZWFjdCxcbiAganN4LFxuICBjc3MsXG4gIFJlYWN0UmVkdXgsXG4gIEJyb3dzZXJTaXplTW9kZSxcbiAgSU1TdGF0ZSxcbiAgdXRpbHMgYXMgamltdVV0aWxzLFxuICBJTVRoZW1lVmFyaWFibGVzLFxuICBnZXRBcHBTdG9yZSxcbiAgYXBwQWN0aW9ucyxcbiAgSU1MYXlvdXRJdGVtSnNvbixcbiAgU2NyZWVuVHJhbnNpdGlvblR5cGUsXG4gIGNsYXNzTmFtZXMsXG4gIFJlYWN0UmVzaXplRGV0ZWN0b3IsXG4gIElNU2NyZWVuR3JvdXBKc29uLFxuICBTY3JlZW5UcmlnZ2VyVHlwZSxcbn0gZnJvbSAnamltdS1jb3JlJztcbmltcG9ydCB7IExheW91dEl0ZW1Qcm9wcywgUGFnZUNvbnRleHQgfSBmcm9tICdqaW11LWxheW91dHMvbGF5b3V0LXJ1bnRpbWUnO1xuaW1wb3J0IHsgU2NyZWVuR3JvdXBNZW51IH0gZnJvbSAnLi9zY3JlZW4tbWVudSc7XG5pbXBvcnQgeyBTY3JlZW5NYWluUGFuZWxMaXN0fSBmcm9tICcuLi9jb21tb24nO1xuaW1wb3J0IHsgU2NyZWVuU2lkZVBhbmVsIH0gZnJvbSAnLi9zY3JlZW4tc2lkZS1wYW5lbCc7XG5pbXBvcnQgTGF5b3V0RW50cnkgZnJvbSAnLi4vLi4vYnVpbGRlci9sYXlvdXQtZW50cnknO1xuXG5pbnRlcmZhY2UgT3duUHJvcHMge1xuICBpdGVtSW5kZXg6IG51bWJlcjtcbiAgLy8gaW5kZXg6IG51bWJlcjtcbiAgbGF5b3V0SXRlbTogSU1MYXlvdXRJdGVtSnNvbjtcbiAgdGhlbWU6IElNVGhlbWVWYXJpYWJsZXM7XG4gIGZvcm1hdE1lc3NhZ2U6IChpZDogc3RyaW5nKSA9PiBzdHJpbmc7XG59XG5cbmZ1bmN0aW9uIGdldFN0eWxlKFxuICB2aWV3SGVpZ2h0OiBudW1iZXIsXG4gIGlzRGVzaWduTW9kZTogYm9vbGVhbixcbiAgYnVpbGRlclRoZW1lOiBJTVRoZW1lVmFyaWFibGVzLFxuICBpc0ZpcnN0OiBib29sZWFuLFxuICBzZWxlY3RlZDogYm9vbGVhblxuKSB7XG4gIHJldHVybiBjc3NgXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgIHdpZHRoOiAxMDAlO1xuXG4gICAgLnNjcmVlbi1tZW51IHtcbiAgICAgIGRpc3BsYXk6ICR7c2VsZWN0ZWQgPyAnYmxvY2snOiAnbm9uZSd9O1xuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgb3BhY2l0eTogJHtzZWxlY3RlZCA/IDAuOCA6IDAuNX07XG4gICAgICBsZWZ0OiAwO1xuICAgICAgdG9wOiAke2lzRmlyc3QgPyAnYXV0bycgOiAnLTMycHgnfTtcbiAgICAgIGJvdHRvbTogJHtpc0ZpcnN0ID8gJy0zMnB4JyA6ICdhdXRvJ307XG4gICAgICBoZWlnaHQ6IDMycHg7XG4gICAgICB3aWR0aDogMTAwJTtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICR7YnVpbGRlclRoZW1lLmNvbG9ycy5wYWxldHRlLmxpZ2h0WzIwMF19O1xuICAgICAgb3ZlcmZsb3c6IHZpc2libGU7XG5cbiAgICAgIC5pbmZvIHtcbiAgICAgICAgY29sb3I6ICR7YnVpbGRlclRoZW1lLmNvbG9ycy5ibGFja307XG4gICAgICB9XG4gICAgfVxuXG4gICAgJjpob3ZlciAuc2NyZWVuLW1lbnUge1xuICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgfVxuXG4gICAgLnNjcmVlbi1ncm91cCB7XG4gICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICBoZWlnaHQ6ICR7aXNEZXNpZ25Nb2RlID8gYCR7dmlld0hlaWdodH1weGAgOiAnYXV0byd9O1xuICAgICAgb3ZlcmZsb3cteTogJHtpc0Rlc2lnbk1vZGUgPyAnYXV0bycgOiBudWxsfTtcbiAgICAgIG92ZXJmbG93LXg6ICR7aXNEZXNpZ25Nb2RlID8gJ2hpZGRlbicgOiBudWxsfTtcbiAgICB9XG5cbiAgICAubWFpbi1wYW5lbHMge1xuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgbGVmdDogMDtcbiAgICAgIHJpZ2h0OiAwO1xuICAgICAgdG9wOiAwO1xuICAgICAgcG9pbnRlci1ldmVudHM6IG5vbmU7XG4gICAgICB6LWluZGV4OiAwO1xuICAgIH1cblxuICAgIC5zaWRlLXBhbmVscyB7XG4gICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICB6LWluZGV4OiAxO1xuICAgICAgcG9pbnRlci1ldmVudHM6IG5vbmU7XG5cbiAgICAgID4gZGl2Om50aC1sYXN0LW9mLXR5cGUoMikge1xuICAgICAgICBtaW4taGVpZ2h0OiAke2lzRGVzaWduTW9kZSA/IGAke3ZpZXdIZWlnaHR9cHhgIDogJzEwMHZoJ307XG4gICAgICB9XG4gICAgfVxuXG4gICAgLmdyb3VwLXRpcCB7XG4gICAgICBkaXNwbGF5OiBub25lO1xuICAgICAgcGFkZGluZzogaW5oZXJpdDtcbiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgIGxlZnQ6IDA7XG4gICAgICBib3R0b206IDA7XG4gICAgICB0b3A6IDA7XG4gICAgICByaWdodDogMDtcbiAgICAgIHBvaW50ZXItZXZlbnRzOiBub25lO1xuICAgICAgLnRpcC1jb250ZW50IHtcbiAgICAgICAgaGVpZ2h0OiAxMDAlO1xuICAgICAgICBwYWRkaW5nOiAycHg7XG4gICAgICAgICY6YWZ0ZXIge1xuICAgICAgICAgIGNvbnRlbnQ6ICcnO1xuICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICAgIGhlaWdodDogMTAwJTtcbiAgICAgICAgICBvdXRsaW5lOiAycHggc29saWQgJHtidWlsZGVyVGhlbWUuY29sb3JzLnBhbGV0dGUucHJpbWFyeVs3MDBdfTtcbiAgICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgICY6aG92ZXIgLmdyb3VwLXRpcCB7XG4gICAgICBkaXNwbGF5OiBibG9jaztcbiAgICB9XG4gIGA7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBTY3JlZW5Hcm91cChwcm9wczogTGF5b3V0SXRlbVByb3BzICYgT3duUHJvcHMpIHtcbiAgY29uc3QgeyBsYXlvdXRJZCwgbGF5b3V0SXRlbUlkLCBsYXlvdXRJdGVtLCBmb3JtYXRNZXNzYWdlLCBpdGVtSW5kZXggfSA9IHByb3BzO1xuICBjb25zdCB7IHNjcmVlbkdyb3VwSWQgfSA9IGxheW91dEl0ZW07XG4gIGNvbnN0IHNlbGVjdGVkID0gUmVhY3RSZWR1eC51c2VTZWxlY3Rvcigoc3RhdGU6IElNU3RhdGUpID0+IHtcbiAgICBjb25zdCBzZWxlY3Rpb24gPSBzdGF0ZS5hcHBSdW50aW1lSW5mbz8uc2VsZWN0aW9uO1xuICAgIGlmIChzZWxlY3Rpb24pIHtcbiAgICAgIHJldHVybiBzZWxlY3Rpb24ubGF5b3V0SWQgPT09IGxheW91dElkICYmIHNlbGVjdGlvbi5sYXlvdXRJdGVtSWQgPT09IGxheW91dEl0ZW1JZDtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9KTtcbiAgY29uc3Qgc2NyZWVuR3JvdXA6IElNU2NyZWVuR3JvdXBKc29uID0gUmVhY3RSZWR1eC51c2VTZWxlY3Rvcigoc3RhdGU6IElNU3RhdGUpID0+IHtcbiAgICByZXR1cm4gc3RhdGUuYXBwQ29uZmlnLnNjcmVlbkdyb3Vwc1tsYXlvdXRJdGVtLnNjcmVlbkdyb3VwSWRdO1xuICB9KTtcbiAgY29uc3Qge1xuICAgIHNjcmVlbnMsXG4gICAgc3RyZXRjaFBhbmVsID0gdHJ1ZSxcbiAgICB0cmlnZ2VyVHlwZSA9IFNjcmVlblRyaWdnZXJUeXBlLkJvdHRvbSxcbiAgICB2ZXJ0aWNhbFNwYWNlID0gJzAnLFxuICAgIHRyYW5zaXRpb25UeXBlID0gU2NyZWVuVHJhbnNpdGlvblR5cGUuRmFkZSxcbiAgICBwYW5lbFRyYW5zaXRpb25UeXBlID0gU2NyZWVuVHJhbnNpdGlvblR5cGUuUHVzaFxuICB9ID0gc2NyZWVuR3JvdXA7XG4gIGNvbnN0IG5hdkluZm8gPSBSZWFjdFJlZHV4LnVzZVNlbGVjdG9yKChzdGF0ZTogSU1TdGF0ZSkgPT4ge1xuICAgIHJldHVybiBzdGF0ZS5hcHBSdW50aW1lSW5mby5zY3JlZW5Hcm91cE5hdkluZm9zPy5bc2NyZWVuR3JvdXBJZF07XG4gIH0pO1xuICBjb25zdCB2aWV3cG9ydFNpemUgPSBSZWFjdFJlZHV4LnVzZVNlbGVjdG9yKChzdGF0ZTogSU1TdGF0ZSkgPT4ge1xuICAgIHJldHVybiBqaW11VXRpbHMuZmluZFZpZXdwb3J0U2l6ZShzdGF0ZS5hcHBDb25maWcsIHN0YXRlLmJyb3dzZXJTaXplTW9kZSB8fCBCcm93c2VyU2l6ZU1vZGUuTGFyZ2UpO1xuICB9KTtcbiAgY29uc3QgeyBpc0Rlc2lnbk1vZGUsIGJ1aWxkZXJUaGVtZSB9ID0gUmVhY3QudXNlQ29udGV4dChQYWdlQ29udGV4dCk7XG4gIGNvbnN0IGRvbVJlZiA9IFJlYWN0LnVzZVJlZjxIVE1MRGl2RWxlbWVudD4oKTtcbiAgY29uc3Qgc2NyZWVuR3JvdXBSZWYgPSBSZWFjdC51c2VSZWY8SFRNTERpdkVsZW1lbnQ+KCk7XG4gIGNvbnN0IG1haW5QYW5lbFJlZiA9IFJlYWN0LnVzZVJlZjxIVE1MRGl2RWxlbWVudD4oKTtcbiAgY29uc3QgbW9uaXRvclNjcm9sbFJlZiA9IFJlYWN0LnVzZVJlZih0cnVlKTtcbiAgY29uc3Qgc2Nyb2xsTGlzdGVuZXJSZWYgPSBSZWFjdC51c2VSZWY8KCkgPT4gdm9pZD4oKTtcbiAgY29uc3QgW2FjdGl2ZUluZGV4LCBzZXRBY3RpdmVJbmRleF0gPSBSZWFjdC51c2VTdGF0ZSgwKTtcblxuICBjb25zdCBzY3JvbGxJbnRvVmlldyA9IFJlYWN0LnVzZUNhbGxiYWNrKChpbmRleCkgPT4ge1xuICAgIC8vIGNoZWNrIGlmIHNpZGUgcGFuZWwgb2YgaW5kZXggaXMgaW4gY3VycmVudCB2aWV3IGV4dGVudFxuICAgIGNvbnN0IHNpZGVFbGVtZW50cyA9IHNjcmVlbkdyb3VwUmVmLmN1cnJlbnQucXVlcnlTZWxlY3RvckFsbCgnZGl2LnNjcmVlbi1zaWRlLXBhbmVsJykgYXMgTm9kZUxpc3RPZjxIVE1MRWxlbWVudD47XG4gICAgbGV0IHByZXZpb3VzSXRlbXNIZWlnaHQgPSAwO1xuICAgIC8vIGxldCB0YXJnZXRIZWlnaHQgPSAwO1xuICAgIHNpZGVFbGVtZW50cy5mb3JFYWNoKGVsZW1lbnQgPT4ge1xuICAgICAgY29uc3QgZWxlbWVudEluZGV4ID0gK2VsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLWluZGV4Jyk7XG4gICAgICBpZiAoZWxlbWVudEluZGV4IDwgaW5kZXgpIHtcbiAgICAgICAgcHJldmlvdXNJdGVtc0hlaWdodCArPSBlbGVtZW50LmNsaWVudEhlaWdodDtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHNjcmVlbkdyb3VwUmVmLmN1cnJlbnQuc2Nyb2xsVG9wID0gcHJldmlvdXNJdGVtc0hlaWdodDtcbiAgICBpZiAodHJhbnNpdGlvblR5cGUgIT09IFNjcmVlblRyYW5zaXRpb25UeXBlLkZhZGUpIHtcbiAgICAgIGNvbnN0IHNjcmVlbkNvbnRhaW5lckVsZW0gPSAobWFpblBhbmVsUmVmLmN1cnJlbnQuY2hpbGRyZW5bMF0gYXMgSFRNTEVsZW1lbnQpO1xuICAgICAgc2NyZWVuQ29udGFpbmVyRWxlbS5zY3JvbGxUb3AgPSBzY3JlZW5Hcm91cFJlZi5jdXJyZW50LnNjcm9sbFRvcDtcbiAgICB9XG4gIH0sIFt0cmFuc2l0aW9uVHlwZV0pO1xuXG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKG5hdkluZm8/LmFjdGl2ZUluZGV4ICE9IG51bGwgJiYgbmF2SW5mby5hY3RpdmVJbmRleCAhPT0gYWN0aXZlSW5kZXgpIHtcbiAgICAgIHNldEFjdGl2ZUluZGV4KG5hdkluZm8uYWN0aXZlSW5kZXgpO1xuICAgICAgaWYgKG5hdkluZm8uc2Nyb2xsSW50b1ZpZXcpIHtcbiAgICAgICAgbW9uaXRvclNjcm9sbFJlZi5jdXJyZW50ID0gZmFsc2U7IC8vIGRvIG5vdCBtb25pdG9yIHNjcm9sbCBldmVudCB3aGVuIHVzZXIganVtcHMgdG8gYW5vdGhlciBzY3JlZW5cbiAgICAgICAgc2Nyb2xsSW50b1ZpZXcobmF2SW5mby5hY3RpdmVJbmRleCk7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIG1vbml0b3JTY3JvbGxSZWYuY3VycmVudCA9IHRydWU7XG4gICAgICAgIH0sIDIwMCk7XG4gICAgICB9XG4gICAgfVxuICB9LCBbbmF2SW5mbywgYWN0aXZlSW5kZXgsIHNjcm9sbEludG9WaWV3XSk7XG5cbiAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoc2Nyb2xsTGlzdGVuZXJSZWYuY3VycmVudCkge1xuICAgICAgc2NyZWVuR3JvdXBSZWYuY3VycmVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBzY3JvbGxMaXN0ZW5lclJlZi5jdXJyZW50KTtcbiAgICAgIHNjcm9sbExpc3RlbmVyUmVmLmN1cnJlbnQgPSBudWxsO1xuICAgIH1cblxuICAgIHNjcm9sbExpc3RlbmVyUmVmLmN1cnJlbnQgPSAoKSA9PiB7XG4gICAgICBjb25zdCBzY3JlZW5Db250YWluZXJFbGVtID0gKG1haW5QYW5lbFJlZi5jdXJyZW50LmNoaWxkcmVuWzBdIGFzIEhUTUxFbGVtZW50KTtcbiAgICAgIGlmICh0cmFuc2l0aW9uVHlwZSA9PT0gU2NyZWVuVHJhbnNpdGlvblR5cGUuRmFkZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICAvLyBmb3IgY292ZXIgZWZmZWN0XG4gICAgICBzY3JlZW5Db250YWluZXJFbGVtLnNjcm9sbFRvcCA9IHNjcmVlbkdyb3VwUmVmLmN1cnJlbnQuc2Nyb2xsVG9wO1xuICAgIH07XG4gICAgc2NyZWVuR3JvdXBSZWYuY3VycmVudC5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBzY3JvbGxMaXN0ZW5lclJlZi5jdXJyZW50KTtcbiAgfSwgW3RyYW5zaXRpb25UeXBlXSk7XG5cbiAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICBnZXRBcHBTdG9yZSgpLmRpc3BhdGNoKGFwcEFjdGlvbnMuc2NyZWVuR3JvdXBOYXZJbmZvQ2hhbmdlZChzY3JlZW5Hcm91cElkLCAwKSk7XG4gIH0sIFtpc0Rlc2lnbk1vZGUsIHNjcmVlbkdyb3VwSWRdKTtcblxuICBjb25zdCBvbkludGVyY3Rpb25DaGFuZ2UgPSBSZWFjdC51c2VDYWxsYmFjayhcbiAgICAoaW5kZXg6IG51bWJlciwgaXNJbnRlcnNlY3Rpbmc6IGJvb2xlYW4pID0+IHtcbiAgICAgIGlmICghbW9uaXRvclNjcm9sbFJlZi5jdXJyZW50KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChpc0ludGVyc2VjdGluZyAmJiBpbmRleCAhPT0gYWN0aXZlSW5kZXgpIHtcbiAgICAgICAgZ2V0QXBwU3RvcmUoKS5kaXNwYXRjaChhcHBBY3Rpb25zLnNjcmVlbkdyb3VwTmF2SW5mb0NoYW5nZWQoc2NyZWVuR3JvdXBJZCwgaW5kZXgsIGZhbHNlKSk7XG4gICAgICB9IGVsc2UgaWYgKCFpc0ludGVyc2VjdGluZyAmJiBpbmRleCA+IDApIHtcbiAgICAgICAgZ2V0QXBwU3RvcmUoKS5kaXNwYXRjaChhcHBBY3Rpb25zLnNjcmVlbkdyb3VwTmF2SW5mb0NoYW5nZWQoc2NyZWVuR3JvdXBJZCwgaW5kZXggLSAxLCBmYWxzZSkpO1xuICAgICAgfVxuICAgIH0sXG4gICAgW2FjdGl2ZUluZGV4LCBzY3JlZW5Hcm91cElkXVxuICApO1xuXG4gIGNvbnN0IHNlbGVjdEl0ZW0gPSAoZSkgPT4ge1xuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgZ2V0QXBwU3RvcmUoKS5kaXNwYXRjaChhcHBBY3Rpb25zLnNlbGVjdGlvbkNoYW5nZWQoeyBsYXlvdXRJZCwgbGF5b3V0SXRlbUlkIH0pKTtcbiAgfTtcblxuICBjb25zdCBvblNpZGVQYW5lbEhlaWdodENoYW5nZSA9IFJlYWN0LnVzZUNhbGxiYWNrKChpbmRleCwgaGVpZ2h0KSA9PiB7XG4gICAgY29uc3QgcmVsYXRlZEVsZW1lbnQgPSBtYWluUGFuZWxSZWYuY3VycmVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgYGRpdi5zY3JlZW4tbWFpbi1wYW5lbFtkYXRhLWluZGV4PVwiJHtpbmRleH1cIl1gXG4gICAgKSBhcyBIVE1MRWxlbWVudDtcbiAgICByZWxhdGVkRWxlbWVudC5zdHlsZS5oZWlnaHQgPSBgJHtoZWlnaHR9cHhgO1xuICB9LCBbXSk7XG5cbiAgY29uc3Qgb25TaWRlUGFuZWxzU2l6ZUNoYW5nZSA9IFJlYWN0LnVzZUNhbGxiYWNrKCh3aWR0aCwgaGVpZ2h0KSA9PiB7XG4gICAgY29uc3QgbWFpbiA9IHNjcmVlbkdyb3VwUmVmLmN1cnJlbnQuY2hpbGRyZW5bMV0gYXMgSFRNTEVsZW1lbnQ7XG4gICAgbWFpbi5zdHlsZS5oZWlnaHQgPSBgJHtoZWlnaHR9cHhgO1xuICB9LCBbXSk7XG5cbiAgaWYgKHNjcmVlbnMubGVuZ3RoID4gMCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2XG4gICAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lcygnZmxvdy1sYXlvdXQtaXRlbScsIHsgc2VsZWN0ZWQgfSl9XG4gICAgICAgIGNzcz17Z2V0U3R5bGUodmlld3BvcnRTaXplLmhlaWdodCwgaXNEZXNpZ25Nb2RlLCBidWlsZGVyVGhlbWUsIGl0ZW1JbmRleCA9PT0gMCwgc2VsZWN0ZWQpfVxuICAgICAgICBkYXRhLWxheW91dGl0ZW1pZD17bGF5b3V0SXRlbUlkfVxuICAgICAgICBkYXRhLWxheW91dGlkPXtsYXlvdXRJZH1cbiAgICAgICAgb25DbGljaz17c2VsZWN0SXRlbX1cbiAgICAgICAgcmVmPXtkb21SZWZ9XG4gICAgICA+XG4gICAgICAgIHtpc0Rlc2lnbk1vZGUgJiYgKDxkaXYgY2xhc3NOYW1lPVwic2NyZWVuLW1lbnVcIj5cbiAgICAgICAgICA8U2NyZWVuR3JvdXBNZW51XG4gICAgICAgICAgICBhY3RpdmVTY3JlZW5JbmRleD17YWN0aXZlSW5kZXh9XG4gICAgICAgICAgICBpdGVtSW5kZXg9e2l0ZW1JbmRleH1cbiAgICAgICAgICAgIHRvdGFsPXtzY3JlZW5zLmxlbmd0aH1cbiAgICAgICAgICAgIHNjcmVlbkdyb3VwSWQ9e3NjcmVlbkdyb3VwSWR9XG4gICAgICAgICAgICBsYXlvdXRJZD17bGF5b3V0SWR9XG4gICAgICAgICAgICBsYXlvdXRJdGVtSWQ9e2xheW91dEl0ZW1JZH1cbiAgICAgICAgICAgIHRoZW1lPXtidWlsZGVyVGhlbWV9XG4gICAgICAgICAgICBmb3JtYXRNZXNzYWdlPXtmb3JtYXRNZXNzYWdlfVxuICAgICAgICAgID48L1NjcmVlbkdyb3VwTWVudT5cbiAgICAgICAgPC9kaXY+KX1cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzY3JlZW4tZ3JvdXBcIiByZWY9e3NjcmVlbkdyb3VwUmVmfT5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNpZGUtcGFuZWxzXCI+XG4gICAgICAgICAgICB7c2NyZWVucy5tYXAoKHNjcmVlbklkLCBpZHgpID0+IHtcbiAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8U2NyZWVuU2lkZVBhbmVsXG4gICAgICAgICAgICAgICAgICBrZXk9e3NjcmVlbklkfVxuICAgICAgICAgICAgICAgICAgaW5kZXg9e2lkeH1cbiAgICAgICAgICAgICAgICAgIHNjcmVlbklkPXtzY3JlZW5JZH1cbiAgICAgICAgICAgICAgICAgIHZpZXdIZWlnaHQ9e3ZpZXdwb3J0U2l6ZS5oZWlnaHR9XG4gICAgICAgICAgICAgICAgICByZWZFbGVtZW50PXtpc0Rlc2lnbk1vZGUgPyBkb21SZWYuY3VycmVudCBhcyBIVE1MRGl2RWxlbWVudCA6IG51bGx9XG4gICAgICAgICAgICAgICAgICBsYXlvdXRFbnRyeT17TGF5b3V0RW50cnl9XG4gICAgICAgICAgICAgICAgICBpc0Rlc2lnbk1vZGU9e2lzRGVzaWduTW9kZX1cbiAgICAgICAgICAgICAgICAgIGlzQWN0aXZlPXtpZHggPT09IGFjdGl2ZUluZGV4fVxuICAgICAgICAgICAgICAgICAgc3RyZXRjaGVkPXtzdHJldGNoUGFuZWx9XG4gICAgICAgICAgICAgICAgICB0cmlnZ2VyVHlwZT17dHJpZ2dlclR5cGV9XG4gICAgICAgICAgICAgICAgICB2ZXJ0aWNhbFNwYWNlPXt2ZXJ0aWNhbFNwYWNlfVxuICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvblR5cGU9e3BhbmVsVHJhbnNpdGlvblR5cGV9XG4gICAgICAgICAgICAgICAgICBvbkhlaWdodENoYW5nZT17b25TaWRlUGFuZWxIZWlnaHRDaGFuZ2V9XG4gICAgICAgICAgICAgICAgICBvbkludGVyY3Rpb25DaGFuZ2U9e29uSW50ZXJjdGlvbkNoYW5nZX1cbiAgICAgICAgICAgICAgICA+PC9TY3JlZW5TaWRlUGFuZWw+XG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9KX1cbiAgICAgICAgICAgIDxSZWFjdFJlc2l6ZURldGVjdG9yIGhhbmRsZUhlaWdodCBvblJlc2l6ZT17b25TaWRlUGFuZWxzU2l6ZUNoYW5nZX0gLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1haW4tcGFuZWxzXCIgcmVmPXttYWluUGFuZWxSZWZ9PlxuICAgICAgICAgICAgPFNjcmVlbk1haW5QYW5lbExpc3RcbiAgICAgICAgICAgICAgYWN0aXZlSW5kZXg9e2FjdGl2ZUluZGV4fVxuICAgICAgICAgICAgICB2aWV3SGVpZ2h0PXt2aWV3cG9ydFNpemUuaGVpZ2h0fVxuICAgICAgICAgICAgICBpc0Rlc2lnbk1vZGU9e2lzRGVzaWduTW9kZX1cbiAgICAgICAgICAgICAgc2NyZWVucz17c2NyZWVuc31cbiAgICAgICAgICAgICAgdHJhbnNpdGlvblR5cGU9e3RyYW5zaXRpb25UeXBlfVxuICAgICAgICAgICAgICBsYXlvdXRFbnRyeT17TGF5b3V0RW50cnl9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAge2lzRGVzaWduTW9kZSAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncm91cC10aXBcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGlwLWNvbnRlbnRcIj48L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBa0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFVQTtBQU9BO0FBNkVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFPQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFTQTtBQUNBO0FBV0E7QUFDQTtBQUNBO0FBQ0E7QUFrQkE7QUFDQTtBQUVBO0FBQ0E7QUFVQTtBQUVBO0FBS0E7QUFFQTtBQUNBOzsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./jimu-layouts/lib/flow-layout/builder/screen-group.tsx\n");

/***/ }),

/***/ "./jimu-layouts/lib/flow-layout/builder/screen-menu.tsx":
/*!**************************************************************!*\
  !*** ./jimu-layouts/lib/flow-layout/builder/screen-menu.tsx ***!
  \**************************************************************/
/*! exports provided: ScreenGroupMenu */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ScreenGroupMenu\", function() { return ScreenGroupMenu; });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jimu_core__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ \"jimu-ui\");\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jimu_ui__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var jimu_for_builder__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-for-builder */ \"jimu-for-builder\");\n/* harmony import */ var jimu_for_builder__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jimu_for_builder__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-ui/advanced/setting-components */ \"jimu-ui/advanced/setting-components\");\n/* harmony import */ var jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _builder_common_layout_actions__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../builder/common-layout-actions */ \"./jimu-layouts/lib/builder/common-layout-actions.ts\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./utils */ \"./jimu-layouts/lib/flow-layout/builder/utils.ts\");\n/** @jsx jsx */\n\n\n\n\n\n\n\nvar addIcon = __webpack_require__(/*! jimu-ui/lib/icons/add-16.svg */ \"./jimu-ui/lib/icons/add-16.svg\");\nvar rectIcon = __webpack_require__(/*! jimu-ui/lib/icons/screen-group.svg */ \"./jimu-ui/lib/icons/screen-group.svg\");\nvar settingIcon = __webpack_require__(/*! jimu-ui/lib/icons/settings-12.svg */ \"./jimu-ui/lib/icons/settings-12.svg\");\nvar deleteIcon = __webpack_require__(/*! jimu-ui/lib/icons/tool-delete.svg */ \"./jimu-ui/lib/icons/tool-delete.svg\");\nvar closeIcon = __webpack_require__(/*! jimu-ui/lib/icons/close-16.svg */ \"./jimu-ui/lib/icons/close-16.svg\");\nvar duplicateIcon = __webpack_require__(/*! jimu-ui/lib/icons/duplicate-16.svg */ \"./jimu-ui/lib/icons/duplicate-16.svg\");\nvar upIcon = __webpack_require__(/*! jimu-ui/lib/icons/arrow-up-12.svg */ \"./jimu-ui/lib/icons/arrow-up-12.svg\");\nvar dupliateIcon = __webpack_require__(/*! jimu-ui/lib/icons/duplicate-16.svg */ \"./jimu-ui/lib/icons/duplicate-16.svg\");\nvar dirUpIcon = __webpack_require__(/*! jimu-ui/lib/icons/direction-up.svg */ \"./jimu-ui/lib/icons/direction-up.svg\");\nfunction ScreenGroupMenu(props) {\n    var formatMessage = props.formatMessage, activeScreenIndex = props.activeScreenIndex, itemIndex = props.itemIndex, total = props.total, theme = props.theme, layoutId = props.layoutId, layoutItemId = props.layoutItemId, screenGroupId = props.screenGroupId;\n    var order = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"ReactRedux\"].useSelector(function (state) {\n        return state.appConfig.layouts[layoutId].order;\n    });\n    var _a = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useState(false), showPopper = _a[0], setShowPopper = _a[1];\n    var _b = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useState(false), showBlockPopper = _b[0], setShowBlockPopper = _b[1];\n    var _c = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useState(false), showScreenGroupPopper = _c[0], setShowScreenGroupPopper = _c[1];\n    var popperRef = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useRef();\n    var blockPopperRef = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useRef();\n    var screenGroupPopperRef = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useRef();\n    var toggleScreenPopper = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useCallback(function () {\n        setShowPopper(!showPopper);\n    }, [showPopper]);\n    var toggleBlockPopper = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useCallback(function () {\n        setShowBlockPopper(!showBlockPopper);\n    }, [showBlockPopper]);\n    var toggleScreenGroupPopper = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useCallback(function () {\n        setShowScreenGroupPopper(!showScreenGroupPopper);\n    }, [showScreenGroupPopper]);\n    var closeScreenPopper = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useCallback(function () {\n        setShowPopper(false);\n    }, []);\n    var moveup = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useCallback(function () {\n        Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"getAppStore\"])().dispatch(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"appActions\"].screenGroupNavInfoChanged(screenGroupId, activeScreenIndex - 1));\n    }, [screenGroupId, activeScreenIndex]);\n    var moveLayoutItemUp = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useCallback(function () {\n        var appConfigAction = Object(jimu_for_builder__WEBPACK_IMPORTED_MODULE_2__[\"getAppConfigAction\"])();\n        var order = appConfigAction.appConfig.layouts[layoutId].order.asMutable();\n        order[itemIndex] = order[itemIndex - 1];\n        order[itemIndex - 1] = layoutItemId;\n        appConfigAction.editLayoutOrder({ layoutId: layoutId }, order).exec();\n    }, [layoutId, layoutItemId, itemIndex]);\n    var movedown = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useCallback(function () {\n        Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"getAppStore\"])().dispatch(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"appActions\"].screenGroupNavInfoChanged(screenGroupId, activeScreenIndex + 1));\n    }, [screenGroupId, activeScreenIndex]);\n    var moveLayoutItemDown = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useCallback(function () {\n        var appConfigAction = Object(jimu_for_builder__WEBPACK_IMPORTED_MODULE_2__[\"getAppConfigAction\"])();\n        var order = appConfigAction.appConfig.layouts[layoutId].order.asMutable();\n        order[itemIndex] = order[itemIndex + 1];\n        order[itemIndex + 1] = layoutItemId;\n        appConfigAction.editLayoutOrder({ layoutId: layoutId }, order).exec();\n    }, [layoutId, layoutItemId, itemIndex]);\n    var removeLayoutItem = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useCallback(function () {\n        var appConfigAction = Object(jimu_for_builder__WEBPACK_IMPORTED_MODULE_2__[\"getAppConfigAction\"])();\n        appConfigAction.removeLayoutItem({ layoutId: layoutId, layoutItemId: layoutItemId }, true).exec();\n    }, [layoutId, layoutItemId]);\n    var removeScreen = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useCallback(function () {\n        var appConfigAction = Object(jimu_for_builder__WEBPACK_IMPORTED_MODULE_2__[\"getAppConfigAction\"])();\n        appConfigAction.removeScreenByIndex(activeScreenIndex, screenGroupId).exec();\n        if (activeScreenIndex === total - 1) {\n            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"getAppStore\"])().dispatch(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"appActions\"].screenGroupNavInfoChanged(screenGroupId, activeScreenIndex - 1));\n        }\n    }, [activeScreenIndex, total, screenGroupId]);\n    var duplicateScreen = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useCallback(function () {\n        var appConfigAction = Object(jimu_for_builder__WEBPACK_IMPORTED_MODULE_2__[\"getAppConfigAction\"])();\n        appConfigAction.duplicateScreenByIndex(activeScreenIndex, screenGroupId);\n        appConfigAction.exec();\n        Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"getAppStore\"])().dispatch(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"appActions\"].screenGroupNavInfoChanged(screenGroupId, activeScreenIndex + 1));\n    }, [activeScreenIndex, screenGroupId]);\n    var addScreen = function (templateJson) {\n        var appConfigAction = Object(jimu_for_builder__WEBPACK_IMPORTED_MODULE_2__[\"getAppConfigAction\"])();\n        var screenGroupId = appConfigAction.appConfig.layouts[layoutId].content[layoutItemId].screenGroupId;\n        appConfigAction.addScreenFromTemplate(templateJson, screenGroupId);\n        Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"getAppStore\"])().dispatch(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"appActions\"].layoutChanged(appConfigAction.appConfig, { layoutId: layoutId, layoutItemId: layoutItemId }));\n        closeScreenPopper();\n    };\n    var onTemplateBlockSelected = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useCallback(function (template) {\n        Object(_utils__WEBPACK_IMPORTED_MODULE_5__[\"addTemplateRow\"])(layoutId, layoutItemId, template);\n        setShowBlockPopper(false);\n    }, [layoutId, layoutItemId]);\n    var onTemplateScreenGroupSelected = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useCallback(function (template) {\n        Object(_utils__WEBPACK_IMPORTED_MODULE_5__[\"addTemplateScreenGroup\"])(layoutId, layoutItemId, template);\n        setShowScreenGroupPopper(false);\n    }, [layoutId, layoutItemId]);\n    var duplicateItem = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useCallback(function () {\n        Object(_builder_common_layout_actions__WEBPACK_IMPORTED_MODULE_4__[\"duplicateLayoutItem\"])({ layoutId: layoutId, layoutItemId: layoutItemId });\n    }, [layoutId, layoutItemId]);\n    return (Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"menu-bar d-flex justify-content-between align-items-center\" },\n        Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"d-flex justify-content-start align-items-center\" },\n            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"info ml-2\" },\n                formatMessage('screen'),\n                \": \",\n                activeScreenIndex + 1,\n                \" / \",\n                total),\n            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"Tooltip\"], { title: activeScreenIndex === 0 ? '' : formatMessage('previousScreen'), placement: \"bottom\" },\n                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"Button\"], { icon: true, className: \"rounded-circle\", disabled: activeScreenIndex === 0, type: \"tertiary\", onClick: moveup },\n                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"Icon\"], { icon: upIcon, color: \"var(--white)\", size: 16 }))),\n            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"Tooltip\"], { title: activeScreenIndex === total - 1 ? '' : formatMessage('nextScreen'), placement: \"bottom\" },\n                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"Button\"], { icon: true, className: \"rounded-circle\", disabled: activeScreenIndex === total - 1, type: \"tertiary\", onClick: movedown },\n                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"Icon\"], { icon: upIcon, rotate: 180, color: \"var(--white)\", size: 16 }))),\n            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"Tooltip\"], { title: formatMessage('setting'), placement: \"bottom\" },\n                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"Button\"], { icon: true, className: \"rounded-circle\", type: \"tertiary\" },\n                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"Icon\"], { icon: settingIcon, color: \"var(--white)\", size: 16 }))),\n            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { ref: popperRef },\n                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"Tooltip\"], { title: formatMessage('addScreen'), placement: \"bottom\" },\n                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"Button\"], { icon: true, onClick: toggleScreenPopper, className: \"rounded-circle\", type: \"tertiary\" },\n                        Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"Icon\"], { icon: addIcon, color: \"var(--white)\", size: 16 })))),\n            showPopper && (Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_3__[\"ScreenTemplatePopper\"], { referenceElement: popperRef.current, theme: theme, onItemSelect: addScreen, onClose: closeScreenPopper })),\n            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"Tooltip\"], { title: formatMessage('duplicateScreen'), placement: \"bottom\" },\n                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"Button\"], { icon: true, className: \"rounded-circle\", type: \"tertiary\", onClick: duplicateScreen },\n                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"Icon\"], { icon: duplicateIcon, color: \"var(--white)\", size: 16 }))),\n            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"Tooltip\"], { title: formatMessage('deleteScreen'), placement: \"bottom\" },\n                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"Button\"], { icon: true, className: \"rounded-circle\", type: \"tertiary\", onClick: removeScreen },\n                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"Icon\"], { icon: deleteIcon, color: \"var(--white)\", size: 16 })))),\n        Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"d-flex justify-content-end align-items-center\" },\n            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { ref: blockPopperRef },\n                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"Tooltip\"], { title: formatMessage('insertABlock'), placement: \"bottom\" },\n                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"Button\"], { icon: true, className: \"rounded-circle\", type: \"tertiary\", onClick: toggleBlockPopper },\n                        Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"Icon\"], { icon: addIcon, color: \"var(--white)\", size: 16 })))),\n            showBlockPopper && (Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_3__[\"BlockTemplatePopper\"], { referenceElement: blockPopperRef.current, theme: theme, onItemSelect: onTemplateBlockSelected, onClose: toggleBlockPopper })),\n            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { ref: screenGroupPopperRef },\n                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"Tooltip\"], { title: formatMessage('insertAScreenGroup'), placement: \"bottom\" },\n                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"Button\"], { icon: true, className: \"rounded-circle\", type: \"tertiary\", onClick: toggleScreenGroupPopper },\n                        Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"Icon\"], { icon: rectIcon, color: \"var(--white)\", size: 16 })))),\n            showScreenGroupPopper && (Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_3__[\"ScreenGroupTemplatePopper\"], { referenceElement: screenGroupPopperRef.current, theme: theme, onItemSelect: onTemplateScreenGroupSelected, onClose: toggleScreenGroupPopper })),\n            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"Tooltip\"], { title: formatMessage('duplicate'), placement: \"bottom\" },\n                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"Button\"], { icon: true, className: \"rounded-circle\", type: \"tertiary\", onClick: duplicateItem },\n                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"Icon\"], { icon: dupliateIcon, color: \"var(--white)\", size: 16 }))),\n            itemIndex > 0 && Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"Tooltip\"], { title: formatMessage('moveup'), placement: \"bottom\" },\n                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"Button\"], { icon: true, className: \"rounded-circle\", type: \"tertiary\", onClick: moveLayoutItemUp },\n                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"Icon\"], { icon: dirUpIcon, color: \"var(--white)\", size: 16 }))),\n            itemIndex < order.length - 1 && Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"Tooltip\"], { title: formatMessage('movedown'), placement: \"bottom\" },\n                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"Button\"], { icon: true, className: \"rounded-circle\", type: \"tertiary\", onClick: moveLayoutItemDown },\n                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"Icon\"], { icon: dirUpIcon, rotate: 180, color: \"var(--white)\", size: 16 }))),\n            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"Tooltip\"], { title: formatMessage('delete'), placement: \"bottom\" },\n                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"Button\"], { icon: true, className: \"rounded-circle\", type: \"tertiary\", onClick: removeLayoutItem },\n                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"Icon\"], { icon: closeIcon, color: \"var(--white)\", size: 16 }))))));\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWxheW91dHMvbGliL2Zsb3ctbGF5b3V0L2J1aWxkZXIvc2NyZWVuLW1lbnUudHN4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vamltdS1sYXlvdXRzL2xpYi9mbG93LWxheW91dC9idWlsZGVyL3NjcmVlbi1tZW51LnRzeD8zOWQ2Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKiBAanN4IGpzeCAqL1xuaW1wb3J0IHtcbiAgUmVhY3QsXG4gIFJlYWN0UmVkdXgsXG4gIGpzeCxcbiAgSU1UaGVtZVZhcmlhYmxlcyxcbiAgZ2V0QXBwU3RvcmUsXG4gIGFwcEFjdGlvbnMsXG4gIElNU3RhdGUsXG59IGZyb20gJ2ppbXUtY29yZSc7XG5pbXBvcnQgeyBUb29sdGlwLCBCdXR0b24sIEljb24gfSBmcm9tICdqaW11LXVpJztcbmltcG9ydCB7IGdldEFwcENvbmZpZ0FjdGlvbiB9IGZyb20gJ2ppbXUtZm9yLWJ1aWxkZXInO1xuaW1wb3J0IHsgU2NyZWVuVGVtcGxhdGVQb3BwZXIgfSBmcm9tICdqaW11LXVpL2FkdmFuY2VkL3NldHRpbmctY29tcG9uZW50cyc7XG5pbXBvcnQgeyBkdXBsaWNhdGVMYXlvdXRJdGVtIH0gZnJvbSAnLi4vLi4vYnVpbGRlci9jb21tb24tbGF5b3V0LWFjdGlvbnMnO1xuaW1wb3J0IHsgQmxvY2tUZW1wbGF0ZVBvcHBlciwgU2NyZWVuR3JvdXBUZW1wbGF0ZVBvcHBlciB9IGZyb20gJ2ppbXUtdWkvYWR2YW5jZWQvc2V0dGluZy1jb21wb25lbnRzJztcbmltcG9ydCB7IGFkZFRlbXBsYXRlUm93LCBhZGRUZW1wbGF0ZVNjcmVlbkdyb3VwIH0gZnJvbSAnLi91dGlscyc7XG5cbmNvbnN0IGFkZEljb24gPSByZXF1aXJlKCdqaW11LXVpL2xpYi9pY29ucy9hZGQtMTYuc3ZnJyk7XG5jb25zdCByZWN0SWNvbiA9IHJlcXVpcmUoJ2ppbXUtdWkvbGliL2ljb25zL3NjcmVlbi1ncm91cC5zdmcnKTtcbmNvbnN0IHNldHRpbmdJY29uID0gcmVxdWlyZSgnamltdS11aS9saWIvaWNvbnMvc2V0dGluZ3MtMTIuc3ZnJyk7XG5jb25zdCBkZWxldGVJY29uID0gcmVxdWlyZSgnamltdS11aS9saWIvaWNvbnMvdG9vbC1kZWxldGUuc3ZnJyk7XG5jb25zdCBjbG9zZUljb24gPSByZXF1aXJlKCdqaW11LXVpL2xpYi9pY29ucy9jbG9zZS0xNi5zdmcnKTtcbmNvbnN0IGR1cGxpY2F0ZUljb24gPSByZXF1aXJlKCdqaW11LXVpL2xpYi9pY29ucy9kdXBsaWNhdGUtMTYuc3ZnJyk7XG5jb25zdCB1cEljb24gPSByZXF1aXJlKCdqaW11LXVpL2xpYi9pY29ucy9hcnJvdy11cC0xMi5zdmcnKTtcbmNvbnN0IGR1cGxpYXRlSWNvbiA9IHJlcXVpcmUoJ2ppbXUtdWkvbGliL2ljb25zL2R1cGxpY2F0ZS0xNi5zdmcnKTtcbmNvbnN0IGRpclVwSWNvbiA9IHJlcXVpcmUoJ2ppbXUtdWkvbGliL2ljb25zL2RpcmVjdGlvbi11cC5zdmcnKTtcblxuaW50ZXJmYWNlIFByb3BzIHtcbiAgaXRlbUluZGV4OiBudW1iZXI7XG4gIGFjdGl2ZVNjcmVlbkluZGV4OiBudW1iZXI7XG4gIHRvdGFsOiBudW1iZXI7XG4gIHNjcmVlbkdyb3VwSWQ6IHN0cmluZztcbiAgbGF5b3V0SWQ6IHN0cmluZztcbiAgbGF5b3V0SXRlbUlkOiBzdHJpbmc7XG4gIHRoZW1lOiBJTVRoZW1lVmFyaWFibGVzO1xuICBmb3JtYXRNZXNzYWdlOiAoaWQ6IHN0cmluZykgPT4gc3RyaW5nO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gU2NyZWVuR3JvdXBNZW51KHByb3BzOiBQcm9wcykge1xuICBjb25zdCB7IGZvcm1hdE1lc3NhZ2UsIGFjdGl2ZVNjcmVlbkluZGV4LCBpdGVtSW5kZXgsIHRvdGFsLCB0aGVtZSwgbGF5b3V0SWQsIGxheW91dEl0ZW1JZCwgc2NyZWVuR3JvdXBJZCB9ID0gcHJvcHM7XG5cbiAgY29uc3Qgb3JkZXIgPSBSZWFjdFJlZHV4LnVzZVNlbGVjdG9yKChzdGF0ZTogSU1TdGF0ZSkgPT4ge1xuICAgIHJldHVybiBzdGF0ZS5hcHBDb25maWcubGF5b3V0c1tsYXlvdXRJZF0ub3JkZXI7XG4gIH0pO1xuXG4gIGNvbnN0IFtzaG93UG9wcGVyLCBzZXRTaG93UG9wcGVyXSA9IFJlYWN0LnVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3Nob3dCbG9ja1BvcHBlciwgc2V0U2hvd0Jsb2NrUG9wcGVyXSA9IFJlYWN0LnVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3Nob3dTY3JlZW5Hcm91cFBvcHBlciwgc2V0U2hvd1NjcmVlbkdyb3VwUG9wcGVyXSA9IFJlYWN0LnVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgcG9wcGVyUmVmID0gUmVhY3QudXNlUmVmPEhUTUxEaXZFbGVtZW50PigpO1xuICBjb25zdCBibG9ja1BvcHBlclJlZiA9IFJlYWN0LnVzZVJlZjxIVE1MRGl2RWxlbWVudD4oKTtcbiAgY29uc3Qgc2NyZWVuR3JvdXBQb3BwZXJSZWYgPSBSZWFjdC51c2VSZWY8SFRNTERpdkVsZW1lbnQ+KCk7XG5cbiAgY29uc3QgdG9nZ2xlU2NyZWVuUG9wcGVyID0gUmVhY3QudXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIHNldFNob3dQb3BwZXIoIXNob3dQb3BwZXIpO1xuICB9LCBbc2hvd1BvcHBlcl0pO1xuXG4gIGNvbnN0IHRvZ2dsZUJsb2NrUG9wcGVyID0gUmVhY3QudXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIHNldFNob3dCbG9ja1BvcHBlcighc2hvd0Jsb2NrUG9wcGVyKTtcbiAgfSwgW3Nob3dCbG9ja1BvcHBlcl0pO1xuXG4gIGNvbnN0IHRvZ2dsZVNjcmVlbkdyb3VwUG9wcGVyID0gUmVhY3QudXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIHNldFNob3dTY3JlZW5Hcm91cFBvcHBlcighc2hvd1NjcmVlbkdyb3VwUG9wcGVyKTtcbiAgfSwgW3Nob3dTY3JlZW5Hcm91cFBvcHBlcl0pO1xuXG4gIGNvbnN0IGNsb3NlU2NyZWVuUG9wcGVyID0gUmVhY3QudXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIHNldFNob3dQb3BwZXIoZmFsc2UpO1xuICB9LCBbXSk7XG5cbiAgY29uc3QgbW92ZXVwID0gUmVhY3QudXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGdldEFwcFN0b3JlKCkuZGlzcGF0Y2goYXBwQWN0aW9ucy5zY3JlZW5Hcm91cE5hdkluZm9DaGFuZ2VkKHNjcmVlbkdyb3VwSWQsIGFjdGl2ZVNjcmVlbkluZGV4IC0gMSkpO1xuICB9LCBbc2NyZWVuR3JvdXBJZCwgYWN0aXZlU2NyZWVuSW5kZXhdKTtcblxuICBjb25zdCBtb3ZlTGF5b3V0SXRlbVVwID0gUmVhY3QudXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGNvbnN0IGFwcENvbmZpZ0FjdGlvbiA9IGdldEFwcENvbmZpZ0FjdGlvbigpO1xuICAgIGNvbnN0IG9yZGVyID0gYXBwQ29uZmlnQWN0aW9uLmFwcENvbmZpZy5sYXlvdXRzW2xheW91dElkXS5vcmRlci5hc011dGFibGUoKTtcbiAgICBvcmRlcltpdGVtSW5kZXhdID0gb3JkZXJbaXRlbUluZGV4IC0gMV07XG4gICAgb3JkZXJbaXRlbUluZGV4IC0gMV0gPSBsYXlvdXRJdGVtSWQ7XG4gICAgYXBwQ29uZmlnQWN0aW9uLmVkaXRMYXlvdXRPcmRlcih7IGxheW91dElkIH0sIG9yZGVyKS5leGVjKCk7XG4gIH0sIFtsYXlvdXRJZCwgbGF5b3V0SXRlbUlkLCBpdGVtSW5kZXhdKTtcblxuICBjb25zdCBtb3ZlZG93biA9IFJlYWN0LnVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBnZXRBcHBTdG9yZSgpLmRpc3BhdGNoKGFwcEFjdGlvbnMuc2NyZWVuR3JvdXBOYXZJbmZvQ2hhbmdlZChzY3JlZW5Hcm91cElkLCBhY3RpdmVTY3JlZW5JbmRleCArIDEpKTtcbiAgfSwgW3NjcmVlbkdyb3VwSWQsIGFjdGl2ZVNjcmVlbkluZGV4XSk7XG5cbiAgY29uc3QgbW92ZUxheW91dEl0ZW1Eb3duID0gUmVhY3QudXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGNvbnN0IGFwcENvbmZpZ0FjdGlvbiA9IGdldEFwcENvbmZpZ0FjdGlvbigpO1xuICAgIGNvbnN0IG9yZGVyID0gYXBwQ29uZmlnQWN0aW9uLmFwcENvbmZpZy5sYXlvdXRzW2xheW91dElkXS5vcmRlci5hc011dGFibGUoKTtcbiAgICBvcmRlcltpdGVtSW5kZXhdID0gb3JkZXJbaXRlbUluZGV4ICsgMV07XG4gICAgb3JkZXJbaXRlbUluZGV4ICsgMV0gPSBsYXlvdXRJdGVtSWQ7XG4gICAgYXBwQ29uZmlnQWN0aW9uLmVkaXRMYXlvdXRPcmRlcih7IGxheW91dElkIH0sIG9yZGVyKS5leGVjKCk7XG4gIH0sIFtsYXlvdXRJZCwgbGF5b3V0SXRlbUlkLCBpdGVtSW5kZXhdKTtcblxuICBjb25zdCByZW1vdmVMYXlvdXRJdGVtID0gUmVhY3QudXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGNvbnN0IGFwcENvbmZpZ0FjdGlvbiA9IGdldEFwcENvbmZpZ0FjdGlvbigpO1xuICAgIGFwcENvbmZpZ0FjdGlvbi5yZW1vdmVMYXlvdXRJdGVtKFxuICAgICAgeyBsYXlvdXRJZCwgbGF5b3V0SXRlbUlkIH0sXG4gICAgICB0cnVlLFxuICAgICkuZXhlYygpO1xuICB9LCBbbGF5b3V0SWQsIGxheW91dEl0ZW1JZF0pO1xuXG4gIGNvbnN0IHJlbW92ZVNjcmVlbiA9IFJlYWN0LnVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBjb25zdCBhcHBDb25maWdBY3Rpb24gPSBnZXRBcHBDb25maWdBY3Rpb24oKTtcbiAgICBhcHBDb25maWdBY3Rpb24ucmVtb3ZlU2NyZWVuQnlJbmRleChhY3RpdmVTY3JlZW5JbmRleCwgc2NyZWVuR3JvdXBJZCkuZXhlYygpO1xuICAgIGlmIChhY3RpdmVTY3JlZW5JbmRleCA9PT0gdG90YWwgLSAxKSB7XG4gICAgICBnZXRBcHBTdG9yZSgpLmRpc3BhdGNoKGFwcEFjdGlvbnMuc2NyZWVuR3JvdXBOYXZJbmZvQ2hhbmdlZChzY3JlZW5Hcm91cElkLCBhY3RpdmVTY3JlZW5JbmRleCAtIDEpKTtcbiAgICB9XG4gIH0sIFthY3RpdmVTY3JlZW5JbmRleCwgdG90YWwsIHNjcmVlbkdyb3VwSWRdKTtcblxuICBjb25zdCBkdXBsaWNhdGVTY3JlZW4gPSBSZWFjdC51c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgY29uc3QgYXBwQ29uZmlnQWN0aW9uID0gZ2V0QXBwQ29uZmlnQWN0aW9uKCk7XG4gICAgYXBwQ29uZmlnQWN0aW9uLmR1cGxpY2F0ZVNjcmVlbkJ5SW5kZXgoYWN0aXZlU2NyZWVuSW5kZXgsIHNjcmVlbkdyb3VwSWQpO1xuICAgIGFwcENvbmZpZ0FjdGlvbi5leGVjKCk7XG4gICAgZ2V0QXBwU3RvcmUoKS5kaXNwYXRjaChhcHBBY3Rpb25zLnNjcmVlbkdyb3VwTmF2SW5mb0NoYW5nZWQoc2NyZWVuR3JvdXBJZCwgYWN0aXZlU2NyZWVuSW5kZXggKyAxKSk7XG4gIH0sIFthY3RpdmVTY3JlZW5JbmRleCwgc2NyZWVuR3JvdXBJZF0pO1xuXG4gIGNvbnN0IGFkZFNjcmVlbiA9ICh0ZW1wbGF0ZUpzb24pID0+IHtcbiAgICBjb25zdCBhcHBDb25maWdBY3Rpb24gPSBnZXRBcHBDb25maWdBY3Rpb24oKTtcbiAgICBjb25zdCBzY3JlZW5Hcm91cElkID0gYXBwQ29uZmlnQWN0aW9uLmFwcENvbmZpZy5sYXlvdXRzW2xheW91dElkXS5jb250ZW50W2xheW91dEl0ZW1JZF0uc2NyZWVuR3JvdXBJZDtcbiAgICBhcHBDb25maWdBY3Rpb24uYWRkU2NyZWVuRnJvbVRlbXBsYXRlKHRlbXBsYXRlSnNvbiwgc2NyZWVuR3JvdXBJZCk7XG5cbiAgICBnZXRBcHBTdG9yZSgpLmRpc3BhdGNoKGFwcEFjdGlvbnMubGF5b3V0Q2hhbmdlZChhcHBDb25maWdBY3Rpb24uYXBwQ29uZmlnLCB7IGxheW91dElkLCBsYXlvdXRJdGVtSWQgfSkpO1xuICAgIGNsb3NlU2NyZWVuUG9wcGVyKCk7XG4gIH07XG5cbiAgY29uc3Qgb25UZW1wbGF0ZUJsb2NrU2VsZWN0ZWQgPSBSZWFjdC51c2VDYWxsYmFjaygodGVtcGxhdGUpID0+IHtcbiAgICBhZGRUZW1wbGF0ZVJvdyhsYXlvdXRJZCwgbGF5b3V0SXRlbUlkLCB0ZW1wbGF0ZSBhcyBhbnkpO1xuXG4gICAgc2V0U2hvd0Jsb2NrUG9wcGVyKGZhbHNlKTtcbiAgfSwgW2xheW91dElkLCBsYXlvdXRJdGVtSWRdKTtcblxuICBjb25zdCBvblRlbXBsYXRlU2NyZWVuR3JvdXBTZWxlY3RlZCA9IFJlYWN0LnVzZUNhbGxiYWNrKCh0ZW1wbGF0ZSkgPT4ge1xuICAgIGFkZFRlbXBsYXRlU2NyZWVuR3JvdXAobGF5b3V0SWQsIGxheW91dEl0ZW1JZCwgdGVtcGxhdGUgYXMgYW55KTtcblxuICAgIHNldFNob3dTY3JlZW5Hcm91cFBvcHBlcihmYWxzZSk7XG4gIH0sIFtsYXlvdXRJZCwgbGF5b3V0SXRlbUlkXSk7XG5cbiAgY29uc3QgZHVwbGljYXRlSXRlbSA9IFJlYWN0LnVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBkdXBsaWNhdGVMYXlvdXRJdGVtKHsgbGF5b3V0SWQsIGxheW91dEl0ZW1JZCB9KTtcbiAgfSwgW2xheW91dElkLCBsYXlvdXRJdGVtSWRdKTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwibWVudS1iYXIgZC1mbGV4IGp1c3RpZnktY29udGVudC1iZXR3ZWVuIGFsaWduLWl0ZW1zLWNlbnRlclwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJkLWZsZXgganVzdGlmeS1jb250ZW50LXN0YXJ0IGFsaWduLWl0ZW1zLWNlbnRlclwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImluZm8gbWwtMlwiPlxuICAgICAgICAgIHtmb3JtYXRNZXNzYWdlKCdzY3JlZW4nKX06IHthY3RpdmVTY3JlZW5JbmRleCArIDF9IC8ge3RvdGFsfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPFRvb2x0aXAgdGl0bGU9e2FjdGl2ZVNjcmVlbkluZGV4ID09PSAwID8gJycgOiBmb3JtYXRNZXNzYWdlKCdwcmV2aW91c1NjcmVlbicpfSBwbGFjZW1lbnQ9XCJib3R0b21cIj5cbiAgICAgICAgICA8QnV0dG9uIGljb24gY2xhc3NOYW1lPVwicm91bmRlZC1jaXJjbGVcIiBkaXNhYmxlZD17YWN0aXZlU2NyZWVuSW5kZXggPT09IDB9IHR5cGU9XCJ0ZXJ0aWFyeVwiIG9uQ2xpY2s9e21vdmV1cH0+XG4gICAgICAgICAgICA8SWNvbiBpY29uPXt1cEljb259IGNvbG9yPVwidmFyKC0td2hpdGUpXCIgc2l6ZT17MTZ9PjwvSWNvbj5cbiAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgPC9Ub29sdGlwPlxuICAgICAgICA8VG9vbHRpcCB0aXRsZT17YWN0aXZlU2NyZWVuSW5kZXggPT09IHRvdGFsIC0gMSA/ICcnIDogZm9ybWF0TWVzc2FnZSgnbmV4dFNjcmVlbicpfSBwbGFjZW1lbnQ9XCJib3R0b21cIj5cbiAgICAgICAgICA8QnV0dG9uIGljb24gY2xhc3NOYW1lPVwicm91bmRlZC1jaXJjbGVcIiBkaXNhYmxlZD17YWN0aXZlU2NyZWVuSW5kZXggPT09IHRvdGFsIC0gMX0gdHlwZT1cInRlcnRpYXJ5XCIgb25DbGljaz17bW92ZWRvd259PlxuICAgICAgICAgICAgPEljb24gaWNvbj17dXBJY29ufSByb3RhdGU9ezE4MH0gY29sb3I9XCJ2YXIoLS13aGl0ZSlcIiBzaXplPXsxNn0+PC9JY29uPlxuICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICA8L1Rvb2x0aXA+XG4gICAgICAgIDxUb29sdGlwIHRpdGxlPXtmb3JtYXRNZXNzYWdlKCdzZXR0aW5nJyl9IHBsYWNlbWVudD1cImJvdHRvbVwiPlxuICAgICAgICAgIDxCdXR0b24gaWNvbiBjbGFzc05hbWU9XCJyb3VuZGVkLWNpcmNsZVwiIHR5cGU9XCJ0ZXJ0aWFyeVwiPlxuICAgICAgICAgICAgPEljb24gaWNvbj17c2V0dGluZ0ljb259IGNvbG9yPVwidmFyKC0td2hpdGUpXCIgc2l6ZT17MTZ9PjwvSWNvbj5cbiAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgPC9Ub29sdGlwPlxuICAgICAgICA8ZGl2IHJlZj17cG9wcGVyUmVmfT5cbiAgICAgICAgICA8VG9vbHRpcCB0aXRsZT17Zm9ybWF0TWVzc2FnZSgnYWRkU2NyZWVuJyl9IHBsYWNlbWVudD1cImJvdHRvbVwiPlxuICAgICAgICAgICAgPEJ1dHRvbiBpY29uIG9uQ2xpY2s9e3RvZ2dsZVNjcmVlblBvcHBlcn0gY2xhc3NOYW1lPVwicm91bmRlZC1jaXJjbGVcIiB0eXBlPVwidGVydGlhcnlcIj5cbiAgICAgICAgICAgICAgPEljb24gaWNvbj17YWRkSWNvbn0gY29sb3I9XCJ2YXIoLS13aGl0ZSlcIiBzaXplPXsxNn0+PC9JY29uPlxuICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgPC9Ub29sdGlwPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAge3Nob3dQb3BwZXIgJiYgKFxuICAgICAgICAgIDxTY3JlZW5UZW1wbGF0ZVBvcHBlclxuICAgICAgICAgICAgcmVmZXJlbmNlRWxlbWVudD17cG9wcGVyUmVmLmN1cnJlbnR9XG4gICAgICAgICAgICB0aGVtZT17dGhlbWV9XG4gICAgICAgICAgICBvbkl0ZW1TZWxlY3Q9e2FkZFNjcmVlbn1cbiAgICAgICAgICAgIG9uQ2xvc2U9e2Nsb3NlU2NyZWVuUG9wcGVyfVxuICAgICAgICAgID48L1NjcmVlblRlbXBsYXRlUG9wcGVyPlxuICAgICAgICApfVxuICAgICAgICA8VG9vbHRpcCB0aXRsZT17Zm9ybWF0TWVzc2FnZSgnZHVwbGljYXRlU2NyZWVuJyl9IHBsYWNlbWVudD1cImJvdHRvbVwiPlxuICAgICAgICAgIDxCdXR0b24gaWNvbiBjbGFzc05hbWU9XCJyb3VuZGVkLWNpcmNsZVwiIHR5cGU9XCJ0ZXJ0aWFyeVwiIG9uQ2xpY2s9e2R1cGxpY2F0ZVNjcmVlbn0+XG4gICAgICAgICAgICA8SWNvbiBpY29uPXtkdXBsaWNhdGVJY29ufSBjb2xvcj1cInZhcigtLXdoaXRlKVwiIHNpemU9ezE2fT48L0ljb24+XG4gICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgIDwvVG9vbHRpcD5cbiAgICAgICAgPFRvb2x0aXAgdGl0bGU9e2Zvcm1hdE1lc3NhZ2UoJ2RlbGV0ZVNjcmVlbicpfSBwbGFjZW1lbnQ9XCJib3R0b21cIj5cbiAgICAgICAgICA8QnV0dG9uIGljb24gY2xhc3NOYW1lPVwicm91bmRlZC1jaXJjbGVcIiB0eXBlPVwidGVydGlhcnlcIiBvbkNsaWNrPXtyZW1vdmVTY3JlZW59PlxuICAgICAgICAgICAgPEljb24gaWNvbj17ZGVsZXRlSWNvbn0gY29sb3I9XCJ2YXIoLS13aGl0ZSlcIiBzaXplPXsxNn0+PC9JY29uPlxuICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICA8L1Rvb2x0aXA+XG4gICAgICA8L2Rpdj5cblxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJkLWZsZXgganVzdGlmeS1jb250ZW50LWVuZCBhbGlnbi1pdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgPGRpdiByZWY9e2Jsb2NrUG9wcGVyUmVmfT5cbiAgICAgICAgICA8VG9vbHRpcCB0aXRsZT17Zm9ybWF0TWVzc2FnZSgnaW5zZXJ0QUJsb2NrJyl9IHBsYWNlbWVudD1cImJvdHRvbVwiPlxuICAgICAgICAgICAgPEJ1dHRvbiBpY29uIGNsYXNzTmFtZT1cInJvdW5kZWQtY2lyY2xlXCIgdHlwZT1cInRlcnRpYXJ5XCIgb25DbGljaz17dG9nZ2xlQmxvY2tQb3BwZXJ9PlxuICAgICAgICAgICAgICA8SWNvbiBpY29uPXthZGRJY29ufSBjb2xvcj1cInZhcigtLXdoaXRlKVwiIHNpemU9ezE2fT48L0ljb24+XG4gICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICA8L1Rvb2x0aXA+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICB7c2hvd0Jsb2NrUG9wcGVyICYmIChcbiAgICAgICAgICA8QmxvY2tUZW1wbGF0ZVBvcHBlclxuICAgICAgICAgICAgcmVmZXJlbmNlRWxlbWVudD17YmxvY2tQb3BwZXJSZWYuY3VycmVudH1cbiAgICAgICAgICAgIHRoZW1lPXt0aGVtZX1cbiAgICAgICAgICAgIG9uSXRlbVNlbGVjdD17b25UZW1wbGF0ZUJsb2NrU2VsZWN0ZWR9XG4gICAgICAgICAgICBvbkNsb3NlPXt0b2dnbGVCbG9ja1BvcHBlcn0+XG4gICAgICAgICAgPC9CbG9ja1RlbXBsYXRlUG9wcGVyPlxuICAgICAgICApfVxuICAgICAgICA8ZGl2IHJlZj17c2NyZWVuR3JvdXBQb3BwZXJSZWZ9PlxuICAgICAgICAgIDxUb29sdGlwIHRpdGxlPXtmb3JtYXRNZXNzYWdlKCdpbnNlcnRBU2NyZWVuR3JvdXAnKX0gcGxhY2VtZW50PVwiYm90dG9tXCI+XG4gICAgICAgICAgICA8QnV0dG9uIGljb24gY2xhc3NOYW1lPVwicm91bmRlZC1jaXJjbGVcIiB0eXBlPVwidGVydGlhcnlcIiBvbkNsaWNrPXt0b2dnbGVTY3JlZW5Hcm91cFBvcHBlcn0+XG4gICAgICAgICAgICAgIDxJY29uIGljb249e3JlY3RJY29ufSBjb2xvcj1cInZhcigtLXdoaXRlKVwiIHNpemU9ezE2fT48L0ljb24+XG4gICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICA8L1Rvb2x0aXA+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICB7c2hvd1NjcmVlbkdyb3VwUG9wcGVyICYmIChcbiAgICAgICAgICA8U2NyZWVuR3JvdXBUZW1wbGF0ZVBvcHBlclxuICAgICAgICAgICAgcmVmZXJlbmNlRWxlbWVudD17c2NyZWVuR3JvdXBQb3BwZXJSZWYuY3VycmVudH1cbiAgICAgICAgICAgIHRoZW1lPXt0aGVtZX1cbiAgICAgICAgICAgIG9uSXRlbVNlbGVjdD17b25UZW1wbGF0ZVNjcmVlbkdyb3VwU2VsZWN0ZWR9XG4gICAgICAgICAgICBvbkNsb3NlPXt0b2dnbGVTY3JlZW5Hcm91cFBvcHBlcn1cbiAgICAgICAgICA+PC9TY3JlZW5Hcm91cFRlbXBsYXRlUG9wcGVyPlxuICAgICAgICApfVxuICAgICAgICA8VG9vbHRpcCB0aXRsZT17Zm9ybWF0TWVzc2FnZSgnZHVwbGljYXRlJyl9IHBsYWNlbWVudD1cImJvdHRvbVwiPlxuICAgICAgICAgIDxCdXR0b24gaWNvbiBjbGFzc05hbWU9XCJyb3VuZGVkLWNpcmNsZVwiIHR5cGU9XCJ0ZXJ0aWFyeVwiIG9uQ2xpY2s9e2R1cGxpY2F0ZUl0ZW19PlxuICAgICAgICAgICAgPEljb24gaWNvbj17ZHVwbGlhdGVJY29ufSBjb2xvcj1cInZhcigtLXdoaXRlKVwiIHNpemU9ezE2fT48L0ljb24+XG4gICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgIDwvVG9vbHRpcD5cbiAgICAgICAge2l0ZW1JbmRleCA+IDAgJiYgPFRvb2x0aXAgdGl0bGU9e2Zvcm1hdE1lc3NhZ2UoJ21vdmV1cCcpfSBwbGFjZW1lbnQ9XCJib3R0b21cIj5cbiAgICAgICAgICA8QnV0dG9uIGljb24gY2xhc3NOYW1lPVwicm91bmRlZC1jaXJjbGVcIiB0eXBlPVwidGVydGlhcnlcIiBvbkNsaWNrPXttb3ZlTGF5b3V0SXRlbVVwfT5cbiAgICAgICAgICAgIDxJY29uIGljb249e2RpclVwSWNvbn0gY29sb3I9XCJ2YXIoLS13aGl0ZSlcIiBzaXplPXsxNn0+PC9JY29uPlxuICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICA8L1Rvb2x0aXA+fVxuICAgICAgICB7aXRlbUluZGV4IDwgb3JkZXIubGVuZ3RoIC0gMSAmJiA8VG9vbHRpcCB0aXRsZT17Zm9ybWF0TWVzc2FnZSgnbW92ZWRvd24nKX0gcGxhY2VtZW50PVwiYm90dG9tXCI+XG4gICAgICAgICAgPEJ1dHRvbiBpY29uIGNsYXNzTmFtZT1cInJvdW5kZWQtY2lyY2xlXCIgdHlwZT1cInRlcnRpYXJ5XCIgb25DbGljaz17bW92ZUxheW91dEl0ZW1Eb3dufT5cbiAgICAgICAgICAgIDxJY29uIGljb249e2RpclVwSWNvbn0gcm90YXRlPXsxODB9IGNvbG9yPVwidmFyKC0td2hpdGUpXCIgc2l6ZT17MTZ9PjwvSWNvbj5cbiAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgPC9Ub29sdGlwPn1cbiAgICAgICAgPFRvb2x0aXAgdGl0bGU9e2Zvcm1hdE1lc3NhZ2UoJ2RlbGV0ZScpfSBwbGFjZW1lbnQ9XCJib3R0b21cIj5cbiAgICAgICAgICA8QnV0dG9uIGljb24gY2xhc3NOYW1lPVwicm91bmRlZC1jaXJjbGVcIiB0eXBlPVwidGVydGlhcnlcIiBvbkNsaWNrPXtyZW1vdmVMYXlvdXRJdGVtfT5cbiAgICAgICAgICAgIDxJY29uIGljb249e2Nsb3NlSWNvbn0gY29sb3I9XCJ2YXIoLS13aGl0ZSlcIiBzaXplPXsxNn0+PC9JY29uPlxuICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICA8L1Rvb2x0aXA+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn0iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFhQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUlBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTs7QUFBQTs7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFRQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBUUE7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBTUE7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./jimu-layouts/lib/flow-layout/builder/screen-menu.tsx\n");

/***/ }),

/***/ "./jimu-layouts/lib/flow-layout/builder/screen-side-panel.tsx":
/*!********************************************************************!*\
  !*** ./jimu-layouts/lib/flow-layout/builder/screen-side-panel.tsx ***!
  \********************************************************************/
/*! exports provided: ScreenSidePanel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ScreenSidePanel\", function() { return ScreenSidePanel; });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jimu_core__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var jimu_core_dnd__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-core/dnd */ \"jimu-core/dnd\");\n/* harmony import */ var jimu_core_dnd__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jimu_core_dnd__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var jimu_for_builder__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-for-builder */ \"jimu-for-builder\");\n/* harmony import */ var jimu_for_builder__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jimu_for_builder__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-layouts/layout-runtime */ \"jimu-layouts/layout-runtime\");\n/* harmony import */ var jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _builder_interactive_resize_event_handler__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../builder/interactive/resize-event-handler */ \"./jimu-layouts/lib/builder/interactive/resize-event-handler.ts\");\n/* harmony import */ var _common_screen_side_panel__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../common/screen-side-panel */ \"./jimu-layouts/lib/flow-layout/common/screen-side-panel.tsx\");\n/* harmony import */ var _use_intersection__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../use-intersection */ \"./jimu-layouts/lib/flow-layout/use-intersection.tsx\");\nvar __makeTemplateObject = (undefined && undefined.__makeTemplateObject) || function (cooked, raw) {\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n    return cooked;\n};\n/** @jsx jsx */\n\n\n\n\n\n\n\nfunction getStyle(props, viewHeight, isDesignMode, isActive, verticalSpace, stretched, transitionType, isResizing, width) {\n    var side = props.side, size = props.size;\n    return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n    \", \";\\n\\n    .panel-content {\\n      position: relative;\\n      touch-action: none;\\n      width: \", \";\\n    }\\n    .panel-content:hover {\\n      .resize-handle {\\n        display: block;\\n      }\\n    }\\n    .resize-handle {\\n      position: absolute;\\n      cursor: ew-resize;\\n      top: 0;\\n      bottom: 0;\\n      display: \", \";\\n      touch-action: none;\\n      outline: 1px solid var(--light-400);\\n      width: 5px;\\n      &:after {\\n        content: '';\\n        position: absolute;\\n        z-index: -1;\\n        top: 0;\\n        bottom: 0;\\n        left: 50%;\\n        border-left: 1px dotted var(--light-400);\\n        transform: translate(-50%);\\n      }\\n\\n      &.left {\\n        left: -5px;\\n        display: \", \";\\n      }\\n      &.right {\\n        right: -5px;\\n        display: \", \";\\n      }\\n    }\\n  \"], [\"\\n    \", \";\\n\\n    .panel-content {\\n      position: relative;\\n      touch-action: none;\\n      width: \", \";\\n    }\\n    .panel-content:hover {\\n      .resize-handle {\\n        display: block;\\n      }\\n    }\\n    .resize-handle {\\n      position: absolute;\\n      cursor: ew-resize;\\n      top: 0;\\n      bottom: 0;\\n      display: \", \";\\n      touch-action: none;\\n      outline: 1px solid var(--light-400);\\n      width: 5px;\\n      &:after {\\n        content: '';\\n        position: absolute;\\n        z-index: -1;\\n        top: 0;\\n        bottom: 0;\\n        left: 50%;\\n        border-left: 1px dotted var(--light-400);\\n        transform: translate(-50%);\\n      }\\n\\n      &.left {\\n        left: -5px;\\n        display: \", \";\\n      }\\n      &.right {\\n        right: -5px;\\n        display: \", \";\\n      }\\n    }\\n  \"])), Object(_common_screen_side_panel__WEBPACK_IMPORTED_MODULE_5__[\"getSidePanelStyle\"])(props, viewHeight, isDesignMode, isActive, verticalSpace, stretched, transitionType), isResizing ? width + \"px\" : size, isResizing ? 'block' : 'none', side !== 'left' ? 'none' : 'none !important', side !== 'right' ? 'none' : 'none !important');\n}\nfunction updateScreenSize(screenId, size) {\n    var appConfigAction = Object(jimu_for_builder__WEBPACK_IMPORTED_MODULE_2__[\"getAppConfigAction\"])();\n    var screenJson = appConfigAction.appConfig.screens[screenId];\n    var newSize;\n    if (jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_3__[\"utils\"].isPercentage(screenJson.size)) {\n        newSize = jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_3__[\"utils\"].toRatio(size, document.body.clientWidth);\n    }\n    else {\n        newSize = Math.round(size) + \"px\";\n    }\n    screenJson = screenJson.set('size', newSize);\n    appConfigAction.editScreen(screenJson).exec();\n}\nfunction ScreenSidePanel(props) {\n    var index = props.index, screenId = props.screenId, onInterctionChange = props.onInterctionChange, onHeightChange = props.onHeightChange, isDesignMode = props.isDesignMode, viewHeight = props.viewHeight, LayoutEntry = props.layoutEntry, isActive = props.isActive, transitionType = props.transitionType, triggerType = props.triggerType, stretched = props.stretched, _a = props.verticalSpace, verticalSpace = _a === void 0 ? '0' : _a;\n    var screenJson = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"ReactRedux\"].useSelector(function (state) {\n        return state.appConfig.screens[screenId];\n    });\n    var sideLayouts = screenJson.sideLayouts;\n    var domRef = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useRef();\n    var elementRef = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useRef();\n    var interactableRef = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useRef();\n    var _b = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useState(false), isResizing = _b[0], setIsResizing = _b[1];\n    var _c = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useState(0), deltaWidth = _c[0], setDeltaWidth = _c[1];\n    var initWidth = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useRef();\n    var onResizeStart = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useCallback(function (id, width) {\n        initWidth.current = width;\n        setIsResizing(true);\n        setDeltaWidth(0);\n    }, []);\n    var onResizing = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useCallback(function (id, dx, dy, dw, dh) {\n        setDeltaWidth(dw);\n    }, []);\n    var onResizeEnd = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useCallback(function (id, dx, dy, dw, dh) {\n        updateScreenSize(screenId, initWidth.current + dw);\n        setIsResizing(false);\n    }, [screenId]);\n    jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useEffect(function () {\n        if (!interactableRef.current && elementRef.current) {\n            interactableRef.current = Object(jimu_core_dnd__WEBPACK_IMPORTED_MODULE_1__[\"interact\"])(elementRef.current);\n            Object(_builder_interactive_resize_event_handler__WEBPACK_IMPORTED_MODULE_4__[\"bindResizeHandler\"])(interactableRef.current, {\n                layoutItemId: screenId,\n                onResizeStart: onResizeStart,\n                onResizing: onResizing,\n                onResizeEnd: onResizeEnd,\n            });\n            return function () {\n                if (interactableRef.current) {\n                    interactableRef.current.unset();\n                    interactableRef.current = null;\n                }\n            };\n        }\n    }, [screenId, onResizeStart, onResizing, onResizeEnd]);\n    var intersectionChange = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useCallback(function (isIntersecting) {\n        onInterctionChange(index, isIntersecting);\n    }, [index, onInterctionChange]);\n    var onSizeChange = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useCallback(function (width, height) {\n        onHeightChange(index, height);\n    }, [index, onHeightChange]);\n    Object(_use_intersection__WEBPACK_IMPORTED_MODULE_6__[\"useIntersection\"])(domRef.current, props.refElement, triggerType !== null && triggerType !== void 0 ? triggerType : jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"ScreenTriggerType\"].Bottom, intersectionChange);\n    return (Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"screen-side-panel\", \"data-index\": index, ref: domRef, css: getStyle(screenJson, viewHeight, isDesignMode, isActive, verticalSpace, stretched, transitionType, isResizing, initWidth.current + deltaWidth) },\n        sideLayouts && (Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"panel-content\", ref: elementRef },\n            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(LayoutEntry, { layouts: sideLayouts }),\n            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"panel-spacing\" }),\n            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"span\", { className: \"resize-handle left rnd-resize-left\" }),\n            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"span\", { className: \"resize-handle right rnd-resize-right\" }))),\n        !sideLayouts && Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"panel-content-placeholder\" }),\n        Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"ReactResizeDetector\"], { handleHeight: true, onResize: onSizeChange })));\n}\nvar templateObject_1;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWxheW91dHMvbGliL2Zsb3ctbGF5b3V0L2J1aWxkZXIvc2NyZWVuLXNpZGUtcGFuZWwudHN4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vamltdS1sYXlvdXRzL2xpYi9mbG93LWxheW91dC9idWlsZGVyL3NjcmVlbi1zaWRlLXBhbmVsLnRzeD8xOTIyIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKiBAanN4IGpzeCAqL1xuaW1wb3J0IHsgUmVhY3QsIFJlYWN0UmVkdXgsIGpzeCwgY3NzLCBJTVN0YXRlLCBSZWFjdFJlc2l6ZURldGVjdG9yLCBJTVNjcmVlbkpzb24sIFNjcmVlblRyYW5zaXRpb25UeXBlLCBTY3JlZW5UcmlnZ2VyVHlwZSB9IGZyb20gJ2ppbXUtY29yZSc7XG5pbXBvcnQgeyBpbnRlcmFjdCB9IGZyb20gJ2ppbXUtY29yZS9kbmQnO1xuaW1wb3J0IHsgZ2V0QXBwQ29uZmlnQWN0aW9uIH0gZnJvbSAnamltdS1mb3ItYnVpbGRlcic7XG5pbXBvcnQgeyB1dGlscyB9IGZyb20gJ2ppbXUtbGF5b3V0cy9sYXlvdXQtcnVudGltZSc7XG5pbXBvcnQgeyBiaW5kUmVzaXplSGFuZGxlciB9IGZyb20gJy4uLy4uL2J1aWxkZXIvaW50ZXJhY3RpdmUvcmVzaXplLWV2ZW50LWhhbmRsZXInO1xuaW1wb3J0IHsgUHJvcHMsIGdldFNpZGVQYW5lbFN0eWxlIH0gZnJvbSAnLi4vY29tbW9uL3NjcmVlbi1zaWRlLXBhbmVsJztcbmltcG9ydCB7IHVzZUludGVyc2VjdGlvbiB9IGZyb20gJy4uL3VzZS1pbnRlcnNlY3Rpb24nO1xuXG5mdW5jdGlvbiBnZXRTdHlsZShcbiAgcHJvcHM6IElNU2NyZWVuSnNvbixcbiAgdmlld0hlaWdodDogbnVtYmVyLFxuICBpc0Rlc2lnbk1vZGU6IGJvb2xlYW4sXG4gIGlzQWN0aXZlOiBib29sZWFuLFxuICB2ZXJ0aWNhbFNwYWNlOiBzdHJpbmcsXG4gIHN0cmV0Y2hlZDogYm9vbGVhbixcbiAgdHJhbnNpdGlvblR5cGU6IFNjcmVlblRyYW5zaXRpb25UeXBlLFxuICBpc1Jlc2l6aW5nPzogYm9vbGVhbixcbiAgd2lkdGg/OiBudW1iZXJcbikge1xuICBjb25zdCB7IHNpZGUsIHNpemUgfSA9IHByb3BzO1xuICByZXR1cm4gY3NzYFxuICAgICR7Z2V0U2lkZVBhbmVsU3R5bGUocHJvcHMsIHZpZXdIZWlnaHQsIGlzRGVzaWduTW9kZSwgaXNBY3RpdmUsIHZlcnRpY2FsU3BhY2UsIHN0cmV0Y2hlZCwgdHJhbnNpdGlvblR5cGUpfTtcblxuICAgIC5wYW5lbC1jb250ZW50IHtcbiAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgIHRvdWNoLWFjdGlvbjogbm9uZTtcbiAgICAgIHdpZHRoOiAke2lzUmVzaXppbmcgPyBgJHt3aWR0aH1weGAgOiBzaXplfTtcbiAgICB9XG4gICAgLnBhbmVsLWNvbnRlbnQ6aG92ZXIge1xuICAgICAgLnJlc2l6ZS1oYW5kbGUge1xuICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgIH1cbiAgICB9XG4gICAgLnJlc2l6ZS1oYW5kbGUge1xuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgY3Vyc29yOiBldy1yZXNpemU7XG4gICAgICB0b3A6IDA7XG4gICAgICBib3R0b206IDA7XG4gICAgICBkaXNwbGF5OiAke2lzUmVzaXppbmcgPyAnYmxvY2snIDogJ25vbmUnfTtcbiAgICAgIHRvdWNoLWFjdGlvbjogbm9uZTtcbiAgICAgIG91dGxpbmU6IDFweCBzb2xpZCB2YXIoLS1saWdodC00MDApO1xuICAgICAgd2lkdGg6IDVweDtcbiAgICAgICY6YWZ0ZXIge1xuICAgICAgICBjb250ZW50OiAnJztcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICB6LWluZGV4OiAtMTtcbiAgICAgICAgdG9wOiAwO1xuICAgICAgICBib3R0b206IDA7XG4gICAgICAgIGxlZnQ6IDUwJTtcbiAgICAgICAgYm9yZGVyLWxlZnQ6IDFweCBkb3R0ZWQgdmFyKC0tbGlnaHQtNDAwKTtcbiAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSk7XG4gICAgICB9XG5cbiAgICAgICYubGVmdCB7XG4gICAgICAgIGxlZnQ6IC01cHg7XG4gICAgICAgIGRpc3BsYXk6ICR7c2lkZSAhPT0gJ2xlZnQnID8gJ25vbmUnIDogJ25vbmUgIWltcG9ydGFudCd9O1xuICAgICAgfVxuICAgICAgJi5yaWdodCB7XG4gICAgICAgIHJpZ2h0OiAtNXB4O1xuICAgICAgICBkaXNwbGF5OiAke3NpZGUgIT09ICdyaWdodCcgPyAnbm9uZScgOiAnbm9uZSAhaW1wb3J0YW50J307XG4gICAgICB9XG4gICAgfVxuICBgO1xufVxuXG5mdW5jdGlvbiB1cGRhdGVTY3JlZW5TaXplKHNjcmVlbklkOiBzdHJpbmcsIHNpemU6IG51bWJlcikge1xuICBjb25zdCBhcHBDb25maWdBY3Rpb24gPSBnZXRBcHBDb25maWdBY3Rpb24oKTtcbiAgbGV0IHNjcmVlbkpzb24gPSBhcHBDb25maWdBY3Rpb24uYXBwQ29uZmlnLnNjcmVlbnNbc2NyZWVuSWRdO1xuICBsZXQgbmV3U2l6ZTtcbiAgaWYgKHV0aWxzLmlzUGVyY2VudGFnZShzY3JlZW5Kc29uLnNpemUpKSB7XG4gICAgbmV3U2l6ZSA9IHV0aWxzLnRvUmF0aW8oc2l6ZSwgZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aCk7XG4gIH0gZWxzZSB7XG4gICAgbmV3U2l6ZSA9IGAke01hdGgucm91bmQoc2l6ZSl9cHhgO1xuICB9XG4gIHNjcmVlbkpzb24gPSBzY3JlZW5Kc29uLnNldCgnc2l6ZScsIG5ld1NpemUpO1xuICBhcHBDb25maWdBY3Rpb24uZWRpdFNjcmVlbihzY3JlZW5Kc29uKS5leGVjKCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBTY3JlZW5TaWRlUGFuZWwocHJvcHM6IFByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBpbmRleCxcbiAgICBzY3JlZW5JZCxcbiAgICBvbkludGVyY3Rpb25DaGFuZ2UsXG4gICAgb25IZWlnaHRDaGFuZ2UsXG4gICAgaXNEZXNpZ25Nb2RlLFxuICAgIHZpZXdIZWlnaHQsXG4gICAgbGF5b3V0RW50cnk6IExheW91dEVudHJ5LFxuICAgIGlzQWN0aXZlLFxuICAgIHRyYW5zaXRpb25UeXBlLFxuICAgIHRyaWdnZXJUeXBlLFxuICAgIHN0cmV0Y2hlZCxcbiAgICB2ZXJ0aWNhbFNwYWNlID0gJzAnLFxuICB9ID0gcHJvcHM7XG4gIGNvbnN0IHNjcmVlbkpzb246IElNU2NyZWVuSnNvbiA9IFJlYWN0UmVkdXgudXNlU2VsZWN0b3IoKHN0YXRlOiBJTVN0YXRlKSA9PiB7XG4gICAgcmV0dXJuIHN0YXRlLmFwcENvbmZpZy5zY3JlZW5zW3NjcmVlbklkXTtcbiAgfSk7XG4gIGNvbnN0IHsgc2lkZUxheW91dHMgfSA9IHNjcmVlbkpzb247XG4gIGNvbnN0IGRvbVJlZiA9IFJlYWN0LnVzZVJlZjxIVE1MRGl2RWxlbWVudD4oKTtcbiAgY29uc3QgZWxlbWVudFJlZiA9IFJlYWN0LnVzZVJlZjxIVE1MRGl2RWxlbWVudD4oKTtcbiAgY29uc3QgaW50ZXJhY3RhYmxlUmVmID0gUmVhY3QudXNlUmVmPEludGVyYWN0LkludGVyYWN0YWJsZT4oKTtcbiAgY29uc3QgW2lzUmVzaXppbmcsIHNldElzUmVzaXppbmddID0gUmVhY3QudXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZGVsdGFXaWR0aCwgc2V0RGVsdGFXaWR0aF0gPSBSZWFjdC51c2VTdGF0ZSgwKTtcbiAgY29uc3QgaW5pdFdpZHRoID0gUmVhY3QudXNlUmVmPG51bWJlcj4oKTtcblxuICBjb25zdCBvblJlc2l6ZVN0YXJ0ID0gUmVhY3QudXNlQ2FsbGJhY2soKGlkOiBzdHJpbmcsIHdpZHRoOiBudW1iZXIpID0+IHtcbiAgICBpbml0V2lkdGguY3VycmVudCA9IHdpZHRoO1xuICAgIHNldElzUmVzaXppbmcodHJ1ZSk7XG4gICAgc2V0RGVsdGFXaWR0aCgwKTtcbiAgfSwgW10pO1xuXG4gIGNvbnN0IG9uUmVzaXppbmcgPSBSZWFjdC51c2VDYWxsYmFjaygoaWQsIGR4LCBkeSwgZHcsIGRoKSA9PiB7XG4gICAgc2V0RGVsdGFXaWR0aChkdyk7XG4gIH0sIFtdKTtcblxuICBjb25zdCBvblJlc2l6ZUVuZCA9IFJlYWN0LnVzZUNhbGxiYWNrKFxuICAgIChpZCwgZHgsIGR5LCBkdywgZGgpID0+IHtcbiAgICAgIHVwZGF0ZVNjcmVlblNpemUoc2NyZWVuSWQsIGluaXRXaWR0aC5jdXJyZW50ICsgZHcpO1xuICAgICAgc2V0SXNSZXNpemluZyhmYWxzZSk7XG4gICAgfSxcbiAgICBbc2NyZWVuSWRdXG4gICk7XG5cbiAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIWludGVyYWN0YWJsZVJlZi5jdXJyZW50ICYmIGVsZW1lbnRSZWYuY3VycmVudCkge1xuICAgICAgaW50ZXJhY3RhYmxlUmVmLmN1cnJlbnQgPSBpbnRlcmFjdChlbGVtZW50UmVmLmN1cnJlbnQpO1xuICAgICAgYmluZFJlc2l6ZUhhbmRsZXIoaW50ZXJhY3RhYmxlUmVmLmN1cnJlbnQsIHtcbiAgICAgICAgbGF5b3V0SXRlbUlkOiBzY3JlZW5JZCxcbiAgICAgICAgb25SZXNpemVTdGFydDogb25SZXNpemVTdGFydCxcbiAgICAgICAgb25SZXNpemluZzogb25SZXNpemluZyxcbiAgICAgICAgb25SZXNpemVFbmQ6IG9uUmVzaXplRW5kLFxuICAgICAgfSk7XG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBpZiAoaW50ZXJhY3RhYmxlUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICBpbnRlcmFjdGFibGVSZWYuY3VycmVudC51bnNldCgpO1xuICAgICAgICAgIGludGVyYWN0YWJsZVJlZi5jdXJyZW50ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gIH0sIFtzY3JlZW5JZCwgb25SZXNpemVTdGFydCwgb25SZXNpemluZywgb25SZXNpemVFbmRdKTtcblxuICBjb25zdCBpbnRlcnNlY3Rpb25DaGFuZ2UgPSBSZWFjdC51c2VDYWxsYmFjayhcbiAgICAoaXNJbnRlcnNlY3Rpbmc6IGJvb2xlYW4pID0+IHtcbiAgICAgIG9uSW50ZXJjdGlvbkNoYW5nZShpbmRleCwgaXNJbnRlcnNlY3RpbmcpO1xuICAgIH0sXG4gICAgW2luZGV4LCBvbkludGVyY3Rpb25DaGFuZ2VdXG4gICk7XG5cbiAgY29uc3Qgb25TaXplQ2hhbmdlID0gUmVhY3QudXNlQ2FsbGJhY2soXG4gICAgKHdpZHRoLCBoZWlnaHQpID0+IHtcbiAgICAgIG9uSGVpZ2h0Q2hhbmdlKGluZGV4LCBoZWlnaHQpO1xuICAgIH0sXG4gICAgW2luZGV4LCBvbkhlaWdodENoYW5nZV1cbiAgKTtcblxuICB1c2VJbnRlcnNlY3Rpb24oXG4gICAgZG9tUmVmLmN1cnJlbnQsXG4gICAgcHJvcHMucmVmRWxlbWVudCxcbiAgICB0cmlnZ2VyVHlwZSA/PyBTY3JlZW5UcmlnZ2VyVHlwZS5Cb3R0b20sXG4gICAgaW50ZXJzZWN0aW9uQ2hhbmdlXG4gICk7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2XG4gICAgICBjbGFzc05hbWU9XCJzY3JlZW4tc2lkZS1wYW5lbFwiXG4gICAgICBkYXRhLWluZGV4PXtpbmRleH1cbiAgICAgIHJlZj17ZG9tUmVmfVxuICAgICAgY3NzPXtnZXRTdHlsZShzY3JlZW5Kc29uLCB2aWV3SGVpZ2h0LCBpc0Rlc2lnbk1vZGUsIGlzQWN0aXZlLCB2ZXJ0aWNhbFNwYWNlLCBzdHJldGNoZWQsIHRyYW5zaXRpb25UeXBlLCBpc1Jlc2l6aW5nLCBpbml0V2lkdGguY3VycmVudCArIGRlbHRhV2lkdGgpfVxuICAgID5cbiAgICAgIHtzaWRlTGF5b3V0cyAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtY29udGVudFwiIHJlZj17ZWxlbWVudFJlZn0+XG4gICAgICAgICAgPExheW91dEVudHJ5IGxheW91dHM9e3NpZGVMYXlvdXRzfSAvPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtc3BhY2luZ1wiPjwvZGl2PlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInJlc2l6ZS1oYW5kbGUgbGVmdCBybmQtcmVzaXplLWxlZnRcIj48L3NwYW4+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwicmVzaXplLWhhbmRsZSByaWdodCBybmQtcmVzaXplLXJpZ2h0XCI+PC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG4gICAgICB7IXNpZGVMYXlvdXRzICYmIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtY29udGVudC1wbGFjZWhvbGRlclwiIC8+fVxuICAgICAgPFJlYWN0UmVzaXplRGV0ZWN0b3IgaGFuZGxlSGVpZ2h0IG9uUmVzaXplPXtvblNpemVDaGFuZ2V9IC8+XG4gICAgPC9kaXY+XG4gICk7XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBV0E7QUFDQTtBQTJDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQWFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUlBO0FBRUE7QUFDQTtBQUlBO0FBT0E7QUFPQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUdBOzsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./jimu-layouts/lib/flow-layout/builder/screen-side-panel.tsx\n");

/***/ }),

/***/ "./jimu-layouts/lib/flow-layout/builder/utils.ts":
/*!*******************************************************!*\
  !*** ./jimu-layouts/lib/flow-layout/builder/utils.ts ***!
  \*******************************************************/
/*! exports provided: addTemplateRow, addTemplateScreenGroup */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"addTemplateRow\", function() { return addTemplateRow; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"addTemplateScreenGroup\", function() { return addTemplateScreenGroup; });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jimu_core__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var jimu_for_builder__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-for-builder */ \"jimu-for-builder\");\n/* harmony import */ var jimu_for_builder__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jimu_for_builder__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-layouts/layout-runtime */ \"jimu-layouts/layout-runtime\");\n/* harmony import */ var jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_2__);\nvar __assign = (undefined && undefined.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (undefined && undefined.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\n\n\n\n\n// Add template below the layout item\nfunction addTemplateRow(layoutId, layoutItemId, layoutTemplate) {\n    return __awaiter(this, void 0, Promise, function () {\n        var rowWidgetId, _a, appConfig, newWidgetId, appConfigAction, layout, order, insertIndex, newLayoutItem, layoutInfo;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    rowWidgetId = layoutTemplate.widgetId;\n                    return [4 /*yield*/, jimu_for_builder__WEBPACK_IMPORTED_MODULE_1__[\"templateUtils\"].createWidgetFromTemplate(Object(jimu_for_builder__WEBPACK_IMPORTED_MODULE_1__[\"getAppConfigAction\"])().appConfig, layoutTemplate, rowWidgetId, {}, true)];\n                case 1:\n                    _a = _b.sent(), appConfig = _a.appConfig, newWidgetId = _a.newWidgetId;\n                    appConfigAction = Object(jimu_for_builder__WEBPACK_IMPORTED_MODULE_1__[\"getAppConfigAction\"])(appConfig);\n                    layout = appConfigAction.appConfig.layouts[layoutId];\n                    order = layout.order || [];\n                    insertIndex = order.indexOf(layoutItemId);\n                    newLayoutItem = Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"Immutable\"])({\n                        id: \"\" + (jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_2__[\"utils\"].getMaximumId(appConfigAction.appConfig.layouts[layoutId]) + 1),\n                        type: jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"LayoutItemType\"].Widget,\n                        widgetId: newWidgetId,\n                    });\n                    layoutInfo = appConfigAction.addItemIntoLayout(layoutId, newLayoutItem, insertIndex >= 0 ? insertIndex + 1 : NaN);\n                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"getAppStore\"])().dispatch(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"appActions\"].layoutChanged(appConfigAction.appConfig, __assign(__assign({}, layoutInfo), { autoScroll: true })));\n                    return [2 /*return*/, layoutInfo];\n            }\n        });\n    });\n}\nfunction addTemplateScreenGroup(layoutId, layoutItemId, screenGroupTemplate) {\n    return __awaiter(this, void 0, Promise, function () {\n        var groupId, _a, appConfig, newScreenGroupId, appConfigAction, layout, order, insertIndex, newLayoutItem, layoutInfo;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    groupId = screenGroupTemplate.screenGroupId;\n                    return [4 /*yield*/, jimu_for_builder__WEBPACK_IMPORTED_MODULE_1__[\"templateUtils\"].createScreenGroupFromTemplate(Object(jimu_for_builder__WEBPACK_IMPORTED_MODULE_1__[\"getAppConfigAction\"])().appConfig, screenGroupTemplate, groupId, {})];\n                case 1:\n                    _a = _b.sent(), appConfig = _a.appConfig, newScreenGroupId = _a.newScreenGroupId;\n                    appConfigAction = Object(jimu_for_builder__WEBPACK_IMPORTED_MODULE_1__[\"getAppConfigAction\"])(appConfig);\n                    layout = appConfigAction.appConfig.layouts[layoutId];\n                    order = layout.order || [];\n                    insertIndex = order.indexOf(layoutItemId);\n                    newLayoutItem = Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"Immutable\"])({\n                        id: \"\" + (jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_2__[\"utils\"].getMaximumId(appConfigAction.appConfig.layouts[layoutId]) + 1),\n                        type: jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"LayoutItemType\"].ScreenGroup,\n                        screenGroupId: newScreenGroupId,\n                    });\n                    layoutInfo = appConfigAction.addItemIntoLayout(layoutId, newLayoutItem, insertIndex >= 0 ? insertIndex + 1 : NaN);\n                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"getAppStore\"])().dispatch(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"appActions\"].layoutChanged(appConfigAction.appConfig, __assign(__assign({}, layoutInfo), { autoScroll: true })));\n                    return [2 /*return*/, layoutInfo];\n            }\n        });\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWxheW91dHMvbGliL2Zsb3ctbGF5b3V0L2J1aWxkZXIvdXRpbHMudHMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qaW11LWxheW91dHMvbGliL2Zsb3ctbGF5b3V0L2J1aWxkZXIvdXRpbHMudHM/NDBlYSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBMYXlvdXRJdGVtVHlwZSwgSW1tdXRhYmxlLCBMYXlvdXRJbmZvLCBnZXRBcHBTdG9yZSwgYXBwQWN0aW9ucyB9IGZyb20gJ2ppbXUtY29yZSc7XG5pbXBvcnQgeyBnZXRBcHBDb25maWdBY3Rpb24gfSBmcm9tICdqaW11LWZvci1idWlsZGVyJztcbmltcG9ydCB7IHV0aWxzIH0gZnJvbSAnamltdS1sYXlvdXRzL2xheW91dC1ydW50aW1lJztcbmltcG9ydCB7IHRlbXBsYXRlVXRpbHMgfSBmcm9tICdqaW11LWZvci1idWlsZGVyJztcbmltcG9ydCB7IFRlbXBsYXRlIH0gZnJvbSAnamltdS1mb3ItYnVpbGRlci90ZW1wbGF0ZXMnO1xuXG4vLyBBZGQgdGVtcGxhdGUgYmVsb3cgdGhlIGxheW91dCBpdGVtXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gYWRkVGVtcGxhdGVSb3coXG4gIGxheW91dElkOiBzdHJpbmcsXG4gIGxheW91dEl0ZW1JZDogc3RyaW5nLFxuICBsYXlvdXRUZW1wbGF0ZTogVGVtcGxhdGVcbik6IFByb21pc2U8TGF5b3V0SW5mbz4ge1xuICBjb25zdCByb3dXaWRnZXRJZCA9IGxheW91dFRlbXBsYXRlLndpZGdldElkO1xuICBjb25zdCB7XG4gICAgYXBwQ29uZmlnLFxuICAgIG5ld1dpZGdldElkLFxuICB9ID0gYXdhaXQgdGVtcGxhdGVVdGlscy5jcmVhdGVXaWRnZXRGcm9tVGVtcGxhdGUoXG4gICAgZ2V0QXBwQ29uZmlnQWN0aW9uKCkuYXBwQ29uZmlnLFxuICAgIGxheW91dFRlbXBsYXRlLFxuICAgIHJvd1dpZGdldElkLFxuICAgIHt9LFxuICAgIHRydWVcbiAgKTtcblxuICBjb25zdCBhcHBDb25maWdBY3Rpb24gPSBnZXRBcHBDb25maWdBY3Rpb24oYXBwQ29uZmlnKTtcbiAgY29uc3QgbGF5b3V0ID0gYXBwQ29uZmlnQWN0aW9uLmFwcENvbmZpZy5sYXlvdXRzW2xheW91dElkXTtcbiAgY29uc3Qgb3JkZXIgPSBsYXlvdXQub3JkZXIgfHwgW107XG4gIGNvbnN0IGluc2VydEluZGV4ID0gb3JkZXIuaW5kZXhPZihsYXlvdXRJdGVtSWQpO1xuXG4gIGNvbnN0IG5ld0xheW91dEl0ZW0gPSBJbW11dGFibGUoe1xuICAgIGlkOiBgJHt1dGlscy5nZXRNYXhpbXVtSWQoYXBwQ29uZmlnQWN0aW9uLmFwcENvbmZpZy5sYXlvdXRzW2xheW91dElkXSkgKyAxfWAsXG4gICAgdHlwZTogTGF5b3V0SXRlbVR5cGUuV2lkZ2V0LFxuICAgIHdpZGdldElkOiBuZXdXaWRnZXRJZCxcbiAgfSk7XG5cbiAgY29uc3QgbGF5b3V0SW5mbyA9IGFwcENvbmZpZ0FjdGlvbi5hZGRJdGVtSW50b0xheW91dChcbiAgICBsYXlvdXRJZCxcbiAgICBuZXdMYXlvdXRJdGVtLFxuICAgIGluc2VydEluZGV4ID49IDAgPyBpbnNlcnRJbmRleCArIDEgOiBOYU5cbiAgKTtcbiAgZ2V0QXBwU3RvcmUoKS5kaXNwYXRjaChhcHBBY3Rpb25zLmxheW91dENoYW5nZWQoYXBwQ29uZmlnQWN0aW9uLmFwcENvbmZpZywgeyAuLi5sYXlvdXRJbmZvLCBhdXRvU2Nyb2xsOiB0cnVlIH0pKTtcblxuICByZXR1cm4gbGF5b3V0SW5mbztcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGFkZFRlbXBsYXRlU2NyZWVuR3JvdXAoXG4gIGxheW91dElkOiBzdHJpbmcsXG4gIGxheW91dEl0ZW1JZDogc3RyaW5nLFxuICBzY3JlZW5Hcm91cFRlbXBsYXRlOiBUZW1wbGF0ZVxuKTogUHJvbWlzZTxMYXlvdXRJbmZvPiB7XG4gIGNvbnN0IGdyb3VwSWQgPSBzY3JlZW5Hcm91cFRlbXBsYXRlLnNjcmVlbkdyb3VwSWQ7XG4gIGNvbnN0IHtcbiAgICBhcHBDb25maWcsXG4gICAgbmV3U2NyZWVuR3JvdXBJZCxcbiAgfSA9IGF3YWl0IHRlbXBsYXRlVXRpbHMuY3JlYXRlU2NyZWVuR3JvdXBGcm9tVGVtcGxhdGUoXG4gICAgZ2V0QXBwQ29uZmlnQWN0aW9uKCkuYXBwQ29uZmlnLFxuICAgIHNjcmVlbkdyb3VwVGVtcGxhdGUsXG4gICAgZ3JvdXBJZCxcbiAgICB7fVxuICApO1xuXG4gIGNvbnN0IGFwcENvbmZpZ0FjdGlvbiA9IGdldEFwcENvbmZpZ0FjdGlvbihhcHBDb25maWcpO1xuICBjb25zdCBsYXlvdXQgPSBhcHBDb25maWdBY3Rpb24uYXBwQ29uZmlnLmxheW91dHNbbGF5b3V0SWRdO1xuICBjb25zdCBvcmRlciA9IGxheW91dC5vcmRlciB8fCBbXTtcbiAgY29uc3QgaW5zZXJ0SW5kZXggPSBvcmRlci5pbmRleE9mKGxheW91dEl0ZW1JZCk7XG5cbiAgY29uc3QgbmV3TGF5b3V0SXRlbSA9IEltbXV0YWJsZSh7XG4gICAgaWQ6IGAke3V0aWxzLmdldE1heGltdW1JZChhcHBDb25maWdBY3Rpb24uYXBwQ29uZmlnLmxheW91dHNbbGF5b3V0SWRdKSArIDF9YCxcbiAgICB0eXBlOiBMYXlvdXRJdGVtVHlwZS5TY3JlZW5Hcm91cCxcbiAgICBzY3JlZW5Hcm91cElkOiBuZXdTY3JlZW5Hcm91cElkLFxuICB9KTtcblxuICBjb25zdCBsYXlvdXRJbmZvID0gYXBwQ29uZmlnQWN0aW9uLmFkZEl0ZW1JbnRvTGF5b3V0KFxuICAgIGxheW91dElkLFxuICAgIG5ld0xheW91dEl0ZW0sXG4gICAgaW5zZXJ0SW5kZXggPj0gMCA/IGluc2VydEluZGV4ICsgMSA6IE5hTlxuICApO1xuICBnZXRBcHBTdG9yZSgpLmRpc3BhdGNoKGFwcEFjdGlvbnMubGF5b3V0Q2hhbmdlZChhcHBDb25maWdBY3Rpb24uYXBwQ29uZmlnLCB7IC4uLmxheW91dEluZm8sIGF1dG9TY3JvbGw6IHRydWUgfSkpO1xuXG4gIHJldHVybiBsYXlvdXRJbmZvO1xufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFJQTs7Ozs7QUFDQTtBQUlBOztBQUhBO0FBV0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFLQTtBQUVBOzs7O0FBQ0E7QUFFQTtBQUlBOzs7OztBQUNBO0FBSUE7O0FBSEE7QUFVQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUtBO0FBRUE7Ozs7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./jimu-layouts/lib/flow-layout/builder/utils.ts\n");

/***/ }),

/***/ "./jimu-layouts/lib/flow-layout/common/index.tsx":
/*!*******************************************************!*\
  !*** ./jimu-layouts/lib/flow-layout/common/index.tsx ***!
  \*******************************************************/
/*! exports provided: ScreenSidePanel, ScreenMainPanel, ScreenMainPanelList */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _screen_side_panel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./screen-side-panel */ \"./jimu-layouts/lib/flow-layout/common/screen-side-panel.tsx\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ScreenSidePanel\", function() { return _screen_side_panel__WEBPACK_IMPORTED_MODULE_0__[\"ScreenSidePanel\"]; });\n\n/* harmony import */ var _screen_main_panel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./screen-main-panel */ \"./jimu-layouts/lib/flow-layout/common/screen-main-panel.tsx\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ScreenMainPanel\", function() { return _screen_main_panel__WEBPACK_IMPORTED_MODULE_1__[\"ScreenMainPanel\"]; });\n\n/* harmony import */ var _screen_main_panel_list__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./screen-main-panel-list */ \"./jimu-layouts/lib/flow-layout/common/screen-main-panel-list.tsx\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ScreenMainPanelList\", function() { return _screen_main_panel_list__WEBPACK_IMPORTED_MODULE_2__[\"ScreenMainPanelList\"]; });\n\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWxheW91dHMvbGliL2Zsb3ctbGF5b3V0L2NvbW1vbi9pbmRleC50c3guanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qaW11LWxheW91dHMvbGliL2Zsb3ctbGF5b3V0L2NvbW1vbi9pbmRleC50c3g/MzdkYiJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgeyBTY3JlZW5TaWRlUGFuZWwgfSBmcm9tICcuL3NjcmVlbi1zaWRlLXBhbmVsJztcbmV4cG9ydCB7IFNjcmVlbk1haW5QYW5lbCB9IGZyb20gJy4vc2NyZWVuLW1haW4tcGFuZWwnO1xuZXhwb3J0IHsgU2NyZWVuTWFpblBhbmVsTGlzdCB9IGZyb20gJy4vc2NyZWVuLW1haW4tcGFuZWwtbGlzdCc7Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./jimu-layouts/lib/flow-layout/common/index.tsx\n");

/***/ }),

/***/ "./jimu-layouts/lib/flow-layout/common/screen-main-panel-list.tsx":
/*!************************************************************************!*\
  !*** ./jimu-layouts/lib/flow-layout/common/screen-main-panel-list.tsx ***!
  \************************************************************************/
/*! exports provided: ScreenMainPanelList */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ScreenMainPanelList\", function() { return ScreenMainPanelList; });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jimu_core__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _screen_main_panel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./screen-main-panel */ \"./jimu-layouts/lib/flow-layout/common/screen-main-panel.tsx\");\nvar __makeTemplateObject = (undefined && undefined.__makeTemplateObject) || function (cooked, raw) {\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n    return cooked;\n};\n/** @jsx jsx */\n\n\nfunction getContainerStyle(transitionType, viewHeight, isDesignMode) {\n    if (transitionType === jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"ScreenTransitionType\"].Fade) {\n        return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n      position: sticky;\\n      height: \", \";\\n      top: 0;\\n\\n      .screen-main-panel {\\n        position: absolute;\\n        opacity: 0;\\n        visibility: hidden;\\n        z-index: 0;\\n        transition: opacity 400ms;\\n        top: 0;\\n        height: 100% !important;\\n\\n        .layout .exb-drop-area {\\n          pointer-events: none;\\n        }\\n\\n        &.is-active {\\n          opacity: 1;\\n          visibility: visible;\\n          pointer-events: all;\\n          z-index: 1;\\n\\n          .layout .exb-drop-area {\\n            pointer-events: all;\\n          }\\n        }\\n      }\\n    \"], [\"\\n      position: sticky;\\n      height: \", \";\\n      top: 0;\\n\\n      .screen-main-panel {\\n        position: absolute;\\n        opacity: 0;\\n        visibility: hidden;\\n        z-index: 0;\\n        transition: opacity 400ms;\\n        top: 0;\\n        height: 100% !important;\\n\\n        .layout .exb-drop-area {\\n          pointer-events: none;\\n        }\\n\\n        &.is-active {\\n          opacity: 1;\\n          visibility: visible;\\n          pointer-events: all;\\n          z-index: 1;\\n\\n          .layout .exb-drop-area {\\n            pointer-events: all;\\n          }\\n        }\\n      }\\n    \"])), isDesignMode ? viewHeight + \"px\" : '100vh');\n    }\n    if (transitionType === jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"ScreenTransitionType\"].Cover) {\n        return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_2 || (templateObject_2 = __makeTemplateObject([\"\\n      position: sticky;\\n      height: \", \";\\n      overflow: \", \";\\n      top: 0;\\n\\n      .screen-main-panel {\\n        position: sticky;\\n        top: 0;\\n      }\\n    \"], [\"\\n      position: sticky;\\n      height: \", \";\\n      overflow: \", \";\\n      top: 0;\\n\\n      .screen-main-panel {\\n        position: sticky;\\n        top: 0;\\n      }\\n    \"])), isDesignMode ? viewHeight + \"px\" : 'auto', isDesignMode ? 'hidden' : null);\n    }\n    if (transitionType === jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"ScreenTransitionType\"].Push) {\n        return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_3 || (templateObject_3 = __makeTemplateObject([\"\\n      position: sticky;\\n      height: \", \";\\n      overflow: \", \";\\n      top: 0;\\n\\n      .screen-main-panel > .layout {\\n        position: sticky !important;\\n        top: 0;\\n      }\\n    \"], [\"\\n      position: sticky;\\n      height: \", \";\\n      overflow: \", \";\\n      top: 0;\\n\\n      .screen-main-panel > .layout {\\n        position: sticky !important;\\n        top: 0;\\n      }\\n    \"])), isDesignMode ? viewHeight + \"px\" : 'auto', isDesignMode ? 'hidden' : null);\n    }\n}\nfunction getPlaceholderStyle(transitionType, viewHeight, isDesignMode) {\n    var height = isDesignMode ? viewHeight + \"px\" : '100vh';\n    if (transitionType === jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"ScreenTransitionType\"].Fade) {\n        return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_4 || (templateObject_4 = __makeTemplateObject([\"\\n      height: calc(100% - \", \");\\n      background: transparent;\\n      pointer-events: none;\\n    \"], [\"\\n      height: calc(100% - \", \");\\n      background: transparent;\\n      pointer-events: none;\\n    \"])), height);\n    }\n    if (transitionType === jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"ScreenTransitionType\"].Cover || transitionType === jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"ScreenTransitionType\"].Push) {\n        return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_5 || (templateObject_5 = __makeTemplateObject([\"\\n      height: calc(100% - \", \");\\n      background: transparent;\\n      pointer-events: none;\\n      display: \", \";\\n    \"], [\"\\n      height: calc(100% - \", \");\\n      background: transparent;\\n      pointer-events: none;\\n      display: \", \";\\n    \"])), height, isDesignMode ? 'block' : 'none');\n    }\n}\nfunction ScreenMainPanelList(props) {\n    var activeIndex = props.activeIndex, viewHeight = props.viewHeight, isDesignMode = props.isDesignMode, screens = props.screens, transitionType = props.transitionType, layoutEntry = props.layoutEntry;\n    return (Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].Fragment, null,\n        Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"screen-container\", css: getContainerStyle(transitionType, viewHeight, isDesignMode) }, screens.map(function (screenId, idx) {\n            return (Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_screen_main_panel__WEBPACK_IMPORTED_MODULE_1__[\"ScreenMainPanel\"], { key: screenId, index: idx, isActive: activeIndex === idx, screenId: screenId, isDesignMode: isDesignMode, viewHeight: viewHeight, isAbsolute: transitionType === jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"ScreenTransitionType\"].Fade, isLast: idx === screens.length - 1, layoutEntry: layoutEntry }));\n        })),\n        Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"screen-placeholder\", css: getPlaceholderStyle(transitionType, viewHeight, isDesignMode) })));\n}\nvar templateObject_1, templateObject_2, templateObject_3, templateObject_4, templateObject_5;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWxheW91dHMvbGliL2Zsb3ctbGF5b3V0L2NvbW1vbi9zY3JlZW4tbWFpbi1wYW5lbC1saXN0LnRzeC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2ppbXUtbGF5b3V0cy9saWIvZmxvdy1sYXlvdXQvY29tbW9uL3NjcmVlbi1tYWluLXBhbmVsLWxpc3QudHN4PzE1NDkiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqIEBqc3gganN4ICovXG5pbXBvcnQgeyBSZWFjdCwganN4LCBjc3MsIFNjcmVlblRyYW5zaXRpb25UeXBlLCBJbW11dGFibGVBcnJheSB9IGZyb20gJ2ppbXUtY29yZSc7XG5pbXBvcnQgeyBTY3JlZW5NYWluUGFuZWwgfSBmcm9tICcuL3NjcmVlbi1tYWluLXBhbmVsJztcbmltcG9ydCB0eXBlIHsgTGF5b3V0UHJvcHMgfSBmcm9tICdqaW11LWxheW91dHMvbGF5b3V0LXJ1bnRpbWUnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFByb3BzIHtcbiAgYWN0aXZlSW5kZXg6IG51bWJlcjtcbiAgdmlld0hlaWdodD86IG51bWJlcjtcbiAgaXNEZXNpZ25Nb2RlOiBib29sZWFuO1xuICBzY3JlZW5zOiBJbW11dGFibGVBcnJheTxzdHJpbmc+O1xuICB0cmFuc2l0aW9uVHlwZTogU2NyZWVuVHJhbnNpdGlvblR5cGU7XG4gIGxheW91dEVudHJ5OiBSZWFjdC5Db21wb25lbnRUeXBlPExheW91dFByb3BzPjtcbn1cblxuZnVuY3Rpb24gZ2V0Q29udGFpbmVyU3R5bGUodHJhbnNpdGlvblR5cGU6IFNjcmVlblRyYW5zaXRpb25UeXBlLCB2aWV3SGVpZ2h0OiBudW1iZXIsIGlzRGVzaWduTW9kZTogYm9vbGVhbikge1xuICBpZiAodHJhbnNpdGlvblR5cGUgPT09IFNjcmVlblRyYW5zaXRpb25UeXBlLkZhZGUpIHtcbiAgICByZXR1cm4gY3NzYFxuICAgICAgcG9zaXRpb246IHN0aWNreTtcbiAgICAgIGhlaWdodDogJHtpc0Rlc2lnbk1vZGUgPyBgJHt2aWV3SGVpZ2h0fXB4YCA6ICcxMDB2aCd9O1xuICAgICAgdG9wOiAwO1xuXG4gICAgICAuc2NyZWVuLW1haW4tcGFuZWwge1xuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgIG9wYWNpdHk6IDA7XG4gICAgICAgIHZpc2liaWxpdHk6IGhpZGRlbjtcbiAgICAgICAgei1pbmRleDogMDtcbiAgICAgICAgdHJhbnNpdGlvbjogb3BhY2l0eSA0MDBtcztcbiAgICAgICAgdG9wOiAwO1xuICAgICAgICBoZWlnaHQ6IDEwMCUgIWltcG9ydGFudDtcblxuICAgICAgICAubGF5b3V0IC5leGItZHJvcC1hcmVhIHtcbiAgICAgICAgICBwb2ludGVyLWV2ZW50czogbm9uZTtcbiAgICAgICAgfVxuXG4gICAgICAgICYuaXMtYWN0aXZlIHtcbiAgICAgICAgICBvcGFjaXR5OiAxO1xuICAgICAgICAgIHZpc2liaWxpdHk6IHZpc2libGU7XG4gICAgICAgICAgcG9pbnRlci1ldmVudHM6IGFsbDtcbiAgICAgICAgICB6LWluZGV4OiAxO1xuXG4gICAgICAgICAgLmxheW91dCAuZXhiLWRyb3AtYXJlYSB7XG4gICAgICAgICAgICBwb2ludGVyLWV2ZW50czogYWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIGA7XG4gIH1cblxuICBpZiAodHJhbnNpdGlvblR5cGUgPT09IFNjcmVlblRyYW5zaXRpb25UeXBlLkNvdmVyKSB7XG4gICAgcmV0dXJuIGNzc2BcbiAgICAgIHBvc2l0aW9uOiBzdGlja3k7XG4gICAgICBoZWlnaHQ6ICR7aXNEZXNpZ25Nb2RlID8gYCR7dmlld0hlaWdodH1weGAgOiAnYXV0byd9O1xuICAgICAgb3ZlcmZsb3c6ICR7aXNEZXNpZ25Nb2RlID8gJ2hpZGRlbicgOiBudWxsfTtcbiAgICAgIHRvcDogMDtcblxuICAgICAgLnNjcmVlbi1tYWluLXBhbmVsIHtcbiAgICAgICAgcG9zaXRpb246IHN0aWNreTtcbiAgICAgICAgdG9wOiAwO1xuICAgICAgfVxuICAgIGA7XG4gIH1cblxuICBpZiAodHJhbnNpdGlvblR5cGUgPT09IFNjcmVlblRyYW5zaXRpb25UeXBlLlB1c2gpIHtcbiAgICByZXR1cm4gY3NzYFxuICAgICAgcG9zaXRpb246IHN0aWNreTtcbiAgICAgIGhlaWdodDogJHtpc0Rlc2lnbk1vZGUgPyBgJHt2aWV3SGVpZ2h0fXB4YCA6ICdhdXRvJ307XG4gICAgICBvdmVyZmxvdzogJHtpc0Rlc2lnbk1vZGUgPyAnaGlkZGVuJyA6IG51bGx9O1xuICAgICAgdG9wOiAwO1xuXG4gICAgICAuc2NyZWVuLW1haW4tcGFuZWwgPiAubGF5b3V0IHtcbiAgICAgICAgcG9zaXRpb246IHN0aWNreSAhaW1wb3J0YW50O1xuICAgICAgICB0b3A6IDA7XG4gICAgICB9XG4gICAgYDtcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRQbGFjZWhvbGRlclN0eWxlKHRyYW5zaXRpb25UeXBlOiBTY3JlZW5UcmFuc2l0aW9uVHlwZSwgdmlld0hlaWdodDogbnVtYmVyLCBpc0Rlc2lnbk1vZGU6IGJvb2xlYW4pIHtcbiAgY29uc3QgaGVpZ2h0ID0gaXNEZXNpZ25Nb2RlID8gYCR7dmlld0hlaWdodH1weGAgOiAnMTAwdmgnO1xuICBpZiAodHJhbnNpdGlvblR5cGUgPT09IFNjcmVlblRyYW5zaXRpb25UeXBlLkZhZGUpIHtcbiAgICByZXR1cm4gY3NzYFxuICAgICAgaGVpZ2h0OiBjYWxjKDEwMCUgLSAke2hlaWdodH0pO1xuICAgICAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XG4gICAgICBwb2ludGVyLWV2ZW50czogbm9uZTtcbiAgICBgO1xuICB9XG5cbiAgaWYgKHRyYW5zaXRpb25UeXBlID09PSBTY3JlZW5UcmFuc2l0aW9uVHlwZS5Db3ZlciB8fCB0cmFuc2l0aW9uVHlwZSA9PT0gU2NyZWVuVHJhbnNpdGlvblR5cGUuUHVzaCkge1xuICAgIHJldHVybiBjc3NgXG4gICAgICBoZWlnaHQ6IGNhbGMoMTAwJSAtICR7aGVpZ2h0fSk7XG4gICAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcbiAgICAgIHBvaW50ZXItZXZlbnRzOiBub25lO1xuICAgICAgZGlzcGxheTogJHtpc0Rlc2lnbk1vZGUgPyAnYmxvY2snIDogJ25vbmUnfTtcbiAgICBgO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBTY3JlZW5NYWluUGFuZWxMaXN0KHByb3BzOiBQcm9wcykge1xuICBjb25zdCB7IGFjdGl2ZUluZGV4LCB2aWV3SGVpZ2h0LCBpc0Rlc2lnbk1vZGUsIHNjcmVlbnMsIHRyYW5zaXRpb25UeXBlLCBsYXlvdXRFbnRyeSB9ID0gcHJvcHM7XG5cbiAgcmV0dXJuICg8UmVhY3QuRnJhZ21lbnQ+XG4gICAgPGRpdiBjbGFzc05hbWU9XCJzY3JlZW4tY29udGFpbmVyXCIgY3NzPXtnZXRDb250YWluZXJTdHlsZSh0cmFuc2l0aW9uVHlwZSwgdmlld0hlaWdodCwgaXNEZXNpZ25Nb2RlKX0+XG4gICAgICB7c2NyZWVucy5tYXAoKHNjcmVlbklkLCBpZHgpID0+IHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8U2NyZWVuTWFpblBhbmVsXG4gICAgICAgICAgICBrZXk9e3NjcmVlbklkfVxuICAgICAgICAgICAgaW5kZXg9e2lkeH1cbiAgICAgICAgICAgIGlzQWN0aXZlPXthY3RpdmVJbmRleCA9PT0gaWR4fVxuICAgICAgICAgICAgc2NyZWVuSWQ9e3NjcmVlbklkfVxuICAgICAgICAgICAgaXNEZXNpZ25Nb2RlPXtpc0Rlc2lnbk1vZGV9XG4gICAgICAgICAgICB2aWV3SGVpZ2h0PXt2aWV3SGVpZ2h0fVxuICAgICAgICAgICAgaXNBYnNvbHV0ZT17dHJhbnNpdGlvblR5cGUgPT09IFNjcmVlblRyYW5zaXRpb25UeXBlLkZhZGV9XG4gICAgICAgICAgICBpc0xhc3Q9e2lkeCA9PT0gc2NyZWVucy5sZW5ndGggLSAxfVxuICAgICAgICAgICAgbGF5b3V0RW50cnk9e2xheW91dEVudHJ5fVxuICAgICAgICAgID48L1NjcmVlbk1haW5QYW5lbD5cbiAgICAgICAgKTtcbiAgICAgIH0pfVxuICAgIDwvZGl2PlxuICAgIDxkaXYgY2xhc3NOYW1lPVwic2NyZWVuLXBsYWNlaG9sZGVyXCIgY3NzPXtnZXRQbGFjZWhvbGRlclN0eWxlKHRyYW5zaXRpb25UeXBlLCB2aWV3SGVpZ2h0LCBpc0Rlc2lnbk1vZGUpfT48L2Rpdj5cbiAgPC9SZWFjdC5GcmFnbWVudD4pO1xufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFZQTtBQUNBO0FBQ0E7QUE4QkE7QUFFQTtBQUNBO0FBV0E7QUFFQTtBQUNBO0FBV0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFFQTtBQUNBO0FBTUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFhQTtBQUVBO0FBRUE7OyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./jimu-layouts/lib/flow-layout/common/screen-main-panel-list.tsx\n");

/***/ }),

/***/ "./jimu-layouts/lib/flow-layout/common/screen-main-panel.tsx":
/*!*******************************************************************!*\
  !*** ./jimu-layouts/lib/flow-layout/common/screen-main-panel.tsx ***!
  \*******************************************************************/
/*! exports provided: ScreenMainPanel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ScreenMainPanel\", function() { return ScreenMainPanel; });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jimu_core__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ \"jimu-ui\");\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jimu_ui__WEBPACK_IMPORTED_MODULE_1__);\nvar __makeTemplateObject = (undefined && undefined.__makeTemplateObject) || function (cooked, raw) {\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n    return cooked;\n};\n/** @jsx jsx */\n\n\nfunction ScreenMainPanel(props) {\n    var viewHeight = props.viewHeight, screenId = props.screenId, isActive = props.isActive, isAbsolute = props.isAbsolute, isLast = props.isLast, isDesignMode = props.isDesignMode, LayoutEntry = props.layoutEntry;\n    var screenJson = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"ReactRedux\"].useSelector(function (state) {\n        return state.appConfig.screens[screenId];\n    });\n    var side = screenJson.side, size = screenJson.size, overlay = screenJson.overlay, mainLayouts = screenJson.mainLayouts;\n    var elementRef = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useRef();\n    function getStyle() {\n        var _a;\n        var left = '0px';\n        var right = '0px';\n        if (side !== 'none') {\n            if (!overlay && side !== 'right') {\n                left = size;\n            }\n            if (!overlay && side === 'right') {\n                right = size;\n            }\n        }\n        return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n      \", \";\\n      min-height: \", \";\\n      left: \", \";\\n      right: \", \";\\n      margin-left: \", \";\\n      margin-right: \", \";\\n      pointer-events: all;\\n      display: flex;\\n      flex-direction: column;\\n\\n      .layout {\\n        height: \", \" !important;\\n        background: transparent;\\n        border: none !important;\\n      }\\n\\n      .spacing-area {\\n        flex: 1;\\n        background: transparent;\\n        pointer-events: none;\\n      }\\n    \"], [\"\\n      \", \";\\n      min-height: \", \";\\n      left: \", \";\\n      right: \", \";\\n      margin-left: \", \";\\n      margin-right: \", \";\\n      pointer-events: all;\\n      display: flex;\\n      flex-direction: column;\\n\\n      .layout {\\n        height: \", \" !important;\\n        background: transparent;\\n        border: none !important;\\n      }\\n\\n      .spacing-area {\\n        flex: 1;\\n        background: transparent;\\n        pointer-events: none;\\n      }\\n    \"])), jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"styleUtils\"].toBackgroundEmotionStyle((_a = screenJson.mainBackground) !== null && _a !== void 0 ? _a : {}), isDesignMode ? viewHeight + \"px\" : '100vh', isAbsolute ? left : null, isAbsolute ? right : null, !isAbsolute ? left : null, !isAbsolute ? right : null, isDesignMode ? viewHeight + \"px\" : '100vh');\n    }\n    var clazzName = Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"classNames\"])('screen-main-panel', {\n        'is-active': isActive,\n        'last-one': isLast\n    });\n    return (Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: clazzName, css: getStyle(), ref: elementRef, \"data-index\": props.index },\n        Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(LayoutEntry, { layouts: mainLayouts, isInWidget: true }),\n        Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"spacing-area\" })));\n}\nvar templateObject_1;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWxheW91dHMvbGliL2Zsb3ctbGF5b3V0L2NvbW1vbi9zY3JlZW4tbWFpbi1wYW5lbC50c3guanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qaW11LWxheW91dHMvbGliL2Zsb3ctbGF5b3V0L2NvbW1vbi9zY3JlZW4tbWFpbi1wYW5lbC50c3g/MDAwMSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiogQGpzeCBqc3ggKi9cbmltcG9ydCB7IFJlYWN0LCBSZWFjdFJlZHV4LCBJTVN0YXRlLCBqc3gsIGNzcywgY2xhc3NOYW1lcyB9IGZyb20gJ2ppbXUtY29yZSc7XG5pbXBvcnQgeyBzdHlsZVV0aWxzIH0gZnJvbSAnamltdS11aSc7XG5pbXBvcnQgdHlwZSB7IExheW91dFByb3BzIH0gZnJvbSAnamltdS1sYXlvdXRzL2xheW91dC1ydW50aW1lJztcblxuaW50ZXJmYWNlIE93blByb3BzIHtcbiAgaW5kZXg6IG51bWJlcjtcbiAgaXNBY3RpdmU6IGJvb2xlYW47XG4gIGlzQWJzb2x1dGU/OiBib29sZWFuOyAvLyBpZiB1c2VzIGFic29sdXRlIHBvc2l0aW9uLiBlLmcuIHVzZSBmYWRlIHRyYW5zaXRpb25cbiAgdmlld0hlaWdodDogbnVtYmVyO1xuICBpc0Rlc2lnbk1vZGU6IGJvb2xlYW47XG4gIHNjcmVlbklkOiBzdHJpbmc7XG4gIGlzTGFzdDogYm9vbGVhbjtcbiAgbGF5b3V0RW50cnk6IFJlYWN0LkNvbXBvbmVudFR5cGU8TGF5b3V0UHJvcHM+O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gU2NyZWVuTWFpblBhbmVsKHByb3BzOiBPd25Qcm9wcykge1xuICBjb25zdCB7IHZpZXdIZWlnaHQsIHNjcmVlbklkLCBpc0FjdGl2ZSwgaXNBYnNvbHV0ZSwgaXNMYXN0LCBpc0Rlc2lnbk1vZGUsIGxheW91dEVudHJ5OiBMYXlvdXRFbnRyeSB9ID0gcHJvcHM7XG4gIGNvbnN0IHNjcmVlbkpzb24gPSBSZWFjdFJlZHV4LnVzZVNlbGVjdG9yKChzdGF0ZTogSU1TdGF0ZSkgPT4ge1xuICAgIHJldHVybiBzdGF0ZS5hcHBDb25maWcuc2NyZWVuc1tzY3JlZW5JZF07XG4gIH0pO1xuICBjb25zdCB7IHNpZGUsIHNpemUsIG92ZXJsYXksIG1haW5MYXlvdXRzIH0gPSBzY3JlZW5Kc29uO1xuICBjb25zdCBlbGVtZW50UmVmID0gUmVhY3QudXNlUmVmPEhUTUxEaXZFbGVtZW50PigpO1xuXG4gIGZ1bmN0aW9uIGdldFN0eWxlKCkge1xuICAgIGxldCBsZWZ0ID0gJzBweCc7XG4gICAgbGV0IHJpZ2h0ID0gJzBweCc7XG5cbiAgICBpZiAoc2lkZSAhPT0gJ25vbmUnKSB7XG4gICAgICBpZiAoIW92ZXJsYXkgJiYgc2lkZSAhPT0gJ3JpZ2h0Jykge1xuICAgICAgICBsZWZ0ID0gc2l6ZTtcbiAgICAgIH1cbiAgICAgIGlmICghb3ZlcmxheSAmJiBzaWRlID09PSAncmlnaHQnKSB7XG4gICAgICAgIHJpZ2h0ID0gc2l6ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gY3NzYFxuICAgICAgJHtzdHlsZVV0aWxzLnRvQmFja2dyb3VuZEVtb3Rpb25TdHlsZShzY3JlZW5Kc29uLm1haW5CYWNrZ3JvdW5kID8/IHt9IGFzIGFueSl9O1xuICAgICAgbWluLWhlaWdodDogJHtpc0Rlc2lnbk1vZGUgPyBgJHt2aWV3SGVpZ2h0fXB4YCA6ICcxMDB2aCd9O1xuICAgICAgbGVmdDogJHtpc0Fic29sdXRlID8gbGVmdCA6IG51bGx9O1xuICAgICAgcmlnaHQ6ICR7aXNBYnNvbHV0ZSA/IHJpZ2h0IDogbnVsbH07XG4gICAgICBtYXJnaW4tbGVmdDogJHshaXNBYnNvbHV0ZSA/IGxlZnQgOiBudWxsfTtcbiAgICAgIG1hcmdpbi1yaWdodDogJHshaXNBYnNvbHV0ZSA/IHJpZ2h0IDogbnVsbH07XG4gICAgICBwb2ludGVyLWV2ZW50czogYWxsO1xuICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG5cbiAgICAgIC5sYXlvdXQge1xuICAgICAgICBoZWlnaHQ6ICR7aXNEZXNpZ25Nb2RlID8gYCR7dmlld0hlaWdodH1weGAgOiAnMTAwdmgnfSAhaW1wb3J0YW50O1xuICAgICAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcbiAgICAgICAgYm9yZGVyOiBub25lICFpbXBvcnRhbnQ7XG4gICAgICB9XG5cbiAgICAgIC5zcGFjaW5nLWFyZWEge1xuICAgICAgICBmbGV4OiAxO1xuICAgICAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcbiAgICAgICAgcG9pbnRlci1ldmVudHM6IG5vbmU7XG4gICAgICB9XG4gICAgYDtcbiAgfVxuXG4gIGNvbnN0IGNsYXp6TmFtZSA9IGNsYXNzTmFtZXMoJ3NjcmVlbi1tYWluLXBhbmVsJywge1xuICAgICdpcy1hY3RpdmUnOiBpc0FjdGl2ZSxcbiAgICAnbGFzdC1vbmUnOiBpc0xhc3RcbiAgfSk7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9e2NsYXp6TmFtZX0gY3NzPXtnZXRTdHlsZSgpfSByZWY9e2VsZW1lbnRSZWZ9IGRhdGEtaW5kZXg9e3Byb3BzLmluZGV4fT5cbiAgICAgIHsvKiBzZXQgaXNJbldpZGdldCB0byB0cnVlIGluIG9yZGVyIHRvIGxldCB0aGUgY2xpY2sgZXZlbnQgcHJvcGFnYXRlICovfVxuICAgICAgPExheW91dEVudHJ5IGxheW91dHM9e21haW5MYXlvdXRzfSBpc0luV2lkZ2V0PXt0cnVlfS8+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNpbmctYXJlYVwiPjwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBY0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBdUJBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFHQTs7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./jimu-layouts/lib/flow-layout/common/screen-main-panel.tsx\n");

/***/ }),

/***/ "./jimu-layouts/lib/flow-layout/common/screen-side-panel.tsx":
/*!*******************************************************************!*\
  !*** ./jimu-layouts/lib/flow-layout/common/screen-side-panel.tsx ***!
  \*******************************************************************/
/*! exports provided: getSidePanelStyle, ScreenSidePanel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getSidePanelStyle\", function() { return getSidePanelStyle; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ScreenSidePanel\", function() { return ScreenSidePanel; });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jimu_core__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ \"jimu-ui\");\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jimu_ui__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _use_intersection__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../use-intersection */ \"./jimu-layouts/lib/flow-layout/use-intersection.tsx\");\nvar __makeTemplateObject = (undefined && undefined.__makeTemplateObject) || function (cooked, raw) {\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n    return cooked;\n};\n/** @jsx jsx */\n\n\n\nvar MIN_PANEL_RATIO = 0.25;\nfunction getSidePanelStyle(props, viewHeight, isDesignMode, isActive, verticalSpace, stretched, transitionType) {\n    var side = props.side, size = props.size, offset = props.offset, sideBackground = props.sideBackground, overlay = props.overlay;\n    var factor = side === 'right' ? '-' : '';\n    var backgroundStyle = jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"styleUtils\"].toBackgroundEmotionStyle(sideBackground !== null && sideBackground !== void 0 ? sideBackground : {});\n    var minHeight;\n    var spacing = parseFloat(verticalSpace);\n    if (isDesignMode) {\n        minHeight = (stretched ? viewHeight : Math.round(viewHeight * MIN_PANEL_RATIO)) + \"px\";\n        spacing = Math.round(viewHeight * spacing / 100) + \"px\";\n    }\n    else {\n        minHeight = (stretched ? '100' : Math.round(100 * MIN_PANEL_RATIO)) + \"vh\";\n        spacing = spacing + \"vh\";\n    }\n    return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n    width: 100%;\\n    background: transparent;\\n    pointer-events: none;\\n    display: flex;\\n    flex-direction: \", \";\\n    justify-content: \", \";\\n    position: relative;\\n    opacity: \", \";\\n\\n    .panel-content {\\n      width: \", \";\\n      transform: \", \";\\n      flex: 0 auto;\\n      pointer-events: all;\\n\\n      .layout {\\n        \", \";\\n      }\\n\\n      .panel-spacing {\\n        height: \", \";\\n        background: \", \";\\n      }\\n    }\\n\\n    .panel-content-placeholder {\\n      width: 1px;\\n      min-height: \", \";\\n    }\\n\\n    .layout {\\n      background: transparent;\\n      min-height: \", \";\\n    }\\n  \"], [\"\\n    width: 100%;\\n    background: transparent;\\n    pointer-events: none;\\n    display: flex;\\n    flex-direction: \", \";\\n    justify-content: \", \";\\n    position: relative;\\n    opacity: \", \";\\n\\n    .panel-content {\\n      width: \", \";\\n      transform: \", \";\\n      flex: 0 auto;\\n      pointer-events: all;\\n\\n      .layout {\\n        \", \";\\n      }\\n\\n      .panel-spacing {\\n        height: \", \";\\n        background: \", \";\\n      }\\n    }\\n\\n    .panel-content-placeholder {\\n      width: 1px;\\n      min-height: \", \";\\n    }\\n\\n    .layout {\\n      background: transparent;\\n      min-height: \", \";\\n    }\\n  \"])), side === 'right' ? 'row-reverse' : 'row', side === 'center' ? 'center' : 'flex-start', transitionType === jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"ScreenTransitionType\"].Fade ? (isActive ? '1' : '0.5') : null, size, Math.abs(parseFloat(offset)) > 0 ? \"translateX(\" + factor + offset + \")\" : null, backgroundStyle, spacing, overlay ? 'transparent' : backgroundStyle, minHeight, minHeight);\n}\n/* eslint-disable @typescript-eslint/no-unused-vars*/\nfunction ScreenSidePanel(props) {\n    var index = props.index, screenId = props.screenId, onInterctionChange = props.onInterctionChange, onHeightChange = props.onHeightChange, isDesignMode = props.isDesignMode, viewHeight = props.viewHeight, LayoutEntry = props.layoutEntry, isActive = props.isActive, transitionType = props.transitionType, triggerType = props.triggerType, stretched = props.stretched, _a = props.verticalSpace, verticalSpace = _a === void 0 ? '0' : _a;\n    var screenJson = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"ReactRedux\"].useSelector(function (state) {\n        return state.appConfig.screens[screenId];\n    });\n    var sideLayouts = screenJson.sideLayouts;\n    var elementRef = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useRef();\n    var _b = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useState(false), loaded = _b[0], setLoaded = _b[1];\n    var intersectionChange = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useCallback(function (isIntersecting) {\n        onInterctionChange(index, isIntersecting);\n    }, [index, onInterctionChange]);\n    var onSizeChange = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useCallback(function (width, height) {\n        onHeightChange(index, height);\n    }, [index, onHeightChange]);\n    Object(_use_intersection__WEBPACK_IMPORTED_MODULE_2__[\"useIntersection\"])(elementRef.current, props.refElement, triggerType !== null && triggerType !== void 0 ? triggerType : jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"ScreenTriggerType\"].Bottom, intersectionChange);\n    jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useEffect(function () {\n        setLoaded(true);\n    }, []);\n    return (Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"screen-side-panel\", \"data-index\": index, ref: elementRef, css: getSidePanelStyle(screenJson, viewHeight, isDesignMode, isActive, verticalSpace, stretched, transitionType) },\n        sideLayouts && (Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"panel-content\" },\n            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(LayoutEntry, { layouts: sideLayouts }),\n            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"panel-spacing\" }))),\n        !sideLayouts && Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"panel-content-placeholder\" }),\n        Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"ReactResizeDetector\"], { handleHeight: true, onResize: onSizeChange })));\n}\nvar templateObject_1;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWxheW91dHMvbGliL2Zsb3ctbGF5b3V0L2NvbW1vbi9zY3JlZW4tc2lkZS1wYW5lbC50c3guanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qaW11LWxheW91dHMvbGliL2Zsb3ctbGF5b3V0L2NvbW1vbi9zY3JlZW4tc2lkZS1wYW5lbC50c3g/MDMyMyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiogQGpzeCBqc3ggKi9cbmltcG9ydCB7XG4gIFJlYWN0LFxuICBSZWFjdFJlZHV4LFxuICBqc3gsXG4gIGNzcyxcbiAgSU1TdGF0ZSxcbiAgUmVhY3RSZXNpemVEZXRlY3RvcixcbiAgSU1TY3JlZW5Kc29uLFxuICBTY3JlZW5UcmFuc2l0aW9uVHlwZSxcbiAgU2NyZWVuVHJpZ2dlclR5cGVcbn0gZnJvbSAnamltdS1jb3JlJztcbmltcG9ydCB7IHN0eWxlVXRpbHMgfSBmcm9tICdqaW11LXVpJztcbmltcG9ydCB0eXBlIHsgTGF5b3V0UHJvcHMgfSBmcm9tICdqaW11LWxheW91dHMvbGF5b3V0LXJ1bnRpbWUnO1xuaW1wb3J0IHsgdXNlSW50ZXJzZWN0aW9uIH0gZnJvbSAnLi4vdXNlLWludGVyc2VjdGlvbic7XG5cbmV4cG9ydCB0eXBlIFByb3BzID0ge1xuICBpbmRleDogbnVtYmVyO1xuICB2aWV3SGVpZ2h0PzogbnVtYmVyO1xuICBzY3JlZW5JZDogc3RyaW5nO1xuICByZWZFbGVtZW50OiBIVE1MRGl2RWxlbWVudDtcbiAgbGF5b3V0RW50cnk6IFJlYWN0LkNvbXBvbmVudFR5cGU8TGF5b3V0UHJvcHM+O1xuICBpc0Rlc2lnbk1vZGU/OiBib29sZWFuO1xuICBpc0FjdGl2ZTogYm9vbGVhbjtcbiAgdHJhbnNpdGlvblR5cGU6IFNjcmVlblRyYW5zaXRpb25UeXBlO1xuICB0cmlnZ2VyVHlwZTogU2NyZWVuVHJpZ2dlclR5cGU7XG4gIHN0cmV0Y2hlZDogYm9vbGVhbjtcbiAgdmVydGljYWxTcGFjZTogc3RyaW5nO1xuICBvbkhlaWdodENoYW5nZTogKGluZGV4OiBudW1iZXIsIGhlaWdodDogbnVtYmVyKSA9PiB2b2lkO1xuICBvbkludGVyY3Rpb25DaGFuZ2U6IChpbmRleDogbnVtYmVyLCBpc0ludGVyc2VjdGluZzogYm9vbGVhbikgPT4gdm9pZDtcbn07XG5cbmNvbnN0IE1JTl9QQU5FTF9SQVRJTyA9IDAuMjU7XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRTaWRlUGFuZWxTdHlsZShcbiAgcHJvcHM6IElNU2NyZWVuSnNvbixcbiAgdmlld0hlaWdodDogbnVtYmVyLFxuICBpc0Rlc2lnbk1vZGU6IGJvb2xlYW4sXG4gIGlzQWN0aXZlOiBib29sZWFuLFxuICB2ZXJ0aWNhbFNwYWNlOiBzdHJpbmcsXG4gIHN0cmV0Y2hlZDogYm9vbGVhbixcbiAgdHJhbnNpdGlvblR5cGU6IFNjcmVlblRyYW5zaXRpb25UeXBlXG4pIHtcbiAgY29uc3QgeyBzaWRlLCBzaXplLCBvZmZzZXQsIHNpZGVCYWNrZ3JvdW5kLCBvdmVybGF5IH0gPSBwcm9wcztcbiAgY29uc3QgZmFjdG9yID0gc2lkZSA9PT0gJ3JpZ2h0JyA/ICctJyA6ICcnO1xuICBjb25zdCBiYWNrZ3JvdW5kU3R5bGUgPSBzdHlsZVV0aWxzLnRvQmFja2dyb3VuZEVtb3Rpb25TdHlsZShzaWRlQmFja2dyb3VuZCA/PyAoe30gYXMgYW55KSk7XG4gIGxldCBtaW5IZWlnaHQ7XG4gIGxldCBzcGFjaW5nOiBzdHJpbmcgfCBudW1iZXIgPSBwYXJzZUZsb2F0KHZlcnRpY2FsU3BhY2UpO1xuICBpZiAoaXNEZXNpZ25Nb2RlKSB7XG4gICAgbWluSGVpZ2h0ID0gYCR7c3RyZXRjaGVkID8gdmlld0hlaWdodCA6IE1hdGgucm91bmQodmlld0hlaWdodCAqIE1JTl9QQU5FTF9SQVRJTyl9cHhgO1xuICAgIHNwYWNpbmcgPSBgJHtNYXRoLnJvdW5kKHZpZXdIZWlnaHQgKiBzcGFjaW5nIC8gMTAwKX1weGA7XG4gIH0gZWxzZSB7XG4gICAgbWluSGVpZ2h0ID0gYCR7c3RyZXRjaGVkID8gJzEwMCcgOiBNYXRoLnJvdW5kKDEwMCAqIE1JTl9QQU5FTF9SQVRJTyl9dmhgO1xuICAgIHNwYWNpbmcgPSBgJHtzcGFjaW5nfXZoYDtcbiAgfVxuXG4gIHJldHVybiBjc3NgXG4gICAgd2lkdGg6IDEwMCU7XG4gICAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XG4gICAgcG9pbnRlci1ldmVudHM6IG5vbmU7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWRpcmVjdGlvbjogJHtzaWRlID09PSAncmlnaHQnID8gJ3Jvdy1yZXZlcnNlJyA6ICdyb3cnfTtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6ICR7c2lkZSA9PT0gJ2NlbnRlcicgPyAnY2VudGVyJyA6ICdmbGV4LXN0YXJ0J307XG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgIG9wYWNpdHk6ICR7dHJhbnNpdGlvblR5cGUgPT09IFNjcmVlblRyYW5zaXRpb25UeXBlLkZhZGUgPyAoaXNBY3RpdmUgPyAnMScgOiAnMC41JykgOiBudWxsfTtcblxuICAgIC5wYW5lbC1jb250ZW50IHtcbiAgICAgIHdpZHRoOiAke3NpemV9O1xuICAgICAgdHJhbnNmb3JtOiAke01hdGguYWJzKHBhcnNlRmxvYXQob2Zmc2V0KSkgPiAwID8gYHRyYW5zbGF0ZVgoJHtmYWN0b3J9JHtvZmZzZXR9KWAgOiBudWxsfTtcbiAgICAgIGZsZXg6IDAgYXV0bztcbiAgICAgIHBvaW50ZXItZXZlbnRzOiBhbGw7XG5cbiAgICAgIC5sYXlvdXQge1xuICAgICAgICAke2JhY2tncm91bmRTdHlsZX07XG4gICAgICB9XG5cbiAgICAgIC5wYW5lbC1zcGFjaW5nIHtcbiAgICAgICAgaGVpZ2h0OiAke3NwYWNpbmd9O1xuICAgICAgICBiYWNrZ3JvdW5kOiAke292ZXJsYXkgPyAndHJhbnNwYXJlbnQnIDogYmFja2dyb3VuZFN0eWxlfTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAucGFuZWwtY29udGVudC1wbGFjZWhvbGRlciB7XG4gICAgICB3aWR0aDogMXB4O1xuICAgICAgbWluLWhlaWdodDogJHttaW5IZWlnaHR9O1xuICAgIH1cblxuICAgIC5sYXlvdXQge1xuICAgICAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XG4gICAgICBtaW4taGVpZ2h0OiAke21pbkhlaWdodH07XG4gICAgfVxuICBgO1xufVxuXG4vKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW51c2VkLXZhcnMqL1xuZXhwb3J0IGZ1bmN0aW9uIFNjcmVlblNpZGVQYW5lbChwcm9wczogUHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIGluZGV4LFxuICAgIHNjcmVlbklkLFxuICAgIG9uSW50ZXJjdGlvbkNoYW5nZSxcbiAgICBvbkhlaWdodENoYW5nZSxcbiAgICBpc0Rlc2lnbk1vZGUsXG4gICAgdmlld0hlaWdodCxcbiAgICBsYXlvdXRFbnRyeTogTGF5b3V0RW50cnksXG4gICAgaXNBY3RpdmUsXG4gICAgdHJhbnNpdGlvblR5cGUsXG4gICAgdHJpZ2dlclR5cGUsXG4gICAgc3RyZXRjaGVkLFxuICAgIHZlcnRpY2FsU3BhY2UgPSAnMCcsXG4gIH0gPSBwcm9wcztcbiAgY29uc3Qgc2NyZWVuSnNvbjogSU1TY3JlZW5Kc29uID0gUmVhY3RSZWR1eC51c2VTZWxlY3Rvcigoc3RhdGU6IElNU3RhdGUpID0+IHtcbiAgICByZXR1cm4gc3RhdGUuYXBwQ29uZmlnLnNjcmVlbnNbc2NyZWVuSWRdO1xuICB9KTtcbiAgY29uc3QgeyBzaWRlTGF5b3V0cyB9ID0gc2NyZWVuSnNvbjtcbiAgY29uc3QgZWxlbWVudFJlZiA9IFJlYWN0LnVzZVJlZjxIVE1MRGl2RWxlbWVudD4oKTtcbiAgY29uc3QgW2xvYWRlZCwgc2V0TG9hZGVkXSA9IFJlYWN0LnVzZVN0YXRlKGZhbHNlKTtcblxuICBjb25zdCBpbnRlcnNlY3Rpb25DaGFuZ2UgPSBSZWFjdC51c2VDYWxsYmFjayhcbiAgICAoaXNJbnRlcnNlY3Rpbmc6IGJvb2xlYW4pID0+IHtcbiAgICAgIG9uSW50ZXJjdGlvbkNoYW5nZShpbmRleCwgaXNJbnRlcnNlY3RpbmcpO1xuICAgIH0sXG4gICAgW2luZGV4LCBvbkludGVyY3Rpb25DaGFuZ2VdXG4gICk7XG5cbiAgY29uc3Qgb25TaXplQ2hhbmdlID0gUmVhY3QudXNlQ2FsbGJhY2soXG4gICAgKHdpZHRoLCBoZWlnaHQpID0+IHtcbiAgICAgIG9uSGVpZ2h0Q2hhbmdlKGluZGV4LCBoZWlnaHQpO1xuICAgIH0sXG4gICAgW2luZGV4LCBvbkhlaWdodENoYW5nZV1cbiAgKTtcblxuICB1c2VJbnRlcnNlY3Rpb24oXG4gICAgZWxlbWVudFJlZi5jdXJyZW50LFxuICAgIHByb3BzLnJlZkVsZW1lbnQsXG4gICAgdHJpZ2dlclR5cGUgPz8gU2NyZWVuVHJpZ2dlclR5cGUuQm90dG9tLFxuICAgIGludGVyc2VjdGlvbkNoYW5nZVxuICApO1xuXG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0TG9hZGVkKHRydWUpO1xuICB9LCBbXSk7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2XG4gICAgICBjbGFzc05hbWU9XCJzY3JlZW4tc2lkZS1wYW5lbFwiXG4gICAgICBkYXRhLWluZGV4PXtpbmRleH1cbiAgICAgIHJlZj17ZWxlbWVudFJlZn1cbiAgICAgIGNzcz17Z2V0U2lkZVBhbmVsU3R5bGUoc2NyZWVuSnNvbiwgdmlld0hlaWdodCwgaXNEZXNpZ25Nb2RlLCBpc0FjdGl2ZSwgdmVydGljYWxTcGFjZSwgc3RyZXRjaGVkLCB0cmFuc2l0aW9uVHlwZSl9XG4gICAgPlxuICAgICAge3NpZGVMYXlvdXRzICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC1jb250ZW50XCI+XG4gICAgICAgICAgPExheW91dEVudHJ5IGxheW91dHM9e3NpZGVMYXlvdXRzfSAvPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtc3BhY2luZ1wiPjwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG4gICAgICB7IXNpZGVMYXlvdXRzICYmIDxkaXYgY2xhc3NOYW1lPVwicGFuZWwtY29udGVudC1wbGFjZWhvbGRlclwiIC8+fVxuICAgICAgPFJlYWN0UmVzaXplRGV0ZWN0b3IgaGFuZGxlSGVpZ2h0IG9uUmVzaXplPXtvblNpemVDaGFuZ2V9IC8+XG4gICAgPC9kaXY+XG4gICk7XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFXQTtBQUVBO0FBa0JBO0FBRUE7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBb0NBO0FBRUE7QUFDQTtBQUVBO0FBYUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBSUE7QUFFQTtBQUNBO0FBSUE7QUFPQTtBQUNBO0FBQ0E7QUFFQTtBQU9BO0FBRUE7QUFDQTtBQUdBO0FBQ0E7QUFHQTs7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./jimu-layouts/lib/flow-layout/common/screen-side-panel.tsx\n");

/***/ }),

/***/ "./jimu-layouts/lib/flow-layout/default-setting.ts":
/*!*********************************************************!*\
  !*** ./jimu-layouts/lib/flow-layout/default-setting.ts ***!
  \*********************************************************/
/*! exports provided: DEFAULT_FLOW_SETTING, DEFAULT_FLOW_ITEM_SETTING */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DEFAULT_FLOW_SETTING\", function() { return DEFAULT_FLOW_SETTING; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DEFAULT_FLOW_ITEM_SETTING\", function() { return DEFAULT_FLOW_ITEM_SETTING; });\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-ui */ \"jimu-ui\");\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jimu_ui__WEBPACK_IMPORTED_MODULE_0__);\n\nvar DEFAULT_FLOW_SETTING = {\n    gutter: 0,\n    style: {\n        padding: {\n            number: [0],\n            unit: 'px',\n        },\n        justifyContent: 'flex-start',\n        alignItems: 'stretch',\n        borderRadius: {\n            number: [0],\n            unit: jimu_ui__WEBPACK_IMPORTED_MODULE_0__[\"UnitTypes\"].PIXEL,\n        },\n    },\n};\nvar DEFAULT_FLOW_ITEM_SETTING = {\n    lockParent: true,\n    heightMode: 'auto',\n    offsetX: 0,\n    offsetY: 0,\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWxheW91dHMvbGliL2Zsb3ctbGF5b3V0L2RlZmF1bHQtc2V0dGluZy50cy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2ppbXUtbGF5b3V0cy9saWIvZmxvdy1sYXlvdXQvZGVmYXVsdC1zZXR0aW5nLnRzPzU1ODQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVW5pdFR5cGVzIH0gZnJvbSAnamltdS11aSc7XG5pbXBvcnQgeyBGbG93TGF5b3V0U2V0dGluZywgRmxvd0xheW91dEl0ZW1TZXR0aW5nIH0gZnJvbSAnLi4vdHlwZXMnO1xuXG5leHBvcnQgY29uc3QgREVGQVVMVF9GTE9XX1NFVFRJTkc6IEZsb3dMYXlvdXRTZXR0aW5nID0ge1xuICBndXR0ZXI6IDAsXG4gIHN0eWxlOiB7XG4gICAgcGFkZGluZzoge1xuICAgICAgbnVtYmVyOiBbMF0sXG4gICAgICB1bml0OiAncHgnLFxuICAgIH0sXG4gICAganVzdGlmeUNvbnRlbnQ6ICdmbGV4LXN0YXJ0JyxcbiAgICBhbGlnbkl0ZW1zOiAnc3RyZXRjaCcsXG4gICAgYm9yZGVyUmFkaXVzOiB7XG4gICAgICBudW1iZXI6IFswXSxcbiAgICAgIHVuaXQ6IFVuaXRUeXBlcy5QSVhFTCxcbiAgICB9LFxuICB9LFxufTtcblxuZXhwb3J0IGNvbnN0IERFRkFVTFRfRkxPV19JVEVNX1NFVFRJTkc6IEZsb3dMYXlvdXRJdGVtU2V0dGluZyA9IHtcbiAgbG9ja1BhcmVudDogdHJ1ZSxcbiAgaGVpZ2h0TW9kZTogJ2F1dG8nLFxuICBvZmZzZXRYOiAwLFxuICBvZmZzZXRZOiAwLFxufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./jimu-layouts/lib/flow-layout/default-setting.ts\n");

/***/ }),

/***/ "./jimu-layouts/lib/flow-layout/layout-setting.tsx":
/*!*********************************************************!*\
  !*** ./jimu-layouts/lib/flow-layout/layout-setting.tsx ***!
  \*********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jimu_core__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var jimu_for_builder__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-for-builder */ \"jimu-for-builder\");\n/* harmony import */ var jimu_for_builder__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jimu_for_builder__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-ui/advanced/setting-components */ \"jimu-ui/advanced/setting-components\");\n/* harmony import */ var jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-ui */ \"jimu-ui\");\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(jimu_ui__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _default_setting__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./default-setting */ \"./jimu-layouts/lib/flow-layout/default-setting.ts\");\n/* harmony import */ var jimu_ui_advanced_style_setting_components__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! jimu-ui/advanced/style-setting-components */ \"jimu-ui/advanced/style-setting-components\");\n/* harmony import */ var jimu_ui_advanced_style_setting_components__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(jimu_ui_advanced_style_setting_components__WEBPACK_IMPORTED_MODULE_5__);\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/** @jsx jsx */\n\n\n\n\n\n\nvar marginSides = [jimu_ui__WEBPACK_IMPORTED_MODULE_3__[\"Sides\"].T, jimu_ui__WEBPACK_IMPORTED_MODULE_3__[\"Sides\"].R, jimu_ui__WEBPACK_IMPORTED_MODULE_3__[\"Sides\"].B, jimu_ui__WEBPACK_IMPORTED_MODULE_3__[\"Sides\"].L];\nvar inputStyle = { width: 110 };\nvar FlowLayoutSetting = /** @class */ (function (_super) {\n    __extends(FlowLayoutSetting, _super);\n    function FlowLayoutSetting() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.updateSpace = function (value) {\n            var _a = _this.props, layoutId = _a.layoutId, setting = _a.setting;\n            var imSetting = Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"Immutable\"])(setting || {});\n            if (!isNaN(value.distance)) {\n                var appConfigAction = Object(jimu_for_builder__WEBPACK_IMPORTED_MODULE_1__[\"getAppConfigAction\"])();\n                appConfigAction.editLayoutSetting({ layoutId: layoutId }, imSetting.set('gutter', value.distance)).exec();\n            }\n        };\n        _this.updatePadding = function (value) {\n            var _a = _this.props, layoutId = _a.layoutId, setting = _a.setting;\n            var imSetting = Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"Immutable\"])(setting || {});\n            var appConfigAction = Object(jimu_for_builder__WEBPACK_IMPORTED_MODULE_1__[\"getAppConfigAction\"])();\n            appConfigAction.editLayoutSetting({ layoutId: layoutId }, imSetting.setIn(['style', 'padding'], value)).exec();\n        };\n        return _this;\n    }\n    FlowLayoutSetting.prototype.render = function () {\n        var formatMessage = this.props.formatMessage;\n        var setting = this.props.setting || {};\n        var style = setting.style || {};\n        var gutter = setting.gutter >= 0 ? setting.gutter : _default_setting__WEBPACK_IMPORTED_MODULE_4__[\"DEFAULT_FLOW_SETTING\"].gutter;\n        return (Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_2__[\"SettingSection\"], { title: formatMessage('layout'), className: \"flow-layout-setting\" },\n            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_2__[\"SettingRow\"], { label: formatMessage('gap') },\n                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui_advanced_style_setting_components__WEBPACK_IMPORTED_MODULE_5__[\"InputUnit\"], { value: { distance: gutter, unit: undefined }, min: 0, onChange: this.updateSpace, style: inputStyle })),\n            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui_advanced_setting_components__WEBPACK_IMPORTED_MODULE_2__[\"SettingRow\"], { label: formatMessage('padding'), flow: \"wrap\" },\n                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui_advanced_style_setting_components__WEBPACK_IMPORTED_MODULE_5__[\"FourSides\"], { showTip: true, sides: marginSides, value: style.padding, onChange: this.updatePadding }))));\n    };\n    return FlowLayoutSetting;\n}(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].PureComponent));\nfunction mapStateToProps(state, ownProps) {\n    var _a, _b, _c, _d;\n    return {\n        setting: (_d = (_c = (_b = (_a = state.appStateInBuilder) === null || _a === void 0 ? void 0 : _a.appConfig) === null || _b === void 0 ? void 0 : _b.layouts) === null || _c === void 0 ? void 0 : _c[ownProps.layoutId]) === null || _d === void 0 ? void 0 : _d.setting,\n    };\n}\n/* harmony default export */ __webpack_exports__[\"default\"] = (jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"ReactRedux\"].connect(mapStateToProps)(FlowLayoutSetting));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWxheW91dHMvbGliL2Zsb3ctbGF5b3V0L2xheW91dC1zZXR0aW5nLnRzeC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2ppbXUtbGF5b3V0cy9saWIvZmxvdy1sYXlvdXQvbGF5b3V0LXNldHRpbmcudHN4P2U2MjkiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqIEBqc3gganN4ICovXG5pbXBvcnQgeyBqc3gsIFJlYWN0LCBSZWFjdFJlZHV4LCBJTVN0YXRlLCBJbW11dGFibGUgfSBmcm9tICdqaW11LWNvcmUnO1xuaW1wb3J0IHsgZ2V0QXBwQ29uZmlnQWN0aW9uIH0gZnJvbSAnamltdS1mb3ItYnVpbGRlcic7XG5pbXBvcnQgeyBTZXR0aW5nU2VjdGlvbiwgU2V0dGluZ1JvdyB9IGZyb20gJ2ppbXUtdWkvYWR2YW5jZWQvc2V0dGluZy1jb21wb25lbnRzJztcbmltcG9ydCB7IFNpZGVzIH0gZnJvbSAnamltdS11aSc7XG5pbXBvcnQgeyBERUZBVUxUX0ZMT1dfU0VUVElORyB9IGZyb20gJy4vZGVmYXVsdC1zZXR0aW5nJztcbmltcG9ydCB7IEZvdXJTaWRlcywgSW5wdXRVbml0IH0gZnJvbSAnamltdS11aS9hZHZhbmNlZC9zdHlsZS1zZXR0aW5nLWNvbXBvbmVudHMnO1xuXG5jb25zdCBtYXJnaW5TaWRlcyA9IFtTaWRlcy5ULCBTaWRlcy5SLCBTaWRlcy5CLCBTaWRlcy5MXTtcblxuaW50ZXJmYWNlIFByb3BzIHtcbiAgbGF5b3V0SWQ6IHN0cmluZztcbiAgZm9ybWF0TWVzc2FnZTogKGlkOiBzdHJpbmcpID0+IHN0cmluZztcbn1cblxuaW50ZXJmYWNlIFN0YXRlVG9Qcm9wcyB7XG4gIHNldHRpbmc/OiBhbnk7XG59XG5cbmNvbnN0IGlucHV0U3R5bGUgPSB7IHdpZHRoOiAxMTAgfTtcblxuY2xhc3MgRmxvd0xheW91dFNldHRpbmcgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50PFByb3BzICYgU3RhdGVUb1Byb3BzPiB7XG4gIHVwZGF0ZVNwYWNlID0gdmFsdWUgPT4ge1xuICAgIGNvbnN0IHsgbGF5b3V0SWQsIHNldHRpbmcgfSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3QgaW1TZXR0aW5nID0gSW1tdXRhYmxlKHNldHRpbmcgfHwge30pO1xuICAgIGlmICghaXNOYU4odmFsdWUuZGlzdGFuY2UpKSB7XG4gICAgICBjb25zdCBhcHBDb25maWdBY3Rpb24gPSBnZXRBcHBDb25maWdBY3Rpb24oKTtcbiAgICAgIGFwcENvbmZpZ0FjdGlvbi5lZGl0TGF5b3V0U2V0dGluZyh7IGxheW91dElkIH0sIGltU2V0dGluZy5zZXQoJ2d1dHRlcicsIHZhbHVlLmRpc3RhbmNlKSkuZXhlYygpO1xuICAgIH1cbiAgfTtcblxuICB1cGRhdGVQYWRkaW5nID0gdmFsdWUgPT4ge1xuICAgIGNvbnN0IHsgbGF5b3V0SWQsIHNldHRpbmcgfSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3QgaW1TZXR0aW5nID0gSW1tdXRhYmxlKHNldHRpbmcgfHwge30pO1xuICAgIGNvbnN0IGFwcENvbmZpZ0FjdGlvbiA9IGdldEFwcENvbmZpZ0FjdGlvbigpO1xuICAgIGFwcENvbmZpZ0FjdGlvbi5lZGl0TGF5b3V0U2V0dGluZyh7IGxheW91dElkIH0sIGltU2V0dGluZy5zZXRJbihbJ3N0eWxlJywgJ3BhZGRpbmcnXSwgdmFsdWUpKS5leGVjKCk7XG4gIH07XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgZm9ybWF0TWVzc2FnZSB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCBzZXR0aW5nID0gdGhpcy5wcm9wcy5zZXR0aW5nIHx8IHt9O1xuICAgIGNvbnN0IHN0eWxlID0gc2V0dGluZy5zdHlsZSB8fCB7fTtcbiAgICBjb25zdCBndXR0ZXIgPSBzZXR0aW5nLmd1dHRlciA+PSAwID8gc2V0dGluZy5ndXR0ZXIgOiBERUZBVUxUX0ZMT1dfU0VUVElORy5ndXR0ZXI7XG4gICAgcmV0dXJuIChcbiAgICAgIDxTZXR0aW5nU2VjdGlvbiB0aXRsZT17Zm9ybWF0TWVzc2FnZSgnbGF5b3V0Jyl9IGNsYXNzTmFtZT1cImZsb3ctbGF5b3V0LXNldHRpbmdcIj5cbiAgICAgICAgPFNldHRpbmdSb3cgbGFiZWw9e2Zvcm1hdE1lc3NhZ2UoJ2dhcCcpfT5cbiAgICAgICAgICA8SW5wdXRVbml0IHZhbHVlPXt7ZGlzdGFuY2U6IGd1dHRlciwgdW5pdDogdW5kZWZpbmVkfX0gbWluPXswfSBvbkNoYW5nZT17dGhpcy51cGRhdGVTcGFjZX0gc3R5bGU9e2lucHV0U3R5bGV9PlxuICAgICAgICAgIDwvSW5wdXRVbml0PlxuICAgICAgICA8L1NldHRpbmdSb3c+XG4gICAgICAgIDxTZXR0aW5nUm93IGxhYmVsPXtmb3JtYXRNZXNzYWdlKCdwYWRkaW5nJyl9IGZsb3c9XCJ3cmFwXCI+XG4gICAgICAgICAgPEZvdXJTaWRlcyBzaG93VGlwPXt0cnVlfSBzaWRlcz17bWFyZ2luU2lkZXN9IHZhbHVlPXtzdHlsZS5wYWRkaW5nIGFzIGFueX0gb25DaGFuZ2U9e3RoaXMudXBkYXRlUGFkZGluZ30gLz5cbiAgICAgICAgPC9TZXR0aW5nUm93PlxuICAgICAgPC9TZXR0aW5nU2VjdGlvbj5cbiAgICApO1xuICB9XG59XG5cbmZ1bmN0aW9uIG1hcFN0YXRlVG9Qcm9wcyhzdGF0ZTogSU1TdGF0ZSwgb3duUHJvcHM6IFByb3BzKSB7XG4gIHJldHVybiB7XG4gICAgc2V0dGluZzogc3RhdGUuYXBwU3RhdGVJbkJ1aWxkZXI/LmFwcENvbmZpZz8ubGF5b3V0cz8uW293blByb3BzLmxheW91dElkXT8uc2V0dGluZyxcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgUmVhY3RSZWR1eC5jb25uZWN0PFN0YXRlVG9Qcm9wcywgdW5rbm93biwgUHJvcHM+KG1hcFN0YXRlVG9Qcm9wcykoRmxvd0xheW91dFNldHRpbmcpO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQVdBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQW1CQTtBQWpCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBR0E7QUFDQTtBQUlBO0FBQ0E7QUFBQTtBQUVBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./jimu-layouts/lib/flow-layout/layout-setting.tsx\n");

/***/ }),

/***/ "./jimu-layouts/lib/flow-layout/layout-transform.ts":
/*!**********************************************************!*\
  !*** ./jimu-layouts/lib/flow-layout/layout-transform.ts ***!
  \**********************************************************/
/*! exports provided: FlowLayoutTransformer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FlowLayoutTransformer\", function() { return FlowLayoutTransformer; });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jimu_core__WEBPACK_IMPORTED_MODULE_0__);\n\nvar FlowLayoutTransformer = /** @class */ (function () {\n    function FlowLayoutTransformer() {\n        this.id = 'flow-layout-transformer';\n        this.layoutType = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"LayoutType\"].FlowLayout;\n    }\n    FlowLayoutTransformer.prototype.transformLayout = function (layout, fromSizeMode, toSizeMode) {\n        if (fromSizeMode !== toSizeMode && toSizeMode === jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"BrowserSizeMode\"].Small) {\n            var updatedLayout_1 = Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"Immutable\"])(layout);\n            (layout.order || []).forEach(function (itemId) {\n                updatedLayout_1 = updatedLayout_1.setIn(['content', itemId, 'setting', 'heightMode'], 'auto');\n            });\n            return updatedLayout_1;\n        }\n        return layout;\n    };\n    FlowLayoutTransformer.prototype.transformLayoutItem = function (item, index, fromLayoutId, toLayoutId, fromSizeMode, toSizeMode) {\n        return { index: index, item: item };\n    };\n    return FlowLayoutTransformer;\n}());\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWxheW91dHMvbGliL2Zsb3ctbGF5b3V0L2xheW91dC10cmFuc2Zvcm0udHMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qaW11LWxheW91dHMvbGliL2Zsb3ctbGF5b3V0L2xheW91dC10cmFuc2Zvcm0udHM/Njk2ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBleHRlbnNpb25TcGVjLFxuICBMYXlvdXRUeXBlLFxuICBJTUxheW91dEl0ZW1Kc29uLFxuICBCcm93c2VyU2l6ZU1vZGUsXG4gIEltbXV0YWJsZSxcbiAgSU1MYXlvdXRKc29uLFxufSBmcm9tICdqaW11LWNvcmUnO1xuXG5leHBvcnQgY2xhc3MgRmxvd0xheW91dFRyYW5zZm9ybWVyIGltcGxlbWVudHMgZXh0ZW5zaW9uU3BlYy5MYXlvdXRUcmFuc2Zvcm1lciB7XG4gIGlkID0gJ2Zsb3ctbGF5b3V0LXRyYW5zZm9ybWVyJztcblxuICBsYXlvdXRUeXBlID0gTGF5b3V0VHlwZS5GbG93TGF5b3V0O1xuXG4gIHRyYW5zZm9ybUxheW91dChsYXlvdXQ6IElNTGF5b3V0SnNvbiwgZnJvbVNpemVNb2RlOiBCcm93c2VyU2l6ZU1vZGUsIHRvU2l6ZU1vZGU6IEJyb3dzZXJTaXplTW9kZSk6IElNTGF5b3V0SnNvbiB7XG4gICAgaWYgKGZyb21TaXplTW9kZSAhPT0gdG9TaXplTW9kZSAmJiB0b1NpemVNb2RlID09PSBCcm93c2VyU2l6ZU1vZGUuU21hbGwpIHtcbiAgICAgIGxldCB1cGRhdGVkTGF5b3V0OiBJTUxheW91dEpzb24gPSBJbW11dGFibGUobGF5b3V0KTtcblxuICAgICAgKGxheW91dC5vcmRlciB8fCBbXSkuZm9yRWFjaCgoaXRlbUlkKSA9PiB7XG4gICAgICAgIHVwZGF0ZWRMYXlvdXQgPSB1cGRhdGVkTGF5b3V0LnNldEluKFsnY29udGVudCcsIGl0ZW1JZCwgJ3NldHRpbmcnLCAnaGVpZ2h0TW9kZSddLCAnYXV0bycpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gdXBkYXRlZExheW91dDtcbiAgICB9XG5cbiAgICByZXR1cm4gbGF5b3V0O1xuICB9XG5cbiAgdHJhbnNmb3JtTGF5b3V0SXRlbShcbiAgICBpdGVtOiBJTUxheW91dEl0ZW1Kc29uLFxuICAgIGluZGV4OiBudW1iZXIsXG4gICAgZnJvbUxheW91dElkOiBzdHJpbmcsXG4gICAgdG9MYXlvdXRJZDogc3RyaW5nLFxuICAgIGZyb21TaXplTW9kZTogQnJvd3NlclNpemVNb2RlLFxuICAgIHRvU2l6ZU1vZGU6IEJyb3dzZXJTaXplTW9kZVxuICApOiB7IGl0ZW06IElNTGF5b3V0SXRlbUpzb247IGluZGV4OiBudW1iZXIgfSB7XG4gICAgcmV0dXJuIHsgaW5kZXgsIGl0ZW0gfTtcbiAgfVxufVxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBU0E7QUFBQTtBQUNBO0FBRUE7QUF5QkE7QUF2QkE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQVFBO0FBQ0E7QUFDQTtBQUFBOzsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./jimu-layouts/lib/flow-layout/layout-transform.ts\n");

/***/ }),

/***/ "./jimu-layouts/lib/flow-layout/layout-utils.ts":
/*!******************************************************!*\
  !*** ./jimu-layouts/lib/flow-layout/layout-utils.ts ***!
  \******************************************************/
/*! exports provided: mapStateToFlowItemProps, getWidthFromSetting */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"mapStateToFlowItemProps\", function() { return mapStateToFlowItemProps; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getWidthFromSetting\", function() { return getWidthFromSetting; });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jimu_core__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ \"jimu-ui\");\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jimu_ui__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _search_contents__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../search/contents */ \"./jimu-layouts/lib/search/contents.ts\");\n\n\n\nfunction mapStateToFlowItemProps(state, ownProps) {\n    var _a, _b, _c, _d;\n    var isEmpty = true;\n    var selected = false;\n    var layoutItem = ownProps.layoutItem;\n    var selection = (_a = state.appRuntimeInfo) === null || _a === void 0 ? void 0 : _a.selection;\n    if (selection) {\n        selected = selection.layoutId === ownProps.layoutId && selection.layoutItemId === layoutItem.id;\n    }\n    if (layoutItem.type === jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"LayoutItemType\"].Widget) {\n        var widgetId = layoutItem.widgetId;\n        var widgetJson = state.appConfig.widgets[widgetId];\n        var padding = [0, 0, 0, 0];\n        if (widgetJson) {\n            padding = jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"styleUtils\"].expandStyleArray((_d = (_c = (_b = widgetJson.config) === null || _b === void 0 ? void 0 : _b.style) === null || _c === void 0 ? void 0 : _c.padding) === null || _d === void 0 ? void 0 : _d.number);\n            var layoutName = Object.keys(widgetJson.layouts)[0];\n            var layoutId = Object(_search_contents__WEBPACK_IMPORTED_MODULE_2__[\"findLayoutId\"])(widgetJson.layouts[layoutName], state.browserSizeMode, state.appConfig.mainSizeMode);\n            var layout_1 = state.appConfig.layouts[layoutId];\n            if (layout_1 && Object.keys(layout_1.content || []).length > 0) {\n                Object.keys(layout_1.content || []).some(function (itemId) {\n                    var layoutItem = layout_1.content[itemId];\n                    if (!layoutItem.isPending) {\n                        isEmpty = false;\n                        return true;\n                    }\n                });\n            }\n        }\n        return {\n            isEmpty: isEmpty,\n            selected: selected,\n            padding: padding[0] + padding[2],\n        };\n    }\n    return { selected: selected, isEmpty: false, padding: 0 };\n}\nfunction getWidthFromSetting(setting) {\n    var value = parseFloat(setting === null || setting === void 0 ? void 0 : setting.width);\n    if (value > 0) {\n        if ((\"\" + setting.width).indexOf('px') >= 0) {\n            return Math.round(value) + \"px\";\n        }\n        return Math.round(value) + \"%\";\n    }\n    return '100%';\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWxheW91dHMvbGliL2Zsb3ctbGF5b3V0L2xheW91dC11dGlscy50cy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2ppbXUtbGF5b3V0cy9saWIvZmxvdy1sYXlvdXQvbGF5b3V0LXV0aWxzLnRzPzk1YmUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSU1TdGF0ZSwgSU1MYXlvdXRJdGVtSnNvbiwgTGF5b3V0SXRlbVR5cGUgfSBmcm9tICdqaW11LWNvcmUnO1xuaW1wb3J0IHsgc3R5bGVVdGlscyB9IGZyb20gJ2ppbXUtdWknO1xuaW1wb3J0IHsgZmluZExheW91dElkIH0gZnJvbSAnLi4vc2VhcmNoL2NvbnRlbnRzJztcblxuZXhwb3J0IHR5cGUgU3RhdGVUb0Zsb3dJdGVtUHJvcHMgPSB7XG4gIGlzRW1wdHk6IGJvb2xlYW47XG4gIHBhZGRpbmc6IG51bWJlcjtcbiAgc2VsZWN0ZWQ6IGJvb2xlYW47XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gbWFwU3RhdGVUb0Zsb3dJdGVtUHJvcHMoXG4gIHN0YXRlOiBJTVN0YXRlLFxuICBvd25Qcm9wczoge2xheW91dEl0ZW06IElNTGF5b3V0SXRlbUpzb24sIGxheW91dElkOiBzdHJpbmd9KTogU3RhdGVUb0Zsb3dJdGVtUHJvcHMge1xuICBsZXQgaXNFbXB0eSA9IHRydWU7XG4gIGxldCBzZWxlY3RlZCA9IGZhbHNlO1xuXG4gIGNvbnN0IHsgbGF5b3V0SXRlbSB9ID0gb3duUHJvcHM7XG4gIGNvbnN0IHNlbGVjdGlvbiA9IHN0YXRlLmFwcFJ1bnRpbWVJbmZvPy5zZWxlY3Rpb247XG4gIGlmIChzZWxlY3Rpb24pIHtcbiAgICBzZWxlY3RlZCA9IHNlbGVjdGlvbi5sYXlvdXRJZCA9PT0gb3duUHJvcHMubGF5b3V0SWQgJiYgc2VsZWN0aW9uLmxheW91dEl0ZW1JZCA9PT0gbGF5b3V0SXRlbS5pZDtcbiAgfVxuXG4gIGlmIChsYXlvdXRJdGVtLnR5cGUgPT09IExheW91dEl0ZW1UeXBlLldpZGdldCkge1xuICAgIGNvbnN0IHdpZGdldElkID0gbGF5b3V0SXRlbS53aWRnZXRJZDtcbiAgICBjb25zdCB3aWRnZXRKc29uID0gc3RhdGUuYXBwQ29uZmlnLndpZGdldHNbd2lkZ2V0SWRdO1xuICAgIGxldCBwYWRkaW5nID0gWzAsIDAsIDAsIDBdO1xuICAgIGlmICh3aWRnZXRKc29uKSB7XG4gICAgICBwYWRkaW5nID0gc3R5bGVVdGlscy5leHBhbmRTdHlsZUFycmF5KHdpZGdldEpzb24uY29uZmlnPy5zdHlsZT8ucGFkZGluZz8ubnVtYmVyKTtcbiAgICAgIGNvbnN0IGxheW91dE5hbWUgPSBPYmplY3Qua2V5cyh3aWRnZXRKc29uLmxheW91dHMpWzBdO1xuICAgICAgY29uc3QgbGF5b3V0SWQgPSBmaW5kTGF5b3V0SWQoXG4gICAgICAgIHdpZGdldEpzb24ubGF5b3V0c1tsYXlvdXROYW1lXSxcbiAgICAgICAgc3RhdGUuYnJvd3NlclNpemVNb2RlLFxuICAgICAgICBzdGF0ZS5hcHBDb25maWcubWFpblNpemVNb2RlKTtcblxuICAgICAgY29uc3QgbGF5b3V0ID0gc3RhdGUuYXBwQ29uZmlnLmxheW91dHNbbGF5b3V0SWRdO1xuICAgICAgaWYgKGxheW91dCAmJiBPYmplY3Qua2V5cyhsYXlvdXQuY29udGVudCB8fCBbXSkubGVuZ3RoID4gMCkge1xuICAgICAgICBPYmplY3Qua2V5cyhsYXlvdXQuY29udGVudCB8fCBbXSkuc29tZSgoaXRlbUlkKSA9PiB7XG4gICAgICAgICAgY29uc3QgbGF5b3V0SXRlbSA9IGxheW91dC5jb250ZW50W2l0ZW1JZF07XG4gICAgICAgICAgaWYgKCFsYXlvdXRJdGVtLmlzUGVuZGluZykge1xuICAgICAgICAgICAgaXNFbXB0eSA9IGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgaXNFbXB0eSxcbiAgICAgIHNlbGVjdGVkLFxuICAgICAgcGFkZGluZzogcGFkZGluZ1swXSArIHBhZGRpbmdbMl0sIC8vIHRvcCBhbmQgYm90dG9tIHBhZGRpbmcgb2YgaW5uZXIgcm93IHdpZGdldFxuICAgIH07XG4gIH1cbiAgcmV0dXJuIHsgc2VsZWN0ZWQsIGlzRW1wdHk6IGZhbHNlLCBwYWRkaW5nOiAwfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFdpZHRoRnJvbVNldHRpbmcoc2V0dGluZykge1xuICBjb25zdCB2YWx1ZSA9IHBhcnNlRmxvYXQoc2V0dGluZz8ud2lkdGgpO1xuICBpZiAodmFsdWUgPiAwKSB7XG4gICAgaWYgKGAke3NldHRpbmcud2lkdGh9YC5pbmRleE9mKCdweCcpID49IDApIHtcbiAgICAgIHJldHVybiBgJHtNYXRoLnJvdW5kKHZhbHVlKX1weGA7XG4gICAgfVxuICAgIHJldHVybiBgJHtNYXRoLnJvdW5kKHZhbHVlKX0lYDtcbiAgfVxuICByZXR1cm4gJzEwMCUnO1xufSJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQVFBOztBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./jimu-layouts/lib/flow-layout/layout-utils.ts\n");

/***/ }),

/***/ "./jimu-layouts/lib/flow-layout/use-intersection.tsx":
/*!***********************************************************!*\
  !*** ./jimu-layouts/lib/flow-layout/use-intersection.tsx ***!
  \***********************************************************/
/*! exports provided: INTERSECTION_HEIGHT, useIntersection */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"INTERSECTION_HEIGHT\", function() { return INTERSECTION_HEIGHT; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"useIntersection\", function() { return useIntersection; });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jimu_core__WEBPACK_IMPORTED_MODULE_0__);\n\nvar INTERSECTION_HEIGHT = 2; // in percentage\nfunction buildThresholdList() {\n    var step = 100;\n    var result = [0];\n    for (var i = 1; i <= step; i++) {\n        result.push(i / step);\n    }\n    return result;\n}\nfunction getRootMargin(triggerType) {\n    switch (triggerType) {\n        case jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"ScreenTriggerType\"].Top:\n            return \"0% 0% -\" + (100 - INTERSECTION_HEIGHT) + \"% 0%\";\n        case jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"ScreenTriggerType\"].Bottom:\n            // make a little space between the bottom in order to trigger screen out\n            return \"-\" + (100 - INTERSECTION_HEIGHT) + \"% 0% -2px 0%\";\n        case jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"ScreenTriggerType\"].Upper:\n            return \"-\" + (100 / 3 - INTERSECTION_HEIGHT / 2) + \"% 0% -\" + (200 / 3 - INTERSECTION_HEIGHT / 2) + \"% 0%\";\n        case jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"ScreenTriggerType\"].Lower:\n            return \"-\" + (200 / 3 - INTERSECTION_HEIGHT / 2) + \"% 0% -\" + (100 / 3 - INTERSECTION_HEIGHT / 2) + \"% 0%\";\n        default:\n            return undefined;\n    }\n}\n/**\n *\n * @param ref\n * @param rootElement\n * @param onIntersectionChange\n */\nfunction useIntersection(ref, rootElement, triggerType, onIntersectionChange) {\n    var observerRef = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useRef();\n    var lastIntersecting = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useRef();\n    jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useEffect(function () {\n        if (observerRef.current) {\n            observerRef.current.unobserve(ref);\n            observerRef.current = null;\n        }\n        var handleIntersectionChange = function (entry) {\n            /**\n             * This event may be trigged later than the intersecting time.\n             * For example, the two rects may looks like the following when\n             * interction change event is fired.\n             *               ------------ rect.top\n             *               |          |\n             *          ----------------------- rootRect.top\n             *          |    |          |     |\n             *          |    |          |     |\n             *          |    |          |     |\n             *          ----------------------- rootRect.bottom\n             *               |          |\n             *               |          |\n             *               ------------ rect.bottom\n             */\n            var rect = entry.boundingClientRect;\n            var rootRect = entry.rootBounds;\n            var isTopIntersecting = Math.abs(rect.bottom - rootRect.top) >= Math.abs(rect.top - rootRect.top);\n            if (entry.isIntersecting) {\n                lastIntersecting.current = true;\n                if (isTopIntersecting) {\n                    return onIntersectionChange(true);\n                }\n            }\n            else if (lastIntersecting.current) {\n                lastIntersecting.current = false;\n                if (isTopIntersecting) {\n                    return onIntersectionChange(false);\n                }\n            }\n        };\n        if (ref && typeof IntersectionObserver === 'function') {\n            var handler = function (entries) {\n                handleIntersectionChange(entries[0]);\n            };\n            var observer = new IntersectionObserver(handler, {\n                threshold: buildThresholdList(),\n                root: rootElement || document.body,\n                rootMargin: getRootMargin(triggerType)\n            });\n            observer.observe(ref);\n            observerRef.current = observer;\n            return function () {\n                observerRef.current.unobserve(ref);\n                observerRef.current = null;\n            };\n        }\n    }, [ref, rootElement, onIntersectionChange, triggerType]);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWxheW91dHMvbGliL2Zsb3ctbGF5b3V0L3VzZS1pbnRlcnNlY3Rpb24udHN4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vamltdS1sYXlvdXRzL2xpYi9mbG93LWxheW91dC91c2UtaW50ZXJzZWN0aW9uLnRzeD9iYWExIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJlYWN0LCBTY3JlZW5UcmlnZ2VyVHlwZSB9IGZyb20gJ2ppbXUtY29yZSc7XG5cbmV4cG9ydCBjb25zdCBJTlRFUlNFQ1RJT05fSEVJR0hUID0gMjsgLy8gaW4gcGVyY2VudGFnZVxuXG5mdW5jdGlvbiBidWlsZFRocmVzaG9sZExpc3QoKSB7XG4gIGNvbnN0IHN0ZXAgPSAxMDA7XG4gIGNvbnN0IHJlc3VsdCA9IFswXTtcbiAgZm9yIChsZXQgaSA9IDE7IGkgPD0gc3RlcDsgaSsrKSB7XG4gICAgcmVzdWx0LnB1c2goaSAvIHN0ZXAgKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBnZXRSb290TWFyZ2luKHRyaWdnZXJUeXBlOiBTY3JlZW5UcmlnZ2VyVHlwZSkge1xuICBzd2l0Y2godHJpZ2dlclR5cGUpIHtcbiAgICBjYXNlIFNjcmVlblRyaWdnZXJUeXBlLlRvcDpcbiAgICAgIHJldHVybiBgMCUgMCUgLSR7MTAwIC0gSU5URVJTRUNUSU9OX0hFSUdIVH0lIDAlYDtcbiAgICBjYXNlIFNjcmVlblRyaWdnZXJUeXBlLkJvdHRvbTpcbiAgICAgIC8vIG1ha2UgYSBsaXR0bGUgc3BhY2UgYmV0d2VlbiB0aGUgYm90dG9tIGluIG9yZGVyIHRvIHRyaWdnZXIgc2NyZWVuIG91dFxuICAgICAgcmV0dXJuIGAtJHsxMDAgLSBJTlRFUlNFQ1RJT05fSEVJR0hUfSUgMCUgLTJweCAwJWA7XG4gICAgY2FzZSBTY3JlZW5UcmlnZ2VyVHlwZS5VcHBlcjpcbiAgICAgIHJldHVybiBgLSR7MTAwLzMgLSBJTlRFUlNFQ1RJT05fSEVJR0hULzJ9JSAwJSAtJHsyMDAvMyAtIElOVEVSU0VDVElPTl9IRUlHSFQvMn0lIDAlYDtcbiAgICBjYXNlIFNjcmVlblRyaWdnZXJUeXBlLkxvd2VyOlxuICAgICAgcmV0dXJuIGAtJHsyMDAvMyAtIElOVEVSU0VDVElPTl9IRUlHSFQvMn0lIDAlIC0kezEwMC8zIC0gSU5URVJTRUNUSU9OX0hFSUdIVC8yfSUgMCVgO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG59XG5cbi8qKlxuICpcbiAqIEBwYXJhbSByZWZcbiAqIEBwYXJhbSByb290RWxlbWVudFxuICogQHBhcmFtIG9uSW50ZXJzZWN0aW9uQ2hhbmdlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VJbnRlcnNlY3Rpb24oXG4gIHJlZjogSFRNTEVsZW1lbnQsXG4gIHJvb3RFbGVtZW50OiBIVE1MRWxlbWVudCxcbiAgdHJpZ2dlclR5cGU6IFNjcmVlblRyaWdnZXJUeXBlLFxuICBvbkludGVyc2VjdGlvbkNoYW5nZTogKGlzSW50ZXJzZWN0aW5nOiBib29sZWFuKSA9PiB2b2lkLFxuKSB7XG4gIGNvbnN0IG9ic2VydmVyUmVmID0gUmVhY3QudXNlUmVmPEludGVyc2VjdGlvbk9ic2VydmVyPigpO1xuICBjb25zdCBsYXN0SW50ZXJzZWN0aW5nID0gUmVhY3QudXNlUmVmPGJvb2xlYW4+KCk7XG5cbiAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAob2JzZXJ2ZXJSZWYuY3VycmVudCkge1xuICAgICAgb2JzZXJ2ZXJSZWYuY3VycmVudC51bm9ic2VydmUocmVmKTtcbiAgICAgIG9ic2VydmVyUmVmLmN1cnJlbnQgPSBudWxsO1xuICAgIH1cblxuICAgIGNvbnN0IGhhbmRsZUludGVyc2VjdGlvbkNoYW5nZSA9IChlbnRyeTogSW50ZXJzZWN0aW9uT2JzZXJ2ZXJFbnRyeSkgPT4ge1xuICAgICAgLyoqXG4gICAgICAgKiBUaGlzIGV2ZW50IG1heSBiZSB0cmlnZ2VkIGxhdGVyIHRoYW4gdGhlIGludGVyc2VjdGluZyB0aW1lLlxuICAgICAgICogRm9yIGV4YW1wbGUsIHRoZSB0d28gcmVjdHMgbWF5IGxvb2tzIGxpa2UgdGhlIGZvbGxvd2luZyB3aGVuXG4gICAgICAgKiBpbnRlcmN0aW9uIGNoYW5nZSBldmVudCBpcyBmaXJlZC5cbiAgICAgICAqICAgICAgICAgICAgICAgLS0tLS0tLS0tLS0tIHJlY3QudG9wXG4gICAgICAgKiAgICAgICAgICAgICAgIHwgICAgICAgICAgfFxuICAgICAgICogICAgICAgICAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gcm9vdFJlY3QudG9wXG4gICAgICAgKiAgICAgICAgICB8ICAgIHwgICAgICAgICAgfCAgICAgfFxuICAgICAgICogICAgICAgICAgfCAgICB8ICAgICAgICAgIHwgICAgIHxcbiAgICAgICAqICAgICAgICAgIHwgICAgfCAgICAgICAgICB8ICAgICB8XG4gICAgICAgKiAgICAgICAgICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSByb290UmVjdC5ib3R0b21cbiAgICAgICAqICAgICAgICAgICAgICAgfCAgICAgICAgICB8XG4gICAgICAgKiAgICAgICAgICAgICAgIHwgICAgICAgICAgfFxuICAgICAgICogICAgICAgICAgICAgICAtLS0tLS0tLS0tLS0gcmVjdC5ib3R0b21cbiAgICAgICAqL1xuICAgICAgY29uc3QgcmVjdCA9IGVudHJ5LmJvdW5kaW5nQ2xpZW50UmVjdDtcbiAgICAgIGNvbnN0IHJvb3RSZWN0ID0gZW50cnkucm9vdEJvdW5kcztcbiAgICAgIGNvbnN0IGlzVG9wSW50ZXJzZWN0aW5nID0gTWF0aC5hYnMocmVjdC5ib3R0b20gLSByb290UmVjdC50b3ApID49IE1hdGguYWJzKHJlY3QudG9wIC0gcm9vdFJlY3QudG9wKTtcblxuICAgICAgaWYgKGVudHJ5LmlzSW50ZXJzZWN0aW5nKSB7XG4gICAgICAgIGxhc3RJbnRlcnNlY3RpbmcuY3VycmVudCA9IHRydWU7XG4gICAgICAgIGlmIChpc1RvcEludGVyc2VjdGluZykge1xuICAgICAgICAgIHJldHVybiBvbkludGVyc2VjdGlvbkNoYW5nZSh0cnVlKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChsYXN0SW50ZXJzZWN0aW5nLmN1cnJlbnQpIHtcbiAgICAgICAgbGFzdEludGVyc2VjdGluZy5jdXJyZW50ID0gZmFsc2U7XG4gICAgICAgIGlmIChpc1RvcEludGVyc2VjdGluZykge1xuICAgICAgICAgIHJldHVybiBvbkludGVyc2VjdGlvbkNoYW5nZShmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgaWYgKHJlZiAmJiB0eXBlb2YgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNvbnN0IGhhbmRsZXIgPSAoZW50cmllczogSW50ZXJzZWN0aW9uT2JzZXJ2ZXJFbnRyeVtdKSA9PiB7XG4gICAgICAgIGhhbmRsZUludGVyc2VjdGlvbkNoYW5nZShlbnRyaWVzWzBdKTtcbiAgICAgIH07XG4gICAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcihcbiAgICAgICAgaGFuZGxlcixcbiAgICAgICAge1xuICAgICAgICAgIHRocmVzaG9sZDogYnVpbGRUaHJlc2hvbGRMaXN0KCksXG4gICAgICAgICAgcm9vdDogcm9vdEVsZW1lbnQgfHwgZG9jdW1lbnQuYm9keSxcbiAgICAgICAgICByb290TWFyZ2luOiBnZXRSb290TWFyZ2luKHRyaWdnZXJUeXBlKVxuICAgICAgICB9XG4gICAgICApO1xuICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShyZWYpO1xuICAgICAgb2JzZXJ2ZXJSZWYuY3VycmVudCA9IG9ic2VydmVyO1xuXG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBvYnNlcnZlclJlZi5jdXJyZW50LnVub2JzZXJ2ZShyZWYpO1xuICAgICAgICBvYnNlcnZlclJlZi5jdXJyZW50ID0gbnVsbDtcbiAgICAgIH07XG4gICAgfVxuICB9LCBbcmVmLCByb290RWxlbWVudCwgb25JbnRlcnNlY3Rpb25DaGFuZ2UsIHRyaWdnZXJUeXBlXSk7XG59Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7Ozs7QUFLQTtBQUNBO0FBTUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBOzs7Ozs7Ozs7Ozs7OztBQWNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./jimu-layouts/lib/flow-layout/use-intersection.tsx\n");

/***/ }),

/***/ "./jimu-layouts/lib/grid-layout/builder/container.tsx":
/*!************************************************************!*\
  !*** ./jimu-layouts/lib/grid-layout/builder/container.tsx ***!
  \************************************************************/
/*! exports provided: mapStateToContainerProps, GridContainer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"mapStateToContainerProps\", function() { return mapStateToContainerProps; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GridContainer\", function() { return GridContainer; });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jimu_core__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../types */ \"./jimu-layouts/lib/grid-layout/types.ts\");\n/* harmony import */ var _layout_item__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./layout-item */ \"./jimu-layouts/lib/grid-layout/builder/layout-item.tsx\");\n/* harmony import */ var _splitter__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./splitter */ \"./jimu-layouts/lib/grid-layout/builder/splitter.tsx\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./utils */ \"./jimu-layouts/lib/grid-layout/builder/utils.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\nvar ContainerClass = /** @class */ (function (_super) {\n    __extends(ContainerClass, _super);\n    function ContainerClass() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            draggingItemId: null,\n        };\n        _this.onResizeEnd = function (dx, dy, prevItemId, nextItemId) {\n            var containerRect = _this.ref.getBoundingClientRect();\n            Object(_utils__WEBPACK_IMPORTED_MODULE_4__[\"updateGridItemSize\"])(dx, dy, containerRect, _this.props.layoutId, prevItemId, nextItemId, _this.props.layoutItem.direction);\n        };\n        _this.onItemDragStart = function (id) {\n            _this.setState({\n                draggingItemId: id,\n            });\n        };\n        _this.onItemDragEnd = function () {\n            _this.setState({\n                draggingItemId: null,\n            });\n        };\n        return _this;\n    }\n    ContainerClass.prototype.createItems = function (idArray, subContainerArray) {\n        var _this = this;\n        var _a = this.props, layoutId = _a.layoutId, layoutItem = _a.layoutItem, splitterColor = _a.splitterColor, splitterSize = _a.splitterSize;\n        var result = [];\n        idArray.forEach(function (id, index) {\n            var ItemComponent = subContainerArray.indexOf(id) >= 0 ? GridContainer : _layout_item__WEBPACK_IMPORTED_MODULE_2__[\"default\"];\n            result.push(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].createElement(ItemComponent, { key: id, layoutId: layoutId, layoutItemId: id, onItemDragStart: _this.onItemDragStart, onItemDragEnd: _this.onItemDragEnd }));\n            if (index !== idArray.length - 1 &&\n                id !== _this.state.draggingItemId &&\n                idArray[index + 1] !== _this.state.draggingItemId) {\n                result.push(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].createElement(_splitter__WEBPACK_IMPORTED_MODULE_3__[\"Splitter\"], { key: id + \"_splitter\", layoutId: layoutId, direction: layoutItem.direction, prevItemId: idArray[index], nextItemId: idArray[index + 1], onResizeEnd: _this.onResizeEnd, size: splitterSize, color: splitterColor }));\n            }\n        });\n        return result;\n    };\n    ContainerClass.prototype.render = function () {\n        var _this = this;\n        var _a = this.props, layoutItem = _a.layoutItem, subContainerIds = _a.subContainerIds;\n        if (!layoutItem) {\n            return null;\n        }\n        var idArray = (layoutItem.items && layoutItem.items.length > 0) ? layoutItem.items : [layoutItem.id];\n        var subContainerArray = subContainerIds.split(',');\n        var className = Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"classNames\"])('grid-container d-flex justify-content-start', {\n            'flex-column': layoutItem.direction === _types__WEBPACK_IMPORTED_MODULE_1__[\"Direction\"].Vertical,\n        });\n        var mergedStyle = {\n            width: layoutItem.bbox.width,\n            height: layoutItem.bbox.height,\n            flexShrink: 1,\n            flexGrow: 1,\n        };\n        return (jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].createElement(\"div\", { className: className, \"data-layoutitemid\": layoutItem.id, \"data-layoutid\": this.props.layoutId, style: mergedStyle, ref: function (el) { return _this.ref = el; } }, this.createItems(idArray, subContainerArray)));\n    };\n    return ContainerClass;\n}(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].PureComponent));\nfunction mapStateToContainerProps(state, ownProps) {\n    var layoutId = ownProps.layoutId, layoutItemId = ownProps.layoutItemId;\n    var layouts = state.appConfig.layouts;\n    var layout = layouts[layoutId];\n    var layoutItem = layout.content[layoutItemId];\n    var subContainerIds = [];\n    if (layoutItem && layoutItem.items) {\n        layoutItem.items.forEach(function (id) {\n            var item = layout.content[id];\n            if (item && item.items) {\n                subContainerIds.push(id);\n            }\n        });\n    }\n    return {\n        layoutItem: layoutItem,\n        subContainerIds: subContainerIds.join(','),\n    };\n}\nvar GridContainer = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"ReactRedux\"].connect(mapStateToContainerProps)(ContainerClass);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWxheW91dHMvbGliL2dyaWQtbGF5b3V0L2J1aWxkZXIvY29udGFpbmVyLnRzeC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2ppbXUtbGF5b3V0cy9saWIvZ3JpZC1sYXlvdXQvYnVpbGRlci9jb250YWluZXIudHN4P2Q3N2IiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgUmVhY3QsXG4gIFJlYWN0UmVkdXgsXG4gIElNU3RhdGUsXG4gIGNsYXNzTmFtZXMsXG59IGZyb20gJ2ppbXUtY29yZSc7XG5pbXBvcnQgeyBEaXJlY3Rpb24sIENvbnRhaW5lclByb3BzLCBHcmlkSXRlbUpzb24gfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgTGF5b3V0SXRlbSBmcm9tICcuL2xheW91dC1pdGVtJztcbmltcG9ydCB7IFNwbGl0dGVyIH0gZnJvbSAnLi9zcGxpdHRlcic7XG5pbXBvcnQgeyB1cGRhdGVHcmlkSXRlbVNpemUgfSBmcm9tICcuL3V0aWxzJztcblxuaW50ZXJmYWNlIFN0YXRlVG9Db250YWluZXJQcm9wcyB7XG4gIGxheW91dEl0ZW06IEdyaWRJdGVtSnNvbjtcbiAgLy8gZGlyZWN0aW9uPzogRGlyZWN0aW9uO1xuICAvLyBpdGVtTWFwOiB7IFtrZXk6IHN0cmluZ106IHsgdHlwZTogTGF5b3V0SXRlbVR5cGUsIGl0ZW1JZDogc3RyaW5nIH0gfTtcbiAgc3ViQ29udGFpbmVySWRzOiBzdHJpbmc7IC8vIGxheW91dCBpZCBzZXBhcmF0ZWQgYnkgY29tbWFcbn1cblxuaW50ZXJmYWNlIFN0YXRlIHtcbiAgZHJhZ2dpbmdJdGVtSWQ6IHN0cmluZztcbn1cblxuY2xhc3MgQ29udGFpbmVyQ2xhc3MgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50PENvbnRhaW5lclByb3BzICYgU3RhdGVUb0NvbnRhaW5lclByb3BzLCBTdGF0ZT4ge1xuICByZWY6IEhUTUxFbGVtZW50O1xuXG4gIHN0YXRlOiBTdGF0ZSA9IHtcbiAgICBkcmFnZ2luZ0l0ZW1JZDogbnVsbCxcbiAgfTtcblxuICBvblJlc2l6ZUVuZCA9IChkeDogbnVtYmVyLCBkeTogbnVtYmVyLCBwcmV2SXRlbUlkOiBzdHJpbmcsIG5leHRJdGVtSWQ6IHN0cmluZykgPT4ge1xuICAgIGNvbnN0IGNvbnRhaW5lclJlY3QgPSB0aGlzLnJlZi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICB1cGRhdGVHcmlkSXRlbVNpemUoXG4gICAgICBkeCxcbiAgICAgIGR5LFxuICAgICAgY29udGFpbmVyUmVjdCxcbiAgICAgIHRoaXMucHJvcHMubGF5b3V0SWQsXG4gICAgICBwcmV2SXRlbUlkLFxuICAgICAgbmV4dEl0ZW1JZCxcbiAgICAgIHRoaXMucHJvcHMubGF5b3V0SXRlbS5kaXJlY3Rpb24sXG4gICAgKTtcbiAgfVxuXG4gIG9uSXRlbURyYWdTdGFydCA9IChpZCkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgZHJhZ2dpbmdJdGVtSWQ6IGlkLFxuICAgIH0pO1xuICB9XG5cbiAgb25JdGVtRHJhZ0VuZCA9ICgpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGRyYWdnaW5nSXRlbUlkOiBudWxsLFxuICAgIH0pO1xuICB9XG5cbiAgY3JlYXRlSXRlbXMoaWRBcnJheTogc3RyaW5nW10sIHN1YkNvbnRhaW5lckFycmF5OiBzdHJpbmdbXSkge1xuICAgIGNvbnN0IHsgbGF5b3V0SWQsIGxheW91dEl0ZW0sIHNwbGl0dGVyQ29sb3IsIHNwbGl0dGVyU2l6ZSB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCByZXN1bHQgPSBbXTtcbiAgICBpZEFycmF5LmZvckVhY2goKGlkLCBpbmRleCkgPT4ge1xuICAgICAgY29uc3QgSXRlbUNvbXBvbmVudDogYW55ID0gc3ViQ29udGFpbmVyQXJyYXkuaW5kZXhPZihpZCkgPj0gMCA/IEdyaWRDb250YWluZXIgOiBMYXlvdXRJdGVtO1xuICAgICAgcmVzdWx0LnB1c2goPEl0ZW1Db21wb25lbnRcbiAgICAgICAga2V5PXtpZH1cbiAgICAgICAgbGF5b3V0SWQ9e2xheW91dElkfVxuICAgICAgICBsYXlvdXRJdGVtSWQ9e2lkfVxuICAgICAgICBvbkl0ZW1EcmFnU3RhcnQ9e3RoaXMub25JdGVtRHJhZ1N0YXJ0fVxuICAgICAgICBvbkl0ZW1EcmFnRW5kPXt0aGlzLm9uSXRlbURyYWdFbmR9XG4gICAgICAvPik7XG4gICAgICBpZiAoaW5kZXggIT09IGlkQXJyYXkubGVuZ3RoIC0gMSAmJlxuICAgICAgICBpZCAhPT0gdGhpcy5zdGF0ZS5kcmFnZ2luZ0l0ZW1JZCAmJlxuICAgICAgICBpZEFycmF5W2luZGV4ICsgMV0gIT09IHRoaXMuc3RhdGUuZHJhZ2dpbmdJdGVtSWQpIHtcbiAgICAgICAgcmVzdWx0LnB1c2goPFNwbGl0dGVyXG4gICAgICAgICAga2V5PXtgJHtpZH1fc3BsaXR0ZXJgfVxuICAgICAgICAgIGxheW91dElkPXtsYXlvdXRJZH1cbiAgICAgICAgICBkaXJlY3Rpb249e2xheW91dEl0ZW0uZGlyZWN0aW9ufVxuICAgICAgICAgIHByZXZJdGVtSWQ9e2lkQXJyYXlbaW5kZXhdfVxuICAgICAgICAgIG5leHRJdGVtSWQ9e2lkQXJyYXlbaW5kZXggKyAxXX1cbiAgICAgICAgICBvblJlc2l6ZUVuZD17dGhpcy5vblJlc2l6ZUVuZH1cbiAgICAgICAgICBzaXplPXtzcGxpdHRlclNpemV9XG4gICAgICAgICAgY29sb3I9e3NwbGl0dGVyQ29sb3J9XG4gICAgICAgIC8+KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgbGF5b3V0SXRlbSwgc3ViQ29udGFpbmVySWRzIH0gPSB0aGlzLnByb3BzO1xuICAgIGlmICghbGF5b3V0SXRlbSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNvbnN0IGlkQXJyYXkgPSAobGF5b3V0SXRlbS5pdGVtcyAmJiBsYXlvdXRJdGVtLml0ZW1zLmxlbmd0aCA+IDApID8gbGF5b3V0SXRlbS5pdGVtcyA6IFtsYXlvdXRJdGVtLmlkXTtcbiAgICBjb25zdCBzdWJDb250YWluZXJBcnJheSA9IHN1YkNvbnRhaW5lcklkcy5zcGxpdCgnLCcpO1xuXG4gICAgY29uc3QgY2xhc3NOYW1lID0gY2xhc3NOYW1lcygnZ3JpZC1jb250YWluZXIgZC1mbGV4IGp1c3RpZnktY29udGVudC1zdGFydCcsIHtcbiAgICAgICdmbGV4LWNvbHVtbic6IGxheW91dEl0ZW0uZGlyZWN0aW9uID09PSBEaXJlY3Rpb24uVmVydGljYWwsXG4gICAgfSk7XG5cbiAgICBjb25zdCBtZXJnZWRTdHlsZSA9IHtcbiAgICAgIHdpZHRoOiBsYXlvdXRJdGVtLmJib3gud2lkdGgsXG4gICAgICBoZWlnaHQ6IGxheW91dEl0ZW0uYmJveC5oZWlnaHQsXG4gICAgICBmbGV4U2hyaW5rOiAxLFxuICAgICAgZmxleEdyb3c6IDEsXG4gICAgfTtcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NOYW1lfSBkYXRhLWxheW91dGl0ZW1pZD17bGF5b3V0SXRlbS5pZH1cbiAgICAgICAgZGF0YS1sYXlvdXRpZD17dGhpcy5wcm9wcy5sYXlvdXRJZH1cbiAgICAgICAgc3R5bGU9e21lcmdlZFN0eWxlfVxuICAgICAgICByZWY9e2VsID0+IHRoaXMucmVmID0gZWx9PlxuICAgICAgICB7dGhpcy5jcmVhdGVJdGVtcyhpZEFycmF5LCBzdWJDb250YWluZXJBcnJheSl9XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtYXBTdGF0ZVRvQ29udGFpbmVyUHJvcHMoc3RhdGU6IElNU3RhdGUsIG93blByb3BzOiBDb250YWluZXJQcm9wcyk6IFN0YXRlVG9Db250YWluZXJQcm9wcyB7XG4gIGNvbnN0IHsgbGF5b3V0SWQsIGxheW91dEl0ZW1JZCB9ID0gb3duUHJvcHM7XG4gIGNvbnN0IHsgbGF5b3V0cyB9ID0gc3RhdGUuYXBwQ29uZmlnO1xuXG4gIGNvbnN0IGxheW91dCA9IGxheW91dHNbbGF5b3V0SWRdO1xuICBjb25zdCBsYXlvdXRJdGVtID0gbGF5b3V0LmNvbnRlbnRbbGF5b3V0SXRlbUlkXTtcbiAgY29uc3Qgc3ViQ29udGFpbmVySWRzID0gW107XG5cbiAgaWYgKGxheW91dEl0ZW0gJiYgKGxheW91dEl0ZW0gYXMgYW55KS5pdGVtcykge1xuICAgIChsYXlvdXRJdGVtIGFzIGFueSkuaXRlbXMuZm9yRWFjaChpZCA9PiB7XG4gICAgICBjb25zdCBpdGVtID0gbGF5b3V0LmNvbnRlbnRbaWRdO1xuICAgICAgaWYgKGl0ZW0gJiYgKGl0ZW0gYXMgYW55KS5pdGVtcykge1xuICAgICAgICBzdWJDb250YWluZXJJZHMucHVzaChpZCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGxheW91dEl0ZW06IGxheW91dEl0ZW0gYXMgYW55LFxuICAgIHN1YkNvbnRhaW5lcklkczogc3ViQ29udGFpbmVySWRzLmpvaW4oJywnKSxcbiAgfTtcbn1cblxuZXhwb3J0IGNvbnN0IEdyaWRDb250YWluZXIgPSBSZWFjdFJlZHV4LmNvbm5lY3Q8U3RhdGVUb0NvbnRhaW5lclByb3BzLCB1bmtub3duLCBDb250YWluZXJQcm9wcz4oXG4gIG1hcFN0YXRlVG9Db250YWluZXJQcm9wcyxcbikoQ29udGFpbmVyQ2xhc3MpO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQWFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBU0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUE0REE7QUExREE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQVVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBUUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./jimu-layouts/lib/grid-layout/builder/container.tsx\n");

/***/ }),

/***/ "./jimu-layouts/lib/grid-layout/builder/layout-item.tsx":
/*!**************************************************************!*\
  !*** ./jimu-layouts/lib/grid-layout/builder/layout-item.tsx ***!
  \**************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jimu_core__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-layouts/layout-runtime */ \"jimu-layouts/layout-runtime\");\n/* harmony import */ var jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var jimu_for_builder__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-for-builder */ \"jimu-for-builder\");\n/* harmony import */ var jimu_for_builder__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jimu_for_builder__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _builder_interactive_droparea_hook__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../builder/interactive/droparea-hook */ \"./jimu-layouts/lib/builder/interactive/droparea-hook.tsx\");\n/* harmony import */ var _builder_layout_item__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../builder/layout-item */ \"./jimu-layouts/lib/builder/layout-item.tsx\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./utils */ \"./jimu-layouts/lib/grid-layout/builder/utils.ts\");\nvar __makeTemplateObject = (undefined && undefined.__makeTemplateObject) || function (cooked, raw) {\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n    return cooked;\n};\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/** @jsx jsx */\n\n\n\n\n\n\nvar dropareaStyle = Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n  position: absolute;\\n  left: 0;\\n  right: 0;\\n  top: 0;\\n  bottom: 0;\\n  z-index: \", \";\\n  display: flex;\\n\"], [\"\\n  position: absolute;\\n  left: 0;\\n  right: 0;\\n  top: 0;\\n  bottom: 0;\\n  z-index: \", \";\\n  display: flex;\\n\"])), jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__[\"LayoutZIndex\"].BoundaryDropArea);\nvar GridItem = /** @class */ (function (_super) {\n    __extends(GridItem, _super);\n    function GridItem(props) {\n        var _a;\n        var _this = _super.call(this, props) || this;\n        _this.onItemDragStart = function () {\n            var _a = _this.props, layoutId = _a.layoutId, layoutItemId = _a.layoutItemId, onItemDragStart = _a.onItemDragStart;\n            var elem = document.querySelector(\"div.grid-layout[data-layoutid=\\\"\" + layoutId + \"\\\"] div[data-layoutitemid=\\\"\" + layoutItemId + \"\\\"]\");\n            var rect = elem.getBoundingClientRect();\n            elem.style.position = 'fixed';\n            elem.style.left = rect.left + \"px\";\n            elem.style.top = rect.top + \"px\";\n            elem.style.width = rect.width + \"px\";\n            elem.style.height = rect.height + \"px\";\n            if (onItemDragStart) {\n                onItemDragStart(layoutItemId);\n            }\n        };\n        _this.onItemDragEnd = function () {\n            var _a = _this.props, layoutId = _a.layoutId, layoutItemId = _a.layoutItemId, onItemDragEnd = _a.onItemDragEnd;\n            var elem = document.querySelector(\"div.grid-layout[data-layoutid=\\\"\" + layoutId + \"\\\"] div[data-layoutitemid=\\\"\" + layoutItemId + \"\\\"]\");\n            if (elem) {\n                elem.style.position = 'static';\n                elem.style.left = 'auto';\n                elem.style.top = 'auto';\n            }\n            if (onItemDragEnd) {\n                onItemDragEnd(layoutItemId);\n            }\n        };\n        _this.onDragOver = function (draggingItem, draggingElement, containerRect, itemRect, clientX, clientY) {\n            if (clientX < containerRect.width * 0.3) {\n                _this.setState({ dragoverSide: 'left' });\n            }\n            else if (clientX > containerRect.width * 0.7) {\n                _this.setState({ dragoverSide: 'right' });\n            }\n            else if (clientY < containerRect.height * 0.5) {\n                _this.setState({ dragoverSide: 'top' });\n            }\n            else {\n                _this.setState({ dragoverSide: 'bottom' });\n            }\n        };\n        _this.onDrop = function (draggingItem, containerRect, itemRect, clientX, clientY) {\n            var _a = _this.props, layoutId = _a.layoutId, layoutItemId = _a.layoutItemId;\n            var layoutInfo = {\n                layoutId: layoutId,\n            };\n            var appConfigAction = Object(jimu_for_builder__WEBPACK_IMPORTED_MODULE_2__[\"getAppConfigAction\"])();\n            Object(_utils__WEBPACK_IMPORTED_MODULE_5__[\"addItemToGrid\"])(appConfigAction.appConfig, draggingItem, layoutInfo, layoutItemId, _this.state.dragoverSide)\n                .then((function (result) {\n                var layoutInfo = result.layoutInfo, updatedAppConfig = result.updatedAppConfig;\n                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"getAppStore\"])().dispatch(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"appActions\"].layoutChanged(updatedAppConfig, layoutInfo));\n            }));\n            _this.setState({ dragoverSide: null });\n        };\n        _this.fakeLayouts = Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"Immutable\"])((_a = {},\n            _a[jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"BrowserSizeMode\"].Large] = _this.props.layoutId + \"_\" + _this.props.layoutItemId + \"_tlarge\",\n            _a[jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"BrowserSizeMode\"].Medium] = _this.props.layoutId + \"_\" + _this.props.layoutItemId + \"_tmedium\",\n            _a[jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"BrowserSizeMode\"].Small] = _this.props.layoutId + \"_\" + _this.props.layoutItemId + \"_tsmall\",\n            _a));\n        _this.state = {\n            dragoverSide: null,\n        };\n        jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__[\"utils\"].autoBindHandlers(_this, [\n            'onDragStart',\n            'onDragOver',\n            'onDrop',\n        ]);\n        return _this;\n    }\n    GridItem.prototype.hasEmbedLayout = function () {\n        var layoutItem = this.props.layoutItem;\n        if (layoutItem.type === jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"LayoutItemType\"].Widget && layoutItem.widgetId) {\n            return jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__[\"utils\"].isWidgetHasEmbeddedLayout(layoutItem.widgetId, jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__[\"utils\"].getAppConfig()) ||\n                !jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__[\"utils\"].isFunctionalWidget(layoutItem.widgetId, jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__[\"utils\"].getAppConfig());\n        }\n        return true;\n    };\n    GridItem.prototype.render = function () {\n        var _this = this;\n        var _a = this.props, layoutId = _a.layoutId, layoutItem = _a.layoutItem;\n        if (!layoutItem) {\n            return null;\n        }\n        var mergedStyle = Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_2 || (templateObject_2 = __makeTemplateObject([\"\\n      position: relative;\\n      width: \", \";\\n      height: \", \";\\n      flex-shrink: 1;\\n      flex-grow: 1;\\n    \"], [\"\\n      position: relative;\\n      width: \", \";\\n      height: \", \";\\n      flex-shrink: 1;\\n      flex-grow: 1;\\n    \"])), jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__[\"utils\"].getValueOfBBox(layoutItem.bbox, 'width'), jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__[\"utils\"].getValueOfBBox(layoutItem.bbox, 'height'));\n        return (Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__[\"PageContext\"].Consumer, null, function (props) {\n            var dragoverSide = _this.state.dragoverSide;\n            var highlightStyle = Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_3 || (templateObject_3 = __makeTemplateObject([\"\\n          position: absolute;\\n          transition: 200ms;\\n          left: \", \";\\n          right: \", \";\\n          top: \", \";\\n          bottom: \", \";\\n          width: \", \";\\n          height: \", \";\\n          background: \", \";\\n        \"], [\"\\n          position: absolute;\\n          transition: 200ms;\\n          left: \", \";\\n          right: \", \";\\n          top: \", \";\\n          bottom: \", \";\\n          width: \", \";\\n          height: \", \";\\n          background: \", \";\\n        \"])), dragoverSide === 'right' ? '50%' : 0, dragoverSide === 'left' ? '50%' : 0, dragoverSide === 'bottom' ? '50%' : 0, dragoverSide === 'top' ? '50%' : 0, dragoverSide === 'top' || dragoverSide === 'bottom' ? '100%' : (dragoverSide ? '50%' : 0), dragoverSide === 'left' || dragoverSide === 'right' ? '100%' : (dragoverSide ? '50%' : 0), jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"polished\"].rgba(props.builderTheme.colors.palette.primary[700], 0.6));\n            return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_builder_layout_item__WEBPACK_IMPORTED_MODULE_4__[\"default\"], { css: mergedStyle, layoutId: layoutId, layoutItemId: layoutItem.id, resizable: false, onDragStart: _this.onItemDragStart, onDragEnd: _this.onItemDragEnd, onClick: _this.props.onClick }, !_this.hasEmbedLayout() && Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_builder_interactive_droparea_hook__WEBPACK_IMPORTED_MODULE_3__[\"DropArea\"], { css: dropareaStyle, layouts: _this.fakeLayouts, highlightDragover: true, onDragOver: _this.onDragOver, onDrop: _this.onDrop },\n                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { css: highlightStyle })));\n        }));\n    };\n    return GridItem;\n}(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].PureComponent));\n/* harmony default export */ __webpack_exports__[\"default\"] = (jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"ReactRedux\"].connect(jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__[\"utils\"].mapStateToLayoutItemProps)(GridItem));\nvar templateObject_1, templateObject_2, templateObject_3;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWxheW91dHMvbGliL2dyaWQtbGF5b3V0L2J1aWxkZXIvbGF5b3V0LWl0ZW0udHN4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vamltdS1sYXlvdXRzL2xpYi9ncmlkLWxheW91dC9idWlsZGVyL2xheW91dC1pdGVtLnRzeD9iNmU4Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKiBAanN4IGpzeCAqL1xuaW1wb3J0IHtcbiAgUmVhY3QsXG4gIGpzeCxcbiAgY3NzLFxuICBSZWFjdFJlZHV4LFxuICBMYXlvdXRJdGVtVHlwZSxcbiAgcG9saXNoZWQsXG4gIGdldEFwcFN0b3JlLFxuICBJTVNpemVNb2RlTGF5b3V0SnNvbixcbiAgQnJvd3NlclNpemVNb2RlLFxuICBMYXlvdXRJdGVtQ29uc3RydWN0b3JQcm9wcyxcbiAgYXBwQWN0aW9ucyxcbiAgSW1tdXRhYmxlLFxufSBmcm9tICdqaW11LWNvcmUnO1xuaW1wb3J0IHsgTGF5b3V0SXRlbVByb3BzIH0gZnJvbSAnLi4vLi4vdHlwZXMnO1xuaW1wb3J0IHtcbiAgdXRpbHMsXG4gIFN0YXRlVG9MYXlvdXRJdGVtUHJvcHMsXG4gIFBhZ2VDb250ZXh0LFxuICBQYWdlQ29udGV4dFByb3BzLFxuICBMYXlvdXRaSW5kZXgsXG59IGZyb20gJ2ppbXUtbGF5b3V0cy9sYXlvdXQtcnVudGltZSc7XG5pbXBvcnQgeyBnZXRBcHBDb25maWdBY3Rpb24gfSBmcm9tICdqaW11LWZvci1idWlsZGVyJztcbmltcG9ydCB7IERyb3BBcmVhIH0gZnJvbSAnLi4vLi4vYnVpbGRlci9pbnRlcmFjdGl2ZS9kcm9wYXJlYS1ob29rJztcbmltcG9ydCBMYXlvdXRJdGVtIGZyb20gJy4uLy4uL2J1aWxkZXIvbGF5b3V0LWl0ZW0nO1xuaW1wb3J0IHsgYWRkSXRlbVRvR3JpZCB9IGZyb20gJy4vdXRpbHMnO1xuXG5pbnRlcmZhY2UgT3duUHJvcHMge1xuICBvbkl0ZW1EcmFnU3RhcnQ6IChpZCkgPT4gdm9pZDtcbiAgb25JdGVtRHJhZ0VuZDogKGlkKSA9PiB2b2lkO1xufVxuXG5jb25zdCBkcm9wYXJlYVN0eWxlID0gY3NzYFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIGxlZnQ6IDA7XG4gIHJpZ2h0OiAwO1xuICB0b3A6IDA7XG4gIGJvdHRvbTogMDtcbiAgei1pbmRleDogJHtMYXlvdXRaSW5kZXguQm91bmRhcnlEcm9wQXJlYX07XG4gIGRpc3BsYXk6IGZsZXg7XG5gO1xuXG5pbnRlcmZhY2UgU3RhdGUge1xuICBkcmFnb3ZlclNpZGU6ICd0b3AnIHwgJ2JvdHRvbScgfCAnbGVmdCcgfCAncmlnaHQnO1xufVxuXG50eXBlIEdyaWRJdGVtUHJvcHMgPSBMYXlvdXRJdGVtUHJvcHMgJiBTdGF0ZVRvTGF5b3V0SXRlbVByb3BzICYgT3duUHJvcHM7XG5cbmNsYXNzIEdyaWRJdGVtIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudDxHcmlkSXRlbVByb3BzLCBTdGF0ZT4ge1xuICBmYWtlTGF5b3V0czogSU1TaXplTW9kZUxheW91dEpzb247XG5cbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5mYWtlTGF5b3V0cyA9IEltbXV0YWJsZSh7XG4gICAgICBbQnJvd3NlclNpemVNb2RlLkxhcmdlXTogYCR7dGhpcy5wcm9wcy5sYXlvdXRJZH1fJHt0aGlzLnByb3BzLmxheW91dEl0ZW1JZH1fdGxhcmdlYCxcbiAgICAgIFtCcm93c2VyU2l6ZU1vZGUuTWVkaXVtXTogYCR7dGhpcy5wcm9wcy5sYXlvdXRJZH1fJHt0aGlzLnByb3BzLmxheW91dEl0ZW1JZH1fdG1lZGl1bWAsXG4gICAgICBbQnJvd3NlclNpemVNb2RlLlNtYWxsXTogYCR7dGhpcy5wcm9wcy5sYXlvdXRJZH1fJHt0aGlzLnByb3BzLmxheW91dEl0ZW1JZH1fdHNtYWxsYCxcbiAgICB9KSBhcyB1bmtub3duIGFzIElNU2l6ZU1vZGVMYXlvdXRKc29uO1xuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBkcmFnb3ZlclNpZGU6IG51bGwsXG4gICAgfTtcbiAgICB1dGlscy5hdXRvQmluZEhhbmRsZXJzKHRoaXMsIFtcbiAgICAgICdvbkRyYWdTdGFydCcsXG4gICAgICAnb25EcmFnT3ZlcicsXG4gICAgICAnb25Ecm9wJyxcbiAgICBdKTtcbiAgfVxuXG4gIGhhc0VtYmVkTGF5b3V0KCkge1xuICAgIGNvbnN0IHsgbGF5b3V0SXRlbSB9ID0gdGhpcy5wcm9wcztcbiAgICBpZiAobGF5b3V0SXRlbS50eXBlID09PSBMYXlvdXRJdGVtVHlwZS5XaWRnZXQgJiYgbGF5b3V0SXRlbS53aWRnZXRJZCkge1xuICAgICAgcmV0dXJuIHV0aWxzLmlzV2lkZ2V0SGFzRW1iZWRkZWRMYXlvdXQobGF5b3V0SXRlbS53aWRnZXRJZCwgdXRpbHMuZ2V0QXBwQ29uZmlnKCkpIHx8XG4gICAgICAgICF1dGlscy5pc0Z1bmN0aW9uYWxXaWRnZXQobGF5b3V0SXRlbS53aWRnZXRJZCwgdXRpbHMuZ2V0QXBwQ29uZmlnKCkpO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIG9uSXRlbURyYWdTdGFydCA9ICgpID0+IHtcbiAgICBjb25zdCB7IGxheW91dElkLCBsYXlvdXRJdGVtSWQsIG9uSXRlbURyYWdTdGFydCB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCBlbGVtOiBIVE1MRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICBgZGl2LmdyaWQtbGF5b3V0W2RhdGEtbGF5b3V0aWQ9XCIke2xheW91dElkfVwiXSBkaXZbZGF0YS1sYXlvdXRpdGVtaWQ9XCIke2xheW91dEl0ZW1JZH1cIl1gLFxuICAgICk7XG4gICAgY29uc3QgcmVjdCA9IGVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgZWxlbS5zdHlsZS5wb3NpdGlvbiA9ICdmaXhlZCc7XG4gICAgZWxlbS5zdHlsZS5sZWZ0ID0gYCR7cmVjdC5sZWZ0fXB4YDtcbiAgICBlbGVtLnN0eWxlLnRvcCA9IGAke3JlY3QudG9wfXB4YDtcbiAgICBlbGVtLnN0eWxlLndpZHRoID0gYCR7cmVjdC53aWR0aH1weGA7XG4gICAgZWxlbS5zdHlsZS5oZWlnaHQgPSBgJHtyZWN0LmhlaWdodH1weGA7XG5cbiAgICBpZiAob25JdGVtRHJhZ1N0YXJ0KSB7XG4gICAgICBvbkl0ZW1EcmFnU3RhcnQobGF5b3V0SXRlbUlkKTtcbiAgICB9XG4gIH1cblxuICBvbkl0ZW1EcmFnRW5kID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgbGF5b3V0SWQsIGxheW91dEl0ZW1JZCwgb25JdGVtRHJhZ0VuZCB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCBlbGVtOiBIVE1MRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICBgZGl2LmdyaWQtbGF5b3V0W2RhdGEtbGF5b3V0aWQ9XCIke2xheW91dElkfVwiXSBkaXZbZGF0YS1sYXlvdXRpdGVtaWQ9XCIke2xheW91dEl0ZW1JZH1cIl1gLFxuICAgICk7XG4gICAgaWYgKGVsZW0pIHtcbiAgICAgIGVsZW0uc3R5bGUucG9zaXRpb24gPSAnc3RhdGljJztcbiAgICAgIGVsZW0uc3R5bGUubGVmdCA9ICdhdXRvJztcbiAgICAgIGVsZW0uc3R5bGUudG9wID0gJ2F1dG8nO1xuICAgIH1cblxuICAgIGlmIChvbkl0ZW1EcmFnRW5kKSB7XG4gICAgICBvbkl0ZW1EcmFnRW5kKGxheW91dEl0ZW1JZCk7XG4gICAgfVxuICB9XG5cbiAgb25EcmFnT3ZlciA9IChcbiAgICBkcmFnZ2luZ0l0ZW06IExheW91dEl0ZW1Db25zdHJ1Y3RvclByb3BzLFxuICAgIGRyYWdnaW5nRWxlbWVudDogSFRNTEVsZW1lbnQsXG4gICAgY29udGFpbmVyUmVjdDogQ2xpZW50UmVjdCxcbiAgICBpdGVtUmVjdDogQ2xpZW50UmVjdCxcbiAgICBjbGllbnRYOiBudW1iZXIsXG4gICAgY2xpZW50WTogbnVtYmVyLFxuICApID0+IHtcbiAgICBpZiAoY2xpZW50WCA8IGNvbnRhaW5lclJlY3Qud2lkdGggKiAwLjMpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBkcmFnb3ZlclNpZGU6ICdsZWZ0JyB9KTtcbiAgICB9IGVsc2UgaWYgKGNsaWVudFggPiBjb250YWluZXJSZWN0LndpZHRoICogMC43KSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHsgZHJhZ292ZXJTaWRlOiAncmlnaHQnIH0pO1xuICAgIH0gZWxzZSBpZiAoY2xpZW50WSA8IGNvbnRhaW5lclJlY3QuaGVpZ2h0ICogMC41KSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHsgZHJhZ292ZXJTaWRlOiAndG9wJyB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7IGRyYWdvdmVyU2lkZTogJ2JvdHRvbScgfSk7XG4gICAgfVxuICB9XG5cbiAgb25Ecm9wID0gKFxuICAgIGRyYWdnaW5nSXRlbTogTGF5b3V0SXRlbUNvbnN0cnVjdG9yUHJvcHMsXG4gICAgY29udGFpbmVyUmVjdDogQ2xpZW50UmVjdCxcbiAgICBpdGVtUmVjdDogQ2xpZW50UmVjdCxcbiAgICBjbGllbnRYOiBudW1iZXIsXG4gICAgY2xpZW50WTogbnVtYmVyLFxuICApID0+IHtcbiAgICBjb25zdCB7IGxheW91dElkLCBsYXlvdXRJdGVtSWQgfSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3QgbGF5b3V0SW5mbyA9IHtcbiAgICAgIGxheW91dElkLFxuICAgIH07XG5cbiAgICBjb25zdCBhcHBDb25maWdBY3Rpb24gPSBnZXRBcHBDb25maWdBY3Rpb24oKTtcbiAgICBhZGRJdGVtVG9HcmlkKGFwcENvbmZpZ0FjdGlvbi5hcHBDb25maWcsIGRyYWdnaW5nSXRlbSwgbGF5b3V0SW5mbywgbGF5b3V0SXRlbUlkLCB0aGlzLnN0YXRlLmRyYWdvdmVyU2lkZSlcbiAgICAgIC50aGVuKCgocmVzdWx0KSA9PiB7XG4gICAgICAgIGNvbnN0IHsgbGF5b3V0SW5mbywgdXBkYXRlZEFwcENvbmZpZyB9ID0gcmVzdWx0O1xuICAgICAgICBnZXRBcHBTdG9yZSgpLmRpc3BhdGNoKGFwcEFjdGlvbnMubGF5b3V0Q2hhbmdlZCh1cGRhdGVkQXBwQ29uZmlnLCBsYXlvdXRJbmZvKSk7XG4gICAgICB9KSk7XG4gICAgdGhpcy5zZXRTdGF0ZSh7IGRyYWdvdmVyU2lkZTogbnVsbCB9KTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IGxheW91dElkLCBsYXlvdXRJdGVtIH0gPSB0aGlzLnByb3BzO1xuICAgIGlmICghbGF5b3V0SXRlbSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgY29uc3QgbWVyZ2VkU3R5bGUgPSBjc3NgXG4gICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICB3aWR0aDogJHt1dGlscy5nZXRWYWx1ZU9mQkJveChsYXlvdXRJdGVtLmJib3gsICd3aWR0aCcpfTtcbiAgICAgIGhlaWdodDogJHt1dGlscy5nZXRWYWx1ZU9mQkJveChsYXlvdXRJdGVtLmJib3gsICdoZWlnaHQnKX07XG4gICAgICBmbGV4LXNocmluazogMTtcbiAgICAgIGZsZXgtZ3JvdzogMTtcbiAgICBgO1xuXG4gICAgcmV0dXJuICg8UGFnZUNvbnRleHQuQ29uc3VtZXI+XG4gICAgICB7KHByb3BzOiBQYWdlQ29udGV4dFByb3BzKSA9PiB7XG4gICAgICAgIGNvbnN0IHsgZHJhZ292ZXJTaWRlIH0gPSB0aGlzLnN0YXRlO1xuICAgICAgICBjb25zdCBoaWdobGlnaHRTdHlsZSA9IGNzc2BcbiAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgICAgdHJhbnNpdGlvbjogMjAwbXM7XG4gICAgICAgICAgbGVmdDogJHtkcmFnb3ZlclNpZGUgPT09ICdyaWdodCcgPyAnNTAlJyA6IDB9O1xuICAgICAgICAgIHJpZ2h0OiAke2RyYWdvdmVyU2lkZSA9PT0gJ2xlZnQnID8gJzUwJScgOiAwfTtcbiAgICAgICAgICB0b3A6ICR7ZHJhZ292ZXJTaWRlID09PSAnYm90dG9tJyA/ICc1MCUnIDogMH07XG4gICAgICAgICAgYm90dG9tOiAke2RyYWdvdmVyU2lkZSA9PT0gJ3RvcCcgPyAnNTAlJyA6IDB9O1xuICAgICAgICAgIHdpZHRoOiAke2RyYWdvdmVyU2lkZSA9PT0gJ3RvcCcgfHwgZHJhZ292ZXJTaWRlID09PSAnYm90dG9tJyAgPyAnMTAwJScgOiAoZHJhZ292ZXJTaWRlID8gJzUwJScgOiAwKX07XG4gICAgICAgICAgaGVpZ2h0OiAke2RyYWdvdmVyU2lkZSA9PT0gJ2xlZnQnIHx8IGRyYWdvdmVyU2lkZSA9PT0gJ3JpZ2h0JyAgPyAnMTAwJScgOiAoZHJhZ292ZXJTaWRlID8gJzUwJScgOiAwKX07XG4gICAgICAgICAgYmFja2dyb3VuZDogJHtwb2xpc2hlZC5yZ2JhKHByb3BzLmJ1aWxkZXJUaGVtZS5jb2xvcnMucGFsZXR0ZS5wcmltYXJ5WzcwMF0sIDAuNil9O1xuICAgICAgICBgO1xuICAgICAgICByZXR1cm4gPExheW91dEl0ZW1cbiAgICAgICAgICBjc3M9e21lcmdlZFN0eWxlfVxuICAgICAgICAgIGxheW91dElkPXtsYXlvdXRJZH1cbiAgICAgICAgICBsYXlvdXRJdGVtSWQ9e2xheW91dEl0ZW0uaWR9XG4gICAgICAgICAgcmVzaXphYmxlPXtmYWxzZX1cbiAgICAgICAgICBvbkRyYWdTdGFydD17dGhpcy5vbkl0ZW1EcmFnU3RhcnR9XG4gICAgICAgICAgb25EcmFnRW5kPXt0aGlzLm9uSXRlbURyYWdFbmR9XG4gICAgICAgICAgb25DbGljaz17dGhpcy5wcm9wcy5vbkNsaWNrfVxuICAgICAgICA+XG4gICAgICAgICAgeyF0aGlzLmhhc0VtYmVkTGF5b3V0KCkgJiYgPERyb3BBcmVhXG4gICAgICAgICAgICBjc3M9e2Ryb3BhcmVhU3R5bGV9XG4gICAgICAgICAgICBsYXlvdXRzPXt0aGlzLmZha2VMYXlvdXRzfVxuICAgICAgICAgICAgaGlnaGxpZ2h0RHJhZ292ZXI9e3RydWV9XG4gICAgICAgICAgICBvbkRyYWdPdmVyPXt0aGlzLm9uRHJhZ092ZXJ9XG4gICAgICAgICAgICBvbkRyb3A9e3RoaXMub25Ecm9wfT5cbiAgICAgICAgICAgIDxkaXYgY3NzPXtoaWdobGlnaHRTdHlsZX0+PC9kaXY+XG4gICAgICAgICAgPC9Ecm9wQXJlYT59XG4gICAgICAgIDwvTGF5b3V0SXRlbT47XG4gICAgICB9fVxuICAgIDwvUGFnZUNvbnRleHQuQ29uc3VtZXI+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBSZWFjdFJlZHV4LmNvbm5lY3Q8U3RhdGVUb0xheW91dEl0ZW1Qcm9wcywgdW5rbm93biwgTGF5b3V0SXRlbVByb3BzICYgT3duUHJvcHM+KFxuICB1dGlscy5tYXBTdGF0ZVRvTGF5b3V0SXRlbVByb3BzLFxuKShHcmlkSXRlbSk7XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFlQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFnQkE7QUFBQTtBQUdBOztBQUFBO0FBMEJBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFRQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBL0ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQTJFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQVFBO0FBRUE7QUFDQTtBQVdBO0FBZUE7QUFHQTtBQUdBO0FBQ0E7QUFBQTtBQUVBOzsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./jimu-layouts/lib/grid-layout/builder/layout-item.tsx\n");

/***/ }),

/***/ "./jimu-layouts/lib/grid-layout/builder/layout.tsx":
/*!*********************************************************!*\
  !*** ./jimu-layouts/lib/grid-layout/builder/layout.tsx ***!
  \*********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jimu_core__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var jimu_for_builder__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-for-builder */ \"jimu-for-builder\");\n/* harmony import */ var jimu_for_builder__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jimu_for_builder__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-ui */ \"jimu-ui\");\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jimu_ui__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _container__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./container */ \"./jimu-layouts/lib/grid-layout/builder/container.tsx\");\n/* harmony import */ var jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! jimu-layouts/layout-runtime */ \"jimu-layouts/layout-runtime\");\n/* harmony import */ var jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _builder_interactive_droparea_hook__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../builder/interactive/droparea-hook */ \"./jimu-layouts/lib/builder/interactive/droparea-hook.tsx\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./utils */ \"./jimu-layouts/lib/grid-layout/builder/utils.ts\");\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../types */ \"./jimu-layouts/lib/grid-layout/types.ts\");\nvar __makeTemplateObject = (undefined && undefined.__makeTemplateObject) || function (cooked, raw) {\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n    return cooked;\n};\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (undefined && undefined.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\n/** @jsx jsx */\n\n\n\n\n\n\n\n\nvar dropareaStyle = Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n  position: absolute;\\n  left: 0;\\n  bottom: 0;\\n  top: 0;\\n  right: 0;\\n  background: transparent;\\n  display: flex;\\n\"], [\"\\n  position: absolute;\\n  left: 0;\\n  bottom: 0;\\n  top: 0;\\n  right: 0;\\n  background: transparent;\\n  display: flex;\\n\"])));\nvar GridLayout = /** @class */ (function (_super) {\n    __extends(GridLayout, _super);\n    function GridLayout(props) {\n        var _this = _super.call(this, props) || this;\n        jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_4__[\"utils\"].autoBindHandlers(_this, [\n            'onDrop',\n            'onDragOver',\n            'onDragEnter',\n            'onDragLeave',\n        ]);\n        return _this;\n    }\n    GridLayout.prototype.onDragOver = function () {\n    };\n    GridLayout.prototype.onDragEnter = function () {\n    };\n    GridLayout.prototype.onDragLeave = function () {\n    };\n    GridLayout.prototype.onDrop = function (draggingItem, containerRect, itemRect) {\n        var layout = this.props.layout;\n        var layoutInfo = {\n            layoutId: layout.id,\n        };\n        var appConfigAction = Object(jimu_for_builder__WEBPACK_IMPORTED_MODULE_1__[\"getAppConfigAction\"])();\n        Object(_utils__WEBPACK_IMPORTED_MODULE_6__[\"addItemToGrid\"])(appConfigAction.appConfig, draggingItem, layoutInfo, null, 'top')\n            .then((function (result) {\n            var layoutInfo = result.layoutInfo, updatedAppConfig = result.updatedAppConfig;\n            appConfigAction = Object(jimu_for_builder__WEBPACK_IMPORTED_MODULE_1__[\"getAppConfigAction\"])(updatedAppConfig);\n            appConfigAction.editLayoutItemBBox(layoutInfo, { width: '100%', height: '100%' });\n            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"getAppStore\"])().dispatch(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"appActions\"].layoutChanged(appConfigAction.appConfig, layoutInfo));\n        }));\n    };\n    GridLayout.prototype.render = function () {\n        var _this = this;\n        var _a, _b;\n        var _c = this.props, layout = _c.layout, className = _c.className;\n        var layoutStyle = (_a = layout.setting) === null || _a === void 0 ? void 0 : _a.style;\n        var rootItemId = (_b = layout.setting) === null || _b === void 0 ? void 0 : _b.rootItemId;\n        var contentLength = Object.keys(layout.content || {}).length;\n        var splitterSetting = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"lodash\"].assign({}, _types__WEBPACK_IMPORTED_MODULE_7__[\"DEFAULT_GRID_SETTING\"], layout.setting && layout.setting.splitter);\n        return (Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_4__[\"PageContext\"].Consumer, null, function (pageContext) {\n            var mergedStyle = __assign(__assign({ position: 'relative' }, jimu_ui__WEBPACK_IMPORTED_MODULE_2__[\"styleUtils\"].toCSSStyle(layoutStyle)), { overflow: 'hidden' });\n            var outClass = Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"classNames\"])('layout grid-layout d-flex w-100', className);\n            return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: outClass, style: mergedStyle, \"data-layoutid\": layout.id },\n                contentLength === 0 && Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_builder_interactive_droparea_hook__WEBPACK_IMPORTED_MODULE_5__[\"DropArea\"], { css: dropareaStyle, layouts: _this.props.layouts, highlightDragover: true, onDragEnter: _this.onDragEnter, onDragLeave: _this.onDragLeave, onDragOver: _this.onDragOver, onDrop: _this.onDrop },\n                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { css: Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_2 || (templateObject_2 = __makeTemplateObject([\"\\n                width: 100%;\\n                background: \", \"\\n              \"], [\"\\n                width: 100%;\\n                background: \", \"\\n              \"])), pageContext.builderTheme.colors.palette.primary[700]) })),\n                rootItemId && Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_container__WEBPACK_IMPORTED_MODULE_3__[\"GridContainer\"], { layoutId: layout.id, layoutItemId: rootItemId, splitterSize: splitterSetting.size, splitterColor: splitterSetting.color }),\n                !rootItemId && _this.props.children);\n        }));\n    };\n    return GridLayout;\n}(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].PureComponent));\n/* harmony default export */ __webpack_exports__[\"default\"] = (jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"ReactRedux\"].connect(jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_4__[\"utils\"].mapStateToLayoutProps)(GridLayout));\nvar templateObject_1, templateObject_2;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWxheW91dHMvbGliL2dyaWQtbGF5b3V0L2J1aWxkZXIvbGF5b3V0LnRzeC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2ppbXUtbGF5b3V0cy9saWIvZ3JpZC1sYXlvdXQvYnVpbGRlci9sYXlvdXQudHN4P2E1NTQiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqIEBqc3gganN4ICovXG5pbXBvcnQge1xuICBSZWFjdCxcbiAgUmVhY3RSZWR1eCxcbiAgY2xhc3NOYW1lcyxcbiAganN4LFxuICBjc3MsXG4gIExheW91dEl0ZW1Db25zdHJ1Y3RvclByb3BzLFxuICBnZXRBcHBTdG9yZSxcbiAgYXBwQWN0aW9ucyxcbiAgbG9kYXNoLFxufSBmcm9tICdqaW11LWNvcmUnO1xuaW1wb3J0IHsgZ2V0QXBwQ29uZmlnQWN0aW9uIH0gZnJvbSAnamltdS1mb3ItYnVpbGRlcic7XG5pbXBvcnQgeyBzdHlsZVV0aWxzIH0gZnJvbSAnamltdS11aSc7XG5pbXBvcnQgeyBHcmlkQ29udGFpbmVyIH0gZnJvbSAnLi9jb250YWluZXInO1xuaW1wb3J0IHsgTGF5b3V0UHJvcHMsIFN0YXRlVG9MYXlvdXRQcm9wcywgdXRpbHMsXG4gIFBhZ2VDb250ZXh0LCBQYWdlQ29udGV4dFByb3BzIH0gZnJvbSAnamltdS1sYXlvdXRzL2xheW91dC1ydW50aW1lJztcbmltcG9ydCB7IERyb3BIYW5kbGVycyB9IGZyb20gJy4uLy4uL2J1aWxkZXIvdHlwZXMnO1xuaW1wb3J0IHsgRHJvcEFyZWEgfSBmcm9tICcuLi8uLi9idWlsZGVyL2ludGVyYWN0aXZlL2Ryb3BhcmVhLWhvb2snO1xuaW1wb3J0IHsgYWRkSXRlbVRvR3JpZCB9IGZyb20gJy4vdXRpbHMnO1xuaW1wb3J0IHsgREVGQVVMVF9HUklEX1NFVFRJTkcgfSBmcm9tICcuLi90eXBlcyc7XG5cbmNvbnN0IGRyb3BhcmVhU3R5bGUgPSBjc3NgXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgbGVmdDogMDtcbiAgYm90dG9tOiAwO1xuICB0b3A6IDA7XG4gIHJpZ2h0OiAwO1xuICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcbiAgZGlzcGxheTogZmxleDtcbmA7XG5cbmNsYXNzIEdyaWRMYXlvdXQgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50PExheW91dFByb3BzICYgU3RhdGVUb0xheW91dFByb3BzPiBpbXBsZW1lbnRzIERyb3BIYW5kbGVycyB7XG5cbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdXRpbHMuYXV0b0JpbmRIYW5kbGVycyh0aGlzLCBbXG4gICAgICAnb25Ecm9wJyxcbiAgICAgICdvbkRyYWdPdmVyJyxcbiAgICAgICdvbkRyYWdFbnRlcicsXG4gICAgICAnb25EcmFnTGVhdmUnLFxuICAgIF0pO1xuICB9XG5cbiAgb25EcmFnT3ZlcigpIHtcbiAgfVxuXG4gIG9uRHJhZ0VudGVyKCkge1xuICB9XG5cbiAgb25EcmFnTGVhdmUoKSB7XG5cbiAgfVxuXG4gIG9uRHJvcChkcmFnZ2luZ0l0ZW06IExheW91dEl0ZW1Db25zdHJ1Y3RvclByb3BzLCBjb250YWluZXJSZWN0OiBDbGllbnRSZWN0LCBpdGVtUmVjdDogQ2xpZW50UmVjdCkge1xuICAgIGNvbnN0IHsgbGF5b3V0IH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IGxheW91dEluZm8gPSB7XG4gICAgICBsYXlvdXRJZDogbGF5b3V0LmlkLFxuICAgIH07XG5cbiAgICBsZXQgYXBwQ29uZmlnQWN0aW9uID0gZ2V0QXBwQ29uZmlnQWN0aW9uKCk7XG4gICAgYWRkSXRlbVRvR3JpZChhcHBDb25maWdBY3Rpb24uYXBwQ29uZmlnLCBkcmFnZ2luZ0l0ZW0sIGxheW91dEluZm8sIG51bGwsICd0b3AnKVxuICAgICAgLnRoZW4oKChyZXN1bHQpID0+IHtcbiAgICAgICAgY29uc3QgeyBsYXlvdXRJbmZvLCB1cGRhdGVkQXBwQ29uZmlnIH0gPSByZXN1bHQ7XG4gICAgICAgIGFwcENvbmZpZ0FjdGlvbiA9IGdldEFwcENvbmZpZ0FjdGlvbih1cGRhdGVkQXBwQ29uZmlnKTtcbiAgICAgICAgYXBwQ29uZmlnQWN0aW9uLmVkaXRMYXlvdXRJdGVtQkJveChsYXlvdXRJbmZvLCB7IHdpZHRoOiAnMTAwJScsIGhlaWdodDogJzEwMCUnIH0pO1xuICAgICAgICBnZXRBcHBTdG9yZSgpLmRpc3BhdGNoKGFwcEFjdGlvbnMubGF5b3V0Q2hhbmdlZChhcHBDb25maWdBY3Rpb24uYXBwQ29uZmlnLCBsYXlvdXRJbmZvKSk7XG4gICAgICB9KSk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBsYXlvdXQsIGNsYXNzTmFtZSB9ID0gdGhpcy5wcm9wcztcblxuICAgIGNvbnN0IGxheW91dFN0eWxlID0gbGF5b3V0LnNldHRpbmc/LnN0eWxlO1xuICAgIGNvbnN0IHJvb3RJdGVtSWQgPSBsYXlvdXQuc2V0dGluZz8ucm9vdEl0ZW1JZDtcbiAgICBjb25zdCBjb250ZW50TGVuZ3RoID0gT2JqZWN0LmtleXMobGF5b3V0LmNvbnRlbnQgfHwge30pLmxlbmd0aDtcbiAgICBjb25zdCBzcGxpdHRlclNldHRpbmcgPSBsb2Rhc2guYXNzaWduKHt9LCBERUZBVUxUX0dSSURfU0VUVElORywgbGF5b3V0LnNldHRpbmcgJiYgbGF5b3V0LnNldHRpbmcuc3BsaXR0ZXIpO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxQYWdlQ29udGV4dC5Db25zdW1lcj5cbiAgICAgICAgeyhwYWdlQ29udGV4dDogUGFnZUNvbnRleHRQcm9wcykgPT4ge1xuICAgICAgICAgIGNvbnN0IG1lcmdlZFN0eWxlOiBhbnkgPSB7XG4gICAgICAgICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgICAgICAgICAgIC4uLnN0eWxlVXRpbHMudG9DU1NTdHlsZShsYXlvdXRTdHlsZSBhcyBhbnkpLFxuICAgICAgICAgICAgb3ZlcmZsb3c6ICdoaWRkZW4nLFxuICAgICAgICAgIH07XG4gICAgICAgICAgY29uc3Qgb3V0Q2xhc3MgPSBjbGFzc05hbWVzKCdsYXlvdXQgZ3JpZC1sYXlvdXQgZC1mbGV4IHctMTAwJywgY2xhc3NOYW1lKTtcblxuICAgICAgICAgIHJldHVybiA8ZGl2XG4gICAgICAgICAgICBjbGFzc05hbWU9e291dENsYXNzfVxuICAgICAgICAgICAgc3R5bGU9e21lcmdlZFN0eWxlfVxuICAgICAgICAgICAgZGF0YS1sYXlvdXRpZD17bGF5b3V0LmlkfT5cbiAgICAgICAgICAgIHtjb250ZW50TGVuZ3RoID09PSAwICYmIDxEcm9wQXJlYVxuICAgICAgICAgICAgICBjc3M9e2Ryb3BhcmVhU3R5bGV9XG4gICAgICAgICAgICAgIGxheW91dHM9e3RoaXMucHJvcHMubGF5b3V0c31cbiAgICAgICAgICAgICAgaGlnaGxpZ2h0RHJhZ292ZXI9e3RydWV9XG4gICAgICAgICAgICAgIG9uRHJhZ0VudGVyPXt0aGlzLm9uRHJhZ0VudGVyfVxuICAgICAgICAgICAgICBvbkRyYWdMZWF2ZT17dGhpcy5vbkRyYWdMZWF2ZX1cbiAgICAgICAgICAgICAgb25EcmFnT3Zlcj17dGhpcy5vbkRyYWdPdmVyfVxuICAgICAgICAgICAgICBvbkRyb3A9e3RoaXMub25Ecm9wfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8ZGl2IGNzcz17Y3NzYFxuICAgICAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6ICR7cGFnZUNvbnRleHQuYnVpbGRlclRoZW1lLmNvbG9ycy5wYWxldHRlLnByaW1hcnlbNzAwXX1cbiAgICAgICAgICAgICAgYH0+PC9kaXY+XG4gICAgICAgICAgICA8L0Ryb3BBcmVhPn1cbiAgICAgICAgICAgIHtyb290SXRlbUlkICYmIDxHcmlkQ29udGFpbmVyXG4gICAgICAgICAgICAgIGxheW91dElkPXtsYXlvdXQuaWR9XG4gICAgICAgICAgICAgIGxheW91dEl0ZW1JZD17cm9vdEl0ZW1JZH1cbiAgICAgICAgICAgICAgc3BsaXR0ZXJTaXplPXtzcGxpdHRlclNldHRpbmcuc2l6ZX1cbiAgICAgICAgICAgICAgc3BsaXR0ZXJDb2xvcj17c3BsaXR0ZXJTZXR0aW5nLmNvbG9yfVxuICAgICAgICAgICAgLz59XG4gICAgICAgICAgICB7IXJvb3RJdGVtSWQgJiYgdGhpcy5wcm9wcy5jaGlsZHJlbn1cbiAgICAgICAgICA8L2Rpdj47XG4gICAgICAgIH19XG4gICAgICA8L1BhZ2VDb250ZXh0LkNvbnN1bWVyPlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUmVhY3RSZWR1eC5jb25uZWN0PFN0YXRlVG9MYXlvdXRQcm9wcywgdW5rbm93biwgTGF5b3V0UHJvcHM+KHV0aWxzLm1hcFN0YXRlVG9MYXlvdXRQcm9wcykoR3JpZExheW91dCk7XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQVdBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFVQTtBQUFBO0FBRUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBOztBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUdBO0FBS0E7QUFFQTtBQUlBO0FBU0E7QUFLQTtBQU1BO0FBRUE7QUFHQTtBQUNBO0FBQUE7QUFFQTs7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./jimu-layouts/lib/grid-layout/builder/layout.tsx\n");

/***/ }),

/***/ "./jimu-layouts/lib/grid-layout/builder/splitter.tsx":
/*!***********************************************************!*\
  !*** ./jimu-layouts/lib/grid-layout/builder/splitter.tsx ***!
  \***********************************************************/
/*! exports provided: Splitter */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Splitter\", function() { return Splitter; });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jimu_core__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-layouts/layout-runtime */ \"jimu-layouts/layout-runtime\");\n/* harmony import */ var jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var jimu_core_dnd__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-core/dnd */ \"jimu-core/dnd\");\n/* harmony import */ var jimu_core_dnd__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jimu_core_dnd__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../types */ \"./jimu-layouts/lib/grid-layout/types.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __makeTemplateObject = (undefined && undefined.__makeTemplateObject) || function (cooked, raw) {\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n    return cooked;\n};\n/** @jsx jsx */\n\n\n\n\nvar MIN_SIZE = 32;\nvar Splitter = /** @class */ (function (_super) {\n    __extends(Splitter, _super);\n    function Splitter() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.bindSplitHandler = function () {\n            var dx;\n            var dy;\n            var prevItem;\n            var prevItemRect;\n            var originPrevItemWidth;\n            var originPrevItemHeight;\n            var nextItem;\n            var nextItemRect;\n            var originNextItemWidth;\n            var originNextItemHeight;\n            if (_this.ref && !_this.interactable) {\n                _this.interactable = Object(jimu_core_dnd__WEBPACK_IMPORTED_MODULE_2__[\"interact\"])(_this.ref)\n                    .origin('parent')\n                    .draggable({\n                    inertia: false,\n                    autoScroll: false,\n                    modifiers: [\n                        jimu_core_dnd__WEBPACK_IMPORTED_MODULE_2__[\"interact\"].modifiers.restrict({\n                            restriction: 'parent',\n                        }),\n                    ],\n                    lockAxis: _this.props.direction === _types__WEBPACK_IMPORTED_MODULE_3__[\"Direction\"].Horizontal ? 'x' : 'y',\n                    onstart: function (event) {\n                        event.stopPropagation();\n                        dx = 0;\n                        dy = 0;\n                        var _a = _this.props, layoutId = _a.layoutId, prevItemId = _a.prevItemId, nextItemId = _a.nextItemId;\n                        prevItem = document.querySelector(\"div.grid-layout[data-layoutid=\\\"\" + layoutId + \"\\\"] div[data-layoutitemid=\\\"\" + prevItemId + \"\\\"]\");\n                        originPrevItemWidth = prevItem.style.width;\n                        originPrevItemHeight = prevItem.style.height;\n                        prevItemRect = prevItem.getBoundingClientRect();\n                        nextItem = document.querySelector(\"div.grid-layout[data-layoutid=\\\"\" + layoutId + \"\\\"] div[data-layoutitemid=\\\"\" + nextItemId + \"\\\"]\");\n                        originNextItemWidth = nextItem.style.width;\n                        originNextItemHeight = nextItem.style.height;\n                        nextItemRect = nextItem.getBoundingClientRect();\n                    },\n                    onmove: function (event) {\n                        event.stopPropagation();\n                        dx += event.dx;\n                        dy += event.dy;\n                        var _a = _this.restrictResizing(prevItemRect, nextItemRect, dx, dy), x = _a.x, y = _a.y;\n                        if (_this.props.direction === _types__WEBPACK_IMPORTED_MODULE_3__[\"Direction\"].Horizontal) {\n                            prevItem.style.width = prevItemRect.width + x + \"px\";\n                            nextItem.style.width = nextItemRect.width - x + \"px\";\n                        }\n                        else {\n                            prevItem.style.height = prevItemRect.height + y + \"px\";\n                            nextItem.style.height = nextItemRect.height - y + \"px\";\n                        }\n                    },\n                    onend: function (event) {\n                        event.stopPropagation();\n                        dx += event.dx;\n                        dy += event.dy;\n                        var _a = _this.restrictResizing(prevItemRect, nextItemRect, dx, dy), x = _a.x, y = _a.y;\n                        // restore style of items\n                        prevItem.style.width = originPrevItemWidth;\n                        nextItem.style.width = originNextItemWidth;\n                        prevItem.style.height = originPrevItemHeight;\n                        nextItem.style.height = originNextItemHeight;\n                        _this.props.onResizeEnd(x, y, _this.props.prevItemId, _this.props.nextItemId);\n                    },\n                });\n            }\n        };\n        return _this;\n    }\n    Splitter.prototype.componentDidMount = function () {\n        this.bindSplitHandler();\n    };\n    Splitter.prototype.restrictResizing = function (prevItemRect, nextItemRect, dx, dy) {\n        var x = dx;\n        var y = dy;\n        if (this.props.direction === _types__WEBPACK_IMPORTED_MODULE_3__[\"Direction\"].Horizontal) {\n            if (dx < 0) {\n                if (prevItemRect.width > MIN_SIZE) {\n                    x = -Math.min(Math.abs(dx), prevItemRect.width - MIN_SIZE);\n                }\n                else {\n                    x = 0;\n                }\n            }\n            if (dx > 0) {\n                if (nextItemRect.width > MIN_SIZE) {\n                    x = Math.min(dx, nextItemRect.width - MIN_SIZE);\n                }\n                else {\n                    x = 0;\n                }\n            }\n        }\n        else {\n            if (dy < 0) {\n                if (prevItemRect.height > MIN_SIZE) {\n                    y = -Math.min(Math.abs(dy), prevItemRect.height - MIN_SIZE);\n                }\n                else {\n                    y = 0;\n                }\n            }\n            if (dy > 0) {\n                if (nextItemRect.height > MIN_SIZE) {\n                    y = Math.min(dy, nextItemRect.height - MIN_SIZE);\n                }\n                else {\n                    y = 0;\n                }\n            }\n        }\n        return { x: x, y: y };\n    };\n    Splitter.prototype.getStyle = function (builderTheme) {\n        var _a = this.props, direction = _a.direction, size = _a.size, color = _a.color;\n        var pxSize = size + \"px\";\n        return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n      width: \", \";\\n      height: \", \";\\n      background: \", \";\\n      position: relative;\\n      z-index: \", \";\\n\\n      &:hover {\\n        background: \", \";\\n      }\\n\\n      .horizontal-splitter {\\n        width: 15px;\\n        height: 100%;\\n        position: absolute;\\n        left: -5px;\\n        cursor: ew-resize;\\n      }\\n\\n      .vertical-splitter {\\n        width: 100%;\\n        height: 15px;\\n        position: absolute;\\n        top: -5px;\\n        cursor: row-resize;\\n      }\\n    \"], [\"\\n      width: \", \";\\n      height: \", \";\\n      background: \", \";\\n      position: relative;\\n      z-index: \", \";\\n\\n      &:hover {\\n        background: \", \";\\n      }\\n\\n      .horizontal-splitter {\\n        width: 15px;\\n        height: 100%;\\n        position: absolute;\\n        left: -5px;\\n        cursor: ew-resize;\\n      }\\n\\n      .vertical-splitter {\\n        width: 100%;\\n        height: 15px;\\n        position: absolute;\\n        top: -5px;\\n        cursor: row-resize;\\n      }\\n    \"])), direction === _types__WEBPACK_IMPORTED_MODULE_3__[\"Direction\"].Vertical ? '100%' : pxSize, direction === _types__WEBPACK_IMPORTED_MODULE_3__[\"Direction\"].Vertical ? pxSize : '100%', color, jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__[\"LayoutZIndex\"].HandlerTools, builderTheme.colors.palette.dark[300]);\n    };\n    Splitter.prototype.render = function () {\n        var _this = this;\n        var direction = this.props.direction;\n        return (Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__[\"PageContext\"].Consumer, null, function (props) {\n            return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { ref: function (el) { return _this.ref = el; }, css: _this.getStyle(props.builderTheme) },\n                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"classNames\"])({\n                        'horizontal-splitter': direction === _types__WEBPACK_IMPORTED_MODULE_3__[\"Direction\"].Horizontal,\n                        'vertical-splitter': direction === _types__WEBPACK_IMPORTED_MODULE_3__[\"Direction\"].Vertical,\n                    }) }));\n        }));\n    };\n    return Splitter;\n}(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].PureComponent));\n\nvar templateObject_1;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWxheW91dHMvbGliL2dyaWQtbGF5b3V0L2J1aWxkZXIvc3BsaXR0ZXIudHN4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vamltdS1sYXlvdXRzL2xpYi9ncmlkLWxheW91dC9idWlsZGVyL3NwbGl0dGVyLnRzeD82MzE4Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKiBAanN4IGpzeCAqL1xuaW1wb3J0IHsgUmVhY3QsIGpzeCwgY3NzLCBJTVRoZW1lVmFyaWFibGVzLCBjbGFzc05hbWVzIH0gZnJvbSAnamltdS1jb3JlJztcbmltcG9ydCB7XG4gIFBhZ2VDb250ZXh0LFxuICBQYWdlQ29udGV4dFByb3BzLFxuICBMYXlvdXRaSW5kZXgsXG59IGZyb20gJ2ppbXUtbGF5b3V0cy9sYXlvdXQtcnVudGltZSc7XG5pbXBvcnQgeyBpbnRlcmFjdCB9IGZyb20gJ2ppbXUtY29yZS9kbmQnO1xuaW1wb3J0IHsgRGlyZWN0aW9uIH0gZnJvbSAnLi4vdHlwZXMnO1xuXG5pbnRlcmZhY2UgT3duUHJvcHMge1xuICBsYXlvdXRJZDogc3RyaW5nO1xuICBkaXJlY3Rpb246IHN0cmluZztcbiAgcHJldkl0ZW1JZDogc3RyaW5nO1xuICBuZXh0SXRlbUlkOiBzdHJpbmc7XG4gIHNpemU6IG51bWJlcjtcbiAgY29sb3I6IHN0cmluZztcbiAgb25SZXNpemVFbmQ6IChkeDogbnVtYmVyLCBkeTogbnVtYmVyLCBwcmV2SXRlbUlkOiBzdHJpbmcsIG5leHRJdGVtSWQ6IHN0cmluZykgPT4gdm9pZDtcbn1cblxuY29uc3QgTUlOX1NJWkUgPSAzMjtcblxuZXhwb3J0IGNsYXNzIFNwbGl0dGVyIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudDxPd25Qcm9wcz4ge1xuICByZWY6IEhUTUxFbGVtZW50O1xuICBpbnRlcmFjdGFibGU6IEludGVyYWN0LkludGVyYWN0YWJsZTtcblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB0aGlzLmJpbmRTcGxpdEhhbmRsZXIoKTtcbiAgfVxuXG4gIGJpbmRTcGxpdEhhbmRsZXIgPSAoKSA9PiB7XG4gICAgbGV0IGR4OiBudW1iZXI7XG4gICAgbGV0IGR5OiBudW1iZXI7XG4gICAgbGV0IHByZXZJdGVtOiBIVE1MRWxlbWVudDtcbiAgICBsZXQgcHJldkl0ZW1SZWN0OiBDbGllbnRSZWN0O1xuICAgIGxldCBvcmlnaW5QcmV2SXRlbVdpZHRoO1xuICAgIGxldCBvcmlnaW5QcmV2SXRlbUhlaWdodDtcbiAgICBsZXQgbmV4dEl0ZW06IEhUTUxFbGVtZW50O1xuICAgIGxldCBuZXh0SXRlbVJlY3Q6IENsaWVudFJlY3Q7XG4gICAgbGV0IG9yaWdpbk5leHRJdGVtV2lkdGg7XG4gICAgbGV0IG9yaWdpbk5leHRJdGVtSGVpZ2h0O1xuICAgIGlmICh0aGlzLnJlZiAmJiAhdGhpcy5pbnRlcmFjdGFibGUpIHtcbiAgICAgIHRoaXMuaW50ZXJhY3RhYmxlID0gaW50ZXJhY3QodGhpcy5yZWYpXG4gICAgICAgIC5vcmlnaW4oJ3BhcmVudCcpXG4gICAgICAgIC5kcmFnZ2FibGUoe1xuICAgICAgICAgIGluZXJ0aWE6IGZhbHNlLFxuICAgICAgICAgIGF1dG9TY3JvbGw6IGZhbHNlLFxuICAgICAgICAgIG1vZGlmaWVyczogW1xuICAgICAgICAgICAgaW50ZXJhY3QubW9kaWZpZXJzLnJlc3RyaWN0KHtcbiAgICAgICAgICAgICAgcmVzdHJpY3Rpb246ICdwYXJlbnQnLFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgXSxcbiAgICAgICAgICBsb2NrQXhpczogdGhpcy5wcm9wcy5kaXJlY3Rpb24gPT09IERpcmVjdGlvbi5Ib3Jpem9udGFsID8gJ3gnIDogJ3knLFxuICAgICAgICAgIG9uc3RhcnQ6IChldmVudDogSW50ZXJhY3QuRHJhZ0V2ZW50KSA9PiB7XG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIGR4ID0gMDtcbiAgICAgICAgICAgIGR5ID0gMDtcbiAgICAgICAgICAgIGNvbnN0IHsgbGF5b3V0SWQsIHByZXZJdGVtSWQsIG5leHRJdGVtSWQgfSA9IHRoaXMucHJvcHM7XG5cbiAgICAgICAgICAgIHByZXZJdGVtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgICAgICAgICAgYGRpdi5ncmlkLWxheW91dFtkYXRhLWxheW91dGlkPVwiJHtsYXlvdXRJZH1cIl0gZGl2W2RhdGEtbGF5b3V0aXRlbWlkPVwiJHtwcmV2SXRlbUlkfVwiXWAsXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgb3JpZ2luUHJldkl0ZW1XaWR0aCA9IHByZXZJdGVtLnN0eWxlLndpZHRoO1xuICAgICAgICAgICAgb3JpZ2luUHJldkl0ZW1IZWlnaHQgPSBwcmV2SXRlbS5zdHlsZS5oZWlnaHQ7XG4gICAgICAgICAgICBwcmV2SXRlbVJlY3QgPSBwcmV2SXRlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgICAgICAgICAgbmV4dEl0ZW0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgICAgICAgICBgZGl2LmdyaWQtbGF5b3V0W2RhdGEtbGF5b3V0aWQ9XCIke2xheW91dElkfVwiXSBkaXZbZGF0YS1sYXlvdXRpdGVtaWQ9XCIke25leHRJdGVtSWR9XCJdYCxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBvcmlnaW5OZXh0SXRlbVdpZHRoID0gbmV4dEl0ZW0uc3R5bGUud2lkdGg7XG4gICAgICAgICAgICBvcmlnaW5OZXh0SXRlbUhlaWdodCA9IG5leHRJdGVtLnN0eWxlLmhlaWdodDtcbiAgICAgICAgICAgIG5leHRJdGVtUmVjdCA9IG5leHRJdGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgb25tb3ZlOiAoZXZlbnQ6IEludGVyYWN0LkRyYWdFdmVudCkgPT4ge1xuICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICBkeCArPSBldmVudC5keDtcbiAgICAgICAgICAgIGR5ICs9IGV2ZW50LmR5O1xuXG4gICAgICAgICAgICBjb25zdCB7IHgsIHkgfSA9IHRoaXMucmVzdHJpY3RSZXNpemluZyhwcmV2SXRlbVJlY3QsIG5leHRJdGVtUmVjdCwgZHgsIGR5KTtcbiAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLmRpcmVjdGlvbiA9PT0gRGlyZWN0aW9uLkhvcml6b250YWwpIHtcbiAgICAgICAgICAgICAgcHJldkl0ZW0uc3R5bGUud2lkdGggPSBgJHtwcmV2SXRlbVJlY3Qud2lkdGggKyB4fXB4YDtcbiAgICAgICAgICAgICAgbmV4dEl0ZW0uc3R5bGUud2lkdGggPSBgJHtuZXh0SXRlbVJlY3Qud2lkdGggLSB4fXB4YDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHByZXZJdGVtLnN0eWxlLmhlaWdodCA9IGAke3ByZXZJdGVtUmVjdC5oZWlnaHQgKyB5fXB4YDtcbiAgICAgICAgICAgICAgbmV4dEl0ZW0uc3R5bGUuaGVpZ2h0ID0gYCR7bmV4dEl0ZW1SZWN0LmhlaWdodCAtIHl9cHhgO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgb25lbmQ6IChldmVudDogSW50ZXJhY3QuRHJhZ0V2ZW50KSA9PiB7XG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIGR4ICs9IGV2ZW50LmR4O1xuICAgICAgICAgICAgZHkgKz0gZXZlbnQuZHk7XG5cbiAgICAgICAgICAgIGNvbnN0IHsgeCwgeSB9ID0gdGhpcy5yZXN0cmljdFJlc2l6aW5nKHByZXZJdGVtUmVjdCwgbmV4dEl0ZW1SZWN0LCBkeCwgZHkpO1xuICAgICAgICAgICAgLy8gcmVzdG9yZSBzdHlsZSBvZiBpdGVtc1xuICAgICAgICAgICAgcHJldkl0ZW0uc3R5bGUud2lkdGggPSBvcmlnaW5QcmV2SXRlbVdpZHRoO1xuICAgICAgICAgICAgbmV4dEl0ZW0uc3R5bGUud2lkdGggPSBvcmlnaW5OZXh0SXRlbVdpZHRoO1xuICAgICAgICAgICAgcHJldkl0ZW0uc3R5bGUuaGVpZ2h0ID0gb3JpZ2luUHJldkl0ZW1IZWlnaHQ7XG4gICAgICAgICAgICBuZXh0SXRlbS5zdHlsZS5oZWlnaHQgPSBvcmlnaW5OZXh0SXRlbUhlaWdodDtcbiAgICAgICAgICAgIHRoaXMucHJvcHMub25SZXNpemVFbmQoeCwgeSwgdGhpcy5wcm9wcy5wcmV2SXRlbUlkLCB0aGlzLnByb3BzLm5leHRJdGVtSWQpO1xuICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHJlc3RyaWN0UmVzaXppbmcocHJldkl0ZW1SZWN0OiBDbGllbnRSZWN0LCBuZXh0SXRlbVJlY3Q6IENsaWVudFJlY3QsIGR4OiBudW1iZXIsIGR5OiBudW1iZXIpOiB7eDogbnVtYmVyLCB5OiBudW1iZXJ9IHtcbiAgICBsZXQgeCA9IGR4O1xuICAgIGxldCB5ID0gZHk7XG4gICAgaWYgKHRoaXMucHJvcHMuZGlyZWN0aW9uID09PSBEaXJlY3Rpb24uSG9yaXpvbnRhbCkge1xuICAgICAgaWYgKGR4IDwgMCkge1xuICAgICAgICBpZiAocHJldkl0ZW1SZWN0LndpZHRoID4gTUlOX1NJWkUpIHtcbiAgICAgICAgICB4ID0gLU1hdGgubWluKE1hdGguYWJzKGR4KSwgcHJldkl0ZW1SZWN0LndpZHRoIC0gTUlOX1NJWkUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHggPSAwO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoZHggPiAwKSB7XG4gICAgICAgIGlmIChuZXh0SXRlbVJlY3Qud2lkdGggPiBNSU5fU0laRSkge1xuICAgICAgICAgIHggPSBNYXRoLm1pbihkeCwgbmV4dEl0ZW1SZWN0LndpZHRoIC0gTUlOX1NJWkUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHggPSAwO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChkeSA8IDApIHtcbiAgICAgICAgaWYgKHByZXZJdGVtUmVjdC5oZWlnaHQgPiBNSU5fU0laRSkge1xuICAgICAgICAgIHkgPSAtTWF0aC5taW4oTWF0aC5hYnMoZHkpLCBwcmV2SXRlbVJlY3QuaGVpZ2h0IC0gTUlOX1NJWkUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHkgPSAwO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoZHkgPiAwKSB7XG4gICAgICAgIGlmIChuZXh0SXRlbVJlY3QuaGVpZ2h0ID4gTUlOX1NJWkUpIHtcbiAgICAgICAgICB5ID0gTWF0aC5taW4oZHksIG5leHRJdGVtUmVjdC5oZWlnaHQgLSBNSU5fU0laRSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgeSA9IDA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHsgeCwgeSB9O1xuICB9XG5cbiAgZ2V0U3R5bGUoYnVpbGRlclRoZW1lOiBJTVRoZW1lVmFyaWFibGVzKSB7XG4gICAgY29uc3QgeyBkaXJlY3Rpb24sIHNpemUsIGNvbG9yIH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IHB4U2l6ZSA9IGAke3NpemV9cHhgO1xuICAgIHJldHVybiBjc3NgXG4gICAgICB3aWR0aDogJHtkaXJlY3Rpb24gPT09IERpcmVjdGlvbi5WZXJ0aWNhbCA/ICcxMDAlJyA6IHB4U2l6ZX07XG4gICAgICBoZWlnaHQ6ICR7ZGlyZWN0aW9uID09PSBEaXJlY3Rpb24uVmVydGljYWwgPyBweFNpemUgOiAnMTAwJSd9O1xuICAgICAgYmFja2dyb3VuZDogJHtjb2xvcn07XG4gICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICB6LWluZGV4OiAke0xheW91dFpJbmRleC5IYW5kbGVyVG9vbHN9O1xuXG4gICAgICAmOmhvdmVyIHtcbiAgICAgICAgYmFja2dyb3VuZDogJHtidWlsZGVyVGhlbWUuY29sb3JzLnBhbGV0dGUuZGFya1szMDBdfTtcbiAgICAgIH1cblxuICAgICAgLmhvcml6b250YWwtc3BsaXR0ZXIge1xuICAgICAgICB3aWR0aDogMTVweDtcbiAgICAgICAgaGVpZ2h0OiAxMDAlO1xuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgIGxlZnQ6IC01cHg7XG4gICAgICAgIGN1cnNvcjogZXctcmVzaXplO1xuICAgICAgfVxuXG4gICAgICAudmVydGljYWwtc3BsaXR0ZXIge1xuICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgaGVpZ2h0OiAxNXB4O1xuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgIHRvcDogLTVweDtcbiAgICAgICAgY3Vyc29yOiByb3ctcmVzaXplO1xuICAgICAgfVxuICAgIGA7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBkaXJlY3Rpb24gfSA9IHRoaXMucHJvcHM7XG4gICAgcmV0dXJuICg8UGFnZUNvbnRleHQuQ29uc3VtZXI+XG4gICAgICB7KHByb3BzOiBQYWdlQ29udGV4dFByb3BzKSA9PiB7XG4gICAgICAgIHJldHVybiA8ZGl2IHJlZj17ZWwgPT4gdGhpcy5yZWYgPSBlbH1cbiAgICAgICAgICBjc3M9e3RoaXMuZ2V0U3R5bGUocHJvcHMuYnVpbGRlclRoZW1lKX0+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzTmFtZXMoe1xuICAgICAgICAgICAgJ2hvcml6b250YWwtc3BsaXR0ZXInOiBkaXJlY3Rpb24gPT09IERpcmVjdGlvbi5Ib3Jpem9udGFsLFxuICAgICAgICAgICAgJ3ZlcnRpY2FsLXNwbGl0dGVyJzogZGlyZWN0aW9uID09PSBEaXJlY3Rpb24uVmVydGljYWwsXG4gICAgICAgICAgfSl9PjwvZGl2PlxuICAgICAgICA8L2Rpdj47XG4gICAgICB9fVxuICAgIDwvUGFnZUNvbnRleHQuQ29uc3VtZXI+XG4gICAgKTtcbiAgfVxufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFZQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQXNGQTtBQWxLQTtBQUNBO0FBQ0E7QUE0RUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBMkJBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFHQTtBQUNBO0FBQUE7OzsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./jimu-layouts/lib/grid-layout/builder/splitter.tsx\n");

/***/ }),

/***/ "./jimu-layouts/lib/grid-layout/builder/utils.ts":
/*!*******************************************************!*\
  !*** ./jimu-layouts/lib/grid-layout/builder/utils.ts ***!
  \*******************************************************/
/*! exports provided: addItemToGrid, updateGridItemSize */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"addItemToGrid\", function() { return addItemToGrid; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"updateGridItemSize\", function() { return updateGridItemSize; });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jimu_core__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var jimu_for_builder__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-for-builder */ \"jimu-for-builder\");\n/* harmony import */ var jimu_for_builder__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jimu_for_builder__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-layouts/layout-runtime */ \"jimu-layouts/layout-runtime\");\n/* harmony import */ var jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../types */ \"./jimu-layouts/lib/grid-layout/types.ts\");\n\n\n\n\nfunction createGridLayoutItem(appConfig, item, parentLayoutInfo) {\n    var layoutInfo = item.layoutInfo;\n    var appConfigAction = Object(jimu_for_builder__WEBPACK_IMPORTED_MODULE_1__[\"getAppConfigAction\"])(appConfig);\n    var newLayoutItem;\n    if (layoutInfo && layoutInfo.layoutId && layoutInfo.layoutItemId) {\n        var layoutItem = appConfig.layouts[layoutInfo.layoutId].content[layoutInfo.layoutItemId];\n        newLayoutItem = layoutItem.set('id', \"\" + (jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_2__[\"utils\"].getMaximumId(appConfig.layouts[parentLayoutInfo.layoutId]) + 1))\n            .without('bbox');\n        return Promise.resolve({ newLayoutItem: newLayoutItem, updatedAppConfig: appConfig });\n    }\n    if (item.itemType === jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"LayoutItemType\"].Section) {\n        var sectionId = item.id ? item.id : appConfigAction.createSection().id;\n        newLayoutItem = Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"Immutable\"])({\n            sectionId: sectionId,\n            id: \"\" + (jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_2__[\"utils\"].getMaximumId(appConfig.layouts[parentLayoutInfo.layoutId]) + 1),\n            type: jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"LayoutItemType\"].Section,\n        });\n        return Promise.resolve({ newLayoutItem: newLayoutItem, updatedAppConfig: appConfigAction.appConfig });\n    }\n    if (item.id) {\n        newLayoutItem = Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"Immutable\"])({\n            id: \"\" + (jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_2__[\"utils\"].getMaximumId(appConfig.layouts[parentLayoutInfo.layoutId]) + 1),\n            type: jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"LayoutItemType\"].Widget,\n            widgetId: item.id,\n        });\n        return Promise.resolve({ newLayoutItem: newLayoutItem, updatedAppConfig: appConfig });\n    }\n    var widgetJson = {\n        uri: item.uri,\n    };\n    return jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"WidgetManager\"].getInstance()\n        .handleNewWidgetJson(widgetJson)\n        .then(function (widgetJson) {\n        var widgetId = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"appConfigUtils\"].getUniqueId(appConfigAction.appConfig, 'widget');\n        widgetJson.id = widgetId;\n        appConfigAction.createWidget(Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"Immutable\"])(widgetJson));\n        newLayoutItem = Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"Immutable\"])({\n            id: \"\" + (jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_2__[\"utils\"].getMaximumId(appConfig.layouts[parentLayoutInfo.layoutId]) + 1),\n            type: jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"LayoutItemType\"].Widget,\n            widgetId: widgetJson.id,\n        });\n        return Promise.resolve({ newLayoutItem: newLayoutItem, updatedAppConfig: appConfigAction.appConfig });\n    });\n}\nfunction halfSize(value) {\n    var numValue = parseFloat(value);\n    if (jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_2__[\"utils\"].isPercentage(value)) {\n        return numValue / 2 + \"%\";\n    }\n    return numValue / 2 + \"px\";\n}\nfunction addItemToGrid(appConfig, item, parentLayoutInfo, referenceItemId, side) {\n    var layoutInfo = item.layoutInfo;\n    return createGridLayoutItem(appConfig, item, parentLayoutInfo).then(function (_a) {\n        var newLayoutItem = _a.newLayoutItem, updatedAppConfig = _a.updatedAppConfig;\n        var pLayoutId = parentLayoutInfo.layoutId;\n        var appConfigAction = Object(jimu_for_builder__WEBPACK_IMPORTED_MODULE_1__[\"getAppConfigAction\"])(updatedAppConfig);\n        var itemJson = newLayoutItem;\n        var insertLayoutInfo;\n        if (!referenceItemId) { // first item added to the grid layout\n            itemJson = itemJson.set('bbox', { width: '100%', height: '100%' });\n            insertLayoutInfo = appConfigAction.addItemIntoLayout(pLayoutId, itemJson, 0);\n            appConfigAction.editLayoutSetting(parentLayoutInfo, { rootItemId: itemJson.id });\n        }\n        else {\n            insertLayoutInfo = appConfigAction.addItemIntoLayout(pLayoutId, itemJson, 0);\n            var refItem = updatedAppConfig.layouts[pLayoutId].content[referenceItemId];\n            if (refItem.parentId) { // the reference item is already in a container\n                var parentItem = updatedAppConfig.layouts[pLayoutId].content[refItem.parentId];\n                // update parent items\n                if (parentItem.direction === _types__WEBPACK_IMPORTED_MODULE_3__[\"Direction\"].Horizontal) {\n                    if (side === 'left' || side === 'right') {\n                        appConfigAction = mergeIntoExistingContainer(appConfigAction, pLayoutId, insertLayoutInfo.layoutItemId, referenceItemId, side);\n                    }\n                    else {\n                        appConfigAction = groupIntoNewContainer(appConfigAction, pLayoutId, insertLayoutInfo.layoutItemId, referenceItemId, side);\n                    }\n                }\n                else if (parentItem.direction === _types__WEBPACK_IMPORTED_MODULE_3__[\"Direction\"].Vertical) {\n                    if (side === 'top' || side === 'bottom') {\n                        appConfigAction = mergeIntoExistingContainer(appConfigAction, pLayoutId, insertLayoutInfo.layoutItemId, referenceItemId, side);\n                    }\n                    else {\n                        appConfigAction = groupIntoNewContainer(appConfigAction, pLayoutId, insertLayoutInfo.layoutItemId, referenceItemId, side);\n                    }\n                }\n            }\n            else {\n                // reference item is root item\n                appConfigAction = groupIntoNewContainer(appConfigAction, pLayoutId, insertLayoutInfo.layoutItemId, referenceItemId, side);\n                appConfigAction.editLayoutSetting({ layoutId: pLayoutId }, {\n                    rootItemId: appConfigAction.appConfig.layouts[pLayoutId].content[referenceItemId].parentId,\n                });\n            }\n        }\n        if (layoutInfo && layoutInfo.layoutId && layoutInfo.layoutItemId) {\n            appConfigAction.setLayoutItemToPending(insertLayoutInfo, false);\n            appConfigAction.clearRedundantLayout(layoutInfo);\n        }\n        return Promise.resolve({ layoutInfo: insertLayoutInfo, updatedAppConfig: appConfigAction.appConfig });\n    });\n}\nfunction mergeIntoExistingContainer(appConfigAction, layoutId, itemId, refItemId, side) {\n    var appConfig = appConfigAction.appConfig;\n    var refItem = appConfig.layouts[layoutId].content[refItemId];\n    var parentItem = appConfig.layouts[layoutId].content[refItem.parentId];\n    var itemsArray = [].concat(parentItem.items);\n    appConfigAction.updateLayoutItem({ layoutId: layoutId, layoutItemId: itemId }, 'parentId', refItem.parentId);\n    // update parent items\n    var indexOfRefItem = parentItem.items.indexOf(refItemId);\n    if (side === 'left' || side === 'top') {\n        indexOfRefItem === 0 ? itemsArray.unshift(itemId) : itemsArray.splice(indexOfRefItem, 0, itemId);\n        appConfigAction.updateLayoutItem({ layoutId: layoutId, layoutItemId: refItem.parentId }, 'items', itemsArray);\n    }\n    else {\n        itemsArray.splice(indexOfRefItem + 1, 0, itemId);\n        appConfigAction.updateLayoutItem({ layoutId: layoutId, layoutItemId: refItem.parentId }, 'items', itemsArray);\n    }\n    // update size of reference item and inserted item\n    if (side === 'left' || side === 'right') {\n        appConfigAction.editLayoutItemBBox({ layoutId: layoutId, layoutItemId: refItemId }, { height: refItem.bbox.height, width: halfSize(refItem.bbox.width) }).editLayoutItemBBox({ layoutId: layoutId, layoutItemId: itemId }, { height: refItem.bbox.height, width: halfSize(refItem.bbox.width) });\n    }\n    else {\n        appConfigAction.editLayoutItemBBox({ layoutId: layoutId, layoutItemId: refItemId }, { height: halfSize(refItem.bbox.height), width: refItem.bbox.width }).editLayoutItemBBox({ layoutId: layoutId, layoutItemId: itemId }, { height: halfSize(refItem.bbox.height), width: refItem.bbox.width });\n    }\n    return appConfigAction;\n}\nfunction groupIntoNewContainer(appConfigAction, layoutId, itemId, refItemId, side) {\n    var appConfig = appConfigAction.appConfig;\n    var refItem = appConfig.layouts[layoutId].content[refItemId];\n    var newLayoutItem = Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"Immutable\"])({\n        id: \"\" + (jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_2__[\"utils\"].getMaximumId(appConfig.layouts[layoutId]) + 1),\n        items: side === 'left' || side === 'top' ? [itemId, refItemId] : [refItemId, itemId],\n        direction: side === 'left' || side === 'right' ? _types__WEBPACK_IMPORTED_MODULE_3__[\"Direction\"].Horizontal : _types__WEBPACK_IMPORTED_MODULE_3__[\"Direction\"].Vertical,\n        bbox: refItem.bbox,\n    });\n    if (refItem.parentId) {\n        newLayoutItem = newLayoutItem.set('parentId', refItem.parentId);\n        var parentItem = appConfig.layouts[layoutId].content[refItem.parentId];\n        var itemsArray = [].concat(parentItem.items);\n        // update parent items\n        var indexOfRefItem = parentItem.items.indexOf(refItemId);\n        itemsArray.splice(indexOfRefItem, 1, newLayoutItem.id);\n        appConfigAction.updateLayoutItem({ layoutId: layoutId, layoutItemId: refItem.parentId }, 'items', itemsArray);\n    }\n    var containerLayoutInfo = appConfigAction.addItemIntoLayout(layoutId, newLayoutItem, 0);\n    // update parentId of refItem and inserted item to the new container\n    appConfigAction.updateLayoutItem({ layoutId: layoutId, layoutItemId: refItemId }, 'parentId', containerLayoutInfo.layoutItemId)\n        .updateLayoutItem({ layoutId: layoutId, layoutItemId: itemId }, 'parentId', containerLayoutInfo.layoutItemId);\n    // update size of reference item and inserted item\n    if (side === 'left' || side === 'right') {\n        appConfigAction.editLayoutItemBBox({ layoutId: layoutId, layoutItemId: refItemId }, { height: '100%', width: '50%' }).editLayoutItemBBox({ layoutId: layoutId, layoutItemId: itemId }, { height: '100%', width: '50%' });\n    }\n    else {\n        appConfigAction.editLayoutItemBBox({ layoutId: layoutId, layoutItemId: refItemId }, { height: '50%', width: '100%' }).editLayoutItemBBox({ layoutId: layoutId, layoutItemId: itemId }, { height: '50%', width: '100%' });\n    }\n    return appConfigAction;\n}\nfunction updateGridItemSize(dx, dy, containerRect, layoutId, prevItemId, nextItemId, direction) {\n    var appConfigAction = Object(jimu_for_builder__WEBPACK_IMPORTED_MODULE_1__[\"getAppConfigAction\"])();\n    var layout = appConfigAction.appConfig.layouts[layoutId];\n    var prevItem = layout.content[prevItemId];\n    var nextItem = layout.content[nextItemId];\n    if (direction === _types__WEBPACK_IMPORTED_MODULE_3__[\"Direction\"].Horizontal) {\n        var prevWidth = updateSize(prevItem.bbox.width, dx, containerRect.width);\n        var nextWidth = updateSize(nextItem.bbox.width, -dx, containerRect.width);\n        appConfigAction.editLayoutItemBBox({ layoutId: layoutId, layoutItemId: prevItemId }, { width: prevWidth, height: prevItem.bbox.height }).editLayoutItemBBox({ layoutId: layoutId, layoutItemId: nextItemId }, { width: nextWidth, height: nextItem.bbox.height });\n    }\n    else {\n        var prevHeight = updateSize(prevItem.bbox.height, dy, containerRect.height);\n        var nextHeight = updateSize(nextItem.bbox.height, -dy, containerRect.height);\n        appConfigAction.editLayoutItemBBox({ layoutId: layoutId, layoutItemId: prevItemId }, { width: prevItem.bbox.width, height: prevHeight }).editLayoutItemBBox({ layoutId: layoutId, layoutItemId: nextItemId }, { width: nextItem.bbox.width, height: nextHeight });\n    }\n    appConfigAction.exec();\n}\nfunction updateSize(originValue, delta, containerSize) {\n    if (jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_2__[\"utils\"].isPercentage(originValue)) {\n        return (parseFloat(originValue) + delta * 100 / containerSize).toFixed(1) + \"%\";\n    }\n    // pixel only\n    return parseFloat(originValue) + delta + \"px\";\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWxheW91dHMvbGliL2dyaWQtbGF5b3V0L2J1aWxkZXIvdXRpbHMudHMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qaW11LWxheW91dHMvbGliL2dyaWQtbGF5b3V0L2J1aWxkZXIvdXRpbHMudHM/MTEzMyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBMYXlvdXRJdGVtQ29uc3RydWN0b3JQcm9wcyxcbiAgTGF5b3V0SW5mbyxcbiAgTGF5b3V0SXRlbVR5cGUsXG4gIGFwcENvbmZpZ1V0aWxzLFxuICBXaWRnZXRKc29uLFxuICBXaWRnZXRNYW5hZ2VyLFxuICBJbW11dGFibGUsXG4gIElNQXBwQ29uZmlnLFxuICBMYXlvdXRJdGVtSnNvbixcbiAgSU1MYXlvdXRJdGVtSnNvbixcbn0gZnJvbSAnamltdS1jb3JlJztcbmltcG9ydCB7IGdldEFwcENvbmZpZ0FjdGlvbiwgQXBwQ29uZmlnQWN0aW9uIH0gZnJvbSAnamltdS1mb3ItYnVpbGRlcic7XG5pbXBvcnQgeyB1dGlscyB9IGZyb20gJ2ppbXUtbGF5b3V0cy9sYXlvdXQtcnVudGltZSc7XG5pbXBvcnQgeyBHcmlkSXRlbUpzb24sIERpcmVjdGlvbiB9IGZyb20gJy4uL3R5cGVzJztcblxuZnVuY3Rpb24gY3JlYXRlR3JpZExheW91dEl0ZW0oXG4gIGFwcENvbmZpZzogSU1BcHBDb25maWcsXG4gIGl0ZW06IExheW91dEl0ZW1Db25zdHJ1Y3RvclByb3BzLFxuICBwYXJlbnRMYXlvdXRJbmZvOiBMYXlvdXRJbmZvLFxuKTogUHJvbWlzZTx7bmV3TGF5b3V0SXRlbTogTGF5b3V0SXRlbUpzb24sIHVwZGF0ZWRBcHBDb25maWc6IElNQXBwQ29uZmlnfT4ge1xuICBjb25zdCBsYXlvdXRJbmZvID0gaXRlbS5sYXlvdXRJbmZvO1xuICBjb25zdCBhcHBDb25maWdBY3Rpb24gPSBnZXRBcHBDb25maWdBY3Rpb24oYXBwQ29uZmlnKTtcbiAgbGV0IG5ld0xheW91dEl0ZW07XG5cbiAgaWYgKGxheW91dEluZm8gJiYgbGF5b3V0SW5mby5sYXlvdXRJZCAmJiBsYXlvdXRJbmZvLmxheW91dEl0ZW1JZCkge1xuICAgIGNvbnN0IGxheW91dEl0ZW0gPSBhcHBDb25maWcubGF5b3V0c1tsYXlvdXRJbmZvLmxheW91dElkXS5jb250ZW50W2xheW91dEluZm8ubGF5b3V0SXRlbUlkXTtcbiAgICBuZXdMYXlvdXRJdGVtID0gbGF5b3V0SXRlbS5zZXQoJ2lkJywgYCR7dXRpbHMuZ2V0TWF4aW11bUlkKGFwcENvbmZpZy5sYXlvdXRzW3BhcmVudExheW91dEluZm8ubGF5b3V0SWRdKSArIDF9YClcbiAgICAgIC53aXRob3V0KCdiYm94Jyk7XG5cbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHsgbmV3TGF5b3V0SXRlbSwgdXBkYXRlZEFwcENvbmZpZzogYXBwQ29uZmlnIH0pO1xuICB9XG5cbiAgaWYgKGl0ZW0uaXRlbVR5cGUgPT09IExheW91dEl0ZW1UeXBlLlNlY3Rpb24pIHtcbiAgICBjb25zdCBzZWN0aW9uSWQgPSBpdGVtLmlkID8gaXRlbS5pZCA6IGFwcENvbmZpZ0FjdGlvbi5jcmVhdGVTZWN0aW9uKCkuaWQ7XG4gICAgbmV3TGF5b3V0SXRlbSA9IEltbXV0YWJsZSh7XG4gICAgICBzZWN0aW9uSWQsXG4gICAgICBpZDogYCR7dXRpbHMuZ2V0TWF4aW11bUlkKGFwcENvbmZpZy5sYXlvdXRzW3BhcmVudExheW91dEluZm8ubGF5b3V0SWRdKSArIDF9YCxcbiAgICAgIHR5cGU6IExheW91dEl0ZW1UeXBlLlNlY3Rpb24sXG4gICAgfSk7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7IG5ld0xheW91dEl0ZW0sIHVwZGF0ZWRBcHBDb25maWc6IGFwcENvbmZpZ0FjdGlvbi5hcHBDb25maWcgfSk7XG4gIH1cblxuICBpZiAoaXRlbS5pZCkge1xuICAgIG5ld0xheW91dEl0ZW0gPSBJbW11dGFibGUoe1xuICAgICAgaWQ6IGAke3V0aWxzLmdldE1heGltdW1JZChhcHBDb25maWcubGF5b3V0c1twYXJlbnRMYXlvdXRJbmZvLmxheW91dElkXSkgKyAxfWAsXG4gICAgICB0eXBlOiBMYXlvdXRJdGVtVHlwZS5XaWRnZXQsXG4gICAgICB3aWRnZXRJZDogaXRlbS5pZCxcbiAgICB9KTtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHsgbmV3TGF5b3V0SXRlbSwgdXBkYXRlZEFwcENvbmZpZzogYXBwQ29uZmlnIH0pO1xuICB9XG5cbiAgY29uc3Qgd2lkZ2V0SnNvbiA9IHtcbiAgICB1cmk6IGl0ZW0udXJpLFxuICB9IGFzIFdpZGdldEpzb247XG4gIHJldHVybiBXaWRnZXRNYW5hZ2VyLmdldEluc3RhbmNlKClcbiAgICAuaGFuZGxlTmV3V2lkZ2V0SnNvbih3aWRnZXRKc29uKVxuICAgIC50aGVuKCh3aWRnZXRKc29uKSA9PiB7XG4gICAgICBjb25zdCB3aWRnZXRJZCA9IGFwcENvbmZpZ1V0aWxzLmdldFVuaXF1ZUlkKGFwcENvbmZpZ0FjdGlvbi5hcHBDb25maWcsICd3aWRnZXQnKTtcbiAgICAgIHdpZGdldEpzb24uaWQgPSB3aWRnZXRJZDtcbiAgICAgIGFwcENvbmZpZ0FjdGlvbi5jcmVhdGVXaWRnZXQoSW1tdXRhYmxlKHdpZGdldEpzb24pKTtcblxuICAgICAgbmV3TGF5b3V0SXRlbSA9IEltbXV0YWJsZSh7XG4gICAgICAgIGlkOiBgJHt1dGlscy5nZXRNYXhpbXVtSWQoYXBwQ29uZmlnLmxheW91dHNbcGFyZW50TGF5b3V0SW5mby5sYXlvdXRJZF0pICsgMX1gLFxuICAgICAgICB0eXBlOiBMYXlvdXRJdGVtVHlwZS5XaWRnZXQsXG4gICAgICAgIHdpZGdldElkOiB3aWRnZXRKc29uLmlkLFxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoeyBuZXdMYXlvdXRJdGVtLCB1cGRhdGVkQXBwQ29uZmlnOiBhcHBDb25maWdBY3Rpb24uYXBwQ29uZmlnIH0pO1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBoYWxmU2l6ZSh2YWx1ZTogc3RyaW5nKSB7XG4gIGNvbnN0IG51bVZhbHVlID0gcGFyc2VGbG9hdCh2YWx1ZSk7XG4gIGlmICh1dGlscy5pc1BlcmNlbnRhZ2UodmFsdWUpKSB7XG4gICAgcmV0dXJuIGAke251bVZhbHVlIC8gMn0lYDtcbiAgfVxuICByZXR1cm4gYCR7bnVtVmFsdWUgLyAyfXB4YDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZEl0ZW1Ub0dyaWQoXG4gIGFwcENvbmZpZzogSU1BcHBDb25maWcsXG4gIGl0ZW06IExheW91dEl0ZW1Db25zdHJ1Y3RvclByb3BzLFxuICBwYXJlbnRMYXlvdXRJbmZvOiBMYXlvdXRJbmZvLFxuICByZWZlcmVuY2VJdGVtSWQ6IHN0cmluZyxcbiAgc2lkZTogJ3RvcCcgfCAnYm90dG9tJyB8ICdsZWZ0JyB8ICdyaWdodCcsXG4pOiBQcm9taXNlPHtsYXlvdXRJbmZvOiBMYXlvdXRJbmZvLCB1cGRhdGVkQXBwQ29uZmlnOiBJTUFwcENvbmZpZ30+IHtcbiAgY29uc3QgbGF5b3V0SW5mbyA9IGl0ZW0ubGF5b3V0SW5mbztcblxuICByZXR1cm4gY3JlYXRlR3JpZExheW91dEl0ZW0oYXBwQ29uZmlnLCBpdGVtLCBwYXJlbnRMYXlvdXRJbmZvKS50aGVuKCh7IG5ld0xheW91dEl0ZW0sIHVwZGF0ZWRBcHBDb25maWcgfSkgPT4ge1xuICAgIGNvbnN0IHsgbGF5b3V0SWQgOiBwTGF5b3V0SWQgIH0gPSBwYXJlbnRMYXlvdXRJbmZvO1xuICAgIGxldCBhcHBDb25maWdBY3Rpb24gPSBnZXRBcHBDb25maWdBY3Rpb24odXBkYXRlZEFwcENvbmZpZyk7XG4gICAgbGV0IGl0ZW1Kc29uID0gbmV3TGF5b3V0SXRlbSBhcyBJTUxheW91dEl0ZW1Kc29uO1xuICAgIGxldCBpbnNlcnRMYXlvdXRJbmZvO1xuXG4gICAgaWYgKCFyZWZlcmVuY2VJdGVtSWQpIHsgLy8gZmlyc3QgaXRlbSBhZGRlZCB0byB0aGUgZ3JpZCBsYXlvdXRcbiAgICAgIGl0ZW1Kc29uID0gaXRlbUpzb24uc2V0KCdiYm94JywgeyB3aWR0aDogJzEwMCUnLCBoZWlnaHQ6ICcxMDAlJyB9KTtcbiAgICAgIGluc2VydExheW91dEluZm8gPSBhcHBDb25maWdBY3Rpb24uYWRkSXRlbUludG9MYXlvdXQocExheW91dElkLCBpdGVtSnNvbiwgMCk7XG4gICAgICBhcHBDb25maWdBY3Rpb24uZWRpdExheW91dFNldHRpbmcocGFyZW50TGF5b3V0SW5mbywgeyByb290SXRlbUlkOiBpdGVtSnNvbi5pZCB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgaW5zZXJ0TGF5b3V0SW5mbyA9IGFwcENvbmZpZ0FjdGlvbi5hZGRJdGVtSW50b0xheW91dChwTGF5b3V0SWQsIGl0ZW1Kc29uLCAwKTtcbiAgICAgIGNvbnN0IHJlZkl0ZW0gPSB1cGRhdGVkQXBwQ29uZmlnLmxheW91dHNbcExheW91dElkXS5jb250ZW50W3JlZmVyZW5jZUl0ZW1JZF0gYXMgR3JpZEl0ZW1Kc29uO1xuXG4gICAgICBpZiAocmVmSXRlbS5wYXJlbnRJZCkgeyAvLyB0aGUgcmVmZXJlbmNlIGl0ZW0gaXMgYWxyZWFkeSBpbiBhIGNvbnRhaW5lclxuICAgICAgICBjb25zdCBwYXJlbnRJdGVtID0gdXBkYXRlZEFwcENvbmZpZy5sYXlvdXRzW3BMYXlvdXRJZF0uY29udGVudFtyZWZJdGVtLnBhcmVudElkXSBhcyBHcmlkSXRlbUpzb247XG4gICAgICAgIC8vIHVwZGF0ZSBwYXJlbnQgaXRlbXNcbiAgICAgICAgaWYgKHBhcmVudEl0ZW0uZGlyZWN0aW9uID09PSBEaXJlY3Rpb24uSG9yaXpvbnRhbCkge1xuICAgICAgICAgIGlmIChzaWRlID09PSAnbGVmdCcgfHwgc2lkZSA9PT0gJ3JpZ2h0Jykge1xuICAgICAgICAgICAgYXBwQ29uZmlnQWN0aW9uID0gbWVyZ2VJbnRvRXhpc3RpbmdDb250YWluZXIoXG4gICAgICAgICAgICAgIGFwcENvbmZpZ0FjdGlvbixcbiAgICAgICAgICAgICAgcExheW91dElkLFxuICAgICAgICAgICAgICBpbnNlcnRMYXlvdXRJbmZvLmxheW91dEl0ZW1JZCxcbiAgICAgICAgICAgICAgcmVmZXJlbmNlSXRlbUlkLFxuICAgICAgICAgICAgICBzaWRlLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYXBwQ29uZmlnQWN0aW9uID0gZ3JvdXBJbnRvTmV3Q29udGFpbmVyKFxuICAgICAgICAgICAgICBhcHBDb25maWdBY3Rpb24sXG4gICAgICAgICAgICAgIHBMYXlvdXRJZCxcbiAgICAgICAgICAgICAgaW5zZXJ0TGF5b3V0SW5mby5sYXlvdXRJdGVtSWQsXG4gICAgICAgICAgICAgIHJlZmVyZW5jZUl0ZW1JZCxcbiAgICAgICAgICAgICAgc2lkZSxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHBhcmVudEl0ZW0uZGlyZWN0aW9uID09PSBEaXJlY3Rpb24uVmVydGljYWwpIHtcbiAgICAgICAgICBpZiAoc2lkZSA9PT0gJ3RvcCcgfHwgc2lkZSA9PT0gJ2JvdHRvbScpIHtcbiAgICAgICAgICAgIGFwcENvbmZpZ0FjdGlvbiA9IG1lcmdlSW50b0V4aXN0aW5nQ29udGFpbmVyKFxuICAgICAgICAgICAgICBhcHBDb25maWdBY3Rpb24sXG4gICAgICAgICAgICAgIHBMYXlvdXRJZCxcbiAgICAgICAgICAgICAgaW5zZXJ0TGF5b3V0SW5mby5sYXlvdXRJdGVtSWQsXG4gICAgICAgICAgICAgIHJlZmVyZW5jZUl0ZW1JZCxcbiAgICAgICAgICAgICAgc2lkZSxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFwcENvbmZpZ0FjdGlvbiA9IGdyb3VwSW50b05ld0NvbnRhaW5lcihcbiAgICAgICAgICAgICAgYXBwQ29uZmlnQWN0aW9uLFxuICAgICAgICAgICAgICBwTGF5b3V0SWQsXG4gICAgICAgICAgICAgIGluc2VydExheW91dEluZm8ubGF5b3V0SXRlbUlkLFxuICAgICAgICAgICAgICByZWZlcmVuY2VJdGVtSWQsXG4gICAgICAgICAgICAgIHNpZGUsXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gcmVmZXJlbmNlIGl0ZW0gaXMgcm9vdCBpdGVtXG4gICAgICAgIGFwcENvbmZpZ0FjdGlvbiA9IGdyb3VwSW50b05ld0NvbnRhaW5lcihcbiAgICAgICAgICBhcHBDb25maWdBY3Rpb24sXG4gICAgICAgICAgcExheW91dElkLFxuICAgICAgICAgIGluc2VydExheW91dEluZm8ubGF5b3V0SXRlbUlkLFxuICAgICAgICAgIHJlZmVyZW5jZUl0ZW1JZCxcbiAgICAgICAgICBzaWRlLFxuICAgICAgICApO1xuICAgICAgICBhcHBDb25maWdBY3Rpb24uZWRpdExheW91dFNldHRpbmcoXG4gICAgICAgICAgeyBsYXlvdXRJZDogcExheW91dElkIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgcm9vdEl0ZW1JZDogKGFwcENvbmZpZ0FjdGlvbi5hcHBDb25maWcubGF5b3V0c1twTGF5b3V0SWRdLmNvbnRlbnRbcmVmZXJlbmNlSXRlbUlkXSBhcyBhbnkpLnBhcmVudElkLFxuICAgICAgICAgIH0sXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGxheW91dEluZm8gJiYgbGF5b3V0SW5mby5sYXlvdXRJZCAmJiBsYXlvdXRJbmZvLmxheW91dEl0ZW1JZCkge1xuICAgICAgYXBwQ29uZmlnQWN0aW9uLnNldExheW91dEl0ZW1Ub1BlbmRpbmcoaW5zZXJ0TGF5b3V0SW5mbywgZmFsc2UpO1xuICAgICAgYXBwQ29uZmlnQWN0aW9uLmNsZWFyUmVkdW5kYW50TGF5b3V0KGxheW91dEluZm8pO1xuICAgIH1cbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHsgbGF5b3V0SW5mbzogaW5zZXJ0TGF5b3V0SW5mbywgdXBkYXRlZEFwcENvbmZpZzogYXBwQ29uZmlnQWN0aW9uLmFwcENvbmZpZyB9KTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIG1lcmdlSW50b0V4aXN0aW5nQ29udGFpbmVyKFxuICBhcHBDb25maWdBY3Rpb246IEFwcENvbmZpZ0FjdGlvbixcbiAgbGF5b3V0SWQ6IHN0cmluZyxcbiAgaXRlbUlkOiBzdHJpbmcsXG4gIHJlZkl0ZW1JZDogc3RyaW5nLFxuICBzaWRlOiAndG9wJyB8ICdib3R0b20nIHwgJ2xlZnQnIHwgJ3JpZ2h0Jyxcbik6IEFwcENvbmZpZ0FjdGlvbiB7XG4gIGNvbnN0IGFwcENvbmZpZyA9IGFwcENvbmZpZ0FjdGlvbi5hcHBDb25maWc7XG4gIGNvbnN0IHJlZkl0ZW0gPSBhcHBDb25maWcubGF5b3V0c1tsYXlvdXRJZF0uY29udGVudFtyZWZJdGVtSWRdIGFzIEdyaWRJdGVtSnNvbjtcblxuICBjb25zdCBwYXJlbnRJdGVtID0gYXBwQ29uZmlnLmxheW91dHNbbGF5b3V0SWRdLmNvbnRlbnRbcmVmSXRlbS5wYXJlbnRJZF0gYXMgR3JpZEl0ZW1Kc29uO1xuICBjb25zdCBpdGVtc0FycmF5ID0gW10uY29uY2F0KHBhcmVudEl0ZW0uaXRlbXMpO1xuICBhcHBDb25maWdBY3Rpb24udXBkYXRlTGF5b3V0SXRlbSh7IGxheW91dElkLCBsYXlvdXRJdGVtSWQ6IGl0ZW1JZCB9LCAncGFyZW50SWQnLCByZWZJdGVtLnBhcmVudElkKTtcbiAgLy8gdXBkYXRlIHBhcmVudCBpdGVtc1xuICBjb25zdCBpbmRleE9mUmVmSXRlbSA9IHBhcmVudEl0ZW0uaXRlbXMuaW5kZXhPZihyZWZJdGVtSWQpO1xuICBpZiAoc2lkZSA9PT0gJ2xlZnQnIHx8IHNpZGUgPT09ICd0b3AnKSB7XG4gICAgaW5kZXhPZlJlZkl0ZW0gPT09IDAgPyBpdGVtc0FycmF5LnVuc2hpZnQoaXRlbUlkKSA6IGl0ZW1zQXJyYXkuc3BsaWNlKGluZGV4T2ZSZWZJdGVtLCAwLCBpdGVtSWQpO1xuICAgIGFwcENvbmZpZ0FjdGlvbi51cGRhdGVMYXlvdXRJdGVtKFxuICAgICAgeyBsYXlvdXRJZCwgbGF5b3V0SXRlbUlkOiByZWZJdGVtLnBhcmVudElkIH0sXG4gICAgICAnaXRlbXMnLFxuICAgICAgaXRlbXNBcnJheSxcbiAgICApO1xuICB9IGVsc2Uge1xuICAgIGl0ZW1zQXJyYXkuc3BsaWNlKGluZGV4T2ZSZWZJdGVtICsgMSwgMCwgaXRlbUlkKTtcbiAgICBhcHBDb25maWdBY3Rpb24udXBkYXRlTGF5b3V0SXRlbShcbiAgICAgIHsgbGF5b3V0SWQsIGxheW91dEl0ZW1JZDogcmVmSXRlbS5wYXJlbnRJZCB9LFxuICAgICAgJ2l0ZW1zJyxcbiAgICAgIGl0ZW1zQXJyYXksXG4gICAgKTtcbiAgfVxuICAvLyB1cGRhdGUgc2l6ZSBvZiByZWZlcmVuY2UgaXRlbSBhbmQgaW5zZXJ0ZWQgaXRlbVxuICBpZiAoc2lkZSA9PT0gJ2xlZnQnIHx8IHNpZGUgPT09ICdyaWdodCcpIHtcbiAgICBhcHBDb25maWdBY3Rpb24uZWRpdExheW91dEl0ZW1CQm94KFxuICAgICAgeyBsYXlvdXRJZCwgbGF5b3V0SXRlbUlkOiByZWZJdGVtSWQgfSxcbiAgICAgIHsgaGVpZ2h0OiByZWZJdGVtLmJib3guaGVpZ2h0LCB3aWR0aDogaGFsZlNpemUocmVmSXRlbS5iYm94LndpZHRoKSB9LFxuICAgICkuZWRpdExheW91dEl0ZW1CQm94KFxuICAgICAgeyBsYXlvdXRJZCwgbGF5b3V0SXRlbUlkOiBpdGVtSWQgfSxcbiAgICAgIHsgaGVpZ2h0OiByZWZJdGVtLmJib3guaGVpZ2h0LCB3aWR0aDogaGFsZlNpemUocmVmSXRlbS5iYm94LndpZHRoKSB9LFxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgYXBwQ29uZmlnQWN0aW9uLmVkaXRMYXlvdXRJdGVtQkJveChcbiAgICAgIHsgbGF5b3V0SWQsIGxheW91dEl0ZW1JZDogcmVmSXRlbUlkIH0sXG4gICAgICB7IGhlaWdodDogaGFsZlNpemUocmVmSXRlbS5iYm94LmhlaWdodCksIHdpZHRoOiByZWZJdGVtLmJib3gud2lkdGggfSxcbiAgICApLmVkaXRMYXlvdXRJdGVtQkJveChcbiAgICAgIHsgbGF5b3V0SWQsIGxheW91dEl0ZW1JZDogaXRlbUlkIH0sXG4gICAgICB7IGhlaWdodDogaGFsZlNpemUocmVmSXRlbS5iYm94LmhlaWdodCksIHdpZHRoOiByZWZJdGVtLmJib3gud2lkdGggfSxcbiAgICApO1xuICB9XG4gIHJldHVybiBhcHBDb25maWdBY3Rpb247XG59XG5cbmZ1bmN0aW9uIGdyb3VwSW50b05ld0NvbnRhaW5lcihcbiAgYXBwQ29uZmlnQWN0aW9uOiBBcHBDb25maWdBY3Rpb24sXG4gIGxheW91dElkOiBzdHJpbmcsXG4gIGl0ZW1JZDogc3RyaW5nLFxuICByZWZJdGVtSWQ6IHN0cmluZyxcbiAgc2lkZTogJ3RvcCcgfCAnYm90dG9tJyB8ICdsZWZ0JyB8ICdyaWdodCcsXG4pOiBBcHBDb25maWdBY3Rpb24ge1xuICBjb25zdCBhcHBDb25maWcgPSBhcHBDb25maWdBY3Rpb24uYXBwQ29uZmlnO1xuICBjb25zdCByZWZJdGVtID0gYXBwQ29uZmlnLmxheW91dHNbbGF5b3V0SWRdLmNvbnRlbnRbcmVmSXRlbUlkXSBhcyBHcmlkSXRlbUpzb247XG5cbiAgbGV0IG5ld0xheW91dEl0ZW0gPSBJbW11dGFibGUoe1xuICAgIGlkOiBgJHt1dGlscy5nZXRNYXhpbXVtSWQoYXBwQ29uZmlnLmxheW91dHNbbGF5b3V0SWRdKSArIDF9YCxcbiAgICBpdGVtczogc2lkZSA9PT0gJ2xlZnQnIHx8IHNpZGUgPT09ICd0b3AnID8gW2l0ZW1JZCwgcmVmSXRlbUlkXSA6IFtyZWZJdGVtSWQsIGl0ZW1JZF0sXG4gICAgZGlyZWN0aW9uOiBzaWRlID09PSAnbGVmdCcgfHwgc2lkZSA9PT0gJ3JpZ2h0JyA/IERpcmVjdGlvbi5Ib3Jpem9udGFsIDogRGlyZWN0aW9uLlZlcnRpY2FsLFxuICAgIGJib3g6IHJlZkl0ZW0uYmJveCxcbiAgfSk7XG4gIGlmIChyZWZJdGVtLnBhcmVudElkKSB7XG4gICAgbmV3TGF5b3V0SXRlbSA9IG5ld0xheW91dEl0ZW0uc2V0KCdwYXJlbnRJZCcsIHJlZkl0ZW0ucGFyZW50SWQpO1xuICAgIGNvbnN0IHBhcmVudEl0ZW0gPSBhcHBDb25maWcubGF5b3V0c1tsYXlvdXRJZF0uY29udGVudFtyZWZJdGVtLnBhcmVudElkXSBhcyBHcmlkSXRlbUpzb247XG4gICAgY29uc3QgaXRlbXNBcnJheSA9IFtdLmNvbmNhdChwYXJlbnRJdGVtLml0ZW1zKTtcbiAgICAvLyB1cGRhdGUgcGFyZW50IGl0ZW1zXG4gICAgY29uc3QgaW5kZXhPZlJlZkl0ZW0gPSBwYXJlbnRJdGVtLml0ZW1zLmluZGV4T2YocmVmSXRlbUlkKTtcbiAgICBpdGVtc0FycmF5LnNwbGljZShpbmRleE9mUmVmSXRlbSwgMSwgbmV3TGF5b3V0SXRlbS5pZCk7XG4gICAgYXBwQ29uZmlnQWN0aW9uLnVwZGF0ZUxheW91dEl0ZW0oXG4gICAgICB7IGxheW91dElkLCBsYXlvdXRJdGVtSWQ6IHJlZkl0ZW0ucGFyZW50SWQgfSxcbiAgICAgICdpdGVtcycsXG4gICAgICBpdGVtc0FycmF5LFxuICAgICk7XG4gIH1cbiAgY29uc3QgY29udGFpbmVyTGF5b3V0SW5mbyA9IGFwcENvbmZpZ0FjdGlvbi5hZGRJdGVtSW50b0xheW91dChsYXlvdXRJZCwgbmV3TGF5b3V0SXRlbSwgMCk7XG4gIC8vIHVwZGF0ZSBwYXJlbnRJZCBvZiByZWZJdGVtIGFuZCBpbnNlcnRlZCBpdGVtIHRvIHRoZSBuZXcgY29udGFpbmVyXG4gIGFwcENvbmZpZ0FjdGlvbi51cGRhdGVMYXlvdXRJdGVtKHsgbGF5b3V0SWQsIGxheW91dEl0ZW1JZDogcmVmSXRlbUlkIH0sICdwYXJlbnRJZCcsIGNvbnRhaW5lckxheW91dEluZm8ubGF5b3V0SXRlbUlkKVxuICAgIC51cGRhdGVMYXlvdXRJdGVtKHsgbGF5b3V0SWQsIGxheW91dEl0ZW1JZDogaXRlbUlkIH0sICdwYXJlbnRJZCcsIGNvbnRhaW5lckxheW91dEluZm8ubGF5b3V0SXRlbUlkKTtcblxuICAvLyB1cGRhdGUgc2l6ZSBvZiByZWZlcmVuY2UgaXRlbSBhbmQgaW5zZXJ0ZWQgaXRlbVxuICBpZiAoc2lkZSA9PT0gJ2xlZnQnIHx8IHNpZGUgPT09ICdyaWdodCcpIHtcbiAgICBhcHBDb25maWdBY3Rpb24uZWRpdExheW91dEl0ZW1CQm94KFxuICAgICAgeyBsYXlvdXRJZCwgbGF5b3V0SXRlbUlkOiByZWZJdGVtSWQgfSxcbiAgICAgIHsgaGVpZ2h0OiAnMTAwJScsIHdpZHRoOiAnNTAlJyB9LFxuICAgICkuZWRpdExheW91dEl0ZW1CQm94KFxuICAgICAgeyBsYXlvdXRJZCwgbGF5b3V0SXRlbUlkOiBpdGVtSWQgfSxcbiAgICAgIHsgaGVpZ2h0OiAnMTAwJScsIHdpZHRoOiAnNTAlJyB9LFxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgYXBwQ29uZmlnQWN0aW9uLmVkaXRMYXlvdXRJdGVtQkJveChcbiAgICAgIHsgbGF5b3V0SWQsIGxheW91dEl0ZW1JZDogcmVmSXRlbUlkIH0sXG4gICAgICB7IGhlaWdodDogJzUwJScsIHdpZHRoOiAnMTAwJScgfSxcbiAgICApLmVkaXRMYXlvdXRJdGVtQkJveChcbiAgICAgIHsgbGF5b3V0SWQsIGxheW91dEl0ZW1JZDogaXRlbUlkIH0sXG4gICAgICB7IGhlaWdodDogJzUwJScsIHdpZHRoOiAnMTAwJScgfSxcbiAgICApO1xuICB9XG4gIHJldHVybiBhcHBDb25maWdBY3Rpb247XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVHcmlkSXRlbVNpemUoXG4gIGR4OiBudW1iZXIsXG4gIGR5OiBudW1iZXIsXG4gIGNvbnRhaW5lclJlY3Q6IENsaWVudFJlY3QsXG4gIGxheW91dElkOiBzdHJpbmcsXG4gIHByZXZJdGVtSWQ6IHN0cmluZyxcbiAgbmV4dEl0ZW1JZDogc3RyaW5nLFxuICBkaXJlY3Rpb246IERpcmVjdGlvbixcbikge1xuICBjb25zdCBhcHBDb25maWdBY3Rpb24gPSBnZXRBcHBDb25maWdBY3Rpb24oKTtcbiAgY29uc3QgbGF5b3V0ID0gYXBwQ29uZmlnQWN0aW9uLmFwcENvbmZpZy5sYXlvdXRzW2xheW91dElkXTtcbiAgY29uc3QgcHJldkl0ZW0gPSBsYXlvdXQuY29udGVudFtwcmV2SXRlbUlkXTtcbiAgY29uc3QgbmV4dEl0ZW0gPSBsYXlvdXQuY29udGVudFtuZXh0SXRlbUlkXTtcblxuICBpZiAoZGlyZWN0aW9uID09PSBEaXJlY3Rpb24uSG9yaXpvbnRhbCkge1xuICAgIGNvbnN0IHByZXZXaWR0aCA9IHVwZGF0ZVNpemUocHJldkl0ZW0uYmJveC53aWR0aCwgZHgsIGNvbnRhaW5lclJlY3Qud2lkdGgpO1xuICAgIGNvbnN0IG5leHRXaWR0aCA9IHVwZGF0ZVNpemUobmV4dEl0ZW0uYmJveC53aWR0aCwgLWR4LCBjb250YWluZXJSZWN0LndpZHRoKTtcbiAgICBhcHBDb25maWdBY3Rpb24uZWRpdExheW91dEl0ZW1CQm94KFxuICAgICAgeyBsYXlvdXRJZCwgbGF5b3V0SXRlbUlkOiBwcmV2SXRlbUlkIH0sXG4gICAgICB7IHdpZHRoOiBwcmV2V2lkdGgsIGhlaWdodDogcHJldkl0ZW0uYmJveC5oZWlnaHQgfVxuICAgICkuZWRpdExheW91dEl0ZW1CQm94KFxuICAgICAgeyBsYXlvdXRJZCwgbGF5b3V0SXRlbUlkOiBuZXh0SXRlbUlkIH0sXG4gICAgICB7IHdpZHRoOiBuZXh0V2lkdGgsIGhlaWdodDogbmV4dEl0ZW0uYmJveC5oZWlnaHQgfVxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgcHJldkhlaWdodCA9IHVwZGF0ZVNpemUocHJldkl0ZW0uYmJveC5oZWlnaHQsIGR5LCBjb250YWluZXJSZWN0LmhlaWdodCk7XG4gICAgY29uc3QgbmV4dEhlaWdodCA9IHVwZGF0ZVNpemUobmV4dEl0ZW0uYmJveC5oZWlnaHQsIC1keSwgY29udGFpbmVyUmVjdC5oZWlnaHQpO1xuICAgIGFwcENvbmZpZ0FjdGlvbi5lZGl0TGF5b3V0SXRlbUJCb3goXG4gICAgICB7IGxheW91dElkLCBsYXlvdXRJdGVtSWQ6IHByZXZJdGVtSWQgfSxcbiAgICAgIHsgd2lkdGg6IHByZXZJdGVtLmJib3gud2lkdGgsIGhlaWdodDogcHJldkhlaWdodCB9LFxuICAgICkuZWRpdExheW91dEl0ZW1CQm94KFxuICAgICAgeyBsYXlvdXRJZCwgbGF5b3V0SXRlbUlkOiBuZXh0SXRlbUlkIH0sXG4gICAgICB7IHdpZHRoOiBuZXh0SXRlbS5iYm94LndpZHRoLCBoZWlnaHQ6IG5leHRIZWlnaHQgfSxcbiAgICApO1xuICB9XG4gIGFwcENvbmZpZ0FjdGlvbi5leGVjKCk7XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZVNpemUob3JpZ2luVmFsdWU6IHN0cmluZywgZGVsdGE6IG51bWJlciwgY29udGFpbmVyU2l6ZTogbnVtYmVyKTogc3RyaW5nIHtcbiAgaWYgKHV0aWxzLmlzUGVyY2VudGFnZShvcmlnaW5WYWx1ZSkpIHtcbiAgICByZXR1cm4gYCR7KHBhcnNlRmxvYXQob3JpZ2luVmFsdWUpICsgZGVsdGEgKiAxMDAgLyBjb250YWluZXJTaXplKS50b0ZpeGVkKDEpfSVgO1xuICB9XG4gIC8vIHBpeGVsIG9ubHlcbiAgcmV0dXJuIGAke3BhcnNlRmxvYXQob3JpZ2luVmFsdWUpICsgZGVsdGF9cHhgO1xufVxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBWUE7QUFDQTtBQUNBO0FBRUE7QUFLQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFPQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUFBO0FBQ0E7QUFPQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBT0E7QUFBQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBT0E7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFPQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQUE7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUFBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFFQTtBQU9BO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQU9BO0FBQUE7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUVBO0FBU0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./jimu-layouts/lib/grid-layout/builder/utils.ts\n");

/***/ }),

/***/ "./jimu-layouts/lib/grid-layout/types.ts":
/*!***********************************************!*\
  !*** ./jimu-layouts/lib/grid-layout/types.ts ***!
  \***********************************************/
/*! exports provided: Direction, DEFAULT_GRID_SETTING, GridContext */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Direction\", function() { return Direction; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DEFAULT_GRID_SETTING\", function() { return DEFAULT_GRID_SETTING; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GridContext\", function() { return GridContext; });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jimu_core__WEBPACK_IMPORTED_MODULE_0__);\n\nvar Direction;\n(function (Direction) {\n    Direction[\"Horizontal\"] = \"H\";\n    Direction[\"Vertical\"] = \"V\";\n})(Direction || (Direction = {}));\nvar DEFAULT_GRID_SETTING = {\n    showSplitter: true,\n    splitterSize: 5,\n    splitterColor: '#000',\n};\nvar GridContext = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].createContext(DEFAULT_GRID_SETTING);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWxheW91dHMvbGliL2dyaWQtbGF5b3V0L3R5cGVzLnRzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vamltdS1sYXlvdXRzL2xpYi9ncmlkLWxheW91dC90eXBlcy50cz8yZmZlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJlYWN0LCBMYXlvdXRJdGVtSnNvbiB9IGZyb20gJ2ppbXUtY29yZSc7XG5cbmV4cG9ydCAgZW51bSBEaXJlY3Rpb24ge1xuICBIb3Jpem9udGFsID0gJ0gnLFxuICBWZXJ0aWNhbCA9ICdWJyxcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDb250YWluZXJQcm9wcyB7XG4gIGxheW91dElkOiBzdHJpbmc7XG4gIGxheW91dEl0ZW1JZDogc3RyaW5nO1xuICBzcGxpdHRlclNpemU6IG51bWJlcjtcbiAgc3BsaXR0ZXJDb2xvcjogc3RyaW5nO1xufVxuXG5leHBvcnQgdHlwZSBHcmlkSXRlbUpzb24gPSBMYXlvdXRJdGVtSnNvbiAmIHtcbiAgcGFyZW50SWQ/OiBzdHJpbmc7XG4gIGRpcmVjdGlvbj86IERpcmVjdGlvbjtcbiAgaXRlbXM/OiBzdHJpbmdbXTtcbn07XG5cbmV4cG9ydCBpbnRlcmZhY2UgR3JpZENvbnRleHRQcm9wcyB7XG4gIHNob3dTcGxpdHRlcjogYm9vbGVhbjtcbiAgc3BsaXR0ZXJTaXplOiBudW1iZXI7XG4gIHNwbGl0dGVyQ29sb3I6IHN0cmluZztcbn1cblxuZXhwb3J0IGNvbnN0IERFRkFVTFRfR1JJRF9TRVRUSU5HOiBHcmlkQ29udGV4dFByb3BzID0ge1xuICBzaG93U3BsaXR0ZXI6IHRydWUsXG4gIHNwbGl0dGVyU2l6ZTogNSxcbiAgc3BsaXR0ZXJDb2xvcjogJyMwMDAnLFxufTtcblxuZXhwb3J0IGNvbnN0IEdyaWRDb250ZXh0ID0gUmVhY3QuY3JlYXRlQ29udGV4dDxHcmlkQ29udGV4dFByb3BzPihERUZBVUxUX0dSSURfU0VUVElORyk7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQXFCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./jimu-layouts/lib/grid-layout/types.ts\n");

/***/ }),

/***/ "./jimu-layouts/lib/runtime/section-renderer-base.tsx":
/*!************************************************************!*\
  !*** ./jimu-layouts/lib/runtime/section-renderer-base.tsx ***!
  \************************************************************/
/*! exports provided: SectionRendererBase */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SectionRendererBase\", function() { return SectionRendererBase; });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jimu_core__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ \"jimu-ui\");\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jimu_ui__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _builder_page_context__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../builder/page-context */ \"./jimu-layouts/lib/builder/page-context.tsx\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __makeTemplateObject = (undefined && undefined.__makeTemplateObject) || function (cooked, raw) {\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n    return cooked;\n};\nvar __assign = (undefined && undefined.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (undefined && undefined.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\n/** @jsx jsx */\n\n\n\nvar activeContext = {\n    isInView: true,\n    isInCurrentView: true,\n};\nvar inactiveContext = {\n    isInView: true,\n    isInCurrentView: false,\n};\nvar SectionRendererBase = /** @class */ (function (_super) {\n    __extends(SectionRendererBase, _super);\n    function SectionRendererBase() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    SectionRendererBase.prototype.calRenderInfo = function () {\n        var _a;\n        var _b = this.props, views = _b.views, navInfo = _b.navInfo, activeView = _b.activeView;\n        var visibleViews = views;\n        var currentIndex;\n        var previousIndex;\n        var progress;\n        if (navInfo) {\n            visibleViews = (_a = navInfo.visibleViews) !== null && _a !== void 0 ? _a : views;\n            if (navInfo.useProgress) {\n                progress = navInfo.progress;\n                var r = Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"getIndexFromProgress\"])(progress, visibleViews.length);\n                currentIndex = r.currentIndex;\n            }\n            else {\n                currentIndex = Math.max(0, visibleViews.indexOf(navInfo.currentViewId));\n                if (navInfo.previousViewId) {\n                    previousIndex = Math.max(0, visibleViews.indexOf(navInfo.previousViewId));\n                }\n                else {\n                    previousIndex = Math.max(0, currentIndex - 1);\n                }\n            }\n        }\n        else {\n            // TODO remove nav by activeView, use navInfo only\n            currentIndex = Math.max(0, visibleViews.indexOf(activeView.id));\n            previousIndex = currentIndex;\n        }\n        var viewTransition = this.getTransitionOfView(visibleViews[currentIndex]);\n        return { currentIndex: currentIndex, previousIndex: previousIndex, progress: progress, viewTransition: viewTransition };\n    };\n    SectionRendererBase.prototype.renderSectionContent = function () {\n        var _this = this;\n        var _a = this.props, views = _a.views, navInfo = _a.navInfo, animationPreview = _a.animationPreview, playMode = _a.playMode;\n        var _b = this.calRenderInfo(), currentIndex = _b.currentIndex, previousIndex = _b.previousIndex, progress = _b.progress, viewTransition = _b.viewTransition;\n        var viewContents = views.map(function (viewId, index) { return _this.renderView(viewId, index === currentIndex); });\n        var isPreviewOneByOne = animationPreview && playMode === jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"AnimationPlayMode\"].OneByOne;\n        return (Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"AnimationContext\"].Consumer, null, function (context) {\n            var _a, _b;\n            var isDesignMode = context.isDesignMode, setting = context.setting, playId = context.playId, onAnimationEnd = context.onAnimationEnd;\n            return (Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"AnimationContext\"].Provider, { value: {\n                    trigger: jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"AnimationTriggerType\"].Manual,\n                    setting: !isDesignMode || isPreviewOneByOne || ((navInfo === null || navInfo === void 0 ? void 0 : navInfo.playId) && (navInfo === null || navInfo === void 0 ? void 0 : navInfo.withOneByOne)) ? setting : null,\n                    playId: !isDesignMode || isPreviewOneByOne ? playId : null,\n                    inheritedOneByOneSetting: null,\n                    isDesignMode: isDesignMode,\n                    depth: context.depth + 1,\n                    onAnimationEnd: onAnimationEnd,\n                } },\n                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].Fragment, null,\n                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"section-content\" },\n                        Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"TransitionContainer\"], { useProgress: (_a = navInfo === null || navInfo === void 0 ? void 0 : navInfo.useProgress) !== null && _a !== void 0 ? _a : false, useStep: (_b = navInfo === null || navInfo === void 0 ? void 0 : navInfo.useStep) !== null && _b !== void 0 ? _b : false, previousIndex: previousIndex, currentIndex: currentIndex, progress: progress, transitionType: viewTransition === null || viewTransition === void 0 ? void 0 : viewTransition.type, direction: viewTransition === null || viewTransition === void 0 ? void 0 : viewTransition.direction, playId: navInfo === null || navInfo === void 0 ? void 0 : navInfo.playId, withOneByOne: navInfo === null || navInfo === void 0 ? void 0 : navInfo.withOneByOne }, viewContents)),\n                    _this.props.children)));\n        }));\n    };\n    SectionRendererBase.prototype.getSizemodeLayoutOfView = function (viewId) {\n        var _a, _b;\n        var appConfig = Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"getAppStore\"])().getState().appConfig;\n        return (_b = (_a = appConfig === null || appConfig === void 0 ? void 0 : appConfig.views) === null || _a === void 0 ? void 0 : _a[viewId]) === null || _b === void 0 ? void 0 : _b.layout;\n    };\n    SectionRendererBase.prototype.getTransitionOfView = function (viewId) {\n        var _a, _b, _c;\n        var appConfig = Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"getAppStore\"])().getState().appConfig;\n        return (_c = (_b = (_a = appConfig === null || appConfig === void 0 ? void 0 : appConfig.views) === null || _a === void 0 ? void 0 : _a[viewId]) === null || _b === void 0 ? void 0 : _b.transition) !== null && _c !== void 0 ? _c : this.props.transition;\n    };\n    SectionRendererBase.prototype.renderView = function (viewId, isActive) {\n        var layout = this.getSizemodeLayoutOfView(viewId);\n        var LayoutEntry = this.props.layoutEntryComponent;\n        var contextValue = isActive ? activeContext : inactiveContext;\n        return (Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"w-100 h-100 d-flex section-view\", style: this.getBackgroundStyle(viewId), key: viewId },\n            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"ErrorBoundary\"], null,\n                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_builder_page_context__WEBPACK_IMPORTED_MODULE_2__[\"ViewVisibilityContext\"].Provider, { value: contextValue },\n                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(LayoutEntry, { layouts: layout, isInSection: true, className: \"w-100\" })))));\n    };\n    SectionRendererBase.prototype.getBackgroundStyle = function (viewId) {\n        var _a;\n        var appConfig = Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"getAppStore\"])().getState().appConfig;\n        var view = (_a = appConfig === null || appConfig === void 0 ? void 0 : appConfig.views) === null || _a === void 0 ? void 0 : _a[viewId];\n        var backgroundImage = {};\n        if (view.backgroundIMage) {\n            backgroundImage = typeof view.backgroundIMage == 'string' ? {} : view.backgroundIMage;\n        }\n        var fillType = view.backgroundPosition ? jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"FillType\"][view.backgroundPosition.toUpperCase()] : jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"FillType\"].FILL;\n        var backgroundConfig = {\n            color: !view.backgroundIMage && !view.backgroundColor ? 'transparent' : view.backgroundColor,\n            fillType: fillType,\n            image: backgroundImage,\n        };\n        return jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"styleUtils\"].toBackgroundStyle(backgroundConfig);\n    };\n    SectionRendererBase.prototype.getStyle = function () {\n        return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n      overflow: auto;\\n      position: relative;\\n\\n      .section-content {\\n        position: relative;\\n        overflow: hidden;\\n        width: 100%;\\n        height: 100%;\\n        z-index: 0;\\n      }\\n\\n      .section-view {\\n        position: absolute;\\n      }\\n\\n      &.aspect-ratio-wrapper {\\n        padding-top: \", \"%;\\n      }\\n      &.aspect-ratio-wrapper > .section-content {\\n        position: absolute;\\n        top: 0;\\n        left: 0;\\n        bottom: 0;\\n        right: 0;\\n      }\\n\\n      .hidden {\\n        display: none !important;\\n      }\\n    \"], [\"\\n      overflow: auto;\\n      position: relative;\\n\\n      .section-content {\\n        position: relative;\\n        overflow: hidden;\\n        width: 100%;\\n        height: 100%;\\n        z-index: 0;\\n      }\\n\\n      .section-view {\\n        position: absolute;\\n      }\\n\\n      &.aspect-ratio-wrapper {\\n        padding-top: \", \"%;\\n      }\\n      &.aspect-ratio-wrapper > .section-content {\\n        position: absolute;\\n        top: 0;\\n        left: 0;\\n        bottom: 0;\\n        right: 0;\\n      }\\n\\n      .hidden {\\n        display: none !important;\\n      }\\n    \"])), (this.props.aspectRatio || 0) * 100);\n    };\n    SectionRendererBase.prototype.render = function () {\n        var _a = this.props, sectionId = _a.sectionId, className = _a.className, sectionStyle = _a.sectionStyle, forceAspectRatio = _a.forceAspectRatio, aspectRatio = _a.aspectRatio, rotate = _a.rotate;\n        var _b = jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"styleUtils\"].toCSSStyle(sectionStyle), transform = _b.transform, otherStyle = __rest(_b, [\"transform\"]);\n        var rotateStyle = rotate > 0 || rotate < 0 ? \"rotateZ(\" + rotate + \"deg)\" : '';\n        var mergedTransform = rotateStyle;\n        if (transform) {\n            mergedTransform = transform + \" \" + rotateStyle;\n        }\n        return (Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"classNames\"])('section-layout w-100', className, {\n                'aspect-ratio-wrapper': forceAspectRatio && aspectRatio > 0,\n            }), css: this.getStyle(), \"data-sectionid\": sectionId, style: __assign(__assign({}, otherStyle), { transform: mergedTransform }) }, this.renderSectionContent()));\n    };\n    return SectionRendererBase;\n}(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].PureComponent));\n\nvar templateObject_1;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWxheW91dHMvbGliL3J1bnRpbWUvc2VjdGlvbi1yZW5kZXJlci1iYXNlLnRzeC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2ppbXUtbGF5b3V0cy9saWIvcnVudGltZS9zZWN0aW9uLXJlbmRlcmVyLWJhc2UudHN4PzRjZGUiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqIEBqc3gganN4ICovXG5pbXBvcnQge1xuICBSZWFjdCxcbiAganN4LFxuICBjc3MsXG4gIGNsYXNzTmFtZXMsXG4gIEVycm9yQm91bmRhcnksXG4gIElNU2l6ZU1vZGVMYXlvdXRKc29uLFxuICBnZXRBcHBTdG9yZSxcbiAgQW5pbWF0aW9uQ29udGV4dCxcbiAgQW5pbWF0aW9uVHJpZ2dlclR5cGUsXG4gIEFuaW1hdGlvblBsYXlNb2RlLFxuICBBbmltYXRpb25Db250ZXh0UHJvcHMsXG4gIFRyYW5zaXRpb25Db250YWluZXIsXG4gIFRyYW5zaXRpb25UeXBlLFxuICBUcmFuc2l0aW9uRGlyZWN0aW9uLFxuICBnZXRJbmRleEZyb21Qcm9ncmVzcyxcbn0gZnJvbSAnamltdS1jb3JlJztcbmltcG9ydCB7IExheW91dEl0ZW1Qcm9wcywgU2VjdGlvblByb3BzLCBMYXlvdXRQcm9wcywgU3RhdGVUb0xheW91dEl0ZW1Qcm9wcyB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IHN0eWxlVXRpbHMsIEJhY2tncm91bmRTdHlsZSwgRmlsbFR5cGUsIEltYWdlUGFyYW0gfSBmcm9tICdqaW11LXVpJztcbmltcG9ydCB7IFZpZXdWaXNpYmlsaXR5Q29udGV4dCwgVmlld1Zpc2liaWxpdHlDb250ZXh0UHJvcHMgfSBmcm9tICcuLi9idWlsZGVyL3BhZ2UtY29udGV4dCc7XG5cbmludGVyZmFjZSBPd25Qcm9wcyB7XG4gIGxheW91dEVudHJ5Q29tcG9uZW50OiBSZWFjdC5Db21wb25lbnRDbGFzczxMYXlvdXRQcm9wcz47XG59XG5cbmludGVyZmFjZSBSZW5kZXJJbmZvIHtcbiAgY3VycmVudEluZGV4OiBudW1iZXI7XG4gIHByZXZpb3VzSW5kZXg6IG51bWJlcjtcbiAgcHJvZ3Jlc3M6IG51bWJlcjtcbiAgdmlld1RyYW5zaXRpb246IHsgdHlwZTogVHJhbnNpdGlvblR5cGU7IGRpcmVjdGlvbjogVHJhbnNpdGlvbkRpcmVjdGlvbiB9O1xufVxuXG5jb25zdCBhY3RpdmVDb250ZXh0OiBWaWV3VmlzaWJpbGl0eUNvbnRleHRQcm9wcyA9IHtcbiAgaXNJblZpZXc6IHRydWUsXG4gIGlzSW5DdXJyZW50VmlldzogdHJ1ZSxcbn07XG5cbmNvbnN0IGluYWN0aXZlQ29udGV4dDogVmlld1Zpc2liaWxpdHlDb250ZXh0UHJvcHMgPSB7XG4gIGlzSW5WaWV3OiB0cnVlLFxuICBpc0luQ3VycmVudFZpZXc6IGZhbHNlLFxufTtcblxuZXhwb3J0IGNsYXNzIFNlY3Rpb25SZW5kZXJlckJhc2UgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50PFxuICBMYXlvdXRJdGVtUHJvcHMgJiBTdGF0ZVRvTGF5b3V0SXRlbVByb3BzICYgU2VjdGlvblByb3BzICYgT3duUHJvcHNcbj4ge1xuICBjYWxSZW5kZXJJbmZvKCk6IFJlbmRlckluZm8ge1xuICAgIGNvbnN0IHsgdmlld3MsIG5hdkluZm8sIGFjdGl2ZVZpZXcgfSA9IHRoaXMucHJvcHM7XG4gICAgbGV0IHZpc2libGVWaWV3cyA9IHZpZXdzO1xuICAgIGxldCBjdXJyZW50SW5kZXg7XG4gICAgbGV0IHByZXZpb3VzSW5kZXg7XG4gICAgbGV0IHByb2dyZXNzO1xuXG4gICAgaWYgKG5hdkluZm8pIHtcbiAgICAgIHZpc2libGVWaWV3cyA9IG5hdkluZm8udmlzaWJsZVZpZXdzID8/IHZpZXdzO1xuICAgICAgaWYgKG5hdkluZm8udXNlUHJvZ3Jlc3MpIHtcbiAgICAgICAgcHJvZ3Jlc3MgPSBuYXZJbmZvLnByb2dyZXNzO1xuICAgICAgICBjb25zdCByID0gZ2V0SW5kZXhGcm9tUHJvZ3Jlc3MocHJvZ3Jlc3MsIHZpc2libGVWaWV3cy5sZW5ndGgpO1xuICAgICAgICBjdXJyZW50SW5kZXggPSByLmN1cnJlbnRJbmRleDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGN1cnJlbnRJbmRleCA9IE1hdGgubWF4KDAsIHZpc2libGVWaWV3cy5pbmRleE9mKG5hdkluZm8uY3VycmVudFZpZXdJZCkpO1xuICAgICAgICBpZiAobmF2SW5mby5wcmV2aW91c1ZpZXdJZCkge1xuICAgICAgICAgIHByZXZpb3VzSW5kZXggPSBNYXRoLm1heCgwLCB2aXNpYmxlVmlld3MuaW5kZXhPZihuYXZJbmZvLnByZXZpb3VzVmlld0lkKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcHJldmlvdXNJbmRleCA9IE1hdGgubWF4KDAsIGN1cnJlbnRJbmRleCAtIDEpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFRPRE8gcmVtb3ZlIG5hdiBieSBhY3RpdmVWaWV3LCB1c2UgbmF2SW5mbyBvbmx5XG4gICAgICBjdXJyZW50SW5kZXggPSBNYXRoLm1heCgwLCB2aXNpYmxlVmlld3MuaW5kZXhPZihhY3RpdmVWaWV3LmlkKSk7XG4gICAgICBwcmV2aW91c0luZGV4ID0gY3VycmVudEluZGV4O1xuICAgIH1cbiAgICBjb25zdCB2aWV3VHJhbnNpdGlvbiA9IHRoaXMuZ2V0VHJhbnNpdGlvbk9mVmlldyh2aXNpYmxlVmlld3NbY3VycmVudEluZGV4XSk7XG4gICAgcmV0dXJuIHsgY3VycmVudEluZGV4LCBwcmV2aW91c0luZGV4LCBwcm9ncmVzcywgdmlld1RyYW5zaXRpb246IHZpZXdUcmFuc2l0aW9uIGFzIGFueSB9O1xuICB9XG5cbiAgcmVuZGVyU2VjdGlvbkNvbnRlbnQoKSB7XG4gICAgY29uc3QgeyB2aWV3cywgbmF2SW5mbywgYW5pbWF0aW9uUHJldmlldywgcGxheU1vZGUgfSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3QgeyBjdXJyZW50SW5kZXgsIHByZXZpb3VzSW5kZXgsIHByb2dyZXNzLCB2aWV3VHJhbnNpdGlvbiB9ID0gdGhpcy5jYWxSZW5kZXJJbmZvKCk7XG4gICAgY29uc3Qgdmlld0NvbnRlbnRzID0gdmlld3MubWFwKCh2aWV3SWQsIGluZGV4KSA9PiB0aGlzLnJlbmRlclZpZXcodmlld0lkLCBpbmRleCA9PT0gY3VycmVudEluZGV4KSk7XG4gICAgY29uc3QgaXNQcmV2aWV3T25lQnlPbmUgPSBhbmltYXRpb25QcmV2aWV3ICYmIHBsYXlNb2RlID09PSBBbmltYXRpb25QbGF5TW9kZS5PbmVCeU9uZTtcblxuICAgIHJldHVybiAoXG4gICAgICA8QW5pbWF0aW9uQ29udGV4dC5Db25zdW1lcj5cbiAgICAgICAgeyhjb250ZXh0OiBBbmltYXRpb25Db250ZXh0UHJvcHMpID0+IHtcbiAgICAgICAgICBjb25zdCB7IGlzRGVzaWduTW9kZSwgc2V0dGluZywgcGxheUlkLCBvbkFuaW1hdGlvbkVuZCB9ID0gY29udGV4dDtcblxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8QW5pbWF0aW9uQ29udGV4dC5Qcm92aWRlclxuICAgICAgICAgICAgICB2YWx1ZT17e1xuICAgICAgICAgICAgICAgIHRyaWdnZXI6IEFuaW1hdGlvblRyaWdnZXJUeXBlLk1hbnVhbCxcbiAgICAgICAgICAgICAgICBzZXR0aW5nOlxuICAgICAgICAgICAgICAgICAgIWlzRGVzaWduTW9kZSB8fCBpc1ByZXZpZXdPbmVCeU9uZSB8fCAobmF2SW5mbz8ucGxheUlkICYmIG5hdkluZm8/LndpdGhPbmVCeU9uZSkgPyBzZXR0aW5nIDogbnVsbCxcbiAgICAgICAgICAgICAgICBwbGF5SWQ6ICFpc0Rlc2lnbk1vZGUgfHwgaXNQcmV2aWV3T25lQnlPbmUgPyBwbGF5SWQgOiBudWxsLFxuICAgICAgICAgICAgICAgIGluaGVyaXRlZE9uZUJ5T25lU2V0dGluZzogbnVsbCxcbiAgICAgICAgICAgICAgICBpc0Rlc2lnbk1vZGUsXG4gICAgICAgICAgICAgICAgZGVwdGg6IGNvbnRleHQuZGVwdGggKyAxLFxuICAgICAgICAgICAgICAgIG9uQW5pbWF0aW9uRW5kLFxuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8UmVhY3QuRnJhZ21lbnQ+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzZWN0aW9uLWNvbnRlbnRcIj5cbiAgICAgICAgICAgICAgICAgIDxUcmFuc2l0aW9uQ29udGFpbmVyXG4gICAgICAgICAgICAgICAgICAgIHVzZVByb2dyZXNzPXtuYXZJbmZvPy51c2VQcm9ncmVzcyA/PyBmYWxzZX1cbiAgICAgICAgICAgICAgICAgICAgdXNlU3RlcD17bmF2SW5mbz8udXNlU3RlcCA/PyBmYWxzZX1cbiAgICAgICAgICAgICAgICAgICAgcHJldmlvdXNJbmRleD17cHJldmlvdXNJbmRleH1cbiAgICAgICAgICAgICAgICAgICAgY3VycmVudEluZGV4PXtjdXJyZW50SW5kZXh9XG4gICAgICAgICAgICAgICAgICAgIHByb2dyZXNzPXtwcm9ncmVzc31cbiAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvblR5cGU9e3ZpZXdUcmFuc2l0aW9uPy50eXBlIGFzIFRyYW5zaXRpb25UeXBlfVxuICAgICAgICAgICAgICAgICAgICBkaXJlY3Rpb249e3ZpZXdUcmFuc2l0aW9uPy5kaXJlY3Rpb24gYXMgVHJhbnNpdGlvbkRpcmVjdGlvbn1cbiAgICAgICAgICAgICAgICAgICAgcGxheUlkPXtuYXZJbmZvPy5wbGF5SWR9XG4gICAgICAgICAgICAgICAgICAgIHdpdGhPbmVCeU9uZT17bmF2SW5mbz8ud2l0aE9uZUJ5T25lfVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICB7dmlld0NvbnRlbnRzfVxuICAgICAgICAgICAgICAgICAgPC9UcmFuc2l0aW9uQ29udGFpbmVyPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLmNoaWxkcmVufVxuICAgICAgICAgICAgICA8L1JlYWN0LkZyYWdtZW50PlxuICAgICAgICAgICAgPC9BbmltYXRpb25Db250ZXh0LlByb3ZpZGVyPlxuICAgICAgICAgICk7XG4gICAgICAgIH19XG4gICAgICA8L0FuaW1hdGlvbkNvbnRleHQuQ29uc3VtZXI+XG4gICAgKTtcbiAgfVxuXG4gIGdldFNpemVtb2RlTGF5b3V0T2ZWaWV3KHZpZXdJZDogc3RyaW5nKTogSU1TaXplTW9kZUxheW91dEpzb24ge1xuICAgIGNvbnN0IGFwcENvbmZpZyA9IGdldEFwcFN0b3JlKCkuZ2V0U3RhdGUoKS5hcHBDb25maWc7XG4gICAgcmV0dXJuIGFwcENvbmZpZz8udmlld3M/Llt2aWV3SWRdPy5sYXlvdXQ7XG4gIH1cblxuICBnZXRUcmFuc2l0aW9uT2ZWaWV3KHZpZXdJZDogc3RyaW5nKSB7XG4gICAgY29uc3QgYXBwQ29uZmlnID0gZ2V0QXBwU3RvcmUoKS5nZXRTdGF0ZSgpLmFwcENvbmZpZztcbiAgICByZXR1cm4gYXBwQ29uZmlnPy52aWV3cz8uW3ZpZXdJZF0/LnRyYW5zaXRpb24gPz8gdGhpcy5wcm9wcy50cmFuc2l0aW9uO1xuICB9XG5cbiAgcmVuZGVyVmlldyh2aWV3SWQ6IHN0cmluZywgaXNBY3RpdmU6IGJvb2xlYW4pIHtcbiAgICBjb25zdCBsYXlvdXQgPSB0aGlzLmdldFNpemVtb2RlTGF5b3V0T2ZWaWV3KHZpZXdJZCk7XG4gICAgY29uc3QgTGF5b3V0RW50cnkgPSB0aGlzLnByb3BzLmxheW91dEVudHJ5Q29tcG9uZW50O1xuICAgIGNvbnN0IGNvbnRleHRWYWx1ZSA9IGlzQWN0aXZlID8gYWN0aXZlQ29udGV4dCA6IGluYWN0aXZlQ29udGV4dDtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEwMCBoLTEwMCBkLWZsZXggc2VjdGlvbi12aWV3XCIgc3R5bGU9e3RoaXMuZ2V0QmFja2dyb3VuZFN0eWxlKHZpZXdJZCl9IGtleT17dmlld0lkfT5cbiAgICAgICAgPEVycm9yQm91bmRhcnk+XG4gICAgICAgICAgPFZpZXdWaXNpYmlsaXR5Q29udGV4dC5Qcm92aWRlciB2YWx1ZT17Y29udGV4dFZhbHVlfT5cbiAgICAgICAgICAgIDxMYXlvdXRFbnRyeSBsYXlvdXRzPXtsYXlvdXR9IGlzSW5TZWN0aW9uPXt0cnVlfSBjbGFzc05hbWU9XCJ3LTEwMFwiIC8+XG4gICAgICAgICAgPC9WaWV3VmlzaWJpbGl0eUNvbnRleHQuUHJvdmlkZXI+XG4gICAgICAgIDwvRXJyb3JCb3VuZGFyeT5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICBnZXRCYWNrZ3JvdW5kU3R5bGUodmlld0lkKSB7XG4gICAgY29uc3QgYXBwQ29uZmlnID0gZ2V0QXBwU3RvcmUoKS5nZXRTdGF0ZSgpLmFwcENvbmZpZztcbiAgICBjb25zdCB2aWV3ID0gYXBwQ29uZmlnPy52aWV3cz8uW3ZpZXdJZF07XG4gICAgbGV0IGJhY2tncm91bmRJbWFnZTogSW1hZ2VQYXJhbSA9IHt9O1xuICAgIGlmICh2aWV3LmJhY2tncm91bmRJTWFnZSkge1xuICAgICAgYmFja2dyb3VuZEltYWdlID0gdHlwZW9mIHZpZXcuYmFja2dyb3VuZElNYWdlID09ICdzdHJpbmcnID8ge30gOiB2aWV3LmJhY2tncm91bmRJTWFnZTtcbiAgICB9XG4gICAgY29uc3QgZmlsbFR5cGUgPSB2aWV3LmJhY2tncm91bmRQb3NpdGlvbiA/IEZpbGxUeXBlW3ZpZXcuYmFja2dyb3VuZFBvc2l0aW9uLnRvVXBwZXJDYXNlKCldIDogRmlsbFR5cGUuRklMTDtcbiAgICBjb25zdCBiYWNrZ3JvdW5kQ29uZmlnOiBCYWNrZ3JvdW5kU3R5bGUgPSB7XG4gICAgICBjb2xvcjogIXZpZXcuYmFja2dyb3VuZElNYWdlICYmICF2aWV3LmJhY2tncm91bmRDb2xvciA/ICd0cmFuc3BhcmVudCcgOiB2aWV3LmJhY2tncm91bmRDb2xvcixcbiAgICAgIGZpbGxUeXBlOiBmaWxsVHlwZSxcbiAgICAgIGltYWdlOiBiYWNrZ3JvdW5kSW1hZ2UsXG4gICAgfTtcbiAgICByZXR1cm4gc3R5bGVVdGlscy50b0JhY2tncm91bmRTdHlsZShiYWNrZ3JvdW5kQ29uZmlnKTtcbiAgfVxuXG4gIGdldFN0eWxlKCkge1xuICAgIHJldHVybiBjc3NgXG4gICAgICBvdmVyZmxvdzogYXV0bztcbiAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcblxuICAgICAgLnNlY3Rpb24tY29udGVudCB7XG4gICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgIGhlaWdodDogMTAwJTtcbiAgICAgICAgei1pbmRleDogMDtcbiAgICAgIH1cblxuICAgICAgLnNlY3Rpb24tdmlldyB7XG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgIH1cblxuICAgICAgJi5hc3BlY3QtcmF0aW8td3JhcHBlciB7XG4gICAgICAgIHBhZGRpbmctdG9wOiAkeyh0aGlzLnByb3BzLmFzcGVjdFJhdGlvIHx8IDApICogMTAwfSU7XG4gICAgICB9XG4gICAgICAmLmFzcGVjdC1yYXRpby13cmFwcGVyID4gLnNlY3Rpb24tY29udGVudCB7XG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgdG9wOiAwO1xuICAgICAgICBsZWZ0OiAwO1xuICAgICAgICBib3R0b206IDA7XG4gICAgICAgIHJpZ2h0OiAwO1xuICAgICAgfVxuXG4gICAgICAuaGlkZGVuIHtcbiAgICAgICAgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50O1xuICAgICAgfVxuICAgIGA7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBzZWN0aW9uSWQsIGNsYXNzTmFtZSwgc2VjdGlvblN0eWxlLCBmb3JjZUFzcGVjdFJhdGlvLCBhc3BlY3RSYXRpbywgcm90YXRlIH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IHsgdHJhbnNmb3JtLCAuLi5vdGhlclN0eWxlIH0gPSBzdHlsZVV0aWxzLnRvQ1NTU3R5bGUoc2VjdGlvblN0eWxlKSBhcyBSZWFjdC5DU1NQcm9wZXJ0aWVzO1xuICAgIGNvbnN0IHJvdGF0ZVN0eWxlID0gcm90YXRlID4gMCB8fCByb3RhdGUgPCAwID8gYHJvdGF0ZVooJHtyb3RhdGV9ZGVnKWAgOiAnJztcbiAgICBsZXQgbWVyZ2VkVHJhbnNmb3JtID0gcm90YXRlU3R5bGU7XG4gICAgaWYgKHRyYW5zZm9ybSkge1xuICAgICAgbWVyZ2VkVHJhbnNmb3JtID0gYCR7dHJhbnNmb3JtfSAke3JvdGF0ZVN0eWxlfWA7XG4gICAgfVxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2XG4gICAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lcygnc2VjdGlvbi1sYXlvdXQgdy0xMDAnLCBjbGFzc05hbWUsIHtcbiAgICAgICAgICAnYXNwZWN0LXJhdGlvLXdyYXBwZXInOiBmb3JjZUFzcGVjdFJhdGlvICYmIGFzcGVjdFJhdGlvID4gMCxcbiAgICAgICAgfSl9XG4gICAgICAgIGNzcz17dGhpcy5nZXRTdHlsZSgpfVxuICAgICAgICBkYXRhLXNlY3Rpb25pZD17c2VjdGlvbklkfVxuICAgICAgICBzdHlsZT17e1xuICAgICAgICAgIC4uLm90aGVyU3R5bGUsXG4gICAgICAgICAgdHJhbnNmb3JtOiBtZXJnZWRUcmFuc2Zvcm0sXG4gICAgICAgIH19XG4gICAgICA+XG4gICAgICAgIHt0aGlzLnJlbmRlclNlY3Rpb25Db250ZW50KCl9XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBa0JBO0FBQ0E7QUFhQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBOztBQXFMQTtBQWxMQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFHQTtBQUVBO0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQWNBO0FBSUE7QUFHQTtBQUVBOztBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFLQTtBQUVBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBK0JBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQVdBO0FBQ0E7QUFBQTs7OyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./jimu-layouts/lib/runtime/section-renderer-base.tsx\n");

/***/ }),

/***/ "./jimu-layouts/lib/search/contents.ts":
/*!*********************************************!*\
  !*** ./jimu-layouts/lib/search/contents.ts ***!
  \*********************************************/
/*! exports provided: findLayoutItem, findParentSectionId, findParentViewId, getContentIdInLayoutItem, getContentsInLayout, getContentsInLayoutRecursive, getContainerLayoutItem, getLayoutItemIds, getLayoutItemsByType, getWidgetsOrSectionsInLayoutWithLayoutWidgetOnly, getWidgetIdThatUseTheLayoutId, getWidgetOrSectionContainerInfo, getWidgetsOrSectionsInPageBody, getWidgetsOrSectionsInDialog, getWidgetsOrSectionsInView, findLayoutId, getWidgetsOrSectionsInPageHeader, getWidgetsOrSectionsInPageFooter, getLayoutItemsHoldWidgetOrSection, getParentWidgetIdOfWidgetOrSection, getChildrenWidgetsOrSections, getWidgetOrSectionLayoutInfosInOneSizeMode, getBrowserSizeModeByLayoutIdAndWidgetId, getLayoutInfosInWidgetByLayoutInfo, getLayoutItemsInWidgetByLayoutInfo, getLayoutInfosInWidgetByWidgetOrSectionId, checkIsLayoutInfoInWidget, getWidgetsOrSectionsInTheSameContainer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"findLayoutItem\", function() { return findLayoutItem; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"findParentSectionId\", function() { return findParentSectionId; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"findParentViewId\", function() { return findParentViewId; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getContentIdInLayoutItem\", function() { return getContentIdInLayoutItem; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getContentsInLayout\", function() { return getContentsInLayout; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getContentsInLayoutRecursive\", function() { return getContentsInLayoutRecursive; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getContainerLayoutItem\", function() { return getContainerLayoutItem; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getLayoutItemIds\", function() { return getLayoutItemIds; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getLayoutItemsByType\", function() { return getLayoutItemsByType; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getWidgetsOrSectionsInLayoutWithLayoutWidgetOnly\", function() { return getWidgetsOrSectionsInLayoutWithLayoutWidgetOnly; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getWidgetIdThatUseTheLayoutId\", function() { return getWidgetIdThatUseTheLayoutId; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getWidgetOrSectionContainerInfo\", function() { return getWidgetOrSectionContainerInfo; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getWidgetsOrSectionsInPageBody\", function() { return getWidgetsOrSectionsInPageBody; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getWidgetsOrSectionsInDialog\", function() { return getWidgetsOrSectionsInDialog; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getWidgetsOrSectionsInView\", function() { return getWidgetsOrSectionsInView; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"findLayoutId\", function() { return findLayoutId; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getWidgetsOrSectionsInPageHeader\", function() { return getWidgetsOrSectionsInPageHeader; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getWidgetsOrSectionsInPageFooter\", function() { return getWidgetsOrSectionsInPageFooter; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getLayoutItemsHoldWidgetOrSection\", function() { return getLayoutItemsHoldWidgetOrSection; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getParentWidgetIdOfWidgetOrSection\", function() { return getParentWidgetIdOfWidgetOrSection; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getChildrenWidgetsOrSections\", function() { return getChildrenWidgetsOrSections; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getWidgetOrSectionLayoutInfosInOneSizeMode\", function() { return getWidgetOrSectionLayoutInfosInOneSizeMode; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getBrowserSizeModeByLayoutIdAndWidgetId\", function() { return getBrowserSizeModeByLayoutIdAndWidgetId; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getLayoutInfosInWidgetByLayoutInfo\", function() { return getLayoutInfosInWidgetByLayoutInfo; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getLayoutItemsInWidgetByLayoutInfo\", function() { return getLayoutItemsInWidgetByLayoutInfo; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getLayoutInfosInWidgetByWidgetOrSectionId\", function() { return getLayoutInfosInWidgetByWidgetOrSectionId; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"checkIsLayoutInfoInWidget\", function() { return checkIsLayoutInfoInWidget; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getWidgetsOrSectionsInTheSameContainer\", function() { return getWidgetsOrSectionsInTheSameContainer; });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jimu_core__WEBPACK_IMPORTED_MODULE_0__);\n\nfunction findLayoutItem(appConfig, layoutInfo) {\n    var _a, _b, _c;\n    if (!layoutInfo) {\n        return null;\n    }\n    var layoutId = layoutInfo.layoutId, layoutItemId = layoutInfo.layoutItemId;\n    return (_c = (_b = (_a = appConfig.layouts) === null || _a === void 0 ? void 0 : _a[layoutId]) === null || _b === void 0 ? void 0 : _b.content) === null || _c === void 0 ? void 0 : _c[layoutItemId];\n}\n/**\n * Find the sectionId that contains the specified layoutId. Return null if no such section.\n * @param viewId\n */\nfunction findParentSectionId(appConfig, viewId) {\n    if (appConfig.sections) {\n        for (var sectionId in appConfig.sections) {\n            var section = appConfig.sections[sectionId];\n            if (section.views.indexOf(viewId) >= 0) {\n                return sectionId;\n            }\n        }\n    }\n    return null;\n}\n/**\n * Find the viewId that contains the specified layoutId. Return null if no such view.\n * @param layoutId\n */\nfunction findParentViewId(appConfig, layoutId) {\n    if (appConfig.views) {\n        for (var viewId in appConfig.views) {\n            var view = appConfig.views[viewId];\n            for (var sizemode in view.layout) {\n                if (view.layout[sizemode] == layoutId) {\n                    return viewId;\n                }\n            }\n        }\n    }\n    return null;\n}\nfunction getContentIdInLayoutItem(item) {\n    switch (item.type) {\n        case jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"LayoutItemType\"].Widget:\n            return typeof (item.widgetId) === 'string' ? item.widgetId : null;\n        case jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"LayoutItemType\"].Section:\n            return typeof (item.sectionId) === 'string' ? item.sectionId : null;\n        case jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"LayoutItemType\"].ScreenGroup:\n            return typeof (item.screenGroupId) === 'string' ? item.screenGroupId : null;\n        default:\n            return null;\n    }\n}\n/**\n * return the widget/section ids in the layout. Do not consider the embedded layouts\n * @param layoutJson\n */\nfunction getContentsInLayout(layoutJson, type, withPending) {\n    if (withPending === void 0) { withPending = false; }\n    if (!(layoutJson === null || layoutJson === void 0 ? void 0 : layoutJson.content)) {\n        return [];\n    }\n    return Object.keys(layoutJson.content)\n        .filter(function (itemId) {\n        return layoutJson.content[itemId].type === type &&\n            !!getContentIdInLayoutItem(layoutJson.content[itemId]) &&\n            (withPending || !layoutJson.content[itemId].isPending);\n    })\n        .map(function (itemId) {\n        return getContentIdInLayoutItem(layoutJson.content[itemId]);\n    });\n}\n/**\n * Return the widget/section ids in a layout, consider the layout widget, the normal widget that has embed layout, and views\n * @param appConfig\n * @param layoutId\n * @param type\n */\nfunction getContentsInLayoutRecursive(appConfig, layoutId, type, sizeMode, withPending) {\n    if (withPending === void 0) { withPending = false; }\n    var ret = [];\n    var widgetIds = getContentsInLayout(appConfig.layouts[layoutId], jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"LayoutItemType\"].Widget, withPending);\n    var sectionIds = getContentsInLayout(appConfig.layouts[layoutId], jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"LayoutItemType\"].Section, withPending);\n    var screenGroupIds = getContentsInLayout(appConfig.layouts[layoutId], jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"LayoutItemType\"].ScreenGroup, withPending);\n    if (type === jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"LayoutItemType\"].Widget) {\n        ret = ret.concat(widgetIds);\n    }\n    else if (type === jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"LayoutItemType\"].Section) {\n        ret = ret.concat(sectionIds);\n    }\n    else if (type === jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"LayoutItemType\"].ScreenGroup) {\n        ret = ret.concat(screenGroupIds);\n    }\n    var hasLayoutWidgetIds = widgetIds.filter(function (widgetId) {\n        var _a, _b, _c, _d, _e;\n        return ((_b = (_a = appConfig.widgets[widgetId]) === null || _a === void 0 ? void 0 : _a.manifest) === null || _b === void 0 ? void 0 : _b.widgetType) === jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"WidgetType\"].Layout || ((_e = (_d = (_c = appConfig.widgets[widgetId]) === null || _c === void 0 ? void 0 : _c.manifest) === null || _d === void 0 ? void 0 : _d.properties) === null || _e === void 0 ? void 0 : _e.hasEmbeddedLayout);\n    });\n    hasLayoutWidgetIds.forEach(function (hasLayoutWidgetId) {\n        var _a;\n        Object.keys((_a = appConfig.widgets[hasLayoutWidgetId].layouts) !== null && _a !== void 0 ? _a : {}).forEach(function (layoutKey) {\n            var layoutId = appConfig.widgets[hasLayoutWidgetId].layouts[layoutKey][sizeMode];\n            ret = ret.concat(getContentsInLayoutRecursive(appConfig, layoutId, type, sizeMode, withPending));\n        });\n    });\n    sectionIds.forEach(function (sectionId) {\n        var _a, _b;\n        (_b = (_a = appConfig.sections) === null || _a === void 0 ? void 0 : _a[sectionId]) === null || _b === void 0 ? void 0 : _b.views.forEach(function (viewId) {\n            if (appConfig.views[viewId] && appConfig.views[viewId].layout[sizeMode]) {\n                ret = ret.concat(getContentsInLayoutRecursive(appConfig, appConfig.views[viewId].layout[sizeMode], type, sizeMode, withPending));\n            }\n        });\n    });\n    screenGroupIds.forEach(function (screenGroupId) {\n        var _a, _b;\n        (_b = (_a = appConfig.screenGroups) === null || _a === void 0 ? void 0 : _a[screenGroupId]) === null || _b === void 0 ? void 0 : _b.screens.forEach(function (screenId) {\n            var _a, _b, _c, _d, _e, _f;\n            if ((_c = (_b = (_a = appConfig.screens) === null || _a === void 0 ? void 0 : _a[screenId]) === null || _b === void 0 ? void 0 : _b.sideLayouts) === null || _c === void 0 ? void 0 : _c[sizeMode]) {\n                ret = ret.concat(getContentsInLayoutRecursive(appConfig, appConfig.screens[screenId].sideLayouts[sizeMode], type, sizeMode, withPending));\n            }\n            if ((_f = (_e = (_d = appConfig.screens) === null || _d === void 0 ? void 0 : _d[screenId]) === null || _e === void 0 ? void 0 : _e.mainLayouts) === null || _f === void 0 ? void 0 : _f[sizeMode]) {\n                ret = ret.concat(getContentsInLayoutRecursive(appConfig, appConfig.screens[screenId].mainLayouts[sizeMode], type, sizeMode, withPending));\n            }\n        });\n    });\n    return ret;\n}\n/**\n * Return the layout item that holds the widget/section.\n * A widget/section is not allowed to be put in multiple items.\n * @param layoutJson\n * @param widgetId\n */\nfunction getContainerLayoutItem(layoutJson, id, type) {\n    if (!(layoutJson === null || layoutJson === void 0 ? void 0 : layoutJson.content)) {\n        return null;\n    }\n    var layoutItemId = Object.keys(layoutJson.content).find(function (itemId) {\n        return layoutJson.content[itemId].type === type &&\n            (layoutJson.content[itemId].widgetId === id || layoutJson.content[itemId].sectionId === id) &&\n            !layoutJson.content[itemId].isPending;\n    });\n    return layoutJson.content[layoutItemId];\n}\nfunction getLayoutItemIds(appConfig, layoutId, withPending) {\n    if (withPending === void 0) { withPending = false; }\n    var layout = appConfig.layouts[layoutId];\n    if (layout === null || layout === void 0 ? void 0 : layout.content) {\n        return withPending\n            ? Object.keys(layout.content)\n            : Object.keys(layout.content).filter(function (itemId) { return !layout.content[itemId].isPending; });\n    }\n    return [];\n}\nfunction getLayoutItemsByType(layoutJson, type, withPending) {\n    if (withPending === void 0) { withPending = false; }\n    if (!(layoutJson === null || layoutJson === void 0 ? void 0 : layoutJson.content)) {\n        return [];\n    }\n    return Object.keys(layoutJson.content)\n        .filter(function (itemId) {\n        return layoutJson.content[itemId].type === type &&\n            !!getContentIdInLayoutItem(layoutJson.content[itemId]) &&\n            (withPending || !layoutJson.content[itemId].isPending);\n    })\n        .map(function (itemId) { return ({ layoutId: layoutJson.id, layoutItemId: itemId }); });\n}\n/**\n * Return the widget/section ids in a layout, consider the layout widget only in the layout,\n * do not consider the normal widget that has embed layout,\n * do not consider the views in the section\n * @param appConfig\n * @param layoutId\n * @param type\n */\nfunction getWidgetsOrSectionsInLayoutWithLayoutWidgetOnly(appConfig, layoutId, type, sizeMode, withPending) {\n    if (withPending === void 0) { withPending = false; }\n    var ret = [];\n    // No need to deal with screen group as it cannot be placed in a layout widget\n    var widgetIds = getContentsInLayout(appConfig.layouts[layoutId], jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"LayoutItemType\"].Widget, withPending);\n    var sectionIds = getContentsInLayout(appConfig.layouts[layoutId], jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"LayoutItemType\"].Section, withPending);\n    if (type === jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"LayoutItemType\"].Widget) {\n        ret = ret.concat(widgetIds);\n    }\n    else {\n        ret = ret.concat(sectionIds);\n    }\n    var layoutWidgetIds = widgetIds.filter(function (widgetId) {\n        return appConfig.widgets &&\n            appConfig.widgets[widgetId] &&\n            appConfig.widgets[widgetId].manifest.widgetType === jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"WidgetType\"].Layout;\n    });\n    layoutWidgetIds.forEach(function (layoutWidgetId) {\n        Object.keys(appConfig.widgets[layoutWidgetId].layouts).forEach(function (layoutKey) {\n            var layoutId = findLayoutId(appConfig.widgets[layoutWidgetId].layouts[layoutKey], sizeMode, appConfig.mainSizeMode);\n            ret = ret.concat(getWidgetsOrSectionsInLayoutWithLayoutWidgetOnly(appConfig, layoutId, type, sizeMode, withPending));\n        });\n    });\n    return ret;\n}\n/**\n * find a widget id that use the layoutId\n * @param appConfig\n * @param layoutId\n */\nfunction getWidgetIdThatUseTheLayoutId(appConfig, layoutId) {\n    return Object.keys(appConfig.widgets).find(function (widgetId) {\n        var widget = appConfig.widgets[widgetId];\n        if (widget.layouts) {\n            return Object.keys(widget.layouts).some(function (name) {\n                return (Object.keys(widget.layouts[name]).find(function (sizeMode) {\n                    return widget.layouts[name][sizeMode] === layoutId;\n                }) !== undefined);\n            });\n        }\n    });\n}\n/**\n * Return the container that holds the widget, consider the widgets in layout widgets\n * @param appConfig\n * @param widgetId\n */\nfunction getWidgetOrSectionContainerInfo(appConfig, id, type, sizeMode) {\n    var pageId = appConfig.pages &&\n        Object.keys(appConfig.pages).find(function (pId) {\n            var layoutId = findLayoutId(appConfig.pages[pId].layout, sizeMode, appConfig.mainSizeMode);\n            return getWidgetsOrSectionsInLayoutWithLayoutWidgetOnly(appConfig, layoutId, type, sizeMode).indexOf(id) > -1;\n        });\n    if (pageId) {\n        return { type: jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"ContainerType\"].Page, id: pageId };\n    }\n    var dlgId = appConfig.dialogs &&\n        Object.keys(appConfig.dialogs).find(function (dlgId) {\n            var layoutId = findLayoutId(appConfig.dialogs[dlgId].layout, sizeMode, appConfig.mainSizeMode);\n            return getWidgetsOrSectionsInLayoutWithLayoutWidgetOnly(appConfig, layoutId, type, sizeMode).indexOf(id) > -1;\n        });\n    if (dlgId) {\n        return { type: jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"ContainerType\"].Dialog, id: dlgId };\n    }\n    if (appConfig.header) {\n        var layoutId = findLayoutId(appConfig.header.layout, sizeMode, appConfig.mainSizeMode);\n        if (getWidgetsOrSectionsInLayoutWithLayoutWidgetOnly(appConfig, layoutId, type, sizeMode).indexOf(id) > -1) {\n            return { type: jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"ContainerType\"].Header, id: 'header' };\n        }\n    }\n    if (appConfig.footer) {\n        var layoutId = findLayoutId(appConfig.footer.layout, sizeMode, appConfig.mainSizeMode);\n        if (getWidgetsOrSectionsInLayoutWithLayoutWidgetOnly(appConfig, layoutId, type, sizeMode).indexOf(id) > -1) {\n            return { type: jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"ContainerType\"].Footer, id: 'footer' };\n        }\n    }\n    var viewId = appConfig.views &&\n        Object.keys(appConfig.views).find(function (vId) {\n            var layoutId = findLayoutId(appConfig.views[vId].layout, sizeMode, appConfig.mainSizeMode);\n            return getWidgetsOrSectionsInLayoutWithLayoutWidgetOnly(appConfig, layoutId, type, sizeMode).indexOf(id) > -1;\n        });\n    if (viewId) {\n        return { type: jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"ContainerType\"].View, id: viewId };\n    }\n}\n/**\n * Return the widget/section ids in the page, consider the sections/widgets in layout widget\n * @param appConfig\n * @param pageId\n */\nfunction getWidgetsOrSectionsInPageBody(appConfig, pageId, type, browserSizeMode) {\n    var layoutId = findLayoutId(appConfig.pages[pageId].layout, browserSizeMode, appConfig.mainSizeMode);\n    return getWidgetsOrSectionsInLayoutWithLayoutWidgetOnly(appConfig, layoutId, type, browserSizeMode);\n}\n/**\n * Return the widget/section ids in the dialog, consider the sections/widgets in layout widget\n * @param appConfig\n * @param dialogId\n */\nfunction getWidgetsOrSectionsInDialog(appConfig, dialogId, type, browserSizeMode) {\n    var layoutId = findLayoutId(appConfig.dialogs[dialogId].layout, browserSizeMode, appConfig.mainSizeMode);\n    return getWidgetsOrSectionsInLayoutWithLayoutWidgetOnly(appConfig, layoutId, type, browserSizeMode);\n}\n/**\n * Return the section ids in the view, consider the sections in layout widget\n * @param appConfig\n * @param viewId\n */\nfunction getWidgetsOrSectionsInView(appConfig, viewId, type, browserSizeMode) {\n    var _a;\n    var layoutId = findLayoutId((_a = appConfig.views[viewId]) === null || _a === void 0 ? void 0 : _a.layout, browserSizeMode, appConfig.mainSizeMode);\n    return getWidgetsOrSectionsInLayoutWithLayoutWidgetOnly(appConfig, layoutId, type, browserSizeMode);\n}\nfunction findLayoutId(layouts, browserSizeMode, mainSizeMode) {\n    if (!layouts) {\n        return null;\n    }\n    return layouts[browserSizeMode] || layouts[mainSizeMode];\n}\nfunction getWidgetsOrSectionsInPageHeader(appConfig, type, browserSizeMode) {\n    var layoutId = findLayoutId(appConfig.header.layout, browserSizeMode, appConfig.mainSizeMode);\n    return getWidgetsOrSectionsInLayoutWithLayoutWidgetOnly(appConfig, layoutId, type, browserSizeMode);\n}\nfunction getWidgetsOrSectionsInPageFooter(appConfig, type, browserSizeMode) {\n    var layoutId = findLayoutId(appConfig.footer.layout, browserSizeMode, appConfig.mainSizeMode);\n    return getWidgetsOrSectionsInLayoutWithLayoutWidgetOnly(appConfig, layoutId, type, browserSizeMode);\n}\n/**\n * In one layout, one widget/section is NOT allowed be put in more than one layout item.\n * However, in widget that has layouts, one widget/section may be put in multiple layouts.\n *\n * if `sizeMode` is passed in, return the items in the size mode only, else return all items\n * @param appConfig\n * @param type\n * @param id\n * @param sizeMode\n */\nfunction getLayoutItemsHoldWidgetOrSection(appConfig, type, id, sizeMode) {\n    if (sizeMode) {\n        var pWidgetId = getParentWidgetIdOfWidgetOrSection(appConfig, id, type, sizeMode);\n        if (pWidgetId) {\n            return getLayoutInfosInWidgetByWidgetOrSectionId(appConfig, id, type, pWidgetId, sizeMode);\n        }\n        else {\n            var containerInfo = getWidgetOrSectionContainerInfo(appConfig, id, type, sizeMode);\n            if (!containerInfo) {\n                return [];\n            }\n            var layoutId = getContainerLayoutId(appConfig, containerInfo, sizeMode);\n            var item = getContainerLayoutItem(appConfig.layouts[layoutId], id, type);\n            return [\n                {\n                    layoutId: layoutId,\n                    layoutItemId: item.id,\n                },\n            ];\n        }\n    }\n    else {\n        var result_1 = [];\n        Object.keys(appConfig.layouts).forEach(function (layoutId) {\n            getLayoutItemIds(appConfig, layoutId, true).forEach(function (layoutItemId) {\n                var layoutItem = appConfig.layouts[layoutId].content[layoutItemId];\n                if (type === layoutItem.type && (layoutItem.widgetId === id || layoutItem.sectionId === id)) {\n                    result_1.push({\n                        layoutId: layoutId,\n                        layoutItemId: layoutItemId,\n                    });\n                }\n            });\n        });\n        return result_1;\n    }\n}\nfunction getContainerLayoutId(appConfig, containerInfo, sizeMode) {\n    if (containerInfo.type === jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"ContainerType\"].Footer) {\n        return appConfig.footer.layout[sizeMode];\n    }\n    else if (containerInfo.type === jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"ContainerType\"].Header) {\n        return appConfig.header.layout[sizeMode];\n    }\n    else {\n        return appConfig[containerInfo.type][containerInfo.id].layout[sizeMode];\n    }\n}\n/**\n * Find a widget id (parent widget id) that the widget layout contains the widgetId/sectionId.\n * Return the direct parent only.\n * @param appConfig\n * @param id the widget/section id\n */\nfunction getParentWidgetIdOfWidgetOrSection(appConfig, id, type, sizeMode) {\n    return Object.keys(appConfig.widgets).find(function (wId) {\n        var widget = appConfig.widgets[wId];\n        if (widget.layouts) {\n            return Object.keys(widget.layouts).some(function (name) {\n                var layoutId = widget.layouts[name][sizeMode];\n                var layoutJson = appConfig.layouts[layoutId];\n                return (layoutJson &&\n                    layoutJson.content &&\n                    Object.keys(layoutJson.content).find(function (key) {\n                        return layoutJson.content[key].type === type &&\n                            (layoutJson.content[key].widgetId === id || layoutJson.content[key].sectionId === id);\n                    }) !== undefined);\n            });\n        }\n    });\n}\n/**\n * Get children widgets/sections in a widget, find one level only. Includes all size mode\n * @param appConfig\n * @param parentWidgetId\n * @param type\n */\nfunction getChildrenWidgetsOrSections(appConfig, parentWidgetId, type, withPending) {\n    var parentWidgetJson = appConfig.widgets[parentWidgetId];\n    if (!parentWidgetJson.layouts) {\n        return [];\n    }\n    var ret = [];\n    Object.keys(parentWidgetJson.layouts).forEach(function (layoutName) {\n        Object.keys(parentWidgetJson.layouts[layoutName]).forEach(function (sizeMode) {\n            var layoutJson = appConfig.layouts[parentWidgetJson.layouts[layoutName][sizeMode]];\n            ret = ret.concat(getContentsInLayout(layoutJson, type, withPending));\n        });\n    });\n    // remove duplicates\n    return Array.from(new Set(ret));\n}\n/**\n * Return the layoutInfo for the widget/section, there may be multiple layoutInfos for the widget/section.\n *\n * One widget/section is allowed to be put in one layout only one time, but it's allowed be put in multile layouts.\n * There are 2 cases for multiple layouts:\n *    * One widget/section is allowed to be put in multiple size mode (this function is for one size mode only, so we don't consider this case)\n *    * In one size mode, one widget (i.e. List widget) may have multiple state layouts to hold the same widget.\n * @param appConfig\n * @param contentId\n * @param type\n */\nfunction getWidgetOrSectionLayoutInfosInOneSizeMode(appConfig, contentId, type, sizeMode) {\n    var layoutInfos = [];\n    var hasFound = false;\n    var getLayoutInfo = function (appConfig, contentId, layouts, type) {\n        var layoutId = findLayoutId(layouts, sizeMode, undefined);\n        var li = getContainerLayoutItem(appConfig.layouts[layoutId], contentId, type);\n        var layoutInfo = undefined;\n        if (li) {\n            layoutInfo = { layoutId: layoutId, layoutItemId: li.id };\n            layoutInfos.push(layoutInfo);\n            hasFound = true;\n        }\n        return layoutInfo;\n    };\n    appConfig.pages &&\n        Object.keys(appConfig.pages).find(function (pageId) {\n            var pageJson = appConfig.pages[pageId];\n            if (pageJson.layout && getLayoutInfo(appConfig, contentId, pageJson.layout, type)) {\n                return true;\n            }\n            return false;\n        });\n    if (hasFound) {\n        return layoutInfos;\n    }\n    appConfig.views &&\n        Object.keys(appConfig.views).find(function (viewId) {\n            var viewJson = appConfig.views[viewId];\n            if (getLayoutInfo(appConfig, contentId, viewJson.layout, type)) {\n                return true;\n            }\n            return false;\n        });\n    if (hasFound) {\n        return layoutInfos;\n    }\n    appConfig.dialogs &&\n        Object.keys(appConfig.dialogs).find(function (dialogId) {\n            var dialogJson = appConfig.dialogs[dialogId];\n            if (getLayoutInfo(appConfig, contentId, dialogJson.layout, type)) {\n                return true;\n            }\n            return false;\n        });\n    if (hasFound) {\n        return layoutInfos;\n    }\n    appConfig.header && getLayoutInfo(appConfig, contentId, appConfig.header.layout, type);\n    if (hasFound) {\n        return layoutInfos;\n    }\n    appConfig.footer && getLayoutInfo(appConfig, contentId, appConfig.footer.layout, type);\n    if (hasFound) {\n        return layoutInfos;\n    }\n    appConfig.widgets &&\n        Object.keys(appConfig.widgets).find(function (widgetId) {\n            var widgetJson = appConfig.widgets[widgetId];\n            widgetJson.layouts &&\n                Object.keys(widgetJson.layouts).forEach(function (name) {\n                    getLayoutInfo(appConfig, contentId, widgetJson.layouts[name], type);\n                });\n            if (hasFound) {\n                return true;\n            }\n            return false;\n        });\n    return layoutInfos;\n}\n/**\n * Return the size mode of the layout. Because under one size mode.\n * Only widget may have multiple layouts, and this function is used only for widgets that have layouts, so pass widget id to make the search easy.\n * @param appConfig\n * @param layoutId\n * @param widgetId\n */\nfunction getBrowserSizeModeByLayoutIdAndWidgetId(appConfig, layoutId, widgetId) {\n    var widgetJson = appConfig.widgets[widgetId];\n    if (!widgetJson)\n        return undefined;\n    var sizeMode = undefined;\n    Object.keys(widgetJson.layouts).find(function (name) {\n        var res = Object.keys(widgetJson.layouts[name]).find(function (device) {\n            if (widgetJson.layouts[name][device] === layoutId) {\n                sizeMode = device;\n                return true;\n            }\n        });\n        if (res) {\n            return true;\n        }\n    });\n    return sizeMode;\n}\n/**\n * find all layoutInfos that the content id, section or widget, is equal to each other in the widget on the browserSizeMode\n *\n * @param appConfig\n * @param layoutInfo\n * @param parentWId\n * @param sizeMode\n */\nfunction getLayoutInfosInWidgetByLayoutInfo(appConfig, layoutInfo, parentWId, sizeMode) {\n    var parentWidget = appConfig.widgets[parentWId];\n    if (!parentWidget)\n        return [];\n    var layoutItem = appConfig.layouts[layoutInfo.layoutId] &&\n        appConfig.layouts[layoutInfo.layoutId].content &&\n        appConfig.layouts[layoutInfo.layoutId].content[layoutInfo.layoutItemId];\n    if (!layoutItem)\n        return [];\n    var contentType = layoutItem.type;\n    var contentId = undefined;\n    // No need to deal with screen group as it cannot be placed in a layout widget\n    if (contentType === jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"LayoutItemType\"].Section) {\n        contentId = layoutItem.sectionId;\n    }\n    else if (contentType === jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"LayoutItemType\"].Widget) {\n        contentId = layoutItem.widgetId;\n    }\n    // widgetId may be undefined for placeholder\n    if (!contentId) {\n        if (checkIsLayoutInfoInWidget(appConfig, parentWId, layoutInfo)) {\n            return [layoutInfo];\n        }\n        else {\n            return [];\n        }\n    }\n    return getLayoutInfosInWidgetByWidgetOrSectionId(appConfig, contentId, contentType, parentWId, sizeMode);\n}\n/**\n * Same as `getLayoutInfosInWidgetByLayoutInfo`, but return the layout items\n * @param appConfig\n * @param layoutInfo\n * @param parentWId\n * @param browserSizeMode\n */\nfunction getLayoutItemsInWidgetByLayoutInfo(appConfig, layoutInfo, parentWId, browserSizeMode) {\n    return getLayoutInfosInWidgetByLayoutInfo(appConfig, layoutInfo, parentWId, browserSizeMode).map(function (layoutInfo) { return appConfig.layouts[layoutInfo.layoutId][layoutInfo.layoutItemId]; });\n}\nfunction getLayoutInfosInWidgetByWidgetOrSectionId(appConfig, id, type, parentWId, browserSizeMode) {\n    var parentWidget = appConfig.widgets[parentWId];\n    if (!parentWidget || !id)\n        return [];\n    var items = [];\n    parentWidget.layouts &&\n        Object.keys(parentWidget.layouts).forEach(function (s) {\n            var layoutId = parentWidget.layouts[s][browserSizeMode];\n            var layoutJson = appConfig.layouts[layoutId];\n            layoutJson &&\n                layoutJson.content &&\n                Object.keys(layoutJson.content).forEach(function (key) {\n                    var layoutEle = layoutJson.content[key];\n                    if (layoutEle.type === type && (layoutEle.widgetId === id || layoutEle.sectionId === id)) {\n                        items.push({\n                            layoutId: layoutJson.id,\n                            layoutItemId: layoutEle.id,\n                        });\n                    }\n                    else if (layoutEle.type === jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"LayoutItemType\"].Widget) {\n                        var wJson = appConfig.widgets[layoutEle.widgetId];\n                        if (wJson && wJson.manifest.widgetType === jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"WidgetType\"].Layout) {\n                            items.push.apply(items, getLayoutInfosInWidgetByWidgetOrSectionId(appConfig, id, type, wJson.id, browserSizeMode));\n                        }\n                    }\n                });\n        });\n    return items;\n}\nfunction checkIsLayoutInfoInWidget(appConfig, parentWId, layoutInfo) {\n    var parentWidget = appConfig.widgets[parentWId];\n    if (!parentWidget)\n        return false;\n    var find = false;\n    parentWidget.layouts &&\n        Object.keys(parentWidget.layouts).forEach(function (layoutName) {\n            if (find)\n                return;\n            Object.keys(parentWidget.layouts[layoutName]).forEach(function (sizeMode) {\n                if (find)\n                    return;\n                var layoutId = parentWidget.layouts[layoutName][sizeMode];\n                var layoutItemIds = getLayoutItemIds(appConfig, layoutId, true);\n                layoutItemIds.forEach(function (itemId) {\n                    if (find)\n                        return;\n                    if (layoutInfo.layoutId === layoutId && layoutInfo.layoutItemId === itemId) {\n                        find = true;\n                    }\n                });\n            });\n        });\n    return find;\n}\n/**\n * Return the widget/section ids that in the same container with the widget\n * @param appConfig\n * @param widgetId\n */\nfunction getWidgetsOrSectionsInTheSameContainer(appConfig, id, type, retType, sizeMode) {\n    var containerInfo = getWidgetOrSectionContainerInfo(appConfig, id, type, sizeMode);\n    if (!containerInfo) {\n        return [];\n    }\n    switch (containerInfo.type) {\n        case jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"ContainerType\"].Page:\n            return getWidgetsOrSectionsInPageBody(appConfig, containerInfo.id, retType, sizeMode);\n        case jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"ContainerType\"].Header:\n            return getWidgetsOrSectionsInPageHeader(appConfig, retType, sizeMode);\n        case jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"ContainerType\"].Footer:\n            return getWidgetsOrSectionsInPageFooter(appConfig, retType, sizeMode);\n        case jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"ContainerType\"].View:\n            return getWidgetsOrSectionsInView(appConfig, containerInfo.id, retType, sizeMode);\n        case jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"ContainerType\"].Dialog:\n            return getWidgetsOrSectionsInDialog(appConfig, containerInfo.id, retType, sizeMode);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWxheW91dHMvbGliL3NlYXJjaC9jb250ZW50cy50cy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2ppbXUtbGF5b3V0cy9saWIvc2VhcmNoL2NvbnRlbnRzLnRzPzk4NzMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgSU1BcHBDb25maWcsXG4gIElNTGF5b3V0SnNvbixcbiAgTGF5b3V0SXRlbVR5cGUsXG4gIElNTGF5b3V0SXRlbUpzb24sXG4gIExheW91dEluZm8sXG4gIFdpZGdldFR5cGUsXG4gIEJyb3dzZXJTaXplTW9kZSxcbiAgQ29udGFpbmVyVHlwZSxcbiAgSU1TaXplTW9kZUxheW91dEpzb24sXG4gIExheW91dEl0ZW1Kc29uLFxufSBmcm9tICdqaW11LWNvcmUnO1xuXG5leHBvcnQgZnVuY3Rpb24gZmluZExheW91dEl0ZW0oYXBwQ29uZmlnOiBJTUFwcENvbmZpZywgbGF5b3V0SW5mbzogTGF5b3V0SW5mbyk6IElNTGF5b3V0SXRlbUpzb24ge1xuICBpZiAoIWxheW91dEluZm8pIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBjb25zdCB7IGxheW91dElkLCBsYXlvdXRJdGVtSWQgfSA9IGxheW91dEluZm87XG4gIHJldHVybiBhcHBDb25maWcubGF5b3V0cz8uW2xheW91dElkXT8uY29udGVudD8uW2xheW91dEl0ZW1JZF07XG59XG5cbi8qKlxuICogRmluZCB0aGUgc2VjdGlvbklkIHRoYXQgY29udGFpbnMgdGhlIHNwZWNpZmllZCBsYXlvdXRJZC4gUmV0dXJuIG51bGwgaWYgbm8gc3VjaCBzZWN0aW9uLlxuICogQHBhcmFtIHZpZXdJZFxuICovXG5leHBvcnQgZnVuY3Rpb24gZmluZFBhcmVudFNlY3Rpb25JZChhcHBDb25maWc6IElNQXBwQ29uZmlnLCB2aWV3SWQ6IHN0cmluZyk6IHN0cmluZyB7XG4gIGlmIChhcHBDb25maWcuc2VjdGlvbnMpIHtcbiAgICBmb3IgKGNvbnN0IHNlY3Rpb25JZCBpbiBhcHBDb25maWcuc2VjdGlvbnMpIHtcbiAgICAgIGNvbnN0IHNlY3Rpb24gPSBhcHBDb25maWcuc2VjdGlvbnNbc2VjdGlvbklkXTtcbiAgICAgIGlmIChzZWN0aW9uLnZpZXdzLmluZGV4T2Yodmlld0lkKSA+PSAwKSB7XG4gICAgICAgIHJldHVybiBzZWN0aW9uSWQ7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG4vKipcbiAqIEZpbmQgdGhlIHZpZXdJZCB0aGF0IGNvbnRhaW5zIHRoZSBzcGVjaWZpZWQgbGF5b3V0SWQuIFJldHVybiBudWxsIGlmIG5vIHN1Y2ggdmlldy5cbiAqIEBwYXJhbSBsYXlvdXRJZFxuICovXG5leHBvcnQgZnVuY3Rpb24gZmluZFBhcmVudFZpZXdJZChhcHBDb25maWc6IElNQXBwQ29uZmlnLCBsYXlvdXRJZDogc3RyaW5nKTogc3RyaW5nIHtcbiAgaWYgKGFwcENvbmZpZy52aWV3cykge1xuICAgIGZvciAoY29uc3Qgdmlld0lkIGluIGFwcENvbmZpZy52aWV3cykge1xuICAgICAgY29uc3QgdmlldyA9IGFwcENvbmZpZy52aWV3c1t2aWV3SWRdO1xuICAgICAgZm9yIChjb25zdCBzaXplbW9kZSBpbiB2aWV3LmxheW91dCkge1xuICAgICAgICBpZiAodmlldy5sYXlvdXRbc2l6ZW1vZGVdID09IGxheW91dElkKSB7XG4gICAgICAgICAgcmV0dXJuIHZpZXdJZDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldENvbnRlbnRJZEluTGF5b3V0SXRlbShpdGVtOiBJTUxheW91dEl0ZW1Kc29uKTogc3RyaW5nIHtcbiAgc3dpdGNoKGl0ZW0udHlwZSkge1xuICAgIGNhc2UgTGF5b3V0SXRlbVR5cGUuV2lkZ2V0OlxuICAgICAgcmV0dXJuIHR5cGVvZiAoaXRlbS53aWRnZXRJZCkgPT09ICdzdHJpbmcnID8gaXRlbS53aWRnZXRJZCA6IG51bGw7XG4gICAgY2FzZSBMYXlvdXRJdGVtVHlwZS5TZWN0aW9uOlxuICAgICAgcmV0dXJuIHR5cGVvZiAoaXRlbS5zZWN0aW9uSWQpID09PSAnc3RyaW5nJyA/IGl0ZW0uc2VjdGlvbklkIDogbnVsbDtcbiAgICBjYXNlIExheW91dEl0ZW1UeXBlLlNjcmVlbkdyb3VwOlxuICAgICAgcmV0dXJuIHR5cGVvZiAoaXRlbS5zY3JlZW5Hcm91cElkKSA9PT0gJ3N0cmluZycgPyBpdGVtLnNjcmVlbkdyb3VwSWQgOiBudWxsO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG4vKipcbiAqIHJldHVybiB0aGUgd2lkZ2V0L3NlY3Rpb24gaWRzIGluIHRoZSBsYXlvdXQuIERvIG5vdCBjb25zaWRlciB0aGUgZW1iZWRkZWQgbGF5b3V0c1xuICogQHBhcmFtIGxheW91dEpzb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldENvbnRlbnRzSW5MYXlvdXQobGF5b3V0SnNvbjogSU1MYXlvdXRKc29uLCB0eXBlOiBMYXlvdXRJdGVtVHlwZSwgd2l0aFBlbmRpbmcgPSBmYWxzZSk6IHN0cmluZ1tdIHtcbiAgaWYgKCFsYXlvdXRKc29uPy5jb250ZW50KSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG5cbiAgcmV0dXJuIE9iamVjdC5rZXlzKGxheW91dEpzb24uY29udGVudClcbiAgICAuZmlsdGVyKFxuICAgICAgaXRlbUlkID0+XG4gICAgICAgIGxheW91dEpzb24uY29udGVudFtpdGVtSWRdLnR5cGUgPT09IHR5cGUgJiZcbiAgICAgICAgISFnZXRDb250ZW50SWRJbkxheW91dEl0ZW0obGF5b3V0SnNvbi5jb250ZW50W2l0ZW1JZF0pICYmXG4gICAgICAgICh3aXRoUGVuZGluZyB8fCAhbGF5b3V0SnNvbi5jb250ZW50W2l0ZW1JZF0uaXNQZW5kaW5nKVxuICAgIClcbiAgICAubWFwKGl0ZW1JZCA9PlxuICAgICAgZ2V0Q29udGVudElkSW5MYXlvdXRJdGVtKGxheW91dEpzb24uY29udGVudFtpdGVtSWRdKVxuICAgICk7XG59XG5cbi8qKlxuICogUmV0dXJuIHRoZSB3aWRnZXQvc2VjdGlvbiBpZHMgaW4gYSBsYXlvdXQsIGNvbnNpZGVyIHRoZSBsYXlvdXQgd2lkZ2V0LCB0aGUgbm9ybWFsIHdpZGdldCB0aGF0IGhhcyBlbWJlZCBsYXlvdXQsIGFuZCB2aWV3c1xuICogQHBhcmFtIGFwcENvbmZpZ1xuICogQHBhcmFtIGxheW91dElkXG4gKiBAcGFyYW0gdHlwZVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q29udGVudHNJbkxheW91dFJlY3Vyc2l2ZShcbiAgYXBwQ29uZmlnOiBJTUFwcENvbmZpZyxcbiAgbGF5b3V0SWQ6IHN0cmluZyxcbiAgdHlwZTogTGF5b3V0SXRlbVR5cGUsXG4gIHNpemVNb2RlOiBCcm93c2VyU2l6ZU1vZGUsXG4gIHdpdGhQZW5kaW5nID0gZmFsc2Vcbik6IHN0cmluZ1tdIHtcbiAgbGV0IHJldCA9IFtdO1xuICBjb25zdCB3aWRnZXRJZHMgPSBnZXRDb250ZW50c0luTGF5b3V0KGFwcENvbmZpZy5sYXlvdXRzW2xheW91dElkXSwgTGF5b3V0SXRlbVR5cGUuV2lkZ2V0LCB3aXRoUGVuZGluZyk7XG4gIGNvbnN0IHNlY3Rpb25JZHMgPSBnZXRDb250ZW50c0luTGF5b3V0KGFwcENvbmZpZy5sYXlvdXRzW2xheW91dElkXSwgTGF5b3V0SXRlbVR5cGUuU2VjdGlvbiwgd2l0aFBlbmRpbmcpO1xuICBjb25zdCBzY3JlZW5Hcm91cElkcyA9IGdldENvbnRlbnRzSW5MYXlvdXQoYXBwQ29uZmlnLmxheW91dHNbbGF5b3V0SWRdLCBMYXlvdXRJdGVtVHlwZS5TY3JlZW5Hcm91cCwgd2l0aFBlbmRpbmcpO1xuICBpZiAodHlwZSA9PT0gTGF5b3V0SXRlbVR5cGUuV2lkZ2V0KSB7XG4gICAgcmV0ID0gcmV0LmNvbmNhdCh3aWRnZXRJZHMpO1xuICB9IGVsc2UgaWYgKHR5cGUgPT09IExheW91dEl0ZW1UeXBlLlNlY3Rpb24pIHtcbiAgICByZXQgPSByZXQuY29uY2F0KHNlY3Rpb25JZHMpO1xuICB9IGVsc2UgaWYgKHR5cGUgPT09IExheW91dEl0ZW1UeXBlLlNjcmVlbkdyb3VwKSB7XG4gICAgcmV0ID0gcmV0LmNvbmNhdChzY3JlZW5Hcm91cElkcyk7XG4gIH1cblxuICBjb25zdCBoYXNMYXlvdXRXaWRnZXRJZHMgPSB3aWRnZXRJZHMuZmlsdGVyKFxuICAgIHdpZGdldElkID0+XG4gICAgICBhcHBDb25maWcud2lkZ2V0c1t3aWRnZXRJZF0/Lm1hbmlmZXN0Py53aWRnZXRUeXBlID09PSBXaWRnZXRUeXBlLkxheW91dCB8fFxuICAgICAgYXBwQ29uZmlnLndpZGdldHNbd2lkZ2V0SWRdPy5tYW5pZmVzdD8ucHJvcGVydGllcz8uaGFzRW1iZWRkZWRMYXlvdXRcbiAgKTtcbiAgaGFzTGF5b3V0V2lkZ2V0SWRzLmZvckVhY2goaGFzTGF5b3V0V2lkZ2V0SWQgPT4ge1xuICAgIE9iamVjdC5rZXlzKGFwcENvbmZpZy53aWRnZXRzW2hhc0xheW91dFdpZGdldElkXS5sYXlvdXRzID8/IHt9KS5mb3JFYWNoKGxheW91dEtleSA9PiB7XG4gICAgICBjb25zdCBsYXlvdXRJZCA9IGFwcENvbmZpZy53aWRnZXRzW2hhc0xheW91dFdpZGdldElkXS5sYXlvdXRzW2xheW91dEtleV1bc2l6ZU1vZGVdO1xuICAgICAgcmV0ID0gcmV0LmNvbmNhdChnZXRDb250ZW50c0luTGF5b3V0UmVjdXJzaXZlKGFwcENvbmZpZywgbGF5b3V0SWQsIHR5cGUsIHNpemVNb2RlLCB3aXRoUGVuZGluZykpO1xuICAgIH0pO1xuICB9KTtcblxuICBzZWN0aW9uSWRzLmZvckVhY2goc2VjdGlvbklkID0+IHtcbiAgICBhcHBDb25maWcuc2VjdGlvbnM/LltzZWN0aW9uSWRdPy52aWV3cy5mb3JFYWNoKHZpZXdJZCA9PiB7XG4gICAgICBpZiAoYXBwQ29uZmlnLnZpZXdzW3ZpZXdJZF0gJiYgYXBwQ29uZmlnLnZpZXdzW3ZpZXdJZF0ubGF5b3V0W3NpemVNb2RlXSkge1xuICAgICAgICByZXQgPSByZXQuY29uY2F0KFxuICAgICAgICAgIGdldENvbnRlbnRzSW5MYXlvdXRSZWN1cnNpdmUoYXBwQ29uZmlnLCBhcHBDb25maWcudmlld3Nbdmlld0lkXS5sYXlvdXRbc2l6ZU1vZGVdLCB0eXBlLCBzaXplTW9kZSwgd2l0aFBlbmRpbmcpXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xuXG4gIHNjcmVlbkdyb3VwSWRzLmZvckVhY2goc2NyZWVuR3JvdXBJZCA9PiB7XG4gICAgYXBwQ29uZmlnLnNjcmVlbkdyb3Vwcz8uW3NjcmVlbkdyb3VwSWRdPy5zY3JlZW5zLmZvckVhY2goc2NyZWVuSWQgPT4ge1xuICAgICAgaWYgKGFwcENvbmZpZy5zY3JlZW5zPy5bc2NyZWVuSWRdPy5zaWRlTGF5b3V0cz8uW3NpemVNb2RlXSkge1xuICAgICAgICByZXQgPSByZXQuY29uY2F0KFxuICAgICAgICAgIGdldENvbnRlbnRzSW5MYXlvdXRSZWN1cnNpdmUoYXBwQ29uZmlnLCBhcHBDb25maWcuc2NyZWVuc1tzY3JlZW5JZF0uc2lkZUxheW91dHNbc2l6ZU1vZGVdLCB0eXBlLCBzaXplTW9kZSwgd2l0aFBlbmRpbmcpXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBpZiAoYXBwQ29uZmlnLnNjcmVlbnM/LltzY3JlZW5JZF0/Lm1haW5MYXlvdXRzPy5bc2l6ZU1vZGVdKSB7XG4gICAgICAgIHJldCA9IHJldC5jb25jYXQoXG4gICAgICAgICAgZ2V0Q29udGVudHNJbkxheW91dFJlY3Vyc2l2ZShhcHBDb25maWcsIGFwcENvbmZpZy5zY3JlZW5zW3NjcmVlbklkXS5tYWluTGF5b3V0c1tzaXplTW9kZV0sIHR5cGUsIHNpemVNb2RlLCB3aXRoUGVuZGluZylcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG5cbiAgcmV0dXJuIHJldDtcbn1cblxuLyoqXG4gKiBSZXR1cm4gdGhlIGxheW91dCBpdGVtIHRoYXQgaG9sZHMgdGhlIHdpZGdldC9zZWN0aW9uLlxuICogQSB3aWRnZXQvc2VjdGlvbiBpcyBub3QgYWxsb3dlZCB0byBiZSBwdXQgaW4gbXVsdGlwbGUgaXRlbXMuXG4gKiBAcGFyYW0gbGF5b3V0SnNvblxuICogQHBhcmFtIHdpZGdldElkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRDb250YWluZXJMYXlvdXRJdGVtKGxheW91dEpzb246IElNTGF5b3V0SnNvbiwgaWQ6IHN0cmluZywgdHlwZTogTGF5b3V0SXRlbVR5cGUpOiBJTUxheW91dEl0ZW1Kc29uIHtcbiAgaWYgKCFsYXlvdXRKc29uPy5jb250ZW50KSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgY29uc3QgbGF5b3V0SXRlbUlkID0gT2JqZWN0LmtleXMobGF5b3V0SnNvbi5jb250ZW50KS5maW5kKFxuICAgIGl0ZW1JZCA9PlxuICAgICAgbGF5b3V0SnNvbi5jb250ZW50W2l0ZW1JZF0udHlwZSA9PT0gdHlwZSAmJlxuICAgICAgKGxheW91dEpzb24uY29udGVudFtpdGVtSWRdLndpZGdldElkID09PSBpZCB8fCBsYXlvdXRKc29uLmNvbnRlbnRbaXRlbUlkXS5zZWN0aW9uSWQgPT09IGlkKSAmJlxuICAgICAgIWxheW91dEpzb24uY29udGVudFtpdGVtSWRdLmlzUGVuZGluZ1xuICApO1xuICByZXR1cm4gbGF5b3V0SnNvbi5jb250ZW50W2xheW91dEl0ZW1JZF07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRMYXlvdXRJdGVtSWRzKGFwcENvbmZpZzogSU1BcHBDb25maWcsIGxheW91dElkOiBzdHJpbmcsIHdpdGhQZW5kaW5nID0gZmFsc2UpOiBzdHJpbmdbXSB7XG4gIGNvbnN0IGxheW91dCA9IGFwcENvbmZpZy5sYXlvdXRzW2xheW91dElkXTtcbiAgaWYgKGxheW91dD8uY29udGVudCkge1xuICAgIHJldHVybiB3aXRoUGVuZGluZ1xuICAgICAgPyBPYmplY3Qua2V5cyhsYXlvdXQuY29udGVudClcbiAgICAgIDogT2JqZWN0LmtleXMobGF5b3V0LmNvbnRlbnQpLmZpbHRlcihpdGVtSWQgPT4gIWxheW91dC5jb250ZW50W2l0ZW1JZF0uaXNQZW5kaW5nKTtcbiAgfVxuICByZXR1cm4gW107XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRMYXlvdXRJdGVtc0J5VHlwZShcbiAgbGF5b3V0SnNvbjogSU1MYXlvdXRKc29uLFxuICB0eXBlOiBMYXlvdXRJdGVtVHlwZSxcbiAgd2l0aFBlbmRpbmcgPSBmYWxzZVxuKTogTGF5b3V0SW5mb1tdIHtcbiAgaWYgKCFsYXlvdXRKc29uPy5jb250ZW50KSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG4gIHJldHVybiBPYmplY3Qua2V5cyhsYXlvdXRKc29uLmNvbnRlbnQpXG4gICAgLmZpbHRlcihcbiAgICAgIGl0ZW1JZCA9PlxuICAgICAgICBsYXlvdXRKc29uLmNvbnRlbnRbaXRlbUlkXS50eXBlID09PSB0eXBlICYmXG4gICAgICAgICEhZ2V0Q29udGVudElkSW5MYXlvdXRJdGVtKGxheW91dEpzb24uY29udGVudFtpdGVtSWRdKSAmJlxuICAgICAgICAod2l0aFBlbmRpbmcgfHwgIWxheW91dEpzb24uY29udGVudFtpdGVtSWRdLmlzUGVuZGluZylcbiAgICApXG4gICAgLm1hcChpdGVtSWQgPT4gKHsgbGF5b3V0SWQ6IGxheW91dEpzb24uaWQsIGxheW91dEl0ZW1JZDogaXRlbUlkIH0pKTtcbn1cblxuLyoqXG4gKiBSZXR1cm4gdGhlIHdpZGdldC9zZWN0aW9uIGlkcyBpbiBhIGxheW91dCwgY29uc2lkZXIgdGhlIGxheW91dCB3aWRnZXQgb25seSBpbiB0aGUgbGF5b3V0LFxuICogZG8gbm90IGNvbnNpZGVyIHRoZSBub3JtYWwgd2lkZ2V0IHRoYXQgaGFzIGVtYmVkIGxheW91dCxcbiAqIGRvIG5vdCBjb25zaWRlciB0aGUgdmlld3MgaW4gdGhlIHNlY3Rpb25cbiAqIEBwYXJhbSBhcHBDb25maWdcbiAqIEBwYXJhbSBsYXlvdXRJZFxuICogQHBhcmFtIHR5cGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFdpZGdldHNPclNlY3Rpb25zSW5MYXlvdXRXaXRoTGF5b3V0V2lkZ2V0T25seShcbiAgYXBwQ29uZmlnOiBJTUFwcENvbmZpZyxcbiAgbGF5b3V0SWQ6IHN0cmluZyxcbiAgdHlwZTogTGF5b3V0SXRlbVR5cGUsXG4gIHNpemVNb2RlOiBCcm93c2VyU2l6ZU1vZGUsXG4gIHdpdGhQZW5kaW5nID0gZmFsc2Vcbik6IHN0cmluZ1tdIHtcbiAgbGV0IHJldCA9IFtdO1xuICAvLyBObyBuZWVkIHRvIGRlYWwgd2l0aCBzY3JlZW4gZ3JvdXAgYXMgaXQgY2Fubm90IGJlIHBsYWNlZCBpbiBhIGxheW91dCB3aWRnZXRcbiAgY29uc3Qgd2lkZ2V0SWRzID0gZ2V0Q29udGVudHNJbkxheW91dChhcHBDb25maWcubGF5b3V0c1tsYXlvdXRJZF0sIExheW91dEl0ZW1UeXBlLldpZGdldCwgd2l0aFBlbmRpbmcpO1xuICBjb25zdCBzZWN0aW9uSWRzID0gZ2V0Q29udGVudHNJbkxheW91dChhcHBDb25maWcubGF5b3V0c1tsYXlvdXRJZF0sIExheW91dEl0ZW1UeXBlLlNlY3Rpb24sIHdpdGhQZW5kaW5nKTtcbiAgaWYgKHR5cGUgPT09IExheW91dEl0ZW1UeXBlLldpZGdldCkge1xuICAgIHJldCA9IHJldC5jb25jYXQod2lkZ2V0SWRzKTtcbiAgfSBlbHNlIHtcbiAgICByZXQgPSByZXQuY29uY2F0KHNlY3Rpb25JZHMpO1xuICB9XG5cbiAgY29uc3QgbGF5b3V0V2lkZ2V0SWRzID0gd2lkZ2V0SWRzLmZpbHRlcihcbiAgICB3aWRnZXRJZCA9PlxuICAgICAgYXBwQ29uZmlnLndpZGdldHMgJiZcbiAgICAgIGFwcENvbmZpZy53aWRnZXRzW3dpZGdldElkXSAmJlxuICAgICAgYXBwQ29uZmlnLndpZGdldHNbd2lkZ2V0SWRdLm1hbmlmZXN0LndpZGdldFR5cGUgPT09IFdpZGdldFR5cGUuTGF5b3V0XG4gICk7XG4gIGxheW91dFdpZGdldElkcy5mb3JFYWNoKGxheW91dFdpZGdldElkID0+IHtcbiAgICBPYmplY3Qua2V5cyhhcHBDb25maWcud2lkZ2V0c1tsYXlvdXRXaWRnZXRJZF0ubGF5b3V0cykuZm9yRWFjaChsYXlvdXRLZXkgPT4ge1xuICAgICAgY29uc3QgbGF5b3V0SWQgPSBmaW5kTGF5b3V0SWQoYXBwQ29uZmlnLndpZGdldHNbbGF5b3V0V2lkZ2V0SWRdLmxheW91dHNbbGF5b3V0S2V5XSwgc2l6ZU1vZGUsIGFwcENvbmZpZy5tYWluU2l6ZU1vZGUpO1xuICAgICAgcmV0ID0gcmV0LmNvbmNhdChcbiAgICAgICAgZ2V0V2lkZ2V0c09yU2VjdGlvbnNJbkxheW91dFdpdGhMYXlvdXRXaWRnZXRPbmx5KGFwcENvbmZpZywgbGF5b3V0SWQsIHR5cGUsIHNpemVNb2RlLCB3aXRoUGVuZGluZylcbiAgICAgICk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIHJldHVybiByZXQ7XG59XG5cbi8qKlxuICogZmluZCBhIHdpZGdldCBpZCB0aGF0IHVzZSB0aGUgbGF5b3V0SWRcbiAqIEBwYXJhbSBhcHBDb25maWdcbiAqIEBwYXJhbSBsYXlvdXRJZFxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0V2lkZ2V0SWRUaGF0VXNlVGhlTGF5b3V0SWQoYXBwQ29uZmlnOiBJTUFwcENvbmZpZywgbGF5b3V0SWQ6IHN0cmluZyk6IHN0cmluZyB7XG4gIHJldHVybiBPYmplY3Qua2V5cyhhcHBDb25maWcud2lkZ2V0cykuZmluZCgod2lkZ2V0SWQ6IHN0cmluZykgPT4ge1xuICAgIGNvbnN0IHdpZGdldCA9IGFwcENvbmZpZy53aWRnZXRzW3dpZGdldElkXTtcbiAgICBpZiAod2lkZ2V0LmxheW91dHMpIHtcbiAgICAgIHJldHVybiBPYmplY3Qua2V5cyh3aWRnZXQubGF5b3V0cykuc29tZShuYW1lID0+IHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICBPYmplY3Qua2V5cyh3aWRnZXQubGF5b3V0c1tuYW1lXSkuZmluZChzaXplTW9kZSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gd2lkZ2V0LmxheW91dHNbbmFtZV1bc2l6ZU1vZGVdID09PSBsYXlvdXRJZDtcbiAgICAgICAgICB9KSAhPT0gdW5kZWZpbmVkXG4gICAgICAgICk7XG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xufVxuXG4vKipcbiAqIFJldHVybiB0aGUgY29udGFpbmVyIHRoYXQgaG9sZHMgdGhlIHdpZGdldCwgY29uc2lkZXIgdGhlIHdpZGdldHMgaW4gbGF5b3V0IHdpZGdldHNcbiAqIEBwYXJhbSBhcHBDb25maWdcbiAqIEBwYXJhbSB3aWRnZXRJZFxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0V2lkZ2V0T3JTZWN0aW9uQ29udGFpbmVySW5mbyhcbiAgYXBwQ29uZmlnOiBJTUFwcENvbmZpZyxcbiAgaWQ6IHN0cmluZyxcbiAgdHlwZTogTGF5b3V0SXRlbVR5cGUsXG4gIHNpemVNb2RlOiBCcm93c2VyU2l6ZU1vZGVcbik6IHsgdHlwZTogQ29udGFpbmVyVHlwZTsgaWQ6IHN0cmluZyB9IHtcbiAgY29uc3QgcGFnZUlkID1cbiAgICBhcHBDb25maWcucGFnZXMgJiZcbiAgICBPYmplY3Qua2V5cyhhcHBDb25maWcucGFnZXMpLmZpbmQocElkID0+IHtcbiAgICAgIGNvbnN0IGxheW91dElkID0gZmluZExheW91dElkKGFwcENvbmZpZy5wYWdlc1twSWRdLmxheW91dCwgc2l6ZU1vZGUsIGFwcENvbmZpZy5tYWluU2l6ZU1vZGUpO1xuICAgICAgcmV0dXJuIGdldFdpZGdldHNPclNlY3Rpb25zSW5MYXlvdXRXaXRoTGF5b3V0V2lkZ2V0T25seShhcHBDb25maWcsIGxheW91dElkLCB0eXBlLCBzaXplTW9kZSkuaW5kZXhPZihpZCkgPiAtMTtcbiAgICB9KTtcbiAgaWYgKHBhZ2VJZCkge1xuICAgIHJldHVybiB7IHR5cGU6IENvbnRhaW5lclR5cGUuUGFnZSwgaWQ6IHBhZ2VJZCB9O1xuICB9XG5cbiAgY29uc3QgZGxnSWQgPVxuICAgIGFwcENvbmZpZy5kaWFsb2dzICYmXG4gICAgT2JqZWN0LmtleXMoYXBwQ29uZmlnLmRpYWxvZ3MpLmZpbmQoZGxnSWQgPT4ge1xuICAgICAgY29uc3QgbGF5b3V0SWQgPSBmaW5kTGF5b3V0SWQoYXBwQ29uZmlnLmRpYWxvZ3NbZGxnSWRdLmxheW91dCwgc2l6ZU1vZGUsIGFwcENvbmZpZy5tYWluU2l6ZU1vZGUpO1xuICAgICAgcmV0dXJuIGdldFdpZGdldHNPclNlY3Rpb25zSW5MYXlvdXRXaXRoTGF5b3V0V2lkZ2V0T25seShhcHBDb25maWcsIGxheW91dElkLCB0eXBlLCBzaXplTW9kZSkuaW5kZXhPZihpZCkgPiAtMTtcbiAgICB9KTtcbiAgaWYgKGRsZ0lkKSB7XG4gICAgcmV0dXJuIHsgdHlwZTogQ29udGFpbmVyVHlwZS5EaWFsb2csIGlkOiBkbGdJZCB9O1xuICB9XG5cbiAgaWYgKGFwcENvbmZpZy5oZWFkZXIpIHtcbiAgICBjb25zdCBsYXlvdXRJZCA9IGZpbmRMYXlvdXRJZChhcHBDb25maWcuaGVhZGVyLmxheW91dCwgc2l6ZU1vZGUsIGFwcENvbmZpZy5tYWluU2l6ZU1vZGUpO1xuICAgIGlmIChnZXRXaWRnZXRzT3JTZWN0aW9uc0luTGF5b3V0V2l0aExheW91dFdpZGdldE9ubHkoYXBwQ29uZmlnLCBsYXlvdXRJZCwgdHlwZSwgc2l6ZU1vZGUpLmluZGV4T2YoaWQpID4gLTEpIHtcbiAgICAgIHJldHVybiB7IHR5cGU6IENvbnRhaW5lclR5cGUuSGVhZGVyLCBpZDogJ2hlYWRlcicgfTtcbiAgICB9XG4gIH1cblxuICBpZiAoYXBwQ29uZmlnLmZvb3Rlcikge1xuICAgIGNvbnN0IGxheW91dElkID0gZmluZExheW91dElkKGFwcENvbmZpZy5mb290ZXIubGF5b3V0LCBzaXplTW9kZSwgYXBwQ29uZmlnLm1haW5TaXplTW9kZSk7XG4gICAgaWYgKGdldFdpZGdldHNPclNlY3Rpb25zSW5MYXlvdXRXaXRoTGF5b3V0V2lkZ2V0T25seShhcHBDb25maWcsIGxheW91dElkLCB0eXBlLCBzaXplTW9kZSkuaW5kZXhPZihpZCkgPiAtMSkge1xuICAgICAgcmV0dXJuIHsgdHlwZTogQ29udGFpbmVyVHlwZS5Gb290ZXIsIGlkOiAnZm9vdGVyJyB9O1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0IHZpZXdJZCA9XG4gICAgYXBwQ29uZmlnLnZpZXdzICYmXG4gICAgT2JqZWN0LmtleXMoYXBwQ29uZmlnLnZpZXdzKS5maW5kKHZJZCA9PiB7XG4gICAgICBjb25zdCBsYXlvdXRJZCA9IGZpbmRMYXlvdXRJZChhcHBDb25maWcudmlld3NbdklkXS5sYXlvdXQsIHNpemVNb2RlLCBhcHBDb25maWcubWFpblNpemVNb2RlKTtcbiAgICAgIHJldHVybiBnZXRXaWRnZXRzT3JTZWN0aW9uc0luTGF5b3V0V2l0aExheW91dFdpZGdldE9ubHkoYXBwQ29uZmlnLCBsYXlvdXRJZCwgdHlwZSwgc2l6ZU1vZGUpLmluZGV4T2YoaWQpID4gLTE7XG4gICAgfSk7XG4gIGlmICh2aWV3SWQpIHtcbiAgICByZXR1cm4geyB0eXBlOiBDb250YWluZXJUeXBlLlZpZXcsIGlkOiB2aWV3SWQgfTtcbiAgfVxufVxuXG4vKipcbiAqIFJldHVybiB0aGUgd2lkZ2V0L3NlY3Rpb24gaWRzIGluIHRoZSBwYWdlLCBjb25zaWRlciB0aGUgc2VjdGlvbnMvd2lkZ2V0cyBpbiBsYXlvdXQgd2lkZ2V0XG4gKiBAcGFyYW0gYXBwQ29uZmlnXG4gKiBAcGFyYW0gcGFnZUlkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRXaWRnZXRzT3JTZWN0aW9uc0luUGFnZUJvZHkoYXBwQ29uZmlnOiBJTUFwcENvbmZpZywgcGFnZUlkOiBzdHJpbmcsIHR5cGU6IExheW91dEl0ZW1UeXBlLCBicm93c2VyU2l6ZU1vZGU6IEJyb3dzZXJTaXplTW9kZSk6IHN0cmluZ1tdIHtcbiAgY29uc3QgbGF5b3V0SWQgPSBmaW5kTGF5b3V0SWQoXG4gICAgYXBwQ29uZmlnLnBhZ2VzW3BhZ2VJZF0ubGF5b3V0LFxuICAgIGJyb3dzZXJTaXplTW9kZSxcbiAgICBhcHBDb25maWcubWFpblNpemVNb2RlXG4gICk7XG4gIHJldHVybiBnZXRXaWRnZXRzT3JTZWN0aW9uc0luTGF5b3V0V2l0aExheW91dFdpZGdldE9ubHkoXG4gICAgYXBwQ29uZmlnLFxuICAgIGxheW91dElkLFxuICAgIHR5cGUsXG4gICAgYnJvd3NlclNpemVNb2RlXG4gICk7XG59XG5cbi8qKlxuICogUmV0dXJuIHRoZSB3aWRnZXQvc2VjdGlvbiBpZHMgaW4gdGhlIGRpYWxvZywgY29uc2lkZXIgdGhlIHNlY3Rpb25zL3dpZGdldHMgaW4gbGF5b3V0IHdpZGdldFxuICogQHBhcmFtIGFwcENvbmZpZ1xuICogQHBhcmFtIGRpYWxvZ0lkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRXaWRnZXRzT3JTZWN0aW9uc0luRGlhbG9nKGFwcENvbmZpZzogSU1BcHBDb25maWcsIGRpYWxvZ0lkOiBzdHJpbmcsIHR5cGU6IExheW91dEl0ZW1UeXBlLCBicm93c2VyU2l6ZU1vZGU6IEJyb3dzZXJTaXplTW9kZSk6IHN0cmluZ1tdIHtcbiAgY29uc3QgbGF5b3V0SWQgPSBmaW5kTGF5b3V0SWQoXG4gICAgYXBwQ29uZmlnLmRpYWxvZ3NbZGlhbG9nSWRdLmxheW91dCxcbiAgICBicm93c2VyU2l6ZU1vZGUsXG4gICAgYXBwQ29uZmlnLm1haW5TaXplTW9kZVxuICApO1xuICByZXR1cm4gZ2V0V2lkZ2V0c09yU2VjdGlvbnNJbkxheW91dFdpdGhMYXlvdXRXaWRnZXRPbmx5KFxuICAgIGFwcENvbmZpZyxcbiAgICBsYXlvdXRJZCxcbiAgICB0eXBlLFxuICAgIGJyb3dzZXJTaXplTW9kZVxuICApO1xufVxuXG4vKipcbiAqIFJldHVybiB0aGUgc2VjdGlvbiBpZHMgaW4gdGhlIHZpZXcsIGNvbnNpZGVyIHRoZSBzZWN0aW9ucyBpbiBsYXlvdXQgd2lkZ2V0XG4gKiBAcGFyYW0gYXBwQ29uZmlnXG4gKiBAcGFyYW0gdmlld0lkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRXaWRnZXRzT3JTZWN0aW9uc0luVmlldyhhcHBDb25maWc6IElNQXBwQ29uZmlnLCB2aWV3SWQ6IHN0cmluZywgdHlwZTogTGF5b3V0SXRlbVR5cGUsIGJyb3dzZXJTaXplTW9kZTogQnJvd3NlclNpemVNb2RlKTogc3RyaW5nW10ge1xuICBjb25zdCBsYXlvdXRJZCA9IGZpbmRMYXlvdXRJZChcbiAgICBhcHBDb25maWcudmlld3Nbdmlld0lkXT8ubGF5b3V0LFxuICAgIGJyb3dzZXJTaXplTW9kZSxcbiAgICBhcHBDb25maWcubWFpblNpemVNb2RlXG4gICk7XG4gIHJldHVybiBnZXRXaWRnZXRzT3JTZWN0aW9uc0luTGF5b3V0V2l0aExheW91dFdpZGdldE9ubHkoXG4gICAgYXBwQ29uZmlnLFxuICAgIGxheW91dElkLFxuICAgIHR5cGUsXG4gICAgYnJvd3NlclNpemVNb2RlXG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmaW5kTGF5b3V0SWQoXG4gIGxheW91dHM6IElNU2l6ZU1vZGVMYXlvdXRKc29uLFxuICBicm93c2VyU2l6ZU1vZGU6IEJyb3dzZXJTaXplTW9kZSxcbiAgbWFpblNpemVNb2RlOiBCcm93c2VyU2l6ZU1vZGVcbik6IHN0cmluZyB7XG4gIGlmICghbGF5b3V0cykge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHJldHVybiBsYXlvdXRzW2Jyb3dzZXJTaXplTW9kZV0gfHwgbGF5b3V0c1ttYWluU2l6ZU1vZGVdO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0V2lkZ2V0c09yU2VjdGlvbnNJblBhZ2VIZWFkZXIoYXBwQ29uZmlnOiBJTUFwcENvbmZpZywgdHlwZTogTGF5b3V0SXRlbVR5cGUsIGJyb3dzZXJTaXplTW9kZTogQnJvd3NlclNpemVNb2RlKTogc3RyaW5nW10ge1xuICBjb25zdCBsYXlvdXRJZCA9IGZpbmRMYXlvdXRJZChcbiAgICBhcHBDb25maWcuaGVhZGVyLmxheW91dCxcbiAgICBicm93c2VyU2l6ZU1vZGUsXG4gICAgYXBwQ29uZmlnLm1haW5TaXplTW9kZVxuICApO1xuICByZXR1cm4gZ2V0V2lkZ2V0c09yU2VjdGlvbnNJbkxheW91dFdpdGhMYXlvdXRXaWRnZXRPbmx5KFxuICAgIGFwcENvbmZpZyxcbiAgICBsYXlvdXRJZCxcbiAgICB0eXBlLFxuICAgIGJyb3dzZXJTaXplTW9kZVxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0V2lkZ2V0c09yU2VjdGlvbnNJblBhZ2VGb290ZXIoYXBwQ29uZmlnOiBJTUFwcENvbmZpZywgdHlwZTogTGF5b3V0SXRlbVR5cGUsIGJyb3dzZXJTaXplTW9kZTogQnJvd3NlclNpemVNb2RlKTogc3RyaW5nW10ge1xuICBjb25zdCBsYXlvdXRJZCA9IGZpbmRMYXlvdXRJZChcbiAgICBhcHBDb25maWcuZm9vdGVyLmxheW91dCxcbiAgICBicm93c2VyU2l6ZU1vZGUsXG4gICAgYXBwQ29uZmlnLm1haW5TaXplTW9kZVxuICApO1xuICByZXR1cm4gZ2V0V2lkZ2V0c09yU2VjdGlvbnNJbkxheW91dFdpdGhMYXlvdXRXaWRnZXRPbmx5KFxuICAgIGFwcENvbmZpZyxcbiAgICBsYXlvdXRJZCxcbiAgICB0eXBlLFxuICAgIGJyb3dzZXJTaXplTW9kZVxuICApO1xufVxuXG4vKipcbiAqIEluIG9uZSBsYXlvdXQsIG9uZSB3aWRnZXQvc2VjdGlvbiBpcyBOT1QgYWxsb3dlZCBiZSBwdXQgaW4gbW9yZSB0aGFuIG9uZSBsYXlvdXQgaXRlbS5cbiAqIEhvd2V2ZXIsIGluIHdpZGdldCB0aGF0IGhhcyBsYXlvdXRzLCBvbmUgd2lkZ2V0L3NlY3Rpb24gbWF5IGJlIHB1dCBpbiBtdWx0aXBsZSBsYXlvdXRzLlxuICpcbiAqIGlmIGBzaXplTW9kZWAgaXMgcGFzc2VkIGluLCByZXR1cm4gdGhlIGl0ZW1zIGluIHRoZSBzaXplIG1vZGUgb25seSwgZWxzZSByZXR1cm4gYWxsIGl0ZW1zXG4gKiBAcGFyYW0gYXBwQ29uZmlnXG4gKiBAcGFyYW0gdHlwZVxuICogQHBhcmFtIGlkXG4gKiBAcGFyYW0gc2l6ZU1vZGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldExheW91dEl0ZW1zSG9sZFdpZGdldE9yU2VjdGlvbihcbiAgYXBwQ29uZmlnOiBJTUFwcENvbmZpZyxcbiAgdHlwZTogTGF5b3V0SXRlbVR5cGUsXG4gIGlkOiBzdHJpbmcsXG4gIHNpemVNb2RlPzogQnJvd3NlclNpemVNb2RlXG4pOiBMYXlvdXRJbmZvW10ge1xuICBpZiAoc2l6ZU1vZGUpIHtcbiAgICBjb25zdCBwV2lkZ2V0SWQgPSBnZXRQYXJlbnRXaWRnZXRJZE9mV2lkZ2V0T3JTZWN0aW9uKGFwcENvbmZpZywgaWQsIHR5cGUsIHNpemVNb2RlKTtcbiAgICBpZiAocFdpZGdldElkKSB7XG4gICAgICByZXR1cm4gZ2V0TGF5b3V0SW5mb3NJbldpZGdldEJ5V2lkZ2V0T3JTZWN0aW9uSWQoYXBwQ29uZmlnLCBpZCwgdHlwZSwgcFdpZGdldElkLCBzaXplTW9kZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGNvbnRhaW5lckluZm8gPSBnZXRXaWRnZXRPclNlY3Rpb25Db250YWluZXJJbmZvKGFwcENvbmZpZywgaWQsIHR5cGUsIHNpemVNb2RlKTtcbiAgICAgIGlmICghY29udGFpbmVySW5mbykge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBjb25zdCBsYXlvdXRJZCA9IGdldENvbnRhaW5lckxheW91dElkKGFwcENvbmZpZywgY29udGFpbmVySW5mbywgc2l6ZU1vZGUpO1xuICAgICAgY29uc3QgaXRlbSA9IGdldENvbnRhaW5lckxheW91dEl0ZW0oYXBwQ29uZmlnLmxheW91dHNbbGF5b3V0SWRdLCBpZCwgdHlwZSk7XG4gICAgICByZXR1cm4gW1xuICAgICAgICB7XG4gICAgICAgICAgbGF5b3V0SWQsXG4gICAgICAgICAgbGF5b3V0SXRlbUlkOiBpdGVtLmlkLFxuICAgICAgICB9LFxuICAgICAgXTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgcmVzdWx0ID0gW107XG4gICAgT2JqZWN0LmtleXMoYXBwQ29uZmlnLmxheW91dHMpLmZvckVhY2gobGF5b3V0SWQgPT4ge1xuICAgICAgZ2V0TGF5b3V0SXRlbUlkcyhhcHBDb25maWcsIGxheW91dElkLCB0cnVlKS5mb3JFYWNoKGxheW91dEl0ZW1JZCA9PiB7XG4gICAgICAgIGNvbnN0IGxheW91dEl0ZW0gPSBhcHBDb25maWcubGF5b3V0c1tsYXlvdXRJZF0uY29udGVudFtsYXlvdXRJdGVtSWRdO1xuICAgICAgICBpZiAodHlwZSA9PT0gbGF5b3V0SXRlbS50eXBlICYmIChsYXlvdXRJdGVtLndpZGdldElkID09PSBpZCB8fCBsYXlvdXRJdGVtLnNlY3Rpb25JZCA9PT0gaWQpKSB7XG4gICAgICAgICAgcmVzdWx0LnB1c2goe1xuICAgICAgICAgICAgbGF5b3V0SWQsXG4gICAgICAgICAgICBsYXlvdXRJdGVtSWQsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0Q29udGFpbmVyTGF5b3V0SWQoXG4gIGFwcENvbmZpZzogSU1BcHBDb25maWcsXG4gIGNvbnRhaW5lckluZm86IHsgdHlwZTogQ29udGFpbmVyVHlwZTsgaWQ6IHN0cmluZyB9LFxuICBzaXplTW9kZTogQnJvd3NlclNpemVNb2RlXG4pOiBzdHJpbmcge1xuICBpZiAoY29udGFpbmVySW5mby50eXBlID09PSBDb250YWluZXJUeXBlLkZvb3Rlcikge1xuICAgIHJldHVybiBhcHBDb25maWcuZm9vdGVyLmxheW91dFtzaXplTW9kZV07XG4gIH0gZWxzZSBpZiAoY29udGFpbmVySW5mby50eXBlID09PSBDb250YWluZXJUeXBlLkhlYWRlcikge1xuICAgIHJldHVybiBhcHBDb25maWcuaGVhZGVyLmxheW91dFtzaXplTW9kZV07XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGFwcENvbmZpZ1tjb250YWluZXJJbmZvLnR5cGVdW2NvbnRhaW5lckluZm8uaWRdLmxheW91dFtzaXplTW9kZV07XG4gIH1cbn1cblxuLyoqXG4gKiBGaW5kIGEgd2lkZ2V0IGlkIChwYXJlbnQgd2lkZ2V0IGlkKSB0aGF0IHRoZSB3aWRnZXQgbGF5b3V0IGNvbnRhaW5zIHRoZSB3aWRnZXRJZC9zZWN0aW9uSWQuXG4gKiBSZXR1cm4gdGhlIGRpcmVjdCBwYXJlbnQgb25seS5cbiAqIEBwYXJhbSBhcHBDb25maWdcbiAqIEBwYXJhbSBpZCB0aGUgd2lkZ2V0L3NlY3Rpb24gaWRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFBhcmVudFdpZGdldElkT2ZXaWRnZXRPclNlY3Rpb24oXG4gIGFwcENvbmZpZzogSU1BcHBDb25maWcsXG4gIGlkOiBzdHJpbmcsXG4gIHR5cGU6IExheW91dEl0ZW1UeXBlLFxuICBzaXplTW9kZTogQnJvd3NlclNpemVNb2RlXG4pOiBzdHJpbmcge1xuICByZXR1cm4gT2JqZWN0LmtleXMoYXBwQ29uZmlnLndpZGdldHMpLmZpbmQoKHdJZDogc3RyaW5nKSA9PiB7XG4gICAgY29uc3Qgd2lkZ2V0ID0gYXBwQ29uZmlnLndpZGdldHNbd0lkXTtcbiAgICBpZiAod2lkZ2V0LmxheW91dHMpIHtcbiAgICAgIHJldHVybiBPYmplY3Qua2V5cyh3aWRnZXQubGF5b3V0cykuc29tZShuYW1lID0+IHtcbiAgICAgICAgY29uc3QgbGF5b3V0SWQgPSB3aWRnZXQubGF5b3V0c1tuYW1lXVtzaXplTW9kZV07XG4gICAgICAgIGNvbnN0IGxheW91dEpzb24gPSBhcHBDb25maWcubGF5b3V0c1tsYXlvdXRJZF07XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgbGF5b3V0SnNvbiAmJlxuICAgICAgICAgIGxheW91dEpzb24uY29udGVudCAmJlxuICAgICAgICAgIE9iamVjdC5rZXlzKGxheW91dEpzb24uY29udGVudCkuZmluZChcbiAgICAgICAgICAgIGtleSA9PlxuICAgICAgICAgICAgICBsYXlvdXRKc29uLmNvbnRlbnRba2V5XS50eXBlID09PSB0eXBlICYmXG4gICAgICAgICAgICAgIChsYXlvdXRKc29uLmNvbnRlbnRba2V5XS53aWRnZXRJZCA9PT0gaWQgfHwgbGF5b3V0SnNvbi5jb250ZW50W2tleV0uc2VjdGlvbklkID09PSBpZClcbiAgICAgICAgICApICE9PSB1bmRlZmluZWRcbiAgICAgICAgKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG59XG5cbi8qKlxuICogR2V0IGNoaWxkcmVuIHdpZGdldHMvc2VjdGlvbnMgaW4gYSB3aWRnZXQsIGZpbmQgb25lIGxldmVsIG9ubHkuIEluY2x1ZGVzIGFsbCBzaXplIG1vZGVcbiAqIEBwYXJhbSBhcHBDb25maWdcbiAqIEBwYXJhbSBwYXJlbnRXaWRnZXRJZFxuICogQHBhcmFtIHR5cGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldENoaWxkcmVuV2lkZ2V0c09yU2VjdGlvbnMoXG4gIGFwcENvbmZpZzogSU1BcHBDb25maWcsXG4gIHBhcmVudFdpZGdldElkOiBzdHJpbmcsXG4gIHR5cGU6IExheW91dEl0ZW1UeXBlLFxuICB3aXRoUGVuZGluZzogYm9vbGVhblxuKTogc3RyaW5nW10ge1xuICBjb25zdCBwYXJlbnRXaWRnZXRKc29uID0gYXBwQ29uZmlnLndpZGdldHNbcGFyZW50V2lkZ2V0SWRdO1xuICBpZiAoIXBhcmVudFdpZGdldEpzb24ubGF5b3V0cykge1xuICAgIHJldHVybiBbXTtcbiAgfVxuICBsZXQgcmV0OiBzdHJpbmdbXSA9IFtdO1xuICBPYmplY3Qua2V5cyhwYXJlbnRXaWRnZXRKc29uLmxheW91dHMpLmZvckVhY2gobGF5b3V0TmFtZSA9PiB7XG4gICAgT2JqZWN0LmtleXMocGFyZW50V2lkZ2V0SnNvbi5sYXlvdXRzW2xheW91dE5hbWVdKS5mb3JFYWNoKHNpemVNb2RlID0+IHtcbiAgICAgIGNvbnN0IGxheW91dEpzb24gPSBhcHBDb25maWcubGF5b3V0c1twYXJlbnRXaWRnZXRKc29uLmxheW91dHNbbGF5b3V0TmFtZV1bc2l6ZU1vZGVdXTtcbiAgICAgIHJldCA9IHJldC5jb25jYXQoZ2V0Q29udGVudHNJbkxheW91dChsYXlvdXRKc29uLCB0eXBlLCB3aXRoUGVuZGluZykpO1xuICAgIH0pO1xuICB9KTtcblxuICAvLyByZW1vdmUgZHVwbGljYXRlc1xuICByZXR1cm4gQXJyYXkuZnJvbShuZXcgU2V0KHJldCkpO1xufVxuXG4vKipcbiAqIFJldHVybiB0aGUgbGF5b3V0SW5mbyBmb3IgdGhlIHdpZGdldC9zZWN0aW9uLCB0aGVyZSBtYXkgYmUgbXVsdGlwbGUgbGF5b3V0SW5mb3MgZm9yIHRoZSB3aWRnZXQvc2VjdGlvbi5cbiAqXG4gKiBPbmUgd2lkZ2V0L3NlY3Rpb24gaXMgYWxsb3dlZCB0byBiZSBwdXQgaW4gb25lIGxheW91dCBvbmx5IG9uZSB0aW1lLCBidXQgaXQncyBhbGxvd2VkIGJlIHB1dCBpbiBtdWx0aWxlIGxheW91dHMuXG4gKiBUaGVyZSBhcmUgMiBjYXNlcyBmb3IgbXVsdGlwbGUgbGF5b3V0czpcbiAqICAgICogT25lIHdpZGdldC9zZWN0aW9uIGlzIGFsbG93ZWQgdG8gYmUgcHV0IGluIG11bHRpcGxlIHNpemUgbW9kZSAodGhpcyBmdW5jdGlvbiBpcyBmb3Igb25lIHNpemUgbW9kZSBvbmx5LCBzbyB3ZSBkb24ndCBjb25zaWRlciB0aGlzIGNhc2UpXG4gKiAgICAqIEluIG9uZSBzaXplIG1vZGUsIG9uZSB3aWRnZXQgKGkuZS4gTGlzdCB3aWRnZXQpIG1heSBoYXZlIG11bHRpcGxlIHN0YXRlIGxheW91dHMgdG8gaG9sZCB0aGUgc2FtZSB3aWRnZXQuXG4gKiBAcGFyYW0gYXBwQ29uZmlnXG4gKiBAcGFyYW0gY29udGVudElkXG4gKiBAcGFyYW0gdHlwZVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0V2lkZ2V0T3JTZWN0aW9uTGF5b3V0SW5mb3NJbk9uZVNpemVNb2RlKFxuICBhcHBDb25maWc6IElNQXBwQ29uZmlnLFxuICBjb250ZW50SWQ6IHN0cmluZyxcbiAgdHlwZTogTGF5b3V0SXRlbVR5cGUsXG4gIHNpemVNb2RlOiBCcm93c2VyU2l6ZU1vZGVcbik6IExheW91dEluZm9bXSB7XG4gIGNvbnN0IGxheW91dEluZm9zOiBMYXlvdXRJbmZvW10gPSBbXTtcbiAgbGV0IGhhc0ZvdW5kID0gZmFsc2U7XG5cbiAgY29uc3QgZ2V0TGF5b3V0SW5mbyA9IChcbiAgICBhcHBDb25maWc6IElNQXBwQ29uZmlnLFxuICAgIGNvbnRlbnRJZDogc3RyaW5nLFxuICAgIGxheW91dHM6IElNU2l6ZU1vZGVMYXlvdXRKc29uLFxuICAgIHR5cGU6IExheW91dEl0ZW1UeXBlXG4gICk6IExheW91dEluZm8gPT4ge1xuICAgIGNvbnN0IGxheW91dElkID0gZmluZExheW91dElkKGxheW91dHMsIHNpemVNb2RlLCB1bmRlZmluZWQpO1xuICAgIGNvbnN0IGxpID0gZ2V0Q29udGFpbmVyTGF5b3V0SXRlbShhcHBDb25maWcubGF5b3V0c1tsYXlvdXRJZF0sIGNvbnRlbnRJZCwgdHlwZSk7XG4gICAgbGV0IGxheW91dEluZm8gPSB1bmRlZmluZWQ7XG4gICAgaWYgKGxpKSB7XG4gICAgICBsYXlvdXRJbmZvID0geyBsYXlvdXRJZDogbGF5b3V0SWQsIGxheW91dEl0ZW1JZDogbGkuaWQgfTtcbiAgICAgIGxheW91dEluZm9zLnB1c2gobGF5b3V0SW5mbyk7XG4gICAgICBoYXNGb3VuZCA9IHRydWU7XG4gICAgfVxuICAgIHJldHVybiBsYXlvdXRJbmZvO1xuICB9O1xuXG4gIGFwcENvbmZpZy5wYWdlcyAmJlxuICAgIE9iamVjdC5rZXlzKGFwcENvbmZpZy5wYWdlcykuZmluZChwYWdlSWQgPT4ge1xuICAgICAgY29uc3QgcGFnZUpzb24gPSBhcHBDb25maWcucGFnZXNbcGFnZUlkXTtcbiAgICAgIGlmIChwYWdlSnNvbi5sYXlvdXQgJiYgZ2V0TGF5b3V0SW5mbyhhcHBDb25maWcsIGNvbnRlbnRJZCwgcGFnZUpzb24ubGF5b3V0LCB0eXBlKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9KTtcbiAgaWYgKGhhc0ZvdW5kKSB7XG4gICAgcmV0dXJuIGxheW91dEluZm9zO1xuICB9XG5cbiAgYXBwQ29uZmlnLnZpZXdzICYmXG4gICAgT2JqZWN0LmtleXMoYXBwQ29uZmlnLnZpZXdzKS5maW5kKHZpZXdJZCA9PiB7XG4gICAgICBjb25zdCB2aWV3SnNvbiA9IGFwcENvbmZpZy52aWV3c1t2aWV3SWRdO1xuICAgICAgaWYgKGdldExheW91dEluZm8oYXBwQ29uZmlnLCBjb250ZW50SWQsIHZpZXdKc29uLmxheW91dCwgdHlwZSkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSk7XG4gIGlmIChoYXNGb3VuZCkge1xuICAgIHJldHVybiBsYXlvdXRJbmZvcztcbiAgfVxuXG4gIGFwcENvbmZpZy5kaWFsb2dzICYmXG4gICAgT2JqZWN0LmtleXMoYXBwQ29uZmlnLmRpYWxvZ3MpLmZpbmQoZGlhbG9nSWQgPT4ge1xuICAgICAgY29uc3QgZGlhbG9nSnNvbiA9IGFwcENvbmZpZy5kaWFsb2dzW2RpYWxvZ0lkXTtcbiAgICAgIGlmIChnZXRMYXlvdXRJbmZvKGFwcENvbmZpZywgY29udGVudElkLCBkaWFsb2dKc29uLmxheW91dCwgdHlwZSkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSk7XG4gIGlmIChoYXNGb3VuZCkge1xuICAgIHJldHVybiBsYXlvdXRJbmZvcztcbiAgfVxuXG4gIGFwcENvbmZpZy5oZWFkZXIgJiYgZ2V0TGF5b3V0SW5mbyhhcHBDb25maWcsIGNvbnRlbnRJZCwgYXBwQ29uZmlnLmhlYWRlci5sYXlvdXQsIHR5cGUpO1xuICBpZiAoaGFzRm91bmQpIHtcbiAgICByZXR1cm4gbGF5b3V0SW5mb3M7XG4gIH1cblxuICBhcHBDb25maWcuZm9vdGVyICYmIGdldExheW91dEluZm8oYXBwQ29uZmlnLCBjb250ZW50SWQsIGFwcENvbmZpZy5mb290ZXIubGF5b3V0LCB0eXBlKTtcbiAgaWYgKGhhc0ZvdW5kKSB7XG4gICAgcmV0dXJuIGxheW91dEluZm9zO1xuICB9XG5cbiAgYXBwQ29uZmlnLndpZGdldHMgJiZcbiAgICBPYmplY3Qua2V5cyhhcHBDb25maWcud2lkZ2V0cykuZmluZCh3aWRnZXRJZCA9PiB7XG4gICAgICBjb25zdCB3aWRnZXRKc29uID0gYXBwQ29uZmlnLndpZGdldHNbd2lkZ2V0SWRdO1xuICAgICAgd2lkZ2V0SnNvbi5sYXlvdXRzICYmXG4gICAgICAgIE9iamVjdC5rZXlzKHdpZGdldEpzb24ubGF5b3V0cykuZm9yRWFjaChuYW1lID0+IHtcbiAgICAgICAgICBnZXRMYXlvdXRJbmZvKGFwcENvbmZpZywgY29udGVudElkLCB3aWRnZXRKc29uLmxheW91dHNbbmFtZV0sIHR5cGUpO1xuICAgICAgICB9KTtcbiAgICAgIGlmIChoYXNGb3VuZCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9KTtcblxuICByZXR1cm4gbGF5b3V0SW5mb3M7XG59XG5cbi8qKlxuICogUmV0dXJuIHRoZSBzaXplIG1vZGUgb2YgdGhlIGxheW91dC4gQmVjYXVzZSB1bmRlciBvbmUgc2l6ZSBtb2RlLlxuICogT25seSB3aWRnZXQgbWF5IGhhdmUgbXVsdGlwbGUgbGF5b3V0cywgYW5kIHRoaXMgZnVuY3Rpb24gaXMgdXNlZCBvbmx5IGZvciB3aWRnZXRzIHRoYXQgaGF2ZSBsYXlvdXRzLCBzbyBwYXNzIHdpZGdldCBpZCB0byBtYWtlIHRoZSBzZWFyY2ggZWFzeS5cbiAqIEBwYXJhbSBhcHBDb25maWdcbiAqIEBwYXJhbSBsYXlvdXRJZFxuICogQHBhcmFtIHdpZGdldElkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRCcm93c2VyU2l6ZU1vZGVCeUxheW91dElkQW5kV2lkZ2V0SWQoXG4gIGFwcENvbmZpZzogSU1BcHBDb25maWcsXG4gIGxheW91dElkOiBzdHJpbmcsXG4gIHdpZGdldElkOiBzdHJpbmdcbik6IEJyb3dzZXJTaXplTW9kZSB7XG4gIGNvbnN0IHdpZGdldEpzb24gPSBhcHBDb25maWcud2lkZ2V0c1t3aWRnZXRJZF07XG4gIGlmICghd2lkZ2V0SnNvbikgcmV0dXJuIHVuZGVmaW5lZDtcbiAgbGV0IHNpemVNb2RlID0gdW5kZWZpbmVkO1xuICBPYmplY3Qua2V5cyh3aWRnZXRKc29uLmxheW91dHMpLmZpbmQobmFtZSA9PiB7XG4gICAgY29uc3QgcmVzID0gT2JqZWN0LmtleXMod2lkZ2V0SnNvbi5sYXlvdXRzW25hbWVdKS5maW5kKGRldmljZSA9PiB7XG4gICAgICBpZiAod2lkZ2V0SnNvbi5sYXlvdXRzW25hbWVdW2RldmljZV0gPT09IGxheW91dElkKSB7XG4gICAgICAgIHNpemVNb2RlID0gZGV2aWNlO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAocmVzKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gc2l6ZU1vZGU7XG59XG5cbi8qKlxuICogZmluZCBhbGwgbGF5b3V0SW5mb3MgdGhhdCB0aGUgY29udGVudCBpZCwgc2VjdGlvbiBvciB3aWRnZXQsIGlzIGVxdWFsIHRvIGVhY2ggb3RoZXIgaW4gdGhlIHdpZGdldCBvbiB0aGUgYnJvd3NlclNpemVNb2RlXG4gKlxuICogQHBhcmFtIGFwcENvbmZpZ1xuICogQHBhcmFtIGxheW91dEluZm9cbiAqIEBwYXJhbSBwYXJlbnRXSWRcbiAqIEBwYXJhbSBzaXplTW9kZVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0TGF5b3V0SW5mb3NJbldpZGdldEJ5TGF5b3V0SW5mbyhcbiAgYXBwQ29uZmlnOiBJTUFwcENvbmZpZyxcbiAgbGF5b3V0SW5mbzogTGF5b3V0SW5mbyxcbiAgcGFyZW50V0lkOiBzdHJpbmcsXG4gIHNpemVNb2RlOiBCcm93c2VyU2l6ZU1vZGVcbik6IExheW91dEluZm9bXSB7XG4gIGNvbnN0IHBhcmVudFdpZGdldCA9IGFwcENvbmZpZy53aWRnZXRzW3BhcmVudFdJZF07XG4gIGlmICghcGFyZW50V2lkZ2V0KSByZXR1cm4gW107XG4gIGNvbnN0IGxheW91dEl0ZW0gPVxuICAgIGFwcENvbmZpZy5sYXlvdXRzW2xheW91dEluZm8ubGF5b3V0SWRdICYmXG4gICAgYXBwQ29uZmlnLmxheW91dHNbbGF5b3V0SW5mby5sYXlvdXRJZF0uY29udGVudCAmJlxuICAgIGFwcENvbmZpZy5sYXlvdXRzW2xheW91dEluZm8ubGF5b3V0SWRdLmNvbnRlbnRbbGF5b3V0SW5mby5sYXlvdXRJdGVtSWRdO1xuICBpZiAoIWxheW91dEl0ZW0pIHJldHVybiBbXTtcblxuICBjb25zdCBjb250ZW50VHlwZSA9IGxheW91dEl0ZW0udHlwZTtcbiAgbGV0IGNvbnRlbnRJZCA9IHVuZGVmaW5lZDtcbiAgLy8gTm8gbmVlZCB0byBkZWFsIHdpdGggc2NyZWVuIGdyb3VwIGFzIGl0IGNhbm5vdCBiZSBwbGFjZWQgaW4gYSBsYXlvdXQgd2lkZ2V0XG4gIGlmIChjb250ZW50VHlwZSA9PT0gTGF5b3V0SXRlbVR5cGUuU2VjdGlvbikge1xuICAgIGNvbnRlbnRJZCA9IGxheW91dEl0ZW0uc2VjdGlvbklkO1xuICB9IGVsc2UgaWYgKGNvbnRlbnRUeXBlID09PSBMYXlvdXRJdGVtVHlwZS5XaWRnZXQpIHtcbiAgICBjb250ZW50SWQgPSBsYXlvdXRJdGVtLndpZGdldElkO1xuICB9XG5cbiAgLy8gd2lkZ2V0SWQgbWF5IGJlIHVuZGVmaW5lZCBmb3IgcGxhY2Vob2xkZXJcbiAgaWYgKCFjb250ZW50SWQpIHtcbiAgICBpZiAoY2hlY2tJc0xheW91dEluZm9JbldpZGdldChhcHBDb25maWcsIHBhcmVudFdJZCwgbGF5b3V0SW5mbykpIHtcbiAgICAgIHJldHVybiBbbGF5b3V0SW5mb107XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZ2V0TGF5b3V0SW5mb3NJbldpZGdldEJ5V2lkZ2V0T3JTZWN0aW9uSWQoYXBwQ29uZmlnLCBjb250ZW50SWQsIGNvbnRlbnRUeXBlLCBwYXJlbnRXSWQsIHNpemVNb2RlKTtcbn1cblxuLyoqXG4gKiBTYW1lIGFzIGBnZXRMYXlvdXRJbmZvc0luV2lkZ2V0QnlMYXlvdXRJbmZvYCwgYnV0IHJldHVybiB0aGUgbGF5b3V0IGl0ZW1zXG4gKiBAcGFyYW0gYXBwQ29uZmlnXG4gKiBAcGFyYW0gbGF5b3V0SW5mb1xuICogQHBhcmFtIHBhcmVudFdJZFxuICogQHBhcmFtIGJyb3dzZXJTaXplTW9kZVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0TGF5b3V0SXRlbXNJbldpZGdldEJ5TGF5b3V0SW5mbyhcbiAgYXBwQ29uZmlnOiBJTUFwcENvbmZpZyxcbiAgbGF5b3V0SW5mbzogTGF5b3V0SW5mbyxcbiAgcGFyZW50V0lkOiBzdHJpbmcsXG4gIGJyb3dzZXJTaXplTW9kZTogQnJvd3NlclNpemVNb2RlXG4pOiBMYXlvdXRJdGVtSnNvbltdIHtcbiAgcmV0dXJuIGdldExheW91dEluZm9zSW5XaWRnZXRCeUxheW91dEluZm8oYXBwQ29uZmlnLCBsYXlvdXRJbmZvLCBwYXJlbnRXSWQsIGJyb3dzZXJTaXplTW9kZSkubWFwKFxuICAgIGxheW91dEluZm8gPT4gYXBwQ29uZmlnLmxheW91dHNbbGF5b3V0SW5mby5sYXlvdXRJZF1bbGF5b3V0SW5mby5sYXlvdXRJdGVtSWRdXG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRMYXlvdXRJbmZvc0luV2lkZ2V0QnlXaWRnZXRPclNlY3Rpb25JZChcbiAgYXBwQ29uZmlnOiBJTUFwcENvbmZpZyxcbiAgaWQ6IHN0cmluZyxcbiAgdHlwZTogTGF5b3V0SXRlbVR5cGUsXG4gIHBhcmVudFdJZDogc3RyaW5nLFxuICBicm93c2VyU2l6ZU1vZGU6IEJyb3dzZXJTaXplTW9kZVxuKTogTGF5b3V0SW5mb1tdIHtcbiAgY29uc3QgcGFyZW50V2lkZ2V0ID0gYXBwQ29uZmlnLndpZGdldHNbcGFyZW50V0lkXTtcbiAgaWYgKCFwYXJlbnRXaWRnZXQgfHwgIWlkKSByZXR1cm4gW107XG4gIGNvbnN0IGl0ZW1zID0gW107XG4gIHBhcmVudFdpZGdldC5sYXlvdXRzICYmXG4gICAgT2JqZWN0LmtleXMocGFyZW50V2lkZ2V0LmxheW91dHMpLmZvckVhY2gocyA9PiB7XG4gICAgICBjb25zdCBsYXlvdXRJZCA9IHBhcmVudFdpZGdldC5sYXlvdXRzW3NdW2Jyb3dzZXJTaXplTW9kZV07XG4gICAgICBjb25zdCBsYXlvdXRKc29uID0gYXBwQ29uZmlnLmxheW91dHNbbGF5b3V0SWRdO1xuICAgICAgbGF5b3V0SnNvbiAmJlxuICAgICAgICBsYXlvdXRKc29uLmNvbnRlbnQgJiZcbiAgICAgICAgT2JqZWN0LmtleXMobGF5b3V0SnNvbi5jb250ZW50KS5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAgICAgY29uc3QgbGF5b3V0RWxlID0gbGF5b3V0SnNvbi5jb250ZW50W2tleV07XG4gICAgICAgICAgaWYgKGxheW91dEVsZS50eXBlID09PSB0eXBlICYmIChsYXlvdXRFbGUud2lkZ2V0SWQgPT09IGlkIHx8IGxheW91dEVsZS5zZWN0aW9uSWQgPT09IGlkKSkge1xuICAgICAgICAgICAgaXRlbXMucHVzaCh7XG4gICAgICAgICAgICAgIGxheW91dElkOiBsYXlvdXRKc29uLmlkLFxuICAgICAgICAgICAgICBsYXlvdXRJdGVtSWQ6IGxheW91dEVsZS5pZCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSBpZiAobGF5b3V0RWxlLnR5cGUgPT09IExheW91dEl0ZW1UeXBlLldpZGdldCkge1xuICAgICAgICAgICAgY29uc3Qgd0pzb24gPSBhcHBDb25maWcud2lkZ2V0c1tsYXlvdXRFbGUud2lkZ2V0SWRdO1xuICAgICAgICAgICAgaWYgKHdKc29uICYmIHdKc29uLm1hbmlmZXN0LndpZGdldFR5cGUgPT09IFdpZGdldFR5cGUuTGF5b3V0KSB7XG4gICAgICAgICAgICAgIGl0ZW1zLnB1c2goLi4uZ2V0TGF5b3V0SW5mb3NJbldpZGdldEJ5V2lkZ2V0T3JTZWN0aW9uSWQoYXBwQ29uZmlnLCBpZCwgdHlwZSwgd0pzb24uaWQsIGJyb3dzZXJTaXplTW9kZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG4gIHJldHVybiBpdGVtcztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNoZWNrSXNMYXlvdXRJbmZvSW5XaWRnZXQoYXBwQ29uZmlnOiBJTUFwcENvbmZpZywgcGFyZW50V0lkOiBzdHJpbmcsIGxheW91dEluZm86IExheW91dEluZm8pOiBib29sZWFuIHtcbiAgY29uc3QgcGFyZW50V2lkZ2V0ID0gYXBwQ29uZmlnLndpZGdldHNbcGFyZW50V0lkXTtcbiAgaWYgKCFwYXJlbnRXaWRnZXQpIHJldHVybiBmYWxzZTtcbiAgbGV0IGZpbmQgPSBmYWxzZTtcbiAgcGFyZW50V2lkZ2V0LmxheW91dHMgJiZcbiAgICBPYmplY3Qua2V5cyhwYXJlbnRXaWRnZXQubGF5b3V0cykuZm9yRWFjaChsYXlvdXROYW1lID0+IHtcbiAgICAgIGlmIChmaW5kKSByZXR1cm47XG4gICAgICBPYmplY3Qua2V5cyhwYXJlbnRXaWRnZXQubGF5b3V0c1tsYXlvdXROYW1lXSkuZm9yRWFjaChzaXplTW9kZSA9PiB7XG4gICAgICAgIGlmIChmaW5kKSByZXR1cm47XG4gICAgICAgIGNvbnN0IGxheW91dElkID0gcGFyZW50V2lkZ2V0LmxheW91dHNbbGF5b3V0TmFtZV1bc2l6ZU1vZGVdO1xuICAgICAgICBjb25zdCBsYXlvdXRJdGVtSWRzID0gZ2V0TGF5b3V0SXRlbUlkcyhhcHBDb25maWcsIGxheW91dElkLCB0cnVlKTtcbiAgICAgICAgbGF5b3V0SXRlbUlkcy5mb3JFYWNoKGl0ZW1JZCA9PiB7XG4gICAgICAgICAgaWYgKGZpbmQpIHJldHVybjtcbiAgICAgICAgICBpZiAobGF5b3V0SW5mby5sYXlvdXRJZCA9PT0gbGF5b3V0SWQgJiYgbGF5b3V0SW5mby5sYXlvdXRJdGVtSWQgPT09IGl0ZW1JZCkge1xuICAgICAgICAgICAgZmluZCA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICByZXR1cm4gZmluZDtcbn1cblxuLyoqXG4gKiBSZXR1cm4gdGhlIHdpZGdldC9zZWN0aW9uIGlkcyB0aGF0IGluIHRoZSBzYW1lIGNvbnRhaW5lciB3aXRoIHRoZSB3aWRnZXRcbiAqIEBwYXJhbSBhcHBDb25maWdcbiAqIEBwYXJhbSB3aWRnZXRJZFxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0V2lkZ2V0c09yU2VjdGlvbnNJblRoZVNhbWVDb250YWluZXIoXG4gIGFwcENvbmZpZzogSU1BcHBDb25maWcsXG4gIGlkOiBzdHJpbmcsXG4gIHR5cGU6IExheW91dEl0ZW1UeXBlLFxuICByZXRUeXBlOiBMYXlvdXRJdGVtVHlwZSxcbiAgc2l6ZU1vZGU6IEJyb3dzZXJTaXplTW9kZVxuKTogc3RyaW5nW10ge1xuICBjb25zdCBjb250YWluZXJJbmZvID0gZ2V0V2lkZ2V0T3JTZWN0aW9uQ29udGFpbmVySW5mbyhhcHBDb25maWcsIGlkLCB0eXBlLCBzaXplTW9kZSk7XG4gIGlmICghY29udGFpbmVySW5mbykge1xuICAgIHJldHVybiBbXTtcbiAgfVxuICBzd2l0Y2ggKGNvbnRhaW5lckluZm8udHlwZSkge1xuICAgIGNhc2UgQ29udGFpbmVyVHlwZS5QYWdlOlxuICAgICAgcmV0dXJuIGdldFdpZGdldHNPclNlY3Rpb25zSW5QYWdlQm9keShhcHBDb25maWcsIGNvbnRhaW5lckluZm8uaWQsIHJldFR5cGUsIHNpemVNb2RlKTtcbiAgICBjYXNlIENvbnRhaW5lclR5cGUuSGVhZGVyOlxuICAgICAgcmV0dXJuIGdldFdpZGdldHNPclNlY3Rpb25zSW5QYWdlSGVhZGVyKGFwcENvbmZpZywgcmV0VHlwZSwgc2l6ZU1vZGUpO1xuICAgIGNhc2UgQ29udGFpbmVyVHlwZS5Gb290ZXI6XG4gICAgICByZXR1cm4gZ2V0V2lkZ2V0c09yU2VjdGlvbnNJblBhZ2VGb290ZXIoYXBwQ29uZmlnLCByZXRUeXBlLCBzaXplTW9kZSk7XG4gICAgY2FzZSBDb250YWluZXJUeXBlLlZpZXc6XG4gICAgICByZXR1cm4gZ2V0V2lkZ2V0c09yU2VjdGlvbnNJblZpZXcoYXBwQ29uZmlnLCBjb250YWluZXJJbmZvLmlkLCByZXRUeXBlLCBzaXplTW9kZSk7XG4gICAgY2FzZSBDb250YWluZXJUeXBlLkRpYWxvZzpcbiAgICAgIHJldHVybiBnZXRXaWRnZXRzT3JTZWN0aW9uc0luRGlhbG9nKGFwcENvbmZpZywgY29udGFpbmVySW5mby5pZCwgcmV0VHlwZSwgc2l6ZU1vZGUpO1xuICB9XG59XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFhQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7O0FBR0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUFBO0FBRUE7QUFFQTs7Ozs7QUFLQTtBQUNBO0FBS0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFFQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBRUE7O0FBQ0E7O0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTs7Ozs7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBRUE7Ozs7Ozs7QUFPQTtBQUNBO0FBS0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7O0FBSUE7QUFDQTtBQU1BO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFLQTtBQU1BO0FBRUE7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFLQTtBQU1BO0FBRUE7Ozs7QUFJQTtBQUNBOztBQUNBO0FBS0E7QUFNQTtBQUVBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFLQTtBQU1BO0FBRUE7QUFDQTtBQUtBO0FBTUE7QUFFQTs7Ozs7Ozs7O0FBU0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBS0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7Ozs7QUFLQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQURBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7Ozs7QUFLQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBOzs7Ozs7Ozs7O0FBVUE7QUFDQTtBQU1BO0FBQ0E7QUFFQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTs7Ozs7O0FBTUE7QUFDQTtBQUtBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7Ozs7OztBQU9BO0FBQ0E7QUFNQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBOzs7Ozs7QUFNQTtBQUNBO0FBTUE7QUFHQTtBQUVBO0FBT0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7O0FBSUE7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./jimu-layouts/lib/search/contents.ts\n");

/***/ }),

/***/ "./jimu-layouts/lib/translations/default.ts":
/*!**************************************************!*\
  !*** ./jimu-layouts/lib/translations/default.ts ***!
  \**************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    previousView: 'Previous view',\n    nextView: 'Next view',\n    originTL: 'Top left as origin',\n    originTR: 'Top right as origin',\n    originBL: 'Bottom left as origin',\n    originBR: 'Bottom right as origin',\n    alignLeft: 'Align left',\n    alignRight: 'Align right',\n    alignTop: 'Align top',\n    alignCenter: 'Align center',\n    alignHCenter: 'Horizontal center',\n    alignVCenter: 'Vertical center',\n    alignBottom: 'Align bottom',\n    alignStretch: 'Align stretch',\n    sendBackward: 'Send backward',\n    bringForward: 'Bring forward',\n    sendToBack: 'Send to back',\n    bringToFront: 'Bring to front',\n    zoomoutFixed: 'Zoom out fixed',\n    order: 'Order',\n    moveToLeft: 'Move to left',\n    moveToRight: 'Move to right',\n    moveToTop: 'Move to top',\n    moveToBottom: 'Move to bottom',\n    addView: 'Add view',\n    previousScreen: 'Previous screen',\n    nextScreen: 'Next screen',\n    duplicateScreen: 'Duplicate screen',\n    deleteScreen: 'Delete screen',\n    applyToFirstPanel: 'Apply to the first panel',\n    deleteView: 'Delete view',\n    duplicateView: 'Duplicate view',\n    insertABlock: 'Insert block',\n    insertAScreenGroup: 'Insert screen group',\n    moveup: 'Move up',\n    movedown: 'Move down',\n    chooseTemplate: 'Choose a page template',\n    chooseHeaderTemplate: 'Choose a header template',\n    chooseFooterTemplate: 'Choose a footer template',\n    dropWidgetToAdd: 'Or drag a widget here',\n    snapToLeft: 'Snap to left',\n    snapToTop: 'Snap to top',\n    snapToBottom: 'Snap to bottom',\n    snapToRight: 'Snap to right',\n    fullWidth: 'Full width',\n    fullHeight: 'Full height',\n    fullSize: 'Full size',\n    restoreSize: 'Restore size',\n    pendingTip: 'Move to the pending list',\n    setting: 'Settings',\n    dragToMove: 'Drag to move',\n    lockLayout: 'Lock position and size',\n    unlockLayout: 'Unlock position and size',\n    editHeader: 'Edit header',\n    editFooter: 'Edit footer',\n    transform: 'Transform',\n    rotation: 'Rotation',\n    angle: 'Angle',\n    floating: 'Pin',\n    sinking: 'Unpin',\n    floatingArea: 'Floating area',\n    changeToAuto: 'Change to auto',\n    changeToCustom: 'Change to custom',\n    positionType: 'Position type',\n    sticky: 'Sticky',\n    fixed: 'Fixed',\n    flow: 'Flow',\n    stack: 'Stack',\n    fixedAtTop: 'Floating at the top when scrolling',\n    actNormal: 'Act as normal widget',\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWxheW91dHMvbGliL3RyYW5zbGF0aW9ucy9kZWZhdWx0LnRzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vamltdS1sYXlvdXRzL2xpYi90cmFuc2xhdGlvbnMvZGVmYXVsdC50cz9iOGYwIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IHtcbiAgcHJldmlvdXNWaWV3OiAnUHJldmlvdXMgdmlldycsXG4gIG5leHRWaWV3OiAnTmV4dCB2aWV3JyxcbiAgb3JpZ2luVEw6ICdUb3AgbGVmdCBhcyBvcmlnaW4nLFxuICBvcmlnaW5UUjogJ1RvcCByaWdodCBhcyBvcmlnaW4nLFxuICBvcmlnaW5CTDogJ0JvdHRvbSBsZWZ0IGFzIG9yaWdpbicsXG4gIG9yaWdpbkJSOiAnQm90dG9tIHJpZ2h0IGFzIG9yaWdpbicsXG4gIGFsaWduTGVmdDogJ0FsaWduIGxlZnQnLFxuICBhbGlnblJpZ2h0OiAnQWxpZ24gcmlnaHQnLFxuICBhbGlnblRvcDogJ0FsaWduIHRvcCcsXG4gIGFsaWduQ2VudGVyOiAnQWxpZ24gY2VudGVyJyxcbiAgYWxpZ25IQ2VudGVyOiAnSG9yaXpvbnRhbCBjZW50ZXInLFxuICBhbGlnblZDZW50ZXI6ICdWZXJ0aWNhbCBjZW50ZXInLFxuICBhbGlnbkJvdHRvbTogJ0FsaWduIGJvdHRvbScsXG4gIGFsaWduU3RyZXRjaDogJ0FsaWduIHN0cmV0Y2gnLFxuICBzZW5kQmFja3dhcmQ6ICdTZW5kIGJhY2t3YXJkJyxcbiAgYnJpbmdGb3J3YXJkOiAnQnJpbmcgZm9yd2FyZCcsXG4gIHNlbmRUb0JhY2s6ICdTZW5kIHRvIGJhY2snLFxuICBicmluZ1RvRnJvbnQ6ICdCcmluZyB0byBmcm9udCcsXG4gIHpvb21vdXRGaXhlZDogJ1pvb20gb3V0IGZpeGVkJyxcbiAgb3JkZXI6ICdPcmRlcicsXG4gIG1vdmVUb0xlZnQ6ICdNb3ZlIHRvIGxlZnQnLFxuICBtb3ZlVG9SaWdodDogJ01vdmUgdG8gcmlnaHQnLFxuICBtb3ZlVG9Ub3A6ICdNb3ZlIHRvIHRvcCcsXG4gIG1vdmVUb0JvdHRvbTogJ01vdmUgdG8gYm90dG9tJyxcbiAgYWRkVmlldzogJ0FkZCB2aWV3JyxcbiAgcHJldmlvdXNTY3JlZW46ICdQcmV2aW91cyBzY3JlZW4nLFxuICBuZXh0U2NyZWVuOiAnTmV4dCBzY3JlZW4nLFxuICBkdXBsaWNhdGVTY3JlZW46ICdEdXBsaWNhdGUgc2NyZWVuJyxcbiAgZGVsZXRlU2NyZWVuOiAnRGVsZXRlIHNjcmVlbicsXG4gIGFwcGx5VG9GaXJzdFBhbmVsOiAnQXBwbHkgdG8gdGhlIGZpcnN0IHBhbmVsJyxcbiAgZGVsZXRlVmlldzogJ0RlbGV0ZSB2aWV3JyxcbiAgZHVwbGljYXRlVmlldzogJ0R1cGxpY2F0ZSB2aWV3JyxcbiAgaW5zZXJ0QUJsb2NrOiAnSW5zZXJ0IGJsb2NrJyxcbiAgaW5zZXJ0QVNjcmVlbkdyb3VwOiAnSW5zZXJ0IHNjcmVlbiBncm91cCcsXG4gIG1vdmV1cDogJ01vdmUgdXAnLFxuICBtb3ZlZG93bjogJ01vdmUgZG93bicsXG4gIGNob29zZVRlbXBsYXRlOiAnQ2hvb3NlIGEgcGFnZSB0ZW1wbGF0ZScsXG4gIGNob29zZUhlYWRlclRlbXBsYXRlOiAnQ2hvb3NlIGEgaGVhZGVyIHRlbXBsYXRlJyxcbiAgY2hvb3NlRm9vdGVyVGVtcGxhdGU6ICdDaG9vc2UgYSBmb290ZXIgdGVtcGxhdGUnLFxuICBkcm9wV2lkZ2V0VG9BZGQ6ICdPciBkcmFnIGEgd2lkZ2V0IGhlcmUnLFxuICBzbmFwVG9MZWZ0OiAnU25hcCB0byBsZWZ0JyxcbiAgc25hcFRvVG9wOiAnU25hcCB0byB0b3AnLFxuICBzbmFwVG9Cb3R0b206ICdTbmFwIHRvIGJvdHRvbScsXG4gIHNuYXBUb1JpZ2h0OiAnU25hcCB0byByaWdodCcsXG4gIGZ1bGxXaWR0aDogJ0Z1bGwgd2lkdGgnLFxuICBmdWxsSGVpZ2h0OiAnRnVsbCBoZWlnaHQnLFxuICBmdWxsU2l6ZTogJ0Z1bGwgc2l6ZScsXG4gIHJlc3RvcmVTaXplOiAnUmVzdG9yZSBzaXplJyxcbiAgcGVuZGluZ1RpcDogJ01vdmUgdG8gdGhlIHBlbmRpbmcgbGlzdCcsXG4gIHNldHRpbmc6ICdTZXR0aW5ncycsXG4gIGRyYWdUb01vdmU6ICdEcmFnIHRvIG1vdmUnLFxuICBsb2NrTGF5b3V0OiAnTG9jayBwb3NpdGlvbiBhbmQgc2l6ZScsXG4gIHVubG9ja0xheW91dDogJ1VubG9jayBwb3NpdGlvbiBhbmQgc2l6ZScsXG4gIGVkaXRIZWFkZXI6ICdFZGl0IGhlYWRlcicsXG4gIGVkaXRGb290ZXI6ICdFZGl0IGZvb3RlcicsXG4gIHRyYW5zZm9ybTogJ1RyYW5zZm9ybScsXG4gIHJvdGF0aW9uOiAnUm90YXRpb24nLFxuICBhbmdsZTogJ0FuZ2xlJyxcbiAgZmxvYXRpbmc6ICdQaW4nLFxuICBzaW5raW5nOiAnVW5waW4nLFxuICBmbG9hdGluZ0FyZWE6ICdGbG9hdGluZyBhcmVhJyxcbiAgY2hhbmdlVG9BdXRvOiAnQ2hhbmdlIHRvIGF1dG8nLFxuICBjaGFuZ2VUb0N1c3RvbTogJ0NoYW5nZSB0byBjdXN0b20nLFxuXG4gIHBvc2l0aW9uVHlwZTogJ1Bvc2l0aW9uIHR5cGUnLFxuICBzdGlja3k6ICdTdGlja3knLFxuICBmaXhlZDogJ0ZpeGVkJyxcbiAgZmxvdzogJ0Zsb3cnLFxuICBzdGFjazogJ1N0YWNrJyxcbiAgZml4ZWRBdFRvcDogJ0Zsb2F0aW5nIGF0IHRoZSB0b3Agd2hlbiBzY3JvbGxpbmcnLFxuICBhY3ROb3JtYWw6ICdBY3QgYXMgbm9ybWFsIHdpZGdldCcsXG59O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./jimu-layouts/lib/translations/default.ts\n");

/***/ }),

/***/ "./jimu-layouts/lib/types.ts":
/*!***********************************!*\
  !*** ./jimu-layouts/lib/types.ts ***!
  \***********************************/
/*! exports provided: OrderAdjustType, COLS_IN_ONE_ROW, CONTEXT_MENU_ITEM_SIZE, CONTEXT_MENU_ICON_SIZE, MIN_LAYOUT_ITEM_SIZE, CLICK_TOLRERANCE, LayoutZIndex, LayoutItemSizeModes */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"OrderAdjustType\", function() { return OrderAdjustType; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"COLS_IN_ONE_ROW\", function() { return COLS_IN_ONE_ROW; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CONTEXT_MENU_ITEM_SIZE\", function() { return CONTEXT_MENU_ITEM_SIZE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CONTEXT_MENU_ICON_SIZE\", function() { return CONTEXT_MENU_ICON_SIZE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MIN_LAYOUT_ITEM_SIZE\", function() { return MIN_LAYOUT_ITEM_SIZE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CLICK_TOLRERANCE\", function() { return CLICK_TOLRERANCE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"LayoutZIndex\", function() { return LayoutZIndex; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"LayoutItemSizeModes\", function() { return LayoutItemSizeModes; });\nvar OrderAdjustType;\n(function (OrderAdjustType) {\n    OrderAdjustType[OrderAdjustType[\"BringForward\"] = 0] = \"BringForward\";\n    OrderAdjustType[OrderAdjustType[\"SendBackward\"] = 1] = \"SendBackward\";\n    OrderAdjustType[OrderAdjustType[\"BringToFront\"] = 2] = \"BringToFront\";\n    OrderAdjustType[OrderAdjustType[\"SendToBack\"] = 3] = \"SendToBack\";\n})(OrderAdjustType || (OrderAdjustType = {}));\nvar COLS_IN_ONE_ROW = 12;\nvar CONTEXT_MENU_ITEM_SIZE = 28;\nvar CONTEXT_MENU_ICON_SIZE = 16;\nvar MIN_LAYOUT_ITEM_SIZE = 16;\nvar CLICK_TOLRERANCE = 5;\n// 0 < zIndex < 10 is managed by component itself\nvar LayoutZIndex;\n(function (LayoutZIndex) {\n    LayoutZIndex[\"Auto\"] = \"auto\";\n    LayoutZIndex[LayoutZIndex[\"Normal\"] = 0] = \"Normal\";\n    LayoutZIndex[LayoutZIndex[\"BoundaryDropArea\"] = 10] = \"BoundaryDropArea\";\n    LayoutZIndex[LayoutZIndex[\"DragMoveTip\"] = 20] = \"DragMoveTip\";\n    LayoutZIndex[LayoutZIndex[\"HandlerTools\"] = 30] = \"HandlerTools\";\n    LayoutZIndex[LayoutZIndex[\"DraggingItem\"] = 40] = \"DraggingItem\";\n})(LayoutZIndex || (LayoutZIndex = {}));\nvar LayoutItemSizeModes;\n(function (LayoutItemSizeModes) {\n    LayoutItemSizeModes[\"Auto\"] = \"AUTO\";\n    LayoutItemSizeModes[\"Stretch\"] = \"STRETCH\";\n    LayoutItemSizeModes[\"Custom\"] = \"CUSTOM\";\n})(LayoutItemSizeModes || (LayoutItemSizeModes = {}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWxheW91dHMvbGliL3R5cGVzLnRzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vamltdS1sYXlvdXRzL2xpYi90eXBlcy50cz81NTI3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIFJlYWN0LFxuICBJTUxheW91dEl0ZW1Kc29uLFxuICBJTVNpemVNb2RlTGF5b3V0SnNvbixcbiAgTGF5b3V0SXRlbUNvbnN0cnVjdG9yUHJvcHMsXG4gIElNTGF5b3V0SnNvbixcbiAgSW1tdXRhYmxlQXJyYXksXG4gIExheW91dEluZm8sXG4gIElNVmlld0pzb24sXG4gIElNV2lkZ2V0SnNvbixcbiAgTGF5b3V0SXRlbVR5cGUsXG4gIExheW91dENvbnRleHRUb29sUHJvcHMsXG4gIElNU2VjdGlvbk5hdkluZm8sXG4gIEFuaW1hdGlvblNldHRpbmcsXG4gIEFuaW1hdGlvblBsYXlNb2RlLFxufSBmcm9tICdqaW11LWNvcmUnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFBvc2l0aW9uIHtcbiAgeD86IG51bWJlcjtcbiAgeT86IG51bWJlcjtcbiAgdzogbnVtYmVyO1xuICBoOiBudW1iZXI7XG59XG5cbmV4cG9ydCBjb25zdCBlbnVtIE9yZGVyQWRqdXN0VHlwZSB7XG4gIEJyaW5nRm9yd2FyZCA9IDAsXG4gIFNlbmRCYWNrd2FyZCA9IDEsXG4gIEJyaW5nVG9Gcm9udCA9IDIsXG4gIFNlbmRUb0JhY2sgPSAzLFxufVxuXG5leHBvcnQgaW50ZXJmYWNlIExheW91dFByb3BzIHtcbiAgbGF5b3V0czogSU1TaXplTW9kZUxheW91dEpzb247XG4gIGNsYXNzTmFtZT86IHN0cmluZztcbiAgc3R5bGU/OiBhbnk7XG4gIGlzSW5TZWN0aW9uPzogYm9vbGVhbjtcbiAgaXNJbldpZGdldD86IGJvb2xlYW47XG4gIGlzUmVwZWF0PzogYm9vbGVhbjtcbiAgaXNQYWdlSXRlbT86IGJvb2xlYW47XG4gIHZpc2libGU/OiBib29sZWFuO1xuICBpdGVtRHJhZ2dhYmxlPzogYm9vbGVhbjtcbiAgaXRlbVJlc2l6YWJsZT86IGJvb2xlYW47XG4gIGl0ZW1TZWxlY3RhYmxlPzogYm9vbGVhbjtcbiAgZHJvcHBhYmxlPzogYm9vbGVhbjtcbiAgc2hvd0RlZmF1bHRUb29scz86IGJvb2xlYW47XG4gIGlzSXRlbUFjY2VwdGVkPzogKGl0ZW06IExheW91dEl0ZW1Db25zdHJ1Y3RvclByb3BzLCBpc1JlcGxhY2VQbGFjZWhvbGRlcjogYm9vbGVhbikgPT4gYm9vbGVhbjtcbiAgb25JdGVtQ2xpY2s/OiAoZSwgd2lkZ2V0SWQ6IHN0cmluZykgPT4gdm9pZDtcbiAgaWdub3JlTWluSGVpZ2h0PzogYm9vbGVhbjsgLy8gdXNlZCBpbiBmaXhlZCBsYXlvdXRcbn1cblxuZXhwb3J0IGludGVyZmFjZSBMYXlvdXRJdGVtUHJvcHMge1xuICBsYXlvdXRJZDogc3RyaW5nO1xuICBsYXlvdXRJdGVtSWQ6IHN0cmluZztcbiAgZHJhZ2dhYmxlPzogYm9vbGVhbjtcbiAgcmVzaXphYmxlPzogYm9vbGVhbjtcbiAgc2VsZWN0YWJsZT86IGJvb2xlYW47XG4gIGZvcmJpZENvbnRleHRNZW51PzogYm9vbGVhbjtcbiAgZm9yYmlkVG9vbGJhcj86IGJvb2xlYW47XG4gIHNob3dEZWZhdWx0VG9vbHM/OiBib29sZWFuO1xuICBpc0luU2VjdGlvbj86IGJvb2xlYW47XG4gIGNsYXNzTmFtZT86IHN0cmluZztcbiAgb25DbGljaz86IChlLCBsYXlvdXRJbmZvOiBMYXlvdXRJbmZvKSA9PiB2b2lkO1xuICBvbkRvdWJsZUNsaWNrPzogKGUsIGxheW91dEluZm86IExheW91dEluZm8pID0+IHZvaWQ7XG4gIGZvcmNlQXNwZWN0UmF0aW8/OiBib29sZWFuO1xuICBhc3BlY3RSYXRpbz86IG51bWJlcjtcbiAgcmVzaXplT2JzZXJ2ZXI/OiBSZXNpemVPYnNlcnZlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTdGF0ZVRvTGF5b3V0UHJvcHMge1xuICBsYXlvdXQ6IElNTGF5b3V0SnNvbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTdGF0ZVRvTGF5b3V0SXRlbVByb3BzIHtcbiAgbGF5b3V0SXRlbTogSU1MYXlvdXRJdGVtSnNvbjtcbiAgc2VsZWN0ZWQ/OiBib29sZWFuO1xuICBhdXRvU2Nyb2xsPzogYm9vbGVhbjtcbiAgYW5pbWF0aW9uUHJldmlldz86IGJvb2xlYW47XG4gIHBsYXlNb2RlPzogQW5pbWF0aW9uUGxheU1vZGU7XG4gIHByZXZpZXdJZD86IHN5bWJvbDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBXaWRnZXRQcm9wcyB7XG4gIHdpZGdldElkOiBzdHJpbmc7XG4gIGlzQ2xhc3NMb2FkZWQ6IGJvb2xlYW47XG4gIGlzSW5saW5lRWRpdGluZzogYm9vbGVhbjtcbiAgaXNGdW5jdGlvbmFsV2lkZ2V0OiBib29sZWFuO1xuICBoYXNFbWJlZGRlZExheW91dDogYm9vbGVhbjtcbiAgd2lkZ2V0U3RhdGU/OiBhbnk7XG4gIHN1cHBvcnRJbmxpbmVFZGl0aW5nOiBib29sZWFuO1xuICBzdXBwb3J0UmVwZWF0OiBib29sZWFuO1xuICBjYW5Dcm9zc0xheW91dEJvdW5kYXJ5OiBib29sZWFuO1xuICByb3RhdGU/OiBudW1iZXI7XG4gIHdpZGdldFN0eWxlOiBhbnk7XG4gIGhhc0V4dGVuc2lvbj86IGJvb2xlYW47XG4gIHdpZGdldEpzb24/OiBJTVdpZGdldEpzb247XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2VjdGlvblByb3BzIHtcbiAgc2VjdGlvbklkOiBzdHJpbmc7XG4gIHZpZXdzOiBJbW11dGFibGVBcnJheTxzdHJpbmc+O1xuICBhY3RpdmVWaWV3PzogSU1WaWV3SnNvbjtcbiAgcm90YXRlPzogbnVtYmVyO1xuICBzZWN0aW9uU3R5bGU6IGFueTtcbiAgbmF2SW5mbzogSU1TZWN0aW9uTmF2SW5mbztcbiAgdHJhbnNpdGlvbj86IHtcbiAgICB0eXBlOiBzdHJpbmc7XG4gICAgZGlyZWN0aW9uPzogc3RyaW5nO1xuICB9O1xufVxuXG5leHBvcnQgY29uc3QgQ09MU19JTl9PTkVfUk9XID0gMTI7XG5cbmV4cG9ydCBjb25zdCBDT05URVhUX01FTlVfSVRFTV9TSVpFID0gMjg7XG5leHBvcnQgY29uc3QgQ09OVEVYVF9NRU5VX0lDT05fU0laRSA9IDE2O1xuZXhwb3J0IGNvbnN0IE1JTl9MQVlPVVRfSVRFTV9TSVpFID0gMTY7XG5leHBvcnQgY29uc3QgQ0xJQ0tfVE9MUkVSQU5DRSA9IDU7XG5cbmV4cG9ydCBpbnRlcmZhY2UgTGF5b3V0Tm9kZSB7XG4gIGxheW91dElkOiBzdHJpbmc7XG4gIHBhcmVudExheW91dElkPzogc3RyaW5nO1xuICBwYXJlbnRUeXBlPzogTGF5b3V0SXRlbVR5cGU7XG4gIGl0ZW1JZEluUGFyZW50Pzogc3RyaW5nO1xuICBjb250YWluZXJXaWRnZXRJZD86IHN0cmluZztcbiAgY29udGFpbmVyVmlld0lkPzogc3RyaW5nO1xuICBjb250YWluZXJTZWN0aW9uSWQ/OiBzdHJpbmc7XG4gIC8qYXJyYXkgb2YgY2hpbGQgbGF5b3V0IGlkKi9cbiAgZW1iZWRMYXlvdXRzPzogc3RyaW5nW107XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29udGVudE5vZGUge1xuICBpZDogc3RyaW5nO1xuICB0eXBlOiBMYXlvdXRJdGVtVHlwZTtcbiAgY29udGFpbmVyTGF5b3V0SWQ6IHN0cmluZztcbiAgaXRlbUlkSW5QYXJlbnQ6IHN0cmluZztcbiAgLyphcnJheSBvZiBjaGlsZCBsYXlvdXQgaWQqL1xuICBlbWJlZExheW91dHM/OiBzdHJpbmdbXTtcbn1cblxuLyoqXG4gKiBBIHN0cnVjdHVyZSBlYXN5IHRvIHNlYXJjaCBsYXlvdXQgaXRlbSBhbmQgaXRzIGNvbnRlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBMYXlvdXRNYXAge1xuICBsYXlvdXRzOiB7W2tleTogc3RyaW5nXTogTGF5b3V0Tm9kZX07XG4gIHdpZGdldHM6IHtba2V5OiBzdHJpbmddOiBDb250ZW50Tm9kZX07XG4gIHNlY3Rpb25zOiB7W2tleTogc3RyaW5nXTogQ29udGVudE5vZGV9O1xufVxuLy8gMCA8IHpJbmRleCA8IDEwIGlzIG1hbmFnZWQgYnkgY29tcG9uZW50IGl0c2VsZlxuZXhwb3J0IGVudW0gTGF5b3V0WkluZGV4IHtcbiAgQXV0byA9ICdhdXRvJyxcbiAgTm9ybWFsID0gMCxcbiAgQm91bmRhcnlEcm9wQXJlYSA9IDEwLFxuICBEcmFnTW92ZVRpcCA9IDIwLFxuICBIYW5kbGVyVG9vbHMgPSAzMCxcbiAgRHJhZ2dpbmdJdGVtID0gNDAsXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29tbW9uTGF5b3V0U2V0dGluZyB7XG4gIGNsYXNzTmFtZT86IHN0cmluZztcbiAgc3R5bGU/OiBhbnk7XG4gIG9yZGVyPzogbnVtYmVyO1xuICBsb2NrQ2hpbGRyZW4/OiBib29sZWFuO1xuICBsb2NrRGVzY2VuZGFudHM/OiBib29sZWFuO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENvbW1vbkxheW91dEl0ZW1TZXR0aW5nIHtcbiAgbG9ja1BhcmVudD86IGJvb2xlYW47XG4gIHN0eWxlPzogYW55O1xuICBlZmZlY3Q/OiB7W2tleTogc3RyaW5nXTogQW5pbWF0aW9uU2V0dGluZ307XG4gIG9uZUJ5T25lRWZmZWN0Pzoge1trZXk6IHN0cmluZ106IEFuaW1hdGlvblNldHRpbmd9O1xuICBlZmZlY3RQbGF5TW9kZT86IEFuaW1hdGlvblBsYXlNb2RlO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEZpeGVkTGF5b3V0U2V0dGluZyBleHRlbmRzIENvbW1vbkxheW91dFNldHRpbmcge1xuICBncmlkU2l6ZT86IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBGbG93TGF5b3V0U2V0dGluZyBleHRlbmRzIENvbW1vbkxheW91dFNldHRpbmcge1xuICBndXR0ZXI/OiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29sdW1uTGF5b3V0U2V0dGluZyBleHRlbmRzIENvbW1vbkxheW91dFNldHRpbmcge1xuICBtaW46IG51bWJlcjtcbiAgc3BhY2U6IG51bWJlcjtcbiAgcGFkZGluZz86IHtcbiAgICBudW1iZXI6IG51bWJlcltdLFxuICAgIHVuaXQ6IHN0cmluZyxcbiAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIEZsb3dMYXlvdXRJdGVtU2V0dGluZyBleHRlbmRzIENvbW1vbkxheW91dEl0ZW1TZXR0aW5nIHtcbiAgaGVpZ2h0TW9kZT86ICdhdXRvJyB8ICdmaXQnIHwgJ2ZpeGVkJztcbiAgaXNGbG9hdGluZz86IGJvb2xlYW47XG4gIGZsb2F0aW5nQXJlYT86IG51bWJlcjsgLy8gMX45XG4gIHdpZHRoPzogbnVtYmVyO1xuICBvZmZzZXRYPzogbnVtYmVyO1xuICBvZmZzZXRZPzogbnVtYmVyO1xufVxuXG5leHBvcnQgZW51bSBMYXlvdXRJdGVtU2l6ZU1vZGVzIHtcbiAgQXV0byA9ICdBVVRPJyxcbiAgU3RyZXRjaCA9ICdTVFJFVENIJyxcbiAgQ3VzdG9tID0gJ0NVU1RPTSdcbn1cblxuZXhwb3J0IGludGVyZmFjZSBGaXhlZExheW91dEl0ZW1TZXR0aW5nIGV4dGVuZHMgQ29tbW9uTGF5b3V0SXRlbVNldHRpbmcge1xuICBhdXRvUHJvcHM6IHtcbiAgICBsZWZ0PzogYm9vbGVhbjtcbiAgICByaWdodD86IGJvb2xlYW47XG4gICAgdG9wPzogYm9vbGVhbjtcbiAgICBib3R0b20/OiBib29sZWFuO1xuICAgIHdpZHRoPzogTGF5b3V0SXRlbVNpemVNb2RlcztcbiAgICBoZWlnaHQ/OiBMYXlvdXRJdGVtU2l6ZU1vZGVzO1xuICB9O1xuICBoQ2VudGVyPzogYm9vbGVhbjtcbiAgdkNlbnRlcj86IGJvb2xlYW47XG4gIGhlaWdodE1vZGU/OiAnZml4ZWQnIHwgJ3JhdGlvJztcbiAgYXNwZWN0UmF0aW8/OiBudW1iZXIgfCBudW1iZXI7XG4gIGxvY2tMYXlvdXQ/OiBib29sZWFuO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFRvb2xJdGVtQ29uZmlnIHtcbiAgaWNvbj86XG4gICAgfCBSZWFjdC5Db21wb25lbnRDbGFzczxSZWFjdC5TVkdBdHRyaWJ1dGVzPFNWR0VsZW1lbnQ+PlxuICAgIHwgKChwcm9wczogTGF5b3V0Q29udGV4dFRvb2xQcm9wcykgPT4gUmVhY3QuQ29tcG9uZW50Q2xhc3M8UmVhY3QuU1ZHQXR0cmlidXRlczxTVkdFbGVtZW50Pj4pO1xuICBhdXRvRmxpcEljb24/OiBib29sZWFuO1xuICB0aXRsZT86IHN0cmluZyB8ICgocHJvcHM6IExheW91dENvbnRleHRUb29sUHJvcHMgJiB7IGZvcm1hdE1lc3NhZ2U6IChpZDogc3RyaW5nKSA9PiBzdHJpbmcgfSkgPT4gc3RyaW5nKTtcbiAgc2l6ZT86IG51bWJlcjtcbiAgbGFiZWw/OiBzdHJpbmcgfCAoKHByb3BzOiBMYXlvdXRDb250ZXh0VG9vbFByb3BzICYgeyBmb3JtYXRNZXNzYWdlOiAoaWQ6IHN0cmluZykgPT4gc3RyaW5nIH0pID0+IHN0cmluZyk7XG4gIGRpc2FibGVkPzogYm9vbGVhbiB8ICgocHJvcHM6IExheW91dENvbnRleHRUb29sUHJvcHMpID0+IGJvb2xlYW4pO1xuICBjaGVja2VkPzogYm9vbGVhbiB8ICgocHJvcHM6IExheW91dENvbnRleHRUb29sUHJvcHMpID0+IGJvb2xlYW4pO1xuICB2aXNpYmxlPzogYm9vbGVhbiB8ICgocHJvcHM6IExheW91dENvbnRleHRUb29sUHJvcHMpID0+IGJvb2xlYW4pO1xuICByb3RhdGU/OiBudW1iZXI7XG4gIGNsYXNzTmFtZT86IHN0cmluZztcbiAgb25DbGljaz86IChwcm9wczogTGF5b3V0Q29udGV4dFRvb2xQcm9wcywgZXZ0PzogUmVhY3QuTW91c2VFdmVudDxhbnk+KSA9PiB2b2lkO1xuICBzZXR0aW5nUGFuZWw/OiBSZWFjdC5Db21wb25lbnRDbGFzcztcbiAgd2lkZ2V0SWQ/OiBzdHJpbmc7XG4gIHNlcGVyYXRvcj86IGJvb2xlYW47XG59XG5cbmV4cG9ydCB0eXBlIFRvb2xiYXJDb25maWcgPSAoVG9vbEl0ZW1Db25maWcgfCBUb29sSXRlbUNvbmZpZ1tdKVtdOyJdLCJtYXBwaW5ncyI6IkFBd0JBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBaUZBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUErQkE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUE0Q0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./jimu-layouts/lib/types.ts\n");

/***/ }),

/***/ "./jimu-layouts/lib/use-viewport-intersection.ts":
/*!*******************************************************!*\
  !*** ./jimu-layouts/lib/use-viewport-intersection.ts ***!
  \*******************************************************/
/*! exports provided: useViewportIntersection */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"useViewportIntersection\", function() { return useViewportIntersection; });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jimu_core__WEBPACK_IMPORTED_MODULE_0__);\n\nfunction buildThresholdList() {\n    var step = 10;\n    var result = [0];\n    for (var i = 1; i <= step; i++) {\n        result.push(i / step);\n    }\n    return result;\n}\n/**\n *\n * @param ref\n * @param rootElement\n * @param onIntersectionChange\n */\nfunction useViewportIntersection(ref) {\n    var observerRef = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useRef();\n    var _a = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useState(true), isInViewport = _a[0], setIsInViewport = _a[1];\n    jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].useEffect(function () {\n        if (observerRef.current) {\n            observerRef.current.unobserve(ref);\n            observerRef.current = null;\n        }\n        var handleIntersectionChange = function (entry) {\n            if (entry.target.classList.contains('playing-animation')) {\n                return;\n            }\n            setIsInViewport(entry.isIntersecting);\n        };\n        if (ref && typeof IntersectionObserver === 'function') {\n            var handler = function (entries) {\n                handleIntersectionChange(entries[0]);\n            };\n            var observer = new IntersectionObserver(handler, {\n                threshold: buildThresholdList(),\n                root: document.body,\n                rootMargin: '20%'\n            });\n            observer.observe(ref);\n            observerRef.current = observer;\n            return function () {\n                observerRef.current.unobserve(ref);\n                observerRef.current = null;\n            };\n        }\n    }, [ref]);\n    return isInViewport;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWxheW91dHMvbGliL3VzZS12aWV3cG9ydC1pbnRlcnNlY3Rpb24udHMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qaW11LWxheW91dHMvbGliL3VzZS12aWV3cG9ydC1pbnRlcnNlY3Rpb24udHM/Njk3YSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBSZWFjdCB9IGZyb20gJ2ppbXUtY29yZSc7XG5cbmZ1bmN0aW9uIGJ1aWxkVGhyZXNob2xkTGlzdCgpIHtcbiAgY29uc3Qgc3RlcCA9IDEwO1xuICBjb25zdCByZXN1bHQgPSBbMF07XG4gIGZvciAobGV0IGkgPSAxOyBpIDw9IHN0ZXA7IGkrKykge1xuICAgIHJlc3VsdC5wdXNoKGkgLyBzdGVwICk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKlxuICogQHBhcmFtIHJlZlxuICogQHBhcmFtIHJvb3RFbGVtZW50XG4gKiBAcGFyYW0gb25JbnRlcnNlY3Rpb25DaGFuZ2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVzZVZpZXdwb3J0SW50ZXJzZWN0aW9uKFxuICByZWY6IEhUTUxFbGVtZW50XG4pIHtcbiAgY29uc3Qgb2JzZXJ2ZXJSZWYgPSBSZWFjdC51c2VSZWY8SW50ZXJzZWN0aW9uT2JzZXJ2ZXI+KCk7XG4gIGNvbnN0IFtpc0luVmlld3BvcnQsIHNldElzSW5WaWV3cG9ydF0gPSBSZWFjdC51c2VTdGF0ZSh0cnVlKTtcblxuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChvYnNlcnZlclJlZi5jdXJyZW50KSB7XG4gICAgICBvYnNlcnZlclJlZi5jdXJyZW50LnVub2JzZXJ2ZShyZWYpO1xuICAgICAgb2JzZXJ2ZXJSZWYuY3VycmVudCA9IG51bGw7XG4gICAgfVxuXG4gICAgY29uc3QgaGFuZGxlSW50ZXJzZWN0aW9uQ2hhbmdlID0gKGVudHJ5OiBJbnRlcnNlY3Rpb25PYnNlcnZlckVudHJ5KSA9PiB7XG4gICAgICBpZiAoZW50cnkudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygncGxheWluZy1hbmltYXRpb24nKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHNldElzSW5WaWV3cG9ydChlbnRyeS5pc0ludGVyc2VjdGluZyk7XG4gICAgfTtcblxuICAgIGlmIChyZWYgJiYgdHlwZW9mIEludGVyc2VjdGlvbk9ic2VydmVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjb25zdCBoYW5kbGVyID0gKGVudHJpZXM6IEludGVyc2VjdGlvbk9ic2VydmVyRW50cnlbXSkgPT4ge1xuICAgICAgICBoYW5kbGVJbnRlcnNlY3Rpb25DaGFuZ2UoZW50cmllc1swXSk7XG4gICAgICB9O1xuICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoXG4gICAgICAgIGhhbmRsZXIsXG4gICAgICAgIHtcbiAgICAgICAgICB0aHJlc2hvbGQ6IGJ1aWxkVGhyZXNob2xkTGlzdCgpLFxuICAgICAgICAgIHJvb3Q6IGRvY3VtZW50LmJvZHksXG4gICAgICAgICAgcm9vdE1hcmdpbjogJzIwJSdcbiAgICAgICAgfVxuICAgICAgKTtcbiAgICAgIG9ic2VydmVyLm9ic2VydmUocmVmKTtcbiAgICAgIG9ic2VydmVyUmVmLmN1cnJlbnQgPSBvYnNlcnZlcjtcblxuICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgb2JzZXJ2ZXJSZWYuY3VycmVudC51bm9ic2VydmUocmVmKTtcbiAgICAgICAgb2JzZXJ2ZXJSZWYuY3VycmVudCA9IG51bGw7XG4gICAgICB9O1xuICAgIH1cbiAgfSwgW3JlZl0pO1xuXG4gIHJldHVybiBpc0luVmlld3BvcnQ7XG59Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7OztBQUtBO0FBQ0E7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./jimu-layouts/lib/use-viewport-intersection.ts\n");

/***/ }),

/***/ "./jimu-layouts/lib/utils.ts":
/*!***********************************!*\
  !*** ./jimu-layouts/lib/utils.ts ***!
  \***********************************/
/*! exports provided: emptyFunc, autoBindHandlers, getMaximumId, isPercentage, isNumber, getValueOfBBox, toRatio, fromRatio, mapStateToLayoutProps, mapStateToLayoutItemProps, mapStateToWidgetProps, isWidgetHasEmbeddedLayout, isFunctionalWidget, isWidgetPlaceholder, replaceBoundingBox, updateBoundingBoxProp, relativeClientRect, getBuilderThemeVariables, isRTL, parseAspectRatio, expandStyleArray, calHeightOfLayoutItem, getAppConfig, getCurrentSizeMode, getCurrentPageId, getCurrentDialogId, getActivePagePart, getCurrentDialogRootLayoutId, getCurrentPageRootLayoutId, getHeaderRootLayoutId, getFooterRootLayoutId, contains, intersects, getLayoutItemSizeMode, gcd, handleOnebyOneAnimation */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"emptyFunc\", function() { return emptyFunc; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"autoBindHandlers\", function() { return autoBindHandlers; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getMaximumId\", function() { return getMaximumId; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isPercentage\", function() { return isPercentage; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isNumber\", function() { return isNumber; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getValueOfBBox\", function() { return getValueOfBBox; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"toRatio\", function() { return toRatio; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"fromRatio\", function() { return fromRatio; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"mapStateToLayoutProps\", function() { return mapStateToLayoutProps; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"mapStateToLayoutItemProps\", function() { return mapStateToLayoutItemProps; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"mapStateToWidgetProps\", function() { return mapStateToWidgetProps; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isWidgetHasEmbeddedLayout\", function() { return isWidgetHasEmbeddedLayout; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isFunctionalWidget\", function() { return isFunctionalWidget; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isWidgetPlaceholder\", function() { return isWidgetPlaceholder; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"replaceBoundingBox\", function() { return replaceBoundingBox; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"updateBoundingBoxProp\", function() { return updateBoundingBoxProp; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"relativeClientRect\", function() { return relativeClientRect; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getBuilderThemeVariables\", function() { return getBuilderThemeVariables; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isRTL\", function() { return isRTL; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"parseAspectRatio\", function() { return parseAspectRatio; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"expandStyleArray\", function() { return expandStyleArray; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"calHeightOfLayoutItem\", function() { return calHeightOfLayoutItem; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getAppConfig\", function() { return getAppConfig; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getCurrentSizeMode\", function() { return getCurrentSizeMode; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getCurrentPageId\", function() { return getCurrentPageId; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getCurrentDialogId\", function() { return getCurrentDialogId; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getActivePagePart\", function() { return getActivePagePart; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getCurrentDialogRootLayoutId\", function() { return getCurrentDialogRootLayoutId; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getCurrentPageRootLayoutId\", function() { return getCurrentPageRootLayoutId; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getHeaderRootLayoutId\", function() { return getHeaderRootLayoutId; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getFooterRootLayoutId\", function() { return getFooterRootLayoutId; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"contains\", function() { return contains; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"intersects\", function() { return intersects; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getLayoutItemSizeMode\", function() { return getLayoutItemSizeMode; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"gcd\", function() { return gcd; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"handleOnebyOneAnimation\", function() { return handleOnebyOneAnimation; });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jimu_core__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./types */ \"./jimu-layouts/lib/types.ts\");\n/* eslint-disable prefer-const */\n\n\nvar emptyFunc = function () { };\nfunction autoBindHandlers(el, fns) {\n    fns.forEach(function (key) {\n        if (el[key]) {\n            el[key] = el[key].bind(el);\n        }\n    });\n}\n/**\n * Get the maximum id of the layout item which can be converted to a number.\n * @param layoutMap\n */\nfunction getMaximumId(layoutMap) {\n    var max = -1;\n    if (layoutMap.content) {\n        Object.keys(layoutMap.content).forEach(function (key) {\n            var id = parseInt(key, 10);\n            if (id > max) {\n                max = id;\n            }\n        });\n    }\n    return max;\n}\n/**\n * Checks if `value` is classified as a percentage value\n * @param value\n */\nfunction isPercentage(value) {\n    return /^-?\\d*(\\.\\d+)?%$/.test(value);\n}\n/**\n * Checks if `value` is classified as a finite number\n * @param value\n */\nfunction isNumber(value) {\n    var result = parseFloat(value);\n    return !isNaN(result) && isFinite(result);\n}\nfunction getValueOfBBox(bbox, prop) {\n    if ((bbox === null || bbox === void 0 ? void 0 : bbox[prop]) == null) {\n        return null;\n    }\n    if (typeof bbox[prop] === 'string') {\n        return bbox[prop];\n    }\n    if (isNumber(bbox[prop])) {\n        return Math.round(parseFloat(bbox[prop])) + \"px\";\n    }\n    return null;\n}\n/**\n * Convert the value to percentage value in respect to the total\n * @param value\n * @param total\n */\nfunction toRatio(value, total) {\n    return ((value * 100) / total).toFixed(4) + \"%\";\n}\n/**\n * Convert a percentage value to pixel in respect to the total\n * @param ratio\n * @param total\n */\nfunction fromRatio(ratio, total) {\n    return (parseFloat(\"\" + ratio) * total) / 100;\n}\nfunction mapStateToLayoutProps(state, ownProps) {\n    var layoutId = ownProps.layouts[state.browserSizeMode] || ownProps.layouts[state.appConfig.mainSizeMode];\n    var layouts = state.appConfig.layouts;\n    if (!layouts[layoutId]) {\n        return {\n            layout: null,\n        };\n    }\n    return {\n        layout: layouts[layoutId],\n    };\n}\nfunction mapStateToLayoutItemProps(state, ownProps) {\n    var _a, _b, _c, _d;\n    var layoutId = ownProps.layoutId;\n    var layouts = state.appConfig.layouts;\n    var layoutItemId = ownProps.layoutItemId;\n    if (!((_b = (_a = layouts === null || layouts === void 0 ? void 0 : layouts[layoutId]) === null || _a === void 0 ? void 0 : _a.content) === null || _b === void 0 ? void 0 : _b[layoutItemId])) {\n        return {\n            layoutItem: null,\n            selected: false,\n        };\n    }\n    var selected = false;\n    var autoScroll;\n    var layout = layouts[layoutId];\n    var layoutItem = layout.content[layoutItemId];\n    var isPending = false;\n    if (layoutItem) {\n        isPending = Boolean(layoutItem.isPending);\n    }\n    var selection = (_c = state.appRuntimeInfo) === null || _c === void 0 ? void 0 : _c.selection;\n    if (selection) {\n        selected = selection.layoutId === ownProps.layoutId && selection.layoutItemId === layoutItem.id;\n        autoScroll = selection.autoScroll;\n    }\n    var result = {\n        selected: selected,\n        layoutItem: isPending ? null : layoutItem,\n    };\n    if (selected) {\n        result.autoScroll = autoScroll;\n    }\n    var animationPreview = (_d = state.appRuntimeInfo) === null || _d === void 0 ? void 0 : _d.animationPreview;\n    if (selected && (animationPreview === null || animationPreview === void 0 ? void 0 : animationPreview.layoutInfo)) {\n        var _e = animationPreview.layoutInfo, animLayoutId = _e.layoutId, animItemId = _e.layoutItemId;\n        result.animationPreview = animLayoutId === ownProps.layoutId && animItemId === ownProps.layoutItemId;\n        result.playMode = result.animationPreview ? animationPreview.playMode : null;\n        result.previewId = result.animationPreview ? animationPreview.id : null;\n    }\n    // if (animationPreview?.layoutInfo) {\n    //   const { layoutId : animLayoutId, layoutItemId : animItemId } = animationPreview.layoutInfo;\n    //   if (selected) {\n    //     result.animationPreview = animLayoutId === ownProps.layoutId && animItemId === ownProps.layoutItemId;\n    //     result.playMode = result.animationPreview ? animationPreview.playMode : null;\n    //     result.previewId = result.animationPreview ? animationPreview.id : null;\n    //   } else if (!animationPreview.playMode) { // play as a whole. including inner widget\n    //     // container plays one by one, if inner item has its own animation, it should play its own animation\n    //     const animationLayoutItem = state.appConfig.layouts[animLayoutId].content[animItemId];\n    //     if (animationLayoutItem.type === LayoutItemType.Widget) {\n    //       const widget = state.appConfig.widgets[animationLayoutItem.widgetId];\n    //       if (widget?.layouts) {\n    //         for (const name in widget.layouts) {\n    //           const sizemodeLayouts = widget.layouts[name];\n    //           const found = Object.keys(sizemodeLayouts).some(sizemode => sizemodeLayouts[sizemode] === layoutId);\n    //           if (found) {\n    //             result.animationPreview = true;\n    //             result.playMode = AnimationPlayMode.AsOne;\n    //             result.previewId = animationPreview.id;\n    //             break;\n    //           }\n    //         }\n    //       }\n    //     }\n    //   }\n    // } else if (animationPreview?.pageId) {\n    //   const pageJson = state.appConfig.pages[animationPreview.pageId];\n    //   const sizeMode = getCurrentSizeMode();\n    //   const pageLayoutId = pageJson?.layout?.[sizeMode];\n    //   if (pageLayoutId === layoutId) {\n    //     let effect = layoutItem.setting?.effect;\n    //     effect = effect && effect?.[AnimationTriggerType.ScrollIntoView]?.type !== AnimationType.None ? effect : null;\n    //     if (effect) {\n    //       result.animationPreview = true;\n    //       result.playMode = AnimationPlayMode.AsOne;\n    //       result.previewId = animationPreview.id;\n    //     }\n    //   }\n    // }\n    return result;\n}\nfunction mapStateToWidgetProps(state, ownProps) {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j;\n    var layoutId = ownProps.layoutId;\n    var layouts = state.appConfig.layouts;\n    if (!layouts[layoutId]) {\n        return null;\n    }\n    var layout = layouts[layoutId];\n    var layoutItemId = ownProps.layoutItemId;\n    // const selection: Selection = state.appRuntimeInfo.selection || ({} as Selection);\n    var layoutItem = layout.content[layoutItemId];\n    var supportInlineEditing = false;\n    var isClassLoaded = false;\n    var isInlineEditing = false;\n    var supportRepeat = false;\n    var functionalWidget = false;\n    var hasEmbeddedLayout = false;\n    var canCrossLayoutBoundary = false;\n    var hasExtension = false;\n    var widgetStyle;\n    var widgetJson;\n    var widgetState;\n    if (layoutItem && layoutItem.widgetId) {\n        var widget = state.appConfig.widgets[layoutItem.widgetId];\n        widgetStyle = widget.style;\n        supportInlineEditing = ((_b = (_a = widget.manifest) === null || _a === void 0 ? void 0 : _a.properties) === null || _b === void 0 ? void 0 : _b.supportInlineEditing) === true;\n        supportRepeat = ((_d = (_c = widget.manifest) === null || _c === void 0 ? void 0 : _c.properties) === null || _d === void 0 ? void 0 : _d.supportRepeat) === true;\n        canCrossLayoutBoundary = ((_f = (_e = widget.manifest) === null || _e === void 0 ? void 0 : _e.properties) === null || _f === void 0 ? void 0 : _f.canCrossLayoutBoundary) === true;\n        var runtimeInfo = state.widgetsRuntimeInfo[layoutItem.widgetId];\n        isClassLoaded = (_g = runtimeInfo === null || runtimeInfo === void 0 ? void 0 : runtimeInfo.isClassLoaded) !== null && _g !== void 0 ? _g : false;\n        isInlineEditing = supportInlineEditing && (runtimeInfo === null || runtimeInfo === void 0 ? void 0 : runtimeInfo.isInlineEditing);\n        hasExtension = ((_j = (_h = widget.manifest) === null || _h === void 0 ? void 0 : _h.extensions) === null || _j === void 0 ? void 0 : _j.length) > 0;\n        if (hasExtension) {\n            widgetJson = widget;\n        }\n        widgetState = state.widgetsState[layoutItem.widgetId];\n        functionalWidget = isFunctionalWidget(layoutItem.widgetId, state.appConfig);\n        hasEmbeddedLayout = isWidgetHasEmbeddedLayout(layoutItem.widgetId, state.appConfig);\n    }\n    return {\n        hasEmbeddedLayout: hasEmbeddedLayout,\n        supportInlineEditing: supportInlineEditing,\n        supportRepeat: supportRepeat,\n        isClassLoaded: isClassLoaded,\n        isInlineEditing: isInlineEditing,\n        widgetStyle: widgetStyle,\n        canCrossLayoutBoundary: canCrossLayoutBoundary,\n        hasExtension: hasExtension,\n        widgetJson: widgetJson,\n        widgetId: layoutItem.widgetId,\n        isFunctionalWidget: functionalWidget,\n        widgetState: widgetState,\n    };\n}\nfunction isWidgetHasEmbeddedLayout(widgetId, appConfig) {\n    var _a, _b, _c, _d;\n    var widget = (_a = appConfig === null || appConfig === void 0 ? void 0 : appConfig.widgets) === null || _a === void 0 ? void 0 : _a[widgetId];\n    if ((_c = (_b = widget === null || widget === void 0 ? void 0 : widget.manifest) === null || _b === void 0 ? void 0 : _b.properties) === null || _c === void 0 ? void 0 : _c.hasEmbeddedLayout) {\n        return Object.keys((_d = widget === null || widget === void 0 ? void 0 : widget.layouts) !== null && _d !== void 0 ? _d : {}).length > 0;\n    }\n    return false;\n}\nfunction isFunctionalWidget(widgetId, appConfig) {\n    var _a, _b;\n    var widget = (_a = appConfig === null || appConfig === void 0 ? void 0 : appConfig.widgets) === null || _a === void 0 ? void 0 : _a[widgetId];\n    var type = (_b = widget === null || widget === void 0 ? void 0 : widget.manifest) === null || _b === void 0 ? void 0 : _b.widgetType;\n    return type !== jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"WidgetType\"].Layout;\n}\nfunction isWidgetPlaceholder(appConfig, item) {\n    var _a, _b;\n    if (!item || item.itemType !== jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"LayoutItemType\"].Widget) {\n        return false;\n    }\n    if (item.layoutInfo) {\n        // Layout item without widgetId\n        var _c = item.layoutInfo, layoutId = _c.layoutId, layoutItemId = _c.layoutItemId;\n        var layoutItem = (_b = (_a = appConfig.layouts) === null || _a === void 0 ? void 0 : _a[layoutId].content) === null || _b === void 0 ? void 0 : _b[layoutItemId];\n        if (layoutItem && !layoutItem.widgetId) {\n            return true;\n        }\n    }\n    if (!item.layoutInfo && !item.uri) {\n        // New widget without uri\n        return true;\n    }\n    return false;\n}\n/**\n * Replace the values of bounding box b1 with values of b2, try to keep the unit of each property.\n * @param b1\n * @param b2\n * @param containerRect\n */\nfunction replaceBoundingBox(b1, b2, containerRect) {\n    if (!b1) {\n        return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"Immutable\"])({\n            left: isPercentage(b2.left) ? b2.left : Math.round(b2.left) + \"px\",\n            right: isPercentage(b2.right) ? b2.right : Math.round(b2.right) + \"px\",\n            top: isPercentage(b2.top) ? b2.top : Math.round(b2.top) + \"px\",\n            bottom: isPercentage(b2.bottom) ? b2.bottom : Math.round(b2.bottom) + \"px\",\n            width: isPercentage(b2.width) ? b2.width : Math.round(b2.width) + \"px\",\n            height: isPercentage(b2.height) ? b2.height : Math.round(b2.height) + \"px\",\n        });\n    }\n    var result = b1;\n    ['left', 'right', 'top', 'bottom', 'width', 'height'].forEach(function (key) {\n        if (result[key] != null) {\n            result = updateBoundingBoxProp(key, result, b2[key], containerRect);\n        }\n        else if (b2[key] != null) {\n            result = result.set(key, Math.round(b2[key]) + \"px\");\n        }\n    });\n    return result;\n}\n/**\n * Update a property of the bounding box\n * @param prop\n * @param b\n * @param newValue\n * @param containerRect\n */\nfunction updateBoundingBoxProp(prop, b, newValue, containerRect) {\n    if (b[prop] == null || b[prop] === 'auto') {\n        return b;\n    }\n    var updated = b;\n    if (isPercentage(b[prop])) {\n        if (prop === 'left' || prop === 'right' || prop === 'width') {\n            if (isPercentage(newValue)) {\n                updated = b.set(prop, newValue);\n            }\n            else {\n                updated = b.set(prop, ((+newValue * 100) / containerRect.width).toFixed(4) + \"%\");\n            }\n        }\n        else {\n            if (isPercentage(newValue)) {\n                updated = b.set(prop, newValue);\n            }\n            else {\n                updated = b.set(prop, ((+newValue * 100) / containerRect.height).toFixed(4) + \"%\");\n            }\n        }\n    }\n    else {\n        if (isPercentage(newValue)) {\n            if (prop === 'left' || prop === 'right' || prop === 'width') {\n                updated = b.set(prop, Math.round((parseFloat(\"\" + newValue) * containerRect.width) / 100));\n            }\n            else {\n                updated = b.set(prop, Math.round((parseFloat(\"\" + newValue) * containerRect.height) / 100));\n            }\n        }\n        else {\n            if (isNaN(+newValue)) {\n                updated = b.without(prop);\n            }\n            else {\n                updated = b.set(prop, Math.round(+newValue) + \"px\");\n            }\n        }\n    }\n    return updated;\n}\nfunction relativeClientRect(r1, r2) {\n    return {\n        left: r1.left - r2.left,\n        top: r1.top - r2.top,\n        right: r1.right,\n        bottom: r1.bottom,\n        width: r1.width,\n        height: r1.height,\n        id: null,\n    };\n}\nfunction getBuilderThemeVariables() {\n    var builderWin = window.parent;\n    if (!builderWin) {\n        return;\n    }\n    if (!builderWin.jimuConfig || !builderWin.jimuConfig.isBuilder) {\n        return;\n    }\n    return builderWin._appState.theme;\n}\nfunction isRTL() {\n    var _a, _b;\n    return (_b = (_a = Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"getAppStore\"])().getState().appContext) === null || _a === void 0 ? void 0 : _a.isRTL) !== null && _b !== void 0 ? _b : false;\n}\nfunction parseAspectRatio(ratio) {\n    var width = 100;\n    var height = 100;\n    if (typeof ratio === 'number') {\n        width = 100;\n        height = Math.round(ratio * 100);\n    }\n    else if (typeof ratio === 'string') {\n        var items = ratio.split(':');\n        width = parseInt(items[0], 10);\n        height = parseInt(items[1], 10);\n    }\n    return height / width;\n}\nfunction expandStyleArray(dataArray) {\n    if (!dataArray || dataArray.length === 0) {\n        return [0, 0, 0, 0];\n    }\n    else if (dataArray.length === 1) {\n        return [dataArray[0], dataArray[0], dataArray[0], dataArray[0]];\n    }\n    else if (dataArray.length === 2) { // top/bottom, left/right\n        return [dataArray[0], dataArray[1], dataArray[0], dataArray[1]];\n    }\n    else if (dataArray.length === 3) {\n        return [dataArray[0], dataArray[1], dataArray[2], 0];\n    }\n    else {\n        return [dataArray[0], dataArray[1], dataArray[2], dataArray[3]];\n    }\n}\nfunction calHeightOfLayoutItem(containerHeight, layoutItem) {\n    var _a, _b, _c, _d;\n    var setting = (_a = layoutItem.setting) !== null && _a !== void 0 ? _a : {};\n    var mode = getLayoutItemSizeMode('height', layoutItem.bbox, setting.autoProps);\n    if (mode !== _types__WEBPACK_IMPORTED_MODULE_1__[\"LayoutItemSizeModes\"].Custom) {\n        return {\n            height: mode === _types__WEBPACK_IMPORTED_MODULE_1__[\"LayoutItemSizeModes\"].Stretch ? containerHeight : null,\n            setting: {\n                autoProps: { height: mode },\n            },\n        };\n    }\n    var result;\n    if (setting.heightMode === 'ratio') {\n        result = {\n            setting: {\n                heightMode: 'ratio',\n                aspectRatio: (_b = setting.aspectRatio) !== null && _b !== void 0 ? _b : 1,\n                autoProps: { height: _types__WEBPACK_IMPORTED_MODULE_1__[\"LayoutItemSizeModes\"].Custom },\n            },\n        };\n    }\n    else {\n        // fit or fixed or no height mode\n        var height = (_d = (_c = layoutItem.bbox) === null || _c === void 0 ? void 0 : _c.height) !== null && _d !== void 0 ? _d : containerHeight;\n        if (isPercentage(height)) {\n            height = fromRatio(height, containerHeight);\n        }\n        result = {\n            height: height,\n            setting: {\n                heightMode: 'fixed',\n                autoProps: { height: _types__WEBPACK_IMPORTED_MODULE_1__[\"LayoutItemSizeModes\"].Custom },\n            },\n        };\n    }\n    return result;\n}\nfunction getAppConfig() {\n    var _a;\n    return window.jimuConfig.isBuilder ? (_a = Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"getAppStore\"])().getState().appStateInBuilder) === null || _a === void 0 ? void 0 : _a.appConfig : Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"getAppStore\"])().getState().appConfig;\n}\nfunction getCurrentSizeMode() {\n    var _a;\n    return window.jimuConfig.isBuilder ? (_a = Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"getAppStore\"])().getState().appStateInBuilder) === null || _a === void 0 ? void 0 : _a.browserSizeMode : Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"getAppStore\"])().getState().browserSizeMode;\n}\nfunction getCurrentPageId() {\n    var _a, _b, _c;\n    return window.jimuConfig.isBuilder ? (_b = (_a = Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"getAppStore\"])().getState().appStateInBuilder) === null || _a === void 0 ? void 0 : _a.appRuntimeInfo) === null || _b === void 0 ? void 0 : _b.currentPageId : (_c = Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"getAppStore\"])().getState().appRuntimeInfo) === null || _c === void 0 ? void 0 : _c.currentPageId;\n}\nfunction getCurrentDialogId() {\n    var _a, _b, _c;\n    return window.jimuConfig.isBuilder ? (_b = (_a = Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"getAppStore\"])().getState().appStateInBuilder) === null || _a === void 0 ? void 0 : _a.appRuntimeInfo) === null || _b === void 0 ? void 0 : _b.currentPageId : (_c = Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"getAppStore\"])().getState().appRuntimeInfo) === null || _c === void 0 ? void 0 : _c.currentDialogId;\n}\nfunction getActivePagePart() {\n    var _a, _b, _c;\n    return window.jimuConfig.isBuilder ? (_b = (_a = Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"getAppStore\"])().getState().appStateInBuilder) === null || _a === void 0 ? void 0 : _a.appRuntimeInfo) === null || _b === void 0 ? void 0 : _b.activePagePart : (_c = Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"getAppStore\"])().getState().appRuntimeInfo) === null || _c === void 0 ? void 0 : _c.activePagePart;\n}\nfunction getCurrentDialogRootLayoutId() {\n    var _a, _b, _c;\n    var appConfig = window.jimuConfig.isBuilder ? (_a = Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"getAppStore\"])().getState().appStateInBuilder) === null || _a === void 0 ? void 0 : _a.appConfig : Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"getAppStore\"])().getState().appConfig;\n    var dialogId = getCurrentDialogId();\n    var browserSizeMode = getCurrentSizeMode();\n    return (_c = (_b = appConfig === null || appConfig === void 0 ? void 0 : appConfig.dialogs[dialogId]) === null || _b === void 0 ? void 0 : _b.layout) === null || _c === void 0 ? void 0 : _c[browserSizeMode];\n}\nfunction getCurrentPageRootLayoutId() {\n    var _a, _b, _c;\n    var appConfig = window.jimuConfig.isBuilder ? (_a = Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"getAppStore\"])().getState().appStateInBuilder) === null || _a === void 0 ? void 0 : _a.appConfig : Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"getAppStore\"])().getState().appConfig;\n    var pageId = getCurrentPageId();\n    var browserSizeMode = getCurrentSizeMode();\n    return (_c = (_b = appConfig === null || appConfig === void 0 ? void 0 : appConfig.pages[pageId]) === null || _b === void 0 ? void 0 : _b.layout) === null || _c === void 0 ? void 0 : _c[browserSizeMode];\n}\nfunction getHeaderRootLayoutId() {\n    var _a, _b, _c;\n    var appConfig = window.jimuConfig.isBuilder ? (_a = Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"getAppStore\"])().getState().appStateInBuilder) === null || _a === void 0 ? void 0 : _a.appConfig : Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"getAppStore\"])().getState().appConfig;\n    var browserSizeMode = getCurrentSizeMode();\n    return (_c = (_b = appConfig === null || appConfig === void 0 ? void 0 : appConfig.header) === null || _b === void 0 ? void 0 : _b.layout) === null || _c === void 0 ? void 0 : _c[browserSizeMode];\n}\nfunction getFooterRootLayoutId() {\n    var _a, _b, _c;\n    var appConfig = window.jimuConfig.isBuilder ? (_a = Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"getAppStore\"])().getState().appStateInBuilder) === null || _a === void 0 ? void 0 : _a.appConfig : Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"getAppStore\"])().getState().appConfig;\n    var browserSizeMode = getCurrentSizeMode();\n    return (_c = (_b = appConfig === null || appConfig === void 0 ? void 0 : appConfig.footer) === null || _b === void 0 ? void 0 : _b.layout) === null || _c === void 0 ? void 0 : _c[browserSizeMode];\n}\n/**\n * Check if rect1 contains rect2\n * @param rect1\n * @param rect2\n */\nfunction contains(rect1, rect2) {\n    return rect2.left >= rect1.left && rect2.left + rect2.width <= rect1.left + rect1.width &&\n        rect2.top >= rect1.top && rect2.top + rect2.height <= rect1.top + rect1.height;\n}\nfunction intersects(r1, r2) {\n    return !(r2.left > r1.left + r1.width\n        || r2.left + r2.width < r1.left\n        || r2.top > r1.top + r1.height\n        || r2.top + r2.height < r1.top);\n}\nfunction getLayoutItemSizeMode(side, bbox, autoProps) {\n    var mode = autoProps === null || autoProps === void 0 ? void 0 : autoProps[side];\n    var first = side === 'width' ? 'left' : 'top';\n    var last = side === 'width' ? 'right' : 'bottom';\n    if (!mode) { // false or undefined\n        if (bbox[side] != null) {\n            return _types__WEBPACK_IMPORTED_MODULE_1__[\"LayoutItemSizeModes\"].Custom;\n        }\n        else if (bbox[first] != null && bbox[last] != null) {\n            return _types__WEBPACK_IMPORTED_MODULE_1__[\"LayoutItemSizeModes\"].Stretch;\n        }\n        return _types__WEBPACK_IMPORTED_MODULE_1__[\"LayoutItemSizeModes\"].Auto;\n    }\n    if (mode === true) { // width or height is auto\n        if (bbox[first] != null && bbox[last] != null) {\n            return _types__WEBPACK_IMPORTED_MODULE_1__[\"LayoutItemSizeModes\"].Stretch;\n        }\n        return _types__WEBPACK_IMPORTED_MODULE_1__[\"LayoutItemSizeModes\"].Auto;\n    }\n    switch (mode) {\n        case _types__WEBPACK_IMPORTED_MODULE_1__[\"LayoutItemSizeModes\"].Auto:\n            return _types__WEBPACK_IMPORTED_MODULE_1__[\"LayoutItemSizeModes\"].Auto;\n        case _types__WEBPACK_IMPORTED_MODULE_1__[\"LayoutItemSizeModes\"].Stretch:\n            return _types__WEBPACK_IMPORTED_MODULE_1__[\"LayoutItemSizeModes\"].Stretch;\n        default:\n            return _types__WEBPACK_IMPORTED_MODULE_1__[\"LayoutItemSizeModes\"].Custom;\n    }\n}\nfunction gcd(x, y) {\n    var m = Math.max(x, y);\n    var n = Math.min(x, y);\n    while (n !== 0) {\n        var temp = n;\n        n = m % n;\n        m = temp;\n    }\n    return m;\n}\nfunction handleOnebyOneAnimation(props) {\n    if (!props.animationStyle) {\n        return {};\n    }\n    var isPlaying = props.isPlaying, revert = props.revert, enableScroll = props.enableScroll, animationStyle = props.animationStyle, playId = props.playId;\n    return {\n        isParentPlaying: isPlaying,\n        isParentRevert: revert,\n        isParentEnableScroll: enableScroll,\n        parentAnimationStyle: animationStyle,\n        parentPlayId: playId\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWxheW91dHMvbGliL3V0aWxzLnRzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vamltdS1sYXlvdXRzL2xpYi91dGlscy50cz82OTVhIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludC1kaXNhYmxlIHByZWZlci1jb25zdCAqL1xuaW1wb3J0IHtcbiAgSW1tdXRhYmxlLFxuICBJTUxheW91dEpzb24sXG4gIElNQm91bmRpbmdCb3gsXG4gIElNU3RhdGUsXG4gIElNQXBwQ29uZmlnLFxuICBnZXRBcHBTdG9yZSxcbiAgV2lkZ2V0VHlwZSxcbiAgSU1UaGVtZVZhcmlhYmxlcyxcbiAgSU1MYXlvdXRJdGVtSnNvbixcbiAgQnJvd3NlclNpemVNb2RlLFxuICBQYWdlUGFydCxcbiAgTGF5b3V0SXRlbVR5cGUsXG4gIExheW91dEl0ZW1Db25zdHJ1Y3RvclByb3BzLFxuICBCb3VuZGluZ0JveCxcbn0gZnJvbSAnamltdS1jb3JlJztcbmltcG9ydCB7XG4gIFdpZGdldFByb3BzLFxuICBMYXlvdXRQcm9wcyxcbiAgTGF5b3V0SXRlbVByb3BzLFxuICBTdGF0ZVRvTGF5b3V0UHJvcHMsXG4gIFN0YXRlVG9MYXlvdXRJdGVtUHJvcHMsXG4gIExheW91dEl0ZW1TaXplTW9kZXMsXG59IGZyb20gJy4vdHlwZXMnO1xuXG5leHBvcnQgY29uc3QgZW1wdHlGdW5jID0gKCkgPT4ge307XG5cbmV4cG9ydCBmdW5jdGlvbiBhdXRvQmluZEhhbmRsZXJzKGVsOiBSZWNvcmQ8c3RyaW5nLCBhbnk+LCBmbnM6IEFycmF5PHN0cmluZz4pOiB2b2lkIHtcbiAgZm5zLmZvckVhY2goa2V5ID0+IHtcbiAgICBpZiAoZWxba2V5XSkge1xuICAgICAgZWxba2V5XSA9IGVsW2tleV0uYmluZChlbCk7XG4gICAgfVxuICB9KTtcbn1cblxuLyoqXG4gKiBHZXQgdGhlIG1heGltdW0gaWQgb2YgdGhlIGxheW91dCBpdGVtIHdoaWNoIGNhbiBiZSBjb252ZXJ0ZWQgdG8gYSBudW1iZXIuXG4gKiBAcGFyYW0gbGF5b3V0TWFwXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRNYXhpbXVtSWQobGF5b3V0TWFwOiBJTUxheW91dEpzb24pOiBudW1iZXIge1xuICBsZXQgbWF4ID0gLTE7XG4gIGlmIChsYXlvdXRNYXAuY29udGVudCkge1xuICAgIE9iamVjdC5rZXlzKGxheW91dE1hcC5jb250ZW50KS5mb3JFYWNoKGtleSA9PiB7XG4gICAgICBjb25zdCBpZCA9IHBhcnNlSW50KGtleSwgMTApO1xuICAgICAgaWYgKGlkID4gbWF4KSB7XG4gICAgICAgIG1heCA9IGlkO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIHJldHVybiBtYXg7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIHBlcmNlbnRhZ2UgdmFsdWVcbiAqIEBwYXJhbSB2YWx1ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNQZXJjZW50YWdlKHZhbHVlKTogYm9vbGVhbiB7XG4gIHJldHVybiAvXi0/XFxkKihcXC5cXGQrKT8lJC8udGVzdCh2YWx1ZSk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGZpbml0ZSBudW1iZXJcbiAqIEBwYXJhbSB2YWx1ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNOdW1iZXIodmFsdWUpOiBib29sZWFuIHtcbiAgY29uc3QgcmVzdWx0ID0gcGFyc2VGbG9hdCh2YWx1ZSk7XG4gIHJldHVybiAhaXNOYU4ocmVzdWx0KSAmJiBpc0Zpbml0ZShyZXN1bHQpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0VmFsdWVPZkJCb3goYmJveDogQm91bmRpbmdCb3gsIHByb3A6IHN0cmluZyk6IHN0cmluZyB7XG4gIGlmIChiYm94Py5bcHJvcF0gPT0gbnVsbCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGlmICh0eXBlb2YgYmJveFtwcm9wXSA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gYmJveFtwcm9wXTtcbiAgfVxuICBpZiAoaXNOdW1iZXIoYmJveFtwcm9wXSkpIHtcbiAgICByZXR1cm4gYCR7TWF0aC5yb3VuZChwYXJzZUZsb2F0KGJib3hbcHJvcF0pKX1weGA7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbi8qKlxuICogQ29udmVydCB0aGUgdmFsdWUgdG8gcGVyY2VudGFnZSB2YWx1ZSBpbiByZXNwZWN0IHRvIHRoZSB0b3RhbFxuICogQHBhcmFtIHZhbHVlXG4gKiBAcGFyYW0gdG90YWxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvUmF0aW8odmFsdWU6IG51bWJlciwgdG90YWw6IG51bWJlcikge1xuICByZXR1cm4gYCR7KCh2YWx1ZSAqIDEwMCkgLyB0b3RhbCkudG9GaXhlZCg0KX0lYDtcbn1cblxuLyoqXG4gKiBDb252ZXJ0IGEgcGVyY2VudGFnZSB2YWx1ZSB0byBwaXhlbCBpbiByZXNwZWN0IHRvIHRoZSB0b3RhbFxuICogQHBhcmFtIHJhdGlvXG4gKiBAcGFyYW0gdG90YWxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZyb21SYXRpbyhyYXRpbzogbnVtYmVyIHwgc3RyaW5nLCB0b3RhbDogbnVtYmVyKSB7XG4gIHJldHVybiAocGFyc2VGbG9hdChgJHtyYXRpb31gKSAqIHRvdGFsKSAvIDEwMDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1hcFN0YXRlVG9MYXlvdXRQcm9wcyhzdGF0ZTogSU1TdGF0ZSwgb3duUHJvcHM6IExheW91dFByb3BzKTogU3RhdGVUb0xheW91dFByb3BzIHtcbiAgY29uc3QgbGF5b3V0SWQgPSBvd25Qcm9wcy5sYXlvdXRzW3N0YXRlLmJyb3dzZXJTaXplTW9kZV0gfHwgb3duUHJvcHMubGF5b3V0c1tzdGF0ZS5hcHBDb25maWcubWFpblNpemVNb2RlXTtcbiAgY29uc3QgeyBsYXlvdXRzIH0gPSBzdGF0ZS5hcHBDb25maWc7XG5cbiAgaWYgKCFsYXlvdXRzW2xheW91dElkXSkge1xuICAgIHJldHVybiB7XG4gICAgICBsYXlvdXQ6IG51bGwsXG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgbGF5b3V0OiBsYXlvdXRzW2xheW91dElkXSxcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1hcFN0YXRlVG9MYXlvdXRJdGVtUHJvcHMoc3RhdGU6IElNU3RhdGUsIG93blByb3BzOiBMYXlvdXRJdGVtUHJvcHMpOiBTdGF0ZVRvTGF5b3V0SXRlbVByb3BzIHtcbiAgY29uc3QgbGF5b3V0SWQgPSBvd25Qcm9wcy5sYXlvdXRJZDtcbiAgY29uc3QgeyBsYXlvdXRzIH0gPSBzdGF0ZS5hcHBDb25maWc7XG4gIGNvbnN0IGxheW91dEl0ZW1JZCA9IG93blByb3BzLmxheW91dEl0ZW1JZDtcblxuICBpZiAoIWxheW91dHM/LltsYXlvdXRJZF0/LmNvbnRlbnQ/LltsYXlvdXRJdGVtSWRdKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGxheW91dEl0ZW06IG51bGwsXG4gICAgICBzZWxlY3RlZDogZmFsc2UsXG4gICAgfTtcbiAgfVxuICBsZXQgc2VsZWN0ZWQgPSBmYWxzZTtcbiAgbGV0IGF1dG9TY3JvbGw7XG4gIGNvbnN0IGxheW91dCA9IGxheW91dHNbbGF5b3V0SWRdO1xuXG4gIGNvbnN0IGxheW91dEl0ZW06IElNTGF5b3V0SXRlbUpzb24gPSBsYXlvdXQuY29udGVudFtsYXlvdXRJdGVtSWRdIGFzIElNTGF5b3V0SXRlbUpzb247XG5cbiAgbGV0IGlzUGVuZGluZyA9IGZhbHNlO1xuICBpZiAobGF5b3V0SXRlbSkge1xuICAgIGlzUGVuZGluZyA9IEJvb2xlYW4obGF5b3V0SXRlbS5pc1BlbmRpbmcpO1xuICB9XG4gIGNvbnN0IHNlbGVjdGlvbiA9IHN0YXRlLmFwcFJ1bnRpbWVJbmZvPy5zZWxlY3Rpb247XG4gIGlmIChzZWxlY3Rpb24pIHtcbiAgICBzZWxlY3RlZCA9IHNlbGVjdGlvbi5sYXlvdXRJZCA9PT0gb3duUHJvcHMubGF5b3V0SWQgJiYgc2VsZWN0aW9uLmxheW91dEl0ZW1JZCA9PT0gbGF5b3V0SXRlbS5pZDtcbiAgICBhdXRvU2Nyb2xsID0gc2VsZWN0aW9uLmF1dG9TY3JvbGw7XG4gIH1cbiAgY29uc3QgcmVzdWx0OiBTdGF0ZVRvTGF5b3V0SXRlbVByb3BzID0ge1xuICAgIHNlbGVjdGVkLFxuICAgIGxheW91dEl0ZW06IGlzUGVuZGluZyA/IG51bGwgOiBsYXlvdXRJdGVtLFxuICB9O1xuICBpZiAoc2VsZWN0ZWQpIHtcbiAgICByZXN1bHQuYXV0b1Njcm9sbCA9IGF1dG9TY3JvbGw7XG4gIH1cblxuICBjb25zdCBhbmltYXRpb25QcmV2aWV3ID0gc3RhdGUuYXBwUnVudGltZUluZm8/LmFuaW1hdGlvblByZXZpZXc7XG4gIGlmIChzZWxlY3RlZCAmJiBhbmltYXRpb25QcmV2aWV3Py5sYXlvdXRJbmZvKSB7XG4gICAgY29uc3QgeyBsYXlvdXRJZCA6IGFuaW1MYXlvdXRJZCwgbGF5b3V0SXRlbUlkIDogYW5pbUl0ZW1JZCB9ID0gYW5pbWF0aW9uUHJldmlldy5sYXlvdXRJbmZvO1xuICAgIHJlc3VsdC5hbmltYXRpb25QcmV2aWV3ID0gYW5pbUxheW91dElkID09PSBvd25Qcm9wcy5sYXlvdXRJZCAmJiBhbmltSXRlbUlkID09PSBvd25Qcm9wcy5sYXlvdXRJdGVtSWQ7XG4gICAgcmVzdWx0LnBsYXlNb2RlID0gcmVzdWx0LmFuaW1hdGlvblByZXZpZXcgPyBhbmltYXRpb25QcmV2aWV3LnBsYXlNb2RlIDogbnVsbDtcbiAgICByZXN1bHQucHJldmlld0lkID0gcmVzdWx0LmFuaW1hdGlvblByZXZpZXcgPyBhbmltYXRpb25QcmV2aWV3LmlkIDogbnVsbDtcbiAgfVxuICAvLyBpZiAoYW5pbWF0aW9uUHJldmlldz8ubGF5b3V0SW5mbykge1xuICAvLyAgIGNvbnN0IHsgbGF5b3V0SWQgOiBhbmltTGF5b3V0SWQsIGxheW91dEl0ZW1JZCA6IGFuaW1JdGVtSWQgfSA9IGFuaW1hdGlvblByZXZpZXcubGF5b3V0SW5mbztcbiAgLy8gICBpZiAoc2VsZWN0ZWQpIHtcbiAgLy8gICAgIHJlc3VsdC5hbmltYXRpb25QcmV2aWV3ID0gYW5pbUxheW91dElkID09PSBvd25Qcm9wcy5sYXlvdXRJZCAmJiBhbmltSXRlbUlkID09PSBvd25Qcm9wcy5sYXlvdXRJdGVtSWQ7XG4gIC8vICAgICByZXN1bHQucGxheU1vZGUgPSByZXN1bHQuYW5pbWF0aW9uUHJldmlldyA/IGFuaW1hdGlvblByZXZpZXcucGxheU1vZGUgOiBudWxsO1xuICAvLyAgICAgcmVzdWx0LnByZXZpZXdJZCA9IHJlc3VsdC5hbmltYXRpb25QcmV2aWV3ID8gYW5pbWF0aW9uUHJldmlldy5pZCA6IG51bGw7XG4gIC8vICAgfSBlbHNlIGlmICghYW5pbWF0aW9uUHJldmlldy5wbGF5TW9kZSkgeyAvLyBwbGF5IGFzIGEgd2hvbGUuIGluY2x1ZGluZyBpbm5lciB3aWRnZXRcbiAgLy8gICAgIC8vIGNvbnRhaW5lciBwbGF5cyBvbmUgYnkgb25lLCBpZiBpbm5lciBpdGVtIGhhcyBpdHMgb3duIGFuaW1hdGlvbiwgaXQgc2hvdWxkIHBsYXkgaXRzIG93biBhbmltYXRpb25cbiAgLy8gICAgIGNvbnN0IGFuaW1hdGlvbkxheW91dEl0ZW0gPSBzdGF0ZS5hcHBDb25maWcubGF5b3V0c1thbmltTGF5b3V0SWRdLmNvbnRlbnRbYW5pbUl0ZW1JZF07XG4gIC8vICAgICBpZiAoYW5pbWF0aW9uTGF5b3V0SXRlbS50eXBlID09PSBMYXlvdXRJdGVtVHlwZS5XaWRnZXQpIHtcbiAgLy8gICAgICAgY29uc3Qgd2lkZ2V0ID0gc3RhdGUuYXBwQ29uZmlnLndpZGdldHNbYW5pbWF0aW9uTGF5b3V0SXRlbS53aWRnZXRJZF07XG4gIC8vICAgICAgIGlmICh3aWRnZXQ/LmxheW91dHMpIHtcbiAgLy8gICAgICAgICBmb3IgKGNvbnN0IG5hbWUgaW4gd2lkZ2V0LmxheW91dHMpIHtcbiAgLy8gICAgICAgICAgIGNvbnN0IHNpemVtb2RlTGF5b3V0cyA9IHdpZGdldC5sYXlvdXRzW25hbWVdO1xuICAvLyAgICAgICAgICAgY29uc3QgZm91bmQgPSBPYmplY3Qua2V5cyhzaXplbW9kZUxheW91dHMpLnNvbWUoc2l6ZW1vZGUgPT4gc2l6ZW1vZGVMYXlvdXRzW3NpemVtb2RlXSA9PT0gbGF5b3V0SWQpO1xuICAvLyAgICAgICAgICAgaWYgKGZvdW5kKSB7XG4gIC8vICAgICAgICAgICAgIHJlc3VsdC5hbmltYXRpb25QcmV2aWV3ID0gdHJ1ZTtcbiAgLy8gICAgICAgICAgICAgcmVzdWx0LnBsYXlNb2RlID0gQW5pbWF0aW9uUGxheU1vZGUuQXNPbmU7XG4gIC8vICAgICAgICAgICAgIHJlc3VsdC5wcmV2aWV3SWQgPSBhbmltYXRpb25QcmV2aWV3LmlkO1xuICAvLyAgICAgICAgICAgICBicmVhaztcbiAgLy8gICAgICAgICAgIH1cbiAgLy8gICAgICAgICB9XG4gIC8vICAgICAgIH1cbiAgLy8gICAgIH1cbiAgLy8gICB9XG4gIC8vIH0gZWxzZSBpZiAoYW5pbWF0aW9uUHJldmlldz8ucGFnZUlkKSB7XG4gIC8vICAgY29uc3QgcGFnZUpzb24gPSBzdGF0ZS5hcHBDb25maWcucGFnZXNbYW5pbWF0aW9uUHJldmlldy5wYWdlSWRdO1xuICAvLyAgIGNvbnN0IHNpemVNb2RlID0gZ2V0Q3VycmVudFNpemVNb2RlKCk7XG4gIC8vICAgY29uc3QgcGFnZUxheW91dElkID0gcGFnZUpzb24/LmxheW91dD8uW3NpemVNb2RlXTtcbiAgLy8gICBpZiAocGFnZUxheW91dElkID09PSBsYXlvdXRJZCkge1xuICAvLyAgICAgbGV0IGVmZmVjdCA9IGxheW91dEl0ZW0uc2V0dGluZz8uZWZmZWN0O1xuICAvLyAgICAgZWZmZWN0ID0gZWZmZWN0ICYmIGVmZmVjdD8uW0FuaW1hdGlvblRyaWdnZXJUeXBlLlNjcm9sbEludG9WaWV3XT8udHlwZSAhPT0gQW5pbWF0aW9uVHlwZS5Ob25lID8gZWZmZWN0IDogbnVsbDtcbiAgLy8gICAgIGlmIChlZmZlY3QpIHtcbiAgLy8gICAgICAgcmVzdWx0LmFuaW1hdGlvblByZXZpZXcgPSB0cnVlO1xuICAvLyAgICAgICByZXN1bHQucGxheU1vZGUgPSBBbmltYXRpb25QbGF5TW9kZS5Bc09uZTtcbiAgLy8gICAgICAgcmVzdWx0LnByZXZpZXdJZCA9IGFuaW1hdGlvblByZXZpZXcuaWQ7XG4gIC8vICAgICB9XG4gIC8vICAgfVxuICAvLyB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtYXBTdGF0ZVRvV2lkZ2V0UHJvcHMoc3RhdGU6IElNU3RhdGUsIG93blByb3BzOiBMYXlvdXRJdGVtUHJvcHMpOiBXaWRnZXRQcm9wcyB7XG4gIGNvbnN0IGxheW91dElkID0gb3duUHJvcHMubGF5b3V0SWQ7XG4gIGNvbnN0IHsgbGF5b3V0cyB9ID0gc3RhdGUuYXBwQ29uZmlnO1xuICBpZiAoIWxheW91dHNbbGF5b3V0SWRdKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgY29uc3QgbGF5b3V0ID0gbGF5b3V0c1tsYXlvdXRJZF07XG4gIGNvbnN0IGxheW91dEl0ZW1JZCA9IG93blByb3BzLmxheW91dEl0ZW1JZDtcblxuICAvLyBjb25zdCBzZWxlY3Rpb246IFNlbGVjdGlvbiA9IHN0YXRlLmFwcFJ1bnRpbWVJbmZvLnNlbGVjdGlvbiB8fCAoe30gYXMgU2VsZWN0aW9uKTtcbiAgY29uc3QgbGF5b3V0SXRlbTogSU1MYXlvdXRJdGVtSnNvbiA9IGxheW91dC5jb250ZW50W2xheW91dEl0ZW1JZF0gYXMgSU1MYXlvdXRJdGVtSnNvbjtcblxuICBsZXQgc3VwcG9ydElubGluZUVkaXRpbmcgPSBmYWxzZTtcbiAgbGV0IGlzQ2xhc3NMb2FkZWQgPSBmYWxzZTtcbiAgbGV0IGlzSW5saW5lRWRpdGluZyA9IGZhbHNlO1xuICBsZXQgc3VwcG9ydFJlcGVhdCA9IGZhbHNlO1xuICBsZXQgZnVuY3Rpb25hbFdpZGdldCA9IGZhbHNlO1xuICBsZXQgaGFzRW1iZWRkZWRMYXlvdXQgPSBmYWxzZTtcbiAgbGV0IGNhbkNyb3NzTGF5b3V0Qm91bmRhcnkgPSBmYWxzZTtcbiAgbGV0IGhhc0V4dGVuc2lvbiA9IGZhbHNlO1xuICBsZXQgd2lkZ2V0U3R5bGU7XG4gIGxldCB3aWRnZXRKc29uO1xuICBsZXQgd2lkZ2V0U3RhdGU7XG4gIGlmIChsYXlvdXRJdGVtICYmIGxheW91dEl0ZW0ud2lkZ2V0SWQpIHtcbiAgICBjb25zdCB3aWRnZXQgPSBzdGF0ZS5hcHBDb25maWcud2lkZ2V0c1tsYXlvdXRJdGVtLndpZGdldElkXTtcblxuICAgIHdpZGdldFN0eWxlID0gd2lkZ2V0LnN0eWxlO1xuICAgIHN1cHBvcnRJbmxpbmVFZGl0aW5nID0gd2lkZ2V0Lm1hbmlmZXN0Py5wcm9wZXJ0aWVzPy5zdXBwb3J0SW5saW5lRWRpdGluZyA9PT0gdHJ1ZTtcbiAgICBzdXBwb3J0UmVwZWF0ID0gd2lkZ2V0Lm1hbmlmZXN0Py5wcm9wZXJ0aWVzPy5zdXBwb3J0UmVwZWF0ID09PSB0cnVlO1xuICAgIGNhbkNyb3NzTGF5b3V0Qm91bmRhcnkgPSB3aWRnZXQubWFuaWZlc3Q/LnByb3BlcnRpZXM/LmNhbkNyb3NzTGF5b3V0Qm91bmRhcnkgPT09IHRydWU7XG4gICAgY29uc3QgcnVudGltZUluZm8gPSBzdGF0ZS53aWRnZXRzUnVudGltZUluZm9bbGF5b3V0SXRlbS53aWRnZXRJZF07XG4gICAgaXNDbGFzc0xvYWRlZCA9IHJ1bnRpbWVJbmZvPy5pc0NsYXNzTG9hZGVkID8/IGZhbHNlO1xuICAgIGlzSW5saW5lRWRpdGluZyA9IHN1cHBvcnRJbmxpbmVFZGl0aW5nICYmIHJ1bnRpbWVJbmZvPy5pc0lubGluZUVkaXRpbmc7XG4gICAgaGFzRXh0ZW5zaW9uID0gd2lkZ2V0Lm1hbmlmZXN0Py5leHRlbnNpb25zPy5sZW5ndGggPiAwO1xuICAgIGlmIChoYXNFeHRlbnNpb24pIHtcbiAgICAgIHdpZGdldEpzb24gPSB3aWRnZXQ7XG4gICAgfVxuICAgIHdpZGdldFN0YXRlID0gc3RhdGUud2lkZ2V0c1N0YXRlW2xheW91dEl0ZW0ud2lkZ2V0SWRdO1xuICAgIGZ1bmN0aW9uYWxXaWRnZXQgPSBpc0Z1bmN0aW9uYWxXaWRnZXQobGF5b3V0SXRlbS53aWRnZXRJZCwgc3RhdGUuYXBwQ29uZmlnKTtcbiAgICBoYXNFbWJlZGRlZExheW91dCA9IGlzV2lkZ2V0SGFzRW1iZWRkZWRMYXlvdXQobGF5b3V0SXRlbS53aWRnZXRJZCwgc3RhdGUuYXBwQ29uZmlnKTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgaGFzRW1iZWRkZWRMYXlvdXQsXG4gICAgc3VwcG9ydElubGluZUVkaXRpbmcsXG4gICAgc3VwcG9ydFJlcGVhdCxcbiAgICBpc0NsYXNzTG9hZGVkLFxuICAgIGlzSW5saW5lRWRpdGluZyxcbiAgICB3aWRnZXRTdHlsZSxcbiAgICBjYW5Dcm9zc0xheW91dEJvdW5kYXJ5LFxuICAgIGhhc0V4dGVuc2lvbixcbiAgICB3aWRnZXRKc29uLFxuICAgIHdpZGdldElkOiBsYXlvdXRJdGVtLndpZGdldElkLFxuICAgIGlzRnVuY3Rpb25hbFdpZGdldDogZnVuY3Rpb25hbFdpZGdldCxcbiAgICB3aWRnZXRTdGF0ZSxcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzV2lkZ2V0SGFzRW1iZWRkZWRMYXlvdXQod2lkZ2V0SWQ6IHN0cmluZywgYXBwQ29uZmlnOiBJTUFwcENvbmZpZykge1xuICBjb25zdCB3aWRnZXQgPSBhcHBDb25maWc/LndpZGdldHM/Llt3aWRnZXRJZF07XG5cbiAgaWYgKHdpZGdldD8ubWFuaWZlc3Q/LnByb3BlcnRpZXM/Lmhhc0VtYmVkZGVkTGF5b3V0KSB7XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKHdpZGdldD8ubGF5b3V0cyA/PyB7fSkubGVuZ3RoID4gMDtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0Z1bmN0aW9uYWxXaWRnZXQod2lkZ2V0SWQ6IHN0cmluZywgYXBwQ29uZmlnOiBJTUFwcENvbmZpZykge1xuICBjb25zdCB3aWRnZXQgPSBhcHBDb25maWc/LndpZGdldHM/Llt3aWRnZXRJZF07XG4gIGNvbnN0IHR5cGUgPSB3aWRnZXQ/Lm1hbmlmZXN0Py53aWRnZXRUeXBlO1xuICByZXR1cm4gdHlwZSAhPT0gV2lkZ2V0VHlwZS5MYXlvdXQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1dpZGdldFBsYWNlaG9sZGVyKGFwcENvbmZpZzogSU1BcHBDb25maWcsIGl0ZW06IExheW91dEl0ZW1Db25zdHJ1Y3RvclByb3BzKTogYm9vbGVhbiB7XG4gIGlmICghaXRlbSB8fCBpdGVtLml0ZW1UeXBlICE9PSBMYXlvdXRJdGVtVHlwZS5XaWRnZXQpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBpZiAoaXRlbS5sYXlvdXRJbmZvKSB7XG4gICAgLy8gTGF5b3V0IGl0ZW0gd2l0aG91dCB3aWRnZXRJZFxuICAgIGNvbnN0IHsgbGF5b3V0SWQsIGxheW91dEl0ZW1JZCB9ID0gaXRlbS5sYXlvdXRJbmZvO1xuICAgIGNvbnN0IGxheW91dEl0ZW0gPSBhcHBDb25maWcubGF5b3V0cz8uW2xheW91dElkXS5jb250ZW50Py5bbGF5b3V0SXRlbUlkXTtcblxuICAgIGlmIChsYXlvdXRJdGVtICYmICFsYXlvdXRJdGVtLndpZGdldElkKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICBpZiAoIWl0ZW0ubGF5b3V0SW5mbyAmJiAhaXRlbS51cmkpIHtcbiAgICAvLyBOZXcgd2lkZ2V0IHdpdGhvdXQgdXJpXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogUmVwbGFjZSB0aGUgdmFsdWVzIG9mIGJvdW5kaW5nIGJveCBiMSB3aXRoIHZhbHVlcyBvZiBiMiwgdHJ5IHRvIGtlZXAgdGhlIHVuaXQgb2YgZWFjaCBwcm9wZXJ0eS5cbiAqIEBwYXJhbSBiMVxuICogQHBhcmFtIGIyXG4gKiBAcGFyYW0gY29udGFpbmVyUmVjdFxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVwbGFjZUJvdW5kaW5nQm94KGIxOiBJTUJvdW5kaW5nQm94LCBiMjogQ2xpZW50UmVjdCwgY29udGFpbmVyUmVjdDogQ2xpZW50UmVjdCk6IElNQm91bmRpbmdCb3gge1xuICBpZiAoIWIxKSB7XG4gICAgcmV0dXJuIEltbXV0YWJsZSh7XG4gICAgICBsZWZ0OiBpc1BlcmNlbnRhZ2UoYjIubGVmdCkgPyBiMi5sZWZ0IDogYCR7TWF0aC5yb3VuZChiMi5sZWZ0KX1weGAsXG4gICAgICByaWdodDogaXNQZXJjZW50YWdlKGIyLnJpZ2h0KSA/IGIyLnJpZ2h0IDogYCR7TWF0aC5yb3VuZChiMi5yaWdodCl9cHhgLFxuICAgICAgdG9wOiBpc1BlcmNlbnRhZ2UoYjIudG9wKSA/IGIyLnRvcCA6IGAke01hdGgucm91bmQoYjIudG9wKX1weGAsXG4gICAgICBib3R0b206IGlzUGVyY2VudGFnZShiMi5ib3R0b20pID8gYjIuYm90dG9tIDogYCR7TWF0aC5yb3VuZChiMi5ib3R0b20pfXB4YCxcbiAgICAgIHdpZHRoOiBpc1BlcmNlbnRhZ2UoYjIud2lkdGgpID8gYjIud2lkdGggOiBgJHtNYXRoLnJvdW5kKGIyLndpZHRoKX1weGAsXG4gICAgICBoZWlnaHQ6IGlzUGVyY2VudGFnZShiMi5oZWlnaHQpID8gYjIuaGVpZ2h0IDogYCR7TWF0aC5yb3VuZChiMi5oZWlnaHQpfXB4YCxcbiAgICB9KSBhcyBJTUJvdW5kaW5nQm94O1xuICB9XG4gIGxldCByZXN1bHQgPSBiMTtcbiAgWydsZWZ0JywgJ3JpZ2h0JywgJ3RvcCcsICdib3R0b20nLCAnd2lkdGgnLCAnaGVpZ2h0J10uZm9yRWFjaChrZXkgPT4ge1xuICAgIGlmIChyZXN1bHRba2V5XSAhPSBudWxsKSB7XG4gICAgICByZXN1bHQgPSB1cGRhdGVCb3VuZGluZ0JveFByb3Aoa2V5LCByZXN1bHQsIGIyW2tleV0sIGNvbnRhaW5lclJlY3QpO1xuICAgIH0gZWxzZSBpZiAoYjJba2V5XSAhPSBudWxsKSB7XG4gICAgICByZXN1bHQgPSByZXN1bHQuc2V0KGtleSwgYCR7TWF0aC5yb3VuZChiMltrZXldKX1weGApO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogVXBkYXRlIGEgcHJvcGVydHkgb2YgdGhlIGJvdW5kaW5nIGJveFxuICogQHBhcmFtIHByb3BcbiAqIEBwYXJhbSBiXG4gKiBAcGFyYW0gbmV3VmFsdWVcbiAqIEBwYXJhbSBjb250YWluZXJSZWN0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVCb3VuZGluZ0JveFByb3AoXG4gIHByb3A6IHN0cmluZyxcbiAgYjogSU1Cb3VuZGluZ0JveCxcbiAgbmV3VmFsdWU6IG51bWJlciB8IHN0cmluZyxcbiAgY29udGFpbmVyUmVjdDogQ2xpZW50UmVjdFxuKSB7XG4gIGlmIChiW3Byb3BdID09IG51bGwgfHwgYltwcm9wXSA9PT0gJ2F1dG8nKSB7XG4gICAgcmV0dXJuIGI7XG4gIH1cbiAgbGV0IHVwZGF0ZWQgPSBiO1xuICBpZiAoaXNQZXJjZW50YWdlKGJbcHJvcF0pKSB7XG4gICAgaWYgKHByb3AgPT09ICdsZWZ0JyB8fCBwcm9wID09PSAncmlnaHQnIHx8IHByb3AgPT09ICd3aWR0aCcpIHtcbiAgICAgIGlmIChpc1BlcmNlbnRhZ2UobmV3VmFsdWUpKSB7XG4gICAgICAgIHVwZGF0ZWQgPSBiLnNldChwcm9wLCBuZXdWYWx1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB1cGRhdGVkID0gYi5zZXQocHJvcCwgYCR7KCgrbmV3VmFsdWUgKiAxMDApIC8gY29udGFpbmVyUmVjdC53aWR0aCkudG9GaXhlZCg0KX0lYCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChpc1BlcmNlbnRhZ2UobmV3VmFsdWUpKSB7XG4gICAgICAgIHVwZGF0ZWQgPSBiLnNldChwcm9wLCBuZXdWYWx1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB1cGRhdGVkID0gYi5zZXQocHJvcCwgYCR7KCgrbmV3VmFsdWUgKiAxMDApIC8gY29udGFpbmVyUmVjdC5oZWlnaHQpLnRvRml4ZWQoNCl9JWApO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAoaXNQZXJjZW50YWdlKG5ld1ZhbHVlKSkge1xuICAgICAgaWYgKHByb3AgPT09ICdsZWZ0JyB8fCBwcm9wID09PSAncmlnaHQnIHx8IHByb3AgPT09ICd3aWR0aCcpIHtcbiAgICAgICAgdXBkYXRlZCA9IGIuc2V0KHByb3AsIE1hdGgucm91bmQoKHBhcnNlRmxvYXQoYCR7bmV3VmFsdWV9YCkgKiBjb250YWluZXJSZWN0LndpZHRoKSAvIDEwMCkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdXBkYXRlZCA9IGIuc2V0KHByb3AsIE1hdGgucm91bmQoKHBhcnNlRmxvYXQoYCR7bmV3VmFsdWV9YCkgKiBjb250YWluZXJSZWN0LmhlaWdodCkgLyAxMDApKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGlzTmFOKCtuZXdWYWx1ZSkpIHtcbiAgICAgICAgdXBkYXRlZCA9IGIud2l0aG91dChwcm9wIGFzIGFueSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB1cGRhdGVkID0gYi5zZXQocHJvcCwgYCR7TWF0aC5yb3VuZCgrbmV3VmFsdWUpfXB4YCk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiB1cGRhdGVkO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVsYXRpdmVDbGllbnRSZWN0KHIxOiBDbGllbnRSZWN0LCByMjogQ2xpZW50UmVjdCk6IENsaWVudFJlY3QgJiB7IGlkOiBzdHJpbmcgfSB7XG4gIHJldHVybiB7XG4gICAgbGVmdDogcjEubGVmdCAtIHIyLmxlZnQsXG4gICAgdG9wOiByMS50b3AgLSByMi50b3AsXG4gICAgcmlnaHQ6IHIxLnJpZ2h0LFxuICAgIGJvdHRvbTogcjEuYm90dG9tLFxuICAgIHdpZHRoOiByMS53aWR0aCxcbiAgICBoZWlnaHQ6IHIxLmhlaWdodCxcbiAgICBpZDogbnVsbCxcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEJ1aWxkZXJUaGVtZVZhcmlhYmxlcygpOiBJTVRoZW1lVmFyaWFibGVzIHtcbiAgY29uc3QgYnVpbGRlcldpbiA9IHdpbmRvdy5wYXJlbnQ7XG4gIGlmKCFidWlsZGVyV2luKXtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKCFidWlsZGVyV2luLmppbXVDb25maWcgfHwgIWJ1aWxkZXJXaW4uamltdUNvbmZpZy5pc0J1aWxkZXIpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICByZXR1cm4gKGJ1aWxkZXJXaW4uX2FwcFN0YXRlIGFzIElNU3RhdGUpLnRoZW1lO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNSVEwoKSB7XG4gIHJldHVybiBnZXRBcHBTdG9yZSgpLmdldFN0YXRlKCkuYXBwQ29udGV4dD8uaXNSVEwgPz8gZmFsc2U7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZUFzcGVjdFJhdGlvKHJhdGlvOiBudW1iZXIgfCBzdHJpbmcpOiBudW1iZXIge1xuICBsZXQgd2lkdGggPSAxMDA7XG4gIGxldCBoZWlnaHQgPSAxMDA7XG4gIGlmICh0eXBlb2YgcmF0aW8gPT09ICdudW1iZXInKSB7XG4gICAgd2lkdGggPSAxMDA7XG4gICAgaGVpZ2h0ID0gTWF0aC5yb3VuZChyYXRpbyAqIDEwMCk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIHJhdGlvID09PSAnc3RyaW5nJykge1xuICAgIGNvbnN0IGl0ZW1zID0gcmF0aW8uc3BsaXQoJzonKTtcbiAgICB3aWR0aCA9IHBhcnNlSW50KGl0ZW1zWzBdLCAxMCk7XG4gICAgaGVpZ2h0ID0gcGFyc2VJbnQoaXRlbXNbMV0sIDEwKTtcbiAgfVxuICByZXR1cm4gaGVpZ2h0IC8gd2lkdGg7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBleHBhbmRTdHlsZUFycmF5KGRhdGFBcnJheTogQXJyYXk8bnVtYmVyPik6IFtudW1iZXIsIG51bWJlciwgbnVtYmVyLCBudW1iZXJdIHtcbiAgaWYgKCFkYXRhQXJyYXkgfHwgZGF0YUFycmF5Lmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBbMCwgMCwgMCwgMF07XG4gIH0gZWxzZSBpZiAoZGF0YUFycmF5Lmxlbmd0aCA9PT0gMSkge1xuICAgIHJldHVybiBbZGF0YUFycmF5WzBdLCBkYXRhQXJyYXlbMF0sIGRhdGFBcnJheVswXSwgZGF0YUFycmF5WzBdXTtcbiAgfSBlbHNlIGlmIChkYXRhQXJyYXkubGVuZ3RoID09PSAyKSB7Ly8gdG9wL2JvdHRvbSwgbGVmdC9yaWdodFxuICAgIHJldHVybiBbZGF0YUFycmF5WzBdLCBkYXRhQXJyYXlbMV0sIGRhdGFBcnJheVswXSwgZGF0YUFycmF5WzFdXTtcbiAgfSBlbHNlIGlmIChkYXRhQXJyYXkubGVuZ3RoID09PSAzKSB7XG4gICAgcmV0dXJuIFtkYXRhQXJyYXlbMF0sIGRhdGFBcnJheVsxXSwgZGF0YUFycmF5WzJdLCAwXTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gW2RhdGFBcnJheVswXSwgZGF0YUFycmF5WzFdLCBkYXRhQXJyYXlbMl0sIGRhdGFBcnJheVszXV07XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNhbEhlaWdodE9mTGF5b3V0SXRlbShjb250YWluZXJIZWlnaHQ6IG51bWJlciwgbGF5b3V0SXRlbTogSU1MYXlvdXRJdGVtSnNvbik6IHsgaGVpZ2h0PzogbnVtYmVyOyBzZXR0aW5nOiBhbnkgfSB7XG4gIGNvbnN0IHNldHRpbmcgPSBsYXlvdXRJdGVtLnNldHRpbmcgPz8ge307XG4gIGNvbnN0IG1vZGUgPSBnZXRMYXlvdXRJdGVtU2l6ZU1vZGUoJ2hlaWdodCcsIGxheW91dEl0ZW0uYmJveCwgc2V0dGluZy5hdXRvUHJvcHMpO1xuICBpZiAobW9kZSAhPT0gTGF5b3V0SXRlbVNpemVNb2Rlcy5DdXN0b20pIHtcbiAgICByZXR1cm4ge1xuICAgICAgaGVpZ2h0OiBtb2RlID09PSBMYXlvdXRJdGVtU2l6ZU1vZGVzLlN0cmV0Y2ggPyBjb250YWluZXJIZWlnaHQgOiBudWxsLFxuICAgICAgc2V0dGluZzoge1xuICAgICAgICBhdXRvUHJvcHM6IHsgaGVpZ2h0OiBtb2RlIH0sXG4gICAgICB9LFxuICAgIH07XG4gIH1cblxuICBsZXQgcmVzdWx0O1xuICBpZiAoc2V0dGluZy5oZWlnaHRNb2RlID09PSAncmF0aW8nKSB7XG4gICAgcmVzdWx0ID0ge1xuICAgICAgc2V0dGluZzoge1xuICAgICAgICBoZWlnaHRNb2RlOiAncmF0aW8nLFxuICAgICAgICBhc3BlY3RSYXRpbzogc2V0dGluZy5hc3BlY3RSYXRpbyA/PyAxLFxuICAgICAgICBhdXRvUHJvcHM6IHsgaGVpZ2h0OiBMYXlvdXRJdGVtU2l6ZU1vZGVzLkN1c3RvbSB9LFxuICAgICAgfSxcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIC8vIGZpdCBvciBmaXhlZCBvciBubyBoZWlnaHQgbW9kZVxuICAgIGxldCBoZWlnaHQgPSBsYXlvdXRJdGVtLmJib3g/LmhlaWdodCA/PyBjb250YWluZXJIZWlnaHQ7XG4gICAgaWYgKGlzUGVyY2VudGFnZShoZWlnaHQpKSB7XG4gICAgICBoZWlnaHQgPSBmcm9tUmF0aW8oaGVpZ2h0LCBjb250YWluZXJIZWlnaHQpO1xuICAgIH1cbiAgICByZXN1bHQgPSB7XG4gICAgICBoZWlnaHQsXG4gICAgICBzZXR0aW5nOiB7XG4gICAgICAgIGhlaWdodE1vZGU6ICdmaXhlZCcsXG4gICAgICAgIGF1dG9Qcm9wczogeyBoZWlnaHQ6IExheW91dEl0ZW1TaXplTW9kZXMuQ3VzdG9tIH0sXG4gICAgICB9LFxuICAgIH07XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEFwcENvbmZpZygpOiBJTUFwcENvbmZpZyB7XG4gIHJldHVybiB3aW5kb3cuamltdUNvbmZpZy5pc0J1aWxkZXIgPyBnZXRBcHBTdG9yZSgpLmdldFN0YXRlKCkuYXBwU3RhdGVJbkJ1aWxkZXI/LmFwcENvbmZpZ1xuICAgIDogZ2V0QXBwU3RvcmUoKS5nZXRTdGF0ZSgpLmFwcENvbmZpZztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEN1cnJlbnRTaXplTW9kZSgpOiBCcm93c2VyU2l6ZU1vZGV7XG4gIHJldHVybiB3aW5kb3cuamltdUNvbmZpZy5pc0J1aWxkZXIgPyBnZXRBcHBTdG9yZSgpLmdldFN0YXRlKCkuYXBwU3RhdGVJbkJ1aWxkZXI/LmJyb3dzZXJTaXplTW9kZVxuICAgIDogZ2V0QXBwU3RvcmUoKS5nZXRTdGF0ZSgpLmJyb3dzZXJTaXplTW9kZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEN1cnJlbnRQYWdlSWQoKTogc3RyaW5ne1xuICByZXR1cm4gd2luZG93LmppbXVDb25maWcuaXNCdWlsZGVyID8gZ2V0QXBwU3RvcmUoKS5nZXRTdGF0ZSgpLmFwcFN0YXRlSW5CdWlsZGVyPy5hcHBSdW50aW1lSW5mbz8uY3VycmVudFBhZ2VJZFxuICAgIDogZ2V0QXBwU3RvcmUoKS5nZXRTdGF0ZSgpLmFwcFJ1bnRpbWVJbmZvPy5jdXJyZW50UGFnZUlkO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q3VycmVudERpYWxvZ0lkKCk6IHN0cmluZ3tcbiAgcmV0dXJuIHdpbmRvdy5qaW11Q29uZmlnLmlzQnVpbGRlciA/IGdldEFwcFN0b3JlKCkuZ2V0U3RhdGUoKS5hcHBTdGF0ZUluQnVpbGRlcj8uYXBwUnVudGltZUluZm8/LmN1cnJlbnRQYWdlSWRcbiAgICA6IGdldEFwcFN0b3JlKCkuZ2V0U3RhdGUoKS5hcHBSdW50aW1lSW5mbz8uY3VycmVudERpYWxvZ0lkO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0QWN0aXZlUGFnZVBhcnQoKTogUGFnZVBhcnQge1xuICByZXR1cm4gd2luZG93LmppbXVDb25maWcuaXNCdWlsZGVyID8gZ2V0QXBwU3RvcmUoKS5nZXRTdGF0ZSgpLmFwcFN0YXRlSW5CdWlsZGVyPy5hcHBSdW50aW1lSW5mbz8uYWN0aXZlUGFnZVBhcnRcbiAgICA6IGdldEFwcFN0b3JlKCkuZ2V0U3RhdGUoKS5hcHBSdW50aW1lSW5mbz8uYWN0aXZlUGFnZVBhcnQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRDdXJyZW50RGlhbG9nUm9vdExheW91dElkKCk6IHN0cmluZyB7XG4gIGNvbnN0IGFwcENvbmZpZyA9IHdpbmRvdy5qaW11Q29uZmlnLmlzQnVpbGRlciA/IGdldEFwcFN0b3JlKCkuZ2V0U3RhdGUoKS5hcHBTdGF0ZUluQnVpbGRlcj8uYXBwQ29uZmlnXG4gICAgOiBnZXRBcHBTdG9yZSgpLmdldFN0YXRlKCkuYXBwQ29uZmlnO1xuICBjb25zdCBkaWFsb2dJZCA9IGdldEN1cnJlbnREaWFsb2dJZCgpO1xuICBjb25zdCBicm93c2VyU2l6ZU1vZGUgPSBnZXRDdXJyZW50U2l6ZU1vZGUoKTtcbiAgcmV0dXJuIGFwcENvbmZpZz8uZGlhbG9nc1tkaWFsb2dJZF0/LmxheW91dD8uW2Jyb3dzZXJTaXplTW9kZV07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRDdXJyZW50UGFnZVJvb3RMYXlvdXRJZCgpOiBzdHJpbmcge1xuICBjb25zdCBhcHBDb25maWcgPSB3aW5kb3cuamltdUNvbmZpZy5pc0J1aWxkZXIgPyBnZXRBcHBTdG9yZSgpLmdldFN0YXRlKCkuYXBwU3RhdGVJbkJ1aWxkZXI/LmFwcENvbmZpZ1xuICAgIDogZ2V0QXBwU3RvcmUoKS5nZXRTdGF0ZSgpLmFwcENvbmZpZztcbiAgY29uc3QgcGFnZUlkID0gZ2V0Q3VycmVudFBhZ2VJZCgpO1xuICBjb25zdCBicm93c2VyU2l6ZU1vZGUgPSBnZXRDdXJyZW50U2l6ZU1vZGUoKTtcbiAgcmV0dXJuIGFwcENvbmZpZz8ucGFnZXNbcGFnZUlkXT8ubGF5b3V0Py5bYnJvd3NlclNpemVNb2RlXTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEhlYWRlclJvb3RMYXlvdXRJZCgpOiBzdHJpbmcge1xuICBjb25zdCBhcHBDb25maWcgPSB3aW5kb3cuamltdUNvbmZpZy5pc0J1aWxkZXIgPyBnZXRBcHBTdG9yZSgpLmdldFN0YXRlKCkuYXBwU3RhdGVJbkJ1aWxkZXI/LmFwcENvbmZpZ1xuICAgIDogZ2V0QXBwU3RvcmUoKS5nZXRTdGF0ZSgpLmFwcENvbmZpZztcbiAgY29uc3QgYnJvd3NlclNpemVNb2RlID0gZ2V0Q3VycmVudFNpemVNb2RlKCk7XG4gIHJldHVybiBhcHBDb25maWc/LmhlYWRlcj8ubGF5b3V0Py5bYnJvd3NlclNpemVNb2RlXTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEZvb3RlclJvb3RMYXlvdXRJZCgpOiBzdHJpbmcge1xuICBjb25zdCBhcHBDb25maWcgPSB3aW5kb3cuamltdUNvbmZpZy5pc0J1aWxkZXIgPyBnZXRBcHBTdG9yZSgpLmdldFN0YXRlKCkuYXBwU3RhdGVJbkJ1aWxkZXI/LmFwcENvbmZpZ1xuICAgIDogZ2V0QXBwU3RvcmUoKS5nZXRTdGF0ZSgpLmFwcENvbmZpZztcbiAgY29uc3QgYnJvd3NlclNpemVNb2RlID0gZ2V0Q3VycmVudFNpemVNb2RlKCk7XG4gIHJldHVybiBhcHBDb25maWc/LmZvb3Rlcj8ubGF5b3V0Py5bYnJvd3NlclNpemVNb2RlXTtcbn1cblxuLyoqXG4gKiBDaGVjayBpZiByZWN0MSBjb250YWlucyByZWN0MlxuICogQHBhcmFtIHJlY3QxXG4gKiBAcGFyYW0gcmVjdDJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbnRhaW5zKHJlY3QxOiBDbGllbnRSZWN0LCByZWN0MjogQ2xpZW50UmVjdCk6IGJvb2xlYW4ge1xuICByZXR1cm4gcmVjdDIubGVmdCA+PSByZWN0MS5sZWZ0ICYmIHJlY3QyLmxlZnQgKyByZWN0Mi53aWR0aCA8PSByZWN0MS5sZWZ0ICsgcmVjdDEud2lkdGggJiZcbiAgICByZWN0Mi50b3AgPj0gcmVjdDEudG9wICYmIHJlY3QyLnRvcCArIHJlY3QyLmhlaWdodCA8PSByZWN0MS50b3AgKyByZWN0MS5oZWlnaHQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpbnRlcnNlY3RzKHIxOiBDbGllbnRSZWN0LCByMjogQ2xpZW50UmVjdCk6IGJvb2xlYW4ge1xuICByZXR1cm4gIShyMi5sZWZ0ID4gcjEubGVmdCArIHIxLndpZHRoXG4gICAgfHwgcjIubGVmdCArIHIyLndpZHRoIDwgcjEubGVmdFxuICAgIHx8IHIyLnRvcCA+IHIxLnRvcCArIHIxLmhlaWdodFxuICAgIHx8IHIyLnRvcCArIHIyLmhlaWdodCA8IHIxLnRvcCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRMYXlvdXRJdGVtU2l6ZU1vZGUoc2lkZTogJ3dpZHRoJyB8ICdoZWlnaHQnLCBiYm94OiBJTUJvdW5kaW5nQm94LCBhdXRvUHJvcHM6IGFueSk6IExheW91dEl0ZW1TaXplTW9kZXMge1xuICBjb25zdCBtb2RlID0gYXV0b1Byb3BzPy5bc2lkZV07XG4gIGNvbnN0IGZpcnN0ID0gc2lkZSA9PT0gJ3dpZHRoJyA/ICdsZWZ0JyA6ICd0b3AnO1xuICBjb25zdCBsYXN0ID0gc2lkZSA9PT0gJ3dpZHRoJyA/ICdyaWdodCcgOiAnYm90dG9tJztcblxuICBpZiAoIW1vZGUpIHsgLy8gZmFsc2Ugb3IgdW5kZWZpbmVkXG4gICAgaWYgKGJib3hbc2lkZV0gIT0gbnVsbCkge1xuICAgICAgcmV0dXJuIExheW91dEl0ZW1TaXplTW9kZXMuQ3VzdG9tO1xuICAgIH0gZWxzZSBpZiAoYmJveFtmaXJzdF0gIT0gbnVsbCAmJiBiYm94W2xhc3RdICE9IG51bGwpIHtcbiAgICAgIHJldHVybiBMYXlvdXRJdGVtU2l6ZU1vZGVzLlN0cmV0Y2g7XG4gICAgfVxuICAgIHJldHVybiBMYXlvdXRJdGVtU2l6ZU1vZGVzLkF1dG87XG4gIH1cblxuICBpZiAobW9kZSA9PT0gdHJ1ZSkgeyAvLyB3aWR0aCBvciBoZWlnaHQgaXMgYXV0b1xuICAgIGlmIChiYm94W2ZpcnN0XSAhPSBudWxsICYmIGJib3hbbGFzdF0gIT0gbnVsbCkge1xuICAgICAgcmV0dXJuIExheW91dEl0ZW1TaXplTW9kZXMuU3RyZXRjaDtcbiAgICB9XG4gICAgcmV0dXJuIExheW91dEl0ZW1TaXplTW9kZXMuQXV0bztcbiAgfVxuICBzd2l0Y2ggKG1vZGUpIHtcbiAgICBjYXNlIExheW91dEl0ZW1TaXplTW9kZXMuQXV0bzpcbiAgICAgIHJldHVybiBMYXlvdXRJdGVtU2l6ZU1vZGVzLkF1dG87XG4gICAgY2FzZSBMYXlvdXRJdGVtU2l6ZU1vZGVzLlN0cmV0Y2g6XG4gICAgICByZXR1cm4gTGF5b3V0SXRlbVNpemVNb2Rlcy5TdHJldGNoO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gTGF5b3V0SXRlbVNpemVNb2Rlcy5DdXN0b207XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdjZCh4OiBudW1iZXIsIHk6IG51bWJlcik6IG51bWJlcntcbiAgbGV0IG0gPSBNYXRoLm1heCh4LCB5KTtcbiAgbGV0IG4gPSBNYXRoLm1pbih4LCB5KTtcbiAgd2hpbGUgKG4gIT09IDApIHtcbiAgICBjb25zdCB0ZW1wID0gbjtcbiAgICBuID0gbSAlIG47XG4gICAgbSA9IHRlbXA7XG4gIH1cbiAgcmV0dXJuIG07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoYW5kbGVPbmVieU9uZUFuaW1hdGlvbihwcm9wczogYW55KSB7XG4gIGlmICghcHJvcHMuYW5pbWF0aW9uU3R5bGUpIHtcbiAgICByZXR1cm4ge307XG4gIH1cbiAgY29uc3QgeyBpc1BsYXlpbmcsIHJldmVydCwgZW5hYmxlU2Nyb2xsLCBhbmltYXRpb25TdHlsZSwgcGxheUlkIH0gPSBwcm9wcztcbiAgcmV0dXJuIHtcbiAgICBpc1BhcmVudFBsYXlpbmc6IGlzUGxheWluZyxcbiAgICBpc1BhcmVudFJldmVydDogcmV2ZXJ0LFxuICAgIGlzUGFyZW50RW5hYmxlU2Nyb2xsOiBlbmFibGVTY3JvbGwsXG4gICAgcGFyZW50QW5pbWF0aW9uU3R5bGU6IGFuaW1hdGlvblN0eWxlLFxuICAgIHBhcmVudFBsYXlJZDogcGxheUlkXG4gIH07XG59Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFnQkE7QUFTQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBOzs7OztBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7Ozs7O0FBTUE7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBOztBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUNBO0FBRUE7QUFFQTs7QUFDQTtBQUVBO0FBRUE7O0FBQ0E7QUFFQTtBQUVBOztBQUNBO0FBRUE7QUFFQTs7QUFDQTtBQUVBO0FBRUE7O0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBOztBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./jimu-layouts/lib/utils.ts\n");

/***/ }),

/***/ "./jimu-ui/advanced/lib/assets/icon_animation_in_none.svg":
/*!****************************************************************!*\
  !*** ./jimu-ui/advanced/lib/assets/icon_animation_in_none.svg ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iOTJweCIgaGVpZ2h0PSI3MnB4IiB2aWV3Qm94PSIwIDAgOTIgNzIiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+aWNvbl9hbmltYXRpb25faW5fbm9uZTwvdGl0bGU+CiAgICA8ZyBpZD0iU3R5bGVTZXR0aW5nXzIiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJBbmltYXRpb24vSW4iIHRyYW5zZm9ybT0idHJhbnNsYXRlKC05NDEuMDAwMDAwLCAtMTkyLjAwMDAwMCkiPgogICAgICAgICAgICA8ZyBpZD0iU2V0dGluZ1BhbmVsLUwyIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg5MTcuMDAwMDAwLCA1Mi4wMDAwMDApIj4KICAgICAgICAgICAgICAgIDxnIGlkPSJpY29uL2FuaW1hdGlvbi9pbi9ub25lIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNC4wMDAwMDAsIDE0MC4wMDAwMDApIj4KICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktNSIgZmlsbC1ydWxlPSJub256ZXJvIiB4PSIwIiB5PSIwIiB3aWR0aD0iOTIiIGhlaWdodD0iNzIiPjwvcmVjdD4KICAgICAgICAgICAgICAgICAgICA8cG9seWdvbiBpZD0iU3Rhci1Db3B5LTYiIGZpbGw9IiM2QTZBNkEiIHBvaW50cz0iNDYgNDggMzEuODkzMTUzOSA1NS40MTY0MDc5IDM0LjU4NzMyMTggMzkuNzA4MjAzOSAyMy4xNzQ2NDM2IDI4LjU4MzU5MjEgMzguOTQ2NTc3IDI2LjI5MTc5NjEgNDYgMTIgNTMuMDUzNDIzIDI2LjI5MTc5NjEgNjguODI1MzU2NCAyOC41ODM1OTIxIDU3LjQxMjY3ODIgMzkuNzA4MjAzOSA2MC4xMDY4NDYxIDU1LjQxNjQwNzkiPjwvcG9seWdvbj4KICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LXVpL2FkdmFuY2VkL2xpYi9hc3NldHMvaWNvbl9hbmltYXRpb25faW5fbm9uZS5zdmcuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qaW11LXVpL2FkdmFuY2VkL2xpYi9hc3NldHMvaWNvbl9hbmltYXRpb25faW5fbm9uZS5zdmc/YWZiZCJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IFwiZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQRDk0Yld3Z2RtVnljMmx2YmowaU1TNHdJaUJsYm1OdlpHbHVaejBpVlZSR0xUZ2lQejRLUEhOMlp5QjNhV1IwYUQwaU9USndlQ0lnYUdWcFoyaDBQU0kzTW5CNElpQjJhV1YzUW05NFBTSXdJREFnT1RJZ056SWlJSFpsY25OcGIyNDlJakV1TVNJZ2VHMXNibk05SW1oMGRIQTZMeTkzZDNjdWR6TXViM0puTHpJd01EQXZjM1puSWlCNGJXeHVjenA0YkdsdWF6MGlhSFIwY0RvdkwzZDNkeTUzTXk1dmNtY3ZNVGs1T1M5NGJHbHVheUkrQ2lBZ0lDQThkR2wwYkdVK2FXTnZibDloYm1sdFlYUnBiMjVmYVc1ZmJtOXVaVHd2ZEdsMGJHVStDaUFnSUNBOFp5QnBaRDBpVTNSNWJHVlRaWFIwYVc1blh6SWlJSE4wY205clpUMGlibTl1WlNJZ2MzUnliMnRsTFhkcFpIUm9QU0l4SWlCbWFXeHNQU0p1YjI1bElpQm1hV3hzTFhKMWJHVTlJbVYyWlc1dlpHUWlQZ29nSUNBZ0lDQWdJRHhuSUdsa1BTSkJibWx0WVhScGIyNHZTVzRpSUhSeVlXNXpabTl5YlQwaWRISmhibk5zWVhSbEtDMDVOREV1TURBd01EQXdMQ0F0TVRreUxqQXdNREF3TUNraVBnb2dJQ0FnSUNBZ0lDQWdJQ0E4WnlCcFpEMGlVMlYwZEdsdVoxQmhibVZzTFV3eUlpQjBjbUZ1YzJadmNtMDlJblJ5WVc1emJHRjBaU2c1TVRjdU1EQXdNREF3TENBMU1pNHdNREF3TURBcElqNEtJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lEeG5JR2xrUFNKcFkyOXVMMkZ1YVcxaGRHbHZiaTlwYmk5dWIyNWxJaUIwY21GdWMyWnZjbTA5SW5SeVlXNXpiR0YwWlNneU5DNHdNREF3TURBc0lERTBNQzR3TURBd01EQXBJajRLSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBOGNtVmpkQ0JwWkQwaVVtVmpkR0Z1WjJ4bExVTnZjSGt0TlNJZ1ptbHNiQzF5ZFd4bFBTSnViMjU2WlhKdklpQjRQU0l3SWlCNVBTSXdJaUIzYVdSMGFEMGlPVElpSUdobGFXZG9kRDBpTnpJaVBqd3ZjbVZqZEQ0S0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQThjRzlzZVdkdmJpQnBaRDBpVTNSaGNpMURiM0I1TFRZaUlHWnBiR3c5SWlNMlFUWkJOa0VpSUhCdmFXNTBjejBpTkRZZ05EZ2dNekV1T0Rrek1UVXpPU0ExTlM0ME1UWTBNRGM1SURNMExqVTROek15TVRnZ016a3VOekE0TWpBek9TQXlNeTR4TnpRMk5ETTJJREk0TGpVNE16VTVNakVnTXpndU9UUTJOVGMzSURJMkxqSTVNVGM1TmpFZ05EWWdNVElnTlRNdU1EVXpOREl6SURJMkxqSTVNVGM1TmpFZ05qZ3VPREkxTXpVMk5DQXlPQzQxT0RNMU9USXhJRFUzTGpReE1qWTNPRElnTXprdU56QTRNakF6T1NBMk1DNHhNRFk0TkRZeElEVTFMalF4TmpRd056a2lQand2Y0c5c2VXZHZiajRLSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJRHd2Wno0S0lDQWdJQ0FnSUNBZ0lDQWdQQzluUGdvZ0lDQWdJQ0FnSUR3dlp6NEtJQ0FnSUR3dlp6NEtQQzl6ZG1jK1wiIl0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./jimu-ui/advanced/lib/assets/icon_animation_in_none.svg\n");

/***/ }),

/***/ "./jimu-ui/advanced/lib/assets/icon_animation_transition_fade.svg":
/*!************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/assets/icon_animation_transition_fade.svg ***!
  \************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iOTJweCIgaGVpZ2h0PSI3MnB4IiB2aWV3Qm94PSIwIDAgOTIgNzIiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+aWNvbl9hbmltYXRpb25fdHJhbnNpdGlvbl9mYWRlPC90aXRsZT4KICAgIDxnIGlkPSJTdHlsZVNldHRpbmdfMiIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPGcgaWQ9IkFuaW1hdGlvbi90cmFuc2l0aW9uIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTA2MS4wMDAwMDAsIC0xNTAuMDAwMDAwKSI+CiAgICAgICAgICAgIDxnIGlkPSJTZXR0aW5nUGFuZWwtTDIiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDkxNy4wMDAwMDAsIDUyLjAwMDAwMCkiPgogICAgICAgICAgICAgICAgPGcgaWQ9Imljb24vYW5pbWF0aW9uL3RyYW5zaXRpb24vZmFkZSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTQ0LjAwMDAwMCwgOTguMDAwMDAwKSI+CiAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTEzIiBvcGFjaXR5PSIwLjEwMDAwMDAwMSIgZmlsbC1ydWxlPSJub256ZXJvIiB4PSIwIiB5PSIwIiB3aWR0aD0iOTIiIGhlaWdodD0iNzIiPjwvcmVjdD4KICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktMiIgZmlsbD0iIzUyNTI1MiIgeD0iMjgiIHk9IjI0IiB3aWR0aD0iNjQiIGhlaWdodD0iNDgiPjwvcmVjdD4KICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlIiBmaWxsLW9wYWNpdHk9IjAuNSIgZmlsbD0iIzM2MzYzNiIgeD0iMCIgeT0iMCIgd2lkdGg9IjY0IiBoZWlnaHQ9IjQ4Ij48L3JlY3Q+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTY0LDAgTDY0LDQ4IEwwLDQ4IEwwLDAgTDY0LDAgWiBNNjMsMSBMMSwxIEwxLDQ3IEw2Myw0NyBMNjMsMSBaIiBpZD0iUmVjdGFuZ2xlIiBmaWxsPSIjNkE2QTZBIiBmaWxsLXJ1bGU9Im5vbnplcm8iPjwvcGF0aD4KICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LXVpL2FkdmFuY2VkL2xpYi9hc3NldHMvaWNvbl9hbmltYXRpb25fdHJhbnNpdGlvbl9mYWRlLnN2Zy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2ppbXUtdWkvYWR2YW5jZWQvbGliL2Fzc2V0cy9pY29uX2FuaW1hdGlvbl90cmFuc2l0aW9uX2ZhZGUuc3ZnPzQ4MTgiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBcImRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEQ5NGJXd2dkbVZ5YzJsdmJqMGlNUzR3SWlCbGJtTnZaR2x1WnowaVZWUkdMVGdpUHo0S1BITjJaeUIzYVdSMGFEMGlPVEp3ZUNJZ2FHVnBaMmgwUFNJM01uQjRJaUIyYVdWM1FtOTRQU0l3SURBZ09USWdOeklpSUhabGNuTnBiMjQ5SWpFdU1TSWdlRzFzYm5NOUltaDBkSEE2THk5M2QzY3Vkek11YjNKbkx6SXdNREF2YzNabklpQjRiV3h1Y3pwNGJHbHVhejBpYUhSMGNEb3ZMM2QzZHk1M015NXZjbWN2TVRrNU9TOTRiR2x1YXlJK0NpQWdJQ0E4ZEdsMGJHVSthV052Ymw5aGJtbHRZWFJwYjI1ZmRISmhibk5wZEdsdmJsOW1ZV1JsUEM5MGFYUnNaVDRLSUNBZ0lEeG5JR2xrUFNKVGRIbHNaVk5sZEhScGJtZGZNaUlnYzNSeWIydGxQU0p1YjI1bElpQnpkSEp2YTJVdGQybGtkR2c5SWpFaUlHWnBiR3c5SW01dmJtVWlJR1pwYkd3dGNuVnNaVDBpWlhabGJtOWtaQ0krQ2lBZ0lDQWdJQ0FnUEdjZ2FXUTlJa0Z1YVcxaGRHbHZiaTkwY21GdWMybDBhVzl1SWlCMGNtRnVjMlp2Y20wOUluUnlZVzV6YkdGMFpTZ3RNVEEyTVM0d01EQXdNREFzSUMweE5UQXVNREF3TURBd0tTSStDaUFnSUNBZ0lDQWdJQ0FnSUR4bklHbGtQU0pUWlhSMGFXNW5VR0Z1Wld3dFRESWlJSFJ5WVc1elptOXliVDBpZEhKaGJuTnNZWFJsS0RreE55NHdNREF3TURBc0lEVXlMakF3TURBd01Da2lQZ29nSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdQR2NnYVdROUltbGpiMjR2WVc1cGJXRjBhVzl1TDNSeVlXNXphWFJwYjI0dlptRmtaU0lnZEhKaGJuTm1iM0p0UFNKMGNtRnVjMnhoZEdVb01UUTBMakF3TURBd01Dd2dPVGd1TURBd01EQXdLU0krQ2lBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ1BISmxZM1FnYVdROUlsSmxZM1JoYm1kc1pTMURiM0I1TFRFeklpQnZjR0ZqYVhSNVBTSXdMakV3TURBd01EQXdNU0lnWm1sc2JDMXlkV3hsUFNKdWIyNTZaWEp2SWlCNFBTSXdJaUI1UFNJd0lpQjNhV1IwYUQwaU9USWlJR2hsYVdkb2REMGlOeklpUGp3dmNtVmpkRDRLSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBOGNtVmpkQ0JwWkQwaVVtVmpkR0Z1WjJ4bExVTnZjSGt0TWlJZ1ptbHNiRDBpSXpVeU5USTFNaUlnZUQwaU1qZ2lJSGs5SWpJMElpQjNhV1IwYUQwaU5qUWlJR2hsYVdkb2REMGlORGdpUGp3dmNtVmpkRDRLSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBOGNtVmpkQ0JwWkQwaVVtVmpkR0Z1WjJ4bElpQm1hV3hzTFc5d1lXTnBkSGs5SWpBdU5TSWdabWxzYkQwaUl6TTJNell6TmlJZ2VEMGlNQ0lnZVQwaU1DSWdkMmxrZEdnOUlqWTBJaUJvWldsbmFIUTlJalE0SWo0OEwzSmxZM1ErQ2lBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ1BIQmhkR2dnWkQwaVRUWTBMREFnVERZMExEUTRJRXd3TERRNElFd3dMREFnVERZMExEQWdXaUJOTmpNc01TQk1NU3d4SUV3eExEUTNJRXcyTXl3ME55Qk1Oak1zTVNCYUlpQnBaRDBpVW1WamRHRnVaMnhsSWlCbWFXeHNQU0lqTmtFMlFUWkJJaUJtYVd4c0xYSjFiR1U5SW01dmJucGxjbThpUGp3dmNHRjBhRDRLSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJRHd2Wno0S0lDQWdJQ0FnSUNBZ0lDQWdQQzluUGdvZ0lDQWdJQ0FnSUR3dlp6NEtJQ0FnSUR3dlp6NEtQQzl6ZG1jK1wiIl0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./jimu-ui/advanced/lib/assets/icon_animation_transition_fade.svg\n");

/***/ }),

/***/ "./jimu-ui/advanced/lib/assets/icon_animation_transition_push.svg":
/*!************************************************************************!*\
  !*** ./jimu-ui/advanced/lib/assets/icon_animation_transition_push.svg ***!
  \************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iOTJweCIgaGVpZ2h0PSI3MnB4IiB2aWV3Qm94PSIwIDAgOTIgNzIiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+aWNvbl9hbmltYXRpb25fdHJhbnNpdGlvbl9wdXNoPC90aXRsZT4KICAgIDxnIGlkPSJTdHlsZVNldHRpbmdfMiIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPGcgaWQ9IkFuaW1hdGlvbi90cmFuc2l0aW9uIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtOTQxLjAwMDAwMCwgLTI3MC4wMDAwMDApIiBmaWxsLXJ1bGU9Im5vbnplcm8iPgogICAgICAgICAgICA8ZyBpZD0iU2V0dGluZ1BhbmVsLUwyIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg5MTcuMDAwMDAwLCA1Mi4wMDAwMDApIj4KICAgICAgICAgICAgICAgIDxnIGlkPSJpY29uL2FuaW1hdGlvbi90cmFuc2l0aW9uL3B1c2giIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI0LjAwMDAwMCwgMjE4LjAwMDAwMCkiPgogICAgICAgICAgICAgICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtQ29weS02IiB4PSIwIiB5PSIwIiB3aWR0aD0iOTIiIGhlaWdodD0iNzIiPjwvcmVjdD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNOTIsMCBMOTIsNzIgTDAsNzIgTDAsMCBMOTIsMCBaIE05MSwzNyBMMSwzNyBMMSw3MSBMOTEsNzEgTDkxLDM3IFogTTQ2LDQ0IEw1Niw1NCBMNTAuMTY2NjY2Nyw1NCBMNTAuMTY2NjY2Nyw2NCBMNDEuODMzMzMzMyw2NCBMNDEuODMzMzMzMyw1NCBMMzYsNTQgTDQ2LDQ0IFoiIGlkPSJDb21iaW5lZC1TaGFwZSIgZmlsbD0iIzZBNkE2QSI+PC9wYXRoPgogICAgICAgICAgICAgICAgPC9nPgogICAgICAgICAgICA8L2c+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LXVpL2FkdmFuY2VkL2xpYi9hc3NldHMvaWNvbl9hbmltYXRpb25fdHJhbnNpdGlvbl9wdXNoLnN2Zy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2ppbXUtdWkvYWR2YW5jZWQvbGliL2Fzc2V0cy9pY29uX2FuaW1hdGlvbl90cmFuc2l0aW9uX3B1c2guc3ZnPzIzYzIiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBcImRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEQ5NGJXd2dkbVZ5YzJsdmJqMGlNUzR3SWlCbGJtTnZaR2x1WnowaVZWUkdMVGdpUHo0S1BITjJaeUIzYVdSMGFEMGlPVEp3ZUNJZ2FHVnBaMmgwUFNJM01uQjRJaUIyYVdWM1FtOTRQU0l3SURBZ09USWdOeklpSUhabGNuTnBiMjQ5SWpFdU1TSWdlRzFzYm5NOUltaDBkSEE2THk5M2QzY3Vkek11YjNKbkx6SXdNREF2YzNabklpQjRiV3h1Y3pwNGJHbHVhejBpYUhSMGNEb3ZMM2QzZHk1M015NXZjbWN2TVRrNU9TOTRiR2x1YXlJK0NpQWdJQ0E4ZEdsMGJHVSthV052Ymw5aGJtbHRZWFJwYjI1ZmRISmhibk5wZEdsdmJsOXdkWE5vUEM5MGFYUnNaVDRLSUNBZ0lEeG5JR2xrUFNKVGRIbHNaVk5sZEhScGJtZGZNaUlnYzNSeWIydGxQU0p1YjI1bElpQnpkSEp2YTJVdGQybGtkR2c5SWpFaUlHWnBiR3c5SW01dmJtVWlJR1pwYkd3dGNuVnNaVDBpWlhabGJtOWtaQ0krQ2lBZ0lDQWdJQ0FnUEdjZ2FXUTlJa0Z1YVcxaGRHbHZiaTkwY21GdWMybDBhVzl1SWlCMGNtRnVjMlp2Y20wOUluUnlZVzV6YkdGMFpTZ3RPVFF4TGpBd01EQXdNQ3dnTFRJM01DNHdNREF3TURBcElpQm1hV3hzTFhKMWJHVTlJbTV2Ym5wbGNtOGlQZ29nSUNBZ0lDQWdJQ0FnSUNBOFp5QnBaRDBpVTJWMGRHbHVaMUJoYm1Wc0xVd3lJaUIwY21GdWMyWnZjbTA5SW5SeVlXNXpiR0YwWlNnNU1UY3VNREF3TURBd0xDQTFNaTR3TURBd01EQXBJajRLSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJRHhuSUdsa1BTSnBZMjl1TDJGdWFXMWhkR2x2Ymk5MGNtRnVjMmwwYVc5dUwzQjFjMmdpSUhSeVlXNXpabTl5YlQwaWRISmhibk5zWVhSbEtESTBMakF3TURBd01Dd2dNakU0TGpBd01EQXdNQ2tpUGdvZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lEeHlaV04wSUdsa1BTSlNaV04wWVc1bmJHVXRRMjl3ZVMwMklpQjRQU0l3SWlCNVBTSXdJaUIzYVdSMGFEMGlPVElpSUdobGFXZG9kRDBpTnpJaVBqd3ZjbVZqZEQ0S0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQThjR0YwYUNCa1BTSk5PVElzTUNCTU9USXNOeklnVERBc056SWdUREFzTUNCTU9USXNNQ0JhSUUwNU1Td3pOeUJNTVN3ek55Qk1NU3czTVNCTU9URXNOekVnVERreExETTNJRm9nVFRRMkxEUTBJRXcxTml3MU5DQk1OVEF1TVRZMk5qWTJOeXcxTkNCTU5UQXVNVFkyTmpZMk55dzJOQ0JNTkRFdU9ETXpNek16TXl3Mk5DQk1OREV1T0RNek16TXpNeXcxTkNCTU16WXNOVFFnVERRMkxEUTBJRm9pSUdsa1BTSkRiMjFpYVc1bFpDMVRhR0Z3WlNJZ1ptbHNiRDBpSXpaQk5rRTJRU0krUEM5d1lYUm9QZ29nSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdQQzluUGdvZ0lDQWdJQ0FnSUNBZ0lDQThMMmMrQ2lBZ0lDQWdJQ0FnUEM5blBnb2dJQ0FnUEM5blBnbzhMM04yWno0PVwiIl0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./jimu-ui/advanced/lib/assets/icon_animation_transition_push.svg\n");

/***/ }),

/***/ "./jimu-ui/lib/icons/add-12.svg":
/*!**************************************!*\
  !*** ./jimu-ui/lib/icons/add-12.svg ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"<svg viewBox=\\\"0 0 12 12\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"M5.5 5.5v-5a.5.5 0 011 0v5h5a.5.5 0 010 1h-5v5a.5.5 0 01-1 0v-5h-5a.5.5 0 010-1h5z\\\" fill=\\\"#000\\\" fill-rule=\\\"nonzero\\\"></path></svg>\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LXVpL2xpYi9pY29ucy9hZGQtMTIuc3ZnLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vamltdS11aS9saWIvaWNvbnMvYWRkLTEyLnN2Zz81ODljIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHZpZXdCb3g9XFxcIjAgMCAxMiAxMlxcXCIgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIj48cGF0aCBkPVxcXCJNNS41IDUuNXYtNWEuNS41IDAgMDExIDB2NWg1YS41LjUgMCAwMTAgMWgtNXY1YS41LjUgMCAwMS0xIDB2LTVoLTVhLjUuNSAwIDAxMC0xaDV6XFxcIiBmaWxsPVxcXCIjMDAwXFxcIiBmaWxsLXJ1bGU9XFxcIm5vbnplcm9cXFwiPjwvcGF0aD48L3N2Zz5cIiJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./jimu-ui/lib/icons/add-12.svg\n");

/***/ }),

/***/ "./jimu-ui/lib/icons/add-16.svg":
/*!**************************************!*\
  !*** ./jimu-ui/lib/icons/add-16.svg ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"<svg viewBox=\\\"0 0 16 16\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"M8 0a.75.75 0 01.75.75v6.5h6.5a.75.75 0 110 1.5h-6.5v6.5a.75.75 0 11-1.5 0v-6.5H.75a.75.75 0 110-1.5h6.5V.75A.75.75 0 018 0z\\\" fill=\\\"#000\\\" fill-rule=\\\"evenodd\\\"></path></svg>\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LXVpL2xpYi9pY29ucy9hZGQtMTYuc3ZnLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vamltdS11aS9saWIvaWNvbnMvYWRkLTE2LnN2Zz9mMmM3Il0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHZpZXdCb3g9XFxcIjAgMCAxNiAxNlxcXCIgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIj48cGF0aCBkPVxcXCJNOCAwYS43NS43NSAwIDAxLjc1Ljc1djYuNWg2LjVhLjc1Ljc1IDAgMTEwIDEuNWgtNi41djYuNWEuNzUuNzUgMCAxMS0xLjUgMHYtNi41SC43NWEuNzUuNzUgMCAxMTAtMS41aDYuNVYuNzVBLjc1Ljc1IDAgMDE4IDB6XFxcIiBmaWxsPVxcXCIjMDAwXFxcIiBmaWxsLXJ1bGU9XFxcImV2ZW5vZGRcXFwiPjwvcGF0aD48L3N2Zz5cIiJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./jimu-ui/lib/icons/add-16.svg\n");

/***/ }),

/***/ "./jimu-ui/lib/icons/add.svg":
/*!***********************************!*\
  !*** ./jimu-ui/lib/icons/add.svg ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 32 32\\\"><path d=\\\"M18 14h10.667a2 2 0 110 4H18v10.667a2 2 0 11-4 0V18H3.333a2 2 0 110-4H14V3.333a2 2 0 114 0V14z\\\"></path></svg>\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LXVpL2xpYi9pY29ucy9hZGQuc3ZnLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vamltdS11aS9saWIvaWNvbnMvYWRkLnN2Zz85YjllIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgdmlld0JveD1cXFwiMCAwIDMyIDMyXFxcIj48cGF0aCBkPVxcXCJNMTggMTRoMTAuNjY3YTIgMiAwIDExMCA0SDE4djEwLjY2N2EyIDIgMCAxMS00IDBWMThIMy4zMzNhMiAyIDAgMTEwLTRIMTRWMy4zMzNhMiAyIDAgMTE0IDBWMTR6XFxcIj48L3BhdGg+PC9zdmc+XCIiXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./jimu-ui/lib/icons/add.svg\n");

/***/ }),

/***/ "./jimu-ui/lib/icons/arrow-down-8.svg":
/*!********************************************!*\
  !*** ./jimu-ui/lib/icons/arrow-down-8.svg ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"<svg viewBox=\\\"0 0 8 8\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"M1.521 2.307L4 4.677l2.479-2.37a.517.517 0 01.708 0 .464.464 0 010 .677l-2.833 2.71a.517.517 0 01-.708 0L.813 2.983a.464.464 0 010-.677.517.517 0 01.708 0z\\\"></path><path d=\\\"M0 0h8v8H0z\\\" fill=\\\"none\\\"></path></svg>\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LXVpL2xpYi9pY29ucy9hcnJvdy1kb3duLTguc3ZnLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vamltdS11aS9saWIvaWNvbnMvYXJyb3ctZG93bi04LnN2Zz9jNDk0Il0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHZpZXdCb3g9XFxcIjAgMCA4IDhcXFwiIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCI+PHBhdGggZD1cXFwiTTEuNTIxIDIuMzA3TDQgNC42NzdsMi40NzktMi4zN2EuNTE3LjUxNyAwIDAxLjcwOCAwIC40NjQuNDY0IDAgMDEwIC42NzdsLTIuODMzIDIuNzFhLjUxNy41MTcgMCAwMS0uNzA4IDBMLjgxMyAyLjk4M2EuNDY0LjQ2NCAwIDAxMC0uNjc3LjUxNy41MTcgMCAwMS43MDggMHpcXFwiPjwvcGF0aD48cGF0aCBkPVxcXCJNMCAwaDh2OEgwelxcXCIgZmlsbD1cXFwibm9uZVxcXCI+PC9wYXRoPjwvc3ZnPlwiIl0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./jimu-ui/lib/icons/arrow-down-8.svg\n");

/***/ }),

/***/ "./jimu-ui/lib/icons/arrow-left.svg":
/*!******************************************!*\
  !*** ./jimu-ui/lib/icons/arrow-left.svg ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 21 32\\\"><path d=\\\"M18.568 27.566c.873.913.873 2.392 0 3.305s-2.288.913-3.16 0L2.766 17.652a2.413 2.413 0 010-3.305L15.408 1.128c.873-.913 2.288-.913 3.16 0s.873 2.392 0 3.305L7.507 15.999l11.061 11.566z\\\"></path></svg>\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LXVpL2xpYi9pY29ucy9hcnJvdy1sZWZ0LnN2Zy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2ppbXUtdWkvbGliL2ljb25zL2Fycm93LWxlZnQuc3ZnPzNjNzIiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBcIjxzdmcgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIiB2aWV3Qm94PVxcXCIwIDAgMjEgMzJcXFwiPjxwYXRoIGQ9XFxcIk0xOC41NjggMjcuNTY2Yy44NzMuOTEzLjg3MyAyLjM5MiAwIDMuMzA1cy0yLjI4OC45MTMtMy4xNiAwTDIuNzY2IDE3LjY1MmEyLjQxMyAyLjQxMyAwIDAxMC0zLjMwNUwxNS40MDggMS4xMjhjLjg3My0uOTEzIDIuMjg4LS45MTMgMy4xNiAwcy44NzMgMi4zOTIgMCAzLjMwNUw3LjUwNyAxNS45OTlsMTEuMDYxIDExLjU2NnpcXFwiPjwvcGF0aD48L3N2Zz5cIiJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./jimu-ui/lib/icons/arrow-left.svg\n");

/***/ }),

/***/ "./jimu-ui/lib/icons/arrow-right.svg":
/*!*******************************************!*\
  !*** ./jimu-ui/lib/icons/arrow-right.svg ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 19 32\\\"><path d=\\\"M1.473 27.897c-.898.939-.898 2.46 0 3.399s2.353.939 3.251 0L17.727 17.7a2.481 2.481 0 000-3.399L4.724.705c-.898-.939-2.353-.939-3.251 0s-.898 2.46 0 3.399L12.85 16.001 1.473 27.898z\\\"></path></svg>\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LXVpL2xpYi9pY29ucy9hcnJvdy1yaWdodC5zdmcuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qaW11LXVpL2xpYi9pY29ucy9hcnJvdy1yaWdodC5zdmc/ZjQzMyJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIHZpZXdCb3g9XFxcIjAgMCAxOSAzMlxcXCI+PHBhdGggZD1cXFwiTTEuNDczIDI3Ljg5N2MtLjg5OC45MzktLjg5OCAyLjQ2IDAgMy4zOTlzMi4zNTMuOTM5IDMuMjUxIDBMMTcuNzI3IDE3LjdhMi40ODEgMi40ODEgMCAwMDAtMy4zOTlMNC43MjQuNzA1Yy0uODk4LS45MzktMi4zNTMtLjkzOS0zLjI1MSAwcy0uODk4IDIuNDYgMCAzLjM5OUwxMi44NSAxNi4wMDEgMS40NzMgMjcuODk4elxcXCI+PC9wYXRoPjwvc3ZnPlwiIl0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./jimu-ui/lib/icons/arrow-right.svg\n");

/***/ }),

/***/ "./jimu-ui/lib/icons/arrow-stretched.svg":
/*!***********************************************!*\
  !*** ./jimu-ui/lib/icons/arrow-stretched.svg ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"<svg viewBox=\\\"0 0 20 6\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"M4 .5v2h1v1H4v2L0 3 4 .5zm12 0L20 3l-4 2.5v-2h-1v-1h1v-2zm-8 2v1H6v-1h2zm3 0v1H9v-1h2zm3 0v1h-2v-1h2z\\\" fill=\\\"#8B8B8B\\\" fill-rule=\\\"evenodd\\\"></path></svg>\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LXVpL2xpYi9pY29ucy9hcnJvdy1zdHJldGNoZWQuc3ZnLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vamltdS11aS9saWIvaWNvbnMvYXJyb3ctc3RyZXRjaGVkLnN2Zz9lYTQwIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHZpZXdCb3g9XFxcIjAgMCAyMCA2XFxcIiB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiPjxwYXRoIGQ9XFxcIk00IC41djJoMXYxSDR2MkwwIDMgNCAuNXptMTIgMEwyMCAzbC00IDIuNXYtMmgtMXYtMWgxdi0yem0tOCAydjFINnYtMWgyem0zIDB2MUg5di0xaDJ6bTMgMHYxaC0ydi0xaDJ6XFxcIiBmaWxsPVxcXCIjOEI4QjhCXFxcIiBmaWxsLXJ1bGU9XFxcImV2ZW5vZGRcXFwiPjwvcGF0aD48L3N2Zz5cIiJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./jimu-ui/lib/icons/arrow-stretched.svg\n");

/***/ }),

/***/ "./jimu-ui/lib/icons/arrow-up-12.svg":
/*!*******************************************!*\
  !*** ./jimu-ui/lib/icons/arrow-up-12.svg ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"<svg viewBox=\\\"0 0 12 12\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\"><path d=\\\"M5.47 3.229L.162 8.769a.592.592 0 000 .813.534.534 0 00.779 0L6 4.302l5.06 5.28a.534.534 0 00.779 0 .592.592 0 000-.813l-5.31-5.54a.726.726 0 00-1.058 0z\\\" fill=\\\"#000\\\"></path><path d=\\\"M0 0h12v12H0z\\\"></path></g></svg>\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LXVpL2xpYi9pY29ucy9hcnJvdy11cC0xMi5zdmcuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qaW11LXVpL2xpYi9pY29ucy9hcnJvdy11cC0xMi5zdmc/NTlhMSJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB2aWV3Qm94PVxcXCIwIDAgMTIgMTJcXFwiIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCI+PGcgZmlsbD1cXFwibm9uZVxcXCIgZmlsbC1ydWxlPVxcXCJldmVub2RkXFxcIj48cGF0aCBkPVxcXCJNNS40NyAzLjIyOUwuMTYyIDguNzY5YS41OTIuNTkyIDAgMDAwIC44MTMuNTM0LjUzNCAwIDAwLjc3OSAwTDYgNC4zMDJsNS4wNiA1LjI4YS41MzQuNTM0IDAgMDAuNzc5IDAgLjU5Mi41OTIgMCAwMDAtLjgxM2wtNS4zMS01LjU0YS43MjYuNzI2IDAgMDAtMS4wNTggMHpcXFwiIGZpbGw9XFxcIiMwMDBcXFwiPjwvcGF0aD48cGF0aCBkPVxcXCJNMCAwaDEydjEySDB6XFxcIj48L3BhdGg+PC9nPjwvc3ZnPlwiIl0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./jimu-ui/lib/icons/arrow-up-12.svg\n");

/***/ }),

/***/ "./jimu-ui/lib/icons/close-16.svg":
/*!****************************************!*\
  !*** ./jimu-ui/lib/icons/close-16.svg ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"<svg viewBox=\\\"0 0 16 16\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"M8 6.598L14.308.29a.991.991 0 011.402 1.402L9.402 8l6.308 6.308a.991.991 0 01-1.402 1.402L8 9.402 1.692 15.71A.991.991 0 01.29 14.308L6.598 8 .29 1.692A.991.991 0 011.692.29L8 6.598z\\\" fill=\\\"#000\\\" fill-rule=\\\"nonzero\\\"></path></svg>\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LXVpL2xpYi9pY29ucy9jbG9zZS0xNi5zdmcuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qaW11LXVpL2xpYi9pY29ucy9jbG9zZS0xNi5zdmc/OTE3MiJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB2aWV3Qm94PVxcXCIwIDAgMTYgMTZcXFwiIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCI+PHBhdGggZD1cXFwiTTggNi41OThMMTQuMzA4LjI5YS45OTEuOTkxIDAgMDExLjQwMiAxLjQwMkw5LjQwMiA4bDYuMzA4IDYuMzA4YS45OTEuOTkxIDAgMDEtMS40MDIgMS40MDJMOCA5LjQwMiAxLjY5MiAxNS43MUEuOTkxLjk5MSAwIDAxLjI5IDE0LjMwOEw2LjU5OCA4IC4yOSAxLjY5MkEuOTkxLjk5MSAwIDAxMS42OTIuMjlMOCA2LjU5OHpcXFwiIGZpbGw9XFxcIiMwMDBcXFwiIGZpbGwtcnVsZT1cXFwibm9uemVyb1xcXCI+PC9wYXRoPjwvc3ZnPlwiIl0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./jimu-ui/lib/icons/close-16.svg\n");

/***/ }),

/***/ "./jimu-ui/lib/icons/close-24.svg":
/*!****************************************!*\
  !*** ./jimu-ui/lib/icons/close-24.svg ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"<svg viewBox=\\\"0 0 24 24\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"M13.462 12l10.235 10.235a1.034 1.034 0 11-1.462 1.462L12 13.462 1.765 23.697a1.034 1.034 0 11-1.462-1.462L10.538 12 .303 1.765A1.034 1.034 0 111.765.303L12 10.538 22.235.303a1.034 1.034 0 111.462 1.462L13.462 12z\\\" fill=\\\"#000\\\" fill-rule=\\\"nonzero\\\"></path></svg>\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LXVpL2xpYi9pY29ucy9jbG9zZS0yNC5zdmcuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qaW11LXVpL2xpYi9pY29ucy9jbG9zZS0yNC5zdmc/ODg0YiJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB2aWV3Qm94PVxcXCIwIDAgMjQgMjRcXFwiIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCI+PHBhdGggZD1cXFwiTTEzLjQ2MiAxMmwxMC4yMzUgMTAuMjM1YTEuMDM0IDEuMDM0IDAgMTEtMS40NjIgMS40NjJMMTIgMTMuNDYyIDEuNzY1IDIzLjY5N2ExLjAzNCAxLjAzNCAwIDExLTEuNDYyLTEuNDYyTDEwLjUzOCAxMiAuMzAzIDEuNzY1QTEuMDM0IDEuMDM0IDAgMTExLjc2NS4zMDNMMTIgMTAuNTM4IDIyLjIzNS4zMDNhMS4wMzQgMS4wMzQgMCAxMTEuNDYyIDEuNDYyTDEzLjQ2MiAxMnpcXFwiIGZpbGw9XFxcIiMwMDBcXFwiIGZpbGwtcnVsZT1cXFwibm9uemVyb1xcXCI+PC9wYXRoPjwvc3ZnPlwiIl0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./jimu-ui/lib/icons/close-24.svg\n");

/***/ }),

/***/ "./jimu-ui/lib/icons/close.svg":
/*!*************************************!*\
  !*** ./jimu-ui/lib/icons/close.svg ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 32 32\\\"><path d=\\\"M19.637 15.866L30.951 27.18a2.667 2.667 0 01-3.771 3.771L15.866 19.637 4.552 30.951A2.667 2.667 0 01.781 27.18l11.314-11.314L.781 4.552A2.667 2.667 0 014.552.781l11.314 11.314L27.18.781a2.667 2.667 0 013.771 3.771L19.637 15.866z\\\"></path></svg>\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LXVpL2xpYi9pY29ucy9jbG9zZS5zdmcuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qaW11LXVpL2xpYi9pY29ucy9jbG9zZS5zdmc/ZjkwNSJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIHZpZXdCb3g9XFxcIjAgMCAzMiAzMlxcXCI+PHBhdGggZD1cXFwiTTE5LjYzNyAxNS44NjZMMzAuOTUxIDI3LjE4YTIuNjY3IDIuNjY3IDAgMDEtMy43NzEgMy43NzFMMTUuODY2IDE5LjYzNyA0LjU1MiAzMC45NTFBMi42NjcgMi42NjcgMCAwMS43ODEgMjcuMThsMTEuMzE0LTExLjMxNEwuNzgxIDQuNTUyQTIuNjY3IDIuNjY3IDAgMDE0LjU1Mi43ODFsMTEuMzE0IDExLjMxNEwyNy4xOC43ODFhMi42NjcgMi42NjcgMCAwMTMuNzcxIDMuNzcxTDE5LjYzNyAxNS44NjZ6XFxcIj48L3BhdGg+PC9zdmc+XCIiXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./jimu-ui/lib/icons/close.svg\n");

/***/ }),

/***/ "./jimu-ui/lib/icons/direction-up.svg":
/*!********************************************!*\
  !*** ./jimu-ui/lib/icons/direction-up.svg ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"<svg viewBox=\\\"0 0 16 16\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"M8 14a.522.522 0 01-.527-.516V3.976L3.9 7.473a.535.535 0 01-.746 0 .508.508 0 010-.73L8 2l4.846 4.743a.508.508 0 010 .73.535.535 0 01-.746 0L8.527 3.976v9.508A.522.522 0 018 14z\\\" fill=\\\"#000\\\" fill-rule=\\\"nonzero\\\"></path></svg>\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LXVpL2xpYi9pY29ucy9kaXJlY3Rpb24tdXAuc3ZnLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vamltdS11aS9saWIvaWNvbnMvZGlyZWN0aW9uLXVwLnN2Zz82ZDk1Il0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHZpZXdCb3g9XFxcIjAgMCAxNiAxNlxcXCIgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIj48cGF0aCBkPVxcXCJNOCAxNGEuNTIyLjUyMiAwIDAxLS41MjctLjUxNlYzLjk3NkwzLjkgNy40NzNhLjUzNS41MzUgMCAwMS0uNzQ2IDAgLjUwOC41MDggMCAwMTAtLjczTDggMmw0Ljg0NiA0Ljc0M2EuNTA4LjUwOCAwIDAxMCAuNzMuNTM1LjUzNSAwIDAxLS43NDYgMEw4LjUyNyAzLjk3NnY5LjUwOEEuNTIyLjUyMiAwIDAxOCAxNHpcXFwiIGZpbGw9XFxcIiMwMDBcXFwiIGZpbGwtcnVsZT1cXFwibm9uemVyb1xcXCI+PC9wYXRoPjwvc3ZnPlwiIl0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./jimu-ui/lib/icons/direction-up.svg\n");

/***/ }),

/***/ "./jimu-ui/lib/icons/duplicate-16.svg":
/*!********************************************!*\
  !*** ./jimu-ui/lib/icons/duplicate-16.svg ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"<svg viewBox=\\\"0 0 16 16\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"M4 3h11a1 1 0 011 1v11a1 1 0 01-1 1H4a1 1 0 01-1-1V4a1 1 0 011-1zm0 1v11h11V4H4zm-4 7.5V1a1 1 0 011-1h9.5a.5.5 0 010 1H1v10.5a.5.5 0 01-1 0z\\\" fill-rule=\\\"nonzero\\\"></path></svg>\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LXVpL2xpYi9pY29ucy9kdXBsaWNhdGUtMTYuc3ZnLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vamltdS11aS9saWIvaWNvbnMvZHVwbGljYXRlLTE2LnN2Zz80NWU4Il0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHZpZXdCb3g9XFxcIjAgMCAxNiAxNlxcXCIgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIj48cGF0aCBkPVxcXCJNNCAzaDExYTEgMSAwIDAxMSAxdjExYTEgMSAwIDAxLTEgMUg0YTEgMSAwIDAxLTEtMVY0YTEgMSAwIDAxMS0xem0wIDF2MTFoMTFWNEg0em0tNCA3LjVWMWExIDEgMCAwMTEtMWg5LjVhLjUuNSAwIDAxMCAxSDF2MTAuNWEuNS41IDAgMDEtMSAwelxcXCIgZmlsbC1ydWxlPVxcXCJub256ZXJvXFxcIj48L3BhdGg+PC9zdmc+XCIiXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./jimu-ui/lib/icons/duplicate-16.svg\n");

/***/ }),

/***/ "./jimu-ui/lib/icons/duplicate-view.svg":
/*!**********************************************!*\
  !*** ./jimu-ui/lib/icons/duplicate-view.svg ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"<svg viewBox=\\\"0 0 16 16\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"M9.625 5C10.385 5 11 5.616 11 6.375v8.25c0 .76-.616 1.375-1.375 1.375h-8.25C.615 16 0 15.384 0 14.625v-8.25C0 5.615.616 5 1.375 5zM9.55 6h-8.1a.45.45 0 00-.45.45v8.1c0 .249.201.45.45.45h8.1a.45.45 0 00.45-.45v-8.1A.45.45 0 009.55 6zM8 12v1H3v-1h5zm6.625-12c.715 0 1.302.545 1.369 1.243l.006.132v8.25c0 .715-.545 1.302-1.243 1.369l-.132.006h-2.738v-.917h2.738a.458.458 0 00.45-.376l.008-.082v-8.25a.458.458 0 00-.376-.45l-.082-.008h-8.25a.458.458 0 00-.45.376l-.008.082v2.75H5v-2.75C5 .66 5.545.073 6.243.006L6.375 0h8.25zM8 10v1H3v-1h5zm0-2v1H3V8h5z\\\" fill=\\\"#C5C5C5\\\" fill-rule=\\\"nonzero\\\"></path></svg>\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LXVpL2xpYi9pY29ucy9kdXBsaWNhdGUtdmlldy5zdmcuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qaW11LXVpL2xpYi9pY29ucy9kdXBsaWNhdGUtdmlldy5zdmc/YmQxOSJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB2aWV3Qm94PVxcXCIwIDAgMTYgMTZcXFwiIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCI+PHBhdGggZD1cXFwiTTkuNjI1IDVDMTAuMzg1IDUgMTEgNS42MTYgMTEgNi4zNzV2OC4yNWMwIC43Ni0uNjE2IDEuMzc1LTEuMzc1IDEuMzc1aC04LjI1Qy42MTUgMTYgMCAxNS4zODQgMCAxNC42MjV2LTguMjVDMCA1LjYxNS42MTYgNSAxLjM3NSA1ek05LjU1IDZoLTguMWEuNDUuNDUgMCAwMC0uNDUuNDV2OC4xYzAgLjI0OS4yMDEuNDUuNDUuNDVoOC4xYS40NS40NSAwIDAwLjQ1LS40NXYtOC4xQS40NS40NSAwIDAwOS41NSA2ek04IDEydjFIM3YtMWg1em02LjYyNS0xMmMuNzE1IDAgMS4zMDIuNTQ1IDEuMzY5IDEuMjQzbC4wMDYuMTMydjguMjVjMCAuNzE1LS41NDUgMS4zMDItMS4yNDMgMS4zNjlsLS4xMzIuMDA2aC0yLjczOHYtLjkxN2gyLjczOGEuNDU4LjQ1OCAwIDAwLjQ1LS4zNzZsLjAwOC0uMDgydi04LjI1YS40NTguNDU4IDAgMDAtLjM3Ni0uNDVsLS4wODItLjAwOGgtOC4yNWEuNDU4LjQ1OCAwIDAwLS40NS4zNzZsLS4wMDguMDgydjIuNzVINXYtMi43NUM1IC42NiA1LjU0NS4wNzMgNi4yNDMuMDA2TDYuMzc1IDBoOC4yNXpNOCAxMHYxSDN2LTFoNXptMC0ydjFIM1Y4aDV6XFxcIiBmaWxsPVxcXCIjQzVDNUM1XFxcIiBmaWxsLXJ1bGU9XFxcIm5vbnplcm9cXFwiPjwvcGF0aD48L3N2Zz5cIiJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./jimu-ui/lib/icons/duplicate-view.svg\n");

/***/ }),

/***/ "./jimu-ui/lib/icons/floating.svg":
/*!****************************************!*\
  !*** ./jimu-ui/lib/icons/floating.svg ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"<svg viewBox=\\\"0 0 16 16\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"M12 0a4 4 0 014 4v8a4 4 0 01-4 4H4a4 4 0 01-4-4V4a4 4 0 014-4h8zm0 1H4a3 3 0 00-2.995 2.824L1 4v8a3 3 0 002.824 2.995L4 15h8a3 3 0 002.995-2.824L15 12V4a3 3 0 00-2.824-2.995L12 1zM8 4a4 4 0 110 8 4 4 0 010-8zm0 1a3 3 0 100 6 3 3 0 000-6z\\\" fill=\\\"#000\\\" fill-rule=\\\"nonzero\\\"></path></svg>\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LXVpL2xpYi9pY29ucy9mbG9hdGluZy5zdmcuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qaW11LXVpL2xpYi9pY29ucy9mbG9hdGluZy5zdmc/ZTZkZSJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB2aWV3Qm94PVxcXCIwIDAgMTYgMTZcXFwiIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCI+PHBhdGggZD1cXFwiTTEyIDBhNCA0IDAgMDE0IDR2OGE0IDQgMCAwMS00IDRINGE0IDQgMCAwMS00LTRWNGE0IDQgMCAwMTQtNGg4em0wIDFINGEzIDMgMCAwMC0yLjk5NSAyLjgyNEwxIDR2OGEzIDMgMCAwMDIuODI0IDIuOTk1TDQgMTVoOGEzIDMgMCAwMDIuOTk1LTIuODI0TDE1IDEyVjRhMyAzIDAgMDAtMi44MjQtMi45OTVMMTIgMXpNOCA0YTQgNCAwIDExMCA4IDQgNCAwIDAxMC04em0wIDFhMyAzIDAgMTAwIDYgMyAzIDAgMDAwLTZ6XFxcIiBmaWxsPVxcXCIjMDAwXFxcIiBmaWxsLXJ1bGU9XFxcIm5vbnplcm9cXFwiPjwvcGF0aD48L3N2Zz5cIiJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./jimu-ui/lib/icons/floating.svg\n");

/***/ }),

/***/ "./jimu-ui/lib/icons/layout-12.svg":
/*!*****************************************!*\
  !*** ./jimu-ui/lib/icons/layout-12.svg ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"<svg viewBox=\\\"0 0 12 12\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"M1 0h10a1 1 0 011 1v2a1 1 0 01-1 1H1a1 1 0 01-1-1V1a1 1 0 011-1zm0 1v2h10V1H1zm0 4h2a1 1 0 011 1v5a1 1 0 01-1 1H1a1 1 0 01-1-1V6a1 1 0 011-1zm0 1v5h2V6H1zm5-1h5a1 1 0 011 1v5a1 1 0 01-1 1H6a1 1 0 01-1-1V6a1 1 0 011-1zm0 1v5h5V6H6z\\\" fill=\\\"#000\\\" fill-rule=\\\"nonzero\\\"></path></svg>\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LXVpL2xpYi9pY29ucy9sYXlvdXQtMTIuc3ZnLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vamltdS11aS9saWIvaWNvbnMvbGF5b3V0LTEyLnN2Zz85MzIzIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHZpZXdCb3g9XFxcIjAgMCAxMiAxMlxcXCIgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIj48cGF0aCBkPVxcXCJNMSAwaDEwYTEgMSAwIDAxMSAxdjJhMSAxIDAgMDEtMSAxSDFhMSAxIDAgMDEtMS0xVjFhMSAxIDAgMDExLTF6bTAgMXYyaDEwVjFIMXptMCA0aDJhMSAxIDAgMDExIDF2NWExIDEgMCAwMS0xIDFIMWExIDEgMCAwMS0xLTFWNmExIDEgMCAwMTEtMXptMCAxdjVoMlY2SDF6bTUtMWg1YTEgMSAwIDAxMSAxdjVhMSAxIDAgMDEtMSAxSDZhMSAxIDAgMDEtMS0xVjZhMSAxIDAgMDExLTF6bTAgMXY1aDVWNkg2elxcXCIgZmlsbD1cXFwiIzAwMFxcXCIgZmlsbC1ydWxlPVxcXCJub256ZXJvXFxcIj48L3BhdGg+PC9zdmc+XCIiXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./jimu-ui/lib/icons/layout-12.svg\n");

/***/ }),

/***/ "./jimu-ui/lib/icons/lock.svg":
/*!************************************!*\
  !*** ./jimu-ui/lib/icons/lock.svg ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"<svg viewBox=\\\"0 0 9 12\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"M4.5 0A2.5 2.5 0 017 2.5V4h1a1 1 0 011 1v6a1 1 0 01-1 1H1a1 1 0 01-1-1V5a1 1 0 011-1h1V2.5A2.5 2.5 0 014.5 0zM8 5H1v6h7V5zM4.5 7a1 1 0 110 2 1 1 0 010-2zm0-6a1.5 1.5 0 00-1.493 1.356L3 2.5V4h3V2.5a1.5 1.5 0 00-1.356-1.493L4.5 1z\\\" fill=\\\"#000\\\" fill-rule=\\\"nonzero\\\"></path></svg>\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LXVpL2xpYi9pY29ucy9sb2NrLnN2Zy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2ppbXUtdWkvbGliL2ljb25zL2xvY2suc3ZnPzRmYzUiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBcIjxzdmcgdmlld0JveD1cXFwiMCAwIDkgMTJcXFwiIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCI+PHBhdGggZD1cXFwiTTQuNSAwQTIuNSAyLjUgMCAwMTcgMi41VjRoMWExIDEgMCAwMTEgMXY2YTEgMSAwIDAxLTEgMUgxYTEgMSAwIDAxLTEtMVY1YTEgMSAwIDAxMS0xaDFWMi41QTIuNSAyLjUgMCAwMTQuNSAwek04IDVIMXY2aDdWNXpNNC41IDdhMSAxIDAgMTEwIDIgMSAxIDAgMDEwLTJ6bTAtNmExLjUgMS41IDAgMDAtMS40OTMgMS4zNTZMMyAyLjVWNGgzVjIuNWExLjUgMS41IDAgMDAtMS4zNTYtMS40OTNMNC41IDF6XFxcIiBmaWxsPVxcXCIjMDAwXFxcIiBmaWxsLXJ1bGU9XFxcIm5vbnplcm9cXFwiPjwvcGF0aD48L3N2Zz5cIiJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./jimu-ui/lib/icons/lock.svg\n");

/***/ }),

/***/ "./jimu-ui/lib/icons/more-horizontal.svg":
/*!***********************************************!*\
  !*** ./jimu-ui/lib/icons/more-horizontal.svg ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 32 11\\\"><path d=\\\"M4 8.5c-1.7 0-3-1.3-3-3s1.3-3 3-3 3 1.3 3 3-1.3 3-3 3zm12 0c-1.7 0-3-1.3-3-3s1.3-3 3-3 3 1.3 3 3-1.3 3-3 3zm12 0c-1.7 0-3-1.3-3-3s1.3-3 3-3 3 1.3 3 3-1.3 3-3 3z\\\"></path></svg>\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LXVpL2xpYi9pY29ucy9tb3JlLWhvcml6b250YWwuc3ZnLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vamltdS11aS9saWIvaWNvbnMvbW9yZS1ob3Jpem9udGFsLnN2Zz80YmNmIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgdmlld0JveD1cXFwiMCAwIDMyIDExXFxcIj48cGF0aCBkPVxcXCJNNCA4LjVjLTEuNyAwLTMtMS4zLTMtM3MxLjMtMyAzLTMgMyAxLjMgMyAzLTEuMyAzLTMgM3ptMTIgMGMtMS43IDAtMy0xLjMtMy0zczEuMy0zIDMtMyAzIDEuMyAzIDMtMS4zIDMtMyAzem0xMiAwYy0xLjcgMC0zLTEuMy0zLTNzMS4zLTMgMy0zIDMgMS4zIDMgMy0xLjMgMy0zIDN6XFxcIj48L3BhdGg+PC9zdmc+XCIiXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./jimu-ui/lib/icons/more-horizontal.svg\n");

/***/ }),

/***/ "./jimu-ui/lib/icons/pending.svg":
/*!***************************************!*\
  !*** ./jimu-ui/lib/icons/pending.svg ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"<svg viewBox=\\\"0 0 16 16\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"M3 3.5h6a.5.5 0 010 1H3a.5.5 0 010-1zm0 3h6a.5.5 0 010 1H3a.5.5 0 010-1zm0 3h2a.5.5 0 010 1H3a.5.5 0 010-1zm8.5-1A.5.5 0 0111 8V1H1v12h3.5a.5.5 0 010 1H1a1 1 0 01-1-1V1a1 1 0 011-1h10a1 1 0 011 1v7a.5.5 0 01-.5.5zm2.696 2.43A6.01 6.01 0 0116 12.925c-1.333 2.333-3.5 3-5 3a5.622 5.622 0 01-1.57-.23l.824-.824a5.2 5.2 0 00.746.054c1 0 2.731-.297 3.83-2a4.233 4.233 0 00-1.318-1.313l.684-.684zm-1.966-.863l-.871.871a5.177 5.177 0 00-.359-.012c-1 0-2.731.297-3.83 2 .313.485.677.856 1.062 1.139l-.676.676A6.082 6.082 0 016 12.926c1.333-2.334 3.5-3 5-3 .376 0 .794.042 1.23.141zm1.988-.58a.5.5 0 010 .707L8.56 15.85a.5.5 0 01-.707-.707l5.656-5.657a.5.5 0 01.708 0z\\\" fill=\\\"#000\\\" fill-rule=\\\"nonzero\\\"></path></svg>\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LXVpL2xpYi9pY29ucy9wZW5kaW5nLnN2Zy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2ppbXUtdWkvbGliL2ljb25zL3BlbmRpbmcuc3ZnPzNkMjAiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBcIjxzdmcgdmlld0JveD1cXFwiMCAwIDE2IDE2XFxcIiB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiPjxwYXRoIGQ9XFxcIk0zIDMuNWg2YS41LjUgMCAwMTAgMUgzYS41LjUgMCAwMTAtMXptMCAzaDZhLjUuNSAwIDAxMCAxSDNhLjUuNSAwIDAxMC0xem0wIDNoMmEuNS41IDAgMDEwIDFIM2EuNS41IDAgMDEwLTF6bTguNS0xQS41LjUgMCAwMTExIDhWMUgxdjEyaDMuNWEuNS41IDAgMDEwIDFIMWExIDEgMCAwMS0xLTFWMWExIDEgMCAwMTEtMWgxMGExIDEgMCAwMTEgMXY3YS41LjUgMCAwMS0uNS41em0yLjY5NiAyLjQzQTYuMDEgNi4wMSAwIDAxMTYgMTIuOTI1Yy0xLjMzMyAyLjMzMy0zLjUgMy01IDNhNS42MjIgNS42MjIgMCAwMS0xLjU3LS4yM2wuODI0LS44MjRhNS4yIDUuMiAwIDAwLjc0Ni4wNTRjMSAwIDIuNzMxLS4yOTcgMy44My0yYTQuMjMzIDQuMjMzIDAgMDAtMS4zMTgtMS4zMTNsLjY4NC0uNjg0em0tMS45NjYtLjg2M2wtLjg3MS44NzFhNS4xNzcgNS4xNzcgMCAwMC0uMzU5LS4wMTJjLTEgMC0yLjczMS4yOTctMy44MyAyIC4zMTMuNDg1LjY3Ny44NTYgMS4wNjIgMS4xMzlsLS42NzYuNjc2QTYuMDgyIDYuMDgyIDAgMDE2IDEyLjkyNmMxLjMzMy0yLjMzNCAzLjUtMyA1LTMgLjM3NiAwIC43OTQuMDQyIDEuMjMuMTQxem0xLjk4OC0uNThhLjUuNSAwIDAxMCAuNzA3TDguNTYgMTUuODVhLjUuNSAwIDAxLS43MDctLjcwN2w1LjY1Ni01LjY1N2EuNS41IDAgMDEuNzA4IDB6XFxcIiBmaWxsPVxcXCIjMDAwXFxcIiBmaWxsLXJ1bGU9XFxcIm5vbnplcm9cXFwiPjwvcGF0aD48L3N2Zz5cIiJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./jimu-ui/lib/icons/pending.svg\n");

/***/ }),

/***/ "./jimu-ui/lib/icons/screen-group.svg":
/*!********************************************!*\
  !*** ./jimu-ui/lib/icons/screen-group.svg ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"<svg viewBox=\\\"0 0 16 16\\\" fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path fill-rule=\\\"evenodd\\\" clip-rule=\\\"evenodd\\\" d=\\\"M1 1h14v5H1V1zM0 7V0h16v7H0zm1 3h14v5H1v-5zm-1 6V9h16v7H0z\\\" fill=\\\"#F0F0F0\\\"></path></svg>\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LXVpL2xpYi9pY29ucy9zY3JlZW4tZ3JvdXAuc3ZnLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vamltdS11aS9saWIvaWNvbnMvc2NyZWVuLWdyb3VwLnN2Zz8zZTgwIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHZpZXdCb3g9XFxcIjAgMCAxNiAxNlxcXCIgZmlsbD1cXFwibm9uZVxcXCIgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIj48cGF0aCBmaWxsLXJ1bGU9XFxcImV2ZW5vZGRcXFwiIGNsaXAtcnVsZT1cXFwiZXZlbm9kZFxcXCIgZD1cXFwiTTEgMWgxNHY1SDFWMXpNMCA3VjBoMTZ2N0gwem0xIDNoMTR2NUgxdi01em0tMSA2VjloMTZ2N0gwelxcXCIgZmlsbD1cXFwiI0YwRjBGMFxcXCI+PC9wYXRoPjwvc3ZnPlwiIl0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./jimu-ui/lib/icons/screen-group.svg\n");

/***/ }),

/***/ "./jimu-ui/lib/icons/settings-12.svg":
/*!*******************************************!*\
  !*** ./jimu-ui/lib/icons/settings-12.svg ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"<svg viewBox=\\\"0 0 12 12\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"M7.185 0c.105 0 .195.118.232.24l.013.062.245 1.567c.294.145.588.29.85.465l.19.138 1.53-.603c.154-.05.264-.016.332.031l.036.03 1.224 2.11c.051.1.06.201-.01.302l-.05.06-1.286 1.025c.061.181.061.362.061.603 0 .181-.034.328-.052.467l-.01.136 1.409.965c.105.052.12.192.083.307l-.022.055-1.224 2.11c-.053.104-.195.163-.312.14l-.056-.019-1.53-.603a4.796 4.796 0 01-.82.494l-.22.109-.245 1.568c0 .103-.135.207-.25.234L7.246 12H4.798c-.157 0-.27-.089-.298-.19l-.253-1.619c-.293-.145-.587-.29-.85-.465l-.19-.138-1.53.603c-.153.05-.264.017-.332-.03l-.036-.03L.085 8.02c-.05-.101-.06-.202.01-.302l.051-.06 1.286-1.026c-.061-.18-.061-.362-.061-.603 0-.18.034-.328.051-.466l.01-.137-1.286-.965c-.104-.103-.164-.25-.14-.329L1.247 1.99c.102-.1.204-.16.342-.141l.087.02 1.469.603.419-.281c.135-.09.268-.17.407-.236l.214-.086.245-1.628c0-.103.135-.207.25-.234L4.738 0h2.448zm-.658 1h-1.2l-.243 1.627-.586.192a1.42 1.42 0 00-.3.154l-.503.335-.441.29-1.439-.593-.59 1.017 1.207.905v.5c0 .088-.003.147-.013.228l-.044.31a.577.577 0 00-.004.065l.005.26.005.027.223.66L1.258 8.05l.581 1.001 1.536-.604.45.356c.162.126.334.226.712.416l.618.304.23 1.476h1.274l.23-1.476.751-.371c.206-.106.342-.182.453-.258l.126-.091.451-.356 1.506.595.587-1.01-1.272-.872v-.607l.009-.117.048-.341.003-.035v-.18l-.003-.098-.004-.034-.225-.665 1.345-1.073-.581-1.002-1.535.605-.451-.355-.126-.092a5.312 5.312 0 00-.59-.326l-.614-.303L6.527 1zM6 3.75a2.25 2.25 0 110 4.5 2.25 2.25 0 010-4.5zm0 1a1.25 1.25 0 100 2.5 1.25 1.25 0 000-2.5z\\\" fill=\\\"#000\\\" fill-rule=\\\"nonzero\\\"></path></svg>\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LXVpL2xpYi9pY29ucy9zZXR0aW5ncy0xMi5zdmcuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qaW11LXVpL2xpYi9pY29ucy9zZXR0aW5ncy0xMi5zdmc/MmExMiJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB2aWV3Qm94PVxcXCIwIDAgMTIgMTJcXFwiIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCI+PHBhdGggZD1cXFwiTTcuMTg1IDBjLjEwNSAwIC4xOTUuMTE4LjIzMi4yNGwuMDEzLjA2Mi4yNDUgMS41NjdjLjI5NC4xNDUuNTg4LjI5Ljg1LjQ2NWwuMTkuMTM4IDEuNTMtLjYwM2MuMTU0LS4wNS4yNjQtLjAxNi4zMzIuMDMxbC4wMzYuMDMgMS4yMjQgMi4xMWMuMDUxLjEuMDYuMjAxLS4wMS4zMDJsLS4wNS4wNi0xLjI4NiAxLjAyNWMuMDYxLjE4MS4wNjEuMzYyLjA2MS42MDMgMCAuMTgxLS4wMzQuMzI4LS4wNTIuNDY3bC0uMDEuMTM2IDEuNDA5Ljk2NWMuMTA1LjA1Mi4xMi4xOTIuMDgzLjMwN2wtLjAyMi4wNTUtMS4yMjQgMi4xMWMtLjA1My4xMDQtLjE5NS4xNjMtLjMxMi4xNGwtLjA1Ni0uMDE5LTEuNTMtLjYwM2E0Ljc5NiA0Ljc5NiAwIDAxLS44Mi40OTRsLS4yMi4xMDktLjI0NSAxLjU2OGMwIC4xMDMtLjEzNS4yMDctLjI1LjIzNEw3LjI0NiAxMkg0Ljc5OGMtLjE1NyAwLS4yNy0uMDg5LS4yOTgtLjE5bC0uMjUzLTEuNjE5Yy0uMjkzLS4xNDUtLjU4Ny0uMjktLjg1LS40NjVsLS4xOS0uMTM4LTEuNTMuNjAzYy0uMTUzLjA1LS4yNjQuMDE3LS4zMzItLjAzbC0uMDM2LS4wM0wuMDg1IDguMDJjLS4wNS0uMTAxLS4wNi0uMjAyLjAxLS4zMDJsLjA1MS0uMDYgMS4yODYtMS4wMjZjLS4wNjEtLjE4LS4wNjEtLjM2Mi0uMDYxLS42MDMgMC0uMTguMDM0LS4zMjguMDUxLS40NjZsLjAxLS4xMzctMS4yODYtLjk2NWMtLjEwNC0uMTAzLS4xNjQtLjI1LS4xNC0uMzI5TDEuMjQ3IDEuOTljLjEwMi0uMS4yMDQtLjE2LjM0Mi0uMTQxbC4wODcuMDIgMS40NjkuNjAzLjQxOS0uMjgxYy4xMzUtLjA5LjI2OC0uMTcuNDA3LS4yMzZsLjIxNC0uMDg2LjI0NS0xLjYyOGMwLS4xMDMuMTM1LS4yMDcuMjUtLjIzNEw0LjczOCAwaDIuNDQ4em0tLjY1OCAxaC0xLjJsLS4yNDMgMS42MjctLjU4Ni4xOTJhMS40MiAxLjQyIDAgMDAtLjMuMTU0bC0uNTAzLjMzNS0uNDQxLjI5LTEuNDM5LS41OTMtLjU5IDEuMDE3IDEuMjA3LjkwNXYuNWMwIC4wODgtLjAwMy4xNDctLjAxMy4yMjhsLS4wNDQuMzFhLjU3Ny41NzcgMCAwMC0uMDA0LjA2NWwuMDA1LjI2LjAwNS4wMjcuMjIzLjY2TDEuMjU4IDguMDVsLjU4MSAxLjAwMSAxLjUzNi0uNjA0LjQ1LjM1NmMuMTYyLjEyNi4zMzQuMjI2LjcxMi40MTZsLjYxOC4zMDQuMjMgMS40NzZoMS4yNzRsLjIzLTEuNDc2Ljc1MS0uMzcxYy4yMDYtLjEwNi4zNDItLjE4Mi40NTMtLjI1OGwuMTI2LS4wOTEuNDUxLS4zNTYgMS41MDYuNTk1LjU4Ny0xLjAxLTEuMjcyLS44NzJ2LS42MDdsLjAwOS0uMTE3LjA0OC0uMzQxLjAwMy0uMDM1di0uMThsLS4wMDMtLjA5OC0uMDA0LS4wMzQtLjIyNS0uNjY1IDEuMzQ1LTEuMDczLS41ODEtMS4wMDItMS41MzUuNjA1LS40NTEtLjM1NS0uMTI2LS4wOTJhNS4zMTIgNS4zMTIgMCAwMC0uNTktLjMyNmwtLjYxNC0uMzAzTDYuNTI3IDF6TTYgMy43NWEyLjI1IDIuMjUgMCAxMTAgNC41IDIuMjUgMi4yNSAwIDAxMC00LjV6bTAgMWExLjI1IDEuMjUgMCAxMDAgMi41IDEuMjUgMS4yNSAwIDAwMC0yLjV6XFxcIiBmaWxsPVxcXCIjMDAwXFxcIiBmaWxsLXJ1bGU9XFxcIm5vbnplcm9cXFwiPjwvcGF0aD48L3N2Zz5cIiJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./jimu-ui/lib/icons/settings-12.svg\n");

/***/ }),

/***/ "./jimu-ui/lib/icons/sinking.svg":
/*!***************************************!*\
  !*** ./jimu-ui/lib/icons/sinking.svg ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"<svg viewBox=\\\"0 0 16 16\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"M12 0a4 4 0 014 4v8a4 4 0 01-4 4H4a4 4 0 01-4-4V4a4 4 0 014-4h8zm0 1H4a3 3 0 00-2.995 2.824L1 4v8a3 3 0 002.824 2.995L4 15h8a3 3 0 002.995-2.824L15 12V4a3 3 0 00-2.824-2.995L12 1zM8 4a4 4 0 110 8 4 4 0 010-8z\\\" fill=\\\"#000\\\" fill-rule=\\\"nonzero\\\"></path></svg>\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LXVpL2xpYi9pY29ucy9zaW5raW5nLnN2Zy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2ppbXUtdWkvbGliL2ljb25zL3Npbmtpbmcuc3ZnP2ViNzIiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBcIjxzdmcgdmlld0JveD1cXFwiMCAwIDE2IDE2XFxcIiB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiPjxwYXRoIGQ9XFxcIk0xMiAwYTQgNCAwIDAxNCA0djhhNCA0IDAgMDEtNCA0SDRhNCA0IDAgMDEtNC00VjRhNCA0IDAgMDE0LTRoOHptMCAxSDRhMyAzIDAgMDAtMi45OTUgMi44MjRMMSA0djhhMyAzIDAgMDAyLjgyNCAyLjk5NUw0IDE1aDhhMyAzIDAgMDAyLjk5NS0yLjgyNEwxNSAxMlY0YTMgMyAwIDAwLTIuODI0LTIuOTk1TDEyIDF6TTggNGE0IDQgMCAxMTAgOCA0IDQgMCAwMTAtOHpcXFwiIGZpbGw9XFxcIiMwMDBcXFwiIGZpbGwtcnVsZT1cXFwibm9uemVyb1xcXCI+PC9wYXRoPjwvc3ZnPlwiIl0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./jimu-ui/lib/icons/sinking.svg\n");

/***/ }),

/***/ "./jimu-ui/lib/icons/snap-to-bottom.svg":
/*!**********************************************!*\
  !*** ./jimu-ui/lib/icons/snap-to-bottom.svg ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"<svg viewBox=\\\"0 0 16 16\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"M15.5 15a.5.5 0 010 1H.5a.5.5 0 010-1h15zM8 0c.291 0 .527.231.527.516v12.508L12.1 9.527a.535.535 0 01.746 0 .508.508 0 010 .73L8 15l-4.846-4.743a.508.508 0 010-.73.535.535 0 01.746 0l3.573 3.497V.516C7.473.231 7.709 0 8 0z\\\" fill=\\\"#000\\\" fill-rule=\\\"nonzero\\\"></path></svg>\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LXVpL2xpYi9pY29ucy9zbmFwLXRvLWJvdHRvbS5zdmcuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qaW11LXVpL2xpYi9pY29ucy9zbmFwLXRvLWJvdHRvbS5zdmc/MjY1NiJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB2aWV3Qm94PVxcXCIwIDAgMTYgMTZcXFwiIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCI+PHBhdGggZD1cXFwiTTE1LjUgMTVhLjUuNSAwIDAxMCAxSC41YS41LjUgMCAwMTAtMWgxNXpNOCAwYy4yOTEgMCAuNTI3LjIzMS41MjcuNTE2djEyLjUwOEwxMi4xIDkuNTI3YS41MzUuNTM1IDAgMDEuNzQ2IDAgLjUwOC41MDggMCAwMTAgLjczTDggMTVsLTQuODQ2LTQuNzQzYS41MDguNTA4IDAgMDEwLS43My41MzUuNTM1IDAgMDEuNzQ2IDBsMy41NzMgMy40OTdWLjUxNkM3LjQ3My4yMzEgNy43MDkgMCA4IDB6XFxcIiBmaWxsPVxcXCIjMDAwXFxcIiBmaWxsLXJ1bGU9XFxcIm5vbnplcm9cXFwiPjwvcGF0aD48L3N2Zz5cIiJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./jimu-ui/lib/icons/snap-to-bottom.svg\n");

/***/ }),

/***/ "./jimu-ui/lib/icons/snap-to-h-m.svg":
/*!*******************************************!*\
  !*** ./jimu-ui/lib/icons/snap-to-h-m.svg ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"<svg viewBox=\\\"0 0 16 16\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\"><path d=\\\"M8 0a.5.5 0 01.5.5v15a.5.5 0 11-1 0V.5A.5.5 0 018 0zm4.973 5.154a.535.535 0 010 .746l-1.497 1.573h3.508c.285 0 .516.236.516.527a.522.522 0 01-.516.527h-3.508l1.497 1.573a.535.535 0 010 .746.508.508 0 01-.73 0L9.5 8l2.743-2.846a.508.508 0 01.73 0zm-9.946 0a.508.508 0 01.73 0L6.5 8l-2.743 2.846a.508.508 0 01-.73 0 .535.535 0 010-.746l1.497-1.573H1.016A.522.522 0 01.5 8c0-.291.231-.527.516-.527h3.508L3.027 5.9a.535.535 0 010-.746z\\\" fill=\\\"#000\\\" fill-rule=\\\"nonzero\\\"></path><path d=\\\"M0 0h16v16H0z\\\"></path></g></svg>\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LXVpL2xpYi9pY29ucy9zbmFwLXRvLWgtbS5zdmcuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qaW11LXVpL2xpYi9pY29ucy9zbmFwLXRvLWgtbS5zdmc/MWYyNiJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB2aWV3Qm94PVxcXCIwIDAgMTYgMTZcXFwiIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCI+PGcgZmlsbD1cXFwibm9uZVxcXCIgZmlsbC1ydWxlPVxcXCJldmVub2RkXFxcIj48cGF0aCBkPVxcXCJNOCAwYS41LjUgMCAwMS41LjV2MTVhLjUuNSAwIDExLTEgMFYuNUEuNS41IDAgMDE4IDB6bTQuOTczIDUuMTU0YS41MzUuNTM1IDAgMDEwIC43NDZsLTEuNDk3IDEuNTczaDMuNTA4Yy4yODUgMCAuNTE2LjIzNi41MTYuNTI3YS41MjIuNTIyIDAgMDEtLjUxNi41MjdoLTMuNTA4bDEuNDk3IDEuNTczYS41MzUuNTM1IDAgMDEwIC43NDYuNTA4LjUwOCAwIDAxLS43MyAwTDkuNSA4bDIuNzQzLTIuODQ2YS41MDguNTA4IDAgMDEuNzMgMHptLTkuOTQ2IDBhLjUwOC41MDggMCAwMS43MyAwTDYuNSA4bC0yLjc0MyAyLjg0NmEuNTA4LjUwOCAwIDAxLS43MyAwIC41MzUuNTM1IDAgMDEwLS43NDZsMS40OTctMS41NzNIMS4wMTZBLjUyMi41MjIgMCAwMS41IDhjMC0uMjkxLjIzMS0uNTI3LjUxNi0uNTI3aDMuNTA4TDMuMDI3IDUuOWEuNTM1LjUzNSAwIDAxMC0uNzQ2elxcXCIgZmlsbD1cXFwiIzAwMFxcXCIgZmlsbC1ydWxlPVxcXCJub256ZXJvXFxcIj48L3BhdGg+PHBhdGggZD1cXFwiTTAgMGgxNnYxNkgwelxcXCI+PC9wYXRoPjwvZz48L3N2Zz5cIiJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./jimu-ui/lib/icons/snap-to-h-m.svg\n");

/***/ }),

/***/ "./jimu-ui/lib/icons/snap-to-left.svg":
/*!********************************************!*\
  !*** ./jimu-ui/lib/icons/snap-to-left.svg ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"<svg viewBox=\\\"0 0 16 16\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"M.5 0a.5.5 0 01.5.5v15a.5.5 0 01-1 0V.5A.5.5 0 01.5 0zm5.973 3.154a.535.535 0 010 .746L2.976 7.473h12.508c.285 0 .516.236.516.527a.522.522 0 01-.516.527H2.976L6.473 12.1a.535.535 0 010 .746.508.508 0 01-.73 0L1 8l4.743-4.846a.508.508 0 01.73 0z\\\" fill=\\\"#000\\\" fill-rule=\\\"nonzero\\\"></path></svg>\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LXVpL2xpYi9pY29ucy9zbmFwLXRvLWxlZnQuc3ZnLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vamltdS11aS9saWIvaWNvbnMvc25hcC10by1sZWZ0LnN2Zz8zYWNjIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHZpZXdCb3g9XFxcIjAgMCAxNiAxNlxcXCIgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIj48cGF0aCBkPVxcXCJNLjUgMGEuNS41IDAgMDEuNS41djE1YS41LjUgMCAwMS0xIDBWLjVBLjUuNSAwIDAxLjUgMHptNS45NzMgMy4xNTRhLjUzNS41MzUgMCAwMTAgLjc0NkwyLjk3NiA3LjQ3M2gxMi41MDhjLjI4NSAwIC41MTYuMjM2LjUxNi41MjdhLjUyMi41MjIgMCAwMS0uNTE2LjUyN0gyLjk3Nkw2LjQ3MyAxMi4xYS41MzUuNTM1IDAgMDEwIC43NDYuNTA4LjUwOCAwIDAxLS43MyAwTDEgOGw0Ljc0My00Ljg0NmEuNTA4LjUwOCAwIDAxLjczIDB6XFxcIiBmaWxsPVxcXCIjMDAwXFxcIiBmaWxsLXJ1bGU9XFxcIm5vbnplcm9cXFwiPjwvcGF0aD48L3N2Zz5cIiJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./jimu-ui/lib/icons/snap-to-left.svg\n");

/***/ }),

/***/ "./jimu-ui/lib/icons/snap-to-right.svg":
/*!*********************************************!*\
  !*** ./jimu-ui/lib/icons/snap-to-right.svg ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"<svg viewBox=\\\"0 0 16 16\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"M15.5 0a.5.5 0 01.5.5v15a.5.5 0 01-1 0V.5a.5.5 0 01.5-.5zm-5.243 3.154L15 8l-4.743 4.846a.508.508 0 01-.73 0 .535.535 0 010-.746l3.497-3.573H.516A.522.522 0 010 8c0-.291.231-.527.516-.527h12.508L9.527 3.9a.535.535 0 010-.746.508.508 0 01.73 0z\\\" fill=\\\"#000\\\" fill-rule=\\\"nonzero\\\"></path></svg>\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LXVpL2xpYi9pY29ucy9zbmFwLXRvLXJpZ2h0LnN2Zy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2ppbXUtdWkvbGliL2ljb25zL3NuYXAtdG8tcmlnaHQuc3ZnPzA1YWYiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBcIjxzdmcgdmlld0JveD1cXFwiMCAwIDE2IDE2XFxcIiB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiPjxwYXRoIGQ9XFxcIk0xNS41IDBhLjUuNSAwIDAxLjUuNXYxNWEuNS41IDAgMDEtMSAwVi41YS41LjUgMCAwMS41LS41em0tNS4yNDMgMy4xNTRMMTUgOGwtNC43NDMgNC44NDZhLjUwOC41MDggMCAwMS0uNzMgMCAuNTM1LjUzNSAwIDAxMC0uNzQ2bDMuNDk3LTMuNTczSC41MTZBLjUyMi41MjIgMCAwMTAgOGMwLS4yOTEuMjMxLS41MjcuNTE2LS41MjdoMTIuNTA4TDkuNTI3IDMuOWEuNTM1LjUzNSAwIDAxMC0uNzQ2LjUwOC41MDggMCAwMS43MyAwelxcXCIgZmlsbD1cXFwiIzAwMFxcXCIgZmlsbC1ydWxlPVxcXCJub256ZXJvXFxcIj48L3BhdGg+PC9zdmc+XCIiXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./jimu-ui/lib/icons/snap-to-right.svg\n");

/***/ }),

/***/ "./jimu-ui/lib/icons/snap-to-top.svg":
/*!*******************************************!*\
  !*** ./jimu-ui/lib/icons/snap-to-top.svg ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"<svg viewBox=\\\"0 0 16 16\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"M8 1l4.846 4.743a.508.508 0 010 .73.535.535 0 01-.746 0L8.527 2.976v12.508A.522.522 0 018 16a.522.522 0 01-.527-.516V2.976L3.9 6.473a.535.535 0 01-.746 0 .508.508 0 010-.73L8 1zm7.5-1a.5.5 0 010 1H.5a.5.5 0 010-1h15z\\\" fill=\\\"#000\\\" fill-rule=\\\"nonzero\\\"></path></svg>\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LXVpL2xpYi9pY29ucy9zbmFwLXRvLXRvcC5zdmcuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qaW11LXVpL2xpYi9pY29ucy9zbmFwLXRvLXRvcC5zdmc/NDJjYiJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB2aWV3Qm94PVxcXCIwIDAgMTYgMTZcXFwiIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCI+PHBhdGggZD1cXFwiTTggMWw0Ljg0NiA0Ljc0M2EuNTA4LjUwOCAwIDAxMCAuNzMuNTM1LjUzNSAwIDAxLS43NDYgMEw4LjUyNyAyLjk3NnYxMi41MDhBLjUyMi41MjIgMCAwMTggMTZhLjUyMi41MjIgMCAwMS0uNTI3LS41MTZWMi45NzZMMy45IDYuNDczYS41MzUuNTM1IDAgMDEtLjc0NiAwIC41MDguNTA4IDAgMDEwLS43M0w4IDF6bTcuNS0xYS41LjUgMCAwMTAgMUguNWEuNS41IDAgMDEwLTFoMTV6XFxcIiBmaWxsPVxcXCIjMDAwXFxcIiBmaWxsLXJ1bGU9XFxcIm5vbnplcm9cXFwiPjwvcGF0aD48L3N2Zz5cIiJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./jimu-ui/lib/icons/snap-to-top.svg\n");

/***/ }),

/***/ "./jimu-ui/lib/icons/snap-to-v-c.svg":
/*!*******************************************!*\
  !*** ./jimu-ui/lib/icons/snap-to-v-c.svg ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"<svg viewBox=\\\"0 0 16 16\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><g fill=\\\"none\\\" fill-rule=\\\"evenodd\\\"><path d=\\\"M8 9.5l2.846 2.743a.508.508 0 010 .73.535.535 0 01-.746 0l-1.573-1.497v3.508A.522.522 0 018 15.5a.522.522 0 01-.527-.516v-3.508L5.9 12.973a.535.535 0 01-.746 0 .508.508 0 010-.73L8 9.5zm0-9c.291 0 .527.231.527.516v3.508L10.1 3.027a.535.535 0 01.746 0 .508.508 0 010 .73L8 6.5 5.154 3.757a.508.508 0 010-.73.535.535 0 01.746 0l1.573 1.497V1.016C7.473.731 7.709.5 8 .5zm-7.5 7h15a.5.5 0 110 1H.5a.5.5 0 010-1z\\\" fill=\\\"#000\\\" fill-rule=\\\"nonzero\\\"></path><path d=\\\"M0 0h16v16H0z\\\"></path></g></svg>\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LXVpL2xpYi9pY29ucy9zbmFwLXRvLXYtYy5zdmcuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qaW11LXVpL2xpYi9pY29ucy9zbmFwLXRvLXYtYy5zdmc/MTZiNSJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB2aWV3Qm94PVxcXCIwIDAgMTYgMTZcXFwiIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCI+PGcgZmlsbD1cXFwibm9uZVxcXCIgZmlsbC1ydWxlPVxcXCJldmVub2RkXFxcIj48cGF0aCBkPVxcXCJNOCA5LjVsMi44NDYgMi43NDNhLjUwOC41MDggMCAwMTAgLjczLjUzNS41MzUgMCAwMS0uNzQ2IDBsLTEuNTczLTEuNDk3djMuNTA4QS41MjIuNTIyIDAgMDE4IDE1LjVhLjUyMi41MjIgMCAwMS0uNTI3LS41MTZ2LTMuNTA4TDUuOSAxMi45NzNhLjUzNS41MzUgMCAwMS0uNzQ2IDAgLjUwOC41MDggMCAwMTAtLjczTDggOS41em0wLTljLjI5MSAwIC41MjcuMjMxLjUyNy41MTZ2My41MDhMMTAuMSAzLjAyN2EuNTM1LjUzNSAwIDAxLjc0NiAwIC41MDguNTA4IDAgMDEwIC43M0w4IDYuNSA1LjE1NCAzLjc1N2EuNTA4LjUwOCAwIDAxMC0uNzMuNTM1LjUzNSAwIDAxLjc0NiAwbDEuNTczIDEuNDk3VjEuMDE2QzcuNDczLjczMSA3LjcwOS41IDggLjV6bS03LjUgN2gxNWEuNS41IDAgMTEwIDFILjVhLjUuNSAwIDAxMC0xelxcXCIgZmlsbD1cXFwiIzAwMFxcXCIgZmlsbC1ydWxlPVxcXCJub256ZXJvXFxcIj48L3BhdGg+PHBhdGggZD1cXFwiTTAgMGgxNnYxNkgwelxcXCI+PC9wYXRoPjwvZz48L3N2Zz5cIiJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./jimu-ui/lib/icons/snap-to-v-c.svg\n");

/***/ }),

/***/ "./jimu-ui/lib/icons/tool-a-l.svg":
/*!****************************************!*\
  !*** ./jimu-ui/lib/icons/tool-a-l.svg ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 28 32\\\"><path d=\\\"M1 0a1 1 0 011 1v30a1 1 0 01-2 0V1a1 1 0 011-1zm5 20v4h20v-4H6zm0-2h20a2 2 0 012 2v4a2 2 0 01-2 2H6a2 2 0 01-2-2v-4a2 2 0 012-2zM6 8v4h12V8H6zm0-2h12a2 2 0 012 2v4a2 2 0 01-2 2H6a2 2 0 01-2-2V8a2 2 0 012-2z\\\"></path></svg>\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LXVpL2xpYi9pY29ucy90b29sLWEtbC5zdmcuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qaW11LXVpL2xpYi9pY29ucy90b29sLWEtbC5zdmc/M2JiYSJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIHZpZXdCb3g9XFxcIjAgMCAyOCAzMlxcXCI+PHBhdGggZD1cXFwiTTEgMGExIDEgMCAwMTEgMXYzMGExIDEgMCAwMS0yIDBWMWExIDEgMCAwMTEtMXptNSAyMHY0aDIwdi00SDZ6bTAtMmgyMGEyIDIgMCAwMTIgMnY0YTIgMiAwIDAxLTIgMkg2YTIgMiAwIDAxLTItMnYtNGEyIDIgMCAwMTItMnpNNiA4djRoMTJWOEg2em0wLTJoMTJhMiAyIDAgMDEyIDJ2NGEyIDIgMCAwMS0yIDJINmEyIDIgMCAwMS0yLTJWOGEyIDIgMCAwMTItMnpcXFwiPjwvcGF0aD48L3N2Zz5cIiJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./jimu-ui/lib/icons/tool-a-l.svg\n");

/***/ }),

/***/ "./jimu-ui/lib/icons/tool-delete.svg":
/*!*******************************************!*\
  !*** ./jimu-ui/lib/icons/tool-delete.svg ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 32 32\\\"><path d=\\\"M9 6V2.333C9 .939 10.408 0 12 0h8c1.592 0 3 .939 3 2.333V6h8a1 1 0 010 2h-3l-1.858 22.153A2 2 0 0124.148 32H7.852a2 2 0 01-1.994-1.847L4 8H1a1 1 0 010-2h8zm2 0h10V2c0-.078-10-.078-10 0v4zM6.006 8l1.846 22h16.296l1.846-22H6.006zM13 12a1 1 0 011 1v12a1 1 0 01-2 0V13a1 1 0 011-1zm6 0a1 1 0 011 1v12a1 1 0 01-2 0V13a1 1 0 011-1z\\\"></path></svg>\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LXVpL2xpYi9pY29ucy90b29sLWRlbGV0ZS5zdmcuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qaW11LXVpL2xpYi9pY29ucy90b29sLWRlbGV0ZS5zdmc/N2MwNSJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIHZpZXdCb3g9XFxcIjAgMCAzMiAzMlxcXCI+PHBhdGggZD1cXFwiTTkgNlYyLjMzM0M5IC45MzkgMTAuNDA4IDAgMTIgMGg4YzEuNTkyIDAgMyAuOTM5IDMgMi4zMzNWNmg4YTEgMSAwIDAxMCAyaC0zbC0xLjg1OCAyMi4xNTNBMiAyIDAgMDEyNC4xNDggMzJINy44NTJhMiAyIDAgMDEtMS45OTQtMS44NDdMNCA4SDFhMSAxIDAgMDEwLTJoOHptMiAwaDEwVjJjMC0uMDc4LTEwLS4wNzgtMTAgMHY0ek02LjAwNiA4bDEuODQ2IDIyaDE2LjI5NmwxLjg0Ni0yMkg2LjAwNnpNMTMgMTJhMSAxIDAgMDExIDF2MTJhMSAxIDAgMDEtMiAwVjEzYTEgMSAwIDAxMS0xem02IDBhMSAxIDAgMDExIDF2MTJhMSAxIDAgMDEtMiAwVjEzYTEgMSAwIDAxMS0xelxcXCI+PC9wYXRoPjwvc3ZnPlwiIl0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./jimu-ui/lib/icons/tool-delete.svg\n");

/***/ }),

/***/ "./jimu-ui/lib/icons/tool-drag.svg":
/*!*****************************************!*\
  !*** ./jimu-ui/lib/icons/tool-drag.svg ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 32 32\\\"><path d=\\\"M3.828 15H15V3.828l-2.05 2.05a.999.999 0 11-1.414-1.414L16 0l4.314 4.314A.999.999 0 1118.9 5.728l-1.899-1.899v11.172h11.172L25.972 12.8a.999.999 0 111.414-1.414l4.615 4.615-4.464 4.464a.999.999 0 11-1.414-1.414l2.05-2.05H17.001v11.172l2.05-2.05a.999.999 0 111.414 1.414l-4.464 4.464-4.615-4.615a.999.999 0 111.414-1.414l2.201 2.201V17.001H3.829L5.728 18.9a.999.999 0 11-1.414 1.414L0 16l4.464-4.464a.999.999 0 111.414 1.414L3.828 15z\\\"></path></svg>\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LXVpL2xpYi9pY29ucy90b29sLWRyYWcuc3ZnLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vamltdS11aS9saWIvaWNvbnMvdG9vbC1kcmFnLnN2Zz9jYmE4Il0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgdmlld0JveD1cXFwiMCAwIDMyIDMyXFxcIj48cGF0aCBkPVxcXCJNMy44MjggMTVIMTVWMy44MjhsLTIuMDUgMi4wNWEuOTk5Ljk5OSAwIDExLTEuNDE0LTEuNDE0TDE2IDBsNC4zMTQgNC4zMTRBLjk5OS45OTkgMCAxMTE4LjkgNS43MjhsLTEuODk5LTEuODk5djExLjE3MmgxMS4xNzJMMjUuOTcyIDEyLjhhLjk5OS45OTkgMCAxMTEuNDE0LTEuNDE0bDQuNjE1IDQuNjE1LTQuNDY0IDQuNDY0YS45OTkuOTk5IDAgMTEtMS40MTQtMS40MTRsMi4wNS0yLjA1SDE3LjAwMXYxMS4xNzJsMi4wNS0yLjA1YS45OTkuOTk5IDAgMTExLjQxNCAxLjQxNGwtNC40NjQgNC40NjQtNC42MTUtNC42MTVhLjk5OS45OTkgMCAxMTEuNDE0LTEuNDE0bDIuMjAxIDIuMjAxVjE3LjAwMUgzLjgyOUw1LjcyOCAxOC45YS45OTkuOTk5IDAgMTEtMS40MTQgMS40MTRMMCAxNmw0LjQ2NC00LjQ2NGEuOTk5Ljk5OSAwIDExMS40MTQgMS40MTRMMy44MjggMTV6XFxcIj48L3BhdGg+PC9zdmc+XCIiXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./jimu-ui/lib/icons/tool-drag.svg\n");

/***/ }),

/***/ "./jimu-ui/lib/icons/tool-edit.svg":
/*!*****************************************!*\
  !*** ./jimu-ui/lib/icons/tool-edit.svg ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"<svg viewBox=\\\"0 0 16 16\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"M2.212 9.936L2 12.27l2.333-.212L13.27 3.12 11.149 1 2.212 9.936zm-.707-.707L10.441.293a1 1 0 011.415 0l2.12 2.121a1 1 0 010 1.414l-8.935 8.937a1 1 0 01-.617.289l-2.333.212a1 1 0 01-1.087-1.087l.212-2.333a1 1 0 01.289-.617zm7.434-6.497l2.829 2.829-.707.707-2.829-2.829.707-.707zM.5 15h15a.5.5 0 010 1H.5a.5.5 0 010-1z\\\" fill=\\\"#000\\\" fill-rule=\\\"nonzero\\\"></path></svg>\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LXVpL2xpYi9pY29ucy90b29sLWVkaXQuc3ZnLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vamltdS11aS9saWIvaWNvbnMvdG9vbC1lZGl0LnN2Zz81MDAxIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHZpZXdCb3g9XFxcIjAgMCAxNiAxNlxcXCIgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIj48cGF0aCBkPVxcXCJNMi4yMTIgOS45MzZMMiAxMi4yN2wyLjMzMy0uMjEyTDEzLjI3IDMuMTIgMTEuMTQ5IDEgMi4yMTIgOS45MzZ6bS0uNzA3LS43MDdMMTAuNDQxLjI5M2ExIDEgMCAwMTEuNDE1IDBsMi4xMiAyLjEyMWExIDEgMCAwMTAgMS40MTRsLTguOTM1IDguOTM3YTEgMSAwIDAxLS42MTcuMjg5bC0yLjMzMy4yMTJhMSAxIDAgMDEtMS4wODctMS4wODdsLjIxMi0yLjMzM2ExIDEgMCAwMS4yODktLjYxN3ptNy40MzQtNi40OTdsMi44MjkgMi44MjktLjcwNy43MDctMi44MjktMi44MjkuNzA3LS43MDd6TS41IDE1aDE1YS41LjUgMCAwMTAgMUguNWEuNS41IDAgMDEwLTF6XFxcIiBmaWxsPVxcXCIjMDAwXFxcIiBmaWxsLXJ1bGU9XFxcIm5vbnplcm9cXFwiPjwvcGF0aD48L3N2Zz5cIiJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./jimu-ui/lib/icons/tool-edit.svg\n");

/***/ }),

/***/ "./jimu-ui/lib/icons/tool-height-max.svg":
/*!***********************************************!*\
  !*** ./jimu-ui/lib/icons/tool-height-max.svg ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"<svg viewBox=\\\"0 0 16 16\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"M8.5 2.914V6h-1V2.914L6.475 3.94a.5.5 0 01-.707-.707L8 1l2.157 2.157a.5.5 0 01-.707.707l-.95-.95zm0 10.172l.95-.95a.5.5 0 01.707.707L8 15l-2.232-2.232a.5.5 0 01.707-.707L7.5 13.086V10h1v3.086zM1 1v14h14V1H1zm0-1h14a1 1 0 011 1v14a1 1 0 01-1 1H1a1 1 0 01-1-1V1a1 1 0 011-1z\\\" fill=\\\"#000\\\" fill-rule=\\\"nonzero\\\"></path></svg>\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LXVpL2xpYi9pY29ucy90b29sLWhlaWdodC1tYXguc3ZnLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vamltdS11aS9saWIvaWNvbnMvdG9vbC1oZWlnaHQtbWF4LnN2Zz9kMzVhIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHZpZXdCb3g9XFxcIjAgMCAxNiAxNlxcXCIgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIj48cGF0aCBkPVxcXCJNOC41IDIuOTE0VjZoLTFWMi45MTRMNi40NzUgMy45NGEuNS41IDAgMDEtLjcwNy0uNzA3TDggMWwyLjE1NyAyLjE1N2EuNS41IDAgMDEtLjcwNy43MDdsLS45NS0uOTV6bTAgMTAuMTcybC45NS0uOTVhLjUuNSAwIDAxLjcwNy43MDdMOCAxNWwtMi4yMzItMi4yMzJhLjUuNSAwIDAxLjcwNy0uNzA3TDcuNSAxMy4wODZWMTBoMXYzLjA4NnpNMSAxdjE0aDE0VjFIMXptMC0xaDE0YTEgMSAwIDAxMSAxdjE0YTEgMSAwIDAxLTEgMUgxYTEgMSAwIDAxLTEtMVYxYTEgMSAwIDAxMS0xelxcXCIgZmlsbD1cXFwiIzAwMFxcXCIgZmlsbC1ydWxlPVxcXCJub256ZXJvXFxcIj48L3BhdGg+PC9zdmc+XCIiXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./jimu-ui/lib/icons/tool-height-max.svg\n");

/***/ }),

/***/ "./jimu-ui/lib/icons/tool-layer-bottom.svg":
/*!*************************************************!*\
  !*** ./jimu-ui/lib/icons/tool-layer-bottom.svg ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"<svg viewBox=\\\"0 0 16 16\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"M8.5 13.084l.948-.948a.5.5 0 01.708.707L7.999 15l-2.233-2.232a.5.5 0 01.708-.707L7.5 13.087V1h-7a.5.5 0 010-1h15a.5.5 0 010 1h-7v12.084zM.5 16a.5.5 0 010-1h15a.5.5 0 010 1H.5zm1-9a.5.5 0 010-1H6v1H1.5zm13 0H10V6h4.5a.5.5 0 010 1z\\\" fill=\\\"#000\\\" fill-rule=\\\"nonzero\\\"></path></svg>\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LXVpL2xpYi9pY29ucy90b29sLWxheWVyLWJvdHRvbS5zdmcuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qaW11LXVpL2xpYi9pY29ucy90b29sLWxheWVyLWJvdHRvbS5zdmc/MmVlZSJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB2aWV3Qm94PVxcXCIwIDAgMTYgMTZcXFwiIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCI+PHBhdGggZD1cXFwiTTguNSAxMy4wODRsLjk0OC0uOTQ4YS41LjUgMCAwMS43MDguNzA3TDcuOTk5IDE1bC0yLjIzMy0yLjIzMmEuNS41IDAgMDEuNzA4LS43MDdMNy41IDEzLjA4N1YxaC03YS41LjUgMCAwMTAtMWgxNWEuNS41IDAgMDEwIDFoLTd2MTIuMDg0ek0uNSAxNmEuNS41IDAgMDEwLTFoMTVhLjUuNSAwIDAxMCAxSC41em0xLTlhLjUuNSAwIDAxMC0xSDZ2MUgxLjV6bTEzIDBIMTBWNmg0LjVhLjUuNSAwIDAxMCAxelxcXCIgZmlsbD1cXFwiIzAwMFxcXCIgZmlsbC1ydWxlPVxcXCJub256ZXJvXFxcIj48L3BhdGg+PC9zdmc+XCIiXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./jimu-ui/lib/icons/tool-layer-bottom.svg\n");

/***/ }),

/***/ "./jimu-ui/lib/icons/tool-layer-down.svg":
/*!***********************************************!*\
  !*** ./jimu-ui/lib/icons/tool-layer-down.svg ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"<svg viewBox=\\\"0 0 16 16\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"M8.5 14.084l.948-.948a.5.5 0 01.708.707L7.999 16l-2.233-2.232a.5.5 0 01.708-.707L7.5 14.087V1h-7a.5.5 0 010-1h15a.5.5 0 010 1h-7v13.084zM1.5 7a.5.5 0 010-1H6v1H1.5zm13 0H10V6h4.5a.5.5 0 010 1z\\\" fill=\\\"#000\\\" fill-rule=\\\"nonzero\\\"></path></svg>\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LXVpL2xpYi9pY29ucy90b29sLWxheWVyLWRvd24uc3ZnLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vamltdS11aS9saWIvaWNvbnMvdG9vbC1sYXllci1kb3duLnN2Zz9kZTVjIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHZpZXdCb3g9XFxcIjAgMCAxNiAxNlxcXCIgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIj48cGF0aCBkPVxcXCJNOC41IDE0LjA4NGwuOTQ4LS45NDhhLjUuNSAwIDAxLjcwOC43MDdMNy45OTkgMTZsLTIuMjMzLTIuMjMyYS41LjUgMCAwMS43MDgtLjcwN0w3LjUgMTQuMDg3VjFoLTdhLjUuNSAwIDAxMC0xaDE1YS41LjUgMCAwMTAgMWgtN3YxMy4wODR6TTEuNSA3YS41LjUgMCAwMTAtMUg2djFIMS41em0xMyAwSDEwVjZoNC41YS41LjUgMCAwMTAgMXpcXFwiIGZpbGw9XFxcIiMwMDBcXFwiIGZpbGwtcnVsZT1cXFwibm9uemVyb1xcXCI+PC9wYXRoPjwvc3ZnPlwiIl0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./jimu-ui/lib/icons/tool-layer-down.svg\n");

/***/ }),

/***/ "./jimu-ui/lib/icons/tool-layer-top.svg":
/*!**********************************************!*\
  !*** ./jimu-ui/lib/icons/tool-layer-top.svg ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"<svg viewBox=\\\"0 0 16 16\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"M8.5 2.916V15h7a.5.5 0 010 1H.5a.5.5 0 010-1h7V2.913L6.474 3.939a.5.5 0 01-.708-.707L8 1l2.157 2.157a.5.5 0 01-.708.707L8.5 2.916zM.5 0h15a.5.5 0 010 1H.5a.5.5 0 010-1zm1 9H6v1H1.5a.5.5 0 010-1zm13 0a.5.5 0 010 1H10V9h4.5z\\\" fill=\\\"#000\\\" fill-rule=\\\"nonzero\\\"></path></svg>\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LXVpL2xpYi9pY29ucy90b29sLWxheWVyLXRvcC5zdmcuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qaW11LXVpL2xpYi9pY29ucy90b29sLWxheWVyLXRvcC5zdmc/MTExOSJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB2aWV3Qm94PVxcXCIwIDAgMTYgMTZcXFwiIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCI+PHBhdGggZD1cXFwiTTguNSAyLjkxNlYxNWg3YS41LjUgMCAwMTAgMUguNWEuNS41IDAgMDEwLTFoN1YyLjkxM0w2LjQ3NCAzLjkzOWEuNS41IDAgMDEtLjcwOC0uNzA3TDggMWwyLjE1NyAyLjE1N2EuNS41IDAgMDEtLjcwOC43MDdMOC41IDIuOTE2ek0uNSAwaDE1YS41LjUgMCAwMTAgMUguNWEuNS41IDAgMDEwLTF6bTEgOUg2djFIMS41YS41LjUgMCAwMTAtMXptMTMgMGEuNS41IDAgMDEwIDFIMTBWOWg0LjV6XFxcIiBmaWxsPVxcXCIjMDAwXFxcIiBmaWxsLXJ1bGU9XFxcIm5vbnplcm9cXFwiPjwvcGF0aD48L3N2Zz5cIiJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./jimu-ui/lib/icons/tool-layer-top.svg\n");

/***/ }),

/***/ "./jimu-ui/lib/icons/tool-layer-up.svg":
/*!*********************************************!*\
  !*** ./jimu-ui/lib/icons/tool-layer-up.svg ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"<svg viewBox=\\\"0 0 16 16\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"M8.5 1.916V15h7a.5.5 0 010 1H.5a.5.5 0 010-1h7V1.913L6.474 2.939a.5.5 0 01-.708-.707L8 0l2.157 2.157a.5.5 0 01-.708.707L8.5 1.916zM1.5 9H6v1H1.5a.5.5 0 010-1zm13 0a.5.5 0 010 1H10V9h4.5z\\\" fill=\\\"#000\\\" fill-rule=\\\"nonzero\\\"></path></svg>\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LXVpL2xpYi9pY29ucy90b29sLWxheWVyLXVwLnN2Zy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2ppbXUtdWkvbGliL2ljb25zL3Rvb2wtbGF5ZXItdXAuc3ZnP2YxZmEiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBcIjxzdmcgdmlld0JveD1cXFwiMCAwIDE2IDE2XFxcIiB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiPjxwYXRoIGQ9XFxcIk04LjUgMS45MTZWMTVoN2EuNS41IDAgMDEwIDFILjVhLjUuNSAwIDAxMC0xaDdWMS45MTNMNi40NzQgMi45MzlhLjUuNSAwIDAxLS43MDgtLjcwN0w4IDBsMi4xNTcgMi4xNTdhLjUuNSAwIDAxLS43MDguNzA3TDguNSAxLjkxNnpNMS41IDlINnYxSDEuNWEuNS41IDAgMDEwLTF6bTEzIDBhLjUuNSAwIDAxMCAxSDEwVjloNC41elxcXCIgZmlsbD1cXFwiIzAwMFxcXCIgZmlsbC1ydWxlPVxcXCJub256ZXJvXFxcIj48L3BhdGg+PC9zdmc+XCIiXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./jimu-ui/lib/icons/tool-layer-up.svg\n");

/***/ }),

/***/ "./jimu-ui/lib/icons/tool-layer.svg":
/*!******************************************!*\
  !*** ./jimu-ui/lib/icons/tool-layer.svg ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"<svg viewBox=\\\"0 0 16 16\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"M7.433.2a.903.903 0 011.134 0l7 5.024c.1.079.188.178.257.292.313.517.198 1.223-.257 1.578l-7 4.706a.903.903 0 01-1.134 0l-7-4.706a1.078 1.078 0 01-.257-.292c-.313-.516-.198-1.223.257-1.578l7-5.024zM15 6.16L8 1.134 1 6.159l7 4.706 7-4.706zM.777 10.083L8 14.899l7.223-4.815a.5.5 0 11.554.832l-7.5 5a.5.5 0 01-.554 0l-7.5-5a.5.5 0 11.554-.832z\\\" fill=\\\"#000\\\" fill-rule=\\\"nonzero\\\"></path></svg>\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LXVpL2xpYi9pY29ucy90b29sLWxheWVyLnN2Zy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2ppbXUtdWkvbGliL2ljb25zL3Rvb2wtbGF5ZXIuc3ZnPzkzN2MiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBcIjxzdmcgdmlld0JveD1cXFwiMCAwIDE2IDE2XFxcIiB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiPjxwYXRoIGQ9XFxcIk03LjQzMy4yYS45MDMuOTAzIDAgMDExLjEzNCAwbDcgNS4wMjRjLjEuMDc5LjE4OC4xNzguMjU3LjI5Mi4zMTMuNTE3LjE5OCAxLjIyMy0uMjU3IDEuNTc4bC03IDQuNzA2YS45MDMuOTAzIDAgMDEtMS4xMzQgMGwtNy00LjcwNmExLjA3OCAxLjA3OCAwIDAxLS4yNTctLjI5MmMtLjMxMy0uNTE2LS4xOTgtMS4yMjMuMjU3LTEuNTc4bDctNS4wMjR6TTE1IDYuMTZMOCAxLjEzNCAxIDYuMTU5bDcgNC43MDYgNy00LjcwNnpNLjc3NyAxMC4wODNMOCAxNC44OTlsNy4yMjMtNC44MTVhLjUuNSAwIDExLjU1NC44MzJsLTcuNSA1YS41LjUgMCAwMS0uNTU0IDBsLTcuNS01YS41LjUgMCAxMS41NTQtLjgzMnpcXFwiIGZpbGw9XFxcIiMwMDBcXFwiIGZpbGwtcnVsZT1cXFwibm9uemVyb1xcXCI+PC9wYXRoPjwvc3ZnPlwiIl0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./jimu-ui/lib/icons/tool-layer.svg\n");

/***/ }),

/***/ "./jimu-ui/lib/icons/tool-max.svg":
/*!****************************************!*\
  !*** ./jimu-ui/lib/icons/tool-max.svg ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"<svg viewBox=\\\"0 0 16 16\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"M14.293 1H12.95a.5.5 0 010-1H16v3.157a.5.5 0 11-1 0v-1.45L8.707 8l6.29 6.29v-1.55a.5.5 0 011 0v3.263H12.84a.5.5 0 010-1h1.456L8 8.707l-6.296 6.296h1.453a.5.5 0 110 1H0V12.74a.5.5 0 011 0v1.553L7.293 8 1 1.707v1.45a.5.5 0 11-1 0V0h3.05a.5.5 0 010 1H1.707L8 7.293 14.293 1z\\\" fill=\\\"#000\\\" fill-rule=\\\"nonzero\\\"></path></svg>\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LXVpL2xpYi9pY29ucy90b29sLW1heC5zdmcuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qaW11LXVpL2xpYi9pY29ucy90b29sLW1heC5zdmc/NTMyYyJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB2aWV3Qm94PVxcXCIwIDAgMTYgMTZcXFwiIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCI+PHBhdGggZD1cXFwiTTE0LjI5MyAxSDEyLjk1YS41LjUgMCAwMTAtMUgxNnYzLjE1N2EuNS41IDAgMTEtMSAwdi0xLjQ1TDguNzA3IDhsNi4yOSA2LjI5di0xLjU1YS41LjUgMCAwMTEgMHYzLjI2M0gxMi44NGEuNS41IDAgMDEwLTFoMS40NTZMOCA4LjcwN2wtNi4yOTYgNi4yOTZoMS40NTNhLjUuNSAwIDExMCAxSDBWMTIuNzRhLjUuNSAwIDAxMSAwdjEuNTUzTDcuMjkzIDggMSAxLjcwN3YxLjQ1YS41LjUgMCAxMS0xIDBWMGgzLjA1YS41LjUgMCAwMTAgMUgxLjcwN0w4IDcuMjkzIDE0LjI5MyAxelxcXCIgZmlsbD1cXFwiIzAwMFxcXCIgZmlsbC1ydWxlPVxcXCJub256ZXJvXFxcIj48L3BhdGg+PC9zdmc+XCIiXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./jimu-ui/lib/icons/tool-max.svg\n");

/***/ }),

/***/ "./jimu-ui/lib/icons/tool-width-max.svg":
/*!**********************************************!*\
  !*** ./jimu-ui/lib/icons/tool-width-max.svg ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"<svg viewBox=\\\"0 0 16 16\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"M13.086 8.5H10v-1h3.086L12.06 6.475a.5.5 0 11.707-.707L15 8l-2.157 2.157a.5.5 0 11-.707-.707l.95-.95zm-10.172 0l.95.95a.5.5 0 11-.707.707L1 8l2.232-2.232a.5.5 0 11.707.707L2.914 7.5H6v1H2.914zM15 1H1v14h14V1zm1 0v14a1 1 0 01-1 1H1a1 1 0 01-1-1V1a1 1 0 011-1h14a1 1 0 011 1z\\\" fill=\\\"#000\\\" fill-rule=\\\"nonzero\\\"></path></svg>\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LXVpL2xpYi9pY29ucy90b29sLXdpZHRoLW1heC5zdmcuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qaW11LXVpL2xpYi9pY29ucy90b29sLXdpZHRoLW1heC5zdmc/ZmJhNiJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB2aWV3Qm94PVxcXCIwIDAgMTYgMTZcXFwiIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCI+PHBhdGggZD1cXFwiTTEzLjA4NiA4LjVIMTB2LTFoMy4wODZMMTIuMDYgNi40NzVhLjUuNSAwIDExLjcwNy0uNzA3TDE1IDhsLTIuMTU3IDIuMTU3YS41LjUgMCAxMS0uNzA3LS43MDdsLjk1LS45NXptLTEwLjE3MiAwbC45NS45NWEuNS41IDAgMTEtLjcwNy43MDdMMSA4bDIuMjMyLTIuMjMyYS41LjUgMCAxMS43MDcuNzA3TDIuOTE0IDcuNUg2djFIMi45MTR6TTE1IDFIMXYxNGgxNFYxem0xIDB2MTRhMSAxIDAgMDEtMSAxSDFhMSAxIDAgMDEtMS0xVjFhMSAxIDAgMDExLTFoMTRhMSAxIDAgMDExIDF6XFxcIiBmaWxsPVxcXCIjMDAwXFxcIiBmaWxsLXJ1bGU9XFxcIm5vbnplcm9cXFwiPjwvcGF0aD48L3N2Zz5cIiJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./jimu-ui/lib/icons/tool-width-max.svg\n");

/***/ }),

/***/ "./jimu-ui/lib/icons/unlock.svg":
/*!**************************************!*\
  !*** ./jimu-ui/lib/icons/unlock.svg ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"<svg viewBox=\\\"0 0 11 12\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"M6 2.5C6 1.12 7.122 0 8.507 0c1.263 0 2.308.932 2.481 2.144l.011.145a.487.487 0 01-.463.51l-.024.001a.525.525 0 01-.524-.483 1.28 1.28 0 00-.023-.185 1.504 1.504 0 00-1.313-1.125L8.507 1c-.782 0-1.425.595-1.497 1.356l-.007.144V4H8a1 1 0 011 1v6a1 1 0 01-1 1H1a1 1 0 01-1-1V5a1 1 0 011-1h5V2.5zM8 5H1v6h7V5zM4.5 7a1 1 0 110 2 1 1 0 010-2z\\\" fill=\\\"#000\\\" fill-rule=\\\"nonzero\\\"></path></svg>\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LXVpL2xpYi9pY29ucy91bmxvY2suc3ZnLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vamltdS11aS9saWIvaWNvbnMvdW5sb2NrLnN2Zz82ZTAwIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHZpZXdCb3g9XFxcIjAgMCAxMSAxMlxcXCIgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIj48cGF0aCBkPVxcXCJNNiAyLjVDNiAxLjEyIDcuMTIyIDAgOC41MDcgMGMxLjI2MyAwIDIuMzA4LjkzMiAyLjQ4MSAyLjE0NGwuMDExLjE0NWEuNDg3LjQ4NyAwIDAxLS40NjMuNTFsLS4wMjQuMDAxYS41MjUuNTI1IDAgMDEtLjUyNC0uNDgzIDEuMjggMS4yOCAwIDAwLS4wMjMtLjE4NSAxLjUwNCAxLjUwNCAwIDAwLTEuMzEzLTEuMTI1TDguNTA3IDFjLS43ODIgMC0xLjQyNS41OTUtMS40OTcgMS4zNTZsLS4wMDcuMTQ0VjRIOGExIDEgMCAwMTEgMXY2YTEgMSAwIDAxLTEgMUgxYTEgMSAwIDAxLTEtMVY1YTEgMSAwIDAxMS0xaDVWMi41ek04IDVIMXY2aDdWNXpNNC41IDdhMSAxIDAgMTEwIDIgMSAxIDAgMDEwLTJ6XFxcIiBmaWxsPVxcXCIjMDAwXFxcIiBmaWxsLXJ1bGU9XFxcIm5vbnplcm9cXFwiPjwvcGF0aD48L3N2Zz5cIiJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./jimu-ui/lib/icons/unlock.svg\n");

/***/ }),

/***/ "./node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js ***!
  \**********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar reactIs = __webpack_require__(/*! react-is */ \"./node_modules/react-is/index.js\");\n\n/**\n * Copyright 2015, Yahoo! Inc.\n * Copyrights licensed under the New BSD License. See the accompanying LICENSE file for terms.\n */\nvar REACT_STATICS = {\n  childContextTypes: true,\n  contextType: true,\n  contextTypes: true,\n  defaultProps: true,\n  displayName: true,\n  getDefaultProps: true,\n  getDerivedStateFromError: true,\n  getDerivedStateFromProps: true,\n  mixins: true,\n  propTypes: true,\n  type: true\n};\nvar KNOWN_STATICS = {\n  name: true,\n  length: true,\n  prototype: true,\n  caller: true,\n  callee: true,\n  arguments: true,\n  arity: true\n};\nvar FORWARD_REF_STATICS = {\n  '$$typeof': true,\n  render: true,\n  defaultProps: true,\n  displayName: true,\n  propTypes: true\n};\nvar MEMO_STATICS = {\n  '$$typeof': true,\n  compare: true,\n  defaultProps: true,\n  displayName: true,\n  propTypes: true,\n  type: true\n};\nvar TYPE_STATICS = {};\nTYPE_STATICS[reactIs.ForwardRef] = FORWARD_REF_STATICS;\nTYPE_STATICS[reactIs.Memo] = MEMO_STATICS;\n\nfunction getStatics(component) {\n  // React v16.11 and below\n  if (reactIs.isMemo(component)) {\n    return MEMO_STATICS;\n  } // React v16.12 and above\n\n\n  return TYPE_STATICS[component['$$typeof']] || REACT_STATICS;\n}\n\nvar defineProperty = Object.defineProperty;\nvar getOwnPropertyNames = Object.getOwnPropertyNames;\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\nvar getPrototypeOf = Object.getPrototypeOf;\nvar objectPrototype = Object.prototype;\nfunction hoistNonReactStatics(targetComponent, sourceComponent, blacklist) {\n  if (typeof sourceComponent !== 'string') {\n    // don't hoist over string (html) components\n    if (objectPrototype) {\n      var inheritedComponent = getPrototypeOf(sourceComponent);\n\n      if (inheritedComponent && inheritedComponent !== objectPrototype) {\n        hoistNonReactStatics(targetComponent, inheritedComponent, blacklist);\n      }\n    }\n\n    var keys = getOwnPropertyNames(sourceComponent);\n\n    if (getOwnPropertySymbols) {\n      keys = keys.concat(getOwnPropertySymbols(sourceComponent));\n    }\n\n    var targetStatics = getStatics(targetComponent);\n    var sourceStatics = getStatics(sourceComponent);\n\n    for (var i = 0; i < keys.length; ++i) {\n      var key = keys[i];\n\n      if (!KNOWN_STATICS[key] && !(blacklist && blacklist[key]) && !(sourceStatics && sourceStatics[key]) && !(targetStatics && targetStatics[key])) {\n        var descriptor = getOwnPropertyDescriptor(sourceComponent, key);\n\n        try {\n          // Avoid failures from read-only properties\n          defineProperty(targetComponent, key, descriptor);\n        } catch (e) {}\n      }\n    }\n  }\n\n  return targetComponent;\n}\n\nmodule.exports = hoistNonReactStatics;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvaG9pc3Qtbm9uLXJlYWN0LXN0YXRpY3MvZGlzdC9ob2lzdC1ub24tcmVhY3Qtc3RhdGljcy5janMuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaG9pc3Qtbm9uLXJlYWN0LXN0YXRpY3MvZGlzdC9ob2lzdC1ub24tcmVhY3Qtc3RhdGljcy5janMuanM/ZGE2YSJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbnZhciByZWFjdElzID0gcmVxdWlyZSgncmVhY3QtaXMnKTtcblxuLyoqXG4gKiBDb3B5cmlnaHQgMjAxNSwgWWFob28hIEluYy5cbiAqIENvcHlyaWdodHMgbGljZW5zZWQgdW5kZXIgdGhlIE5ldyBCU0QgTGljZW5zZS4gU2VlIHRoZSBhY2NvbXBhbnlpbmcgTElDRU5TRSBmaWxlIGZvciB0ZXJtcy5cbiAqL1xudmFyIFJFQUNUX1NUQVRJQ1MgPSB7XG4gIGNoaWxkQ29udGV4dFR5cGVzOiB0cnVlLFxuICBjb250ZXh0VHlwZTogdHJ1ZSxcbiAgY29udGV4dFR5cGVzOiB0cnVlLFxuICBkZWZhdWx0UHJvcHM6IHRydWUsXG4gIGRpc3BsYXlOYW1lOiB0cnVlLFxuICBnZXREZWZhdWx0UHJvcHM6IHRydWUsXG4gIGdldERlcml2ZWRTdGF0ZUZyb21FcnJvcjogdHJ1ZSxcbiAgZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzOiB0cnVlLFxuICBtaXhpbnM6IHRydWUsXG4gIHByb3BUeXBlczogdHJ1ZSxcbiAgdHlwZTogdHJ1ZVxufTtcbnZhciBLTk9XTl9TVEFUSUNTID0ge1xuICBuYW1lOiB0cnVlLFxuICBsZW5ndGg6IHRydWUsXG4gIHByb3RvdHlwZTogdHJ1ZSxcbiAgY2FsbGVyOiB0cnVlLFxuICBjYWxsZWU6IHRydWUsXG4gIGFyZ3VtZW50czogdHJ1ZSxcbiAgYXJpdHk6IHRydWVcbn07XG52YXIgRk9SV0FSRF9SRUZfU1RBVElDUyA9IHtcbiAgJyQkdHlwZW9mJzogdHJ1ZSxcbiAgcmVuZGVyOiB0cnVlLFxuICBkZWZhdWx0UHJvcHM6IHRydWUsXG4gIGRpc3BsYXlOYW1lOiB0cnVlLFxuICBwcm9wVHlwZXM6IHRydWVcbn07XG52YXIgTUVNT19TVEFUSUNTID0ge1xuICAnJCR0eXBlb2YnOiB0cnVlLFxuICBjb21wYXJlOiB0cnVlLFxuICBkZWZhdWx0UHJvcHM6IHRydWUsXG4gIGRpc3BsYXlOYW1lOiB0cnVlLFxuICBwcm9wVHlwZXM6IHRydWUsXG4gIHR5cGU6IHRydWVcbn07XG52YXIgVFlQRV9TVEFUSUNTID0ge307XG5UWVBFX1NUQVRJQ1NbcmVhY3RJcy5Gb3J3YXJkUmVmXSA9IEZPUldBUkRfUkVGX1NUQVRJQ1M7XG5UWVBFX1NUQVRJQ1NbcmVhY3RJcy5NZW1vXSA9IE1FTU9fU1RBVElDUztcblxuZnVuY3Rpb24gZ2V0U3RhdGljcyhjb21wb25lbnQpIHtcbiAgLy8gUmVhY3QgdjE2LjExIGFuZCBiZWxvd1xuICBpZiAocmVhY3RJcy5pc01lbW8oY29tcG9uZW50KSkge1xuICAgIHJldHVybiBNRU1PX1NUQVRJQ1M7XG4gIH0gLy8gUmVhY3QgdjE2LjEyIGFuZCBhYm92ZVxuXG5cbiAgcmV0dXJuIFRZUEVfU1RBVElDU1tjb21wb25lbnRbJyQkdHlwZW9mJ11dIHx8IFJFQUNUX1NUQVRJQ1M7XG59XG5cbnZhciBkZWZpbmVQcm9wZXJ0eSA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBnZXRPd25Qcm9wZXJ0eU5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXM7XG52YXIgZ2V0T3duUHJvcGVydHlTeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scztcbnZhciBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xudmFyIGdldFByb3RvdHlwZU9mID0gT2JqZWN0LmdldFByb3RvdHlwZU9mO1xudmFyIG9iamVjdFByb3RvdHlwZSA9IE9iamVjdC5wcm90b3R5cGU7XG5mdW5jdGlvbiBob2lzdE5vblJlYWN0U3RhdGljcyh0YXJnZXRDb21wb25lbnQsIHNvdXJjZUNvbXBvbmVudCwgYmxhY2tsaXN0KSB7XG4gIGlmICh0eXBlb2Ygc291cmNlQ29tcG9uZW50ICE9PSAnc3RyaW5nJykge1xuICAgIC8vIGRvbid0IGhvaXN0IG92ZXIgc3RyaW5nIChodG1sKSBjb21wb25lbnRzXG4gICAgaWYgKG9iamVjdFByb3RvdHlwZSkge1xuICAgICAgdmFyIGluaGVyaXRlZENvbXBvbmVudCA9IGdldFByb3RvdHlwZU9mKHNvdXJjZUNvbXBvbmVudCk7XG5cbiAgICAgIGlmIChpbmhlcml0ZWRDb21wb25lbnQgJiYgaW5oZXJpdGVkQ29tcG9uZW50ICE9PSBvYmplY3RQcm90b3R5cGUpIHtcbiAgICAgICAgaG9pc3ROb25SZWFjdFN0YXRpY3ModGFyZ2V0Q29tcG9uZW50LCBpbmhlcml0ZWRDb21wb25lbnQsIGJsYWNrbGlzdCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGtleXMgPSBnZXRPd25Qcm9wZXJ0eU5hbWVzKHNvdXJjZUNvbXBvbmVudCk7XG5cbiAgICBpZiAoZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7XG4gICAgICBrZXlzID0ga2V5cy5jb25jYXQoZ2V0T3duUHJvcGVydHlTeW1ib2xzKHNvdXJjZUNvbXBvbmVudCkpO1xuICAgIH1cblxuICAgIHZhciB0YXJnZXRTdGF0aWNzID0gZ2V0U3RhdGljcyh0YXJnZXRDb21wb25lbnQpO1xuICAgIHZhciBzb3VyY2VTdGF0aWNzID0gZ2V0U3RhdGljcyhzb3VyY2VDb21wb25lbnQpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgKytpKSB7XG4gICAgICB2YXIga2V5ID0ga2V5c1tpXTtcblxuICAgICAgaWYgKCFLTk9XTl9TVEFUSUNTW2tleV0gJiYgIShibGFja2xpc3QgJiYgYmxhY2tsaXN0W2tleV0pICYmICEoc291cmNlU3RhdGljcyAmJiBzb3VyY2VTdGF0aWNzW2tleV0pICYmICEodGFyZ2V0U3RhdGljcyAmJiB0YXJnZXRTdGF0aWNzW2tleV0pKSB7XG4gICAgICAgIHZhciBkZXNjcmlwdG9yID0gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZUNvbXBvbmVudCwga2V5KTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgIC8vIEF2b2lkIGZhaWx1cmVzIGZyb20gcmVhZC1vbmx5IHByb3BlcnRpZXNcbiAgICAgICAgICBkZWZpbmVQcm9wZXJ0eSh0YXJnZXRDb21wb25lbnQsIGtleSwgZGVzY3JpcHRvcik7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRhcmdldENvbXBvbmVudDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBob2lzdE5vblJlYWN0U3RhdGljcztcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js\n");

/***/ }),

/***/ "./node_modules/invariant/invariant.js":
/*!*********************************************!*\
  !*** ./node_modules/invariant/invariant.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\n\n/**\n * Use invariant() to assert state which your program assumes to be true.\n *\n * Provide sprintf-style format (only %s is supported) and arguments\n * to provide information about what broke and what you were\n * expecting.\n *\n * The invariant message will be stripped in production, but the invariant\n * will remain to ensure logic does not differ in production.\n */\n\nvar NODE_ENV = \"development\";\n\nvar invariant = function(condition, format, a, b, c, d, e, f) {\n  if (NODE_ENV !== 'production') {\n    if (format === undefined) {\n      throw new Error('invariant requires an error message argument');\n    }\n  }\n\n  if (!condition) {\n    var error;\n    if (format === undefined) {\n      error = new Error(\n        'Minified exception occurred; use the non-minified dev environment ' +\n        'for the full error message and additional helpful warnings.'\n      );\n    } else {\n      var args = [a, b, c, d, e, f];\n      var argIndex = 0;\n      error = new Error(\n        format.replace(/%s/g, function() { return args[argIndex++]; })\n      );\n      error.name = 'Invariant Violation';\n    }\n\n    error.framesToPop = 1; // we don't care about invariant's own frame\n    throw error;\n  }\n};\n\nmodule.exports = invariant;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvaW52YXJpYW50L2ludmFyaWFudC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9pbnZhcmlhbnQvaW52YXJpYW50LmpzPzkyZjYiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbi8qKlxuICogVXNlIGludmFyaWFudCgpIHRvIGFzc2VydCBzdGF0ZSB3aGljaCB5b3VyIHByb2dyYW0gYXNzdW1lcyB0byBiZSB0cnVlLlxuICpcbiAqIFByb3ZpZGUgc3ByaW50Zi1zdHlsZSBmb3JtYXQgKG9ubHkgJXMgaXMgc3VwcG9ydGVkKSBhbmQgYXJndW1lbnRzXG4gKiB0byBwcm92aWRlIGluZm9ybWF0aW9uIGFib3V0IHdoYXQgYnJva2UgYW5kIHdoYXQgeW91IHdlcmVcbiAqIGV4cGVjdGluZy5cbiAqXG4gKiBUaGUgaW52YXJpYW50IG1lc3NhZ2Ugd2lsbCBiZSBzdHJpcHBlZCBpbiBwcm9kdWN0aW9uLCBidXQgdGhlIGludmFyaWFudFxuICogd2lsbCByZW1haW4gdG8gZW5zdXJlIGxvZ2ljIGRvZXMgbm90IGRpZmZlciBpbiBwcm9kdWN0aW9uLlxuICovXG5cbnZhciBOT0RFX0VOViA9IHByb2Nlc3MuZW52Lk5PREVfRU5WO1xuXG52YXIgaW52YXJpYW50ID0gZnVuY3Rpb24oY29uZGl0aW9uLCBmb3JtYXQsIGEsIGIsIGMsIGQsIGUsIGYpIHtcbiAgaWYgKE5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICBpZiAoZm9ybWF0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignaW52YXJpYW50IHJlcXVpcmVzIGFuIGVycm9yIG1lc3NhZ2UgYXJndW1lbnQnKTtcbiAgICB9XG4gIH1cblxuICBpZiAoIWNvbmRpdGlvbikge1xuICAgIHZhciBlcnJvcjtcbiAgICBpZiAoZm9ybWF0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGVycm9yID0gbmV3IEVycm9yKFxuICAgICAgICAnTWluaWZpZWQgZXhjZXB0aW9uIG9jY3VycmVkOyB1c2UgdGhlIG5vbi1taW5pZmllZCBkZXYgZW52aXJvbm1lbnQgJyArXG4gICAgICAgICdmb3IgdGhlIGZ1bGwgZXJyb3IgbWVzc2FnZSBhbmQgYWRkaXRpb25hbCBoZWxwZnVsIHdhcm5pbmdzLidcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBhcmdzID0gW2EsIGIsIGMsIGQsIGUsIGZdO1xuICAgICAgdmFyIGFyZ0luZGV4ID0gMDtcbiAgICAgIGVycm9yID0gbmV3IEVycm9yKFxuICAgICAgICBmb3JtYXQucmVwbGFjZSgvJXMvZywgZnVuY3Rpb24oKSB7IHJldHVybiBhcmdzW2FyZ0luZGV4KytdOyB9KVxuICAgICAgKTtcbiAgICAgIGVycm9yLm5hbWUgPSAnSW52YXJpYW50IFZpb2xhdGlvbic7XG4gICAgfVxuXG4gICAgZXJyb3IuZnJhbWVzVG9Qb3AgPSAxOyAvLyB3ZSBkb24ndCBjYXJlIGFib3V0IGludmFyaWFudCdzIG93biBmcmFtZVxuICAgIHRocm93IGVycm9yO1xuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGludmFyaWFudDtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/invariant/invariant.js\n");

/***/ }),

/***/ "./node_modules/react-is/cjs/react-is.development.js":
/*!***********************************************************!*\
  !*** ./node_modules/react-is/cjs/react-is.development.js ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/** @license React v16.13.1\n * react-is.development.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\n\n\n\nif (true) {\n  (function() {\n'use strict';\n\n// The Symbol used to tag the ReactElement-like types. If there is no native Symbol\n// nor polyfill, then a plain number is used for performance.\nvar hasSymbol = typeof Symbol === 'function' && Symbol.for;\nvar REACT_ELEMENT_TYPE = hasSymbol ? Symbol.for('react.element') : 0xeac7;\nvar REACT_PORTAL_TYPE = hasSymbol ? Symbol.for('react.portal') : 0xeaca;\nvar REACT_FRAGMENT_TYPE = hasSymbol ? Symbol.for('react.fragment') : 0xeacb;\nvar REACT_STRICT_MODE_TYPE = hasSymbol ? Symbol.for('react.strict_mode') : 0xeacc;\nvar REACT_PROFILER_TYPE = hasSymbol ? Symbol.for('react.profiler') : 0xead2;\nvar REACT_PROVIDER_TYPE = hasSymbol ? Symbol.for('react.provider') : 0xeacd;\nvar REACT_CONTEXT_TYPE = hasSymbol ? Symbol.for('react.context') : 0xeace; // TODO: We don't use AsyncMode or ConcurrentMode anymore. They were temporary\n// (unstable) APIs that have been removed. Can we remove the symbols?\n\nvar REACT_ASYNC_MODE_TYPE = hasSymbol ? Symbol.for('react.async_mode') : 0xeacf;\nvar REACT_CONCURRENT_MODE_TYPE = hasSymbol ? Symbol.for('react.concurrent_mode') : 0xeacf;\nvar REACT_FORWARD_REF_TYPE = hasSymbol ? Symbol.for('react.forward_ref') : 0xead0;\nvar REACT_SUSPENSE_TYPE = hasSymbol ? Symbol.for('react.suspense') : 0xead1;\nvar REACT_SUSPENSE_LIST_TYPE = hasSymbol ? Symbol.for('react.suspense_list') : 0xead8;\nvar REACT_MEMO_TYPE = hasSymbol ? Symbol.for('react.memo') : 0xead3;\nvar REACT_LAZY_TYPE = hasSymbol ? Symbol.for('react.lazy') : 0xead4;\nvar REACT_BLOCK_TYPE = hasSymbol ? Symbol.for('react.block') : 0xead9;\nvar REACT_FUNDAMENTAL_TYPE = hasSymbol ? Symbol.for('react.fundamental') : 0xead5;\nvar REACT_RESPONDER_TYPE = hasSymbol ? Symbol.for('react.responder') : 0xead6;\nvar REACT_SCOPE_TYPE = hasSymbol ? Symbol.for('react.scope') : 0xead7;\n\nfunction isValidElementType(type) {\n  return typeof type === 'string' || typeof type === 'function' || // Note: its typeof might be other than 'symbol' or 'number' if it's a polyfill.\n  type === REACT_FRAGMENT_TYPE || type === REACT_CONCURRENT_MODE_TYPE || type === REACT_PROFILER_TYPE || type === REACT_STRICT_MODE_TYPE || type === REACT_SUSPENSE_TYPE || type === REACT_SUSPENSE_LIST_TYPE || typeof type === 'object' && type !== null && (type.$$typeof === REACT_LAZY_TYPE || type.$$typeof === REACT_MEMO_TYPE || type.$$typeof === REACT_PROVIDER_TYPE || type.$$typeof === REACT_CONTEXT_TYPE || type.$$typeof === REACT_FORWARD_REF_TYPE || type.$$typeof === REACT_FUNDAMENTAL_TYPE || type.$$typeof === REACT_RESPONDER_TYPE || type.$$typeof === REACT_SCOPE_TYPE || type.$$typeof === REACT_BLOCK_TYPE);\n}\n\nfunction typeOf(object) {\n  if (typeof object === 'object' && object !== null) {\n    var $$typeof = object.$$typeof;\n\n    switch ($$typeof) {\n      case REACT_ELEMENT_TYPE:\n        var type = object.type;\n\n        switch (type) {\n          case REACT_ASYNC_MODE_TYPE:\n          case REACT_CONCURRENT_MODE_TYPE:\n          case REACT_FRAGMENT_TYPE:\n          case REACT_PROFILER_TYPE:\n          case REACT_STRICT_MODE_TYPE:\n          case REACT_SUSPENSE_TYPE:\n            return type;\n\n          default:\n            var $$typeofType = type && type.$$typeof;\n\n            switch ($$typeofType) {\n              case REACT_CONTEXT_TYPE:\n              case REACT_FORWARD_REF_TYPE:\n              case REACT_LAZY_TYPE:\n              case REACT_MEMO_TYPE:\n              case REACT_PROVIDER_TYPE:\n                return $$typeofType;\n\n              default:\n                return $$typeof;\n            }\n\n        }\n\n      case REACT_PORTAL_TYPE:\n        return $$typeof;\n    }\n  }\n\n  return undefined;\n} // AsyncMode is deprecated along with isAsyncMode\n\nvar AsyncMode = REACT_ASYNC_MODE_TYPE;\nvar ConcurrentMode = REACT_CONCURRENT_MODE_TYPE;\nvar ContextConsumer = REACT_CONTEXT_TYPE;\nvar ContextProvider = REACT_PROVIDER_TYPE;\nvar Element = REACT_ELEMENT_TYPE;\nvar ForwardRef = REACT_FORWARD_REF_TYPE;\nvar Fragment = REACT_FRAGMENT_TYPE;\nvar Lazy = REACT_LAZY_TYPE;\nvar Memo = REACT_MEMO_TYPE;\nvar Portal = REACT_PORTAL_TYPE;\nvar Profiler = REACT_PROFILER_TYPE;\nvar StrictMode = REACT_STRICT_MODE_TYPE;\nvar Suspense = REACT_SUSPENSE_TYPE;\nvar hasWarnedAboutDeprecatedIsAsyncMode = false; // AsyncMode should be deprecated\n\nfunction isAsyncMode(object) {\n  {\n    if (!hasWarnedAboutDeprecatedIsAsyncMode) {\n      hasWarnedAboutDeprecatedIsAsyncMode = true; // Using console['warn'] to evade Babel and ESLint\n\n      console['warn']('The ReactIs.isAsyncMode() alias has been deprecated, ' + 'and will be removed in React 17+. Update your code to use ' + 'ReactIs.isConcurrentMode() instead. It has the exact same API.');\n    }\n  }\n\n  return isConcurrentMode(object) || typeOf(object) === REACT_ASYNC_MODE_TYPE;\n}\nfunction isConcurrentMode(object) {\n  return typeOf(object) === REACT_CONCURRENT_MODE_TYPE;\n}\nfunction isContextConsumer(object) {\n  return typeOf(object) === REACT_CONTEXT_TYPE;\n}\nfunction isContextProvider(object) {\n  return typeOf(object) === REACT_PROVIDER_TYPE;\n}\nfunction isElement(object) {\n  return typeof object === 'object' && object !== null && object.$$typeof === REACT_ELEMENT_TYPE;\n}\nfunction isForwardRef(object) {\n  return typeOf(object) === REACT_FORWARD_REF_TYPE;\n}\nfunction isFragment(object) {\n  return typeOf(object) === REACT_FRAGMENT_TYPE;\n}\nfunction isLazy(object) {\n  return typeOf(object) === REACT_LAZY_TYPE;\n}\nfunction isMemo(object) {\n  return typeOf(object) === REACT_MEMO_TYPE;\n}\nfunction isPortal(object) {\n  return typeOf(object) === REACT_PORTAL_TYPE;\n}\nfunction isProfiler(object) {\n  return typeOf(object) === REACT_PROFILER_TYPE;\n}\nfunction isStrictMode(object) {\n  return typeOf(object) === REACT_STRICT_MODE_TYPE;\n}\nfunction isSuspense(object) {\n  return typeOf(object) === REACT_SUSPENSE_TYPE;\n}\n\nexports.AsyncMode = AsyncMode;\nexports.ConcurrentMode = ConcurrentMode;\nexports.ContextConsumer = ContextConsumer;\nexports.ContextProvider = ContextProvider;\nexports.Element = Element;\nexports.ForwardRef = ForwardRef;\nexports.Fragment = Fragment;\nexports.Lazy = Lazy;\nexports.Memo = Memo;\nexports.Portal = Portal;\nexports.Profiler = Profiler;\nexports.StrictMode = StrictMode;\nexports.Suspense = Suspense;\nexports.isAsyncMode = isAsyncMode;\nexports.isConcurrentMode = isConcurrentMode;\nexports.isContextConsumer = isContextConsumer;\nexports.isContextProvider = isContextProvider;\nexports.isElement = isElement;\nexports.isForwardRef = isForwardRef;\nexports.isFragment = isFragment;\nexports.isLazy = isLazy;\nexports.isMemo = isMemo;\nexports.isPortal = isPortal;\nexports.isProfiler = isProfiler;\nexports.isStrictMode = isStrictMode;\nexports.isSuspense = isSuspense;\nexports.isValidElementType = isValidElementType;\nexports.typeOf = typeOf;\n  })();\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3QtaXMvY2pzL3JlYWN0LWlzLmRldmVsb3BtZW50LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWlzL2Nqcy9yZWFjdC1pcy5kZXZlbG9wbWVudC5qcz9hOGY1Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKiBAbGljZW5zZSBSZWFjdCB2MTYuMTMuMVxuICogcmVhY3QtaXMuZGV2ZWxvcG1lbnQuanNcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIEZhY2Vib29rLCBJbmMuIGFuZCBpdHMgYWZmaWxpYXRlcy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cblxuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XG4gIChmdW5jdGlvbigpIHtcbid1c2Ugc3RyaWN0JztcblxuLy8gVGhlIFN5bWJvbCB1c2VkIHRvIHRhZyB0aGUgUmVhY3RFbGVtZW50LWxpa2UgdHlwZXMuIElmIHRoZXJlIGlzIG5vIG5hdGl2ZSBTeW1ib2xcbi8vIG5vciBwb2x5ZmlsbCwgdGhlbiBhIHBsYWluIG51bWJlciBpcyB1c2VkIGZvciBwZXJmb3JtYW5jZS5cbnZhciBoYXNTeW1ib2wgPSB0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmIFN5bWJvbC5mb3I7XG52YXIgUkVBQ1RfRUxFTUVOVF9UWVBFID0gaGFzU3ltYm9sID8gU3ltYm9sLmZvcigncmVhY3QuZWxlbWVudCcpIDogMHhlYWM3O1xudmFyIFJFQUNUX1BPUlRBTF9UWVBFID0gaGFzU3ltYm9sID8gU3ltYm9sLmZvcigncmVhY3QucG9ydGFsJykgOiAweGVhY2E7XG52YXIgUkVBQ1RfRlJBR01FTlRfVFlQRSA9IGhhc1N5bWJvbCA/IFN5bWJvbC5mb3IoJ3JlYWN0LmZyYWdtZW50JykgOiAweGVhY2I7XG52YXIgUkVBQ1RfU1RSSUNUX01PREVfVFlQRSA9IGhhc1N5bWJvbCA/IFN5bWJvbC5mb3IoJ3JlYWN0LnN0cmljdF9tb2RlJykgOiAweGVhY2M7XG52YXIgUkVBQ1RfUFJPRklMRVJfVFlQRSA9IGhhc1N5bWJvbCA/IFN5bWJvbC5mb3IoJ3JlYWN0LnByb2ZpbGVyJykgOiAweGVhZDI7XG52YXIgUkVBQ1RfUFJPVklERVJfVFlQRSA9IGhhc1N5bWJvbCA/IFN5bWJvbC5mb3IoJ3JlYWN0LnByb3ZpZGVyJykgOiAweGVhY2Q7XG52YXIgUkVBQ1RfQ09OVEVYVF9UWVBFID0gaGFzU3ltYm9sID8gU3ltYm9sLmZvcigncmVhY3QuY29udGV4dCcpIDogMHhlYWNlOyAvLyBUT0RPOiBXZSBkb24ndCB1c2UgQXN5bmNNb2RlIG9yIENvbmN1cnJlbnRNb2RlIGFueW1vcmUuIFRoZXkgd2VyZSB0ZW1wb3Jhcnlcbi8vICh1bnN0YWJsZSkgQVBJcyB0aGF0IGhhdmUgYmVlbiByZW1vdmVkLiBDYW4gd2UgcmVtb3ZlIHRoZSBzeW1ib2xzP1xuXG52YXIgUkVBQ1RfQVNZTkNfTU9ERV9UWVBFID0gaGFzU3ltYm9sID8gU3ltYm9sLmZvcigncmVhY3QuYXN5bmNfbW9kZScpIDogMHhlYWNmO1xudmFyIFJFQUNUX0NPTkNVUlJFTlRfTU9ERV9UWVBFID0gaGFzU3ltYm9sID8gU3ltYm9sLmZvcigncmVhY3QuY29uY3VycmVudF9tb2RlJykgOiAweGVhY2Y7XG52YXIgUkVBQ1RfRk9SV0FSRF9SRUZfVFlQRSA9IGhhc1N5bWJvbCA/IFN5bWJvbC5mb3IoJ3JlYWN0LmZvcndhcmRfcmVmJykgOiAweGVhZDA7XG52YXIgUkVBQ1RfU1VTUEVOU0VfVFlQRSA9IGhhc1N5bWJvbCA/IFN5bWJvbC5mb3IoJ3JlYWN0LnN1c3BlbnNlJykgOiAweGVhZDE7XG52YXIgUkVBQ1RfU1VTUEVOU0VfTElTVF9UWVBFID0gaGFzU3ltYm9sID8gU3ltYm9sLmZvcigncmVhY3Quc3VzcGVuc2VfbGlzdCcpIDogMHhlYWQ4O1xudmFyIFJFQUNUX01FTU9fVFlQRSA9IGhhc1N5bWJvbCA/IFN5bWJvbC5mb3IoJ3JlYWN0Lm1lbW8nKSA6IDB4ZWFkMztcbnZhciBSRUFDVF9MQVpZX1RZUEUgPSBoYXNTeW1ib2wgPyBTeW1ib2wuZm9yKCdyZWFjdC5sYXp5JykgOiAweGVhZDQ7XG52YXIgUkVBQ1RfQkxPQ0tfVFlQRSA9IGhhc1N5bWJvbCA/IFN5bWJvbC5mb3IoJ3JlYWN0LmJsb2NrJykgOiAweGVhZDk7XG52YXIgUkVBQ1RfRlVOREFNRU5UQUxfVFlQRSA9IGhhc1N5bWJvbCA/IFN5bWJvbC5mb3IoJ3JlYWN0LmZ1bmRhbWVudGFsJykgOiAweGVhZDU7XG52YXIgUkVBQ1RfUkVTUE9OREVSX1RZUEUgPSBoYXNTeW1ib2wgPyBTeW1ib2wuZm9yKCdyZWFjdC5yZXNwb25kZXInKSA6IDB4ZWFkNjtcbnZhciBSRUFDVF9TQ09QRV9UWVBFID0gaGFzU3ltYm9sID8gU3ltYm9sLmZvcigncmVhY3Quc2NvcGUnKSA6IDB4ZWFkNztcblxuZnVuY3Rpb24gaXNWYWxpZEVsZW1lbnRUeXBlKHR5cGUpIHtcbiAgcmV0dXJuIHR5cGVvZiB0eXBlID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgdHlwZSA9PT0gJ2Z1bmN0aW9uJyB8fCAvLyBOb3RlOiBpdHMgdHlwZW9mIG1pZ2h0IGJlIG90aGVyIHRoYW4gJ3N5bWJvbCcgb3IgJ251bWJlcicgaWYgaXQncyBhIHBvbHlmaWxsLlxuICB0eXBlID09PSBSRUFDVF9GUkFHTUVOVF9UWVBFIHx8IHR5cGUgPT09IFJFQUNUX0NPTkNVUlJFTlRfTU9ERV9UWVBFIHx8IHR5cGUgPT09IFJFQUNUX1BST0ZJTEVSX1RZUEUgfHwgdHlwZSA9PT0gUkVBQ1RfU1RSSUNUX01PREVfVFlQRSB8fCB0eXBlID09PSBSRUFDVF9TVVNQRU5TRV9UWVBFIHx8IHR5cGUgPT09IFJFQUNUX1NVU1BFTlNFX0xJU1RfVFlQRSB8fCB0eXBlb2YgdHlwZSA9PT0gJ29iamVjdCcgJiYgdHlwZSAhPT0gbnVsbCAmJiAodHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfTEFaWV9UWVBFIHx8IHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX01FTU9fVFlQRSB8fCB0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9QUk9WSURFUl9UWVBFIHx8IHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0NPTlRFWFRfVFlQRSB8fCB0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9GT1JXQVJEX1JFRl9UWVBFIHx8IHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0ZVTkRBTUVOVEFMX1RZUEUgfHwgdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfUkVTUE9OREVSX1RZUEUgfHwgdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfU0NPUEVfVFlQRSB8fCB0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9CTE9DS19UWVBFKTtcbn1cblxuZnVuY3Rpb24gdHlwZU9mKG9iamVjdCkge1xuICBpZiAodHlwZW9mIG9iamVjdCA9PT0gJ29iamVjdCcgJiYgb2JqZWN0ICE9PSBudWxsKSB7XG4gICAgdmFyICQkdHlwZW9mID0gb2JqZWN0LiQkdHlwZW9mO1xuXG4gICAgc3dpdGNoICgkJHR5cGVvZikge1xuICAgICAgY2FzZSBSRUFDVF9FTEVNRU5UX1RZUEU6XG4gICAgICAgIHZhciB0eXBlID0gb2JqZWN0LnR5cGU7XG5cbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgY2FzZSBSRUFDVF9BU1lOQ19NT0RFX1RZUEU6XG4gICAgICAgICAgY2FzZSBSRUFDVF9DT05DVVJSRU5UX01PREVfVFlQRTpcbiAgICAgICAgICBjYXNlIFJFQUNUX0ZSQUdNRU5UX1RZUEU6XG4gICAgICAgICAgY2FzZSBSRUFDVF9QUk9GSUxFUl9UWVBFOlxuICAgICAgICAgIGNhc2UgUkVBQ1RfU1RSSUNUX01PREVfVFlQRTpcbiAgICAgICAgICBjYXNlIFJFQUNUX1NVU1BFTlNFX1RZUEU6XG4gICAgICAgICAgICByZXR1cm4gdHlwZTtcblxuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB2YXIgJCR0eXBlb2ZUeXBlID0gdHlwZSAmJiB0eXBlLiQkdHlwZW9mO1xuXG4gICAgICAgICAgICBzd2l0Y2ggKCQkdHlwZW9mVHlwZSkge1xuICAgICAgICAgICAgICBjYXNlIFJFQUNUX0NPTlRFWFRfVFlQRTpcbiAgICAgICAgICAgICAgY2FzZSBSRUFDVF9GT1JXQVJEX1JFRl9UWVBFOlxuICAgICAgICAgICAgICBjYXNlIFJFQUNUX0xBWllfVFlQRTpcbiAgICAgICAgICAgICAgY2FzZSBSRUFDVF9NRU1PX1RZUEU6XG4gICAgICAgICAgICAgIGNhc2UgUkVBQ1RfUFJPVklERVJfVFlQRTpcbiAgICAgICAgICAgICAgICByZXR1cm4gJCR0eXBlb2ZUeXBlO1xuXG4gICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuICQkdHlwZW9mO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgICAgY2FzZSBSRUFDVF9QT1JUQUxfVFlQRTpcbiAgICAgICAgcmV0dXJuICQkdHlwZW9mO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB1bmRlZmluZWQ7XG59IC8vIEFzeW5jTW9kZSBpcyBkZXByZWNhdGVkIGFsb25nIHdpdGggaXNBc3luY01vZGVcblxudmFyIEFzeW5jTW9kZSA9IFJFQUNUX0FTWU5DX01PREVfVFlQRTtcbnZhciBDb25jdXJyZW50TW9kZSA9IFJFQUNUX0NPTkNVUlJFTlRfTU9ERV9UWVBFO1xudmFyIENvbnRleHRDb25zdW1lciA9IFJFQUNUX0NPTlRFWFRfVFlQRTtcbnZhciBDb250ZXh0UHJvdmlkZXIgPSBSRUFDVF9QUk9WSURFUl9UWVBFO1xudmFyIEVsZW1lbnQgPSBSRUFDVF9FTEVNRU5UX1RZUEU7XG52YXIgRm9yd2FyZFJlZiA9IFJFQUNUX0ZPUldBUkRfUkVGX1RZUEU7XG52YXIgRnJhZ21lbnQgPSBSRUFDVF9GUkFHTUVOVF9UWVBFO1xudmFyIExhenkgPSBSRUFDVF9MQVpZX1RZUEU7XG52YXIgTWVtbyA9IFJFQUNUX01FTU9fVFlQRTtcbnZhciBQb3J0YWwgPSBSRUFDVF9QT1JUQUxfVFlQRTtcbnZhciBQcm9maWxlciA9IFJFQUNUX1BST0ZJTEVSX1RZUEU7XG52YXIgU3RyaWN0TW9kZSA9IFJFQUNUX1NUUklDVF9NT0RFX1RZUEU7XG52YXIgU3VzcGVuc2UgPSBSRUFDVF9TVVNQRU5TRV9UWVBFO1xudmFyIGhhc1dhcm5lZEFib3V0RGVwcmVjYXRlZElzQXN5bmNNb2RlID0gZmFsc2U7IC8vIEFzeW5jTW9kZSBzaG91bGQgYmUgZGVwcmVjYXRlZFxuXG5mdW5jdGlvbiBpc0FzeW5jTW9kZShvYmplY3QpIHtcbiAge1xuICAgIGlmICghaGFzV2FybmVkQWJvdXREZXByZWNhdGVkSXNBc3luY01vZGUpIHtcbiAgICAgIGhhc1dhcm5lZEFib3V0RGVwcmVjYXRlZElzQXN5bmNNb2RlID0gdHJ1ZTsgLy8gVXNpbmcgY29uc29sZVsnd2FybiddIHRvIGV2YWRlIEJhYmVsIGFuZCBFU0xpbnRcblxuICAgICAgY29uc29sZVsnd2FybiddKCdUaGUgUmVhY3RJcy5pc0FzeW5jTW9kZSgpIGFsaWFzIGhhcyBiZWVuIGRlcHJlY2F0ZWQsICcgKyAnYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiBSZWFjdCAxNysuIFVwZGF0ZSB5b3VyIGNvZGUgdG8gdXNlICcgKyAnUmVhY3RJcy5pc0NvbmN1cnJlbnRNb2RlKCkgaW5zdGVhZC4gSXQgaGFzIHRoZSBleGFjdCBzYW1lIEFQSS4nKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gaXNDb25jdXJyZW50TW9kZShvYmplY3QpIHx8IHR5cGVPZihvYmplY3QpID09PSBSRUFDVF9BU1lOQ19NT0RFX1RZUEU7XG59XG5mdW5jdGlvbiBpc0NvbmN1cnJlbnRNb2RlKG9iamVjdCkge1xuICByZXR1cm4gdHlwZU9mKG9iamVjdCkgPT09IFJFQUNUX0NPTkNVUlJFTlRfTU9ERV9UWVBFO1xufVxuZnVuY3Rpb24gaXNDb250ZXh0Q29uc3VtZXIob2JqZWN0KSB7XG4gIHJldHVybiB0eXBlT2Yob2JqZWN0KSA9PT0gUkVBQ1RfQ09OVEVYVF9UWVBFO1xufVxuZnVuY3Rpb24gaXNDb250ZXh0UHJvdmlkZXIob2JqZWN0KSB7XG4gIHJldHVybiB0eXBlT2Yob2JqZWN0KSA9PT0gUkVBQ1RfUFJPVklERVJfVFlQRTtcbn1cbmZ1bmN0aW9uIGlzRWxlbWVudChvYmplY3QpIHtcbiAgcmV0dXJuIHR5cGVvZiBvYmplY3QgPT09ICdvYmplY3QnICYmIG9iamVjdCAhPT0gbnVsbCAmJiBvYmplY3QuJCR0eXBlb2YgPT09IFJFQUNUX0VMRU1FTlRfVFlQRTtcbn1cbmZ1bmN0aW9uIGlzRm9yd2FyZFJlZihvYmplY3QpIHtcbiAgcmV0dXJuIHR5cGVPZihvYmplY3QpID09PSBSRUFDVF9GT1JXQVJEX1JFRl9UWVBFO1xufVxuZnVuY3Rpb24gaXNGcmFnbWVudChvYmplY3QpIHtcbiAgcmV0dXJuIHR5cGVPZihvYmplY3QpID09PSBSRUFDVF9GUkFHTUVOVF9UWVBFO1xufVxuZnVuY3Rpb24gaXNMYXp5KG9iamVjdCkge1xuICByZXR1cm4gdHlwZU9mKG9iamVjdCkgPT09IFJFQUNUX0xBWllfVFlQRTtcbn1cbmZ1bmN0aW9uIGlzTWVtbyhvYmplY3QpIHtcbiAgcmV0dXJuIHR5cGVPZihvYmplY3QpID09PSBSRUFDVF9NRU1PX1RZUEU7XG59XG5mdW5jdGlvbiBpc1BvcnRhbChvYmplY3QpIHtcbiAgcmV0dXJuIHR5cGVPZihvYmplY3QpID09PSBSRUFDVF9QT1JUQUxfVFlQRTtcbn1cbmZ1bmN0aW9uIGlzUHJvZmlsZXIob2JqZWN0KSB7XG4gIHJldHVybiB0eXBlT2Yob2JqZWN0KSA9PT0gUkVBQ1RfUFJPRklMRVJfVFlQRTtcbn1cbmZ1bmN0aW9uIGlzU3RyaWN0TW9kZShvYmplY3QpIHtcbiAgcmV0dXJuIHR5cGVPZihvYmplY3QpID09PSBSRUFDVF9TVFJJQ1RfTU9ERV9UWVBFO1xufVxuZnVuY3Rpb24gaXNTdXNwZW5zZShvYmplY3QpIHtcbiAgcmV0dXJuIHR5cGVPZihvYmplY3QpID09PSBSRUFDVF9TVVNQRU5TRV9UWVBFO1xufVxuXG5leHBvcnRzLkFzeW5jTW9kZSA9IEFzeW5jTW9kZTtcbmV4cG9ydHMuQ29uY3VycmVudE1vZGUgPSBDb25jdXJyZW50TW9kZTtcbmV4cG9ydHMuQ29udGV4dENvbnN1bWVyID0gQ29udGV4dENvbnN1bWVyO1xuZXhwb3J0cy5Db250ZXh0UHJvdmlkZXIgPSBDb250ZXh0UHJvdmlkZXI7XG5leHBvcnRzLkVsZW1lbnQgPSBFbGVtZW50O1xuZXhwb3J0cy5Gb3J3YXJkUmVmID0gRm9yd2FyZFJlZjtcbmV4cG9ydHMuRnJhZ21lbnQgPSBGcmFnbWVudDtcbmV4cG9ydHMuTGF6eSA9IExhenk7XG5leHBvcnRzLk1lbW8gPSBNZW1vO1xuZXhwb3J0cy5Qb3J0YWwgPSBQb3J0YWw7XG5leHBvcnRzLlByb2ZpbGVyID0gUHJvZmlsZXI7XG5leHBvcnRzLlN0cmljdE1vZGUgPSBTdHJpY3RNb2RlO1xuZXhwb3J0cy5TdXNwZW5zZSA9IFN1c3BlbnNlO1xuZXhwb3J0cy5pc0FzeW5jTW9kZSA9IGlzQXN5bmNNb2RlO1xuZXhwb3J0cy5pc0NvbmN1cnJlbnRNb2RlID0gaXNDb25jdXJyZW50TW9kZTtcbmV4cG9ydHMuaXNDb250ZXh0Q29uc3VtZXIgPSBpc0NvbnRleHRDb25zdW1lcjtcbmV4cG9ydHMuaXNDb250ZXh0UHJvdmlkZXIgPSBpc0NvbnRleHRQcm92aWRlcjtcbmV4cG9ydHMuaXNFbGVtZW50ID0gaXNFbGVtZW50O1xuZXhwb3J0cy5pc0ZvcndhcmRSZWYgPSBpc0ZvcndhcmRSZWY7XG5leHBvcnRzLmlzRnJhZ21lbnQgPSBpc0ZyYWdtZW50O1xuZXhwb3J0cy5pc0xhenkgPSBpc0xhenk7XG5leHBvcnRzLmlzTWVtbyA9IGlzTWVtbztcbmV4cG9ydHMuaXNQb3J0YWwgPSBpc1BvcnRhbDtcbmV4cG9ydHMuaXNQcm9maWxlciA9IGlzUHJvZmlsZXI7XG5leHBvcnRzLmlzU3RyaWN0TW9kZSA9IGlzU3RyaWN0TW9kZTtcbmV4cG9ydHMuaXNTdXNwZW5zZSA9IGlzU3VzcGVuc2U7XG5leHBvcnRzLmlzVmFsaWRFbGVtZW50VHlwZSA9IGlzVmFsaWRFbGVtZW50VHlwZTtcbmV4cG9ydHMudHlwZU9mID0gdHlwZU9mO1xuICB9KSgpO1xufVxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/react-is/cjs/react-is.development.js\n");

/***/ }),

/***/ "./node_modules/react-is/index.js":
/*!****************************************!*\
  !*** ./node_modules/react-is/index.js ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nif (false) {} else {\n  module.exports = __webpack_require__(/*! ./cjs/react-is.development.js */ \"./node_modules/react-is/cjs/react-is.development.js\");\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3QtaXMvaW5kZXguanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtaXMvaW5kZXguanM/NGNlYyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9janMvcmVhY3QtaXMucHJvZHVjdGlvbi5taW4uanMnKTtcbn0gZWxzZSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9janMvcmVhY3QtaXMuZGV2ZWxvcG1lbnQuanMnKTtcbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBLGFBRUE7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/react-is/index.js\n");

/***/ }),

/***/ "./node_modules/svg.js/dist/svg.js":
/*!*****************************************!*\
  !*** ./node_modules/svg.js/dist/svg.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_RESULT__;/*!\n* svg.js - A lightweight library for manipulating and animating SVG.\n* @version 2.7.1\n* https://svgdotjs.github.io/\n*\n* @copyright Wout Fierens <wout@mick-wout.com>\n* @license MIT\n*\n* BUILT: Fri Nov 30 2018 10:01:55 GMT+0100 (GMT+01:00)\n*/;\n(function(root, factory) {\r\n  /* istanbul ignore next */\r\n  if (true) {\r\n    !(__WEBPACK_AMD_DEFINE_RESULT__ = (function(){\r\n      return factory(root, root.document)\r\n    }).call(exports, __webpack_require__, exports, module),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__))\r\n  } else {}\r\n}(typeof window !== \"undefined\" ? window : this, function(window, document) {\r\n\r\n// Find global reference - uses 'this' by default when available,\r\n// falls back to 'window' otherwise (for bundlers like Webpack)\r\nvar globalRef = (typeof this !== \"undefined\") ? this : window;\r\n\r\n// The main wrapping element\r\nvar SVG = globalRef.SVG = function(element) {\r\n  if (SVG.supported) {\r\n    element = new SVG.Doc(element)\r\n\r\n    if(!SVG.parser.draw)\r\n      SVG.prepare()\r\n\r\n    return element\r\n  }\r\n}\r\n\r\n// Default namespaces\r\nSVG.ns    = 'http://www.w3.org/2000/svg'\r\nSVG.xmlns = 'http://www.w3.org/2000/xmlns/'\r\nSVG.xlink = 'http://www.w3.org/1999/xlink'\r\nSVG.svgjs = 'http://svgjs.com/svgjs'\r\n\r\n// Svg support test\r\nSVG.supported = (function() {\r\n  return !! document.createElementNS &&\r\n         !! document.createElementNS(SVG.ns,'svg').createSVGRect\r\n})()\r\n\r\n// Don't bother to continue if SVG is not supported\r\nif (!SVG.supported) return false\r\n\r\n// Element id sequence\r\nSVG.did  = 1000\r\n\r\n// Get next named element id\r\nSVG.eid = function(name) {\r\n  return 'Svgjs' + capitalize(name) + (SVG.did++)\r\n}\r\n\r\n// Method for element creation\r\nSVG.create = function(name) {\r\n  // create element\r\n  var element = document.createElementNS(this.ns, name)\r\n\r\n  // apply unique id\r\n  element.setAttribute('id', this.eid(name))\r\n\r\n  return element\r\n}\r\n\r\n// Method for extending objects\r\nSVG.extend = function() {\r\n  var modules, methods, key, i\r\n\r\n  // Get list of modules\r\n  modules = [].slice.call(arguments)\r\n\r\n  // Get object with extensions\r\n  methods = modules.pop()\r\n\r\n  for (i = modules.length - 1; i >= 0; i--)\r\n    if (modules[i])\r\n      for (key in methods)\r\n        modules[i].prototype[key] = methods[key]\r\n\r\n  // Make sure SVG.Set inherits any newly added methods\r\n  if (SVG.Set && SVG.Set.inherit)\r\n    SVG.Set.inherit()\r\n}\r\n\r\n// Invent new element\r\nSVG.invent = function(config) {\r\n  // Create element initializer\r\n  var initializer = typeof config.create == 'function' ?\r\n    config.create :\r\n    function() {\r\n      this.constructor.call(this, SVG.create(config.create))\r\n    }\r\n\r\n  // Inherit prototype\r\n  if (config.inherit)\r\n    initializer.prototype = new config.inherit\r\n\r\n  // Extend with methods\r\n  if (config.extend)\r\n    SVG.extend(initializer, config.extend)\r\n\r\n  // Attach construct method to parent\r\n  if (config.construct)\r\n    SVG.extend(config.parent || SVG.Container, config.construct)\r\n\r\n  return initializer\r\n}\r\n\r\n// Adopt existing svg elements\r\nSVG.adopt = function(node) {\r\n  // check for presence of node\r\n  if (!node) return null\r\n\r\n  // make sure a node isn't already adopted\r\n  if (node.instance) return node.instance\r\n\r\n  // initialize variables\r\n  var element\r\n\r\n  // adopt with element-specific settings\r\n  if (node.nodeName == 'svg')\r\n    element = node.parentNode instanceof window.SVGElement ? new SVG.Nested : new SVG.Doc\r\n  else if (node.nodeName == 'linearGradient')\r\n    element = new SVG.Gradient('linear')\r\n  else if (node.nodeName == 'radialGradient')\r\n    element = new SVG.Gradient('radial')\r\n  else if (SVG[capitalize(node.nodeName)])\r\n    element = new SVG[capitalize(node.nodeName)]\r\n  else\r\n    element = new SVG.Element(node)\r\n\r\n  // ensure references\r\n  element.type  = node.nodeName\r\n  element.node  = node\r\n  node.instance = element\r\n\r\n  // SVG.Class specific preparations\r\n  if (element instanceof SVG.Doc)\r\n    element.namespace().defs()\r\n\r\n  // pull svgjs data from the dom (getAttributeNS doesn't work in html5)\r\n  element.setData(JSON.parse(node.getAttribute('svgjs:data')) || {})\r\n\r\n  return element\r\n}\r\n\r\n// Initialize parsing element\r\nSVG.prepare = function() {\r\n  // Select document body and create invisible svg element\r\n  var body = document.getElementsByTagName('body')[0]\r\n    , draw = (body ? new SVG.Doc(body) : SVG.adopt(document.documentElement).nested()).size(2, 0)\r\n\r\n  // Create parser object\r\n  SVG.parser = {\r\n    body: body || document.documentElement\r\n  , draw: draw.style('opacity:0;position:absolute;left:-100%;top:-100%;overflow:hidden').attr('focusable', 'false').node\r\n  , poly: draw.polyline().node\r\n  , path: draw.path().node\r\n  , native: SVG.create('svg')\r\n  }\r\n}\r\n\r\nSVG.parser = {\r\n  native: SVG.create('svg')\r\n}\r\n\r\ndocument.addEventListener('DOMContentLoaded', function() {\r\n  if(!SVG.parser.draw)\r\n    SVG.prepare()\r\n}, false)\r\n\n// Storage for regular expressions\r\nSVG.regex = {\r\n  // Parse unit value\r\n  numberAndUnit:    /^([+-]?(\\d+(\\.\\d*)?|\\.\\d+)(e[+-]?\\d+)?)([a-z%]*)$/i\r\n\r\n  // Parse hex value\r\n, hex:              /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i\r\n\r\n  // Parse rgb value\r\n, rgb:              /rgb\\((\\d+),(\\d+),(\\d+)\\)/\r\n\r\n  // Parse reference id\r\n, reference:        /#([a-z0-9\\-_]+)/i\r\n\r\n  // splits a transformation chain\r\n, transforms:       /\\)\\s*,?\\s*/\r\n\r\n  // Whitespace\r\n, whitespace:       /\\s/g\r\n\r\n  // Test hex value\r\n, isHex:            /^#[a-f0-9]{3,6}$/i\r\n\r\n  // Test rgb value\r\n, isRgb:            /^rgb\\(/\r\n\r\n  // Test css declaration\r\n, isCss:            /[^:]+:[^;]+;?/\r\n\r\n  // Test for blank string\r\n, isBlank:          /^(\\s+)?$/\r\n\r\n  // Test for numeric string\r\n, isNumber:         /^[+-]?(\\d+(\\.\\d*)?|\\.\\d+)(e[+-]?\\d+)?$/i\r\n\r\n  // Test for percent value\r\n, isPercent:        /^-?[\\d\\.]+%$/\r\n\r\n  // Test for image url\r\n, isImage:          /\\.(jpg|jpeg|png|gif|svg)(\\?[^=]+.*)?/i\r\n\r\n  // split at whitespace and comma\r\n, delimiter:        /[\\s,]+/\r\n\r\n  // The following regex are used to parse the d attribute of a path\r\n\r\n  // Matches all hyphens which are not after an exponent\r\n, hyphen:           /([^e])\\-/gi\r\n\r\n  // Replaces and tests for all path letters\r\n, pathLetters:      /[MLHVCSQTAZ]/gi\r\n\r\n  // yes we need this one, too\r\n, isPathLetter:     /[MLHVCSQTAZ]/i\r\n\r\n  // matches 0.154.23.45\r\n, numbersWithDots:  /((\\d?\\.\\d+(?:e[+-]?\\d+)?)((?:\\.\\d+(?:e[+-]?\\d+)?)+))+/gi\r\n\r\n  // matches .\r\n, dots:             /\\./g\r\n}\r\n\nSVG.utils = {\r\n  // Map function\r\n  map: function(array, block) {\r\n    var i\r\n      , il = array.length\r\n      , result = []\r\n\r\n    for (i = 0; i < il; i++)\r\n      result.push(block(array[i]))\r\n\r\n    return result\r\n  }\r\n\r\n  // Filter function\r\n, filter: function(array, block) {\r\n    var i\r\n      , il = array.length\r\n      , result = []\r\n\r\n    for (i = 0; i < il; i++)\r\n      if (block(array[i]))\r\n        result.push(array[i])\r\n\r\n    return result\r\n  }\r\n\r\n  // Degrees to radians\r\n, radians: function(d) {\r\n    return d % 360 * Math.PI / 180\r\n  }\r\n\r\n  // Radians to degrees\r\n, degrees: function(r) {\r\n    return r * 180 / Math.PI % 360\r\n  }\r\n\r\n, filterSVGElements: function(nodes) {\r\n    return this.filter( nodes, function(el) { return el instanceof window.SVGElement })\r\n  }\r\n\r\n}\n\r\nSVG.defaults = {\r\n  // Default attribute values\r\n  attrs: {\r\n    // fill and stroke\r\n    'fill-opacity':     1\r\n  , 'stroke-opacity':   1\r\n  , 'stroke-width':     0\r\n  , 'stroke-linejoin':  'miter'\r\n  , 'stroke-linecap':   'butt'\r\n  , fill:               '#000000'\r\n  , stroke:             '#000000'\r\n  , opacity:            1\r\n    // position\r\n  , x:                  0\r\n  , y:                  0\r\n  , cx:                 0\r\n  , cy:                 0\r\n    // size\r\n  , width:              0\r\n  , height:             0\r\n    // radius\r\n  , r:                  0\r\n  , rx:                 0\r\n  , ry:                 0\r\n    // gradient\r\n  , offset:             0\r\n  , 'stop-opacity':     1\r\n  , 'stop-color':       '#000000'\r\n    // text\r\n  , 'font-size':        16\r\n  , 'font-family':      'Helvetica, Arial, sans-serif'\r\n  , 'text-anchor':      'start'\r\n  }\r\n\r\n}\n// Module for color convertions\r\nSVG.Color = function(color) {\r\n  var match\r\n\r\n  // initialize defaults\r\n  this.r = 0\r\n  this.g = 0\r\n  this.b = 0\r\n\r\n  if(!color) return\r\n\r\n  // parse color\r\n  if (typeof color === 'string') {\r\n    if (SVG.regex.isRgb.test(color)) {\r\n      // get rgb values\r\n      match = SVG.regex.rgb.exec(color.replace(SVG.regex.whitespace,''))\r\n\r\n      // parse numeric values\r\n      this.r = parseInt(match[1])\r\n      this.g = parseInt(match[2])\r\n      this.b = parseInt(match[3])\r\n\r\n    } else if (SVG.regex.isHex.test(color)) {\r\n      // get hex values\r\n      match = SVG.regex.hex.exec(fullHex(color))\r\n\r\n      // parse numeric values\r\n      this.r = parseInt(match[1], 16)\r\n      this.g = parseInt(match[2], 16)\r\n      this.b = parseInt(match[3], 16)\r\n\r\n    }\r\n\r\n  } else if (typeof color === 'object') {\r\n    this.r = color.r\r\n    this.g = color.g\r\n    this.b = color.b\r\n\r\n  }\r\n\r\n}\r\n\r\nSVG.extend(SVG.Color, {\r\n  // Default to hex conversion\r\n  toString: function() {\r\n    return this.toHex()\r\n  }\r\n  // Build hex value\r\n, toHex: function() {\r\n    return '#'\r\n      + compToHex(this.r)\r\n      + compToHex(this.g)\r\n      + compToHex(this.b)\r\n  }\r\n  // Build rgb value\r\n, toRgb: function() {\r\n    return 'rgb(' + [this.r, this.g, this.b].join() + ')'\r\n  }\r\n  // Calculate true brightness\r\n, brightness: function() {\r\n    return (this.r / 255 * 0.30)\r\n         + (this.g / 255 * 0.59)\r\n         + (this.b / 255 * 0.11)\r\n  }\r\n  // Make color morphable\r\n, morph: function(color) {\r\n    this.destination = new SVG.Color(color)\r\n\r\n    return this\r\n  }\r\n  // Get morphed color at given position\r\n, at: function(pos) {\r\n    // make sure a destination is defined\r\n    if (!this.destination) return this\r\n\r\n    // normalise pos\r\n    pos = pos < 0 ? 0 : pos > 1 ? 1 : pos\r\n\r\n    // generate morphed color\r\n    return new SVG.Color({\r\n      r: ~~(this.r + (this.destination.r - this.r) * pos)\r\n    , g: ~~(this.g + (this.destination.g - this.g) * pos)\r\n    , b: ~~(this.b + (this.destination.b - this.b) * pos)\r\n    })\r\n  }\r\n\r\n})\r\n\r\n// Testers\r\n\r\n// Test if given value is a color string\r\nSVG.Color.test = function(color) {\r\n  color += ''\r\n  return SVG.regex.isHex.test(color)\r\n      || SVG.regex.isRgb.test(color)\r\n}\r\n\r\n// Test if given value is a rgb object\r\nSVG.Color.isRgb = function(color) {\r\n  return color && typeof color.r == 'number'\r\n               && typeof color.g == 'number'\r\n               && typeof color.b == 'number'\r\n}\r\n\r\n// Test if given value is a color\r\nSVG.Color.isColor = function(color) {\r\n  return SVG.Color.isRgb(color) || SVG.Color.test(color)\r\n}\n// Module for array conversion\r\nSVG.Array = function(array, fallback) {\r\n  array = (array || []).valueOf()\r\n\r\n  // if array is empty and fallback is provided, use fallback\r\n  if (array.length == 0 && fallback)\r\n    array = fallback.valueOf()\r\n\r\n  // parse array\r\n  this.value = this.parse(array)\r\n}\r\n\r\nSVG.extend(SVG.Array, {\r\n  // Make array morphable\r\n  morph: function(array) {\r\n    this.destination = this.parse(array)\r\n\r\n    // normalize length of arrays\r\n    if (this.value.length != this.destination.length) {\r\n      var lastValue       = this.value[this.value.length - 1]\r\n        , lastDestination = this.destination[this.destination.length - 1]\r\n\r\n      while(this.value.length > this.destination.length)\r\n        this.destination.push(lastDestination)\r\n      while(this.value.length < this.destination.length)\r\n        this.value.push(lastValue)\r\n    }\r\n\r\n    return this\r\n  }\r\n  // Clean up any duplicate points\r\n, settle: function() {\r\n    // find all unique values\r\n    for (var i = 0, il = this.value.length, seen = []; i < il; i++)\r\n      if (seen.indexOf(this.value[i]) == -1)\r\n        seen.push(this.value[i])\r\n\r\n    // set new value\r\n    return this.value = seen\r\n  }\r\n  // Get morphed array at given position\r\n, at: function(pos) {\r\n    // make sure a destination is defined\r\n    if (!this.destination) return this\r\n\r\n    // generate morphed array\r\n    for (var i = 0, il = this.value.length, array = []; i < il; i++)\r\n      array.push(this.value[i] + (this.destination[i] - this.value[i]) * pos)\r\n\r\n    return new SVG.Array(array)\r\n  }\r\n  // Convert array to string\r\n, toString: function() {\r\n    return this.value.join(' ')\r\n  }\r\n  // Real value\r\n, valueOf: function() {\r\n    return this.value\r\n  }\r\n  // Parse whitespace separated string\r\n, parse: function(array) {\r\n    array = array.valueOf()\r\n\r\n    // if already is an array, no need to parse it\r\n    if (Array.isArray(array)) return array\r\n\r\n    return this.split(array)\r\n  }\r\n  // Strip unnecessary whitespace\r\n, split: function(string) {\r\n    return string.trim().split(SVG.regex.delimiter).map(parseFloat)\r\n  }\r\n  // Reverse array\r\n, reverse: function() {\r\n    this.value.reverse()\r\n\r\n    return this\r\n  }\r\n, clone: function() {\r\n    var clone = new this.constructor()\r\n    clone.value = array_clone(this.value)\r\n    return clone\r\n  }\r\n})\n// Poly points array\r\nSVG.PointArray = function(array, fallback) {\r\n  SVG.Array.call(this, array, fallback || [[0,0]])\r\n}\r\n\r\n// Inherit from SVG.Array\r\nSVG.PointArray.prototype = new SVG.Array\r\nSVG.PointArray.prototype.constructor = SVG.PointArray\r\n\r\nSVG.extend(SVG.PointArray, {\r\n  // Convert array to string\r\n  toString: function() {\r\n    // convert to a poly point string\r\n    for (var i = 0, il = this.value.length, array = []; i < il; i++)\r\n      array.push(this.value[i].join(','))\r\n\r\n    return array.join(' ')\r\n  }\r\n  // Convert array to line object\r\n, toLine: function() {\r\n    return {\r\n      x1: this.value[0][0]\r\n    , y1: this.value[0][1]\r\n    , x2: this.value[1][0]\r\n    , y2: this.value[1][1]\r\n    }\r\n  }\r\n  // Get morphed array at given position\r\n, at: function(pos) {\r\n    // make sure a destination is defined\r\n    if (!this.destination) return this\r\n\r\n    // generate morphed point string\r\n    for (var i = 0, il = this.value.length, array = []; i < il; i++)\r\n      array.push([\r\n        this.value[i][0] + (this.destination[i][0] - this.value[i][0]) * pos\r\n      , this.value[i][1] + (this.destination[i][1] - this.value[i][1]) * pos\r\n      ])\r\n\r\n    return new SVG.PointArray(array)\r\n  }\r\n  // Parse point string and flat array\r\n, parse: function(array) {\r\n    var points = []\r\n\r\n    array = array.valueOf()\r\n\r\n    // if it is an array\r\n    if (Array.isArray(array)) {\r\n      // and it is not flat, there is no need to parse it\r\n      if(Array.isArray(array[0])) {\r\n        // make sure to use a clone\r\n        return array.map(function (el) { return el.slice() })\r\n      } else if (array[0].x != null){\r\n        // allow point objects to be passed\r\n        return array.map(function (el) { return [el.x, el.y] })\r\n      }\r\n    } else { // Else, it is considered as a string\r\n      // parse points\r\n      array = array.trim().split(SVG.regex.delimiter).map(parseFloat)\r\n    }\r\n\r\n    // validate points - https://svgwg.org/svg2-draft/shapes.html#DataTypePoints\r\n    // Odd number of coordinates is an error. In such cases, drop the last odd coordinate.\r\n    if (array.length % 2 !== 0) array.pop()\r\n\r\n    // wrap points in two-tuples and parse points as floats\r\n    for(var i = 0, len = array.length; i < len; i = i + 2)\r\n      points.push([ array[i], array[i+1] ])\r\n\r\n    return points\r\n  }\r\n  // Move point string\r\n, move: function(x, y) {\r\n    var box = this.bbox()\r\n\r\n    // get relative offset\r\n    x -= box.x\r\n    y -= box.y\r\n\r\n    // move every point\r\n    if (!isNaN(x) && !isNaN(y))\r\n      for (var i = this.value.length - 1; i >= 0; i--)\r\n        this.value[i] = [this.value[i][0] + x, this.value[i][1] + y]\r\n\r\n    return this\r\n  }\r\n  // Resize poly string\r\n, size: function(width, height) {\r\n    var i, box = this.bbox()\r\n\r\n    // recalculate position of all points according to new size\r\n    for (i = this.value.length - 1; i >= 0; i--) {\r\n      if(box.width) this.value[i][0] = ((this.value[i][0] - box.x) * width)  / box.width  + box.x\r\n      if(box.height) this.value[i][1] = ((this.value[i][1] - box.y) * height) / box.height + box.y\r\n    }\r\n\r\n    return this\r\n  }\r\n  // Get bounding box of points\r\n, bbox: function() {\r\n    SVG.parser.poly.setAttribute('points', this.toString())\r\n\r\n    return SVG.parser.poly.getBBox()\r\n  }\r\n})\r\n\nvar pathHandlers = {\r\n  M: function(c, p, p0) {\r\n    p.x = p0.x = c[0]\r\n    p.y = p0.y = c[1]\r\n\r\n    return ['M', p.x, p.y]\r\n  },\r\n  L: function(c, p) {\r\n    p.x = c[0]\r\n    p.y = c[1]\r\n    return ['L', c[0], c[1]]\r\n  },\r\n  H: function(c, p) {\r\n    p.x = c[0]\r\n    return ['H', c[0]]\r\n  },\r\n  V: function(c, p) {\r\n    p.y = c[0]\r\n    return ['V', c[0]]\r\n  },\r\n  C: function(c, p) {\r\n    p.x = c[4]\r\n    p.y = c[5]\r\n    return ['C', c[0], c[1], c[2], c[3], c[4], c[5]]\r\n  },\r\n  S: function(c, p) {\r\n    p.x = c[2]\r\n    p.y = c[3]\r\n    return ['S', c[0], c[1], c[2], c[3]]\r\n  },\r\n  Q: function(c, p) {\r\n    p.x = c[2]\r\n    p.y = c[3]\r\n    return ['Q', c[0], c[1], c[2], c[3]]\r\n  },\r\n  T: function(c, p) {\r\n    p.x = c[0]\r\n    p.y = c[1]\r\n    return ['T', c[0], c[1]]\r\n  },\r\n  Z: function(c, p, p0) {\r\n    p.x = p0.x\r\n    p.y = p0.y\r\n    return ['Z']\r\n  },\r\n  A: function(c, p) {\r\n    p.x = c[5]\r\n    p.y = c[6]\r\n    return ['A', c[0], c[1], c[2], c[3], c[4], c[5], c[6]]\r\n  }\r\n}\r\n\r\nvar mlhvqtcsa = 'mlhvqtcsaz'.split('')\r\n\r\nfor(var i = 0, il = mlhvqtcsa.length; i < il; ++i){\r\n  pathHandlers[mlhvqtcsa[i]] = (function(i){\r\n    return function(c, p, p0) {\r\n      if(i == 'H') c[0] = c[0] + p.x\r\n      else if(i == 'V') c[0] = c[0] + p.y\r\n      else if(i == 'A'){\r\n        c[5] = c[5] + p.x,\r\n        c[6] = c[6] + p.y\r\n      }\r\n      else\r\n        for(var j = 0, jl = c.length; j < jl; ++j) {\r\n          c[j] = c[j] + (j%2 ? p.y : p.x)\r\n        }\r\n\r\n      return pathHandlers[i](c, p, p0)\r\n    }\r\n  })(mlhvqtcsa[i].toUpperCase())\r\n}\r\n\r\n// Path points array\r\nSVG.PathArray = function(array, fallback) {\r\n  SVG.Array.call(this, array, fallback || [['M', 0, 0]])\r\n}\r\n\r\n// Inherit from SVG.Array\r\nSVG.PathArray.prototype = new SVG.Array\r\nSVG.PathArray.prototype.constructor = SVG.PathArray\r\n\r\nSVG.extend(SVG.PathArray, {\r\n  // Convert array to string\r\n  toString: function() {\r\n    return arrayToString(this.value)\r\n  }\r\n  // Move path string\r\n, move: function(x, y) {\r\n    // get bounding box of current situation\r\n    var box = this.bbox()\r\n\r\n    // get relative offset\r\n    x -= box.x\r\n    y -= box.y\r\n\r\n    if (!isNaN(x) && !isNaN(y)) {\r\n      // move every point\r\n      for (var l, i = this.value.length - 1; i >= 0; i--) {\r\n        l = this.value[i][0]\r\n\r\n        if (l == 'M' || l == 'L' || l == 'T')  {\r\n          this.value[i][1] += x\r\n          this.value[i][2] += y\r\n\r\n        } else if (l == 'H')  {\r\n          this.value[i][1] += x\r\n\r\n        } else if (l == 'V')  {\r\n          this.value[i][1] += y\r\n\r\n        } else if (l == 'C' || l == 'S' || l == 'Q')  {\r\n          this.value[i][1] += x\r\n          this.value[i][2] += y\r\n          this.value[i][3] += x\r\n          this.value[i][4] += y\r\n\r\n          if (l == 'C')  {\r\n            this.value[i][5] += x\r\n            this.value[i][6] += y\r\n          }\r\n\r\n        } else if (l == 'A')  {\r\n          this.value[i][6] += x\r\n          this.value[i][7] += y\r\n        }\r\n\r\n      }\r\n    }\r\n\r\n    return this\r\n  }\r\n  // Resize path string\r\n, size: function(width, height) {\r\n    // get bounding box of current situation\r\n    var i, l, box = this.bbox()\r\n\r\n    // recalculate position of all points according to new size\r\n    for (i = this.value.length - 1; i >= 0; i--) {\r\n      l = this.value[i][0]\r\n\r\n      if (l == 'M' || l == 'L' || l == 'T')  {\r\n        this.value[i][1] = ((this.value[i][1] - box.x) * width)  / box.width  + box.x\r\n        this.value[i][2] = ((this.value[i][2] - box.y) * height) / box.height + box.y\r\n\r\n      } else if (l == 'H')  {\r\n        this.value[i][1] = ((this.value[i][1] - box.x) * width)  / box.width  + box.x\r\n\r\n      } else if (l == 'V')  {\r\n        this.value[i][1] = ((this.value[i][1] - box.y) * height) / box.height + box.y\r\n\r\n      } else if (l == 'C' || l == 'S' || l == 'Q')  {\r\n        this.value[i][1] = ((this.value[i][1] - box.x) * width)  / box.width  + box.x\r\n        this.value[i][2] = ((this.value[i][2] - box.y) * height) / box.height + box.y\r\n        this.value[i][3] = ((this.value[i][3] - box.x) * width)  / box.width  + box.x\r\n        this.value[i][4] = ((this.value[i][4] - box.y) * height) / box.height + box.y\r\n\r\n        if (l == 'C')  {\r\n          this.value[i][5] = ((this.value[i][5] - box.x) * width)  / box.width  + box.x\r\n          this.value[i][6] = ((this.value[i][6] - box.y) * height) / box.height + box.y\r\n        }\r\n\r\n      } else if (l == 'A')  {\r\n        // resize radii\r\n        this.value[i][1] = (this.value[i][1] * width)  / box.width\r\n        this.value[i][2] = (this.value[i][2] * height) / box.height\r\n\r\n        // move position values\r\n        this.value[i][6] = ((this.value[i][6] - box.x) * width)  / box.width  + box.x\r\n        this.value[i][7] = ((this.value[i][7] - box.y) * height) / box.height + box.y\r\n      }\r\n\r\n    }\r\n\r\n    return this\r\n  }\r\n  // Test if the passed path array use the same path data commands as this path array\r\n, equalCommands: function(pathArray) {\r\n    var i, il, equalCommands\r\n\r\n    pathArray = new SVG.PathArray(pathArray)\r\n\r\n    equalCommands = this.value.length === pathArray.value.length\r\n    for(i = 0, il = this.value.length; equalCommands && i < il; i++) {\r\n      equalCommands = this.value[i][0] === pathArray.value[i][0]\r\n    }\r\n\r\n    return equalCommands\r\n  }\r\n  // Make path array morphable\r\n, morph: function(pathArray) {\r\n    pathArray = new SVG.PathArray(pathArray)\r\n\r\n    if(this.equalCommands(pathArray)) {\r\n      this.destination = pathArray\r\n    } else {\r\n      this.destination = null\r\n    }\r\n\r\n    return this\r\n  }\r\n  // Get morphed path array at given position\r\n, at: function(pos) {\r\n    // make sure a destination is defined\r\n    if (!this.destination) return this\r\n\r\n    var sourceArray = this.value\r\n      , destinationArray = this.destination.value\r\n      , array = [], pathArray = new SVG.PathArray()\r\n      , i, il, j, jl\r\n\r\n    // Animate has specified in the SVG spec\r\n    // See: https://www.w3.org/TR/SVG11/paths.html#PathElement\r\n    for (i = 0, il = sourceArray.length; i < il; i++) {\r\n      array[i] = [sourceArray[i][0]]\r\n      for(j = 1, jl = sourceArray[i].length; j < jl; j++) {\r\n        array[i][j] = sourceArray[i][j] + (destinationArray[i][j] - sourceArray[i][j]) * pos\r\n      }\r\n      // For the two flags of the elliptical arc command, the SVG spec say:\r\n      // Flags and booleans are interpolated as fractions between zero and one, with any non-zero value considered to be a value of one/true\r\n      // Elliptical arc command as an array followed by corresponding indexes:\r\n      // ['A', rx, ry, x-axis-rotation, large-arc-flag, sweep-flag, x, y]\r\n      //   0    1   2        3                 4             5      6  7\r\n      if(array[i][0] === 'A') {\r\n        array[i][4] = +(array[i][4] != 0)\r\n        array[i][5] = +(array[i][5] != 0)\r\n      }\r\n    }\r\n\r\n    // Directly modify the value of a path array, this is done this way for performance\r\n    pathArray.value = array\r\n    return pathArray\r\n  }\r\n  // Absolutize and parse path to array\r\n, parse: function(array) {\r\n    // if it's already a patharray, no need to parse it\r\n    if (array instanceof SVG.PathArray) return array.valueOf()\r\n\r\n    // prepare for parsing\r\n    var i, x0, y0, s, seg, arr\r\n      , x = 0\r\n      , y = 0\r\n      , paramCnt = { 'M':2, 'L':2, 'H':1, 'V':1, 'C':6, 'S':4, 'Q':4, 'T':2, 'A':7, 'Z':0 }\r\n\r\n    if(typeof array == 'string'){\r\n\r\n      array = array\r\n        .replace(SVG.regex.numbersWithDots, pathRegReplace) // convert 45.123.123 to 45.123 .123\r\n        .replace(SVG.regex.pathLetters, ' $& ') // put some room between letters and numbers\r\n        .replace(SVG.regex.hyphen, '$1 -')      // add space before hyphen\r\n        .trim()                                 // trim\r\n        .split(SVG.regex.delimiter)   // split into array\r\n\r\n    }else{\r\n      array = array.reduce(function(prev, curr){\r\n        return [].concat.call(prev, curr)\r\n      }, [])\r\n    }\r\n\r\n    // array now is an array containing all parts of a path e.g. ['M', '0', '0', 'L', '30', '30' ...]\r\n    var arr = []\r\n      , p = new SVG.Point()\r\n      , p0 = new SVG.Point()\r\n      , index = 0\r\n      , len = array.length\r\n\r\n    do{\r\n      // Test if we have a path letter\r\n      if(SVG.regex.isPathLetter.test(array[index])){\r\n        s = array[index]\r\n        ++index\r\n      // If last letter was a move command and we got no new, it defaults to [L]ine\r\n      }else if(s == 'M'){\r\n        s = 'L'\r\n      }else if(s == 'm'){\r\n        s = 'l'\r\n      }\r\n\r\n      arr.push(pathHandlers[s].call(null,\r\n          array.slice(index, (index = index + paramCnt[s.toUpperCase()])).map(parseFloat),\r\n          p, p0\r\n        )\r\n      )\r\n\r\n    }while(len > index)\r\n\r\n    return arr\r\n\r\n  }\r\n  // Get bounding box of path\r\n, bbox: function() {\r\n    SVG.parser.path.setAttribute('d', this.toString())\r\n\r\n    return SVG.parser.path.getBBox()\r\n  }\r\n\r\n})\r\n\n// Module for unit convertions\r\nSVG.Number = SVG.invent({\r\n  // Initialize\r\n  create: function(value, unit) {\r\n    // initialize defaults\r\n    this.value = 0\r\n    this.unit  = unit || ''\r\n\r\n    // parse value\r\n    if (typeof value === 'number') {\r\n      // ensure a valid numeric value\r\n      this.value = isNaN(value) ? 0 : !isFinite(value) ? (value < 0 ? -3.4e+38 : +3.4e+38) : value\r\n\r\n    } else if (typeof value === 'string') {\r\n      unit = value.match(SVG.regex.numberAndUnit)\r\n\r\n      if (unit) {\r\n        // make value numeric\r\n        this.value = parseFloat(unit[1])\r\n\r\n        // normalize\r\n        if (unit[5] == '%')\r\n          this.value /= 100\r\n        else if (unit[5] == 's')\r\n          this.value *= 1000\r\n\r\n        // store unit\r\n        this.unit = unit[5]\r\n      }\r\n\r\n    } else {\r\n      if (value instanceof SVG.Number) {\r\n        this.value = value.valueOf()\r\n        this.unit  = value.unit\r\n      }\r\n    }\r\n\r\n  }\r\n  // Add methods\r\n, extend: {\r\n    // Stringalize\r\n    toString: function() {\r\n      return (\r\n        this.unit == '%' ?\r\n          ~~(this.value * 1e8) / 1e6:\r\n        this.unit == 's' ?\r\n          this.value / 1e3 :\r\n          this.value\r\n      ) + this.unit\r\n    }\r\n  , toJSON: function() {\r\n      return this.toString()\r\n    }\r\n  , // Convert to primitive\r\n    valueOf: function() {\r\n      return this.value\r\n    }\r\n    // Add number\r\n  , plus: function(number) {\r\n      number = new SVG.Number(number)\r\n      return new SVG.Number(this + number, this.unit || number.unit)\r\n    }\r\n    // Subtract number\r\n  , minus: function(number) {\r\n      number = new SVG.Number(number)\r\n      return new SVG.Number(this - number, this.unit || number.unit)\r\n    }\r\n    // Multiply number\r\n  , times: function(number) {\r\n      number = new SVG.Number(number)\r\n      return new SVG.Number(this * number, this.unit || number.unit)\r\n    }\r\n    // Divide number\r\n  , divide: function(number) {\r\n      number = new SVG.Number(number)\r\n      return new SVG.Number(this / number, this.unit || number.unit)\r\n    }\r\n    // Convert to different unit\r\n  , to: function(unit) {\r\n      var number = new SVG.Number(this)\r\n\r\n      if (typeof unit === 'string')\r\n        number.unit = unit\r\n\r\n      return number\r\n    }\r\n    // Make number morphable\r\n  , morph: function(number) {\r\n      this.destination = new SVG.Number(number)\r\n\r\n      if(number.relative) {\r\n        this.destination.value += this.value\r\n      }\r\n\r\n      return this\r\n    }\r\n    // Get morphed number at given position\r\n  , at: function(pos) {\r\n      // Make sure a destination is defined\r\n      if (!this.destination) return this\r\n\r\n      // Generate new morphed number\r\n      return new SVG.Number(this.destination)\r\n          .minus(this)\r\n          .times(pos)\r\n          .plus(this)\r\n    }\r\n\r\n  }\r\n})\r\n\n\r\nSVG.Element = SVG.invent({\r\n  // Initialize node\r\n  create: function(node) {\r\n    // make stroke value accessible dynamically\r\n    this._stroke = SVG.defaults.attrs.stroke\r\n    this._event = null\r\n    this._events = {}\r\n\r\n    // initialize data object\r\n    this.dom = {}\r\n\r\n    // create circular reference\r\n    if (this.node = node) {\r\n      this.type = node.nodeName\r\n      this.node.instance = this\r\n      this._events = node._events || {}\r\n\r\n      // store current attribute value\r\n      this._stroke = node.getAttribute('stroke') || this._stroke\r\n    }\r\n  }\r\n\r\n  // Add class methods\r\n, extend: {\r\n    // Move over x-axis\r\n    x: function(x) {\r\n      return this.attr('x', x)\r\n    }\r\n    // Move over y-axis\r\n  , y: function(y) {\r\n      return this.attr('y', y)\r\n    }\r\n    // Move by center over x-axis\r\n  , cx: function(x) {\r\n      return x == null ? this.x() + this.width() / 2 : this.x(x - this.width() / 2)\r\n    }\r\n    // Move by center over y-axis\r\n  , cy: function(y) {\r\n      return y == null ? this.y() + this.height() / 2 : this.y(y - this.height() / 2)\r\n    }\r\n    // Move element to given x and y values\r\n  , move: function(x, y) {\r\n      return this.x(x).y(y)\r\n    }\r\n    // Move element by its center\r\n  , center: function(x, y) {\r\n      return this.cx(x).cy(y)\r\n    }\r\n    // Set width of element\r\n  , width: function(width) {\r\n      return this.attr('width', width)\r\n    }\r\n    // Set height of element\r\n  , height: function(height) {\r\n      return this.attr('height', height)\r\n    }\r\n    // Set element size to given width and height\r\n  , size: function(width, height) {\r\n      var p = proportionalSize(this, width, height)\r\n\r\n      return this\r\n        .width(new SVG.Number(p.width))\r\n        .height(new SVG.Number(p.height))\r\n    }\r\n    // Clone element\r\n  , clone: function(parent) {\r\n      // write dom data to the dom so the clone can pickup the data\r\n      this.writeDataToDom()\r\n\r\n      // clone element and assign new id\r\n      var clone = assignNewId(this.node.cloneNode(true))\r\n\r\n      // insert the clone in the given parent or after myself\r\n      if(parent) parent.add(clone)\r\n      else this.after(clone)\r\n\r\n      return clone\r\n    }\r\n    // Remove element\r\n  , remove: function() {\r\n      if (this.parent())\r\n        this.parent().removeElement(this)\r\n\r\n      return this\r\n    }\r\n    // Replace element\r\n  , replace: function(element) {\r\n      this.after(element).remove()\r\n\r\n      return element\r\n    }\r\n    // Add element to given container and return self\r\n  , addTo: function(parent) {\r\n      return parent.put(this)\r\n    }\r\n    // Add element to given container and return container\r\n  , putIn: function(parent) {\r\n      return parent.add(this)\r\n    }\r\n    // Get / set id\r\n  , id: function(id) {\r\n      return this.attr('id', id)\r\n    }\r\n    // Checks whether the given point inside the bounding box of the element\r\n  , inside: function(x, y) {\r\n      var box = this.bbox()\r\n\r\n      return x > box.x\r\n          && y > box.y\r\n          && x < box.x + box.width\r\n          && y < box.y + box.height\r\n    }\r\n    // Show element\r\n  , show: function() {\r\n      return this.style('display', '')\r\n    }\r\n    // Hide element\r\n  , hide: function() {\r\n      return this.style('display', 'none')\r\n    }\r\n    // Is element visible?\r\n  , visible: function() {\r\n      return this.style('display') != 'none'\r\n    }\r\n    // Return id on string conversion\r\n  , toString: function() {\r\n      return this.attr('id')\r\n    }\r\n    // Return array of classes on the node\r\n  , classes: function() {\r\n      var attr = this.attr('class')\r\n\r\n      return attr == null ? [] : attr.trim().split(SVG.regex.delimiter)\r\n    }\r\n    // Return true if class exists on the node, false otherwise\r\n  , hasClass: function(name) {\r\n      return this.classes().indexOf(name) != -1\r\n    }\r\n    // Add class to the node\r\n  , addClass: function(name) {\r\n      if (!this.hasClass(name)) {\r\n        var array = this.classes()\r\n        array.push(name)\r\n        this.attr('class', array.join(' '))\r\n      }\r\n\r\n      return this\r\n    }\r\n    // Remove class from the node\r\n  , removeClass: function(name) {\r\n      if (this.hasClass(name)) {\r\n        this.attr('class', this.classes().filter(function(c) {\r\n          return c != name\r\n        }).join(' '))\r\n      }\r\n\r\n      return this\r\n    }\r\n    // Toggle the presence of a class on the node\r\n  , toggleClass: function(name) {\r\n      return this.hasClass(name) ? this.removeClass(name) : this.addClass(name)\r\n    }\r\n    // Get referenced element form attribute value\r\n  , reference: function(attr) {\r\n      return SVG.get(this.attr(attr))\r\n    }\r\n    // Returns the parent element instance\r\n  , parent: function(type) {\r\n      var parent = this\r\n\r\n      // check for parent\r\n      if(!parent.node.parentNode) return null\r\n\r\n      // get parent element\r\n      parent = SVG.adopt(parent.node.parentNode)\r\n\r\n      if(!type) return parent\r\n\r\n      // loop trough ancestors if type is given\r\n      while(parent && parent.node instanceof window.SVGElement){\r\n        if(typeof type === 'string' ? parent.matches(type) : parent instanceof type) return parent\r\n        if(!parent.node.parentNode || parent.node.parentNode.nodeName == '#document' || parent.node.parentNode.nodeName == '#document-fragment') return null // #759, #720\r\n        parent = SVG.adopt(parent.node.parentNode)\r\n      }\r\n    }\r\n    // Get parent document\r\n  , doc: function() {\r\n      return this instanceof SVG.Doc ? this : this.parent(SVG.Doc)\r\n    }\r\n    // return array of all ancestors of given type up to the root svg\r\n  , parents: function(type) {\r\n      var parents = [], parent = this\r\n\r\n      do{\r\n        parent = parent.parent(type)\r\n        if(!parent || !parent.node) break\r\n\r\n        parents.push(parent)\r\n      } while(parent.parent)\r\n\r\n      return parents\r\n    }\r\n    // matches the element vs a css selector\r\n  , matches: function(selector){\r\n      return matches(this.node, selector)\r\n    }\r\n    // Returns the svg node to call native svg methods on it\r\n  , native: function() {\r\n      return this.node\r\n    }\r\n    // Import raw svg\r\n  , svg: function(svg) {\r\n      // create temporary holder\r\n      var well = document.createElement('svg')\r\n\r\n      // act as a setter if svg is given\r\n      if (svg && this instanceof SVG.Parent) {\r\n        // dump raw svg\r\n        well.innerHTML = '<svg>' + svg.replace(/\\n/, '').replace(/<([\\w:-]+)([^<]+?)\\/>/g, '<$1$2></$1>') + '</svg>'\r\n\r\n        // transplant nodes\r\n        for (var i = 0, il = well.firstChild.childNodes.length; i < il; i++)\r\n          this.node.appendChild(well.firstChild.firstChild)\r\n\r\n      // otherwise act as a getter\r\n      } else {\r\n        // create a wrapping svg element in case of partial content\r\n        well.appendChild(svg = document.createElement('svg'))\r\n\r\n        // write svgjs data to the dom\r\n        this.writeDataToDom()\r\n\r\n        // insert a copy of this node\r\n        svg.appendChild(this.node.cloneNode(true))\r\n\r\n        // return target element\r\n        return well.innerHTML.replace(/^<svg>/, '').replace(/<\\/svg>$/, '')\r\n      }\r\n\r\n      return this\r\n    }\r\n  // write svgjs data to the dom\r\n  , writeDataToDom: function() {\r\n\r\n      // dump variables recursively\r\n      if(this.each || this.lines){\r\n        var fn = this.each ? this : this.lines();\r\n        fn.each(function(){\r\n          this.writeDataToDom()\r\n        })\r\n      }\r\n\r\n      // remove previously set data\r\n      this.node.removeAttribute('svgjs:data')\r\n\r\n      if(Object.keys(this.dom).length)\r\n        this.node.setAttribute('svgjs:data', JSON.stringify(this.dom)) // see #428\r\n\r\n      return this\r\n    }\r\n  // set given data to the elements data property\r\n  , setData: function(o){\r\n      this.dom = o\r\n      return this\r\n    }\r\n  , is: function(obj){\r\n      return is(this, obj)\r\n    }\r\n  }\r\n})\r\n\nSVG.easing = {\r\n  '-': function(pos){return pos}\r\n, '<>':function(pos){return -Math.cos(pos * Math.PI) / 2 + 0.5}\r\n, '>': function(pos){return  Math.sin(pos * Math.PI / 2)}\r\n, '<': function(pos){return -Math.cos(pos * Math.PI / 2) + 1}\r\n}\r\n\r\nSVG.morph = function(pos){\r\n  return function(from, to) {\r\n    return new SVG.MorphObj(from, to).at(pos)\r\n  }\r\n}\r\n\r\nSVG.Situation = SVG.invent({\r\n\r\n  create: function(o){\r\n    this.init = false\r\n    this.reversed = false\r\n    this.reversing = false\r\n\r\n    this.duration = new SVG.Number(o.duration).valueOf()\r\n    this.delay = new SVG.Number(o.delay).valueOf()\r\n\r\n    this.start = +new Date() + this.delay\r\n    this.finish = this.start + this.duration\r\n    this.ease = o.ease\r\n\r\n    // this.loop is incremented from 0 to this.loops\r\n    // it is also incremented when in an infinite loop (when this.loops is true)\r\n    this.loop = 0\r\n    this.loops = false\r\n\r\n    this.animations = {\r\n      // functionToCall: [list of morphable objects]\r\n      // e.g. move: [SVG.Number, SVG.Number]\r\n    }\r\n\r\n    this.attrs = {\r\n      // holds all attributes which are not represented from a function svg.js provides\r\n      // e.g. someAttr: SVG.Number\r\n    }\r\n\r\n    this.styles = {\r\n      // holds all styles which should be animated\r\n      // e.g. fill-color: SVG.Color\r\n    }\r\n\r\n    this.transforms = [\r\n      // holds all transformations as transformation objects\r\n      // e.g. [SVG.Rotate, SVG.Translate, SVG.Matrix]\r\n    ]\r\n\r\n    this.once = {\r\n      // functions to fire at a specific position\r\n      // e.g. \"0.5\": function foo(){}\r\n    }\r\n\r\n  }\r\n\r\n})\r\n\r\n\r\nSVG.FX = SVG.invent({\r\n\r\n  create: function(element) {\r\n    this._target = element\r\n    this.situations = []\r\n    this.active = false\r\n    this.situation = null\r\n    this.paused = false\r\n    this.lastPos = 0\r\n    this.pos = 0\r\n    // The absolute position of an animation is its position in the context of its complete duration (including delay and loops)\r\n    // When performing a delay, absPos is below 0 and when performing a loop, its value is above 1\r\n    this.absPos = 0\r\n    this._speed = 1\r\n  }\r\n\r\n, extend: {\r\n\r\n    /**\r\n     * sets or returns the target of this animation\r\n     * @param o object || number In case of Object it holds all parameters. In case of number its the duration of the animation\r\n     * @param ease function || string Function which should be used for easing or easing keyword\r\n     * @param delay Number indicating the delay before the animation starts\r\n     * @return target || this\r\n     */\r\n    animate: function(o, ease, delay){\r\n\r\n      if(typeof o == 'object'){\r\n        ease = o.ease\r\n        delay = o.delay\r\n        o = o.duration\r\n      }\r\n\r\n      var situation = new SVG.Situation({\r\n        duration: o || 1000,\r\n        delay: delay || 0,\r\n        ease: SVG.easing[ease || '-'] || ease\r\n      })\r\n\r\n      this.queue(situation)\r\n\r\n      return this\r\n    }\r\n\r\n    /**\r\n     * sets a delay before the next element of the queue is called\r\n     * @param delay Duration of delay in milliseconds\r\n     * @return this.target()\r\n     */\r\n  , delay: function(delay){\r\n      // The delay is performed by an empty situation with its duration\r\n      // attribute set to the duration of the delay\r\n      var situation = new SVG.Situation({\r\n        duration: delay,\r\n        delay: 0,\r\n        ease: SVG.easing['-']\r\n      })\r\n\r\n      return this.queue(situation)\r\n    }\r\n\r\n    /**\r\n     * sets or returns the target of this animation\r\n     * @param null || target SVG.Element which should be set as new target\r\n     * @return target || this\r\n     */\r\n  , target: function(target){\r\n      if(target && target instanceof SVG.Element){\r\n        this._target = target\r\n        return this\r\n      }\r\n\r\n      return this._target\r\n    }\r\n\r\n    // returns the absolute position at a given time\r\n  , timeToAbsPos: function(timestamp){\r\n      return (timestamp - this.situation.start) / (this.situation.duration/this._speed)\r\n    }\r\n\r\n    // returns the timestamp from a given absolute positon\r\n  , absPosToTime: function(absPos){\r\n      return this.situation.duration/this._speed * absPos + this.situation.start\r\n    }\r\n\r\n    // starts the animationloop\r\n  , startAnimFrame: function(){\r\n      this.stopAnimFrame()\r\n      this.animationFrame = window.requestAnimationFrame(function(){ this.step() }.bind(this))\r\n    }\r\n\r\n    // cancels the animationframe\r\n  , stopAnimFrame: function(){\r\n      window.cancelAnimationFrame(this.animationFrame)\r\n    }\r\n\r\n    // kicks off the animation - only does something when the queue is currently not active and at least one situation is set\r\n  , start: function(){\r\n      // dont start if already started\r\n      if(!this.active && this.situation){\r\n        this.active = true\r\n        this.startCurrent()\r\n      }\r\n\r\n      return this\r\n    }\r\n\r\n    // start the current situation\r\n  , startCurrent: function(){\r\n      this.situation.start = +new Date + this.situation.delay/this._speed\r\n      this.situation.finish = this.situation.start + this.situation.duration/this._speed\r\n      return this.initAnimations().step()\r\n    }\r\n\r\n    /**\r\n     * adds a function / Situation to the animation queue\r\n     * @param fn function / situation to add\r\n     * @return this\r\n     */\r\n  , queue: function(fn){\r\n      if(typeof fn == 'function' || fn instanceof SVG.Situation)\r\n        this.situations.push(fn)\r\n\r\n      if(!this.situation) this.situation = this.situations.shift()\r\n\r\n      return this\r\n    }\r\n\r\n    /**\r\n     * pulls next element from the queue and execute it\r\n     * @return this\r\n     */\r\n  , dequeue: function(){\r\n      // stop current animation\r\n      this.stop()\r\n\r\n      // get next animation from queue\r\n      this.situation = this.situations.shift()\r\n\r\n      if(this.situation){\r\n        if(this.situation instanceof SVG.Situation) {\r\n          this.start()\r\n        } else {\r\n          // If it is not a SVG.Situation, then it is a function, we execute it\r\n          this.situation.call(this)\r\n        }\r\n      }\r\n\r\n      return this\r\n    }\r\n\r\n    // updates all animations to the current state of the element\r\n    // this is important when one property could be changed from another property\r\n  , initAnimations: function() {\r\n      var i, j, source\r\n      var s = this.situation\r\n\r\n      if(s.init) return this\r\n\r\n      for(i in s.animations){\r\n        source = this.target()[i]()\r\n\r\n        if(!Array.isArray(source)) {\r\n          source = [source]\r\n        }\r\n\r\n        if(!Array.isArray(s.animations[i])) {\r\n          s.animations[i] = [s.animations[i]]\r\n        }\r\n\r\n        //if(s.animations[i].length > source.length) {\r\n        //  source.concat = source.concat(s.animations[i].slice(source.length, s.animations[i].length))\r\n        //}\r\n\r\n        for(j = source.length; j--;) {\r\n          // The condition is because some methods return a normal number instead\r\n          // of a SVG.Number\r\n          if(s.animations[i][j] instanceof SVG.Number)\r\n            source[j] = new SVG.Number(source[j])\r\n\r\n          s.animations[i][j] = source[j].morph(s.animations[i][j])\r\n        }\r\n      }\r\n\r\n      for(i in s.attrs){\r\n        s.attrs[i] = new SVG.MorphObj(this.target().attr(i), s.attrs[i])\r\n      }\r\n\r\n      for(i in s.styles){\r\n        s.styles[i] = new SVG.MorphObj(this.target().style(i), s.styles[i])\r\n      }\r\n\r\n      s.initialTransformation = this.target().matrixify()\r\n\r\n      s.init = true\r\n      return this\r\n    }\r\n  , clearQueue: function(){\r\n      this.situations = []\r\n      return this\r\n    }\r\n  , clearCurrent: function(){\r\n      this.situation = null\r\n      return this\r\n    }\r\n    /** stops the animation immediately\r\n     * @param jumpToEnd A Boolean indicating whether to complete the current animation immediately.\r\n     * @param clearQueue A Boolean indicating whether to remove queued animation as well.\r\n     * @return this\r\n     */\r\n  , stop: function(jumpToEnd, clearQueue){\r\n      var active = this.active\r\n      this.active = false\r\n\r\n      if(clearQueue){\r\n        this.clearQueue()\r\n      }\r\n\r\n      if(jumpToEnd && this.situation){\r\n        // initialize the situation if it was not\r\n        !active && this.startCurrent()\r\n        this.atEnd()\r\n      }\r\n\r\n      this.stopAnimFrame()\r\n\r\n      return this.clearCurrent()\r\n    }\r\n\r\n    /** resets the element to the state where the current element has started\r\n     * @return this\r\n     */\r\n  , reset: function(){\r\n      if(this.situation){\r\n        var temp = this.situation\r\n        this.stop()\r\n        this.situation = temp\r\n        this.atStart()\r\n      }\r\n      return this\r\n    }\r\n\r\n    // Stop the currently-running animation, remove all queued animations, and complete all animations for the element.\r\n  , finish: function(){\r\n\r\n      this.stop(true, false)\r\n\r\n      while(this.dequeue().situation && this.stop(true, false));\r\n\r\n      this.clearQueue().clearCurrent()\r\n\r\n      return this\r\n    }\r\n\r\n    // set the internal animation pointer at the start position, before any loops, and updates the visualisation\r\n  , atStart: function() {\r\n      return this.at(0, true)\r\n    }\r\n\r\n    // set the internal animation pointer at the end position, after all the loops, and updates the visualisation\r\n  , atEnd: function() {\r\n      if (this.situation.loops === true) {\r\n        // If in a infinite loop, we end the current iteration\r\n        this.situation.loops = this.situation.loop + 1\r\n      }\r\n\r\n      if(typeof this.situation.loops == 'number') {\r\n        // If performing a finite number of loops, we go after all the loops\r\n        return this.at(this.situation.loops, true)\r\n      } else {\r\n        // If no loops, we just go at the end\r\n        return this.at(1, true)\r\n      }\r\n    }\r\n\r\n    // set the internal animation pointer to the specified position and updates the visualisation\r\n    // if isAbsPos is true, pos is treated as an absolute position\r\n  , at: function(pos, isAbsPos){\r\n      var durDivSpd = this.situation.duration/this._speed\r\n\r\n      this.absPos = pos\r\n      // If pos is not an absolute position, we convert it into one\r\n      if (!isAbsPos) {\r\n        if (this.situation.reversed) this.absPos = 1 - this.absPos\r\n        this.absPos += this.situation.loop\r\n      }\r\n\r\n      this.situation.start = +new Date - this.absPos * durDivSpd\r\n      this.situation.finish = this.situation.start + durDivSpd\r\n\r\n      return this.step(true)\r\n    }\r\n\r\n    /**\r\n     * sets or returns the speed of the animations\r\n     * @param speed null || Number The new speed of the animations\r\n     * @return Number || this\r\n     */\r\n  , speed: function(speed){\r\n      if (speed === 0) return this.pause()\r\n\r\n      if (speed) {\r\n        this._speed = speed\r\n        // We use an absolute position here so that speed can affect the delay before the animation\r\n        return this.at(this.absPos, true)\r\n      } else return this._speed\r\n    }\r\n\r\n    // Make loopable\r\n  , loop: function(times, reverse) {\r\n      var c = this.last()\r\n\r\n      // store total loops\r\n      c.loops = (times != null) ? times : true\r\n      c.loop = 0\r\n\r\n      if(reverse) c.reversing = true\r\n      return this\r\n    }\r\n\r\n    // pauses the animation\r\n  , pause: function(){\r\n      this.paused = true\r\n      this.stopAnimFrame()\r\n\r\n      return this\r\n    }\r\n\r\n    // unpause the animation\r\n  , play: function(){\r\n      if(!this.paused) return this\r\n      this.paused = false\r\n      // We use an absolute position here so that the delay before the animation can be paused\r\n      return this.at(this.absPos, true)\r\n    }\r\n\r\n    /**\r\n     * toggle or set the direction of the animation\r\n     * true sets direction to backwards while false sets it to forwards\r\n     * @param reversed Boolean indicating whether to reverse the animation or not (default: toggle the reverse status)\r\n     * @return this\r\n     */\r\n  , reverse: function(reversed){\r\n      var c = this.last()\r\n\r\n      if(typeof reversed == 'undefined') c.reversed = !c.reversed\r\n      else c.reversed = reversed\r\n\r\n      return this\r\n    }\r\n\r\n\r\n    /**\r\n     * returns a float from 0-1 indicating the progress of the current animation\r\n     * @param eased Boolean indicating whether the returned position should be eased or not\r\n     * @return number\r\n     */\r\n  , progress: function(easeIt){\r\n      return easeIt ? this.situation.ease(this.pos) : this.pos\r\n    }\r\n\r\n    /**\r\n     * adds a callback function which is called when the current animation is finished\r\n     * @param fn Function which should be executed as callback\r\n     * @return number\r\n     */\r\n  , after: function(fn){\r\n      var c = this.last()\r\n        , wrapper = function wrapper(e){\r\n            if(e.detail.situation == c){\r\n              fn.call(this, c)\r\n              this.off('finished.fx', wrapper) // prevent memory leak\r\n            }\r\n          }\r\n\r\n      this.target().on('finished.fx', wrapper)\r\n\r\n      return this._callStart()\r\n    }\r\n\r\n    // adds a callback which is called whenever one animation step is performed\r\n  , during: function(fn){\r\n      var c = this.last()\r\n        , wrapper = function(e){\r\n            if(e.detail.situation == c){\r\n              fn.call(this, e.detail.pos, SVG.morph(e.detail.pos), e.detail.eased, c)\r\n            }\r\n          }\r\n\r\n      // see above\r\n      this.target().off('during.fx', wrapper).on('during.fx', wrapper)\r\n\r\n      this.after(function(){\r\n        this.off('during.fx', wrapper)\r\n      })\r\n\r\n      return this._callStart()\r\n    }\r\n\r\n    // calls after ALL animations in the queue are finished\r\n  , afterAll: function(fn){\r\n      var wrapper = function wrapper(e){\r\n            fn.call(this)\r\n            this.off('allfinished.fx', wrapper)\r\n          }\r\n\r\n      // see above\r\n      this.target().off('allfinished.fx', wrapper).on('allfinished.fx', wrapper)\r\n\r\n      return this._callStart()\r\n    }\r\n\r\n    // calls on every animation step for all animations\r\n  , duringAll: function(fn){\r\n      var wrapper = function(e){\r\n            fn.call(this, e.detail.pos, SVG.morph(e.detail.pos), e.detail.eased, e.detail.situation)\r\n          }\r\n\r\n      this.target().off('during.fx', wrapper).on('during.fx', wrapper)\r\n\r\n      this.afterAll(function(){\r\n        this.off('during.fx', wrapper)\r\n      })\r\n\r\n      return this._callStart()\r\n    }\r\n\r\n  , last: function(){\r\n      return this.situations.length ? this.situations[this.situations.length-1] : this.situation\r\n    }\r\n\r\n    // adds one property to the animations\r\n  , add: function(method, args, type){\r\n      this.last()[type || 'animations'][method] = args\r\n      return this._callStart()\r\n    }\r\n\r\n    /** perform one step of the animation\r\n     *  @param ignoreTime Boolean indicating whether to ignore time and use position directly or recalculate position based on time\r\n     *  @return this\r\n     */\r\n  , step: function(ignoreTime){\r\n\r\n      // convert current time to an absolute position\r\n      if(!ignoreTime) this.absPos = this.timeToAbsPos(+new Date)\r\n\r\n      // This part convert an absolute position to a position\r\n      if(this.situation.loops !== false) {\r\n        var absPos, absPosInt, lastLoop\r\n\r\n        // If the absolute position is below 0, we just treat it as if it was 0\r\n        absPos = Math.max(this.absPos, 0)\r\n        absPosInt = Math.floor(absPos)\r\n\r\n        if(this.situation.loops === true || absPosInt < this.situation.loops) {\r\n          this.pos = absPos - absPosInt\r\n          lastLoop = this.situation.loop\r\n          this.situation.loop = absPosInt\r\n        } else {\r\n          this.absPos = this.situation.loops\r\n          this.pos = 1\r\n          // The -1 here is because we don't want to toggle reversed when all the loops have been completed\r\n          lastLoop = this.situation.loop - 1\r\n          this.situation.loop = this.situation.loops\r\n        }\r\n\r\n        if(this.situation.reversing) {\r\n          // Toggle reversed if an odd number of loops as occured since the last call of step\r\n          this.situation.reversed = this.situation.reversed != Boolean((this.situation.loop - lastLoop) % 2)\r\n        }\r\n\r\n      } else {\r\n        // If there are no loop, the absolute position must not be above 1\r\n        this.absPos = Math.min(this.absPos, 1)\r\n        this.pos = this.absPos\r\n      }\r\n\r\n      // while the absolute position can be below 0, the position must not be below 0\r\n      if(this.pos < 0) this.pos = 0\r\n\r\n      if(this.situation.reversed) this.pos = 1 - this.pos\r\n\r\n\r\n      // apply easing\r\n      var eased = this.situation.ease(this.pos)\r\n\r\n      // call once-callbacks\r\n      for(var i in this.situation.once){\r\n        if(i > this.lastPos && i <= eased){\r\n          this.situation.once[i].call(this.target(), this.pos, eased)\r\n          delete this.situation.once[i]\r\n        }\r\n      }\r\n\r\n      // fire during callback with position, eased position and current situation as parameter\r\n      if(this.active) this.target().fire('during', {pos: this.pos, eased: eased, fx: this, situation: this.situation})\r\n\r\n      // the user may call stop or finish in the during callback\r\n      // so make sure that we still have a valid situation\r\n      if(!this.situation){\r\n        return this\r\n      }\r\n\r\n      // apply the actual animation to every property\r\n      this.eachAt()\r\n\r\n      // do final code when situation is finished\r\n      if((this.pos == 1 && !this.situation.reversed) || (this.situation.reversed && this.pos == 0)){\r\n\r\n        // stop animation callback\r\n        this.stopAnimFrame()\r\n\r\n        // fire finished callback with current situation as parameter\r\n        this.target().fire('finished', {fx:this, situation: this.situation})\r\n\r\n        if(!this.situations.length){\r\n          this.target().fire('allfinished')\r\n\r\n          // Recheck the length since the user may call animate in the afterAll callback\r\n          if(!this.situations.length){\r\n            this.target().off('.fx') // there shouldnt be any binding left, but to make sure...\r\n            this.active = false\r\n          }\r\n        }\r\n\r\n        // start next animation\r\n        if(this.active) this.dequeue()\r\n        else this.clearCurrent()\r\n\r\n      }else if(!this.paused && this.active){\r\n        // we continue animating when we are not at the end\r\n        this.startAnimFrame()\r\n      }\r\n\r\n      // save last eased position for once callback triggering\r\n      this.lastPos = eased\r\n      return this\r\n\r\n    }\r\n\r\n    // calculates the step for every property and calls block with it\r\n  , eachAt: function(){\r\n      var i, len, at, self = this, target = this.target(), s = this.situation\r\n\r\n      // apply animations which can be called trough a method\r\n      for(i in s.animations){\r\n\r\n        at = [].concat(s.animations[i]).map(function(el){\r\n          return typeof el !== 'string' && el.at ? el.at(s.ease(self.pos), self.pos) : el\r\n        })\r\n\r\n        target[i].apply(target, at)\r\n\r\n      }\r\n\r\n      // apply animation which has to be applied with attr()\r\n      for(i in s.attrs){\r\n\r\n        at = [i].concat(s.attrs[i]).map(function(el){\r\n          return typeof el !== 'string' && el.at ? el.at(s.ease(self.pos), self.pos) : el\r\n        })\r\n\r\n        target.attr.apply(target, at)\r\n\r\n      }\r\n\r\n      // apply animation which has to be applied with style()\r\n      for(i in s.styles){\r\n\r\n        at = [i].concat(s.styles[i]).map(function(el){\r\n          return typeof el !== 'string' && el.at ? el.at(s.ease(self.pos), self.pos) : el\r\n        })\r\n\r\n        target.style.apply(target, at)\r\n\r\n      }\r\n\r\n      // animate initialTransformation which has to be chained\r\n      if(s.transforms.length){\r\n\r\n        // get initial initialTransformation\r\n        at = s.initialTransformation\r\n        for(i = 0, len = s.transforms.length; i < len; i++){\r\n\r\n          // get next transformation in chain\r\n          var a = s.transforms[i]\r\n\r\n          // multiply matrix directly\r\n          if(a instanceof SVG.Matrix){\r\n\r\n            if(a.relative){\r\n              at = at.multiply(new SVG.Matrix().morph(a).at(s.ease(this.pos)))\r\n            }else{\r\n              at = at.morph(a).at(s.ease(this.pos))\r\n            }\r\n            continue\r\n          }\r\n\r\n          // when transformation is absolute we have to reset the needed transformation first\r\n          if(!a.relative)\r\n            a.undo(at.extract())\r\n\r\n          // and reapply it after\r\n          at = at.multiply(a.at(s.ease(this.pos)))\r\n\r\n        }\r\n\r\n        // set new matrix on element\r\n        target.matrix(at)\r\n      }\r\n\r\n      return this\r\n\r\n    }\r\n\r\n\r\n    // adds an once-callback which is called at a specific position and never again\r\n  , once: function(pos, fn, isEased){\r\n      var c = this.last()\r\n      if(!isEased) pos = c.ease(pos)\r\n\r\n      c.once[pos] = fn\r\n\r\n      return this\r\n    }\r\n\r\n  , _callStart: function() {\r\n      setTimeout(function(){this.start()}.bind(this), 0)\r\n      return this\r\n    }\r\n\r\n  }\r\n\r\n, parent: SVG.Element\r\n\r\n  // Add method to parent elements\r\n, construct: {\r\n    // Get fx module or create a new one, then animate with given duration and ease\r\n    animate: function(o, ease, delay) {\r\n      return (this.fx || (this.fx = new SVG.FX(this))).animate(o, ease, delay)\r\n    }\r\n  , delay: function(delay){\r\n      return (this.fx || (this.fx = new SVG.FX(this))).delay(delay)\r\n    }\r\n  , stop: function(jumpToEnd, clearQueue) {\r\n      if (this.fx)\r\n        this.fx.stop(jumpToEnd, clearQueue)\r\n\r\n      return this\r\n    }\r\n  , finish: function() {\r\n      if (this.fx)\r\n        this.fx.finish()\r\n\r\n      return this\r\n    }\r\n    // Pause current animation\r\n  , pause: function() {\r\n      if (this.fx)\r\n        this.fx.pause()\r\n\r\n      return this\r\n    }\r\n    // Play paused current animation\r\n  , play: function() {\r\n      if (this.fx)\r\n        this.fx.play()\r\n\r\n      return this\r\n    }\r\n    // Set/Get the speed of the animations\r\n  , speed: function(speed) {\r\n      if (this.fx)\r\n        if (speed == null)\r\n          return this.fx.speed()\r\n        else\r\n          this.fx.speed(speed)\r\n\r\n      return this\r\n    }\r\n  }\r\n\r\n})\r\n\r\n// MorphObj is used whenever no morphable object is given\r\nSVG.MorphObj = SVG.invent({\r\n\r\n  create: function(from, to){\r\n    // prepare color for morphing\r\n    if(SVG.Color.isColor(to)) return new SVG.Color(from).morph(to)\r\n    // check if we have a list of values\r\n    if(SVG.regex.delimiter.test(from)) {\r\n      // prepare path for morphing\r\n      if(SVG.regex.pathLetters.test(from)) return new SVG.PathArray(from).morph(to)\r\n      // prepare value list for morphing\r\n      else return new SVG.Array(from).morph(to)\r\n    }\r\n    // prepare number for morphing\r\n    if(SVG.regex.numberAndUnit.test(to)) return new SVG.Number(from).morph(to)\r\n\r\n    // prepare for plain morphing\r\n    this.value = from\r\n    this.destination = to\r\n  }\r\n\r\n, extend: {\r\n    at: function(pos, real){\r\n      return real < 1 ? this.value : this.destination\r\n    },\r\n\r\n    valueOf: function(){\r\n      return this.value\r\n    }\r\n  }\r\n\r\n})\r\n\r\nSVG.extend(SVG.FX, {\r\n  // Add animatable attributes\r\n  attr: function(a, v, relative) {\r\n    // apply attributes individually\r\n    if (typeof a == 'object') {\r\n      for (var key in a)\r\n        this.attr(key, a[key])\r\n\r\n    } else {\r\n      this.add(a, v, 'attrs')\r\n    }\r\n\r\n    return this\r\n  }\r\n  // Add animatable styles\r\n, style: function(s, v) {\r\n    if (typeof s == 'object')\r\n      for (var key in s)\r\n        this.style(key, s[key])\r\n\r\n    else\r\n      this.add(s, v, 'styles')\r\n\r\n    return this\r\n  }\r\n  // Animatable x-axis\r\n, x: function(x, relative) {\r\n    if(this.target() instanceof SVG.G){\r\n      this.transform({x:x}, relative)\r\n      return this\r\n    }\r\n\r\n    var num = new SVG.Number(x)\r\n    num.relative = relative\r\n    return this.add('x', num)\r\n  }\r\n  // Animatable y-axis\r\n, y: function(y, relative) {\r\n    if(this.target() instanceof SVG.G){\r\n      this.transform({y:y}, relative)\r\n      return this\r\n    }\r\n\r\n    var num = new SVG.Number(y)\r\n    num.relative = relative\r\n    return this.add('y', num)\r\n  }\r\n  // Animatable center x-axis\r\n, cx: function(x) {\r\n    return this.add('cx', new SVG.Number(x))\r\n  }\r\n  // Animatable center y-axis\r\n, cy: function(y) {\r\n    return this.add('cy', new SVG.Number(y))\r\n  }\r\n  // Add animatable move\r\n, move: function(x, y) {\r\n    return this.x(x).y(y)\r\n  }\r\n  // Add animatable center\r\n, center: function(x, y) {\r\n    return this.cx(x).cy(y)\r\n  }\r\n  // Add animatable size\r\n, size: function(width, height) {\r\n    if (this.target() instanceof SVG.Text) {\r\n      // animate font size for Text elements\r\n      this.attr('font-size', width)\r\n\r\n    } else {\r\n      // animate bbox based size for all other elements\r\n      var box\r\n\r\n      if(!width || !height){\r\n        box = this.target().bbox()\r\n      }\r\n\r\n      if(!width){\r\n        width = box.width / box.height  * height\r\n      }\r\n\r\n      if(!height){\r\n        height = box.height / box.width  * width\r\n      }\r\n\r\n      this.add('width' , new SVG.Number(width))\r\n          .add('height', new SVG.Number(height))\r\n\r\n    }\r\n\r\n    return this\r\n  }\r\n  // Add animatable width\r\n, width: function(width) {\r\n    return this.add('width', new SVG.Number(width))\r\n  }\r\n  // Add animatable height\r\n, height: function(height) {\r\n    return this.add('height', new SVG.Number(height))\r\n  }\r\n  // Add animatable plot\r\n, plot: function(a, b, c, d) {\r\n    // Lines can be plotted with 4 arguments\r\n    if(arguments.length == 4) {\r\n      return this.plot([a, b, c, d])\r\n    }\r\n\r\n    return this.add('plot', new (this.target().morphArray)(a))\r\n  }\r\n  // Add leading method\r\n, leading: function(value) {\r\n    return this.target().leading ?\r\n      this.add('leading', new SVG.Number(value)) :\r\n      this\r\n  }\r\n  // Add animatable viewbox\r\n, viewbox: function(x, y, width, height) {\r\n    if (this.target() instanceof SVG.Container) {\r\n      this.add('viewbox', new SVG.ViewBox(x, y, width, height))\r\n    }\r\n\r\n    return this\r\n  }\r\n, update: function(o) {\r\n    if (this.target() instanceof SVG.Stop) {\r\n      if (typeof o == 'number' || o instanceof SVG.Number) {\r\n        return this.update({\r\n          offset:  arguments[0]\r\n        , color:   arguments[1]\r\n        , opacity: arguments[2]\r\n        })\r\n      }\r\n\r\n      if (o.opacity != null) this.attr('stop-opacity', o.opacity)\r\n      if (o.color   != null) this.attr('stop-color', o.color)\r\n      if (o.offset  != null) this.attr('offset', o.offset)\r\n    }\r\n\r\n    return this\r\n  }\r\n})\r\n\nSVG.Box = SVG.invent({\r\n  create: function(x, y, width, height) {\r\n    if (typeof x == 'object' && !(x instanceof SVG.Element)) {\r\n      // chromes getBoundingClientRect has no x and y property\r\n      return SVG.Box.call(this, x.left != null ? x.left : x.x , x.top != null ? x.top : x.y, x.width, x.height)\r\n    } else if (arguments.length == 4) {\r\n      this.x = x\r\n      this.y = y\r\n      this.width = width\r\n      this.height = height\r\n    }\r\n\r\n    // add center, right, bottom...\r\n    fullBox(this)\r\n  }\r\n, extend: {\r\n    // Merge rect box with another, return a new instance\r\n    merge: function(box) {\r\n      var b = new this.constructor()\r\n\r\n      // merge boxes\r\n      b.x      = Math.min(this.x, box.x)\r\n      b.y      = Math.min(this.y, box.y)\r\n      b.width  = Math.max(this.x + this.width,  box.x + box.width)  - b.x\r\n      b.height = Math.max(this.y + this.height, box.y + box.height) - b.y\r\n\r\n      return fullBox(b)\r\n    }\r\n\r\n  , transform: function(m) {\r\n      var xMin = Infinity, xMax = -Infinity, yMin = Infinity, yMax = -Infinity, p, bbox\r\n\r\n      var pts = [\r\n        new SVG.Point(this.x, this.y),\r\n        new SVG.Point(this.x2, this.y),\r\n        new SVG.Point(this.x, this.y2),\r\n        new SVG.Point(this.x2, this.y2)\r\n      ]\r\n\r\n      pts.forEach(function(p) {\r\n        p = p.transform(m)\r\n        xMin = Math.min(xMin,p.x)\r\n        xMax = Math.max(xMax,p.x)\r\n        yMin = Math.min(yMin,p.y)\r\n        yMax = Math.max(yMax,p.y)\r\n      })\r\n\r\n      bbox = new this.constructor()\r\n      bbox.x = xMin\r\n      bbox.width = xMax-xMin\r\n      bbox.y = yMin\r\n      bbox.height = yMax-yMin\r\n\r\n      fullBox(bbox)\r\n\r\n      return bbox\r\n    }\r\n  }\r\n})\r\n\r\nSVG.BBox = SVG.invent({\r\n  // Initialize\r\n  create: function(element) {\r\n    SVG.Box.apply(this, [].slice.call(arguments))\r\n\r\n    // get values if element is given\r\n    if (element instanceof SVG.Element) {\r\n      var box\r\n\r\n      // yes this is ugly, but Firefox can be a pain when it comes to elements that are not yet rendered\r\n      try {\r\n\r\n        if (!document.documentElement.contains){\r\n          // This is IE - it does not support contains() for top-level SVGs\r\n          var topParent = element.node\r\n          while (topParent.parentNode){\r\n            topParent = topParent.parentNode\r\n          }\r\n          if (topParent != document) throw new Exception('Element not in the dom')\r\n        } else {\r\n          // the element is NOT in the dom, throw error\r\n          if(!document.documentElement.contains(element.node)) throw new Exception('Element not in the dom')\r\n        }\r\n\r\n        // find native bbox\r\n        box = element.node.getBBox()\r\n      } catch(e) {\r\n        if(element instanceof SVG.Shape){\r\n          var clone = element.clone(SVG.parser.draw.instance).show()\r\n          box = clone.node.getBBox()\r\n          clone.remove()\r\n        }else{\r\n          box = {\r\n            x:      element.node.clientLeft\r\n          , y:      element.node.clientTop\r\n          , width:  element.node.clientWidth\r\n          , height: element.node.clientHeight\r\n          }\r\n        }\r\n      }\r\n\r\n      SVG.Box.call(this, box)\r\n    }\r\n\r\n  }\r\n\r\n  // Define ancestor\r\n, inherit: SVG.Box\r\n\r\n  // Define Parent\r\n, parent: SVG.Element\r\n\r\n  // Constructor\r\n, construct: {\r\n    // Get bounding box\r\n    bbox: function() {\r\n      return new SVG.BBox(this)\r\n    }\r\n  }\r\n\r\n})\r\n\r\nSVG.BBox.prototype.constructor = SVG.BBox\r\n\r\n\r\nSVG.extend(SVG.Element, {\r\n  tbox: function(){\r\n    console.warn('Use of TBox is deprecated and mapped to RBox. Use .rbox() instead.')\r\n    return this.rbox(this.doc())\r\n  }\r\n})\r\n\r\nSVG.RBox = SVG.invent({\r\n  // Initialize\r\n  create: function(element) {\r\n    SVG.Box.apply(this, [].slice.call(arguments))\r\n\r\n    if (element instanceof SVG.Element) {\r\n      SVG.Box.call(this, element.node.getBoundingClientRect())\r\n    }\r\n  }\r\n\r\n, inherit: SVG.Box\r\n\r\n  // define Parent\r\n, parent: SVG.Element\r\n\r\n, extend: {\r\n    addOffset: function() {\r\n      // offset by window scroll position, because getBoundingClientRect changes when window is scrolled\r\n      this.x += window.pageXOffset\r\n      this.y += window.pageYOffset\r\n      return this\r\n    }\r\n  }\r\n\r\n  // Constructor\r\n, construct: {\r\n    // Get rect box\r\n    rbox: function(el) {\r\n      if (el) return new SVG.RBox(this).transform(el.screenCTM().inverse())\r\n      return new SVG.RBox(this).addOffset()\r\n    }\r\n  }\r\n\r\n})\r\n\r\nSVG.RBox.prototype.constructor = SVG.RBox\r\n\nSVG.Matrix = SVG.invent({\r\n  // Initialize\r\n  create: function(source) {\r\n    var i, base = arrayToMatrix([1, 0, 0, 1, 0, 0])\r\n\r\n    // ensure source as object\r\n    source = source instanceof SVG.Element ?\r\n      source.matrixify() :\r\n    typeof source === 'string' ?\r\n      arrayToMatrix(source.split(SVG.regex.delimiter).map(parseFloat)) :\r\n    arguments.length == 6 ?\r\n      arrayToMatrix([].slice.call(arguments)) :\r\n    Array.isArray(source) ?\r\n      arrayToMatrix(source) :\r\n    typeof source === 'object' ?\r\n      source : base\r\n\r\n    // merge source\r\n    for (i = abcdef.length - 1; i >= 0; --i)\r\n      this[abcdef[i]] = source[abcdef[i]] != null ?\r\n        source[abcdef[i]] : base[abcdef[i]]\r\n  }\r\n\r\n  // Add methods\r\n, extend: {\r\n    // Extract individual transformations\r\n    extract: function() {\r\n      // find delta transform points\r\n      var px    = deltaTransformPoint(this, 0, 1)\r\n        , py    = deltaTransformPoint(this, 1, 0)\r\n        , skewX = 180 / Math.PI * Math.atan2(px.y, px.x) - 90\r\n\r\n      return {\r\n        // translation\r\n        x:        this.e\r\n      , y:        this.f\r\n      , transformedX:(this.e * Math.cos(skewX * Math.PI / 180) + this.f * Math.sin(skewX * Math.PI / 180)) / Math.sqrt(this.a * this.a + this.b * this.b)\r\n      , transformedY:(this.f * Math.cos(skewX * Math.PI / 180) + this.e * Math.sin(-skewX * Math.PI / 180)) / Math.sqrt(this.c * this.c + this.d * this.d)\r\n        // skew\r\n      , skewX:    -skewX\r\n      , skewY:    180 / Math.PI * Math.atan2(py.y, py.x)\r\n        // scale\r\n      , scaleX:   Math.sqrt(this.a * this.a + this.b * this.b)\r\n      , scaleY:   Math.sqrt(this.c * this.c + this.d * this.d)\r\n        // rotation\r\n      , rotation: skewX\r\n      , a: this.a\r\n      , b: this.b\r\n      , c: this.c\r\n      , d: this.d\r\n      , e: this.e\r\n      , f: this.f\r\n      , matrix: new SVG.Matrix(this)\r\n      }\r\n    }\r\n    // Clone matrix\r\n  , clone: function() {\r\n      return new SVG.Matrix(this)\r\n    }\r\n    // Morph one matrix into another\r\n  , morph: function(matrix) {\r\n      // store new destination\r\n      this.destination = new SVG.Matrix(matrix)\r\n\r\n      return this\r\n    }\r\n    // Get morphed matrix at a given position\r\n  , at: function(pos) {\r\n      // make sure a destination is defined\r\n      if (!this.destination) return this\r\n\r\n      // calculate morphed matrix at a given position\r\n      var matrix = new SVG.Matrix({\r\n        a: this.a + (this.destination.a - this.a) * pos\r\n      , b: this.b + (this.destination.b - this.b) * pos\r\n      , c: this.c + (this.destination.c - this.c) * pos\r\n      , d: this.d + (this.destination.d - this.d) * pos\r\n      , e: this.e + (this.destination.e - this.e) * pos\r\n      , f: this.f + (this.destination.f - this.f) * pos\r\n      })\r\n\r\n      return matrix\r\n    }\r\n    // Multiplies by given matrix\r\n  , multiply: function(matrix) {\r\n      return new SVG.Matrix(this.native().multiply(parseMatrix(matrix).native()))\r\n    }\r\n    // Inverses matrix\r\n  , inverse: function() {\r\n      return new SVG.Matrix(this.native().inverse())\r\n    }\r\n    // Translate matrix\r\n  , translate: function(x, y) {\r\n      return new SVG.Matrix(this.native().translate(x || 0, y || 0))\r\n    }\r\n    // Scale matrix\r\n  , scale: function(x, y, cx, cy) {\r\n      // support uniformal scale\r\n      if (arguments.length == 1) {\r\n        y = x\r\n      } else if (arguments.length == 3) {\r\n        cy = cx\r\n        cx = y\r\n        y = x\r\n      }\r\n\r\n      return this.around(cx, cy, new SVG.Matrix(x, 0, 0, y, 0, 0))\r\n    }\r\n    // Rotate matrix\r\n  , rotate: function(r, cx, cy) {\r\n      // convert degrees to radians\r\n      r = SVG.utils.radians(r)\r\n\r\n      return this.around(cx, cy, new SVG.Matrix(Math.cos(r), Math.sin(r), -Math.sin(r), Math.cos(r), 0, 0))\r\n    }\r\n    // Flip matrix on x or y, at a given offset\r\n  , flip: function(a, o) {\r\n      return a == 'x' ?\r\n          this.scale(-1, 1, o, 0) :\r\n        a == 'y' ?\r\n          this.scale(1, -1, 0, o) :\r\n          this.scale(-1, -1, a, o != null ? o : a)\r\n    }\r\n    // Skew\r\n  , skew: function(x, y, cx, cy) {\r\n      // support uniformal skew\r\n      if (arguments.length == 1) {\r\n        y = x\r\n      } else if (arguments.length == 3) {\r\n        cy = cx\r\n        cx = y\r\n        y = x\r\n      }\r\n\r\n      // convert degrees to radians\r\n      x = SVG.utils.radians(x)\r\n      y = SVG.utils.radians(y)\r\n\r\n      return this.around(cx, cy, new SVG.Matrix(1, Math.tan(y), Math.tan(x), 1, 0, 0))\r\n    }\r\n    // SkewX\r\n  , skewX: function(x, cx, cy) {\r\n      return this.skew(x, 0, cx, cy)\r\n    }\r\n    // SkewY\r\n  , skewY: function(y, cx, cy) {\r\n      return this.skew(0, y, cx, cy)\r\n    }\r\n    // Transform around a center point\r\n  , around: function(cx, cy, matrix) {\r\n      return this\r\n        .multiply(new SVG.Matrix(1, 0, 0, 1, cx || 0, cy || 0))\r\n        .multiply(matrix)\r\n        .multiply(new SVG.Matrix(1, 0, 0, 1, -cx || 0, -cy || 0))\r\n    }\r\n    // Convert to native SVGMatrix\r\n  , native: function() {\r\n      // create new matrix\r\n      var matrix = SVG.parser.native.createSVGMatrix()\r\n\r\n      // update with current values\r\n      for (var i = abcdef.length - 1; i >= 0; i--)\r\n        matrix[abcdef[i]] = this[abcdef[i]]\r\n\r\n      return matrix\r\n    }\r\n    // Convert matrix to string\r\n  , toString: function() {\r\n      // Construct the matrix directly, avoid values that are too small\r\n      return 'matrix(' + float32String(this.a) + ',' + float32String(this.b)\r\n        + ',' + float32String(this.c) + ',' + float32String(this.d)\r\n        + ',' + float32String(this.e) + ',' + float32String(this.f)\r\n        + ')'\r\n    }\r\n  }\r\n\r\n  // Define parent\r\n, parent: SVG.Element\r\n\r\n  // Add parent method\r\n, construct: {\r\n    // Get current matrix\r\n    ctm: function() {\r\n      return new SVG.Matrix(this.node.getCTM())\r\n    },\r\n    // Get current screen matrix\r\n    screenCTM: function() {\r\n      /* https://bugzilla.mozilla.org/show_bug.cgi?id=1344537\r\n         This is needed because FF does not return the transformation matrix\r\n         for the inner coordinate system when getScreenCTM() is called on nested svgs.\r\n         However all other Browsers do that */\r\n      if(this instanceof SVG.Nested) {\r\n        var rect = this.rect(1,1)\r\n        var m = rect.node.getScreenCTM()\r\n        rect.remove()\r\n        return new SVG.Matrix(m)\r\n      }\r\n      return new SVG.Matrix(this.node.getScreenCTM())\r\n    }\r\n\r\n  }\r\n\r\n})\r\n\nSVG.Point = SVG.invent({\r\n  // Initialize\r\n  create: function(x,y) {\r\n    var i, source, base = {x:0, y:0}\r\n\r\n    // ensure source as object\r\n    source = Array.isArray(x) ?\r\n      {x:x[0], y:x[1]} :\r\n    typeof x === 'object' ?\r\n      {x:x.x, y:x.y} :\r\n    x != null ?\r\n      {x:x, y:(y != null ? y : x)} : base // If y has no value, then x is used has its value\r\n\r\n    // merge source\r\n    this.x = source.x\r\n    this.y = source.y\r\n  }\r\n\r\n  // Add methods\r\n, extend: {\r\n    // Clone point\r\n    clone: function() {\r\n      return new SVG.Point(this)\r\n    }\r\n    // Morph one point into another\r\n  , morph: function(x, y) {\r\n      // store new destination\r\n      this.destination = new SVG.Point(x, y)\r\n\r\n      return this\r\n    }\r\n    // Get morphed point at a given position\r\n  , at: function(pos) {\r\n      // make sure a destination is defined\r\n      if (!this.destination) return this\r\n\r\n      // calculate morphed matrix at a given position\r\n      var point = new SVG.Point({\r\n        x: this.x + (this.destination.x - this.x) * pos\r\n      , y: this.y + (this.destination.y - this.y) * pos\r\n      })\r\n\r\n      return point\r\n    }\r\n    // Convert to native SVGPoint\r\n  , native: function() {\r\n      // create new point\r\n      var point = SVG.parser.native.createSVGPoint()\r\n\r\n      // update with current values\r\n      point.x = this.x\r\n      point.y = this.y\r\n\r\n      return point\r\n    }\r\n    // transform point with matrix\r\n  , transform: function(matrix) {\r\n      return new SVG.Point(this.native().matrixTransform(matrix.native()))\r\n    }\r\n\r\n  }\r\n\r\n})\r\n\r\nSVG.extend(SVG.Element, {\r\n\r\n  // Get point\r\n  point: function(x, y) {\r\n    return new SVG.Point(x,y).transform(this.screenCTM().inverse());\r\n  }\r\n\r\n})\r\n\nSVG.extend(SVG.Element, {\r\n  // Set svg element attribute\r\n  attr: function(a, v, n) {\r\n    // act as full getter\r\n    if (a == null) {\r\n      // get an object of attributes\r\n      a = {}\r\n      v = this.node.attributes\r\n      for (n = v.length - 1; n >= 0; n--)\r\n        a[v[n].nodeName] = SVG.regex.isNumber.test(v[n].nodeValue) ? parseFloat(v[n].nodeValue) : v[n].nodeValue\r\n\r\n      return a\r\n\r\n    } else if (typeof a == 'object') {\r\n      // apply every attribute individually if an object is passed\r\n      for (v in a) this.attr(v, a[v])\r\n\r\n    } else if (v === null) {\r\n        // remove value\r\n        this.node.removeAttribute(a)\r\n\r\n    } else if (v == null) {\r\n      // act as a getter if the first and only argument is not an object\r\n      v = this.node.getAttribute(a)\r\n      return v == null ?\r\n        SVG.defaults.attrs[a] :\r\n      SVG.regex.isNumber.test(v) ?\r\n        parseFloat(v) : v\r\n\r\n    } else {\r\n      // BUG FIX: some browsers will render a stroke if a color is given even though stroke width is 0\r\n      if (a == 'stroke-width')\r\n        this.attr('stroke', parseFloat(v) > 0 ? this._stroke : null)\r\n      else if (a == 'stroke')\r\n        this._stroke = v\r\n\r\n      // convert image fill and stroke to patterns\r\n      if (a == 'fill' || a == 'stroke') {\r\n        if (SVG.regex.isImage.test(v))\r\n          v = this.doc().defs().image(v, 0, 0)\r\n\r\n        if (v instanceof SVG.Image)\r\n          v = this.doc().defs().pattern(0, 0, function() {\r\n            this.add(v)\r\n          })\r\n      }\r\n\r\n      // ensure correct numeric values (also accepts NaN and Infinity)\r\n      if (typeof v === 'number')\r\n        v = new SVG.Number(v)\r\n\r\n      // ensure full hex color\r\n      else if (SVG.Color.isColor(v))\r\n        v = new SVG.Color(v)\r\n\r\n      // parse array values\r\n      else if (Array.isArray(v))\r\n        v = new SVG.Array(v)\r\n\r\n      // if the passed attribute is leading...\r\n      if (a == 'leading') {\r\n        // ... call the leading method instead\r\n        if (this.leading)\r\n          this.leading(v)\r\n      } else {\r\n        // set given attribute on node\r\n        typeof n === 'string' ?\r\n          this.node.setAttributeNS(n, a, v.toString()) :\r\n          this.node.setAttribute(a, v.toString())\r\n      }\r\n\r\n      // rebuild if required\r\n      if (this.rebuild && (a == 'font-size' || a == 'x'))\r\n        this.rebuild(a, v)\r\n    }\r\n\r\n    return this\r\n  }\r\n})\nSVG.extend(SVG.Element, {\r\n  // Add transformations\r\n  transform: function(o, relative) {\r\n    // get target in case of the fx module, otherwise reference this\r\n    var target = this\r\n      , matrix, bbox\r\n\r\n    // act as a getter\r\n    if (typeof o !== 'object') {\r\n      // get current matrix\r\n      matrix = new SVG.Matrix(target).extract()\r\n\r\n      return typeof o === 'string' ? matrix[o] : matrix\r\n    }\r\n\r\n    // get current matrix\r\n    matrix = new SVG.Matrix(target)\r\n\r\n    // ensure relative flag\r\n    relative = !!relative || !!o.relative\r\n\r\n    // act on matrix\r\n    if (o.a != null) {\r\n      matrix = relative ?\r\n        // relative\r\n        matrix.multiply(new SVG.Matrix(o)) :\r\n        // absolute\r\n        new SVG.Matrix(o)\r\n\r\n    // act on rotation\r\n    } else if (o.rotation != null) {\r\n      // ensure centre point\r\n      ensureCentre(o, target)\r\n\r\n      // apply transformation\r\n      matrix = relative ?\r\n        // relative\r\n        matrix.rotate(o.rotation, o.cx, o.cy) :\r\n        // absolute\r\n        matrix.rotate(o.rotation - matrix.extract().rotation, o.cx, o.cy)\r\n\r\n    // act on scale\r\n    } else if (o.scale != null || o.scaleX != null || o.scaleY != null) {\r\n      // ensure centre point\r\n      ensureCentre(o, target)\r\n\r\n      // ensure scale values on both axes\r\n      o.scaleX = o.scale != null ? o.scale : o.scaleX != null ? o.scaleX : 1\r\n      o.scaleY = o.scale != null ? o.scale : o.scaleY != null ? o.scaleY : 1\r\n\r\n      if (!relative) {\r\n        // absolute; multiply inversed values\r\n        var e = matrix.extract()\r\n        o.scaleX = o.scaleX * 1 / e.scaleX\r\n        o.scaleY = o.scaleY * 1 / e.scaleY\r\n      }\r\n\r\n      matrix = matrix.scale(o.scaleX, o.scaleY, o.cx, o.cy)\r\n\r\n    // act on skew\r\n    } else if (o.skew != null || o.skewX != null || o.skewY != null) {\r\n      // ensure centre point\r\n      ensureCentre(o, target)\r\n\r\n      // ensure skew values on both axes\r\n      o.skewX = o.skew != null ? o.skew : o.skewX != null ? o.skewX : 0\r\n      o.skewY = o.skew != null ? o.skew : o.skewY != null ? o.skewY : 0\r\n\r\n      if (!relative) {\r\n        // absolute; reset skew values\r\n        var e = matrix.extract()\r\n        matrix = matrix.multiply(new SVG.Matrix().skew(e.skewX, e.skewY, o.cx, o.cy).inverse())\r\n      }\r\n\r\n      matrix = matrix.skew(o.skewX, o.skewY, o.cx, o.cy)\r\n\r\n    // act on flip\r\n    } else if (o.flip) {\r\n      if(o.flip == 'x' || o.flip == 'y') {\r\n        o.offset = o.offset == null ? target.bbox()['c' + o.flip] : o.offset\r\n      } else {\r\n        if(o.offset == null) {\r\n          bbox = target.bbox()\r\n          o.flip = bbox.cx\r\n          o.offset = bbox.cy\r\n        } else {\r\n          o.flip = o.offset\r\n        }\r\n      }\r\n\r\n      matrix = new SVG.Matrix().flip(o.flip, o.offset)\r\n\r\n    // act on translate\r\n    } else if (o.x != null || o.y != null) {\r\n      if (relative) {\r\n        // relative\r\n        matrix = matrix.translate(o.x, o.y)\r\n      } else {\r\n        // absolute\r\n        if (o.x != null) matrix.e = o.x\r\n        if (o.y != null) matrix.f = o.y\r\n      }\r\n    }\r\n\r\n    return this.attr('transform', matrix)\r\n  }\r\n})\r\n\r\nSVG.extend(SVG.FX, {\r\n  transform: function(o, relative) {\r\n    // get target in case of the fx module, otherwise reference this\r\n    var target = this.target()\r\n      , matrix, bbox\r\n\r\n    // act as a getter\r\n    if (typeof o !== 'object') {\r\n      // get current matrix\r\n      matrix = new SVG.Matrix(target).extract()\r\n\r\n      return typeof o === 'string' ? matrix[o] : matrix\r\n    }\r\n\r\n    // ensure relative flag\r\n    relative = !!relative || !!o.relative\r\n\r\n    // act on matrix\r\n    if (o.a != null) {\r\n      matrix = new SVG.Matrix(o)\r\n\r\n    // act on rotation\r\n    } else if (o.rotation != null) {\r\n      // ensure centre point\r\n      ensureCentre(o, target)\r\n\r\n      // apply transformation\r\n      matrix = new SVG.Rotate(o.rotation, o.cx, o.cy)\r\n\r\n    // act on scale\r\n    } else if (o.scale != null || o.scaleX != null || o.scaleY != null) {\r\n      // ensure centre point\r\n      ensureCentre(o, target)\r\n\r\n      // ensure scale values on both axes\r\n      o.scaleX = o.scale != null ? o.scale : o.scaleX != null ? o.scaleX : 1\r\n      o.scaleY = o.scale != null ? o.scale : o.scaleY != null ? o.scaleY : 1\r\n\r\n      matrix = new SVG.Scale(o.scaleX, o.scaleY, o.cx, o.cy)\r\n\r\n    // act on skew\r\n    } else if (o.skewX != null || o.skewY != null) {\r\n      // ensure centre point\r\n      ensureCentre(o, target)\r\n\r\n      // ensure skew values on both axes\r\n      o.skewX = o.skewX != null ? o.skewX : 0\r\n      o.skewY = o.skewY != null ? o.skewY : 0\r\n\r\n      matrix = new SVG.Skew(o.skewX, o.skewY, o.cx, o.cy)\r\n\r\n    // act on flip\r\n    } else if (o.flip) {\r\n      if(o.flip == 'x' || o.flip == 'y') {\r\n        o.offset = o.offset == null ? target.bbox()['c' + o.flip] : o.offset\r\n      } else {\r\n        if(o.offset == null) {\r\n          bbox = target.bbox()\r\n          o.flip = bbox.cx\r\n          o.offset = bbox.cy\r\n        } else {\r\n          o.flip = o.offset\r\n        }\r\n      }\r\n\r\n      matrix = new SVG.Matrix().flip(o.flip, o.offset)\r\n\r\n    // act on translate\r\n    } else if (o.x != null || o.y != null) {\r\n      matrix = new SVG.Translate(o.x, o.y)\r\n    }\r\n\r\n    if(!matrix) return this\r\n\r\n    matrix.relative = relative\r\n\r\n    this.last().transforms.push(matrix)\r\n\r\n    return this._callStart()\r\n  }\r\n})\r\n\r\nSVG.extend(SVG.Element, {\r\n  // Reset all transformations\r\n  untransform: function() {\r\n    return this.attr('transform', null)\r\n  },\r\n  // merge the whole transformation chain into one matrix and returns it\r\n  matrixify: function() {\r\n\r\n    var matrix = (this.attr('transform') || '')\r\n      // split transformations\r\n      .split(SVG.regex.transforms).slice(0,-1).map(function(str){\r\n        // generate key => value pairs\r\n        var kv = str.trim().split('(')\r\n        return [kv[0], kv[1].split(SVG.regex.delimiter).map(function(str){ return parseFloat(str) })]\r\n      })\r\n      // merge every transformation into one matrix\r\n      .reduce(function(matrix, transform){\r\n\r\n        if(transform[0] == 'matrix') return matrix.multiply(arrayToMatrix(transform[1]))\r\n        return matrix[transform[0]].apply(matrix, transform[1])\r\n\r\n      }, new SVG.Matrix())\r\n\r\n    return matrix\r\n  },\r\n  // add an element to another parent without changing the visual representation on the screen\r\n  toParent: function(parent) {\r\n    if(this == parent) return this\r\n    var ctm = this.screenCTM()\r\n    var pCtm = parent.screenCTM().inverse()\r\n\r\n    this.addTo(parent).untransform().transform(pCtm.multiply(ctm))\r\n\r\n    return this\r\n  },\r\n  // same as above with parent equals root-svg\r\n  toDoc: function() {\r\n    return this.toParent(this.doc())\r\n  }\r\n\r\n})\r\n\r\nSVG.Transformation = SVG.invent({\r\n\r\n  create: function(source, inversed){\r\n\r\n    if(arguments.length > 1 && typeof inversed != 'boolean'){\r\n      return this.constructor.call(this, [].slice.call(arguments))\r\n    }\r\n\r\n    if(Array.isArray(source)){\r\n      for(var i = 0, len = this.arguments.length; i < len; ++i){\r\n        this[this.arguments[i]] = source[i]\r\n      }\r\n    } else if(typeof source == 'object'){\r\n      for(var i = 0, len = this.arguments.length; i < len; ++i){\r\n        this[this.arguments[i]] = source[this.arguments[i]]\r\n      }\r\n    }\r\n\r\n    this.inversed = false\r\n\r\n    if(inversed === true){\r\n      this.inversed = true\r\n    }\r\n\r\n  }\r\n\r\n, extend: {\r\n\r\n    arguments: []\r\n  , method: ''\r\n\r\n  , at: function(pos){\r\n\r\n      var params = []\r\n\r\n      for(var i = 0, len = this.arguments.length; i < len; ++i){\r\n        params.push(this[this.arguments[i]])\r\n      }\r\n\r\n      var m = this._undo || new SVG.Matrix()\r\n\r\n      m = new SVG.Matrix().morph(SVG.Matrix.prototype[this.method].apply(m, params)).at(pos)\r\n\r\n      return this.inversed ? m.inverse() : m\r\n\r\n    }\r\n\r\n  , undo: function(o){\r\n      for(var i = 0, len = this.arguments.length; i < len; ++i){\r\n        o[this.arguments[i]] = typeof this[this.arguments[i]] == 'undefined' ? 0 : o[this.arguments[i]]\r\n      }\r\n\r\n      // The method SVG.Matrix.extract which was used before calling this\r\n      // method to obtain a value for the parameter o doesn't return a cx and\r\n      // a cy so we use the ones that were provided to this object at its creation\r\n      o.cx = this.cx\r\n      o.cy = this.cy\r\n\r\n      this._undo = new SVG[capitalize(this.method)](o, true).at(1)\r\n\r\n      return this\r\n    }\r\n\r\n  }\r\n\r\n})\r\n\r\nSVG.Translate = SVG.invent({\r\n\r\n  parent: SVG.Matrix\r\n, inherit: SVG.Transformation\r\n\r\n, create: function(source, inversed){\r\n    this.constructor.apply(this, [].slice.call(arguments))\r\n  }\r\n\r\n, extend: {\r\n    arguments: ['transformedX', 'transformedY']\r\n  , method: 'translate'\r\n  }\r\n\r\n})\r\n\r\nSVG.Rotate = SVG.invent({\r\n\r\n  parent: SVG.Matrix\r\n, inherit: SVG.Transformation\r\n\r\n, create: function(source, inversed){\r\n    this.constructor.apply(this, [].slice.call(arguments))\r\n  }\r\n\r\n, extend: {\r\n    arguments: ['rotation', 'cx', 'cy']\r\n  , method: 'rotate'\r\n  , at: function(pos){\r\n      var m = new SVG.Matrix().rotate(new SVG.Number().morph(this.rotation - (this._undo ? this._undo.rotation : 0)).at(pos), this.cx, this.cy)\r\n      return this.inversed ? m.inverse() : m\r\n    }\r\n  , undo: function(o){\r\n      this._undo = o\r\n      return this\r\n    }\r\n  }\r\n\r\n})\r\n\r\nSVG.Scale = SVG.invent({\r\n\r\n  parent: SVG.Matrix\r\n, inherit: SVG.Transformation\r\n\r\n, create: function(source, inversed){\r\n    this.constructor.apply(this, [].slice.call(arguments))\r\n  }\r\n\r\n, extend: {\r\n    arguments: ['scaleX', 'scaleY', 'cx', 'cy']\r\n  , method: 'scale'\r\n  }\r\n\r\n})\r\n\r\nSVG.Skew = SVG.invent({\r\n\r\n  parent: SVG.Matrix\r\n, inherit: SVG.Transformation\r\n\r\n, create: function(source, inversed){\r\n    this.constructor.apply(this, [].slice.call(arguments))\r\n  }\r\n\r\n, extend: {\r\n    arguments: ['skewX', 'skewY', 'cx', 'cy']\r\n  , method: 'skew'\r\n  }\r\n\r\n})\r\n\nSVG.extend(SVG.Element, {\r\n  // Dynamic style generator\r\n  style: function(s, v) {\r\n    if (arguments.length == 0) {\r\n      // get full style\r\n      return this.node.style.cssText || ''\r\n\r\n    } else if (arguments.length < 2) {\r\n      // apply every style individually if an object is passed\r\n      if (typeof s == 'object') {\r\n        for (v in s) this.style(v, s[v])\r\n\r\n      } else if (SVG.regex.isCss.test(s)) {\r\n        // parse css string\r\n        s = s.split(/\\s*;\\s*/)\r\n          // filter out suffix ; and stuff like ;;\r\n          .filter(function(e) { return !!e })\r\n          .map(function(e){ return e.split(/\\s*:\\s*/) })\r\n\r\n        // apply every definition individually\r\n        while (v = s.pop()) {\r\n          this.style(v[0], v[1])\r\n        }\r\n      } else {\r\n        // act as a getter if the first and only argument is not an object\r\n        return this.node.style[camelCase(s)]\r\n      }\r\n\r\n    } else {\r\n      this.node.style[camelCase(s)] = v === null || SVG.regex.isBlank.test(v) ? '' : v\r\n    }\r\n\r\n    return this\r\n  }\r\n})\nSVG.Parent = SVG.invent({\r\n  // Initialize node\r\n  create: function(element) {\r\n    this.constructor.call(this, element)\r\n  }\r\n\r\n  // Inherit from\r\n, inherit: SVG.Element\r\n\r\n  // Add class methods\r\n, extend: {\r\n    // Returns all child elements\r\n    children: function() {\r\n      return SVG.utils.map(SVG.utils.filterSVGElements(this.node.childNodes), function(node) {\r\n        return SVG.adopt(node)\r\n      })\r\n    }\r\n    // Add given element at a position\r\n  , add: function(element, i) {\r\n      if (i == null)\r\n        this.node.appendChild(element.node)\r\n      else if (element.node != this.node.childNodes[i])\r\n        this.node.insertBefore(element.node, this.node.childNodes[i])\r\n\r\n      return this\r\n    }\r\n    // Basically does the same as `add()` but returns the added element instead\r\n  , put: function(element, i) {\r\n      this.add(element, i)\r\n      return element\r\n    }\r\n    // Checks if the given element is a child\r\n  , has: function(element) {\r\n      return this.index(element) >= 0\r\n    }\r\n    // Gets index of given element\r\n  , index: function(element) {\r\n      return [].slice.call(this.node.childNodes).indexOf(element.node)\r\n    }\r\n    // Get a element at the given index\r\n  , get: function(i) {\r\n      return SVG.adopt(this.node.childNodes[i])\r\n    }\r\n    // Get first child\r\n  , first: function() {\r\n      return this.get(0)\r\n    }\r\n    // Get the last child\r\n  , last: function() {\r\n      return this.get(this.node.childNodes.length - 1)\r\n    }\r\n    // Iterates over all children and invokes a given block\r\n  , each: function(block, deep) {\r\n      var i, il\r\n        , children = this.children()\r\n\r\n      for (i = 0, il = children.length; i < il; i++) {\r\n        if (children[i] instanceof SVG.Element)\r\n          block.apply(children[i], [i, children])\r\n\r\n        if (deep && (children[i] instanceof SVG.Container))\r\n          children[i].each(block, deep)\r\n      }\r\n\r\n      return this\r\n    }\r\n    // Remove a given child\r\n  , removeElement: function(element) {\r\n      this.node.removeChild(element.node)\r\n\r\n      return this\r\n    }\r\n    // Remove all elements in this container\r\n  , clear: function() {\r\n      // remove children\r\n      while(this.node.hasChildNodes())\r\n        this.node.removeChild(this.node.lastChild)\r\n\r\n      // remove defs reference\r\n      delete this._defs\r\n\r\n      return this\r\n    }\r\n  , // Get defs\r\n    defs: function() {\r\n      return this.doc().defs()\r\n    }\r\n  }\r\n\r\n})\r\n\nSVG.extend(SVG.Parent, {\r\n\r\n  ungroup: function(parent, depth) {\r\n    if(depth === 0 || this instanceof SVG.Defs || this.node == SVG.parser.draw) return this\r\n\r\n    parent = parent || (this instanceof SVG.Doc ? this : this.parent(SVG.Parent))\r\n    depth = depth || Infinity\r\n\r\n    this.each(function(){\r\n      if(this instanceof SVG.Defs) return this\r\n      if(this instanceof SVG.Parent) return this.ungroup(parent, depth-1)\r\n      return this.toParent(parent)\r\n    })\r\n\r\n    this.node.firstChild || this.remove()\r\n\r\n    return this\r\n  },\r\n\r\n  flatten: function(parent, depth) {\r\n    return this.ungroup(parent, depth)\r\n  }\r\n\r\n})\nSVG.Container = SVG.invent({\r\n  // Initialize node\r\n  create: function(element) {\r\n    this.constructor.call(this, element)\r\n  }\r\n\r\n  // Inherit from\r\n, inherit: SVG.Parent\r\n\r\n})\n\r\nSVG.ViewBox = SVG.invent({\r\n\r\n  create: function(source) {\r\n    var i, base = [0, 0, 0, 0]\r\n\r\n    var x, y, width, height, box, view, we, he\r\n      , wm   = 1 // width multiplier\r\n      , hm   = 1 // height multiplier\r\n      , reg  = /[+-]?(?:\\d+(?:\\.\\d*)?|\\.\\d+)(?:e[+-]?\\d+)?/gi\r\n\r\n    if(source instanceof SVG.Element){\r\n\r\n      we = source\r\n      he = source\r\n      view = (source.attr('viewBox') || '').match(reg)\r\n      box = source.bbox\r\n\r\n      // get dimensions of current node\r\n      width  = new SVG.Number(source.width())\r\n      height = new SVG.Number(source.height())\r\n\r\n      // find nearest non-percentual dimensions\r\n      while (width.unit == '%') {\r\n        wm *= width.value\r\n        width = new SVG.Number(we instanceof SVG.Doc ? we.parent().offsetWidth : we.parent().width())\r\n        we = we.parent()\r\n      }\r\n      while (height.unit == '%') {\r\n        hm *= height.value\r\n        height = new SVG.Number(he instanceof SVG.Doc ? he.parent().offsetHeight : he.parent().height())\r\n        he = he.parent()\r\n      }\r\n\r\n      // ensure defaults\r\n      this.x      = 0\r\n      this.y      = 0\r\n      this.width  = width  * wm\r\n      this.height = height * hm\r\n      this.zoom   = 1\r\n\r\n      if (view) {\r\n        // get width and height from viewbox\r\n        x      = parseFloat(view[0])\r\n        y      = parseFloat(view[1])\r\n        width  = parseFloat(view[2])\r\n        height = parseFloat(view[3])\r\n\r\n        // calculate zoom accoring to viewbox\r\n        this.zoom = ((this.width / this.height) > (width / height)) ?\r\n          this.height / height :\r\n          this.width  / width\r\n\r\n        // calculate real pixel dimensions on parent SVG.Doc element\r\n        this.x      = x\r\n        this.y      = y\r\n        this.width  = width\r\n        this.height = height\r\n\r\n      }\r\n\r\n    }else{\r\n\r\n      // ensure source as object\r\n      source = typeof source === 'string' ?\r\n        source.match(reg).map(function(el){ return parseFloat(el) }) :\r\n      Array.isArray(source) ?\r\n        source :\r\n      typeof source == 'object' ?\r\n        [source.x, source.y, source.width, source.height] :\r\n      arguments.length == 4 ?\r\n        [].slice.call(arguments) :\r\n        base\r\n\r\n      this.x = source[0]\r\n      this.y = source[1]\r\n      this.width = source[2]\r\n      this.height = source[3]\r\n    }\r\n\r\n\r\n  }\r\n\r\n, extend: {\r\n\r\n    toString: function() {\r\n      return this.x + ' ' + this.y + ' ' + this.width + ' ' + this.height\r\n    }\r\n  , morph: function(x, y, width, height){\r\n      this.destination = new SVG.ViewBox(x, y, width, height)\r\n      return this\r\n    }\r\n\r\n  , at: function(pos) {\r\n\r\n      if(!this.destination) return this\r\n\r\n      return new SVG.ViewBox([\r\n          this.x + (this.destination.x - this.x) * pos\r\n        , this.y + (this.destination.y - this.y) * pos\r\n        , this.width + (this.destination.width - this.width) * pos\r\n        , this.height + (this.destination.height - this.height) * pos\r\n      ])\r\n\r\n    }\r\n\r\n  }\r\n\r\n  // Define parent\r\n, parent: SVG.Container\r\n\r\n  // Add parent method\r\n, construct: {\r\n\r\n    // get/set viewbox\r\n    viewbox: function(x, y, width, height) {\r\n      if (arguments.length == 0)\r\n        // act as a getter if there are no arguments\r\n        return new SVG.ViewBox(this)\r\n\r\n      // otherwise act as a setter\r\n      return this.attr('viewBox', new SVG.ViewBox(x, y, width, height))\r\n    }\r\n\r\n  }\r\n\r\n})\n// Add events to elements\r\n\r\n;[ 'click',\r\n  'dblclick',\r\n  'mousedown',\r\n  'mouseup',\r\n  'mouseover',\r\n  'mouseout',\r\n  'mousemove',\r\n  'mouseenter',\r\n  'mouseleave',\r\n  'touchstart',\r\n  'touchmove',\r\n  'touchleave',\r\n  'touchend',\r\n  'touchcancel' ].forEach(function (event) {\r\n    // add event to SVG.Element\r\n    SVG.Element.prototype[event] = function (f) {\r\n      // bind event to element rather than element node\r\n      if (f == null) {\r\n        SVG.off(this, event)\r\n      } else {\r\n        SVG.on(this, event, f)\r\n      }\r\n      return this\r\n    }\r\n  })\r\n\r\nSVG.listenerId = 0\r\n\r\n// Add event binder in the SVG namespace\r\nSVG.on = function (node, events, listener, binding, options) {\r\n  var l = listener.bind(binding || node)\r\n  var n = node instanceof SVG.Element ? node.node : node\r\n\r\n  // ensure instance object for nodes which are not adopted\r\n  n.instance = n.instance || {_events: {}}\r\n\r\n  var bag = n.instance._events\r\n\r\n  // add id to listener\r\n  if (!listener._svgjsListenerId) { listener._svgjsListenerId = ++SVG.listenerId }\r\n\r\n  events.split(SVG.regex.delimiter).forEach(function (event) {\r\n    var ev = event.split('.')[0]\r\n    var ns = event.split('.')[1] || '*'\r\n\r\n    // ensure valid object\r\n    bag[ev] = bag[ev] || {}\r\n    bag[ev][ns] = bag[ev][ns] || {}\r\n\r\n    // reference listener\r\n    bag[ev][ns][listener._svgjsListenerId] = l\r\n\r\n    // add listener\r\n    n.addEventListener(ev, l, options || false)\r\n  })\r\n}\r\n\r\n// Add event unbinder in the SVG namespace\r\nSVG.off = function (node, events, listener, options) {\r\n  var n = node instanceof SVG.Element ? node.node : node\r\n  if (!n.instance) return\r\n\r\n  // listener can be a function or a number\r\n  if (typeof listener === 'function') {\r\n    listener = listener._svgjsListenerId\r\n    if (!listener) return\r\n  }\r\n\r\n  var bag = n.instance._events\r\n\r\n  ;(events || '').split(SVG.regex.delimiter).forEach(function (event) {\r\n    var ev = event && event.split('.')[0]\r\n    var ns = event && event.split('.')[1]\r\n    var namespace, l\r\n\r\n    if (listener) {\r\n      // remove listener reference\r\n      if (bag[ev] && bag[ev][ns || '*']) {\r\n        // removeListener\r\n        n.removeEventListener(ev, bag[ev][ns || '*'][listener], options || false)\r\n\r\n        delete bag[ev][ns || '*'][listener]\r\n      }\r\n    } else if (ev && ns) {\r\n      // remove all listeners for a namespaced event\r\n      if (bag[ev] && bag[ev][ns]) {\r\n        for (l in bag[ev][ns]) { SVG.off(n, [ev, ns].join('.'), l) }\r\n\r\n        delete bag[ev][ns]\r\n      }\r\n    } else if (ns) {\r\n      // remove all listeners for a specific namespace\r\n      for (event in bag) {\r\n        for (namespace in bag[event]) {\r\n          if (ns === namespace) { SVG.off(n, [event, ns].join('.')) }\r\n        }\r\n      }\r\n    } else if (ev) {\r\n      // remove all listeners for the event\r\n      if (bag[ev]) {\r\n        for (namespace in bag[ev]) { SVG.off(n, [ev, namespace].join('.')) }\r\n\r\n        delete bag[ev]\r\n      }\r\n    } else {\r\n      // remove all listeners on a given node\r\n      for (event in bag) { SVG.off(n, event) }\r\n\r\n      n.instance._events = {}\r\n    }\r\n  })\r\n}\r\n\r\nSVG.extend(SVG.Element, {\r\n  // Bind given event to listener\r\n  on: function (event, listener, binding, options) {\r\n    SVG.on(this, event, listener, binding, options)\r\n    return this\r\n  },\r\n  // Unbind event from listener\r\n  off: function (event, listener) {\r\n    SVG.off(this.node, event, listener)\r\n    return this\r\n  },\r\n  fire: function (event, data) {\r\n    // Dispatch event\r\n    if (event instanceof window.Event) {\r\n      this.node.dispatchEvent(event)\r\n    } else {\r\n      this.node.dispatchEvent(event = new SVG.CustomEvent(event, {detail: data, cancelable: true}))\r\n    }\r\n    this._event = event\r\n    return this\r\n  },\r\n  event: function() {\r\n    return this._event\r\n  }\r\n})\r\n\n\r\nSVG.Defs = SVG.invent({\r\n  // Initialize node\r\n  create: 'defs'\r\n\r\n  // Inherit from\r\n, inherit: SVG.Container\r\n\r\n})\nSVG.G = SVG.invent({\r\n  // Initialize node\r\n  create: 'g'\r\n\r\n  // Inherit from\r\n, inherit: SVG.Container\r\n\r\n  // Add class methods\r\n, extend: {\r\n    // Move over x-axis\r\n    x: function(x) {\r\n      return x == null ? this.transform('x') : this.transform({ x: x - this.x() }, true)\r\n    }\r\n    // Move over y-axis\r\n  , y: function(y) {\r\n      return y == null ? this.transform('y') : this.transform({ y: y - this.y() }, true)\r\n    }\r\n    // Move by center over x-axis\r\n  , cx: function(x) {\r\n      return x == null ? this.gbox().cx : this.x(x - this.gbox().width / 2)\r\n    }\r\n    // Move by center over y-axis\r\n  , cy: function(y) {\r\n      return y == null ? this.gbox().cy : this.y(y - this.gbox().height / 2)\r\n    }\r\n  , gbox: function() {\r\n\r\n      var bbox  = this.bbox()\r\n        , trans = this.transform()\r\n\r\n      bbox.x  += trans.x\r\n      bbox.x2 += trans.x\r\n      bbox.cx += trans.x\r\n\r\n      bbox.y  += trans.y\r\n      bbox.y2 += trans.y\r\n      bbox.cy += trans.y\r\n\r\n      return bbox\r\n    }\r\n  }\r\n\r\n  // Add parent method\r\n, construct: {\r\n    // Create a group element\r\n    group: function() {\r\n      return this.put(new SVG.G)\r\n    }\r\n  }\r\n})\r\n\nSVG.Doc = SVG.invent({\r\n  // Initialize node\r\n  create: function(element) {\r\n    if (element) {\r\n      // ensure the presence of a dom element\r\n      element = typeof element == 'string' ?\r\n        document.getElementById(element) :\r\n        element\r\n\r\n      // If the target is an svg element, use that element as the main wrapper.\r\n      // This allows svg.js to work with svg documents as well.\r\n      if (element.nodeName == 'svg') {\r\n        this.constructor.call(this, element)\r\n      } else {\r\n        this.constructor.call(this, SVG.create('svg'))\r\n        element.appendChild(this.node)\r\n        this.size('100%', '100%')\r\n      }\r\n\r\n      // set svg element attributes and ensure defs node\r\n      this.namespace().defs()\r\n    }\r\n  }\r\n\r\n  // Inherit from\r\n, inherit: SVG.Container\r\n\r\n  // Add class methods\r\n, extend: {\r\n    // Add namespaces\r\n    namespace: function() {\r\n      return this\r\n        .attr({ xmlns: SVG.ns, version: '1.1' })\r\n        .attr('xmlns:xlink', SVG.xlink, SVG.xmlns)\r\n        .attr('xmlns:svgjs', SVG.svgjs, SVG.xmlns)\r\n    }\r\n    // Creates and returns defs element\r\n  , defs: function() {\r\n      if (!this._defs) {\r\n        var defs\r\n\r\n        // Find or create a defs element in this instance\r\n        if (defs = this.node.getElementsByTagName('defs')[0])\r\n          this._defs = SVG.adopt(defs)\r\n        else\r\n          this._defs = new SVG.Defs\r\n\r\n        // Make sure the defs node is at the end of the stack\r\n        this.node.appendChild(this._defs.node)\r\n      }\r\n\r\n      return this._defs\r\n    }\r\n    // custom parent method\r\n  , parent: function() {\r\n      if(!this.node.parentNode || this.node.parentNode.nodeName == '#document' || this.node.parentNode.nodeName == '#document-fragment') return null\r\n      return this.node.parentNode\r\n    }\r\n    // Fix for possible sub-pixel offset. See:\r\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=608812\r\n  , spof: function() {\r\n      var pos = this.node.getScreenCTM()\r\n\r\n      if (pos)\r\n        this\r\n          .style('left', (-pos.e % 1) + 'px')\r\n          .style('top',  (-pos.f % 1) + 'px')\r\n\r\n      return this\r\n    }\r\n\r\n      // Removes the doc from the DOM\r\n  , remove: function() {\r\n      if(this.parent()) {\r\n        this.parent().removeChild(this.node)\r\n      }\r\n\r\n      return this\r\n    }\r\n  , clear: function() {\r\n      // remove children\r\n      while(this.node.hasChildNodes())\r\n        this.node.removeChild(this.node.lastChild)\r\n\r\n      // remove defs reference\r\n      delete this._defs\r\n\r\n      // add back parser\r\n      if(!SVG.parser.draw.parentNode)\r\n        this.node.appendChild(SVG.parser.draw)\r\n\r\n      return this\r\n    }\r\n  , clone: function (parent) {\r\n      // write dom data to the dom so the clone can pickup the data\r\n      this.writeDataToDom()\r\n\r\n      // get reference to node\r\n      var node = this.node\r\n\r\n      // clone element and assign new id\r\n      var clone = assignNewId(node.cloneNode(true))\r\n\r\n      // insert the clone in the given parent or after myself\r\n      if(parent) {\r\n        (parent.node || parent).appendChild(clone.node)\r\n      } else {\r\n        node.parentNode.insertBefore(clone.node, node.nextSibling)\r\n      }\r\n\r\n      return clone\r\n    }\r\n  }\r\n\r\n})\r\n\n// ### This module adds backward / forward functionality to elements.\r\n\r\n//\r\nSVG.extend(SVG.Element, {\r\n  // Get all siblings, including myself\r\n  siblings: function() {\r\n    return this.parent().children()\r\n  }\r\n  // Get the curent position siblings\r\n, position: function() {\r\n    return this.parent().index(this)\r\n  }\r\n  // Get the next element (will return null if there is none)\r\n, next: function() {\r\n    return this.siblings()[this.position() + 1]\r\n  }\r\n  // Get the next element (will return null if there is none)\r\n, previous: function() {\r\n    return this.siblings()[this.position() - 1]\r\n  }\r\n  // Send given element one step forward\r\n, forward: function() {\r\n    var i = this.position() + 1\r\n      , p = this.parent()\r\n\r\n    // move node one step forward\r\n    p.removeElement(this).add(this, i)\r\n\r\n    // make sure defs node is always at the top\r\n    if (p instanceof SVG.Doc)\r\n      p.node.appendChild(p.defs().node)\r\n\r\n    return this\r\n  }\r\n  // Send given element one step backward\r\n, backward: function() {\r\n    var i = this.position()\r\n\r\n    if (i > 0)\r\n      this.parent().removeElement(this).add(this, i - 1)\r\n\r\n    return this\r\n  }\r\n  // Send given element all the way to the front\r\n, front: function() {\r\n    var p = this.parent()\r\n\r\n    // Move node forward\r\n    p.node.appendChild(this.node)\r\n\r\n    // Make sure defs node is always at the top\r\n    if (p instanceof SVG.Doc)\r\n      p.node.appendChild(p.defs().node)\r\n\r\n    return this\r\n  }\r\n  // Send given element all the way to the back\r\n, back: function() {\r\n    if (this.position() > 0)\r\n      this.parent().removeElement(this).add(this, 0)\r\n\r\n    return this\r\n  }\r\n  // Inserts a given element before the targeted element\r\n, before: function(element) {\r\n    element.remove()\r\n\r\n    var i = this.position()\r\n\r\n    this.parent().add(element, i)\r\n\r\n    return this\r\n  }\r\n  // Insters a given element after the targeted element\r\n, after: function(element) {\r\n    element.remove()\r\n\r\n    var i = this.position()\r\n\r\n    this.parent().add(element, i + 1)\r\n\r\n    return this\r\n  }\r\n\r\n})\nSVG.Mask = SVG.invent({\r\n  // Initialize node\r\n  create: function() {\r\n    this.constructor.call(this, SVG.create('mask'))\r\n\r\n    // keep references to masked elements\r\n    this.targets = []\r\n  }\r\n\r\n  // Inherit from\r\n, inherit: SVG.Container\r\n\r\n  // Add class methods\r\n, extend: {\r\n    // Unmask all masked elements and remove itself\r\n    remove: function() {\r\n      // unmask all targets\r\n      for (var i = this.targets.length - 1; i >= 0; i--)\r\n        if (this.targets[i])\r\n          this.targets[i].unmask()\r\n      this.targets = []\r\n\r\n      // remove mask from parent\r\n      SVG.Element.prototype.remove.call(this)\r\n\r\n      return this\r\n    }\r\n  }\r\n\r\n  // Add parent method\r\n, construct: {\r\n    // Create masking element\r\n    mask: function() {\r\n      return this.defs().put(new SVG.Mask)\r\n    }\r\n  }\r\n})\r\n\r\n\r\nSVG.extend(SVG.Element, {\r\n  // Distribute mask to svg element\r\n  maskWith: function(element) {\r\n    // use given mask or create a new one\r\n    this.masker = element instanceof SVG.Mask ? element : this.parent().mask().add(element)\r\n\r\n    // store reverence on self in mask\r\n    this.masker.targets.push(this)\r\n\r\n    // apply mask\r\n    return this.attr('mask', 'url(\"#' + this.masker.attr('id') + '\")')\r\n  }\r\n  // Unmask element\r\n, unmask: function() {\r\n    delete this.masker\r\n    return this.attr('mask', null)\r\n  }\r\n\r\n})\r\n\nSVG.ClipPath = SVG.invent({\r\n  // Initialize node\r\n  create: function() {\r\n    this.constructor.call(this, SVG.create('clipPath'))\r\n\r\n    // keep references to clipped elements\r\n    this.targets = []\r\n  }\r\n\r\n  // Inherit from\r\n, inherit: SVG.Container\r\n\r\n  // Add class methods\r\n, extend: {\r\n    // Unclip all clipped elements and remove itself\r\n    remove: function() {\r\n      // unclip all targets\r\n      for (var i = this.targets.length - 1; i >= 0; i--)\r\n        if (this.targets[i])\r\n          this.targets[i].unclip()\r\n      this.targets = []\r\n\r\n      // remove clipPath from parent\r\n      this.parent().removeElement(this)\r\n\r\n      return this\r\n    }\r\n  }\r\n\r\n  // Add parent method\r\n, construct: {\r\n    // Create clipping element\r\n    clip: function() {\r\n      return this.defs().put(new SVG.ClipPath)\r\n    }\r\n  }\r\n})\r\n\r\n//\r\nSVG.extend(SVG.Element, {\r\n  // Distribute clipPath to svg element\r\n  clipWith: function(element) {\r\n    // use given clip or create a new one\r\n    this.clipper = element instanceof SVG.ClipPath ? element : this.parent().clip().add(element)\r\n\r\n    // store reverence on self in mask\r\n    this.clipper.targets.push(this)\r\n\r\n    // apply mask\r\n    return this.attr('clip-path', 'url(\"#' + this.clipper.attr('id') + '\")')\r\n  }\r\n  // Unclip element\r\n, unclip: function() {\r\n    delete this.clipper\r\n    return this.attr('clip-path', null)\r\n  }\r\n\r\n})\nSVG.Gradient = SVG.invent({\r\n  // Initialize node\r\n  create: function(type) {\r\n    this.constructor.call(this, SVG.create(type + 'Gradient'))\r\n\r\n    // store type\r\n    this.type = type\r\n  }\r\n\r\n  // Inherit from\r\n, inherit: SVG.Container\r\n\r\n  // Add class methods\r\n, extend: {\r\n    // Add a color stop\r\n    at: function(offset, color, opacity) {\r\n      return this.put(new SVG.Stop).update(offset, color, opacity)\r\n    }\r\n    // Update gradient\r\n  , update: function(block) {\r\n      // remove all stops\r\n      this.clear()\r\n\r\n      // invoke passed block\r\n      if (typeof block == 'function')\r\n        block.call(this, this)\r\n\r\n      return this\r\n    }\r\n    // Return the fill id\r\n  , fill: function() {\r\n      return 'url(#' + this.id() + ')'\r\n    }\r\n    // Alias string convertion to fill\r\n  , toString: function() {\r\n      return this.fill()\r\n    }\r\n    // custom attr to handle transform\r\n  , attr: function(a, b, c) {\r\n      if(a == 'transform') a = 'gradientTransform'\r\n      return SVG.Container.prototype.attr.call(this, a, b, c)\r\n    }\r\n  }\r\n\r\n  // Add parent method\r\n, construct: {\r\n    // Create gradient element in defs\r\n    gradient: function(type, block) {\r\n      return this.defs().gradient(type, block)\r\n    }\r\n  }\r\n})\r\n\r\n// Add animatable methods to both gradient and fx module\r\nSVG.extend(SVG.Gradient, SVG.FX, {\r\n  // From position\r\n  from: function(x, y) {\r\n    return (this._target || this).type == 'radial' ?\r\n      this.attr({ fx: new SVG.Number(x), fy: new SVG.Number(y) }) :\r\n      this.attr({ x1: new SVG.Number(x), y1: new SVG.Number(y) })\r\n  }\r\n  // To position\r\n, to: function(x, y) {\r\n    return (this._target || this).type == 'radial' ?\r\n      this.attr({ cx: new SVG.Number(x), cy: new SVG.Number(y) }) :\r\n      this.attr({ x2: new SVG.Number(x), y2: new SVG.Number(y) })\r\n  }\r\n})\r\n\r\n// Base gradient generation\r\nSVG.extend(SVG.Defs, {\r\n  // define gradient\r\n  gradient: function(type, block) {\r\n    return this.put(new SVG.Gradient(type)).update(block)\r\n  }\r\n\r\n})\r\n\r\nSVG.Stop = SVG.invent({\r\n  // Initialize node\r\n  create: 'stop'\r\n\r\n  // Inherit from\r\n, inherit: SVG.Element\r\n\r\n  // Add class methods\r\n, extend: {\r\n    // add color stops\r\n    update: function(o) {\r\n      if (typeof o == 'number' || o instanceof SVG.Number) {\r\n        o = {\r\n          offset:  arguments[0]\r\n        , color:   arguments[1]\r\n        , opacity: arguments[2]\r\n        }\r\n      }\r\n\r\n      // set attributes\r\n      if (o.opacity != null) this.attr('stop-opacity', o.opacity)\r\n      if (o.color   != null) this.attr('stop-color', o.color)\r\n      if (o.offset  != null) this.attr('offset', new SVG.Number(o.offset))\r\n\r\n      return this\r\n    }\r\n  }\r\n\r\n})\r\n\nSVG.Pattern = SVG.invent({\r\n  // Initialize node\r\n  create: 'pattern'\r\n\r\n  // Inherit from\r\n, inherit: SVG.Container\r\n\r\n  // Add class methods\r\n, extend: {\r\n    // Return the fill id\r\n    fill: function() {\r\n      return 'url(#' + this.id() + ')'\r\n    }\r\n    // Update pattern by rebuilding\r\n  , update: function(block) {\r\n      // remove content\r\n      this.clear()\r\n\r\n      // invoke passed block\r\n      if (typeof block == 'function')\r\n        block.call(this, this)\r\n\r\n      return this\r\n    }\r\n    // Alias string convertion to fill\r\n  , toString: function() {\r\n      return this.fill()\r\n    }\r\n    // custom attr to handle transform\r\n  , attr: function(a, b, c) {\r\n      if(a == 'transform') a = 'patternTransform'\r\n      return SVG.Container.prototype.attr.call(this, a, b, c)\r\n    }\r\n\r\n  }\r\n\r\n  // Add parent method\r\n, construct: {\r\n    // Create pattern element in defs\r\n    pattern: function(width, height, block) {\r\n      return this.defs().pattern(width, height, block)\r\n    }\r\n  }\r\n})\r\n\r\nSVG.extend(SVG.Defs, {\r\n  // Define gradient\r\n  pattern: function(width, height, block) {\r\n    return this.put(new SVG.Pattern).update(block).attr({\r\n      x:            0\r\n    , y:            0\r\n    , width:        width\r\n    , height:       height\r\n    , patternUnits: 'userSpaceOnUse'\r\n    })\r\n  }\r\n\r\n})\nSVG.Shape = SVG.invent({\r\n  // Initialize node\r\n  create: function(element) {\r\n    this.constructor.call(this, element)\r\n  }\r\n\r\n  // Inherit from\r\n, inherit: SVG.Element\r\n\r\n})\n\r\nSVG.Bare = SVG.invent({\r\n  // Initialize\r\n  create: function(element, inherit) {\r\n    // construct element\r\n    this.constructor.call(this, SVG.create(element))\r\n\r\n    // inherit custom methods\r\n    if (inherit)\r\n      for (var method in inherit.prototype)\r\n        if (typeof inherit.prototype[method] === 'function')\r\n          this[method] = inherit.prototype[method]\r\n  }\r\n\r\n  // Inherit from\r\n, inherit: SVG.Element\r\n\r\n  // Add methods\r\n, extend: {\r\n    // Insert some plain text\r\n    words: function(text) {\r\n      // remove contents\r\n      while (this.node.hasChildNodes())\r\n        this.node.removeChild(this.node.lastChild)\r\n\r\n      // create text node\r\n      this.node.appendChild(document.createTextNode(text))\r\n\r\n      return this\r\n    }\r\n  }\r\n})\r\n\r\n\r\nSVG.extend(SVG.Parent, {\r\n  // Create an element that is not described by SVG.js\r\n  element: function(element, inherit) {\r\n    return this.put(new SVG.Bare(element, inherit))\r\n  }\r\n})\r\n\nSVG.Symbol = SVG.invent({\r\n  // Initialize node\r\n  create: 'symbol'\r\n\r\n  // Inherit from\r\n, inherit: SVG.Container\r\n\r\n, construct: {\r\n    // create symbol\r\n    symbol: function() {\r\n      return this.put(new SVG.Symbol)\r\n    }\r\n  }\r\n})\r\n\nSVG.Use = SVG.invent({\r\n  // Initialize node\r\n  create: 'use'\r\n\r\n  // Inherit from\r\n, inherit: SVG.Shape\r\n\r\n  // Add class methods\r\n, extend: {\r\n    // Use element as a reference\r\n    element: function(element, file) {\r\n      // Set lined element\r\n      return this.attr('href', (file || '') + '#' + element, SVG.xlink)\r\n    }\r\n  }\r\n\r\n  // Add parent method\r\n, construct: {\r\n    // Create a use element\r\n    use: function(element, file) {\r\n      return this.put(new SVG.Use).element(element, file)\r\n    }\r\n  }\r\n})\nSVG.Rect = SVG.invent({\r\n  // Initialize node\r\n  create: 'rect'\r\n\r\n  // Inherit from\r\n, inherit: SVG.Shape\r\n\r\n  // Add parent method\r\n, construct: {\r\n    // Create a rect element\r\n    rect: function(width, height) {\r\n      return this.put(new SVG.Rect()).size(width, height)\r\n    }\r\n  }\r\n})\nSVG.Circle = SVG.invent({\r\n  // Initialize node\r\n  create: 'circle'\r\n\r\n  // Inherit from\r\n, inherit: SVG.Shape\r\n\r\n  // Add parent method\r\n, construct: {\r\n    // Create circle element, based on ellipse\r\n    circle: function(size) {\r\n      return this.put(new SVG.Circle).rx(new SVG.Number(size).divide(2)).move(0, 0)\r\n    }\r\n  }\r\n})\r\n\r\nSVG.extend(SVG.Circle, SVG.FX, {\r\n  // Radius x value\r\n  rx: function(rx) {\r\n    return this.attr('r', rx)\r\n  }\r\n  // Alias radius x value\r\n, ry: function(ry) {\r\n    return this.rx(ry)\r\n  }\r\n})\r\n\r\nSVG.Ellipse = SVG.invent({\r\n  // Initialize node\r\n  create: 'ellipse'\r\n\r\n  // Inherit from\r\n, inherit: SVG.Shape\r\n\r\n  // Add parent method\r\n, construct: {\r\n    // Create an ellipse\r\n    ellipse: function(width, height) {\r\n      return this.put(new SVG.Ellipse).size(width, height).move(0, 0)\r\n    }\r\n  }\r\n})\r\n\r\nSVG.extend(SVG.Ellipse, SVG.Rect, SVG.FX, {\r\n  // Radius x value\r\n  rx: function(rx) {\r\n    return this.attr('rx', rx)\r\n  }\r\n  // Radius y value\r\n, ry: function(ry) {\r\n    return this.attr('ry', ry)\r\n  }\r\n})\r\n\r\n// Add common method\r\nSVG.extend(SVG.Circle, SVG.Ellipse, {\r\n    // Move over x-axis\r\n    x: function(x) {\r\n      return x == null ? this.cx() - this.rx() : this.cx(x + this.rx())\r\n    }\r\n    // Move over y-axis\r\n  , y: function(y) {\r\n      return y == null ? this.cy() - this.ry() : this.cy(y + this.ry())\r\n    }\r\n    // Move by center over x-axis\r\n  , cx: function(x) {\r\n      return x == null ? this.attr('cx') : this.attr('cx', x)\r\n    }\r\n    // Move by center over y-axis\r\n  , cy: function(y) {\r\n      return y == null ? this.attr('cy') : this.attr('cy', y)\r\n    }\r\n    // Set width of element\r\n  , width: function(width) {\r\n      return width == null ? this.rx() * 2 : this.rx(new SVG.Number(width).divide(2))\r\n    }\r\n    // Set height of element\r\n  , height: function(height) {\r\n      return height == null ? this.ry() * 2 : this.ry(new SVG.Number(height).divide(2))\r\n    }\r\n    // Custom size function\r\n  , size: function(width, height) {\r\n      var p = proportionalSize(this, width, height)\r\n\r\n      return this\r\n        .rx(new SVG.Number(p.width).divide(2))\r\n        .ry(new SVG.Number(p.height).divide(2))\r\n    }\r\n})\nSVG.Line = SVG.invent({\r\n  // Initialize node\r\n  create: 'line'\r\n\r\n  // Inherit from\r\n, inherit: SVG.Shape\r\n\r\n  // Add class methods\r\n, extend: {\r\n    // Get array\r\n    array: function() {\r\n      return new SVG.PointArray([\r\n        [ this.attr('x1'), this.attr('y1') ]\r\n      , [ this.attr('x2'), this.attr('y2') ]\r\n      ])\r\n    }\r\n    // Overwrite native plot() method\r\n  , plot: function(x1, y1, x2, y2) {\r\n      if (x1 == null)\r\n        return this.array()\r\n      else if (typeof y1 !== 'undefined')\r\n        x1 = { x1: x1, y1: y1, x2: x2, y2: y2 }\r\n      else\r\n        x1 = new SVG.PointArray(x1).toLine()\r\n\r\n      return this.attr(x1)\r\n    }\r\n    // Move by left top corner\r\n  , move: function(x, y) {\r\n      return this.attr(this.array().move(x, y).toLine())\r\n    }\r\n    // Set element size to given width and height\r\n  , size: function(width, height) {\r\n      var p = proportionalSize(this, width, height)\r\n\r\n      return this.attr(this.array().size(p.width, p.height).toLine())\r\n    }\r\n  }\r\n\r\n  // Add parent method\r\n, construct: {\r\n    // Create a line element\r\n    line: function(x1, y1, x2, y2) {\r\n      // make sure plot is called as a setter\r\n      // x1 is not necessarily a number, it can also be an array, a string and a SVG.PointArray\r\n      return SVG.Line.prototype.plot.apply(\r\n        this.put(new SVG.Line)\r\n      , x1 != null ? [x1, y1, x2, y2] : [0, 0, 0, 0]\r\n      )\r\n    }\r\n  }\r\n})\r\n\nSVG.Polyline = SVG.invent({\r\n  // Initialize node\r\n  create: 'polyline'\r\n\r\n  // Inherit from\r\n, inherit: SVG.Shape\r\n\r\n  // Add parent method\r\n, construct: {\r\n    // Create a wrapped polyline element\r\n    polyline: function(p) {\r\n      // make sure plot is called as a setter\r\n      return this.put(new SVG.Polyline).plot(p || new SVG.PointArray)\r\n    }\r\n  }\r\n})\r\n\r\nSVG.Polygon = SVG.invent({\r\n  // Initialize node\r\n  create: 'polygon'\r\n\r\n  // Inherit from\r\n, inherit: SVG.Shape\r\n\r\n  // Add parent method\r\n, construct: {\r\n    // Create a wrapped polygon element\r\n    polygon: function(p) {\r\n      // make sure plot is called as a setter\r\n      return this.put(new SVG.Polygon).plot(p || new SVG.PointArray)\r\n    }\r\n  }\r\n})\r\n\r\n// Add polygon-specific functions\r\nSVG.extend(SVG.Polyline, SVG.Polygon, {\r\n  // Get array\r\n  array: function() {\r\n    return this._array || (this._array = new SVG.PointArray(this.attr('points')))\r\n  }\r\n  // Plot new path\r\n, plot: function(p) {\r\n    return (p == null) ?\r\n      this.array() :\r\n      this.clear().attr('points', typeof p == 'string' ? p : (this._array = new SVG.PointArray(p)))\r\n  }\r\n  // Clear array cache\r\n, clear: function() {\r\n    delete this._array\r\n    return this\r\n  }\r\n  // Move by left top corner\r\n, move: function(x, y) {\r\n    return this.attr('points', this.array().move(x, y))\r\n  }\r\n  // Set element size to given width and height\r\n, size: function(width, height) {\r\n    var p = proportionalSize(this, width, height)\r\n\r\n    return this.attr('points', this.array().size(p.width, p.height))\r\n  }\r\n\r\n})\r\n\n// unify all point to point elements\r\nSVG.extend(SVG.Line, SVG.Polyline, SVG.Polygon, {\r\n  // Define morphable array\r\n  morphArray:  SVG.PointArray\r\n  // Move by left top corner over x-axis\r\n, x: function(x) {\r\n    return x == null ? this.bbox().x : this.move(x, this.bbox().y)\r\n  }\r\n  // Move by left top corner over y-axis\r\n, y: function(y) {\r\n    return y == null ? this.bbox().y : this.move(this.bbox().x, y)\r\n  }\r\n  // Set width of element\r\n, width: function(width) {\r\n    var b = this.bbox()\r\n\r\n    return width == null ? b.width : this.size(width, b.height)\r\n  }\r\n  // Set height of element\r\n, height: function(height) {\r\n    var b = this.bbox()\r\n\r\n    return height == null ? b.height : this.size(b.width, height)\r\n  }\r\n})\nSVG.Path = SVG.invent({\r\n  // Initialize node\r\n  create: 'path'\r\n\r\n  // Inherit from\r\n, inherit: SVG.Shape\r\n\r\n  // Add class methods\r\n, extend: {\r\n    // Define morphable array\r\n    morphArray:  SVG.PathArray\r\n    // Get array\r\n  , array: function() {\r\n      return this._array || (this._array = new SVG.PathArray(this.attr('d')))\r\n    }\r\n    // Plot new path\r\n  , plot: function(d) {\r\n      return (d == null) ?\r\n        this.array() :\r\n        this.clear().attr('d', typeof d == 'string' ? d : (this._array = new SVG.PathArray(d)))\r\n    }\r\n    // Clear array cache\r\n  , clear: function() {\r\n      delete this._array\r\n      return this\r\n    }\r\n    // Move by left top corner\r\n  , move: function(x, y) {\r\n      return this.attr('d', this.array().move(x, y))\r\n    }\r\n    // Move by left top corner over x-axis\r\n  , x: function(x) {\r\n      return x == null ? this.bbox().x : this.move(x, this.bbox().y)\r\n    }\r\n    // Move by left top corner over y-axis\r\n  , y: function(y) {\r\n      return y == null ? this.bbox().y : this.move(this.bbox().x, y)\r\n    }\r\n    // Set element size to given width and height\r\n  , size: function(width, height) {\r\n      var p = proportionalSize(this, width, height)\r\n\r\n      return this.attr('d', this.array().size(p.width, p.height))\r\n    }\r\n    // Set width of element\r\n  , width: function(width) {\r\n      return width == null ? this.bbox().width : this.size(width, this.bbox().height)\r\n    }\r\n    // Set height of element\r\n  , height: function(height) {\r\n      return height == null ? this.bbox().height : this.size(this.bbox().width, height)\r\n    }\r\n\r\n  }\r\n\r\n  // Add parent method\r\n, construct: {\r\n    // Create a wrapped path element\r\n    path: function(d) {\r\n      // make sure plot is called as a setter\r\n      return this.put(new SVG.Path).plot(d || new SVG.PathArray)\r\n    }\r\n  }\r\n})\r\n\nSVG.Image = SVG.invent({\r\n  // Initialize node\r\n  create: 'image'\r\n\r\n  // Inherit from\r\n, inherit: SVG.Shape\r\n\r\n  // Add class methods\r\n, extend: {\r\n    // (re)load image\r\n    load: function(url) {\r\n      if (!url) return this\r\n\r\n      var self = this\r\n        , img  = new window.Image()\r\n\r\n      // preload image\r\n      SVG.on(img, 'load', function() {\r\n        SVG.off(img)\r\n\r\n        var p = self.parent(SVG.Pattern)\r\n\r\n        if(p === null) return\r\n\r\n        // ensure image size\r\n        if (self.width() == 0 && self.height() == 0)\r\n          self.size(img.width, img.height)\r\n\r\n        // ensure pattern size if not set\r\n        if (p && p.width() == 0 && p.height() == 0)\r\n          p.size(self.width(), self.height())\r\n\r\n        // callback\r\n        if (typeof self._loaded === 'function')\r\n          self._loaded.call(self, {\r\n            width:  img.width\r\n          , height: img.height\r\n          , ratio:  img.width / img.height\r\n          , url:    url\r\n          })\r\n      })\r\n\r\n      SVG.on(img, 'error', function(e){\r\n        SVG.off(img)\r\n\r\n        if (typeof self._error === 'function'){\r\n            self._error.call(self, e)\r\n        }\r\n      })\r\n\r\n      return this.attr('href', (img.src = this.src = url), SVG.xlink)\r\n    }\r\n    // Add loaded callback\r\n  , loaded: function(loaded) {\r\n      this._loaded = loaded\r\n      return this\r\n    }\r\n\r\n  , error: function(error) {\r\n      this._error = error\r\n      return this\r\n    }\r\n  }\r\n\r\n  // Add parent method\r\n, construct: {\r\n    // create image element, load image and set its size\r\n    image: function(source, width, height) {\r\n      return this.put(new SVG.Image).load(source).size(width || 0, height || width || 0)\r\n    }\r\n  }\r\n\r\n})\nSVG.Text = SVG.invent({\r\n  // Initialize node\r\n  create: function() {\r\n    this.constructor.call(this, SVG.create('text'))\r\n\r\n    this.dom.leading = new SVG.Number(1.3)    // store leading value for rebuilding\r\n    this._rebuild = true                      // enable automatic updating of dy values\r\n    this._build   = false                     // disable build mode for adding multiple lines\r\n\r\n    // set default font\r\n    this.attr('font-family', SVG.defaults.attrs['font-family'])\r\n  }\r\n\r\n  // Inherit from\r\n, inherit: SVG.Shape\r\n\r\n  // Add class methods\r\n, extend: {\r\n    // Move over x-axis\r\n    x: function(x) {\r\n      // act as getter\r\n      if (x == null)\r\n        return this.attr('x')\r\n\r\n      return this.attr('x', x)\r\n    }\r\n    // Move over y-axis\r\n  , y: function(y) {\r\n      var oy = this.attr('y')\r\n        , o  = typeof oy === 'number' ? oy - this.bbox().y : 0\r\n\r\n      // act as getter\r\n      if (y == null)\r\n        return typeof oy === 'number' ? oy - o : oy\r\n\r\n      return this.attr('y', typeof y.valueOf() === 'number' ? y + o : y)\r\n    }\r\n    // Move center over x-axis\r\n  , cx: function(x) {\r\n      return x == null ? this.bbox().cx : this.x(x - this.bbox().width / 2)\r\n    }\r\n    // Move center over y-axis\r\n  , cy: function(y) {\r\n      return y == null ? this.bbox().cy : this.y(y - this.bbox().height / 2)\r\n    }\r\n    // Set the text content\r\n  , text: function(text) {\r\n      // act as getter\r\n      if (typeof text === 'undefined'){\r\n        var text = ''\r\n        var children = this.node.childNodes\r\n        for(var i = 0, len = children.length; i < len; ++i){\r\n\r\n          // add newline if its not the first child and newLined is set to true\r\n          if(i != 0 && children[i].nodeType != 3 && SVG.adopt(children[i]).dom.newLined == true){\r\n            text += '\\n'\r\n          }\r\n\r\n          // add content of this node\r\n          text += children[i].textContent\r\n        }\r\n\r\n        return text\r\n      }\r\n\r\n      // remove existing content\r\n      this.clear().build(true)\r\n\r\n      if (typeof text === 'function') {\r\n        // call block\r\n        text.call(this, this)\r\n\r\n      } else {\r\n        // store text and make sure text is not blank\r\n        text = text.split('\\n')\r\n\r\n        // build new lines\r\n        for (var i = 0, il = text.length; i < il; i++)\r\n          this.tspan(text[i]).newLine()\r\n      }\r\n\r\n      // disable build mode and rebuild lines\r\n      return this.build(false).rebuild()\r\n    }\r\n    // Set font size\r\n  , size: function(size) {\r\n      return this.attr('font-size', size).rebuild()\r\n    }\r\n    // Set / get leading\r\n  , leading: function(value) {\r\n      // act as getter\r\n      if (value == null)\r\n        return this.dom.leading\r\n\r\n      // act as setter\r\n      this.dom.leading = new SVG.Number(value)\r\n\r\n      return this.rebuild()\r\n    }\r\n    // Get all the first level lines\r\n  , lines: function() {\r\n      var node = (this.textPath && this.textPath() || this).node\r\n\r\n      // filter tspans and map them to SVG.js instances\r\n      var lines = SVG.utils.map(SVG.utils.filterSVGElements(node.childNodes), function(el){\r\n        return SVG.adopt(el)\r\n      })\r\n\r\n      // return an instance of SVG.set\r\n      return new SVG.Set(lines)\r\n    }\r\n    // Rebuild appearance type\r\n  , rebuild: function(rebuild) {\r\n      // store new rebuild flag if given\r\n      if (typeof rebuild == 'boolean')\r\n        this._rebuild = rebuild\r\n\r\n      // define position of all lines\r\n      if (this._rebuild) {\r\n        var self = this\r\n          , blankLineOffset = 0\r\n          , dy = this.dom.leading * new SVG.Number(this.attr('font-size'))\r\n\r\n        this.lines().each(function() {\r\n          if (this.dom.newLined) {\r\n            if (!self.textPath())\r\n              this.attr('x', self.attr('x'))\r\n            if(this.text() == '\\n') {\r\n              blankLineOffset += dy\r\n            }else{\r\n              this.attr('dy', dy + blankLineOffset)\r\n              blankLineOffset = 0\r\n            }\r\n          }\r\n        })\r\n\r\n        this.fire('rebuild')\r\n      }\r\n\r\n      return this\r\n    }\r\n    // Enable / disable build mode\r\n  , build: function(build) {\r\n      this._build = !!build\r\n      return this\r\n    }\r\n    // overwrite method from parent to set data properly\r\n  , setData: function(o){\r\n      this.dom = o\r\n      this.dom.leading = new SVG.Number(o.leading || 1.3)\r\n      return this\r\n    }\r\n  }\r\n\r\n  // Add parent method\r\n, construct: {\r\n    // Create text element\r\n    text: function(text) {\r\n      return this.put(new SVG.Text).text(text)\r\n    }\r\n    // Create plain text element\r\n  , plain: function(text) {\r\n      return this.put(new SVG.Text).plain(text)\r\n    }\r\n  }\r\n\r\n})\r\n\r\nSVG.Tspan = SVG.invent({\r\n  // Initialize node\r\n  create: 'tspan'\r\n\r\n  // Inherit from\r\n, inherit: SVG.Shape\r\n\r\n  // Add class methods\r\n, extend: {\r\n    // Set text content\r\n    text: function(text) {\r\n      if(text == null) return this.node.textContent + (this.dom.newLined ? '\\n' : '')\r\n\r\n      typeof text === 'function' ? text.call(this, this) : this.plain(text)\r\n\r\n      return this\r\n    }\r\n    // Shortcut dx\r\n  , dx: function(dx) {\r\n      return this.attr('dx', dx)\r\n    }\r\n    // Shortcut dy\r\n  , dy: function(dy) {\r\n      return this.attr('dy', dy)\r\n    }\r\n    // Create new line\r\n  , newLine: function() {\r\n      // fetch text parent\r\n      var t = this.parent(SVG.Text)\r\n\r\n      // mark new line\r\n      this.dom.newLined = true\r\n\r\n      // apply new hy¡n\r\n      return this.dy(t.dom.leading * t.attr('font-size')).attr('x', t.x())\r\n    }\r\n  }\r\n\r\n})\r\n\r\nSVG.extend(SVG.Text, SVG.Tspan, {\r\n  // Create plain text node\r\n  plain: function(text) {\r\n    // clear if build mode is disabled\r\n    if (this._build === false)\r\n      this.clear()\r\n\r\n    // create text node\r\n    this.node.appendChild(document.createTextNode(text))\r\n\r\n    return this\r\n  }\r\n  // Create a tspan\r\n, tspan: function(text) {\r\n    var node  = (this.textPath && this.textPath() || this).node\r\n      , tspan = new SVG.Tspan\r\n\r\n    // clear if build mode is disabled\r\n    if (this._build === false)\r\n      this.clear()\r\n\r\n    // add new tspan\r\n    node.appendChild(tspan.node)\r\n\r\n    return tspan.text(text)\r\n  }\r\n  // Clear all lines\r\n, clear: function() {\r\n    var node = (this.textPath && this.textPath() || this).node\r\n\r\n    // remove existing child nodes\r\n    while (node.hasChildNodes())\r\n      node.removeChild(node.lastChild)\r\n\r\n    return this\r\n  }\r\n  // Get length of text element\r\n, length: function() {\r\n    return this.node.getComputedTextLength()\r\n  }\r\n})\r\n\nSVG.TextPath = SVG.invent({\r\n  // Initialize node\r\n  create: 'textPath'\r\n\r\n  // Inherit from\r\n, inherit: SVG.Parent\r\n\r\n  // Define parent class\r\n, parent: SVG.Text\r\n\r\n  // Add parent method\r\n, construct: {\r\n    morphArray: SVG.PathArray\r\n    // Create path for text to run on\r\n  , path: function(d) {\r\n      // create textPath element\r\n      var path  = new SVG.TextPath\r\n        , track = this.doc().defs().path(d)\r\n\r\n      // move lines to textpath\r\n      while (this.node.hasChildNodes())\r\n        path.node.appendChild(this.node.firstChild)\r\n\r\n      // add textPath element as child node\r\n      this.node.appendChild(path.node)\r\n\r\n      // link textPath to path and add content\r\n      path.attr('href', '#' + track, SVG.xlink)\r\n\r\n      return this\r\n    }\r\n    // return the array of the path track element\r\n  , array: function() {\r\n      var track = this.track()\r\n\r\n      return track ? track.array() : null\r\n    }\r\n    // Plot path if any\r\n  , plot: function(d) {\r\n      var track = this.track()\r\n        , pathArray = null\r\n\r\n      if (track) {\r\n        pathArray = track.plot(d)\r\n      }\r\n\r\n      return (d == null) ? pathArray : this\r\n    }\r\n    // Get the path track element\r\n  , track: function() {\r\n      var path = this.textPath()\r\n\r\n      if (path)\r\n        return path.reference('href')\r\n    }\r\n    // Get the textPath child\r\n  , textPath: function() {\r\n      if (this.node.firstChild && this.node.firstChild.nodeName == 'textPath')\r\n        return SVG.adopt(this.node.firstChild)\r\n    }\r\n  }\r\n})\r\n\nSVG.Nested = SVG.invent({\r\n  // Initialize node\r\n  create: function() {\r\n    this.constructor.call(this, SVG.create('svg'))\r\n\r\n    this.style('overflow', 'visible')\r\n  }\r\n\r\n  // Inherit from\r\n, inherit: SVG.Container\r\n\r\n  // Add parent method\r\n, construct: {\r\n    // Create nested svg document\r\n    nested: function() {\r\n      return this.put(new SVG.Nested)\r\n    }\r\n  }\r\n})\nSVG.A = SVG.invent({\r\n  // Initialize node\r\n  create: 'a'\r\n\r\n  // Inherit from\r\n, inherit: SVG.Container\r\n\r\n  // Add class methods\r\n, extend: {\r\n    // Link url\r\n    to: function(url) {\r\n      return this.attr('href', url, SVG.xlink)\r\n    }\r\n    // Link show attribute\r\n  , show: function(target) {\r\n      return this.attr('show', target, SVG.xlink)\r\n    }\r\n    // Link target attribute\r\n  , target: function(target) {\r\n      return this.attr('target', target)\r\n    }\r\n  }\r\n\r\n  // Add parent method\r\n, construct: {\r\n    // Create a hyperlink element\r\n    link: function(url) {\r\n      return this.put(new SVG.A).to(url)\r\n    }\r\n  }\r\n})\r\n\r\nSVG.extend(SVG.Element, {\r\n  // Create a hyperlink element\r\n  linkTo: function(url) {\r\n    var link = new SVG.A\r\n\r\n    if (typeof url == 'function')\r\n      url.call(link, link)\r\n    else\r\n      link.to(url)\r\n\r\n    return this.parent().put(link).put(this)\r\n  }\r\n\r\n})\nSVG.Marker = SVG.invent({\r\n  // Initialize node\r\n  create: 'marker'\r\n\r\n  // Inherit from\r\n, inherit: SVG.Container\r\n\r\n  // Add class methods\r\n, extend: {\r\n    // Set width of element\r\n    width: function(width) {\r\n      return this.attr('markerWidth', width)\r\n    }\r\n    // Set height of element\r\n  , height: function(height) {\r\n      return this.attr('markerHeight', height)\r\n    }\r\n    // Set marker refX and refY\r\n  , ref: function(x, y) {\r\n      return this.attr('refX', x).attr('refY', y)\r\n    }\r\n    // Update marker\r\n  , update: function(block) {\r\n      // remove all content\r\n      this.clear()\r\n\r\n      // invoke passed block\r\n      if (typeof block == 'function')\r\n        block.call(this, this)\r\n\r\n      return this\r\n    }\r\n    // Return the fill id\r\n  , toString: function() {\r\n      return 'url(#' + this.id() + ')'\r\n    }\r\n  }\r\n\r\n  // Add parent method\r\n, construct: {\r\n    marker: function(width, height, block) {\r\n      // Create marker element in defs\r\n      return this.defs().marker(width, height, block)\r\n    }\r\n  }\r\n\r\n})\r\n\r\nSVG.extend(SVG.Defs, {\r\n  // Create marker\r\n  marker: function(width, height, block) {\r\n    // Set default viewbox to match the width and height, set ref to cx and cy and set orient to auto\r\n    return this.put(new SVG.Marker)\r\n      .size(width, height)\r\n      .ref(width / 2, height / 2)\r\n      .viewbox(0, 0, width, height)\r\n      .attr('orient', 'auto')\r\n      .update(block)\r\n  }\r\n\r\n})\r\n\r\nSVG.extend(SVG.Line, SVG.Polyline, SVG.Polygon, SVG.Path, {\r\n  // Create and attach markers\r\n  marker: function(marker, width, height, block) {\r\n    var attr = ['marker']\r\n\r\n    // Build attribute name\r\n    if (marker != 'all') attr.push(marker)\r\n    attr = attr.join('-')\r\n\r\n    // Set marker attribute\r\n    marker = arguments[1] instanceof SVG.Marker ?\r\n      arguments[1] :\r\n      this.doc().marker(width, height, block)\r\n\r\n    return this.attr(attr, marker)\r\n  }\r\n\r\n})\n// Define list of available attributes for stroke and fill\r\nvar sugar = {\r\n  stroke: ['color', 'width', 'opacity', 'linecap', 'linejoin', 'miterlimit', 'dasharray', 'dashoffset']\r\n, fill:   ['color', 'opacity', 'rule']\r\n, prefix: function(t, a) {\r\n    return a == 'color' ? t : t + '-' + a\r\n  }\r\n}\r\n\r\n// Add sugar for fill and stroke\r\n;['fill', 'stroke'].forEach(function(m) {\r\n  var i, extension = {}\r\n\r\n  extension[m] = function(o) {\r\n    if (typeof o == 'undefined')\r\n      return this\r\n    if (typeof o == 'string' || SVG.Color.isRgb(o) || (o && typeof o.fill === 'function'))\r\n      this.attr(m, o)\r\n\r\n    else\r\n      // set all attributes from sugar.fill and sugar.stroke list\r\n      for (i = sugar[m].length - 1; i >= 0; i--)\r\n        if (o[sugar[m][i]] != null)\r\n          this.attr(sugar.prefix(m, sugar[m][i]), o[sugar[m][i]])\r\n\r\n    return this\r\n  }\r\n\r\n  SVG.extend(SVG.Element, SVG.FX, extension)\r\n\r\n})\r\n\r\nSVG.extend(SVG.Element, SVG.FX, {\r\n  // Map rotation to transform\r\n  rotate: function(d, cx, cy) {\r\n    return this.transform({ rotation: d, cx: cx, cy: cy })\r\n  }\r\n  // Map skew to transform\r\n, skew: function(x, y, cx, cy) {\r\n    return arguments.length == 1  || arguments.length == 3 ?\r\n      this.transform({ skew: x, cx: y, cy: cx }) :\r\n      this.transform({ skewX: x, skewY: y, cx: cx, cy: cy })\r\n  }\r\n  // Map scale to transform\r\n, scale: function(x, y, cx, cy) {\r\n    return arguments.length == 1  || arguments.length == 3 ?\r\n      this.transform({ scale: x, cx: y, cy: cx }) :\r\n      this.transform({ scaleX: x, scaleY: y, cx: cx, cy: cy })\r\n  }\r\n  // Map translate to transform\r\n, translate: function(x, y) {\r\n    return this.transform({ x: x, y: y })\r\n  }\r\n  // Map flip to transform\r\n, flip: function(a, o) {\r\n    o = typeof a == 'number' ? a : o\r\n    return this.transform({ flip: a || 'both', offset: o })\r\n  }\r\n  // Map matrix to transform\r\n, matrix: function(m) {\r\n    return this.attr('transform', new SVG.Matrix(arguments.length == 6 ? [].slice.call(arguments) : m))\r\n  }\r\n  // Opacity\r\n, opacity: function(value) {\r\n    return this.attr('opacity', value)\r\n  }\r\n  // Relative move over x axis\r\n, dx: function(x) {\r\n    return this.x(new SVG.Number(x).plus(this instanceof SVG.FX ? 0 : this.x()), true)\r\n  }\r\n  // Relative move over y axis\r\n, dy: function(y) {\r\n    return this.y(new SVG.Number(y).plus(this instanceof SVG.FX ? 0 : this.y()), true)\r\n  }\r\n  // Relative move over x and y axes\r\n, dmove: function(x, y) {\r\n    return this.dx(x).dy(y)\r\n  }\r\n})\r\n\r\nSVG.extend(SVG.Rect, SVG.Ellipse, SVG.Circle, SVG.Gradient, SVG.FX, {\r\n  // Add x and y radius\r\n  radius: function(x, y) {\r\n    var type = (this._target || this).type;\r\n    return type == 'radial' || type == 'circle' ?\r\n      this.attr('r', new SVG.Number(x)) :\r\n      this.rx(x).ry(y == null ? x : y)\r\n  }\r\n})\r\n\r\nSVG.extend(SVG.Path, {\r\n  // Get path length\r\n  length: function() {\r\n    return this.node.getTotalLength()\r\n  }\r\n  // Get point at length\r\n, pointAt: function(length) {\r\n    return this.node.getPointAtLength(length)\r\n  }\r\n})\r\n\r\nSVG.extend(SVG.Parent, SVG.Text, SVG.Tspan, SVG.FX, {\r\n  // Set font\r\n  font: function(a, v) {\r\n    if (typeof a == 'object') {\r\n      for (v in a) this.font(v, a[v])\r\n    }\r\n\r\n    return a == 'leading' ?\r\n        this.leading(v) :\r\n      a == 'anchor' ?\r\n        this.attr('text-anchor', v) :\r\n      a == 'size' || a == 'family' || a == 'weight' || a == 'stretch' || a == 'variant' || a == 'style' ?\r\n        this.attr('font-'+ a, v) :\r\n        this.attr(a, v)\r\n  }\r\n})\r\n\nSVG.Set = SVG.invent({\r\n  // Initialize\r\n  create: function(members) {\r\n    if (members instanceof SVG.Set) {\r\n      this.members = members.members.slice()\r\n    } else {\r\n      Array.isArray(members) ? this.members = members : this.clear()\r\n    }\r\n  }\r\n\r\n  // Add class methods\r\n, extend: {\r\n    // Add element to set\r\n    add: function() {\r\n      var i, il, elements = [].slice.call(arguments)\r\n\r\n      for (i = 0, il = elements.length; i < il; i++)\r\n        this.members.push(elements[i])\r\n\r\n      return this\r\n    }\r\n    // Remove element from set\r\n  , remove: function(element) {\r\n      var i = this.index(element)\r\n\r\n      // remove given child\r\n      if (i > -1)\r\n        this.members.splice(i, 1)\r\n\r\n      return this\r\n    }\r\n    // Iterate over all members\r\n  , each: function(block) {\r\n      for (var i = 0, il = this.members.length; i < il; i++)\r\n        block.apply(this.members[i], [i, this.members])\r\n\r\n      return this\r\n    }\r\n    // Restore to defaults\r\n  , clear: function() {\r\n      // initialize store\r\n      this.members = []\r\n\r\n      return this\r\n    }\r\n    // Get the length of a set\r\n  , length: function() {\r\n      return this.members.length\r\n    }\r\n    // Checks if a given element is present in set\r\n  , has: function(element) {\r\n      return this.index(element) >= 0\r\n    }\r\n    // retuns index of given element in set\r\n  , index: function(element) {\r\n      return this.members.indexOf(element)\r\n    }\r\n    // Get member at given index\r\n  , get: function(i) {\r\n      return this.members[i]\r\n    }\r\n    // Get first member\r\n  , first: function() {\r\n      return this.get(0)\r\n    }\r\n    // Get last member\r\n  , last: function() {\r\n      return this.get(this.members.length - 1)\r\n    }\r\n    // Default value\r\n  , valueOf: function() {\r\n      return this.members\r\n    }\r\n    // Get the bounding box of all members included or empty box if set has no items\r\n  , bbox: function(){\r\n      // return an empty box of there are no members\r\n      if (this.members.length == 0)\r\n        return new SVG.RBox()\r\n\r\n      // get the first rbox and update the target bbox\r\n      var rbox = this.members[0].rbox(this.members[0].doc())\r\n\r\n      this.each(function() {\r\n        // user rbox for correct position and visual representation\r\n        rbox = rbox.merge(this.rbox(this.doc()))\r\n      })\r\n\r\n      return rbox\r\n    }\r\n  }\r\n\r\n  // Add parent method\r\n, construct: {\r\n    // Create a new set\r\n    set: function(members) {\r\n      return new SVG.Set(members)\r\n    }\r\n  }\r\n})\r\n\r\nSVG.FX.Set = SVG.invent({\r\n  // Initialize node\r\n  create: function(set) {\r\n    // store reference to set\r\n    this.set = set\r\n  }\r\n\r\n})\r\n\r\n// Alias methods\r\nSVG.Set.inherit = function() {\r\n  var m\r\n    , methods = []\r\n\r\n  // gather shape methods\r\n  for(var m in SVG.Shape.prototype)\r\n    if (typeof SVG.Shape.prototype[m] == 'function' && typeof SVG.Set.prototype[m] != 'function')\r\n      methods.push(m)\r\n\r\n  // apply shape aliasses\r\n  methods.forEach(function(method) {\r\n    SVG.Set.prototype[method] = function() {\r\n      for (var i = 0, il = this.members.length; i < il; i++)\r\n        if (this.members[i] && typeof this.members[i][method] == 'function')\r\n          this.members[i][method].apply(this.members[i], arguments)\r\n\r\n      return method == 'animate' ? (this.fx || (this.fx = new SVG.FX.Set(this))) : this\r\n    }\r\n  })\r\n\r\n  // clear methods for the next round\r\n  methods = []\r\n\r\n  // gather fx methods\r\n  for(var m in SVG.FX.prototype)\r\n    if (typeof SVG.FX.prototype[m] == 'function' && typeof SVG.FX.Set.prototype[m] != 'function')\r\n      methods.push(m)\r\n\r\n  // apply fx aliasses\r\n  methods.forEach(function(method) {\r\n    SVG.FX.Set.prototype[method] = function() {\r\n      for (var i = 0, il = this.set.members.length; i < il; i++)\r\n        this.set.members[i].fx[method].apply(this.set.members[i].fx, arguments)\r\n\r\n      return this\r\n    }\r\n  })\r\n}\r\n\n\r\nSVG.extend(SVG.Element, {\r\n  // Store data values on svg nodes\r\n  data: function(a, v, r) {\r\n    if (typeof a == 'object') {\r\n      for (v in a)\r\n        this.data(v, a[v])\r\n\r\n    } else if (arguments.length < 2) {\r\n      try {\r\n        return JSON.parse(this.attr('data-' + a))\r\n      } catch(e) {\r\n        return this.attr('data-' + a)\r\n      }\r\n\r\n    } else {\r\n      this.attr(\r\n        'data-' + a\r\n      , v === null ?\r\n          null :\r\n        r === true || typeof v === 'string' || typeof v === 'number' ?\r\n          v :\r\n          JSON.stringify(v)\r\n      )\r\n    }\r\n\r\n    return this\r\n  }\r\n})\nSVG.extend(SVG.Element, {\r\n  // Remember arbitrary data\r\n  remember: function(k, v) {\r\n    // remember every item in an object individually\r\n    if (typeof arguments[0] == 'object')\r\n      for (var v in k)\r\n        this.remember(v, k[v])\r\n\r\n    // retrieve memory\r\n    else if (arguments.length == 1)\r\n      return this.memory()[k]\r\n\r\n    // store memory\r\n    else\r\n      this.memory()[k] = v\r\n\r\n    return this\r\n  }\r\n\r\n  // Erase a given memory\r\n, forget: function() {\r\n    if (arguments.length == 0)\r\n      this._memory = {}\r\n    else\r\n      for (var i = arguments.length - 1; i >= 0; i--)\r\n        delete this.memory()[arguments[i]]\r\n\r\n    return this\r\n  }\r\n\r\n  // Initialize or return local memory object\r\n, memory: function() {\r\n    return this._memory || (this._memory = {})\r\n  }\r\n\r\n})\n// Method for getting an element by id\r\nSVG.get = function(id) {\r\n  var node = document.getElementById(idFromReference(id) || id)\r\n  return SVG.adopt(node)\r\n}\r\n\r\n// Select elements by query string\r\nSVG.select = function(query, parent) {\r\n  return new SVG.Set(\r\n    SVG.utils.map((parent || document).querySelectorAll(query), function(node) {\r\n      return SVG.adopt(node)\r\n    })\r\n  )\r\n}\r\n\r\nSVG.extend(SVG.Parent, {\r\n  // Scoped select method\r\n  select: function(query) {\r\n    return SVG.select(query, this.node)\r\n  }\r\n\r\n})\nfunction pathRegReplace(a, b, c, d) {\r\n  return c + d.replace(SVG.regex.dots, ' .')\r\n}\r\n\r\n// creates deep clone of array\r\nfunction array_clone(arr){\r\n  var clone = arr.slice(0)\r\n  for(var i = clone.length; i--;){\r\n    if(Array.isArray(clone[i])){\r\n      clone[i] = array_clone(clone[i])\r\n    }\r\n  }\r\n  return clone\r\n}\r\n\r\n// tests if a given element is instance of an object\r\nfunction is(el, obj){\r\n  return el instanceof obj\r\n}\r\n\r\n// tests if a given selector matches an element\r\nfunction matches(el, selector) {\r\n  return (el.matches || el.matchesSelector || el.msMatchesSelector || el.mozMatchesSelector || el.webkitMatchesSelector || el.oMatchesSelector).call(el, selector);\r\n}\r\n\r\n// Convert dash-separated-string to camelCase\r\nfunction camelCase(s) {\r\n  return s.toLowerCase().replace(/-(.)/g, function(m, g) {\r\n    return g.toUpperCase()\r\n  })\r\n}\r\n\r\n// Capitalize first letter of a string\r\nfunction capitalize(s) {\r\n  return s.charAt(0).toUpperCase() + s.slice(1)\r\n}\r\n\r\n// Ensure to six-based hex\r\nfunction fullHex(hex) {\r\n  return hex.length == 4 ?\r\n    [ '#',\r\n      hex.substring(1, 2), hex.substring(1, 2)\r\n    , hex.substring(2, 3), hex.substring(2, 3)\r\n    , hex.substring(3, 4), hex.substring(3, 4)\r\n    ].join('') : hex\r\n}\r\n\r\n// Component to hex value\r\nfunction compToHex(comp) {\r\n  var hex = comp.toString(16)\r\n  return hex.length == 1 ? '0' + hex : hex\r\n}\r\n\r\n// Calculate proportional width and height values when necessary\r\nfunction proportionalSize(element, width, height) {\r\n  if (width == null || height == null) {\r\n    var box = element.bbox()\r\n\r\n    if (width == null)\r\n      width = box.width / box.height * height\r\n    else if (height == null)\r\n      height = box.height / box.width * width\r\n  }\r\n\r\n  return {\r\n    width:  width\r\n  , height: height\r\n  }\r\n}\r\n\r\n// Delta transform point\r\nfunction deltaTransformPoint(matrix, x, y) {\r\n  return {\r\n    x: x * matrix.a + y * matrix.c + 0\r\n  , y: x * matrix.b + y * matrix.d + 0\r\n  }\r\n}\r\n\r\n// Map matrix array to object\r\nfunction arrayToMatrix(a) {\r\n  return { a: a[0], b: a[1], c: a[2], d: a[3], e: a[4], f: a[5] }\r\n}\r\n\r\n// Parse matrix if required\r\nfunction parseMatrix(matrix) {\r\n  if (!(matrix instanceof SVG.Matrix))\r\n    matrix = new SVG.Matrix(matrix)\r\n\r\n  return matrix\r\n}\r\n\r\n// Add centre point to transform object\r\nfunction ensureCentre(o, target) {\r\n  o.cx = o.cx == null ? target.bbox().cx : o.cx\r\n  o.cy = o.cy == null ? target.bbox().cy : o.cy\r\n}\r\n\r\n// PathArray Helpers\r\nfunction arrayToString(a) {\r\n  for (var i = 0, il = a.length, s = ''; i < il; i++) {\r\n    s += a[i][0]\r\n\r\n    if (a[i][1] != null) {\r\n      s += a[i][1]\r\n\r\n      if (a[i][2] != null) {\r\n        s += ' '\r\n        s += a[i][2]\r\n\r\n        if (a[i][3] != null) {\r\n          s += ' '\r\n          s += a[i][3]\r\n          s += ' '\r\n          s += a[i][4]\r\n\r\n          if (a[i][5] != null) {\r\n            s += ' '\r\n            s += a[i][5]\r\n            s += ' '\r\n            s += a[i][6]\r\n\r\n            if (a[i][7] != null) {\r\n              s += ' '\r\n              s += a[i][7]\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  return s + ' '\r\n}\r\n\r\n// Deep new id assignment\r\nfunction assignNewId(node) {\r\n  // do the same for SVG child nodes as well\r\n  for (var i = node.childNodes.length - 1; i >= 0; i--)\r\n    if (node.childNodes[i] instanceof window.SVGElement)\r\n      assignNewId(node.childNodes[i])\r\n\r\n  return SVG.adopt(node).id(SVG.eid(node.nodeName))\r\n}\r\n\r\n// Add more bounding box properties\r\nfunction fullBox(b) {\r\n  if (b.x == null) {\r\n    b.x      = 0\r\n    b.y      = 0\r\n    b.width  = 0\r\n    b.height = 0\r\n  }\r\n\r\n  b.w  = b.width\r\n  b.h  = b.height\r\n  b.x2 = b.x + b.width\r\n  b.y2 = b.y + b.height\r\n  b.cx = b.x + b.width / 2\r\n  b.cy = b.y + b.height / 2\r\n\r\n  return b\r\n}\r\n\r\n// Get id from reference string\r\nfunction idFromReference(url) {\r\n  var m = (url || '').toString().match(SVG.regex.reference)\r\n\r\n  if (m) return m[1]\r\n}\r\n\r\n// If values like 1e-88 are passed, this is not a valid 32 bit float,\r\n// but in those cases, we are so close to 0 that 0 works well!\r\nfunction float32String(v) {\r\n  return Math.abs(v) > 1e-37 ? v : 0\r\n}\r\n\r\n// Create matrix array for looping\r\nvar abcdef = 'abcdef'.split('')\r\n\n// Add CustomEvent to IE9 and IE10\r\nif (typeof window.CustomEvent !== 'function') {\r\n  // Code from: https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent\r\n  var CustomEventPoly = function(event, options) {\r\n    options = options || { bubbles: false, cancelable: false, detail: undefined }\r\n    var e = document.createEvent('CustomEvent')\r\n    e.initCustomEvent(event, options.bubbles, options.cancelable, options.detail)\r\n    return e\r\n  }\r\n\r\n  CustomEventPoly.prototype = window.Event.prototype\r\n\r\n  SVG.CustomEvent = CustomEventPoly\r\n} else {\r\n  SVG.CustomEvent = window.CustomEvent\r\n}\r\n\r\n// requestAnimationFrame / cancelAnimationFrame Polyfill with fallback based on Paul Irish\r\n(function(w) {\r\n  var lastTime = 0\r\n  var vendors = ['moz', 'webkit']\r\n\r\n  for(var x = 0; x < vendors.length && !window.requestAnimationFrame; ++x) {\r\n    w.requestAnimationFrame = w[vendors[x] + 'RequestAnimationFrame']\r\n    w.cancelAnimationFrame  = w[vendors[x] + 'CancelAnimationFrame'] ||\r\n                              w[vendors[x] + 'CancelRequestAnimationFrame']\r\n  }\r\n\r\n  w.requestAnimationFrame = w.requestAnimationFrame ||\r\n    function(callback) {\r\n      var currTime = new Date().getTime()\r\n      var timeToCall = Math.max(0, 16 - (currTime - lastTime))\r\n\r\n      var id = w.setTimeout(function() {\r\n        callback(currTime + timeToCall)\r\n      }, timeToCall)\r\n\r\n      lastTime = currTime + timeToCall\r\n      return id\r\n    }\r\n\r\n  w.cancelAnimationFrame = w.cancelAnimationFrame || w.clearTimeout;\r\n\r\n}(window))\r\n\r\nreturn SVG\r\n\r\n}));\r//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3ZnLmpzL2Rpc3Qvc3ZnLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3N2Zy5qcy9kaXN0L3N2Zy5qcz8xOTI5Il0sInNvdXJjZXNDb250ZW50IjpbIi8qIVxuKiBzdmcuanMgLSBBIGxpZ2h0d2VpZ2h0IGxpYnJhcnkgZm9yIG1hbmlwdWxhdGluZyBhbmQgYW5pbWF0aW5nIFNWRy5cbiogQHZlcnNpb24gMi43LjFcbiogaHR0cHM6Ly9zdmdkb3Rqcy5naXRodWIuaW8vXG4qXG4qIEBjb3B5cmlnaHQgV291dCBGaWVyZW5zIDx3b3V0QG1pY2std291dC5jb20+XG4qIEBsaWNlbnNlIE1JVFxuKlxuKiBCVUlMVDogRnJpIE5vdiAzMCAyMDE4IDEwOjAxOjU1IEdNVCswMTAwIChHTVQrMDE6MDApXG4qLztcbihmdW5jdGlvbihyb290LCBmYWN0b3J5KSB7XHJcbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cclxuICBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XHJcbiAgICBkZWZpbmUoZnVuY3Rpb24oKXtcclxuICAgICAgcmV0dXJuIGZhY3Rvcnkocm9vdCwgcm9vdC5kb2N1bWVudClcclxuICAgIH0pXHJcbiAgfSBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpIHtcclxuICAgIG1vZHVsZS5leHBvcnRzID0gcm9vdC5kb2N1bWVudCA/IGZhY3Rvcnkocm9vdCwgcm9vdC5kb2N1bWVudCkgOiBmdW5jdGlvbih3KXsgcmV0dXJuIGZhY3Rvcnkodywgdy5kb2N1bWVudCkgfVxyXG4gIH0gZWxzZSB7XHJcbiAgICByb290LlNWRyA9IGZhY3Rvcnkocm9vdCwgcm9vdC5kb2N1bWVudClcclxuICB9XHJcbn0odHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdyA6IHRoaXMsIGZ1bmN0aW9uKHdpbmRvdywgZG9jdW1lbnQpIHtcclxuXHJcbi8vIEZpbmQgZ2xvYmFsIHJlZmVyZW5jZSAtIHVzZXMgJ3RoaXMnIGJ5IGRlZmF1bHQgd2hlbiBhdmFpbGFibGUsXHJcbi8vIGZhbGxzIGJhY2sgdG8gJ3dpbmRvdycgb3RoZXJ3aXNlIChmb3IgYnVuZGxlcnMgbGlrZSBXZWJwYWNrKVxyXG52YXIgZ2xvYmFsUmVmID0gKHR5cGVvZiB0aGlzICE9PSBcInVuZGVmaW5lZFwiKSA/IHRoaXMgOiB3aW5kb3c7XHJcblxyXG4vLyBUaGUgbWFpbiB3cmFwcGluZyBlbGVtZW50XHJcbnZhciBTVkcgPSBnbG9iYWxSZWYuU1ZHID0gZnVuY3Rpb24oZWxlbWVudCkge1xyXG4gIGlmIChTVkcuc3VwcG9ydGVkKSB7XHJcbiAgICBlbGVtZW50ID0gbmV3IFNWRy5Eb2MoZWxlbWVudClcclxuXHJcbiAgICBpZighU1ZHLnBhcnNlci5kcmF3KVxyXG4gICAgICBTVkcucHJlcGFyZSgpXHJcblxyXG4gICAgcmV0dXJuIGVsZW1lbnRcclxuICB9XHJcbn1cclxuXHJcbi8vIERlZmF1bHQgbmFtZXNwYWNlc1xyXG5TVkcubnMgICAgPSAnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnXHJcblNWRy54bWxucyA9ICdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3htbG5zLydcclxuU1ZHLnhsaW5rID0gJ2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsnXHJcblNWRy5zdmdqcyA9ICdodHRwOi8vc3ZnanMuY29tL3N2Z2pzJ1xyXG5cclxuLy8gU3ZnIHN1cHBvcnQgdGVzdFxyXG5TVkcuc3VwcG9ydGVkID0gKGZ1bmN0aW9uKCkge1xyXG4gIHJldHVybiAhISBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMgJiZcclxuICAgICAgICAgISEgZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFNWRy5ucywnc3ZnJykuY3JlYXRlU1ZHUmVjdFxyXG59KSgpXHJcblxyXG4vLyBEb24ndCBib3RoZXIgdG8gY29udGludWUgaWYgU1ZHIGlzIG5vdCBzdXBwb3J0ZWRcclxuaWYgKCFTVkcuc3VwcG9ydGVkKSByZXR1cm4gZmFsc2VcclxuXHJcbi8vIEVsZW1lbnQgaWQgc2VxdWVuY2VcclxuU1ZHLmRpZCAgPSAxMDAwXHJcblxyXG4vLyBHZXQgbmV4dCBuYW1lZCBlbGVtZW50IGlkXHJcblNWRy5laWQgPSBmdW5jdGlvbihuYW1lKSB7XHJcbiAgcmV0dXJuICdTdmdqcycgKyBjYXBpdGFsaXplKG5hbWUpICsgKFNWRy5kaWQrKylcclxufVxyXG5cclxuLy8gTWV0aG9kIGZvciBlbGVtZW50IGNyZWF0aW9uXHJcblNWRy5jcmVhdGUgPSBmdW5jdGlvbihuYW1lKSB7XHJcbiAgLy8gY3JlYXRlIGVsZW1lbnRcclxuICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyh0aGlzLm5zLCBuYW1lKVxyXG5cclxuICAvLyBhcHBseSB1bmlxdWUgaWRcclxuICBlbGVtZW50LnNldEF0dHJpYnV0ZSgnaWQnLCB0aGlzLmVpZChuYW1lKSlcclxuXHJcbiAgcmV0dXJuIGVsZW1lbnRcclxufVxyXG5cclxuLy8gTWV0aG9kIGZvciBleHRlbmRpbmcgb2JqZWN0c1xyXG5TVkcuZXh0ZW5kID0gZnVuY3Rpb24oKSB7XHJcbiAgdmFyIG1vZHVsZXMsIG1ldGhvZHMsIGtleSwgaVxyXG5cclxuICAvLyBHZXQgbGlzdCBvZiBtb2R1bGVzXHJcbiAgbW9kdWxlcyA9IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKVxyXG5cclxuICAvLyBHZXQgb2JqZWN0IHdpdGggZXh0ZW5zaW9uc1xyXG4gIG1ldGhvZHMgPSBtb2R1bGVzLnBvcCgpXHJcblxyXG4gIGZvciAoaSA9IG1vZHVsZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pXHJcbiAgICBpZiAobW9kdWxlc1tpXSlcclxuICAgICAgZm9yIChrZXkgaW4gbWV0aG9kcylcclxuICAgICAgICBtb2R1bGVzW2ldLnByb3RvdHlwZVtrZXldID0gbWV0aG9kc1trZXldXHJcblxyXG4gIC8vIE1ha2Ugc3VyZSBTVkcuU2V0IGluaGVyaXRzIGFueSBuZXdseSBhZGRlZCBtZXRob2RzXHJcbiAgaWYgKFNWRy5TZXQgJiYgU1ZHLlNldC5pbmhlcml0KVxyXG4gICAgU1ZHLlNldC5pbmhlcml0KClcclxufVxyXG5cclxuLy8gSW52ZW50IG5ldyBlbGVtZW50XHJcblNWRy5pbnZlbnQgPSBmdW5jdGlvbihjb25maWcpIHtcclxuICAvLyBDcmVhdGUgZWxlbWVudCBpbml0aWFsaXplclxyXG4gIHZhciBpbml0aWFsaXplciA9IHR5cGVvZiBjb25maWcuY3JlYXRlID09ICdmdW5jdGlvbicgP1xyXG4gICAgY29uZmlnLmNyZWF0ZSA6XHJcbiAgICBmdW5jdGlvbigpIHtcclxuICAgICAgdGhpcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsIFNWRy5jcmVhdGUoY29uZmlnLmNyZWF0ZSkpXHJcbiAgICB9XHJcblxyXG4gIC8vIEluaGVyaXQgcHJvdG90eXBlXHJcbiAgaWYgKGNvbmZpZy5pbmhlcml0KVxyXG4gICAgaW5pdGlhbGl6ZXIucHJvdG90eXBlID0gbmV3IGNvbmZpZy5pbmhlcml0XHJcblxyXG4gIC8vIEV4dGVuZCB3aXRoIG1ldGhvZHNcclxuICBpZiAoY29uZmlnLmV4dGVuZClcclxuICAgIFNWRy5leHRlbmQoaW5pdGlhbGl6ZXIsIGNvbmZpZy5leHRlbmQpXHJcblxyXG4gIC8vIEF0dGFjaCBjb25zdHJ1Y3QgbWV0aG9kIHRvIHBhcmVudFxyXG4gIGlmIChjb25maWcuY29uc3RydWN0KVxyXG4gICAgU1ZHLmV4dGVuZChjb25maWcucGFyZW50IHx8IFNWRy5Db250YWluZXIsIGNvbmZpZy5jb25zdHJ1Y3QpXHJcblxyXG4gIHJldHVybiBpbml0aWFsaXplclxyXG59XHJcblxyXG4vLyBBZG9wdCBleGlzdGluZyBzdmcgZWxlbWVudHNcclxuU1ZHLmFkb3B0ID0gZnVuY3Rpb24obm9kZSkge1xyXG4gIC8vIGNoZWNrIGZvciBwcmVzZW5jZSBvZiBub2RlXHJcbiAgaWYgKCFub2RlKSByZXR1cm4gbnVsbFxyXG5cclxuICAvLyBtYWtlIHN1cmUgYSBub2RlIGlzbid0IGFscmVhZHkgYWRvcHRlZFxyXG4gIGlmIChub2RlLmluc3RhbmNlKSByZXR1cm4gbm9kZS5pbnN0YW5jZVxyXG5cclxuICAvLyBpbml0aWFsaXplIHZhcmlhYmxlc1xyXG4gIHZhciBlbGVtZW50XHJcblxyXG4gIC8vIGFkb3B0IHdpdGggZWxlbWVudC1zcGVjaWZpYyBzZXR0aW5nc1xyXG4gIGlmIChub2RlLm5vZGVOYW1lID09ICdzdmcnKVxyXG4gICAgZWxlbWVudCA9IG5vZGUucGFyZW50Tm9kZSBpbnN0YW5jZW9mIHdpbmRvdy5TVkdFbGVtZW50ID8gbmV3IFNWRy5OZXN0ZWQgOiBuZXcgU1ZHLkRvY1xyXG4gIGVsc2UgaWYgKG5vZGUubm9kZU5hbWUgPT0gJ2xpbmVhckdyYWRpZW50JylcclxuICAgIGVsZW1lbnQgPSBuZXcgU1ZHLkdyYWRpZW50KCdsaW5lYXInKVxyXG4gIGVsc2UgaWYgKG5vZGUubm9kZU5hbWUgPT0gJ3JhZGlhbEdyYWRpZW50JylcclxuICAgIGVsZW1lbnQgPSBuZXcgU1ZHLkdyYWRpZW50KCdyYWRpYWwnKVxyXG4gIGVsc2UgaWYgKFNWR1tjYXBpdGFsaXplKG5vZGUubm9kZU5hbWUpXSlcclxuICAgIGVsZW1lbnQgPSBuZXcgU1ZHW2NhcGl0YWxpemUobm9kZS5ub2RlTmFtZSldXHJcbiAgZWxzZVxyXG4gICAgZWxlbWVudCA9IG5ldyBTVkcuRWxlbWVudChub2RlKVxyXG5cclxuICAvLyBlbnN1cmUgcmVmZXJlbmNlc1xyXG4gIGVsZW1lbnQudHlwZSAgPSBub2RlLm5vZGVOYW1lXHJcbiAgZWxlbWVudC5ub2RlICA9IG5vZGVcclxuICBub2RlLmluc3RhbmNlID0gZWxlbWVudFxyXG5cclxuICAvLyBTVkcuQ2xhc3Mgc3BlY2lmaWMgcHJlcGFyYXRpb25zXHJcbiAgaWYgKGVsZW1lbnQgaW5zdGFuY2VvZiBTVkcuRG9jKVxyXG4gICAgZWxlbWVudC5uYW1lc3BhY2UoKS5kZWZzKClcclxuXHJcbiAgLy8gcHVsbCBzdmdqcyBkYXRhIGZyb20gdGhlIGRvbSAoZ2V0QXR0cmlidXRlTlMgZG9lc24ndCB3b3JrIGluIGh0bWw1KVxyXG4gIGVsZW1lbnQuc2V0RGF0YShKU09OLnBhcnNlKG5vZGUuZ2V0QXR0cmlidXRlKCdzdmdqczpkYXRhJykpIHx8IHt9KVxyXG5cclxuICByZXR1cm4gZWxlbWVudFxyXG59XHJcblxyXG4vLyBJbml0aWFsaXplIHBhcnNpbmcgZWxlbWVudFxyXG5TVkcucHJlcGFyZSA9IGZ1bmN0aW9uKCkge1xyXG4gIC8vIFNlbGVjdCBkb2N1bWVudCBib2R5IGFuZCBjcmVhdGUgaW52aXNpYmxlIHN2ZyBlbGVtZW50XHJcbiAgdmFyIGJvZHkgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnYm9keScpWzBdXHJcbiAgICAsIGRyYXcgPSAoYm9keSA/IG5ldyBTVkcuRG9jKGJvZHkpIDogU1ZHLmFkb3B0KGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkubmVzdGVkKCkpLnNpemUoMiwgMClcclxuXHJcbiAgLy8gQ3JlYXRlIHBhcnNlciBvYmplY3RcclxuICBTVkcucGFyc2VyID0ge1xyXG4gICAgYm9keTogYm9keSB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnRcclxuICAsIGRyYXc6IGRyYXcuc3R5bGUoJ29wYWNpdHk6MDtwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0Oi0xMDAlO3RvcDotMTAwJTtvdmVyZmxvdzpoaWRkZW4nKS5hdHRyKCdmb2N1c2FibGUnLCAnZmFsc2UnKS5ub2RlXHJcbiAgLCBwb2x5OiBkcmF3LnBvbHlsaW5lKCkubm9kZVxyXG4gICwgcGF0aDogZHJhdy5wYXRoKCkubm9kZVxyXG4gICwgbmF0aXZlOiBTVkcuY3JlYXRlKCdzdmcnKVxyXG4gIH1cclxufVxyXG5cclxuU1ZHLnBhcnNlciA9IHtcclxuICBuYXRpdmU6IFNWRy5jcmVhdGUoJ3N2ZycpXHJcbn1cclxuXHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBmdW5jdGlvbigpIHtcclxuICBpZighU1ZHLnBhcnNlci5kcmF3KVxyXG4gICAgU1ZHLnByZXBhcmUoKVxyXG59LCBmYWxzZSlcclxuXG4vLyBTdG9yYWdlIGZvciByZWd1bGFyIGV4cHJlc3Npb25zXHJcblNWRy5yZWdleCA9IHtcclxuICAvLyBQYXJzZSB1bml0IHZhbHVlXHJcbiAgbnVtYmVyQW5kVW5pdDogICAgL14oWystXT8oXFxkKyhcXC5cXGQqKT98XFwuXFxkKykoZVsrLV0/XFxkKyk/KShbYS16JV0qKSQvaVxyXG5cclxuICAvLyBQYXJzZSBoZXggdmFsdWVcclxuLCBoZXg6ICAgICAgICAgICAgICAvXiM/KFthLWZcXGRdezJ9KShbYS1mXFxkXXsyfSkoW2EtZlxcZF17Mn0pJC9pXHJcblxyXG4gIC8vIFBhcnNlIHJnYiB2YWx1ZVxyXG4sIHJnYjogICAgICAgICAgICAgIC9yZ2JcXCgoXFxkKyksKFxcZCspLChcXGQrKVxcKS9cclxuXHJcbiAgLy8gUGFyc2UgcmVmZXJlbmNlIGlkXHJcbiwgcmVmZXJlbmNlOiAgICAgICAgLyMoW2EtejAtOVxcLV9dKykvaVxyXG5cclxuICAvLyBzcGxpdHMgYSB0cmFuc2Zvcm1hdGlvbiBjaGFpblxyXG4sIHRyYW5zZm9ybXM6ICAgICAgIC9cXClcXHMqLD9cXHMqL1xyXG5cclxuICAvLyBXaGl0ZXNwYWNlXHJcbiwgd2hpdGVzcGFjZTogICAgICAgL1xccy9nXHJcblxyXG4gIC8vIFRlc3QgaGV4IHZhbHVlXHJcbiwgaXNIZXg6ICAgICAgICAgICAgL14jW2EtZjAtOV17Myw2fSQvaVxyXG5cclxuICAvLyBUZXN0IHJnYiB2YWx1ZVxyXG4sIGlzUmdiOiAgICAgICAgICAgIC9ecmdiXFwoL1xyXG5cclxuICAvLyBUZXN0IGNzcyBkZWNsYXJhdGlvblxyXG4sIGlzQ3NzOiAgICAgICAgICAgIC9bXjpdKzpbXjtdKzs/L1xyXG5cclxuICAvLyBUZXN0IGZvciBibGFuayBzdHJpbmdcclxuLCBpc0JsYW5rOiAgICAgICAgICAvXihcXHMrKT8kL1xyXG5cclxuICAvLyBUZXN0IGZvciBudW1lcmljIHN0cmluZ1xyXG4sIGlzTnVtYmVyOiAgICAgICAgIC9eWystXT8oXFxkKyhcXC5cXGQqKT98XFwuXFxkKykoZVsrLV0/XFxkKyk/JC9pXHJcblxyXG4gIC8vIFRlc3QgZm9yIHBlcmNlbnQgdmFsdWVcclxuLCBpc1BlcmNlbnQ6ICAgICAgICAvXi0/W1xcZFxcLl0rJSQvXHJcblxyXG4gIC8vIFRlc3QgZm9yIGltYWdlIHVybFxyXG4sIGlzSW1hZ2U6ICAgICAgICAgIC9cXC4oanBnfGpwZWd8cG5nfGdpZnxzdmcpKFxcP1tePV0rLiopPy9pXHJcblxyXG4gIC8vIHNwbGl0IGF0IHdoaXRlc3BhY2UgYW5kIGNvbW1hXHJcbiwgZGVsaW1pdGVyOiAgICAgICAgL1tcXHMsXSsvXHJcblxyXG4gIC8vIFRoZSBmb2xsb3dpbmcgcmVnZXggYXJlIHVzZWQgdG8gcGFyc2UgdGhlIGQgYXR0cmlidXRlIG9mIGEgcGF0aFxyXG5cclxuICAvLyBNYXRjaGVzIGFsbCBoeXBoZW5zIHdoaWNoIGFyZSBub3QgYWZ0ZXIgYW4gZXhwb25lbnRcclxuLCBoeXBoZW46ICAgICAgICAgICAvKFteZV0pXFwtL2dpXHJcblxyXG4gIC8vIFJlcGxhY2VzIGFuZCB0ZXN0cyBmb3IgYWxsIHBhdGggbGV0dGVyc1xyXG4sIHBhdGhMZXR0ZXJzOiAgICAgIC9bTUxIVkNTUVRBWl0vZ2lcclxuXHJcbiAgLy8geWVzIHdlIG5lZWQgdGhpcyBvbmUsIHRvb1xyXG4sIGlzUGF0aExldHRlcjogICAgIC9bTUxIVkNTUVRBWl0vaVxyXG5cclxuICAvLyBtYXRjaGVzIDAuMTU0LjIzLjQ1XHJcbiwgbnVtYmVyc1dpdGhEb3RzOiAgLygoXFxkP1xcLlxcZCsoPzplWystXT9cXGQrKT8pKCg/OlxcLlxcZCsoPzplWystXT9cXGQrKT8pKykpKy9naVxyXG5cclxuICAvLyBtYXRjaGVzIC5cclxuLCBkb3RzOiAgICAgICAgICAgICAvXFwuL2dcclxufVxyXG5cblNWRy51dGlscyA9IHtcclxuICAvLyBNYXAgZnVuY3Rpb25cclxuICBtYXA6IGZ1bmN0aW9uKGFycmF5LCBibG9jaykge1xyXG4gICAgdmFyIGlcclxuICAgICAgLCBpbCA9IGFycmF5Lmxlbmd0aFxyXG4gICAgICAsIHJlc3VsdCA9IFtdXHJcblxyXG4gICAgZm9yIChpID0gMDsgaSA8IGlsOyBpKyspXHJcbiAgICAgIHJlc3VsdC5wdXNoKGJsb2NrKGFycmF5W2ldKSlcclxuXHJcbiAgICByZXR1cm4gcmVzdWx0XHJcbiAgfVxyXG5cclxuICAvLyBGaWx0ZXIgZnVuY3Rpb25cclxuLCBmaWx0ZXI6IGZ1bmN0aW9uKGFycmF5LCBibG9jaykge1xyXG4gICAgdmFyIGlcclxuICAgICAgLCBpbCA9IGFycmF5Lmxlbmd0aFxyXG4gICAgICAsIHJlc3VsdCA9IFtdXHJcblxyXG4gICAgZm9yIChpID0gMDsgaSA8IGlsOyBpKyspXHJcbiAgICAgIGlmIChibG9jayhhcnJheVtpXSkpXHJcbiAgICAgICAgcmVzdWx0LnB1c2goYXJyYXlbaV0pXHJcblxyXG4gICAgcmV0dXJuIHJlc3VsdFxyXG4gIH1cclxuXHJcbiAgLy8gRGVncmVlcyB0byByYWRpYW5zXHJcbiwgcmFkaWFuczogZnVuY3Rpb24oZCkge1xyXG4gICAgcmV0dXJuIGQgJSAzNjAgKiBNYXRoLlBJIC8gMTgwXHJcbiAgfVxyXG5cclxuICAvLyBSYWRpYW5zIHRvIGRlZ3JlZXNcclxuLCBkZWdyZWVzOiBmdW5jdGlvbihyKSB7XHJcbiAgICByZXR1cm4gciAqIDE4MCAvIE1hdGguUEkgJSAzNjBcclxuICB9XHJcblxyXG4sIGZpbHRlclNWR0VsZW1lbnRzOiBmdW5jdGlvbihub2Rlcykge1xyXG4gICAgcmV0dXJuIHRoaXMuZmlsdGVyKCBub2RlcywgZnVuY3Rpb24oZWwpIHsgcmV0dXJuIGVsIGluc3RhbmNlb2Ygd2luZG93LlNWR0VsZW1lbnQgfSlcclxuICB9XHJcblxyXG59XG5cclxuU1ZHLmRlZmF1bHRzID0ge1xyXG4gIC8vIERlZmF1bHQgYXR0cmlidXRlIHZhbHVlc1xyXG4gIGF0dHJzOiB7XHJcbiAgICAvLyBmaWxsIGFuZCBzdHJva2VcclxuICAgICdmaWxsLW9wYWNpdHknOiAgICAgMVxyXG4gICwgJ3N0cm9rZS1vcGFjaXR5JzogICAxXHJcbiAgLCAnc3Ryb2tlLXdpZHRoJzogICAgIDBcclxuICAsICdzdHJva2UtbGluZWpvaW4nOiAgJ21pdGVyJ1xyXG4gICwgJ3N0cm9rZS1saW5lY2FwJzogICAnYnV0dCdcclxuICAsIGZpbGw6ICAgICAgICAgICAgICAgJyMwMDAwMDAnXHJcbiAgLCBzdHJva2U6ICAgICAgICAgICAgICcjMDAwMDAwJ1xyXG4gICwgb3BhY2l0eTogICAgICAgICAgICAxXHJcbiAgICAvLyBwb3NpdGlvblxyXG4gICwgeDogICAgICAgICAgICAgICAgICAwXHJcbiAgLCB5OiAgICAgICAgICAgICAgICAgIDBcclxuICAsIGN4OiAgICAgICAgICAgICAgICAgMFxyXG4gICwgY3k6ICAgICAgICAgICAgICAgICAwXHJcbiAgICAvLyBzaXplXHJcbiAgLCB3aWR0aDogICAgICAgICAgICAgIDBcclxuICAsIGhlaWdodDogICAgICAgICAgICAgMFxyXG4gICAgLy8gcmFkaXVzXHJcbiAgLCByOiAgICAgICAgICAgICAgICAgIDBcclxuICAsIHJ4OiAgICAgICAgICAgICAgICAgMFxyXG4gICwgcnk6ICAgICAgICAgICAgICAgICAwXHJcbiAgICAvLyBncmFkaWVudFxyXG4gICwgb2Zmc2V0OiAgICAgICAgICAgICAwXHJcbiAgLCAnc3RvcC1vcGFjaXR5JzogICAgIDFcclxuICAsICdzdG9wLWNvbG9yJzogICAgICAgJyMwMDAwMDAnXHJcbiAgICAvLyB0ZXh0XHJcbiAgLCAnZm9udC1zaXplJzogICAgICAgIDE2XHJcbiAgLCAnZm9udC1mYW1pbHknOiAgICAgICdIZWx2ZXRpY2EsIEFyaWFsLCBzYW5zLXNlcmlmJ1xyXG4gICwgJ3RleHQtYW5jaG9yJzogICAgICAnc3RhcnQnXHJcbiAgfVxyXG5cclxufVxuLy8gTW9kdWxlIGZvciBjb2xvciBjb252ZXJ0aW9uc1xyXG5TVkcuQ29sb3IgPSBmdW5jdGlvbihjb2xvcikge1xyXG4gIHZhciBtYXRjaFxyXG5cclxuICAvLyBpbml0aWFsaXplIGRlZmF1bHRzXHJcbiAgdGhpcy5yID0gMFxyXG4gIHRoaXMuZyA9IDBcclxuICB0aGlzLmIgPSAwXHJcblxyXG4gIGlmKCFjb2xvcikgcmV0dXJuXHJcblxyXG4gIC8vIHBhcnNlIGNvbG9yXHJcbiAgaWYgKHR5cGVvZiBjb2xvciA9PT0gJ3N0cmluZycpIHtcclxuICAgIGlmIChTVkcucmVnZXguaXNSZ2IudGVzdChjb2xvcikpIHtcclxuICAgICAgLy8gZ2V0IHJnYiB2YWx1ZXNcclxuICAgICAgbWF0Y2ggPSBTVkcucmVnZXgucmdiLmV4ZWMoY29sb3IucmVwbGFjZShTVkcucmVnZXgud2hpdGVzcGFjZSwnJykpXHJcblxyXG4gICAgICAvLyBwYXJzZSBudW1lcmljIHZhbHVlc1xyXG4gICAgICB0aGlzLnIgPSBwYXJzZUludChtYXRjaFsxXSlcclxuICAgICAgdGhpcy5nID0gcGFyc2VJbnQobWF0Y2hbMl0pXHJcbiAgICAgIHRoaXMuYiA9IHBhcnNlSW50KG1hdGNoWzNdKVxyXG5cclxuICAgIH0gZWxzZSBpZiAoU1ZHLnJlZ2V4LmlzSGV4LnRlc3QoY29sb3IpKSB7XHJcbiAgICAgIC8vIGdldCBoZXggdmFsdWVzXHJcbiAgICAgIG1hdGNoID0gU1ZHLnJlZ2V4LmhleC5leGVjKGZ1bGxIZXgoY29sb3IpKVxyXG5cclxuICAgICAgLy8gcGFyc2UgbnVtZXJpYyB2YWx1ZXNcclxuICAgICAgdGhpcy5yID0gcGFyc2VJbnQobWF0Y2hbMV0sIDE2KVxyXG4gICAgICB0aGlzLmcgPSBwYXJzZUludChtYXRjaFsyXSwgMTYpXHJcbiAgICAgIHRoaXMuYiA9IHBhcnNlSW50KG1hdGNoWzNdLCAxNilcclxuXHJcbiAgICB9XHJcblxyXG4gIH0gZWxzZSBpZiAodHlwZW9mIGNvbG9yID09PSAnb2JqZWN0Jykge1xyXG4gICAgdGhpcy5yID0gY29sb3IuclxyXG4gICAgdGhpcy5nID0gY29sb3IuZ1xyXG4gICAgdGhpcy5iID0gY29sb3IuYlxyXG5cclxuICB9XHJcblxyXG59XHJcblxyXG5TVkcuZXh0ZW5kKFNWRy5Db2xvciwge1xyXG4gIC8vIERlZmF1bHQgdG8gaGV4IGNvbnZlcnNpb25cclxuICB0b1N0cmluZzogZnVuY3Rpb24oKSB7XHJcbiAgICByZXR1cm4gdGhpcy50b0hleCgpXHJcbiAgfVxyXG4gIC8vIEJ1aWxkIGhleCB2YWx1ZVxyXG4sIHRvSGV4OiBmdW5jdGlvbigpIHtcclxuICAgIHJldHVybiAnIydcclxuICAgICAgKyBjb21wVG9IZXgodGhpcy5yKVxyXG4gICAgICArIGNvbXBUb0hleCh0aGlzLmcpXHJcbiAgICAgICsgY29tcFRvSGV4KHRoaXMuYilcclxuICB9XHJcbiAgLy8gQnVpbGQgcmdiIHZhbHVlXHJcbiwgdG9SZ2I6IGZ1bmN0aW9uKCkge1xyXG4gICAgcmV0dXJuICdyZ2IoJyArIFt0aGlzLnIsIHRoaXMuZywgdGhpcy5iXS5qb2luKCkgKyAnKSdcclxuICB9XHJcbiAgLy8gQ2FsY3VsYXRlIHRydWUgYnJpZ2h0bmVzc1xyXG4sIGJyaWdodG5lc3M6IGZ1bmN0aW9uKCkge1xyXG4gICAgcmV0dXJuICh0aGlzLnIgLyAyNTUgKiAwLjMwKVxyXG4gICAgICAgICArICh0aGlzLmcgLyAyNTUgKiAwLjU5KVxyXG4gICAgICAgICArICh0aGlzLmIgLyAyNTUgKiAwLjExKVxyXG4gIH1cclxuICAvLyBNYWtlIGNvbG9yIG1vcnBoYWJsZVxyXG4sIG1vcnBoOiBmdW5jdGlvbihjb2xvcikge1xyXG4gICAgdGhpcy5kZXN0aW5hdGlvbiA9IG5ldyBTVkcuQ29sb3IoY29sb3IpXHJcblxyXG4gICAgcmV0dXJuIHRoaXNcclxuICB9XHJcbiAgLy8gR2V0IG1vcnBoZWQgY29sb3IgYXQgZ2l2ZW4gcG9zaXRpb25cclxuLCBhdDogZnVuY3Rpb24ocG9zKSB7XHJcbiAgICAvLyBtYWtlIHN1cmUgYSBkZXN0aW5hdGlvbiBpcyBkZWZpbmVkXHJcbiAgICBpZiAoIXRoaXMuZGVzdGluYXRpb24pIHJldHVybiB0aGlzXHJcblxyXG4gICAgLy8gbm9ybWFsaXNlIHBvc1xyXG4gICAgcG9zID0gcG9zIDwgMCA/IDAgOiBwb3MgPiAxID8gMSA6IHBvc1xyXG5cclxuICAgIC8vIGdlbmVyYXRlIG1vcnBoZWQgY29sb3JcclxuICAgIHJldHVybiBuZXcgU1ZHLkNvbG9yKHtcclxuICAgICAgcjogfn4odGhpcy5yICsgKHRoaXMuZGVzdGluYXRpb24uciAtIHRoaXMucikgKiBwb3MpXHJcbiAgICAsIGc6IH5+KHRoaXMuZyArICh0aGlzLmRlc3RpbmF0aW9uLmcgLSB0aGlzLmcpICogcG9zKVxyXG4gICAgLCBiOiB+fih0aGlzLmIgKyAodGhpcy5kZXN0aW5hdGlvbi5iIC0gdGhpcy5iKSAqIHBvcylcclxuICAgIH0pXHJcbiAgfVxyXG5cclxufSlcclxuXHJcbi8vIFRlc3RlcnNcclxuXHJcbi8vIFRlc3QgaWYgZ2l2ZW4gdmFsdWUgaXMgYSBjb2xvciBzdHJpbmdcclxuU1ZHLkNvbG9yLnRlc3QgPSBmdW5jdGlvbihjb2xvcikge1xyXG4gIGNvbG9yICs9ICcnXHJcbiAgcmV0dXJuIFNWRy5yZWdleC5pc0hleC50ZXN0KGNvbG9yKVxyXG4gICAgICB8fCBTVkcucmVnZXguaXNSZ2IudGVzdChjb2xvcilcclxufVxyXG5cclxuLy8gVGVzdCBpZiBnaXZlbiB2YWx1ZSBpcyBhIHJnYiBvYmplY3RcclxuU1ZHLkNvbG9yLmlzUmdiID0gZnVuY3Rpb24oY29sb3IpIHtcclxuICByZXR1cm4gY29sb3IgJiYgdHlwZW9mIGNvbG9yLnIgPT0gJ251bWJlcidcclxuICAgICAgICAgICAgICAgJiYgdHlwZW9mIGNvbG9yLmcgPT0gJ251bWJlcidcclxuICAgICAgICAgICAgICAgJiYgdHlwZW9mIGNvbG9yLmIgPT0gJ251bWJlcidcclxufVxyXG5cclxuLy8gVGVzdCBpZiBnaXZlbiB2YWx1ZSBpcyBhIGNvbG9yXHJcblNWRy5Db2xvci5pc0NvbG9yID0gZnVuY3Rpb24oY29sb3IpIHtcclxuICByZXR1cm4gU1ZHLkNvbG9yLmlzUmdiKGNvbG9yKSB8fCBTVkcuQ29sb3IudGVzdChjb2xvcilcclxufVxuLy8gTW9kdWxlIGZvciBhcnJheSBjb252ZXJzaW9uXHJcblNWRy5BcnJheSA9IGZ1bmN0aW9uKGFycmF5LCBmYWxsYmFjaykge1xyXG4gIGFycmF5ID0gKGFycmF5IHx8IFtdKS52YWx1ZU9mKClcclxuXHJcbiAgLy8gaWYgYXJyYXkgaXMgZW1wdHkgYW5kIGZhbGxiYWNrIGlzIHByb3ZpZGVkLCB1c2UgZmFsbGJhY2tcclxuICBpZiAoYXJyYXkubGVuZ3RoID09IDAgJiYgZmFsbGJhY2spXHJcbiAgICBhcnJheSA9IGZhbGxiYWNrLnZhbHVlT2YoKVxyXG5cclxuICAvLyBwYXJzZSBhcnJheVxyXG4gIHRoaXMudmFsdWUgPSB0aGlzLnBhcnNlKGFycmF5KVxyXG59XHJcblxyXG5TVkcuZXh0ZW5kKFNWRy5BcnJheSwge1xyXG4gIC8vIE1ha2UgYXJyYXkgbW9ycGhhYmxlXHJcbiAgbW9ycGg6IGZ1bmN0aW9uKGFycmF5KSB7XHJcbiAgICB0aGlzLmRlc3RpbmF0aW9uID0gdGhpcy5wYXJzZShhcnJheSlcclxuXHJcbiAgICAvLyBub3JtYWxpemUgbGVuZ3RoIG9mIGFycmF5c1xyXG4gICAgaWYgKHRoaXMudmFsdWUubGVuZ3RoICE9IHRoaXMuZGVzdGluYXRpb24ubGVuZ3RoKSB7XHJcbiAgICAgIHZhciBsYXN0VmFsdWUgICAgICAgPSB0aGlzLnZhbHVlW3RoaXMudmFsdWUubGVuZ3RoIC0gMV1cclxuICAgICAgICAsIGxhc3REZXN0aW5hdGlvbiA9IHRoaXMuZGVzdGluYXRpb25bdGhpcy5kZXN0aW5hdGlvbi5sZW5ndGggLSAxXVxyXG5cclxuICAgICAgd2hpbGUodGhpcy52YWx1ZS5sZW5ndGggPiB0aGlzLmRlc3RpbmF0aW9uLmxlbmd0aClcclxuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLnB1c2gobGFzdERlc3RpbmF0aW9uKVxyXG4gICAgICB3aGlsZSh0aGlzLnZhbHVlLmxlbmd0aCA8IHRoaXMuZGVzdGluYXRpb24ubGVuZ3RoKVxyXG4gICAgICAgIHRoaXMudmFsdWUucHVzaChsYXN0VmFsdWUpXHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRoaXNcclxuICB9XHJcbiAgLy8gQ2xlYW4gdXAgYW55IGR1cGxpY2F0ZSBwb2ludHNcclxuLCBzZXR0bGU6IGZ1bmN0aW9uKCkge1xyXG4gICAgLy8gZmluZCBhbGwgdW5pcXVlIHZhbHVlc1xyXG4gICAgZm9yICh2YXIgaSA9IDAsIGlsID0gdGhpcy52YWx1ZS5sZW5ndGgsIHNlZW4gPSBbXTsgaSA8IGlsOyBpKyspXHJcbiAgICAgIGlmIChzZWVuLmluZGV4T2YodGhpcy52YWx1ZVtpXSkgPT0gLTEpXHJcbiAgICAgICAgc2Vlbi5wdXNoKHRoaXMudmFsdWVbaV0pXHJcblxyXG4gICAgLy8gc2V0IG5ldyB2YWx1ZVxyXG4gICAgcmV0dXJuIHRoaXMudmFsdWUgPSBzZWVuXHJcbiAgfVxyXG4gIC8vIEdldCBtb3JwaGVkIGFycmF5IGF0IGdpdmVuIHBvc2l0aW9uXHJcbiwgYXQ6IGZ1bmN0aW9uKHBvcykge1xyXG4gICAgLy8gbWFrZSBzdXJlIGEgZGVzdGluYXRpb24gaXMgZGVmaW5lZFxyXG4gICAgaWYgKCF0aGlzLmRlc3RpbmF0aW9uKSByZXR1cm4gdGhpc1xyXG5cclxuICAgIC8vIGdlbmVyYXRlIG1vcnBoZWQgYXJyYXlcclxuICAgIGZvciAodmFyIGkgPSAwLCBpbCA9IHRoaXMudmFsdWUubGVuZ3RoLCBhcnJheSA9IFtdOyBpIDwgaWw7IGkrKylcclxuICAgICAgYXJyYXkucHVzaCh0aGlzLnZhbHVlW2ldICsgKHRoaXMuZGVzdGluYXRpb25baV0gLSB0aGlzLnZhbHVlW2ldKSAqIHBvcylcclxuXHJcbiAgICByZXR1cm4gbmV3IFNWRy5BcnJheShhcnJheSlcclxuICB9XHJcbiAgLy8gQ29udmVydCBhcnJheSB0byBzdHJpbmdcclxuLCB0b1N0cmluZzogZnVuY3Rpb24oKSB7XHJcbiAgICByZXR1cm4gdGhpcy52YWx1ZS5qb2luKCcgJylcclxuICB9XHJcbiAgLy8gUmVhbCB2YWx1ZVxyXG4sIHZhbHVlT2Y6IGZ1bmN0aW9uKCkge1xyXG4gICAgcmV0dXJuIHRoaXMudmFsdWVcclxuICB9XHJcbiAgLy8gUGFyc2Ugd2hpdGVzcGFjZSBzZXBhcmF0ZWQgc3RyaW5nXHJcbiwgcGFyc2U6IGZ1bmN0aW9uKGFycmF5KSB7XHJcbiAgICBhcnJheSA9IGFycmF5LnZhbHVlT2YoKVxyXG5cclxuICAgIC8vIGlmIGFscmVhZHkgaXMgYW4gYXJyYXksIG5vIG5lZWQgdG8gcGFyc2UgaXRcclxuICAgIGlmIChBcnJheS5pc0FycmF5KGFycmF5KSkgcmV0dXJuIGFycmF5XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuc3BsaXQoYXJyYXkpXHJcbiAgfVxyXG4gIC8vIFN0cmlwIHVubmVjZXNzYXJ5IHdoaXRlc3BhY2VcclxuLCBzcGxpdDogZnVuY3Rpb24oc3RyaW5nKSB7XHJcbiAgICByZXR1cm4gc3RyaW5nLnRyaW0oKS5zcGxpdChTVkcucmVnZXguZGVsaW1pdGVyKS5tYXAocGFyc2VGbG9hdClcclxuICB9XHJcbiAgLy8gUmV2ZXJzZSBhcnJheVxyXG4sIHJldmVyc2U6IGZ1bmN0aW9uKCkge1xyXG4gICAgdGhpcy52YWx1ZS5yZXZlcnNlKClcclxuXHJcbiAgICByZXR1cm4gdGhpc1xyXG4gIH1cclxuLCBjbG9uZTogZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgY2xvbmUgPSBuZXcgdGhpcy5jb25zdHJ1Y3RvcigpXHJcbiAgICBjbG9uZS52YWx1ZSA9IGFycmF5X2Nsb25lKHRoaXMudmFsdWUpXHJcbiAgICByZXR1cm4gY2xvbmVcclxuICB9XHJcbn0pXG4vLyBQb2x5IHBvaW50cyBhcnJheVxyXG5TVkcuUG9pbnRBcnJheSA9IGZ1bmN0aW9uKGFycmF5LCBmYWxsYmFjaykge1xyXG4gIFNWRy5BcnJheS5jYWxsKHRoaXMsIGFycmF5LCBmYWxsYmFjayB8fCBbWzAsMF1dKVxyXG59XHJcblxyXG4vLyBJbmhlcml0IGZyb20gU1ZHLkFycmF5XHJcblNWRy5Qb2ludEFycmF5LnByb3RvdHlwZSA9IG5ldyBTVkcuQXJyYXlcclxuU1ZHLlBvaW50QXJyYXkucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gU1ZHLlBvaW50QXJyYXlcclxuXHJcblNWRy5leHRlbmQoU1ZHLlBvaW50QXJyYXksIHtcclxuICAvLyBDb252ZXJ0IGFycmF5IHRvIHN0cmluZ1xyXG4gIHRvU3RyaW5nOiBmdW5jdGlvbigpIHtcclxuICAgIC8vIGNvbnZlcnQgdG8gYSBwb2x5IHBvaW50IHN0cmluZ1xyXG4gICAgZm9yICh2YXIgaSA9IDAsIGlsID0gdGhpcy52YWx1ZS5sZW5ndGgsIGFycmF5ID0gW107IGkgPCBpbDsgaSsrKVxyXG4gICAgICBhcnJheS5wdXNoKHRoaXMudmFsdWVbaV0uam9pbignLCcpKVxyXG5cclxuICAgIHJldHVybiBhcnJheS5qb2luKCcgJylcclxuICB9XHJcbiAgLy8gQ29udmVydCBhcnJheSB0byBsaW5lIG9iamVjdFxyXG4sIHRvTGluZTogZnVuY3Rpb24oKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICB4MTogdGhpcy52YWx1ZVswXVswXVxyXG4gICAgLCB5MTogdGhpcy52YWx1ZVswXVsxXVxyXG4gICAgLCB4MjogdGhpcy52YWx1ZVsxXVswXVxyXG4gICAgLCB5MjogdGhpcy52YWx1ZVsxXVsxXVxyXG4gICAgfVxyXG4gIH1cclxuICAvLyBHZXQgbW9ycGhlZCBhcnJheSBhdCBnaXZlbiBwb3NpdGlvblxyXG4sIGF0OiBmdW5jdGlvbihwb3MpIHtcclxuICAgIC8vIG1ha2Ugc3VyZSBhIGRlc3RpbmF0aW9uIGlzIGRlZmluZWRcclxuICAgIGlmICghdGhpcy5kZXN0aW5hdGlvbikgcmV0dXJuIHRoaXNcclxuXHJcbiAgICAvLyBnZW5lcmF0ZSBtb3JwaGVkIHBvaW50IHN0cmluZ1xyXG4gICAgZm9yICh2YXIgaSA9IDAsIGlsID0gdGhpcy52YWx1ZS5sZW5ndGgsIGFycmF5ID0gW107IGkgPCBpbDsgaSsrKVxyXG4gICAgICBhcnJheS5wdXNoKFtcclxuICAgICAgICB0aGlzLnZhbHVlW2ldWzBdICsgKHRoaXMuZGVzdGluYXRpb25baV1bMF0gLSB0aGlzLnZhbHVlW2ldWzBdKSAqIHBvc1xyXG4gICAgICAsIHRoaXMudmFsdWVbaV1bMV0gKyAodGhpcy5kZXN0aW5hdGlvbltpXVsxXSAtIHRoaXMudmFsdWVbaV1bMV0pICogcG9zXHJcbiAgICAgIF0pXHJcblxyXG4gICAgcmV0dXJuIG5ldyBTVkcuUG9pbnRBcnJheShhcnJheSlcclxuICB9XHJcbiAgLy8gUGFyc2UgcG9pbnQgc3RyaW5nIGFuZCBmbGF0IGFycmF5XHJcbiwgcGFyc2U6IGZ1bmN0aW9uKGFycmF5KSB7XHJcbiAgICB2YXIgcG9pbnRzID0gW11cclxuXHJcbiAgICBhcnJheSA9IGFycmF5LnZhbHVlT2YoKVxyXG5cclxuICAgIC8vIGlmIGl0IGlzIGFuIGFycmF5XHJcbiAgICBpZiAoQXJyYXkuaXNBcnJheShhcnJheSkpIHtcclxuICAgICAgLy8gYW5kIGl0IGlzIG5vdCBmbGF0LCB0aGVyZSBpcyBubyBuZWVkIHRvIHBhcnNlIGl0XHJcbiAgICAgIGlmKEFycmF5LmlzQXJyYXkoYXJyYXlbMF0pKSB7XHJcbiAgICAgICAgLy8gbWFrZSBzdXJlIHRvIHVzZSBhIGNsb25lXHJcbiAgICAgICAgcmV0dXJuIGFycmF5Lm1hcChmdW5jdGlvbiAoZWwpIHsgcmV0dXJuIGVsLnNsaWNlKCkgfSlcclxuICAgICAgfSBlbHNlIGlmIChhcnJheVswXS54ICE9IG51bGwpe1xyXG4gICAgICAgIC8vIGFsbG93IHBvaW50IG9iamVjdHMgdG8gYmUgcGFzc2VkXHJcbiAgICAgICAgcmV0dXJuIGFycmF5Lm1hcChmdW5jdGlvbiAoZWwpIHsgcmV0dXJuIFtlbC54LCBlbC55XSB9KVxyXG4gICAgICB9XHJcbiAgICB9IGVsc2UgeyAvLyBFbHNlLCBpdCBpcyBjb25zaWRlcmVkIGFzIGEgc3RyaW5nXHJcbiAgICAgIC8vIHBhcnNlIHBvaW50c1xyXG4gICAgICBhcnJheSA9IGFycmF5LnRyaW0oKS5zcGxpdChTVkcucmVnZXguZGVsaW1pdGVyKS5tYXAocGFyc2VGbG9hdClcclxuICAgIH1cclxuXHJcbiAgICAvLyB2YWxpZGF0ZSBwb2ludHMgLSBodHRwczovL3N2Z3dnLm9yZy9zdmcyLWRyYWZ0L3NoYXBlcy5odG1sI0RhdGFUeXBlUG9pbnRzXHJcbiAgICAvLyBPZGQgbnVtYmVyIG9mIGNvb3JkaW5hdGVzIGlzIGFuIGVycm9yLiBJbiBzdWNoIGNhc2VzLCBkcm9wIHRoZSBsYXN0IG9kZCBjb29yZGluYXRlLlxyXG4gICAgaWYgKGFycmF5Lmxlbmd0aCAlIDIgIT09IDApIGFycmF5LnBvcCgpXHJcblxyXG4gICAgLy8gd3JhcCBwb2ludHMgaW4gdHdvLXR1cGxlcyBhbmQgcGFyc2UgcG9pbnRzIGFzIGZsb2F0c1xyXG4gICAgZm9yKHZhciBpID0gMCwgbGVuID0gYXJyYXkubGVuZ3RoOyBpIDwgbGVuOyBpID0gaSArIDIpXHJcbiAgICAgIHBvaW50cy5wdXNoKFsgYXJyYXlbaV0sIGFycmF5W2krMV0gXSlcclxuXHJcbiAgICByZXR1cm4gcG9pbnRzXHJcbiAgfVxyXG4gIC8vIE1vdmUgcG9pbnQgc3RyaW5nXHJcbiwgbW92ZTogZnVuY3Rpb24oeCwgeSkge1xyXG4gICAgdmFyIGJveCA9IHRoaXMuYmJveCgpXHJcblxyXG4gICAgLy8gZ2V0IHJlbGF0aXZlIG9mZnNldFxyXG4gICAgeCAtPSBib3gueFxyXG4gICAgeSAtPSBib3gueVxyXG5cclxuICAgIC8vIG1vdmUgZXZlcnkgcG9pbnRcclxuICAgIGlmICghaXNOYU4oeCkgJiYgIWlzTmFOKHkpKVxyXG4gICAgICBmb3IgKHZhciBpID0gdGhpcy52YWx1ZS5sZW5ndGggLSAxOyBpID49IDA7IGktLSlcclxuICAgICAgICB0aGlzLnZhbHVlW2ldID0gW3RoaXMudmFsdWVbaV1bMF0gKyB4LCB0aGlzLnZhbHVlW2ldWzFdICsgeV1cclxuXHJcbiAgICByZXR1cm4gdGhpc1xyXG4gIH1cclxuICAvLyBSZXNpemUgcG9seSBzdHJpbmdcclxuLCBzaXplOiBmdW5jdGlvbih3aWR0aCwgaGVpZ2h0KSB7XHJcbiAgICB2YXIgaSwgYm94ID0gdGhpcy5iYm94KClcclxuXHJcbiAgICAvLyByZWNhbGN1bGF0ZSBwb3NpdGlvbiBvZiBhbGwgcG9pbnRzIGFjY29yZGluZyB0byBuZXcgc2l6ZVxyXG4gICAgZm9yIChpID0gdGhpcy52YWx1ZS5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xyXG4gICAgICBpZihib3gud2lkdGgpIHRoaXMudmFsdWVbaV1bMF0gPSAoKHRoaXMudmFsdWVbaV1bMF0gLSBib3gueCkgKiB3aWR0aCkgIC8gYm94LndpZHRoICArIGJveC54XHJcbiAgICAgIGlmKGJveC5oZWlnaHQpIHRoaXMudmFsdWVbaV1bMV0gPSAoKHRoaXMudmFsdWVbaV1bMV0gLSBib3gueSkgKiBoZWlnaHQpIC8gYm94LmhlaWdodCArIGJveC55XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRoaXNcclxuICB9XHJcbiAgLy8gR2V0IGJvdW5kaW5nIGJveCBvZiBwb2ludHNcclxuLCBiYm94OiBmdW5jdGlvbigpIHtcclxuICAgIFNWRy5wYXJzZXIucG9seS5zZXRBdHRyaWJ1dGUoJ3BvaW50cycsIHRoaXMudG9TdHJpbmcoKSlcclxuXHJcbiAgICByZXR1cm4gU1ZHLnBhcnNlci5wb2x5LmdldEJCb3goKVxyXG4gIH1cclxufSlcclxuXG52YXIgcGF0aEhhbmRsZXJzID0ge1xyXG4gIE06IGZ1bmN0aW9uKGMsIHAsIHAwKSB7XHJcbiAgICBwLnggPSBwMC54ID0gY1swXVxyXG4gICAgcC55ID0gcDAueSA9IGNbMV1cclxuXHJcbiAgICByZXR1cm4gWydNJywgcC54LCBwLnldXHJcbiAgfSxcclxuICBMOiBmdW5jdGlvbihjLCBwKSB7XHJcbiAgICBwLnggPSBjWzBdXHJcbiAgICBwLnkgPSBjWzFdXHJcbiAgICByZXR1cm4gWydMJywgY1swXSwgY1sxXV1cclxuICB9LFxyXG4gIEg6IGZ1bmN0aW9uKGMsIHApIHtcclxuICAgIHAueCA9IGNbMF1cclxuICAgIHJldHVybiBbJ0gnLCBjWzBdXVxyXG4gIH0sXHJcbiAgVjogZnVuY3Rpb24oYywgcCkge1xyXG4gICAgcC55ID0gY1swXVxyXG4gICAgcmV0dXJuIFsnVicsIGNbMF1dXHJcbiAgfSxcclxuICBDOiBmdW5jdGlvbihjLCBwKSB7XHJcbiAgICBwLnggPSBjWzRdXHJcbiAgICBwLnkgPSBjWzVdXHJcbiAgICByZXR1cm4gWydDJywgY1swXSwgY1sxXSwgY1syXSwgY1szXSwgY1s0XSwgY1s1XV1cclxuICB9LFxyXG4gIFM6IGZ1bmN0aW9uKGMsIHApIHtcclxuICAgIHAueCA9IGNbMl1cclxuICAgIHAueSA9IGNbM11cclxuICAgIHJldHVybiBbJ1MnLCBjWzBdLCBjWzFdLCBjWzJdLCBjWzNdXVxyXG4gIH0sXHJcbiAgUTogZnVuY3Rpb24oYywgcCkge1xyXG4gICAgcC54ID0gY1syXVxyXG4gICAgcC55ID0gY1szXVxyXG4gICAgcmV0dXJuIFsnUScsIGNbMF0sIGNbMV0sIGNbMl0sIGNbM11dXHJcbiAgfSxcclxuICBUOiBmdW5jdGlvbihjLCBwKSB7XHJcbiAgICBwLnggPSBjWzBdXHJcbiAgICBwLnkgPSBjWzFdXHJcbiAgICByZXR1cm4gWydUJywgY1swXSwgY1sxXV1cclxuICB9LFxyXG4gIFo6IGZ1bmN0aW9uKGMsIHAsIHAwKSB7XHJcbiAgICBwLnggPSBwMC54XHJcbiAgICBwLnkgPSBwMC55XHJcbiAgICByZXR1cm4gWydaJ11cclxuICB9LFxyXG4gIEE6IGZ1bmN0aW9uKGMsIHApIHtcclxuICAgIHAueCA9IGNbNV1cclxuICAgIHAueSA9IGNbNl1cclxuICAgIHJldHVybiBbJ0EnLCBjWzBdLCBjWzFdLCBjWzJdLCBjWzNdLCBjWzRdLCBjWzVdLCBjWzZdXVxyXG4gIH1cclxufVxyXG5cclxudmFyIG1saHZxdGNzYSA9ICdtbGh2cXRjc2F6Jy5zcGxpdCgnJylcclxuXHJcbmZvcih2YXIgaSA9IDAsIGlsID0gbWxodnF0Y3NhLmxlbmd0aDsgaSA8IGlsOyArK2kpe1xyXG4gIHBhdGhIYW5kbGVyc1ttbGh2cXRjc2FbaV1dID0gKGZ1bmN0aW9uKGkpe1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uKGMsIHAsIHAwKSB7XHJcbiAgICAgIGlmKGkgPT0gJ0gnKSBjWzBdID0gY1swXSArIHAueFxyXG4gICAgICBlbHNlIGlmKGkgPT0gJ1YnKSBjWzBdID0gY1swXSArIHAueVxyXG4gICAgICBlbHNlIGlmKGkgPT0gJ0EnKXtcclxuICAgICAgICBjWzVdID0gY1s1XSArIHAueCxcclxuICAgICAgICBjWzZdID0gY1s2XSArIHAueVxyXG4gICAgICB9XHJcbiAgICAgIGVsc2VcclxuICAgICAgICBmb3IodmFyIGogPSAwLCBqbCA9IGMubGVuZ3RoOyBqIDwgamw7ICsraikge1xyXG4gICAgICAgICAgY1tqXSA9IGNbal0gKyAoaiUyID8gcC55IDogcC54KVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBwYXRoSGFuZGxlcnNbaV0oYywgcCwgcDApXHJcbiAgICB9XHJcbiAgfSkobWxodnF0Y3NhW2ldLnRvVXBwZXJDYXNlKCkpXHJcbn1cclxuXHJcbi8vIFBhdGggcG9pbnRzIGFycmF5XHJcblNWRy5QYXRoQXJyYXkgPSBmdW5jdGlvbihhcnJheSwgZmFsbGJhY2spIHtcclxuICBTVkcuQXJyYXkuY2FsbCh0aGlzLCBhcnJheSwgZmFsbGJhY2sgfHwgW1snTScsIDAsIDBdXSlcclxufVxyXG5cclxuLy8gSW5oZXJpdCBmcm9tIFNWRy5BcnJheVxyXG5TVkcuUGF0aEFycmF5LnByb3RvdHlwZSA9IG5ldyBTVkcuQXJyYXlcclxuU1ZHLlBhdGhBcnJheS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBTVkcuUGF0aEFycmF5XHJcblxyXG5TVkcuZXh0ZW5kKFNWRy5QYXRoQXJyYXksIHtcclxuICAvLyBDb252ZXJ0IGFycmF5IHRvIHN0cmluZ1xyXG4gIHRvU3RyaW5nOiBmdW5jdGlvbigpIHtcclxuICAgIHJldHVybiBhcnJheVRvU3RyaW5nKHRoaXMudmFsdWUpXHJcbiAgfVxyXG4gIC8vIE1vdmUgcGF0aCBzdHJpbmdcclxuLCBtb3ZlOiBmdW5jdGlvbih4LCB5KSB7XHJcbiAgICAvLyBnZXQgYm91bmRpbmcgYm94IG9mIGN1cnJlbnQgc2l0dWF0aW9uXHJcbiAgICB2YXIgYm94ID0gdGhpcy5iYm94KClcclxuXHJcbiAgICAvLyBnZXQgcmVsYXRpdmUgb2Zmc2V0XHJcbiAgICB4IC09IGJveC54XHJcbiAgICB5IC09IGJveC55XHJcblxyXG4gICAgaWYgKCFpc05hTih4KSAmJiAhaXNOYU4oeSkpIHtcclxuICAgICAgLy8gbW92ZSBldmVyeSBwb2ludFxyXG4gICAgICBmb3IgKHZhciBsLCBpID0gdGhpcy52YWx1ZS5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xyXG4gICAgICAgIGwgPSB0aGlzLnZhbHVlW2ldWzBdXHJcblxyXG4gICAgICAgIGlmIChsID09ICdNJyB8fCBsID09ICdMJyB8fCBsID09ICdUJykgIHtcclxuICAgICAgICAgIHRoaXMudmFsdWVbaV1bMV0gKz0geFxyXG4gICAgICAgICAgdGhpcy52YWx1ZVtpXVsyXSArPSB5XHJcblxyXG4gICAgICAgIH0gZWxzZSBpZiAobCA9PSAnSCcpICB7XHJcbiAgICAgICAgICB0aGlzLnZhbHVlW2ldWzFdICs9IHhcclxuXHJcbiAgICAgICAgfSBlbHNlIGlmIChsID09ICdWJykgIHtcclxuICAgICAgICAgIHRoaXMudmFsdWVbaV1bMV0gKz0geVxyXG5cclxuICAgICAgICB9IGVsc2UgaWYgKGwgPT0gJ0MnIHx8IGwgPT0gJ1MnIHx8IGwgPT0gJ1EnKSAge1xyXG4gICAgICAgICAgdGhpcy52YWx1ZVtpXVsxXSArPSB4XHJcbiAgICAgICAgICB0aGlzLnZhbHVlW2ldWzJdICs9IHlcclxuICAgICAgICAgIHRoaXMudmFsdWVbaV1bM10gKz0geFxyXG4gICAgICAgICAgdGhpcy52YWx1ZVtpXVs0XSArPSB5XHJcblxyXG4gICAgICAgICAgaWYgKGwgPT0gJ0MnKSAge1xyXG4gICAgICAgICAgICB0aGlzLnZhbHVlW2ldWzVdICs9IHhcclxuICAgICAgICAgICAgdGhpcy52YWx1ZVtpXVs2XSArPSB5XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH0gZWxzZSBpZiAobCA9PSAnQScpICB7XHJcbiAgICAgICAgICB0aGlzLnZhbHVlW2ldWzZdICs9IHhcclxuICAgICAgICAgIHRoaXMudmFsdWVbaV1bN10gKz0geVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpc1xyXG4gIH1cclxuICAvLyBSZXNpemUgcGF0aCBzdHJpbmdcclxuLCBzaXplOiBmdW5jdGlvbih3aWR0aCwgaGVpZ2h0KSB7XHJcbiAgICAvLyBnZXQgYm91bmRpbmcgYm94IG9mIGN1cnJlbnQgc2l0dWF0aW9uXHJcbiAgICB2YXIgaSwgbCwgYm94ID0gdGhpcy5iYm94KClcclxuXHJcbiAgICAvLyByZWNhbGN1bGF0ZSBwb3NpdGlvbiBvZiBhbGwgcG9pbnRzIGFjY29yZGluZyB0byBuZXcgc2l6ZVxyXG4gICAgZm9yIChpID0gdGhpcy52YWx1ZS5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xyXG4gICAgICBsID0gdGhpcy52YWx1ZVtpXVswXVxyXG5cclxuICAgICAgaWYgKGwgPT0gJ00nIHx8IGwgPT0gJ0wnIHx8IGwgPT0gJ1QnKSAge1xyXG4gICAgICAgIHRoaXMudmFsdWVbaV1bMV0gPSAoKHRoaXMudmFsdWVbaV1bMV0gLSBib3gueCkgKiB3aWR0aCkgIC8gYm94LndpZHRoICArIGJveC54XHJcbiAgICAgICAgdGhpcy52YWx1ZVtpXVsyXSA9ICgodGhpcy52YWx1ZVtpXVsyXSAtIGJveC55KSAqIGhlaWdodCkgLyBib3guaGVpZ2h0ICsgYm94LnlcclxuXHJcbiAgICAgIH0gZWxzZSBpZiAobCA9PSAnSCcpICB7XHJcbiAgICAgICAgdGhpcy52YWx1ZVtpXVsxXSA9ICgodGhpcy52YWx1ZVtpXVsxXSAtIGJveC54KSAqIHdpZHRoKSAgLyBib3gud2lkdGggICsgYm94LnhcclxuXHJcbiAgICAgIH0gZWxzZSBpZiAobCA9PSAnVicpICB7XHJcbiAgICAgICAgdGhpcy52YWx1ZVtpXVsxXSA9ICgodGhpcy52YWx1ZVtpXVsxXSAtIGJveC55KSAqIGhlaWdodCkgLyBib3guaGVpZ2h0ICsgYm94LnlcclxuXHJcbiAgICAgIH0gZWxzZSBpZiAobCA9PSAnQycgfHwgbCA9PSAnUycgfHwgbCA9PSAnUScpICB7XHJcbiAgICAgICAgdGhpcy52YWx1ZVtpXVsxXSA9ICgodGhpcy52YWx1ZVtpXVsxXSAtIGJveC54KSAqIHdpZHRoKSAgLyBib3gud2lkdGggICsgYm94LnhcclxuICAgICAgICB0aGlzLnZhbHVlW2ldWzJdID0gKCh0aGlzLnZhbHVlW2ldWzJdIC0gYm94LnkpICogaGVpZ2h0KSAvIGJveC5oZWlnaHQgKyBib3gueVxyXG4gICAgICAgIHRoaXMudmFsdWVbaV1bM10gPSAoKHRoaXMudmFsdWVbaV1bM10gLSBib3gueCkgKiB3aWR0aCkgIC8gYm94LndpZHRoICArIGJveC54XHJcbiAgICAgICAgdGhpcy52YWx1ZVtpXVs0XSA9ICgodGhpcy52YWx1ZVtpXVs0XSAtIGJveC55KSAqIGhlaWdodCkgLyBib3guaGVpZ2h0ICsgYm94LnlcclxuXHJcbiAgICAgICAgaWYgKGwgPT0gJ0MnKSAge1xyXG4gICAgICAgICAgdGhpcy52YWx1ZVtpXVs1XSA9ICgodGhpcy52YWx1ZVtpXVs1XSAtIGJveC54KSAqIHdpZHRoKSAgLyBib3gud2lkdGggICsgYm94LnhcclxuICAgICAgICAgIHRoaXMudmFsdWVbaV1bNl0gPSAoKHRoaXMudmFsdWVbaV1bNl0gLSBib3gueSkgKiBoZWlnaHQpIC8gYm94LmhlaWdodCArIGJveC55XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgfSBlbHNlIGlmIChsID09ICdBJykgIHtcclxuICAgICAgICAvLyByZXNpemUgcmFkaWlcclxuICAgICAgICB0aGlzLnZhbHVlW2ldWzFdID0gKHRoaXMudmFsdWVbaV1bMV0gKiB3aWR0aCkgIC8gYm94LndpZHRoXHJcbiAgICAgICAgdGhpcy52YWx1ZVtpXVsyXSA9ICh0aGlzLnZhbHVlW2ldWzJdICogaGVpZ2h0KSAvIGJveC5oZWlnaHRcclxuXHJcbiAgICAgICAgLy8gbW92ZSBwb3NpdGlvbiB2YWx1ZXNcclxuICAgICAgICB0aGlzLnZhbHVlW2ldWzZdID0gKCh0aGlzLnZhbHVlW2ldWzZdIC0gYm94LngpICogd2lkdGgpICAvIGJveC53aWR0aCAgKyBib3gueFxyXG4gICAgICAgIHRoaXMudmFsdWVbaV1bN10gPSAoKHRoaXMudmFsdWVbaV1bN10gLSBib3gueSkgKiBoZWlnaHQpIC8gYm94LmhlaWdodCArIGJveC55XHJcbiAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRoaXNcclxuICB9XHJcbiAgLy8gVGVzdCBpZiB0aGUgcGFzc2VkIHBhdGggYXJyYXkgdXNlIHRoZSBzYW1lIHBhdGggZGF0YSBjb21tYW5kcyBhcyB0aGlzIHBhdGggYXJyYXlcclxuLCBlcXVhbENvbW1hbmRzOiBmdW5jdGlvbihwYXRoQXJyYXkpIHtcclxuICAgIHZhciBpLCBpbCwgZXF1YWxDb21tYW5kc1xyXG5cclxuICAgIHBhdGhBcnJheSA9IG5ldyBTVkcuUGF0aEFycmF5KHBhdGhBcnJheSlcclxuXHJcbiAgICBlcXVhbENvbW1hbmRzID0gdGhpcy52YWx1ZS5sZW5ndGggPT09IHBhdGhBcnJheS52YWx1ZS5sZW5ndGhcclxuICAgIGZvcihpID0gMCwgaWwgPSB0aGlzLnZhbHVlLmxlbmd0aDsgZXF1YWxDb21tYW5kcyAmJiBpIDwgaWw7IGkrKykge1xyXG4gICAgICBlcXVhbENvbW1hbmRzID0gdGhpcy52YWx1ZVtpXVswXSA9PT0gcGF0aEFycmF5LnZhbHVlW2ldWzBdXHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGVxdWFsQ29tbWFuZHNcclxuICB9XHJcbiAgLy8gTWFrZSBwYXRoIGFycmF5IG1vcnBoYWJsZVxyXG4sIG1vcnBoOiBmdW5jdGlvbihwYXRoQXJyYXkpIHtcclxuICAgIHBhdGhBcnJheSA9IG5ldyBTVkcuUGF0aEFycmF5KHBhdGhBcnJheSlcclxuXHJcbiAgICBpZih0aGlzLmVxdWFsQ29tbWFuZHMocGF0aEFycmF5KSkge1xyXG4gICAgICB0aGlzLmRlc3RpbmF0aW9uID0gcGF0aEFycmF5XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmRlc3RpbmF0aW9uID0gbnVsbFxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzXHJcbiAgfVxyXG4gIC8vIEdldCBtb3JwaGVkIHBhdGggYXJyYXkgYXQgZ2l2ZW4gcG9zaXRpb25cclxuLCBhdDogZnVuY3Rpb24ocG9zKSB7XHJcbiAgICAvLyBtYWtlIHN1cmUgYSBkZXN0aW5hdGlvbiBpcyBkZWZpbmVkXHJcbiAgICBpZiAoIXRoaXMuZGVzdGluYXRpb24pIHJldHVybiB0aGlzXHJcblxyXG4gICAgdmFyIHNvdXJjZUFycmF5ID0gdGhpcy52YWx1ZVxyXG4gICAgICAsIGRlc3RpbmF0aW9uQXJyYXkgPSB0aGlzLmRlc3RpbmF0aW9uLnZhbHVlXHJcbiAgICAgICwgYXJyYXkgPSBbXSwgcGF0aEFycmF5ID0gbmV3IFNWRy5QYXRoQXJyYXkoKVxyXG4gICAgICAsIGksIGlsLCBqLCBqbFxyXG5cclxuICAgIC8vIEFuaW1hdGUgaGFzIHNwZWNpZmllZCBpbiB0aGUgU1ZHIHNwZWNcclxuICAgIC8vIFNlZTogaHR0cHM6Ly93d3cudzMub3JnL1RSL1NWRzExL3BhdGhzLmh0bWwjUGF0aEVsZW1lbnRcclxuICAgIGZvciAoaSA9IDAsIGlsID0gc291cmNlQXJyYXkubGVuZ3RoOyBpIDwgaWw7IGkrKykge1xyXG4gICAgICBhcnJheVtpXSA9IFtzb3VyY2VBcnJheVtpXVswXV1cclxuICAgICAgZm9yKGogPSAxLCBqbCA9IHNvdXJjZUFycmF5W2ldLmxlbmd0aDsgaiA8IGpsOyBqKyspIHtcclxuICAgICAgICBhcnJheVtpXVtqXSA9IHNvdXJjZUFycmF5W2ldW2pdICsgKGRlc3RpbmF0aW9uQXJyYXlbaV1bal0gLSBzb3VyY2VBcnJheVtpXVtqXSkgKiBwb3NcclxuICAgICAgfVxyXG4gICAgICAvLyBGb3IgdGhlIHR3byBmbGFncyBvZiB0aGUgZWxsaXB0aWNhbCBhcmMgY29tbWFuZCwgdGhlIFNWRyBzcGVjIHNheTpcclxuICAgICAgLy8gRmxhZ3MgYW5kIGJvb2xlYW5zIGFyZSBpbnRlcnBvbGF0ZWQgYXMgZnJhY3Rpb25zIGJldHdlZW4gemVybyBhbmQgb25lLCB3aXRoIGFueSBub24temVybyB2YWx1ZSBjb25zaWRlcmVkIHRvIGJlIGEgdmFsdWUgb2Ygb25lL3RydWVcclxuICAgICAgLy8gRWxsaXB0aWNhbCBhcmMgY29tbWFuZCBhcyBhbiBhcnJheSBmb2xsb3dlZCBieSBjb3JyZXNwb25kaW5nIGluZGV4ZXM6XHJcbiAgICAgIC8vIFsnQScsIHJ4LCByeSwgeC1heGlzLXJvdGF0aW9uLCBsYXJnZS1hcmMtZmxhZywgc3dlZXAtZmxhZywgeCwgeV1cclxuICAgICAgLy8gICAwICAgIDEgICAyICAgICAgICAzICAgICAgICAgICAgICAgICA0ICAgICAgICAgICAgIDUgICAgICA2ICA3XHJcbiAgICAgIGlmKGFycmF5W2ldWzBdID09PSAnQScpIHtcclxuICAgICAgICBhcnJheVtpXVs0XSA9ICsoYXJyYXlbaV1bNF0gIT0gMClcclxuICAgICAgICBhcnJheVtpXVs1XSA9ICsoYXJyYXlbaV1bNV0gIT0gMClcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIERpcmVjdGx5IG1vZGlmeSB0aGUgdmFsdWUgb2YgYSBwYXRoIGFycmF5LCB0aGlzIGlzIGRvbmUgdGhpcyB3YXkgZm9yIHBlcmZvcm1hbmNlXHJcbiAgICBwYXRoQXJyYXkudmFsdWUgPSBhcnJheVxyXG4gICAgcmV0dXJuIHBhdGhBcnJheVxyXG4gIH1cclxuICAvLyBBYnNvbHV0aXplIGFuZCBwYXJzZSBwYXRoIHRvIGFycmF5XHJcbiwgcGFyc2U6IGZ1bmN0aW9uKGFycmF5KSB7XHJcbiAgICAvLyBpZiBpdCdzIGFscmVhZHkgYSBwYXRoYXJyYXksIG5vIG5lZWQgdG8gcGFyc2UgaXRcclxuICAgIGlmIChhcnJheSBpbnN0YW5jZW9mIFNWRy5QYXRoQXJyYXkpIHJldHVybiBhcnJheS52YWx1ZU9mKClcclxuXHJcbiAgICAvLyBwcmVwYXJlIGZvciBwYXJzaW5nXHJcbiAgICB2YXIgaSwgeDAsIHkwLCBzLCBzZWcsIGFyclxyXG4gICAgICAsIHggPSAwXHJcbiAgICAgICwgeSA9IDBcclxuICAgICAgLCBwYXJhbUNudCA9IHsgJ00nOjIsICdMJzoyLCAnSCc6MSwgJ1YnOjEsICdDJzo2LCAnUyc6NCwgJ1EnOjQsICdUJzoyLCAnQSc6NywgJ1onOjAgfVxyXG5cclxuICAgIGlmKHR5cGVvZiBhcnJheSA9PSAnc3RyaW5nJyl7XHJcblxyXG4gICAgICBhcnJheSA9IGFycmF5XHJcbiAgICAgICAgLnJlcGxhY2UoU1ZHLnJlZ2V4Lm51bWJlcnNXaXRoRG90cywgcGF0aFJlZ1JlcGxhY2UpIC8vIGNvbnZlcnQgNDUuMTIzLjEyMyB0byA0NS4xMjMgLjEyM1xyXG4gICAgICAgIC5yZXBsYWNlKFNWRy5yZWdleC5wYXRoTGV0dGVycywgJyAkJiAnKSAvLyBwdXQgc29tZSByb29tIGJldHdlZW4gbGV0dGVycyBhbmQgbnVtYmVyc1xyXG4gICAgICAgIC5yZXBsYWNlKFNWRy5yZWdleC5oeXBoZW4sICckMSAtJykgICAgICAvLyBhZGQgc3BhY2UgYmVmb3JlIGh5cGhlblxyXG4gICAgICAgIC50cmltKCkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0cmltXHJcbiAgICAgICAgLnNwbGl0KFNWRy5yZWdleC5kZWxpbWl0ZXIpICAgLy8gc3BsaXQgaW50byBhcnJheVxyXG5cclxuICAgIH1lbHNle1xyXG4gICAgICBhcnJheSA9IGFycmF5LnJlZHVjZShmdW5jdGlvbihwcmV2LCBjdXJyKXtcclxuICAgICAgICByZXR1cm4gW10uY29uY2F0LmNhbGwocHJldiwgY3VycilcclxuICAgICAgfSwgW10pXHJcbiAgICB9XHJcblxyXG4gICAgLy8gYXJyYXkgbm93IGlzIGFuIGFycmF5IGNvbnRhaW5pbmcgYWxsIHBhcnRzIG9mIGEgcGF0aCBlLmcuIFsnTScsICcwJywgJzAnLCAnTCcsICczMCcsICczMCcgLi4uXVxyXG4gICAgdmFyIGFyciA9IFtdXHJcbiAgICAgICwgcCA9IG5ldyBTVkcuUG9pbnQoKVxyXG4gICAgICAsIHAwID0gbmV3IFNWRy5Qb2ludCgpXHJcbiAgICAgICwgaW5kZXggPSAwXHJcbiAgICAgICwgbGVuID0gYXJyYXkubGVuZ3RoXHJcblxyXG4gICAgZG97XHJcbiAgICAgIC8vIFRlc3QgaWYgd2UgaGF2ZSBhIHBhdGggbGV0dGVyXHJcbiAgICAgIGlmKFNWRy5yZWdleC5pc1BhdGhMZXR0ZXIudGVzdChhcnJheVtpbmRleF0pKXtcclxuICAgICAgICBzID0gYXJyYXlbaW5kZXhdXHJcbiAgICAgICAgKytpbmRleFxyXG4gICAgICAvLyBJZiBsYXN0IGxldHRlciB3YXMgYSBtb3ZlIGNvbW1hbmQgYW5kIHdlIGdvdCBubyBuZXcsIGl0IGRlZmF1bHRzIHRvIFtMXWluZVxyXG4gICAgICB9ZWxzZSBpZihzID09ICdNJyl7XHJcbiAgICAgICAgcyA9ICdMJ1xyXG4gICAgICB9ZWxzZSBpZihzID09ICdtJyl7XHJcbiAgICAgICAgcyA9ICdsJ1xyXG4gICAgICB9XHJcblxyXG4gICAgICBhcnIucHVzaChwYXRoSGFuZGxlcnNbc10uY2FsbChudWxsLFxyXG4gICAgICAgICAgYXJyYXkuc2xpY2UoaW5kZXgsIChpbmRleCA9IGluZGV4ICsgcGFyYW1DbnRbcy50b1VwcGVyQ2FzZSgpXSkpLm1hcChwYXJzZUZsb2F0KSxcclxuICAgICAgICAgIHAsIHAwXHJcbiAgICAgICAgKVxyXG4gICAgICApXHJcblxyXG4gICAgfXdoaWxlKGxlbiA+IGluZGV4KVxyXG5cclxuICAgIHJldHVybiBhcnJcclxuXHJcbiAgfVxyXG4gIC8vIEdldCBib3VuZGluZyBib3ggb2YgcGF0aFxyXG4sIGJib3g6IGZ1bmN0aW9uKCkge1xyXG4gICAgU1ZHLnBhcnNlci5wYXRoLnNldEF0dHJpYnV0ZSgnZCcsIHRoaXMudG9TdHJpbmcoKSlcclxuXHJcbiAgICByZXR1cm4gU1ZHLnBhcnNlci5wYXRoLmdldEJCb3goKVxyXG4gIH1cclxuXHJcbn0pXHJcblxuLy8gTW9kdWxlIGZvciB1bml0IGNvbnZlcnRpb25zXHJcblNWRy5OdW1iZXIgPSBTVkcuaW52ZW50KHtcclxuICAvLyBJbml0aWFsaXplXHJcbiAgY3JlYXRlOiBmdW5jdGlvbih2YWx1ZSwgdW5pdCkge1xyXG4gICAgLy8gaW5pdGlhbGl6ZSBkZWZhdWx0c1xyXG4gICAgdGhpcy52YWx1ZSA9IDBcclxuICAgIHRoaXMudW5pdCAgPSB1bml0IHx8ICcnXHJcblxyXG4gICAgLy8gcGFyc2UgdmFsdWVcclxuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7XHJcbiAgICAgIC8vIGVuc3VyZSBhIHZhbGlkIG51bWVyaWMgdmFsdWVcclxuICAgICAgdGhpcy52YWx1ZSA9IGlzTmFOKHZhbHVlKSA/IDAgOiAhaXNGaW5pdGUodmFsdWUpID8gKHZhbHVlIDwgMCA/IC0zLjRlKzM4IDogKzMuNGUrMzgpIDogdmFsdWVcclxuXHJcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgdW5pdCA9IHZhbHVlLm1hdGNoKFNWRy5yZWdleC5udW1iZXJBbmRVbml0KVxyXG5cclxuICAgICAgaWYgKHVuaXQpIHtcclxuICAgICAgICAvLyBtYWtlIHZhbHVlIG51bWVyaWNcclxuICAgICAgICB0aGlzLnZhbHVlID0gcGFyc2VGbG9hdCh1bml0WzFdKVxyXG5cclxuICAgICAgICAvLyBub3JtYWxpemVcclxuICAgICAgICBpZiAodW5pdFs1XSA9PSAnJScpXHJcbiAgICAgICAgICB0aGlzLnZhbHVlIC89IDEwMFxyXG4gICAgICAgIGVsc2UgaWYgKHVuaXRbNV0gPT0gJ3MnKVxyXG4gICAgICAgICAgdGhpcy52YWx1ZSAqPSAxMDAwXHJcblxyXG4gICAgICAgIC8vIHN0b3JlIHVuaXRcclxuICAgICAgICB0aGlzLnVuaXQgPSB1bml0WzVdXHJcbiAgICAgIH1cclxuXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBTVkcuTnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlLnZhbHVlT2YoKVxyXG4gICAgICAgIHRoaXMudW5pdCAgPSB2YWx1ZS51bml0XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgfVxyXG4gIC8vIEFkZCBtZXRob2RzXHJcbiwgZXh0ZW5kOiB7XHJcbiAgICAvLyBTdHJpbmdhbGl6ZVxyXG4gICAgdG9TdHJpbmc6IGZ1bmN0aW9uKCkge1xyXG4gICAgICByZXR1cm4gKFxyXG4gICAgICAgIHRoaXMudW5pdCA9PSAnJScgP1xyXG4gICAgICAgICAgfn4odGhpcy52YWx1ZSAqIDFlOCkgLyAxZTY6XHJcbiAgICAgICAgdGhpcy51bml0ID09ICdzJyA/XHJcbiAgICAgICAgICB0aGlzLnZhbHVlIC8gMWUzIDpcclxuICAgICAgICAgIHRoaXMudmFsdWVcclxuICAgICAgKSArIHRoaXMudW5pdFxyXG4gICAgfVxyXG4gICwgdG9KU09OOiBmdW5jdGlvbigpIHtcclxuICAgICAgcmV0dXJuIHRoaXMudG9TdHJpbmcoKVxyXG4gICAgfVxyXG4gICwgLy8gQ29udmVydCB0byBwcmltaXRpdmVcclxuICAgIHZhbHVlT2Y6IGZ1bmN0aW9uKCkge1xyXG4gICAgICByZXR1cm4gdGhpcy52YWx1ZVxyXG4gICAgfVxyXG4gICAgLy8gQWRkIG51bWJlclxyXG4gICwgcGx1czogZnVuY3Rpb24obnVtYmVyKSB7XHJcbiAgICAgIG51bWJlciA9IG5ldyBTVkcuTnVtYmVyKG51bWJlcilcclxuICAgICAgcmV0dXJuIG5ldyBTVkcuTnVtYmVyKHRoaXMgKyBudW1iZXIsIHRoaXMudW5pdCB8fCBudW1iZXIudW5pdClcclxuICAgIH1cclxuICAgIC8vIFN1YnRyYWN0IG51bWJlclxyXG4gICwgbWludXM6IGZ1bmN0aW9uKG51bWJlcikge1xyXG4gICAgICBudW1iZXIgPSBuZXcgU1ZHLk51bWJlcihudW1iZXIpXHJcbiAgICAgIHJldHVybiBuZXcgU1ZHLk51bWJlcih0aGlzIC0gbnVtYmVyLCB0aGlzLnVuaXQgfHwgbnVtYmVyLnVuaXQpXHJcbiAgICB9XHJcbiAgICAvLyBNdWx0aXBseSBudW1iZXJcclxuICAsIHRpbWVzOiBmdW5jdGlvbihudW1iZXIpIHtcclxuICAgICAgbnVtYmVyID0gbmV3IFNWRy5OdW1iZXIobnVtYmVyKVxyXG4gICAgICByZXR1cm4gbmV3IFNWRy5OdW1iZXIodGhpcyAqIG51bWJlciwgdGhpcy51bml0IHx8IG51bWJlci51bml0KVxyXG4gICAgfVxyXG4gICAgLy8gRGl2aWRlIG51bWJlclxyXG4gICwgZGl2aWRlOiBmdW5jdGlvbihudW1iZXIpIHtcclxuICAgICAgbnVtYmVyID0gbmV3IFNWRy5OdW1iZXIobnVtYmVyKVxyXG4gICAgICByZXR1cm4gbmV3IFNWRy5OdW1iZXIodGhpcyAvIG51bWJlciwgdGhpcy51bml0IHx8IG51bWJlci51bml0KVxyXG4gICAgfVxyXG4gICAgLy8gQ29udmVydCB0byBkaWZmZXJlbnQgdW5pdFxyXG4gICwgdG86IGZ1bmN0aW9uKHVuaXQpIHtcclxuICAgICAgdmFyIG51bWJlciA9IG5ldyBTVkcuTnVtYmVyKHRoaXMpXHJcblxyXG4gICAgICBpZiAodHlwZW9mIHVuaXQgPT09ICdzdHJpbmcnKVxyXG4gICAgICAgIG51bWJlci51bml0ID0gdW5pdFxyXG5cclxuICAgICAgcmV0dXJuIG51bWJlclxyXG4gICAgfVxyXG4gICAgLy8gTWFrZSBudW1iZXIgbW9ycGhhYmxlXHJcbiAgLCBtb3JwaDogZnVuY3Rpb24obnVtYmVyKSB7XHJcbiAgICAgIHRoaXMuZGVzdGluYXRpb24gPSBuZXcgU1ZHLk51bWJlcihudW1iZXIpXHJcblxyXG4gICAgICBpZihudW1iZXIucmVsYXRpdmUpIHtcclxuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLnZhbHVlICs9IHRoaXMudmFsdWVcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHRoaXNcclxuICAgIH1cclxuICAgIC8vIEdldCBtb3JwaGVkIG51bWJlciBhdCBnaXZlbiBwb3NpdGlvblxyXG4gICwgYXQ6IGZ1bmN0aW9uKHBvcykge1xyXG4gICAgICAvLyBNYWtlIHN1cmUgYSBkZXN0aW5hdGlvbiBpcyBkZWZpbmVkXHJcbiAgICAgIGlmICghdGhpcy5kZXN0aW5hdGlvbikgcmV0dXJuIHRoaXNcclxuXHJcbiAgICAgIC8vIEdlbmVyYXRlIG5ldyBtb3JwaGVkIG51bWJlclxyXG4gICAgICByZXR1cm4gbmV3IFNWRy5OdW1iZXIodGhpcy5kZXN0aW5hdGlvbilcclxuICAgICAgICAgIC5taW51cyh0aGlzKVxyXG4gICAgICAgICAgLnRpbWVzKHBvcylcclxuICAgICAgICAgIC5wbHVzKHRoaXMpXHJcbiAgICB9XHJcblxyXG4gIH1cclxufSlcclxuXG5cclxuU1ZHLkVsZW1lbnQgPSBTVkcuaW52ZW50KHtcclxuICAvLyBJbml0aWFsaXplIG5vZGVcclxuICBjcmVhdGU6IGZ1bmN0aW9uKG5vZGUpIHtcclxuICAgIC8vIG1ha2Ugc3Ryb2tlIHZhbHVlIGFjY2Vzc2libGUgZHluYW1pY2FsbHlcclxuICAgIHRoaXMuX3N0cm9rZSA9IFNWRy5kZWZhdWx0cy5hdHRycy5zdHJva2VcclxuICAgIHRoaXMuX2V2ZW50ID0gbnVsbFxyXG4gICAgdGhpcy5fZXZlbnRzID0ge31cclxuXHJcbiAgICAvLyBpbml0aWFsaXplIGRhdGEgb2JqZWN0XHJcbiAgICB0aGlzLmRvbSA9IHt9XHJcblxyXG4gICAgLy8gY3JlYXRlIGNpcmN1bGFyIHJlZmVyZW5jZVxyXG4gICAgaWYgKHRoaXMubm9kZSA9IG5vZGUpIHtcclxuICAgICAgdGhpcy50eXBlID0gbm9kZS5ub2RlTmFtZVxyXG4gICAgICB0aGlzLm5vZGUuaW5zdGFuY2UgPSB0aGlzXHJcbiAgICAgIHRoaXMuX2V2ZW50cyA9IG5vZGUuX2V2ZW50cyB8fCB7fVxyXG5cclxuICAgICAgLy8gc3RvcmUgY3VycmVudCBhdHRyaWJ1dGUgdmFsdWVcclxuICAgICAgdGhpcy5fc3Ryb2tlID0gbm9kZS5nZXRBdHRyaWJ1dGUoJ3N0cm9rZScpIHx8IHRoaXMuX3N0cm9rZVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gQWRkIGNsYXNzIG1ldGhvZHNcclxuLCBleHRlbmQ6IHtcclxuICAgIC8vIE1vdmUgb3ZlciB4LWF4aXNcclxuICAgIHg6IGZ1bmN0aW9uKHgpIHtcclxuICAgICAgcmV0dXJuIHRoaXMuYXR0cigneCcsIHgpXHJcbiAgICB9XHJcbiAgICAvLyBNb3ZlIG92ZXIgeS1heGlzXHJcbiAgLCB5OiBmdW5jdGlvbih5KSB7XHJcbiAgICAgIHJldHVybiB0aGlzLmF0dHIoJ3knLCB5KVxyXG4gICAgfVxyXG4gICAgLy8gTW92ZSBieSBjZW50ZXIgb3ZlciB4LWF4aXNcclxuICAsIGN4OiBmdW5jdGlvbih4KSB7XHJcbiAgICAgIHJldHVybiB4ID09IG51bGwgPyB0aGlzLngoKSArIHRoaXMud2lkdGgoKSAvIDIgOiB0aGlzLngoeCAtIHRoaXMud2lkdGgoKSAvIDIpXHJcbiAgICB9XHJcbiAgICAvLyBNb3ZlIGJ5IGNlbnRlciBvdmVyIHktYXhpc1xyXG4gICwgY3k6IGZ1bmN0aW9uKHkpIHtcclxuICAgICAgcmV0dXJuIHkgPT0gbnVsbCA/IHRoaXMueSgpICsgdGhpcy5oZWlnaHQoKSAvIDIgOiB0aGlzLnkoeSAtIHRoaXMuaGVpZ2h0KCkgLyAyKVxyXG4gICAgfVxyXG4gICAgLy8gTW92ZSBlbGVtZW50IHRvIGdpdmVuIHggYW5kIHkgdmFsdWVzXHJcbiAgLCBtb3ZlOiBmdW5jdGlvbih4LCB5KSB7XHJcbiAgICAgIHJldHVybiB0aGlzLngoeCkueSh5KVxyXG4gICAgfVxyXG4gICAgLy8gTW92ZSBlbGVtZW50IGJ5IGl0cyBjZW50ZXJcclxuICAsIGNlbnRlcjogZnVuY3Rpb24oeCwgeSkge1xyXG4gICAgICByZXR1cm4gdGhpcy5jeCh4KS5jeSh5KVxyXG4gICAgfVxyXG4gICAgLy8gU2V0IHdpZHRoIG9mIGVsZW1lbnRcclxuICAsIHdpZHRoOiBmdW5jdGlvbih3aWR0aCkge1xyXG4gICAgICByZXR1cm4gdGhpcy5hdHRyKCd3aWR0aCcsIHdpZHRoKVxyXG4gICAgfVxyXG4gICAgLy8gU2V0IGhlaWdodCBvZiBlbGVtZW50XHJcbiAgLCBoZWlnaHQ6IGZ1bmN0aW9uKGhlaWdodCkge1xyXG4gICAgICByZXR1cm4gdGhpcy5hdHRyKCdoZWlnaHQnLCBoZWlnaHQpXHJcbiAgICB9XHJcbiAgICAvLyBTZXQgZWxlbWVudCBzaXplIHRvIGdpdmVuIHdpZHRoIGFuZCBoZWlnaHRcclxuICAsIHNpemU6IGZ1bmN0aW9uKHdpZHRoLCBoZWlnaHQpIHtcclxuICAgICAgdmFyIHAgPSBwcm9wb3J0aW9uYWxTaXplKHRoaXMsIHdpZHRoLCBoZWlnaHQpXHJcblxyXG4gICAgICByZXR1cm4gdGhpc1xyXG4gICAgICAgIC53aWR0aChuZXcgU1ZHLk51bWJlcihwLndpZHRoKSlcclxuICAgICAgICAuaGVpZ2h0KG5ldyBTVkcuTnVtYmVyKHAuaGVpZ2h0KSlcclxuICAgIH1cclxuICAgIC8vIENsb25lIGVsZW1lbnRcclxuICAsIGNsb25lOiBmdW5jdGlvbihwYXJlbnQpIHtcclxuICAgICAgLy8gd3JpdGUgZG9tIGRhdGEgdG8gdGhlIGRvbSBzbyB0aGUgY2xvbmUgY2FuIHBpY2t1cCB0aGUgZGF0YVxyXG4gICAgICB0aGlzLndyaXRlRGF0YVRvRG9tKClcclxuXHJcbiAgICAgIC8vIGNsb25lIGVsZW1lbnQgYW5kIGFzc2lnbiBuZXcgaWRcclxuICAgICAgdmFyIGNsb25lID0gYXNzaWduTmV3SWQodGhpcy5ub2RlLmNsb25lTm9kZSh0cnVlKSlcclxuXHJcbiAgICAgIC8vIGluc2VydCB0aGUgY2xvbmUgaW4gdGhlIGdpdmVuIHBhcmVudCBvciBhZnRlciBteXNlbGZcclxuICAgICAgaWYocGFyZW50KSBwYXJlbnQuYWRkKGNsb25lKVxyXG4gICAgICBlbHNlIHRoaXMuYWZ0ZXIoY2xvbmUpXHJcblxyXG4gICAgICByZXR1cm4gY2xvbmVcclxuICAgIH1cclxuICAgIC8vIFJlbW92ZSBlbGVtZW50XHJcbiAgLCByZW1vdmU6IGZ1bmN0aW9uKCkge1xyXG4gICAgICBpZiAodGhpcy5wYXJlbnQoKSlcclxuICAgICAgICB0aGlzLnBhcmVudCgpLnJlbW92ZUVsZW1lbnQodGhpcylcclxuXHJcbiAgICAgIHJldHVybiB0aGlzXHJcbiAgICB9XHJcbiAgICAvLyBSZXBsYWNlIGVsZW1lbnRcclxuICAsIHJlcGxhY2U6IGZ1bmN0aW9uKGVsZW1lbnQpIHtcclxuICAgICAgdGhpcy5hZnRlcihlbGVtZW50KS5yZW1vdmUoKVxyXG5cclxuICAgICAgcmV0dXJuIGVsZW1lbnRcclxuICAgIH1cclxuICAgIC8vIEFkZCBlbGVtZW50IHRvIGdpdmVuIGNvbnRhaW5lciBhbmQgcmV0dXJuIHNlbGZcclxuICAsIGFkZFRvOiBmdW5jdGlvbihwYXJlbnQpIHtcclxuICAgICAgcmV0dXJuIHBhcmVudC5wdXQodGhpcylcclxuICAgIH1cclxuICAgIC8vIEFkZCBlbGVtZW50IHRvIGdpdmVuIGNvbnRhaW5lciBhbmQgcmV0dXJuIGNvbnRhaW5lclxyXG4gICwgcHV0SW46IGZ1bmN0aW9uKHBhcmVudCkge1xyXG4gICAgICByZXR1cm4gcGFyZW50LmFkZCh0aGlzKVxyXG4gICAgfVxyXG4gICAgLy8gR2V0IC8gc2V0IGlkXHJcbiAgLCBpZDogZnVuY3Rpb24oaWQpIHtcclxuICAgICAgcmV0dXJuIHRoaXMuYXR0cignaWQnLCBpZClcclxuICAgIH1cclxuICAgIC8vIENoZWNrcyB3aGV0aGVyIHRoZSBnaXZlbiBwb2ludCBpbnNpZGUgdGhlIGJvdW5kaW5nIGJveCBvZiB0aGUgZWxlbWVudFxyXG4gICwgaW5zaWRlOiBmdW5jdGlvbih4LCB5KSB7XHJcbiAgICAgIHZhciBib3ggPSB0aGlzLmJib3goKVxyXG5cclxuICAgICAgcmV0dXJuIHggPiBib3gueFxyXG4gICAgICAgICAgJiYgeSA+IGJveC55XHJcbiAgICAgICAgICAmJiB4IDwgYm94LnggKyBib3gud2lkdGhcclxuICAgICAgICAgICYmIHkgPCBib3gueSArIGJveC5oZWlnaHRcclxuICAgIH1cclxuICAgIC8vIFNob3cgZWxlbWVudFxyXG4gICwgc2hvdzogZnVuY3Rpb24oKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLnN0eWxlKCdkaXNwbGF5JywgJycpXHJcbiAgICB9XHJcbiAgICAvLyBIaWRlIGVsZW1lbnRcclxuICAsIGhpZGU6IGZ1bmN0aW9uKCkge1xyXG4gICAgICByZXR1cm4gdGhpcy5zdHlsZSgnZGlzcGxheScsICdub25lJylcclxuICAgIH1cclxuICAgIC8vIElzIGVsZW1lbnQgdmlzaWJsZT9cclxuICAsIHZpc2libGU6IGZ1bmN0aW9uKCkge1xyXG4gICAgICByZXR1cm4gdGhpcy5zdHlsZSgnZGlzcGxheScpICE9ICdub25lJ1xyXG4gICAgfVxyXG4gICAgLy8gUmV0dXJuIGlkIG9uIHN0cmluZyBjb252ZXJzaW9uXHJcbiAgLCB0b1N0cmluZzogZnVuY3Rpb24oKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLmF0dHIoJ2lkJylcclxuICAgIH1cclxuICAgIC8vIFJldHVybiBhcnJheSBvZiBjbGFzc2VzIG9uIHRoZSBub2RlXHJcbiAgLCBjbGFzc2VzOiBmdW5jdGlvbigpIHtcclxuICAgICAgdmFyIGF0dHIgPSB0aGlzLmF0dHIoJ2NsYXNzJylcclxuXHJcbiAgICAgIHJldHVybiBhdHRyID09IG51bGwgPyBbXSA6IGF0dHIudHJpbSgpLnNwbGl0KFNWRy5yZWdleC5kZWxpbWl0ZXIpXHJcbiAgICB9XHJcbiAgICAvLyBSZXR1cm4gdHJ1ZSBpZiBjbGFzcyBleGlzdHMgb24gdGhlIG5vZGUsIGZhbHNlIG90aGVyd2lzZVxyXG4gICwgaGFzQ2xhc3M6IGZ1bmN0aW9uKG5hbWUpIHtcclxuICAgICAgcmV0dXJuIHRoaXMuY2xhc3NlcygpLmluZGV4T2YobmFtZSkgIT0gLTFcclxuICAgIH1cclxuICAgIC8vIEFkZCBjbGFzcyB0byB0aGUgbm9kZVxyXG4gICwgYWRkQ2xhc3M6IGZ1bmN0aW9uKG5hbWUpIHtcclxuICAgICAgaWYgKCF0aGlzLmhhc0NsYXNzKG5hbWUpKSB7XHJcbiAgICAgICAgdmFyIGFycmF5ID0gdGhpcy5jbGFzc2VzKClcclxuICAgICAgICBhcnJheS5wdXNoKG5hbWUpXHJcbiAgICAgICAgdGhpcy5hdHRyKCdjbGFzcycsIGFycmF5LmpvaW4oJyAnKSlcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHRoaXNcclxuICAgIH1cclxuICAgIC8vIFJlbW92ZSBjbGFzcyBmcm9tIHRoZSBub2RlXHJcbiAgLCByZW1vdmVDbGFzczogZnVuY3Rpb24obmFtZSkge1xyXG4gICAgICBpZiAodGhpcy5oYXNDbGFzcyhuYW1lKSkge1xyXG4gICAgICAgIHRoaXMuYXR0cignY2xhc3MnLCB0aGlzLmNsYXNzZXMoKS5maWx0ZXIoZnVuY3Rpb24oYykge1xyXG4gICAgICAgICAgcmV0dXJuIGMgIT0gbmFtZVxyXG4gICAgICAgIH0pLmpvaW4oJyAnKSlcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHRoaXNcclxuICAgIH1cclxuICAgIC8vIFRvZ2dsZSB0aGUgcHJlc2VuY2Ugb2YgYSBjbGFzcyBvbiB0aGUgbm9kZVxyXG4gICwgdG9nZ2xlQ2xhc3M6IGZ1bmN0aW9uKG5hbWUpIHtcclxuICAgICAgcmV0dXJuIHRoaXMuaGFzQ2xhc3MobmFtZSkgPyB0aGlzLnJlbW92ZUNsYXNzKG5hbWUpIDogdGhpcy5hZGRDbGFzcyhuYW1lKVxyXG4gICAgfVxyXG4gICAgLy8gR2V0IHJlZmVyZW5jZWQgZWxlbWVudCBmb3JtIGF0dHJpYnV0ZSB2YWx1ZVxyXG4gICwgcmVmZXJlbmNlOiBmdW5jdGlvbihhdHRyKSB7XHJcbiAgICAgIHJldHVybiBTVkcuZ2V0KHRoaXMuYXR0cihhdHRyKSlcclxuICAgIH1cclxuICAgIC8vIFJldHVybnMgdGhlIHBhcmVudCBlbGVtZW50IGluc3RhbmNlXHJcbiAgLCBwYXJlbnQ6IGZ1bmN0aW9uKHR5cGUpIHtcclxuICAgICAgdmFyIHBhcmVudCA9IHRoaXNcclxuXHJcbiAgICAgIC8vIGNoZWNrIGZvciBwYXJlbnRcclxuICAgICAgaWYoIXBhcmVudC5ub2RlLnBhcmVudE5vZGUpIHJldHVybiBudWxsXHJcblxyXG4gICAgICAvLyBnZXQgcGFyZW50IGVsZW1lbnRcclxuICAgICAgcGFyZW50ID0gU1ZHLmFkb3B0KHBhcmVudC5ub2RlLnBhcmVudE5vZGUpXHJcblxyXG4gICAgICBpZighdHlwZSkgcmV0dXJuIHBhcmVudFxyXG5cclxuICAgICAgLy8gbG9vcCB0cm91Z2ggYW5jZXN0b3JzIGlmIHR5cGUgaXMgZ2l2ZW5cclxuICAgICAgd2hpbGUocGFyZW50ICYmIHBhcmVudC5ub2RlIGluc3RhbmNlb2Ygd2luZG93LlNWR0VsZW1lbnQpe1xyXG4gICAgICAgIGlmKHR5cGVvZiB0eXBlID09PSAnc3RyaW5nJyA/IHBhcmVudC5tYXRjaGVzKHR5cGUpIDogcGFyZW50IGluc3RhbmNlb2YgdHlwZSkgcmV0dXJuIHBhcmVudFxyXG4gICAgICAgIGlmKCFwYXJlbnQubm9kZS5wYXJlbnROb2RlIHx8IHBhcmVudC5ub2RlLnBhcmVudE5vZGUubm9kZU5hbWUgPT0gJyNkb2N1bWVudCcgfHwgcGFyZW50Lm5vZGUucGFyZW50Tm9kZS5ub2RlTmFtZSA9PSAnI2RvY3VtZW50LWZyYWdtZW50JykgcmV0dXJuIG51bGwgLy8gIzc1OSwgIzcyMFxyXG4gICAgICAgIHBhcmVudCA9IFNWRy5hZG9wdChwYXJlbnQubm9kZS5wYXJlbnROb2RlKVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyBHZXQgcGFyZW50IGRvY3VtZW50XHJcbiAgLCBkb2M6IGZ1bmN0aW9uKCkge1xyXG4gICAgICByZXR1cm4gdGhpcyBpbnN0YW5jZW9mIFNWRy5Eb2MgPyB0aGlzIDogdGhpcy5wYXJlbnQoU1ZHLkRvYylcclxuICAgIH1cclxuICAgIC8vIHJldHVybiBhcnJheSBvZiBhbGwgYW5jZXN0b3JzIG9mIGdpdmVuIHR5cGUgdXAgdG8gdGhlIHJvb3Qgc3ZnXHJcbiAgLCBwYXJlbnRzOiBmdW5jdGlvbih0eXBlKSB7XHJcbiAgICAgIHZhciBwYXJlbnRzID0gW10sIHBhcmVudCA9IHRoaXNcclxuXHJcbiAgICAgIGRve1xyXG4gICAgICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnQodHlwZSlcclxuICAgICAgICBpZighcGFyZW50IHx8ICFwYXJlbnQubm9kZSkgYnJlYWtcclxuXHJcbiAgICAgICAgcGFyZW50cy5wdXNoKHBhcmVudClcclxuICAgICAgfSB3aGlsZShwYXJlbnQucGFyZW50KVxyXG5cclxuICAgICAgcmV0dXJuIHBhcmVudHNcclxuICAgIH1cclxuICAgIC8vIG1hdGNoZXMgdGhlIGVsZW1lbnQgdnMgYSBjc3Mgc2VsZWN0b3JcclxuICAsIG1hdGNoZXM6IGZ1bmN0aW9uKHNlbGVjdG9yKXtcclxuICAgICAgcmV0dXJuIG1hdGNoZXModGhpcy5ub2RlLCBzZWxlY3RvcilcclxuICAgIH1cclxuICAgIC8vIFJldHVybnMgdGhlIHN2ZyBub2RlIHRvIGNhbGwgbmF0aXZlIHN2ZyBtZXRob2RzIG9uIGl0XHJcbiAgLCBuYXRpdmU6IGZ1bmN0aW9uKCkge1xyXG4gICAgICByZXR1cm4gdGhpcy5ub2RlXHJcbiAgICB9XHJcbiAgICAvLyBJbXBvcnQgcmF3IHN2Z1xyXG4gICwgc3ZnOiBmdW5jdGlvbihzdmcpIHtcclxuICAgICAgLy8gY3JlYXRlIHRlbXBvcmFyeSBob2xkZXJcclxuICAgICAgdmFyIHdlbGwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdmcnKVxyXG5cclxuICAgICAgLy8gYWN0IGFzIGEgc2V0dGVyIGlmIHN2ZyBpcyBnaXZlblxyXG4gICAgICBpZiAoc3ZnICYmIHRoaXMgaW5zdGFuY2VvZiBTVkcuUGFyZW50KSB7XHJcbiAgICAgICAgLy8gZHVtcCByYXcgc3ZnXHJcbiAgICAgICAgd2VsbC5pbm5lckhUTUwgPSAnPHN2Zz4nICsgc3ZnLnJlcGxhY2UoL1xcbi8sICcnKS5yZXBsYWNlKC88KFtcXHc6LV0rKShbXjxdKz8pXFwvPi9nLCAnPCQxJDI+PC8kMT4nKSArICc8L3N2Zz4nXHJcblxyXG4gICAgICAgIC8vIHRyYW5zcGxhbnQgbm9kZXNcclxuICAgICAgICBmb3IgKHZhciBpID0gMCwgaWwgPSB3ZWxsLmZpcnN0Q2hpbGQuY2hpbGROb2Rlcy5sZW5ndGg7IGkgPCBpbDsgaSsrKVxyXG4gICAgICAgICAgdGhpcy5ub2RlLmFwcGVuZENoaWxkKHdlbGwuZmlyc3RDaGlsZC5maXJzdENoaWxkKVxyXG5cclxuICAgICAgLy8gb3RoZXJ3aXNlIGFjdCBhcyBhIGdldHRlclxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIGNyZWF0ZSBhIHdyYXBwaW5nIHN2ZyBlbGVtZW50IGluIGNhc2Ugb2YgcGFydGlhbCBjb250ZW50XHJcbiAgICAgICAgd2VsbC5hcHBlbmRDaGlsZChzdmcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdmcnKSlcclxuXHJcbiAgICAgICAgLy8gd3JpdGUgc3ZnanMgZGF0YSB0byB0aGUgZG9tXHJcbiAgICAgICAgdGhpcy53cml0ZURhdGFUb0RvbSgpXHJcblxyXG4gICAgICAgIC8vIGluc2VydCBhIGNvcHkgb2YgdGhpcyBub2RlXHJcbiAgICAgICAgc3ZnLmFwcGVuZENoaWxkKHRoaXMubm9kZS5jbG9uZU5vZGUodHJ1ZSkpXHJcblxyXG4gICAgICAgIC8vIHJldHVybiB0YXJnZXQgZWxlbWVudFxyXG4gICAgICAgIHJldHVybiB3ZWxsLmlubmVySFRNTC5yZXBsYWNlKC9ePHN2Zz4vLCAnJykucmVwbGFjZSgvPFxcL3N2Zz4kLywgJycpXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiB0aGlzXHJcbiAgICB9XHJcbiAgLy8gd3JpdGUgc3ZnanMgZGF0YSB0byB0aGUgZG9tXHJcbiAgLCB3cml0ZURhdGFUb0RvbTogZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAvLyBkdW1wIHZhcmlhYmxlcyByZWN1cnNpdmVseVxyXG4gICAgICBpZih0aGlzLmVhY2ggfHwgdGhpcy5saW5lcyl7XHJcbiAgICAgICAgdmFyIGZuID0gdGhpcy5lYWNoID8gdGhpcyA6IHRoaXMubGluZXMoKTtcclxuICAgICAgICBmbi5lYWNoKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICB0aGlzLndyaXRlRGF0YVRvRG9tKClcclxuICAgICAgICB9KVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyByZW1vdmUgcHJldmlvdXNseSBzZXQgZGF0YVxyXG4gICAgICB0aGlzLm5vZGUucmVtb3ZlQXR0cmlidXRlKCdzdmdqczpkYXRhJylcclxuXHJcbiAgICAgIGlmKE9iamVjdC5rZXlzKHRoaXMuZG9tKS5sZW5ndGgpXHJcbiAgICAgICAgdGhpcy5ub2RlLnNldEF0dHJpYnV0ZSgnc3ZnanM6ZGF0YScsIEpTT04uc3RyaW5naWZ5KHRoaXMuZG9tKSkgLy8gc2VlICM0MjhcclxuXHJcbiAgICAgIHJldHVybiB0aGlzXHJcbiAgICB9XHJcbiAgLy8gc2V0IGdpdmVuIGRhdGEgdG8gdGhlIGVsZW1lbnRzIGRhdGEgcHJvcGVydHlcclxuICAsIHNldERhdGE6IGZ1bmN0aW9uKG8pe1xyXG4gICAgICB0aGlzLmRvbSA9IG9cclxuICAgICAgcmV0dXJuIHRoaXNcclxuICAgIH1cclxuICAsIGlzOiBmdW5jdGlvbihvYmope1xyXG4gICAgICByZXR1cm4gaXModGhpcywgb2JqKVxyXG4gICAgfVxyXG4gIH1cclxufSlcclxuXG5TVkcuZWFzaW5nID0ge1xyXG4gICctJzogZnVuY3Rpb24ocG9zKXtyZXR1cm4gcG9zfVxyXG4sICc8Pic6ZnVuY3Rpb24ocG9zKXtyZXR1cm4gLU1hdGguY29zKHBvcyAqIE1hdGguUEkpIC8gMiArIDAuNX1cclxuLCAnPic6IGZ1bmN0aW9uKHBvcyl7cmV0dXJuICBNYXRoLnNpbihwb3MgKiBNYXRoLlBJIC8gMil9XHJcbiwgJzwnOiBmdW5jdGlvbihwb3Mpe3JldHVybiAtTWF0aC5jb3MocG9zICogTWF0aC5QSSAvIDIpICsgMX1cclxufVxyXG5cclxuU1ZHLm1vcnBoID0gZnVuY3Rpb24ocG9zKXtcclxuICByZXR1cm4gZnVuY3Rpb24oZnJvbSwgdG8pIHtcclxuICAgIHJldHVybiBuZXcgU1ZHLk1vcnBoT2JqKGZyb20sIHRvKS5hdChwb3MpXHJcbiAgfVxyXG59XHJcblxyXG5TVkcuU2l0dWF0aW9uID0gU1ZHLmludmVudCh7XHJcblxyXG4gIGNyZWF0ZTogZnVuY3Rpb24obyl7XHJcbiAgICB0aGlzLmluaXQgPSBmYWxzZVxyXG4gICAgdGhpcy5yZXZlcnNlZCA9IGZhbHNlXHJcbiAgICB0aGlzLnJldmVyc2luZyA9IGZhbHNlXHJcblxyXG4gICAgdGhpcy5kdXJhdGlvbiA9IG5ldyBTVkcuTnVtYmVyKG8uZHVyYXRpb24pLnZhbHVlT2YoKVxyXG4gICAgdGhpcy5kZWxheSA9IG5ldyBTVkcuTnVtYmVyKG8uZGVsYXkpLnZhbHVlT2YoKVxyXG5cclxuICAgIHRoaXMuc3RhcnQgPSArbmV3IERhdGUoKSArIHRoaXMuZGVsYXlcclxuICAgIHRoaXMuZmluaXNoID0gdGhpcy5zdGFydCArIHRoaXMuZHVyYXRpb25cclxuICAgIHRoaXMuZWFzZSA9IG8uZWFzZVxyXG5cclxuICAgIC8vIHRoaXMubG9vcCBpcyBpbmNyZW1lbnRlZCBmcm9tIDAgdG8gdGhpcy5sb29wc1xyXG4gICAgLy8gaXQgaXMgYWxzbyBpbmNyZW1lbnRlZCB3aGVuIGluIGFuIGluZmluaXRlIGxvb3AgKHdoZW4gdGhpcy5sb29wcyBpcyB0cnVlKVxyXG4gICAgdGhpcy5sb29wID0gMFxyXG4gICAgdGhpcy5sb29wcyA9IGZhbHNlXHJcblxyXG4gICAgdGhpcy5hbmltYXRpb25zID0ge1xyXG4gICAgICAvLyBmdW5jdGlvblRvQ2FsbDogW2xpc3Qgb2YgbW9ycGhhYmxlIG9iamVjdHNdXHJcbiAgICAgIC8vIGUuZy4gbW92ZTogW1NWRy5OdW1iZXIsIFNWRy5OdW1iZXJdXHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5hdHRycyA9IHtcclxuICAgICAgLy8gaG9sZHMgYWxsIGF0dHJpYnV0ZXMgd2hpY2ggYXJlIG5vdCByZXByZXNlbnRlZCBmcm9tIGEgZnVuY3Rpb24gc3ZnLmpzIHByb3ZpZGVzXHJcbiAgICAgIC8vIGUuZy4gc29tZUF0dHI6IFNWRy5OdW1iZXJcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnN0eWxlcyA9IHtcclxuICAgICAgLy8gaG9sZHMgYWxsIHN0eWxlcyB3aGljaCBzaG91bGQgYmUgYW5pbWF0ZWRcclxuICAgICAgLy8gZS5nLiBmaWxsLWNvbG9yOiBTVkcuQ29sb3JcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnRyYW5zZm9ybXMgPSBbXHJcbiAgICAgIC8vIGhvbGRzIGFsbCB0cmFuc2Zvcm1hdGlvbnMgYXMgdHJhbnNmb3JtYXRpb24gb2JqZWN0c1xyXG4gICAgICAvLyBlLmcuIFtTVkcuUm90YXRlLCBTVkcuVHJhbnNsYXRlLCBTVkcuTWF0cml4XVxyXG4gICAgXVxyXG5cclxuICAgIHRoaXMub25jZSA9IHtcclxuICAgICAgLy8gZnVuY3Rpb25zIHRvIGZpcmUgYXQgYSBzcGVjaWZpYyBwb3NpdGlvblxyXG4gICAgICAvLyBlLmcuIFwiMC41XCI6IGZ1bmN0aW9uIGZvbygpe31cclxuICAgIH1cclxuXHJcbiAgfVxyXG5cclxufSlcclxuXHJcblxyXG5TVkcuRlggPSBTVkcuaW52ZW50KHtcclxuXHJcbiAgY3JlYXRlOiBmdW5jdGlvbihlbGVtZW50KSB7XHJcbiAgICB0aGlzLl90YXJnZXQgPSBlbGVtZW50XHJcbiAgICB0aGlzLnNpdHVhdGlvbnMgPSBbXVxyXG4gICAgdGhpcy5hY3RpdmUgPSBmYWxzZVxyXG4gICAgdGhpcy5zaXR1YXRpb24gPSBudWxsXHJcbiAgICB0aGlzLnBhdXNlZCA9IGZhbHNlXHJcbiAgICB0aGlzLmxhc3RQb3MgPSAwXHJcbiAgICB0aGlzLnBvcyA9IDBcclxuICAgIC8vIFRoZSBhYnNvbHV0ZSBwb3NpdGlvbiBvZiBhbiBhbmltYXRpb24gaXMgaXRzIHBvc2l0aW9uIGluIHRoZSBjb250ZXh0IG9mIGl0cyBjb21wbGV0ZSBkdXJhdGlvbiAoaW5jbHVkaW5nIGRlbGF5IGFuZCBsb29wcylcclxuICAgIC8vIFdoZW4gcGVyZm9ybWluZyBhIGRlbGF5LCBhYnNQb3MgaXMgYmVsb3cgMCBhbmQgd2hlbiBwZXJmb3JtaW5nIGEgbG9vcCwgaXRzIHZhbHVlIGlzIGFib3ZlIDFcclxuICAgIHRoaXMuYWJzUG9zID0gMFxyXG4gICAgdGhpcy5fc3BlZWQgPSAxXHJcbiAgfVxyXG5cclxuLCBleHRlbmQ6IHtcclxuXHJcbiAgICAvKipcclxuICAgICAqIHNldHMgb3IgcmV0dXJucyB0aGUgdGFyZ2V0IG9mIHRoaXMgYW5pbWF0aW9uXHJcbiAgICAgKiBAcGFyYW0gbyBvYmplY3QgfHwgbnVtYmVyIEluIGNhc2Ugb2YgT2JqZWN0IGl0IGhvbGRzIGFsbCBwYXJhbWV0ZXJzLiBJbiBjYXNlIG9mIG51bWJlciBpdHMgdGhlIGR1cmF0aW9uIG9mIHRoZSBhbmltYXRpb25cclxuICAgICAqIEBwYXJhbSBlYXNlIGZ1bmN0aW9uIHx8IHN0cmluZyBGdW5jdGlvbiB3aGljaCBzaG91bGQgYmUgdXNlZCBmb3IgZWFzaW5nIG9yIGVhc2luZyBrZXl3b3JkXHJcbiAgICAgKiBAcGFyYW0gZGVsYXkgTnVtYmVyIGluZGljYXRpbmcgdGhlIGRlbGF5IGJlZm9yZSB0aGUgYW5pbWF0aW9uIHN0YXJ0c1xyXG4gICAgICogQHJldHVybiB0YXJnZXQgfHwgdGhpc1xyXG4gICAgICovXHJcbiAgICBhbmltYXRlOiBmdW5jdGlvbihvLCBlYXNlLCBkZWxheSl7XHJcblxyXG4gICAgICBpZih0eXBlb2YgbyA9PSAnb2JqZWN0Jyl7XHJcbiAgICAgICAgZWFzZSA9IG8uZWFzZVxyXG4gICAgICAgIGRlbGF5ID0gby5kZWxheVxyXG4gICAgICAgIG8gPSBvLmR1cmF0aW9uXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHZhciBzaXR1YXRpb24gPSBuZXcgU1ZHLlNpdHVhdGlvbih7XHJcbiAgICAgICAgZHVyYXRpb246IG8gfHwgMTAwMCxcclxuICAgICAgICBkZWxheTogZGVsYXkgfHwgMCxcclxuICAgICAgICBlYXNlOiBTVkcuZWFzaW5nW2Vhc2UgfHwgJy0nXSB8fCBlYXNlXHJcbiAgICAgIH0pXHJcblxyXG4gICAgICB0aGlzLnF1ZXVlKHNpdHVhdGlvbilcclxuXHJcbiAgICAgIHJldHVybiB0aGlzXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBzZXRzIGEgZGVsYXkgYmVmb3JlIHRoZSBuZXh0IGVsZW1lbnQgb2YgdGhlIHF1ZXVlIGlzIGNhbGxlZFxyXG4gICAgICogQHBhcmFtIGRlbGF5IER1cmF0aW9uIG9mIGRlbGF5IGluIG1pbGxpc2Vjb25kc1xyXG4gICAgICogQHJldHVybiB0aGlzLnRhcmdldCgpXHJcbiAgICAgKi9cclxuICAsIGRlbGF5OiBmdW5jdGlvbihkZWxheSl7XHJcbiAgICAgIC8vIFRoZSBkZWxheSBpcyBwZXJmb3JtZWQgYnkgYW4gZW1wdHkgc2l0dWF0aW9uIHdpdGggaXRzIGR1cmF0aW9uXHJcbiAgICAgIC8vIGF0dHJpYnV0ZSBzZXQgdG8gdGhlIGR1cmF0aW9uIG9mIHRoZSBkZWxheVxyXG4gICAgICB2YXIgc2l0dWF0aW9uID0gbmV3IFNWRy5TaXR1YXRpb24oe1xyXG4gICAgICAgIGR1cmF0aW9uOiBkZWxheSxcclxuICAgICAgICBkZWxheTogMCxcclxuICAgICAgICBlYXNlOiBTVkcuZWFzaW5nWyctJ11cclxuICAgICAgfSlcclxuXHJcbiAgICAgIHJldHVybiB0aGlzLnF1ZXVlKHNpdHVhdGlvbilcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIHNldHMgb3IgcmV0dXJucyB0aGUgdGFyZ2V0IG9mIHRoaXMgYW5pbWF0aW9uXHJcbiAgICAgKiBAcGFyYW0gbnVsbCB8fCB0YXJnZXQgU1ZHLkVsZW1lbnQgd2hpY2ggc2hvdWxkIGJlIHNldCBhcyBuZXcgdGFyZ2V0XHJcbiAgICAgKiBAcmV0dXJuIHRhcmdldCB8fCB0aGlzXHJcbiAgICAgKi9cclxuICAsIHRhcmdldDogZnVuY3Rpb24odGFyZ2V0KXtcclxuICAgICAgaWYodGFyZ2V0ICYmIHRhcmdldCBpbnN0YW5jZW9mIFNWRy5FbGVtZW50KXtcclxuICAgICAgICB0aGlzLl90YXJnZXQgPSB0YXJnZXRcclxuICAgICAgICByZXR1cm4gdGhpc1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gdGhpcy5fdGFyZ2V0XHJcbiAgICB9XHJcblxyXG4gICAgLy8gcmV0dXJucyB0aGUgYWJzb2x1dGUgcG9zaXRpb24gYXQgYSBnaXZlbiB0aW1lXHJcbiAgLCB0aW1lVG9BYnNQb3M6IGZ1bmN0aW9uKHRpbWVzdGFtcCl7XHJcbiAgICAgIHJldHVybiAodGltZXN0YW1wIC0gdGhpcy5zaXR1YXRpb24uc3RhcnQpIC8gKHRoaXMuc2l0dWF0aW9uLmR1cmF0aW9uL3RoaXMuX3NwZWVkKVxyXG4gICAgfVxyXG5cclxuICAgIC8vIHJldHVybnMgdGhlIHRpbWVzdGFtcCBmcm9tIGEgZ2l2ZW4gYWJzb2x1dGUgcG9zaXRvblxyXG4gICwgYWJzUG9zVG9UaW1lOiBmdW5jdGlvbihhYnNQb3Mpe1xyXG4gICAgICByZXR1cm4gdGhpcy5zaXR1YXRpb24uZHVyYXRpb24vdGhpcy5fc3BlZWQgKiBhYnNQb3MgKyB0aGlzLnNpdHVhdGlvbi5zdGFydFxyXG4gICAgfVxyXG5cclxuICAgIC8vIHN0YXJ0cyB0aGUgYW5pbWF0aW9ubG9vcFxyXG4gICwgc3RhcnRBbmltRnJhbWU6IGZ1bmN0aW9uKCl7XHJcbiAgICAgIHRoaXMuc3RvcEFuaW1GcmFtZSgpXHJcbiAgICAgIHRoaXMuYW5pbWF0aW9uRnJhbWUgPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uKCl7IHRoaXMuc3RlcCgpIH0uYmluZCh0aGlzKSlcclxuICAgIH1cclxuXHJcbiAgICAvLyBjYW5jZWxzIHRoZSBhbmltYXRpb25mcmFtZVxyXG4gICwgc3RvcEFuaW1GcmFtZTogZnVuY3Rpb24oKXtcclxuICAgICAgd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMuYW5pbWF0aW9uRnJhbWUpXHJcbiAgICB9XHJcblxyXG4gICAgLy8ga2lja3Mgb2ZmIHRoZSBhbmltYXRpb24gLSBvbmx5IGRvZXMgc29tZXRoaW5nIHdoZW4gdGhlIHF1ZXVlIGlzIGN1cnJlbnRseSBub3QgYWN0aXZlIGFuZCBhdCBsZWFzdCBvbmUgc2l0dWF0aW9uIGlzIHNldFxyXG4gICwgc3RhcnQ6IGZ1bmN0aW9uKCl7XHJcbiAgICAgIC8vIGRvbnQgc3RhcnQgaWYgYWxyZWFkeSBzdGFydGVkXHJcbiAgICAgIGlmKCF0aGlzLmFjdGl2ZSAmJiB0aGlzLnNpdHVhdGlvbil7XHJcbiAgICAgICAgdGhpcy5hY3RpdmUgPSB0cnVlXHJcbiAgICAgICAgdGhpcy5zdGFydEN1cnJlbnQoKVxyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gdGhpc1xyXG4gICAgfVxyXG5cclxuICAgIC8vIHN0YXJ0IHRoZSBjdXJyZW50IHNpdHVhdGlvblxyXG4gICwgc3RhcnRDdXJyZW50OiBmdW5jdGlvbigpe1xyXG4gICAgICB0aGlzLnNpdHVhdGlvbi5zdGFydCA9ICtuZXcgRGF0ZSArIHRoaXMuc2l0dWF0aW9uLmRlbGF5L3RoaXMuX3NwZWVkXHJcbiAgICAgIHRoaXMuc2l0dWF0aW9uLmZpbmlzaCA9IHRoaXMuc2l0dWF0aW9uLnN0YXJ0ICsgdGhpcy5zaXR1YXRpb24uZHVyYXRpb24vdGhpcy5fc3BlZWRcclxuICAgICAgcmV0dXJuIHRoaXMuaW5pdEFuaW1hdGlvbnMoKS5zdGVwKClcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIGFkZHMgYSBmdW5jdGlvbiAvIFNpdHVhdGlvbiB0byB0aGUgYW5pbWF0aW9uIHF1ZXVlXHJcbiAgICAgKiBAcGFyYW0gZm4gZnVuY3Rpb24gLyBzaXR1YXRpb24gdG8gYWRkXHJcbiAgICAgKiBAcmV0dXJuIHRoaXNcclxuICAgICAqL1xyXG4gICwgcXVldWU6IGZ1bmN0aW9uKGZuKXtcclxuICAgICAgaWYodHlwZW9mIGZuID09ICdmdW5jdGlvbicgfHwgZm4gaW5zdGFuY2VvZiBTVkcuU2l0dWF0aW9uKVxyXG4gICAgICAgIHRoaXMuc2l0dWF0aW9ucy5wdXNoKGZuKVxyXG5cclxuICAgICAgaWYoIXRoaXMuc2l0dWF0aW9uKSB0aGlzLnNpdHVhdGlvbiA9IHRoaXMuc2l0dWF0aW9ucy5zaGlmdCgpXHJcblxyXG4gICAgICByZXR1cm4gdGhpc1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogcHVsbHMgbmV4dCBlbGVtZW50IGZyb20gdGhlIHF1ZXVlIGFuZCBleGVjdXRlIGl0XHJcbiAgICAgKiBAcmV0dXJuIHRoaXNcclxuICAgICAqL1xyXG4gICwgZGVxdWV1ZTogZnVuY3Rpb24oKXtcclxuICAgICAgLy8gc3RvcCBjdXJyZW50IGFuaW1hdGlvblxyXG4gICAgICB0aGlzLnN0b3AoKVxyXG5cclxuICAgICAgLy8gZ2V0IG5leHQgYW5pbWF0aW9uIGZyb20gcXVldWVcclxuICAgICAgdGhpcy5zaXR1YXRpb24gPSB0aGlzLnNpdHVhdGlvbnMuc2hpZnQoKVxyXG5cclxuICAgICAgaWYodGhpcy5zaXR1YXRpb24pe1xyXG4gICAgICAgIGlmKHRoaXMuc2l0dWF0aW9uIGluc3RhbmNlb2YgU1ZHLlNpdHVhdGlvbikge1xyXG4gICAgICAgICAgdGhpcy5zdGFydCgpXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIC8vIElmIGl0IGlzIG5vdCBhIFNWRy5TaXR1YXRpb24sIHRoZW4gaXQgaXMgYSBmdW5jdGlvbiwgd2UgZXhlY3V0ZSBpdFxyXG4gICAgICAgICAgdGhpcy5zaXR1YXRpb24uY2FsbCh0aGlzKVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHRoaXNcclxuICAgIH1cclxuXHJcbiAgICAvLyB1cGRhdGVzIGFsbCBhbmltYXRpb25zIHRvIHRoZSBjdXJyZW50IHN0YXRlIG9mIHRoZSBlbGVtZW50XHJcbiAgICAvLyB0aGlzIGlzIGltcG9ydGFudCB3aGVuIG9uZSBwcm9wZXJ0eSBjb3VsZCBiZSBjaGFuZ2VkIGZyb20gYW5vdGhlciBwcm9wZXJ0eVxyXG4gICwgaW5pdEFuaW1hdGlvbnM6IGZ1bmN0aW9uKCkge1xyXG4gICAgICB2YXIgaSwgaiwgc291cmNlXHJcbiAgICAgIHZhciBzID0gdGhpcy5zaXR1YXRpb25cclxuXHJcbiAgICAgIGlmKHMuaW5pdCkgcmV0dXJuIHRoaXNcclxuXHJcbiAgICAgIGZvcihpIGluIHMuYW5pbWF0aW9ucyl7XHJcbiAgICAgICAgc291cmNlID0gdGhpcy50YXJnZXQoKVtpXSgpXHJcblxyXG4gICAgICAgIGlmKCFBcnJheS5pc0FycmF5KHNvdXJjZSkpIHtcclxuICAgICAgICAgIHNvdXJjZSA9IFtzb3VyY2VdXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZighQXJyYXkuaXNBcnJheShzLmFuaW1hdGlvbnNbaV0pKSB7XHJcbiAgICAgICAgICBzLmFuaW1hdGlvbnNbaV0gPSBbcy5hbmltYXRpb25zW2ldXVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9pZihzLmFuaW1hdGlvbnNbaV0ubGVuZ3RoID4gc291cmNlLmxlbmd0aCkge1xyXG4gICAgICAgIC8vICBzb3VyY2UuY29uY2F0ID0gc291cmNlLmNvbmNhdChzLmFuaW1hdGlvbnNbaV0uc2xpY2Uoc291cmNlLmxlbmd0aCwgcy5hbmltYXRpb25zW2ldLmxlbmd0aCkpXHJcbiAgICAgICAgLy99XHJcblxyXG4gICAgICAgIGZvcihqID0gc291cmNlLmxlbmd0aDsgai0tOykge1xyXG4gICAgICAgICAgLy8gVGhlIGNvbmRpdGlvbiBpcyBiZWNhdXNlIHNvbWUgbWV0aG9kcyByZXR1cm4gYSBub3JtYWwgbnVtYmVyIGluc3RlYWRcclxuICAgICAgICAgIC8vIG9mIGEgU1ZHLk51bWJlclxyXG4gICAgICAgICAgaWYocy5hbmltYXRpb25zW2ldW2pdIGluc3RhbmNlb2YgU1ZHLk51bWJlcilcclxuICAgICAgICAgICAgc291cmNlW2pdID0gbmV3IFNWRy5OdW1iZXIoc291cmNlW2pdKVxyXG5cclxuICAgICAgICAgIHMuYW5pbWF0aW9uc1tpXVtqXSA9IHNvdXJjZVtqXS5tb3JwaChzLmFuaW1hdGlvbnNbaV1bal0pXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBmb3IoaSBpbiBzLmF0dHJzKXtcclxuICAgICAgICBzLmF0dHJzW2ldID0gbmV3IFNWRy5Nb3JwaE9iaih0aGlzLnRhcmdldCgpLmF0dHIoaSksIHMuYXR0cnNbaV0pXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGZvcihpIGluIHMuc3R5bGVzKXtcclxuICAgICAgICBzLnN0eWxlc1tpXSA9IG5ldyBTVkcuTW9ycGhPYmoodGhpcy50YXJnZXQoKS5zdHlsZShpKSwgcy5zdHlsZXNbaV0pXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHMuaW5pdGlhbFRyYW5zZm9ybWF0aW9uID0gdGhpcy50YXJnZXQoKS5tYXRyaXhpZnkoKVxyXG5cclxuICAgICAgcy5pbml0ID0gdHJ1ZVxyXG4gICAgICByZXR1cm4gdGhpc1xyXG4gICAgfVxyXG4gICwgY2xlYXJRdWV1ZTogZnVuY3Rpb24oKXtcclxuICAgICAgdGhpcy5zaXR1YXRpb25zID0gW11cclxuICAgICAgcmV0dXJuIHRoaXNcclxuICAgIH1cclxuICAsIGNsZWFyQ3VycmVudDogZnVuY3Rpb24oKXtcclxuICAgICAgdGhpcy5zaXR1YXRpb24gPSBudWxsXHJcbiAgICAgIHJldHVybiB0aGlzXHJcbiAgICB9XHJcbiAgICAvKiogc3RvcHMgdGhlIGFuaW1hdGlvbiBpbW1lZGlhdGVseVxyXG4gICAgICogQHBhcmFtIGp1bXBUb0VuZCBBIEJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIHRvIGNvbXBsZXRlIHRoZSBjdXJyZW50IGFuaW1hdGlvbiBpbW1lZGlhdGVseS5cclxuICAgICAqIEBwYXJhbSBjbGVhclF1ZXVlIEEgQm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgdG8gcmVtb3ZlIHF1ZXVlZCBhbmltYXRpb24gYXMgd2VsbC5cclxuICAgICAqIEByZXR1cm4gdGhpc1xyXG4gICAgICovXHJcbiAgLCBzdG9wOiBmdW5jdGlvbihqdW1wVG9FbmQsIGNsZWFyUXVldWUpe1xyXG4gICAgICB2YXIgYWN0aXZlID0gdGhpcy5hY3RpdmVcclxuICAgICAgdGhpcy5hY3RpdmUgPSBmYWxzZVxyXG5cclxuICAgICAgaWYoY2xlYXJRdWV1ZSl7XHJcbiAgICAgICAgdGhpcy5jbGVhclF1ZXVlKClcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYoanVtcFRvRW5kICYmIHRoaXMuc2l0dWF0aW9uKXtcclxuICAgICAgICAvLyBpbml0aWFsaXplIHRoZSBzaXR1YXRpb24gaWYgaXQgd2FzIG5vdFxyXG4gICAgICAgICFhY3RpdmUgJiYgdGhpcy5zdGFydEN1cnJlbnQoKVxyXG4gICAgICAgIHRoaXMuYXRFbmQoKVxyXG4gICAgICB9XHJcblxyXG4gICAgICB0aGlzLnN0b3BBbmltRnJhbWUoKVxyXG5cclxuICAgICAgcmV0dXJuIHRoaXMuY2xlYXJDdXJyZW50KClcclxuICAgIH1cclxuXHJcbiAgICAvKiogcmVzZXRzIHRoZSBlbGVtZW50IHRvIHRoZSBzdGF0ZSB3aGVyZSB0aGUgY3VycmVudCBlbGVtZW50IGhhcyBzdGFydGVkXHJcbiAgICAgKiBAcmV0dXJuIHRoaXNcclxuICAgICAqL1xyXG4gICwgcmVzZXQ6IGZ1bmN0aW9uKCl7XHJcbiAgICAgIGlmKHRoaXMuc2l0dWF0aW9uKXtcclxuICAgICAgICB2YXIgdGVtcCA9IHRoaXMuc2l0dWF0aW9uXHJcbiAgICAgICAgdGhpcy5zdG9wKClcclxuICAgICAgICB0aGlzLnNpdHVhdGlvbiA9IHRlbXBcclxuICAgICAgICB0aGlzLmF0U3RhcnQoKVxyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiB0aGlzXHJcbiAgICB9XHJcblxyXG4gICAgLy8gU3RvcCB0aGUgY3VycmVudGx5LXJ1bm5pbmcgYW5pbWF0aW9uLCByZW1vdmUgYWxsIHF1ZXVlZCBhbmltYXRpb25zLCBhbmQgY29tcGxldGUgYWxsIGFuaW1hdGlvbnMgZm9yIHRoZSBlbGVtZW50LlxyXG4gICwgZmluaXNoOiBmdW5jdGlvbigpe1xyXG5cclxuICAgICAgdGhpcy5zdG9wKHRydWUsIGZhbHNlKVxyXG5cclxuICAgICAgd2hpbGUodGhpcy5kZXF1ZXVlKCkuc2l0dWF0aW9uICYmIHRoaXMuc3RvcCh0cnVlLCBmYWxzZSkpO1xyXG5cclxuICAgICAgdGhpcy5jbGVhclF1ZXVlKCkuY2xlYXJDdXJyZW50KClcclxuXHJcbiAgICAgIHJldHVybiB0aGlzXHJcbiAgICB9XHJcblxyXG4gICAgLy8gc2V0IHRoZSBpbnRlcm5hbCBhbmltYXRpb24gcG9pbnRlciBhdCB0aGUgc3RhcnQgcG9zaXRpb24sIGJlZm9yZSBhbnkgbG9vcHMsIGFuZCB1cGRhdGVzIHRoZSB2aXN1YWxpc2F0aW9uXHJcbiAgLCBhdFN0YXJ0OiBmdW5jdGlvbigpIHtcclxuICAgICAgcmV0dXJuIHRoaXMuYXQoMCwgdHJ1ZSlcclxuICAgIH1cclxuXHJcbiAgICAvLyBzZXQgdGhlIGludGVybmFsIGFuaW1hdGlvbiBwb2ludGVyIGF0IHRoZSBlbmQgcG9zaXRpb24sIGFmdGVyIGFsbCB0aGUgbG9vcHMsIGFuZCB1cGRhdGVzIHRoZSB2aXN1YWxpc2F0aW9uXHJcbiAgLCBhdEVuZDogZnVuY3Rpb24oKSB7XHJcbiAgICAgIGlmICh0aGlzLnNpdHVhdGlvbi5sb29wcyA9PT0gdHJ1ZSkge1xyXG4gICAgICAgIC8vIElmIGluIGEgaW5maW5pdGUgbG9vcCwgd2UgZW5kIHRoZSBjdXJyZW50IGl0ZXJhdGlvblxyXG4gICAgICAgIHRoaXMuc2l0dWF0aW9uLmxvb3BzID0gdGhpcy5zaXR1YXRpb24ubG9vcCArIDFcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYodHlwZW9mIHRoaXMuc2l0dWF0aW9uLmxvb3BzID09ICdudW1iZXInKSB7XHJcbiAgICAgICAgLy8gSWYgcGVyZm9ybWluZyBhIGZpbml0ZSBudW1iZXIgb2YgbG9vcHMsIHdlIGdvIGFmdGVyIGFsbCB0aGUgbG9vcHNcclxuICAgICAgICByZXR1cm4gdGhpcy5hdCh0aGlzLnNpdHVhdGlvbi5sb29wcywgdHJ1ZSlcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyBJZiBubyBsb29wcywgd2UganVzdCBnbyBhdCB0aGUgZW5kXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYXQoMSwgdHJ1ZSlcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIHNldCB0aGUgaW50ZXJuYWwgYW5pbWF0aW9uIHBvaW50ZXIgdG8gdGhlIHNwZWNpZmllZCBwb3NpdGlvbiBhbmQgdXBkYXRlcyB0aGUgdmlzdWFsaXNhdGlvblxyXG4gICAgLy8gaWYgaXNBYnNQb3MgaXMgdHJ1ZSwgcG9zIGlzIHRyZWF0ZWQgYXMgYW4gYWJzb2x1dGUgcG9zaXRpb25cclxuICAsIGF0OiBmdW5jdGlvbihwb3MsIGlzQWJzUG9zKXtcclxuICAgICAgdmFyIGR1ckRpdlNwZCA9IHRoaXMuc2l0dWF0aW9uLmR1cmF0aW9uL3RoaXMuX3NwZWVkXHJcblxyXG4gICAgICB0aGlzLmFic1BvcyA9IHBvc1xyXG4gICAgICAvLyBJZiBwb3MgaXMgbm90IGFuIGFic29sdXRlIHBvc2l0aW9uLCB3ZSBjb252ZXJ0IGl0IGludG8gb25lXHJcbiAgICAgIGlmICghaXNBYnNQb3MpIHtcclxuICAgICAgICBpZiAodGhpcy5zaXR1YXRpb24ucmV2ZXJzZWQpIHRoaXMuYWJzUG9zID0gMSAtIHRoaXMuYWJzUG9zXHJcbiAgICAgICAgdGhpcy5hYnNQb3MgKz0gdGhpcy5zaXR1YXRpb24ubG9vcFxyXG4gICAgICB9XHJcblxyXG4gICAgICB0aGlzLnNpdHVhdGlvbi5zdGFydCA9ICtuZXcgRGF0ZSAtIHRoaXMuYWJzUG9zICogZHVyRGl2U3BkXHJcbiAgICAgIHRoaXMuc2l0dWF0aW9uLmZpbmlzaCA9IHRoaXMuc2l0dWF0aW9uLnN0YXJ0ICsgZHVyRGl2U3BkXHJcblxyXG4gICAgICByZXR1cm4gdGhpcy5zdGVwKHRydWUpXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBzZXRzIG9yIHJldHVybnMgdGhlIHNwZWVkIG9mIHRoZSBhbmltYXRpb25zXHJcbiAgICAgKiBAcGFyYW0gc3BlZWQgbnVsbCB8fCBOdW1iZXIgVGhlIG5ldyBzcGVlZCBvZiB0aGUgYW5pbWF0aW9uc1xyXG4gICAgICogQHJldHVybiBOdW1iZXIgfHwgdGhpc1xyXG4gICAgICovXHJcbiAgLCBzcGVlZDogZnVuY3Rpb24oc3BlZWQpe1xyXG4gICAgICBpZiAoc3BlZWQgPT09IDApIHJldHVybiB0aGlzLnBhdXNlKClcclxuXHJcbiAgICAgIGlmIChzcGVlZCkge1xyXG4gICAgICAgIHRoaXMuX3NwZWVkID0gc3BlZWRcclxuICAgICAgICAvLyBXZSB1c2UgYW4gYWJzb2x1dGUgcG9zaXRpb24gaGVyZSBzbyB0aGF0IHNwZWVkIGNhbiBhZmZlY3QgdGhlIGRlbGF5IGJlZm9yZSB0aGUgYW5pbWF0aW9uXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYXQodGhpcy5hYnNQb3MsIHRydWUpXHJcbiAgICAgIH0gZWxzZSByZXR1cm4gdGhpcy5fc3BlZWRcclxuICAgIH1cclxuXHJcbiAgICAvLyBNYWtlIGxvb3BhYmxlXHJcbiAgLCBsb29wOiBmdW5jdGlvbih0aW1lcywgcmV2ZXJzZSkge1xyXG4gICAgICB2YXIgYyA9IHRoaXMubGFzdCgpXHJcblxyXG4gICAgICAvLyBzdG9yZSB0b3RhbCBsb29wc1xyXG4gICAgICBjLmxvb3BzID0gKHRpbWVzICE9IG51bGwpID8gdGltZXMgOiB0cnVlXHJcbiAgICAgIGMubG9vcCA9IDBcclxuXHJcbiAgICAgIGlmKHJldmVyc2UpIGMucmV2ZXJzaW5nID0gdHJ1ZVxyXG4gICAgICByZXR1cm4gdGhpc1xyXG4gICAgfVxyXG5cclxuICAgIC8vIHBhdXNlcyB0aGUgYW5pbWF0aW9uXHJcbiAgLCBwYXVzZTogZnVuY3Rpb24oKXtcclxuICAgICAgdGhpcy5wYXVzZWQgPSB0cnVlXHJcbiAgICAgIHRoaXMuc3RvcEFuaW1GcmFtZSgpXHJcblxyXG4gICAgICByZXR1cm4gdGhpc1xyXG4gICAgfVxyXG5cclxuICAgIC8vIHVucGF1c2UgdGhlIGFuaW1hdGlvblxyXG4gICwgcGxheTogZnVuY3Rpb24oKXtcclxuICAgICAgaWYoIXRoaXMucGF1c2VkKSByZXR1cm4gdGhpc1xyXG4gICAgICB0aGlzLnBhdXNlZCA9IGZhbHNlXHJcbiAgICAgIC8vIFdlIHVzZSBhbiBhYnNvbHV0ZSBwb3NpdGlvbiBoZXJlIHNvIHRoYXQgdGhlIGRlbGF5IGJlZm9yZSB0aGUgYW5pbWF0aW9uIGNhbiBiZSBwYXVzZWRcclxuICAgICAgcmV0dXJuIHRoaXMuYXQodGhpcy5hYnNQb3MsIHRydWUpXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiB0b2dnbGUgb3Igc2V0IHRoZSBkaXJlY3Rpb24gb2YgdGhlIGFuaW1hdGlvblxyXG4gICAgICogdHJ1ZSBzZXRzIGRpcmVjdGlvbiB0byBiYWNrd2FyZHMgd2hpbGUgZmFsc2Ugc2V0cyBpdCB0byBmb3J3YXJkc1xyXG4gICAgICogQHBhcmFtIHJldmVyc2VkIEJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIHRvIHJldmVyc2UgdGhlIGFuaW1hdGlvbiBvciBub3QgKGRlZmF1bHQ6IHRvZ2dsZSB0aGUgcmV2ZXJzZSBzdGF0dXMpXHJcbiAgICAgKiBAcmV0dXJuIHRoaXNcclxuICAgICAqL1xyXG4gICwgcmV2ZXJzZTogZnVuY3Rpb24ocmV2ZXJzZWQpe1xyXG4gICAgICB2YXIgYyA9IHRoaXMubGFzdCgpXHJcblxyXG4gICAgICBpZih0eXBlb2YgcmV2ZXJzZWQgPT0gJ3VuZGVmaW5lZCcpIGMucmV2ZXJzZWQgPSAhYy5yZXZlcnNlZFxyXG4gICAgICBlbHNlIGMucmV2ZXJzZWQgPSByZXZlcnNlZFxyXG5cclxuICAgICAgcmV0dXJuIHRoaXNcclxuICAgIH1cclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiByZXR1cm5zIGEgZmxvYXQgZnJvbSAwLTEgaW5kaWNhdGluZyB0aGUgcHJvZ3Jlc3Mgb2YgdGhlIGN1cnJlbnQgYW5pbWF0aW9uXHJcbiAgICAgKiBAcGFyYW0gZWFzZWQgQm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIHJldHVybmVkIHBvc2l0aW9uIHNob3VsZCBiZSBlYXNlZCBvciBub3RcclxuICAgICAqIEByZXR1cm4gbnVtYmVyXHJcbiAgICAgKi9cclxuICAsIHByb2dyZXNzOiBmdW5jdGlvbihlYXNlSXQpe1xyXG4gICAgICByZXR1cm4gZWFzZUl0ID8gdGhpcy5zaXR1YXRpb24uZWFzZSh0aGlzLnBvcykgOiB0aGlzLnBvc1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogYWRkcyBhIGNhbGxiYWNrIGZ1bmN0aW9uIHdoaWNoIGlzIGNhbGxlZCB3aGVuIHRoZSBjdXJyZW50IGFuaW1hdGlvbiBpcyBmaW5pc2hlZFxyXG4gICAgICogQHBhcmFtIGZuIEZ1bmN0aW9uIHdoaWNoIHNob3VsZCBiZSBleGVjdXRlZCBhcyBjYWxsYmFja1xyXG4gICAgICogQHJldHVybiBudW1iZXJcclxuICAgICAqL1xyXG4gICwgYWZ0ZXI6IGZ1bmN0aW9uKGZuKXtcclxuICAgICAgdmFyIGMgPSB0aGlzLmxhc3QoKVxyXG4gICAgICAgICwgd3JhcHBlciA9IGZ1bmN0aW9uIHdyYXBwZXIoZSl7XHJcbiAgICAgICAgICAgIGlmKGUuZGV0YWlsLnNpdHVhdGlvbiA9PSBjKXtcclxuICAgICAgICAgICAgICBmbi5jYWxsKHRoaXMsIGMpXHJcbiAgICAgICAgICAgICAgdGhpcy5vZmYoJ2ZpbmlzaGVkLmZ4Jywgd3JhcHBlcikgLy8gcHJldmVudCBtZW1vcnkgbGVha1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICB0aGlzLnRhcmdldCgpLm9uKCdmaW5pc2hlZC5meCcsIHdyYXBwZXIpXHJcblxyXG4gICAgICByZXR1cm4gdGhpcy5fY2FsbFN0YXJ0KClcclxuICAgIH1cclxuXHJcbiAgICAvLyBhZGRzIGEgY2FsbGJhY2sgd2hpY2ggaXMgY2FsbGVkIHdoZW5ldmVyIG9uZSBhbmltYXRpb24gc3RlcCBpcyBwZXJmb3JtZWRcclxuICAsIGR1cmluZzogZnVuY3Rpb24oZm4pe1xyXG4gICAgICB2YXIgYyA9IHRoaXMubGFzdCgpXHJcbiAgICAgICAgLCB3cmFwcGVyID0gZnVuY3Rpb24oZSl7XHJcbiAgICAgICAgICAgIGlmKGUuZGV0YWlsLnNpdHVhdGlvbiA9PSBjKXtcclxuICAgICAgICAgICAgICBmbi5jYWxsKHRoaXMsIGUuZGV0YWlsLnBvcywgU1ZHLm1vcnBoKGUuZGV0YWlsLnBvcyksIGUuZGV0YWlsLmVhc2VkLCBjKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAvLyBzZWUgYWJvdmVcclxuICAgICAgdGhpcy50YXJnZXQoKS5vZmYoJ2R1cmluZy5meCcsIHdyYXBwZXIpLm9uKCdkdXJpbmcuZngnLCB3cmFwcGVyKVxyXG5cclxuICAgICAgdGhpcy5hZnRlcihmdW5jdGlvbigpe1xyXG4gICAgICAgIHRoaXMub2ZmKCdkdXJpbmcuZngnLCB3cmFwcGVyKVxyXG4gICAgICB9KVxyXG5cclxuICAgICAgcmV0dXJuIHRoaXMuX2NhbGxTdGFydCgpXHJcbiAgICB9XHJcblxyXG4gICAgLy8gY2FsbHMgYWZ0ZXIgQUxMIGFuaW1hdGlvbnMgaW4gdGhlIHF1ZXVlIGFyZSBmaW5pc2hlZFxyXG4gICwgYWZ0ZXJBbGw6IGZ1bmN0aW9uKGZuKXtcclxuICAgICAgdmFyIHdyYXBwZXIgPSBmdW5jdGlvbiB3cmFwcGVyKGUpe1xyXG4gICAgICAgICAgICBmbi5jYWxsKHRoaXMpXHJcbiAgICAgICAgICAgIHRoaXMub2ZmKCdhbGxmaW5pc2hlZC5meCcsIHdyYXBwZXIpXHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAvLyBzZWUgYWJvdmVcclxuICAgICAgdGhpcy50YXJnZXQoKS5vZmYoJ2FsbGZpbmlzaGVkLmZ4Jywgd3JhcHBlcikub24oJ2FsbGZpbmlzaGVkLmZ4Jywgd3JhcHBlcilcclxuXHJcbiAgICAgIHJldHVybiB0aGlzLl9jYWxsU3RhcnQoKVxyXG4gICAgfVxyXG5cclxuICAgIC8vIGNhbGxzIG9uIGV2ZXJ5IGFuaW1hdGlvbiBzdGVwIGZvciBhbGwgYW5pbWF0aW9uc1xyXG4gICwgZHVyaW5nQWxsOiBmdW5jdGlvbihmbil7XHJcbiAgICAgIHZhciB3cmFwcGVyID0gZnVuY3Rpb24oZSl7XHJcbiAgICAgICAgICAgIGZuLmNhbGwodGhpcywgZS5kZXRhaWwucG9zLCBTVkcubW9ycGgoZS5kZXRhaWwucG9zKSwgZS5kZXRhaWwuZWFzZWQsIGUuZGV0YWlsLnNpdHVhdGlvbilcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgIHRoaXMudGFyZ2V0KCkub2ZmKCdkdXJpbmcuZngnLCB3cmFwcGVyKS5vbignZHVyaW5nLmZ4Jywgd3JhcHBlcilcclxuXHJcbiAgICAgIHRoaXMuYWZ0ZXJBbGwoZnVuY3Rpb24oKXtcclxuICAgICAgICB0aGlzLm9mZignZHVyaW5nLmZ4Jywgd3JhcHBlcilcclxuICAgICAgfSlcclxuXHJcbiAgICAgIHJldHVybiB0aGlzLl9jYWxsU3RhcnQoKVxyXG4gICAgfVxyXG5cclxuICAsIGxhc3Q6IGZ1bmN0aW9uKCl7XHJcbiAgICAgIHJldHVybiB0aGlzLnNpdHVhdGlvbnMubGVuZ3RoID8gdGhpcy5zaXR1YXRpb25zW3RoaXMuc2l0dWF0aW9ucy5sZW5ndGgtMV0gOiB0aGlzLnNpdHVhdGlvblxyXG4gICAgfVxyXG5cclxuICAgIC8vIGFkZHMgb25lIHByb3BlcnR5IHRvIHRoZSBhbmltYXRpb25zXHJcbiAgLCBhZGQ6IGZ1bmN0aW9uKG1ldGhvZCwgYXJncywgdHlwZSl7XHJcbiAgICAgIHRoaXMubGFzdCgpW3R5cGUgfHwgJ2FuaW1hdGlvbnMnXVttZXRob2RdID0gYXJnc1xyXG4gICAgICByZXR1cm4gdGhpcy5fY2FsbFN0YXJ0KClcclxuICAgIH1cclxuXHJcbiAgICAvKiogcGVyZm9ybSBvbmUgc3RlcCBvZiB0aGUgYW5pbWF0aW9uXHJcbiAgICAgKiAgQHBhcmFtIGlnbm9yZVRpbWUgQm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgdG8gaWdub3JlIHRpbWUgYW5kIHVzZSBwb3NpdGlvbiBkaXJlY3RseSBvciByZWNhbGN1bGF0ZSBwb3NpdGlvbiBiYXNlZCBvbiB0aW1lXHJcbiAgICAgKiAgQHJldHVybiB0aGlzXHJcbiAgICAgKi9cclxuICAsIHN0ZXA6IGZ1bmN0aW9uKGlnbm9yZVRpbWUpe1xyXG5cclxuICAgICAgLy8gY29udmVydCBjdXJyZW50IHRpbWUgdG8gYW4gYWJzb2x1dGUgcG9zaXRpb25cclxuICAgICAgaWYoIWlnbm9yZVRpbWUpIHRoaXMuYWJzUG9zID0gdGhpcy50aW1lVG9BYnNQb3MoK25ldyBEYXRlKVxyXG5cclxuICAgICAgLy8gVGhpcyBwYXJ0IGNvbnZlcnQgYW4gYWJzb2x1dGUgcG9zaXRpb24gdG8gYSBwb3NpdGlvblxyXG4gICAgICBpZih0aGlzLnNpdHVhdGlvbi5sb29wcyAhPT0gZmFsc2UpIHtcclxuICAgICAgICB2YXIgYWJzUG9zLCBhYnNQb3NJbnQsIGxhc3RMb29wXHJcblxyXG4gICAgICAgIC8vIElmIHRoZSBhYnNvbHV0ZSBwb3NpdGlvbiBpcyBiZWxvdyAwLCB3ZSBqdXN0IHRyZWF0IGl0IGFzIGlmIGl0IHdhcyAwXHJcbiAgICAgICAgYWJzUG9zID0gTWF0aC5tYXgodGhpcy5hYnNQb3MsIDApXHJcbiAgICAgICAgYWJzUG9zSW50ID0gTWF0aC5mbG9vcihhYnNQb3MpXHJcblxyXG4gICAgICAgIGlmKHRoaXMuc2l0dWF0aW9uLmxvb3BzID09PSB0cnVlIHx8IGFic1Bvc0ludCA8IHRoaXMuc2l0dWF0aW9uLmxvb3BzKSB7XHJcbiAgICAgICAgICB0aGlzLnBvcyA9IGFic1BvcyAtIGFic1Bvc0ludFxyXG4gICAgICAgICAgbGFzdExvb3AgPSB0aGlzLnNpdHVhdGlvbi5sb29wXHJcbiAgICAgICAgICB0aGlzLnNpdHVhdGlvbi5sb29wID0gYWJzUG9zSW50XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHRoaXMuYWJzUG9zID0gdGhpcy5zaXR1YXRpb24ubG9vcHNcclxuICAgICAgICAgIHRoaXMucG9zID0gMVxyXG4gICAgICAgICAgLy8gVGhlIC0xIGhlcmUgaXMgYmVjYXVzZSB3ZSBkb24ndCB3YW50IHRvIHRvZ2dsZSByZXZlcnNlZCB3aGVuIGFsbCB0aGUgbG9vcHMgaGF2ZSBiZWVuIGNvbXBsZXRlZFxyXG4gICAgICAgICAgbGFzdExvb3AgPSB0aGlzLnNpdHVhdGlvbi5sb29wIC0gMVxyXG4gICAgICAgICAgdGhpcy5zaXR1YXRpb24ubG9vcCA9IHRoaXMuc2l0dWF0aW9uLmxvb3BzXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZih0aGlzLnNpdHVhdGlvbi5yZXZlcnNpbmcpIHtcclxuICAgICAgICAgIC8vIFRvZ2dsZSByZXZlcnNlZCBpZiBhbiBvZGQgbnVtYmVyIG9mIGxvb3BzIGFzIG9jY3VyZWQgc2luY2UgdGhlIGxhc3QgY2FsbCBvZiBzdGVwXHJcbiAgICAgICAgICB0aGlzLnNpdHVhdGlvbi5yZXZlcnNlZCA9IHRoaXMuc2l0dWF0aW9uLnJldmVyc2VkICE9IEJvb2xlYW4oKHRoaXMuc2l0dWF0aW9uLmxvb3AgLSBsYXN0TG9vcCkgJSAyKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gSWYgdGhlcmUgYXJlIG5vIGxvb3AsIHRoZSBhYnNvbHV0ZSBwb3NpdGlvbiBtdXN0IG5vdCBiZSBhYm92ZSAxXHJcbiAgICAgICAgdGhpcy5hYnNQb3MgPSBNYXRoLm1pbih0aGlzLmFic1BvcywgMSlcclxuICAgICAgICB0aGlzLnBvcyA9IHRoaXMuYWJzUG9zXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIHdoaWxlIHRoZSBhYnNvbHV0ZSBwb3NpdGlvbiBjYW4gYmUgYmVsb3cgMCwgdGhlIHBvc2l0aW9uIG11c3Qgbm90IGJlIGJlbG93IDBcclxuICAgICAgaWYodGhpcy5wb3MgPCAwKSB0aGlzLnBvcyA9IDBcclxuXHJcbiAgICAgIGlmKHRoaXMuc2l0dWF0aW9uLnJldmVyc2VkKSB0aGlzLnBvcyA9IDEgLSB0aGlzLnBvc1xyXG5cclxuXHJcbiAgICAgIC8vIGFwcGx5IGVhc2luZ1xyXG4gICAgICB2YXIgZWFzZWQgPSB0aGlzLnNpdHVhdGlvbi5lYXNlKHRoaXMucG9zKVxyXG5cclxuICAgICAgLy8gY2FsbCBvbmNlLWNhbGxiYWNrc1xyXG4gICAgICBmb3IodmFyIGkgaW4gdGhpcy5zaXR1YXRpb24ub25jZSl7XHJcbiAgICAgICAgaWYoaSA+IHRoaXMubGFzdFBvcyAmJiBpIDw9IGVhc2VkKXtcclxuICAgICAgICAgIHRoaXMuc2l0dWF0aW9uLm9uY2VbaV0uY2FsbCh0aGlzLnRhcmdldCgpLCB0aGlzLnBvcywgZWFzZWQpXHJcbiAgICAgICAgICBkZWxldGUgdGhpcy5zaXR1YXRpb24ub25jZVtpXVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gZmlyZSBkdXJpbmcgY2FsbGJhY2sgd2l0aCBwb3NpdGlvbiwgZWFzZWQgcG9zaXRpb24gYW5kIGN1cnJlbnQgc2l0dWF0aW9uIGFzIHBhcmFtZXRlclxyXG4gICAgICBpZih0aGlzLmFjdGl2ZSkgdGhpcy50YXJnZXQoKS5maXJlKCdkdXJpbmcnLCB7cG9zOiB0aGlzLnBvcywgZWFzZWQ6IGVhc2VkLCBmeDogdGhpcywgc2l0dWF0aW9uOiB0aGlzLnNpdHVhdGlvbn0pXHJcblxyXG4gICAgICAvLyB0aGUgdXNlciBtYXkgY2FsbCBzdG9wIG9yIGZpbmlzaCBpbiB0aGUgZHVyaW5nIGNhbGxiYWNrXHJcbiAgICAgIC8vIHNvIG1ha2Ugc3VyZSB0aGF0IHdlIHN0aWxsIGhhdmUgYSB2YWxpZCBzaXR1YXRpb25cclxuICAgICAgaWYoIXRoaXMuc2l0dWF0aW9uKXtcclxuICAgICAgICByZXR1cm4gdGhpc1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBhcHBseSB0aGUgYWN0dWFsIGFuaW1hdGlvbiB0byBldmVyeSBwcm9wZXJ0eVxyXG4gICAgICB0aGlzLmVhY2hBdCgpXHJcblxyXG4gICAgICAvLyBkbyBmaW5hbCBjb2RlIHdoZW4gc2l0dWF0aW9uIGlzIGZpbmlzaGVkXHJcbiAgICAgIGlmKCh0aGlzLnBvcyA9PSAxICYmICF0aGlzLnNpdHVhdGlvbi5yZXZlcnNlZCkgfHwgKHRoaXMuc2l0dWF0aW9uLnJldmVyc2VkICYmIHRoaXMucG9zID09IDApKXtcclxuXHJcbiAgICAgICAgLy8gc3RvcCBhbmltYXRpb24gY2FsbGJhY2tcclxuICAgICAgICB0aGlzLnN0b3BBbmltRnJhbWUoKVxyXG5cclxuICAgICAgICAvLyBmaXJlIGZpbmlzaGVkIGNhbGxiYWNrIHdpdGggY3VycmVudCBzaXR1YXRpb24gYXMgcGFyYW1ldGVyXHJcbiAgICAgICAgdGhpcy50YXJnZXQoKS5maXJlKCdmaW5pc2hlZCcsIHtmeDp0aGlzLCBzaXR1YXRpb246IHRoaXMuc2l0dWF0aW9ufSlcclxuXHJcbiAgICAgICAgaWYoIXRoaXMuc2l0dWF0aW9ucy5sZW5ndGgpe1xyXG4gICAgICAgICAgdGhpcy50YXJnZXQoKS5maXJlKCdhbGxmaW5pc2hlZCcpXHJcblxyXG4gICAgICAgICAgLy8gUmVjaGVjayB0aGUgbGVuZ3RoIHNpbmNlIHRoZSB1c2VyIG1heSBjYWxsIGFuaW1hdGUgaW4gdGhlIGFmdGVyQWxsIGNhbGxiYWNrXHJcbiAgICAgICAgICBpZighdGhpcy5zaXR1YXRpb25zLmxlbmd0aCl7XHJcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0KCkub2ZmKCcuZngnKSAvLyB0aGVyZSBzaG91bGRudCBiZSBhbnkgYmluZGluZyBsZWZ0LCBidXQgdG8gbWFrZSBzdXJlLi4uXHJcbiAgICAgICAgICAgIHRoaXMuYWN0aXZlID0gZmFsc2VcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIHN0YXJ0IG5leHQgYW5pbWF0aW9uXHJcbiAgICAgICAgaWYodGhpcy5hY3RpdmUpIHRoaXMuZGVxdWV1ZSgpXHJcbiAgICAgICAgZWxzZSB0aGlzLmNsZWFyQ3VycmVudCgpXHJcblxyXG4gICAgICB9ZWxzZSBpZighdGhpcy5wYXVzZWQgJiYgdGhpcy5hY3RpdmUpe1xyXG4gICAgICAgIC8vIHdlIGNvbnRpbnVlIGFuaW1hdGluZyB3aGVuIHdlIGFyZSBub3QgYXQgdGhlIGVuZFxyXG4gICAgICAgIHRoaXMuc3RhcnRBbmltRnJhbWUoKVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBzYXZlIGxhc3QgZWFzZWQgcG9zaXRpb24gZm9yIG9uY2UgY2FsbGJhY2sgdHJpZ2dlcmluZ1xyXG4gICAgICB0aGlzLmxhc3RQb3MgPSBlYXNlZFxyXG4gICAgICByZXR1cm4gdGhpc1xyXG5cclxuICAgIH1cclxuXHJcbiAgICAvLyBjYWxjdWxhdGVzIHRoZSBzdGVwIGZvciBldmVyeSBwcm9wZXJ0eSBhbmQgY2FsbHMgYmxvY2sgd2l0aCBpdFxyXG4gICwgZWFjaEF0OiBmdW5jdGlvbigpe1xyXG4gICAgICB2YXIgaSwgbGVuLCBhdCwgc2VsZiA9IHRoaXMsIHRhcmdldCA9IHRoaXMudGFyZ2V0KCksIHMgPSB0aGlzLnNpdHVhdGlvblxyXG5cclxuICAgICAgLy8gYXBwbHkgYW5pbWF0aW9ucyB3aGljaCBjYW4gYmUgY2FsbGVkIHRyb3VnaCBhIG1ldGhvZFxyXG4gICAgICBmb3IoaSBpbiBzLmFuaW1hdGlvbnMpe1xyXG5cclxuICAgICAgICBhdCA9IFtdLmNvbmNhdChzLmFuaW1hdGlvbnNbaV0pLm1hcChmdW5jdGlvbihlbCl7XHJcbiAgICAgICAgICByZXR1cm4gdHlwZW9mIGVsICE9PSAnc3RyaW5nJyAmJiBlbC5hdCA/IGVsLmF0KHMuZWFzZShzZWxmLnBvcyksIHNlbGYucG9zKSA6IGVsXHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgdGFyZ2V0W2ldLmFwcGx5KHRhcmdldCwgYXQpXHJcblxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBhcHBseSBhbmltYXRpb24gd2hpY2ggaGFzIHRvIGJlIGFwcGxpZWQgd2l0aCBhdHRyKClcclxuICAgICAgZm9yKGkgaW4gcy5hdHRycyl7XHJcblxyXG4gICAgICAgIGF0ID0gW2ldLmNvbmNhdChzLmF0dHJzW2ldKS5tYXAoZnVuY3Rpb24oZWwpe1xyXG4gICAgICAgICAgcmV0dXJuIHR5cGVvZiBlbCAhPT0gJ3N0cmluZycgJiYgZWwuYXQgPyBlbC5hdChzLmVhc2Uoc2VsZi5wb3MpLCBzZWxmLnBvcykgOiBlbFxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIHRhcmdldC5hdHRyLmFwcGx5KHRhcmdldCwgYXQpXHJcblxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBhcHBseSBhbmltYXRpb24gd2hpY2ggaGFzIHRvIGJlIGFwcGxpZWQgd2l0aCBzdHlsZSgpXHJcbiAgICAgIGZvcihpIGluIHMuc3R5bGVzKXtcclxuXHJcbiAgICAgICAgYXQgPSBbaV0uY29uY2F0KHMuc3R5bGVzW2ldKS5tYXAoZnVuY3Rpb24oZWwpe1xyXG4gICAgICAgICAgcmV0dXJuIHR5cGVvZiBlbCAhPT0gJ3N0cmluZycgJiYgZWwuYXQgPyBlbC5hdChzLmVhc2Uoc2VsZi5wb3MpLCBzZWxmLnBvcykgOiBlbFxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIHRhcmdldC5zdHlsZS5hcHBseSh0YXJnZXQsIGF0KVxyXG5cclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gYW5pbWF0ZSBpbml0aWFsVHJhbnNmb3JtYXRpb24gd2hpY2ggaGFzIHRvIGJlIGNoYWluZWRcclxuICAgICAgaWYocy50cmFuc2Zvcm1zLmxlbmd0aCl7XHJcblxyXG4gICAgICAgIC8vIGdldCBpbml0aWFsIGluaXRpYWxUcmFuc2Zvcm1hdGlvblxyXG4gICAgICAgIGF0ID0gcy5pbml0aWFsVHJhbnNmb3JtYXRpb25cclxuICAgICAgICBmb3IoaSA9IDAsIGxlbiA9IHMudHJhbnNmb3Jtcy5sZW5ndGg7IGkgPCBsZW47IGkrKyl7XHJcblxyXG4gICAgICAgICAgLy8gZ2V0IG5leHQgdHJhbnNmb3JtYXRpb24gaW4gY2hhaW5cclxuICAgICAgICAgIHZhciBhID0gcy50cmFuc2Zvcm1zW2ldXHJcblxyXG4gICAgICAgICAgLy8gbXVsdGlwbHkgbWF0cml4IGRpcmVjdGx5XHJcbiAgICAgICAgICBpZihhIGluc3RhbmNlb2YgU1ZHLk1hdHJpeCl7XHJcblxyXG4gICAgICAgICAgICBpZihhLnJlbGF0aXZlKXtcclxuICAgICAgICAgICAgICBhdCA9IGF0Lm11bHRpcGx5KG5ldyBTVkcuTWF0cml4KCkubW9ycGgoYSkuYXQocy5lYXNlKHRoaXMucG9zKSkpXHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgIGF0ID0gYXQubW9ycGgoYSkuYXQocy5lYXNlKHRoaXMucG9zKSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb250aW51ZVxyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC8vIHdoZW4gdHJhbnNmb3JtYXRpb24gaXMgYWJzb2x1dGUgd2UgaGF2ZSB0byByZXNldCB0aGUgbmVlZGVkIHRyYW5zZm9ybWF0aW9uIGZpcnN0XHJcbiAgICAgICAgICBpZighYS5yZWxhdGl2ZSlcclxuICAgICAgICAgICAgYS51bmRvKGF0LmV4dHJhY3QoKSlcclxuXHJcbiAgICAgICAgICAvLyBhbmQgcmVhcHBseSBpdCBhZnRlclxyXG4gICAgICAgICAgYXQgPSBhdC5tdWx0aXBseShhLmF0KHMuZWFzZSh0aGlzLnBvcykpKVxyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIHNldCBuZXcgbWF0cml4IG9uIGVsZW1lbnRcclxuICAgICAgICB0YXJnZXQubWF0cml4KGF0KVxyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gdGhpc1xyXG5cclxuICAgIH1cclxuXHJcblxyXG4gICAgLy8gYWRkcyBhbiBvbmNlLWNhbGxiYWNrIHdoaWNoIGlzIGNhbGxlZCBhdCBhIHNwZWNpZmljIHBvc2l0aW9uIGFuZCBuZXZlciBhZ2FpblxyXG4gICwgb25jZTogZnVuY3Rpb24ocG9zLCBmbiwgaXNFYXNlZCl7XHJcbiAgICAgIHZhciBjID0gdGhpcy5sYXN0KClcclxuICAgICAgaWYoIWlzRWFzZWQpIHBvcyA9IGMuZWFzZShwb3MpXHJcblxyXG4gICAgICBjLm9uY2VbcG9zXSA9IGZuXHJcblxyXG4gICAgICByZXR1cm4gdGhpc1xyXG4gICAgfVxyXG5cclxuICAsIF9jYWxsU3RhcnQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhpcy5zdGFydCgpfS5iaW5kKHRoaXMpLCAwKVxyXG4gICAgICByZXR1cm4gdGhpc1xyXG4gICAgfVxyXG5cclxuICB9XHJcblxyXG4sIHBhcmVudDogU1ZHLkVsZW1lbnRcclxuXHJcbiAgLy8gQWRkIG1ldGhvZCB0byBwYXJlbnQgZWxlbWVudHNcclxuLCBjb25zdHJ1Y3Q6IHtcclxuICAgIC8vIEdldCBmeCBtb2R1bGUgb3IgY3JlYXRlIGEgbmV3IG9uZSwgdGhlbiBhbmltYXRlIHdpdGggZ2l2ZW4gZHVyYXRpb24gYW5kIGVhc2VcclxuICAgIGFuaW1hdGU6IGZ1bmN0aW9uKG8sIGVhc2UsIGRlbGF5KSB7XHJcbiAgICAgIHJldHVybiAodGhpcy5meCB8fCAodGhpcy5meCA9IG5ldyBTVkcuRlgodGhpcykpKS5hbmltYXRlKG8sIGVhc2UsIGRlbGF5KVxyXG4gICAgfVxyXG4gICwgZGVsYXk6IGZ1bmN0aW9uKGRlbGF5KXtcclxuICAgICAgcmV0dXJuICh0aGlzLmZ4IHx8ICh0aGlzLmZ4ID0gbmV3IFNWRy5GWCh0aGlzKSkpLmRlbGF5KGRlbGF5KVxyXG4gICAgfVxyXG4gICwgc3RvcDogZnVuY3Rpb24oanVtcFRvRW5kLCBjbGVhclF1ZXVlKSB7XHJcbiAgICAgIGlmICh0aGlzLmZ4KVxyXG4gICAgICAgIHRoaXMuZnguc3RvcChqdW1wVG9FbmQsIGNsZWFyUXVldWUpXHJcblxyXG4gICAgICByZXR1cm4gdGhpc1xyXG4gICAgfVxyXG4gICwgZmluaXNoOiBmdW5jdGlvbigpIHtcclxuICAgICAgaWYgKHRoaXMuZngpXHJcbiAgICAgICAgdGhpcy5meC5maW5pc2goKVxyXG5cclxuICAgICAgcmV0dXJuIHRoaXNcclxuICAgIH1cclxuICAgIC8vIFBhdXNlIGN1cnJlbnQgYW5pbWF0aW9uXHJcbiAgLCBwYXVzZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgIGlmICh0aGlzLmZ4KVxyXG4gICAgICAgIHRoaXMuZngucGF1c2UoKVxyXG5cclxuICAgICAgcmV0dXJuIHRoaXNcclxuICAgIH1cclxuICAgIC8vIFBsYXkgcGF1c2VkIGN1cnJlbnQgYW5pbWF0aW9uXHJcbiAgLCBwbGF5OiBmdW5jdGlvbigpIHtcclxuICAgICAgaWYgKHRoaXMuZngpXHJcbiAgICAgICAgdGhpcy5meC5wbGF5KClcclxuXHJcbiAgICAgIHJldHVybiB0aGlzXHJcbiAgICB9XHJcbiAgICAvLyBTZXQvR2V0IHRoZSBzcGVlZCBvZiB0aGUgYW5pbWF0aW9uc1xyXG4gICwgc3BlZWQ6IGZ1bmN0aW9uKHNwZWVkKSB7XHJcbiAgICAgIGlmICh0aGlzLmZ4KVxyXG4gICAgICAgIGlmIChzcGVlZCA9PSBudWxsKVxyXG4gICAgICAgICAgcmV0dXJuIHRoaXMuZnguc3BlZWQoKVxyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgIHRoaXMuZnguc3BlZWQoc3BlZWQpXHJcblxyXG4gICAgICByZXR1cm4gdGhpc1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbn0pXHJcblxyXG4vLyBNb3JwaE9iaiBpcyB1c2VkIHdoZW5ldmVyIG5vIG1vcnBoYWJsZSBvYmplY3QgaXMgZ2l2ZW5cclxuU1ZHLk1vcnBoT2JqID0gU1ZHLmludmVudCh7XHJcblxyXG4gIGNyZWF0ZTogZnVuY3Rpb24oZnJvbSwgdG8pe1xyXG4gICAgLy8gcHJlcGFyZSBjb2xvciBmb3IgbW9ycGhpbmdcclxuICAgIGlmKFNWRy5Db2xvci5pc0NvbG9yKHRvKSkgcmV0dXJuIG5ldyBTVkcuQ29sb3IoZnJvbSkubW9ycGgodG8pXHJcbiAgICAvLyBjaGVjayBpZiB3ZSBoYXZlIGEgbGlzdCBvZiB2YWx1ZXNcclxuICAgIGlmKFNWRy5yZWdleC5kZWxpbWl0ZXIudGVzdChmcm9tKSkge1xyXG4gICAgICAvLyBwcmVwYXJlIHBhdGggZm9yIG1vcnBoaW5nXHJcbiAgICAgIGlmKFNWRy5yZWdleC5wYXRoTGV0dGVycy50ZXN0KGZyb20pKSByZXR1cm4gbmV3IFNWRy5QYXRoQXJyYXkoZnJvbSkubW9ycGgodG8pXHJcbiAgICAgIC8vIHByZXBhcmUgdmFsdWUgbGlzdCBmb3IgbW9ycGhpbmdcclxuICAgICAgZWxzZSByZXR1cm4gbmV3IFNWRy5BcnJheShmcm9tKS5tb3JwaCh0bylcclxuICAgIH1cclxuICAgIC8vIHByZXBhcmUgbnVtYmVyIGZvciBtb3JwaGluZ1xyXG4gICAgaWYoU1ZHLnJlZ2V4Lm51bWJlckFuZFVuaXQudGVzdCh0bykpIHJldHVybiBuZXcgU1ZHLk51bWJlcihmcm9tKS5tb3JwaCh0bylcclxuXHJcbiAgICAvLyBwcmVwYXJlIGZvciBwbGFpbiBtb3JwaGluZ1xyXG4gICAgdGhpcy52YWx1ZSA9IGZyb21cclxuICAgIHRoaXMuZGVzdGluYXRpb24gPSB0b1xyXG4gIH1cclxuXHJcbiwgZXh0ZW5kOiB7XHJcbiAgICBhdDogZnVuY3Rpb24ocG9zLCByZWFsKXtcclxuICAgICAgcmV0dXJuIHJlYWwgPCAxID8gdGhpcy52YWx1ZSA6IHRoaXMuZGVzdGluYXRpb25cclxuICAgIH0sXHJcblxyXG4gICAgdmFsdWVPZjogZnVuY3Rpb24oKXtcclxuICAgICAgcmV0dXJuIHRoaXMudmFsdWVcclxuICAgIH1cclxuICB9XHJcblxyXG59KVxyXG5cclxuU1ZHLmV4dGVuZChTVkcuRlgsIHtcclxuICAvLyBBZGQgYW5pbWF0YWJsZSBhdHRyaWJ1dGVzXHJcbiAgYXR0cjogZnVuY3Rpb24oYSwgdiwgcmVsYXRpdmUpIHtcclxuICAgIC8vIGFwcGx5IGF0dHJpYnV0ZXMgaW5kaXZpZHVhbGx5XHJcbiAgICBpZiAodHlwZW9mIGEgPT0gJ29iamVjdCcpIHtcclxuICAgICAgZm9yICh2YXIga2V5IGluIGEpXHJcbiAgICAgICAgdGhpcy5hdHRyKGtleSwgYVtrZXldKVxyXG5cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuYWRkKGEsIHYsICdhdHRycycpXHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRoaXNcclxuICB9XHJcbiAgLy8gQWRkIGFuaW1hdGFibGUgc3R5bGVzXHJcbiwgc3R5bGU6IGZ1bmN0aW9uKHMsIHYpIHtcclxuICAgIGlmICh0eXBlb2YgcyA9PSAnb2JqZWN0JylcclxuICAgICAgZm9yICh2YXIga2V5IGluIHMpXHJcbiAgICAgICAgdGhpcy5zdHlsZShrZXksIHNba2V5XSlcclxuXHJcbiAgICBlbHNlXHJcbiAgICAgIHRoaXMuYWRkKHMsIHYsICdzdHlsZXMnKVxyXG5cclxuICAgIHJldHVybiB0aGlzXHJcbiAgfVxyXG4gIC8vIEFuaW1hdGFibGUgeC1heGlzXHJcbiwgeDogZnVuY3Rpb24oeCwgcmVsYXRpdmUpIHtcclxuICAgIGlmKHRoaXMudGFyZ2V0KCkgaW5zdGFuY2VvZiBTVkcuRyl7XHJcbiAgICAgIHRoaXMudHJhbnNmb3JtKHt4Onh9LCByZWxhdGl2ZSlcclxuICAgICAgcmV0dXJuIHRoaXNcclxuICAgIH1cclxuXHJcbiAgICB2YXIgbnVtID0gbmV3IFNWRy5OdW1iZXIoeClcclxuICAgIG51bS5yZWxhdGl2ZSA9IHJlbGF0aXZlXHJcbiAgICByZXR1cm4gdGhpcy5hZGQoJ3gnLCBudW0pXHJcbiAgfVxyXG4gIC8vIEFuaW1hdGFibGUgeS1heGlzXHJcbiwgeTogZnVuY3Rpb24oeSwgcmVsYXRpdmUpIHtcclxuICAgIGlmKHRoaXMudGFyZ2V0KCkgaW5zdGFuY2VvZiBTVkcuRyl7XHJcbiAgICAgIHRoaXMudHJhbnNmb3JtKHt5Onl9LCByZWxhdGl2ZSlcclxuICAgICAgcmV0dXJuIHRoaXNcclxuICAgIH1cclxuXHJcbiAgICB2YXIgbnVtID0gbmV3IFNWRy5OdW1iZXIoeSlcclxuICAgIG51bS5yZWxhdGl2ZSA9IHJlbGF0aXZlXHJcbiAgICByZXR1cm4gdGhpcy5hZGQoJ3knLCBudW0pXHJcbiAgfVxyXG4gIC8vIEFuaW1hdGFibGUgY2VudGVyIHgtYXhpc1xyXG4sIGN4OiBmdW5jdGlvbih4KSB7XHJcbiAgICByZXR1cm4gdGhpcy5hZGQoJ2N4JywgbmV3IFNWRy5OdW1iZXIoeCkpXHJcbiAgfVxyXG4gIC8vIEFuaW1hdGFibGUgY2VudGVyIHktYXhpc1xyXG4sIGN5OiBmdW5jdGlvbih5KSB7XHJcbiAgICByZXR1cm4gdGhpcy5hZGQoJ2N5JywgbmV3IFNWRy5OdW1iZXIoeSkpXHJcbiAgfVxyXG4gIC8vIEFkZCBhbmltYXRhYmxlIG1vdmVcclxuLCBtb3ZlOiBmdW5jdGlvbih4LCB5KSB7XHJcbiAgICByZXR1cm4gdGhpcy54KHgpLnkoeSlcclxuICB9XHJcbiAgLy8gQWRkIGFuaW1hdGFibGUgY2VudGVyXHJcbiwgY2VudGVyOiBmdW5jdGlvbih4LCB5KSB7XHJcbiAgICByZXR1cm4gdGhpcy5jeCh4KS5jeSh5KVxyXG4gIH1cclxuICAvLyBBZGQgYW5pbWF0YWJsZSBzaXplXHJcbiwgc2l6ZTogZnVuY3Rpb24od2lkdGgsIGhlaWdodCkge1xyXG4gICAgaWYgKHRoaXMudGFyZ2V0KCkgaW5zdGFuY2VvZiBTVkcuVGV4dCkge1xyXG4gICAgICAvLyBhbmltYXRlIGZvbnQgc2l6ZSBmb3IgVGV4dCBlbGVtZW50c1xyXG4gICAgICB0aGlzLmF0dHIoJ2ZvbnQtc2l6ZScsIHdpZHRoKVxyXG5cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIGFuaW1hdGUgYmJveCBiYXNlZCBzaXplIGZvciBhbGwgb3RoZXIgZWxlbWVudHNcclxuICAgICAgdmFyIGJveFxyXG5cclxuICAgICAgaWYoIXdpZHRoIHx8ICFoZWlnaHQpe1xyXG4gICAgICAgIGJveCA9IHRoaXMudGFyZ2V0KCkuYmJveCgpXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmKCF3aWR0aCl7XHJcbiAgICAgICAgd2lkdGggPSBib3gud2lkdGggLyBib3guaGVpZ2h0ICAqIGhlaWdodFxyXG4gICAgICB9XHJcblxyXG4gICAgICBpZighaGVpZ2h0KXtcclxuICAgICAgICBoZWlnaHQgPSBib3guaGVpZ2h0IC8gYm94LndpZHRoICAqIHdpZHRoXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRoaXMuYWRkKCd3aWR0aCcgLCBuZXcgU1ZHLk51bWJlcih3aWR0aCkpXHJcbiAgICAgICAgICAuYWRkKCdoZWlnaHQnLCBuZXcgU1ZHLk51bWJlcihoZWlnaHQpKVxyXG5cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpc1xyXG4gIH1cclxuICAvLyBBZGQgYW5pbWF0YWJsZSB3aWR0aFxyXG4sIHdpZHRoOiBmdW5jdGlvbih3aWR0aCkge1xyXG4gICAgcmV0dXJuIHRoaXMuYWRkKCd3aWR0aCcsIG5ldyBTVkcuTnVtYmVyKHdpZHRoKSlcclxuICB9XHJcbiAgLy8gQWRkIGFuaW1hdGFibGUgaGVpZ2h0XHJcbiwgaGVpZ2h0OiBmdW5jdGlvbihoZWlnaHQpIHtcclxuICAgIHJldHVybiB0aGlzLmFkZCgnaGVpZ2h0JywgbmV3IFNWRy5OdW1iZXIoaGVpZ2h0KSlcclxuICB9XHJcbiAgLy8gQWRkIGFuaW1hdGFibGUgcGxvdFxyXG4sIHBsb3Q6IGZ1bmN0aW9uKGEsIGIsIGMsIGQpIHtcclxuICAgIC8vIExpbmVzIGNhbiBiZSBwbG90dGVkIHdpdGggNCBhcmd1bWVudHNcclxuICAgIGlmKGFyZ3VtZW50cy5sZW5ndGggPT0gNCkge1xyXG4gICAgICByZXR1cm4gdGhpcy5wbG90KFthLCBiLCBjLCBkXSlcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcy5hZGQoJ3Bsb3QnLCBuZXcgKHRoaXMudGFyZ2V0KCkubW9ycGhBcnJheSkoYSkpXHJcbiAgfVxyXG4gIC8vIEFkZCBsZWFkaW5nIG1ldGhvZFxyXG4sIGxlYWRpbmc6IGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICByZXR1cm4gdGhpcy50YXJnZXQoKS5sZWFkaW5nID9cclxuICAgICAgdGhpcy5hZGQoJ2xlYWRpbmcnLCBuZXcgU1ZHLk51bWJlcih2YWx1ZSkpIDpcclxuICAgICAgdGhpc1xyXG4gIH1cclxuICAvLyBBZGQgYW5pbWF0YWJsZSB2aWV3Ym94XHJcbiwgdmlld2JveDogZnVuY3Rpb24oeCwgeSwgd2lkdGgsIGhlaWdodCkge1xyXG4gICAgaWYgKHRoaXMudGFyZ2V0KCkgaW5zdGFuY2VvZiBTVkcuQ29udGFpbmVyKSB7XHJcbiAgICAgIHRoaXMuYWRkKCd2aWV3Ym94JywgbmV3IFNWRy5WaWV3Qm94KHgsIHksIHdpZHRoLCBoZWlnaHQpKVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzXHJcbiAgfVxyXG4sIHVwZGF0ZTogZnVuY3Rpb24obykge1xyXG4gICAgaWYgKHRoaXMudGFyZ2V0KCkgaW5zdGFuY2VvZiBTVkcuU3RvcCkge1xyXG4gICAgICBpZiAodHlwZW9mIG8gPT0gJ251bWJlcicgfHwgbyBpbnN0YW5jZW9mIFNWRy5OdW1iZXIpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy51cGRhdGUoe1xyXG4gICAgICAgICAgb2Zmc2V0OiAgYXJndW1lbnRzWzBdXHJcbiAgICAgICAgLCBjb2xvcjogICBhcmd1bWVudHNbMV1cclxuICAgICAgICAsIG9wYWNpdHk6IGFyZ3VtZW50c1syXVxyXG4gICAgICAgIH0pXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChvLm9wYWNpdHkgIT0gbnVsbCkgdGhpcy5hdHRyKCdzdG9wLW9wYWNpdHknLCBvLm9wYWNpdHkpXHJcbiAgICAgIGlmIChvLmNvbG9yICAgIT0gbnVsbCkgdGhpcy5hdHRyKCdzdG9wLWNvbG9yJywgby5jb2xvcilcclxuICAgICAgaWYgKG8ub2Zmc2V0ICAhPSBudWxsKSB0aGlzLmF0dHIoJ29mZnNldCcsIG8ub2Zmc2V0KVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzXHJcbiAgfVxyXG59KVxyXG5cblNWRy5Cb3ggPSBTVkcuaW52ZW50KHtcclxuICBjcmVhdGU6IGZ1bmN0aW9uKHgsIHksIHdpZHRoLCBoZWlnaHQpIHtcclxuICAgIGlmICh0eXBlb2YgeCA9PSAnb2JqZWN0JyAmJiAhKHggaW5zdGFuY2VvZiBTVkcuRWxlbWVudCkpIHtcclxuICAgICAgLy8gY2hyb21lcyBnZXRCb3VuZGluZ0NsaWVudFJlY3QgaGFzIG5vIHggYW5kIHkgcHJvcGVydHlcclxuICAgICAgcmV0dXJuIFNWRy5Cb3guY2FsbCh0aGlzLCB4LmxlZnQgIT0gbnVsbCA/IHgubGVmdCA6IHgueCAsIHgudG9wICE9IG51bGwgPyB4LnRvcCA6IHgueSwgeC53aWR0aCwgeC5oZWlnaHQpXHJcbiAgICB9IGVsc2UgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT0gNCkge1xyXG4gICAgICB0aGlzLnggPSB4XHJcbiAgICAgIHRoaXMueSA9IHlcclxuICAgICAgdGhpcy53aWR0aCA9IHdpZHRoXHJcbiAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0XHJcbiAgICB9XHJcblxyXG4gICAgLy8gYWRkIGNlbnRlciwgcmlnaHQsIGJvdHRvbS4uLlxyXG4gICAgZnVsbEJveCh0aGlzKVxyXG4gIH1cclxuLCBleHRlbmQ6IHtcclxuICAgIC8vIE1lcmdlIHJlY3QgYm94IHdpdGggYW5vdGhlciwgcmV0dXJuIGEgbmV3IGluc3RhbmNlXHJcbiAgICBtZXJnZTogZnVuY3Rpb24oYm94KSB7XHJcbiAgICAgIHZhciBiID0gbmV3IHRoaXMuY29uc3RydWN0b3IoKVxyXG5cclxuICAgICAgLy8gbWVyZ2UgYm94ZXNcclxuICAgICAgYi54ICAgICAgPSBNYXRoLm1pbih0aGlzLngsIGJveC54KVxyXG4gICAgICBiLnkgICAgICA9IE1hdGgubWluKHRoaXMueSwgYm94LnkpXHJcbiAgICAgIGIud2lkdGggID0gTWF0aC5tYXgodGhpcy54ICsgdGhpcy53aWR0aCwgIGJveC54ICsgYm94LndpZHRoKSAgLSBiLnhcclxuICAgICAgYi5oZWlnaHQgPSBNYXRoLm1heCh0aGlzLnkgKyB0aGlzLmhlaWdodCwgYm94LnkgKyBib3guaGVpZ2h0KSAtIGIueVxyXG5cclxuICAgICAgcmV0dXJuIGZ1bGxCb3goYilcclxuICAgIH1cclxuXHJcbiAgLCB0cmFuc2Zvcm06IGZ1bmN0aW9uKG0pIHtcclxuICAgICAgdmFyIHhNaW4gPSBJbmZpbml0eSwgeE1heCA9IC1JbmZpbml0eSwgeU1pbiA9IEluZmluaXR5LCB5TWF4ID0gLUluZmluaXR5LCBwLCBiYm94XHJcblxyXG4gICAgICB2YXIgcHRzID0gW1xyXG4gICAgICAgIG5ldyBTVkcuUG9pbnQodGhpcy54LCB0aGlzLnkpLFxyXG4gICAgICAgIG5ldyBTVkcuUG9pbnQodGhpcy54MiwgdGhpcy55KSxcclxuICAgICAgICBuZXcgU1ZHLlBvaW50KHRoaXMueCwgdGhpcy55MiksXHJcbiAgICAgICAgbmV3IFNWRy5Qb2ludCh0aGlzLngyLCB0aGlzLnkyKVxyXG4gICAgICBdXHJcblxyXG4gICAgICBwdHMuZm9yRWFjaChmdW5jdGlvbihwKSB7XHJcbiAgICAgICAgcCA9IHAudHJhbnNmb3JtKG0pXHJcbiAgICAgICAgeE1pbiA9IE1hdGgubWluKHhNaW4scC54KVxyXG4gICAgICAgIHhNYXggPSBNYXRoLm1heCh4TWF4LHAueClcclxuICAgICAgICB5TWluID0gTWF0aC5taW4oeU1pbixwLnkpXHJcbiAgICAgICAgeU1heCA9IE1hdGgubWF4KHlNYXgscC55KVxyXG4gICAgICB9KVxyXG5cclxuICAgICAgYmJveCA9IG5ldyB0aGlzLmNvbnN0cnVjdG9yKClcclxuICAgICAgYmJveC54ID0geE1pblxyXG4gICAgICBiYm94LndpZHRoID0geE1heC14TWluXHJcbiAgICAgIGJib3gueSA9IHlNaW5cclxuICAgICAgYmJveC5oZWlnaHQgPSB5TWF4LXlNaW5cclxuXHJcbiAgICAgIGZ1bGxCb3goYmJveClcclxuXHJcbiAgICAgIHJldHVybiBiYm94XHJcbiAgICB9XHJcbiAgfVxyXG59KVxyXG5cclxuU1ZHLkJCb3ggPSBTVkcuaW52ZW50KHtcclxuICAvLyBJbml0aWFsaXplXHJcbiAgY3JlYXRlOiBmdW5jdGlvbihlbGVtZW50KSB7XHJcbiAgICBTVkcuQm94LmFwcGx5KHRoaXMsIFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKSlcclxuXHJcbiAgICAvLyBnZXQgdmFsdWVzIGlmIGVsZW1lbnQgaXMgZ2l2ZW5cclxuICAgIGlmIChlbGVtZW50IGluc3RhbmNlb2YgU1ZHLkVsZW1lbnQpIHtcclxuICAgICAgdmFyIGJveFxyXG5cclxuICAgICAgLy8geWVzIHRoaXMgaXMgdWdseSwgYnV0IEZpcmVmb3ggY2FuIGJlIGEgcGFpbiB3aGVuIGl0IGNvbWVzIHRvIGVsZW1lbnRzIHRoYXQgYXJlIG5vdCB5ZXQgcmVuZGVyZWRcclxuICAgICAgdHJ5IHtcclxuXHJcbiAgICAgICAgaWYgKCFkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY29udGFpbnMpe1xyXG4gICAgICAgICAgLy8gVGhpcyBpcyBJRSAtIGl0IGRvZXMgbm90IHN1cHBvcnQgY29udGFpbnMoKSBmb3IgdG9wLWxldmVsIFNWR3NcclxuICAgICAgICAgIHZhciB0b3BQYXJlbnQgPSBlbGVtZW50Lm5vZGVcclxuICAgICAgICAgIHdoaWxlICh0b3BQYXJlbnQucGFyZW50Tm9kZSl7XHJcbiAgICAgICAgICAgIHRvcFBhcmVudCA9IHRvcFBhcmVudC5wYXJlbnROb2RlXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpZiAodG9wUGFyZW50ICE9IGRvY3VtZW50KSB0aHJvdyBuZXcgRXhjZXB0aW9uKCdFbGVtZW50IG5vdCBpbiB0aGUgZG9tJylcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgLy8gdGhlIGVsZW1lbnQgaXMgTk9UIGluIHRoZSBkb20sIHRocm93IGVycm9yXHJcbiAgICAgICAgICBpZighZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNvbnRhaW5zKGVsZW1lbnQubm9kZSkpIHRocm93IG5ldyBFeGNlcHRpb24oJ0VsZW1lbnQgbm90IGluIHRoZSBkb20nKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gZmluZCBuYXRpdmUgYmJveFxyXG4gICAgICAgIGJveCA9IGVsZW1lbnQubm9kZS5nZXRCQm94KClcclxuICAgICAgfSBjYXRjaChlKSB7XHJcbiAgICAgICAgaWYoZWxlbWVudCBpbnN0YW5jZW9mIFNWRy5TaGFwZSl7XHJcbiAgICAgICAgICB2YXIgY2xvbmUgPSBlbGVtZW50LmNsb25lKFNWRy5wYXJzZXIuZHJhdy5pbnN0YW5jZSkuc2hvdygpXHJcbiAgICAgICAgICBib3ggPSBjbG9uZS5ub2RlLmdldEJCb3goKVxyXG4gICAgICAgICAgY2xvbmUucmVtb3ZlKClcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgIGJveCA9IHtcclxuICAgICAgICAgICAgeDogICAgICBlbGVtZW50Lm5vZGUuY2xpZW50TGVmdFxyXG4gICAgICAgICAgLCB5OiAgICAgIGVsZW1lbnQubm9kZS5jbGllbnRUb3BcclxuICAgICAgICAgICwgd2lkdGg6ICBlbGVtZW50Lm5vZGUuY2xpZW50V2lkdGhcclxuICAgICAgICAgICwgaGVpZ2h0OiBlbGVtZW50Lm5vZGUuY2xpZW50SGVpZ2h0XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBTVkcuQm94LmNhbGwodGhpcywgYm94KVxyXG4gICAgfVxyXG5cclxuICB9XHJcblxyXG4gIC8vIERlZmluZSBhbmNlc3RvclxyXG4sIGluaGVyaXQ6IFNWRy5Cb3hcclxuXHJcbiAgLy8gRGVmaW5lIFBhcmVudFxyXG4sIHBhcmVudDogU1ZHLkVsZW1lbnRcclxuXHJcbiAgLy8gQ29uc3RydWN0b3JcclxuLCBjb25zdHJ1Y3Q6IHtcclxuICAgIC8vIEdldCBib3VuZGluZyBib3hcclxuICAgIGJib3g6IGZ1bmN0aW9uKCkge1xyXG4gICAgICByZXR1cm4gbmV3IFNWRy5CQm94KHRoaXMpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxufSlcclxuXHJcblNWRy5CQm94LnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFNWRy5CQm94XHJcblxyXG5cclxuU1ZHLmV4dGVuZChTVkcuRWxlbWVudCwge1xyXG4gIHRib3g6IGZ1bmN0aW9uKCl7XHJcbiAgICBjb25zb2xlLndhcm4oJ1VzZSBvZiBUQm94IGlzIGRlcHJlY2F0ZWQgYW5kIG1hcHBlZCB0byBSQm94LiBVc2UgLnJib3goKSBpbnN0ZWFkLicpXHJcbiAgICByZXR1cm4gdGhpcy5yYm94KHRoaXMuZG9jKCkpXHJcbiAgfVxyXG59KVxyXG5cclxuU1ZHLlJCb3ggPSBTVkcuaW52ZW50KHtcclxuICAvLyBJbml0aWFsaXplXHJcbiAgY3JlYXRlOiBmdW5jdGlvbihlbGVtZW50KSB7XHJcbiAgICBTVkcuQm94LmFwcGx5KHRoaXMsIFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKSlcclxuXHJcbiAgICBpZiAoZWxlbWVudCBpbnN0YW5jZW9mIFNWRy5FbGVtZW50KSB7XHJcbiAgICAgIFNWRy5Cb3guY2FsbCh0aGlzLCBlbGVtZW50Lm5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuLCBpbmhlcml0OiBTVkcuQm94XHJcblxyXG4gIC8vIGRlZmluZSBQYXJlbnRcclxuLCBwYXJlbnQ6IFNWRy5FbGVtZW50XHJcblxyXG4sIGV4dGVuZDoge1xyXG4gICAgYWRkT2Zmc2V0OiBmdW5jdGlvbigpIHtcclxuICAgICAgLy8gb2Zmc2V0IGJ5IHdpbmRvdyBzY3JvbGwgcG9zaXRpb24sIGJlY2F1c2UgZ2V0Qm91bmRpbmdDbGllbnRSZWN0IGNoYW5nZXMgd2hlbiB3aW5kb3cgaXMgc2Nyb2xsZWRcclxuICAgICAgdGhpcy54ICs9IHdpbmRvdy5wYWdlWE9mZnNldFxyXG4gICAgICB0aGlzLnkgKz0gd2luZG93LnBhZ2VZT2Zmc2V0XHJcbiAgICAgIHJldHVybiB0aGlzXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBDb25zdHJ1Y3RvclxyXG4sIGNvbnN0cnVjdDoge1xyXG4gICAgLy8gR2V0IHJlY3QgYm94XHJcbiAgICByYm94OiBmdW5jdGlvbihlbCkge1xyXG4gICAgICBpZiAoZWwpIHJldHVybiBuZXcgU1ZHLlJCb3godGhpcykudHJhbnNmb3JtKGVsLnNjcmVlbkNUTSgpLmludmVyc2UoKSlcclxuICAgICAgcmV0dXJuIG5ldyBTVkcuUkJveCh0aGlzKS5hZGRPZmZzZXQoKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbn0pXHJcblxyXG5TVkcuUkJveC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBTVkcuUkJveFxyXG5cblNWRy5NYXRyaXggPSBTVkcuaW52ZW50KHtcclxuICAvLyBJbml0aWFsaXplXHJcbiAgY3JlYXRlOiBmdW5jdGlvbihzb3VyY2UpIHtcclxuICAgIHZhciBpLCBiYXNlID0gYXJyYXlUb01hdHJpeChbMSwgMCwgMCwgMSwgMCwgMF0pXHJcblxyXG4gICAgLy8gZW5zdXJlIHNvdXJjZSBhcyBvYmplY3RcclxuICAgIHNvdXJjZSA9IHNvdXJjZSBpbnN0YW5jZW9mIFNWRy5FbGVtZW50ID9cclxuICAgICAgc291cmNlLm1hdHJpeGlmeSgpIDpcclxuICAgIHR5cGVvZiBzb3VyY2UgPT09ICdzdHJpbmcnID9cclxuICAgICAgYXJyYXlUb01hdHJpeChzb3VyY2Uuc3BsaXQoU1ZHLnJlZ2V4LmRlbGltaXRlcikubWFwKHBhcnNlRmxvYXQpKSA6XHJcbiAgICBhcmd1bWVudHMubGVuZ3RoID09IDYgP1xyXG4gICAgICBhcnJheVRvTWF0cml4KFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKSkgOlxyXG4gICAgQXJyYXkuaXNBcnJheShzb3VyY2UpID9cclxuICAgICAgYXJyYXlUb01hdHJpeChzb3VyY2UpIDpcclxuICAgIHR5cGVvZiBzb3VyY2UgPT09ICdvYmplY3QnID9cclxuICAgICAgc291cmNlIDogYmFzZVxyXG5cclxuICAgIC8vIG1lcmdlIHNvdXJjZVxyXG4gICAgZm9yIChpID0gYWJjZGVmLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKVxyXG4gICAgICB0aGlzW2FiY2RlZltpXV0gPSBzb3VyY2VbYWJjZGVmW2ldXSAhPSBudWxsID9cclxuICAgICAgICBzb3VyY2VbYWJjZGVmW2ldXSA6IGJhc2VbYWJjZGVmW2ldXVxyXG4gIH1cclxuXHJcbiAgLy8gQWRkIG1ldGhvZHNcclxuLCBleHRlbmQ6IHtcclxuICAgIC8vIEV4dHJhY3QgaW5kaXZpZHVhbCB0cmFuc2Zvcm1hdGlvbnNcclxuICAgIGV4dHJhY3Q6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAvLyBmaW5kIGRlbHRhIHRyYW5zZm9ybSBwb2ludHNcclxuICAgICAgdmFyIHB4ICAgID0gZGVsdGFUcmFuc2Zvcm1Qb2ludCh0aGlzLCAwLCAxKVxyXG4gICAgICAgICwgcHkgICAgPSBkZWx0YVRyYW5zZm9ybVBvaW50KHRoaXMsIDEsIDApXHJcbiAgICAgICAgLCBza2V3WCA9IDE4MCAvIE1hdGguUEkgKiBNYXRoLmF0YW4yKHB4LnksIHB4LngpIC0gOTBcclxuXHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgLy8gdHJhbnNsYXRpb25cclxuICAgICAgICB4OiAgICAgICAgdGhpcy5lXHJcbiAgICAgICwgeTogICAgICAgIHRoaXMuZlxyXG4gICAgICAsIHRyYW5zZm9ybWVkWDoodGhpcy5lICogTWF0aC5jb3Moc2tld1ggKiBNYXRoLlBJIC8gMTgwKSArIHRoaXMuZiAqIE1hdGguc2luKHNrZXdYICogTWF0aC5QSSAvIDE4MCkpIC8gTWF0aC5zcXJ0KHRoaXMuYSAqIHRoaXMuYSArIHRoaXMuYiAqIHRoaXMuYilcclxuICAgICAgLCB0cmFuc2Zvcm1lZFk6KHRoaXMuZiAqIE1hdGguY29zKHNrZXdYICogTWF0aC5QSSAvIDE4MCkgKyB0aGlzLmUgKiBNYXRoLnNpbigtc2tld1ggKiBNYXRoLlBJIC8gMTgwKSkgLyBNYXRoLnNxcnQodGhpcy5jICogdGhpcy5jICsgdGhpcy5kICogdGhpcy5kKVxyXG4gICAgICAgIC8vIHNrZXdcclxuICAgICAgLCBza2V3WDogICAgLXNrZXdYXHJcbiAgICAgICwgc2tld1k6ICAgIDE4MCAvIE1hdGguUEkgKiBNYXRoLmF0YW4yKHB5LnksIHB5LngpXHJcbiAgICAgICAgLy8gc2NhbGVcclxuICAgICAgLCBzY2FsZVg6ICAgTWF0aC5zcXJ0KHRoaXMuYSAqIHRoaXMuYSArIHRoaXMuYiAqIHRoaXMuYilcclxuICAgICAgLCBzY2FsZVk6ICAgTWF0aC5zcXJ0KHRoaXMuYyAqIHRoaXMuYyArIHRoaXMuZCAqIHRoaXMuZClcclxuICAgICAgICAvLyByb3RhdGlvblxyXG4gICAgICAsIHJvdGF0aW9uOiBza2V3WFxyXG4gICAgICAsIGE6IHRoaXMuYVxyXG4gICAgICAsIGI6IHRoaXMuYlxyXG4gICAgICAsIGM6IHRoaXMuY1xyXG4gICAgICAsIGQ6IHRoaXMuZFxyXG4gICAgICAsIGU6IHRoaXMuZVxyXG4gICAgICAsIGY6IHRoaXMuZlxyXG4gICAgICAsIG1hdHJpeDogbmV3IFNWRy5NYXRyaXgodGhpcylcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8gQ2xvbmUgbWF0cml4XHJcbiAgLCBjbG9uZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgIHJldHVybiBuZXcgU1ZHLk1hdHJpeCh0aGlzKVxyXG4gICAgfVxyXG4gICAgLy8gTW9ycGggb25lIG1hdHJpeCBpbnRvIGFub3RoZXJcclxuICAsIG1vcnBoOiBmdW5jdGlvbihtYXRyaXgpIHtcclxuICAgICAgLy8gc3RvcmUgbmV3IGRlc3RpbmF0aW9uXHJcbiAgICAgIHRoaXMuZGVzdGluYXRpb24gPSBuZXcgU1ZHLk1hdHJpeChtYXRyaXgpXHJcblxyXG4gICAgICByZXR1cm4gdGhpc1xyXG4gICAgfVxyXG4gICAgLy8gR2V0IG1vcnBoZWQgbWF0cml4IGF0IGEgZ2l2ZW4gcG9zaXRpb25cclxuICAsIGF0OiBmdW5jdGlvbihwb3MpIHtcclxuICAgICAgLy8gbWFrZSBzdXJlIGEgZGVzdGluYXRpb24gaXMgZGVmaW5lZFxyXG4gICAgICBpZiAoIXRoaXMuZGVzdGluYXRpb24pIHJldHVybiB0aGlzXHJcblxyXG4gICAgICAvLyBjYWxjdWxhdGUgbW9ycGhlZCBtYXRyaXggYXQgYSBnaXZlbiBwb3NpdGlvblxyXG4gICAgICB2YXIgbWF0cml4ID0gbmV3IFNWRy5NYXRyaXgoe1xyXG4gICAgICAgIGE6IHRoaXMuYSArICh0aGlzLmRlc3RpbmF0aW9uLmEgLSB0aGlzLmEpICogcG9zXHJcbiAgICAgICwgYjogdGhpcy5iICsgKHRoaXMuZGVzdGluYXRpb24uYiAtIHRoaXMuYikgKiBwb3NcclxuICAgICAgLCBjOiB0aGlzLmMgKyAodGhpcy5kZXN0aW5hdGlvbi5jIC0gdGhpcy5jKSAqIHBvc1xyXG4gICAgICAsIGQ6IHRoaXMuZCArICh0aGlzLmRlc3RpbmF0aW9uLmQgLSB0aGlzLmQpICogcG9zXHJcbiAgICAgICwgZTogdGhpcy5lICsgKHRoaXMuZGVzdGluYXRpb24uZSAtIHRoaXMuZSkgKiBwb3NcclxuICAgICAgLCBmOiB0aGlzLmYgKyAodGhpcy5kZXN0aW5hdGlvbi5mIC0gdGhpcy5mKSAqIHBvc1xyXG4gICAgICB9KVxyXG5cclxuICAgICAgcmV0dXJuIG1hdHJpeFxyXG4gICAgfVxyXG4gICAgLy8gTXVsdGlwbGllcyBieSBnaXZlbiBtYXRyaXhcclxuICAsIG11bHRpcGx5OiBmdW5jdGlvbihtYXRyaXgpIHtcclxuICAgICAgcmV0dXJuIG5ldyBTVkcuTWF0cml4KHRoaXMubmF0aXZlKCkubXVsdGlwbHkocGFyc2VNYXRyaXgobWF0cml4KS5uYXRpdmUoKSkpXHJcbiAgICB9XHJcbiAgICAvLyBJbnZlcnNlcyBtYXRyaXhcclxuICAsIGludmVyc2U6IGZ1bmN0aW9uKCkge1xyXG4gICAgICByZXR1cm4gbmV3IFNWRy5NYXRyaXgodGhpcy5uYXRpdmUoKS5pbnZlcnNlKCkpXHJcbiAgICB9XHJcbiAgICAvLyBUcmFuc2xhdGUgbWF0cml4XHJcbiAgLCB0cmFuc2xhdGU6IGZ1bmN0aW9uKHgsIHkpIHtcclxuICAgICAgcmV0dXJuIG5ldyBTVkcuTWF0cml4KHRoaXMubmF0aXZlKCkudHJhbnNsYXRlKHggfHwgMCwgeSB8fCAwKSlcclxuICAgIH1cclxuICAgIC8vIFNjYWxlIG1hdHJpeFxyXG4gICwgc2NhbGU6IGZ1bmN0aW9uKHgsIHksIGN4LCBjeSkge1xyXG4gICAgICAvLyBzdXBwb3J0IHVuaWZvcm1hbCBzY2FsZVxyXG4gICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PSAxKSB7XHJcbiAgICAgICAgeSA9IHhcclxuICAgICAgfSBlbHNlIGlmIChhcmd1bWVudHMubGVuZ3RoID09IDMpIHtcclxuICAgICAgICBjeSA9IGN4XHJcbiAgICAgICAgY3ggPSB5XHJcbiAgICAgICAgeSA9IHhcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHRoaXMuYXJvdW5kKGN4LCBjeSwgbmV3IFNWRy5NYXRyaXgoeCwgMCwgMCwgeSwgMCwgMCkpXHJcbiAgICB9XHJcbiAgICAvLyBSb3RhdGUgbWF0cml4XHJcbiAgLCByb3RhdGU6IGZ1bmN0aW9uKHIsIGN4LCBjeSkge1xyXG4gICAgICAvLyBjb252ZXJ0IGRlZ3JlZXMgdG8gcmFkaWFuc1xyXG4gICAgICByID0gU1ZHLnV0aWxzLnJhZGlhbnMocilcclxuXHJcbiAgICAgIHJldHVybiB0aGlzLmFyb3VuZChjeCwgY3ksIG5ldyBTVkcuTWF0cml4KE1hdGguY29zKHIpLCBNYXRoLnNpbihyKSwgLU1hdGguc2luKHIpLCBNYXRoLmNvcyhyKSwgMCwgMCkpXHJcbiAgICB9XHJcbiAgICAvLyBGbGlwIG1hdHJpeCBvbiB4IG9yIHksIGF0IGEgZ2l2ZW4gb2Zmc2V0XHJcbiAgLCBmbGlwOiBmdW5jdGlvbihhLCBvKSB7XHJcbiAgICAgIHJldHVybiBhID09ICd4JyA/XHJcbiAgICAgICAgICB0aGlzLnNjYWxlKC0xLCAxLCBvLCAwKSA6XHJcbiAgICAgICAgYSA9PSAneScgP1xyXG4gICAgICAgICAgdGhpcy5zY2FsZSgxLCAtMSwgMCwgbykgOlxyXG4gICAgICAgICAgdGhpcy5zY2FsZSgtMSwgLTEsIGEsIG8gIT0gbnVsbCA/IG8gOiBhKVxyXG4gICAgfVxyXG4gICAgLy8gU2tld1xyXG4gICwgc2tldzogZnVuY3Rpb24oeCwgeSwgY3gsIGN5KSB7XHJcbiAgICAgIC8vIHN1cHBvcnQgdW5pZm9ybWFsIHNrZXdcclxuICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT0gMSkge1xyXG4gICAgICAgIHkgPSB4XHJcbiAgICAgIH0gZWxzZSBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PSAzKSB7XHJcbiAgICAgICAgY3kgPSBjeFxyXG4gICAgICAgIGN4ID0geVxyXG4gICAgICAgIHkgPSB4XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIGNvbnZlcnQgZGVncmVlcyB0byByYWRpYW5zXHJcbiAgICAgIHggPSBTVkcudXRpbHMucmFkaWFucyh4KVxyXG4gICAgICB5ID0gU1ZHLnV0aWxzLnJhZGlhbnMoeSlcclxuXHJcbiAgICAgIHJldHVybiB0aGlzLmFyb3VuZChjeCwgY3ksIG5ldyBTVkcuTWF0cml4KDEsIE1hdGgudGFuKHkpLCBNYXRoLnRhbih4KSwgMSwgMCwgMCkpXHJcbiAgICB9XHJcbiAgICAvLyBTa2V3WFxyXG4gICwgc2tld1g6IGZ1bmN0aW9uKHgsIGN4LCBjeSkge1xyXG4gICAgICByZXR1cm4gdGhpcy5za2V3KHgsIDAsIGN4LCBjeSlcclxuICAgIH1cclxuICAgIC8vIFNrZXdZXHJcbiAgLCBza2V3WTogZnVuY3Rpb24oeSwgY3gsIGN5KSB7XHJcbiAgICAgIHJldHVybiB0aGlzLnNrZXcoMCwgeSwgY3gsIGN5KVxyXG4gICAgfVxyXG4gICAgLy8gVHJhbnNmb3JtIGFyb3VuZCBhIGNlbnRlciBwb2ludFxyXG4gICwgYXJvdW5kOiBmdW5jdGlvbihjeCwgY3ksIG1hdHJpeCkge1xyXG4gICAgICByZXR1cm4gdGhpc1xyXG4gICAgICAgIC5tdWx0aXBseShuZXcgU1ZHLk1hdHJpeCgxLCAwLCAwLCAxLCBjeCB8fCAwLCBjeSB8fCAwKSlcclxuICAgICAgICAubXVsdGlwbHkobWF0cml4KVxyXG4gICAgICAgIC5tdWx0aXBseShuZXcgU1ZHLk1hdHJpeCgxLCAwLCAwLCAxLCAtY3ggfHwgMCwgLWN5IHx8IDApKVxyXG4gICAgfVxyXG4gICAgLy8gQ29udmVydCB0byBuYXRpdmUgU1ZHTWF0cml4XHJcbiAgLCBuYXRpdmU6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAvLyBjcmVhdGUgbmV3IG1hdHJpeFxyXG4gICAgICB2YXIgbWF0cml4ID0gU1ZHLnBhcnNlci5uYXRpdmUuY3JlYXRlU1ZHTWF0cml4KClcclxuXHJcbiAgICAgIC8vIHVwZGF0ZSB3aXRoIGN1cnJlbnQgdmFsdWVzXHJcbiAgICAgIGZvciAodmFyIGkgPSBhYmNkZWYubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pXHJcbiAgICAgICAgbWF0cml4W2FiY2RlZltpXV0gPSB0aGlzW2FiY2RlZltpXV1cclxuXHJcbiAgICAgIHJldHVybiBtYXRyaXhcclxuICAgIH1cclxuICAgIC8vIENvbnZlcnQgbWF0cml4IHRvIHN0cmluZ1xyXG4gICwgdG9TdHJpbmc6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAvLyBDb25zdHJ1Y3QgdGhlIG1hdHJpeCBkaXJlY3RseSwgYXZvaWQgdmFsdWVzIHRoYXQgYXJlIHRvbyBzbWFsbFxyXG4gICAgICByZXR1cm4gJ21hdHJpeCgnICsgZmxvYXQzMlN0cmluZyh0aGlzLmEpICsgJywnICsgZmxvYXQzMlN0cmluZyh0aGlzLmIpXHJcbiAgICAgICAgKyAnLCcgKyBmbG9hdDMyU3RyaW5nKHRoaXMuYykgKyAnLCcgKyBmbG9hdDMyU3RyaW5nKHRoaXMuZClcclxuICAgICAgICArICcsJyArIGZsb2F0MzJTdHJpbmcodGhpcy5lKSArICcsJyArIGZsb2F0MzJTdHJpbmcodGhpcy5mKVxyXG4gICAgICAgICsgJyknXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBEZWZpbmUgcGFyZW50XHJcbiwgcGFyZW50OiBTVkcuRWxlbWVudFxyXG5cclxuICAvLyBBZGQgcGFyZW50IG1ldGhvZFxyXG4sIGNvbnN0cnVjdDoge1xyXG4gICAgLy8gR2V0IGN1cnJlbnQgbWF0cml4XHJcbiAgICBjdG06IGZ1bmN0aW9uKCkge1xyXG4gICAgICByZXR1cm4gbmV3IFNWRy5NYXRyaXgodGhpcy5ub2RlLmdldENUTSgpKVxyXG4gICAgfSxcclxuICAgIC8vIEdldCBjdXJyZW50IHNjcmVlbiBtYXRyaXhcclxuICAgIHNjcmVlbkNUTTogZnVuY3Rpb24oKSB7XHJcbiAgICAgIC8qIGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTEzNDQ1MzdcclxuICAgICAgICAgVGhpcyBpcyBuZWVkZWQgYmVjYXVzZSBGRiBkb2VzIG5vdCByZXR1cm4gdGhlIHRyYW5zZm9ybWF0aW9uIG1hdHJpeFxyXG4gICAgICAgICBmb3IgdGhlIGlubmVyIGNvb3JkaW5hdGUgc3lzdGVtIHdoZW4gZ2V0U2NyZWVuQ1RNKCkgaXMgY2FsbGVkIG9uIG5lc3RlZCBzdmdzLlxyXG4gICAgICAgICBIb3dldmVyIGFsbCBvdGhlciBCcm93c2VycyBkbyB0aGF0ICovXHJcbiAgICAgIGlmKHRoaXMgaW5zdGFuY2VvZiBTVkcuTmVzdGVkKSB7XHJcbiAgICAgICAgdmFyIHJlY3QgPSB0aGlzLnJlY3QoMSwxKVxyXG4gICAgICAgIHZhciBtID0gcmVjdC5ub2RlLmdldFNjcmVlbkNUTSgpXHJcbiAgICAgICAgcmVjdC5yZW1vdmUoKVxyXG4gICAgICAgIHJldHVybiBuZXcgU1ZHLk1hdHJpeChtKVxyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBuZXcgU1ZHLk1hdHJpeCh0aGlzLm5vZGUuZ2V0U2NyZWVuQ1RNKCkpXHJcbiAgICB9XHJcblxyXG4gIH1cclxuXHJcbn0pXHJcblxuU1ZHLlBvaW50ID0gU1ZHLmludmVudCh7XHJcbiAgLy8gSW5pdGlhbGl6ZVxyXG4gIGNyZWF0ZTogZnVuY3Rpb24oeCx5KSB7XHJcbiAgICB2YXIgaSwgc291cmNlLCBiYXNlID0ge3g6MCwgeTowfVxyXG5cclxuICAgIC8vIGVuc3VyZSBzb3VyY2UgYXMgb2JqZWN0XHJcbiAgICBzb3VyY2UgPSBBcnJheS5pc0FycmF5KHgpID9cclxuICAgICAge3g6eFswXSwgeTp4WzFdfSA6XHJcbiAgICB0eXBlb2YgeCA9PT0gJ29iamVjdCcgP1xyXG4gICAgICB7eDp4LngsIHk6eC55fSA6XHJcbiAgICB4ICE9IG51bGwgP1xyXG4gICAgICB7eDp4LCB5Oih5ICE9IG51bGwgPyB5IDogeCl9IDogYmFzZSAvLyBJZiB5IGhhcyBubyB2YWx1ZSwgdGhlbiB4IGlzIHVzZWQgaGFzIGl0cyB2YWx1ZVxyXG5cclxuICAgIC8vIG1lcmdlIHNvdXJjZVxyXG4gICAgdGhpcy54ID0gc291cmNlLnhcclxuICAgIHRoaXMueSA9IHNvdXJjZS55XHJcbiAgfVxyXG5cclxuICAvLyBBZGQgbWV0aG9kc1xyXG4sIGV4dGVuZDoge1xyXG4gICAgLy8gQ2xvbmUgcG9pbnRcclxuICAgIGNsb25lOiBmdW5jdGlvbigpIHtcclxuICAgICAgcmV0dXJuIG5ldyBTVkcuUG9pbnQodGhpcylcclxuICAgIH1cclxuICAgIC8vIE1vcnBoIG9uZSBwb2ludCBpbnRvIGFub3RoZXJcclxuICAsIG1vcnBoOiBmdW5jdGlvbih4LCB5KSB7XHJcbiAgICAgIC8vIHN0b3JlIG5ldyBkZXN0aW5hdGlvblxyXG4gICAgICB0aGlzLmRlc3RpbmF0aW9uID0gbmV3IFNWRy5Qb2ludCh4LCB5KVxyXG5cclxuICAgICAgcmV0dXJuIHRoaXNcclxuICAgIH1cclxuICAgIC8vIEdldCBtb3JwaGVkIHBvaW50IGF0IGEgZ2l2ZW4gcG9zaXRpb25cclxuICAsIGF0OiBmdW5jdGlvbihwb3MpIHtcclxuICAgICAgLy8gbWFrZSBzdXJlIGEgZGVzdGluYXRpb24gaXMgZGVmaW5lZFxyXG4gICAgICBpZiAoIXRoaXMuZGVzdGluYXRpb24pIHJldHVybiB0aGlzXHJcblxyXG4gICAgICAvLyBjYWxjdWxhdGUgbW9ycGhlZCBtYXRyaXggYXQgYSBnaXZlbiBwb3NpdGlvblxyXG4gICAgICB2YXIgcG9pbnQgPSBuZXcgU1ZHLlBvaW50KHtcclxuICAgICAgICB4OiB0aGlzLnggKyAodGhpcy5kZXN0aW5hdGlvbi54IC0gdGhpcy54KSAqIHBvc1xyXG4gICAgICAsIHk6IHRoaXMueSArICh0aGlzLmRlc3RpbmF0aW9uLnkgLSB0aGlzLnkpICogcG9zXHJcbiAgICAgIH0pXHJcblxyXG4gICAgICByZXR1cm4gcG9pbnRcclxuICAgIH1cclxuICAgIC8vIENvbnZlcnQgdG8gbmF0aXZlIFNWR1BvaW50XHJcbiAgLCBuYXRpdmU6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAvLyBjcmVhdGUgbmV3IHBvaW50XHJcbiAgICAgIHZhciBwb2ludCA9IFNWRy5wYXJzZXIubmF0aXZlLmNyZWF0ZVNWR1BvaW50KClcclxuXHJcbiAgICAgIC8vIHVwZGF0ZSB3aXRoIGN1cnJlbnQgdmFsdWVzXHJcbiAgICAgIHBvaW50LnggPSB0aGlzLnhcclxuICAgICAgcG9pbnQueSA9IHRoaXMueVxyXG5cclxuICAgICAgcmV0dXJuIHBvaW50XHJcbiAgICB9XHJcbiAgICAvLyB0cmFuc2Zvcm0gcG9pbnQgd2l0aCBtYXRyaXhcclxuICAsIHRyYW5zZm9ybTogZnVuY3Rpb24obWF0cml4KSB7XHJcbiAgICAgIHJldHVybiBuZXcgU1ZHLlBvaW50KHRoaXMubmF0aXZlKCkubWF0cml4VHJhbnNmb3JtKG1hdHJpeC5uYXRpdmUoKSkpXHJcbiAgICB9XHJcblxyXG4gIH1cclxuXHJcbn0pXHJcblxyXG5TVkcuZXh0ZW5kKFNWRy5FbGVtZW50LCB7XHJcblxyXG4gIC8vIEdldCBwb2ludFxyXG4gIHBvaW50OiBmdW5jdGlvbih4LCB5KSB7XHJcbiAgICByZXR1cm4gbmV3IFNWRy5Qb2ludCh4LHkpLnRyYW5zZm9ybSh0aGlzLnNjcmVlbkNUTSgpLmludmVyc2UoKSk7XHJcbiAgfVxyXG5cclxufSlcclxuXG5TVkcuZXh0ZW5kKFNWRy5FbGVtZW50LCB7XHJcbiAgLy8gU2V0IHN2ZyBlbGVtZW50IGF0dHJpYnV0ZVxyXG4gIGF0dHI6IGZ1bmN0aW9uKGEsIHYsIG4pIHtcclxuICAgIC8vIGFjdCBhcyBmdWxsIGdldHRlclxyXG4gICAgaWYgKGEgPT0gbnVsbCkge1xyXG4gICAgICAvLyBnZXQgYW4gb2JqZWN0IG9mIGF0dHJpYnV0ZXNcclxuICAgICAgYSA9IHt9XHJcbiAgICAgIHYgPSB0aGlzLm5vZGUuYXR0cmlidXRlc1xyXG4gICAgICBmb3IgKG4gPSB2Lmxlbmd0aCAtIDE7IG4gPj0gMDsgbi0tKVxyXG4gICAgICAgIGFbdltuXS5ub2RlTmFtZV0gPSBTVkcucmVnZXguaXNOdW1iZXIudGVzdCh2W25dLm5vZGVWYWx1ZSkgPyBwYXJzZUZsb2F0KHZbbl0ubm9kZVZhbHVlKSA6IHZbbl0ubm9kZVZhbHVlXHJcblxyXG4gICAgICByZXR1cm4gYVxyXG5cclxuICAgIH0gZWxzZSBpZiAodHlwZW9mIGEgPT0gJ29iamVjdCcpIHtcclxuICAgICAgLy8gYXBwbHkgZXZlcnkgYXR0cmlidXRlIGluZGl2aWR1YWxseSBpZiBhbiBvYmplY3QgaXMgcGFzc2VkXHJcbiAgICAgIGZvciAodiBpbiBhKSB0aGlzLmF0dHIodiwgYVt2XSlcclxuXHJcbiAgICB9IGVsc2UgaWYgKHYgPT09IG51bGwpIHtcclxuICAgICAgICAvLyByZW1vdmUgdmFsdWVcclxuICAgICAgICB0aGlzLm5vZGUucmVtb3ZlQXR0cmlidXRlKGEpXHJcblxyXG4gICAgfSBlbHNlIGlmICh2ID09IG51bGwpIHtcclxuICAgICAgLy8gYWN0IGFzIGEgZ2V0dGVyIGlmIHRoZSBmaXJzdCBhbmQgb25seSBhcmd1bWVudCBpcyBub3QgYW4gb2JqZWN0XHJcbiAgICAgIHYgPSB0aGlzLm5vZGUuZ2V0QXR0cmlidXRlKGEpXHJcbiAgICAgIHJldHVybiB2ID09IG51bGwgP1xyXG4gICAgICAgIFNWRy5kZWZhdWx0cy5hdHRyc1thXSA6XHJcbiAgICAgIFNWRy5yZWdleC5pc051bWJlci50ZXN0KHYpID9cclxuICAgICAgICBwYXJzZUZsb2F0KHYpIDogdlxyXG5cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIEJVRyBGSVg6IHNvbWUgYnJvd3NlcnMgd2lsbCByZW5kZXIgYSBzdHJva2UgaWYgYSBjb2xvciBpcyBnaXZlbiBldmVuIHRob3VnaCBzdHJva2Ugd2lkdGggaXMgMFxyXG4gICAgICBpZiAoYSA9PSAnc3Ryb2tlLXdpZHRoJylcclxuICAgICAgICB0aGlzLmF0dHIoJ3N0cm9rZScsIHBhcnNlRmxvYXQodikgPiAwID8gdGhpcy5fc3Ryb2tlIDogbnVsbClcclxuICAgICAgZWxzZSBpZiAoYSA9PSAnc3Ryb2tlJylcclxuICAgICAgICB0aGlzLl9zdHJva2UgPSB2XHJcblxyXG4gICAgICAvLyBjb252ZXJ0IGltYWdlIGZpbGwgYW5kIHN0cm9rZSB0byBwYXR0ZXJuc1xyXG4gICAgICBpZiAoYSA9PSAnZmlsbCcgfHwgYSA9PSAnc3Ryb2tlJykge1xyXG4gICAgICAgIGlmIChTVkcucmVnZXguaXNJbWFnZS50ZXN0KHYpKVxyXG4gICAgICAgICAgdiA9IHRoaXMuZG9jKCkuZGVmcygpLmltYWdlKHYsIDAsIDApXHJcblxyXG4gICAgICAgIGlmICh2IGluc3RhbmNlb2YgU1ZHLkltYWdlKVxyXG4gICAgICAgICAgdiA9IHRoaXMuZG9jKCkuZGVmcygpLnBhdHRlcm4oMCwgMCwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkKHYpXHJcbiAgICAgICAgICB9KVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBlbnN1cmUgY29ycmVjdCBudW1lcmljIHZhbHVlcyAoYWxzbyBhY2NlcHRzIE5hTiBhbmQgSW5maW5pdHkpXHJcbiAgICAgIGlmICh0eXBlb2YgdiA9PT0gJ251bWJlcicpXHJcbiAgICAgICAgdiA9IG5ldyBTVkcuTnVtYmVyKHYpXHJcblxyXG4gICAgICAvLyBlbnN1cmUgZnVsbCBoZXggY29sb3JcclxuICAgICAgZWxzZSBpZiAoU1ZHLkNvbG9yLmlzQ29sb3IodikpXHJcbiAgICAgICAgdiA9IG5ldyBTVkcuQ29sb3IodilcclxuXHJcbiAgICAgIC8vIHBhcnNlIGFycmF5IHZhbHVlc1xyXG4gICAgICBlbHNlIGlmIChBcnJheS5pc0FycmF5KHYpKVxyXG4gICAgICAgIHYgPSBuZXcgU1ZHLkFycmF5KHYpXHJcblxyXG4gICAgICAvLyBpZiB0aGUgcGFzc2VkIGF0dHJpYnV0ZSBpcyBsZWFkaW5nLi4uXHJcbiAgICAgIGlmIChhID09ICdsZWFkaW5nJykge1xyXG4gICAgICAgIC8vIC4uLiBjYWxsIHRoZSBsZWFkaW5nIG1ldGhvZCBpbnN0ZWFkXHJcbiAgICAgICAgaWYgKHRoaXMubGVhZGluZylcclxuICAgICAgICAgIHRoaXMubGVhZGluZyh2KVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIHNldCBnaXZlbiBhdHRyaWJ1dGUgb24gbm9kZVxyXG4gICAgICAgIHR5cGVvZiBuID09PSAnc3RyaW5nJyA/XHJcbiAgICAgICAgICB0aGlzLm5vZGUuc2V0QXR0cmlidXRlTlMobiwgYSwgdi50b1N0cmluZygpKSA6XHJcbiAgICAgICAgICB0aGlzLm5vZGUuc2V0QXR0cmlidXRlKGEsIHYudG9TdHJpbmcoKSlcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gcmVidWlsZCBpZiByZXF1aXJlZFxyXG4gICAgICBpZiAodGhpcy5yZWJ1aWxkICYmIChhID09ICdmb250LXNpemUnIHx8IGEgPT0gJ3gnKSlcclxuICAgICAgICB0aGlzLnJlYnVpbGQoYSwgdilcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpc1xyXG4gIH1cclxufSlcblNWRy5leHRlbmQoU1ZHLkVsZW1lbnQsIHtcclxuICAvLyBBZGQgdHJhbnNmb3JtYXRpb25zXHJcbiAgdHJhbnNmb3JtOiBmdW5jdGlvbihvLCByZWxhdGl2ZSkge1xyXG4gICAgLy8gZ2V0IHRhcmdldCBpbiBjYXNlIG9mIHRoZSBmeCBtb2R1bGUsIG90aGVyd2lzZSByZWZlcmVuY2UgdGhpc1xyXG4gICAgdmFyIHRhcmdldCA9IHRoaXNcclxuICAgICAgLCBtYXRyaXgsIGJib3hcclxuXHJcbiAgICAvLyBhY3QgYXMgYSBnZXR0ZXJcclxuICAgIGlmICh0eXBlb2YgbyAhPT0gJ29iamVjdCcpIHtcclxuICAgICAgLy8gZ2V0IGN1cnJlbnQgbWF0cml4XHJcbiAgICAgIG1hdHJpeCA9IG5ldyBTVkcuTWF0cml4KHRhcmdldCkuZXh0cmFjdCgpXHJcblxyXG4gICAgICByZXR1cm4gdHlwZW9mIG8gPT09ICdzdHJpbmcnID8gbWF0cml4W29dIDogbWF0cml4XHJcbiAgICB9XHJcblxyXG4gICAgLy8gZ2V0IGN1cnJlbnQgbWF0cml4XHJcbiAgICBtYXRyaXggPSBuZXcgU1ZHLk1hdHJpeCh0YXJnZXQpXHJcblxyXG4gICAgLy8gZW5zdXJlIHJlbGF0aXZlIGZsYWdcclxuICAgIHJlbGF0aXZlID0gISFyZWxhdGl2ZSB8fCAhIW8ucmVsYXRpdmVcclxuXHJcbiAgICAvLyBhY3Qgb24gbWF0cml4XHJcbiAgICBpZiAoby5hICE9IG51bGwpIHtcclxuICAgICAgbWF0cml4ID0gcmVsYXRpdmUgP1xyXG4gICAgICAgIC8vIHJlbGF0aXZlXHJcbiAgICAgICAgbWF0cml4Lm11bHRpcGx5KG5ldyBTVkcuTWF0cml4KG8pKSA6XHJcbiAgICAgICAgLy8gYWJzb2x1dGVcclxuICAgICAgICBuZXcgU1ZHLk1hdHJpeChvKVxyXG5cclxuICAgIC8vIGFjdCBvbiByb3RhdGlvblxyXG4gICAgfSBlbHNlIGlmIChvLnJvdGF0aW9uICE9IG51bGwpIHtcclxuICAgICAgLy8gZW5zdXJlIGNlbnRyZSBwb2ludFxyXG4gICAgICBlbnN1cmVDZW50cmUobywgdGFyZ2V0KVxyXG5cclxuICAgICAgLy8gYXBwbHkgdHJhbnNmb3JtYXRpb25cclxuICAgICAgbWF0cml4ID0gcmVsYXRpdmUgP1xyXG4gICAgICAgIC8vIHJlbGF0aXZlXHJcbiAgICAgICAgbWF0cml4LnJvdGF0ZShvLnJvdGF0aW9uLCBvLmN4LCBvLmN5KSA6XHJcbiAgICAgICAgLy8gYWJzb2x1dGVcclxuICAgICAgICBtYXRyaXgucm90YXRlKG8ucm90YXRpb24gLSBtYXRyaXguZXh0cmFjdCgpLnJvdGF0aW9uLCBvLmN4LCBvLmN5KVxyXG5cclxuICAgIC8vIGFjdCBvbiBzY2FsZVxyXG4gICAgfSBlbHNlIGlmIChvLnNjYWxlICE9IG51bGwgfHwgby5zY2FsZVggIT0gbnVsbCB8fCBvLnNjYWxlWSAhPSBudWxsKSB7XHJcbiAgICAgIC8vIGVuc3VyZSBjZW50cmUgcG9pbnRcclxuICAgICAgZW5zdXJlQ2VudHJlKG8sIHRhcmdldClcclxuXHJcbiAgICAgIC8vIGVuc3VyZSBzY2FsZSB2YWx1ZXMgb24gYm90aCBheGVzXHJcbiAgICAgIG8uc2NhbGVYID0gby5zY2FsZSAhPSBudWxsID8gby5zY2FsZSA6IG8uc2NhbGVYICE9IG51bGwgPyBvLnNjYWxlWCA6IDFcclxuICAgICAgby5zY2FsZVkgPSBvLnNjYWxlICE9IG51bGwgPyBvLnNjYWxlIDogby5zY2FsZVkgIT0gbnVsbCA/IG8uc2NhbGVZIDogMVxyXG5cclxuICAgICAgaWYgKCFyZWxhdGl2ZSkge1xyXG4gICAgICAgIC8vIGFic29sdXRlOyBtdWx0aXBseSBpbnZlcnNlZCB2YWx1ZXNcclxuICAgICAgICB2YXIgZSA9IG1hdHJpeC5leHRyYWN0KClcclxuICAgICAgICBvLnNjYWxlWCA9IG8uc2NhbGVYICogMSAvIGUuc2NhbGVYXHJcbiAgICAgICAgby5zY2FsZVkgPSBvLnNjYWxlWSAqIDEgLyBlLnNjYWxlWVxyXG4gICAgICB9XHJcblxyXG4gICAgICBtYXRyaXggPSBtYXRyaXguc2NhbGUoby5zY2FsZVgsIG8uc2NhbGVZLCBvLmN4LCBvLmN5KVxyXG5cclxuICAgIC8vIGFjdCBvbiBza2V3XHJcbiAgICB9IGVsc2UgaWYgKG8uc2tldyAhPSBudWxsIHx8IG8uc2tld1ggIT0gbnVsbCB8fCBvLnNrZXdZICE9IG51bGwpIHtcclxuICAgICAgLy8gZW5zdXJlIGNlbnRyZSBwb2ludFxyXG4gICAgICBlbnN1cmVDZW50cmUobywgdGFyZ2V0KVxyXG5cclxuICAgICAgLy8gZW5zdXJlIHNrZXcgdmFsdWVzIG9uIGJvdGggYXhlc1xyXG4gICAgICBvLnNrZXdYID0gby5za2V3ICE9IG51bGwgPyBvLnNrZXcgOiBvLnNrZXdYICE9IG51bGwgPyBvLnNrZXdYIDogMFxyXG4gICAgICBvLnNrZXdZID0gby5za2V3ICE9IG51bGwgPyBvLnNrZXcgOiBvLnNrZXdZICE9IG51bGwgPyBvLnNrZXdZIDogMFxyXG5cclxuICAgICAgaWYgKCFyZWxhdGl2ZSkge1xyXG4gICAgICAgIC8vIGFic29sdXRlOyByZXNldCBza2V3IHZhbHVlc1xyXG4gICAgICAgIHZhciBlID0gbWF0cml4LmV4dHJhY3QoKVxyXG4gICAgICAgIG1hdHJpeCA9IG1hdHJpeC5tdWx0aXBseShuZXcgU1ZHLk1hdHJpeCgpLnNrZXcoZS5za2V3WCwgZS5za2V3WSwgby5jeCwgby5jeSkuaW52ZXJzZSgpKVxyXG4gICAgICB9XHJcblxyXG4gICAgICBtYXRyaXggPSBtYXRyaXguc2tldyhvLnNrZXdYLCBvLnNrZXdZLCBvLmN4LCBvLmN5KVxyXG5cclxuICAgIC8vIGFjdCBvbiBmbGlwXHJcbiAgICB9IGVsc2UgaWYgKG8uZmxpcCkge1xyXG4gICAgICBpZihvLmZsaXAgPT0gJ3gnIHx8IG8uZmxpcCA9PSAneScpIHtcclxuICAgICAgICBvLm9mZnNldCA9IG8ub2Zmc2V0ID09IG51bGwgPyB0YXJnZXQuYmJveCgpWydjJyArIG8uZmxpcF0gOiBvLm9mZnNldFxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGlmKG8ub2Zmc2V0ID09IG51bGwpIHtcclxuICAgICAgICAgIGJib3ggPSB0YXJnZXQuYmJveCgpXHJcbiAgICAgICAgICBvLmZsaXAgPSBiYm94LmN4XHJcbiAgICAgICAgICBvLm9mZnNldCA9IGJib3guY3lcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgby5mbGlwID0gby5vZmZzZXRcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIG1hdHJpeCA9IG5ldyBTVkcuTWF0cml4KCkuZmxpcChvLmZsaXAsIG8ub2Zmc2V0KVxyXG5cclxuICAgIC8vIGFjdCBvbiB0cmFuc2xhdGVcclxuICAgIH0gZWxzZSBpZiAoby54ICE9IG51bGwgfHwgby55ICE9IG51bGwpIHtcclxuICAgICAgaWYgKHJlbGF0aXZlKSB7XHJcbiAgICAgICAgLy8gcmVsYXRpdmVcclxuICAgICAgICBtYXRyaXggPSBtYXRyaXgudHJhbnNsYXRlKG8ueCwgby55KVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIGFic29sdXRlXHJcbiAgICAgICAgaWYgKG8ueCAhPSBudWxsKSBtYXRyaXguZSA9IG8ueFxyXG4gICAgICAgIGlmIChvLnkgIT0gbnVsbCkgbWF0cml4LmYgPSBvLnlcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzLmF0dHIoJ3RyYW5zZm9ybScsIG1hdHJpeClcclxuICB9XHJcbn0pXHJcblxyXG5TVkcuZXh0ZW5kKFNWRy5GWCwge1xyXG4gIHRyYW5zZm9ybTogZnVuY3Rpb24obywgcmVsYXRpdmUpIHtcclxuICAgIC8vIGdldCB0YXJnZXQgaW4gY2FzZSBvZiB0aGUgZnggbW9kdWxlLCBvdGhlcndpc2UgcmVmZXJlbmNlIHRoaXNcclxuICAgIHZhciB0YXJnZXQgPSB0aGlzLnRhcmdldCgpXHJcbiAgICAgICwgbWF0cml4LCBiYm94XHJcblxyXG4gICAgLy8gYWN0IGFzIGEgZ2V0dGVyXHJcbiAgICBpZiAodHlwZW9mIG8gIT09ICdvYmplY3QnKSB7XHJcbiAgICAgIC8vIGdldCBjdXJyZW50IG1hdHJpeFxyXG4gICAgICBtYXRyaXggPSBuZXcgU1ZHLk1hdHJpeCh0YXJnZXQpLmV4dHJhY3QoKVxyXG5cclxuICAgICAgcmV0dXJuIHR5cGVvZiBvID09PSAnc3RyaW5nJyA/IG1hdHJpeFtvXSA6IG1hdHJpeFxyXG4gICAgfVxyXG5cclxuICAgIC8vIGVuc3VyZSByZWxhdGl2ZSBmbGFnXHJcbiAgICByZWxhdGl2ZSA9ICEhcmVsYXRpdmUgfHwgISFvLnJlbGF0aXZlXHJcblxyXG4gICAgLy8gYWN0IG9uIG1hdHJpeFxyXG4gICAgaWYgKG8uYSAhPSBudWxsKSB7XHJcbiAgICAgIG1hdHJpeCA9IG5ldyBTVkcuTWF0cml4KG8pXHJcblxyXG4gICAgLy8gYWN0IG9uIHJvdGF0aW9uXHJcbiAgICB9IGVsc2UgaWYgKG8ucm90YXRpb24gIT0gbnVsbCkge1xyXG4gICAgICAvLyBlbnN1cmUgY2VudHJlIHBvaW50XHJcbiAgICAgIGVuc3VyZUNlbnRyZShvLCB0YXJnZXQpXHJcblxyXG4gICAgICAvLyBhcHBseSB0cmFuc2Zvcm1hdGlvblxyXG4gICAgICBtYXRyaXggPSBuZXcgU1ZHLlJvdGF0ZShvLnJvdGF0aW9uLCBvLmN4LCBvLmN5KVxyXG5cclxuICAgIC8vIGFjdCBvbiBzY2FsZVxyXG4gICAgfSBlbHNlIGlmIChvLnNjYWxlICE9IG51bGwgfHwgby5zY2FsZVggIT0gbnVsbCB8fCBvLnNjYWxlWSAhPSBudWxsKSB7XHJcbiAgICAgIC8vIGVuc3VyZSBjZW50cmUgcG9pbnRcclxuICAgICAgZW5zdXJlQ2VudHJlKG8sIHRhcmdldClcclxuXHJcbiAgICAgIC8vIGVuc3VyZSBzY2FsZSB2YWx1ZXMgb24gYm90aCBheGVzXHJcbiAgICAgIG8uc2NhbGVYID0gby5zY2FsZSAhPSBudWxsID8gby5zY2FsZSA6IG8uc2NhbGVYICE9IG51bGwgPyBvLnNjYWxlWCA6IDFcclxuICAgICAgby5zY2FsZVkgPSBvLnNjYWxlICE9IG51bGwgPyBvLnNjYWxlIDogby5zY2FsZVkgIT0gbnVsbCA/IG8uc2NhbGVZIDogMVxyXG5cclxuICAgICAgbWF0cml4ID0gbmV3IFNWRy5TY2FsZShvLnNjYWxlWCwgby5zY2FsZVksIG8uY3gsIG8uY3kpXHJcblxyXG4gICAgLy8gYWN0IG9uIHNrZXdcclxuICAgIH0gZWxzZSBpZiAoby5za2V3WCAhPSBudWxsIHx8IG8uc2tld1kgIT0gbnVsbCkge1xyXG4gICAgICAvLyBlbnN1cmUgY2VudHJlIHBvaW50XHJcbiAgICAgIGVuc3VyZUNlbnRyZShvLCB0YXJnZXQpXHJcblxyXG4gICAgICAvLyBlbnN1cmUgc2tldyB2YWx1ZXMgb24gYm90aCBheGVzXHJcbiAgICAgIG8uc2tld1ggPSBvLnNrZXdYICE9IG51bGwgPyBvLnNrZXdYIDogMFxyXG4gICAgICBvLnNrZXdZID0gby5za2V3WSAhPSBudWxsID8gby5za2V3WSA6IDBcclxuXHJcbiAgICAgIG1hdHJpeCA9IG5ldyBTVkcuU2tldyhvLnNrZXdYLCBvLnNrZXdZLCBvLmN4LCBvLmN5KVxyXG5cclxuICAgIC8vIGFjdCBvbiBmbGlwXHJcbiAgICB9IGVsc2UgaWYgKG8uZmxpcCkge1xyXG4gICAgICBpZihvLmZsaXAgPT0gJ3gnIHx8IG8uZmxpcCA9PSAneScpIHtcclxuICAgICAgICBvLm9mZnNldCA9IG8ub2Zmc2V0ID09IG51bGwgPyB0YXJnZXQuYmJveCgpWydjJyArIG8uZmxpcF0gOiBvLm9mZnNldFxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGlmKG8ub2Zmc2V0ID09IG51bGwpIHtcclxuICAgICAgICAgIGJib3ggPSB0YXJnZXQuYmJveCgpXHJcbiAgICAgICAgICBvLmZsaXAgPSBiYm94LmN4XHJcbiAgICAgICAgICBvLm9mZnNldCA9IGJib3guY3lcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgby5mbGlwID0gby5vZmZzZXRcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIG1hdHJpeCA9IG5ldyBTVkcuTWF0cml4KCkuZmxpcChvLmZsaXAsIG8ub2Zmc2V0KVxyXG5cclxuICAgIC8vIGFjdCBvbiB0cmFuc2xhdGVcclxuICAgIH0gZWxzZSBpZiAoby54ICE9IG51bGwgfHwgby55ICE9IG51bGwpIHtcclxuICAgICAgbWF0cml4ID0gbmV3IFNWRy5UcmFuc2xhdGUoby54LCBvLnkpXHJcbiAgICB9XHJcblxyXG4gICAgaWYoIW1hdHJpeCkgcmV0dXJuIHRoaXNcclxuXHJcbiAgICBtYXRyaXgucmVsYXRpdmUgPSByZWxhdGl2ZVxyXG5cclxuICAgIHRoaXMubGFzdCgpLnRyYW5zZm9ybXMucHVzaChtYXRyaXgpXHJcblxyXG4gICAgcmV0dXJuIHRoaXMuX2NhbGxTdGFydCgpXHJcbiAgfVxyXG59KVxyXG5cclxuU1ZHLmV4dGVuZChTVkcuRWxlbWVudCwge1xyXG4gIC8vIFJlc2V0IGFsbCB0cmFuc2Zvcm1hdGlvbnNcclxuICB1bnRyYW5zZm9ybTogZnVuY3Rpb24oKSB7XHJcbiAgICByZXR1cm4gdGhpcy5hdHRyKCd0cmFuc2Zvcm0nLCBudWxsKVxyXG4gIH0sXHJcbiAgLy8gbWVyZ2UgdGhlIHdob2xlIHRyYW5zZm9ybWF0aW9uIGNoYWluIGludG8gb25lIG1hdHJpeCBhbmQgcmV0dXJucyBpdFxyXG4gIG1hdHJpeGlmeTogZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgdmFyIG1hdHJpeCA9ICh0aGlzLmF0dHIoJ3RyYW5zZm9ybScpIHx8ICcnKVxyXG4gICAgICAvLyBzcGxpdCB0cmFuc2Zvcm1hdGlvbnNcclxuICAgICAgLnNwbGl0KFNWRy5yZWdleC50cmFuc2Zvcm1zKS5zbGljZSgwLC0xKS5tYXAoZnVuY3Rpb24oc3RyKXtcclxuICAgICAgICAvLyBnZW5lcmF0ZSBrZXkgPT4gdmFsdWUgcGFpcnNcclxuICAgICAgICB2YXIga3YgPSBzdHIudHJpbSgpLnNwbGl0KCcoJylcclxuICAgICAgICByZXR1cm4gW2t2WzBdLCBrdlsxXS5zcGxpdChTVkcucmVnZXguZGVsaW1pdGVyKS5tYXAoZnVuY3Rpb24oc3RyKXsgcmV0dXJuIHBhcnNlRmxvYXQoc3RyKSB9KV1cclxuICAgICAgfSlcclxuICAgICAgLy8gbWVyZ2UgZXZlcnkgdHJhbnNmb3JtYXRpb24gaW50byBvbmUgbWF0cml4XHJcbiAgICAgIC5yZWR1Y2UoZnVuY3Rpb24obWF0cml4LCB0cmFuc2Zvcm0pe1xyXG5cclxuICAgICAgICBpZih0cmFuc2Zvcm1bMF0gPT0gJ21hdHJpeCcpIHJldHVybiBtYXRyaXgubXVsdGlwbHkoYXJyYXlUb01hdHJpeCh0cmFuc2Zvcm1bMV0pKVxyXG4gICAgICAgIHJldHVybiBtYXRyaXhbdHJhbnNmb3JtWzBdXS5hcHBseShtYXRyaXgsIHRyYW5zZm9ybVsxXSlcclxuXHJcbiAgICAgIH0sIG5ldyBTVkcuTWF0cml4KCkpXHJcblxyXG4gICAgcmV0dXJuIG1hdHJpeFxyXG4gIH0sXHJcbiAgLy8gYWRkIGFuIGVsZW1lbnQgdG8gYW5vdGhlciBwYXJlbnQgd2l0aG91dCBjaGFuZ2luZyB0aGUgdmlzdWFsIHJlcHJlc2VudGF0aW9uIG9uIHRoZSBzY3JlZW5cclxuICB0b1BhcmVudDogZnVuY3Rpb24ocGFyZW50KSB7XHJcbiAgICBpZih0aGlzID09IHBhcmVudCkgcmV0dXJuIHRoaXNcclxuICAgIHZhciBjdG0gPSB0aGlzLnNjcmVlbkNUTSgpXHJcbiAgICB2YXIgcEN0bSA9IHBhcmVudC5zY3JlZW5DVE0oKS5pbnZlcnNlKClcclxuXHJcbiAgICB0aGlzLmFkZFRvKHBhcmVudCkudW50cmFuc2Zvcm0oKS50cmFuc2Zvcm0ocEN0bS5tdWx0aXBseShjdG0pKVxyXG5cclxuICAgIHJldHVybiB0aGlzXHJcbiAgfSxcclxuICAvLyBzYW1lIGFzIGFib3ZlIHdpdGggcGFyZW50IGVxdWFscyByb290LXN2Z1xyXG4gIHRvRG9jOiBmdW5jdGlvbigpIHtcclxuICAgIHJldHVybiB0aGlzLnRvUGFyZW50KHRoaXMuZG9jKCkpXHJcbiAgfVxyXG5cclxufSlcclxuXHJcblNWRy5UcmFuc2Zvcm1hdGlvbiA9IFNWRy5pbnZlbnQoe1xyXG5cclxuICBjcmVhdGU6IGZ1bmN0aW9uKHNvdXJjZSwgaW52ZXJzZWQpe1xyXG5cclxuICAgIGlmKGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIHR5cGVvZiBpbnZlcnNlZCAhPSAnYm9vbGVhbicpe1xyXG4gICAgICByZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsIFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKSlcclxuICAgIH1cclxuXHJcbiAgICBpZihBcnJheS5pc0FycmF5KHNvdXJjZSkpe1xyXG4gICAgICBmb3IodmFyIGkgPSAwLCBsZW4gPSB0aGlzLmFyZ3VtZW50cy5sZW5ndGg7IGkgPCBsZW47ICsraSl7XHJcbiAgICAgICAgdGhpc1t0aGlzLmFyZ3VtZW50c1tpXV0gPSBzb3VyY2VbaV1cclxuICAgICAgfVxyXG4gICAgfSBlbHNlIGlmKHR5cGVvZiBzb3VyY2UgPT0gJ29iamVjdCcpe1xyXG4gICAgICBmb3IodmFyIGkgPSAwLCBsZW4gPSB0aGlzLmFyZ3VtZW50cy5sZW5ndGg7IGkgPCBsZW47ICsraSl7XHJcbiAgICAgICAgdGhpc1t0aGlzLmFyZ3VtZW50c1tpXV0gPSBzb3VyY2VbdGhpcy5hcmd1bWVudHNbaV1dXHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmludmVyc2VkID0gZmFsc2VcclxuXHJcbiAgICBpZihpbnZlcnNlZCA9PT0gdHJ1ZSl7XHJcbiAgICAgIHRoaXMuaW52ZXJzZWQgPSB0cnVlXHJcbiAgICB9XHJcblxyXG4gIH1cclxuXHJcbiwgZXh0ZW5kOiB7XHJcblxyXG4gICAgYXJndW1lbnRzOiBbXVxyXG4gICwgbWV0aG9kOiAnJ1xyXG5cclxuICAsIGF0OiBmdW5jdGlvbihwb3Mpe1xyXG5cclxuICAgICAgdmFyIHBhcmFtcyA9IFtdXHJcblxyXG4gICAgICBmb3IodmFyIGkgPSAwLCBsZW4gPSB0aGlzLmFyZ3VtZW50cy5sZW5ndGg7IGkgPCBsZW47ICsraSl7XHJcbiAgICAgICAgcGFyYW1zLnB1c2godGhpc1t0aGlzLmFyZ3VtZW50c1tpXV0pXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHZhciBtID0gdGhpcy5fdW5kbyB8fCBuZXcgU1ZHLk1hdHJpeCgpXHJcblxyXG4gICAgICBtID0gbmV3IFNWRy5NYXRyaXgoKS5tb3JwaChTVkcuTWF0cml4LnByb3RvdHlwZVt0aGlzLm1ldGhvZF0uYXBwbHkobSwgcGFyYW1zKSkuYXQocG9zKVxyXG5cclxuICAgICAgcmV0dXJuIHRoaXMuaW52ZXJzZWQgPyBtLmludmVyc2UoKSA6IG1cclxuXHJcbiAgICB9XHJcblxyXG4gICwgdW5kbzogZnVuY3Rpb24obyl7XHJcbiAgICAgIGZvcih2YXIgaSA9IDAsIGxlbiA9IHRoaXMuYXJndW1lbnRzLmxlbmd0aDsgaSA8IGxlbjsgKytpKXtcclxuICAgICAgICBvW3RoaXMuYXJndW1lbnRzW2ldXSA9IHR5cGVvZiB0aGlzW3RoaXMuYXJndW1lbnRzW2ldXSA9PSAndW5kZWZpbmVkJyA/IDAgOiBvW3RoaXMuYXJndW1lbnRzW2ldXVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBUaGUgbWV0aG9kIFNWRy5NYXRyaXguZXh0cmFjdCB3aGljaCB3YXMgdXNlZCBiZWZvcmUgY2FsbGluZyB0aGlzXHJcbiAgICAgIC8vIG1ldGhvZCB0byBvYnRhaW4gYSB2YWx1ZSBmb3IgdGhlIHBhcmFtZXRlciBvIGRvZXNuJ3QgcmV0dXJuIGEgY3ggYW5kXHJcbiAgICAgIC8vIGEgY3kgc28gd2UgdXNlIHRoZSBvbmVzIHRoYXQgd2VyZSBwcm92aWRlZCB0byB0aGlzIG9iamVjdCBhdCBpdHMgY3JlYXRpb25cclxuICAgICAgby5jeCA9IHRoaXMuY3hcclxuICAgICAgby5jeSA9IHRoaXMuY3lcclxuXHJcbiAgICAgIHRoaXMuX3VuZG8gPSBuZXcgU1ZHW2NhcGl0YWxpemUodGhpcy5tZXRob2QpXShvLCB0cnVlKS5hdCgxKVxyXG5cclxuICAgICAgcmV0dXJuIHRoaXNcclxuICAgIH1cclxuXHJcbiAgfVxyXG5cclxufSlcclxuXHJcblNWRy5UcmFuc2xhdGUgPSBTVkcuaW52ZW50KHtcclxuXHJcbiAgcGFyZW50OiBTVkcuTWF0cml4XHJcbiwgaW5oZXJpdDogU1ZHLlRyYW5zZm9ybWF0aW9uXHJcblxyXG4sIGNyZWF0ZTogZnVuY3Rpb24oc291cmNlLCBpbnZlcnNlZCl7XHJcbiAgICB0aGlzLmNvbnN0cnVjdG9yLmFwcGx5KHRoaXMsIFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKSlcclxuICB9XHJcblxyXG4sIGV4dGVuZDoge1xyXG4gICAgYXJndW1lbnRzOiBbJ3RyYW5zZm9ybWVkWCcsICd0cmFuc2Zvcm1lZFknXVxyXG4gICwgbWV0aG9kOiAndHJhbnNsYXRlJ1xyXG4gIH1cclxuXHJcbn0pXHJcblxyXG5TVkcuUm90YXRlID0gU1ZHLmludmVudCh7XHJcblxyXG4gIHBhcmVudDogU1ZHLk1hdHJpeFxyXG4sIGluaGVyaXQ6IFNWRy5UcmFuc2Zvcm1hdGlvblxyXG5cclxuLCBjcmVhdGU6IGZ1bmN0aW9uKHNvdXJjZSwgaW52ZXJzZWQpe1xyXG4gICAgdGhpcy5jb25zdHJ1Y3Rvci5hcHBseSh0aGlzLCBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cykpXHJcbiAgfVxyXG5cclxuLCBleHRlbmQ6IHtcclxuICAgIGFyZ3VtZW50czogWydyb3RhdGlvbicsICdjeCcsICdjeSddXHJcbiAgLCBtZXRob2Q6ICdyb3RhdGUnXHJcbiAgLCBhdDogZnVuY3Rpb24ocG9zKXtcclxuICAgICAgdmFyIG0gPSBuZXcgU1ZHLk1hdHJpeCgpLnJvdGF0ZShuZXcgU1ZHLk51bWJlcigpLm1vcnBoKHRoaXMucm90YXRpb24gLSAodGhpcy5fdW5kbyA/IHRoaXMuX3VuZG8ucm90YXRpb24gOiAwKSkuYXQocG9zKSwgdGhpcy5jeCwgdGhpcy5jeSlcclxuICAgICAgcmV0dXJuIHRoaXMuaW52ZXJzZWQgPyBtLmludmVyc2UoKSA6IG1cclxuICAgIH1cclxuICAsIHVuZG86IGZ1bmN0aW9uKG8pe1xyXG4gICAgICB0aGlzLl91bmRvID0gb1xyXG4gICAgICByZXR1cm4gdGhpc1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbn0pXHJcblxyXG5TVkcuU2NhbGUgPSBTVkcuaW52ZW50KHtcclxuXHJcbiAgcGFyZW50OiBTVkcuTWF0cml4XHJcbiwgaW5oZXJpdDogU1ZHLlRyYW5zZm9ybWF0aW9uXHJcblxyXG4sIGNyZWF0ZTogZnVuY3Rpb24oc291cmNlLCBpbnZlcnNlZCl7XHJcbiAgICB0aGlzLmNvbnN0cnVjdG9yLmFwcGx5KHRoaXMsIFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKSlcclxuICB9XHJcblxyXG4sIGV4dGVuZDoge1xyXG4gICAgYXJndW1lbnRzOiBbJ3NjYWxlWCcsICdzY2FsZVknLCAnY3gnLCAnY3knXVxyXG4gICwgbWV0aG9kOiAnc2NhbGUnXHJcbiAgfVxyXG5cclxufSlcclxuXHJcblNWRy5Ta2V3ID0gU1ZHLmludmVudCh7XHJcblxyXG4gIHBhcmVudDogU1ZHLk1hdHJpeFxyXG4sIGluaGVyaXQ6IFNWRy5UcmFuc2Zvcm1hdGlvblxyXG5cclxuLCBjcmVhdGU6IGZ1bmN0aW9uKHNvdXJjZSwgaW52ZXJzZWQpe1xyXG4gICAgdGhpcy5jb25zdHJ1Y3Rvci5hcHBseSh0aGlzLCBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cykpXHJcbiAgfVxyXG5cclxuLCBleHRlbmQ6IHtcclxuICAgIGFyZ3VtZW50czogWydza2V3WCcsICdza2V3WScsICdjeCcsICdjeSddXHJcbiAgLCBtZXRob2Q6ICdza2V3J1xyXG4gIH1cclxuXHJcbn0pXHJcblxuU1ZHLmV4dGVuZChTVkcuRWxlbWVudCwge1xyXG4gIC8vIER5bmFtaWMgc3R5bGUgZ2VuZXJhdG9yXHJcbiAgc3R5bGU6IGZ1bmN0aW9uKHMsIHYpIHtcclxuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09IDApIHtcclxuICAgICAgLy8gZ2V0IGZ1bGwgc3R5bGVcclxuICAgICAgcmV0dXJuIHRoaXMubm9kZS5zdHlsZS5jc3NUZXh0IHx8ICcnXHJcblxyXG4gICAgfSBlbHNlIGlmIChhcmd1bWVudHMubGVuZ3RoIDwgMikge1xyXG4gICAgICAvLyBhcHBseSBldmVyeSBzdHlsZSBpbmRpdmlkdWFsbHkgaWYgYW4gb2JqZWN0IGlzIHBhc3NlZFxyXG4gICAgICBpZiAodHlwZW9mIHMgPT0gJ29iamVjdCcpIHtcclxuICAgICAgICBmb3IgKHYgaW4gcykgdGhpcy5zdHlsZSh2LCBzW3ZdKVxyXG5cclxuICAgICAgfSBlbHNlIGlmIChTVkcucmVnZXguaXNDc3MudGVzdChzKSkge1xyXG4gICAgICAgIC8vIHBhcnNlIGNzcyBzdHJpbmdcclxuICAgICAgICBzID0gcy5zcGxpdCgvXFxzKjtcXHMqLylcclxuICAgICAgICAgIC8vIGZpbHRlciBvdXQgc3VmZml4IDsgYW5kIHN0dWZmIGxpa2UgOztcclxuICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24oZSkgeyByZXR1cm4gISFlIH0pXHJcbiAgICAgICAgICAubWFwKGZ1bmN0aW9uKGUpeyByZXR1cm4gZS5zcGxpdCgvXFxzKjpcXHMqLykgfSlcclxuXHJcbiAgICAgICAgLy8gYXBwbHkgZXZlcnkgZGVmaW5pdGlvbiBpbmRpdmlkdWFsbHlcclxuICAgICAgICB3aGlsZSAodiA9IHMucG9wKCkpIHtcclxuICAgICAgICAgIHRoaXMuc3R5bGUodlswXSwgdlsxXSlcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gYWN0IGFzIGEgZ2V0dGVyIGlmIHRoZSBmaXJzdCBhbmQgb25seSBhcmd1bWVudCBpcyBub3QgYW4gb2JqZWN0XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubm9kZS5zdHlsZVtjYW1lbENhc2UocyldXHJcbiAgICAgIH1cclxuXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLm5vZGUuc3R5bGVbY2FtZWxDYXNlKHMpXSA9IHYgPT09IG51bGwgfHwgU1ZHLnJlZ2V4LmlzQmxhbmsudGVzdCh2KSA/ICcnIDogdlxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aGlzXHJcbiAgfVxyXG59KVxuU1ZHLlBhcmVudCA9IFNWRy5pbnZlbnQoe1xyXG4gIC8vIEluaXRpYWxpemUgbm9kZVxyXG4gIGNyZWF0ZTogZnVuY3Rpb24oZWxlbWVudCkge1xyXG4gICAgdGhpcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsIGVsZW1lbnQpXHJcbiAgfVxyXG5cclxuICAvLyBJbmhlcml0IGZyb21cclxuLCBpbmhlcml0OiBTVkcuRWxlbWVudFxyXG5cclxuICAvLyBBZGQgY2xhc3MgbWV0aG9kc1xyXG4sIGV4dGVuZDoge1xyXG4gICAgLy8gUmV0dXJucyBhbGwgY2hpbGQgZWxlbWVudHNcclxuICAgIGNoaWxkcmVuOiBmdW5jdGlvbigpIHtcclxuICAgICAgcmV0dXJuIFNWRy51dGlscy5tYXAoU1ZHLnV0aWxzLmZpbHRlclNWR0VsZW1lbnRzKHRoaXMubm9kZS5jaGlsZE5vZGVzKSwgZnVuY3Rpb24obm9kZSkge1xyXG4gICAgICAgIHJldHVybiBTVkcuYWRvcHQobm9kZSlcclxuICAgICAgfSlcclxuICAgIH1cclxuICAgIC8vIEFkZCBnaXZlbiBlbGVtZW50IGF0IGEgcG9zaXRpb25cclxuICAsIGFkZDogZnVuY3Rpb24oZWxlbWVudCwgaSkge1xyXG4gICAgICBpZiAoaSA9PSBudWxsKVxyXG4gICAgICAgIHRoaXMubm9kZS5hcHBlbmRDaGlsZChlbGVtZW50Lm5vZGUpXHJcbiAgICAgIGVsc2UgaWYgKGVsZW1lbnQubm9kZSAhPSB0aGlzLm5vZGUuY2hpbGROb2Rlc1tpXSlcclxuICAgICAgICB0aGlzLm5vZGUuaW5zZXJ0QmVmb3JlKGVsZW1lbnQubm9kZSwgdGhpcy5ub2RlLmNoaWxkTm9kZXNbaV0pXHJcblxyXG4gICAgICByZXR1cm4gdGhpc1xyXG4gICAgfVxyXG4gICAgLy8gQmFzaWNhbGx5IGRvZXMgdGhlIHNhbWUgYXMgYGFkZCgpYCBidXQgcmV0dXJucyB0aGUgYWRkZWQgZWxlbWVudCBpbnN0ZWFkXHJcbiAgLCBwdXQ6IGZ1bmN0aW9uKGVsZW1lbnQsIGkpIHtcclxuICAgICAgdGhpcy5hZGQoZWxlbWVudCwgaSlcclxuICAgICAgcmV0dXJuIGVsZW1lbnRcclxuICAgIH1cclxuICAgIC8vIENoZWNrcyBpZiB0aGUgZ2l2ZW4gZWxlbWVudCBpcyBhIGNoaWxkXHJcbiAgLCBoYXM6IGZ1bmN0aW9uKGVsZW1lbnQpIHtcclxuICAgICAgcmV0dXJuIHRoaXMuaW5kZXgoZWxlbWVudCkgPj0gMFxyXG4gICAgfVxyXG4gICAgLy8gR2V0cyBpbmRleCBvZiBnaXZlbiBlbGVtZW50XHJcbiAgLCBpbmRleDogZnVuY3Rpb24oZWxlbWVudCkge1xyXG4gICAgICByZXR1cm4gW10uc2xpY2UuY2FsbCh0aGlzLm5vZGUuY2hpbGROb2RlcykuaW5kZXhPZihlbGVtZW50Lm5vZGUpXHJcbiAgICB9XHJcbiAgICAvLyBHZXQgYSBlbGVtZW50IGF0IHRoZSBnaXZlbiBpbmRleFxyXG4gICwgZ2V0OiBmdW5jdGlvbihpKSB7XHJcbiAgICAgIHJldHVybiBTVkcuYWRvcHQodGhpcy5ub2RlLmNoaWxkTm9kZXNbaV0pXHJcbiAgICB9XHJcbiAgICAvLyBHZXQgZmlyc3QgY2hpbGRcclxuICAsIGZpcnN0OiBmdW5jdGlvbigpIHtcclxuICAgICAgcmV0dXJuIHRoaXMuZ2V0KDApXHJcbiAgICB9XHJcbiAgICAvLyBHZXQgdGhlIGxhc3QgY2hpbGRcclxuICAsIGxhc3Q6IGZ1bmN0aW9uKCkge1xyXG4gICAgICByZXR1cm4gdGhpcy5nZXQodGhpcy5ub2RlLmNoaWxkTm9kZXMubGVuZ3RoIC0gMSlcclxuICAgIH1cclxuICAgIC8vIEl0ZXJhdGVzIG92ZXIgYWxsIGNoaWxkcmVuIGFuZCBpbnZva2VzIGEgZ2l2ZW4gYmxvY2tcclxuICAsIGVhY2g6IGZ1bmN0aW9uKGJsb2NrLCBkZWVwKSB7XHJcbiAgICAgIHZhciBpLCBpbFxyXG4gICAgICAgICwgY2hpbGRyZW4gPSB0aGlzLmNoaWxkcmVuKClcclxuXHJcbiAgICAgIGZvciAoaSA9IDAsIGlsID0gY2hpbGRyZW4ubGVuZ3RoOyBpIDwgaWw7IGkrKykge1xyXG4gICAgICAgIGlmIChjaGlsZHJlbltpXSBpbnN0YW5jZW9mIFNWRy5FbGVtZW50KVxyXG4gICAgICAgICAgYmxvY2suYXBwbHkoY2hpbGRyZW5baV0sIFtpLCBjaGlsZHJlbl0pXHJcblxyXG4gICAgICAgIGlmIChkZWVwICYmIChjaGlsZHJlbltpXSBpbnN0YW5jZW9mIFNWRy5Db250YWluZXIpKVxyXG4gICAgICAgICAgY2hpbGRyZW5baV0uZWFjaChibG9jaywgZGVlcClcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHRoaXNcclxuICAgIH1cclxuICAgIC8vIFJlbW92ZSBhIGdpdmVuIGNoaWxkXHJcbiAgLCByZW1vdmVFbGVtZW50OiBmdW5jdGlvbihlbGVtZW50KSB7XHJcbiAgICAgIHRoaXMubm9kZS5yZW1vdmVDaGlsZChlbGVtZW50Lm5vZGUpXHJcblxyXG4gICAgICByZXR1cm4gdGhpc1xyXG4gICAgfVxyXG4gICAgLy8gUmVtb3ZlIGFsbCBlbGVtZW50cyBpbiB0aGlzIGNvbnRhaW5lclxyXG4gICwgY2xlYXI6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAvLyByZW1vdmUgY2hpbGRyZW5cclxuICAgICAgd2hpbGUodGhpcy5ub2RlLmhhc0NoaWxkTm9kZXMoKSlcclxuICAgICAgICB0aGlzLm5vZGUucmVtb3ZlQ2hpbGQodGhpcy5ub2RlLmxhc3RDaGlsZClcclxuXHJcbiAgICAgIC8vIHJlbW92ZSBkZWZzIHJlZmVyZW5jZVxyXG4gICAgICBkZWxldGUgdGhpcy5fZGVmc1xyXG5cclxuICAgICAgcmV0dXJuIHRoaXNcclxuICAgIH1cclxuICAsIC8vIEdldCBkZWZzXHJcbiAgICBkZWZzOiBmdW5jdGlvbigpIHtcclxuICAgICAgcmV0dXJuIHRoaXMuZG9jKCkuZGVmcygpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxufSlcclxuXG5TVkcuZXh0ZW5kKFNWRy5QYXJlbnQsIHtcclxuXHJcbiAgdW5ncm91cDogZnVuY3Rpb24ocGFyZW50LCBkZXB0aCkge1xyXG4gICAgaWYoZGVwdGggPT09IDAgfHwgdGhpcyBpbnN0YW5jZW9mIFNWRy5EZWZzIHx8IHRoaXMubm9kZSA9PSBTVkcucGFyc2VyLmRyYXcpIHJldHVybiB0aGlzXHJcblxyXG4gICAgcGFyZW50ID0gcGFyZW50IHx8ICh0aGlzIGluc3RhbmNlb2YgU1ZHLkRvYyA/IHRoaXMgOiB0aGlzLnBhcmVudChTVkcuUGFyZW50KSlcclxuICAgIGRlcHRoID0gZGVwdGggfHwgSW5maW5pdHlcclxuXHJcbiAgICB0aGlzLmVhY2goZnVuY3Rpb24oKXtcclxuICAgICAgaWYodGhpcyBpbnN0YW5jZW9mIFNWRy5EZWZzKSByZXR1cm4gdGhpc1xyXG4gICAgICBpZih0aGlzIGluc3RhbmNlb2YgU1ZHLlBhcmVudCkgcmV0dXJuIHRoaXMudW5ncm91cChwYXJlbnQsIGRlcHRoLTEpXHJcbiAgICAgIHJldHVybiB0aGlzLnRvUGFyZW50KHBhcmVudClcclxuICAgIH0pXHJcblxyXG4gICAgdGhpcy5ub2RlLmZpcnN0Q2hpbGQgfHwgdGhpcy5yZW1vdmUoKVxyXG5cclxuICAgIHJldHVybiB0aGlzXHJcbiAgfSxcclxuXHJcbiAgZmxhdHRlbjogZnVuY3Rpb24ocGFyZW50LCBkZXB0aCkge1xyXG4gICAgcmV0dXJuIHRoaXMudW5ncm91cChwYXJlbnQsIGRlcHRoKVxyXG4gIH1cclxuXHJcbn0pXG5TVkcuQ29udGFpbmVyID0gU1ZHLmludmVudCh7XHJcbiAgLy8gSW5pdGlhbGl6ZSBub2RlXHJcbiAgY3JlYXRlOiBmdW5jdGlvbihlbGVtZW50KSB7XHJcbiAgICB0aGlzLmNvbnN0cnVjdG9yLmNhbGwodGhpcywgZWxlbWVudClcclxuICB9XHJcblxyXG4gIC8vIEluaGVyaXQgZnJvbVxyXG4sIGluaGVyaXQ6IFNWRy5QYXJlbnRcclxuXHJcbn0pXG5cclxuU1ZHLlZpZXdCb3ggPSBTVkcuaW52ZW50KHtcclxuXHJcbiAgY3JlYXRlOiBmdW5jdGlvbihzb3VyY2UpIHtcclxuICAgIHZhciBpLCBiYXNlID0gWzAsIDAsIDAsIDBdXHJcblxyXG4gICAgdmFyIHgsIHksIHdpZHRoLCBoZWlnaHQsIGJveCwgdmlldywgd2UsIGhlXHJcbiAgICAgICwgd20gICA9IDEgLy8gd2lkdGggbXVsdGlwbGllclxyXG4gICAgICAsIGhtICAgPSAxIC8vIGhlaWdodCBtdWx0aXBsaWVyXHJcbiAgICAgICwgcmVnICA9IC9bKy1dPyg/OlxcZCsoPzpcXC5cXGQqKT98XFwuXFxkKykoPzplWystXT9cXGQrKT8vZ2lcclxuXHJcbiAgICBpZihzb3VyY2UgaW5zdGFuY2VvZiBTVkcuRWxlbWVudCl7XHJcblxyXG4gICAgICB3ZSA9IHNvdXJjZVxyXG4gICAgICBoZSA9IHNvdXJjZVxyXG4gICAgICB2aWV3ID0gKHNvdXJjZS5hdHRyKCd2aWV3Qm94JykgfHwgJycpLm1hdGNoKHJlZylcclxuICAgICAgYm94ID0gc291cmNlLmJib3hcclxuXHJcbiAgICAgIC8vIGdldCBkaW1lbnNpb25zIG9mIGN1cnJlbnQgbm9kZVxyXG4gICAgICB3aWR0aCAgPSBuZXcgU1ZHLk51bWJlcihzb3VyY2Uud2lkdGgoKSlcclxuICAgICAgaGVpZ2h0ID0gbmV3IFNWRy5OdW1iZXIoc291cmNlLmhlaWdodCgpKVxyXG5cclxuICAgICAgLy8gZmluZCBuZWFyZXN0IG5vbi1wZXJjZW50dWFsIGRpbWVuc2lvbnNcclxuICAgICAgd2hpbGUgKHdpZHRoLnVuaXQgPT0gJyUnKSB7XHJcbiAgICAgICAgd20gKj0gd2lkdGgudmFsdWVcclxuICAgICAgICB3aWR0aCA9IG5ldyBTVkcuTnVtYmVyKHdlIGluc3RhbmNlb2YgU1ZHLkRvYyA/IHdlLnBhcmVudCgpLm9mZnNldFdpZHRoIDogd2UucGFyZW50KCkud2lkdGgoKSlcclxuICAgICAgICB3ZSA9IHdlLnBhcmVudCgpXHJcbiAgICAgIH1cclxuICAgICAgd2hpbGUgKGhlaWdodC51bml0ID09ICclJykge1xyXG4gICAgICAgIGhtICo9IGhlaWdodC52YWx1ZVxyXG4gICAgICAgIGhlaWdodCA9IG5ldyBTVkcuTnVtYmVyKGhlIGluc3RhbmNlb2YgU1ZHLkRvYyA/IGhlLnBhcmVudCgpLm9mZnNldEhlaWdodCA6IGhlLnBhcmVudCgpLmhlaWdodCgpKVxyXG4gICAgICAgIGhlID0gaGUucGFyZW50KClcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gZW5zdXJlIGRlZmF1bHRzXHJcbiAgICAgIHRoaXMueCAgICAgID0gMFxyXG4gICAgICB0aGlzLnkgICAgICA9IDBcclxuICAgICAgdGhpcy53aWR0aCAgPSB3aWR0aCAgKiB3bVxyXG4gICAgICB0aGlzLmhlaWdodCA9IGhlaWdodCAqIGhtXHJcbiAgICAgIHRoaXMuem9vbSAgID0gMVxyXG5cclxuICAgICAgaWYgKHZpZXcpIHtcclxuICAgICAgICAvLyBnZXQgd2lkdGggYW5kIGhlaWdodCBmcm9tIHZpZXdib3hcclxuICAgICAgICB4ICAgICAgPSBwYXJzZUZsb2F0KHZpZXdbMF0pXHJcbiAgICAgICAgeSAgICAgID0gcGFyc2VGbG9hdCh2aWV3WzFdKVxyXG4gICAgICAgIHdpZHRoICA9IHBhcnNlRmxvYXQodmlld1syXSlcclxuICAgICAgICBoZWlnaHQgPSBwYXJzZUZsb2F0KHZpZXdbM10pXHJcblxyXG4gICAgICAgIC8vIGNhbGN1bGF0ZSB6b29tIGFjY29yaW5nIHRvIHZpZXdib3hcclxuICAgICAgICB0aGlzLnpvb20gPSAoKHRoaXMud2lkdGggLyB0aGlzLmhlaWdodCkgPiAod2lkdGggLyBoZWlnaHQpKSA/XHJcbiAgICAgICAgICB0aGlzLmhlaWdodCAvIGhlaWdodCA6XHJcbiAgICAgICAgICB0aGlzLndpZHRoICAvIHdpZHRoXHJcblxyXG4gICAgICAgIC8vIGNhbGN1bGF0ZSByZWFsIHBpeGVsIGRpbWVuc2lvbnMgb24gcGFyZW50IFNWRy5Eb2MgZWxlbWVudFxyXG4gICAgICAgIHRoaXMueCAgICAgID0geFxyXG4gICAgICAgIHRoaXMueSAgICAgID0geVxyXG4gICAgICAgIHRoaXMud2lkdGggID0gd2lkdGhcclxuICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodFxyXG5cclxuICAgICAgfVxyXG5cclxuICAgIH1lbHNle1xyXG5cclxuICAgICAgLy8gZW5zdXJlIHNvdXJjZSBhcyBvYmplY3RcclxuICAgICAgc291cmNlID0gdHlwZW9mIHNvdXJjZSA9PT0gJ3N0cmluZycgP1xyXG4gICAgICAgIHNvdXJjZS5tYXRjaChyZWcpLm1hcChmdW5jdGlvbihlbCl7IHJldHVybiBwYXJzZUZsb2F0KGVsKSB9KSA6XHJcbiAgICAgIEFycmF5LmlzQXJyYXkoc291cmNlKSA/XHJcbiAgICAgICAgc291cmNlIDpcclxuICAgICAgdHlwZW9mIHNvdXJjZSA9PSAnb2JqZWN0JyA/XHJcbiAgICAgICAgW3NvdXJjZS54LCBzb3VyY2UueSwgc291cmNlLndpZHRoLCBzb3VyY2UuaGVpZ2h0XSA6XHJcbiAgICAgIGFyZ3VtZW50cy5sZW5ndGggPT0gNCA/XHJcbiAgICAgICAgW10uc2xpY2UuY2FsbChhcmd1bWVudHMpIDpcclxuICAgICAgICBiYXNlXHJcblxyXG4gICAgICB0aGlzLnggPSBzb3VyY2VbMF1cclxuICAgICAgdGhpcy55ID0gc291cmNlWzFdXHJcbiAgICAgIHRoaXMud2lkdGggPSBzb3VyY2VbMl1cclxuICAgICAgdGhpcy5oZWlnaHQgPSBzb3VyY2VbM11cclxuICAgIH1cclxuXHJcblxyXG4gIH1cclxuXHJcbiwgZXh0ZW5kOiB7XHJcblxyXG4gICAgdG9TdHJpbmc6IGZ1bmN0aW9uKCkge1xyXG4gICAgICByZXR1cm4gdGhpcy54ICsgJyAnICsgdGhpcy55ICsgJyAnICsgdGhpcy53aWR0aCArICcgJyArIHRoaXMuaGVpZ2h0XHJcbiAgICB9XHJcbiAgLCBtb3JwaDogZnVuY3Rpb24oeCwgeSwgd2lkdGgsIGhlaWdodCl7XHJcbiAgICAgIHRoaXMuZGVzdGluYXRpb24gPSBuZXcgU1ZHLlZpZXdCb3goeCwgeSwgd2lkdGgsIGhlaWdodClcclxuICAgICAgcmV0dXJuIHRoaXNcclxuICAgIH1cclxuXHJcbiAgLCBhdDogZnVuY3Rpb24ocG9zKSB7XHJcblxyXG4gICAgICBpZighdGhpcy5kZXN0aW5hdGlvbikgcmV0dXJuIHRoaXNcclxuXHJcbiAgICAgIHJldHVybiBuZXcgU1ZHLlZpZXdCb3goW1xyXG4gICAgICAgICAgdGhpcy54ICsgKHRoaXMuZGVzdGluYXRpb24ueCAtIHRoaXMueCkgKiBwb3NcclxuICAgICAgICAsIHRoaXMueSArICh0aGlzLmRlc3RpbmF0aW9uLnkgLSB0aGlzLnkpICogcG9zXHJcbiAgICAgICAgLCB0aGlzLndpZHRoICsgKHRoaXMuZGVzdGluYXRpb24ud2lkdGggLSB0aGlzLndpZHRoKSAqIHBvc1xyXG4gICAgICAgICwgdGhpcy5oZWlnaHQgKyAodGhpcy5kZXN0aW5hdGlvbi5oZWlnaHQgLSB0aGlzLmhlaWdodCkgKiBwb3NcclxuICAgICAgXSlcclxuXHJcbiAgICB9XHJcblxyXG4gIH1cclxuXHJcbiAgLy8gRGVmaW5lIHBhcmVudFxyXG4sIHBhcmVudDogU1ZHLkNvbnRhaW5lclxyXG5cclxuICAvLyBBZGQgcGFyZW50IG1ldGhvZFxyXG4sIGNvbnN0cnVjdDoge1xyXG5cclxuICAgIC8vIGdldC9zZXQgdmlld2JveFxyXG4gICAgdmlld2JveDogZnVuY3Rpb24oeCwgeSwgd2lkdGgsIGhlaWdodCkge1xyXG4gICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PSAwKVxyXG4gICAgICAgIC8vIGFjdCBhcyBhIGdldHRlciBpZiB0aGVyZSBhcmUgbm8gYXJndW1lbnRzXHJcbiAgICAgICAgcmV0dXJuIG5ldyBTVkcuVmlld0JveCh0aGlzKVxyXG5cclxuICAgICAgLy8gb3RoZXJ3aXNlIGFjdCBhcyBhIHNldHRlclxyXG4gICAgICByZXR1cm4gdGhpcy5hdHRyKCd2aWV3Qm94JywgbmV3IFNWRy5WaWV3Qm94KHgsIHksIHdpZHRoLCBoZWlnaHQpKVxyXG4gICAgfVxyXG5cclxuICB9XHJcblxyXG59KVxuLy8gQWRkIGV2ZW50cyB0byBlbGVtZW50c1xyXG5cclxuO1sgJ2NsaWNrJyxcclxuICAnZGJsY2xpY2snLFxyXG4gICdtb3VzZWRvd24nLFxyXG4gICdtb3VzZXVwJyxcclxuICAnbW91c2VvdmVyJyxcclxuICAnbW91c2VvdXQnLFxyXG4gICdtb3VzZW1vdmUnLFxyXG4gICdtb3VzZWVudGVyJyxcclxuICAnbW91c2VsZWF2ZScsXHJcbiAgJ3RvdWNoc3RhcnQnLFxyXG4gICd0b3VjaG1vdmUnLFxyXG4gICd0b3VjaGxlYXZlJyxcclxuICAndG91Y2hlbmQnLFxyXG4gICd0b3VjaGNhbmNlbCcgXS5mb3JFYWNoKGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgLy8gYWRkIGV2ZW50IHRvIFNWRy5FbGVtZW50XHJcbiAgICBTVkcuRWxlbWVudC5wcm90b3R5cGVbZXZlbnRdID0gZnVuY3Rpb24gKGYpIHtcclxuICAgICAgLy8gYmluZCBldmVudCB0byBlbGVtZW50IHJhdGhlciB0aGFuIGVsZW1lbnQgbm9kZVxyXG4gICAgICBpZiAoZiA9PSBudWxsKSB7XHJcbiAgICAgICAgU1ZHLm9mZih0aGlzLCBldmVudClcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBTVkcub24odGhpcywgZXZlbnQsIGYpXHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIHRoaXNcclxuICAgIH1cclxuICB9KVxyXG5cclxuU1ZHLmxpc3RlbmVySWQgPSAwXHJcblxyXG4vLyBBZGQgZXZlbnQgYmluZGVyIGluIHRoZSBTVkcgbmFtZXNwYWNlXHJcblNWRy5vbiA9IGZ1bmN0aW9uIChub2RlLCBldmVudHMsIGxpc3RlbmVyLCBiaW5kaW5nLCBvcHRpb25zKSB7XHJcbiAgdmFyIGwgPSBsaXN0ZW5lci5iaW5kKGJpbmRpbmcgfHwgbm9kZSlcclxuICB2YXIgbiA9IG5vZGUgaW5zdGFuY2VvZiBTVkcuRWxlbWVudCA/IG5vZGUubm9kZSA6IG5vZGVcclxuXHJcbiAgLy8gZW5zdXJlIGluc3RhbmNlIG9iamVjdCBmb3Igbm9kZXMgd2hpY2ggYXJlIG5vdCBhZG9wdGVkXHJcbiAgbi5pbnN0YW5jZSA9IG4uaW5zdGFuY2UgfHwge19ldmVudHM6IHt9fVxyXG5cclxuICB2YXIgYmFnID0gbi5pbnN0YW5jZS5fZXZlbnRzXHJcblxyXG4gIC8vIGFkZCBpZCB0byBsaXN0ZW5lclxyXG4gIGlmICghbGlzdGVuZXIuX3N2Z2pzTGlzdGVuZXJJZCkgeyBsaXN0ZW5lci5fc3ZnanNMaXN0ZW5lcklkID0gKytTVkcubGlzdGVuZXJJZCB9XHJcblxyXG4gIGV2ZW50cy5zcGxpdChTVkcucmVnZXguZGVsaW1pdGVyKS5mb3JFYWNoKGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgdmFyIGV2ID0gZXZlbnQuc3BsaXQoJy4nKVswXVxyXG4gICAgdmFyIG5zID0gZXZlbnQuc3BsaXQoJy4nKVsxXSB8fCAnKidcclxuXHJcbiAgICAvLyBlbnN1cmUgdmFsaWQgb2JqZWN0XHJcbiAgICBiYWdbZXZdID0gYmFnW2V2XSB8fCB7fVxyXG4gICAgYmFnW2V2XVtuc10gPSBiYWdbZXZdW25zXSB8fCB7fVxyXG5cclxuICAgIC8vIHJlZmVyZW5jZSBsaXN0ZW5lclxyXG4gICAgYmFnW2V2XVtuc11bbGlzdGVuZXIuX3N2Z2pzTGlzdGVuZXJJZF0gPSBsXHJcblxyXG4gICAgLy8gYWRkIGxpc3RlbmVyXHJcbiAgICBuLmFkZEV2ZW50TGlzdGVuZXIoZXYsIGwsIG9wdGlvbnMgfHwgZmFsc2UpXHJcbiAgfSlcclxufVxyXG5cclxuLy8gQWRkIGV2ZW50IHVuYmluZGVyIGluIHRoZSBTVkcgbmFtZXNwYWNlXHJcblNWRy5vZmYgPSBmdW5jdGlvbiAobm9kZSwgZXZlbnRzLCBsaXN0ZW5lciwgb3B0aW9ucykge1xyXG4gIHZhciBuID0gbm9kZSBpbnN0YW5jZW9mIFNWRy5FbGVtZW50ID8gbm9kZS5ub2RlIDogbm9kZVxyXG4gIGlmICghbi5pbnN0YW5jZSkgcmV0dXJuXHJcblxyXG4gIC8vIGxpc3RlbmVyIGNhbiBiZSBhIGZ1bmN0aW9uIG9yIGEgbnVtYmVyXHJcbiAgaWYgKHR5cGVvZiBsaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgbGlzdGVuZXIgPSBsaXN0ZW5lci5fc3ZnanNMaXN0ZW5lcklkXHJcbiAgICBpZiAoIWxpc3RlbmVyKSByZXR1cm5cclxuICB9XHJcblxyXG4gIHZhciBiYWcgPSBuLmluc3RhbmNlLl9ldmVudHNcclxuXHJcbiAgOyhldmVudHMgfHwgJycpLnNwbGl0KFNWRy5yZWdleC5kZWxpbWl0ZXIpLmZvckVhY2goZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICB2YXIgZXYgPSBldmVudCAmJiBldmVudC5zcGxpdCgnLicpWzBdXHJcbiAgICB2YXIgbnMgPSBldmVudCAmJiBldmVudC5zcGxpdCgnLicpWzFdXHJcbiAgICB2YXIgbmFtZXNwYWNlLCBsXHJcblxyXG4gICAgaWYgKGxpc3RlbmVyKSB7XHJcbiAgICAgIC8vIHJlbW92ZSBsaXN0ZW5lciByZWZlcmVuY2VcclxuICAgICAgaWYgKGJhZ1tldl0gJiYgYmFnW2V2XVtucyB8fCAnKiddKSB7XHJcbiAgICAgICAgLy8gcmVtb3ZlTGlzdGVuZXJcclxuICAgICAgICBuLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXYsIGJhZ1tldl1bbnMgfHwgJyonXVtsaXN0ZW5lcl0sIG9wdGlvbnMgfHwgZmFsc2UpXHJcblxyXG4gICAgICAgIGRlbGV0ZSBiYWdbZXZdW25zIHx8ICcqJ11bbGlzdGVuZXJdXHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSBpZiAoZXYgJiYgbnMpIHtcclxuICAgICAgLy8gcmVtb3ZlIGFsbCBsaXN0ZW5lcnMgZm9yIGEgbmFtZXNwYWNlZCBldmVudFxyXG4gICAgICBpZiAoYmFnW2V2XSAmJiBiYWdbZXZdW25zXSkge1xyXG4gICAgICAgIGZvciAobCBpbiBiYWdbZXZdW25zXSkgeyBTVkcub2ZmKG4sIFtldiwgbnNdLmpvaW4oJy4nKSwgbCkgfVxyXG5cclxuICAgICAgICBkZWxldGUgYmFnW2V2XVtuc11cclxuICAgICAgfVxyXG4gICAgfSBlbHNlIGlmIChucykge1xyXG4gICAgICAvLyByZW1vdmUgYWxsIGxpc3RlbmVycyBmb3IgYSBzcGVjaWZpYyBuYW1lc3BhY2VcclxuICAgICAgZm9yIChldmVudCBpbiBiYWcpIHtcclxuICAgICAgICBmb3IgKG5hbWVzcGFjZSBpbiBiYWdbZXZlbnRdKSB7XHJcbiAgICAgICAgICBpZiAobnMgPT09IG5hbWVzcGFjZSkgeyBTVkcub2ZmKG4sIFtldmVudCwgbnNdLmpvaW4oJy4nKSkgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSBlbHNlIGlmIChldikge1xyXG4gICAgICAvLyByZW1vdmUgYWxsIGxpc3RlbmVycyBmb3IgdGhlIGV2ZW50XHJcbiAgICAgIGlmIChiYWdbZXZdKSB7XHJcbiAgICAgICAgZm9yIChuYW1lc3BhY2UgaW4gYmFnW2V2XSkgeyBTVkcub2ZmKG4sIFtldiwgbmFtZXNwYWNlXS5qb2luKCcuJykpIH1cclxuXHJcbiAgICAgICAgZGVsZXRlIGJhZ1tldl1cclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy8gcmVtb3ZlIGFsbCBsaXN0ZW5lcnMgb24gYSBnaXZlbiBub2RlXHJcbiAgICAgIGZvciAoZXZlbnQgaW4gYmFnKSB7IFNWRy5vZmYobiwgZXZlbnQpIH1cclxuXHJcbiAgICAgIG4uaW5zdGFuY2UuX2V2ZW50cyA9IHt9XHJcbiAgICB9XHJcbiAgfSlcclxufVxyXG5cclxuU1ZHLmV4dGVuZChTVkcuRWxlbWVudCwge1xyXG4gIC8vIEJpbmQgZ2l2ZW4gZXZlbnQgdG8gbGlzdGVuZXJcclxuICBvbjogZnVuY3Rpb24gKGV2ZW50LCBsaXN0ZW5lciwgYmluZGluZywgb3B0aW9ucykge1xyXG4gICAgU1ZHLm9uKHRoaXMsIGV2ZW50LCBsaXN0ZW5lciwgYmluZGluZywgb3B0aW9ucylcclxuICAgIHJldHVybiB0aGlzXHJcbiAgfSxcclxuICAvLyBVbmJpbmQgZXZlbnQgZnJvbSBsaXN0ZW5lclxyXG4gIG9mZjogZnVuY3Rpb24gKGV2ZW50LCBsaXN0ZW5lcikge1xyXG4gICAgU1ZHLm9mZih0aGlzLm5vZGUsIGV2ZW50LCBsaXN0ZW5lcilcclxuICAgIHJldHVybiB0aGlzXHJcbiAgfSxcclxuICBmaXJlOiBmdW5jdGlvbiAoZXZlbnQsIGRhdGEpIHtcclxuICAgIC8vIERpc3BhdGNoIGV2ZW50XHJcbiAgICBpZiAoZXZlbnQgaW5zdGFuY2VvZiB3aW5kb3cuRXZlbnQpIHtcclxuICAgICAgdGhpcy5ub2RlLmRpc3BhdGNoRXZlbnQoZXZlbnQpXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLm5vZGUuZGlzcGF0Y2hFdmVudChldmVudCA9IG5ldyBTVkcuQ3VzdG9tRXZlbnQoZXZlbnQsIHtkZXRhaWw6IGRhdGEsIGNhbmNlbGFibGU6IHRydWV9KSlcclxuICAgIH1cclxuICAgIHRoaXMuX2V2ZW50ID0gZXZlbnRcclxuICAgIHJldHVybiB0aGlzXHJcbiAgfSxcclxuICBldmVudDogZnVuY3Rpb24oKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fZXZlbnRcclxuICB9XHJcbn0pXHJcblxuXHJcblNWRy5EZWZzID0gU1ZHLmludmVudCh7XHJcbiAgLy8gSW5pdGlhbGl6ZSBub2RlXHJcbiAgY3JlYXRlOiAnZGVmcydcclxuXHJcbiAgLy8gSW5oZXJpdCBmcm9tXHJcbiwgaW5oZXJpdDogU1ZHLkNvbnRhaW5lclxyXG5cclxufSlcblNWRy5HID0gU1ZHLmludmVudCh7XHJcbiAgLy8gSW5pdGlhbGl6ZSBub2RlXHJcbiAgY3JlYXRlOiAnZydcclxuXHJcbiAgLy8gSW5oZXJpdCBmcm9tXHJcbiwgaW5oZXJpdDogU1ZHLkNvbnRhaW5lclxyXG5cclxuICAvLyBBZGQgY2xhc3MgbWV0aG9kc1xyXG4sIGV4dGVuZDoge1xyXG4gICAgLy8gTW92ZSBvdmVyIHgtYXhpc1xyXG4gICAgeDogZnVuY3Rpb24oeCkge1xyXG4gICAgICByZXR1cm4geCA9PSBudWxsID8gdGhpcy50cmFuc2Zvcm0oJ3gnKSA6IHRoaXMudHJhbnNmb3JtKHsgeDogeCAtIHRoaXMueCgpIH0sIHRydWUpXHJcbiAgICB9XHJcbiAgICAvLyBNb3ZlIG92ZXIgeS1heGlzXHJcbiAgLCB5OiBmdW5jdGlvbih5KSB7XHJcbiAgICAgIHJldHVybiB5ID09IG51bGwgPyB0aGlzLnRyYW5zZm9ybSgneScpIDogdGhpcy50cmFuc2Zvcm0oeyB5OiB5IC0gdGhpcy55KCkgfSwgdHJ1ZSlcclxuICAgIH1cclxuICAgIC8vIE1vdmUgYnkgY2VudGVyIG92ZXIgeC1heGlzXHJcbiAgLCBjeDogZnVuY3Rpb24oeCkge1xyXG4gICAgICByZXR1cm4geCA9PSBudWxsID8gdGhpcy5nYm94KCkuY3ggOiB0aGlzLngoeCAtIHRoaXMuZ2JveCgpLndpZHRoIC8gMilcclxuICAgIH1cclxuICAgIC8vIE1vdmUgYnkgY2VudGVyIG92ZXIgeS1heGlzXHJcbiAgLCBjeTogZnVuY3Rpb24oeSkge1xyXG4gICAgICByZXR1cm4geSA9PSBudWxsID8gdGhpcy5nYm94KCkuY3kgOiB0aGlzLnkoeSAtIHRoaXMuZ2JveCgpLmhlaWdodCAvIDIpXHJcbiAgICB9XHJcbiAgLCBnYm94OiBmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgIHZhciBiYm94ICA9IHRoaXMuYmJveCgpXHJcbiAgICAgICAgLCB0cmFucyA9IHRoaXMudHJhbnNmb3JtKClcclxuXHJcbiAgICAgIGJib3gueCAgKz0gdHJhbnMueFxyXG4gICAgICBiYm94LngyICs9IHRyYW5zLnhcclxuICAgICAgYmJveC5jeCArPSB0cmFucy54XHJcblxyXG4gICAgICBiYm94LnkgICs9IHRyYW5zLnlcclxuICAgICAgYmJveC55MiArPSB0cmFucy55XHJcbiAgICAgIGJib3guY3kgKz0gdHJhbnMueVxyXG5cclxuICAgICAgcmV0dXJuIGJib3hcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIEFkZCBwYXJlbnQgbWV0aG9kXHJcbiwgY29uc3RydWN0OiB7XHJcbiAgICAvLyBDcmVhdGUgYSBncm91cCBlbGVtZW50XHJcbiAgICBncm91cDogZnVuY3Rpb24oKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLnB1dChuZXcgU1ZHLkcpXHJcbiAgICB9XHJcbiAgfVxyXG59KVxyXG5cblNWRy5Eb2MgPSBTVkcuaW52ZW50KHtcclxuICAvLyBJbml0aWFsaXplIG5vZGVcclxuICBjcmVhdGU6IGZ1bmN0aW9uKGVsZW1lbnQpIHtcclxuICAgIGlmIChlbGVtZW50KSB7XHJcbiAgICAgIC8vIGVuc3VyZSB0aGUgcHJlc2VuY2Ugb2YgYSBkb20gZWxlbWVudFxyXG4gICAgICBlbGVtZW50ID0gdHlwZW9mIGVsZW1lbnQgPT0gJ3N0cmluZycgP1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsZW1lbnQpIDpcclxuICAgICAgICBlbGVtZW50XHJcblxyXG4gICAgICAvLyBJZiB0aGUgdGFyZ2V0IGlzIGFuIHN2ZyBlbGVtZW50LCB1c2UgdGhhdCBlbGVtZW50IGFzIHRoZSBtYWluIHdyYXBwZXIuXHJcbiAgICAgIC8vIFRoaXMgYWxsb3dzIHN2Zy5qcyB0byB3b3JrIHdpdGggc3ZnIGRvY3VtZW50cyBhcyB3ZWxsLlxyXG4gICAgICBpZiAoZWxlbWVudC5ub2RlTmFtZSA9PSAnc3ZnJykge1xyXG4gICAgICAgIHRoaXMuY29uc3RydWN0b3IuY2FsbCh0aGlzLCBlbGVtZW50KVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMuY29uc3RydWN0b3IuY2FsbCh0aGlzLCBTVkcuY3JlYXRlKCdzdmcnKSlcclxuICAgICAgICBlbGVtZW50LmFwcGVuZENoaWxkKHRoaXMubm9kZSlcclxuICAgICAgICB0aGlzLnNpemUoJzEwMCUnLCAnMTAwJScpXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIHNldCBzdmcgZWxlbWVudCBhdHRyaWJ1dGVzIGFuZCBlbnN1cmUgZGVmcyBub2RlXHJcbiAgICAgIHRoaXMubmFtZXNwYWNlKCkuZGVmcygpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBJbmhlcml0IGZyb21cclxuLCBpbmhlcml0OiBTVkcuQ29udGFpbmVyXHJcblxyXG4gIC8vIEFkZCBjbGFzcyBtZXRob2RzXHJcbiwgZXh0ZW5kOiB7XHJcbiAgICAvLyBBZGQgbmFtZXNwYWNlc1xyXG4gICAgbmFtZXNwYWNlOiBmdW5jdGlvbigpIHtcclxuICAgICAgcmV0dXJuIHRoaXNcclxuICAgICAgICAuYXR0cih7IHhtbG5zOiBTVkcubnMsIHZlcnNpb246ICcxLjEnIH0pXHJcbiAgICAgICAgLmF0dHIoJ3htbG5zOnhsaW5rJywgU1ZHLnhsaW5rLCBTVkcueG1sbnMpXHJcbiAgICAgICAgLmF0dHIoJ3htbG5zOnN2Z2pzJywgU1ZHLnN2Z2pzLCBTVkcueG1sbnMpXHJcbiAgICB9XHJcbiAgICAvLyBDcmVhdGVzIGFuZCByZXR1cm5zIGRlZnMgZWxlbWVudFxyXG4gICwgZGVmczogZnVuY3Rpb24oKSB7XHJcbiAgICAgIGlmICghdGhpcy5fZGVmcykge1xyXG4gICAgICAgIHZhciBkZWZzXHJcblxyXG4gICAgICAgIC8vIEZpbmQgb3IgY3JlYXRlIGEgZGVmcyBlbGVtZW50IGluIHRoaXMgaW5zdGFuY2VcclxuICAgICAgICBpZiAoZGVmcyA9IHRoaXMubm9kZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnZGVmcycpWzBdKVxyXG4gICAgICAgICAgdGhpcy5fZGVmcyA9IFNWRy5hZG9wdChkZWZzKVxyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgIHRoaXMuX2RlZnMgPSBuZXcgU1ZHLkRlZnNcclxuXHJcbiAgICAgICAgLy8gTWFrZSBzdXJlIHRoZSBkZWZzIG5vZGUgaXMgYXQgdGhlIGVuZCBvZiB0aGUgc3RhY2tcclxuICAgICAgICB0aGlzLm5vZGUuYXBwZW5kQ2hpbGQodGhpcy5fZGVmcy5ub2RlKVxyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gdGhpcy5fZGVmc1xyXG4gICAgfVxyXG4gICAgLy8gY3VzdG9tIHBhcmVudCBtZXRob2RcclxuICAsIHBhcmVudDogZnVuY3Rpb24oKSB7XHJcbiAgICAgIGlmKCF0aGlzLm5vZGUucGFyZW50Tm9kZSB8fCB0aGlzLm5vZGUucGFyZW50Tm9kZS5ub2RlTmFtZSA9PSAnI2RvY3VtZW50JyB8fCB0aGlzLm5vZGUucGFyZW50Tm9kZS5ub2RlTmFtZSA9PSAnI2RvY3VtZW50LWZyYWdtZW50JykgcmV0dXJuIG51bGxcclxuICAgICAgcmV0dXJuIHRoaXMubm9kZS5wYXJlbnROb2RlXHJcbiAgICB9XHJcbiAgICAvLyBGaXggZm9yIHBvc3NpYmxlIHN1Yi1waXhlbCBvZmZzZXQuIFNlZTpcclxuICAgIC8vIGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTYwODgxMlxyXG4gICwgc3BvZjogZnVuY3Rpb24oKSB7XHJcbiAgICAgIHZhciBwb3MgPSB0aGlzLm5vZGUuZ2V0U2NyZWVuQ1RNKClcclxuXHJcbiAgICAgIGlmIChwb3MpXHJcbiAgICAgICAgdGhpc1xyXG4gICAgICAgICAgLnN0eWxlKCdsZWZ0JywgKC1wb3MuZSAlIDEpICsgJ3B4JylcclxuICAgICAgICAgIC5zdHlsZSgndG9wJywgICgtcG9zLmYgJSAxKSArICdweCcpXHJcblxyXG4gICAgICByZXR1cm4gdGhpc1xyXG4gICAgfVxyXG5cclxuICAgICAgLy8gUmVtb3ZlcyB0aGUgZG9jIGZyb20gdGhlIERPTVxyXG4gICwgcmVtb3ZlOiBmdW5jdGlvbigpIHtcclxuICAgICAgaWYodGhpcy5wYXJlbnQoKSkge1xyXG4gICAgICAgIHRoaXMucGFyZW50KCkucmVtb3ZlQ2hpbGQodGhpcy5ub2RlKVxyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gdGhpc1xyXG4gICAgfVxyXG4gICwgY2xlYXI6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAvLyByZW1vdmUgY2hpbGRyZW5cclxuICAgICAgd2hpbGUodGhpcy5ub2RlLmhhc0NoaWxkTm9kZXMoKSlcclxuICAgICAgICB0aGlzLm5vZGUucmVtb3ZlQ2hpbGQodGhpcy5ub2RlLmxhc3RDaGlsZClcclxuXHJcbiAgICAgIC8vIHJlbW92ZSBkZWZzIHJlZmVyZW5jZVxyXG4gICAgICBkZWxldGUgdGhpcy5fZGVmc1xyXG5cclxuICAgICAgLy8gYWRkIGJhY2sgcGFyc2VyXHJcbiAgICAgIGlmKCFTVkcucGFyc2VyLmRyYXcucGFyZW50Tm9kZSlcclxuICAgICAgICB0aGlzLm5vZGUuYXBwZW5kQ2hpbGQoU1ZHLnBhcnNlci5kcmF3KVxyXG5cclxuICAgICAgcmV0dXJuIHRoaXNcclxuICAgIH1cclxuICAsIGNsb25lOiBmdW5jdGlvbiAocGFyZW50KSB7XHJcbiAgICAgIC8vIHdyaXRlIGRvbSBkYXRhIHRvIHRoZSBkb20gc28gdGhlIGNsb25lIGNhbiBwaWNrdXAgdGhlIGRhdGFcclxuICAgICAgdGhpcy53cml0ZURhdGFUb0RvbSgpXHJcblxyXG4gICAgICAvLyBnZXQgcmVmZXJlbmNlIHRvIG5vZGVcclxuICAgICAgdmFyIG5vZGUgPSB0aGlzLm5vZGVcclxuXHJcbiAgICAgIC8vIGNsb25lIGVsZW1lbnQgYW5kIGFzc2lnbiBuZXcgaWRcclxuICAgICAgdmFyIGNsb25lID0gYXNzaWduTmV3SWQobm9kZS5jbG9uZU5vZGUodHJ1ZSkpXHJcblxyXG4gICAgICAvLyBpbnNlcnQgdGhlIGNsb25lIGluIHRoZSBnaXZlbiBwYXJlbnQgb3IgYWZ0ZXIgbXlzZWxmXHJcbiAgICAgIGlmKHBhcmVudCkge1xyXG4gICAgICAgIChwYXJlbnQubm9kZSB8fCBwYXJlbnQpLmFwcGVuZENoaWxkKGNsb25lLm5vZGUpXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgbm9kZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShjbG9uZS5ub2RlLCBub2RlLm5leHRTaWJsaW5nKVxyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gY2xvbmVcclxuICAgIH1cclxuICB9XHJcblxyXG59KVxyXG5cbi8vICMjIyBUaGlzIG1vZHVsZSBhZGRzIGJhY2t3YXJkIC8gZm9yd2FyZCBmdW5jdGlvbmFsaXR5IHRvIGVsZW1lbnRzLlxyXG5cclxuLy9cclxuU1ZHLmV4dGVuZChTVkcuRWxlbWVudCwge1xyXG4gIC8vIEdldCBhbGwgc2libGluZ3MsIGluY2x1ZGluZyBteXNlbGZcclxuICBzaWJsaW5nczogZnVuY3Rpb24oKSB7XHJcbiAgICByZXR1cm4gdGhpcy5wYXJlbnQoKS5jaGlsZHJlbigpXHJcbiAgfVxyXG4gIC8vIEdldCB0aGUgY3VyZW50IHBvc2l0aW9uIHNpYmxpbmdzXHJcbiwgcG9zaXRpb246IGZ1bmN0aW9uKCkge1xyXG4gICAgcmV0dXJuIHRoaXMucGFyZW50KCkuaW5kZXgodGhpcylcclxuICB9XHJcbiAgLy8gR2V0IHRoZSBuZXh0IGVsZW1lbnQgKHdpbGwgcmV0dXJuIG51bGwgaWYgdGhlcmUgaXMgbm9uZSlcclxuLCBuZXh0OiBmdW5jdGlvbigpIHtcclxuICAgIHJldHVybiB0aGlzLnNpYmxpbmdzKClbdGhpcy5wb3NpdGlvbigpICsgMV1cclxuICB9XHJcbiAgLy8gR2V0IHRoZSBuZXh0IGVsZW1lbnQgKHdpbGwgcmV0dXJuIG51bGwgaWYgdGhlcmUgaXMgbm9uZSlcclxuLCBwcmV2aW91czogZnVuY3Rpb24oKSB7XHJcbiAgICByZXR1cm4gdGhpcy5zaWJsaW5ncygpW3RoaXMucG9zaXRpb24oKSAtIDFdXHJcbiAgfVxyXG4gIC8vIFNlbmQgZ2l2ZW4gZWxlbWVudCBvbmUgc3RlcCBmb3J3YXJkXHJcbiwgZm9yd2FyZDogZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgaSA9IHRoaXMucG9zaXRpb24oKSArIDFcclxuICAgICAgLCBwID0gdGhpcy5wYXJlbnQoKVxyXG5cclxuICAgIC8vIG1vdmUgbm9kZSBvbmUgc3RlcCBmb3J3YXJkXHJcbiAgICBwLnJlbW92ZUVsZW1lbnQodGhpcykuYWRkKHRoaXMsIGkpXHJcblxyXG4gICAgLy8gbWFrZSBzdXJlIGRlZnMgbm9kZSBpcyBhbHdheXMgYXQgdGhlIHRvcFxyXG4gICAgaWYgKHAgaW5zdGFuY2VvZiBTVkcuRG9jKVxyXG4gICAgICBwLm5vZGUuYXBwZW5kQ2hpbGQocC5kZWZzKCkubm9kZSlcclxuXHJcbiAgICByZXR1cm4gdGhpc1xyXG4gIH1cclxuICAvLyBTZW5kIGdpdmVuIGVsZW1lbnQgb25lIHN0ZXAgYmFja3dhcmRcclxuLCBiYWNrd2FyZDogZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgaSA9IHRoaXMucG9zaXRpb24oKVxyXG5cclxuICAgIGlmIChpID4gMClcclxuICAgICAgdGhpcy5wYXJlbnQoKS5yZW1vdmVFbGVtZW50KHRoaXMpLmFkZCh0aGlzLCBpIC0gMSlcclxuXHJcbiAgICByZXR1cm4gdGhpc1xyXG4gIH1cclxuICAvLyBTZW5kIGdpdmVuIGVsZW1lbnQgYWxsIHRoZSB3YXkgdG8gdGhlIGZyb250XHJcbiwgZnJvbnQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIHAgPSB0aGlzLnBhcmVudCgpXHJcblxyXG4gICAgLy8gTW92ZSBub2RlIGZvcndhcmRcclxuICAgIHAubm9kZS5hcHBlbmRDaGlsZCh0aGlzLm5vZGUpXHJcblxyXG4gICAgLy8gTWFrZSBzdXJlIGRlZnMgbm9kZSBpcyBhbHdheXMgYXQgdGhlIHRvcFxyXG4gICAgaWYgKHAgaW5zdGFuY2VvZiBTVkcuRG9jKVxyXG4gICAgICBwLm5vZGUuYXBwZW5kQ2hpbGQocC5kZWZzKCkubm9kZSlcclxuXHJcbiAgICByZXR1cm4gdGhpc1xyXG4gIH1cclxuICAvLyBTZW5kIGdpdmVuIGVsZW1lbnQgYWxsIHRoZSB3YXkgdG8gdGhlIGJhY2tcclxuLCBiYWNrOiBmdW5jdGlvbigpIHtcclxuICAgIGlmICh0aGlzLnBvc2l0aW9uKCkgPiAwKVxyXG4gICAgICB0aGlzLnBhcmVudCgpLnJlbW92ZUVsZW1lbnQodGhpcykuYWRkKHRoaXMsIDApXHJcblxyXG4gICAgcmV0dXJuIHRoaXNcclxuICB9XHJcbiAgLy8gSW5zZXJ0cyBhIGdpdmVuIGVsZW1lbnQgYmVmb3JlIHRoZSB0YXJnZXRlZCBlbGVtZW50XHJcbiwgYmVmb3JlOiBmdW5jdGlvbihlbGVtZW50KSB7XHJcbiAgICBlbGVtZW50LnJlbW92ZSgpXHJcblxyXG4gICAgdmFyIGkgPSB0aGlzLnBvc2l0aW9uKClcclxuXHJcbiAgICB0aGlzLnBhcmVudCgpLmFkZChlbGVtZW50LCBpKVxyXG5cclxuICAgIHJldHVybiB0aGlzXHJcbiAgfVxyXG4gIC8vIEluc3RlcnMgYSBnaXZlbiBlbGVtZW50IGFmdGVyIHRoZSB0YXJnZXRlZCBlbGVtZW50XHJcbiwgYWZ0ZXI6IGZ1bmN0aW9uKGVsZW1lbnQpIHtcclxuICAgIGVsZW1lbnQucmVtb3ZlKClcclxuXHJcbiAgICB2YXIgaSA9IHRoaXMucG9zaXRpb24oKVxyXG5cclxuICAgIHRoaXMucGFyZW50KCkuYWRkKGVsZW1lbnQsIGkgKyAxKVxyXG5cclxuICAgIHJldHVybiB0aGlzXHJcbiAgfVxyXG5cclxufSlcblNWRy5NYXNrID0gU1ZHLmludmVudCh7XHJcbiAgLy8gSW5pdGlhbGl6ZSBub2RlXHJcbiAgY3JlYXRlOiBmdW5jdGlvbigpIHtcclxuICAgIHRoaXMuY29uc3RydWN0b3IuY2FsbCh0aGlzLCBTVkcuY3JlYXRlKCdtYXNrJykpXHJcblxyXG4gICAgLy8ga2VlcCByZWZlcmVuY2VzIHRvIG1hc2tlZCBlbGVtZW50c1xyXG4gICAgdGhpcy50YXJnZXRzID0gW11cclxuICB9XHJcblxyXG4gIC8vIEluaGVyaXQgZnJvbVxyXG4sIGluaGVyaXQ6IFNWRy5Db250YWluZXJcclxuXHJcbiAgLy8gQWRkIGNsYXNzIG1ldGhvZHNcclxuLCBleHRlbmQ6IHtcclxuICAgIC8vIFVubWFzayBhbGwgbWFza2VkIGVsZW1lbnRzIGFuZCByZW1vdmUgaXRzZWxmXHJcbiAgICByZW1vdmU6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAvLyB1bm1hc2sgYWxsIHRhcmdldHNcclxuICAgICAgZm9yICh2YXIgaSA9IHRoaXMudGFyZ2V0cy5sZW5ndGggLSAxOyBpID49IDA7IGktLSlcclxuICAgICAgICBpZiAodGhpcy50YXJnZXRzW2ldKVxyXG4gICAgICAgICAgdGhpcy50YXJnZXRzW2ldLnVubWFzaygpXHJcbiAgICAgIHRoaXMudGFyZ2V0cyA9IFtdXHJcblxyXG4gICAgICAvLyByZW1vdmUgbWFzayBmcm9tIHBhcmVudFxyXG4gICAgICBTVkcuRWxlbWVudC5wcm90b3R5cGUucmVtb3ZlLmNhbGwodGhpcylcclxuXHJcbiAgICAgIHJldHVybiB0aGlzXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBBZGQgcGFyZW50IG1ldGhvZFxyXG4sIGNvbnN0cnVjdDoge1xyXG4gICAgLy8gQ3JlYXRlIG1hc2tpbmcgZWxlbWVudFxyXG4gICAgbWFzazogZnVuY3Rpb24oKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLmRlZnMoKS5wdXQobmV3IFNWRy5NYXNrKVxyXG4gICAgfVxyXG4gIH1cclxufSlcclxuXHJcblxyXG5TVkcuZXh0ZW5kKFNWRy5FbGVtZW50LCB7XHJcbiAgLy8gRGlzdHJpYnV0ZSBtYXNrIHRvIHN2ZyBlbGVtZW50XHJcbiAgbWFza1dpdGg6IGZ1bmN0aW9uKGVsZW1lbnQpIHtcclxuICAgIC8vIHVzZSBnaXZlbiBtYXNrIG9yIGNyZWF0ZSBhIG5ldyBvbmVcclxuICAgIHRoaXMubWFza2VyID0gZWxlbWVudCBpbnN0YW5jZW9mIFNWRy5NYXNrID8gZWxlbWVudCA6IHRoaXMucGFyZW50KCkubWFzaygpLmFkZChlbGVtZW50KVxyXG5cclxuICAgIC8vIHN0b3JlIHJldmVyZW5jZSBvbiBzZWxmIGluIG1hc2tcclxuICAgIHRoaXMubWFza2VyLnRhcmdldHMucHVzaCh0aGlzKVxyXG5cclxuICAgIC8vIGFwcGx5IG1hc2tcclxuICAgIHJldHVybiB0aGlzLmF0dHIoJ21hc2snLCAndXJsKFwiIycgKyB0aGlzLm1hc2tlci5hdHRyKCdpZCcpICsgJ1wiKScpXHJcbiAgfVxyXG4gIC8vIFVubWFzayBlbGVtZW50XHJcbiwgdW5tYXNrOiBmdW5jdGlvbigpIHtcclxuICAgIGRlbGV0ZSB0aGlzLm1hc2tlclxyXG4gICAgcmV0dXJuIHRoaXMuYXR0cignbWFzaycsIG51bGwpXHJcbiAgfVxyXG5cclxufSlcclxuXG5TVkcuQ2xpcFBhdGggPSBTVkcuaW52ZW50KHtcclxuICAvLyBJbml0aWFsaXplIG5vZGVcclxuICBjcmVhdGU6IGZ1bmN0aW9uKCkge1xyXG4gICAgdGhpcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsIFNWRy5jcmVhdGUoJ2NsaXBQYXRoJykpXHJcblxyXG4gICAgLy8ga2VlcCByZWZlcmVuY2VzIHRvIGNsaXBwZWQgZWxlbWVudHNcclxuICAgIHRoaXMudGFyZ2V0cyA9IFtdXHJcbiAgfVxyXG5cclxuICAvLyBJbmhlcml0IGZyb21cclxuLCBpbmhlcml0OiBTVkcuQ29udGFpbmVyXHJcblxyXG4gIC8vIEFkZCBjbGFzcyBtZXRob2RzXHJcbiwgZXh0ZW5kOiB7XHJcbiAgICAvLyBVbmNsaXAgYWxsIGNsaXBwZWQgZWxlbWVudHMgYW5kIHJlbW92ZSBpdHNlbGZcclxuICAgIHJlbW92ZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgIC8vIHVuY2xpcCBhbGwgdGFyZ2V0c1xyXG4gICAgICBmb3IgKHZhciBpID0gdGhpcy50YXJnZXRzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKVxyXG4gICAgICAgIGlmICh0aGlzLnRhcmdldHNbaV0pXHJcbiAgICAgICAgICB0aGlzLnRhcmdldHNbaV0udW5jbGlwKClcclxuICAgICAgdGhpcy50YXJnZXRzID0gW11cclxuXHJcbiAgICAgIC8vIHJlbW92ZSBjbGlwUGF0aCBmcm9tIHBhcmVudFxyXG4gICAgICB0aGlzLnBhcmVudCgpLnJlbW92ZUVsZW1lbnQodGhpcylcclxuXHJcbiAgICAgIHJldHVybiB0aGlzXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBBZGQgcGFyZW50IG1ldGhvZFxyXG4sIGNvbnN0cnVjdDoge1xyXG4gICAgLy8gQ3JlYXRlIGNsaXBwaW5nIGVsZW1lbnRcclxuICAgIGNsaXA6IGZ1bmN0aW9uKCkge1xyXG4gICAgICByZXR1cm4gdGhpcy5kZWZzKCkucHV0KG5ldyBTVkcuQ2xpcFBhdGgpXHJcbiAgICB9XHJcbiAgfVxyXG59KVxyXG5cclxuLy9cclxuU1ZHLmV4dGVuZChTVkcuRWxlbWVudCwge1xyXG4gIC8vIERpc3RyaWJ1dGUgY2xpcFBhdGggdG8gc3ZnIGVsZW1lbnRcclxuICBjbGlwV2l0aDogZnVuY3Rpb24oZWxlbWVudCkge1xyXG4gICAgLy8gdXNlIGdpdmVuIGNsaXAgb3IgY3JlYXRlIGEgbmV3IG9uZVxyXG4gICAgdGhpcy5jbGlwcGVyID0gZWxlbWVudCBpbnN0YW5jZW9mIFNWRy5DbGlwUGF0aCA/IGVsZW1lbnQgOiB0aGlzLnBhcmVudCgpLmNsaXAoKS5hZGQoZWxlbWVudClcclxuXHJcbiAgICAvLyBzdG9yZSByZXZlcmVuY2Ugb24gc2VsZiBpbiBtYXNrXHJcbiAgICB0aGlzLmNsaXBwZXIudGFyZ2V0cy5wdXNoKHRoaXMpXHJcblxyXG4gICAgLy8gYXBwbHkgbWFza1xyXG4gICAgcmV0dXJuIHRoaXMuYXR0cignY2xpcC1wYXRoJywgJ3VybChcIiMnICsgdGhpcy5jbGlwcGVyLmF0dHIoJ2lkJykgKyAnXCIpJylcclxuICB9XHJcbiAgLy8gVW5jbGlwIGVsZW1lbnRcclxuLCB1bmNsaXA6IGZ1bmN0aW9uKCkge1xyXG4gICAgZGVsZXRlIHRoaXMuY2xpcHBlclxyXG4gICAgcmV0dXJuIHRoaXMuYXR0cignY2xpcC1wYXRoJywgbnVsbClcclxuICB9XHJcblxyXG59KVxuU1ZHLkdyYWRpZW50ID0gU1ZHLmludmVudCh7XHJcbiAgLy8gSW5pdGlhbGl6ZSBub2RlXHJcbiAgY3JlYXRlOiBmdW5jdGlvbih0eXBlKSB7XHJcbiAgICB0aGlzLmNvbnN0cnVjdG9yLmNhbGwodGhpcywgU1ZHLmNyZWF0ZSh0eXBlICsgJ0dyYWRpZW50JykpXHJcblxyXG4gICAgLy8gc3RvcmUgdHlwZVxyXG4gICAgdGhpcy50eXBlID0gdHlwZVxyXG4gIH1cclxuXHJcbiAgLy8gSW5oZXJpdCBmcm9tXHJcbiwgaW5oZXJpdDogU1ZHLkNvbnRhaW5lclxyXG5cclxuICAvLyBBZGQgY2xhc3MgbWV0aG9kc1xyXG4sIGV4dGVuZDoge1xyXG4gICAgLy8gQWRkIGEgY29sb3Igc3RvcFxyXG4gICAgYXQ6IGZ1bmN0aW9uKG9mZnNldCwgY29sb3IsIG9wYWNpdHkpIHtcclxuICAgICAgcmV0dXJuIHRoaXMucHV0KG5ldyBTVkcuU3RvcCkudXBkYXRlKG9mZnNldCwgY29sb3IsIG9wYWNpdHkpXHJcbiAgICB9XHJcbiAgICAvLyBVcGRhdGUgZ3JhZGllbnRcclxuICAsIHVwZGF0ZTogZnVuY3Rpb24oYmxvY2spIHtcclxuICAgICAgLy8gcmVtb3ZlIGFsbCBzdG9wc1xyXG4gICAgICB0aGlzLmNsZWFyKClcclxuXHJcbiAgICAgIC8vIGludm9rZSBwYXNzZWQgYmxvY2tcclxuICAgICAgaWYgKHR5cGVvZiBibG9jayA9PSAnZnVuY3Rpb24nKVxyXG4gICAgICAgIGJsb2NrLmNhbGwodGhpcywgdGhpcylcclxuXHJcbiAgICAgIHJldHVybiB0aGlzXHJcbiAgICB9XHJcbiAgICAvLyBSZXR1cm4gdGhlIGZpbGwgaWRcclxuICAsIGZpbGw6IGZ1bmN0aW9uKCkge1xyXG4gICAgICByZXR1cm4gJ3VybCgjJyArIHRoaXMuaWQoKSArICcpJ1xyXG4gICAgfVxyXG4gICAgLy8gQWxpYXMgc3RyaW5nIGNvbnZlcnRpb24gdG8gZmlsbFxyXG4gICwgdG9TdHJpbmc6IGZ1bmN0aW9uKCkge1xyXG4gICAgICByZXR1cm4gdGhpcy5maWxsKClcclxuICAgIH1cclxuICAgIC8vIGN1c3RvbSBhdHRyIHRvIGhhbmRsZSB0cmFuc2Zvcm1cclxuICAsIGF0dHI6IGZ1bmN0aW9uKGEsIGIsIGMpIHtcclxuICAgICAgaWYoYSA9PSAndHJhbnNmb3JtJykgYSA9ICdncmFkaWVudFRyYW5zZm9ybSdcclxuICAgICAgcmV0dXJuIFNWRy5Db250YWluZXIucHJvdG90eXBlLmF0dHIuY2FsbCh0aGlzLCBhLCBiLCBjKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gQWRkIHBhcmVudCBtZXRob2RcclxuLCBjb25zdHJ1Y3Q6IHtcclxuICAgIC8vIENyZWF0ZSBncmFkaWVudCBlbGVtZW50IGluIGRlZnNcclxuICAgIGdyYWRpZW50OiBmdW5jdGlvbih0eXBlLCBibG9jaykge1xyXG4gICAgICByZXR1cm4gdGhpcy5kZWZzKCkuZ3JhZGllbnQodHlwZSwgYmxvY2spXHJcbiAgICB9XHJcbiAgfVxyXG59KVxyXG5cclxuLy8gQWRkIGFuaW1hdGFibGUgbWV0aG9kcyB0byBib3RoIGdyYWRpZW50IGFuZCBmeCBtb2R1bGVcclxuU1ZHLmV4dGVuZChTVkcuR3JhZGllbnQsIFNWRy5GWCwge1xyXG4gIC8vIEZyb20gcG9zaXRpb25cclxuICBmcm9tOiBmdW5jdGlvbih4LCB5KSB7XHJcbiAgICByZXR1cm4gKHRoaXMuX3RhcmdldCB8fCB0aGlzKS50eXBlID09ICdyYWRpYWwnID9cclxuICAgICAgdGhpcy5hdHRyKHsgZng6IG5ldyBTVkcuTnVtYmVyKHgpLCBmeTogbmV3IFNWRy5OdW1iZXIoeSkgfSkgOlxyXG4gICAgICB0aGlzLmF0dHIoeyB4MTogbmV3IFNWRy5OdW1iZXIoeCksIHkxOiBuZXcgU1ZHLk51bWJlcih5KSB9KVxyXG4gIH1cclxuICAvLyBUbyBwb3NpdGlvblxyXG4sIHRvOiBmdW5jdGlvbih4LCB5KSB7XHJcbiAgICByZXR1cm4gKHRoaXMuX3RhcmdldCB8fCB0aGlzKS50eXBlID09ICdyYWRpYWwnID9cclxuICAgICAgdGhpcy5hdHRyKHsgY3g6IG5ldyBTVkcuTnVtYmVyKHgpLCBjeTogbmV3IFNWRy5OdW1iZXIoeSkgfSkgOlxyXG4gICAgICB0aGlzLmF0dHIoeyB4MjogbmV3IFNWRy5OdW1iZXIoeCksIHkyOiBuZXcgU1ZHLk51bWJlcih5KSB9KVxyXG4gIH1cclxufSlcclxuXHJcbi8vIEJhc2UgZ3JhZGllbnQgZ2VuZXJhdGlvblxyXG5TVkcuZXh0ZW5kKFNWRy5EZWZzLCB7XHJcbiAgLy8gZGVmaW5lIGdyYWRpZW50XHJcbiAgZ3JhZGllbnQ6IGZ1bmN0aW9uKHR5cGUsIGJsb2NrKSB7XHJcbiAgICByZXR1cm4gdGhpcy5wdXQobmV3IFNWRy5HcmFkaWVudCh0eXBlKSkudXBkYXRlKGJsb2NrKVxyXG4gIH1cclxuXHJcbn0pXHJcblxyXG5TVkcuU3RvcCA9IFNWRy5pbnZlbnQoe1xyXG4gIC8vIEluaXRpYWxpemUgbm9kZVxyXG4gIGNyZWF0ZTogJ3N0b3AnXHJcblxyXG4gIC8vIEluaGVyaXQgZnJvbVxyXG4sIGluaGVyaXQ6IFNWRy5FbGVtZW50XHJcblxyXG4gIC8vIEFkZCBjbGFzcyBtZXRob2RzXHJcbiwgZXh0ZW5kOiB7XHJcbiAgICAvLyBhZGQgY29sb3Igc3RvcHNcclxuICAgIHVwZGF0ZTogZnVuY3Rpb24obykge1xyXG4gICAgICBpZiAodHlwZW9mIG8gPT0gJ251bWJlcicgfHwgbyBpbnN0YW5jZW9mIFNWRy5OdW1iZXIpIHtcclxuICAgICAgICBvID0ge1xyXG4gICAgICAgICAgb2Zmc2V0OiAgYXJndW1lbnRzWzBdXHJcbiAgICAgICAgLCBjb2xvcjogICBhcmd1bWVudHNbMV1cclxuICAgICAgICAsIG9wYWNpdHk6IGFyZ3VtZW50c1syXVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gc2V0IGF0dHJpYnV0ZXNcclxuICAgICAgaWYgKG8ub3BhY2l0eSAhPSBudWxsKSB0aGlzLmF0dHIoJ3N0b3Atb3BhY2l0eScsIG8ub3BhY2l0eSlcclxuICAgICAgaWYgKG8uY29sb3IgICAhPSBudWxsKSB0aGlzLmF0dHIoJ3N0b3AtY29sb3InLCBvLmNvbG9yKVxyXG4gICAgICBpZiAoby5vZmZzZXQgICE9IG51bGwpIHRoaXMuYXR0cignb2Zmc2V0JywgbmV3IFNWRy5OdW1iZXIoby5vZmZzZXQpKVxyXG5cclxuICAgICAgcmV0dXJuIHRoaXNcclxuICAgIH1cclxuICB9XHJcblxyXG59KVxyXG5cblNWRy5QYXR0ZXJuID0gU1ZHLmludmVudCh7XHJcbiAgLy8gSW5pdGlhbGl6ZSBub2RlXHJcbiAgY3JlYXRlOiAncGF0dGVybidcclxuXHJcbiAgLy8gSW5oZXJpdCBmcm9tXHJcbiwgaW5oZXJpdDogU1ZHLkNvbnRhaW5lclxyXG5cclxuICAvLyBBZGQgY2xhc3MgbWV0aG9kc1xyXG4sIGV4dGVuZDoge1xyXG4gICAgLy8gUmV0dXJuIHRoZSBmaWxsIGlkXHJcbiAgICBmaWxsOiBmdW5jdGlvbigpIHtcclxuICAgICAgcmV0dXJuICd1cmwoIycgKyB0aGlzLmlkKCkgKyAnKSdcclxuICAgIH1cclxuICAgIC8vIFVwZGF0ZSBwYXR0ZXJuIGJ5IHJlYnVpbGRpbmdcclxuICAsIHVwZGF0ZTogZnVuY3Rpb24oYmxvY2spIHtcclxuICAgICAgLy8gcmVtb3ZlIGNvbnRlbnRcclxuICAgICAgdGhpcy5jbGVhcigpXHJcblxyXG4gICAgICAvLyBpbnZva2UgcGFzc2VkIGJsb2NrXHJcbiAgICAgIGlmICh0eXBlb2YgYmxvY2sgPT0gJ2Z1bmN0aW9uJylcclxuICAgICAgICBibG9jay5jYWxsKHRoaXMsIHRoaXMpXHJcblxyXG4gICAgICByZXR1cm4gdGhpc1xyXG4gICAgfVxyXG4gICAgLy8gQWxpYXMgc3RyaW5nIGNvbnZlcnRpb24gdG8gZmlsbFxyXG4gICwgdG9TdHJpbmc6IGZ1bmN0aW9uKCkge1xyXG4gICAgICByZXR1cm4gdGhpcy5maWxsKClcclxuICAgIH1cclxuICAgIC8vIGN1c3RvbSBhdHRyIHRvIGhhbmRsZSB0cmFuc2Zvcm1cclxuICAsIGF0dHI6IGZ1bmN0aW9uKGEsIGIsIGMpIHtcclxuICAgICAgaWYoYSA9PSAndHJhbnNmb3JtJykgYSA9ICdwYXR0ZXJuVHJhbnNmb3JtJ1xyXG4gICAgICByZXR1cm4gU1ZHLkNvbnRhaW5lci5wcm90b3R5cGUuYXR0ci5jYWxsKHRoaXMsIGEsIGIsIGMpXHJcbiAgICB9XHJcblxyXG4gIH1cclxuXHJcbiAgLy8gQWRkIHBhcmVudCBtZXRob2RcclxuLCBjb25zdHJ1Y3Q6IHtcclxuICAgIC8vIENyZWF0ZSBwYXR0ZXJuIGVsZW1lbnQgaW4gZGVmc1xyXG4gICAgcGF0dGVybjogZnVuY3Rpb24od2lkdGgsIGhlaWdodCwgYmxvY2spIHtcclxuICAgICAgcmV0dXJuIHRoaXMuZGVmcygpLnBhdHRlcm4od2lkdGgsIGhlaWdodCwgYmxvY2spXHJcbiAgICB9XHJcbiAgfVxyXG59KVxyXG5cclxuU1ZHLmV4dGVuZChTVkcuRGVmcywge1xyXG4gIC8vIERlZmluZSBncmFkaWVudFxyXG4gIHBhdHRlcm46IGZ1bmN0aW9uKHdpZHRoLCBoZWlnaHQsIGJsb2NrKSB7XHJcbiAgICByZXR1cm4gdGhpcy5wdXQobmV3IFNWRy5QYXR0ZXJuKS51cGRhdGUoYmxvY2spLmF0dHIoe1xyXG4gICAgICB4OiAgICAgICAgICAgIDBcclxuICAgICwgeTogICAgICAgICAgICAwXHJcbiAgICAsIHdpZHRoOiAgICAgICAgd2lkdGhcclxuICAgICwgaGVpZ2h0OiAgICAgICBoZWlnaHRcclxuICAgICwgcGF0dGVyblVuaXRzOiAndXNlclNwYWNlT25Vc2UnXHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbn0pXG5TVkcuU2hhcGUgPSBTVkcuaW52ZW50KHtcclxuICAvLyBJbml0aWFsaXplIG5vZGVcclxuICBjcmVhdGU6IGZ1bmN0aW9uKGVsZW1lbnQpIHtcclxuICAgIHRoaXMuY29uc3RydWN0b3IuY2FsbCh0aGlzLCBlbGVtZW50KVxyXG4gIH1cclxuXHJcbiAgLy8gSW5oZXJpdCBmcm9tXHJcbiwgaW5oZXJpdDogU1ZHLkVsZW1lbnRcclxuXHJcbn0pXG5cclxuU1ZHLkJhcmUgPSBTVkcuaW52ZW50KHtcclxuICAvLyBJbml0aWFsaXplXHJcbiAgY3JlYXRlOiBmdW5jdGlvbihlbGVtZW50LCBpbmhlcml0KSB7XHJcbiAgICAvLyBjb25zdHJ1Y3QgZWxlbWVudFxyXG4gICAgdGhpcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsIFNWRy5jcmVhdGUoZWxlbWVudCkpXHJcblxyXG4gICAgLy8gaW5oZXJpdCBjdXN0b20gbWV0aG9kc1xyXG4gICAgaWYgKGluaGVyaXQpXHJcbiAgICAgIGZvciAodmFyIG1ldGhvZCBpbiBpbmhlcml0LnByb3RvdHlwZSlcclxuICAgICAgICBpZiAodHlwZW9mIGluaGVyaXQucHJvdG90eXBlW21ldGhvZF0gPT09ICdmdW5jdGlvbicpXHJcbiAgICAgICAgICB0aGlzW21ldGhvZF0gPSBpbmhlcml0LnByb3RvdHlwZVttZXRob2RdXHJcbiAgfVxyXG5cclxuICAvLyBJbmhlcml0IGZyb21cclxuLCBpbmhlcml0OiBTVkcuRWxlbWVudFxyXG5cclxuICAvLyBBZGQgbWV0aG9kc1xyXG4sIGV4dGVuZDoge1xyXG4gICAgLy8gSW5zZXJ0IHNvbWUgcGxhaW4gdGV4dFxyXG4gICAgd29yZHM6IGZ1bmN0aW9uKHRleHQpIHtcclxuICAgICAgLy8gcmVtb3ZlIGNvbnRlbnRzXHJcbiAgICAgIHdoaWxlICh0aGlzLm5vZGUuaGFzQ2hpbGROb2RlcygpKVxyXG4gICAgICAgIHRoaXMubm9kZS5yZW1vdmVDaGlsZCh0aGlzLm5vZGUubGFzdENoaWxkKVxyXG5cclxuICAgICAgLy8gY3JlYXRlIHRleHQgbm9kZVxyXG4gICAgICB0aGlzLm5vZGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodGV4dCkpXHJcblxyXG4gICAgICByZXR1cm4gdGhpc1xyXG4gICAgfVxyXG4gIH1cclxufSlcclxuXHJcblxyXG5TVkcuZXh0ZW5kKFNWRy5QYXJlbnQsIHtcclxuICAvLyBDcmVhdGUgYW4gZWxlbWVudCB0aGF0IGlzIG5vdCBkZXNjcmliZWQgYnkgU1ZHLmpzXHJcbiAgZWxlbWVudDogZnVuY3Rpb24oZWxlbWVudCwgaW5oZXJpdCkge1xyXG4gICAgcmV0dXJuIHRoaXMucHV0KG5ldyBTVkcuQmFyZShlbGVtZW50LCBpbmhlcml0KSlcclxuICB9XHJcbn0pXHJcblxuU1ZHLlN5bWJvbCA9IFNWRy5pbnZlbnQoe1xyXG4gIC8vIEluaXRpYWxpemUgbm9kZVxyXG4gIGNyZWF0ZTogJ3N5bWJvbCdcclxuXHJcbiAgLy8gSW5oZXJpdCBmcm9tXHJcbiwgaW5oZXJpdDogU1ZHLkNvbnRhaW5lclxyXG5cclxuLCBjb25zdHJ1Y3Q6IHtcclxuICAgIC8vIGNyZWF0ZSBzeW1ib2xcclxuICAgIHN5bWJvbDogZnVuY3Rpb24oKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLnB1dChuZXcgU1ZHLlN5bWJvbClcclxuICAgIH1cclxuICB9XHJcbn0pXHJcblxuU1ZHLlVzZSA9IFNWRy5pbnZlbnQoe1xyXG4gIC8vIEluaXRpYWxpemUgbm9kZVxyXG4gIGNyZWF0ZTogJ3VzZSdcclxuXHJcbiAgLy8gSW5oZXJpdCBmcm9tXHJcbiwgaW5oZXJpdDogU1ZHLlNoYXBlXHJcblxyXG4gIC8vIEFkZCBjbGFzcyBtZXRob2RzXHJcbiwgZXh0ZW5kOiB7XHJcbiAgICAvLyBVc2UgZWxlbWVudCBhcyBhIHJlZmVyZW5jZVxyXG4gICAgZWxlbWVudDogZnVuY3Rpb24oZWxlbWVudCwgZmlsZSkge1xyXG4gICAgICAvLyBTZXQgbGluZWQgZWxlbWVudFxyXG4gICAgICByZXR1cm4gdGhpcy5hdHRyKCdocmVmJywgKGZpbGUgfHwgJycpICsgJyMnICsgZWxlbWVudCwgU1ZHLnhsaW5rKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gQWRkIHBhcmVudCBtZXRob2RcclxuLCBjb25zdHJ1Y3Q6IHtcclxuICAgIC8vIENyZWF0ZSBhIHVzZSBlbGVtZW50XHJcbiAgICB1c2U6IGZ1bmN0aW9uKGVsZW1lbnQsIGZpbGUpIHtcclxuICAgICAgcmV0dXJuIHRoaXMucHV0KG5ldyBTVkcuVXNlKS5lbGVtZW50KGVsZW1lbnQsIGZpbGUpXHJcbiAgICB9XHJcbiAgfVxyXG59KVxuU1ZHLlJlY3QgPSBTVkcuaW52ZW50KHtcclxuICAvLyBJbml0aWFsaXplIG5vZGVcclxuICBjcmVhdGU6ICdyZWN0J1xyXG5cclxuICAvLyBJbmhlcml0IGZyb21cclxuLCBpbmhlcml0OiBTVkcuU2hhcGVcclxuXHJcbiAgLy8gQWRkIHBhcmVudCBtZXRob2RcclxuLCBjb25zdHJ1Y3Q6IHtcclxuICAgIC8vIENyZWF0ZSBhIHJlY3QgZWxlbWVudFxyXG4gICAgcmVjdDogZnVuY3Rpb24od2lkdGgsIGhlaWdodCkge1xyXG4gICAgICByZXR1cm4gdGhpcy5wdXQobmV3IFNWRy5SZWN0KCkpLnNpemUod2lkdGgsIGhlaWdodClcclxuICAgIH1cclxuICB9XHJcbn0pXG5TVkcuQ2lyY2xlID0gU1ZHLmludmVudCh7XHJcbiAgLy8gSW5pdGlhbGl6ZSBub2RlXHJcbiAgY3JlYXRlOiAnY2lyY2xlJ1xyXG5cclxuICAvLyBJbmhlcml0IGZyb21cclxuLCBpbmhlcml0OiBTVkcuU2hhcGVcclxuXHJcbiAgLy8gQWRkIHBhcmVudCBtZXRob2RcclxuLCBjb25zdHJ1Y3Q6IHtcclxuICAgIC8vIENyZWF0ZSBjaXJjbGUgZWxlbWVudCwgYmFzZWQgb24gZWxsaXBzZVxyXG4gICAgY2lyY2xlOiBmdW5jdGlvbihzaXplKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLnB1dChuZXcgU1ZHLkNpcmNsZSkucngobmV3IFNWRy5OdW1iZXIoc2l6ZSkuZGl2aWRlKDIpKS5tb3ZlKDAsIDApXHJcbiAgICB9XHJcbiAgfVxyXG59KVxyXG5cclxuU1ZHLmV4dGVuZChTVkcuQ2lyY2xlLCBTVkcuRlgsIHtcclxuICAvLyBSYWRpdXMgeCB2YWx1ZVxyXG4gIHJ4OiBmdW5jdGlvbihyeCkge1xyXG4gICAgcmV0dXJuIHRoaXMuYXR0cigncicsIHJ4KVxyXG4gIH1cclxuICAvLyBBbGlhcyByYWRpdXMgeCB2YWx1ZVxyXG4sIHJ5OiBmdW5jdGlvbihyeSkge1xyXG4gICAgcmV0dXJuIHRoaXMucngocnkpXHJcbiAgfVxyXG59KVxyXG5cclxuU1ZHLkVsbGlwc2UgPSBTVkcuaW52ZW50KHtcclxuICAvLyBJbml0aWFsaXplIG5vZGVcclxuICBjcmVhdGU6ICdlbGxpcHNlJ1xyXG5cclxuICAvLyBJbmhlcml0IGZyb21cclxuLCBpbmhlcml0OiBTVkcuU2hhcGVcclxuXHJcbiAgLy8gQWRkIHBhcmVudCBtZXRob2RcclxuLCBjb25zdHJ1Y3Q6IHtcclxuICAgIC8vIENyZWF0ZSBhbiBlbGxpcHNlXHJcbiAgICBlbGxpcHNlOiBmdW5jdGlvbih3aWR0aCwgaGVpZ2h0KSB7XHJcbiAgICAgIHJldHVybiB0aGlzLnB1dChuZXcgU1ZHLkVsbGlwc2UpLnNpemUod2lkdGgsIGhlaWdodCkubW92ZSgwLCAwKVxyXG4gICAgfVxyXG4gIH1cclxufSlcclxuXHJcblNWRy5leHRlbmQoU1ZHLkVsbGlwc2UsIFNWRy5SZWN0LCBTVkcuRlgsIHtcclxuICAvLyBSYWRpdXMgeCB2YWx1ZVxyXG4gIHJ4OiBmdW5jdGlvbihyeCkge1xyXG4gICAgcmV0dXJuIHRoaXMuYXR0cigncngnLCByeClcclxuICB9XHJcbiAgLy8gUmFkaXVzIHkgdmFsdWVcclxuLCByeTogZnVuY3Rpb24ocnkpIHtcclxuICAgIHJldHVybiB0aGlzLmF0dHIoJ3J5JywgcnkpXHJcbiAgfVxyXG59KVxyXG5cclxuLy8gQWRkIGNvbW1vbiBtZXRob2RcclxuU1ZHLmV4dGVuZChTVkcuQ2lyY2xlLCBTVkcuRWxsaXBzZSwge1xyXG4gICAgLy8gTW92ZSBvdmVyIHgtYXhpc1xyXG4gICAgeDogZnVuY3Rpb24oeCkge1xyXG4gICAgICByZXR1cm4geCA9PSBudWxsID8gdGhpcy5jeCgpIC0gdGhpcy5yeCgpIDogdGhpcy5jeCh4ICsgdGhpcy5yeCgpKVxyXG4gICAgfVxyXG4gICAgLy8gTW92ZSBvdmVyIHktYXhpc1xyXG4gICwgeTogZnVuY3Rpb24oeSkge1xyXG4gICAgICByZXR1cm4geSA9PSBudWxsID8gdGhpcy5jeSgpIC0gdGhpcy5yeSgpIDogdGhpcy5jeSh5ICsgdGhpcy5yeSgpKVxyXG4gICAgfVxyXG4gICAgLy8gTW92ZSBieSBjZW50ZXIgb3ZlciB4LWF4aXNcclxuICAsIGN4OiBmdW5jdGlvbih4KSB7XHJcbiAgICAgIHJldHVybiB4ID09IG51bGwgPyB0aGlzLmF0dHIoJ2N4JykgOiB0aGlzLmF0dHIoJ2N4JywgeClcclxuICAgIH1cclxuICAgIC8vIE1vdmUgYnkgY2VudGVyIG92ZXIgeS1heGlzXHJcbiAgLCBjeTogZnVuY3Rpb24oeSkge1xyXG4gICAgICByZXR1cm4geSA9PSBudWxsID8gdGhpcy5hdHRyKCdjeScpIDogdGhpcy5hdHRyKCdjeScsIHkpXHJcbiAgICB9XHJcbiAgICAvLyBTZXQgd2lkdGggb2YgZWxlbWVudFxyXG4gICwgd2lkdGg6IGZ1bmN0aW9uKHdpZHRoKSB7XHJcbiAgICAgIHJldHVybiB3aWR0aCA9PSBudWxsID8gdGhpcy5yeCgpICogMiA6IHRoaXMucngobmV3IFNWRy5OdW1iZXIod2lkdGgpLmRpdmlkZSgyKSlcclxuICAgIH1cclxuICAgIC8vIFNldCBoZWlnaHQgb2YgZWxlbWVudFxyXG4gICwgaGVpZ2h0OiBmdW5jdGlvbihoZWlnaHQpIHtcclxuICAgICAgcmV0dXJuIGhlaWdodCA9PSBudWxsID8gdGhpcy5yeSgpICogMiA6IHRoaXMucnkobmV3IFNWRy5OdW1iZXIoaGVpZ2h0KS5kaXZpZGUoMikpXHJcbiAgICB9XHJcbiAgICAvLyBDdXN0b20gc2l6ZSBmdW5jdGlvblxyXG4gICwgc2l6ZTogZnVuY3Rpb24od2lkdGgsIGhlaWdodCkge1xyXG4gICAgICB2YXIgcCA9IHByb3BvcnRpb25hbFNpemUodGhpcywgd2lkdGgsIGhlaWdodClcclxuXHJcbiAgICAgIHJldHVybiB0aGlzXHJcbiAgICAgICAgLnJ4KG5ldyBTVkcuTnVtYmVyKHAud2lkdGgpLmRpdmlkZSgyKSlcclxuICAgICAgICAucnkobmV3IFNWRy5OdW1iZXIocC5oZWlnaHQpLmRpdmlkZSgyKSlcclxuICAgIH1cclxufSlcblNWRy5MaW5lID0gU1ZHLmludmVudCh7XHJcbiAgLy8gSW5pdGlhbGl6ZSBub2RlXHJcbiAgY3JlYXRlOiAnbGluZSdcclxuXHJcbiAgLy8gSW5oZXJpdCBmcm9tXHJcbiwgaW5oZXJpdDogU1ZHLlNoYXBlXHJcblxyXG4gIC8vIEFkZCBjbGFzcyBtZXRob2RzXHJcbiwgZXh0ZW5kOiB7XHJcbiAgICAvLyBHZXQgYXJyYXlcclxuICAgIGFycmF5OiBmdW5jdGlvbigpIHtcclxuICAgICAgcmV0dXJuIG5ldyBTVkcuUG9pbnRBcnJheShbXHJcbiAgICAgICAgWyB0aGlzLmF0dHIoJ3gxJyksIHRoaXMuYXR0cigneTEnKSBdXHJcbiAgICAgICwgWyB0aGlzLmF0dHIoJ3gyJyksIHRoaXMuYXR0cigneTInKSBdXHJcbiAgICAgIF0pXHJcbiAgICB9XHJcbiAgICAvLyBPdmVyd3JpdGUgbmF0aXZlIHBsb3QoKSBtZXRob2RcclxuICAsIHBsb3Q6IGZ1bmN0aW9uKHgxLCB5MSwgeDIsIHkyKSB7XHJcbiAgICAgIGlmICh4MSA9PSBudWxsKVxyXG4gICAgICAgIHJldHVybiB0aGlzLmFycmF5KClcclxuICAgICAgZWxzZSBpZiAodHlwZW9mIHkxICE9PSAndW5kZWZpbmVkJylcclxuICAgICAgICB4MSA9IHsgeDE6IHgxLCB5MTogeTEsIHgyOiB4MiwgeTI6IHkyIH1cclxuICAgICAgZWxzZVxyXG4gICAgICAgIHgxID0gbmV3IFNWRy5Qb2ludEFycmF5KHgxKS50b0xpbmUoKVxyXG5cclxuICAgICAgcmV0dXJuIHRoaXMuYXR0cih4MSlcclxuICAgIH1cclxuICAgIC8vIE1vdmUgYnkgbGVmdCB0b3AgY29ybmVyXHJcbiAgLCBtb3ZlOiBmdW5jdGlvbih4LCB5KSB7XHJcbiAgICAgIHJldHVybiB0aGlzLmF0dHIodGhpcy5hcnJheSgpLm1vdmUoeCwgeSkudG9MaW5lKCkpXHJcbiAgICB9XHJcbiAgICAvLyBTZXQgZWxlbWVudCBzaXplIHRvIGdpdmVuIHdpZHRoIGFuZCBoZWlnaHRcclxuICAsIHNpemU6IGZ1bmN0aW9uKHdpZHRoLCBoZWlnaHQpIHtcclxuICAgICAgdmFyIHAgPSBwcm9wb3J0aW9uYWxTaXplKHRoaXMsIHdpZHRoLCBoZWlnaHQpXHJcblxyXG4gICAgICByZXR1cm4gdGhpcy5hdHRyKHRoaXMuYXJyYXkoKS5zaXplKHAud2lkdGgsIHAuaGVpZ2h0KS50b0xpbmUoKSlcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIEFkZCBwYXJlbnQgbWV0aG9kXHJcbiwgY29uc3RydWN0OiB7XHJcbiAgICAvLyBDcmVhdGUgYSBsaW5lIGVsZW1lbnRcclxuICAgIGxpbmU6IGZ1bmN0aW9uKHgxLCB5MSwgeDIsIHkyKSB7XHJcbiAgICAgIC8vIG1ha2Ugc3VyZSBwbG90IGlzIGNhbGxlZCBhcyBhIHNldHRlclxyXG4gICAgICAvLyB4MSBpcyBub3QgbmVjZXNzYXJpbHkgYSBudW1iZXIsIGl0IGNhbiBhbHNvIGJlIGFuIGFycmF5LCBhIHN0cmluZyBhbmQgYSBTVkcuUG9pbnRBcnJheVxyXG4gICAgICByZXR1cm4gU1ZHLkxpbmUucHJvdG90eXBlLnBsb3QuYXBwbHkoXHJcbiAgICAgICAgdGhpcy5wdXQobmV3IFNWRy5MaW5lKVxyXG4gICAgICAsIHgxICE9IG51bGwgPyBbeDEsIHkxLCB4MiwgeTJdIDogWzAsIDAsIDAsIDBdXHJcbiAgICAgIClcclxuICAgIH1cclxuICB9XHJcbn0pXHJcblxuU1ZHLlBvbHlsaW5lID0gU1ZHLmludmVudCh7XHJcbiAgLy8gSW5pdGlhbGl6ZSBub2RlXHJcbiAgY3JlYXRlOiAncG9seWxpbmUnXHJcblxyXG4gIC8vIEluaGVyaXQgZnJvbVxyXG4sIGluaGVyaXQ6IFNWRy5TaGFwZVxyXG5cclxuICAvLyBBZGQgcGFyZW50IG1ldGhvZFxyXG4sIGNvbnN0cnVjdDoge1xyXG4gICAgLy8gQ3JlYXRlIGEgd3JhcHBlZCBwb2x5bGluZSBlbGVtZW50XHJcbiAgICBwb2x5bGluZTogZnVuY3Rpb24ocCkge1xyXG4gICAgICAvLyBtYWtlIHN1cmUgcGxvdCBpcyBjYWxsZWQgYXMgYSBzZXR0ZXJcclxuICAgICAgcmV0dXJuIHRoaXMucHV0KG5ldyBTVkcuUG9seWxpbmUpLnBsb3QocCB8fCBuZXcgU1ZHLlBvaW50QXJyYXkpXHJcbiAgICB9XHJcbiAgfVxyXG59KVxyXG5cclxuU1ZHLlBvbHlnb24gPSBTVkcuaW52ZW50KHtcclxuICAvLyBJbml0aWFsaXplIG5vZGVcclxuICBjcmVhdGU6ICdwb2x5Z29uJ1xyXG5cclxuICAvLyBJbmhlcml0IGZyb21cclxuLCBpbmhlcml0OiBTVkcuU2hhcGVcclxuXHJcbiAgLy8gQWRkIHBhcmVudCBtZXRob2RcclxuLCBjb25zdHJ1Y3Q6IHtcclxuICAgIC8vIENyZWF0ZSBhIHdyYXBwZWQgcG9seWdvbiBlbGVtZW50XHJcbiAgICBwb2x5Z29uOiBmdW5jdGlvbihwKSB7XHJcbiAgICAgIC8vIG1ha2Ugc3VyZSBwbG90IGlzIGNhbGxlZCBhcyBhIHNldHRlclxyXG4gICAgICByZXR1cm4gdGhpcy5wdXQobmV3IFNWRy5Qb2x5Z29uKS5wbG90KHAgfHwgbmV3IFNWRy5Qb2ludEFycmF5KVxyXG4gICAgfVxyXG4gIH1cclxufSlcclxuXHJcbi8vIEFkZCBwb2x5Z29uLXNwZWNpZmljIGZ1bmN0aW9uc1xyXG5TVkcuZXh0ZW5kKFNWRy5Qb2x5bGluZSwgU1ZHLlBvbHlnb24sIHtcclxuICAvLyBHZXQgYXJyYXlcclxuICBhcnJheTogZnVuY3Rpb24oKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fYXJyYXkgfHwgKHRoaXMuX2FycmF5ID0gbmV3IFNWRy5Qb2ludEFycmF5KHRoaXMuYXR0cigncG9pbnRzJykpKVxyXG4gIH1cclxuICAvLyBQbG90IG5ldyBwYXRoXHJcbiwgcGxvdDogZnVuY3Rpb24ocCkge1xyXG4gICAgcmV0dXJuIChwID09IG51bGwpID9cclxuICAgICAgdGhpcy5hcnJheSgpIDpcclxuICAgICAgdGhpcy5jbGVhcigpLmF0dHIoJ3BvaW50cycsIHR5cGVvZiBwID09ICdzdHJpbmcnID8gcCA6ICh0aGlzLl9hcnJheSA9IG5ldyBTVkcuUG9pbnRBcnJheShwKSkpXHJcbiAgfVxyXG4gIC8vIENsZWFyIGFycmF5IGNhY2hlXHJcbiwgY2xlYXI6IGZ1bmN0aW9uKCkge1xyXG4gICAgZGVsZXRlIHRoaXMuX2FycmF5XHJcbiAgICByZXR1cm4gdGhpc1xyXG4gIH1cclxuICAvLyBNb3ZlIGJ5IGxlZnQgdG9wIGNvcm5lclxyXG4sIG1vdmU6IGZ1bmN0aW9uKHgsIHkpIHtcclxuICAgIHJldHVybiB0aGlzLmF0dHIoJ3BvaW50cycsIHRoaXMuYXJyYXkoKS5tb3ZlKHgsIHkpKVxyXG4gIH1cclxuICAvLyBTZXQgZWxlbWVudCBzaXplIHRvIGdpdmVuIHdpZHRoIGFuZCBoZWlnaHRcclxuLCBzaXplOiBmdW5jdGlvbih3aWR0aCwgaGVpZ2h0KSB7XHJcbiAgICB2YXIgcCA9IHByb3BvcnRpb25hbFNpemUodGhpcywgd2lkdGgsIGhlaWdodClcclxuXHJcbiAgICByZXR1cm4gdGhpcy5hdHRyKCdwb2ludHMnLCB0aGlzLmFycmF5KCkuc2l6ZShwLndpZHRoLCBwLmhlaWdodCkpXHJcbiAgfVxyXG5cclxufSlcclxuXG4vLyB1bmlmeSBhbGwgcG9pbnQgdG8gcG9pbnQgZWxlbWVudHNcclxuU1ZHLmV4dGVuZChTVkcuTGluZSwgU1ZHLlBvbHlsaW5lLCBTVkcuUG9seWdvbiwge1xyXG4gIC8vIERlZmluZSBtb3JwaGFibGUgYXJyYXlcclxuICBtb3JwaEFycmF5OiAgU1ZHLlBvaW50QXJyYXlcclxuICAvLyBNb3ZlIGJ5IGxlZnQgdG9wIGNvcm5lciBvdmVyIHgtYXhpc1xyXG4sIHg6IGZ1bmN0aW9uKHgpIHtcclxuICAgIHJldHVybiB4ID09IG51bGwgPyB0aGlzLmJib3goKS54IDogdGhpcy5tb3ZlKHgsIHRoaXMuYmJveCgpLnkpXHJcbiAgfVxyXG4gIC8vIE1vdmUgYnkgbGVmdCB0b3AgY29ybmVyIG92ZXIgeS1heGlzXHJcbiwgeTogZnVuY3Rpb24oeSkge1xyXG4gICAgcmV0dXJuIHkgPT0gbnVsbCA/IHRoaXMuYmJveCgpLnkgOiB0aGlzLm1vdmUodGhpcy5iYm94KCkueCwgeSlcclxuICB9XHJcbiAgLy8gU2V0IHdpZHRoIG9mIGVsZW1lbnRcclxuLCB3aWR0aDogZnVuY3Rpb24od2lkdGgpIHtcclxuICAgIHZhciBiID0gdGhpcy5iYm94KClcclxuXHJcbiAgICByZXR1cm4gd2lkdGggPT0gbnVsbCA/IGIud2lkdGggOiB0aGlzLnNpemUod2lkdGgsIGIuaGVpZ2h0KVxyXG4gIH1cclxuICAvLyBTZXQgaGVpZ2h0IG9mIGVsZW1lbnRcclxuLCBoZWlnaHQ6IGZ1bmN0aW9uKGhlaWdodCkge1xyXG4gICAgdmFyIGIgPSB0aGlzLmJib3goKVxyXG5cclxuICAgIHJldHVybiBoZWlnaHQgPT0gbnVsbCA/IGIuaGVpZ2h0IDogdGhpcy5zaXplKGIud2lkdGgsIGhlaWdodClcclxuICB9XHJcbn0pXG5TVkcuUGF0aCA9IFNWRy5pbnZlbnQoe1xyXG4gIC8vIEluaXRpYWxpemUgbm9kZVxyXG4gIGNyZWF0ZTogJ3BhdGgnXHJcblxyXG4gIC8vIEluaGVyaXQgZnJvbVxyXG4sIGluaGVyaXQ6IFNWRy5TaGFwZVxyXG5cclxuICAvLyBBZGQgY2xhc3MgbWV0aG9kc1xyXG4sIGV4dGVuZDoge1xyXG4gICAgLy8gRGVmaW5lIG1vcnBoYWJsZSBhcnJheVxyXG4gICAgbW9ycGhBcnJheTogIFNWRy5QYXRoQXJyYXlcclxuICAgIC8vIEdldCBhcnJheVxyXG4gICwgYXJyYXk6IGZ1bmN0aW9uKCkge1xyXG4gICAgICByZXR1cm4gdGhpcy5fYXJyYXkgfHwgKHRoaXMuX2FycmF5ID0gbmV3IFNWRy5QYXRoQXJyYXkodGhpcy5hdHRyKCdkJykpKVxyXG4gICAgfVxyXG4gICAgLy8gUGxvdCBuZXcgcGF0aFxyXG4gICwgcGxvdDogZnVuY3Rpb24oZCkge1xyXG4gICAgICByZXR1cm4gKGQgPT0gbnVsbCkgP1xyXG4gICAgICAgIHRoaXMuYXJyYXkoKSA6XHJcbiAgICAgICAgdGhpcy5jbGVhcigpLmF0dHIoJ2QnLCB0eXBlb2YgZCA9PSAnc3RyaW5nJyA/IGQgOiAodGhpcy5fYXJyYXkgPSBuZXcgU1ZHLlBhdGhBcnJheShkKSkpXHJcbiAgICB9XHJcbiAgICAvLyBDbGVhciBhcnJheSBjYWNoZVxyXG4gICwgY2xlYXI6IGZ1bmN0aW9uKCkge1xyXG4gICAgICBkZWxldGUgdGhpcy5fYXJyYXlcclxuICAgICAgcmV0dXJuIHRoaXNcclxuICAgIH1cclxuICAgIC8vIE1vdmUgYnkgbGVmdCB0b3AgY29ybmVyXHJcbiAgLCBtb3ZlOiBmdW5jdGlvbih4LCB5KSB7XHJcbiAgICAgIHJldHVybiB0aGlzLmF0dHIoJ2QnLCB0aGlzLmFycmF5KCkubW92ZSh4LCB5KSlcclxuICAgIH1cclxuICAgIC8vIE1vdmUgYnkgbGVmdCB0b3AgY29ybmVyIG92ZXIgeC1heGlzXHJcbiAgLCB4OiBmdW5jdGlvbih4KSB7XHJcbiAgICAgIHJldHVybiB4ID09IG51bGwgPyB0aGlzLmJib3goKS54IDogdGhpcy5tb3ZlKHgsIHRoaXMuYmJveCgpLnkpXHJcbiAgICB9XHJcbiAgICAvLyBNb3ZlIGJ5IGxlZnQgdG9wIGNvcm5lciBvdmVyIHktYXhpc1xyXG4gICwgeTogZnVuY3Rpb24oeSkge1xyXG4gICAgICByZXR1cm4geSA9PSBudWxsID8gdGhpcy5iYm94KCkueSA6IHRoaXMubW92ZSh0aGlzLmJib3goKS54LCB5KVxyXG4gICAgfVxyXG4gICAgLy8gU2V0IGVsZW1lbnQgc2l6ZSB0byBnaXZlbiB3aWR0aCBhbmQgaGVpZ2h0XHJcbiAgLCBzaXplOiBmdW5jdGlvbih3aWR0aCwgaGVpZ2h0KSB7XHJcbiAgICAgIHZhciBwID0gcHJvcG9ydGlvbmFsU2l6ZSh0aGlzLCB3aWR0aCwgaGVpZ2h0KVxyXG5cclxuICAgICAgcmV0dXJuIHRoaXMuYXR0cignZCcsIHRoaXMuYXJyYXkoKS5zaXplKHAud2lkdGgsIHAuaGVpZ2h0KSlcclxuICAgIH1cclxuICAgIC8vIFNldCB3aWR0aCBvZiBlbGVtZW50XHJcbiAgLCB3aWR0aDogZnVuY3Rpb24od2lkdGgpIHtcclxuICAgICAgcmV0dXJuIHdpZHRoID09IG51bGwgPyB0aGlzLmJib3goKS53aWR0aCA6IHRoaXMuc2l6ZSh3aWR0aCwgdGhpcy5iYm94KCkuaGVpZ2h0KVxyXG4gICAgfVxyXG4gICAgLy8gU2V0IGhlaWdodCBvZiBlbGVtZW50XHJcbiAgLCBoZWlnaHQ6IGZ1bmN0aW9uKGhlaWdodCkge1xyXG4gICAgICByZXR1cm4gaGVpZ2h0ID09IG51bGwgPyB0aGlzLmJib3goKS5oZWlnaHQgOiB0aGlzLnNpemUodGhpcy5iYm94KCkud2lkdGgsIGhlaWdodClcclxuICAgIH1cclxuXHJcbiAgfVxyXG5cclxuICAvLyBBZGQgcGFyZW50IG1ldGhvZFxyXG4sIGNvbnN0cnVjdDoge1xyXG4gICAgLy8gQ3JlYXRlIGEgd3JhcHBlZCBwYXRoIGVsZW1lbnRcclxuICAgIHBhdGg6IGZ1bmN0aW9uKGQpIHtcclxuICAgICAgLy8gbWFrZSBzdXJlIHBsb3QgaXMgY2FsbGVkIGFzIGEgc2V0dGVyXHJcbiAgICAgIHJldHVybiB0aGlzLnB1dChuZXcgU1ZHLlBhdGgpLnBsb3QoZCB8fCBuZXcgU1ZHLlBhdGhBcnJheSlcclxuICAgIH1cclxuICB9XHJcbn0pXHJcblxuU1ZHLkltYWdlID0gU1ZHLmludmVudCh7XHJcbiAgLy8gSW5pdGlhbGl6ZSBub2RlXHJcbiAgY3JlYXRlOiAnaW1hZ2UnXHJcblxyXG4gIC8vIEluaGVyaXQgZnJvbVxyXG4sIGluaGVyaXQ6IFNWRy5TaGFwZVxyXG5cclxuICAvLyBBZGQgY2xhc3MgbWV0aG9kc1xyXG4sIGV4dGVuZDoge1xyXG4gICAgLy8gKHJlKWxvYWQgaW1hZ2VcclxuICAgIGxvYWQ6IGZ1bmN0aW9uKHVybCkge1xyXG4gICAgICBpZiAoIXVybCkgcmV0dXJuIHRoaXNcclxuXHJcbiAgICAgIHZhciBzZWxmID0gdGhpc1xyXG4gICAgICAgICwgaW1nICA9IG5ldyB3aW5kb3cuSW1hZ2UoKVxyXG5cclxuICAgICAgLy8gcHJlbG9hZCBpbWFnZVxyXG4gICAgICBTVkcub24oaW1nLCAnbG9hZCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIFNWRy5vZmYoaW1nKVxyXG5cclxuICAgICAgICB2YXIgcCA9IHNlbGYucGFyZW50KFNWRy5QYXR0ZXJuKVxyXG5cclxuICAgICAgICBpZihwID09PSBudWxsKSByZXR1cm5cclxuXHJcbiAgICAgICAgLy8gZW5zdXJlIGltYWdlIHNpemVcclxuICAgICAgICBpZiAoc2VsZi53aWR0aCgpID09IDAgJiYgc2VsZi5oZWlnaHQoKSA9PSAwKVxyXG4gICAgICAgICAgc2VsZi5zaXplKGltZy53aWR0aCwgaW1nLmhlaWdodClcclxuXHJcbiAgICAgICAgLy8gZW5zdXJlIHBhdHRlcm4gc2l6ZSBpZiBub3Qgc2V0XHJcbiAgICAgICAgaWYgKHAgJiYgcC53aWR0aCgpID09IDAgJiYgcC5oZWlnaHQoKSA9PSAwKVxyXG4gICAgICAgICAgcC5zaXplKHNlbGYud2lkdGgoKSwgc2VsZi5oZWlnaHQoKSlcclxuXHJcbiAgICAgICAgLy8gY2FsbGJhY2tcclxuICAgICAgICBpZiAodHlwZW9mIHNlbGYuX2xvYWRlZCA9PT0gJ2Z1bmN0aW9uJylcclxuICAgICAgICAgIHNlbGYuX2xvYWRlZC5jYWxsKHNlbGYsIHtcclxuICAgICAgICAgICAgd2lkdGg6ICBpbWcud2lkdGhcclxuICAgICAgICAgICwgaGVpZ2h0OiBpbWcuaGVpZ2h0XHJcbiAgICAgICAgICAsIHJhdGlvOiAgaW1nLndpZHRoIC8gaW1nLmhlaWdodFxyXG4gICAgICAgICAgLCB1cmw6ICAgIHVybFxyXG4gICAgICAgICAgfSlcclxuICAgICAgfSlcclxuXHJcbiAgICAgIFNWRy5vbihpbWcsICdlcnJvcicsIGZ1bmN0aW9uKGUpe1xyXG4gICAgICAgIFNWRy5vZmYoaW1nKVxyXG5cclxuICAgICAgICBpZiAodHlwZW9mIHNlbGYuX2Vycm9yID09PSAnZnVuY3Rpb24nKXtcclxuICAgICAgICAgICAgc2VsZi5fZXJyb3IuY2FsbChzZWxmLCBlKVxyXG4gICAgICAgIH1cclxuICAgICAgfSlcclxuXHJcbiAgICAgIHJldHVybiB0aGlzLmF0dHIoJ2hyZWYnLCAoaW1nLnNyYyA9IHRoaXMuc3JjID0gdXJsKSwgU1ZHLnhsaW5rKVxyXG4gICAgfVxyXG4gICAgLy8gQWRkIGxvYWRlZCBjYWxsYmFja1xyXG4gICwgbG9hZGVkOiBmdW5jdGlvbihsb2FkZWQpIHtcclxuICAgICAgdGhpcy5fbG9hZGVkID0gbG9hZGVkXHJcbiAgICAgIHJldHVybiB0aGlzXHJcbiAgICB9XHJcblxyXG4gICwgZXJyb3I6IGZ1bmN0aW9uKGVycm9yKSB7XHJcbiAgICAgIHRoaXMuX2Vycm9yID0gZXJyb3JcclxuICAgICAgcmV0dXJuIHRoaXNcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIEFkZCBwYXJlbnQgbWV0aG9kXHJcbiwgY29uc3RydWN0OiB7XHJcbiAgICAvLyBjcmVhdGUgaW1hZ2UgZWxlbWVudCwgbG9hZCBpbWFnZSBhbmQgc2V0IGl0cyBzaXplXHJcbiAgICBpbWFnZTogZnVuY3Rpb24oc291cmNlLCB3aWR0aCwgaGVpZ2h0KSB7XHJcbiAgICAgIHJldHVybiB0aGlzLnB1dChuZXcgU1ZHLkltYWdlKS5sb2FkKHNvdXJjZSkuc2l6ZSh3aWR0aCB8fCAwLCBoZWlnaHQgfHwgd2lkdGggfHwgMClcclxuICAgIH1cclxuICB9XHJcblxyXG59KVxuU1ZHLlRleHQgPSBTVkcuaW52ZW50KHtcclxuICAvLyBJbml0aWFsaXplIG5vZGVcclxuICBjcmVhdGU6IGZ1bmN0aW9uKCkge1xyXG4gICAgdGhpcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsIFNWRy5jcmVhdGUoJ3RleHQnKSlcclxuXHJcbiAgICB0aGlzLmRvbS5sZWFkaW5nID0gbmV3IFNWRy5OdW1iZXIoMS4zKSAgICAvLyBzdG9yZSBsZWFkaW5nIHZhbHVlIGZvciByZWJ1aWxkaW5nXHJcbiAgICB0aGlzLl9yZWJ1aWxkID0gdHJ1ZSAgICAgICAgICAgICAgICAgICAgICAvLyBlbmFibGUgYXV0b21hdGljIHVwZGF0aW5nIG9mIGR5IHZhbHVlc1xyXG4gICAgdGhpcy5fYnVpbGQgICA9IGZhbHNlICAgICAgICAgICAgICAgICAgICAgLy8gZGlzYWJsZSBidWlsZCBtb2RlIGZvciBhZGRpbmcgbXVsdGlwbGUgbGluZXNcclxuXHJcbiAgICAvLyBzZXQgZGVmYXVsdCBmb250XHJcbiAgICB0aGlzLmF0dHIoJ2ZvbnQtZmFtaWx5JywgU1ZHLmRlZmF1bHRzLmF0dHJzWydmb250LWZhbWlseSddKVxyXG4gIH1cclxuXHJcbiAgLy8gSW5oZXJpdCBmcm9tXHJcbiwgaW5oZXJpdDogU1ZHLlNoYXBlXHJcblxyXG4gIC8vIEFkZCBjbGFzcyBtZXRob2RzXHJcbiwgZXh0ZW5kOiB7XHJcbiAgICAvLyBNb3ZlIG92ZXIgeC1heGlzXHJcbiAgICB4OiBmdW5jdGlvbih4KSB7XHJcbiAgICAgIC8vIGFjdCBhcyBnZXR0ZXJcclxuICAgICAgaWYgKHggPT0gbnVsbClcclxuICAgICAgICByZXR1cm4gdGhpcy5hdHRyKCd4JylcclxuXHJcbiAgICAgIHJldHVybiB0aGlzLmF0dHIoJ3gnLCB4KVxyXG4gICAgfVxyXG4gICAgLy8gTW92ZSBvdmVyIHktYXhpc1xyXG4gICwgeTogZnVuY3Rpb24oeSkge1xyXG4gICAgICB2YXIgb3kgPSB0aGlzLmF0dHIoJ3knKVxyXG4gICAgICAgICwgbyAgPSB0eXBlb2Ygb3kgPT09ICdudW1iZXInID8gb3kgLSB0aGlzLmJib3goKS55IDogMFxyXG5cclxuICAgICAgLy8gYWN0IGFzIGdldHRlclxyXG4gICAgICBpZiAoeSA9PSBudWxsKVxyXG4gICAgICAgIHJldHVybiB0eXBlb2Ygb3kgPT09ICdudW1iZXInID8gb3kgLSBvIDogb3lcclxuXHJcbiAgICAgIHJldHVybiB0aGlzLmF0dHIoJ3knLCB0eXBlb2YgeS52YWx1ZU9mKCkgPT09ICdudW1iZXInID8geSArIG8gOiB5KVxyXG4gICAgfVxyXG4gICAgLy8gTW92ZSBjZW50ZXIgb3ZlciB4LWF4aXNcclxuICAsIGN4OiBmdW5jdGlvbih4KSB7XHJcbiAgICAgIHJldHVybiB4ID09IG51bGwgPyB0aGlzLmJib3goKS5jeCA6IHRoaXMueCh4IC0gdGhpcy5iYm94KCkud2lkdGggLyAyKVxyXG4gICAgfVxyXG4gICAgLy8gTW92ZSBjZW50ZXIgb3ZlciB5LWF4aXNcclxuICAsIGN5OiBmdW5jdGlvbih5KSB7XHJcbiAgICAgIHJldHVybiB5ID09IG51bGwgPyB0aGlzLmJib3goKS5jeSA6IHRoaXMueSh5IC0gdGhpcy5iYm94KCkuaGVpZ2h0IC8gMilcclxuICAgIH1cclxuICAgIC8vIFNldCB0aGUgdGV4dCBjb250ZW50XHJcbiAgLCB0ZXh0OiBmdW5jdGlvbih0ZXh0KSB7XHJcbiAgICAgIC8vIGFjdCBhcyBnZXR0ZXJcclxuICAgICAgaWYgKHR5cGVvZiB0ZXh0ID09PSAndW5kZWZpbmVkJyl7XHJcbiAgICAgICAgdmFyIHRleHQgPSAnJ1xyXG4gICAgICAgIHZhciBjaGlsZHJlbiA9IHRoaXMubm9kZS5jaGlsZE5vZGVzXHJcbiAgICAgICAgZm9yKHZhciBpID0gMCwgbGVuID0gY2hpbGRyZW4ubGVuZ3RoOyBpIDwgbGVuOyArK2kpe1xyXG5cclxuICAgICAgICAgIC8vIGFkZCBuZXdsaW5lIGlmIGl0cyBub3QgdGhlIGZpcnN0IGNoaWxkIGFuZCBuZXdMaW5lZCBpcyBzZXQgdG8gdHJ1ZVxyXG4gICAgICAgICAgaWYoaSAhPSAwICYmIGNoaWxkcmVuW2ldLm5vZGVUeXBlICE9IDMgJiYgU1ZHLmFkb3B0KGNoaWxkcmVuW2ldKS5kb20ubmV3TGluZWQgPT0gdHJ1ZSl7XHJcbiAgICAgICAgICAgIHRleHQgKz0gJ1xcbidcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAvLyBhZGQgY29udGVudCBvZiB0aGlzIG5vZGVcclxuICAgICAgICAgIHRleHQgKz0gY2hpbGRyZW5baV0udGV4dENvbnRlbnRcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB0ZXh0XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIHJlbW92ZSBleGlzdGluZyBjb250ZW50XHJcbiAgICAgIHRoaXMuY2xlYXIoKS5idWlsZCh0cnVlKVxyXG5cclxuICAgICAgaWYgKHR5cGVvZiB0ZXh0ID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgLy8gY2FsbCBibG9ja1xyXG4gICAgICAgIHRleHQuY2FsbCh0aGlzLCB0aGlzKVxyXG5cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyBzdG9yZSB0ZXh0IGFuZCBtYWtlIHN1cmUgdGV4dCBpcyBub3QgYmxhbmtcclxuICAgICAgICB0ZXh0ID0gdGV4dC5zcGxpdCgnXFxuJylcclxuXHJcbiAgICAgICAgLy8gYnVpbGQgbmV3IGxpbmVzXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlsID0gdGV4dC5sZW5ndGg7IGkgPCBpbDsgaSsrKVxyXG4gICAgICAgICAgdGhpcy50c3Bhbih0ZXh0W2ldKS5uZXdMaW5lKClcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gZGlzYWJsZSBidWlsZCBtb2RlIGFuZCByZWJ1aWxkIGxpbmVzXHJcbiAgICAgIHJldHVybiB0aGlzLmJ1aWxkKGZhbHNlKS5yZWJ1aWxkKClcclxuICAgIH1cclxuICAgIC8vIFNldCBmb250IHNpemVcclxuICAsIHNpemU6IGZ1bmN0aW9uKHNpemUpIHtcclxuICAgICAgcmV0dXJuIHRoaXMuYXR0cignZm9udC1zaXplJywgc2l6ZSkucmVidWlsZCgpXHJcbiAgICB9XHJcbiAgICAvLyBTZXQgLyBnZXQgbGVhZGluZ1xyXG4gICwgbGVhZGluZzogZnVuY3Rpb24odmFsdWUpIHtcclxuICAgICAgLy8gYWN0IGFzIGdldHRlclxyXG4gICAgICBpZiAodmFsdWUgPT0gbnVsbClcclxuICAgICAgICByZXR1cm4gdGhpcy5kb20ubGVhZGluZ1xyXG5cclxuICAgICAgLy8gYWN0IGFzIHNldHRlclxyXG4gICAgICB0aGlzLmRvbS5sZWFkaW5nID0gbmV3IFNWRy5OdW1iZXIodmFsdWUpXHJcblxyXG4gICAgICByZXR1cm4gdGhpcy5yZWJ1aWxkKClcclxuICAgIH1cclxuICAgIC8vIEdldCBhbGwgdGhlIGZpcnN0IGxldmVsIGxpbmVzXHJcbiAgLCBsaW5lczogZnVuY3Rpb24oKSB7XHJcbiAgICAgIHZhciBub2RlID0gKHRoaXMudGV4dFBhdGggJiYgdGhpcy50ZXh0UGF0aCgpIHx8IHRoaXMpLm5vZGVcclxuXHJcbiAgICAgIC8vIGZpbHRlciB0c3BhbnMgYW5kIG1hcCB0aGVtIHRvIFNWRy5qcyBpbnN0YW5jZXNcclxuICAgICAgdmFyIGxpbmVzID0gU1ZHLnV0aWxzLm1hcChTVkcudXRpbHMuZmlsdGVyU1ZHRWxlbWVudHMobm9kZS5jaGlsZE5vZGVzKSwgZnVuY3Rpb24oZWwpe1xyXG4gICAgICAgIHJldHVybiBTVkcuYWRvcHQoZWwpXHJcbiAgICAgIH0pXHJcblxyXG4gICAgICAvLyByZXR1cm4gYW4gaW5zdGFuY2Ugb2YgU1ZHLnNldFxyXG4gICAgICByZXR1cm4gbmV3IFNWRy5TZXQobGluZXMpXHJcbiAgICB9XHJcbiAgICAvLyBSZWJ1aWxkIGFwcGVhcmFuY2UgdHlwZVxyXG4gICwgcmVidWlsZDogZnVuY3Rpb24ocmVidWlsZCkge1xyXG4gICAgICAvLyBzdG9yZSBuZXcgcmVidWlsZCBmbGFnIGlmIGdpdmVuXHJcbiAgICAgIGlmICh0eXBlb2YgcmVidWlsZCA9PSAnYm9vbGVhbicpXHJcbiAgICAgICAgdGhpcy5fcmVidWlsZCA9IHJlYnVpbGRcclxuXHJcbiAgICAgIC8vIGRlZmluZSBwb3NpdGlvbiBvZiBhbGwgbGluZXNcclxuICAgICAgaWYgKHRoaXMuX3JlYnVpbGQpIHtcclxuICAgICAgICB2YXIgc2VsZiA9IHRoaXNcclxuICAgICAgICAgICwgYmxhbmtMaW5lT2Zmc2V0ID0gMFxyXG4gICAgICAgICAgLCBkeSA9IHRoaXMuZG9tLmxlYWRpbmcgKiBuZXcgU1ZHLk51bWJlcih0aGlzLmF0dHIoJ2ZvbnQtc2l6ZScpKVxyXG5cclxuICAgICAgICB0aGlzLmxpbmVzKCkuZWFjaChmdW5jdGlvbigpIHtcclxuICAgICAgICAgIGlmICh0aGlzLmRvbS5uZXdMaW5lZCkge1xyXG4gICAgICAgICAgICBpZiAoIXNlbGYudGV4dFBhdGgoKSlcclxuICAgICAgICAgICAgICB0aGlzLmF0dHIoJ3gnLCBzZWxmLmF0dHIoJ3gnKSlcclxuICAgICAgICAgICAgaWYodGhpcy50ZXh0KCkgPT0gJ1xcbicpIHtcclxuICAgICAgICAgICAgICBibGFua0xpbmVPZmZzZXQgKz0gZHlcclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgdGhpcy5hdHRyKCdkeScsIGR5ICsgYmxhbmtMaW5lT2Zmc2V0KVxyXG4gICAgICAgICAgICAgIGJsYW5rTGluZU9mZnNldCA9IDBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIHRoaXMuZmlyZSgncmVidWlsZCcpXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiB0aGlzXHJcbiAgICB9XHJcbiAgICAvLyBFbmFibGUgLyBkaXNhYmxlIGJ1aWxkIG1vZGVcclxuICAsIGJ1aWxkOiBmdW5jdGlvbihidWlsZCkge1xyXG4gICAgICB0aGlzLl9idWlsZCA9ICEhYnVpbGRcclxuICAgICAgcmV0dXJuIHRoaXNcclxuICAgIH1cclxuICAgIC8vIG92ZXJ3cml0ZSBtZXRob2QgZnJvbSBwYXJlbnQgdG8gc2V0IGRhdGEgcHJvcGVybHlcclxuICAsIHNldERhdGE6IGZ1bmN0aW9uKG8pe1xyXG4gICAgICB0aGlzLmRvbSA9IG9cclxuICAgICAgdGhpcy5kb20ubGVhZGluZyA9IG5ldyBTVkcuTnVtYmVyKG8ubGVhZGluZyB8fCAxLjMpXHJcbiAgICAgIHJldHVybiB0aGlzXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBBZGQgcGFyZW50IG1ldGhvZFxyXG4sIGNvbnN0cnVjdDoge1xyXG4gICAgLy8gQ3JlYXRlIHRleHQgZWxlbWVudFxyXG4gICAgdGV4dDogZnVuY3Rpb24odGV4dCkge1xyXG4gICAgICByZXR1cm4gdGhpcy5wdXQobmV3IFNWRy5UZXh0KS50ZXh0KHRleHQpXHJcbiAgICB9XHJcbiAgICAvLyBDcmVhdGUgcGxhaW4gdGV4dCBlbGVtZW50XHJcbiAgLCBwbGFpbjogZnVuY3Rpb24odGV4dCkge1xyXG4gICAgICByZXR1cm4gdGhpcy5wdXQobmV3IFNWRy5UZXh0KS5wbGFpbih0ZXh0KVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbn0pXHJcblxyXG5TVkcuVHNwYW4gPSBTVkcuaW52ZW50KHtcclxuICAvLyBJbml0aWFsaXplIG5vZGVcclxuICBjcmVhdGU6ICd0c3BhbidcclxuXHJcbiAgLy8gSW5oZXJpdCBmcm9tXHJcbiwgaW5oZXJpdDogU1ZHLlNoYXBlXHJcblxyXG4gIC8vIEFkZCBjbGFzcyBtZXRob2RzXHJcbiwgZXh0ZW5kOiB7XHJcbiAgICAvLyBTZXQgdGV4dCBjb250ZW50XHJcbiAgICB0ZXh0OiBmdW5jdGlvbih0ZXh0KSB7XHJcbiAgICAgIGlmKHRleHQgPT0gbnVsbCkgcmV0dXJuIHRoaXMubm9kZS50ZXh0Q29udGVudCArICh0aGlzLmRvbS5uZXdMaW5lZCA/ICdcXG4nIDogJycpXHJcblxyXG4gICAgICB0eXBlb2YgdGV4dCA9PT0gJ2Z1bmN0aW9uJyA/IHRleHQuY2FsbCh0aGlzLCB0aGlzKSA6IHRoaXMucGxhaW4odGV4dClcclxuXHJcbiAgICAgIHJldHVybiB0aGlzXHJcbiAgICB9XHJcbiAgICAvLyBTaG9ydGN1dCBkeFxyXG4gICwgZHg6IGZ1bmN0aW9uKGR4KSB7XHJcbiAgICAgIHJldHVybiB0aGlzLmF0dHIoJ2R4JywgZHgpXHJcbiAgICB9XHJcbiAgICAvLyBTaG9ydGN1dCBkeVxyXG4gICwgZHk6IGZ1bmN0aW9uKGR5KSB7XHJcbiAgICAgIHJldHVybiB0aGlzLmF0dHIoJ2R5JywgZHkpXHJcbiAgICB9XHJcbiAgICAvLyBDcmVhdGUgbmV3IGxpbmVcclxuICAsIG5ld0xpbmU6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAvLyBmZXRjaCB0ZXh0IHBhcmVudFxyXG4gICAgICB2YXIgdCA9IHRoaXMucGFyZW50KFNWRy5UZXh0KVxyXG5cclxuICAgICAgLy8gbWFyayBuZXcgbGluZVxyXG4gICAgICB0aGlzLmRvbS5uZXdMaW5lZCA9IHRydWVcclxuXHJcbiAgICAgIC8vIGFwcGx5IG5ldyBoecKhblxyXG4gICAgICByZXR1cm4gdGhpcy5keSh0LmRvbS5sZWFkaW5nICogdC5hdHRyKCdmb250LXNpemUnKSkuYXR0cigneCcsIHQueCgpKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbn0pXHJcblxyXG5TVkcuZXh0ZW5kKFNWRy5UZXh0LCBTVkcuVHNwYW4sIHtcclxuICAvLyBDcmVhdGUgcGxhaW4gdGV4dCBub2RlXHJcbiAgcGxhaW46IGZ1bmN0aW9uKHRleHQpIHtcclxuICAgIC8vIGNsZWFyIGlmIGJ1aWxkIG1vZGUgaXMgZGlzYWJsZWRcclxuICAgIGlmICh0aGlzLl9idWlsZCA9PT0gZmFsc2UpXHJcbiAgICAgIHRoaXMuY2xlYXIoKVxyXG5cclxuICAgIC8vIGNyZWF0ZSB0ZXh0IG5vZGVcclxuICAgIHRoaXMubm9kZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh0ZXh0KSlcclxuXHJcbiAgICByZXR1cm4gdGhpc1xyXG4gIH1cclxuICAvLyBDcmVhdGUgYSB0c3BhblxyXG4sIHRzcGFuOiBmdW5jdGlvbih0ZXh0KSB7XHJcbiAgICB2YXIgbm9kZSAgPSAodGhpcy50ZXh0UGF0aCAmJiB0aGlzLnRleHRQYXRoKCkgfHwgdGhpcykubm9kZVxyXG4gICAgICAsIHRzcGFuID0gbmV3IFNWRy5Uc3BhblxyXG5cclxuICAgIC8vIGNsZWFyIGlmIGJ1aWxkIG1vZGUgaXMgZGlzYWJsZWRcclxuICAgIGlmICh0aGlzLl9idWlsZCA9PT0gZmFsc2UpXHJcbiAgICAgIHRoaXMuY2xlYXIoKVxyXG5cclxuICAgIC8vIGFkZCBuZXcgdHNwYW5cclxuICAgIG5vZGUuYXBwZW5kQ2hpbGQodHNwYW4ubm9kZSlcclxuXHJcbiAgICByZXR1cm4gdHNwYW4udGV4dCh0ZXh0KVxyXG4gIH1cclxuICAvLyBDbGVhciBhbGwgbGluZXNcclxuLCBjbGVhcjogZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgbm9kZSA9ICh0aGlzLnRleHRQYXRoICYmIHRoaXMudGV4dFBhdGgoKSB8fCB0aGlzKS5ub2RlXHJcblxyXG4gICAgLy8gcmVtb3ZlIGV4aXN0aW5nIGNoaWxkIG5vZGVzXHJcbiAgICB3aGlsZSAobm9kZS5oYXNDaGlsZE5vZGVzKCkpXHJcbiAgICAgIG5vZGUucmVtb3ZlQ2hpbGQobm9kZS5sYXN0Q2hpbGQpXHJcblxyXG4gICAgcmV0dXJuIHRoaXNcclxuICB9XHJcbiAgLy8gR2V0IGxlbmd0aCBvZiB0ZXh0IGVsZW1lbnRcclxuLCBsZW5ndGg6IGZ1bmN0aW9uKCkge1xyXG4gICAgcmV0dXJuIHRoaXMubm9kZS5nZXRDb21wdXRlZFRleHRMZW5ndGgoKVxyXG4gIH1cclxufSlcclxuXG5TVkcuVGV4dFBhdGggPSBTVkcuaW52ZW50KHtcclxuICAvLyBJbml0aWFsaXplIG5vZGVcclxuICBjcmVhdGU6ICd0ZXh0UGF0aCdcclxuXHJcbiAgLy8gSW5oZXJpdCBmcm9tXHJcbiwgaW5oZXJpdDogU1ZHLlBhcmVudFxyXG5cclxuICAvLyBEZWZpbmUgcGFyZW50IGNsYXNzXHJcbiwgcGFyZW50OiBTVkcuVGV4dFxyXG5cclxuICAvLyBBZGQgcGFyZW50IG1ldGhvZFxyXG4sIGNvbnN0cnVjdDoge1xyXG4gICAgbW9ycGhBcnJheTogU1ZHLlBhdGhBcnJheVxyXG4gICAgLy8gQ3JlYXRlIHBhdGggZm9yIHRleHQgdG8gcnVuIG9uXHJcbiAgLCBwYXRoOiBmdW5jdGlvbihkKSB7XHJcbiAgICAgIC8vIGNyZWF0ZSB0ZXh0UGF0aCBlbGVtZW50XHJcbiAgICAgIHZhciBwYXRoICA9IG5ldyBTVkcuVGV4dFBhdGhcclxuICAgICAgICAsIHRyYWNrID0gdGhpcy5kb2MoKS5kZWZzKCkucGF0aChkKVxyXG5cclxuICAgICAgLy8gbW92ZSBsaW5lcyB0byB0ZXh0cGF0aFxyXG4gICAgICB3aGlsZSAodGhpcy5ub2RlLmhhc0NoaWxkTm9kZXMoKSlcclxuICAgICAgICBwYXRoLm5vZGUuYXBwZW5kQ2hpbGQodGhpcy5ub2RlLmZpcnN0Q2hpbGQpXHJcblxyXG4gICAgICAvLyBhZGQgdGV4dFBhdGggZWxlbWVudCBhcyBjaGlsZCBub2RlXHJcbiAgICAgIHRoaXMubm9kZS5hcHBlbmRDaGlsZChwYXRoLm5vZGUpXHJcblxyXG4gICAgICAvLyBsaW5rIHRleHRQYXRoIHRvIHBhdGggYW5kIGFkZCBjb250ZW50XHJcbiAgICAgIHBhdGguYXR0cignaHJlZicsICcjJyArIHRyYWNrLCBTVkcueGxpbmspXHJcblxyXG4gICAgICByZXR1cm4gdGhpc1xyXG4gICAgfVxyXG4gICAgLy8gcmV0dXJuIHRoZSBhcnJheSBvZiB0aGUgcGF0aCB0cmFjayBlbGVtZW50XHJcbiAgLCBhcnJheTogZnVuY3Rpb24oKSB7XHJcbiAgICAgIHZhciB0cmFjayA9IHRoaXMudHJhY2soKVxyXG5cclxuICAgICAgcmV0dXJuIHRyYWNrID8gdHJhY2suYXJyYXkoKSA6IG51bGxcclxuICAgIH1cclxuICAgIC8vIFBsb3QgcGF0aCBpZiBhbnlcclxuICAsIHBsb3Q6IGZ1bmN0aW9uKGQpIHtcclxuICAgICAgdmFyIHRyYWNrID0gdGhpcy50cmFjaygpXHJcbiAgICAgICAgLCBwYXRoQXJyYXkgPSBudWxsXHJcblxyXG4gICAgICBpZiAodHJhY2spIHtcclxuICAgICAgICBwYXRoQXJyYXkgPSB0cmFjay5wbG90KGQpXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiAoZCA9PSBudWxsKSA/IHBhdGhBcnJheSA6IHRoaXNcclxuICAgIH1cclxuICAgIC8vIEdldCB0aGUgcGF0aCB0cmFjayBlbGVtZW50XHJcbiAgLCB0cmFjazogZnVuY3Rpb24oKSB7XHJcbiAgICAgIHZhciBwYXRoID0gdGhpcy50ZXh0UGF0aCgpXHJcblxyXG4gICAgICBpZiAocGF0aClcclxuICAgICAgICByZXR1cm4gcGF0aC5yZWZlcmVuY2UoJ2hyZWYnKVxyXG4gICAgfVxyXG4gICAgLy8gR2V0IHRoZSB0ZXh0UGF0aCBjaGlsZFxyXG4gICwgdGV4dFBhdGg6IGZ1bmN0aW9uKCkge1xyXG4gICAgICBpZiAodGhpcy5ub2RlLmZpcnN0Q2hpbGQgJiYgdGhpcy5ub2RlLmZpcnN0Q2hpbGQubm9kZU5hbWUgPT0gJ3RleHRQYXRoJylcclxuICAgICAgICByZXR1cm4gU1ZHLmFkb3B0KHRoaXMubm9kZS5maXJzdENoaWxkKVxyXG4gICAgfVxyXG4gIH1cclxufSlcclxuXG5TVkcuTmVzdGVkID0gU1ZHLmludmVudCh7XHJcbiAgLy8gSW5pdGlhbGl6ZSBub2RlXHJcbiAgY3JlYXRlOiBmdW5jdGlvbigpIHtcclxuICAgIHRoaXMuY29uc3RydWN0b3IuY2FsbCh0aGlzLCBTVkcuY3JlYXRlKCdzdmcnKSlcclxuXHJcbiAgICB0aGlzLnN0eWxlKCdvdmVyZmxvdycsICd2aXNpYmxlJylcclxuICB9XHJcblxyXG4gIC8vIEluaGVyaXQgZnJvbVxyXG4sIGluaGVyaXQ6IFNWRy5Db250YWluZXJcclxuXHJcbiAgLy8gQWRkIHBhcmVudCBtZXRob2RcclxuLCBjb25zdHJ1Y3Q6IHtcclxuICAgIC8vIENyZWF0ZSBuZXN0ZWQgc3ZnIGRvY3VtZW50XHJcbiAgICBuZXN0ZWQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICByZXR1cm4gdGhpcy5wdXQobmV3IFNWRy5OZXN0ZWQpXHJcbiAgICB9XHJcbiAgfVxyXG59KVxuU1ZHLkEgPSBTVkcuaW52ZW50KHtcclxuICAvLyBJbml0aWFsaXplIG5vZGVcclxuICBjcmVhdGU6ICdhJ1xyXG5cclxuICAvLyBJbmhlcml0IGZyb21cclxuLCBpbmhlcml0OiBTVkcuQ29udGFpbmVyXHJcblxyXG4gIC8vIEFkZCBjbGFzcyBtZXRob2RzXHJcbiwgZXh0ZW5kOiB7XHJcbiAgICAvLyBMaW5rIHVybFxyXG4gICAgdG86IGZ1bmN0aW9uKHVybCkge1xyXG4gICAgICByZXR1cm4gdGhpcy5hdHRyKCdocmVmJywgdXJsLCBTVkcueGxpbmspXHJcbiAgICB9XHJcbiAgICAvLyBMaW5rIHNob3cgYXR0cmlidXRlXHJcbiAgLCBzaG93OiBmdW5jdGlvbih0YXJnZXQpIHtcclxuICAgICAgcmV0dXJuIHRoaXMuYXR0cignc2hvdycsIHRhcmdldCwgU1ZHLnhsaW5rKVxyXG4gICAgfVxyXG4gICAgLy8gTGluayB0YXJnZXQgYXR0cmlidXRlXHJcbiAgLCB0YXJnZXQ6IGZ1bmN0aW9uKHRhcmdldCkge1xyXG4gICAgICByZXR1cm4gdGhpcy5hdHRyKCd0YXJnZXQnLCB0YXJnZXQpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBBZGQgcGFyZW50IG1ldGhvZFxyXG4sIGNvbnN0cnVjdDoge1xyXG4gICAgLy8gQ3JlYXRlIGEgaHlwZXJsaW5rIGVsZW1lbnRcclxuICAgIGxpbms6IGZ1bmN0aW9uKHVybCkge1xyXG4gICAgICByZXR1cm4gdGhpcy5wdXQobmV3IFNWRy5BKS50byh1cmwpXHJcbiAgICB9XHJcbiAgfVxyXG59KVxyXG5cclxuU1ZHLmV4dGVuZChTVkcuRWxlbWVudCwge1xyXG4gIC8vIENyZWF0ZSBhIGh5cGVybGluayBlbGVtZW50XHJcbiAgbGlua1RvOiBmdW5jdGlvbih1cmwpIHtcclxuICAgIHZhciBsaW5rID0gbmV3IFNWRy5BXHJcblxyXG4gICAgaWYgKHR5cGVvZiB1cmwgPT0gJ2Z1bmN0aW9uJylcclxuICAgICAgdXJsLmNhbGwobGluaywgbGluaylcclxuICAgIGVsc2VcclxuICAgICAgbGluay50byh1cmwpXHJcblxyXG4gICAgcmV0dXJuIHRoaXMucGFyZW50KCkucHV0KGxpbmspLnB1dCh0aGlzKVxyXG4gIH1cclxuXHJcbn0pXG5TVkcuTWFya2VyID0gU1ZHLmludmVudCh7XHJcbiAgLy8gSW5pdGlhbGl6ZSBub2RlXHJcbiAgY3JlYXRlOiAnbWFya2VyJ1xyXG5cclxuICAvLyBJbmhlcml0IGZyb21cclxuLCBpbmhlcml0OiBTVkcuQ29udGFpbmVyXHJcblxyXG4gIC8vIEFkZCBjbGFzcyBtZXRob2RzXHJcbiwgZXh0ZW5kOiB7XHJcbiAgICAvLyBTZXQgd2lkdGggb2YgZWxlbWVudFxyXG4gICAgd2lkdGg6IGZ1bmN0aW9uKHdpZHRoKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLmF0dHIoJ21hcmtlcldpZHRoJywgd2lkdGgpXHJcbiAgICB9XHJcbiAgICAvLyBTZXQgaGVpZ2h0IG9mIGVsZW1lbnRcclxuICAsIGhlaWdodDogZnVuY3Rpb24oaGVpZ2h0KSB7XHJcbiAgICAgIHJldHVybiB0aGlzLmF0dHIoJ21hcmtlckhlaWdodCcsIGhlaWdodClcclxuICAgIH1cclxuICAgIC8vIFNldCBtYXJrZXIgcmVmWCBhbmQgcmVmWVxyXG4gICwgcmVmOiBmdW5jdGlvbih4LCB5KSB7XHJcbiAgICAgIHJldHVybiB0aGlzLmF0dHIoJ3JlZlgnLCB4KS5hdHRyKCdyZWZZJywgeSlcclxuICAgIH1cclxuICAgIC8vIFVwZGF0ZSBtYXJrZXJcclxuICAsIHVwZGF0ZTogZnVuY3Rpb24oYmxvY2spIHtcclxuICAgICAgLy8gcmVtb3ZlIGFsbCBjb250ZW50XHJcbiAgICAgIHRoaXMuY2xlYXIoKVxyXG5cclxuICAgICAgLy8gaW52b2tlIHBhc3NlZCBibG9ja1xyXG4gICAgICBpZiAodHlwZW9mIGJsb2NrID09ICdmdW5jdGlvbicpXHJcbiAgICAgICAgYmxvY2suY2FsbCh0aGlzLCB0aGlzKVxyXG5cclxuICAgICAgcmV0dXJuIHRoaXNcclxuICAgIH1cclxuICAgIC8vIFJldHVybiB0aGUgZmlsbCBpZFxyXG4gICwgdG9TdHJpbmc6IGZ1bmN0aW9uKCkge1xyXG4gICAgICByZXR1cm4gJ3VybCgjJyArIHRoaXMuaWQoKSArICcpJ1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gQWRkIHBhcmVudCBtZXRob2RcclxuLCBjb25zdHJ1Y3Q6IHtcclxuICAgIG1hcmtlcjogZnVuY3Rpb24od2lkdGgsIGhlaWdodCwgYmxvY2spIHtcclxuICAgICAgLy8gQ3JlYXRlIG1hcmtlciBlbGVtZW50IGluIGRlZnNcclxuICAgICAgcmV0dXJuIHRoaXMuZGVmcygpLm1hcmtlcih3aWR0aCwgaGVpZ2h0LCBibG9jaylcclxuICAgIH1cclxuICB9XHJcblxyXG59KVxyXG5cclxuU1ZHLmV4dGVuZChTVkcuRGVmcywge1xyXG4gIC8vIENyZWF0ZSBtYXJrZXJcclxuICBtYXJrZXI6IGZ1bmN0aW9uKHdpZHRoLCBoZWlnaHQsIGJsb2NrKSB7XHJcbiAgICAvLyBTZXQgZGVmYXVsdCB2aWV3Ym94IHRvIG1hdGNoIHRoZSB3aWR0aCBhbmQgaGVpZ2h0LCBzZXQgcmVmIHRvIGN4IGFuZCBjeSBhbmQgc2V0IG9yaWVudCB0byBhdXRvXHJcbiAgICByZXR1cm4gdGhpcy5wdXQobmV3IFNWRy5NYXJrZXIpXHJcbiAgICAgIC5zaXplKHdpZHRoLCBoZWlnaHQpXHJcbiAgICAgIC5yZWYod2lkdGggLyAyLCBoZWlnaHQgLyAyKVxyXG4gICAgICAudmlld2JveCgwLCAwLCB3aWR0aCwgaGVpZ2h0KVxyXG4gICAgICAuYXR0cignb3JpZW50JywgJ2F1dG8nKVxyXG4gICAgICAudXBkYXRlKGJsb2NrKVxyXG4gIH1cclxuXHJcbn0pXHJcblxyXG5TVkcuZXh0ZW5kKFNWRy5MaW5lLCBTVkcuUG9seWxpbmUsIFNWRy5Qb2x5Z29uLCBTVkcuUGF0aCwge1xyXG4gIC8vIENyZWF0ZSBhbmQgYXR0YWNoIG1hcmtlcnNcclxuICBtYXJrZXI6IGZ1bmN0aW9uKG1hcmtlciwgd2lkdGgsIGhlaWdodCwgYmxvY2spIHtcclxuICAgIHZhciBhdHRyID0gWydtYXJrZXInXVxyXG5cclxuICAgIC8vIEJ1aWxkIGF0dHJpYnV0ZSBuYW1lXHJcbiAgICBpZiAobWFya2VyICE9ICdhbGwnKSBhdHRyLnB1c2gobWFya2VyKVxyXG4gICAgYXR0ciA9IGF0dHIuam9pbignLScpXHJcblxyXG4gICAgLy8gU2V0IG1hcmtlciBhdHRyaWJ1dGVcclxuICAgIG1hcmtlciA9IGFyZ3VtZW50c1sxXSBpbnN0YW5jZW9mIFNWRy5NYXJrZXIgP1xyXG4gICAgICBhcmd1bWVudHNbMV0gOlxyXG4gICAgICB0aGlzLmRvYygpLm1hcmtlcih3aWR0aCwgaGVpZ2h0LCBibG9jaylcclxuXHJcbiAgICByZXR1cm4gdGhpcy5hdHRyKGF0dHIsIG1hcmtlcilcclxuICB9XHJcblxyXG59KVxuLy8gRGVmaW5lIGxpc3Qgb2YgYXZhaWxhYmxlIGF0dHJpYnV0ZXMgZm9yIHN0cm9rZSBhbmQgZmlsbFxyXG52YXIgc3VnYXIgPSB7XHJcbiAgc3Ryb2tlOiBbJ2NvbG9yJywgJ3dpZHRoJywgJ29wYWNpdHknLCAnbGluZWNhcCcsICdsaW5lam9pbicsICdtaXRlcmxpbWl0JywgJ2Rhc2hhcnJheScsICdkYXNob2Zmc2V0J11cclxuLCBmaWxsOiAgIFsnY29sb3InLCAnb3BhY2l0eScsICdydWxlJ11cclxuLCBwcmVmaXg6IGZ1bmN0aW9uKHQsIGEpIHtcclxuICAgIHJldHVybiBhID09ICdjb2xvcicgPyB0IDogdCArICctJyArIGFcclxuICB9XHJcbn1cclxuXHJcbi8vIEFkZCBzdWdhciBmb3IgZmlsbCBhbmQgc3Ryb2tlXHJcbjtbJ2ZpbGwnLCAnc3Ryb2tlJ10uZm9yRWFjaChmdW5jdGlvbihtKSB7XHJcbiAgdmFyIGksIGV4dGVuc2lvbiA9IHt9XHJcblxyXG4gIGV4dGVuc2lvblttXSA9IGZ1bmN0aW9uKG8pIHtcclxuICAgIGlmICh0eXBlb2YgbyA9PSAndW5kZWZpbmVkJylcclxuICAgICAgcmV0dXJuIHRoaXNcclxuICAgIGlmICh0eXBlb2YgbyA9PSAnc3RyaW5nJyB8fCBTVkcuQ29sb3IuaXNSZ2IobykgfHwgKG8gJiYgdHlwZW9mIG8uZmlsbCA9PT0gJ2Z1bmN0aW9uJykpXHJcbiAgICAgIHRoaXMuYXR0cihtLCBvKVxyXG5cclxuICAgIGVsc2VcclxuICAgICAgLy8gc2V0IGFsbCBhdHRyaWJ1dGVzIGZyb20gc3VnYXIuZmlsbCBhbmQgc3VnYXIuc3Ryb2tlIGxpc3RcclxuICAgICAgZm9yIChpID0gc3VnYXJbbV0ubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pXHJcbiAgICAgICAgaWYgKG9bc3VnYXJbbV1baV1dICE9IG51bGwpXHJcbiAgICAgICAgICB0aGlzLmF0dHIoc3VnYXIucHJlZml4KG0sIHN1Z2FyW21dW2ldKSwgb1tzdWdhclttXVtpXV0pXHJcblxyXG4gICAgcmV0dXJuIHRoaXNcclxuICB9XHJcblxyXG4gIFNWRy5leHRlbmQoU1ZHLkVsZW1lbnQsIFNWRy5GWCwgZXh0ZW5zaW9uKVxyXG5cclxufSlcclxuXHJcblNWRy5leHRlbmQoU1ZHLkVsZW1lbnQsIFNWRy5GWCwge1xyXG4gIC8vIE1hcCByb3RhdGlvbiB0byB0cmFuc2Zvcm1cclxuICByb3RhdGU6IGZ1bmN0aW9uKGQsIGN4LCBjeSkge1xyXG4gICAgcmV0dXJuIHRoaXMudHJhbnNmb3JtKHsgcm90YXRpb246IGQsIGN4OiBjeCwgY3k6IGN5IH0pXHJcbiAgfVxyXG4gIC8vIE1hcCBza2V3IHRvIHRyYW5zZm9ybVxyXG4sIHNrZXc6IGZ1bmN0aW9uKHgsIHksIGN4LCBjeSkge1xyXG4gICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPT0gMSAgfHwgYXJndW1lbnRzLmxlbmd0aCA9PSAzID9cclxuICAgICAgdGhpcy50cmFuc2Zvcm0oeyBza2V3OiB4LCBjeDogeSwgY3k6IGN4IH0pIDpcclxuICAgICAgdGhpcy50cmFuc2Zvcm0oeyBza2V3WDogeCwgc2tld1k6IHksIGN4OiBjeCwgY3k6IGN5IH0pXHJcbiAgfVxyXG4gIC8vIE1hcCBzY2FsZSB0byB0cmFuc2Zvcm1cclxuLCBzY2FsZTogZnVuY3Rpb24oeCwgeSwgY3gsIGN5KSB7XHJcbiAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA9PSAxICB8fCBhcmd1bWVudHMubGVuZ3RoID09IDMgP1xyXG4gICAgICB0aGlzLnRyYW5zZm9ybSh7IHNjYWxlOiB4LCBjeDogeSwgY3k6IGN4IH0pIDpcclxuICAgICAgdGhpcy50cmFuc2Zvcm0oeyBzY2FsZVg6IHgsIHNjYWxlWTogeSwgY3g6IGN4LCBjeTogY3kgfSlcclxuICB9XHJcbiAgLy8gTWFwIHRyYW5zbGF0ZSB0byB0cmFuc2Zvcm1cclxuLCB0cmFuc2xhdGU6IGZ1bmN0aW9uKHgsIHkpIHtcclxuICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybSh7IHg6IHgsIHk6IHkgfSlcclxuICB9XHJcbiAgLy8gTWFwIGZsaXAgdG8gdHJhbnNmb3JtXHJcbiwgZmxpcDogZnVuY3Rpb24oYSwgbykge1xyXG4gICAgbyA9IHR5cGVvZiBhID09ICdudW1iZXInID8gYSA6IG9cclxuICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybSh7IGZsaXA6IGEgfHwgJ2JvdGgnLCBvZmZzZXQ6IG8gfSlcclxuICB9XHJcbiAgLy8gTWFwIG1hdHJpeCB0byB0cmFuc2Zvcm1cclxuLCBtYXRyaXg6IGZ1bmN0aW9uKG0pIHtcclxuICAgIHJldHVybiB0aGlzLmF0dHIoJ3RyYW5zZm9ybScsIG5ldyBTVkcuTWF0cml4KGFyZ3VtZW50cy5sZW5ndGggPT0gNiA/IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKSA6IG0pKVxyXG4gIH1cclxuICAvLyBPcGFjaXR5XHJcbiwgb3BhY2l0eTogZnVuY3Rpb24odmFsdWUpIHtcclxuICAgIHJldHVybiB0aGlzLmF0dHIoJ29wYWNpdHknLCB2YWx1ZSlcclxuICB9XHJcbiAgLy8gUmVsYXRpdmUgbW92ZSBvdmVyIHggYXhpc1xyXG4sIGR4OiBmdW5jdGlvbih4KSB7XHJcbiAgICByZXR1cm4gdGhpcy54KG5ldyBTVkcuTnVtYmVyKHgpLnBsdXModGhpcyBpbnN0YW5jZW9mIFNWRy5GWCA/IDAgOiB0aGlzLngoKSksIHRydWUpXHJcbiAgfVxyXG4gIC8vIFJlbGF0aXZlIG1vdmUgb3ZlciB5IGF4aXNcclxuLCBkeTogZnVuY3Rpb24oeSkge1xyXG4gICAgcmV0dXJuIHRoaXMueShuZXcgU1ZHLk51bWJlcih5KS5wbHVzKHRoaXMgaW5zdGFuY2VvZiBTVkcuRlggPyAwIDogdGhpcy55KCkpLCB0cnVlKVxyXG4gIH1cclxuICAvLyBSZWxhdGl2ZSBtb3ZlIG92ZXIgeCBhbmQgeSBheGVzXHJcbiwgZG1vdmU6IGZ1bmN0aW9uKHgsIHkpIHtcclxuICAgIHJldHVybiB0aGlzLmR4KHgpLmR5KHkpXHJcbiAgfVxyXG59KVxyXG5cclxuU1ZHLmV4dGVuZChTVkcuUmVjdCwgU1ZHLkVsbGlwc2UsIFNWRy5DaXJjbGUsIFNWRy5HcmFkaWVudCwgU1ZHLkZYLCB7XHJcbiAgLy8gQWRkIHggYW5kIHkgcmFkaXVzXHJcbiAgcmFkaXVzOiBmdW5jdGlvbih4LCB5KSB7XHJcbiAgICB2YXIgdHlwZSA9ICh0aGlzLl90YXJnZXQgfHwgdGhpcykudHlwZTtcclxuICAgIHJldHVybiB0eXBlID09ICdyYWRpYWwnIHx8IHR5cGUgPT0gJ2NpcmNsZScgP1xyXG4gICAgICB0aGlzLmF0dHIoJ3InLCBuZXcgU1ZHLk51bWJlcih4KSkgOlxyXG4gICAgICB0aGlzLnJ4KHgpLnJ5KHkgPT0gbnVsbCA/IHggOiB5KVxyXG4gIH1cclxufSlcclxuXHJcblNWRy5leHRlbmQoU1ZHLlBhdGgsIHtcclxuICAvLyBHZXQgcGF0aCBsZW5ndGhcclxuICBsZW5ndGg6IGZ1bmN0aW9uKCkge1xyXG4gICAgcmV0dXJuIHRoaXMubm9kZS5nZXRUb3RhbExlbmd0aCgpXHJcbiAgfVxyXG4gIC8vIEdldCBwb2ludCBhdCBsZW5ndGhcclxuLCBwb2ludEF0OiBmdW5jdGlvbihsZW5ndGgpIHtcclxuICAgIHJldHVybiB0aGlzLm5vZGUuZ2V0UG9pbnRBdExlbmd0aChsZW5ndGgpXHJcbiAgfVxyXG59KVxyXG5cclxuU1ZHLmV4dGVuZChTVkcuUGFyZW50LCBTVkcuVGV4dCwgU1ZHLlRzcGFuLCBTVkcuRlgsIHtcclxuICAvLyBTZXQgZm9udFxyXG4gIGZvbnQ6IGZ1bmN0aW9uKGEsIHYpIHtcclxuICAgIGlmICh0eXBlb2YgYSA9PSAnb2JqZWN0Jykge1xyXG4gICAgICBmb3IgKHYgaW4gYSkgdGhpcy5mb250KHYsIGFbdl0pXHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGEgPT0gJ2xlYWRpbmcnID9cclxuICAgICAgICB0aGlzLmxlYWRpbmcodikgOlxyXG4gICAgICBhID09ICdhbmNob3InID9cclxuICAgICAgICB0aGlzLmF0dHIoJ3RleHQtYW5jaG9yJywgdikgOlxyXG4gICAgICBhID09ICdzaXplJyB8fCBhID09ICdmYW1pbHknIHx8IGEgPT0gJ3dlaWdodCcgfHwgYSA9PSAnc3RyZXRjaCcgfHwgYSA9PSAndmFyaWFudCcgfHwgYSA9PSAnc3R5bGUnID9cclxuICAgICAgICB0aGlzLmF0dHIoJ2ZvbnQtJysgYSwgdikgOlxyXG4gICAgICAgIHRoaXMuYXR0cihhLCB2KVxyXG4gIH1cclxufSlcclxuXG5TVkcuU2V0ID0gU1ZHLmludmVudCh7XHJcbiAgLy8gSW5pdGlhbGl6ZVxyXG4gIGNyZWF0ZTogZnVuY3Rpb24obWVtYmVycykge1xyXG4gICAgaWYgKG1lbWJlcnMgaW5zdGFuY2VvZiBTVkcuU2V0KSB7XHJcbiAgICAgIHRoaXMubWVtYmVycyA9IG1lbWJlcnMubWVtYmVycy5zbGljZSgpXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBBcnJheS5pc0FycmF5KG1lbWJlcnMpID8gdGhpcy5tZW1iZXJzID0gbWVtYmVycyA6IHRoaXMuY2xlYXIoKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gQWRkIGNsYXNzIG1ldGhvZHNcclxuLCBleHRlbmQ6IHtcclxuICAgIC8vIEFkZCBlbGVtZW50IHRvIHNldFxyXG4gICAgYWRkOiBmdW5jdGlvbigpIHtcclxuICAgICAgdmFyIGksIGlsLCBlbGVtZW50cyA9IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKVxyXG5cclxuICAgICAgZm9yIChpID0gMCwgaWwgPSBlbGVtZW50cy5sZW5ndGg7IGkgPCBpbDsgaSsrKVxyXG4gICAgICAgIHRoaXMubWVtYmVycy5wdXNoKGVsZW1lbnRzW2ldKVxyXG5cclxuICAgICAgcmV0dXJuIHRoaXNcclxuICAgIH1cclxuICAgIC8vIFJlbW92ZSBlbGVtZW50IGZyb20gc2V0XHJcbiAgLCByZW1vdmU6IGZ1bmN0aW9uKGVsZW1lbnQpIHtcclxuICAgICAgdmFyIGkgPSB0aGlzLmluZGV4KGVsZW1lbnQpXHJcblxyXG4gICAgICAvLyByZW1vdmUgZ2l2ZW4gY2hpbGRcclxuICAgICAgaWYgKGkgPiAtMSlcclxuICAgICAgICB0aGlzLm1lbWJlcnMuc3BsaWNlKGksIDEpXHJcblxyXG4gICAgICByZXR1cm4gdGhpc1xyXG4gICAgfVxyXG4gICAgLy8gSXRlcmF0ZSBvdmVyIGFsbCBtZW1iZXJzXHJcbiAgLCBlYWNoOiBmdW5jdGlvbihibG9jaykge1xyXG4gICAgICBmb3IgKHZhciBpID0gMCwgaWwgPSB0aGlzLm1lbWJlcnMubGVuZ3RoOyBpIDwgaWw7IGkrKylcclxuICAgICAgICBibG9jay5hcHBseSh0aGlzLm1lbWJlcnNbaV0sIFtpLCB0aGlzLm1lbWJlcnNdKVxyXG5cclxuICAgICAgcmV0dXJuIHRoaXNcclxuICAgIH1cclxuICAgIC8vIFJlc3RvcmUgdG8gZGVmYXVsdHNcclxuICAsIGNsZWFyOiBmdW5jdGlvbigpIHtcclxuICAgICAgLy8gaW5pdGlhbGl6ZSBzdG9yZVxyXG4gICAgICB0aGlzLm1lbWJlcnMgPSBbXVxyXG5cclxuICAgICAgcmV0dXJuIHRoaXNcclxuICAgIH1cclxuICAgIC8vIEdldCB0aGUgbGVuZ3RoIG9mIGEgc2V0XHJcbiAgLCBsZW5ndGg6IGZ1bmN0aW9uKCkge1xyXG4gICAgICByZXR1cm4gdGhpcy5tZW1iZXJzLmxlbmd0aFxyXG4gICAgfVxyXG4gICAgLy8gQ2hlY2tzIGlmIGEgZ2l2ZW4gZWxlbWVudCBpcyBwcmVzZW50IGluIHNldFxyXG4gICwgaGFzOiBmdW5jdGlvbihlbGVtZW50KSB7XHJcbiAgICAgIHJldHVybiB0aGlzLmluZGV4KGVsZW1lbnQpID49IDBcclxuICAgIH1cclxuICAgIC8vIHJldHVucyBpbmRleCBvZiBnaXZlbiBlbGVtZW50IGluIHNldFxyXG4gICwgaW5kZXg6IGZ1bmN0aW9uKGVsZW1lbnQpIHtcclxuICAgICAgcmV0dXJuIHRoaXMubWVtYmVycy5pbmRleE9mKGVsZW1lbnQpXHJcbiAgICB9XHJcbiAgICAvLyBHZXQgbWVtYmVyIGF0IGdpdmVuIGluZGV4XHJcbiAgLCBnZXQ6IGZ1bmN0aW9uKGkpIHtcclxuICAgICAgcmV0dXJuIHRoaXMubWVtYmVyc1tpXVxyXG4gICAgfVxyXG4gICAgLy8gR2V0IGZpcnN0IG1lbWJlclxyXG4gICwgZmlyc3Q6IGZ1bmN0aW9uKCkge1xyXG4gICAgICByZXR1cm4gdGhpcy5nZXQoMClcclxuICAgIH1cclxuICAgIC8vIEdldCBsYXN0IG1lbWJlclxyXG4gICwgbGFzdDogZnVuY3Rpb24oKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLmdldCh0aGlzLm1lbWJlcnMubGVuZ3RoIC0gMSlcclxuICAgIH1cclxuICAgIC8vIERlZmF1bHQgdmFsdWVcclxuICAsIHZhbHVlT2Y6IGZ1bmN0aW9uKCkge1xyXG4gICAgICByZXR1cm4gdGhpcy5tZW1iZXJzXHJcbiAgICB9XHJcbiAgICAvLyBHZXQgdGhlIGJvdW5kaW5nIGJveCBvZiBhbGwgbWVtYmVycyBpbmNsdWRlZCBvciBlbXB0eSBib3ggaWYgc2V0IGhhcyBubyBpdGVtc1xyXG4gICwgYmJveDogZnVuY3Rpb24oKXtcclxuICAgICAgLy8gcmV0dXJuIGFuIGVtcHR5IGJveCBvZiB0aGVyZSBhcmUgbm8gbWVtYmVyc1xyXG4gICAgICBpZiAodGhpcy5tZW1iZXJzLmxlbmd0aCA9PSAwKVxyXG4gICAgICAgIHJldHVybiBuZXcgU1ZHLlJCb3goKVxyXG5cclxuICAgICAgLy8gZ2V0IHRoZSBmaXJzdCByYm94IGFuZCB1cGRhdGUgdGhlIHRhcmdldCBiYm94XHJcbiAgICAgIHZhciByYm94ID0gdGhpcy5tZW1iZXJzWzBdLnJib3godGhpcy5tZW1iZXJzWzBdLmRvYygpKVxyXG5cclxuICAgICAgdGhpcy5lYWNoKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIC8vIHVzZXIgcmJveCBmb3IgY29ycmVjdCBwb3NpdGlvbiBhbmQgdmlzdWFsIHJlcHJlc2VudGF0aW9uXHJcbiAgICAgICAgcmJveCA9IHJib3gubWVyZ2UodGhpcy5yYm94KHRoaXMuZG9jKCkpKVxyXG4gICAgICB9KVxyXG5cclxuICAgICAgcmV0dXJuIHJib3hcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIEFkZCBwYXJlbnQgbWV0aG9kXHJcbiwgY29uc3RydWN0OiB7XHJcbiAgICAvLyBDcmVhdGUgYSBuZXcgc2V0XHJcbiAgICBzZXQ6IGZ1bmN0aW9uKG1lbWJlcnMpIHtcclxuICAgICAgcmV0dXJuIG5ldyBTVkcuU2V0KG1lbWJlcnMpXHJcbiAgICB9XHJcbiAgfVxyXG59KVxyXG5cclxuU1ZHLkZYLlNldCA9IFNWRy5pbnZlbnQoe1xyXG4gIC8vIEluaXRpYWxpemUgbm9kZVxyXG4gIGNyZWF0ZTogZnVuY3Rpb24oc2V0KSB7XHJcbiAgICAvLyBzdG9yZSByZWZlcmVuY2UgdG8gc2V0XHJcbiAgICB0aGlzLnNldCA9IHNldFxyXG4gIH1cclxuXHJcbn0pXHJcblxyXG4vLyBBbGlhcyBtZXRob2RzXHJcblNWRy5TZXQuaW5oZXJpdCA9IGZ1bmN0aW9uKCkge1xyXG4gIHZhciBtXHJcbiAgICAsIG1ldGhvZHMgPSBbXVxyXG5cclxuICAvLyBnYXRoZXIgc2hhcGUgbWV0aG9kc1xyXG4gIGZvcih2YXIgbSBpbiBTVkcuU2hhcGUucHJvdG90eXBlKVxyXG4gICAgaWYgKHR5cGVvZiBTVkcuU2hhcGUucHJvdG90eXBlW21dID09ICdmdW5jdGlvbicgJiYgdHlwZW9mIFNWRy5TZXQucHJvdG90eXBlW21dICE9ICdmdW5jdGlvbicpXHJcbiAgICAgIG1ldGhvZHMucHVzaChtKVxyXG5cclxuICAvLyBhcHBseSBzaGFwZSBhbGlhc3Nlc1xyXG4gIG1ldGhvZHMuZm9yRWFjaChmdW5jdGlvbihtZXRob2QpIHtcclxuICAgIFNWRy5TZXQucHJvdG90eXBlW21ldGhvZF0gPSBmdW5jdGlvbigpIHtcclxuICAgICAgZm9yICh2YXIgaSA9IDAsIGlsID0gdGhpcy5tZW1iZXJzLmxlbmd0aDsgaSA8IGlsOyBpKyspXHJcbiAgICAgICAgaWYgKHRoaXMubWVtYmVyc1tpXSAmJiB0eXBlb2YgdGhpcy5tZW1iZXJzW2ldW21ldGhvZF0gPT0gJ2Z1bmN0aW9uJylcclxuICAgICAgICAgIHRoaXMubWVtYmVyc1tpXVttZXRob2RdLmFwcGx5KHRoaXMubWVtYmVyc1tpXSwgYXJndW1lbnRzKVxyXG5cclxuICAgICAgcmV0dXJuIG1ldGhvZCA9PSAnYW5pbWF0ZScgPyAodGhpcy5meCB8fCAodGhpcy5meCA9IG5ldyBTVkcuRlguU2V0KHRoaXMpKSkgOiB0aGlzXHJcbiAgICB9XHJcbiAgfSlcclxuXHJcbiAgLy8gY2xlYXIgbWV0aG9kcyBmb3IgdGhlIG5leHQgcm91bmRcclxuICBtZXRob2RzID0gW11cclxuXHJcbiAgLy8gZ2F0aGVyIGZ4IG1ldGhvZHNcclxuICBmb3IodmFyIG0gaW4gU1ZHLkZYLnByb3RvdHlwZSlcclxuICAgIGlmICh0eXBlb2YgU1ZHLkZYLnByb3RvdHlwZVttXSA9PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBTVkcuRlguU2V0LnByb3RvdHlwZVttXSAhPSAnZnVuY3Rpb24nKVxyXG4gICAgICBtZXRob2RzLnB1c2gobSlcclxuXHJcbiAgLy8gYXBwbHkgZnggYWxpYXNzZXNcclxuICBtZXRob2RzLmZvckVhY2goZnVuY3Rpb24obWV0aG9kKSB7XHJcbiAgICBTVkcuRlguU2V0LnByb3RvdHlwZVttZXRob2RdID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgIGZvciAodmFyIGkgPSAwLCBpbCA9IHRoaXMuc2V0Lm1lbWJlcnMubGVuZ3RoOyBpIDwgaWw7IGkrKylcclxuICAgICAgICB0aGlzLnNldC5tZW1iZXJzW2ldLmZ4W21ldGhvZF0uYXBwbHkodGhpcy5zZXQubWVtYmVyc1tpXS5meCwgYXJndW1lbnRzKVxyXG5cclxuICAgICAgcmV0dXJuIHRoaXNcclxuICAgIH1cclxuICB9KVxyXG59XHJcblxuXHJcblNWRy5leHRlbmQoU1ZHLkVsZW1lbnQsIHtcclxuICAvLyBTdG9yZSBkYXRhIHZhbHVlcyBvbiBzdmcgbm9kZXNcclxuICBkYXRhOiBmdW5jdGlvbihhLCB2LCByKSB7XHJcbiAgICBpZiAodHlwZW9mIGEgPT0gJ29iamVjdCcpIHtcclxuICAgICAgZm9yICh2IGluIGEpXHJcbiAgICAgICAgdGhpcy5kYXRhKHYsIGFbdl0pXHJcblxyXG4gICAgfSBlbHNlIGlmIChhcmd1bWVudHMubGVuZ3RoIDwgMikge1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIHJldHVybiBKU09OLnBhcnNlKHRoaXMuYXR0cignZGF0YS0nICsgYSkpXHJcbiAgICAgIH0gY2F0Y2goZSkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmF0dHIoJ2RhdGEtJyArIGEpXHJcbiAgICAgIH1cclxuXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmF0dHIoXHJcbiAgICAgICAgJ2RhdGEtJyArIGFcclxuICAgICAgLCB2ID09PSBudWxsID9cclxuICAgICAgICAgIG51bGwgOlxyXG4gICAgICAgIHIgPT09IHRydWUgfHwgdHlwZW9mIHYgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiB2ID09PSAnbnVtYmVyJyA/XHJcbiAgICAgICAgICB2IDpcclxuICAgICAgICAgIEpTT04uc3RyaW5naWZ5KHYpXHJcbiAgICAgIClcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpc1xyXG4gIH1cclxufSlcblNWRy5leHRlbmQoU1ZHLkVsZW1lbnQsIHtcclxuICAvLyBSZW1lbWJlciBhcmJpdHJhcnkgZGF0YVxyXG4gIHJlbWVtYmVyOiBmdW5jdGlvbihrLCB2KSB7XHJcbiAgICAvLyByZW1lbWJlciBldmVyeSBpdGVtIGluIGFuIG9iamVjdCBpbmRpdmlkdWFsbHlcclxuICAgIGlmICh0eXBlb2YgYXJndW1lbnRzWzBdID09ICdvYmplY3QnKVxyXG4gICAgICBmb3IgKHZhciB2IGluIGspXHJcbiAgICAgICAgdGhpcy5yZW1lbWJlcih2LCBrW3ZdKVxyXG5cclxuICAgIC8vIHJldHJpZXZlIG1lbW9yeVxyXG4gICAgZWxzZSBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PSAxKVxyXG4gICAgICByZXR1cm4gdGhpcy5tZW1vcnkoKVtrXVxyXG5cclxuICAgIC8vIHN0b3JlIG1lbW9yeVxyXG4gICAgZWxzZVxyXG4gICAgICB0aGlzLm1lbW9yeSgpW2tdID0gdlxyXG5cclxuICAgIHJldHVybiB0aGlzXHJcbiAgfVxyXG5cclxuICAvLyBFcmFzZSBhIGdpdmVuIG1lbW9yeVxyXG4sIGZvcmdldDogZnVuY3Rpb24oKSB7XHJcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PSAwKVxyXG4gICAgICB0aGlzLl9tZW1vcnkgPSB7fVxyXG4gICAgZWxzZVxyXG4gICAgICBmb3IgKHZhciBpID0gYXJndW1lbnRzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKVxyXG4gICAgICAgIGRlbGV0ZSB0aGlzLm1lbW9yeSgpW2FyZ3VtZW50c1tpXV1cclxuXHJcbiAgICByZXR1cm4gdGhpc1xyXG4gIH1cclxuXHJcbiAgLy8gSW5pdGlhbGl6ZSBvciByZXR1cm4gbG9jYWwgbWVtb3J5IG9iamVjdFxyXG4sIG1lbW9yeTogZnVuY3Rpb24oKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fbWVtb3J5IHx8ICh0aGlzLl9tZW1vcnkgPSB7fSlcclxuICB9XHJcblxyXG59KVxuLy8gTWV0aG9kIGZvciBnZXR0aW5nIGFuIGVsZW1lbnQgYnkgaWRcclxuU1ZHLmdldCA9IGZ1bmN0aW9uKGlkKSB7XHJcbiAgdmFyIG5vZGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZEZyb21SZWZlcmVuY2UoaWQpIHx8IGlkKVxyXG4gIHJldHVybiBTVkcuYWRvcHQobm9kZSlcclxufVxyXG5cclxuLy8gU2VsZWN0IGVsZW1lbnRzIGJ5IHF1ZXJ5IHN0cmluZ1xyXG5TVkcuc2VsZWN0ID0gZnVuY3Rpb24ocXVlcnksIHBhcmVudCkge1xyXG4gIHJldHVybiBuZXcgU1ZHLlNldChcclxuICAgIFNWRy51dGlscy5tYXAoKHBhcmVudCB8fCBkb2N1bWVudCkucXVlcnlTZWxlY3RvckFsbChxdWVyeSksIGZ1bmN0aW9uKG5vZGUpIHtcclxuICAgICAgcmV0dXJuIFNWRy5hZG9wdChub2RlKVxyXG4gICAgfSlcclxuICApXHJcbn1cclxuXHJcblNWRy5leHRlbmQoU1ZHLlBhcmVudCwge1xyXG4gIC8vIFNjb3BlZCBzZWxlY3QgbWV0aG9kXHJcbiAgc2VsZWN0OiBmdW5jdGlvbihxdWVyeSkge1xyXG4gICAgcmV0dXJuIFNWRy5zZWxlY3QocXVlcnksIHRoaXMubm9kZSlcclxuICB9XHJcblxyXG59KVxuZnVuY3Rpb24gcGF0aFJlZ1JlcGxhY2UoYSwgYiwgYywgZCkge1xyXG4gIHJldHVybiBjICsgZC5yZXBsYWNlKFNWRy5yZWdleC5kb3RzLCAnIC4nKVxyXG59XHJcblxyXG4vLyBjcmVhdGVzIGRlZXAgY2xvbmUgb2YgYXJyYXlcclxuZnVuY3Rpb24gYXJyYXlfY2xvbmUoYXJyKXtcclxuICB2YXIgY2xvbmUgPSBhcnIuc2xpY2UoMClcclxuICBmb3IodmFyIGkgPSBjbG9uZS5sZW5ndGg7IGktLTspe1xyXG4gICAgaWYoQXJyYXkuaXNBcnJheShjbG9uZVtpXSkpe1xyXG4gICAgICBjbG9uZVtpXSA9IGFycmF5X2Nsb25lKGNsb25lW2ldKVxyXG4gICAgfVxyXG4gIH1cclxuICByZXR1cm4gY2xvbmVcclxufVxyXG5cclxuLy8gdGVzdHMgaWYgYSBnaXZlbiBlbGVtZW50IGlzIGluc3RhbmNlIG9mIGFuIG9iamVjdFxyXG5mdW5jdGlvbiBpcyhlbCwgb2JqKXtcclxuICByZXR1cm4gZWwgaW5zdGFuY2VvZiBvYmpcclxufVxyXG5cclxuLy8gdGVzdHMgaWYgYSBnaXZlbiBzZWxlY3RvciBtYXRjaGVzIGFuIGVsZW1lbnRcclxuZnVuY3Rpb24gbWF0Y2hlcyhlbCwgc2VsZWN0b3IpIHtcclxuICByZXR1cm4gKGVsLm1hdGNoZXMgfHwgZWwubWF0Y2hlc1NlbGVjdG9yIHx8IGVsLm1zTWF0Y2hlc1NlbGVjdG9yIHx8IGVsLm1vek1hdGNoZXNTZWxlY3RvciB8fCBlbC53ZWJraXRNYXRjaGVzU2VsZWN0b3IgfHwgZWwub01hdGNoZXNTZWxlY3RvcikuY2FsbChlbCwgc2VsZWN0b3IpO1xyXG59XHJcblxyXG4vLyBDb252ZXJ0IGRhc2gtc2VwYXJhdGVkLXN0cmluZyB0byBjYW1lbENhc2VcclxuZnVuY3Rpb24gY2FtZWxDYXNlKHMpIHtcclxuICByZXR1cm4gcy50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoLy0oLikvZywgZnVuY3Rpb24obSwgZykge1xyXG4gICAgcmV0dXJuIGcudG9VcHBlckNhc2UoKVxyXG4gIH0pXHJcbn1cclxuXHJcbi8vIENhcGl0YWxpemUgZmlyc3QgbGV0dGVyIG9mIGEgc3RyaW5nXHJcbmZ1bmN0aW9uIGNhcGl0YWxpemUocykge1xyXG4gIHJldHVybiBzLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgcy5zbGljZSgxKVxyXG59XHJcblxyXG4vLyBFbnN1cmUgdG8gc2l4LWJhc2VkIGhleFxyXG5mdW5jdGlvbiBmdWxsSGV4KGhleCkge1xyXG4gIHJldHVybiBoZXgubGVuZ3RoID09IDQgP1xyXG4gICAgWyAnIycsXHJcbiAgICAgIGhleC5zdWJzdHJpbmcoMSwgMiksIGhleC5zdWJzdHJpbmcoMSwgMilcclxuICAgICwgaGV4LnN1YnN0cmluZygyLCAzKSwgaGV4LnN1YnN0cmluZygyLCAzKVxyXG4gICAgLCBoZXguc3Vic3RyaW5nKDMsIDQpLCBoZXguc3Vic3RyaW5nKDMsIDQpXHJcbiAgICBdLmpvaW4oJycpIDogaGV4XHJcbn1cclxuXHJcbi8vIENvbXBvbmVudCB0byBoZXggdmFsdWVcclxuZnVuY3Rpb24gY29tcFRvSGV4KGNvbXApIHtcclxuICB2YXIgaGV4ID0gY29tcC50b1N0cmluZygxNilcclxuICByZXR1cm4gaGV4Lmxlbmd0aCA9PSAxID8gJzAnICsgaGV4IDogaGV4XHJcbn1cclxuXHJcbi8vIENhbGN1bGF0ZSBwcm9wb3J0aW9uYWwgd2lkdGggYW5kIGhlaWdodCB2YWx1ZXMgd2hlbiBuZWNlc3NhcnlcclxuZnVuY3Rpb24gcHJvcG9ydGlvbmFsU2l6ZShlbGVtZW50LCB3aWR0aCwgaGVpZ2h0KSB7XHJcbiAgaWYgKHdpZHRoID09IG51bGwgfHwgaGVpZ2h0ID09IG51bGwpIHtcclxuICAgIHZhciBib3ggPSBlbGVtZW50LmJib3goKVxyXG5cclxuICAgIGlmICh3aWR0aCA9PSBudWxsKVxyXG4gICAgICB3aWR0aCA9IGJveC53aWR0aCAvIGJveC5oZWlnaHQgKiBoZWlnaHRcclxuICAgIGVsc2UgaWYgKGhlaWdodCA9PSBudWxsKVxyXG4gICAgICBoZWlnaHQgPSBib3guaGVpZ2h0IC8gYm94LndpZHRoICogd2lkdGhcclxuICB9XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICB3aWR0aDogIHdpZHRoXHJcbiAgLCBoZWlnaHQ6IGhlaWdodFxyXG4gIH1cclxufVxyXG5cclxuLy8gRGVsdGEgdHJhbnNmb3JtIHBvaW50XHJcbmZ1bmN0aW9uIGRlbHRhVHJhbnNmb3JtUG9pbnQobWF0cml4LCB4LCB5KSB7XHJcbiAgcmV0dXJuIHtcclxuICAgIHg6IHggKiBtYXRyaXguYSArIHkgKiBtYXRyaXguYyArIDBcclxuICAsIHk6IHggKiBtYXRyaXguYiArIHkgKiBtYXRyaXguZCArIDBcclxuICB9XHJcbn1cclxuXHJcbi8vIE1hcCBtYXRyaXggYXJyYXkgdG8gb2JqZWN0XHJcbmZ1bmN0aW9uIGFycmF5VG9NYXRyaXgoYSkge1xyXG4gIHJldHVybiB7IGE6IGFbMF0sIGI6IGFbMV0sIGM6IGFbMl0sIGQ6IGFbM10sIGU6IGFbNF0sIGY6IGFbNV0gfVxyXG59XHJcblxyXG4vLyBQYXJzZSBtYXRyaXggaWYgcmVxdWlyZWRcclxuZnVuY3Rpb24gcGFyc2VNYXRyaXgobWF0cml4KSB7XHJcbiAgaWYgKCEobWF0cml4IGluc3RhbmNlb2YgU1ZHLk1hdHJpeCkpXHJcbiAgICBtYXRyaXggPSBuZXcgU1ZHLk1hdHJpeChtYXRyaXgpXHJcblxyXG4gIHJldHVybiBtYXRyaXhcclxufVxyXG5cclxuLy8gQWRkIGNlbnRyZSBwb2ludCB0byB0cmFuc2Zvcm0gb2JqZWN0XHJcbmZ1bmN0aW9uIGVuc3VyZUNlbnRyZShvLCB0YXJnZXQpIHtcclxuICBvLmN4ID0gby5jeCA9PSBudWxsID8gdGFyZ2V0LmJib3goKS5jeCA6IG8uY3hcclxuICBvLmN5ID0gby5jeSA9PSBudWxsID8gdGFyZ2V0LmJib3goKS5jeSA6IG8uY3lcclxufVxyXG5cclxuLy8gUGF0aEFycmF5IEhlbHBlcnNcclxuZnVuY3Rpb24gYXJyYXlUb1N0cmluZyhhKSB7XHJcbiAgZm9yICh2YXIgaSA9IDAsIGlsID0gYS5sZW5ndGgsIHMgPSAnJzsgaSA8IGlsOyBpKyspIHtcclxuICAgIHMgKz0gYVtpXVswXVxyXG5cclxuICAgIGlmIChhW2ldWzFdICE9IG51bGwpIHtcclxuICAgICAgcyArPSBhW2ldWzFdXHJcblxyXG4gICAgICBpZiAoYVtpXVsyXSAhPSBudWxsKSB7XHJcbiAgICAgICAgcyArPSAnICdcclxuICAgICAgICBzICs9IGFbaV1bMl1cclxuXHJcbiAgICAgICAgaWYgKGFbaV1bM10gIT0gbnVsbCkge1xyXG4gICAgICAgICAgcyArPSAnICdcclxuICAgICAgICAgIHMgKz0gYVtpXVszXVxyXG4gICAgICAgICAgcyArPSAnICdcclxuICAgICAgICAgIHMgKz0gYVtpXVs0XVxyXG5cclxuICAgICAgICAgIGlmIChhW2ldWzVdICE9IG51bGwpIHtcclxuICAgICAgICAgICAgcyArPSAnICdcclxuICAgICAgICAgICAgcyArPSBhW2ldWzVdXHJcbiAgICAgICAgICAgIHMgKz0gJyAnXHJcbiAgICAgICAgICAgIHMgKz0gYVtpXVs2XVxyXG5cclxuICAgICAgICAgICAgaWYgKGFbaV1bN10gIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgIHMgKz0gJyAnXHJcbiAgICAgICAgICAgICAgcyArPSBhW2ldWzddXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJldHVybiBzICsgJyAnXHJcbn1cclxuXHJcbi8vIERlZXAgbmV3IGlkIGFzc2lnbm1lbnRcclxuZnVuY3Rpb24gYXNzaWduTmV3SWQobm9kZSkge1xyXG4gIC8vIGRvIHRoZSBzYW1lIGZvciBTVkcgY2hpbGQgbm9kZXMgYXMgd2VsbFxyXG4gIGZvciAodmFyIGkgPSBub2RlLmNoaWxkTm9kZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pXHJcbiAgICBpZiAobm9kZS5jaGlsZE5vZGVzW2ldIGluc3RhbmNlb2Ygd2luZG93LlNWR0VsZW1lbnQpXHJcbiAgICAgIGFzc2lnbk5ld0lkKG5vZGUuY2hpbGROb2Rlc1tpXSlcclxuXHJcbiAgcmV0dXJuIFNWRy5hZG9wdChub2RlKS5pZChTVkcuZWlkKG5vZGUubm9kZU5hbWUpKVxyXG59XHJcblxyXG4vLyBBZGQgbW9yZSBib3VuZGluZyBib3ggcHJvcGVydGllc1xyXG5mdW5jdGlvbiBmdWxsQm94KGIpIHtcclxuICBpZiAoYi54ID09IG51bGwpIHtcclxuICAgIGIueCAgICAgID0gMFxyXG4gICAgYi55ICAgICAgPSAwXHJcbiAgICBiLndpZHRoICA9IDBcclxuICAgIGIuaGVpZ2h0ID0gMFxyXG4gIH1cclxuXHJcbiAgYi53ICA9IGIud2lkdGhcclxuICBiLmggID0gYi5oZWlnaHRcclxuICBiLngyID0gYi54ICsgYi53aWR0aFxyXG4gIGIueTIgPSBiLnkgKyBiLmhlaWdodFxyXG4gIGIuY3ggPSBiLnggKyBiLndpZHRoIC8gMlxyXG4gIGIuY3kgPSBiLnkgKyBiLmhlaWdodCAvIDJcclxuXHJcbiAgcmV0dXJuIGJcclxufVxyXG5cclxuLy8gR2V0IGlkIGZyb20gcmVmZXJlbmNlIHN0cmluZ1xyXG5mdW5jdGlvbiBpZEZyb21SZWZlcmVuY2UodXJsKSB7XHJcbiAgdmFyIG0gPSAodXJsIHx8ICcnKS50b1N0cmluZygpLm1hdGNoKFNWRy5yZWdleC5yZWZlcmVuY2UpXHJcblxyXG4gIGlmIChtKSByZXR1cm4gbVsxXVxyXG59XHJcblxyXG4vLyBJZiB2YWx1ZXMgbGlrZSAxZS04OCBhcmUgcGFzc2VkLCB0aGlzIGlzIG5vdCBhIHZhbGlkIDMyIGJpdCBmbG9hdCxcclxuLy8gYnV0IGluIHRob3NlIGNhc2VzLCB3ZSBhcmUgc28gY2xvc2UgdG8gMCB0aGF0IDAgd29ya3Mgd2VsbCFcclxuZnVuY3Rpb24gZmxvYXQzMlN0cmluZyh2KSB7XHJcbiAgcmV0dXJuIE1hdGguYWJzKHYpID4gMWUtMzcgPyB2IDogMFxyXG59XHJcblxyXG4vLyBDcmVhdGUgbWF0cml4IGFycmF5IGZvciBsb29waW5nXHJcbnZhciBhYmNkZWYgPSAnYWJjZGVmJy5zcGxpdCgnJylcclxuXG4vLyBBZGQgQ3VzdG9tRXZlbnQgdG8gSUU5IGFuZCBJRTEwXHJcbmlmICh0eXBlb2Ygd2luZG93LkN1c3RvbUV2ZW50ICE9PSAnZnVuY3Rpb24nKSB7XHJcbiAgLy8gQ29kZSBmcm9tOiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvQ3VzdG9tRXZlbnRcclxuICB2YXIgQ3VzdG9tRXZlbnRQb2x5ID0gZnVuY3Rpb24oZXZlbnQsIG9wdGlvbnMpIHtcclxuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHsgYnViYmxlczogZmFsc2UsIGNhbmNlbGFibGU6IGZhbHNlLCBkZXRhaWw6IHVuZGVmaW5lZCB9XHJcbiAgICB2YXIgZSA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdDdXN0b21FdmVudCcpXHJcbiAgICBlLmluaXRDdXN0b21FdmVudChldmVudCwgb3B0aW9ucy5idWJibGVzLCBvcHRpb25zLmNhbmNlbGFibGUsIG9wdGlvbnMuZGV0YWlsKVxyXG4gICAgcmV0dXJuIGVcclxuICB9XHJcblxyXG4gIEN1c3RvbUV2ZW50UG9seS5wcm90b3R5cGUgPSB3aW5kb3cuRXZlbnQucHJvdG90eXBlXHJcblxyXG4gIFNWRy5DdXN0b21FdmVudCA9IEN1c3RvbUV2ZW50UG9seVxyXG59IGVsc2Uge1xyXG4gIFNWRy5DdXN0b21FdmVudCA9IHdpbmRvdy5DdXN0b21FdmVudFxyXG59XHJcblxyXG4vLyByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgLyBjYW5jZWxBbmltYXRpb25GcmFtZSBQb2x5ZmlsbCB3aXRoIGZhbGxiYWNrIGJhc2VkIG9uIFBhdWwgSXJpc2hcclxuKGZ1bmN0aW9uKHcpIHtcclxuICB2YXIgbGFzdFRpbWUgPSAwXHJcbiAgdmFyIHZlbmRvcnMgPSBbJ21veicsICd3ZWJraXQnXVxyXG5cclxuICBmb3IodmFyIHggPSAwOyB4IDwgdmVuZG9ycy5sZW5ndGggJiYgIXdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWU7ICsreCkge1xyXG4gICAgdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSB3W3ZlbmRvcnNbeF0gKyAnUmVxdWVzdEFuaW1hdGlvbkZyYW1lJ11cclxuICAgIHcuY2FuY2VsQW5pbWF0aW9uRnJhbWUgID0gd1t2ZW5kb3JzW3hdICsgJ0NhbmNlbEFuaW1hdGlvbkZyYW1lJ10gfHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd1t2ZW5kb3JzW3hdICsgJ0NhbmNlbFJlcXVlc3RBbmltYXRpb25GcmFtZSddXHJcbiAgfVxyXG5cclxuICB3LnJlcXVlc3RBbmltYXRpb25GcmFtZSA9IHcucmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8XHJcbiAgICBmdW5jdGlvbihjYWxsYmFjaykge1xyXG4gICAgICB2YXIgY3VyclRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKVxyXG4gICAgICB2YXIgdGltZVRvQ2FsbCA9IE1hdGgubWF4KDAsIDE2IC0gKGN1cnJUaW1lIC0gbGFzdFRpbWUpKVxyXG5cclxuICAgICAgdmFyIGlkID0gdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGNhbGxiYWNrKGN1cnJUaW1lICsgdGltZVRvQ2FsbClcclxuICAgICAgfSwgdGltZVRvQ2FsbClcclxuXHJcbiAgICAgIGxhc3RUaW1lID0gY3VyclRpbWUgKyB0aW1lVG9DYWxsXHJcbiAgICAgIHJldHVybiBpZFxyXG4gICAgfVxyXG5cclxuICB3LmNhbmNlbEFuaW1hdGlvbkZyYW1lID0gdy5jYW5jZWxBbmltYXRpb25GcmFtZSB8fCB3LmNsZWFyVGltZW91dDtcclxuXHJcbn0od2luZG93KSlcclxuXHJcbnJldHVybiBTVkdcclxuXHJcbn0pKTtcciJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBLFdBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/svg.js/dist/svg.js\n");

/***/ }),

/***/ "jimu-core":
/*!****************************!*\
  !*** external "jimu-core" ***!
  \****************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = __WEBPACK_EXTERNAL_MODULE_jimu_core__;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiamltdS1jb3JlLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwiamltdS1jb3JlXCI/YzY5NSJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfamltdV9jb3JlX187Il0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///jimu-core\n");

/***/ }),

/***/ "jimu-core/dnd":
/*!********************************!*\
  !*** external "jimu-core/dnd" ***!
  \********************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = __WEBPACK_EXTERNAL_MODULE_jimu_core_dnd__;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiamltdS1jb3JlL2RuZC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9leHRlcm5hbCBcImppbXUtY29yZS9kbmRcIj9hYTBhIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9qaW11X2NvcmVfZG5kX187Il0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///jimu-core/dnd\n");

/***/ }),

/***/ "jimu-for-builder":
/*!***********************************!*\
  !*** external "jimu-for-builder" ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = __WEBPACK_EXTERNAL_MODULE_jimu_for_builder__;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiamltdS1mb3ItYnVpbGRlci5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9leHRlcm5hbCBcImppbXUtZm9yLWJ1aWxkZXJcIj8xY2IyIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9qaW11X2Zvcl9idWlsZGVyX187Il0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///jimu-for-builder\n");

/***/ }),

/***/ "jimu-layouts/layout-runtime":
/*!**********************************************!*\
  !*** external "jimu-layouts/layout-runtime" ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = __WEBPACK_EXTERNAL_MODULE_jimu_layouts_layout_runtime__;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiamltdS1sYXlvdXRzL2xheW91dC1ydW50aW1lLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwiamltdS1sYXlvdXRzL2xheW91dC1ydW50aW1lXCI/Njc5NiJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfamltdV9sYXlvdXRzX2xheW91dF9ydW50aW1lX187Il0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///jimu-layouts/layout-runtime\n");

/***/ }),

/***/ "jimu-ui":
/*!**************************!*\
  !*** external "jimu-ui" ***!
  \**************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = __WEBPACK_EXTERNAL_MODULE_jimu_ui__;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiamltdS11aS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9leHRlcm5hbCBcImppbXUtdWlcIj8zNTQzIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9qaW11X3VpX187Il0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///jimu-ui\n");

/***/ }),

/***/ "jimu-ui/advanced/setting-components":
/*!******************************************************!*\
  !*** external "jimu-ui/advanced/setting-components" ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = __WEBPACK_EXTERNAL_MODULE_jimu_ui_advanced_setting_components__;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiamltdS11aS9hZHZhbmNlZC9zZXR0aW5nLWNvbXBvbmVudHMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJqaW11LXVpL2FkdmFuY2VkL3NldHRpbmctY29tcG9uZW50c1wiP2RlZTIiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX2ppbXVfdWlfYWR2YW5jZWRfc2V0dGluZ19jb21wb25lbnRzX187Il0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///jimu-ui/advanced/setting-components\n");

/***/ }),

/***/ "jimu-ui/advanced/style-setting-components":
/*!************************************************************!*\
  !*** external "jimu-ui/advanced/style-setting-components" ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = __WEBPACK_EXTERNAL_MODULE_jimu_ui_advanced_style_setting_components__;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiamltdS11aS9hZHZhbmNlZC9zdHlsZS1zZXR0aW5nLWNvbXBvbmVudHMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJqaW11LXVpL2FkdmFuY2VkL3N0eWxlLXNldHRpbmctY29tcG9uZW50c1wiPzhiNWIiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX2ppbXVfdWlfYWR2YW5jZWRfc3R5bGVfc2V0dGluZ19jb21wb25lbnRzX187Il0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///jimu-ui/advanced/style-setting-components\n");

/***/ })

/******/ })
			);
		}
	};
});