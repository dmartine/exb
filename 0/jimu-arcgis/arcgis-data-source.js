System.register(["jimu-core","jimu-core/data-source"], function(__WEBPACK_DYNAMIC_EXPORT__) {
	var __WEBPACK_EXTERNAL_MODULE_jimu_core__, __WEBPACK_EXTERNAL_MODULE_jimu_core_data_source__;
	return {
		setters: [
			function(module) {
				__WEBPACK_EXTERNAL_MODULE_jimu_core__ = module;
			},
			function(module) {
				__WEBPACK_EXTERNAL_MODULE_jimu_core_data_source__ = module;
			}
		],
		execute: function() {
			__WEBPACK_DYNAMIC_EXPORT__(
/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./jimu-arcgis/arcgis-data-source.ts");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./jimu-arcgis/arcgis-data-source.ts":
/*!*******************************************!*\
  !*** ./jimu-arcgis/arcgis-data-source.ts ***!
  \*******************************************/
/*! exports provided: default, ArcGISDataSourceFactory, MapDataSourceImpl, WebMapDataSourceImpl, WebSceneDataSourceImpl, DataSourceTypes, LayerTypes, FeatureLayerDataSource, FeatureDataRecord, ArcGISDataSourceTypes */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _lib_data_sources__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./lib/data-sources */ \"./jimu-arcgis/lib/data-sources/index.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ArcGISDataSourceFactory\", function() { return _lib_data_sources__WEBPACK_IMPORTED_MODULE_0__[\"ArcGISDataSourceFactory\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"MapDataSourceImpl\", function() { return _lib_data_sources__WEBPACK_IMPORTED_MODULE_0__[\"MapDataSourceImpl\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"WebMapDataSourceImpl\", function() { return _lib_data_sources__WEBPACK_IMPORTED_MODULE_0__[\"WebMapDataSourceImpl\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"WebSceneDataSourceImpl\", function() { return _lib_data_sources__WEBPACK_IMPORTED_MODULE_0__[\"WebSceneDataSourceImpl\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"DataSourceTypes\", function() { return _lib_data_sources__WEBPACK_IMPORTED_MODULE_0__[\"DataSourceTypes\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"LayerTypes\", function() { return _lib_data_sources__WEBPACK_IMPORTED_MODULE_0__[\"LayerTypes\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"FeatureLayerDataSource\", function() { return _lib_data_sources__WEBPACK_IMPORTED_MODULE_0__[\"FeatureLayerDataSource\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"FeatureDataRecord\", function() { return _lib_data_sources__WEBPACK_IMPORTED_MODULE_0__[\"FeatureDataRecord\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ArcGISDataSourceTypes\", function() { return _lib_data_sources__WEBPACK_IMPORTED_MODULE_0__[\"ArcGISDataSourceTypes\"]; });\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (_lib_data_sources__WEBPACK_IMPORTED_MODULE_0__[\"ArcGISDataSourceFactory\"]);\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWFyY2dpcy9hcmNnaXMtZGF0YS1zb3VyY2UudHMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qaW11LWFyY2dpcy9hcmNnaXMtZGF0YS1zb3VyY2UudHM/MDYxNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0FyY0dJU0RhdGFTb3VyY2VGYWN0b3J5fSBmcm9tICcuL2xpYi9kYXRhLXNvdXJjZXMnO1xuXG5leHBvcnQgZGVmYXVsdCBBcmNHSVNEYXRhU291cmNlRmFjdG9yeTtcblxuZXhwb3J0ICogZnJvbSAnLi9saWIvZGF0YS1zb3VyY2VzJzsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBRUE7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./jimu-arcgis/arcgis-data-source.ts\n");

/***/ }),

/***/ "./jimu-arcgis/lib/data-sources/arcgis-data-source-interface.ts":
/*!**********************************************************************!*\
  !*** ./jimu-arcgis/lib/data-sources/arcgis-data-source-interface.ts ***!
  \**********************************************************************/
/*! exports provided: DataSourceTypes, LayerTypes, FeatureLayerDataSource, FeatureDataRecord, ArcGISDataSourceTypes */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DataSourceTypes\", function() { return DataSourceTypes; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"LayerTypes\", function() { return LayerTypes; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ArcGISDataSourceTypes\", function() { return DataSourceTypes; });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jimu_core__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"FeatureLayerDataSource\", function() { return jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"FeatureLayerDataSource\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"FeatureDataRecord\", function() { return jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"FeatureDataRecord\"]; });\n\n\nvar DataSourceTypes;\n(function (DataSourceTypes) {\n    DataSourceTypes[\"Map\"] = \"MAP\";\n    DataSourceTypes[\"WebMap\"] = \"WEB_MAP\";\n    DataSourceTypes[\"WebScene\"] = \"WEB_SCENE\";\n})(DataSourceTypes || (DataSourceTypes = {}));\nvar LayerTypes;\n(function (LayerTypes) {\n    LayerTypes[\"BaseDynamicLayer\"] = \"base-dynamic\";\n    LayerTypes[\"BaseElevationLayer\"] = \"base-elevation\";\n    LayerTypes[\"BaseTileLayer\"] = \"base-tile\";\n    LayerTypes[\"BuildingSceneLayer\"] = \"building-scene\";\n    LayerTypes[\"CSVLayer\"] = \"csv\";\n    LayerTypes[\"ElevationLayer\"] = \"elevation\";\n    LayerTypes[\"FeatureLayer\"] = \"feature\";\n    LayerTypes[\"GeoJSONLayer\"] = \"geojson\";\n    LayerTypes[\"GeoRSSLayer\"] = \"geo-rss\";\n    LayerTypes[\"GraphicsLayer\"] = \"graphics\";\n    LayerTypes[\"GroupLayer\"] = \"group\";\n    LayerTypes[\"ImageryLayer\"] = \"imagery\";\n    LayerTypes[\"IntegratedMeshLayer\"] = \"integrated-mesh\";\n    LayerTypes[\"KMLLayer\"] = \"kml\";\n    LayerTypes[\"MapImageLayer\"] = \"map-image\";\n    LayerTypes[\"MapNotesLayer\"] = \"map-notes\";\n    LayerTypes[\"PointCloudLayer\"] = \"point-cloud\";\n    LayerTypes[\"SceneLayer\"] = \"scene\";\n    LayerTypes[\"TileLayer\"] = \"tile\";\n    LayerTypes[\"UnknownLayer\"] = \"unknown\";\n    LayerTypes[\"UnsupportedLayer\"] = \"unsupported\";\n    LayerTypes[\"VectorTileLayer\"] = \"vector-tile\";\n    LayerTypes[\"WMSLayer\"] = \"wms\";\n    LayerTypes[\"WMTSLayer\"] = \"wmts\";\n    LayerTypes[\"WebTileLayer\"] = \"web-tile\";\n})(LayerTypes || (LayerTypes = {}));\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWFyY2dpcy9saWIvZGF0YS1zb3VyY2VzL2FyY2dpcy1kYXRhLXNvdXJjZS1pbnRlcmZhY2UudHMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qaW11LWFyY2dpcy9saWIvZGF0YS1zb3VyY2VzL2FyY2dpcy1kYXRhLXNvdXJjZS1pbnRlcmZhY2UudHM/MDA2YiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJTURhdGFTb3VyY2VTY2hlbWEsIERhdGFTb3VyY2UsIEZlYXR1cmVMYXllckRhdGFTb3VyY2UsIE1hcFNlcnZpY2VEYXRhU291cmNlLCBGZWF0dXJlRGF0YVJlY29yZCwgR3JvdXBMYXllckRhdGFTb3VyY2UsXG4gIFNjZW5lTGF5ZXJEYXRhU291cmNlIH0gZnJvbSAnamltdS1jb3JlJztcblxuZXhwb3J0IGVudW0gRGF0YVNvdXJjZVR5cGVze1xuICBNYXAgPSAnTUFQJyxcbiAgV2ViTWFwID0gJ1dFQl9NQVAnLFxuICBXZWJTY2VuZSA9ICdXRUJfU0NFTkUnLFxufVxuXG5leHBvcnQgZW51bSBMYXllclR5cGVze1xuICBCYXNlRHluYW1pY0xheWVyID0gJ2Jhc2UtZHluYW1pYycsXG4gIEJhc2VFbGV2YXRpb25MYXllciA9ICdiYXNlLWVsZXZhdGlvbicsXG4gIEJhc2VUaWxlTGF5ZXIgPSAnYmFzZS10aWxlJyxcbiAgQnVpbGRpbmdTY2VuZUxheWVyID0gJ2J1aWxkaW5nLXNjZW5lJyxcbiAgQ1NWTGF5ZXIgPSAnY3N2JyxcbiAgRWxldmF0aW9uTGF5ZXIgPSAnZWxldmF0aW9uJyxcbiAgRmVhdHVyZUxheWVyID0gJ2ZlYXR1cmUnLFxuICBHZW9KU09OTGF5ZXIgPSAnZ2VvanNvbicsXG4gIEdlb1JTU0xheWVyID0gJ2dlby1yc3MnLFxuICBHcmFwaGljc0xheWVyID0gJ2dyYXBoaWNzJyxcbiAgR3JvdXBMYXllciA9ICdncm91cCcsXG4gIEltYWdlcnlMYXllciA9ICdpbWFnZXJ5JyxcbiAgSW50ZWdyYXRlZE1lc2hMYXllciA9ICdpbnRlZ3JhdGVkLW1lc2gnLFxuICBLTUxMYXllciA9ICdrbWwnLFxuICBNYXBJbWFnZUxheWVyID0gJ21hcC1pbWFnZScsXG4gIE1hcE5vdGVzTGF5ZXIgPSAnbWFwLW5vdGVzJyxcbiAgUG9pbnRDbG91ZExheWVyID0gJ3BvaW50LWNsb3VkJyxcbiAgU2NlbmVMYXllciA9ICdzY2VuZScsXG4gIFRpbGVMYXllciA9ICd0aWxlJyxcbiAgVW5rbm93bkxheWVyID0gJ3Vua25vd24nLFxuICBVbnN1cHBvcnRlZExheWVyID0gJ3Vuc3VwcG9ydGVkJyxcbiAgVmVjdG9yVGlsZUxheWVyID0gJ3ZlY3Rvci10aWxlJyxcbiAgV01TTGF5ZXIgPSAnd21zJyxcbiAgV01UU0xheWVyID0gJ3dtdHMnLFxuICBXZWJUaWxlTGF5ZXIgPSAnd2ViLXRpbGUnXG59XG5cbmV4cG9ydCB0eXBlIE1hcENoaWxkRGF0YVNvdXJjZSA9IEZlYXR1cmVMYXllckRhdGFTb3VyY2UgfCBNYXBTZXJ2aWNlRGF0YVNvdXJjZSB8IEdyb3VwTGF5ZXJEYXRhU291cmNlIHwgU2NlbmVMYXllckRhdGFTb3VyY2U7XG5cbmV4cG9ydCBpbnRlcmZhY2UgTWFwRGF0YVNvdXJjZSBleHRlbmRzIERhdGFTb3VyY2V7XG4gIHR5cGU6IERhdGFTb3VyY2VUeXBlcy5NYXAgfCBEYXRhU291cmNlVHlwZXMuV2ViTWFwIHwgRGF0YVNvdXJjZVR5cGVzLldlYlNjZW5lO1xuICBtYXA6IF9fZXNyaS5NYXA7XG4gIHJlYWR5OiAoKSA9PiBQcm9taXNlPE1hcENoaWxkRGF0YVNvdXJjZVtdPjtcbiAgZmV0Y2hTY2hlbWE6ICgpID0+IFByb21pc2U8SU1EYXRhU291cmNlU2NoZW1hPjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBXZWJNYXBEYXRhU291cmNlIGV4dGVuZHMgTWFwRGF0YVNvdXJjZXtcbiAgdHlwZTogRGF0YVNvdXJjZVR5cGVzLldlYk1hcDtcbiAgbWFwOiBfX2VzcmkuV2ViTWFwO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFdlYlNjZW5lRGF0YVNvdXJjZSBleHRlbmRzIE1hcERhdGFTb3VyY2V7XG4gIHR5cGU6IERhdGFTb3VyY2VUeXBlcy5XZWJTY2VuZTtcbiAgbWFwOiBfX2VzcmkuV2ViU2NlbmU7XG59XG5cbmV4cG9ydCB7IEZlYXR1cmVMYXllckRhdGFTb3VyY2UsIEZlYXR1cmVEYXRhUmVjb3JkLCBEYXRhU291cmNlVHlwZXMgYXMgQXJjR0lTRGF0YVNvdXJjZVR5cGVzIH07XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXFCQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./jimu-arcgis/lib/data-sources/arcgis-data-source-interface.ts\n");

/***/ }),

/***/ "./jimu-arcgis/lib/data-sources/implementations/map-data-source-impl.ts":
/*!******************************************************************************!*\
  !*** ./jimu-arcgis/lib/data-sources/implementations/map-data-source-impl.ts ***!
  \******************************************************************************/
/*! exports provided: MapDataSourceImpl */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MapDataSourceImpl\", function() { return MapDataSourceImpl; });\n/* harmony import */ var jimu_core_data_source__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core/data-source */ \"jimu-core/data-source\");\n/* harmony import */ var jimu_core_data_source__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jimu_core_data_source__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jimu_core__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _arcgis_data_source_interface__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../arcgis-data-source-interface */ \"./jimu-arcgis/lib/data-sources/arcgis-data-source-interface.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\nvar MapDataSourceImpl = /** @class */ (function (_super) {\n    __extends(MapDataSourceImpl, _super);\n    function MapDataSourceImpl(options) {\n        var _this = _super.call(this, options) || this;\n        _this.type = _arcgis_data_source_interface__WEBPACK_IMPORTED_MODULE_2__[\"DataSourceTypes\"].Map;\n        _this.map = options.map;\n        return _this;\n    }\n    MapDataSourceImpl.prototype.ready = function () {\n        var _this = this;\n        return Object(jimu_core__WEBPACK_IMPORTED_MODULE_1__[\"loadArcGISJSAPIModules\"])([\n            'esri/Map',\n            'esri/layers/FeatureLayer'\n        ]).then(function (modules) {\n            _this.Map = modules[0], _this.FeatureLayer = modules[1];\n            if (!_this.map) {\n                _this._createMap();\n            }\n            return _this._createChildDataSources();\n        });\n    };\n    MapDataSourceImpl.prototype.fetchSchema = function () {\n        var _this = this;\n        var _a, _b;\n        var dss = this.getChildDataSources();\n        var mapSchema = Object(jimu_core__WEBPACK_IMPORTED_MODULE_1__[\"Immutable\"])({ childSchemas: {}, label: (_b = (_a = this.map) === null || _a === void 0 ? void 0 : _a.portalItem) === null || _b === void 0 ? void 0 : _b.title });\n        dss.map(function (ds, i) {\n            var _a;\n            var layerSchema = ds.getFetchedSchema();\n            var id = _this._getFixedLayerId((_a = dss[i]) === null || _a === void 0 ? void 0 : _a.layer, dss[i]);\n            mapSchema = mapSchema.setIn(['childSchemas', id], layerSchema);\n        });\n        return Promise.resolve(mapSchema);\n    };\n    /**\n     * Find data source with a specific layer.\n     * The specific layer can be direct child layer of the map or descendant layer of the map.\n     *\n     * @param layerId layer id of the specific layer\n     * @param layerUrl layer url of the specific layer, with layerId in then end (e.g. https://xxx/arcgis/rest/services/xxx/MapServer/1).\n     * @param rootLayerId layer id of the root layer, root layer is the direct child layer of the map, at the same time, is the ancestor layer of the specific layer.\n     *\n     * For example, we have a map which has a map service layer A and we want to get the data source with feature layer B (B is a sublayer of the map service layer),\n     * we should call `mapDataSource.getDataSourceByLayer(idOfLayerB, urlOfLayerB, idOfLayerA)`.\n     *\n     * We need root layer id because:\n     * 1. A map can add one same service as layer multiple times and we need to get the unique root layer by id.\n     * 2. Sublayers under one service can not have duplicated id or url.\n     *\n     */\n    MapDataSourceImpl.prototype.getDataSourceByLayer = function (layerId, layerUrl, rootLayerId) {\n        if (!layerId || !rootLayerId) {\n            return null;\n        }\n        var rootLayerDataSource = this.getChildDataSources().find(function (ds) { var _a, _b; return ((_b = (_a = ds) === null || _a === void 0 ? void 0 : _a.layer) === null || _b === void 0 ? void 0 : _b.id) === rootLayerId; });\n        return this._deepSearchDataSourceByLayer(rootLayerDataSource, layerId, layerUrl);\n    };\n    /**\n     * Return all descendant data sources with specific data source type.\n     */\n    MapDataSourceImpl.prototype.getDataSourcesByType = function (type) {\n        if (!type) {\n            return [];\n        }\n        var dataSourcesWithSpecificType = [];\n        this._traverseToGetDataSourcesByType(type, this, dataSourcesWithSpecificType);\n        return dataSourcesWithSpecificType;\n    };\n    MapDataSourceImpl.prototype._createChildDataSources = function () {\n        var _this = this;\n        //TODO other layers\n        var promises = [];\n        var constructorPromises = [];\n        this.map.layers.toArray()\n            .forEach(function (layer) {\n            var url = jimu_core__WEBPACK_IMPORTED_MODULE_1__[\"dataSourceUtils\"].getUrlByLayer(layer);\n            var id = _this._getFixedLayerId(layer);\n            constructorPromises.push(_this._getDataSourceConstructorOptions(id, url, _this.getDataSourceJson(), layer)\n                .then(function (constructorOptions) {\n                constructorOptions.forEach(function (options) {\n                    promises.push(_this.dataSourceManager.createDataSource(options));\n                });\n            }));\n        });\n        this._childDataSourcesPromise = Promise.all(constructorPromises).then(function () { return Promise.all(promises).then(function (childDataSources) {\n            var newLayers = [];\n            if (childDataSources && childDataSources.length > 0) {\n                childDataSources.forEach(function (c) { return _this._traverseToCreateLayerForDataSource(c, newLayers); });\n            }\n            return Promise.all(newLayers.map(function (l) { return l.load(); })).then(function () { return childDataSources; }, function (err) {\n                console.error('load layer error: ', err);\n                return childDataSources;\n            });\n        }); });\n        return this._childDataSourcesPromise;\n    };\n    MapDataSourceImpl.prototype._getFixedLayerId = function (layer, ds) {\n        var _a, _b, _c, _d;\n        var fixedLayerId = jimu_core__WEBPACK_IMPORTED_MODULE_1__[\"dataSourceUtils\"].getFixedLayerIdByLayer(layer);\n        return jimu_core__WEBPACK_IMPORTED_MODULE_1__[\"dataSourceUtils\"].fixLayerId(fixedLayerId\n            || (((_a = ds) === null || _a === void 0 ? void 0 : _a.getLayerDefinition) && ((_b = ds.getLayerDefinition()) === null || _b === void 0 ? void 0 : _b.name))\n            || (((_c = ds) === null || _c === void 0 ? void 0 : _c.getServiceDefinition) && ((_d = ds.getServiceDefinition()) === null || _d === void 0 ? void 0 : _d.name)));\n    };\n    MapDataSourceImpl.prototype._deepSearchDataSourceByLayer = function (dataSource, layerId, layerUrl) {\n        if (!dataSource || !layerId) {\n            return null;\n        }\n        if (this._isDataSourceWithLayer(dataSource, layerId, layerUrl)) {\n            return dataSource;\n        }\n        var dataSourceWithLayer = null;\n        var childDataSources = dataSource.isDataSourceSet && dataSource.getChildDataSources();\n        if (childDataSources) {\n            for (var i = 0; i < childDataSources.length; i++) {\n                dataSourceWithLayer = this._deepSearchDataSourceByLayer(childDataSources[i], layerId, layerUrl);\n                if (dataSourceWithLayer) {\n                    break;\n                }\n            }\n        }\n        return dataSourceWithLayer;\n    };\n    MapDataSourceImpl.prototype._traverseToGetDataSourcesByType = function (type, dataSource, dataSourcesWithSpecificType) {\n        var _this = this;\n        if (!type || !dataSource || !dataSourcesWithSpecificType) {\n            return;\n        }\n        if (dataSource.type === type) {\n            dataSourcesWithSpecificType.push(dataSource);\n        }\n        var childDataSources = dataSource.isDataSourceSet && dataSource.getChildDataSources();\n        if (childDataSources) {\n            childDataSources.forEach(function (childDataSource) {\n                _this._traverseToGetDataSourcesByType(type, childDataSource, dataSourcesWithSpecificType);\n            });\n        }\n    };\n    MapDataSourceImpl.prototype._traverseToCreateLayerForDataSource = function (dataSource, newLayers) {\n        var _this = this;\n        if (!dataSource) {\n            return;\n        }\n        var needToCreateLayer = this._getWhetherNeedToCreateLayer(dataSource);\n        /**\n         * Actually only sublayers of map service layer will need to create a new layer\n         * since sublayer is not a real layer.\n         * And in these sublayers, we only support feature layer.\n         * So we only need to create feature layer.\n         */\n        if (needToCreateLayer && dataSource.type === jimu_core_data_source__WEBPACK_IMPORTED_MODULE_0__[\"DataSourceTypes\"].FeatureLayer) {\n            if (dataSource.layer.url) {\n                dataSource.layer = new this.FeatureLayer({\n                    id: dataSource.layer.id,\n                    url: jimu_core__WEBPACK_IMPORTED_MODULE_1__[\"dataSourceUtils\"].getUrlByLayer(dataSource.layer),\n                    renderer: dataSource.layer.renderer\n                });\n                newLayers.push(dataSource.layer);\n            }\n        }\n        var childDataSources = dataSource.isDataSourceSet && dataSource.getChildDataSources();\n        if (childDataSources) {\n            childDataSources.forEach(function (childDataSource) {\n                _this._traverseToCreateLayerForDataSource(childDataSource, newLayers);\n            });\n        }\n    };\n    MapDataSourceImpl.prototype._getWhetherNeedToCreateLayer = function (dataSource) {\n        var _a;\n        if (!dataSource) { // there is no need to create layer for null or undefined\n            return false;\n        }\n        return !dataSource.layer\n            || ((_a = dataSource.layer.declaredClass) === null || _a === void 0 ? void 0 : _a.indexOf('Sublayer')) > -1;\n    };\n    MapDataSourceImpl.prototype._isDataSourceWithLayer = function (dataSource, layerId, layerUrl) {\n        var _a, _b, _c;\n        var url = jimu_core__WEBPACK_IMPORTED_MODULE_1__[\"dataSourceUtils\"].getUrlByLayer((_a = dataSource) === null || _a === void 0 ? void 0 : _a.layer);\n        return \"\" + ((_c = (_b = dataSource) === null || _b === void 0 ? void 0 : _b.layer) === null || _c === void 0 ? void 0 : _c.id) === \"\" + layerId && (url === layerUrl || (!url && !layerUrl));\n    };\n    MapDataSourceImpl.prototype._createMap = function () {\n        var _this = this;\n        this.map = new this.Map();\n        this.getDataSourceJson().layers.forEach(function (layer) {\n            _this.map.layers.add(new _this.FeatureLayer(layer));\n        });\n    };\n    /**\n     * If get data source options from table, will not pass `layer`.\n     */\n    MapDataSourceImpl.prototype._getDataSourceConstructorOptions = function (id, url, dsJsonInConfig, layer) {\n        var _this = this;\n        if (!id) {\n            return Promise.resolve([]);\n        }\n        var otherConstructorOptionsPromises = [];\n        var sceneLayerConstructorOptionsPromises = [];\n        var jimuChildIds = this.getJimuChildId(id);\n        jimuChildIds.forEach(function (jimuChildId) {\n            var schema = _this.getDataSourceJson().schema ? _this.getDataSourceJson().schema.childSchemas[jimuChildId] : null;\n            var dsId = _this.getChildDataSourceId(jimuChildId);\n            var childDsJsonInConfig = (dsJsonInConfig === null || dsJsonInConfig === void 0 ? void 0 : dsJsonInConfig.childDataSourceJsons) && dsJsonInConfig.childDataSourceJsons[jimuChildId] ? dsJsonInConfig.childDataSourceJsons[jimuChildId] : null;\n            var dsJson = Object(jimu_core__WEBPACK_IMPORTED_MODULE_1__[\"Immutable\"])({\n                id: dsId,\n                type: jimu_core_data_source__WEBPACK_IMPORTED_MODULE_0__[\"DataSourceTypes\"].FeatureLayer\n            });\n            if (childDsJsonInConfig) {\n                dsJson = dsJson.merge(childDsJsonInConfig.asMutable({ deep: true }));\n            }\n            if (url) {\n                dsJson = dsJson.set('url', url.replace(/^http:/, 'https:'));\n            }\n            if (schema) {\n                dsJson = dsJson.set('schema', schema);\n            }\n            var singleOptions;\n            if (layer) {\n                if (layer.type === jimu_core__WEBPACK_IMPORTED_MODULE_1__[\"SupportedLayerTypes\"].SceneLayer) {\n                    sceneLayerConstructorOptionsPromises.push(layer.load().then(function () {\n                        if (!layer.associatedLayer) {\n                            return null;\n                        }\n                        else {\n                            return {\n                                id: dsJson.id,\n                                dataSourceJson: dsJson.set('type', jimu_core_data_source__WEBPACK_IMPORTED_MODULE_0__[\"DataSourceTypes\"].SceneLayer),\n                                layer: layer,\n                                parentDataSource: _this,\n                                jimuChildId: jimuChildId\n                            };\n                        }\n                    }));\n                }\n                else {\n                    switch (layer.type) {\n                        case jimu_core__WEBPACK_IMPORTED_MODULE_1__[\"SupportedLayerTypes\"].FeatureLayer:\n                            singleOptions = {\n                                id: dsJson.id,\n                                dataSourceJson: dsJson,\n                                layer: layer,\n                                parentDataSource: _this,\n                                jimuChildId: jimuChildId\n                            };\n                            break;\n                        case jimu_core__WEBPACK_IMPORTED_MODULE_1__[\"SupportedLayerTypes\"].MapImageLayer:\n                        case jimu_core__WEBPACK_IMPORTED_MODULE_1__[\"SupportedLayerTypes\"].TileLayer:\n                            singleOptions = {\n                                id: dsJson.id,\n                                dataSourceJson: dsJson.set('type', jimu_core_data_source__WEBPACK_IMPORTED_MODULE_0__[\"DataSourceTypes\"].MapService),\n                                layer: layer,\n                                parentDataSource: _this,\n                                jimuChildId: jimuChildId\n                            };\n                            break;\n                        case jimu_core__WEBPACK_IMPORTED_MODULE_1__[\"SupportedLayerTypes\"].GroupLayer:\n                            singleOptions = {\n                                id: dsJson.id,\n                                dataSourceJson: dsJson.set('type', jimu_core_data_source__WEBPACK_IMPORTED_MODULE_0__[\"DataSourceTypes\"].GroupLayer),\n                                layer: layer,\n                                parentDataSource: _this,\n                                jimuChildId: jimuChildId\n                            };\n                            break;\n                        default:\n                            break;\n                    }\n                }\n                if (singleOptions) {\n                    otherConstructorOptionsPromises.push(Promise.resolve(singleOptions));\n                }\n            }\n            else {\n                singleOptions = {\n                    id: dsJson.id,\n                    dataSourceJson: dsJson,\n                    parentDataSource: _this,\n                    jimuChildId: jimuChildId\n                };\n                otherConstructorOptionsPromises.push(Promise.resolve(singleOptions));\n            }\n        });\n        return Promise.all(otherConstructorOptionsPromises\n            .concat(sceneLayerConstructorOptionsPromises)).then(function (constructorOptionsArray) { return constructorOptionsArray.filter(function (o) { return !!o; }); });\n    };\n    return MapDataSourceImpl;\n}(jimu_core_data_source__WEBPACK_IMPORTED_MODULE_0__[\"AbstractSetDataSource\"]));\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWFyY2dpcy9saWIvZGF0YS1zb3VyY2VzL2ltcGxlbWVudGF0aW9ucy9tYXAtZGF0YS1zb3VyY2UtaW1wbC50cy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2ppbXUtYXJjZ2lzL2xpYi9kYXRhLXNvdXJjZXMvaW1wbGVtZW50YXRpb25zL21hcC1kYXRhLXNvdXJjZS1pbXBsLnRzP2ZhMWYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQWJzdHJhY3RTZXREYXRhU291cmNlLCBEYXRhU291cmNlQ29uc3RydWN0b3JPcHRpb25zLCBGZWF0dXJlTGF5ZXJEYXRhU291cmNlLCBMYXllckZvbGRlckRhdGFTb3VyY2VDb25zdHJ1Y3Rvck9wdGlvbnMsXG4gIERhdGFTb3VyY2VUeXBlcyBhcyBKaW11Q29yZURhdGFTb3VyY2VUeXBlcywgRm9sZGVyTGF5ZXIsIEZlYXR1cmVMYXllckRhdGFTb3VyY2VDb25zdHJ1Y3Rvck9wdGlvbnMsIE1hcFNlcnZpY2VEYXRhU291cmNlLFxuICBTY2VuZUxheWVyRGF0YVNvdXJjZUNvbnN0cnVjdG9yT3B0aW9ucyB9IGZyb20gJ2ppbXUtY29yZS9kYXRhLXNvdXJjZSc7XG5pbXBvcnQgeyBJTURhdGFTb3VyY2VKc29uLCBJbW11dGFibGUsIElNRGF0YVNvdXJjZVNjaGVtYSwgbG9hZEFyY0dJU0pTQVBJTW9kdWxlcywgZGF0YVNvdXJjZVV0aWxzLCBEYXRhU291cmNlLCBTdXBwb3J0ZWRMYXllclR5cGVzIH0gZnJvbSAnamltdS1jb3JlJztcbmltcG9ydCB7IERhdGFTb3VyY2VUeXBlcywgTWFwRGF0YVNvdXJjZSwgTWFwQ2hpbGREYXRhU291cmNlIH0gZnJvbSAnLi4vYXJjZ2lzLWRhdGEtc291cmNlLWludGVyZmFjZSc7XG5pbXBvcnQgeyBTY2VuZVNlcnZpY2VEYXRhU291cmNlQ29uc3RydWN0b3JPcHRpb25zIH0gZnJvbSAnamltdS1jb3JlL2xpYi9kYXRhLXNvdXJjZXMvaW1wbGVtZW50YXRpb25zL3NjZW5lLXNlcnZpY2UtZGF0YS1zb3VyY2UtaW1wbCc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgTWFwRGF0YVNvdXJjZUNvbnN0cnVjdG9yT3B0aW9ucyBleHRlbmRzIERhdGFTb3VyY2VDb25zdHJ1Y3Rvck9wdGlvbnN7XG4gIG1hcD86IF9fZXNyaS5NYXA7XG59XG5leHBvcnQgY2xhc3MgTWFwRGF0YVNvdXJjZUltcGwgZXh0ZW5kcyBBYnN0cmFjdFNldERhdGFTb3VyY2UgaW1wbGVtZW50cyBNYXBEYXRhU291cmNle1xuICB0eXBlOiBEYXRhU291cmNlVHlwZXMuTWFwIHwgRGF0YVNvdXJjZVR5cGVzLldlYk1hcCB8IERhdGFTb3VyY2VUeXBlcy5XZWJTY2VuZSA9IERhdGFTb3VyY2VUeXBlcy5NYXA7XG4gIG1hcDogX19lc3JpLk1hcDtcbiAgcHJvdGVjdGVkIF9jaGlsZERhdGFTb3VyY2VzUHJvbWlzZTogUHJvbWlzZTxNYXBDaGlsZERhdGFTb3VyY2VbXT47XG4gIE1hcDogdHlwZW9mIF9fZXNyaS5NYXA7XG4gIEZlYXR1cmVMYXllcjogdHlwZW9mIF9fZXNyaS5GZWF0dXJlTGF5ZXI7XG5cbiAgY29uc3RydWN0b3Iob3B0aW9uczogTWFwRGF0YVNvdXJjZUNvbnN0cnVjdG9yT3B0aW9ucyl7XG4gICAgc3VwZXIob3B0aW9ucyk7XG5cbiAgICB0aGlzLm1hcCA9IG9wdGlvbnMubWFwO1xuICB9XG5cbiAgcmVhZHkoKXtcbiAgICByZXR1cm4gbG9hZEFyY0dJU0pTQVBJTW9kdWxlcyhbXG4gICAgICAnZXNyaS9NYXAnLFxuICAgICAgJ2VzcmkvbGF5ZXJzL0ZlYXR1cmVMYXllcidcbiAgICBdKS50aGVuKG1vZHVsZXMgPT4ge1xuICAgICAgW3RoaXMuTWFwLCB0aGlzLkZlYXR1cmVMYXllcl0gPSBtb2R1bGVzO1xuXG4gICAgICBpZighdGhpcy5tYXApe1xuICAgICAgICB0aGlzLl9jcmVhdGVNYXAoKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuX2NyZWF0ZUNoaWxkRGF0YVNvdXJjZXMoKTtcbiAgICB9KTtcbiAgfVxuXG4gIGZldGNoU2NoZW1hKCl7XG4gICAgY29uc3QgZHNzID0gdGhpcy5nZXRDaGlsZERhdGFTb3VyY2VzKCkgYXMgTWFwQ2hpbGREYXRhU291cmNlW107XG5cbiAgICBsZXQgbWFwU2NoZW1hOiBJTURhdGFTb3VyY2VTY2hlbWEgPSBJbW11dGFibGUoe2NoaWxkU2NoZW1hczoge30sIGxhYmVsOiAodGhpcy5tYXAgYXMgX19lc3JpLldlYk1hcCB8IF9fZXNyaS5XZWJTY2VuZSk/LnBvcnRhbEl0ZW0/LnRpdGxlfSkgYXMgSU1EYXRhU291cmNlU2NoZW1hO1xuICAgIGRzcy5tYXAoKGRzLCBpKSA9PiB7XG4gICAgICBjb25zdCBsYXllclNjaGVtYSA9IGRzLmdldEZldGNoZWRTY2hlbWEoKTtcbiAgICAgIGNvbnN0IGlkID0gdGhpcy5fZ2V0Rml4ZWRMYXllcklkKChkc3NbaV0gYXMgRmVhdHVyZUxheWVyRGF0YVNvdXJjZSk/LmxheWVyLCBkc3NbaV0pO1xuXG4gICAgICBtYXBTY2hlbWEgPSBtYXBTY2hlbWEuc2V0SW4oWydjaGlsZFNjaGVtYXMnLCBpZF0sIGxheWVyU2NoZW1hKTtcbiAgICB9KTtcblxuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobWFwU2NoZW1hKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGaW5kIGRhdGEgc291cmNlIHdpdGggYSBzcGVjaWZpYyBsYXllci5cbiAgICogVGhlIHNwZWNpZmljIGxheWVyIGNhbiBiZSBkaXJlY3QgY2hpbGQgbGF5ZXIgb2YgdGhlIG1hcCBvciBkZXNjZW5kYW50IGxheWVyIG9mIHRoZSBtYXAuXG4gICAqXG4gICAqIEBwYXJhbSBsYXllcklkIGxheWVyIGlkIG9mIHRoZSBzcGVjaWZpYyBsYXllclxuICAgKiBAcGFyYW0gbGF5ZXJVcmwgbGF5ZXIgdXJsIG9mIHRoZSBzcGVjaWZpYyBsYXllciwgd2l0aCBsYXllcklkIGluIHRoZW4gZW5kIChlLmcuIGh0dHBzOi8veHh4L2FyY2dpcy9yZXN0L3NlcnZpY2VzL3h4eC9NYXBTZXJ2ZXIvMSkuXG4gICAqIEBwYXJhbSByb290TGF5ZXJJZCBsYXllciBpZCBvZiB0aGUgcm9vdCBsYXllciwgcm9vdCBsYXllciBpcyB0aGUgZGlyZWN0IGNoaWxkIGxheWVyIG9mIHRoZSBtYXAsIGF0IHRoZSBzYW1lIHRpbWUsIGlzIHRoZSBhbmNlc3RvciBsYXllciBvZiB0aGUgc3BlY2lmaWMgbGF5ZXIuXG4gICAqXG4gICAqIEZvciBleGFtcGxlLCB3ZSBoYXZlIGEgbWFwIHdoaWNoIGhhcyBhIG1hcCBzZXJ2aWNlIGxheWVyIEEgYW5kIHdlIHdhbnQgdG8gZ2V0IHRoZSBkYXRhIHNvdXJjZSB3aXRoIGZlYXR1cmUgbGF5ZXIgQiAoQiBpcyBhIHN1YmxheWVyIG9mIHRoZSBtYXAgc2VydmljZSBsYXllciksXG4gICAqIHdlIHNob3VsZCBjYWxsIGBtYXBEYXRhU291cmNlLmdldERhdGFTb3VyY2VCeUxheWVyKGlkT2ZMYXllckIsIHVybE9mTGF5ZXJCLCBpZE9mTGF5ZXJBKWAuXG4gICAqXG4gICAqIFdlIG5lZWQgcm9vdCBsYXllciBpZCBiZWNhdXNlOlxuICAgKiAxLiBBIG1hcCBjYW4gYWRkIG9uZSBzYW1lIHNlcnZpY2UgYXMgbGF5ZXIgbXVsdGlwbGUgdGltZXMgYW5kIHdlIG5lZWQgdG8gZ2V0IHRoZSB1bmlxdWUgcm9vdCBsYXllciBieSBpZC5cbiAgICogMi4gU3VibGF5ZXJzIHVuZGVyIG9uZSBzZXJ2aWNlIGNhbiBub3QgaGF2ZSBkdXBsaWNhdGVkIGlkIG9yIHVybC5cbiAgICpcbiAgICovXG4gIGdldERhdGFTb3VyY2VCeUxheWVyKGxheWVySWQ6IHN0cmluZywgbGF5ZXJVcmw6IHN0cmluZywgcm9vdExheWVySWQ6IHN0cmluZyk6IERhdGFTb3VyY2V7XG4gICAgaWYoIWxheWVySWQgfHwgIXJvb3RMYXllcklkKXtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGNvbnN0IHJvb3RMYXllckRhdGFTb3VyY2UgPSB0aGlzLmdldENoaWxkRGF0YVNvdXJjZXMoKS5maW5kKGRzID0+IChkcyBhcyBhbnkpPy5sYXllcj8uaWQgPT09IHJvb3RMYXllcklkKTtcblxuICAgIHJldHVybiB0aGlzLl9kZWVwU2VhcmNoRGF0YVNvdXJjZUJ5TGF5ZXIocm9vdExheWVyRGF0YVNvdXJjZSwgbGF5ZXJJZCwgbGF5ZXJVcmwpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybiBhbGwgZGVzY2VuZGFudCBkYXRhIHNvdXJjZXMgd2l0aCBzcGVjaWZpYyBkYXRhIHNvdXJjZSB0eXBlLlxuICAgKi9cbiAgZ2V0RGF0YVNvdXJjZXNCeVR5cGUodHlwZTogSmltdUNvcmVEYXRhU291cmNlVHlwZXMgfCBEYXRhU291cmNlVHlwZXMpOiBEYXRhU291cmNlW117XG4gICAgaWYoIXR5cGUpe1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cblxuICAgIGNvbnN0IGRhdGFTb3VyY2VzV2l0aFNwZWNpZmljVHlwZSA9IFtdXG4gICAgdGhpcy5fdHJhdmVyc2VUb0dldERhdGFTb3VyY2VzQnlUeXBlKHR5cGUsIHRoaXMsIGRhdGFTb3VyY2VzV2l0aFNwZWNpZmljVHlwZSk7XG5cbiAgICByZXR1cm4gZGF0YVNvdXJjZXNXaXRoU3BlY2lmaWNUeXBlO1xuICB9XG5cbiAgcHJvdGVjdGVkIF9jcmVhdGVDaGlsZERhdGFTb3VyY2VzKCk6IFByb21pc2U8TWFwQ2hpbGREYXRhU291cmNlW10+e1xuICAgIC8vVE9ETyBvdGhlciBsYXllcnNcbiAgICBjb25zdCBwcm9taXNlczogUHJvbWlzZTxNYXBDaGlsZERhdGFTb3VyY2U+W10gPSBbXTtcbiAgICBjb25zdCBjb25zdHJ1Y3RvclByb21pc2VzID0gW107XG4gICAgdGhpcy5tYXAubGF5ZXJzLnRvQXJyYXkoKVxuICAgICAgLmZvckVhY2gobGF5ZXIgPT4ge1xuICAgICAgICBjb25zdCB1cmwgPSBkYXRhU291cmNlVXRpbHMuZ2V0VXJsQnlMYXllcihsYXllcik7XG4gICAgICAgIGNvbnN0IGlkID0gdGhpcy5fZ2V0Rml4ZWRMYXllcklkKGxheWVyKTtcblxuICAgICAgICBjb25zdHJ1Y3RvclByb21pc2VzLnB1c2goXG4gICAgICAgICAgdGhpcy5fZ2V0RGF0YVNvdXJjZUNvbnN0cnVjdG9yT3B0aW9ucyhpZCwgdXJsLCB0aGlzLmdldERhdGFTb3VyY2VKc29uKCksIGxheWVyKVxuICAgICAgICAgICAgLnRoZW4oY29uc3RydWN0b3JPcHRpb25zID0+IHtcbiAgICAgICAgICAgICAgY29uc3RydWN0b3JPcHRpb25zLmZvckVhY2gob3B0aW9ucyA9PiB7XG4gICAgICAgICAgICAgICAgcHJvbWlzZXMucHVzaChcbiAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YVNvdXJjZU1hbmFnZXIuY3JlYXRlRGF0YVNvdXJjZShvcHRpb25zKSBhcyBQcm9taXNlPE1hcENoaWxkRGF0YVNvdXJjZT5cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIClcbiAgICAgIH0pO1xuXG4gICAgdGhpcy5fY2hpbGREYXRhU291cmNlc1Byb21pc2UgPSBQcm9taXNlLmFsbChjb25zdHJ1Y3RvclByb21pc2VzKS50aGVuKCgpID0+IFByb21pc2UuYWxsKHByb21pc2VzKS50aGVuKGNoaWxkRGF0YVNvdXJjZXMgPT4ge1xuICAgICAgY29uc3QgbmV3TGF5ZXJzID0gW107XG4gICAgICBpZihjaGlsZERhdGFTb3VyY2VzICYmIGNoaWxkRGF0YVNvdXJjZXMubGVuZ3RoID4gMCl7XG4gICAgICAgIGNoaWxkRGF0YVNvdXJjZXMuZm9yRWFjaChjID0+IHRoaXMuX3RyYXZlcnNlVG9DcmVhdGVMYXllckZvckRhdGFTb3VyY2UoYywgbmV3TGF5ZXJzKSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBQcm9taXNlLmFsbChuZXdMYXllcnMubWFwKGwgPT4gbC5sb2FkKCkpKS50aGVuKFxuICAgICAgICAoKSA9PiBjaGlsZERhdGFTb3VyY2VzLFxuICAgICAgICBlcnIgPT4ge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ2xvYWQgbGF5ZXIgZXJyb3I6ICcsIGVycik7XG4gICAgICAgICAgcmV0dXJuIGNoaWxkRGF0YVNvdXJjZXM7XG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgfSkpO1xuICAgIHJldHVybiB0aGlzLl9jaGlsZERhdGFTb3VyY2VzUHJvbWlzZTtcbiAgfVxuXG4gIHByb3RlY3RlZCBfZ2V0Rml4ZWRMYXllcklkKGxheWVyOiBfX2VzcmkuTGF5ZXIsIGRzPzogRGF0YVNvdXJjZSk6IHN0cmluZ3tcbiAgICBjb25zdCBmaXhlZExheWVySWQgPSBkYXRhU291cmNlVXRpbHMuZ2V0Rml4ZWRMYXllcklkQnlMYXllcihsYXllcik7XG4gICAgcmV0dXJuIGRhdGFTb3VyY2VVdGlscy5maXhMYXllcklkKFxuICAgICAgZml4ZWRMYXllcklkXG4gICAgICB8fCAoKGRzIGFzIEZlYXR1cmVMYXllckRhdGFTb3VyY2UpPy5nZXRMYXllckRlZmluaXRpb24gJiYgKGRzIGFzIEZlYXR1cmVMYXllckRhdGFTb3VyY2UpLmdldExheWVyRGVmaW5pdGlvbigpPy5uYW1lKVxuICAgICAgfHwgKChkcyBhcyBNYXBTZXJ2aWNlRGF0YVNvdXJjZSk/LmdldFNlcnZpY2VEZWZpbml0aW9uICYmIChkcyBhcyBNYXBTZXJ2aWNlRGF0YVNvdXJjZSkuZ2V0U2VydmljZURlZmluaXRpb24oKT8ubmFtZSlcbiAgICApO1xuICB9XG5cbiAgcHJvdGVjdGVkIF9kZWVwU2VhcmNoRGF0YVNvdXJjZUJ5TGF5ZXIoZGF0YVNvdXJjZTogRGF0YVNvdXJjZSwgbGF5ZXJJZDogc3RyaW5nLCBsYXllclVybDogc3RyaW5nKTogRGF0YVNvdXJjZXtcbiAgICBpZighZGF0YVNvdXJjZSB8fCAhbGF5ZXJJZCl7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cblxuICAgIGlmKHRoaXMuX2lzRGF0YVNvdXJjZVdpdGhMYXllcihkYXRhU291cmNlLCBsYXllcklkLCBsYXllclVybCkpe1xuICAgICAgcmV0dXJuIGRhdGFTb3VyY2U7XG4gICAgfVxuXG4gICAgbGV0IGRhdGFTb3VyY2VXaXRoTGF5ZXIgPSBudWxsO1xuICAgIGNvbnN0IGNoaWxkRGF0YVNvdXJjZXMgPSBkYXRhU291cmNlLmlzRGF0YVNvdXJjZVNldCAmJiBkYXRhU291cmNlLmdldENoaWxkRGF0YVNvdXJjZXMoKTtcbiAgICBpZihjaGlsZERhdGFTb3VyY2VzKXtcbiAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCBjaGlsZERhdGFTb3VyY2VzLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgZGF0YVNvdXJjZVdpdGhMYXllciA9IHRoaXMuX2RlZXBTZWFyY2hEYXRhU291cmNlQnlMYXllcihjaGlsZERhdGFTb3VyY2VzW2ldLCBsYXllcklkLCBsYXllclVybCk7XG4gICAgICAgIGlmKGRhdGFTb3VyY2VXaXRoTGF5ZXIpe1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGRhdGFTb3VyY2VXaXRoTGF5ZXI7XG4gIH1cblxuICBwcm90ZWN0ZWQgX3RyYXZlcnNlVG9HZXREYXRhU291cmNlc0J5VHlwZSh0eXBlOiBKaW11Q29yZURhdGFTb3VyY2VUeXBlcyB8IERhdGFTb3VyY2VUeXBlcywgZGF0YVNvdXJjZTogRGF0YVNvdXJjZSwgZGF0YVNvdXJjZXNXaXRoU3BlY2lmaWNUeXBlOiBEYXRhU291cmNlW10pe1xuICAgIGlmKCF0eXBlIHx8ICFkYXRhU291cmNlIHx8ICFkYXRhU291cmNlc1dpdGhTcGVjaWZpY1R5cGUpe1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmKGRhdGFTb3VyY2UudHlwZSA9PT0gdHlwZSl7XG4gICAgICBkYXRhU291cmNlc1dpdGhTcGVjaWZpY1R5cGUucHVzaChkYXRhU291cmNlKTtcbiAgICB9XG5cbiAgICBjb25zdCBjaGlsZERhdGFTb3VyY2VzID0gZGF0YVNvdXJjZS5pc0RhdGFTb3VyY2VTZXQgJiYgZGF0YVNvdXJjZS5nZXRDaGlsZERhdGFTb3VyY2VzKCk7XG4gICAgaWYoY2hpbGREYXRhU291cmNlcyl7XG4gICAgICBjaGlsZERhdGFTb3VyY2VzLmZvckVhY2goY2hpbGREYXRhU291cmNlID0+IHtcbiAgICAgICAgdGhpcy5fdHJhdmVyc2VUb0dldERhdGFTb3VyY2VzQnlUeXBlKHR5cGUsIGNoaWxkRGF0YVNvdXJjZSwgZGF0YVNvdXJjZXNXaXRoU3BlY2lmaWNUeXBlKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHByb3RlY3RlZCBfdHJhdmVyc2VUb0NyZWF0ZUxheWVyRm9yRGF0YVNvdXJjZShkYXRhU291cmNlOiBEYXRhU291cmNlLCBuZXdMYXllcnM6IF9fZXNyaS5MYXllcltdKXtcbiAgICBpZighZGF0YVNvdXJjZSl7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IG5lZWRUb0NyZWF0ZUxheWVyID0gdGhpcy5fZ2V0V2hldGhlck5lZWRUb0NyZWF0ZUxheWVyKGRhdGFTb3VyY2UpO1xuICAgIC8qKlxuICAgICAqIEFjdHVhbGx5IG9ubHkgc3VibGF5ZXJzIG9mIG1hcCBzZXJ2aWNlIGxheWVyIHdpbGwgbmVlZCB0byBjcmVhdGUgYSBuZXcgbGF5ZXJcbiAgICAgKiBzaW5jZSBzdWJsYXllciBpcyBub3QgYSByZWFsIGxheWVyLlxuICAgICAqIEFuZCBpbiB0aGVzZSBzdWJsYXllcnMsIHdlIG9ubHkgc3VwcG9ydCBmZWF0dXJlIGxheWVyLlxuICAgICAqIFNvIHdlIG9ubHkgbmVlZCB0byBjcmVhdGUgZmVhdHVyZSBsYXllci5cbiAgICAgKi9cbiAgICBpZihuZWVkVG9DcmVhdGVMYXllciAmJiBkYXRhU291cmNlLnR5cGUgPT09IEppbXVDb3JlRGF0YVNvdXJjZVR5cGVzLkZlYXR1cmVMYXllcil7XG4gICAgICBpZigoZGF0YVNvdXJjZSBhcyBGZWF0dXJlTGF5ZXJEYXRhU291cmNlKS5sYXllci51cmwpe1xuICAgICAgICAoZGF0YVNvdXJjZSBhcyBGZWF0dXJlTGF5ZXJEYXRhU291cmNlKS5sYXllciA9IG5ldyB0aGlzLkZlYXR1cmVMYXllcih7XG4gICAgICAgICAgaWQ6IChkYXRhU291cmNlIGFzIEZlYXR1cmVMYXllckRhdGFTb3VyY2UpLmxheWVyLmlkLFxuICAgICAgICAgIHVybDogZGF0YVNvdXJjZVV0aWxzLmdldFVybEJ5TGF5ZXIoKGRhdGFTb3VyY2UgYXMgRmVhdHVyZUxheWVyRGF0YVNvdXJjZSkubGF5ZXIpLFxuICAgICAgICAgIHJlbmRlcmVyOiAoZGF0YVNvdXJjZSBhcyBGZWF0dXJlTGF5ZXJEYXRhU291cmNlKS5sYXllci5yZW5kZXJlclxuICAgICAgICB9KTtcbiAgICAgICAgbmV3TGF5ZXJzLnB1c2goKGRhdGFTb3VyY2UgYXMgRmVhdHVyZUxheWVyRGF0YVNvdXJjZSkubGF5ZXIpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IGNoaWxkRGF0YVNvdXJjZXMgPSBkYXRhU291cmNlLmlzRGF0YVNvdXJjZVNldCAmJiBkYXRhU291cmNlLmdldENoaWxkRGF0YVNvdXJjZXMoKTtcbiAgICBpZihjaGlsZERhdGFTb3VyY2VzKXtcbiAgICAgIGNoaWxkRGF0YVNvdXJjZXMuZm9yRWFjaChjaGlsZERhdGFTb3VyY2UgPT4ge1xuICAgICAgICB0aGlzLl90cmF2ZXJzZVRvQ3JlYXRlTGF5ZXJGb3JEYXRhU291cmNlKGNoaWxkRGF0YVNvdXJjZSwgbmV3TGF5ZXJzKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHByb3RlY3RlZCBfZ2V0V2hldGhlck5lZWRUb0NyZWF0ZUxheWVyKGRhdGFTb3VyY2U6IERhdGFTb3VyY2UpOiBib29sZWFue1xuICAgIGlmKCFkYXRhU291cmNlKXsgLy8gdGhlcmUgaXMgbm8gbmVlZCB0byBjcmVhdGUgbGF5ZXIgZm9yIG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiAhKGRhdGFTb3VyY2UgYXMgYW55KS5sYXllclxuICAgIHx8IChkYXRhU291cmNlIGFzIGFueSkubGF5ZXIuZGVjbGFyZWRDbGFzcz8uaW5kZXhPZignU3VibGF5ZXInKSA+IC0xO1xuICB9XG5cbiAgcHJvdGVjdGVkIF9pc0RhdGFTb3VyY2VXaXRoTGF5ZXIoZGF0YVNvdXJjZTogRGF0YVNvdXJjZSwgbGF5ZXJJZDogc3RyaW5nLCBsYXllclVybDogc3RyaW5nKTogYm9vbGVhbntcbiAgICBjb25zdCB1cmwgPSBkYXRhU291cmNlVXRpbHMuZ2V0VXJsQnlMYXllcigoZGF0YVNvdXJjZSBhcyBhbnkpPy5sYXllcik7XG4gICAgcmV0dXJuIGAkeyhkYXRhU291cmNlIGFzIGFueSk/LmxheWVyPy5pZH1gID09PSBgJHtsYXllcklkfWAgJiYgKHVybCA9PT0gbGF5ZXJVcmwgfHwgKCF1cmwgJiYgIWxheWVyVXJsKSk7XG4gIH1cblxuICBwcm90ZWN0ZWQgX2NyZWF0ZU1hcCgpe1xuICAgIHRoaXMubWFwID0gbmV3IHRoaXMuTWFwKCk7XG5cbiAgICB0aGlzLmdldERhdGFTb3VyY2VKc29uKCkubGF5ZXJzLmZvckVhY2gobGF5ZXIgPT4ge1xuICAgICAgdGhpcy5tYXAubGF5ZXJzLmFkZChuZXcgdGhpcy5GZWF0dXJlTGF5ZXIobGF5ZXIpKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJZiBnZXQgZGF0YSBzb3VyY2Ugb3B0aW9ucyBmcm9tIHRhYmxlLCB3aWxsIG5vdCBwYXNzIGBsYXllcmAuXG4gICAqL1xuICBwcm90ZWN0ZWQgX2dldERhdGFTb3VyY2VDb25zdHJ1Y3Rvck9wdGlvbnMoaWQ6IHN0cmluZywgdXJsOiBzdHJpbmcsIGRzSnNvbkluQ29uZmlnOiBJTURhdGFTb3VyY2VKc29uLCBsYXllcj86IF9fZXNyaS5MYXllcik6XG4gICAgUHJvbWlzZTwoTGF5ZXJGb2xkZXJEYXRhU291cmNlQ29uc3RydWN0b3JPcHRpb25zIHwgRmVhdHVyZUxheWVyRGF0YVNvdXJjZUNvbnN0cnVjdG9yT3B0aW9ucyB8IFNjZW5lTGF5ZXJEYXRhU291cmNlQ29uc3RydWN0b3JPcHRpb25zKVtdPntcbiAgICBpZighaWQpe1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShbXSk7XG4gICAgfVxuICAgIGNvbnN0IG90aGVyQ29uc3RydWN0b3JPcHRpb25zUHJvbWlzZXM6IFByb21pc2U8TGF5ZXJGb2xkZXJEYXRhU291cmNlQ29uc3RydWN0b3JPcHRpb25zIHwgRmVhdHVyZUxheWVyRGF0YVNvdXJjZUNvbnN0cnVjdG9yT3B0aW9ucz5bXSA9IFtdO1xuICAgIGNvbnN0IHNjZW5lTGF5ZXJDb25zdHJ1Y3Rvck9wdGlvbnNQcm9taXNlczogUHJvbWlzZTxTY2VuZUxheWVyRGF0YVNvdXJjZUNvbnN0cnVjdG9yT3B0aW9ucz5bXSA9IFtdO1xuICAgIGNvbnN0IGppbXVDaGlsZElkcyA9IHRoaXMuZ2V0SmltdUNoaWxkSWQoaWQpO1xuICAgIGppbXVDaGlsZElkcy5mb3JFYWNoKGppbXVDaGlsZElkID0+IHtcbiAgICAgIGNvbnN0IHNjaGVtYSA9IHRoaXMuZ2V0RGF0YVNvdXJjZUpzb24oKS5zY2hlbWEgPyB0aGlzLmdldERhdGFTb3VyY2VKc29uKCkuc2NoZW1hLmNoaWxkU2NoZW1hc1tqaW11Q2hpbGRJZF0gOiBudWxsO1xuICAgICAgY29uc3QgZHNJZCA9IHRoaXMuZ2V0Q2hpbGREYXRhU291cmNlSWQoamltdUNoaWxkSWQpO1xuXG4gICAgICBjb25zdCBjaGlsZERzSnNvbkluQ29uZmlnID0gZHNKc29uSW5Db25maWc/LmNoaWxkRGF0YVNvdXJjZUpzb25zICYmIGRzSnNvbkluQ29uZmlnLmNoaWxkRGF0YVNvdXJjZUpzb25zW2ppbXVDaGlsZElkXSA/IGRzSnNvbkluQ29uZmlnLmNoaWxkRGF0YVNvdXJjZUpzb25zW2ppbXVDaGlsZElkXSA6IG51bGw7XG4gICAgICBsZXQgZHNKc29uOiBJTURhdGFTb3VyY2VKc29uID0gSW1tdXRhYmxlKHtcbiAgICAgICAgaWQ6IGRzSWQsXG4gICAgICAgIHR5cGU6IEppbXVDb3JlRGF0YVNvdXJjZVR5cGVzLkZlYXR1cmVMYXllclxuICAgICAgfSk7XG5cbiAgICAgIGlmKGNoaWxkRHNKc29uSW5Db25maWcpe1xuICAgICAgICBkc0pzb24gPSBkc0pzb24ubWVyZ2UoY2hpbGREc0pzb25JbkNvbmZpZy5hc011dGFibGUoe2RlZXA6IHRydWV9KSk7XG4gICAgICB9XG5cbiAgICAgIGlmKHVybCl7XG4gICAgICAgIGRzSnNvbiA9IGRzSnNvbi5zZXQoJ3VybCcsIHVybC5yZXBsYWNlKC9eaHR0cDovLCAnaHR0cHM6JykpO1xuICAgICAgfVxuXG4gICAgICBpZihzY2hlbWEpe1xuICAgICAgICBkc0pzb24gPSBkc0pzb24uc2V0KCdzY2hlbWEnLCBzY2hlbWEpO1xuICAgICAgfVxuXG4gICAgICBsZXQgc2luZ2xlT3B0aW9uczogTGF5ZXJGb2xkZXJEYXRhU291cmNlQ29uc3RydWN0b3JPcHRpb25zIHwgRmVhdHVyZUxheWVyRGF0YVNvdXJjZUNvbnN0cnVjdG9yT3B0aW9ucztcblxuICAgICAgaWYobGF5ZXIpe1xuICAgICAgICBpZihsYXllci50eXBlID09PSBTdXBwb3J0ZWRMYXllclR5cGVzLlNjZW5lTGF5ZXIpe1xuICAgICAgICAgIHNjZW5lTGF5ZXJDb25zdHJ1Y3Rvck9wdGlvbnNQcm9taXNlcy5wdXNoKGxheWVyLmxvYWQoKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIGlmKCEobGF5ZXIgYXMgYW55KS5hc3NvY2lhdGVkTGF5ZXIpe1xuICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGlkOiBkc0pzb24uaWQsXG4gICAgICAgICAgICAgICAgZGF0YVNvdXJjZUpzb246IGRzSnNvbi5zZXQoJ3R5cGUnLCBKaW11Q29yZURhdGFTb3VyY2VUeXBlcy5TY2VuZUxheWVyKSxcbiAgICAgICAgICAgICAgICBsYXllcjogbGF5ZXIgYXMgX19lc3JpLlNjZW5lTGF5ZXIsXG4gICAgICAgICAgICAgICAgcGFyZW50RGF0YVNvdXJjZTogdGhpcyxcbiAgICAgICAgICAgICAgICBqaW11Q2hpbGRJZFxuICAgICAgICAgICAgICB9IGFzIFNjZW5lU2VydmljZURhdGFTb3VyY2VDb25zdHJ1Y3Rvck9wdGlvbnM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSkpO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICBzd2l0Y2gobGF5ZXIudHlwZSl7XG4gICAgICAgICAgICBjYXNlIFN1cHBvcnRlZExheWVyVHlwZXMuRmVhdHVyZUxheWVyOlxuICAgICAgICAgICAgICBzaW5nbGVPcHRpb25zID0ge1xuICAgICAgICAgICAgICAgIGlkOiBkc0pzb24uaWQsXG4gICAgICAgICAgICAgICAgZGF0YVNvdXJjZUpzb246IGRzSnNvbixcbiAgICAgICAgICAgICAgICBsYXllcjogbGF5ZXIgYXMgX19lc3JpLkZlYXR1cmVMYXllcixcbiAgICAgICAgICAgICAgICBwYXJlbnREYXRhU291cmNlOiB0aGlzLFxuICAgICAgICAgICAgICAgIGppbXVDaGlsZElkXG4gICAgICAgICAgICAgIH0gYXMgRmVhdHVyZUxheWVyRGF0YVNvdXJjZUNvbnN0cnVjdG9yT3B0aW9ucztcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFN1cHBvcnRlZExheWVyVHlwZXMuTWFwSW1hZ2VMYXllcjpcbiAgICAgICAgICAgIGNhc2UgU3VwcG9ydGVkTGF5ZXJUeXBlcy5UaWxlTGF5ZXI6XG4gICAgICAgICAgICAgIHNpbmdsZU9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgaWQ6IGRzSnNvbi5pZCxcbiAgICAgICAgICAgICAgICBkYXRhU291cmNlSnNvbjogZHNKc29uLnNldCgndHlwZScsIEppbXVDb3JlRGF0YVNvdXJjZVR5cGVzLk1hcFNlcnZpY2UpLFxuICAgICAgICAgICAgICAgIGxheWVyOiBsYXllciBhcyBGb2xkZXJMYXllcixcbiAgICAgICAgICAgICAgICBwYXJlbnREYXRhU291cmNlOiB0aGlzLFxuICAgICAgICAgICAgICAgIGppbXVDaGlsZElkXG4gICAgICAgICAgICAgIH0gYXMgTGF5ZXJGb2xkZXJEYXRhU291cmNlQ29uc3RydWN0b3JPcHRpb25zO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgU3VwcG9ydGVkTGF5ZXJUeXBlcy5Hcm91cExheWVyOlxuICAgICAgICAgICAgICBzaW5nbGVPcHRpb25zID0ge1xuICAgICAgICAgICAgICAgIGlkOiBkc0pzb24uaWQsXG4gICAgICAgICAgICAgICAgZGF0YVNvdXJjZUpzb246IGRzSnNvbi5zZXQoJ3R5cGUnLCBKaW11Q29yZURhdGFTb3VyY2VUeXBlcy5Hcm91cExheWVyKSxcbiAgICAgICAgICAgICAgICBsYXllcjogbGF5ZXIgYXMgRm9sZGVyTGF5ZXIsXG4gICAgICAgICAgICAgICAgcGFyZW50RGF0YVNvdXJjZTogdGhpcyxcbiAgICAgICAgICAgICAgICBqaW11Q2hpbGRJZFxuICAgICAgICAgICAgICB9IGFzIExheWVyRm9sZGVyRGF0YVNvdXJjZUNvbnN0cnVjdG9yT3B0aW9ucztcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYoc2luZ2xlT3B0aW9ucyl7XG4gICAgICAgICAgb3RoZXJDb25zdHJ1Y3Rvck9wdGlvbnNQcm9taXNlcy5wdXNoKFByb21pc2UucmVzb2x2ZShzaW5nbGVPcHRpb25zKSk7XG4gICAgICAgIH1cbiAgICAgIH1lbHNle1xuICAgICAgICBzaW5nbGVPcHRpb25zID0ge1xuICAgICAgICAgIGlkOiBkc0pzb24uaWQsXG4gICAgICAgICAgZGF0YVNvdXJjZUpzb246IGRzSnNvbixcbiAgICAgICAgICBwYXJlbnREYXRhU291cmNlOiB0aGlzLFxuICAgICAgICAgIGppbXVDaGlsZElkXG4gICAgICAgIH07XG4gICAgICAgIG90aGVyQ29uc3RydWN0b3JPcHRpb25zUHJvbWlzZXMucHVzaChQcm9taXNlLnJlc29sdmUoc2luZ2xlT3B0aW9ucykpO1xuICAgICAgfVxuXG4gICAgfSk7XG5cbiAgICByZXR1cm4gUHJvbWlzZS5hbGwoXG4gICAgICAob3RoZXJDb25zdHJ1Y3Rvck9wdGlvbnNQcm9taXNlcyBhcyBQcm9taXNlPChMYXllckZvbGRlckRhdGFTb3VyY2VDb25zdHJ1Y3Rvck9wdGlvbnMgfCBGZWF0dXJlTGF5ZXJEYXRhU291cmNlQ29uc3RydWN0b3JPcHRpb25zIHwgU2NlbmVMYXllckRhdGFTb3VyY2VDb25zdHJ1Y3Rvck9wdGlvbnMpPltdKVxuICAgICAgICAuY29uY2F0KHNjZW5lTGF5ZXJDb25zdHJ1Y3Rvck9wdGlvbnNQcm9taXNlcylcbiAgICApLnRoZW4oY29uc3RydWN0b3JPcHRpb25zQXJyYXkgPT4gY29uc3RydWN0b3JPcHRpb25zQXJyYXkuZmlsdGVyKG8gPT4gISFvKSk7XG4gIH1cbn0iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFHQTtBQUNBO0FBTUE7QUFBQTtBQU9BO0FBQUE7QUFOQTtBQVNBOztBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUFBOztBQUNBO0FBRUE7QUFDQTs7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTs7Ozs7Ozs7Ozs7Ozs7O0FBZUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7O0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUVBO0FBQ0E7QUFBQTs7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./jimu-arcgis/lib/data-sources/implementations/map-data-source-impl.ts\n");

/***/ }),

/***/ "./jimu-arcgis/lib/data-sources/implementations/webmap-data-source-impl.ts":
/*!*********************************************************************************!*\
  !*** ./jimu-arcgis/lib/data-sources/implementations/webmap-data-source-impl.ts ***!
  \*********************************************************************************/
/*! exports provided: WebMapDataSourceImpl */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"WebMapDataSourceImpl\", function() { return WebMapDataSourceImpl; });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jimu_core__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _arcgis_data_source_interface__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../arcgis-data-source-interface */ \"./jimu-arcgis/lib/data-sources/arcgis-data-source-interface.ts\");\n/* harmony import */ var _map_data_source_impl__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./map-data-source-impl */ \"./jimu-arcgis/lib/data-sources/implementations/map-data-source-impl.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\nvar WebMapDataSourceImpl = /** @class */ (function (_super) {\n    __extends(WebMapDataSourceImpl, _super);\n    function WebMapDataSourceImpl() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = _arcgis_data_source_interface__WEBPACK_IMPORTED_MODULE_1__[\"DataSourceTypes\"].WebMap;\n        return _this;\n    }\n    WebMapDataSourceImpl.prototype.ready = function () {\n        var _this = this;\n        return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"loadArcGISJSAPIModules\"])([\n            'esri/WebMap',\n            'esri/portal/Portal',\n            'esri/portal/PortalItem',\n            'esri/layers/FeatureLayer'\n        ]).then(function (modules) {\n            _this.WebMap = modules[0], _this.Portal = modules[1], _this.PortalItem = modules[2], _this.FeatureLayer = modules[3];\n            if (!_this.map) {\n                _this._createMap();\n            }\n            return _this._createChildDataSources();\n            // return Promise.resolve([]);\n        });\n    };\n    WebMapDataSourceImpl.prototype._createMap = function () {\n        if (this.getDataSourceJson().portalUrl) {\n            var portal = new this.Portal({\n                url: jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"portalUrlUtils\"].getHostUrlByOrgUrl(this.getDataSourceJson().portalUrl)\n            });\n            this.map = new this.WebMap({\n                portalItem: new this.PortalItem({\n                    id: this.getDataSourceJson().itemId,\n                    portal: portal\n                })\n            });\n        }\n        else {\n            this.map = new this.WebMap({\n                portalItem: new this.PortalItem({\n                    id: this.getDataSourceJson().itemId\n                })\n            });\n        }\n        if (!this.map.isFulfilled()) {\n            this.map.load();\n        }\n    };\n    WebMapDataSourceImpl.prototype._createChildDataSources = function () {\n        var _this = this;\n        this._childDataSourcesPromise = this.map.when(function () {\n            var tables = _this.map.tables || [];\n            var promises = [];\n            var constructorPromises = [];\n            tables.forEach(function (table) {\n                constructorPromises.push(_this._getDataSourceConstructorOptions(table.id, jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"dataSourceUtils\"].getUrlByLayer(table), _this.getDataSourceJson())\n                    .then(function (constructorOptions) {\n                    constructorOptions.forEach(function (options) {\n                        promises.push(_this.dataSourceManager.createDataSource(options));\n                    });\n                }));\n            });\n            var childDataSourcesPromiseFromLayer = _super.prototype._createChildDataSources.call(_this);\n            var childDataSourcesPromiseFromTable = Promise.all(constructorPromises).then(function () { return Promise.all(promises); });\n            return Promise.all([childDataSourcesPromiseFromLayer, childDataSourcesPromiseFromTable]).then(function (res) { return res[0].concat(res[1]); });\n        });\n        return this._childDataSourcesPromise;\n    };\n    return WebMapDataSourceImpl;\n}(_map_data_source_impl__WEBPACK_IMPORTED_MODULE_2__[\"MapDataSourceImpl\"]));\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWFyY2dpcy9saWIvZGF0YS1zb3VyY2VzL2ltcGxlbWVudGF0aW9ucy93ZWJtYXAtZGF0YS1zb3VyY2UtaW1wbC50cy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2ppbXUtYXJjZ2lzL2xpYi9kYXRhLXNvdXJjZXMvaW1wbGVtZW50YXRpb25zL3dlYm1hcC1kYXRhLXNvdXJjZS1pbXBsLnRzP2EzMDciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcG9ydGFsVXJsVXRpbHMsIGxvYWRBcmNHSVNKU0FQSU1vZHVsZXMsIGRhdGFTb3VyY2VVdGlscyB9IGZyb20gJ2ppbXUtY29yZSc7XG5pbXBvcnQgeyBGZWF0dXJlTGF5ZXJEYXRhU291cmNlIH0gZnJvbSAnamltdS1jb3JlL2RhdGEtc291cmNlJztcbmltcG9ydCB7IERhdGFTb3VyY2VUeXBlcywgV2ViTWFwRGF0YVNvdXJjZSwgTWFwQ2hpbGREYXRhU291cmNlIH0gZnJvbSAnLi4vYXJjZ2lzLWRhdGEtc291cmNlLWludGVyZmFjZSc7XG5pbXBvcnQgeyBNYXBEYXRhU291cmNlQ29uc3RydWN0b3JPcHRpb25zLCBNYXBEYXRhU291cmNlSW1wbCB9IGZyb20gJy4vbWFwLWRhdGEtc291cmNlLWltcGwnO1xuZXhwb3J0IGludGVyZmFjZSBXZWJNYXBEYXRhU291cmNlQ29uc3RydWN0b3JPcHRpb25zIGV4dGVuZHMgTWFwRGF0YVNvdXJjZUNvbnN0cnVjdG9yT3B0aW9uc3tcbiAgbWFwPzogX19lc3JpLldlYk1hcDtcbn1cbmV4cG9ydCBjbGFzcyBXZWJNYXBEYXRhU291cmNlSW1wbCBleHRlbmRzIE1hcERhdGFTb3VyY2VJbXBsIGltcGxlbWVudHMgV2ViTWFwRGF0YVNvdXJjZXtcbiAgdHlwZTogRGF0YVNvdXJjZVR5cGVzLldlYk1hcCA9IERhdGFTb3VyY2VUeXBlcy5XZWJNYXA7XG4gIG1hcDogX19lc3JpLldlYk1hcDtcbiAgUG9ydGFsSXRlbTogdHlwZW9mIF9fZXNyaS5Qb3J0YWxJdGVtO1xuICBQb3J0YWw6IHR5cGVvZiBfX2VzcmkuUG9ydGFsO1xuICBXZWJNYXA6IHR5cGVvZiBfX2VzcmkuV2ViTWFwO1xuXG4gIHJlYWR5KCl7XG4gICAgcmV0dXJuIGxvYWRBcmNHSVNKU0FQSU1vZHVsZXMoW1xuICAgICAgJ2VzcmkvV2ViTWFwJyxcbiAgICAgICdlc3JpL3BvcnRhbC9Qb3J0YWwnLFxuICAgICAgJ2VzcmkvcG9ydGFsL1BvcnRhbEl0ZW0nLFxuICAgICAgJ2VzcmkvbGF5ZXJzL0ZlYXR1cmVMYXllcidcbiAgICBdKS50aGVuKG1vZHVsZXMgPT4ge1xuICAgICAgW3RoaXMuV2ViTWFwLCB0aGlzLlBvcnRhbCwgdGhpcy5Qb3J0YWxJdGVtLCB0aGlzLkZlYXR1cmVMYXllcl0gPSBtb2R1bGVzO1xuXG4gICAgICBpZighdGhpcy5tYXApe1xuICAgICAgICB0aGlzLl9jcmVhdGVNYXAoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLl9jcmVhdGVDaGlsZERhdGFTb3VyY2VzKCk7XG4gICAgICAvLyByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKFtdKTtcbiAgICB9KTtcbiAgfVxuICBwcm90ZWN0ZWQgX2NyZWF0ZU1hcCgpe1xuICAgIGlmKHRoaXMuZ2V0RGF0YVNvdXJjZUpzb24oKS5wb3J0YWxVcmwpe1xuICAgICAgY29uc3QgcG9ydGFsID0gbmV3IHRoaXMuUG9ydGFsKHtcbiAgICAgICAgdXJsOiBwb3J0YWxVcmxVdGlscy5nZXRIb3N0VXJsQnlPcmdVcmwodGhpcy5nZXREYXRhU291cmNlSnNvbigpLnBvcnRhbFVybClcbiAgICAgIH0pO1xuICAgICAgdGhpcy5tYXAgPSBuZXcgdGhpcy5XZWJNYXAoe1xuICAgICAgICBwb3J0YWxJdGVtOiBuZXcgdGhpcy5Qb3J0YWxJdGVtKHtcbiAgICAgICAgICBpZDogdGhpcy5nZXREYXRhU291cmNlSnNvbigpLml0ZW1JZCxcbiAgICAgICAgICBwb3J0YWw6IHBvcnRhbFxuICAgICAgICB9KVxuICAgICAgfSk7XG4gICAgfWVsc2V7XG4gICAgICB0aGlzLm1hcCA9IG5ldyB0aGlzLldlYk1hcCh7XG4gICAgICAgIHBvcnRhbEl0ZW06IG5ldyB0aGlzLlBvcnRhbEl0ZW0oe1xuICAgICAgICAgIGlkOiB0aGlzLmdldERhdGFTb3VyY2VKc29uKCkuaXRlbUlkXG4gICAgICAgIH0pXG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYoIXRoaXMubWFwLmlzRnVsZmlsbGVkKCkpe1xuICAgICAgdGhpcy5tYXAubG9hZCgpO1xuICAgIH1cbiAgfVxuXG4gIHByb3RlY3RlZCBfY3JlYXRlQ2hpbGREYXRhU291cmNlcygpOiBQcm9taXNlPE1hcENoaWxkRGF0YVNvdXJjZVtdPntcbiAgICB0aGlzLl9jaGlsZERhdGFTb3VyY2VzUHJvbWlzZSA9IHRoaXMubWFwLndoZW4oKCkgPT4ge1xuICAgICAgY29uc3QgdGFibGVzID0gKHRoaXMubWFwIGFzIGFueSkudGFibGVzIHx8IFtdO1xuICAgICAgY29uc3QgcHJvbWlzZXM6IFByb21pc2U8RmVhdHVyZUxheWVyRGF0YVNvdXJjZT5bXSA9IFtdO1xuICAgICAgY29uc3QgY29uc3RydWN0b3JQcm9taXNlcyA9IFtdO1xuICAgICAgdGFibGVzLmZvckVhY2godGFibGUgPT4ge1xuICAgICAgICBjb25zdHJ1Y3RvclByb21pc2VzLnB1c2goXG4gICAgICAgICAgdGhpcy5fZ2V0RGF0YVNvdXJjZUNvbnN0cnVjdG9yT3B0aW9ucyh0YWJsZS5pZCwgZGF0YVNvdXJjZVV0aWxzLmdldFVybEJ5TGF5ZXIodGFibGUpLCB0aGlzLmdldERhdGFTb3VyY2VKc29uKCkpXG4gICAgICAgICAgICAudGhlbihjb25zdHJ1Y3Rvck9wdGlvbnMgPT4ge1xuICAgICAgICAgICAgICBjb25zdHJ1Y3Rvck9wdGlvbnMuZm9yRWFjaChvcHRpb25zID0+IHtcbiAgICAgICAgICAgICAgICBwcm9taXNlcy5wdXNoKFxuICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhU291cmNlTWFuYWdlci5jcmVhdGVEYXRhU291cmNlKG9wdGlvbnMpIGFzIFByb21pc2U8RmVhdHVyZUxheWVyRGF0YVNvdXJjZT5cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIClcbiAgICAgIH0pO1xuICAgICAgY29uc3QgY2hpbGREYXRhU291cmNlc1Byb21pc2VGcm9tTGF5ZXI6IFByb21pc2U8TWFwQ2hpbGREYXRhU291cmNlW10+ID0gc3VwZXIuX2NyZWF0ZUNoaWxkRGF0YVNvdXJjZXMoKTtcbiAgICAgIGNvbnN0IGNoaWxkRGF0YVNvdXJjZXNQcm9taXNlRnJvbVRhYmxlOiBQcm9taXNlPEZlYXR1cmVMYXllckRhdGFTb3VyY2VbXT4gPSBQcm9taXNlLmFsbChjb25zdHJ1Y3RvclByb21pc2VzKS50aGVuKCgpID0+IFByb21pc2UuYWxsKHByb21pc2VzKSk7XG5cbiAgICAgIHJldHVybiBQcm9taXNlLmFsbChbY2hpbGREYXRhU291cmNlc1Byb21pc2VGcm9tTGF5ZXIsIGNoaWxkRGF0YVNvdXJjZXNQcm9taXNlRnJvbVRhYmxlXSkudGhlbihyZXMgPT4gcmVzWzBdLmNvbmNhdChyZXNbMV0pKTtcbiAgICB9KTtcblxuICAgIHJldHVybiB0aGlzLl9jaGlsZERhdGFTb3VyY2VzUHJvbWlzZTtcbiAgfVxufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFFQTtBQUNBO0FBSUE7QUFBQTtBQUFBO0FBQUE7QUFDQTs7QUFzRUE7QUFoRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7OyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./jimu-arcgis/lib/data-sources/implementations/webmap-data-source-impl.ts\n");

/***/ }),

/***/ "./jimu-arcgis/lib/data-sources/implementations/webscene-data-source-impl.ts":
/*!***********************************************************************************!*\
  !*** ./jimu-arcgis/lib/data-sources/implementations/webscene-data-source-impl.ts ***!
  \***********************************************************************************/
/*! exports provided: WebSceneDataSourceImpl */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"WebSceneDataSourceImpl\", function() { return WebSceneDataSourceImpl; });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jimu_core__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _arcgis_data_source_interface__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../arcgis-data-source-interface */ \"./jimu-arcgis/lib/data-sources/arcgis-data-source-interface.ts\");\n/* harmony import */ var _map_data_source_impl__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./map-data-source-impl */ \"./jimu-arcgis/lib/data-sources/implementations/map-data-source-impl.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\nvar WebSceneDataSourceImpl = /** @class */ (function (_super) {\n    __extends(WebSceneDataSourceImpl, _super);\n    function WebSceneDataSourceImpl() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = _arcgis_data_source_interface__WEBPACK_IMPORTED_MODULE_1__[\"DataSourceTypes\"].WebScene;\n        return _this;\n    }\n    WebSceneDataSourceImpl.prototype.ready = function () {\n        var _this = this;\n        return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"loadArcGISJSAPIModules\"])([\n            'esri/WebScene',\n            'esri/portal/Portal',\n            'esri/portal/PortalItem',\n            'esri/layers/FeatureLayer'\n        ]).then(function (modules) {\n            _this.WebScene = modules[0], _this.Portal = modules[1], _this.PortalItem = modules[2], _this.FeatureLayer = modules[3];\n            if (!_this.map) {\n                _this._createMap();\n            }\n            return _this._createChildDataSources();\n            // return Promise.resolve([]);\n        });\n    };\n    WebSceneDataSourceImpl.prototype._createMap = function () {\n        if (this.getDataSourceJson().portalUrl) {\n            var portal = new this.Portal({\n                url: jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"portalUrlUtils\"].getHostUrlByOrgUrl(this.getDataSourceJson().portalUrl)\n            });\n            this.map = new this.WebScene({\n                portalItem: new this.PortalItem({\n                    id: this.getDataSourceJson().itemId,\n                    portal: portal\n                })\n            });\n        }\n        else {\n            this.map = new this.WebScene({\n                portalItem: new this.PortalItem({\n                    id: this.getDataSourceJson().itemId\n                })\n            });\n        }\n        if (!this.map.isFulfilled()) {\n            this.map.load();\n        }\n    };\n    WebSceneDataSourceImpl.prototype._createChildDataSources = function () {\n        var _this = this;\n        return this._childDataSourcesPromise = this.map.when(function () {\n            return _super.prototype._createChildDataSources.call(_this);\n        });\n    };\n    return WebSceneDataSourceImpl;\n}(_map_data_source_impl__WEBPACK_IMPORTED_MODULE_2__[\"MapDataSourceImpl\"]));\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWFyY2dpcy9saWIvZGF0YS1zb3VyY2VzL2ltcGxlbWVudGF0aW9ucy93ZWJzY2VuZS1kYXRhLXNvdXJjZS1pbXBsLnRzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vamltdS1hcmNnaXMvbGliL2RhdGEtc291cmNlcy9pbXBsZW1lbnRhdGlvbnMvd2Vic2NlbmUtZGF0YS1zb3VyY2UtaW1wbC50cz9mZjM4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHBvcnRhbFVybFV0aWxzLCBsb2FkQXJjR0lTSlNBUElNb2R1bGVzIH0gZnJvbSAnamltdS1jb3JlJztcbmltcG9ydCB7IEZlYXR1cmVMYXllckRhdGFTb3VyY2UsIE1hcFNlcnZpY2VEYXRhU291cmNlIH0gZnJvbSAnamltdS1jb3JlL2RhdGEtc291cmNlJztcbmltcG9ydCB7IERhdGFTb3VyY2VUeXBlcywgV2ViU2NlbmVEYXRhU291cmNlIH0gZnJvbSAnLi4vYXJjZ2lzLWRhdGEtc291cmNlLWludGVyZmFjZSc7XG5pbXBvcnQgeyBNYXBEYXRhU291cmNlQ29uc3RydWN0b3JPcHRpb25zLCBNYXBEYXRhU291cmNlSW1wbCB9IGZyb20gJy4vbWFwLWRhdGEtc291cmNlLWltcGwnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFdlYlNjZW5lRGF0YVNvdXJjZUNvbnRydWN0b3JPcHRpb25zIGV4dGVuZHMgTWFwRGF0YVNvdXJjZUNvbnN0cnVjdG9yT3B0aW9uc3tcbiAgbWFwPzogX19lc3JpLldlYlNjZW5lO1xufVxuXG5leHBvcnQgY2xhc3MgV2ViU2NlbmVEYXRhU291cmNlSW1wbCBleHRlbmRzIE1hcERhdGFTb3VyY2VJbXBsIGltcGxlbWVudHMgV2ViU2NlbmVEYXRhU291cmNle1xuICB0eXBlOiBEYXRhU291cmNlVHlwZXMuV2ViU2NlbmUgPSBEYXRhU291cmNlVHlwZXMuV2ViU2NlbmU7XG4gIG1hcDogX19lc3JpLldlYlNjZW5lO1xuXG4gIFBvcnRhbEl0ZW06IHR5cGVvZiBfX2VzcmkuUG9ydGFsSXRlbTtcbiAgUG9ydGFsOiB0eXBlb2YgX19lc3JpLlBvcnRhbDtcbiAgV2ViU2NlbmU6IHR5cGVvZiBfX2VzcmkuV2ViU2NlbmU7XG5cbiAgcmVhZHkoKXtcbiAgICByZXR1cm4gbG9hZEFyY0dJU0pTQVBJTW9kdWxlcyhbXG4gICAgICAnZXNyaS9XZWJTY2VuZScsXG4gICAgICAnZXNyaS9wb3J0YWwvUG9ydGFsJyxcbiAgICAgICdlc3JpL3BvcnRhbC9Qb3J0YWxJdGVtJyxcbiAgICAgICdlc3JpL2xheWVycy9GZWF0dXJlTGF5ZXInXG4gICAgXSkudGhlbihtb2R1bGVzID0+IHtcbiAgICAgIFt0aGlzLldlYlNjZW5lLCB0aGlzLlBvcnRhbCwgdGhpcy5Qb3J0YWxJdGVtLCB0aGlzLkZlYXR1cmVMYXllcl0gPSBtb2R1bGVzO1xuXG4gICAgICBpZighdGhpcy5tYXApe1xuICAgICAgICB0aGlzLl9jcmVhdGVNYXAoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLl9jcmVhdGVDaGlsZERhdGFTb3VyY2VzKCk7XG4gICAgICAvLyByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKFtdKTtcbiAgICB9KTtcbiAgfVxuXG4gIHByb3RlY3RlZCBfY3JlYXRlTWFwKCl7XG4gICAgaWYodGhpcy5nZXREYXRhU291cmNlSnNvbigpLnBvcnRhbFVybCl7XG4gICAgICBjb25zdCBwb3J0YWwgPSBuZXcgdGhpcy5Qb3J0YWwoe1xuICAgICAgICB1cmw6IHBvcnRhbFVybFV0aWxzLmdldEhvc3RVcmxCeU9yZ1VybCh0aGlzLmdldERhdGFTb3VyY2VKc29uKCkucG9ydGFsVXJsKVxuICAgICAgfSk7XG4gICAgICB0aGlzLm1hcCA9IG5ldyB0aGlzLldlYlNjZW5lKHtcbiAgICAgICAgcG9ydGFsSXRlbTogbmV3IHRoaXMuUG9ydGFsSXRlbSh7XG4gICAgICAgICAgaWQ6IHRoaXMuZ2V0RGF0YVNvdXJjZUpzb24oKS5pdGVtSWQsXG4gICAgICAgICAgcG9ydGFsOiBwb3J0YWxcbiAgICAgICAgfSlcbiAgICAgIH0pO1xuICAgIH1lbHNle1xuICAgICAgdGhpcy5tYXAgPSBuZXcgdGhpcy5XZWJTY2VuZSh7XG4gICAgICAgIHBvcnRhbEl0ZW06IG5ldyB0aGlzLlBvcnRhbEl0ZW0oe1xuICAgICAgICAgIGlkOiB0aGlzLmdldERhdGFTb3VyY2VKc29uKCkuaXRlbUlkXG4gICAgICAgIH0pXG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYoIXRoaXMubWFwLmlzRnVsZmlsbGVkKCkpe1xuICAgICAgdGhpcy5tYXAubG9hZCgpO1xuICAgIH1cbiAgfVxuXG4gIHByb3RlY3RlZCBfY3JlYXRlQ2hpbGREYXRhU291cmNlcygpOiBQcm9taXNlPChGZWF0dXJlTGF5ZXJEYXRhU291cmNlIHwgTWFwU2VydmljZURhdGFTb3VyY2UpW10+e1xuICAgIHJldHVybiB0aGlzLl9jaGlsZERhdGFTb3VyY2VzUHJvbWlzZSA9IHRoaXMubWFwLndoZW4oKCkgPT4ge1xuICAgICAgcmV0dXJuIHN1cGVyLl9jcmVhdGVDaGlsZERhdGFTb3VyY2VzKCk7XG4gICAgfSk7XG4gIH1cblxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBRUE7QUFDQTtBQU1BO0FBQUE7QUFBQTtBQUFBO0FBQ0E7O0FBcURBO0FBOUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7OyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./jimu-arcgis/lib/data-sources/implementations/webscene-data-source-impl.ts\n");

/***/ }),

/***/ "./jimu-arcgis/lib/data-sources/index.ts":
/*!***********************************************!*\
  !*** ./jimu-arcgis/lib/data-sources/index.ts ***!
  \***********************************************/
/*! exports provided: ArcGISDataSourceFactory, MapDataSourceImpl, WebMapDataSourceImpl, WebSceneDataSourceImpl, DataSourceTypes, LayerTypes, FeatureLayerDataSource, FeatureDataRecord, ArcGISDataSourceTypes */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ArcGISDataSourceFactory\", function() { return ArcGISDataSourceFactory; });\n/* harmony import */ var _arcgis_data_source_interface__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./arcgis-data-source-interface */ \"./jimu-arcgis/lib/data-sources/arcgis-data-source-interface.ts\");\n/* harmony import */ var _implementations_map_data_source_impl__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./implementations/map-data-source-impl */ \"./jimu-arcgis/lib/data-sources/implementations/map-data-source-impl.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"MapDataSourceImpl\", function() { return _implementations_map_data_source_impl__WEBPACK_IMPORTED_MODULE_1__[\"MapDataSourceImpl\"]; });\n\n/* harmony import */ var _implementations_webmap_data_source_impl__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./implementations/webmap-data-source-impl */ \"./jimu-arcgis/lib/data-sources/implementations/webmap-data-source-impl.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"WebMapDataSourceImpl\", function() { return _implementations_webmap_data_source_impl__WEBPACK_IMPORTED_MODULE_2__[\"WebMapDataSourceImpl\"]; });\n\n/* harmony import */ var _implementations_webscene_data_source_impl__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./implementations/webscene-data-source-impl */ \"./jimu-arcgis/lib/data-sources/implementations/webscene-data-source-impl.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"WebSceneDataSourceImpl\", function() { return _implementations_webscene_data_source_impl__WEBPACK_IMPORTED_MODULE_3__[\"WebSceneDataSourceImpl\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"DataSourceTypes\", function() { return _arcgis_data_source_interface__WEBPACK_IMPORTED_MODULE_0__[\"DataSourceTypes\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"LayerTypes\", function() { return _arcgis_data_source_interface__WEBPACK_IMPORTED_MODULE_0__[\"LayerTypes\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"FeatureLayerDataSource\", function() { return _arcgis_data_source_interface__WEBPACK_IMPORTED_MODULE_0__[\"FeatureLayerDataSource\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"FeatureDataRecord\", function() { return _arcgis_data_source_interface__WEBPACK_IMPORTED_MODULE_0__[\"FeatureDataRecord\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ArcGISDataSourceTypes\", function() { return _arcgis_data_source_interface__WEBPACK_IMPORTED_MODULE_0__[\"ArcGISDataSourceTypes\"]; });\n\n\n\n\n\nvar ArcGISDataSourceFactory = /** @class */ (function () {\n    function ArcGISDataSourceFactory() {\n    }\n    ArcGISDataSourceFactory.prototype.createDataSource = function (options) {\n        var _a;\n        var dsJson = (_a = options.dataSourceJson) !== null && _a !== void 0 ? _a : options.belongToDataSource.getMainDataSource().getDataSourceJson();\n        var dsType = options.dataViewId && dsJson.dataViews && dsJson.dataViews[options.dataViewId] ? dsJson.dataViews[options.dataViewId].type || dsJson.type : dsJson.type;\n        if (dsType === _arcgis_data_source_interface__WEBPACK_IMPORTED_MODULE_0__[\"DataSourceTypes\"].Map) {\n            return new _implementations_map_data_source_impl__WEBPACK_IMPORTED_MODULE_1__[\"MapDataSourceImpl\"](options);\n        }\n        else if (dsType === _arcgis_data_source_interface__WEBPACK_IMPORTED_MODULE_0__[\"DataSourceTypes\"].WebMap) {\n            return new _implementations_webmap_data_source_impl__WEBPACK_IMPORTED_MODULE_2__[\"WebMapDataSourceImpl\"](options);\n        }\n        else if (dsType === _arcgis_data_source_interface__WEBPACK_IMPORTED_MODULE_0__[\"DataSourceTypes\"].WebScene) {\n            return new _implementations_webscene_data_source_impl__WEBPACK_IMPORTED_MODULE_3__[\"WebSceneDataSourceImpl\"](options);\n        }\n        else {\n            console.error('Unimplemented data source type.', dsType);\n        }\n    };\n    return ArcGISDataSourceFactory;\n}());\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LWFyY2dpcy9saWIvZGF0YS1zb3VyY2VzL2luZGV4LnRzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vamltdS1hcmNnaXMvbGliL2RhdGEtc291cmNlcy9pbmRleC50cz85ZjBjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IERhdGFTb3VyY2UsIERhdGFTb3VyY2VDb25zdHJ1Y3Rvck9wdGlvbnMsIERhdGFTb3VyY2VGYWN0b3J5IH0gZnJvbSAnamltdS1jb3JlJztcblxuaW1wb3J0IHsgRGF0YVNvdXJjZVR5cGVzIH0gZnJvbSAnLi9hcmNnaXMtZGF0YS1zb3VyY2UtaW50ZXJmYWNlJztcbmltcG9ydCB7IE1hcERhdGFTb3VyY2VJbXBsIH0gZnJvbSAnLi9pbXBsZW1lbnRhdGlvbnMvbWFwLWRhdGEtc291cmNlLWltcGwnO1xuaW1wb3J0IHsgV2ViTWFwRGF0YVNvdXJjZUltcGwgfSBmcm9tICcuL2ltcGxlbWVudGF0aW9ucy93ZWJtYXAtZGF0YS1zb3VyY2UtaW1wbCc7XG5pbXBvcnQgeyBXZWJTY2VuZURhdGFTb3VyY2VJbXBsIH0gZnJvbSAnLi9pbXBsZW1lbnRhdGlvbnMvd2Vic2NlbmUtZGF0YS1zb3VyY2UtaW1wbCc7XG5cbmV4cG9ydCBjbGFzcyBBcmNHSVNEYXRhU291cmNlRmFjdG9yeSBpbXBsZW1lbnRzIERhdGFTb3VyY2VGYWN0b3J5e1xuICBjcmVhdGVEYXRhU291cmNlKG9wdGlvbnM6IERhdGFTb3VyY2VDb25zdHJ1Y3Rvck9wdGlvbnMpOiBEYXRhU291cmNle1xuICAgIGNvbnN0IGRzSnNvbiA9IG9wdGlvbnMuZGF0YVNvdXJjZUpzb24gPz8gb3B0aW9ucy5iZWxvbmdUb0RhdGFTb3VyY2UuZ2V0TWFpbkRhdGFTb3VyY2UoKS5nZXREYXRhU291cmNlSnNvbigpO1xuICAgIGNvbnN0IGRzVHlwZSA9IG9wdGlvbnMuZGF0YVZpZXdJZCAmJiBkc0pzb24uZGF0YVZpZXdzICYmIGRzSnNvbi5kYXRhVmlld3Nbb3B0aW9ucy5kYXRhVmlld0lkXSA/IGRzSnNvbi5kYXRhVmlld3Nbb3B0aW9ucy5kYXRhVmlld0lkXS50eXBlIHx8IGRzSnNvbi50eXBlIDogZHNKc29uLnR5cGU7XG4gICAgaWYoZHNUeXBlID09PSBEYXRhU291cmNlVHlwZXMuTWFwKXtcbiAgICAgIHJldHVybiBuZXcgTWFwRGF0YVNvdXJjZUltcGwob3B0aW9ucyk7XG4gICAgfWVsc2UgaWYoZHNUeXBlID09PSBEYXRhU291cmNlVHlwZXMuV2ViTWFwKXtcbiAgICAgIHJldHVybiBuZXcgV2ViTWFwRGF0YVNvdXJjZUltcGwob3B0aW9ucyk7XG4gICAgfWVsc2UgaWYoZHNUeXBlID09PSBEYXRhU291cmNlVHlwZXMuV2ViU2NlbmUpe1xuICAgICAgcmV0dXJuIG5ldyBXZWJTY2VuZURhdGFTb3VyY2VJbXBsKG9wdGlvbnMpO1xuICAgIH1lbHNle1xuICAgICAgY29uc29sZS5lcnJvcignVW5pbXBsZW1lbnRlZCBkYXRhIHNvdXJjZSB0eXBlLicsIGRzVHlwZSk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCB7TWFwRGF0YVNvdXJjZUltcGwsIFdlYk1hcERhdGFTb3VyY2VJbXBsLCBXZWJTY2VuZURhdGFTb3VyY2VJbXBsfTtcbmV4cG9ydCAqIGZyb20gJy4vYXJjZ2lzLWRhdGEtc291cmNlLWludGVyZmFjZSc7Il0sIm1hcHBpbmdzIjoiQUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQWNBO0FBYkE7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTs7QUFFQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./jimu-arcgis/lib/data-sources/index.ts\n");

/***/ }),

/***/ "jimu-core":
/*!****************************!*\
  !*** external "jimu-core" ***!
  \****************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = __WEBPACK_EXTERNAL_MODULE_jimu_core__;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiamltdS1jb3JlLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwiamltdS1jb3JlXCI/YzY5NSJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfamltdV9jb3JlX187Il0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///jimu-core\n");

/***/ }),

/***/ "jimu-core/data-source":
/*!****************************************!*\
  !*** external "jimu-core/data-source" ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = __WEBPACK_EXTERNAL_MODULE_jimu_core_data_source__;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiamltdS1jb3JlL2RhdGEtc291cmNlLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwiamltdS1jb3JlL2RhdGEtc291cmNlXCI/YTUyZSJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfamltdV9jb3JlX2RhdGFfc291cmNlX187Il0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///jimu-core/data-source\n");

/***/ })

/******/ })
			);
		}
	};
});