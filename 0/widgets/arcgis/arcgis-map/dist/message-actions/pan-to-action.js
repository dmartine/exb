System.register(["jimu-arcgis","jimu-core"], function(__WEBPACK_DYNAMIC_EXPORT__) {
	var __WEBPACK_EXTERNAL_MODULE_jimu_arcgis__, __WEBPACK_EXTERNAL_MODULE_jimu_core__;
	return {
		setters: [
			function(module) {
				__WEBPACK_EXTERNAL_MODULE_jimu_arcgis__ = module;
			},
			function(module) {
				__WEBPACK_EXTERNAL_MODULE_jimu_core__ = module;
			}
		],
		execute: function() {
			__WEBPACK_DYNAMIC_EXPORT__(
/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./extensions/widgets/arcgis/arcgis-map/src/message-actions/pan-to-action.ts");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./extensions/widgets/arcgis/arcgis-map/src/message-actions/pan-to-action.ts":
/*!***********************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/message-actions/pan-to-action.ts ***!
  \***********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jimu_core__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-arcgis */ \"jimu-arcgis\");\n/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _runtime_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../runtime/utils */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/utils.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\nvar PanToAction = /** @class */ (function (_super) {\n    __extends(PanToAction, _super);\n    function PanToAction() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    PanToAction.prototype.filterMessageType = function (messageType, messageWidgetId) {\n        return messageType === jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"MessageType\"].DataRecordSetCreate || messageType === jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"MessageType\"].DataRecordSetUpdate\n            || messageType === jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"MessageType\"].DataRecordsSelectionChange || messageType === jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"MessageType\"].ExtentChange;\n    };\n    PanToAction.prototype.filterMessage = function (message) {\n        return true;\n    };\n    PanToAction.prototype.getSettingComponentUri = function (messageType, messageWidgetId) {\n        var config = Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"getAppStore\"])().getState().appStateInBuilder ? Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"getAppStore\"])().getState().appStateInBuilder.appConfig : Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"getAppStore\"])().getState().appConfig;\n        var messageWidgetJson = config.widgets[messageWidgetId];\n        if (messageWidgetJson.manifest.label === 'Map') {\n            if (messageType === jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"MessageType\"].DataRecordsSelectionChange) {\n                return 'message-actions/pan-to-action-setting';\n            }\n            else {\n                return null;\n            }\n        }\n        else {\n            return null;\n        }\n    };\n    PanToAction.prototype.onExecute = function (message, actionConfig) {\n        var _this = this;\n        return Object(jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__[\"loadArcGISJSAPIModules\"])(['esri/Graphic']).then(function (modules) {\n            var Graphic = null;\n            Graphic = modules[0];\n            switch (message.type) {\n                case jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"MessageType\"].DataRecordSetCreate:\n                    var dataRecordSetCreateMessage = message;\n                    var newFeatureSet = {};\n                    if (dataRecordSetCreateMessage.dataRecordSet && dataRecordSetCreateMessage.dataRecordSet.records) {\n                        var features = [];\n                        for (var i = 0; i < dataRecordSetCreateMessage.dataRecordSet.records.length; i++) {\n                            var dataRecordFeature = dataRecordSetCreateMessage.dataRecordSet.records[i].feature;\n                            if (dataRecordFeature) {\n                                features.push(Object(_runtime_utils__WEBPACK_IMPORTED_MODULE_2__[\"handleFeature\"])(dataRecordFeature, Graphic).geometry);\n                            }\n                        }\n                        newFeatureSet = {\n                            features: features\n                        };\n                    }\n                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"getAppStore\"])().dispatch(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"appActions\"].widgetMutableStatePropChange(_this.widgetId, 'panToActionValue.value', newFeatureSet));\n                    break;\n                case jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"MessageType\"].DataRecordSetUpdate:\n                    var dataRecordSetUpdateMessage = message;\n                    var updateFeatureSet = {};\n                    if (dataRecordSetUpdateMessage.dataRecordSet && dataRecordSetUpdateMessage.dataRecordSet.records) {\n                        var features = [];\n                        for (var i = 0; i < dataRecordSetUpdateMessage.dataRecordSet.records.length; i++) {\n                            var dataRecordFeature = dataRecordSetUpdateMessage.dataRecordSet.records[i].feature;\n                            if (dataRecordFeature) {\n                                features.push(Object(_runtime_utils__WEBPACK_IMPORTED_MODULE_2__[\"handleFeature\"])(dataRecordFeature, Graphic).geometry);\n                            }\n                        }\n                        updateFeatureSet = {\n                            features: features\n                        };\n                    }\n                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"getAppStore\"])().dispatch(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"appActions\"].widgetMutableStatePropChange(_this.widgetId, 'panToActionValue.value', updateFeatureSet));\n                    break;\n                case jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"MessageType\"].DataRecordsSelectionChange:\n                    if (actionConfig) {\n                        var dataRecordsSelectionChangeMessage = message;\n                        var selectionFeatureSet = {};\n                        var selectFeatures = [];\n                        if (dataRecordsSelectionChangeMessage.records) {\n                            if (dataRecordsSelectionChangeMessage.records[0]) {\n                                if (!actionConfig.useDataSource || (dataRecordsSelectionChangeMessage.records[0].dataSource.getMainDataSource().id !== actionConfig.useDataSource.mainDataSourceId)) {\n                                    break;\n                                }\n                            }\n                            for (var i = 0; i < dataRecordsSelectionChangeMessage.records.length; i++) {\n                                var dataRecordFeature = dataRecordsSelectionChangeMessage.records[i].feature;\n                                if (dataRecordFeature) {\n                                    selectFeatures.push(Object(_runtime_utils__WEBPACK_IMPORTED_MODULE_2__[\"handleFeature\"])(dataRecordFeature, Graphic).geometry);\n                                }\n                            }\n                        }\n                        selectionFeatureSet = {\n                            features: selectFeatures\n                        };\n                        Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"getAppStore\"])().dispatch(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"appActions\"].widgetMutableStatePropChange(_this.widgetId, 'panToActionValue.value', selectionFeatureSet));\n                        break;\n                    }\n                    else {\n                        var dataRecordsSelectionChangeMessage = message;\n                        var selectionFeatureSet = {};\n                        var selectFeatures = [];\n                        if (dataRecordsSelectionChangeMessage.records) {\n                            for (var i = 0; i < dataRecordsSelectionChangeMessage.records.length; i++) {\n                                var dataRecordFeature = dataRecordsSelectionChangeMessage.records[i].feature;\n                                if (dataRecordFeature) {\n                                    selectFeatures.push(Object(_runtime_utils__WEBPACK_IMPORTED_MODULE_2__[\"handleFeature\"])(dataRecordFeature, Graphic).geometry);\n                                }\n                            }\n                        }\n                        selectionFeatureSet = {\n                            features: selectFeatures\n                        };\n                        Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"getAppStore\"])().dispatch(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"appActions\"].widgetMutableStatePropChange(_this.widgetId, 'panToActionValue.value', selectionFeatureSet));\n                        break;\n                    }\n                case jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"MessageType\"].ExtentChange:\n                    var extentChangeMessage = message;\n                    if (extentChangeMessage.getRelatedWidgetIds().indexOf(_this.widgetId) > -1) {\n                        break;\n                    }\n                    var extentValue = {\n                        features: [extentChangeMessage.extent]\n                    };\n                    var panToFeatureActionValue = {\n                        value: extentValue,\n                        relatedWidgets: extentChangeMessage.getRelatedWidgetIds()\n                    };\n                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"getAppStore\"])().dispatch(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"appActions\"].widgetMutableStatePropChange(_this.widgetId, 'panToActionValue', panToFeatureActionValue));\n                    break;\n            }\n            return true;\n        });\n    };\n    return PanToAction;\n}(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"AbstractMessageAction\"]));\n/* harmony default export */ __webpack_exports__[\"default\"] = (PanToAction);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL21lc3NhZ2UtYWN0aW9ucy9wYW4tdG8tYWN0aW9uLnRzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vZXh0ZW5zaW9ucy93aWRnZXRzL2FyY2dpcy9hcmNnaXMtbWFwL3NyYy9tZXNzYWdlLWFjdGlvbnMvcGFuLXRvLWFjdGlvbi50cz85ZWU3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFic3RyYWN0TWVzc2FnZUFjdGlvbiwgTWVzc2FnZVR5cGUsIE1lc3NhZ2UsIGdldEFwcFN0b3JlLCBhcHBBY3Rpb25zLCBEYXRhUmVjb3JkU2V0Q3JlYXRlTWVzc2FnZSwgRGF0YVJlY29yZFNldFVwZGF0ZU1lc3NhZ2UsXG4gIERhdGFSZWNvcmRzU2VsZWN0aW9uQ2hhbmdlTWVzc2FnZSwgRXh0ZW50Q2hhbmdlTWVzc2FnZSwgRmVhdHVyZURhdGFSZWNvcmQgYXMgRmVhdHVyZVF1ZXJ5RGF0YVJlY29yZCB9IGZyb20gJ2ppbXUtY29yZSc7XG5pbXBvcnQgeyBGZWF0dXJlRGF0YVJlY29yZCBhcyBGZWF0dXJlTGF5ZXJEYXRhUmVjb3JkLCBsb2FkQXJjR0lTSlNBUElNb2R1bGVzIH0gZnJvbSAnamltdS1hcmNnaXMnO1xuaW1wb3J0IHtoYW5kbGVGZWF0dXJlfSBmcm9tICcuLi9ydW50aW1lL3V0aWxzJztcbmltcG9ydCB7SU1Db25maWd9IGZyb20gJy4vcGFuLXRvLWFjdGlvbi1zZXR0aW5nJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGFuVG9BY3Rpb24gZXh0ZW5kcyBBYnN0cmFjdE1lc3NhZ2VBY3Rpb257XG4gIGZpbHRlck1lc3NhZ2VUeXBlKG1lc3NhZ2VUeXBlOiBNZXNzYWdlVHlwZSwgbWVzc2FnZVdpZGdldElkPzogc3RyaW5nKTogYm9vbGVhbntcbiAgICByZXR1cm4gbWVzc2FnZVR5cGUgPT09IE1lc3NhZ2VUeXBlLkRhdGFSZWNvcmRTZXRDcmVhdGUgfHwgbWVzc2FnZVR5cGUgPT09IE1lc3NhZ2VUeXBlLkRhdGFSZWNvcmRTZXRVcGRhdGVcbiAgICAgIHx8IG1lc3NhZ2VUeXBlID09PSBNZXNzYWdlVHlwZS5EYXRhUmVjb3Jkc1NlbGVjdGlvbkNoYW5nZSB8fCBtZXNzYWdlVHlwZSA9PT0gTWVzc2FnZVR5cGUuRXh0ZW50Q2hhbmdlO1xuICB9XG5cbiAgZmlsdGVyTWVzc2FnZShtZXNzYWdlOiBNZXNzYWdlKTogYm9vbGVhbntcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGdldFNldHRpbmdDb21wb25lbnRVcmkobWVzc2FnZVR5cGU6IE1lc3NhZ2VUeXBlLCBtZXNzYWdlV2lkZ2V0SWQ/OiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGNvbnN0IGNvbmZpZyA9IGdldEFwcFN0b3JlKCkuZ2V0U3RhdGUoKS5hcHBTdGF0ZUluQnVpbGRlciA/IGdldEFwcFN0b3JlKCkuZ2V0U3RhdGUoKS5hcHBTdGF0ZUluQnVpbGRlci5hcHBDb25maWcgOiBnZXRBcHBTdG9yZSgpLmdldFN0YXRlKCkuYXBwQ29uZmlnO1xuICAgIGNvbnN0IG1lc3NhZ2VXaWRnZXRKc29uID0gY29uZmlnLndpZGdldHNbbWVzc2FnZVdpZGdldElkXTtcbiAgICBpZiAobWVzc2FnZVdpZGdldEpzb24ubWFuaWZlc3QubGFiZWwgPT09ICdNYXAnKSB7XG4gICAgICBpZiAobWVzc2FnZVR5cGUgPT09IE1lc3NhZ2VUeXBlLkRhdGFSZWNvcmRzU2VsZWN0aW9uQ2hhbmdlKSB7XG4gICAgICAgIHJldHVybiAnbWVzc2FnZS1hY3Rpb25zL3Bhbi10by1hY3Rpb24tc2V0dGluZyc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgb25FeGVjdXRlKG1lc3NhZ2U6IE1lc3NhZ2UsIGFjdGlvbkNvbmZpZz86IElNQ29uZmlnKTogUHJvbWlzZTxib29sZWFuPiB8IGJvb2xlYW57XG4gICAgcmV0dXJuIGxvYWRBcmNHSVNKU0FQSU1vZHVsZXMoWydlc3JpL0dyYXBoaWMnXSkudGhlbihtb2R1bGVzID0+IHtcbiAgICAgIGxldCBHcmFwaGljOiBfX2VzcmkuR3JhcGhpY0NvbnN0cnVjdG9yID0gbnVsbDtcbiAgICAgIFtHcmFwaGljXSA9IG1vZHVsZXM7XG4gICAgICBzd2l0Y2gobWVzc2FnZS50eXBlKXtcbiAgICAgICAgY2FzZSBNZXNzYWdlVHlwZS5EYXRhUmVjb3JkU2V0Q3JlYXRlOlxuICAgICAgICAgIGNvbnN0IGRhdGFSZWNvcmRTZXRDcmVhdGVNZXNzYWdlID0gbWVzc2FnZSBhcyBEYXRhUmVjb3JkU2V0Q3JlYXRlTWVzc2FnZTtcblxuICAgICAgICAgIGxldCBuZXdGZWF0dXJlU2V0ID0ge307XG4gICAgICAgICAgaWYgKGRhdGFSZWNvcmRTZXRDcmVhdGVNZXNzYWdlLmRhdGFSZWNvcmRTZXQgJiYgZGF0YVJlY29yZFNldENyZWF0ZU1lc3NhZ2UuZGF0YVJlY29yZFNldC5yZWNvcmRzKSB7XG4gICAgICAgICAgICBjb25zdCBmZWF0dXJlcyA9IFtdO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhUmVjb3JkU2V0Q3JlYXRlTWVzc2FnZS5kYXRhUmVjb3JkU2V0LnJlY29yZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgY29uc3QgZGF0YVJlY29yZEZlYXR1cmUgPSAoZGF0YVJlY29yZFNldENyZWF0ZU1lc3NhZ2UuZGF0YVJlY29yZFNldC5yZWNvcmRzW2ldIGFzXG4gICAgICAgICAgICAgICAgKEZlYXR1cmVRdWVyeURhdGFSZWNvcmQgfCBGZWF0dXJlTGF5ZXJEYXRhUmVjb3JkKSkuZmVhdHVyZTtcbiAgICAgICAgICAgICAgaWYgKGRhdGFSZWNvcmRGZWF0dXJlKSB7XG4gICAgICAgICAgICAgICAgZmVhdHVyZXMucHVzaChoYW5kbGVGZWF0dXJlKGRhdGFSZWNvcmRGZWF0dXJlLCBHcmFwaGljKS5nZW9tZXRyeSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbmV3RmVhdHVyZVNldCA9IHtcbiAgICAgICAgICAgICAgZmVhdHVyZXM6IGZlYXR1cmVzXG4gICAgICAgICAgICB9IGFzIF9fZXNyaS5GZWF0dXJlU2V0XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZ2V0QXBwU3RvcmUoKS5kaXNwYXRjaChhcHBBY3Rpb25zLndpZGdldE11dGFibGVTdGF0ZVByb3BDaGFuZ2UodGhpcy53aWRnZXRJZCwgJ3BhblRvQWN0aW9uVmFsdWUudmFsdWUnLCBuZXdGZWF0dXJlU2V0KSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgTWVzc2FnZVR5cGUuRGF0YVJlY29yZFNldFVwZGF0ZTpcbiAgICAgICAgICBjb25zdCBkYXRhUmVjb3JkU2V0VXBkYXRlTWVzc2FnZSA9IG1lc3NhZ2UgYXMgRGF0YVJlY29yZFNldFVwZGF0ZU1lc3NhZ2U7XG5cbiAgICAgICAgICBsZXQgdXBkYXRlRmVhdHVyZVNldCA9IHt9O1xuICAgICAgICAgIGlmIChkYXRhUmVjb3JkU2V0VXBkYXRlTWVzc2FnZS5kYXRhUmVjb3JkU2V0ICYmIGRhdGFSZWNvcmRTZXRVcGRhdGVNZXNzYWdlLmRhdGFSZWNvcmRTZXQucmVjb3Jkcykge1xuICAgICAgICAgICAgY29uc3QgZmVhdHVyZXMgPSBbXTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGF0YVJlY29yZFNldFVwZGF0ZU1lc3NhZ2UuZGF0YVJlY29yZFNldC5yZWNvcmRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgIGNvbnN0IGRhdGFSZWNvcmRGZWF0dXJlID0gKGRhdGFSZWNvcmRTZXRVcGRhdGVNZXNzYWdlLmRhdGFSZWNvcmRTZXQucmVjb3Jkc1tpXSBhc1xuICAgICAgICAgICAgICAgIChGZWF0dXJlUXVlcnlEYXRhUmVjb3JkIHwgRmVhdHVyZUxheWVyRGF0YVJlY29yZCkpLmZlYXR1cmU7XG4gICAgICAgICAgICAgIGlmIChkYXRhUmVjb3JkRmVhdHVyZSkge1xuICAgICAgICAgICAgICAgIGZlYXR1cmVzLnB1c2goaGFuZGxlRmVhdHVyZShkYXRhUmVjb3JkRmVhdHVyZSwgR3JhcGhpYykuZ2VvbWV0cnkpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHVwZGF0ZUZlYXR1cmVTZXQgPSB7XG4gICAgICAgICAgICAgIGZlYXR1cmVzOiBmZWF0dXJlc1xuICAgICAgICAgICAgfSBhcyBfX2VzcmkuRmVhdHVyZVNldFxuICAgICAgICAgIH1cblxuICAgICAgICAgIGdldEFwcFN0b3JlKCkuZGlzcGF0Y2goYXBwQWN0aW9ucy53aWRnZXRNdXRhYmxlU3RhdGVQcm9wQ2hhbmdlKHRoaXMud2lkZ2V0SWQsICdwYW5Ub0FjdGlvblZhbHVlLnZhbHVlJywgdXBkYXRlRmVhdHVyZVNldCkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIE1lc3NhZ2VUeXBlLkRhdGFSZWNvcmRzU2VsZWN0aW9uQ2hhbmdlOlxuICAgICAgICAgIGlmIChhY3Rpb25Db25maWcpIHtcbiAgICAgICAgICAgIGNvbnN0IGRhdGFSZWNvcmRzU2VsZWN0aW9uQ2hhbmdlTWVzc2FnZSA9IG1lc3NhZ2UgYXMgRGF0YVJlY29yZHNTZWxlY3Rpb25DaGFuZ2VNZXNzYWdlO1xuXG4gICAgICAgICAgICBsZXQgc2VsZWN0aW9uRmVhdHVyZVNldCA9IHt9O1xuICAgICAgICAgICAgY29uc3Qgc2VsZWN0RmVhdHVyZXMgPSBbXTtcbiAgICAgICAgICAgIGlmIChkYXRhUmVjb3Jkc1NlbGVjdGlvbkNoYW5nZU1lc3NhZ2UucmVjb3Jkcykge1xuICAgICAgICAgICAgICBpZiAoZGF0YVJlY29yZHNTZWxlY3Rpb25DaGFuZ2VNZXNzYWdlLnJlY29yZHNbMF0pIHtcbiAgICAgICAgICAgICAgICBpZiAoIWFjdGlvbkNvbmZpZy51c2VEYXRhU291cmNlIHx8IChkYXRhUmVjb3Jkc1NlbGVjdGlvbkNoYW5nZU1lc3NhZ2UucmVjb3Jkc1swXS5kYXRhU291cmNlLmdldE1haW5EYXRhU291cmNlKCkuaWQgIT09IGFjdGlvbkNvbmZpZy51c2VEYXRhU291cmNlLm1haW5EYXRhU291cmNlSWQpKSB7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGFSZWNvcmRzU2VsZWN0aW9uQ2hhbmdlTWVzc2FnZS5yZWNvcmRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YVJlY29yZEZlYXR1cmUgPSAoZGF0YVJlY29yZHNTZWxlY3Rpb25DaGFuZ2VNZXNzYWdlLnJlY29yZHNbaV0gYXNcbiAgICAgICAgICAgICAgICAgIChGZWF0dXJlUXVlcnlEYXRhUmVjb3JkIHwgRmVhdHVyZUxheWVyRGF0YVJlY29yZCkpLmZlYXR1cmU7XG4gICAgICAgICAgICAgICAgaWYgKGRhdGFSZWNvcmRGZWF0dXJlKSB7XG4gICAgICAgICAgICAgICAgICBzZWxlY3RGZWF0dXJlcy5wdXNoKGhhbmRsZUZlYXR1cmUoZGF0YVJlY29yZEZlYXR1cmUsIEdyYXBoaWMpLmdlb21ldHJ5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc2VsZWN0aW9uRmVhdHVyZVNldCA9IHtcbiAgICAgICAgICAgICAgZmVhdHVyZXM6IHNlbGVjdEZlYXR1cmVzXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGdldEFwcFN0b3JlKCkuZGlzcGF0Y2goYXBwQWN0aW9ucy53aWRnZXRNdXRhYmxlU3RhdGVQcm9wQ2hhbmdlKHRoaXMud2lkZ2V0SWQsICdwYW5Ub0FjdGlvblZhbHVlLnZhbHVlJywgc2VsZWN0aW9uRmVhdHVyZVNldCkpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGRhdGFSZWNvcmRzU2VsZWN0aW9uQ2hhbmdlTWVzc2FnZSA9IG1lc3NhZ2UgYXMgRGF0YVJlY29yZHNTZWxlY3Rpb25DaGFuZ2VNZXNzYWdlO1xuXG4gICAgICAgICAgICBsZXQgc2VsZWN0aW9uRmVhdHVyZVNldCA9IHt9O1xuICAgICAgICAgICAgY29uc3Qgc2VsZWN0RmVhdHVyZXMgPSBbXTtcbiAgICAgICAgICAgIGlmIChkYXRhUmVjb3Jkc1NlbGVjdGlvbkNoYW5nZU1lc3NhZ2UucmVjb3Jkcykge1xuICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGFSZWNvcmRzU2VsZWN0aW9uQ2hhbmdlTWVzc2FnZS5yZWNvcmRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YVJlY29yZEZlYXR1cmUgPSAoZGF0YVJlY29yZHNTZWxlY3Rpb25DaGFuZ2VNZXNzYWdlLnJlY29yZHNbaV0gYXNcbiAgICAgICAgICAgICAgICAgIChGZWF0dXJlUXVlcnlEYXRhUmVjb3JkIHwgRmVhdHVyZUxheWVyRGF0YVJlY29yZCkpLmZlYXR1cmU7XG4gICAgICAgICAgICAgICAgaWYgKGRhdGFSZWNvcmRGZWF0dXJlKSB7XG4gICAgICAgICAgICAgICAgICBzZWxlY3RGZWF0dXJlcy5wdXNoKGhhbmRsZUZlYXR1cmUoZGF0YVJlY29yZEZlYXR1cmUsIEdyYXBoaWMpLmdlb21ldHJ5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc2VsZWN0aW9uRmVhdHVyZVNldCA9IHtcbiAgICAgICAgICAgICAgZmVhdHVyZXM6IHNlbGVjdEZlYXR1cmVzXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGdldEFwcFN0b3JlKCkuZGlzcGF0Y2goYXBwQWN0aW9ucy53aWRnZXRNdXRhYmxlU3RhdGVQcm9wQ2hhbmdlKHRoaXMud2lkZ2V0SWQsICdwYW5Ub0FjdGlvblZhbHVlLnZhbHVlJywgc2VsZWN0aW9uRmVhdHVyZVNldCkpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICBjYXNlIE1lc3NhZ2VUeXBlLkV4dGVudENoYW5nZTpcbiAgICAgICAgICBjb25zdCBleHRlbnRDaGFuZ2VNZXNzYWdlID0gbWVzc2FnZSBhcyBFeHRlbnRDaGFuZ2VNZXNzYWdlO1xuXG4gICAgICAgICAgaWYgKGV4dGVudENoYW5nZU1lc3NhZ2UuZ2V0UmVsYXRlZFdpZGdldElkcygpLmluZGV4T2YodGhpcy53aWRnZXRJZCkgPiAtMSkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29uc3QgZXh0ZW50VmFsdWUgPSB7XG4gICAgICAgICAgICBmZWF0dXJlczogW2V4dGVudENoYW5nZU1lc3NhZ2UuZXh0ZW50XVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnN0IHBhblRvRmVhdHVyZUFjdGlvblZhbHVlID0ge1xuICAgICAgICAgICAgdmFsdWU6IGV4dGVudFZhbHVlLFxuICAgICAgICAgICAgcmVsYXRlZFdpZGdldHM6IGV4dGVudENoYW5nZU1lc3NhZ2UuZ2V0UmVsYXRlZFdpZGdldElkcygpXG4gICAgICAgICAgfVxuICAgICAgICAgIGdldEFwcFN0b3JlKCkuZGlzcGF0Y2goYXBwQWN0aW9ucy53aWRnZXRNdXRhYmxlU3RhdGVQcm9wQ2hhbmdlKHRoaXMud2lkZ2V0SWQsICdwYW5Ub0FjdGlvblZhbHVlJywgcGFuVG9GZWF0dXJlQWN0aW9uVmFsdWUpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0pXG4gIH1cbn0iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUVBO0FBQ0E7QUFHQTtBQUFBO0FBQUE7O0FBOElBO0FBN0lBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBOzsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./extensions/widgets/arcgis/arcgis-map/src/message-actions/pan-to-action.ts\n");

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/utils.ts":
/*!*******************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/utils.ts ***!
  \*******************************************************************/
/*! exports provided: controlUIWidget, createNewFeaturelayer, updateFeaturelayer, selectFeature, mapPanto, filterFeaturesByQuery, flashFeaturesByQuery, handleFeature, projectGeometries, processZoomToFeatures, checkIsLive, getMapBaseRestoreData, restoreMapBase */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"controlUIWidget\", function() { return controlUIWidget; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"createNewFeaturelayer\", function() { return createNewFeaturelayer; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"updateFeaturelayer\", function() { return updateFeaturelayer; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"selectFeature\", function() { return selectFeature; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"mapPanto\", function() { return mapPanto; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"filterFeaturesByQuery\", function() { return filterFeaturesByQuery; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"flashFeaturesByQuery\", function() { return flashFeaturesByQuery; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"handleFeature\", function() { return handleFeature; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"projectGeometries\", function() { return projectGeometries; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"processZoomToFeatures\", function() { return processZoomToFeatures; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"checkIsLive\", function() { return checkIsLive; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getMapBaseRestoreData\", function() { return getMapBaseRestoreData; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"restoreMapBase\", function() { return restoreMapBase; });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jimu_core__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-arcgis */ \"jimu-arcgis\");\n/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__);\n/* eslint-disable prefer-const */\n\n\nfunction controlUIWidget(mapBaseView, isOpen, uiWidget, position, widgetName) {\n    var ui = mapBaseView.ui;\n    if (!uiWidget) {\n        return;\n    }\n    if (isOpen) {\n        ui.add(uiWidget, position);\n        if (widgetName && ui.exbMapTools.indexOf(widgetName) === -1) {\n            ui.exbMapTools.push(widgetName);\n        }\n    }\n    else {\n        ui.remove(uiWidget);\n    }\n}\nfunction createNewFeaturelayer(mapBaseView, newFeatureSetValue) {\n    var newLayerPromises = [];\n    newFeatureSetValue && Object.keys(newFeatureSetValue).forEach(function (layerId) {\n        var layer = mapBaseView.map.layers.find(function (layer) { return layer.id === layerId; });\n        if (layer) {\n            console.warn('the feature layer is already created');\n            return;\n        }\n        newLayerPromises.push(addFeatureSetToMap(mapBaseView, newFeatureSetValue[layerId], layerId));\n    });\n    if (newLayerPromises.length === 0) {\n        return null;\n    }\n    else {\n        return Promise.all(newLayerPromises);\n    }\n}\nfunction updateFeaturelayer(mapBaseView, changedFeatureSetValue) {\n    var updatePromises = [];\n    changedFeatureSetValue && Object.keys(changedFeatureSetValue).forEach(function (layerId) {\n        var layer = mapBaseView.map.layers.find(function (layer) { return layer.id === layerId; });\n        if (layer) {\n            mapBaseView.map.remove(layer);\n            updatePromises.push(addFeatureSetToMap(mapBaseView, changedFeatureSetValue[layerId], layerId));\n        }\n    });\n    if (updatePromises.length === 0) {\n        return null;\n    }\n    else {\n        return Promise.all(updatePromises);\n    }\n}\nfunction addFeatureSetToMap(mapBaseView, featureSet, layerId) {\n    return new Promise(function (resolve, reject) {\n        return Object(jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__[\"loadArcGISJSAPIModules\"])([\n            'esri/layers/FeatureLayer'\n        ]).then(function (modules) {\n            if (featureSet.features.length < 1) {\n                return resolve();\n            }\n            else {\n                //let FeatureSet: typeof  __esri.FeatureSet;\n                var FeatureLayer = void 0;\n                // eslint-disable-next-line\n                FeatureLayer = modules[0];\n                var layerFromFeatureSet = featureSet.features[0].layer;\n                var fieldsInFeaturelayer = [];\n                var fieldMap_1 = {};\n                for (var i = 0; i < layerFromFeatureSet.fields.length; i++) {\n                    var fieldsItem = getReasonableField(layerFromFeatureSet.fields[i]);\n                    fieldMap_1[layerFromFeatureSet.fields[i].name] = fieldsItem.name;\n                    fieldsInFeaturelayer.push(fieldsItem);\n                }\n                var fieldsInPopupTemplate = [];\n                for (var key in featureSet.features[0].attributes) {\n                    if (fieldMap_1[key]) {\n                        var fieldsItem = {\n                            fieldName: fieldMap_1[key],\n                            label: key\n                        };\n                        fieldsInPopupTemplate.push(fieldsItem);\n                    }\n                }\n                var sourceFeatures_1 = [];\n                featureSet.features.forEach(function (feature, index) {\n                    var tempFeature = feature;\n                    if (tempFeature.attributes) {\n                        for (var key in tempFeature.attributes) {\n                            tempFeature.attributes[fieldMap_1[key]] = tempFeature.attributes[key];\n                        }\n                        tempFeature.attributes['exbfid'] = index;\n                    }\n                    else {\n                        tempFeature.attributes = {\n                            exbfid: index\n                        };\n                    }\n                    sourceFeatures_1.push(tempFeature);\n                });\n                var layer = new FeatureLayer({\n                    id: layerId,\n                    title: layerFromFeatureSet.title,\n                    source: sourceFeatures_1,\n                    fields: fieldsInFeaturelayer,\n                    outFields: ['*'],\n                    objectIdField: 'exbfid',\n                    renderer: layerFromFeatureSet.renderer,\n                    popupEnabled: true,\n                    popupTemplate: {\n                        title: 'information',\n                        content: [{\n                                type: 'fields',\n                                fieldInfos: fieldsInPopupTemplate\n                            }]\n                    }\n                });\n                mapBaseView.map.add(layer);\n                layer.on('layerview-create', function (event) {\n                    return resolve();\n                });\n            }\n        });\n    });\n}\nfunction getReasonableField(field) {\n    // the function is supported to normalize the field.name\n    var fieldName = field.name;\n    return {\n        name: fieldName.replace(/\\./g, '_').replace(/\\(/g, '_').replace(/\\)/g, '_'),\n        alias: field.alias,\n        type: field.type\n    };\n}\nfunction selectFeature(mapBaseView, target, layerId) {\n    // In this function, we assume that features come from the same layer\n    var featureLayerId = layerId;\n    var featureLayerView = null;\n    var tempFeature = null;\n    // if layerId doesn't exist, we get layerId by feature\n    if (!featureLayerId) {\n        if (target instanceof Array) {\n            tempFeature = target[0];\n        }\n        else {\n            tempFeature = target;\n        }\n        if (tempFeature) {\n            featureLayerId = tempFeature.layer && tempFeature.layer.id;\n        }\n    }\n    if (featureLayerId) {\n        var layerViews = mapBaseView.allLayerViews;\n        for (var i = 0; i < layerViews.length; i++) {\n            if (layerViews.getItemAt(i).layer.id === featureLayerId) {\n                featureLayerView = layerViews.getItemAt(i);\n            }\n        }\n        if (featureLayerView) {\n            return {\n                layerId: featureLayerId,\n                handle: featureLayerView.highlight(target)\n            };\n        }\n        else {\n            return null;\n        }\n    }\n}\nfunction mapPanto(mapBaseView, target) {\n    var panToTarget = target;\n    var tempBaseMapView = mapBaseView;\n    if (panToTarget instanceof Array) {\n        if (panToTarget.length === 0)\n            return Promise.resolve();\n        if (panToTarget[0].geometry) {\n            var geometryArr = [];\n            for (var i = 0; i < panToTarget.length; i++) {\n                geometryArr.push(panToTarget[i].geometry);\n            }\n            return getGeometriesExtent(geometryArr).then(function (extent) {\n                return tempBaseMapView.goTo(extent.center);\n            });\n        }\n        else {\n            return getGeometriesExtent(panToTarget).then(function (extent) {\n                return tempBaseMapView.goTo(extent.center);\n            });\n        }\n    }\n    else {\n        if (panToTarget.geometry) {\n            var getmetry = panToTarget.geometry;\n            return tempBaseMapView.goTo(getCenterPoint(getmetry));\n        }\n        else {\n            return tempBaseMapView.goTo(getCenterPoint(panToTarget));\n        }\n    }\n}\nfunction getGeometriesExtent(geometries) {\n    return Object(jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__[\"loadArcGISJSAPIModules\"])([\n        'esri/geometry/Extent'\n    ]).then(function (modules) {\n        // eslint-disable-next-line\n        var Extent;\n        Extent = modules[0];\n        if (!geometries || !geometries.length) {\n            return Promise.resolve(null);\n        }\n        var fullExtent = null;\n        var index;\n        var numGeometries = geometries.length;\n        for (index = 0; index < numGeometries; index++) {\n            var geometry = geometries[index];\n            if (!geometry) {\n                continue;\n            }\n            var extent = geometry.extent;\n            if (!extent && geometry.type === 'point') {\n                var pointGeometry = geometry;\n                if (pointGeometry.x && pointGeometry.y) {\n                    extent = new Extent({\n                        xmax: pointGeometry.x,\n                        xmin: pointGeometry.x,\n                        ymax: pointGeometry.y,\n                        ymin: pointGeometry.y,\n                        zmax: pointGeometry.z,\n                        zmin: pointGeometry.z,\n                        spatialReference: pointGeometry.spatialReference\n                    });\n                }\n            }\n            if (!extent) {\n                continue;\n            }\n            if (fullExtent) {\n                fullExtent = fullExtent.union(extent);\n            }\n            else {\n                fullExtent = extent;\n            }\n        }\n        if (fullExtent.width < 0 && fullExtent.height < 0) {\n            return Promise.resolve(null);\n        }\n        return Promise.resolve(fullExtent);\n    });\n}\nfunction filterFeaturesByQuery(jimuMapView, layerDataSourceId, querySQL) {\n    if (layerDataSourceId) {\n        var jimuLayerViews = jimuMapView.jimuLayerViews;\n        var jimuLayerViewIds = Object.keys(jimuLayerViews);\n        for (var i = 0; i < jimuLayerViewIds.length; i++) {\n            var tempJimuLayerView = jimuLayerViews[jimuLayerViewIds[i]];\n            if (tempJimuLayerView && tempJimuLayerView.layer && tempJimuLayerView.layerDataSourceId === layerDataSourceId\n                && tempJimuLayerView.type === jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__[\"LayerTypes\"].FeatureLayer) {\n                tempJimuLayerView.setLocalDefinitionExpression(querySQL);\n            }\n        }\n    }\n}\nfunction flashFeaturesByQuery(jimuMapView, layerDataSourceId, querySQL) {\n    if (layerDataSourceId) {\n        var jimuLayerViews = jimuMapView.jimuLayerViews;\n        var jimuLayerViewIds = Object.keys(jimuLayerViews);\n        var _loop_1 = function (i) {\n            var tempJimuLayerView = jimuLayerViews[jimuLayerViewIds[i]];\n            if (tempJimuLayerView && tempJimuLayerView.layer && tempJimuLayerView.layerDataSourceId === layerDataSourceId\n                && tempJimuLayerView.type === jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__[\"LayerTypes\"].FeatureLayer) {\n                if (tempJimuLayerView.view) {\n                    var featureLayerView_1 = tempJimuLayerView.view;\n                    if (featureLayerView_1) {\n                        Object(jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__[\"loadArcGISJSAPIModules\"])([\n                            'esri/tasks/support/Query',\n                            'esri/Graphic'\n                        ]).then(function (modules) {\n                            // eslint-disable-next-line\n                            var Query;\n                            // eslint-disable-next-line\n                            var Graphic;\n                            Query = modules[0], Graphic = modules[1];\n                            var query = new Query();\n                            query.where = querySQL;\n                            query.outFields = ['*'];\n                            query.returnGeometry = true;\n                            featureLayerView_1.layer.queryFeatures(query).then(function (featureSet) {\n                                if (featureSet && featureSet.features && featureSet.features.length > 0) {\n                                    var symbol = getFlashSymbol(featureLayerView_1.layer.geometryType);\n                                    startFlash(jimuMapView.view, featureSet.features, symbol, Graphic);\n                                }\n                            });\n                        });\n                    }\n                    else {\n                        return { value: null };\n                    }\n                }\n                else {\n                    Object(jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__[\"loadArcGISJSAPIModules\"])([\n                        'esri/tasks/support/Query',\n                        'esri/layers/FeatureLayer',\n                        'esri/Graphic'\n                    ]).then(function (modules) {\n                        // eslint-disable-next-line\n                        var Query;\n                        // eslint-disable-next-line\n                        var FeatureLayer;\n                        // eslint-disable-next-line\n                        var Graphic;\n                        Query = modules[0], FeatureLayer = modules[1], Graphic = modules[2];\n                        var query = new Query();\n                        query.where = querySQL;\n                        query.outFields = ['*'];\n                        query.returnGeometry = true;\n                        var tempFeatureLayer = new FeatureLayer({\n                            url: jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"dataSourceUtils\"].getUrlByLayer(tempJimuLayerView.layer)\n                        });\n                        tempFeatureLayer.load().then(function () {\n                            tempFeatureLayer.queryFeatures(query).then(function (featureSet) {\n                                if (featureSet && featureSet.features && featureSet.features.length > 0) {\n                                    var symbol = getFlashSymbol(featureSet.features[0].geometry.type);\n                                    startFlash(jimuMapView.view, featureSet.features, symbol, Graphic);\n                                }\n                            });\n                        });\n                    });\n                }\n            }\n        };\n        for (var i = 0; i < jimuLayerViewIds.length; i++) {\n            var state_1 = _loop_1(i);\n            if (typeof state_1 === \"object\")\n                return state_1.value;\n        }\n    }\n}\nfunction startFlash(mapBaseView, features, symbol, Graphic) {\n    var flashFeatures = function (features, maxFlashCount) {\n        var graphics = [];\n        var flashCount = 0;\n        for (var i = 0; i < features.length; i++) {\n            var tempGraphic = new Graphic({\n                geometry: features[i].geometry,\n                symbol: symbol,\n                attributes: features[i].attributes\n            });\n            graphics.push(tempGraphic);\n        }\n        var singleFlash = function () {\n            mapBaseView.graphics.addMany(graphics);\n            setTimeout(function () {\n                mapBaseView.graphics.removeMany(graphics);\n                flashCount = flashCount + 1;\n                if (flashCount < maxFlashCount) {\n                    setTimeout(function () {\n                        singleFlash();\n                    }, 500);\n                }\n            }, 500);\n        };\n        singleFlash();\n    };\n    flashFeatures(features, 3);\n}\nfunction getFlashSymbol(geometryType) {\n    if (['point', 'multipoint'].indexOf(geometryType) > -1) {\n        return {\n            type: 'simple-marker',\n            style: 'circle',\n            color: [255, 255, 0, 0.8],\n            size: '16px',\n            outline: {\n                color: [255, 255, 0, 0.8],\n                width: 3\n            }\n        };\n    }\n    else if (['polyline'].indexOf(geometryType) > -1) {\n        return {\n            type: 'simple-line',\n            color: [255, 255, 0, 0.8],\n            width: 3,\n            style: 'solid'\n        };\n    }\n    else if (['polygon', 'extent'].indexOf(geometryType) > -1) {\n        return {\n            type: 'simple-fill',\n            color: [255, 255, 0, 0.5],\n            style: 'solid',\n            outline: {\n                color: [255, 255, 0, 0.8],\n                width: 3\n            }\n        };\n    }\n    else if (['mesh'].indexOf(geometryType) > -1) {\n        return {\n            type: 'mesh-3d',\n            symbolLayers: [{\n                    type: 'fill',\n                    material: { color: [255, 255, 0, 0.8] }\n                }]\n        };\n    }\n    else {\n        return null;\n    }\n}\nfunction getCenterPoint(geometry) {\n    //point | multipoint | polyline | polygon | extent | mesh\n    switch (geometry.type) {\n        case 'point':\n            return geometry;\n        case 'extent':\n            return geometry.center;\n        case 'polygon':\n            return geometry.centroid;\n        case 'polyline':\n            return geometry.extent.center;\n        default:\n            return geometry && geometry.extent ? geometry.extent.center : undefined;\n        //todo\n    }\n}\nfunction handleFeature(feature, Graphic) {\n    var tempFeature = null;\n    if (feature.clone) {\n        tempFeature = feature.clone();\n    }\n    else {\n        tempFeature = Graphic.fromJSON(Object.assign({}, feature));\n        tempFeature.attributes = Object.assign({}, feature.attributes);\n    }\n    return tempFeature;\n}\nfunction projectGeometries(geometries, spatialReference) {\n    if (!geometries || geometries.length === 0 || !geometries[0]\n        || spatialReference.wkid === geometries[0].spatialReference.wkid || (spatialReference.equals(geometries[0].spatialReference))) {\n        return Promise.resolve(geometries);\n    }\n    else if (spatialReference.isWebMercator && geometries[0].spatialReference.isWGS84) {\n        // In js api 4.x, the view can handle WebMercator and WGS84 spatialReference auto\n        return Promise.resolve(geometries);\n    }\n    else if (spatialReference.isWGS84 && geometries[0].spatialReference.isWebMercator) {\n        // In js api 4.x, the view can handle WebMercator and WGS84 spatialReference auto\n        return Promise.resolve(geometries);\n    }\n    else {\n        return jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__[\"geometryUtils\"].projectToSpatialReference(geometries, spatialReference);\n    }\n}\nfunction processZoomToFeatures(mapBaseView, layer, features) {\n    if (mapBaseView && mapBaseView.type === '3d' && layer && layer.queryFeatures && features) {\n        return Object(jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__[\"loadArcGISJSAPIModules\"])([\n            'esri/tasks/support/Query'\n        ]).then(function (modules) {\n            var Query = modules[0];\n            var query = new Query();\n            query.returnGeometry = true;\n            query.outFields = ['*'];\n            query.objectIds = features.map(function (feature) { return feature.attributes[layer.objectIdField]; });\n            return layer.queryFeatures(query).then(function (result) {\n                if (result && result.features && result.features.length === features.length) {\n                    return Promise.resolve(result.features);\n                }\n                else {\n                    return Promise.resolve(features);\n                }\n            }, function () {\n                return Promise.resolve(features);\n            });\n        });\n    }\n    else {\n        return Promise.resolve(features);\n    }\n}\nfunction checkIsLive(appMode) {\n    if (window.jimuConfig.isInBuilder) {\n        if (appMode === jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"AppMode\"].Design) {\n            return false;\n        }\n        else {\n            return true;\n        }\n    }\n    else {\n        return true;\n    }\n}\nfunction getMapBaseRestoreData(mapInstance) {\n    return {\n        mapContainer: mapInstance.mapContainer,\n        state: mapInstance.state,\n        MapView: mapInstance.MapView,\n        SceneView: mapInstance.SceneView,\n        Extent: mapInstance.Extent,\n        Viewpoint: mapInstance.Viewpoint,\n        mapView: mapInstance.mapView,\n        sceneView: mapInstance.sceneView,\n        extentWatch: mapInstance.extentWatch,\n        fatalErrorWatch: mapInstance.fatalErrorWatch,\n        dsManager: mapInstance.dsManager,\n        highLightHandles: mapInstance.highLightHandles,\n        mapBaseViewEventHandles: mapInstance.mapBaseViewEventHandles,\n        Color: mapInstance.Color\n    };\n}\nfunction restoreMapBase(mapInstance, restoreData) {\n    mapInstance.mapContainer = restoreData.mapContainer;\n    mapInstance.state = restoreData.state;\n    mapInstance.MapView = restoreData.MapView;\n    mapInstance.SceneView = restoreData.SceneView;\n    mapInstance.Extent = restoreData.Extent;\n    mapInstance.Viewpoint = restoreData.Viewpoint;\n    mapInstance.mapView = restoreData.mapView;\n    mapInstance.sceneView = restoreData.sceneView;\n    mapInstance.extentWatch = restoreData.extentWatch;\n    mapInstance.fatalErrorWatch = restoreData.fatalErrorWatch;\n    mapInstance.dsManager = restoreData.dsManager;\n    mapInstance.highLightHandles = restoreData.highLightHandles;\n    mapInstance.mapBaseViewEventHandles = restoreData.mapBaseViewEventHandles;\n    mapInstance.Color = restoreData.Color;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvdXRpbHMudHMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvdXRpbHMudHM/ZmU0NCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQtZGlzYWJsZSBwcmVmZXItY29uc3QgKi9cbmltcG9ydCB7QXBwTW9kZSwgZGF0YVNvdXJjZVV0aWxzfSBmcm9tICdqaW11LWNvcmUnO1xuaW1wb3J0IE1hcEJhc2UsIHtIaWdoTGlnaHRIYW5kbGV9IGZyb20gJy4vY29tcG9uZW50cy9tYXBiYXNlJztcbmltcG9ydCB7IElGZWF0dXJlIH0gZnJvbSAnQGVzcmkvYXJjZ2lzLXJlc3QtdHlwZXMnO1xuaW1wb3J0IHsgZ2VvbWV0cnlVdGlscywgbG9hZEFyY0dJU0pTQVBJTW9kdWxlcywgSmltdU1hcFZpZXcsIExheWVyVHlwZXMsIEppbXVGZWF0dXJlTGF5ZXJWaWV3IH0gZnJvbSAnamltdS1hcmNnaXMnO1xuXG5leHBvcnQgZnVuY3Rpb24gY29udHJvbFVJV2lkZ2V0KG1hcEJhc2VWaWV3OiBfX2VzcmkuTWFwVmlldyB8IF9fZXNyaS5TY2VuZVZpZXcsIGlzT3BlbjogYm9vbGVhbiwgdWlXaWRnZXQ6IF9fZXNyaS5XaWRnZXQsIHBvc2l0aW9uPzogc3RyaW5nLCB3aWRnZXROYW1lPzogc3RyaW5nKSB7XG4gIGNvbnN0IHVpID0gbWFwQmFzZVZpZXcudWkgYXMgYW55O1xuICBpZiAoIXVpV2lkZ2V0KSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmIChpc09wZW4pIHtcbiAgICB1aS5hZGQodWlXaWRnZXQsIHBvc2l0aW9uKTtcbiAgICBpZiAod2lkZ2V0TmFtZSAmJiB1aS5leGJNYXBUb29scy5pbmRleE9mKHdpZGdldE5hbWUpID09PSAtMSkge1xuICAgICAgdWkuZXhiTWFwVG9vbHMucHVzaCh3aWRnZXROYW1lKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdWkucmVtb3ZlKHVpV2lkZ2V0KTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlTmV3RmVhdHVyZWxheWVyKG1hcEJhc2VWaWV3OiBfX2VzcmkuTWFwVmlldyB8IF9fZXNyaS5TY2VuZVZpZXcsIG5ld0ZlYXR1cmVTZXRWYWx1ZT86IHtbbGF5ZXJJRDogc3RyaW5nXTogX19lc3JpLkZlYXR1cmVTZXR9KTogUHJvbWlzZTxhbnk+IHtcbiAgY29uc3QgbmV3TGF5ZXJQcm9taXNlcyA9IFtdO1xuICBuZXdGZWF0dXJlU2V0VmFsdWUgJiYgT2JqZWN0LmtleXMobmV3RmVhdHVyZVNldFZhbHVlKS5mb3JFYWNoKGxheWVySWQgPT4ge1xuICAgIGNvbnN0IGxheWVyID0gbWFwQmFzZVZpZXcubWFwLmxheWVycy5maW5kKGxheWVyID0+IGxheWVyLmlkID09PSBsYXllcklkKTtcbiAgICBpZiAobGF5ZXIpIHtcbiAgICAgIGNvbnNvbGUud2FybigndGhlIGZlYXR1cmUgbGF5ZXIgaXMgYWxyZWFkeSBjcmVhdGVkJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIG5ld0xheWVyUHJvbWlzZXMucHVzaChhZGRGZWF0dXJlU2V0VG9NYXAobWFwQmFzZVZpZXcsIG5ld0ZlYXR1cmVTZXRWYWx1ZVtsYXllcklkXSwgbGF5ZXJJZCkpO1xuICB9KTtcblxuICBpZiAobmV3TGF5ZXJQcm9taXNlcy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gUHJvbWlzZS5hbGwobmV3TGF5ZXJQcm9taXNlcyk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZUZlYXR1cmVsYXllcihtYXBCYXNlVmlldzogX19lc3JpLk1hcFZpZXcgfCBfX2VzcmkuU2NlbmVWaWV3LCBjaGFuZ2VkRmVhdHVyZVNldFZhbHVlPzoge1tsYXllcklEOiBzdHJpbmddOiBfX2VzcmkuRmVhdHVyZVNldH0pOiBQcm9taXNlPGFueT4ge1xuICBjb25zdCB1cGRhdGVQcm9taXNlcyA9IFtdO1xuICBjaGFuZ2VkRmVhdHVyZVNldFZhbHVlICYmIE9iamVjdC5rZXlzKGNoYW5nZWRGZWF0dXJlU2V0VmFsdWUpLmZvckVhY2gobGF5ZXJJZCA9PiB7XG4gICAgY29uc3QgbGF5ZXIgPSBtYXBCYXNlVmlldy5tYXAubGF5ZXJzLmZpbmQobGF5ZXIgPT4gbGF5ZXIuaWQgPT09IGxheWVySWQpO1xuICAgIGlmIChsYXllcikge1xuICAgICAgbWFwQmFzZVZpZXcubWFwLnJlbW92ZShsYXllcik7XG4gICAgICB1cGRhdGVQcm9taXNlcy5wdXNoKGFkZEZlYXR1cmVTZXRUb01hcChtYXBCYXNlVmlldywgY2hhbmdlZEZlYXR1cmVTZXRWYWx1ZVtsYXllcklkXSwgbGF5ZXJJZCkpO1xuICAgIH1cbiAgfSk7XG5cbiAgaWYgKHVwZGF0ZVByb21pc2VzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBudWxsO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBQcm9taXNlLmFsbCh1cGRhdGVQcm9taXNlcyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gYWRkRmVhdHVyZVNldFRvTWFwKG1hcEJhc2VWaWV3OiBfX2VzcmkuTWFwVmlldyB8IF9fZXNyaS5TY2VuZVZpZXcsIGZlYXR1cmVTZXQ6IF9fZXNyaS5GZWF0dXJlU2V0LCBsYXllcklkOiBzdHJpbmcpOiBQcm9taXNlPGFueT4ge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIHJldHVybiBsb2FkQXJjR0lTSlNBUElNb2R1bGVzKFtcbiAgICAgICdlc3JpL2xheWVycy9GZWF0dXJlTGF5ZXInXG4gICAgXSkudGhlbihtb2R1bGVzID0+IHtcbiAgICAgIGlmIChmZWF0dXJlU2V0LmZlYXR1cmVzLmxlbmd0aCA8IDEpIHtcbiAgICAgICAgcmV0dXJuIHJlc29sdmUoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vbGV0IEZlYXR1cmVTZXQ6IHR5cGVvZiAgX19lc3JpLkZlYXR1cmVTZXQ7XG4gICAgICAgIGxldCBGZWF0dXJlTGF5ZXI6IHR5cGVvZiAgX19lc3JpLkZlYXR1cmVMYXllcjtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgICAgIFtGZWF0dXJlTGF5ZXJdID0gbW9kdWxlcztcblxuICAgICAgICBjb25zdCBsYXllckZyb21GZWF0dXJlU2V0ID0gZmVhdHVyZVNldC5mZWF0dXJlc1swXS5sYXllciBhcyBhbnk7XG4gICAgICAgIGNvbnN0IGZpZWxkc0luRmVhdHVyZWxheWVyID0gW107XG4gICAgICAgIGNvbnN0IGZpZWxkTWFwID0ge307XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsYXllckZyb21GZWF0dXJlU2V0LmZpZWxkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGNvbnN0IGZpZWxkc0l0ZW0gPSBnZXRSZWFzb25hYmxlRmllbGQobGF5ZXJGcm9tRmVhdHVyZVNldC5maWVsZHNbaV0pO1xuICAgICAgICAgIGZpZWxkTWFwW2xheWVyRnJvbUZlYXR1cmVTZXQuZmllbGRzW2ldLm5hbWVdID0gZmllbGRzSXRlbS5uYW1lO1xuICAgICAgICAgIGZpZWxkc0luRmVhdHVyZWxheWVyLnB1c2goZmllbGRzSXRlbSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBmaWVsZHNJblBvcHVwVGVtcGxhdGUgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gZmVhdHVyZVNldC5mZWF0dXJlc1swXS5hdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgaWYgKGZpZWxkTWFwW2tleV0pIHtcbiAgICAgICAgICAgIGNvbnN0IGZpZWxkc0l0ZW0gPSB7XG4gICAgICAgICAgICAgIGZpZWxkTmFtZTogZmllbGRNYXBba2V5XSxcbiAgICAgICAgICAgICAgbGFiZWw6IGtleVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmllbGRzSW5Qb3B1cFRlbXBsYXRlLnB1c2goZmllbGRzSXRlbSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc291cmNlRmVhdHVyZXMgPSBbXTtcbiAgICAgICAgZmVhdHVyZVNldC5mZWF0dXJlcy5mb3JFYWNoKChmZWF0dXJlLCBpbmRleCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHRlbXBGZWF0dXJlID0gZmVhdHVyZTtcbiAgICAgICAgICBpZiAodGVtcEZlYXR1cmUuYXR0cmlidXRlcykge1xuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gdGVtcEZlYXR1cmUuYXR0cmlidXRlcykge1xuICAgICAgICAgICAgICB0ZW1wRmVhdHVyZS5hdHRyaWJ1dGVzW2ZpZWxkTWFwW2tleV1dID0gdGVtcEZlYXR1cmUuYXR0cmlidXRlc1trZXldO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0ZW1wRmVhdHVyZS5hdHRyaWJ1dGVzWydleGJmaWQnXSA9IGluZGV4O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0ZW1wRmVhdHVyZS5hdHRyaWJ1dGVzID0ge1xuICAgICAgICAgICAgICBleGJmaWQ6IGluZGV4XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHNvdXJjZUZlYXR1cmVzLnB1c2godGVtcEZlYXR1cmUpO1xuICAgICAgICB9KVxuXG4gICAgICAgIGNvbnN0IGxheWVyID0gbmV3IEZlYXR1cmVMYXllcih7XG4gICAgICAgICAgaWQ6IGxheWVySWQsXG4gICAgICAgICAgdGl0bGU6IGxheWVyRnJvbUZlYXR1cmVTZXQudGl0bGUsXG4gICAgICAgICAgc291cmNlOiBzb3VyY2VGZWF0dXJlcyxcbiAgICAgICAgICBmaWVsZHM6IGZpZWxkc0luRmVhdHVyZWxheWVyLFxuICAgICAgICAgIG91dEZpZWxkczogWycqJ10sXG4gICAgICAgICAgb2JqZWN0SWRGaWVsZDogJ2V4YmZpZCcsXG4gICAgICAgICAgcmVuZGVyZXI6IGxheWVyRnJvbUZlYXR1cmVTZXQucmVuZGVyZXIsXG4gICAgICAgICAgcG9wdXBFbmFibGVkOiB0cnVlLFxuICAgICAgICAgIHBvcHVwVGVtcGxhdGU6IHtcbiAgICAgICAgICAgIHRpdGxlOiAnaW5mb3JtYXRpb24nLFxuICAgICAgICAgICAgY29udGVudDogW3tcbiAgICAgICAgICAgICAgdHlwZTogJ2ZpZWxkcycsXG4gICAgICAgICAgICAgIGZpZWxkSW5mb3M6IGZpZWxkc0luUG9wdXBUZW1wbGF0ZVxuICAgICAgICAgICAgfV1cbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIG1hcEJhc2VWaWV3Lm1hcC5hZGQobGF5ZXIpO1xuXG4gICAgICAgIGxheWVyLm9uKCdsYXllcnZpZXctY3JlYXRlJywgZXZlbnQgPT4ge1xuICAgICAgICAgIHJldHVybiByZXNvbHZlKCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pXG4gIH0pO1xufVxuXG5mdW5jdGlvbiBnZXRSZWFzb25hYmxlRmllbGQgKGZpZWxkOiBfX2VzcmkuRmllbGQpOiBfX2VzcmkuRmllbGQge1xuICAvLyB0aGUgZnVuY3Rpb24gaXMgc3VwcG9ydGVkIHRvIG5vcm1hbGl6ZSB0aGUgZmllbGQubmFtZVxuICBjb25zdCBmaWVsZE5hbWUgPSBmaWVsZC5uYW1lO1xuICByZXR1cm4ge1xuICAgIG5hbWU6IGZpZWxkTmFtZS5yZXBsYWNlKC9cXC4vZywgJ18nKS5yZXBsYWNlKC9cXCgvZywgJ18nKS5yZXBsYWNlKC9cXCkvZywgJ18nKSxcbiAgICBhbGlhczogZmllbGQuYWxpYXMsXG4gICAgdHlwZTogZmllbGQudHlwZVxuICB9IGFzIGFueTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNlbGVjdEZlYXR1cmUobWFwQmFzZVZpZXc6IF9fZXNyaS5NYXBWaWV3IHwgIF9fZXNyaS5TY2VuZVZpZXcsIHRhcmdldDogX19lc3JpLkdyYXBoaWMgfCBfX2VzcmkuR3JhcGhpY1tdIHwgSUZlYXR1cmUgfCBJRmVhdHVyZVtdLCBsYXllcklkPzogc3RyaW5nKTogSGlnaExpZ2h0SGFuZGxlIHtcbiAgLy8gSW4gdGhpcyBmdW5jdGlvbiwgd2UgYXNzdW1lIHRoYXQgZmVhdHVyZXMgY29tZSBmcm9tIHRoZSBzYW1lIGxheWVyXG4gIGxldCBmZWF0dXJlTGF5ZXJJZCA9IGxheWVySWQ7XG4gIGxldCBmZWF0dXJlTGF5ZXJWaWV3ID0gbnVsbDtcbiAgbGV0IHRlbXBGZWF0dXJlID0gbnVsbDtcblxuICAvLyBpZiBsYXllcklkIGRvZXNuJ3QgZXhpc3QsIHdlIGdldCBsYXllcklkIGJ5IGZlYXR1cmVcbiAgaWYgKCFmZWF0dXJlTGF5ZXJJZCkge1xuICAgIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgdGVtcEZlYXR1cmUgPSB0YXJnZXRbMF0gYXMgX19lc3JpLkdyYXBoaWM7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRlbXBGZWF0dXJlID0gdGFyZ2V0IGFzIF9fZXNyaS5HcmFwaGljO1xuICAgIH1cblxuICAgIGlmICh0ZW1wRmVhdHVyZSkge1xuICAgICAgZmVhdHVyZUxheWVySWQgPSB0ZW1wRmVhdHVyZS5sYXllciAmJiB0ZW1wRmVhdHVyZS5sYXllci5pZDtcbiAgICB9XG4gIH1cblxuICBpZiAoZmVhdHVyZUxheWVySWQpIHtcbiAgICBjb25zdCBsYXllclZpZXdzID0gbWFwQmFzZVZpZXcuYWxsTGF5ZXJWaWV3cztcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxheWVyVmlld3MubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChsYXllclZpZXdzLmdldEl0ZW1BdChpKS5sYXllci5pZCA9PT0gZmVhdHVyZUxheWVySWQpIHtcbiAgICAgICAgZmVhdHVyZUxheWVyVmlldyA9IGxheWVyVmlld3MuZ2V0SXRlbUF0KGkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChmZWF0dXJlTGF5ZXJWaWV3KSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBsYXllcklkOiBmZWF0dXJlTGF5ZXJJZCxcbiAgICAgICAgaGFuZGxlOiBmZWF0dXJlTGF5ZXJWaWV3LmhpZ2hsaWdodCh0YXJnZXQpfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1hcFBhbnRvKG1hcEJhc2VWaWV3OiBfX2VzcmkuTWFwVmlldyB8ICBfX2VzcmkuU2NlbmVWaWV3LCB0YXJnZXQ6IF9fZXNyaS5HZW9tZXRyeSB8IF9fZXNyaS5HZW9tZXRyeVtdIHxcbiAgX19lc3JpLkdyYXBoaWMgfCBfX2VzcmkuR3JhcGhpY1tdIHwgX19lc3JpLkV4dGVudCk6IFByb21pc2U8YW55PiB7XG4gIGNvbnN0IHBhblRvVGFyZ2V0ID0gdGFyZ2V0IGFzIGFueTtcbiAgY29uc3QgdGVtcEJhc2VNYXBWaWV3ID0gbWFwQmFzZVZpZXcgYXMgYW55O1xuICBpZiAocGFuVG9UYXJnZXQgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgIGlmIChwYW5Ub1RhcmdldC5sZW5ndGggPT09IDApIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcblxuICAgIGlmIChwYW5Ub1RhcmdldFswXS5nZW9tZXRyeSkge1xuICAgICAgY29uc3QgZ2VvbWV0cnlBcnI6IF9fZXNyaS5HZW9tZXRyeVtdICA9IFtdO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYW5Ub1RhcmdldC5sZW5ndGg7IGkrKykge1xuICAgICAgICBnZW9tZXRyeUFyci5wdXNoKHBhblRvVGFyZ2V0W2ldLmdlb21ldHJ5KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGdldEdlb21ldHJpZXNFeHRlbnQoZ2VvbWV0cnlBcnIpLnRoZW4oKGV4dGVudCkgPT4ge1xuICAgICAgICByZXR1cm4gdGVtcEJhc2VNYXBWaWV3LmdvVG8oZXh0ZW50LmNlbnRlcik7XG4gICAgICB9KVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZ2V0R2VvbWV0cmllc0V4dGVudChwYW5Ub1RhcmdldCkudGhlbigoZXh0ZW50KSA9PiB7XG4gICAgICAgIHJldHVybiB0ZW1wQmFzZU1hcFZpZXcuZ29UbyhleHRlbnQuY2VudGVyKTtcbiAgICAgIH0pXG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmIChwYW5Ub1RhcmdldC5nZW9tZXRyeSkge1xuICAgICAgY29uc3QgZ2V0bWV0cnkgPSBwYW5Ub1RhcmdldC5nZW9tZXRyeSBhcyBfX2VzcmkuR2VvbWV0cnk7XG4gICAgICByZXR1cm4gdGVtcEJhc2VNYXBWaWV3LmdvVG8oZ2V0Q2VudGVyUG9pbnQoZ2V0bWV0cnkpKTtcbiAgICB9ICBlbHNlIHtcbiAgICAgIHJldHVybiB0ZW1wQmFzZU1hcFZpZXcuZ29UbyhnZXRDZW50ZXJQb2ludChwYW5Ub1RhcmdldCkpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRHZW9tZXRyaWVzRXh0ZW50KGdlb21ldHJpZXM6IF9fZXNyaS5HZW9tZXRyeVtdKTogUHJvbWlzZTxfX2VzcmkuRXh0ZW50PiB7XG4gIHJldHVybiBsb2FkQXJjR0lTSlNBUElNb2R1bGVzKFtcbiAgICAnZXNyaS9nZW9tZXRyeS9FeHRlbnQnXG4gIF0pLnRoZW4obW9kdWxlcyA9PiB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgbGV0IEV4dGVudDogdHlwZW9mIF9fZXNyaS5FeHRlbnQ7XG4gICAgW0V4dGVudF0gPSBtb2R1bGVzO1xuXG4gICAgaWYgKCFnZW9tZXRyaWVzIHx8ICFnZW9tZXRyaWVzLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShudWxsKTtcbiAgICB9XG5cbiAgICBsZXQgZnVsbEV4dGVudDogX19lc3JpLkV4dGVudCA9IG51bGw7XG4gICAgbGV0IGluZGV4O1xuICAgIGNvbnN0IG51bUdlb21ldHJpZXMgPSBnZW9tZXRyaWVzLmxlbmd0aDtcblxuICAgIGZvciAoaW5kZXggPSAwOyBpbmRleCA8IG51bUdlb21ldHJpZXM7IGluZGV4KyspIHtcbiAgICAgIGNvbnN0IGdlb21ldHJ5ID0gZ2VvbWV0cmllc1tpbmRleF07XG4gICAgICBpZiAoIWdlb21ldHJ5KSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBsZXQgZXh0ZW50ID0gZ2VvbWV0cnkuZXh0ZW50O1xuXG4gICAgICBpZiAoIWV4dGVudCAmJiBnZW9tZXRyeS50eXBlID09PSAncG9pbnQnKSB7XG4gICAgICAgIGNvbnN0IHBvaW50R2VvbWV0cnkgPSBnZW9tZXRyeSBhcyBhbnk7XG5cbiAgICAgICAgaWYgKHBvaW50R2VvbWV0cnkueCAmJiBwb2ludEdlb21ldHJ5LnkpIHtcbiAgICAgICAgICBleHRlbnQgPSBuZXcgRXh0ZW50KHtcbiAgICAgICAgICAgIHhtYXg6IHBvaW50R2VvbWV0cnkueCxcbiAgICAgICAgICAgIHhtaW46IHBvaW50R2VvbWV0cnkueCxcbiAgICAgICAgICAgIHltYXg6IHBvaW50R2VvbWV0cnkueSxcbiAgICAgICAgICAgIHltaW46IHBvaW50R2VvbWV0cnkueSxcbiAgICAgICAgICAgIHptYXg6IHBvaW50R2VvbWV0cnkueixcbiAgICAgICAgICAgIHptaW46IHBvaW50R2VvbWV0cnkueixcbiAgICAgICAgICAgIHNwYXRpYWxSZWZlcmVuY2U6IHBvaW50R2VvbWV0cnkuc3BhdGlhbFJlZmVyZW5jZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICghZXh0ZW50KSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAoZnVsbEV4dGVudCkge1xuICAgICAgICBmdWxsRXh0ZW50ID0gZnVsbEV4dGVudC51bmlvbihleHRlbnQpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGZ1bGxFeHRlbnQgPSBleHRlbnQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGZ1bGxFeHRlbnQud2lkdGggPCAwICYmIGZ1bGxFeHRlbnQuaGVpZ2h0IDwgMCkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShudWxsKTtcbiAgICB9XG5cbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGZ1bGxFeHRlbnQpO1xuICB9KVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZmlsdGVyRmVhdHVyZXNCeVF1ZXJ5KGppbXVNYXBWaWV3OiBKaW11TWFwVmlldywgbGF5ZXJEYXRhU291cmNlSWQ6IHN0cmluZywgcXVlcnlTUUw6IHN0cmluZyk6IHZvaWQge1xuICBpZiAobGF5ZXJEYXRhU291cmNlSWQpIHtcbiAgICBjb25zdCBqaW11TGF5ZXJWaWV3cyA9IGppbXVNYXBWaWV3LmppbXVMYXllclZpZXdzO1xuICAgIGNvbnN0IGppbXVMYXllclZpZXdJZHMgPSBPYmplY3Qua2V5cyhqaW11TGF5ZXJWaWV3cyk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBqaW11TGF5ZXJWaWV3SWRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgdGVtcEppbXVMYXllclZpZXcgPSBqaW11TGF5ZXJWaWV3c1tqaW11TGF5ZXJWaWV3SWRzW2ldXTtcbiAgICAgIGlmICh0ZW1wSmltdUxheWVyVmlldyAmJiB0ZW1wSmltdUxheWVyVmlldy5sYXllciAmJiB0ZW1wSmltdUxheWVyVmlldy5sYXllckRhdGFTb3VyY2VJZCA9PT0gbGF5ZXJEYXRhU291cmNlSWRcbiAgICAgICAgJiYgdGVtcEppbXVMYXllclZpZXcudHlwZSA9PT0gTGF5ZXJUeXBlcy5GZWF0dXJlTGF5ZXIpIHtcbiAgICAgICAgKHRlbXBKaW11TGF5ZXJWaWV3IGFzIEppbXVGZWF0dXJlTGF5ZXJWaWV3KS5zZXRMb2NhbERlZmluaXRpb25FeHByZXNzaW9uKHF1ZXJ5U1FMKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZsYXNoRmVhdHVyZXNCeVF1ZXJ5KGppbXVNYXBWaWV3OiBKaW11TWFwVmlldywgbGF5ZXJEYXRhU291cmNlSWQ6IHN0cmluZywgcXVlcnlTUUw6IHN0cmluZyk6IHZvaWQge1xuICBpZiAobGF5ZXJEYXRhU291cmNlSWQpIHtcbiAgICBjb25zdCBqaW11TGF5ZXJWaWV3cyA9IGppbXVNYXBWaWV3LmppbXVMYXllclZpZXdzO1xuICAgIGNvbnN0IGppbXVMYXllclZpZXdJZHMgPSBPYmplY3Qua2V5cyhqaW11TGF5ZXJWaWV3cyk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBqaW11TGF5ZXJWaWV3SWRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgdGVtcEppbXVMYXllclZpZXcgPSBqaW11TGF5ZXJWaWV3c1tqaW11TGF5ZXJWaWV3SWRzW2ldXTtcbiAgICAgIGlmICh0ZW1wSmltdUxheWVyVmlldyAmJiB0ZW1wSmltdUxheWVyVmlldy5sYXllciAmJiB0ZW1wSmltdUxheWVyVmlldy5sYXllckRhdGFTb3VyY2VJZCA9PT0gbGF5ZXJEYXRhU291cmNlSWRcbiAgICAgICAgJiYgdGVtcEppbXVMYXllclZpZXcudHlwZSA9PT0gTGF5ZXJUeXBlcy5GZWF0dXJlTGF5ZXIpIHtcbiAgICAgICAgaWYgKCh0ZW1wSmltdUxheWVyVmlldyBhcyBKaW11RmVhdHVyZUxheWVyVmlldykudmlldykge1xuICAgICAgICAgIGxldCBmZWF0dXJlTGF5ZXJWaWV3OiBfX2VzcmkuRmVhdHVyZUxheWVyVmlldyA9ICh0ZW1wSmltdUxheWVyVmlldyBhcyBKaW11RmVhdHVyZUxheWVyVmlldykudmlldztcbiAgICAgICAgICBpZiAoZmVhdHVyZUxheWVyVmlldykge1xuICAgICAgICAgICAgbG9hZEFyY0dJU0pTQVBJTW9kdWxlcyhbXG4gICAgICAgICAgICAgICdlc3JpL3Rhc2tzL3N1cHBvcnQvUXVlcnknLFxuICAgICAgICAgICAgICAnZXNyaS9HcmFwaGljJ1xuICAgICAgICAgICAgXSkudGhlbihtb2R1bGVzID0+IHtcbiAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgICAgICAgICAgIGxldCBRdWVyeTogdHlwZW9mIF9fZXNyaS5RdWVyeTtcbiAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgICAgICAgICAgIGxldCBHcmFwaGljOiB0eXBlb2YgX19lc3JpLkdyYXBoaWM7XG4gICAgICAgICAgICAgIFtRdWVyeSwgR3JhcGhpY10gPSBtb2R1bGVzO1xuICAgICAgICAgICAgICBjb25zdCBxdWVyeSA9IG5ldyBRdWVyeSgpO1xuICAgICAgICAgICAgICBxdWVyeS53aGVyZSA9IHF1ZXJ5U1FMO1xuICAgICAgICAgICAgICBxdWVyeS5vdXRGaWVsZHMgPSBbJyonXTtcbiAgICAgICAgICAgICAgcXVlcnkucmV0dXJuR2VvbWV0cnkgPSB0cnVlO1xuICAgICAgICAgICAgICBmZWF0dXJlTGF5ZXJWaWV3LmxheWVyLnF1ZXJ5RmVhdHVyZXMocXVlcnkpLnRoZW4oZmVhdHVyZVNldCA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGZlYXR1cmVTZXQgJiYgZmVhdHVyZVNldC5mZWF0dXJlcyAmJiBmZWF0dXJlU2V0LmZlYXR1cmVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHN5bWJvbCA9IGdldEZsYXNoU3ltYm9sKGZlYXR1cmVMYXllclZpZXcubGF5ZXIuZ2VvbWV0cnlUeXBlKTtcbiAgICAgICAgICAgICAgICAgIHN0YXJ0Rmxhc2goamltdU1hcFZpZXcudmlldywgZmVhdHVyZVNldC5mZWF0dXJlcywgc3ltYm9sLCBHcmFwaGljKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxvYWRBcmNHSVNKU0FQSU1vZHVsZXMoW1xuICAgICAgICAgICAgJ2VzcmkvdGFza3Mvc3VwcG9ydC9RdWVyeScsXG4gICAgICAgICAgICAnZXNyaS9sYXllcnMvRmVhdHVyZUxheWVyJyxcbiAgICAgICAgICAgICdlc3JpL0dyYXBoaWMnXG4gICAgICAgICAgXSkudGhlbihtb2R1bGVzID0+IHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgICAgICAgICAgbGV0IFF1ZXJ5OiB0eXBlb2YgX19lc3JpLlF1ZXJ5O1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgICAgICAgICBsZXQgRmVhdHVyZUxheWVyOiB0eXBlb2YgX19lc3JpLkZlYXR1cmVMYXllcjtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgICAgICAgICAgbGV0IEdyYXBoaWM6IHR5cGVvZiBfX2VzcmkuR3JhcGhpYztcbiAgICAgICAgICAgIFtRdWVyeSwgRmVhdHVyZUxheWVyLCBHcmFwaGljXSA9IG1vZHVsZXM7XG4gICAgICAgICAgICBjb25zdCBxdWVyeSA9IG5ldyBRdWVyeSgpO1xuICAgICAgICAgICAgcXVlcnkud2hlcmUgPSBxdWVyeVNRTDtcbiAgICAgICAgICAgIHF1ZXJ5Lm91dEZpZWxkcyA9IFsnKiddO1xuICAgICAgICAgICAgcXVlcnkucmV0dXJuR2VvbWV0cnkgPSB0cnVlO1xuXG4gICAgICAgICAgICBsZXQgdGVtcEZlYXR1cmVMYXllciA9IG5ldyBGZWF0dXJlTGF5ZXIoe1xuICAgICAgICAgICAgICB1cmw6IGRhdGFTb3VyY2VVdGlscy5nZXRVcmxCeUxheWVyKCh0ZW1wSmltdUxheWVyVmlldyBhcyBKaW11RmVhdHVyZUxheWVyVmlldykubGF5ZXIpXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgdGVtcEZlYXR1cmVMYXllci5sb2FkKCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgIHRlbXBGZWF0dXJlTGF5ZXIucXVlcnlGZWF0dXJlcyhxdWVyeSkudGhlbihmZWF0dXJlU2V0ID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZmVhdHVyZVNldCAmJiBmZWF0dXJlU2V0LmZlYXR1cmVzICYmIGZlYXR1cmVTZXQuZmVhdHVyZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgY29uc3Qgc3ltYm9sID0gZ2V0Rmxhc2hTeW1ib2woZmVhdHVyZVNldC5mZWF0dXJlc1swXS5nZW9tZXRyeS50eXBlKTtcbiAgICAgICAgICAgICAgICAgIHN0YXJ0Rmxhc2goamltdU1hcFZpZXcudmlldywgZmVhdHVyZVNldC5mZWF0dXJlcywgc3ltYm9sLCBHcmFwaGljKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBzdGFydEZsYXNoIChtYXBCYXNlVmlldzogX19lc3JpLk1hcFZpZXcgfCAgX19lc3JpLlNjZW5lVmlldywgZmVhdHVyZXM6IF9fZXNyaS5HcmFwaGljW10sIHN5bWJvbCwgR3JhcGhpYzogX19lc3JpLkdyYXBoaWNDb25zdHJ1Y3Rvcikge1xuICBjb25zdCBmbGFzaEZlYXR1cmVzID0gZnVuY3Rpb24gKGZlYXR1cmVzOiBfX2VzcmkuR3JhcGhpY1tdLCBtYXhGbGFzaENvdW50OiBudW1iZXIpIHtcbiAgICBjb25zdCBncmFwaGljcyA9IFtdO1xuICAgIGxldCBmbGFzaENvdW50ID0gMDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZlYXR1cmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCB0ZW1wR3JhcGhpYyA9IG5ldyBHcmFwaGljKHtcbiAgICAgICAgZ2VvbWV0cnk6IGZlYXR1cmVzW2ldLmdlb21ldHJ5LFxuICAgICAgICBzeW1ib2w6IHN5bWJvbCxcbiAgICAgICAgYXR0cmlidXRlczogZmVhdHVyZXNbaV0uYXR0cmlidXRlc1xuICAgICAgfSlcbiAgICAgIGdyYXBoaWNzLnB1c2godGVtcEdyYXBoaWMpO1xuICAgIH1cblxuICAgIGNvbnN0IHNpbmdsZUZsYXNoID0gZnVuY3Rpb24gKCkge1xuICAgICAgbWFwQmFzZVZpZXcuZ3JhcGhpY3MuYWRkTWFueShncmFwaGljcyk7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgbWFwQmFzZVZpZXcuZ3JhcGhpY3MucmVtb3ZlTWFueShncmFwaGljcyk7XG4gICAgICAgIGZsYXNoQ291bnQgPSBmbGFzaENvdW50ICsgMTtcbiAgICAgICAgaWYgKGZsYXNoQ291bnQgPCBtYXhGbGFzaENvdW50KSB7XG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBzaW5nbGVGbGFzaCgpO1xuICAgICAgICAgIH0sIDUwMCk7XG4gICAgICAgIH1cbiAgICAgIH0sIDUwMClcbiAgICB9XG5cbiAgICBzaW5nbGVGbGFzaCgpO1xuICB9XG5cbiAgZmxhc2hGZWF0dXJlcyhmZWF0dXJlcywgMyk7XG59XG5cbmZ1bmN0aW9uIGdldEZsYXNoU3ltYm9sIChnZW9tZXRyeVR5cGU6IHN0cmluZykge1xuICBpZiAoWydwb2ludCcsICdtdWx0aXBvaW50J10uaW5kZXhPZihnZW9tZXRyeVR5cGUpID4gLTEpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogJ3NpbXBsZS1tYXJrZXInLFxuICAgICAgc3R5bGU6ICdjaXJjbGUnLFxuICAgICAgY29sb3I6IFsyNTUsIDI1NSwgMCwgMC44XSxcbiAgICAgIHNpemU6ICcxNnB4JyxcbiAgICAgIG91dGxpbmU6IHtcbiAgICAgICAgY29sb3I6IFsyNTUsIDI1NSwgMCwgMC44XSxcbiAgICAgICAgd2lkdGg6IDNcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSBpZiAoWydwb2x5bGluZSddLmluZGV4T2YoZ2VvbWV0cnlUeXBlKSA+IC0xKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6ICdzaW1wbGUtbGluZScsXG4gICAgICBjb2xvcjogWzI1NSwgMjU1LCAwLCAwLjhdLFxuICAgICAgd2lkdGg6IDMsXG4gICAgICBzdHlsZTogJ3NvbGlkJ1xuICAgIH1cbiAgfSBlbHNlIGlmIChbJ3BvbHlnb24nLCAnZXh0ZW50J10uaW5kZXhPZihnZW9tZXRyeVR5cGUpID4gLTEpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogJ3NpbXBsZS1maWxsJywgIC8vIGF1dG9jYXN0cyBhcyBuZXcgU2ltcGxlRmlsbFN5bWJvbCgpXG4gICAgICBjb2xvcjogWzI1NSwgMjU1LCAwLCAwLjVdLFxuICAgICAgc3R5bGU6ICdzb2xpZCcsXG4gICAgICBvdXRsaW5lOiB7ICAvLyBhdXRvY2FzdHMgYXMgbmV3IFNpbXBsZUxpbmVTeW1ib2woKVxuICAgICAgICBjb2xvcjogWzI1NSwgMjU1LCAwLCAwLjhdLFxuICAgICAgICB3aWR0aDogM1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIGlmIChbJ21lc2gnXS5pbmRleE9mKGdlb21ldHJ5VHlwZSkgPiAtMSkge1xuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiAnbWVzaC0zZCcsICAvLyBhdXRvY2FzdHMgYXMgbmV3IE1lc2hTeW1ib2wzRCgpXG4gICAgICBzeW1ib2xMYXllcnM6IFt7XG4gICAgICAgIHR5cGU6ICdmaWxsJywgIC8vIGF1dG9jYXN0cyBhcyBuZXcgRmlsbFN5bWJvbDNETGF5ZXIoKVxuICAgICAgICBtYXRlcmlhbDogeyBjb2xvcjogWzI1NSwgMjU1LCAwLCAwLjhdIH1cbiAgICAgIH1dXG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbmZ1bmN0aW9uIGdldENlbnRlclBvaW50KGdlb21ldHJ5OiBfX2VzcmkuR2VvbWV0cnkpOiBfX2VzcmkuUG9pbnR7XG4gIC8vcG9pbnQgfCBtdWx0aXBvaW50IHwgcG9seWxpbmUgfCBwb2x5Z29uIHwgZXh0ZW50IHwgbWVzaFxuICBzd2l0Y2goZ2VvbWV0cnkudHlwZSl7XG4gICAgY2FzZSAncG9pbnQnOlxuICAgICAgcmV0dXJuIGdlb21ldHJ5IGFzICBfX2VzcmkuUG9pbnQ7XG4gICAgY2FzZSAnZXh0ZW50JzpcbiAgICAgIHJldHVybiAoZ2VvbWV0cnkgYXMgX19lc3JpLkV4dGVudCkuY2VudGVyO1xuICAgIGNhc2UgJ3BvbHlnb24nOlxuICAgICAgcmV0dXJuIChnZW9tZXRyeSBhcyBfX2VzcmkuUG9seWdvbikuY2VudHJvaWQ7XG4gICAgY2FzZSAncG9seWxpbmUnOlxuICAgICAgcmV0dXJuIChnZW9tZXRyeSBhcyBfX2VzcmkuUG9seWxpbmUpLmV4dGVudC5jZW50ZXI7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBnZW9tZXRyeSAmJiBnZW9tZXRyeS5leHRlbnQgPyBnZW9tZXRyeS5leHRlbnQuY2VudGVyIDogdW5kZWZpbmVkO1xuICAgICAgLy90b2RvXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGhhbmRsZUZlYXR1cmUoZmVhdHVyZTogSUZlYXR1cmUgfCBfX2VzcmkuR3JhcGhpYywgR3JhcGhpYzogX19lc3JpLkdyYXBoaWNDb25zdHJ1Y3Rvcik6IF9fZXNyaS5HcmFwaGlje1xuICBsZXQgdGVtcEZlYXR1cmUgPSBudWxsO1xuICBpZiAoKGZlYXR1cmUgYXMgYW55KS5jbG9uZSkge1xuICAgIHRlbXBGZWF0dXJlID0gKGZlYXR1cmUgYXMgYW55KS5jbG9uZSgpO1xuICB9IGVsc2Uge1xuICAgIHRlbXBGZWF0dXJlID0gR3JhcGhpYy5mcm9tSlNPTihPYmplY3QuYXNzaWduKHt9LCBmZWF0dXJlKSk7XG4gICAgdGVtcEZlYXR1cmUuYXR0cmlidXRlcyA9IE9iamVjdC5hc3NpZ24oe30sIGZlYXR1cmUuYXR0cmlidXRlcyk7XG4gIH1cbiAgcmV0dXJuIHRlbXBGZWF0dXJlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcHJvamVjdEdlb21ldHJpZXMoZ2VvbWV0cmllczogX19lc3JpLkdlb21ldHJ5W10sIHNwYXRpYWxSZWZlcmVuY2U6IF9fZXNyaS5TcGF0aWFsUmVmZXJlbmNlKTogUHJvbWlzZTxfX2VzcmkuR2VvbWV0cnlbXT4ge1xuICBpZiAoIWdlb21ldHJpZXMgfHwgZ2VvbWV0cmllcy5sZW5ndGggPT09IDAgfHwgIWdlb21ldHJpZXNbMF1cbiAgICB8fCBzcGF0aWFsUmVmZXJlbmNlLndraWQgPT09IGdlb21ldHJpZXNbMF0uc3BhdGlhbFJlZmVyZW5jZS53a2lkIHx8IChzcGF0aWFsUmVmZXJlbmNlLmVxdWFscyhnZW9tZXRyaWVzWzBdLnNwYXRpYWxSZWZlcmVuY2UpKSkge1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoZ2VvbWV0cmllcyk7XG4gIH0gZWxzZSBpZiAoc3BhdGlhbFJlZmVyZW5jZS5pc1dlYk1lcmNhdG9yICYmIGdlb21ldHJpZXNbMF0uc3BhdGlhbFJlZmVyZW5jZS5pc1dHUzg0KSB7XG4gICAgLy8gSW4ganMgYXBpIDQueCwgdGhlIHZpZXcgY2FuIGhhbmRsZSBXZWJNZXJjYXRvciBhbmQgV0dTODQgc3BhdGlhbFJlZmVyZW5jZSBhdXRvXG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShnZW9tZXRyaWVzKTtcbiAgfSBlbHNlIGlmIChzcGF0aWFsUmVmZXJlbmNlLmlzV0dTODQgJiYgZ2VvbWV0cmllc1swXS5zcGF0aWFsUmVmZXJlbmNlLmlzV2ViTWVyY2F0b3IpIHtcbiAgICAvLyBJbiBqcyBhcGkgNC54LCB0aGUgdmlldyBjYW4gaGFuZGxlIFdlYk1lcmNhdG9yIGFuZCBXR1M4NCBzcGF0aWFsUmVmZXJlbmNlIGF1dG9cbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGdlb21ldHJpZXMpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBnZW9tZXRyeVV0aWxzLnByb2plY3RUb1NwYXRpYWxSZWZlcmVuY2UoZ2VvbWV0cmllcywgc3BhdGlhbFJlZmVyZW5jZSk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHByb2Nlc3Nab29tVG9GZWF0dXJlcyhtYXBCYXNlVmlldzogX19lc3JpLk1hcFZpZXcgfCBfX2VzcmkuU2NlbmVWaWV3LCBsYXllcjogYW55LCBmZWF0dXJlczogX19lc3JpLkdyYXBoaWNbXSk6IFByb21pc2U8X19lc3JpLkdyYXBoaWNbXT4ge1xuICBpZiAobWFwQmFzZVZpZXcgJiYgbWFwQmFzZVZpZXcudHlwZSA9PT0gJzNkJyAmJiBsYXllciAmJiBsYXllci5xdWVyeUZlYXR1cmVzICYmIGZlYXR1cmVzKSB7XG4gICAgcmV0dXJuIGxvYWRBcmNHSVNKU0FQSU1vZHVsZXMoW1xuICAgICAgJ2VzcmkvdGFza3Mvc3VwcG9ydC9RdWVyeSdcbiAgICBdKS50aGVuKChtb2R1bGVzKSA9PiB7XG4gICAgICBjb25zdCBbUXVlcnldID0gbW9kdWxlcztcbiAgICAgIGNvbnN0IHF1ZXJ5ID0gbmV3IFF1ZXJ5KCk7XG4gICAgICBxdWVyeS5yZXR1cm5HZW9tZXRyeSA9IHRydWU7XG4gICAgICBxdWVyeS5vdXRGaWVsZHMgPSBbJyonXTtcbiAgICAgIHF1ZXJ5Lm9iamVjdElkcyA9IGZlYXR1cmVzLm1hcChmZWF0dXJlID0+IGZlYXR1cmUuYXR0cmlidXRlc1tsYXllci5vYmplY3RJZEZpZWxkXSk7XG4gICAgICByZXR1cm4gbGF5ZXIucXVlcnlGZWF0dXJlcyhxdWVyeSkudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgIGlmIChyZXN1bHQgJiYgcmVzdWx0LmZlYXR1cmVzICYmIHJlc3VsdC5mZWF0dXJlcy5sZW5ndGggPT09IGZlYXR1cmVzLmxlbmd0aCkge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocmVzdWx0LmZlYXR1cmVzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGZlYXR1cmVzKTtcbiAgICAgICAgfVxuICAgICAgfSwgKCkgPT4ge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGZlYXR1cmVzKTtcbiAgICAgIH0pXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShmZWF0dXJlcyk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNoZWNrSXNMaXZlKGFwcE1vZGU6IEFwcE1vZGUpOiBib29sZWFuIHtcbiAgaWYgKHdpbmRvdy5qaW11Q29uZmlnLmlzSW5CdWlsZGVyKSB7XG4gICAgaWYgKGFwcE1vZGUgPT09IEFwcE1vZGUuRGVzaWduKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0TWFwQmFzZVJlc3RvcmVEYXRhKG1hcEluc3RhbmNlOiBNYXBCYXNlKTogYW55IHtcbiAgcmV0dXJuIHtcbiAgICBtYXBDb250YWluZXI6IG1hcEluc3RhbmNlLm1hcENvbnRhaW5lcixcbiAgICBzdGF0ZTogbWFwSW5zdGFuY2Uuc3RhdGUsXG4gICAgTWFwVmlldzogbWFwSW5zdGFuY2UuTWFwVmlldyxcbiAgICBTY2VuZVZpZXc6IG1hcEluc3RhbmNlLlNjZW5lVmlldyxcbiAgICBFeHRlbnQ6IG1hcEluc3RhbmNlLkV4dGVudCxcbiAgICBWaWV3cG9pbnQ6IG1hcEluc3RhbmNlLlZpZXdwb2ludCxcbiAgICBtYXBWaWV3OiBtYXBJbnN0YW5jZS5tYXBWaWV3LFxuICAgIHNjZW5lVmlldzogbWFwSW5zdGFuY2Uuc2NlbmVWaWV3LFxuICAgIGV4dGVudFdhdGNoOiBtYXBJbnN0YW5jZS5leHRlbnRXYXRjaCxcbiAgICBmYXRhbEVycm9yV2F0Y2g6IG1hcEluc3RhbmNlLmZhdGFsRXJyb3JXYXRjaCxcbiAgICBkc01hbmFnZXI6IG1hcEluc3RhbmNlLmRzTWFuYWdlcixcbiAgICBoaWdoTGlnaHRIYW5kbGVzOiBtYXBJbnN0YW5jZS5oaWdoTGlnaHRIYW5kbGVzLFxuICAgIG1hcEJhc2VWaWV3RXZlbnRIYW5kbGVzOiBtYXBJbnN0YW5jZS5tYXBCYXNlVmlld0V2ZW50SGFuZGxlcyxcbiAgICBDb2xvcjogbWFwSW5zdGFuY2UuQ29sb3JcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlc3RvcmVNYXBCYXNlKG1hcEluc3RhbmNlOiBNYXBCYXNlLCByZXN0b3JlRGF0YTogYW55KTogdm9pZCB7XG4gIG1hcEluc3RhbmNlLm1hcENvbnRhaW5lciA9IHJlc3RvcmVEYXRhLm1hcENvbnRhaW5lcjtcbiAgbWFwSW5zdGFuY2Uuc3RhdGUgPSByZXN0b3JlRGF0YS5zdGF0ZTtcbiAgbWFwSW5zdGFuY2UuTWFwVmlldyA9IHJlc3RvcmVEYXRhLk1hcFZpZXc7XG4gIG1hcEluc3RhbmNlLlNjZW5lVmlldyA9IHJlc3RvcmVEYXRhLlNjZW5lVmlldztcbiAgbWFwSW5zdGFuY2UuRXh0ZW50ID0gcmVzdG9yZURhdGEuRXh0ZW50O1xuICBtYXBJbnN0YW5jZS5WaWV3cG9pbnQgPSByZXN0b3JlRGF0YS5WaWV3cG9pbnQ7XG4gIG1hcEluc3RhbmNlLm1hcFZpZXcgPSByZXN0b3JlRGF0YS5tYXBWaWV3O1xuICBtYXBJbnN0YW5jZS5zY2VuZVZpZXcgPSByZXN0b3JlRGF0YS5zY2VuZVZpZXc7XG4gIG1hcEluc3RhbmNlLmV4dGVudFdhdGNoID0gcmVzdG9yZURhdGEuZXh0ZW50V2F0Y2g7XG4gIG1hcEluc3RhbmNlLmZhdGFsRXJyb3JXYXRjaCA9IHJlc3RvcmVEYXRhLmZhdGFsRXJyb3JXYXRjaDtcbiAgbWFwSW5zdGFuY2UuZHNNYW5hZ2VyID0gcmVzdG9yZURhdGEuZHNNYW5hZ2VyO1xuICBtYXBJbnN0YW5jZS5oaWdoTGlnaHRIYW5kbGVzID0gcmVzdG9yZURhdGEuaGlnaExpZ2h0SGFuZGxlcztcbiAgbWFwSW5zdGFuY2UubWFwQmFzZVZpZXdFdmVudEhhbmRsZXMgPSByZXN0b3JlRGF0YS5tYXBCYXNlVmlld0V2ZW50SGFuZGxlcztcbiAgbWFwSW5zdGFuY2UuQ29sb3IgPSByZXN0b3JlRGF0YS5Db2xvcjtcbn0iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFHQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUE3REE7QUFBQTs7O0FBOERBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./extensions/widgets/arcgis/arcgis-map/src/runtime/utils.ts\n");

/***/ }),

/***/ "jimu-arcgis":
/*!******************************!*\
  !*** external "jimu-arcgis" ***!
  \******************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = __WEBPACK_EXTERNAL_MODULE_jimu_arcgis__;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiamltdS1hcmNnaXMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJqaW11LWFyY2dpc1wiPzlmMWMiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX2ppbXVfYXJjZ2lzX187Il0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///jimu-arcgis\n");

/***/ }),

/***/ "jimu-core":
/*!****************************!*\
  !*** external "jimu-core" ***!
  \****************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = __WEBPACK_EXTERNAL_MODULE_jimu_core__;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiamltdS1jb3JlLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwiamltdS1jb3JlXCI/YzY5NSJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfamltdV9jb3JlX187Il0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///jimu-core\n");

/***/ })

/******/ })
			);
		}
	};
});