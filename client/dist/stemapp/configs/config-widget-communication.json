{
  "pages": {
    "default": {
      "id": "default",
      "label": "page 1",
      "layout": {"LARGE": "layout1"},
      "isDefault": true
    }
  },
  "widgets": {
    "text1": {
      "uri": "widgets/common/text/",
      "config": {
        "text": "<h3>This app demo how widgets communicate each other.<h3>"
      }
    },
    "pub-string": {
      "uri": "widgets/samples/widget-communication/publish-string-widget"
    },
    "pub-feature": {
      "uri": "widgets/samples/widget-communication/publish-feature-widget/",
      "config": {
        "webmapId": "141f8f1a43a8405993e08264836a207b"
      }
    },
    "sub": {
      "uri": "widgets/samples/widget-communication/subscribe-widget",
      "useDataSources": [{
        "dataSourceId": "ds-1"
      }]
    },
    "pub-feature-set": {
      "uri": "widgets/samples/widget-communication/publish-featureset-widget",
      "useDataSources": [{
        "dataSourceId": "ds-2"
      }, {
        "dataSourceId": "ds-3"
      }]
    },
    "arcgis-map": {
      "uri": "widgets/arcgis/arcgis-map",
      "useDataSources": [{
        "dataSourceId": "4e077a1e20444ae9a45e253fda5f0454"
      }]
    }
  },
  "layouts": {
    "layout1": {
      "type": "FIXED",
      "order": ["1", "2", "3", "4", "5", "6"],
      "content": {
        "3": {
          "bbox": {
            "left": 200,
            "top": 0,
            "width": 800,
            "height": 50
          },
          "id": "3",
          "type": "WIDGET",
          "widgetId": "text1"
        },
        "4": {
          "bbox": {
            "left": 0,
            "top": 300,
            "width": 600,
            "height": 600
          },
          "id": "4",
          "type": "WIDGET",
          "widgetId": "pub-feature"
        },
        "1": {
          "bbox": {
            "left": 0,
            "top": 100,
            "width": 600,
            "height": 200
          },
          "id": "1",
          "type": "WIDGET",
          "widgetId": "pub-string"
        },
        "2": {
          "bbox": {
            "left": 800,
            "top": 100,
            "width": 600,
            "height": 600
          },
          "id": "2",
          "type": "WIDGET",
          "widgetId": "sub"
        },
        "5": {
          "bbox": {
            "left": 0,
            "top": 1000,
            "width": 600,
            "height": 600
          },
          "id": "5",
          "type": "WIDGET",
          "widgetId": "pub-feature-set"
        },
        "6": {
          "bbox": {
            "left": 800,
            "top": 1000,
            "width": 600,
            "height": 600
          },
          "id": "6",
          "type": "WIDGET",
          "widgetId": "arcgis-map"
        }
      }
    }
  },
  "theme": "themes/default",
  "messages": [
    {
      "widgetId": "pub-string",
      "messageType": "STRING_SELECTION_CHANGE",
      "actions": [
        {
          "description": "query by state",
          "widgetId": "sub",
          "actionName": "query",
          "config": {
            "fieldName": "state_name"
          }
        }
      ]
    }, {
      "widgetId": "pub-feature",
      "messageType": "SPATIAL_DATA_RECORDS_SELECTION_CHANGE",
      "actions": [
        {
          "description": "query by state",
          "widgetId": "sub",
          "actionName": "query",
          "config": {
            "featureFieldName": "state_name",
            "queryFieldName": "state_name"
          }
        }
      ]
    }, {
      "widgetId": "pub-feature-set",
      "messageType": "SPATIAL_DATA_RECORDS_SELECTION_CHANGE",
      "actions": [{
        "description": "pan to selected feature",
        "widgetId": "arcgis-map",
        "actionName": "panTo"
      }, {
        "description": "flash selected feature",
        "widgetId": "arcgis-map",
        "actionName": "flash",
        "config": {}
      }]
    }, {
      "widgetId": "pub-feature-set",
      "messageType": "SPATIAL_DATA_RECORD_SET_CREATE",
      "actions": [{
        "description": "display feature on map",
        "widgetId": "arcgis-map",
        "actionName": "displayFeatureSet"
      }, {
        "description": "zoom to select feature",
        "widgetId": "arcgis-map",
        "actionName": "zoomToFeature"
      }]
    }
  ],
  "dataSources": {
    "ds-1": {
      "id": "ds-1",
      "label": "ds 1",
      "type": "FEATURE_LAYER",
      "url": "http://sampleserver6.arcgisonline.com/arcgis/rest/services/USA/MapServer/3"
    },
    "ds-2": {
      "id": "ds-2",
      "label": "ds 2",
      "type": "FEATURE_LAYER",
      "url": "https://services.arcgis.com/V6ZHFr6zdgNZuVG0/arcgis/rest/services/CITIES_EastUSA/FeatureServer/0"
    },
    "ds-3": {
      "id": "ds-3",
      "label": "ds 3",
      "type": "FEATURE_LAYER",
      "url": "http://sampleserver6.arcgisonline.com/arcgis/rest/services/USA/MapServer/3"
    },
    "4e077a1e20444ae9a45e253fda5f0454": {
      "id": "4e077a1e20444ae9a45e253fda5f0454",
      "itemId": "4e077a1e20444ae9a45e253fda5f0454",
      "label": "empty map",
      "type": "WEB_MAP"
    }
  }
}