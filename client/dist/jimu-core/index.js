define(["jimu-core/react","jimu-core/react-dom"],function(e,t){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=129)}([function(e,t,r){"use strict";r.d(t,"b",function(){return o}),r.d(t,"a",function(){return i});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function o(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var i=function(){return(i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)}},function(t,r){t.exports=e},function(e,t,r){"use strict";r.r(t);var n,o=r(86),i=r(88),a=r(22),s=r(87),u=r(50),c=r(31);!function(e){e.ArcGISRequestError="ArcGISRequestError",e.ArcGISAuthError="ArcGISAuthError"}(n||(n={}));var l=r(18),f=r(49);r.d(t,"NODEJS_DEFAULT_REFERER_HEADER",function(){return o.b}),r.d(t,"setDefaultRequestOptions",function(){return o.e}),r.d(t,"ArcGISAuthError",function(){return o.a}),r.d(t,"checkForErrors",function(){return o.c}),r.d(t,"request",function(){return o.d}),r.d(t,"appendCustomParams",function(){return i.a}),r.d(t,"ArcGISRequestError",function(){return a.a}),r.d(t,"cleanUrl",function(){return s.a}),r.d(t,"encodeFormData",function(){return u.a}),r.d(t,"encodeParam",function(){return c.a}),r.d(t,"encodeQueryString",function(){return c.b}),r.d(t,"ErrorTypes",function(){return n}),r.d(t,"requiresFormData",function(){return l.b}),r.d(t,"processParams",function(){return l.a}),r.d(t,"warn",function(){return f.a})},,function(e,t,r){e.exports=r(131)()},,function(e,t,r){"use strict";var n=function(){};e.exports=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(9),o=r(13);function i(e){return window.SystemJS.get(s(e))}function a(e){return window.SystemJS.import(e).then(function(t){return n.getAppStore().dispatch(o.dynamicModuleLoaded(e)),t})}function s(e){return window.SystemJS.resolveSync(e)}t.getModuleSync=i,t.loadModule=a,t.loadModules=function(e){return Promise.all(e.map(function(e){return a(e)}))},t.resolveModuleFullUrl=s,t.resolveModuleFullPath=function(e){var t=s(e);return/^file:/.test(t)?t:t.substring((window.location.protocol+"//"+window.location.host).length,t.length)},t.getAppInBuilderModules=function(){return i("jimu-for-builder/for-app-inbuilder")}},function(e,t){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=r(178),i=r(68),a=r(179);t.createAppStore=function(e){if(n)return n;var t=(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):i.compose)(i.applyMiddleware(a.default));return n=i.createStore(o.default,e,t),window._appStore=n,n},t.getAppStore=function(){return n},t.observeStore=function(e,t){var r;function o(){var o=n.getState();t?(o=o.getIn(t))!==r&&(e(r,o),r=o):o!==r&&(e(r,o),r=o)}var i=n.subscribe(o);return o(),i}},,function(e,t,r){"use strict";e.exports=function(e,t,r,n,o,i,a,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[r,n,o,i,a,s],l=0;(u=new Error(t.replace(/%s/g,function(){return c[l++]}))).name="Invariant Violation"}throw u.framesToPop=1,u}}},,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=r(14);!function(e){e.InitStoreExtensionState="INIT_STORE_EXTENSION_STATE",e.AppConfigLoaded="APPCONFIG_LOADED",e.AppConfigChanged="APPCONFIG_CHANGED",e.ThemeVariablesLoaded="THEME_VARIABLES_LOADED",e.SetPortalUrl="SET_PORTAL_URL",e.SetPortalInfo="SET_PORTAL_INFO",e.SetPortalSelf="SET_PORTAL_SELF",e.WidgetClassLoaded="WIDGET_CLASS_LOADED",e.OpenWidget="OPEN_WIDGET",e.CloseWidget="CLOSE_WIDGET",e.SetWidgetIsInlineEditingState="SET_WIDGET_IS_INLINE_EDITING_STATE",e.SetWidgetPreloadProps="SET_WIDGET_PRELOAD_PROPS",e.SetWidgetReadyInjectDataSource="SET_WIDGET_READY_INJECT_DATA_SOURCE",e.SetAppInBuilder="SET_APP_IN_BUILDER",e.LayoutClassLoaded="LAYOUT_CLASS_LOADED",e.AppContextInit="APP_CONTEXT_INIT",e.I18nMessagesLoaded="I18N_MESSAGES_LOADED",e.QueryObjectChanged="QUERY_OBJECT_CHANGED",e.AppModeChanged="APP_MODE_CHANGED",e.CurrentViewChanged="CURRENT_VIEW_CHANGED",e.SelectionChanged="SELECTION_CHANGED",e.SetSelectMode="Set_SELECT_MODE",e.AppRuntimeInfoInit="APP_RUNTIME_INFO_INIT",e.CurrentPageChanged="CURRENT_PAGE_CHANGED",e.AppPathChanged="APP_PATH_CHANGED",e.AppIdChanged="APP_ID_CHANGED",e.NetworkStatusChanged="NETWORK_STATUS_CHANGED",e.DataSourceStatusChanged="DATA_SOURCE_STATUS_CHANGED",e.DataSourceInstanceStatusChanged="DATA_SOURCE_INSTANCE_STATUS_CHANGED",e.DataSourceSaveStatusChanged="DATA_SOURCE_SAVE_STATUS_CHANGED",e.DataSourceVersionAdded="DATA_SOURCE_VERSION_ADDED",e.DataSourceSelectedIndexesChanged="DATA_SOURCE_SELECTED_INDEXES_CHANGED",e.DataSourceSelectedIdsChanged="DATA_SOURCE_SELECTED_IDS_CHANGED",e.SetDataSourcePreloadData="SET_DATA_SOURCE_PRELOAD_DATA",e.WidgetStatePropChange="WIDGET_STATE_PROP_CHANGE",e.WidgetMutableStatePropChange="WIDGET_MUTABLE_STATE_PROP_CHANGE",e.SessionStart="SESSION_START",e.UserSignIn="USER_SIGN_IN",e.UserSignOut="USER_SIGN_OUT",e.BrowserSizeModeChanged="BROWSER_SIZE_MODE_CHANGED",e.DynamicModuleLoaded="DYNAMIC_MODULE_LOADED",e.UpdateStoreState="UPDATE_STORE_STATE",e.DragWidgetFromList="DRAG_WIDGET_FROM_LIST",e.DropWidgetFromList="DROP_WIDGET_FROM_LIST",e.ActivePagePartChanged="ACTIVE_PAGE_PART_CHANGED",e.SetWaitingServiceWorkerFlag="SET_WAITING_SERVICE_WORKER_FLAG"}(n=t.ActionKeys||(t.ActionKeys={})),t.appConfigLoaded=function(e){return{type:n.AppConfigLoaded,appConfig:e}},t.appConfigChanged=function(e){return{type:n.AppConfigChanged,appConfig:e}},t.appPathChanged=function(e){return{type:n.AppPathChanged,path:e}},t.appIdChanged=function(e){return{type:n.AppIdChanged,appId:e}},t.widgetClassLoaded=function(e){return{type:n.WidgetClassLoaded,widgetId:e}},t.openWidget=function(e){return{type:n.OpenWidget,widgetId:e}},t.closeWidget=function(e){return{type:n.CloseWidget,widgetId:e}},t.initAppContext=function(e){return{type:n.AppContextInit,appContext:e}},t.i18nMessagesLoaded=function(e,t){return{type:n.I18nMessagesLoaded,key:e,messages:t}},t.queryObjectChanged=function(e){return{type:n.QueryObjectChanged,query:e}},t.setAppInBuilder=function(){return{type:n.SetAppInBuilder}},t.appModeChanged=function(e){return{type:n.AppModeChanged,mode:e}},t.layoutClassLoaded=function(e){return{type:n.LayoutClassLoaded,layoutName:e}},t.dataSourceStatusChanged=function(e,t){return{type:n.DataSourceStatusChanged,dataSourceId:e,status:t}},t.dataSourceInstanceStatusChanged=function(e,t){return{type:n.DataSourceInstanceStatusChanged,dataSourceId:e,isCreated:t}},t.dataSourceSaveStatusChanged=function(e,t){return{type:n.DataSourceSaveStatusChanged,dataSourceId:e,saveStatus:t}},t.dataSourceVersionAdded=function(e){return{type:n.DataSourceVersionAdded,dataSourceId:e}},t.initStoreExtensionState=function(e){return{type:n.InitStoreExtensionState,extensionId:e}},t.widgetStatePropChange=function(e,t,r){return{type:n.WidgetStatePropChange,widgetId:e,propKey:t,value:r}},t.widgetMutableStatePropChange=function(e,t,r){return{type:n.WidgetMutableStatePropChange,widgetId:e,propKey:t,value:r}},t.setPortalUrl=function(e){return{type:n.SetPortalUrl,portalUrl:e}},t.setPortalInfo=function(e,t){return{type:n.SetPortalInfo,portalUrl:e,clientId:t}},t.dataSourceSelectedIndexesChanged=function(e,t){return{type:n.DataSourceSelectedIndexesChanged,dataSourceId:e,selectedIndexes:t}},t.dataSourceSelectedIdsChanged=function(e,t){return{type:n.DataSourceSelectedIdsChanged,dataSourceId:e,selectedIds:t}},t.sessionStart=function(e){return{type:n.SessionStart,token:e}},t.userSignIn=function(e){return{type:n.UserSignIn,user:e}},t.userSignOut=function(){return{type:n.UserSignOut}},t.browserSizeModeChanged=function(e){var t=window.document&&window.document.documentElement;return t&&(t.classList.remove("size-mode-"+o.BrowserSizeMode.Large),t.classList.remove("size-mode-"+o.BrowserSizeMode.Medium),t.classList.remove("size-mode-"+o.BrowserSizeMode.Small),t.classList.add("size-mode-"+e)),{type:n.BrowserSizeModeChanged,browserSizeMode:e}},t.setWidgetIsInlineEditingState=function(e,t){return{type:n.SetWidgetIsInlineEditingState,widgetId:e,isInlineEditing:t}},t.setWidgetPreloadProps=function(e,t){return{type:n.SetWidgetPreloadProps,widgetId:e,props:t}},t.setDataSourcePreloadData=function(e,t){return{type:n.SetDataSourcePreloadData,dataSourceId:e,data:t}},t.networkStatusChanged=function(e){return{type:n.NetworkStatusChanged,isOffLine:e}},t.dynamicModuleLoaded=function(e){return{type:n.DynamicModuleLoaded,moduleId:e}},t.currentViewChanged=function(e){return{type:n.CurrentViewChanged,viewId:e}},t.currentPageChanged=function(e){return{type:n.CurrentPageChanged,pageId:e}},t.selectionChanged=function(e){return{type:n.SelectionChanged,selection:e}},t.setSelectMode=function(e){return{type:n.SetSelectMode,enabled:e}},t.updateStoreState=function(e){return{type:n.UpdateStoreState,state:e}},t.appRuntimeInfoInit=function(e){return{type:n.AppRuntimeInfoInit,info:e}},t.setWidgetReadyInjectDataSource=function(e){return{type:n.SetWidgetReadyInjectDataSource,widgetId:e}},t.themeVariablesLoaded=function(e){return{type:n.ThemeVariablesLoaded,theme:e}},t.setPortalSelf=function(e){return{type:n.SetPortalSelf,portalSelf:e}},t.dragWidgetFromList=function(e){return{type:n.DragWidgetFromList,widgetInfo:e}},t.dropWidgetFromList=function(){return{type:n.DropWidgetFromList}},t.activePagePartChanged=function(e){return{part:e,type:n.ActivePagePartChanged}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Small="SMALL",e.Medium="MEDIUM",e.Large="LARGE"}(t.BrowserSizeMode||(t.BrowserSizeMode={})),function(e){e.String="STRING",e.Number="NUMBER",e.Date="DATE"}(t.JimuFieldType||(t.JimuFieldType={})),function(e){e.Fetching="FETCHING",e.Success="SUCCESS",e.Error="ERROR"}(t.AjaxState||(t.AjaxState={})),function(e){e.Design="DESIGN",e.Run="RUN"}(t.AppMode||(t.AppMode={})),function(e){e.Opened="OPENED",e.Active="ACTIVE",e.Closed="CLOSED"}(t.WidgetState||(t.WidgetState={})),function(e){e.None="NONE",e.Page="PAGE",e.Dialog="DIALOG",e.View="VIEW",e.WebAddress="WEB_ADDRESS"}(t.LinkType||(t.LinkType={})),function(e){e.Normal="NORMAL",e.Layout="LAYOUT",e.Controller="CONTROLLER"}(t.WidgetType||(t.WidgetType={})),function(e){e.Header="HEADER",e.Footer="FOOTER",e.Body="BODY"}(t.PagePart||(t.PagePart={}))},function(e,t,r){"use strict";function n(e){var t="function"==typeof Map?new Map:void 0;return(n=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return o(e,arguments,a(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),i(r,e)})(e)}function o(e,t,r){return(o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&i(o,r.prototype),o}).apply(null,arguments)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}t.__esModule=!0,t.default=void 0;var s=function(e){function t(t){return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e.call(this,"An error occurred. See https://github.com/styled-components/polished/blob/master/src/internalHelpers/errors.md#"+t+" for more information.")||this)}return function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}(t,e),t}(n(Error));t.default=s,e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(42),o=r(14);function i(e){var t=e||"/",r="",n="",o=t.indexOf("#");-1!==o&&(n=t.substr(o),t=t.substr(0,o));var i=t.indexOf("?");return-1!==i&&(r=t.substr(i),t=t.substr(0,i)),{pathname:t,search:"?"===r?"":r,hash:"#"===n?"":n}}function a(e){return/(^http:)|(^https:)|(^\/\/)/.test(e)}function s(e){if(e||(e=window.location),window.jimuConfig.useStructuralUrl)return u(e.pathname);var t=n.parse(e.search);return{appId:t.id,pageId:t.page}}function u(e){void 0===e&&(e=window.location.pathname);var t=e.substr(window.jimuConfig.rootPath.length),r={pageId:null,appId:null},n=t.split("/").filter(function(e){return e});return""===t?r:1===n.length?t.indexOf(".")>-1||"page"===n[0]?r:(r.appId=n[0],r):2===n.length?/^page\/page\//.test(t)?(r.pageId="page",r):/^page/.test(t)?(r.pageId=n[1],r):(r.appId=n[0],r):n.length>=3?(r.appId=n[0],r.pageId=n[2],r):(console.log("URL pattern is not correct.",e),r)}function c(e){if(window.jimuConfig.useStructuralUrl){var t=u();return{path:t.appId?""+window.jimuConfig.rootPath+t.appId+"/page/"+e+"/":window.jimuConfig.rootPath+"page/"+e+"/",qo:null}}return{path:window.jimuConfig.rootPath,qo:{page:e}}}function l(e,t){var r,o=c(e);return(r=t&&o.qo?Object.assign({},t,o.qo):t||o.qo)?o.path+"?"+n.stringify(r):o.path}function f(){return window.jimuConfig.packagesInAppFolder?window.jimuConfig.rootPath:window.jimuConfig.rootPath+"../"}function d(e,t){var r=i(t);return"/"===r.pathname.charAt(0)?r:""===r.pathname?(r.pathname=e.pathname,r):"."===r.pathname.charAt(0)?(r.pathname=e.pathname+"/"+r.pathname.substr(2),r):(r.pathname=e.pathname+"/"+r.pathname,r)}function p(e){var t=e.pathname,r=e.search,n=e.hash,o=t||"/";return r&&"?"!==r&&(o+="?"===r.charAt(0)?r:"?"+r),n&&"#"!==n&&(o+="#"===n.charAt(0)?n:"#"+n),o}t.parsePath=i,t.isAbsoluteUrl=a,t.getDataSourceInfosFromQueryObject=function(e){var t={};e.data_index?e.data_index.split(",").forEach(function(r){var n=r.split(":"),o=n[0],i=n[1],a={selectionType:"index",selection:[]};i?(i.split("+").forEach(function(t){var r=t.split("-");if(1===r.length)a.selection.push(parseInt(r[0]));else if(2===r.length)for(var n=parseInt(r[0]),o=parseInt(r[1]),i=n;i<=o;i++)a.selection.push(i);else console.error("Bad URL format:",e.data_index)}),t[o]=a):t[o]=a}):e.data_id&&e.data_id.split(",").forEach(function(e){var r=e.split(":"),n=r[0],o=r[1],i={selectionType:"id",selection:[]};o?(o.split("+").forEach(function(e){i.selection.push(e)}),t[n]=i):t[n]=i});return t},t.getAppIdPageIdFromUrl=s,t.parseAppPath=u,t.getPageLink=c,t.getPageLinkUrl=l,t.getFolder=function(e){if(/\/$/.test(e))return e;if(!([".js",".css",".scss",".html"].filter(function(t){return new RegExp(t+"$").test(e)}).length>0))return e;var t=e.split("/");return t.pop(),t.join("/")},t.getFixedRootPath=f,t.getAbsoluteRootUrl=function(){return window.location.protocol+"//"+window.location.host+f()},t.createLocation=d,t.createHref=p,t.getHrefFromLinkTo=function(e,t,r){if(void 0===r&&(r=window.location),"string"==typeof e)return a(e)?e:/^www./.test(e)?"//"+e:p(d(r,e));if(!e.linkType)return p(e);var i,s=e.linkType,u=e,c=t;switch(s){case o.LinkType.Page:return l(u.value,t);case o.LinkType.Dialog:c=c?c.set("dlg",u.value):{dlg:u.value},i=d(r,"?"+n.stringify(c));break;case o.LinkType.View:var f=u.value.split(",")[0],h=u.value.split(",").slice(1).join(",");return l(f,c=c?c.set("views",h):{views:h});case o.LinkType.WebAddress:var g=u.value;if(a(g))return g;if(/^www./.test(g))return"//"+g;case o.LinkType.None:return null;default:console.error("Unknown type:",s)}return i?p(i):void 0},t.getLinkResultFromHref=function(e){if(!e)return{linkType:o.LinkType.None};if(/^http/.test(e))return{linkType:o.LinkType.WebAddress,value:e};var t=i(e),r=s(t).pageId,a=n.parse(t.search);return a.views?{linkType:o.LinkType.View,value:r+","+a.views}:a.dlg?{linkType:o.LinkType.Dialog,value:a.dlg}:{linkType:o.LinkType.Page,value:r}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(9),o=r(28),i=r(103),a=r(33),s=r(27),u=r(7),c=r(13),l=Object.keys(o.DataSourceTypes).map(function(e){return o.DataSourceTypes[e]}),f=function(){function e(){var e;this.dataSources={},this.dataSourcesCreatePromise={},this.dataSourceFactories={},e=window.jimuConfig.isBuilder?["appStateInBuilder","appConfig","dataSources"]:["appConfig","dataSources"],n.observeStore(this.onStoreChange.bind(this),e)}return e.getInstance=function(){return e.instance||(e.instance=new e,window._dataSourceManager=e.instance),e.instance},e.prototype.getDataSource=function(e){return this.dataSources[e]},e.prototype.getDataSources=function(){return this.dataSources},e.prototype.setDataSource=function(e,t){this.dataSources[e]=t},e.prototype.destroyAllDataSources=function(){var e=this;Object.keys(this.dataSources).forEach(function(t){return e.destroyDataSource(t)})},e.prototype.destroyDataSource=function(e){this.dataSources[e]&&(this.dataSources[e].destroy(),delete this.dataSources[e],delete this.dataSourcesCreatePromise[e],n.getAppStore().dispatch(c.dataSourceInstanceStatusChanged(e,!1)))},e.prototype.getConfiguredDataSources=function(){var e=this;return Object.keys(this.dataSources).filter(function(t){return!e.dataSources[t].dataSourceJson.isOutputFromWidget}).map(function(t){return e.getDataSource(t)})},e.prototype.getWidgetGeneratedDataSources=function(){var e=this,t={},r=this.getAppConfig();return Object.keys(r.widgets).filter(function(e){return r.widgets[e].outputDataSources}).map(function(n){t[n]=r.widgets[n].outputDataSources.asMutable().map(function(t){return e.getDataSource(t)})}),t},e.prototype.createAllDataSources=function(){var e=this,t=this.getAppConfig()&&this.getAppConfig().dataSources,r=[];return t&&Object.keys(t).forEach(function(t){e.dataSources[t]||r.push(e.createDataSource(t).catch(function(e){console.error("Create data source failed",t,e),Promise.resolve(null)}))}),Promise.all(r).then(function(){return Object.keys(e.dataSources).map(function(t){return e.dataSources[t]})})},e.prototype.createDataSource=function(e){var t,r,o=this;if("string"==typeof e?(t=this.getAppConfig().dataSources[e],r={dataSourceJson:t,dataSourceManager:this}):e.dataSourceJson?(t=e.dataSourceJson,(r=e).dataSourceManager=this):r={dataSourceJson:t=e,dataSourceManager:this},!t)throw Error("Unknown data source id:"+t.id);return this.getDataSource(r.dataSourceJson.id)?Promise.resolve(this.getDataSource(r.dataSourceJson.id)):this.dataSourcesCreatePromise[r.dataSourceJson.id]?this.dataSourcesCreatePromise[r.dataSourceJson.id]:(this.dataSourcesCreatePromise[r.dataSourceJson.id]=this.createDsObj(r).then(function(e){var i=n.getAppStore().getState().dataSourcesPreloadData[r.dataSourceJson.id];return i&&e.setJsonData(i.asMutable()),e.ready().then(function(){return e.fetchSchema()}).then(function(r){e.setFetchedSchema(r);var i=e.dataSourceJson.schema?e.dataSourceJson.schema.asMutable({deep:!0}):null,a=o.mergeSchema(e,i,r);e.setSchema(a),o.dataSources[t.id]=e,n.getAppStore().dispatch(c.dataSourceInstanceStatusChanged(t.id,!0));var s=n.getAppStore().getState().dataSourcesInfo[t.id].selectedIds;return s&&s.length>0&&e.selectRecordsByIds(n.getAppStore().getState().dataSourcesInfo[t.id].selectedIds),e})}),this.dataSourcesCreatePromise[r.dataSourceJson.id])},e.prototype.mergeSchema=function(e,t,r){if(e.isDataSourceSet){if(!t)return r;var n=t;return Object.keys(r.childSchemas).forEach(function(o){if(e.getReversedConfigSchema().childSchemas[o])e.getReversedConfigSchema().childSchemas[o].forEach(function(t){n.childSchemas[t.jimuChildId]=e.getChildDataSource(t.jimuChildId).getSchema()});else{if(t.childSchemas[o])return void console.warn("Layer existed, please re-map the data source.",e.id,o);n.childSchemas[o]=r.childSchemas[o]}}),Object.keys(t.childSchemas).forEach(function(e){var n=t.childSchemas[e].childId;r.childSchemas[n]||console.error("Used data is not found.",n)}),n}return this.mergeOneSchema(e,t,r)},e.prototype.mergeOneSchema=function(e,t,r){if(!t)return r;var n=t;return Object.keys(r.fields).forEach(function(o){if(e.getReversedConfigSchema().fields[o])e.getReversedConfigSchema().fields[o].forEach(function(e){n.fields[e.jimuName].alias||(n.fields[e.jimuName].alias=r.fields[o].alias)});else{if(t.fields[o])return void console.warn("Field name existed, please re-map the data source.",e.id,o);var i=r.fields[o];n.fields[o]=i}}),Object.keys(t.fields).forEach(function(e){var n=t.fields[e].name;r.fields[n]||console.error("Used field is not found.",n)}),n.layerDefinition=r.layerDefinition,n},e.prototype.createDsObj=function(e){var t,r=this;if(l.indexOf(e.dataSourceJson.type)>-1){try{t=this.createJimuCoreDataSource(e)}catch(t){throw console.error("Create data source error.",e.dataSourceJson,t),t}return Promise.resolve(t)}var n=a.default.getInstance().getExtensions(s.ExtensionPoints.DataSourceFactoryUri).filter(function(t){return t.getFactoryUri(e.dataSourceJson.type)})[0];if(!n)throw console.error("Unknown data source type:"+e.dataSourceJson.type),Error("Unknown data source type:"+e.dataSourceJson.type);var o=n.getFactoryUri(e.dataSourceJson.type),i=this.dataSourceFactories[o];if(i){try{t=i.createDataSource(e)}catch(t){throw console.error("Create data source error.",e.dataSourceJson,t),t}return Promise.resolve(t)}return u.loadModule(o).then(function(n){try{var i=r.dataSourceFactories[o];i||(i=new n.default,r.dataSourceFactories[o]=i),t=i.createDataSource(e)}catch(t){throw console.error("Create data source error.",e.dataSourceJson,t),t}return t})},e.prototype.getAppConfig=function(){return n.getAppStore().getState().appConfig},e.prototype.queryDataFromLocal=function(e,t){return this.getLocalDB(e).then(function(e){return e.find(t).then(function(e){return e.docs})})},e.prototype.putDataToLocal=function(e,t){var r=t.map(function(e){var t=e.toJson()();return t._id||(t._id=e.getId()),t});return this.getLocalDB(e).then(function(e){return e.bulkDocs(r).then(function(e){})})},e.prototype.getLocalDBInfo=function(e){return this.getLocalDB(e).then(function(e){return e.info()})},e.prototype.destroyLocalDB=function(e){return this.getLocalDB(e).then(function(e){return e.destroy()})},e.prototype.isDataSourceInLocal=function(e){return this.getAllLocalDBNames().then(function(t){return!!t.find(function(t){return t===e})})},e.prototype.getAllLocalDBNames=function(){return this.loadPouchDB().then(function(e){return e.allDbs()})},e.prototype.getLocalDB=function(e){return this.loadPouchDB().then(function(t){return new t(e)})},e.prototype.loadPouchDB=function(){var e=this;return this.pouchDB?Promise.resolve(this.pouchDB):u.loadModule("jimu-core/offline").then(function(t){var r=t.PouchDB.default;return e.pouchDB=r,r})},e.prototype.createJimuCoreDataSource=function(e){if(e.dataSourceJson.type===o.DataSourceTypes.SimpleLocal)return new o.SimpleLocalDataSource(e);if(e.dataSourceJson.type===o.DataSourceTypes.CSV)return new o.CsvDataSource(e);if(e.dataSourceJson.type===o.DataSourceTypes.FeatureQuery)return new i.FeatureQueryDataSource(e);throw Error("Unknown data source type:"+e.dataSourceJson.type)},e.prototype.onStoreChange=function(e,t){var r=this;e&&t&&Object.keys(e).forEach(function(n){t[n]&&t[n]===e[n]||r.destroyDataSource(n)})},e}();t.default=f},function(e,t,r){"use strict";function n(e){return Object.keys(e).some(function(t){var r=e[t];if(!r)return!1;switch(r&&r.toParam&&(r=r.toParam()),r.constructor.name){case"Array":case"Object":case"Date":case"Function":case"Boolean":case"String":case"Number":return!1;default:return!0}})}function o(e){var t={};return Object.keys(e).forEach(function(r){var n=e[r];if(n&&n.toParam&&(n=n.toParam()),n||0===n||"boolean"==typeof n||"string"==typeof n){var o;switch(n.constructor.name){case"Array":o=n[0]&&n[0].constructor&&"Object"===n[0].constructor.name?JSON.stringify(n):n.join(",");break;case"Object":o=JSON.stringify(n);break;case"Date":o=n.valueOf();break;case"Function":o=null;break;case"Boolean":o=n+"";break;default:o=n}(o||0===o||"string"==typeof o)&&(t[r]=o)}}),t}r.d(t,"b",function(){return n}),r.d(t,"a",function(){return o})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(56);t.isDeepEqual=n;var o=r(14),i=r(44);t.getValue=i;var a=r(94);function s(e,t){switch(e){case"opened":switch(t){case"opened":return null;case"closed":return"onOpen";case"active":return"onDeActive"}case"closed":switch(t){case"opened":return"onClose";case"closed":return null;case"active":return["onDeActive","onClose"]}case"active":switch(t){case"opened":return"onDeActive";case"closed":return["onOpen","onActive"];case"active":return null}}}t.getWidgetCallbackNamesFromWidgetState=function(e,t){return s(e,t)},t.getPanelCallbackNamesFromPanelState=function(e,t){return s(e,t)},t.isTouchDevice=function(){return"undefined"!=typeof window&&Boolean("ontouchstart"in window||window.navigator&&window.navigator.maxTouchPoints>0||window.navigator&&window.navigator.msMaxTouchPoints>0||window.DocumentTouch&&document instanceof window.DocumentTouch)},t.getBrowserSizeMode=function(e){return e.width<=a.BREAK_POINTS[0]?o.BrowserSizeMode.Small:e.width<=a.BREAK_POINTS[1]?o.BrowserSizeMode.Medium:o.BrowserSizeMode.Large},t.findViewportSize=function(e,t){var r=i(e,"forBuilderAttributes.viewPortSize."+t);return r||(r=i(a.SCREEN_RESOLUTIONS[t],"[1]")),r||{width:0,height:0}},t.findLayoutId=function(e,t,r){return e?e[t]||e[r]:null},t.getSizeModeWidth=function(e){return e===o.BrowserSizeMode.Small?a.BREAK_POINTS[0]:e===o.BrowserSizeMode.Medium?a.BREAK_POINTS[1]:1e5},t.loadstyle=function(e,t){return new Promise(function(r){var n;n=t?document.getElementById(t):document.getElementsByTagName("head")[0];var o=document.createElement("link");o.setAttribute("rel","stylesheet"),o.setAttribute("type","text/css"),o.setAttribute("href",e),o.onload=function(){r()},n.appendChild(o)})},t.applyMixins=function(e,t){t.forEach(function(t){Object.getOwnPropertyNames(t.prototype).forEach(function(r){e.prototype[r]=t.prototype[r]})})},t.isArrayContainSameItems=function(e,t){return e.length===t.length&&(e=e.sort(function(e,t){return e>t?-1:1}),t=t.sort(function(e,t){return e>t?-1:1}),n(e,t))};var u=/([A-Z])/g,c=/^ms-/;function l(e){return e.replace(u,"-$1").toLowerCase().replace(c,"-ms-")}t.hyphenateStyleName=l,t.styleObjectToString=function(e){var t="";for(var r in e)if(e.hasOwnProperty(r)){var n=e[r];null!=n&&(t?t+=";"+l(r)+":"+n:t=l(r)+":"+n)}return t||""},t.isWidgetSupportSSR=function(e,t,r){var n=e.widgets[t];return!(n.manifest.dependency&&("jimu-arcgis"===n.manifest.dependency||n.manifest.dependency.indexOf("jimu-arcgis")>-1)||n.useDataSourcesEnabled&&n.useDataSources&&n.useDataSources.filter(function(t){var o=e.dataSources&&e.dataSources[t.dataSourceId];return o||(o=e.dataSources&&e.dataSources[t.rootDataSourceId]),o&&r.indexOf(o.type)>-1&&n.manifest.properties.autoBindDataSource}).length>0)},t.tryGet=function(e,t,r){void 0===t&&(t=1e3),void 0===r&&(r=100);var n=(new Date).getDate();return new Promise(function(o,i){!function o(i){var a=(new Date).getDate(),s=e();if(s)i(null,s);else{if(n+t>=a)return void i("Timeout",null);setTimeout(function(){o(i)},r)}}(function(e,t){e?i(e):o(t)})})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Field="FIELD",e.String="STRING",e.Operator="OPERATOR",e.Function="FUNCTION",e.Number="NUMBER",e.Unknown="UNKNOWN"}(t.ExpressionPartType||(t.ExpressionPartType={})),function(e){e.Average="AVERAGE",e.Count="COUNT",e.Sum="SUM",e.Max="MAX",e.Min="MIN"}(t.ExpressionFunctions||(t.ExpressionFunctions={}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),o=r(141),i=r(76),a=r(51),s=r(75),u=r(78),c=r(78);function l(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}t.css=c.default;var f="undefined"!=typeof document,d=n.createContext(f?o.default():null),p=n.createContext({});t.ThemeContext=p;var h=d.Provider;t.CacheProvider=h;var g=function(e){return n.forwardRef(function(t,r){return n.createElement(d.Consumer,null,function(n){return e(t,n,r)})})};if(t.withEmotionCache=g,!f){var m=function(e){function t(t,r,n){var i;return(i=e.call(this,t,r,n)||this).state={value:o.default()},i}return l(t,e),t.prototype.render=function(){return n.createElement(d.Provider,this.state,this.props.children(this.state.value))},t}(n.Component);t.withEmotionCache=g=function(e){return function(t){return n.createElement(d.Consumer,null,function(r){return null===r?n.createElement(m,null,function(r){return e(t,r)}):e(t,r)})}}}var y="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",v=Object.prototype.hasOwnProperty,b=function(e,t,r,o){var s=t[y],u=[],c="",l=null===r?t.css:t.css(r);"string"==typeof l&&void 0!==e.registered[l]&&(l=e.registered[l]),u.push(l),void 0!==t.className&&(c=i.getRegisteredStyles(e.registered,u,t.className));var d=a.serializeStyles(u),p=i.insertStyles(e,d,"string"==typeof s);c+=e.key+"-"+d.name;var h={};for(var g in t)v.call(t,g)&&"css"!==g&&g!==y&&(h[g]=t[g]);h.ref=o,h.className=c;var m=n.createElement(s,h);if(!f&&void 0!==p){for(var b,S=d.name,w=d.next;void 0!==w;)S+=" "+w.name,w=w.next;return n.createElement(n.Fragment,null,n.createElement("style",((b={})["data-emotion-"+e.key]=S,b.dangerouslySetInnerHTML={__html:p},b.nonce=e.sheet.nonce,b)),m)}return m},S=g(function(e,t,r){return"function"==typeof e.css?n.createElement(p.Consumer,null,function(n){return b(t,e,n,r)}):b(t,e,null,r)});t.jsx=function(e,t){var r=arguments;if(null==t||null==t.css)return n.createElement.apply(void 0,r);var o=r.length,i=new Array(o);i[0]=S;var a={};for(var s in t)v.call(t,s)&&(a[s]=t[s]);a[y]=e,i[1]=a;for(var u=2;u<o;u++)i[u]=r[u];return n.createElement.apply(null,i)};var w=g(function(e,t){var r=e.styles;if("function"==typeof r)return n.createElement(p.Consumer,null,function(e){var o=a.serializeStyles([r(e)]);return n.createElement(_,{serialized:o,cache:t})});var o=a.serializeStyles([r]);return n.createElement(_,{serialized:o,cache:t})});t.Global=w;var _=function(e){function t(t,r,n){return e.call(this,t,r,n)||this}l(t,e);var r=t.prototype;return r.componentDidMount=function(){this.sheet=new s.StyleSheet({key:this.props.cache.key+"-global",nonce:this.props.cache.sheet.nonce,container:this.props.cache.sheet.container});var e=document.querySelector("style[data-emotion-"+this.props.cache.key+'="'+this.props.serialized.name+'"]');null!==e&&this.sheet.tags.push(e),this.props.cache.sheet.tags.length&&(this.sheet.before=this.props.cache.sheet.tags[0]),this.insertStyles()},r.componentDidUpdate=function(e){e.serialized.name!==this.props.serialized.name&&this.insertStyles()},r.insertStyles=function(){if(void 0!==this.props.serialized.next&&i.insertStyles(this.props.cache,this.props.serialized.next,!0),this.sheet.tags.length){var e=this.sheet.tags[this.sheet.tags.length-1].nextElementSibling;this.sheet.before=e,this.sheet.flush()}this.props.cache.insert("",this.props.serialized,this.sheet,!1)},r.componentWillUnmount=function(){this.sheet.flush()},r.render=function(){if(!f){for(var e,t=this.props.serialized,r=t.name,o=t.styles,i=t.next;void 0!==i;)r+=" "+i.name,o+=i.styles,i=i.next;var a=this.props.cache.insert("",{name:r,styles:o},this.sheet,!1);return n.createElement("style",((e={})["data-emotion-"+this.props.cache.key]=r,e.dangerouslySetInnerHTML={__html:a},e.nonce=this.props.cache.sheet.nonce,e))}return null},t}(n.Component);t.keyframes=function(){var e=u.default.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};var I=g(function(e,t){return n.createElement(p.Consumer,null,function(r){var o,s="",u="",c=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var o=a.serializeStyles(r,t.registered);if(f)i.insertStyles(t,o,!1);else{var c=i.insertStyles(t,o,!1);void 0!==c&&(s+=c)}return f||(u+=" "+o.name),t.key+"-"+o.name},l={css:c,cx:function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return function(e,t,r){var n=[],o=i.getRegisteredStyles(e,n,r);return n.length<2?r:o+t(n)}(t.registered,c,function e(t){for(var r=t.length,n=0,o="";n<r;n++){var i=t[n];if(null!=i){var a=void 0;switch(typeof i){case"boolean":break;case"object":if(Array.isArray(i))a=e(i);else for(var s in a="",i)i[s]&&s&&(a&&(a+=" "),a+=s);break;default:a=i}a&&(o&&(o+=" "),o+=a)}}return o}(r))},theme:r},d=e.children(l);return!0,f||0===s.length?d:n.createElement(n.Fragment,null,n.createElement("style",((o={})["data-emotion-"+t.key]=u.substring(1),o.dangerouslySetInnerHTML={__html:s},o.nonce=t.sheet.nonce,o)),d)})});t.ClassNames=I},function(e,t,r){"use strict";r.d(t,"a",function(){return n});var n=function(){return function(e,t,r,n,o){e=e||"UNKNOWN_ERROR",t=t||"UNKNOWN_ERROR_CODE",this.name="ArcGISRequestError",this.message="UNKNOWN_ERROR_CODE"===t?e:t+": "+e,this.originalMessage=e,this.code=t,this.response=r,this.url=n,this.options=o}}();n.prototype=Object.create(Error.prototype),n.prototype.constructor=n},function(e,t,r){"use strict";var n=r(181).default;r(188),(t=e.exports=n).default=t},,function(e,t,r){var n;!function(){"use strict";var o=function e(t){var r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element"),n=60103,o={use_static:!1};function i(e){var t=Object.getPrototypeOf(e);return t?Object.create(t):{}}function a(e,t,r){Object.defineProperty(e,t,{enumerable:!1,configurable:!1,writable:!1,value:r})}(function(e){return"object"==typeof e&&!Array.isArray(e)&&null!==e})(t)&&void 0!==t.use_static&&(o.use_static=Boolean(t.use_static));var s="__immutable_invariants_hold";function u(e){return"object"!=typeof e||null===e||Boolean(Object.getOwnPropertyDescriptor(e,s))}function c(e,t){return e===t||e!=e&&t!=t}function l(e){return!(null===e||"object"!=typeof e||Array.isArray(e)||e instanceof Date)}var f=["setPrototypeOf"],d=(f.concat(["push","pop","sort","splice","shift","unshift","reverse"]),["keys"].concat(["map","filter","slice","concat","reduce","reduceRight"]));f.concat(["setDate","setFullYear","setHours","setMilliseconds","setMinutes","setMonth","setSeconds","setTime","setUTCDate","setUTCFullYear","setUTCHours","setUTCMilliseconds","setUTCMinutes","setUTCMonth","setUTCSeconds","setYear"]);function p(e){this.name="MyError",this.message=e,this.stack=(new Error).stack}function h(e,t){return function(e){a(e,s,!0)}(e),e}function g(e,t){var r=e[t];a(e,t,function(){return U(r.apply(e,arguments))})}function m(e,t,r){var n=r&&r.deep;if(e in this&&(n&&this[e]!==t&&l(t)&&l(this[e])&&(t=U.merge(this[e],t,{deep:!0,mode:"replace"})),c(this[e],t)))return this;var o=I.call(this);return o[e]=U(t),b(o)}p.prototype=new Error,p.prototype.constructor=Error;var y=U([]);function v(e,t,r){var n=e[0];if(1===e.length)return m.call(this,n,t,r);var o,i=e.slice(1),a=this[n];if("object"==typeof a&&null!==a)o=U.setIn(a,i,t);else{var s=i[0];o=""!==s&&isFinite(s)?v.call(y,i,t):E.call(j,i,t)}if(n in this&&a===o)return this;var u=I.call(this);return u[n]=o,b(u)}function b(e){for(var t in d)d.hasOwnProperty(t)&&g(e,d[t]);o.use_static||(a(e,"flatMap",w),a(e,"asObject",O),a(e,"asMutable",I),a(e,"set",m),a(e,"setIn",v),a(e,"update",k),a(e,"updateIn",D),a(e,"getIn",R));for(var r=0,n=e.length;r<n;r++)e[r]=U(e[r]);return h(e)}function S(){return new Date(this.getTime())}function w(e){if(0===arguments.length)return this;var t,r=[],n=this.length;for(t=0;t<n;t++){var o=e(this[t],t,this);Array.isArray(o)?r.push.apply(r,o):r.push(o)}return b(r)}function _(e){if(void 0===e&&0===arguments.length)return this;if("function"!=typeof e){var t=Array.isArray(e)?e.slice():Array.prototype.slice.call(arguments);t.forEach(function(e,t,r){"number"==typeof e&&(r[t]=e.toString())}),e=function(e,r){return-1!==t.indexOf(r)}}var r=i(this);for(var n in this)this.hasOwnProperty(n)&&!1===e(this[n],n)&&(r[n]=this[n]);return N(r)}function I(e){var t,r,n=[];if(e&&e.deep)for(t=0,r=this.length;t<r;t++)n.push(x(this[t]));else for(t=0,r=this.length;t<r;t++)n.push(this[t]);return n}function O(e){"function"!=typeof e&&(e=function(e){return e});var t,r={},n=this.length;for(t=0;t<n;t++){var o=e(this[t],t,this),i=o[0],a=o[1];r[i]=a}return N(r)}function x(e){return!e||"object"!=typeof e||!Object.getOwnPropertyDescriptor(e,s)||e instanceof Date?e:U.asMutable(e,{deep:!0})}function C(e,t){for(var r in e)Object.getOwnPropertyDescriptor(e,r)&&(t[r]=e[r]);return t}function P(e,t){if(0===arguments.length)return this;if(null===e||"object"!=typeof e)throw new TypeError("Immutable#merge can only be invoked with objects or arrays, not "+JSON.stringify(e));var r,n,o=Array.isArray(e),a=t&&t.deep,s=t&&t.mode||"merge",u=t&&t.merger;function f(e,n,o){var s,f=U(n[o]),d=u&&u(e[o],f,t),p=e[o];void 0===r&&void 0===d&&e.hasOwnProperty(o)&&c(f,p)||c(p,s=void 0!==d?d:a&&l(p)&&l(f)?U.merge(p,f,t):f)&&e.hasOwnProperty(o)||(void 0===r&&(r=C(e,i(e))),r[o]=s)}if(o)for(var d=0,p=e.length;d<p;d++){var h=e[d];for(n in h)h.hasOwnProperty(n)&&f(void 0!==r?r:this,h,n)}else{for(n in e)Object.getOwnPropertyDescriptor(e,n)&&f(this,e,n);"replace"===s&&function(e,t){for(var n in e)t.hasOwnProperty(n)||(void 0===r&&(r=C(e,i(e))),delete r[n])}(this,e)}return void 0===r?this:N(r)}function A(e,t){var r=t&&t.deep;if(0===arguments.length)return this;if(null===e||"object"!=typeof e)throw new TypeError("Immutable#replace can only be invoked with objects or arrays, not "+JSON.stringify(e));return U.merge(this,e,{deep:r,mode:"replace"})}var j=U({});function E(e,t,r){if(!Array.isArray(e)||0===e.length)throw new TypeError('The first argument to Immutable#setIn must be an array containing at least one "key" string.');var n=e[0];if(1===e.length)return T.call(this,n,t,r);var o,a=e.slice(1),s=this[n];if(o=this.hasOwnProperty(n)&&"object"==typeof s&&null!==s?U.setIn(s,a,t):E.call(j,a,t),this.hasOwnProperty(n)&&s===o)return this;var u=C(this,i(this));return u[n]=o,N(u)}function T(e,t,r){var n=r&&r.deep;if(this.hasOwnProperty(e)&&(n&&this[e]!==t&&l(t)&&l(this[e])&&(t=U.merge(this[e],t,{deep:!0,mode:"replace"})),c(this[e],t)))return this;var o=C(this,i(this));return o[e]=U(t),N(o)}function k(e,t){var r=Array.prototype.slice.call(arguments,2),n=this[e];return U.set(this,e,t.apply(n,[n].concat(r)))}function M(e,t){for(var r=0,n=t.length;null!=e&&r<n;r++)e=e[t[r]];return r&&r==n?e:void 0}function D(e,t){var r=Array.prototype.slice.call(arguments,2),n=M(this,e);return U.setIn(this,e,t.apply(n,[n].concat(r)))}function R(e,t){var r=M(this,e);return void 0===r?t:r}function F(e){var t,r=i(this);if(e&&e.deep)for(t in this)this.hasOwnProperty(t)&&(r[t]=x(this[t]));else for(t in this)this.hasOwnProperty(t)&&(r[t]=this[t]);return r}function L(){return{}}function N(e){return o.use_static||(a(e,"merge",P),a(e,"replace",A),a(e,"without",_),a(e,"asMutable",F),a(e,"set",T),a(e,"setIn",E),a(e,"update",k),a(e,"updateIn",D),a(e,"getIn",R)),h(e)}function U(e,t,i){if(u(e)||function(e){return"object"==typeof e&&null!==e&&(e.$$typeof===n||e.$$typeof===r)}(e)||function(e){return"undefined"!=typeof File&&e instanceof File}(e)||function(e){return"undefined"!=typeof Blob&&e instanceof Blob}(e)||function(e){return e instanceof Error}(e))return e;if(function(e){return"object"==typeof e&&"function"==typeof e.then}(e))return e.then(U);if(Array.isArray(e))return b(e.slice());if(e instanceof Date)return function(e){return o.use_static||a(e,"asMutable",S),h(e)}(new Date(e.getTime()));var s=t&&t.prototype,c=(s&&s!==Object.prototype?function(){return Object.create(s)}:L)();for(var l in e)Object.getOwnPropertyDescriptor(e,l)&&(c[l]=U(e[l],void 0,i));return N(c)}function W(e){return function(){var t=[].slice.call(arguments),r=t.shift();return e.apply(r,t)}}function q(e,t){return function(){var r=[].slice.call(arguments),n=r.shift();return Array.isArray(n)?t.apply(n,r):e.apply(n,r)}}return U.from=U,U.isImmutable=u,U.ImmutableError=p,U.merge=W(P),U.replace=W(A),U.without=W(_),U.asMutable=function(e,t,r){return function(){var n=[].slice.call(arguments),o=n.shift();return Array.isArray(o)?t.apply(o,n):o instanceof Date?r.apply(o,n):e.apply(o,n)}}(F,I,S),U.set=q(T,m),U.setIn=q(E,v),U.update=W(k),U.updateIn=W(D),U.getIn=W(R),U.flatMap=W(w),U.asObject=W(O),o.use_static||(U.static=e({use_static:!0})),Object.freeze(U),U}();void 0===(n=function(){return o}.call(t,r,t,e))||(e.exports=n)}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPortalUrlFromLocation=function(){var e=window.location.protocol+"//"+window.location.host+function(){var e=window.location.href.split("?")[0],t=e.indexOf("/home/");t<0&&(t=e.indexOf("/apps/"));var r=e.substring(e.indexOf(window.location.host)+window.location.host.length+1,t);return"/"!==r&&(r="/"+r+"/"),r}();return e.substr(0,e.length-1)},t.getPortalRestUrl=function(e){return/\/$/.test(e)?e+"sharing/rest/":e+"/sharing/rest/"},t.getPortalUrlFromRestUrl=function(e){var t=/\/$/.test(e)?"/sharing/rest/":"/sharing/rest";return e.substr(0,e.length-t.length)},t.isSamePortalUrl=function(e,t){var r=/^http(s?):\/\//gi;return e.replace(r,"")===t.replace(r,"")}},function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.AppConfigProcessor="APP_CONFIG_PROCESSOR",e.WidgetClassWrapper="WIDGET_CLASS_WRAPPER",e.AppConfigService="APP_CONFIG_SERVICE",e.ReduxStore="REDUX_STORE",e.DependencyDefine="DEPENDENCY_DEFINE",e.DataSourceFactoryUri="DATA_SOURCE_FACTORY_URI",e.ContextTool="CONTEXT_TOOL",e.LayoutTransformer="LAYOUT_TRANSFORMER"}(n=t.ExtensionPoints||(t.ExtensionPoints={})),t.EP_SUPPORT_MULTIPLE_EXTENTIONS=[n.ReduxStore,n.DataSourceFactoryUri,n.DependencyDefine,n.ContextTool,n.LayoutTransformer];var o=function(){return function(){}}();t.DummyExtension=o},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o,i,a=r(9),s=r(13),u=r(60),c=r(74),l=r(14),f=r(47);!function(e){e.Error="ERROR",e.Unloaded="UNLOADED",e.Loading="LOADING",e.Loaded="LOADED",e.Saving="SAVING",e.Saved="SAVED",e.Closed="CLOSED",e.Connecting="CONNECTING",e.Connected="CONNECTED",e.Closing="CLOSING"}(o=t.DataSourceStatus||(t.DataSourceStatus={})),function(e){e.SimpleLocal="SIMPLE_LOCAL",e.CSV="CSV",e.FeatureQuery="FEATURE_QUERY"}(i=t.DataSourceTypes||(t.DataSourceTypes={}));var d=function(){function e(e){var t=e.dataSourceJson,r=e.parentDataSource,n=e.dataSourceManager;e.childId,e.jimuChildId;this.isDataSourceSet=!1,this.records=[],this.id=t.id,this.label=t.label,this.type=t.type,this.schema=t.schema&&t.schema.asMutable&&t.schema.asMutable(),this.dataSourceJson=t,this.parentDataSource=r,this.dataSourceManager=n}return e.prototype.getSchema=function(){return this.schema},e.prototype.setSchema=function(e){this.schema=e},e.prototype.fetchSchema=function(){return Promise.resolve({})},e.prototype.getFetchedSchema=function(){return this.fetchedSchema},e.prototype.setFetchedSchema=function(e){this.fetchedSchema=e},e.prototype.getGeometryType=function(){return this.getSchema()&&this.getSchema().layerDefinition&&this.getSchema().layerDefinition.geometryType||null},e.prototype.getReversedConfigSchema=function(){var e=this;if(this.reverseSchema)return this.reverseSchema;if(this.isDataSourceSet){var t=this.dataSourceJson.schema,r={childSchemas:{}};if(!t)return{};if(!t.childSchemas)return{label:t.label,childId:t.childId,jimuChildId:t.jimuChildId};Object.keys(t.childSchemas).forEach(function(n){var o=t.childSchemas[n].childId;r.childSchemas[o]?r.childSchemas[o].push(e.getOneReversedConfigSchema(t.childSchemas[n])):r.childSchemas[o]=[e.getOneReversedConfigSchema(t.childSchemas[n])]}),this.reverseSchema=r}else this.reverseSchema=this.getOneReversedConfigSchema(this.dataSourceJson.schema);return this.reverseSchema},e.prototype.setRecords=function(e){this.records=e,this.addVersion()},e.prototype.setJsonData=function(e){console.error("please implement this. setJsonData")},e.prototype.getOneReversedConfigSchema=function(e){var t={};return e?(t.fields={},Object.keys(e.fields).forEach(function(r){var n=e.fields[r];t.fields[n.name]?t.fields[n.name].push(n):t.fields[n.name]=[n]}),e.childId&&(t.childId=e.childId),e.jimuChildId&&(t.jimuChildId=e.jimuChildId),t):t},e.prototype.getStatus=function(){return a.getAppStore().getState().dataSourcesInfo[this.id]&&a.getAppStore().getState().dataSourcesInfo[this.id].status},e.prototype.setStatus=function(e){a.getAppStore().dispatch(s.dataSourceStatusChanged(this.id,e))},e.prototype.getVersion=function(){return a.getAppStore().getState().dataSourcesInfo[this.id].version},e.prototype.addVersion=function(){a.getAppStore().dispatch(s.dataSourceVersionAdded(this.id))},e.prototype.getRecords=function(){return this.records},e.prototype.getSelectedRecords=function(){var e=this;return this.getSelectedRecordIndexes().map(function(t){return e.records[t]}).filter(function(e){return e})},e.prototype.getSelectedRecordIndexes=function(){var e=this;return a.getAppStore().getState().dataSourcesInfo[this.id]?a.getAppStore().getState().dataSourcesInfo[this.id].selectedIndexes?a.getAppStore().getState().dataSourcesInfo[this.id].selectedIndexes.asMutable():a.getAppStore().getState().dataSourcesInfo[this.id].selectedIds?a.getAppStore().getState().dataSourcesInfo[this.id].selectedIds.asMutable().map(function(t){return e.records.findIndex(function(e){return e.getId()==t})}):[]:[]},e.prototype.getSelectedRecordIds=function(){var e=this;return a.getAppStore().getState().dataSourcesInfo[this.id]?a.getAppStore().getState().dataSourcesInfo[this.id].selectedIds?a.getAppStore().getState().dataSourcesInfo[this.id].selectedIds.asMutable():a.getAppStore().getState().dataSourcesInfo[this.id].selectedIndexes?a.getAppStore().getState().dataSourcesInfo[this.id].selectedIndexes.asMutable().map(function(t){return e.records[t].getId()}):[]:[]},e.prototype.nextRecord=function(){if(this.getSelectedRecordIndexes().length>1)return console.warn('method "nextRecord" only works when single record is selected'),null;if(this.getSelectedRecordIndexes().indexOf(this.records.length-1))throw Error("Reach the end of data.");return a.getAppStore().dispatch(s.dataSourceSelectedIndexesChanged(this.id,[this.getSelectedRecordIndexes()[0]++])),this.getSelectedRecords()[0]},e.prototype.prevRecord=function(){if(this.getSelectedRecordIndexes().length>1)return console.warn('method "prevRecord" only works when single record is selected'),null;if(this.getSelectedRecordIndexes().indexOf(0))throw Error("Reach the start of data.");return a.getAppStore().dispatch(s.dataSourceSelectedIndexesChanged(this.id,[this.getSelectedRecordIndexes()[0]--])),this.getSelectedRecords()[0]},e.prototype.getRecord=function(e){return this.records[e]},e.prototype.getRecordById=function(e){return this.records.filter(function(t){return t&&t.getId()===e})[0]},e.prototype.selectRecord=function(e){a.getAppStore().dispatch(s.dataSourceSelectedIndexesChanged(this.id,[e])),this.changeUrlByIndexes([e])},e.prototype.selectRecords=function(e){a.getAppStore().dispatch(s.dataSourceSelectedIndexesChanged(this.id,e)),this.changeUrlByIndexes(e)},e.prototype.selectRecordById=function(e){a.getAppStore().dispatch(s.dataSourceSelectedIdsChanged(this.id,[e])),this.changeUrlByIds([e])},e.prototype.selectRecordsByIds=function(e){a.getAppStore().dispatch(s.dataSourceSelectedIdsChanged(this.id,e)),this.changeUrlByIds(e)},e.prototype.getInfo=function(){return a.getAppStore().getState().dataSourcesInfo[this.id]},e.prototype.clearData=function(){this.selectRecords([]),this.records=[]},e.prototype.getIdField=function(){return"id"},e.prototype.getFullChildDataSourceId=function(e){return this.isDataSourceSet?this.id+"-"+e:(console.error("Valid for data source set only."),null)},e.prototype.getChildDataSources=function(){var e=this;return this.isDataSourceSet?Object.keys(this.dataSourceManager.getDataSources()).filter(function(t){return e.dataSourceManager.getDataSource(t).parentDataSource===e}).map(function(t){return e.dataSourceManager.getDataSource(t)}):(console.error("Valid for data source set only."),null)},e.prototype.getChildDataSource=function(e){return this.isDataSourceSet?this.dataSourceManager.getDataSource(this.getFullChildDataSourceId(e)):(console.error("Valid for data source set only."),null)},e.prototype.getJimuChildId=function(e){if(!this.isDataSourceSet)return console.error("Valid for data source set only."),null;var t=this.getReversedConfigSchema();return t&&t.childSchemas&&t.childSchemas[e]?t.childSchemas[e].map(function(e){return e.jimuChildId}):[e]},e.prototype.getRootDataSource=function(){for(var e=this.parentDataSource;e&&e.parentDataSource;)e=e.parentDataSource;return e},e.prototype.ready=function(){return Promise.resolve({})},e.prototype.destroy=function(){},e.prototype.changeUrlByIndexes=function(e){this.changeUrl({indexes:e,ids:null})},e.prototype.changeUrlByIds=function(e){this.changeUrl({indexes:null,ids:e})},e.prototype.changeUrl=function(e){var t,r=this,n=e.indexes,o=e.ids,i=this.getNewUrlStr({indexes:n,ids:o}),s=n?a.getAppStore().getState().queryObject.data_index:a.getAppStore().getState().queryObject.data_id,c=[];s&&(c=s.split(","));var l=[],f=!1;c.forEach(function(e){e.split(":")[0]===r.id?(l.push(i),f=!0):l.push(e)}),f||l.push(i),u.changeQueryObject(((t={})[n?"data_index":"data_id"]=l.join(","),t),!0)},e.prototype.getNewUrlStr=function(e){var t=e.indexes,r=e.ids;return t?1===t.length?this.id+":"+t[0]:this.id+":"+t.join("+"):r?1===r.length?this.id+":"+r[0]:this.id+":"+r.join("+"):void 0},e}();t.AbstractDataSource=d;var p=function(e){function t(t){var r=e.call(this,t)||this;return r.url=t.dataSourceJson.url,r.setStatus(o.Unloaded),r}return n(t,e),t.prototype.getQueryParam=function(){return this.queryParam},t.prototype.getQueryId=function(){return this.queryId},t.prototype.getRealQuery=function(e,t){return"query"===t&&this.queryParam?this.mergeQuery(this.queryParam,e):this.getSchema().query?this.mergeQuery(this.getSchema().query,e):e},t.prototype.load=function(e,t){var r=this;void 0===t&&(t=!1);var n=this.getRealQuery(e,"load");return f.checkDoQuery({queryType:"byQuery",queryValue:n,refresh:t,currentQuery:this.queryParam,queryStatus:this.getStatus(),records:this.records})?(this.queryParam=n,this.setStatus(o.Loading),this.doQuery(n).then(function(e){return r.records=e,r.setStatus(o.Loaded),window.isNode&&a.getAppStore().dispatch(s.setDataSourcePreloadData(r.id,e.map(function(e){return e.toJson()}))),r.records},function(e){return console.error(e),r.setStatus(o.Error),[]})):Promise.resolve(this.records)},t.prototype.query=function(e){var t=this.getRealQuery(e,"query");return this.doQuery(t)},t.prototype.loadById=function(e,t){var r=this;return void 0===t&&(t=!1),f.checkDoQuery({queryType:"byId",queryValue:e,refresh:t,currentQuery:this.queryParam,queryStatus:this.getStatus(),records:this.records})?(this.queryId=e,this.setStatus(o.Loading),this.doQueryById(e).then(function(e){return r.records=e?[e]:[],r.setStatus(o.Loaded),window.isNode&&a.getAppStore().dispatch(s.setDataSourcePreloadData(r.id,[e.toJson()])),e},function(e){return console.error(e),r.setStatus(o.Error),null})):Promise.resolve(this.records[0])},t.prototype.queryById=function(e){return this.doQueryById(e)},t.prototype.selectRecordById=function(t){var r=this;e.prototype.selectRecordById.call(this,t),0===this.getSelectedRecords().length&&this.queryById(t).then(function(e){e&&(r.records.push(e),r.addVersion())})},t.prototype.selectRecordsByIds=function(t){var r=this;e.prototype.selectRecordsByIds.call(this,t),t.forEach(function(e){r.getRecordById(e)||r.queryById(e).then(function(e){e&&(r.records.push(e),r.addVersion())})})},t.prototype.addRecord=function(e){var t=this;return this.setSaveStatus(o.Saving),this.doAdd(e).then(function(e){return t.records.push(e),t.setSaveStatus(o.Saved),e})},t.prototype.updateRecord=function(e){var t=this;return this.setSaveStatus(o.Saving),this.doUpdateRecord(e).then(function(e){var r=t.records.findIndex(function(t){return t.getId()===e.getId()});return t.records.splice(r,1,e),t.setSaveStatus(o.Saved),e})},t.prototype.deleteRecord=function(e){var t=this;return this.setSaveStatus(o.Saving),this.doDeleteRecord(e).then(function(){t.records.splice(e,1),t.setSaveStatus(o.Saved)})},t.prototype.getSaveStatus=function(){return a.getAppStore().getState().dataSourcesInfo[this.id].saveStatus},t.prototype.setSaveStatus=function(e){a.getAppStore().dispatch(s.dataSourceSaveStatusChanged(this.id,e))},t.prototype.loadFromLocal=function(e){var t=this;return this.setStatus(o.Loading),this.queryFromLocal(e).then(function(e){return t.records=e,t.setStatus(o.Loaded),t.records})},t}(d);t.AbstractQueriableDataSource=p;var h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.load=function(){var e=this;return this.setStatus(o.Loading),this.doLoad().then(function(t){return e.records=t,e.setStatus(o.Loaded),e.records})},t.prototype.loadFromLocal=function(){var e=this;return this.doLoadFromLocal?(this.setStatus(o.Loading),this.doLoadFromLocal().then(function(t){return e.records=t,e.setStatus(o.Loaded),e.records})):Promise.resolve([])},t}(d);t.AbstractLoadableDataSource=h;var g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.updateAllRecoreds=function(e){this.records=e,this.addVersion()},t.prototype.addRecord=function(e){return e.getId()||e.setId(c()),this.records.push(e),this.addVersion(),e},t.prototype.updateRecord=function(e){var t=this.records.findIndex(function(t){return t.getId()===e.getId()});this.records.splice(t,1,e),this.addVersion()},t.prototype.deleteRecord=function(e){this.records.splice(e,1),this.addVersion()},t}(d);t.SimpleLocalDataSource=g;var m=function(){function e(){this._formatDate=function(e,t,r){var n={M:{month:"numeric"},MM:{month:"2-digit"},MMM:{month:"short"},MMMM:{month:"long"},y:{year:"numeric"},d:{day:"numeric"},EEEE:{weekday:"long"}};return t.replace(/([a-z])\1*/gi,function(t){var o=n[t];if(o)return e?r.formatDate(e,o):null;console.warn("Invalid date pattern "+t)})},this._formatTime=function(e,t,r){var n={"h:mm a":{hour:"numeric",minute:"2-digit",hour12:!0},"H:mm":{hour:"numeric",minute:"2-digit",hour12:!1},"h:mm:ss a":{hour:"numeric",minute:"2-digit",second:"2-digit",hour12:!0},"H:mm:ss":{hour:"numeric",minute:"2-digit",second:"2-digit",hour12:!1}}[t];if(n)return e?r.formatDate(e,n):null;console.warn("Not support time pattern "+n)}}return e.prototype.convertOriginDataToData=function(e){var t={},r=this.dataSource.getReversedConfigSchema();return Object.keys(e).forEach(function(n){var o=r&&r.fields&&r.fields[n];o?o.forEach(function(r){t[r.jimuName]=e[n]}):t[n]=e[n]}),t},e.prototype.convertDataToOriginData=function(e){var t={},r=this.dataSource.getSchema();return Object.keys(e).forEach(function(n){var o=r&&r.fields&&r.fields[n]?r.fields[n].name:n;t[o]=e[n]}),t},e.prototype.getFormattedData=function(e){var t=this,r={};return Object.keys(this.getData()).forEach(function(n){var o=t.dataSource.getSchema().fields[n];if(o)if(o.format)switch(o.type){case l.JimuFieldType.Date:r[n]=t.formatDateField(t.getData()[n],o.format.dateFormat,e);break;case l.JimuFieldType.Number:r[n]=t.formatNumberField(t.getData()[n],o.format.places,o.format.digitSeparator,e);break;default:r[n]=t.getData()[n]}else switch(o.type){case l.JimuFieldType.Date:r[n]=t.getData()[n]?e.formatDate(t.getData()[n]):null;break;case l.JimuFieldType.Number:r[n]=t.getData()[n]?e.formatNumber(t.getData()[n]):null;break;default:r[n]=t.getData()[n]}else r[n]=t.getData()[n]}),r},e.prototype.formatDateField=function(e,t,r){if(!e)return null;"number"==typeof e&&(e=new Date(e));var n={common:" ",de:" , ",el:" , ",fi:" klo ",fr:"  ",he:" , ",hi:" , ",it:" , ",nb:" , ",pl:" , ",ro:" , ",ru:" , ",vi:" , "},o={shortDate:{datePattern:"M/d/y",selector:"date"},shortDateShortTime:{datePattern:"M/d/y",timePattern:"h:mm a",selector:"date and time"},shortDateShortTime24:{datePattern:"M/d/y",timePattern:"H:mm",selector:"date and time"},shortDateLongTime:{datePattern:"M/d/y",timePattern:"h:mm:ss a",selector:"date and time"},shortDateLongTime24:{datePattern:"M/d/y",timePattern:"H:mm:ss",selector:"date and time"},shortDateLE:{datePattern:"d/M/y",selector:"date"},shortDateLEShortTime:{datePattern:"d/M/y",timePattern:"h:mm a",selector:"date and time"},shortDateLEShortTime24:{datePattern:"d/M/y",timePattern:"H:mm",selector:"date and time"},shortDateLELongTime:{datePattern:"d/M/y",timePattern:"h:mm:ss a",selector:"date and time"},shortDateLELongTime24:{datePattern:"d/M/y",timePattern:"H:mm:ss",selector:"date and time"},longMonthDayYear:{datePattern:"MMMM d, y",selector:"date"},longMonthDayYearShortTime:{datePattern:"MMMM d, y",timePattern:"h:mm a",selector:"date and time"},longMonthDayYearShortTime24:{datePattern:"MMMM d, y",timePattern:"H:mm",selector:"date and time"},longMonthDayYearLongTime:{datePattern:"MMMM d, y",timePattern:"h:mm:ss a",selector:"date and time"},longMonthDayYearLongTime24:{datePattern:"MMMM d, y",timePattern:"H:mm:ss",selector:"date and time"},dayShortMonthYear:{datePattern:"d MMM y",selector:"date"},dayShortMonthYearShortTime:{datePattern:"d MMM y",timePattern:"h:mm a",selector:"date and time"},dayShortMonthYearShortTime24:{datePattern:"d MMM y",timePattern:"H:mm",selector:"date and time"},dayShortMonthYearLongTime:{datePattern:"d MMM y",timePattern:"h:mm:ss a",selector:"date and time"},dayShortMonthYearLongTime24:{datePattern:"d MMM y",timePattern:"H:mm:ss",selector:"date and time"},longDate:{datePattern:"EEEE, MMMM d, y",selector:"date"},longDateShortTime:{datePattern:"EEEE, MMMM d, y",timePattern:"h:mm a",selector:"date and time"},longDateShortTime24:{datePattern:"EEEE, MMMM d, y",timePattern:"H:mm",selector:"date and time"},longDateLongTime:{datePattern:"EEEE, MMMM d, y",timePattern:"h:mm:ss a",selector:"date and time"},longDateLongTime24:{datePattern:"EEEE, MMMM d, y",timePattern:"H:mm:ss",selector:"date and time"},longMonthYear:{datePattern:"MMMM y",selector:"date"},shortMonthYear:{datePattern:"MMM y",selector:"date"},year:{datePattern:"y",selector:"date"}}[t];if(!o)return console.warn("Invalid data format "+t),null;var i=this._formatDate(e,o.datePattern,r);if("date and time"===o.selector){var a=this._formatTime(e,o.timePattern,r);i=i+(n[r.locale||"en"]||n.common)+a}return i},e.prototype.formatNumberField=function(e,t,r,n){if(null===e||void 0===typeof e)return null;var o=new Number(e);return r?n.formatNumber(e,{maximumFractionDigits:t,minimumFractionDigits:t}):o.toFixed(t)},e}();t.AbstractDataRecord=m;var y=function(e){function t(t,r,n){void 0===n&&(n=!0);var o=e.call(this)||this;return o.dataSource=r,o.data=n?o.convertOriginDataToData(t):t,o}return n(t,e),t.prototype.getData=function(){return this.data},t.prototype.getOriginData=function(){return this.convertDataToOriginData(this.data)},t.prototype.toJson=function(){return this.data},t.prototype.getId=function(){return this.data.id},t.prototype.setId=function(){},t.prototype.getGeometry=function(){return null},t}(m);t.SimpleDataRecord=y;var v=function(){return function(e){Object.assign(this,e)}}();t.SimpleDataRecordSet=v;var b=function(e){function t(t){var r=e.call(this,t)||this;return r.type=i.CSV,t.dataSourceJson.data?(r.records=t.dataSourceJson.data.map(function(e){return new y(e,r)}),r.setStatus(o.Loaded)):r.url=t.dataSourceJson.url,r}return n(t,e),t.prototype.doLoad=function(){var e=this;return fetch(this.url).then(function(e){return e.json()}).then(function(t){return t.map(function(t){return new y(t,e)})})},t}(h);t.CsvDataSource=b},function(e,t,r){"use strict";function n(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}r.r(t);var o=r(1),i=r(4),a=r.n(i),s=a.a.shape({trySubscribe:a.a.func.isRequired,tryUnsubscribe:a.a.func.isRequired,notifyNestedSubs:a.a.func.isRequired,isSubscribed:a.a.func.isRequired}),u=a.a.shape({subscribe:a.a.func.isRequired,dispatch:a.a.func.isRequired,getState:a.a.func.isRequired});function c(e){var t;void 0===e&&(e="store");var r=e+"Subscription",i=function(t){n(a,t);var i=a.prototype;function a(r,n){var o;return(o=t.call(this,r,n)||this)[e]=r.store,o}return i.getChildContext=function(){var t;return(t={})[e]=this[e],t[r]=null,t},i.render=function(){return o.Children.only(this.props.children)},a}(o.Component);return i.propTypes={store:u.isRequired,children:a.a.element.isRequired},i.childContextTypes=((t={})[e]=u.isRequired,t[r]=s,t),i}var l=c();function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function p(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}var h=r(123),g=r.n(h),m=r(11),y=r.n(m),v=r(67),b=null,S={notify:function(){}};var w=function(){function e(e,t,r){this.store=e,this.parentSub=t,this.onStateChange=r,this.unsubscribe=null,this.listeners=S}var t=e.prototype;return t.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},t.notifyNestedSubs=function(){this.listeners.notify()},t.isSubscribed=function(){return Boolean(this.unsubscribe)},t.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.onStateChange):this.store.subscribe(this.onStateChange),this.listeners=function(){var e=[],t=[];return{clear:function(){t=b,e=b},notify:function(){for(var r=e=t,n=0;n<r.length;n++)r[n]()},get:function(){return t},subscribe:function(r){var n=!0;return t===e&&(t=e.slice()),t.push(r),function(){n&&e!==b&&(n=!1,t===e&&(t=e.slice()),t.splice(t.indexOf(r),1))}}}}())},t.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=S)},e}(),_=0,I={};function O(){}function x(e,t){var r,i;void 0===t&&(t={});var a=t,c=a.getDisplayName,l=void 0===c?function(e){return"ConnectAdvanced("+e+")"}:c,h=a.methodName,m=void 0===h?"connectAdvanced":h,b=a.renderCountProp,S=void 0===b?void 0:b,x=a.shouldHandleStateChanges,C=void 0===x||x,P=a.storeKey,A=void 0===P?"store":P,j=a.withRef,E=void 0!==j&&j,T=p(a,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef"]),k=A+"Subscription",M=_++,D=((r={})[A]=u,r[k]=s,r),R=((i={})[k]=s,i);return function(t){y()(Object(v.isValidElementType)(t),"You must pass a component to the function returned by "+m+". Instead received "+JSON.stringify(t));var r=t.displayName||t.name||"Component",i=l(r),a=d({},T,{getDisplayName:l,methodName:m,renderCountProp:S,shouldHandleStateChanges:C,storeKey:A,withRef:E,displayName:i,wrappedComponentName:r,WrappedComponent:t}),s=function(r){function s(e,t){var n;return(n=r.call(this,e,t)||this).version=M,n.state={},n.renderCount=0,n.store=e[A]||t[A],n.propsMode=Boolean(e[A]),n.setWrappedInstance=n.setWrappedInstance.bind(f(f(n))),y()(n.store,'Could not find "'+A+'" in either the context or props of "'+i+'". Either wrap the root component in a <Provider>, or explicitly pass "'+A+'" as a prop to "'+i+'".'),n.initSelector(),n.initSubscription(),n}n(s,r);var u=s.prototype;return u.getChildContext=function(){var e,t=this.propsMode?null:this.subscription;return(e={})[k]=t||this.context[k],e},u.componentDidMount=function(){C&&(this.subscription.trySubscribe(),this.selector.run(this.props),this.selector.shouldComponentUpdate&&this.forceUpdate())},u.componentWillReceiveProps=function(e){this.selector.run(e)},u.shouldComponentUpdate=function(){return this.selector.shouldComponentUpdate},u.componentWillUnmount=function(){this.subscription&&this.subscription.tryUnsubscribe(),this.subscription=null,this.notifyNestedSubs=O,this.store=null,this.selector.run=O,this.selector.shouldComponentUpdate=!1},u.getWrappedInstance=function(){return y()(E,"To access the wrapped instance, you need to specify { withRef: true } in the options argument of the "+m+"() call."),this.wrappedInstance},u.setWrappedInstance=function(e){this.wrappedInstance=e},u.initSelector=function(){var t=e(this.store.dispatch,a);this.selector=function(e,t){var r={run:function(n){try{var o=e(t.getState(),n);(o!==r.props||r.error)&&(r.shouldComponentUpdate=!0,r.props=o,r.error=null)}catch(e){r.shouldComponentUpdate=!0,r.error=e}}};return r}(t,this.store),this.selector.run(this.props)},u.initSubscription=function(){if(C){var e=(this.propsMode?this.props:this.context)[k];this.subscription=new w(this.store,e,this.onStateChange.bind(this)),this.notifyNestedSubs=this.subscription.notifyNestedSubs.bind(this.subscription)}},u.onStateChange=function(){this.selector.run(this.props),this.selector.shouldComponentUpdate?(this.componentDidUpdate=this.notifyNestedSubsOnComponentDidUpdate,this.setState(I)):this.notifyNestedSubs()},u.notifyNestedSubsOnComponentDidUpdate=function(){this.componentDidUpdate=void 0,this.notifyNestedSubs()},u.isSubscribed=function(){return Boolean(this.subscription)&&this.subscription.isSubscribed()},u.addExtraProps=function(e){if(!(E||S||this.propsMode&&this.subscription))return e;var t=d({},e);return E&&(t.ref=this.setWrappedInstance),S&&(t[S]=this.renderCount++),this.propsMode&&this.subscription&&(t[k]=this.subscription),t},u.render=function(){var e=this.selector;if(e.shouldComponentUpdate=!1,e.error)throw e.error;return Object(o.createElement)(t,this.addExtraProps(e.props))},s}(o.Component);return s.WrappedComponent=t,s.displayName=i,s.childContextTypes=R,s.contextTypes=D,s.propTypes=D,g()(s,t)}}var C=Object.prototype.hasOwnProperty;function P(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function A(e,t){if(P(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var o=0;o<r.length;o++)if(!C.call(t,r[o])||!P(e[r[o]],t[r[o]]))return!1;return!0}var j=r(68);function E(e){return function(t,r){var n=e(t,r);function o(){return n}return o.dependsOnOwnProps=!1,o}}function T(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function k(e,t){return function(t,r){r.displayName;var n=function(e,t){return n.dependsOnOwnProps?n.mapToProps(e,t):n.mapToProps(e)};return n.dependsOnOwnProps=!0,n.mapToProps=function(t,r){n.mapToProps=e,n.dependsOnOwnProps=T(e);var o=n(t,r);return"function"==typeof o&&(n.mapToProps=o,n.dependsOnOwnProps=T(o),o=n(t,r)),o},n}}var M=[function(e){return"function"==typeof e?k(e):void 0},function(e){return e?void 0:E(function(e){return{dispatch:e}})},function(e){return e&&"object"==typeof e?E(function(t){return Object(j.bindActionCreators)(e,t)}):void 0}];var D=[function(e){return"function"==typeof e?k(e):void 0},function(e){return e?void 0:E(function(){return{}})}];function R(e,t,r){return d({},r,e,t)}var F=[function(e){return"function"==typeof e?function(e){return function(t,r){r.displayName;var n,o=r.pure,i=r.areMergedPropsEqual,a=!1;return function(t,r,s){var u=e(t,r,s);return a?o&&i(u,n)||(n=u):(a=!0,n=u),n}}}(e):void 0},function(e){return e?void 0:function(){return R}}];function L(e,t,r,n){return function(o,i){return r(e(o,i),t(n,i),i)}}function N(e,t,r,n,o){var i,a,s,u,c,l=o.areStatesEqual,f=o.areOwnPropsEqual,d=o.areStatePropsEqual,p=!1;function h(o,p){var h=!f(p,a),g=!l(o,i);return i=o,a=p,h&&g?(s=e(i,a),t.dependsOnOwnProps&&(u=t(n,a)),c=r(s,u,a)):h?(e.dependsOnOwnProps&&(s=e(i,a)),t.dependsOnOwnProps&&(u=t(n,a)),c=r(s,u,a)):g?function(){var t=e(i,a),n=!d(t,s);return s=t,n&&(c=r(s,u,a)),c}():c}return function(o,l){return p?h(o,l):function(o,l){return s=e(i=o,a=l),u=t(n,a),c=r(s,u,a),p=!0,c}(o,l)}}function U(e,t){var r=t.initMapStateToProps,n=t.initMapDispatchToProps,o=t.initMergeProps,i=p(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),a=r(e,i),s=n(e,i),u=o(e,i);return(i.pure?N:L)(a,s,u,e,i)}function W(e,t,r){for(var n=t.length-1;n>=0;n--){var o=t[n](e);if(o)return o}return function(t,n){throw new Error("Invalid value of type "+typeof e+" for "+r+" argument when connecting component "+n.wrappedComponentName+".")}}function q(e,t){return e===t}var z=function(e){var t=void 0===e?{}:e,r=t.connectHOC,n=void 0===r?x:r,o=t.mapStateToPropsFactories,i=void 0===o?D:o,a=t.mapDispatchToPropsFactories,s=void 0===a?M:a,u=t.mergePropsFactories,c=void 0===u?F:u,l=t.selectorFactory,f=void 0===l?U:l;return function(e,t,r,o){void 0===o&&(o={});var a=o,u=a.pure,l=void 0===u||u,h=a.areStatesEqual,g=void 0===h?q:h,m=a.areOwnPropsEqual,y=void 0===m?A:m,v=a.areStatePropsEqual,b=void 0===v?A:v,S=a.areMergedPropsEqual,w=void 0===S?A:S,_=p(a,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),I=W(e,i,"mapStateToProps"),O=W(t,s,"mapDispatchToProps"),x=W(r,c,"mergeProps");return n(f,d({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:I,initMapDispatchToProps:O,initMergeProps:x,pure:l,areStatesEqual:g,areOwnPropsEqual:y,areStatePropsEqual:b,areMergedPropsEqual:w},_))}}();r.d(t,"Provider",function(){return l}),r.d(t,"createProvider",function(){return c}),r.d(t,"connectAdvanced",function(){return x}),r.d(t,"connect",function(){return z})},function(e,t,r){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var n=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(e){n[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var r,a,s=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),u=1;u<arguments.length;u++){for(var c in r=Object(arguments[u]))o.call(r,c)&&(s[c]=r[c]);if(n){a=n(r);for(var l=0;l<a.length;l++)i.call(r,a[l])&&(s[a[l]]=r[a[l]])}}return s}},function(e,t,r){"use strict";r.d(t,"a",function(){return o}),r.d(t,"b",function(){return i});var n=r(18);function o(e,t){return encodeURIComponent(e)+"="+encodeURIComponent(t)}function i(e){var t=Object(n.a)(e);return Object.keys(t).map(function(e){return o(e,t[e])}).join("&")}},function(e,t,r){"use strict";(t=e.exports=r(195).default).default=t},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(7),o=r(27),i=r(9),a=r(13),s=function(){function e(){this.extensions={},this.extensionClasses={}}return e.getInstance=function(){return e.instance||(e.instance=new e,window._extensionManager=e.instance),e.instance},e.prototype.getExtensions=function(e){return this.extensions[e]||[]},e.prototype.getAllExtensions=function(){var e=this,t=[];return Object.keys(this.extensions).forEach(function(r){e.extensions[r].forEach(function(e){t.push(e)})}),t},e.prototype.registerExtension=function(e){if(this.getExtensionById(e.extension.id))console.log("Extension "+e.extension.id+" has been registered.");else{if(this.extensions[e.epName]){if(!(o.EP_SUPPORT_MULTIPLE_EXTENTIONS.indexOf(e.epName)>-1))return;this.extensions[e.epName].push(e.extension),this.extensions[e.epName]=this.extensions[e.epName].sort(function(e,t){return e.index-t.index})}else this.extensions[e.epName]=[e.extension];e.epName===o.ExtensionPoints.ReduxStore&&i.getAppStore().dispatch(a.initStoreExtensionState(e.extension.id))}},e.prototype.destryAllExtensions=function(){var e=this;Object.keys(this.extensions).forEach(function(t){e.extensions[t].forEach(function(t){delete e.extensionClasses[t.name],t.destroy&&t.destroy()})}),this.extensions={}},e.prototype.destryWidgetExtensions=function(e){var t=this;Object.keys(this.extensions).forEach(function(r){t.extensions[r].forEach(function(r){r.widgetId===e&&(delete t.extensionClasses[r.name],r.destroy&&r.destroy())}),t.extensions[r]=t.extensions[r].filter(function(t){return t.widgetId!==e})})},e.prototype.registerWidgetExtensions=function(e){var t=this,r=[];return e.manifest.extensions&&e.manifest.extensions.forEach(function(n){r.push(t.registerWidgetExtension(e,n))}),Promise.all(r)},e.prototype.registerWidgetExtension=function(e,t){var r=this;if(this.extensions[t.point]){if(!(o.EP_SUPPORT_MULTIPLE_EXTENTIONS.indexOf(t.point)>-1))return Promise.resolve();if(this.extensions[t.point].filter(function(r){return r.name===e.manifest.name+"-"+t.name&&r.widgetId===e.id}).length>0)return Promise.resolve()}return this.loadWidgetExtensionClass(e,t).then(function(n){var o=new n;o.name=e.manifest.name+"-"+t.name,o.widgetId=e.id,o.id=o.widgetId+"-"+t.name,o.label=e.manifest.i18nMessages["_ext_"+t.name+"_label"]||t.label,r.registerExtension({epName:t.point,extension:o})})},e.prototype.loadWidgetExtensionClass=function(e,t){var r=e.manifest.name+"-"+t.name;if(this.extensionClasses[r])return this.extensionClasses[r];var o=e.uri+"dist/"+t.uri;return this.extensionClasses[r]=n.loadModule(o).then(function(e){return e.default}),this.extensionClasses[r]},e.prototype.getExtensionById=function(e){var t=this.getAllExtensions();for(var r in t)if(t[r].id===e)return t[r]},e}();t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(122),o=r(2),i=r(13),a=r(198),s=r(9),u=r(7),c=r(16),l=r(26),f=r(99),d=function(){function e(){}return e.prototype._setSession=function(e,t){this._session=e,e?(s.getAppStore().dispatch(i.sessionStart(e.token)),t&&this.writeCookie(e),this.getUserInfo()):s.getAppStore().dispatch(i.userSignOut())},e.prototype._clearSession=function(){delete this._session,s.getAppStore().dispatch(i.userSignOut())},e.getInstance=function(){return e.instance||(e.instance=new e,window._sessionManager=e.instance),e.instance},e.prototype.getUserInfo=function(){return this._session.getUser().then(function(e){return s.getAppStore().dispatch(i.userSignIn(e)),e}).catch(this.handleAuthError.bind(this)).catch(function(e){console.error("Get user info error.",e)})},e.prototype.getSession=function(){return this._session},e.prototype.setPortalUrl=function(e){var t=this._session.toJSON();t.portal=l.getPortalRestUrl(e),this.setSession(new n.UserSession(t))},e.prototype.setClientId=function(e){var t=this._session.toJSON();t.clientId=e,this.setSession(new n.UserSession(t))},e.prototype.setSession=function(e){this._setSession(e,!0)},e.prototype.initFromCookie=function(e){var t=this,r=this.readCookie();0!==r.length&&r.some(function(r){var n=t.getSessionFromCookie(r,e);if(n)return t._setSession(n,!1),!0})},e.prototype.getSessionFromCookie=function(e,t){var r=JSON.parse(e);if(!this.checkCookie(r))return null;var o="https://"+r.urlKey+"."+r.customBaseUrl+"/sharing/rest/";if("maps.arcgis.com"===r.customBaseUrl)o="https://www.arcgis.com/sharing/rest/";else if("mapsdevext.arcgis.com"===r.customBaseUrl)o="https://devext.arcgis.com/sharing/rest/";else if("mapsqa.arcgis.com"===r.customBaseUrl)o="https://qaext.arcgis.com/sharing/rest/";else{if(!(["devext","qaext","www"].indexOf(r.urlKey)>-1))return null;o="https://"+r.urlKey+"."+r.customBaseUrl+"/sharing/rest/"}return new n.UserSession({clientId:t,token:r.token,tokenExpires:new Date(r.expires),portal:o,username:r.email})},e.prototype.checkCookie=function(e){return!(new Date(e.expires)<new Date)&&(("prod"!==window.hostEnv||"maps.arcgis.com"===e.customBaseUrl||"www"===e.urlKey&&"arcgis.com"===e.customBaseUrl)&&(("qa"!==window.hostEnv||"mapsqa.arcgis.com"===e.customBaseUrl||"qaext"===e.urlKey&&"arcgis.com"===e.customBaseUrl)&&("dev"!==window.hostEnv||"mapsdevext.arcgis.com"===e.customBaseUrl||"devext"===e.urlKey&&"arcgis.com"===e.customBaseUrl)))},e.prototype.readCookie=function(){return(document&&document.cookie?document.cookie.split("; "):[]).filter(function(e){return"esri_auth"===e.split("=")[0]}).map(function(e){return decodeURIComponent(e.split("=")[1])})},e.prototype.writeCookie=function(e){var t=e.portal.indexOf("/sharing/rest"),r=e.portal.substring("https://".length,t).split("."),n=r[0];r.splice(0,1);var o=r.join("."),i={portalApp:!1,email:e.username,token:e.token,expires:e.tokenExpires,urlKey:n,customBaseUrl:o};a.set("esri_auth",JSON.stringify(i))},e.prototype.removeCookie=function(){a.remove("esri_auth")},e.prototype.initFromCredential=function(e){this._setSession(n.UserSession.fromCredential(e),!0)},e.prototype.signIn=function(e){var t=this;void 0===e&&(e="/");var r=s.getAppStore().getState(),o=r.queryObject;if(o&&o.host_auth)return f.postMessage({signIn:!0}),this._waitingForHostAuth=!0,f.listenForMessageOnce(f.ListenMessageType.HostAuth).then(function(e){return t._waitingForHostAuth=!1,t._setSession(n.UserSession.deserialize(e.serializedSession),!0)});var i=r.portalUrl,a=r.clientId,d=l.getPortalRestUrl(i),p=""+window.location.origin+c.getFolder(u.resolveModuleFullPath("jimu-core"))+"/oauth-callback.html?clientID="+a+"&portal="+d+"&fromUrl="+e,h={portal:d,clientId:a,redirectUri:p=new URL(p).toString(),popup:!1,params:{showSignupOption:!0,signupType:"esri"}};return n.UserSession.beginOAuth2(h)},e.prototype.handleAuthError=function(e){var t=e.options;if(e instanceof o.ArcGISAuthError&&t&&(!t.authentication||498===e.code||"AUTHENTICATION_ERROR_CODE"===e.code))return this.signIn(window.location&&window.location.href),Promise.reject({});throw e},e.prototype.signOut=function(){var e=this.getSession(),t=e.portal,r=e.clientId;this._clearSession();var n=window&&window.location,o=t+"/oauth2/signout?client_id="+r+"&redirect_uri="+encodeURIComponent(n.protocol+"//"+n.host+"/landing-page.html");s.getAppStore().getState().queryObject.host_auth&&f.postMessage({signOut:!0}),this.removeCookie(),n.href=o},e.prototype.syncHostAuth=function(e){e.serializedSession?this._waitingForHostAuth||this.setSession(n.UserSession.deserialize(e.serializedSession)):this._clearSession()},e}();t.default=d,f.listenForMessage(f.ListenMessageType.HostAuth,d.getInstance().syncHostAuth.bind(d.getInstance()))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(20),o=r(14),i=r(17),a=r(116),s={};function u(e){return"[object Number]"===Object.prototype.toString.call(e)}function c(e,t,r){var n=i.default.getInstance().getDataSource(t);if(n){var o=n.getRealQuery({where:"1=1"},"query");return e+"_"+n.id+"_"+(r||"")+"_"+(o&&o.where)}}function l(e,t,r){return(t||"")+"_"+(u(r)?r:"")+"_"+e}function f(e,t,r){return s[c(e,t,r)]}function d(e){switch(e){case n.ExpressionFunctions.Average:return a.StatisticType.Avg;case n.ExpressionFunctions.Count:return a.StatisticType.Count;case n.ExpressionFunctions.Sum:return a.StatisticType.Sum;case n.ExpressionFunctions.Max:return a.StatisticType.Max;case n.ExpressionFunctions.Min:return a.StatisticType.Min;default:return null}}function p(e,t){if(!e||0===e.length||e.some(function(e){return!u(e)}))return 0;switch(t){case n.ExpressionFunctions.Average:case n.ExpressionFunctions.Sum:case n.ExpressionFunctions.Count:return e.reduce(function(e,t){return e+t},0);case n.ExpressionFunctions.Max:return Math.max.apply(null,e);case n.ExpressionFunctions.Min:return Math.min.apply(null,e);default:return 0}}function h(e,t){s&&t&&u(e)&&(s[t]=e)}t.getQueryResult=function(e,t){if(!e||0===e.length)return Promise.resolve(0);var r=e.filter(function(e){return e.type!==n.ExpressionPartType.Operator&&e.type!==n.ExpressionPartType.Unknown});if(r.length>0&&function(e){return!!e&&e.every(function(e){if(e.type===n.ExpressionPartType.Field&&e.jimuFieldName&&e.dataSourceId){var t=i.default.getInstance().getDataSource(e.dataSourceId),r=t&&t.getSchema(),a=r&&r.fields&&r.fields[e.jimuFieldName];return a&&a.type===o.JimuFieldType.Number}return!1})}(r)){var a=function(e,t){return e?e.filter(function(e){return!!f(t,e.dataSourceId,e.jimuFieldName)}):[]}(r,t),s=function(e){if(!e)return{};var t={};return e.forEach(function(e){t[e.dataSourceId]?t[e.dataSourceId].push(e):t[e.dataSourceId]=[e]}),t}(function(e,t){return e?e.filter(function(e){return!f(t,e.dataSourceId,e.jimuFieldName)}):[]}(r,t));return Promise.all(Object.keys(s).map(function(e){return function(e,t){if(!e||0===e.length)return Promise.resolve(0);var r=i.default.getInstance().getDataSource(e[0].dataSourceId);if(r&&r.query){var n=function(e,t){if(!e)return null;var r=[];return e.forEach(function(e,n){var o=i.default.getInstance().getDataSource(e.dataSourceId),a=o&&o.getSchema(),s=a&&a.fields&&a.fields[e.jimuFieldName],u=l(t,s&&s.jimuName,n);r.push({onStatisticField:s&&s.name,outStatisticFieldName:u,statisticType:d(t)})}),{returnGeometry:!0,where:"1=1",outStatistics:r}}(e,t);return r.query(n).then(function(r){var n=r&&r[0]&&r[0].getData()||{},o=Object.keys(n).map(function(r,o){var i=c(t,e[o].dataSourceId,e[o].jimuFieldName),a=n[r];return h(a,i),a});return p(o,t)},function(e){return console.warn(e),0})}}(s[e],t)})).then(function(e){return p([p(e,t),p(a.map(function(e){return f(t,e.dataSourceId,e.jimuFieldName)}),t)],t)},function(e){return console.warn(e),0})}if(!(r.length>0&&function(e){return!!e&&e.every(function(e){return e.type===n.ExpressionPartType.Number})}(r)))return console.warn("Type of child part is not supported."),Promise.resolve(0);switch(t){case n.ExpressionFunctions.Average:case n.ExpressionFunctions.Sum:return Promise.resolve(function(e){var t=e.map(function(e){return parseFloat(e.exp)});return t.length>0&&t.every(function(e){return u(e)})?t.reduce(function(e,t){return e+t},0):0}(r));case n.ExpressionFunctions.Count:return Promise.resolve(r.length);case n.ExpressionFunctions.Max:return Promise.resolve(function(e){var t=e.map(function(e){return parseFloat(e.exp)});return t.length>0&&t.every(function(e){return u(e)})?Math.max.apply(null,t):0}(r));case n.ExpressionFunctions.Min:return Promise.resolve(function(e){var t=e.map(function(e){return parseFloat(e.exp)});return t.length>0&&t.every(function(e){return u(e)})?Math.min.apply(null,t):0}(r));default:return Promise.resolve(0)}},t.isNumber=u,t.getCacheId=c,t.getStatisticOutputName=l,t.getSingleCachedResult=f,t.getStatisticType=d,t.cacheResult=h},,function(e,t,r){"use strict";var n=r(189).default;r(194),(t=e.exports=n).default=t},function(e,t,r){"use strict";r.r(t),r.d(t,"addLocaleData",function(){return S}),r.d(t,"intlShape",function(){return V}),r.d(t,"injectIntl",function(){return ie}),r.d(t,"defineMessages",function(){return ae}),r.d(t,"IntlProvider",function(){return Se}),r.d(t,"FormattedDate",function(){return we}),r.d(t,"FormattedTime",function(){return _e}),r.d(t,"FormattedRelative",function(){return Ae}),r.d(t,"FormattedNumber",function(){return je}),r.d(t,"FormattedPlural",function(){return Ee}),r.d(t,"FormattedMessage",function(){return ke}),r.d(t,"FormattedHTMLMessage",function(){return Me});var n=r(127),o=r.n(n),i=r(23),a=r.n(i),s=r(37),u=r.n(s),c=r(4),l=r.n(c),f=r(1),d=r.n(f),p=r(128),h=r.n(p),g=r(11),m=r.n(g),y=r(32),v=r.n(y),b={locale:"en",pluralRuleFunction:function(e,t){var r=String(e).split("."),n=!r[1],o=Number(r[0])==e,i=o&&r[0].slice(-1),a=o&&r[0].slice(-2);return t?1==i&&11!=a?"one":2==i&&12!=a?"two":3==i&&13!=a?"few":"other":1==e&&n?"one":"other"},fields:{year:{displayName:"year",relative:{0:"this year",1:"next year","-1":"last year"},relativeTime:{future:{one:"in {0} year",other:"in {0} years"},past:{one:"{0} year ago",other:"{0} years ago"}}},month:{displayName:"month",relative:{0:"this month",1:"next month","-1":"last month"},relativeTime:{future:{one:"in {0} month",other:"in {0} months"},past:{one:"{0} month ago",other:"{0} months ago"}}},day:{displayName:"day",relative:{0:"today",1:"tomorrow","-1":"yesterday"},relativeTime:{future:{one:"in {0} day",other:"in {0} days"},past:{one:"{0} day ago",other:"{0} days ago"}}},hour:{displayName:"hour",relative:{0:"this hour"},relativeTime:{future:{one:"in {0} hour",other:"in {0} hours"},past:{one:"{0} hour ago",other:"{0} hours ago"}}},minute:{displayName:"minute",relative:{0:"this minute"},relativeTime:{future:{one:"in {0} minute",other:"in {0} minutes"},past:{one:"{0} minute ago",other:"{0} minutes ago"}}},second:{displayName:"second",relative:{0:"now"},relativeTime:{future:{one:"in {0} second",other:"in {0} seconds"},past:{one:"{0} second ago",other:"{0} seconds ago"}}}}};function S(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];(Array.isArray(e)?e:[e]).forEach(function(e){e&&e.locale&&(a.a.__addLocaleData(e),u.a.__addLocaleData(e))})}function w(e){var t=e&&e.toLowerCase();return!(!a.a.__localeData__[t]||!u.a.__localeData__[t])}var _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I=(function(){function e(e){this.value=e}function t(t){var r,n;function o(r,n){try{var a=t[r](n),s=a.value;s instanceof e?Promise.resolve(s.value).then(function(e){o("next",e)},function(e){o("throw",e)}):i(a.done?"return":"normal",a.value)}catch(e){i("throw",e)}}function i(e,t){switch(e){case"return":r.resolve({value:t,done:!0});break;case"throw":r.reject(t);break;default:r.resolve({value:t,done:!1})}(r=r.next)?o(r.key,r.arg):n=null}this._invoke=function(e,t){return new Promise(function(i,a){var s={key:e,arg:t,resolve:i,reject:a,next:null};n?n=n.next=s:(r=n=s,o(e,t))})},"function"!=typeof t.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(t.prototype[Symbol.asyncIterator]=function(){return this}),t.prototype.next=function(e){return this._invoke("next",e)},t.prototype.throw=function(e){return this._invoke("throw",e)},t.prototype.return=function(e){return this._invoke("return",e)}}(),function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}),O=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),x=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},P=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},A=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},j=function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)},E=l.a.bool,T=l.a.number,k=l.a.string,M=l.a.func,D=l.a.object,R=l.a.oneOf,F=l.a.shape,L=l.a.any,N=l.a.oneOfType,U=R(["best fit","lookup"]),W=R(["narrow","short","long"]),q=R(["numeric","2-digit"]),z=M.isRequired,B={locale:k,timeZone:k,formats:D,messages:D,textComponent:L,defaultLocale:k,defaultFormats:D,onError:M},G={formatDate:z,formatTime:z,formatRelative:z,formatNumber:z,formatPlural:z,formatMessage:z,formatHTMLMessage:z},V=F(C({},B,G,{formatters:D,now:z})),H=(k.isRequired,N([k,D]),{localeMatcher:U,formatMatcher:R(["basic","best fit"]),timeZone:k,hour12:E,weekday:W,era:W,year:q,month:R(["numeric","2-digit","narrow","short","long"]),day:q,hour:q,minute:q,second:q,timeZoneName:R(["short","long"])}),$={localeMatcher:U,style:R(["decimal","currency","percent"]),currency:k,currencyDisplay:R(["symbol","code","name"]),useGrouping:E,minimumIntegerDigits:T,minimumFractionDigits:T,maximumFractionDigits:T,minimumSignificantDigits:T,maximumSignificantDigits:T},J={style:R(["best fit","numeric"]),units:R(["second","minute","hour","day","month","year","second-short","minute-short","hour-short","day-short","month-short","year-short"])},K={style:R(["cardinal","ordinal"])},Q=Object.keys(B),Y={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},X=/[&><"']/g;function Z(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.reduce(function(t,n){return e.hasOwnProperty(n)?t[n]=e[n]:r.hasOwnProperty(n)&&(t[n]=r[n]),t},{})}function ee(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).intl;m()(e,"[React Intl] Could not find required `intl` object. <IntlProvider> needs to exist in the component ancestry.")}function te(e,t){if(e===t)return!0;if("object"!==(void 0===e?"undefined":_(e))||null===e||"object"!==(void 0===t?"undefined":_(t))||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var o=Object.prototype.hasOwnProperty.bind(t),i=0;i<r.length;i++)if(!o(r[i])||e[r[i]]!==t[r[i]])return!1;return!0}function re(e,t,r){var n=e.props,o=e.state,i=e.context,a=void 0===i?{}:i,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},u=a.intl,c=void 0===u?{}:u,l=s.intl,f=void 0===l?{}:l;return!te(t,n)||!te(r,o)||!(f===c||te(Z(f,Q),Z(c,Q)))}function ne(e,t){return"[React Intl] "+e+(t?"\n"+t:"")}function oe(e){0}function ie(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.intlPropName,n=void 0===r?"intl":r,o=t.withRef,i=void 0!==o&&o,a=function(t){function r(e,t){I(this,r);var n=A(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e,t));return ee(t),n}return P(r,t),O(r,[{key:"getWrappedInstance",value:function(){return m()(i,"[React Intl] To access the wrapped instance, the `{withRef: true}` option must be set when calling: `injectIntl()`"),this._wrappedInstance}},{key:"render",value:function(){var t=this;return d.a.createElement(e,C({},this.props,x({},n,this.context.intl),{ref:i?function(e){return t._wrappedInstance=e}:null}))}}]),r}(f.Component);return a.displayName="InjectIntl("+function(e){return e.displayName||e.name||"Component"}(e)+")",a.contextTypes={intl:V},a.WrappedComponent=e,h()(a,e)}function ae(e){return e}var se=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};I(this,e);var n="ordinal"===r.style,o=function(e){return a.a.prototype._findPluralRuleFunction(e)}(function(e){return a.a.prototype._resolveLocale(e)}(t));this.format=function(e){return o(e,n)}},ue=Object.keys(H),ce=Object.keys($),le=Object.keys(J),fe=Object.keys(K),de={second:60,minute:60,hour:24,day:30,month:12};function pe(e){var t=u.a.thresholds;t.second=e.second,t.minute=e.minute,t.hour=e.hour,t.day=e.day,t.month=e.month,t["second-short"]=e["second-short"],t["minute-short"]=e["minute-short"],t["hour-short"]=e["hour-short"],t["day-short"]=e["day-short"],t["month-short"]=e["month-short"]}function he(e,t,r,n){var o=e&&e[t]&&e[t][r];if(o)return o;n(ne("No "+t+" format named: "+r))}function ge(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=e.locale,i=e.formats,a=e.messages,s=e.defaultLocale,u=e.defaultFormats,c=r.id,l=r.defaultMessage;m()(c,"[React Intl] An `id` must be provided to format a message.");var f=a&&a[c];if(!(Object.keys(n).length>0))return f||l||c;var d=void 0,p=e.onError||oe;if(f)try{d=t.getMessageFormat(f,o,i).format(n)}catch(e){p(ne('Error formatting message: "'+c+'" for locale: "'+o+'"'+(l?", using default message as fallback.":""),e))}else(!l||o&&o.toLowerCase()!==s.toLowerCase())&&p(ne('Missing message: "'+c+'" for locale: "'+o+'"'+(l?", using default message as fallback.":"")));if(!d&&l)try{d=t.getMessageFormat(l,s,u).format(n)}catch(e){p(ne('Error formatting the default message for: "'+c+'"',e))}return d||p(ne('Cannot format message: "'+c+'", using message '+(f||l?"source":"id")+" as fallback.")),d||f||l||c}var me=Object.freeze({formatDate:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=e.locale,i=e.formats,a=e.timeZone,s=n.format,u=e.onError||oe,c=new Date(r),l=C({},a&&{timeZone:a},s&&he(i,"date",s,u)),f=Z(n,ue,l);try{return t.getDateTimeFormat(o,f).format(c)}catch(e){u(ne("Error formatting date.",e))}return String(c)},formatTime:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=e.locale,i=e.formats,a=e.timeZone,s=n.format,u=e.onError||oe,c=new Date(r),l=C({},a&&{timeZone:a},s&&he(i,"time",s,u)),f=Z(n,ue,l);f.hour||f.minute||f.second||(f=C({},f,{hour:"numeric",minute:"numeric"}));try{return t.getDateTimeFormat(o,f).format(c)}catch(e){u(ne("Error formatting time.",e))}return String(c)},formatRelative:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=e.locale,i=e.formats,a=n.format,s=e.onError||oe,c=new Date(r),l=new Date(n.now),f=a&&he(i,"relative",a,s),d=Z(n,le,f),p=C({},u.a.thresholds);pe(de);try{return t.getRelativeFormat(o,d).format(c,{now:isFinite(l)?l:t.now()})}catch(e){s(ne("Error formatting relative time.",e))}finally{pe(p)}return String(c)},formatNumber:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=e.locale,i=e.formats,a=n.format,s=e.onError||oe,u=a&&he(i,"number",a,s),c=Z(n,ce,u);try{return t.getNumberFormat(o,c).format(r)}catch(e){s(ne("Error formatting number.",e))}return String(r)},formatPlural:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=e.locale,i=Z(n,fe),a=e.onError||oe;try{return t.getPluralFormat(o,i).format(r)}catch(e){a(ne("Error formatting plural.",e))}return"other"},formatMessage:ge,formatHTMLMessage:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return ge(e,t,r,Object.keys(n).reduce(function(e,t){var r=n[t];return e[t]="string"==typeof r?function(e){return(""+e).replace(X,function(e){return Y[e]})}(r):r,e},{}))}}),ye=Object.keys(B),ve=Object.keys(G),be={formats:{},messages:{},timeZone:null,textComponent:"span",defaultLocale:"en",defaultFormats:{},onError:oe},Se=function(e){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};I(this,t);var n=A(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));m()("undefined"!=typeof Intl,"[React Intl] The `Intl` APIs must be available in the runtime, and do not appear to be built-in. An `Intl` polyfill should be loaded.\nSee: http://formatjs.io/guides/runtime-environments/");var o=r.intl,i=void 0;i=isFinite(e.initialNow)?Number(e.initialNow):o?o.now():Date.now();var s=(o||{}).formatters,c=void 0===s?{getDateTimeFormat:v()(Intl.DateTimeFormat),getNumberFormat:v()(Intl.NumberFormat),getMessageFormat:v()(a.a),getRelativeFormat:v()(u.a),getPluralFormat:v()(se)}:s;return n.state=C({},c,{now:function(){return n._didDisplay?Date.now():i}}),n}return P(t,e),O(t,[{key:"getConfig",value:function(){var e=this.context.intl,t=Z(this.props,ye,e);for(var r in be)void 0===t[r]&&(t[r]=be[r]);if(!function(e){for(var t=(e||"").split("-");t.length>0;){if(w(t.join("-")))return!0;t.pop()}return!1}(t.locale)){var n=t,o=n.locale,i=n.defaultLocale,a=n.defaultFormats;(0,n.onError)(ne('Missing locale data for locale: "'+o+'". Using default locale: "'+i+'" as fallback.')),t=C({},t,{locale:i,formats:a,messages:be.messages})}return t}},{key:"getBoundFormatFns",value:function(e,t){return ve.reduce(function(r,n){return r[n]=me[n].bind(null,e,t),r},{})}},{key:"getChildContext",value:function(){var e=this.getConfig(),t=this.getBoundFormatFns(e,this.state),r=this.state,n=r.now,o=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}(r,["now"]);return{intl:C({},e,t,{formatters:o,now:n})}}},{key:"shouldComponentUpdate",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return re.apply(void 0,[this].concat(t))}},{key:"componentDidMount",value:function(){this._didDisplay=!0}},{key:"render",value:function(){return f.Children.only(this.props.children)}}]),t}(f.Component);Se.displayName="IntlProvider",Se.contextTypes={intl:V},Se.childContextTypes={intl:V.isRequired};var we=function(e){function t(e,r){I(this,t);var n=A(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return ee(r),n}return P(t,e),O(t,[{key:"shouldComponentUpdate",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return re.apply(void 0,[this].concat(t))}},{key:"render",value:function(){var e=this.context.intl,t=e.formatDate,r=e.textComponent,n=this.props,o=n.value,i=n.children,a=t(o,this.props);return"function"==typeof i?i(a):d.a.createElement(r,null,a)}}]),t}(f.Component);we.displayName="FormattedDate",we.contextTypes={intl:V};var _e=function(e){function t(e,r){I(this,t);var n=A(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return ee(r),n}return P(t,e),O(t,[{key:"shouldComponentUpdate",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return re.apply(void 0,[this].concat(t))}},{key:"render",value:function(){var e=this.context.intl,t=e.formatTime,r=e.textComponent,n=this.props,o=n.value,i=n.children,a=t(o,this.props);return"function"==typeof i?i(a):d.a.createElement(r,null,a)}}]),t}(f.Component);_e.displayName="FormattedTime",_e.contextTypes={intl:V};var Ie=1e3,Oe=6e4,xe=36e5,Ce=864e5,Pe=2147483647;var Ae=function(e){function t(e,r){I(this,t);var n=A(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));ee(r);var o=isFinite(e.initialNow)?Number(e.initialNow):r.intl.now();return n.state={now:o},n}return P(t,e),O(t,[{key:"scheduleNextUpdate",value:function(e,t){var r=this;clearTimeout(this._timer);var n=e.value,o=e.units,i=e.updateInterval,a=new Date(n).getTime();if(i&&isFinite(a)){var s=a-t.now,u=function(e){switch(e){case"second":return Ie;case"minute":return Oe;case"hour":return xe;case"day":return Ce;default:return Pe}}(o||function(e){var t=Math.abs(e);return t<Oe?"second":t<xe?"minute":t<Ce?"hour":"day"}(s)),c=Math.abs(s%u),l=s<0?Math.max(i,u-c):Math.max(i,c);this._timer=setTimeout(function(){r.setState({now:r.context.intl.now()})},l)}}},{key:"componentDidMount",value:function(){this.scheduleNextUpdate(this.props,this.state)}},{key:"componentWillReceiveProps",value:function(e){(function(e,t){if(e===t)return!0;var r=new Date(e).getTime(),n=new Date(t).getTime();return isFinite(r)&&isFinite(n)&&r===n})(e.value,this.props.value)||this.setState({now:this.context.intl.now()})}},{key:"shouldComponentUpdate",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return re.apply(void 0,[this].concat(t))}},{key:"componentWillUpdate",value:function(e,t){this.scheduleNextUpdate(e,t)}},{key:"componentWillUnmount",value:function(){clearTimeout(this._timer)}},{key:"render",value:function(){var e=this.context.intl,t=e.formatRelative,r=e.textComponent,n=this.props,o=n.value,i=n.children,a=t(o,C({},this.props,this.state));return"function"==typeof i?i(a):d.a.createElement(r,null,a)}}]),t}(f.Component);Ae.displayName="FormattedRelative",Ae.contextTypes={intl:V},Ae.defaultProps={updateInterval:1e4};var je=function(e){function t(e,r){I(this,t);var n=A(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return ee(r),n}return P(t,e),O(t,[{key:"shouldComponentUpdate",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return re.apply(void 0,[this].concat(t))}},{key:"render",value:function(){var e=this.context.intl,t=e.formatNumber,r=e.textComponent,n=this.props,o=n.value,i=n.children,a=t(o,this.props);return"function"==typeof i?i(a):d.a.createElement(r,null,a)}}]),t}(f.Component);je.displayName="FormattedNumber",je.contextTypes={intl:V};var Ee=function(e){function t(e,r){I(this,t);var n=A(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return ee(r),n}return P(t,e),O(t,[{key:"shouldComponentUpdate",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return re.apply(void 0,[this].concat(t))}},{key:"render",value:function(){var e=this.context.intl,t=e.formatPlural,r=e.textComponent,n=this.props,o=n.value,i=n.other,a=n.children,s=t(o,this.props),u=this.props[s]||i;return"function"==typeof a?a(u):d.a.createElement(r,null,u)}}]),t}(f.Component);Ee.displayName="FormattedPlural",Ee.contextTypes={intl:V},Ee.defaultProps={style:"cardinal"};var Te=function(e,t){return ge({},{getMessageFormat:v()(a.a)},e,t)},ke=function(e){function t(e,r){I(this,t);var n=A(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return e.defaultMessage||ee(r),n}return P(t,e),O(t,[{key:"shouldComponentUpdate",value:function(e){var t=this.props.values;if(!te(e.values,t))return!0;for(var r=C({},e,{values:t}),n=arguments.length,o=Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return re.apply(void 0,[this,r].concat(o))}},{key:"render",value:function(){var e=this.context.intl||{},t=e.formatMessage,r=void 0===t?Te:t,n=e.textComponent,o=void 0===n?"span":n,i=this.props,a=i.id,s=i.description,u=i.defaultMessage,c=i.values,l=i.tagName,d=void 0===l?o:l,p=i.children,h=void 0,g=void 0,m=void 0;if(c&&Object.keys(c).length>0){var y=Math.floor(1099511627776*Math.random()).toString(16),v=function(){var e=0;return function(){return"ELEMENT-"+y+"-"+(e+=1)}}();h="@__"+y+"__@",g={},m={},Object.keys(c).forEach(function(e){var t=c[e];if(Object(f.isValidElement)(t)){var r=v();g[e]=h+r+h,m[r]=t}else g[e]=t})}var b=r({id:a,description:s,defaultMessage:u},g||c),S=void 0;return S=m&&Object.keys(m).length>0?b.split(h).filter(function(e){return!!e}).map(function(e){return m[e]||e}):[b],"function"==typeof p?p.apply(void 0,j(S)):f.createElement.apply(void 0,[d,null].concat(j(S)))}}]),t}(f.Component);ke.displayName="FormattedMessage",ke.contextTypes={intl:V},ke.defaultProps={values:{}};var Me=function(e){function t(e,r){I(this,t);var n=A(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return ee(r),n}return P(t,e),O(t,[{key:"shouldComponentUpdate",value:function(e){var t=this.props.values;if(!te(e.values,t))return!0;for(var r=C({},e,{values:t}),n=arguments.length,o=Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return re.apply(void 0,[this,r].concat(o))}},{key:"render",value:function(){var e=this.context.intl,t=e.formatHTMLMessage,r=e.textComponent,n=this.props,o=n.id,i=n.description,a=n.defaultMessage,s=n.values,u=n.tagName,c=void 0===u?r:u,l=n.children,f=t({id:o,description:i,defaultMessage:a},s);if("function"==typeof l)return l(f);var p={__html:f};return d.a.createElement(c,{dangerouslySetInnerHTML:p})}}]),t}(f.Component);Me.displayName="FormattedHTMLMessage",Me.contextTypes={intl:V},Me.defaultProps={values:{}},S(b),S(o.a)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={loading:"Loading",ok:"OK",cancel:"Cancel",notPublishError:"This item is not published. Please open this item in Experience Builder, then click <b>&nbsp;Publish&nbsp;</b> to publish it.",versionUpdateMsg:"New updates are available. Click Reload button to get the latest updates.",doUpdate:"Reload",message_StringSelectionChange:"String selection change",message_ExtentChange:"Extent change",message_DataRecordsSelectionChange:"Record selection change",message_SpatialDataRecordsSelectionChange:"Feature selection change",message_DataRecordSetCreate:"Record set create",message_SpatialDataRecordSetCreate:"Feature set create",message_DataRecordSetUpdate:"Record set update",message_SpatialDataRecordSetUpdate:"Feature set update",message_SelectDataRecord:"Record set record",dataAction_ExportJson:"Export JSON",messageAction_SelectDataRecord:"Select data record",messageAction_FilterDataRecord:"Filter data record"}},,,function(e,t,r){"use strict";const n=r(135),o=r(136),i=r(137);function a(e,t){return t.encode?t.strict?n(e):encodeURIComponent(e):e}function s(e,t){return t.decode?o(e):e}function u(e){const t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function c(e){const t=(e=u(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function l(e,t){const r=function(e){let t;switch(e.arrayFormat){case"index":return(e,r,n)=>{t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===n[e]&&(n[e]={}),n[e][t[1]]=r):n[e]=r};case"bracket":return(e,r,n)=>{t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==n[e]?n[e]=[].concat(n[e],r):n[e]=[r]:n[e]=r};case"comma":return(e,t,r)=>{const n="string"==typeof t&&t.split("").indexOf(",")>-1?t.split(","):t;r[e]=n};default:return(e,t,r)=>{void 0!==r[e]?r[e]=[].concat(r[e],t):r[e]=t}}}(t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",parseNumbers:!1},t)),n=Object.create(null);if("string"!=typeof e)return n;if(!(e=e.trim().replace(/^[?#&]/,"")))return n;for(const o of e.split("&")){let[e,a]=i(o.replace(/\+/g," "),"=");a=void 0===a?null:s(a,t),t.parseNumbers&&!Number.isNaN(Number(a))&&(a=Number(a)),r(s(e,t),a,n)}return!1===t.sort?n:(!0===t.sort?Object.keys(n).sort():Object.keys(n).sort(t.sort)).reduce((e,t)=>{const r=n[t];return Boolean(r)&&"object"==typeof r&&!Array.isArray(r)?e[t]=function e(t){return Array.isArray(t)?t.sort():"object"==typeof t?e(Object.keys(t)).sort((e,t)=>Number(e)-Number(t)).map(e=>t[e]):t}(r):e[t]=r,e},Object.create(null))}t.extract=c,t.parse=l,t.stringify=((e,t)=>{if(!e)return"";const r=function(e){switch(e.arrayFormat){case"index":return t=>(r,n)=>{const o=r.length;return void 0===n?r:null===n?[...r,[a(t,e),"[",o,"]"].join("")]:[...r,[a(t,e),"[",a(o,e),"]=",a(n,e)].join("")]};case"bracket":return t=>(r,n)=>void 0===n?r:null===n?[...r,[a(t,e),"[]"].join("")]:[...r,[a(t,e),"[]=",a(n,e)].join("")];case"comma":return t=>(r,n,o)=>null===n||void 0===n||0===n.length?r:0===o?[[a(t,e),"=",a(n,e)].join("")]:[[r,a(n,e)].join(",")];default:return t=>(r,n)=>void 0===n?r:null===n?[...r,a(t,e)]:[...r,[a(t,e),"=",a(n,e)].join("")]}}(t=Object.assign({encode:!0,strict:!0,arrayFormat:"none"},t)),n=Object.keys(e);return!1!==t.sort&&n.sort(t.sort),n.map(n=>{const o=e[n];return void 0===o?"":null===o?a(n,t):Array.isArray(o)?o.reduce(r(n),[]).join("&"):a(n,t)+"="+a(o,t)}).filter(e=>e.length>0).join("&")}),t.parseUrl=((e,t)=>({url:u(e).split("?")[0]||"",query:l(c(e),t)}))},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e){if("string"!=typeof e)throw new i.default(3);var t=(0,o.default)(e);if(t.match(s))return{red:parseInt(""+t[1]+t[2],16),green:parseInt(""+t[3]+t[4],16),blue:parseInt(""+t[5]+t[6],16)};if(t.match(u)){var r=parseFloat((parseInt(""+t[7]+t[8],16)/255).toFixed(2));return{red:parseInt(""+t[1]+t[2],16),green:parseInt(""+t[3]+t[4],16),blue:parseInt(""+t[5]+t[6],16),alpha:r}}if(t.match(c))return{red:parseInt(""+t[1]+t[1],16),green:parseInt(""+t[2]+t[2],16),blue:parseInt(""+t[3]+t[3],16)};if(t.match(l)){var a=parseFloat((parseInt(""+t[4]+t[4],16)/255).toFixed(2));return{red:parseInt(""+t[1]+t[1],16),green:parseInt(""+t[2]+t[2],16),blue:parseInt(""+t[3]+t[3],16),alpha:a}}var g=f.exec(t);if(g)return{red:parseInt(""+g[1],10),green:parseInt(""+g[2],10),blue:parseInt(""+g[3],10)};var m=d.exec(t);if(m)return{red:parseInt(""+m[1],10),green:parseInt(""+m[2],10),blue:parseInt(""+m[3],10),alpha:parseFloat(""+m[4])};var y=p.exec(t);if(y){var v=parseInt(""+y[1],10),b=parseInt(""+y[2],10)/100,S=parseInt(""+y[3],10)/100,w="rgb("+(0,n.default)(v,b,S)+")",_=f.exec(w);if(!_)throw new i.default(4,t,w);return{red:parseInt(""+_[1],10),green:parseInt(""+_[2],10),blue:parseInt(""+_[3],10)}}var I=h.exec(t);if(I){var O=parseInt(""+I[1],10),x=parseInt(""+I[2],10)/100,C=parseInt(""+I[3],10)/100,P="rgb("+(0,n.default)(O,x,C)+")",A=f.exec(P);if(!A)throw new i.default(4,t,P);return{red:parseInt(""+A[1],10),green:parseInt(""+A[2],10),blue:parseInt(""+A[3],10),alpha:parseFloat(""+I[4])}}throw new i.default(5)};var n=a(r(53)),o=a(r(148)),i=a(r(15));function a(e){return e&&e.__esModule?e:{default:e}}var s=/^#[a-fA-F0-9]{6}$/,u=/^#[a-fA-F0-9]{8}$/,c=/^#[a-fA-F0-9]{3}$/,l=/^#[a-fA-F0-9]{4}$/,f=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/i,d=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*([-+]?[0-9]*[.]?[0-9]+)\s*\)$/i,p=/^hsl\(\s*(\d{0,3}[.]?[0-9]+)\s*,\s*(\d{1,3})%\s*,\s*(\d{1,3})%\s*\)$/i,h=/^hsla\(\s*(\d{0,3}[.]?[0-9]+)\s*,\s*(\d{1,3})%\s*,\s*(\d{1,3})%\s*,\s*([-+]?[0-9]*[.]?[0-9]+)\s*\)$/i;e.exports=t.default},function(e,t,r){(function(t){var r="Expected a function",n="__lodash_hash_undefined__",o=1/0,i="[object Function]",a="[object GeneratorFunction]",s="[object Symbol]",u=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,c=/^\w*$/,l=/^\./,f=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,d=/\\(\\)?/g,p=/^\[object .+?Constructor\]$/,h="object"==typeof t&&t&&t.Object===Object&&t,g="object"==typeof self&&self&&self.Object===Object&&self,m=h||g||Function("return this")();var y=Array.prototype,v=Function.prototype,b=Object.prototype,S=m["__core-js_shared__"],w=function(){var e=/[^.]+$/.exec(S&&S.keys&&S.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),_=v.toString,I=b.hasOwnProperty,O=b.toString,x=RegExp("^"+_.call(I).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),C=m.Symbol,P=y.splice,A=U(m,"Map"),j=U(Object,"create"),E=C?C.prototype:void 0,T=E?E.toString:void 0;function k(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function M(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function D(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function R(e,t){for(var r=e.length;r--;)if(B(e[r][0],t))return r;return-1}function F(e,t){for(var r=0,n=(t=function(e,t){if(G(e))return!1;var r=typeof e;if("number"==r||"symbol"==r||"boolean"==r||null==e||H(e))return!0;return c.test(e)||!u.test(e)||null!=t&&e in Object(t)}(t,e)?[t]:function(e){return G(e)?e:W(e)}(t)).length;null!=e&&r<n;)e=e[q(t[r++])];return r&&r==n?e:void 0}function L(e){return!(!V(e)||function(e){return!!w&&w in e}(e))&&(function(e){var t=V(e)?O.call(e):"";return t==i||t==a}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?x:p).test(function(e){if(null!=e){try{return _.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}function N(e,t){var r=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?r["string"==typeof t?"string":"hash"]:r.map}function U(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return L(r)?r:void 0}k.prototype.clear=function(){this.__data__=j?j(null):{}},k.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},k.prototype.get=function(e){var t=this.__data__;if(j){var r=t[e];return r===n?void 0:r}return I.call(t,e)?t[e]:void 0},k.prototype.has=function(e){var t=this.__data__;return j?void 0!==t[e]:I.call(t,e)},k.prototype.set=function(e,t){return this.__data__[e]=j&&void 0===t?n:t,this},M.prototype.clear=function(){this.__data__=[]},M.prototype.delete=function(e){var t=this.__data__,r=R(t,e);return!(r<0||(r==t.length-1?t.pop():P.call(t,r,1),0))},M.prototype.get=function(e){var t=this.__data__,r=R(t,e);return r<0?void 0:t[r][1]},M.prototype.has=function(e){return R(this.__data__,e)>-1},M.prototype.set=function(e,t){var r=this.__data__,n=R(r,e);return n<0?r.push([e,t]):r[n][1]=t,this},D.prototype.clear=function(){this.__data__={hash:new k,map:new(A||M),string:new k}},D.prototype.delete=function(e){return N(this,e).delete(e)},D.prototype.get=function(e){return N(this,e).get(e)},D.prototype.has=function(e){return N(this,e).has(e)},D.prototype.set=function(e,t){return N(this,e).set(e,t),this};var W=z(function(e){e=function(e){return null==e?"":function(e){if("string"==typeof e)return e;if(H(e))return T?T.call(e):"";var t=e+"";return"0"==t&&1/e==-o?"-0":t}(e)}(e);var t=[];return l.test(e)&&t.push(""),e.replace(f,function(e,r,n,o){t.push(n?o.replace(d,"$1"):r||e)}),t});function q(e){if("string"==typeof e||H(e))return e;var t=e+"";return"0"==t&&1/e==-o?"-0":t}function z(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError(r);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a),a};return n.cache=new(z.Cache||D),n}function B(e,t){return e===t||e!=e&&t!=t}z.Cache=D;var G=Array.isArray;function V(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function H(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&O.call(e)==s}e.exports=function(e,t,r){var n=null==e?void 0:F(e,t);return void 0===n?r:n}}).call(this,r(8))},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0});var o=r(57),i=r(16),a=r(95),s=r(19),u=r(96);function c(e,t,r){var n,o=0,i=r.lastIndexOf(" "),a=r.substr(i+1);return/^\d+$/.test(a)?(o=Math.max(parseInt(a),o),n=r.substr(0,i)):n=r,e[t+"s"]?(Object.keys(e[t+"s"]).filter(function(r){var o=e[t+"s"][r].label;return o&&new RegExp("^"+n).test(o)}).forEach(function(r){var i=e[t+"s"][r].label,a=i.substring((n+" ").length,i.length);/^\d+$/.test(a)&&(o=Math.max(o,parseInt(a)))}),n+" "+(o+1)):r+" "+(o+1)}t.getWidgetContext=function(e){var t={};return/^http(s)?:\/\//.test(e)||/^\/\//.test(e)?(t.isRemote=!0,t.folderUrl=e):(t.isRemote=!1,t.folderUrl=window.location.protocol+"//"+window.location.host+i.getFixedRootPath()+e),t},t.addWidgetManifestProperties=function(e){var t=a(e);return void 0===e.properties&&(t.properties={}),["isController","hasVersionManager","supportInlineEditing","supportRepeat","hasBuilderSupportModule","hasEmbeddedLayout"].forEach(function(e){void 0===t.properties[e]&&(t.properties[e]=!1)}),["hasMainClass","hasConfig","hasSettingPage","autoBindDataSource","hasConfigInSettingPage"].forEach(function(e){void 0===t.properties[e]&&(t.properties[e]=!0)}),t},t.addWidgetDefaultLabelAndIcon=function(e,t){t.icon=t.icon?t.icon:t.context.folderUrl+"icon.svg",t.label=t.label?t.label:c(e,"widget",t.manifest.i18nMessages._widgetLabel||t.manifest.label||t.manifest.name)},t.getUniqueId=function(e,t){var r=0;return e[t+"s"]?(Object.keys(e[t+"s"]).forEach(function(e){var n=e.substring((t+"_").length,e.length);/^\d+$/.test(n)&&(r=Math.max(r,parseInt(n)))}),t+"_"+(r+1)):t+"_"+(r+1)},t.getUniqueLabel=c,t.getAllWidgets=function(e){var t=[];return Object.keys(e.widgets).forEach(function(r){t.push(e.widgets[r])}),t},t.getWidgetIdThatUseTheLayoutId=function(e,t){return Object.keys(e.widgets).find(function(r){var n=e.widgets[r];if(n.layouts)return Object.keys(n.layouts).some(function(e){return void 0!==Object.keys(n.layouts[e]).find(function(r){return n.layouts[e][r]===t})})})},t.getWidgetOrSectionContainerInfo=function(e,t,r,n){var i=e.pages&&Object.keys(e.pages).find(function(o){var i=s.findLayoutId(e.pages[o].layout,n,e.mainSizeMode);return u.getWidgetsOrSectionsInLayoutWithLayoutWidgetOnly(e,i,r,n).indexOf(t)>-1});if(i)return{type:o.ContainerType.Page,id:i};var a=e.dialogs&&Object.keys(e.dialogs).find(function(o){var i=s.findLayoutId(e.dialogs[o].layout,n,e.mainSizeMode);return u.getWidgetsOrSectionsInLayoutWithLayoutWidgetOnly(e,i,r,n).indexOf(t)>-1});if(a)return{type:o.ContainerType.Dialog,id:a};if(e.header){var c=s.findLayoutId(e.header.layout,n,e.mainSizeMode);if(u.getWidgetsOrSectionsInLayoutWithLayoutWidgetOnly(e,c,r,n).indexOf(t)>-1)return{type:o.ContainerType.Header,id:"header"}}if(e.footer&&(c=s.findLayoutId(e.footer.layout,n,e.mainSizeMode),u.getWidgetsOrSectionsInLayoutWithLayoutWidgetOnly(e,c,r,n).indexOf(t)>-1))return{type:o.ContainerType.Footer,id:"footer"};var l=e.views&&Object.keys(e.views).find(function(o){var i=s.findLayoutId(e.views[o].layout,n,e.mainSizeMode);return u.getWidgetsOrSectionsInLayoutWithLayoutWidgetOnly(e,i,r,n).indexOf(t)>-1});return l?{type:o.ContainerType.View,id:l}:void 0},n(r(174)),n(r(96))},function(e,t,r){"use strict";var n=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,i){function a(e){try{u(n.next(e))}catch(e){i(e)}}function s(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(a,s)}u((n=n.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var a,s=r(21),u=r(7),c=r(16),l=r(25),f=r(9),d="themes/default",p=function(){function e(){var e=this;this.themesPath="themes/",this.jimuThemePath="jimu-ui/styles",this.themeJsons={},this.themeManifests={},this.initialized=!1,this.setJimuThemeModulePath=function(t){e.jimuThemePath=t},this.getJimuThemeModulePath=function(){return e.jimuThemePath},this.loadThemeVariables=function(t){var r=e.themeJsons[t]&&e.themeJsons[t].customVariables;if(!e.jimuThemeVariablesModule){if(!e.jimuThemeModule||!e.jimuThemeModule.VariablesModule)return Promise.reject(new Error("Theme module does not exist."));e.jimuThemeVariablesModule=new e.jimuThemeModule.VariablesModule}return t&&t!==d||r?e.themeJsons[t]&&e.themeJsons[t].defaultVariables?Promise.resolve(e.updateThemeVariables(t)):(e.ensureThemeJson(t),window.fetch(""+c.getAbsoluteRootUrl()+t+"/variables.json").then(function(r){return r.json().then(function(r){return e.themeJsons[t].defaultVariables=l(r),e.updateThemeVariables(t)})})):Promise.resolve(e.jimuThemeVariablesModule.generate({}))},this.updateThemeVariables=function(t){var r,n,o=!1;return e.themeJsons[t]&&(n=e.themeJsons[t].defaultVariables,e.themeJsons[t].customVariables&&(o=!0)),!e.jimuThemeVariablesModule&&e.jimuThemeModule&&(e.jimuThemeVariablesModule=new e.jimuThemeModule.VariablesModule),e.jimuThemeVariablesModule?(o&&(n=l({}).merge(n).merge(e.themeJsons[t].customVariables,{deep:!0})),r=e.jimuThemeVariablesModule.generate(n)):r=l({}),r},this.updateCustomTheme=function(t,r){t&&r&&(e.ensureThemeJson(t),e.themeJsons[t].customVariables=r)},this.addChangedThemeVariables=function(t,r){t=e.getThemeName(t),e.ensureThemeJson(t);var n=e.themeJsons[t]&&e.themeJsons[t].customVariables;return n=e.themeJsons[t].customVariables=n?n.merge(r,{deep:!0}):r},this.getGlobalStyles=function(t){return e.getComponentStyles("Global",Object.assign({theme:t}))},this.getComponentStyles=function(t,r){var o,i;return o=e.jimuThemeModule&&e.jimuThemeModule[t],i=e.themeModule&&e.themeModule[t],s.css(a||(a=n(["\n      ","\n      ","\n    "],["\n      ","\n      ","\n    "])),o&&o(r),i&&i(r))},this.getThemeInfo=function(t,r){return e.themeListInfo?Promise.resolve(e.themeListInfo.find(function(e){return e.name===t})):e.loadThemeListInfo(r).then(function(){return e.themeListInfo.find(function(e){return e.name===t})})},this.getThemeListInfo=function(t){return t&&(e.themeListInfo=null),e.loadThemeListInfo()},this.loadJimuTheme=function(){return o(e,void 0,void 0,function(){var e,t;return i(this,function(r){switch(r.label){case 0:return this.jimuThemeModule?[3,2]:(t=this,[4,u.loadModule(this.getJimuThemeModulePath()+"/index.js")]);case 1:return e=t.jimuThemeModule=r.sent(),[2,Promise.resolve(e)];case 2:return[2,Promise.resolve(this.jimuThemeModule)]}})})},this.loadTheme=function(t){return o(e,void 0,void 0,function(){var e,r,n,o,a;return i(this,function(i){switch(i.label){case 0:return t===d?[2]:(e=f.getAppStore().getState().appConfig).theme===t&&e.themeManifest?(n=e.themeManifest,[3,3]):[3,1];case 1:return[4,this.loadThemeManifest(t)];case 2:n=i.sent(),i.label=3;case 3:return o={},(r=n)&&r.styleFiles&&r.styleFiles.js?(a=this,[4,u.loadModule(t+"/style.js")]):[3,5];case 4:o=a.themeModule=i.sent(),i.label=5;case 5:return[2,Promise.resolve(o)]}})})},this.loadThemeListInfo=function(t){return o(e,void 0,void 0,function(){var e,r,n,o;return i(this,function(i){switch(i.label){case 0:return t&&((e=t.split("/")).length>1&&e.pop(),this.themesPath=e.join("/")+"/"),this.themeListInfo?[3,3]:[4,fetch(""+c.getAbsoluteRootUrl()+this.themesPath+"themes-info.json")];case 1:return r=i.sent(),n=this,o=l,[4,r.json()];case 2:return n.themeListInfo=o.apply(void 0,[i.sent()]),[2,Promise.resolve(this.themeListInfo)];case 3:return[2,Promise.resolve(this.themeListInfo)]}})})}}return e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.prototype.init=function(e){return this.initialized?Promise.resolve():this.initTheme(e)},e.prototype.initTheme=function(e){var t=this,r=this.loadJimuTheme(),n=this.loadTheme(e);return Promise.all([r,n]).then(function(e){t.jimuThemeModule=e[0],t.themeModule=e[1],t.initialized=!0})},e.prototype.changeTheme=function(e){return e?(this.themeModule=null,this.loadTheme(e)):Promise.resolve()},e.prototype.loadThemeManifest=function(e){var t=this;return e?this.themeManifests[e]?Promise.resolve(this.themeManifests[e]):fetch(""+c.getAbsoluteRootUrl()+e+"/manifest.json").then(function(e){return e.json()}).then(function(r){var n=l(r);return t.themeManifests[e]=n,Promise.resolve(n)}).catch(function(e){return console.error(e),Promise.reject(e)}):Promise.resolve(null)},e.prototype.getThemeManifest=function(e){return this.themeManifests[e]},e.prototype.setThemeFolderPath=function(e){e&&(this.themesPath=e)},e.prototype.getThemeName=function(e){if(!e)return"";if(e.indexOf("/")<0)return this.themesPath+e;if("/"===e[e.length-1]){var t=e.split("/");return t.pop(),t.join("/")}return e},e.prototype.ensureThemeJson=function(e){this.themeJsons[e]||(this.themeJsons[e]={defaultVariables:null,customVariables:null})},e}();t.default=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(14),o=r(28),i=r(19);t.convertFieldToJimuField=function(e,t){var r;return r=["esriFieldTypeOID","esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeSingle","esriFieldTypeDouble"].indexOf(e.type)>-1?n.JimuFieldType.Number:"esriFieldTypeDate"===e.type?n.JimuFieldType.Date:n.JimuFieldType.String,{jimuName:e.name,name:e.name,type:r,esriType:e.type,alias:e.alias,format:t&&t.format}},t.checkDoQuery=function(e){var t=e.queryType,r=e.records,n=e.refresh,a=e.queryValue,s=e.currentQuery,u=e.queryStatus;return!("byId"===t&&1===r.length&&r[0].getId()===a&&!n||"byQuery"===t&&i.isDeepEqual(s,a)&&!n||u===o.DataSourceStatus.Loading||!n&&u===o.DataSourceStatus.Error)}},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r(1),a=r(29),s=r(45),u=r(9),c=r(13),l=r(33),f=r(7),d=r(27),p=r(102),h=r(17),g=r(61),m=r(38),y=r(62),v=r(58),b=r(59),S=r(101),w=r(63),_=r(64),I=function(){function e(){this.widgetRawClasses={},this.widgetClasses={},this.widgetClassesPromise={},this.widgetManifestsPromise={},u.observeStore(this.onStoreChange.bind(this),["appConfig","widgets"]),this.dsManager=h.default.getInstance()}return e.getInstance=function(){return e.instance||(e.instance=new e,window._widgetManager=e.instance),e.instance},e.prototype.getWidgetClass=function(e){return this.widgetClasses[e]},e.prototype.deleteWidgetClass=function(e){delete this.widgetClasses[e],delete this.widgetClassesPromise[e]},e.prototype.loadWidgetClass=function(e){var t,r=this;if(!(t="string"==typeof e?u.getAppStore().getState().appConfig.widgets[e]:e))return Promise.resolve(null);if(this.getWidgetClass(t.id))return Promise.resolve(this.getWidgetClass(t.id));if(this.widgetClassesPromise[t.id])return this.widgetClassesPromise[t.id];return t.manifest.properties.hasMainClass?(this.widgetClassesPromise[t.id]=this.loadRawClass(t).then(function(e){return function(e,n){var o=e.default?e.default:e;return r.injectWidgetProps(o,n,t.id).then(function(e){return r.appWidgetClassWrapperExtension(e,t,n)})}(e.clazz,e.i18nMessages)}).then(function(e){return r.widgetClasses[t.id]=e,u.getAppStore().dispatch(c.widgetClassLoaded(t.id)),e}),this.widgetClassesPromise[t.id]):Promise.resolve(null)},e.prototype.loadRawClass=function(e){var t=e.manifest.name;return this.widgetRawClasses[t]?this.widgetRawClasses[t]:(this.widgetRawClasses[t]=this.loadWidgetDependency(e).then(function(){var t=e.uri+"dist/runtime/widget";return f.loadModule(t)}).then(function(t){return{clazz:t,i18nMessages:e.manifest.i18nMessages}}),this.widgetRawClasses[t])},e.prototype.loadWidgetTranslation=function(e){var t=u.getAppStore().getState().appContext.locale;return(t=g.getLocaleToLoad(t,e.manifest.supportedLocales))?g.loadLocaleMessages(e.uri+"dist/runtime/translations",t):Promise.resolve({})},e.prototype.openWidget=function(e){u.getAppStore().dispatch(c.openWidget(e))},e.prototype.closeWidget=function(e){u.getAppStore().dispatch(c.closeWidget(e))},e.prototype.appWidgetClassWrapperExtension=function(e,t,r){var n=l.default.getInstance().getExtensions(d.ExtensionPoints.WidgetClassWrapper)[0];return n?n.wrap(e,t,r):e},e.prototype.handleNewWidgetJson=function(e){var t=this;return e.context=s.getWidgetContext(e.uri),this.loadWidgetManifest(e).then(function(r){return e._originManifest=r,t.processWidgetManifest(e)}).then(function(r){e.manifest=r;var n=u.getAppStore().getState().appStateInBuilder?u.getAppStore().getState().appStateInBuilder.appConfig:u.getAppStore().getState().appConfig;return s.addWidgetDefaultLabelAndIcon(n,e),t.loadWidgetConfig(e)}).then(function(t){return e.config=t,e})},e.prototype.createWidgetJsonFromExistedWidget=function(e,t,r){void 0===r&&(r={});var n=u.getAppStore().getState().appStateInBuilder?u.getAppStore().getState().appStateInBuilder.appConfig:u.getAppStore().getState().appConfig;if(!n.widgets[t])return null;r.id=e;var o=Object.assign({},n.widgets[t],r);return s.addWidgetDefaultLabelAndIcon(n,o),o},e.prototype.loadWidgetManifest=function(e){var t;return t=e.context.isRemote?e.context.folderUrl+"manifest.json?f=json":e.context.folderUrl+"manifest.json",e.manifest?Promise.resolve(e.manifest):this.widgetManifestsPromise[e.uri]?this.widgetManifestsPromise[e.uri]:(this.widgetManifestsPromise[e.uri]=window.fetch(t).then(function(e){return e.json()}).then(function(e){if(e.error&&e.error.code)return Promise.reject(e.error);var t=e;return Promise.resolve(t)}),this.widgetManifestsPromise[e.uri])},e.prototype.processWidgetManifest=function(e){var t=s.addWidgetManifestProperties(e._originManifest);return e.manifest=t,this.loadWidgetTranslation(e).then(function(r){return t.i18nMessages=r,e.manifest=t,t})},e.prototype.registerManifestProps=function(e){var t=e.manifest,r=[];return t.extensions&&t.extensions.length>0&&r.push(l.default.getInstance().registerWidgetExtensions(e)),t.messageActions&&t.messageActions.length>0&&r.push(w.default.getInstance().registerWidgetActions(e)),t.dataActions&&t.dataActions.length>0&&r.push(_.default.getInstance().registerWidgetActions(e)),Promise.all(r).then(function(){})},e.prototype.unRegisterManifestProps=function(e){l.default.getInstance().destryWidgetExtensions(e),w.default.getInstance().destroyWidgetActions(e),_.default.getInstance().destroyWidgetActions(e)},e.prototype.loadWidgetConfig=function(e){var t=this;return this.tryLoadWidgetConfig(e).then(function(r){return t.upgradeWidgetConfig(e,r).then(function(t){return e.config=t,t})})},e.prototype.upgradeWidgetConfig=function(e,t){var r,n=e.manifest.version,o=e.version;return n===o?Promise.resolve(t):!1===e.manifest.properties.hasVersionManager?(e.version=n,Promise.resolve(t)):f.loadModule(e.uri+"VersionManager").then(function(i){var a=new i;if(a.getVersionIndex(o)>a.getVersionIndex(n))return Promise.reject("Bad widget version number, "+e.manifest.name+","+o);try{return r=a.upgrade(t,o,n),e.version=n,r}catch(r){return console.log("Read widget ["+e.manifest.name+"] old config error,"+r.stack),t}})},e.prototype.tryLoadWidgetConfig=function(e){return e.config?"object"==typeof e.config?Promise.resolve(e.config):window.fetch(e.config).then(function(e){return e.json()}).then(function(t){return e.config=t,t}):e.manifest.properties.hasConfig?window.fetch(e.context.folderUrl+"config.json").then(function(e){return e.json()}).then(function(t){return e.config=t,t}):(e.config={},Promise.resolve({}))},e.prototype.loadWidgetDependency=function(e,t){void 0===t&&(t="runtime");var r="runtime"===t?"dependency":"settingDependency";if(!e.manifest[r])return Promise.resolve();var n="string"==typeof e.manifest[r]?[e.manifest[r]]:e.manifest[r];return y.loadDependencies(n)},e.prototype.createDataSourcesForWidget=function(e,t){var r=this,n=t.appConfig.widgets[e];if(!n.useDataSourcesEnabled||!n.useDataSources||0===n.useDataSources.length||!t.appConfig.dataSources)return Promise.resolve();var o=t.widgetsRuntimeInfo[e];if(!(n.manifest.properties.autoBindDataSource||o&&o.isReadyInjectDataSource))return Promise.resolve();var i=[];return n.useDataSources.forEach(function(e){var n=e.dataSourceId;if(!r.dsManager.getDataSource(n)){var o=t.appConfig.dataSources[n];if(o)!o.isOutputFromWidget&&i.push(r.dsManager.createDataSource(o));else{var a=t.appConfig.dataSources[e.rootDataSourceId];if(!a)return void console.error("Can not find data source:",e.dataSourceId);!a.isOutputFromWidget&&i.push(r.dsManager.createDataSource(a))}}}),Promise.all(i)},e.prototype.injectWidgetProps=function(e,t,r){var s=this,l=m.injectIntl(e),d=v.withTheme(l),h=S.withRepeatedDataSource(d),y=function(t){var n=t.appConfig.widgets[r];if(!n)return{};var o=t.widgetsRuntimeInfo[r],i={queryObject:t.queryObject,portalUrl:t.portalUrl,portalSelf:t.portalSelf,user:t.user,token:t.token,locale:t.appContext.locale,appI18nMessages:t.appI18nMessages};t.widgetsState[r]&&(i.stateProps=t.widgetsState[r]),t.widgetsMutableStateVersion[r]&&(i.mutableStatePropsVersion=t.widgetsMutableStateVersion[r],i.mutableStateProps=b.default.getInstance().getStateValue([r])),n.manifest.properties.isController&&n.widgets&&(i.widgetsJson=t.appConfig.widgets,i.widgetsRuntimeInfo=t.widgetsRuntimeInfo);var a=Object.assign(i,t.appConfig.widgets[r],o);return Object.assign(a,e.mapExtraStateProps?e.mapExtraStateProps(t,a):{})},w=function(r,a){var s=function(e){function s(t){return e.call(this,t)||this}return n(s,e),s.prototype.render=function(){if(!this.props.id)return null;var e={};window.jimuConfig.isInBuilder&&(e.builderSupportModules={appInBuilderLib:f.getAppInBuilderModules(),LayoutClass:a.layoutClass,widgetModules:a.builderSupportModules});var r=Object.assign({},t,this.props.appI18nMessages),n=g.getSupportedLocale(this.props.locale,this.props.manifest.supportedLocales);return n||(n=this.props.manifest.supportedLocales&&this.props.manifest.supportedLocales[0]),n||(n=this.props.locale),n=this.props.locale,i.createElement(m.IntlProvider,{locale:n,messages:r},i.createElement(h,o({},this.props,e,a.preloadProps)))},s.displayName="WidgetWrapper("+r+")",s}(p.default);for(var u in e)s[u]||(s[u]=e[u]);return s},_=u.getAppStore().getState();if(!_.appConfig.widgets[r])return e;var I=_.appConfig.widgets[r].manifest,O=I.name;return this.createDataSourcesForWidget(r,_).then(function(){return window.jimuConfig.isInBuilder&&I.properties.hasEmbeddedLayout?f.loadModule("jimu-layouts/layout-builder").then(function(e){return e.LayoutBuilder}):Promise.resolve()}).then(function(e){if(window.jimuConfig.isInBuilder&&I.properties.hasBuilderSupportModule){var t=_.appConfig.widgets[r].uri+"dist/runtime/builder-support";return f.loadModule(t).then(function(t){return{layoutClass:e,builderSupportModules:t.default}})}return Promise.resolve({layoutClass:e,builderSupportModules:null})}).then(function(n){if(_.widgetsPreloadProps&&_.widgetsPreloadProps[r]){var i=_.widgetsPreloadProps[r];return Promise.resolve(a.connect(y)(w(O,o({preloadProps:i},n))))}if(e.preloadData){var l={},f=_.appConfig.widgets[r];return f.useDataSourcesEnabled&&f.useDataSources&&f.useDataSources.forEach(function(e){l[e.dataSourceId]=s.dsManager.getDataSource(e.dataSourceId)}),e.preloadData(_,Object.assign(y(_),{messages:t}),l).then(function(e){return u.getAppStore().dispatch(c.setWidgetPreloadProps(r,e)),Promise.resolve(a.connect(y)(w(O,o({preloadProps:e},n))))})}return Promise.resolve(a.connect(y)(w(O,o({},n))))})},e.prototype.onStoreChange=function(e,t){var r=this;e&&t&&Object.keys(e).forEach(function(e){t[e]||(r.deleteWidgetClass(e),r.unRegisterManifestProps(e))}),e&&t&&Object.keys(t).forEach(function(n){e[n]||r.registerManifestProps(t[n])})},e}();t.default=I},function(e,t,r){"use strict";function n(e){console&&console.warn&&console.warn.apply(console,[e])}r.d(t,"a",function(){return n})},function(e,t,r){"use strict";r.d(t,"a",function(){return i});var n=r(18),o=r(31);function i(e,t){var r=Object(n.b)(e)||t,i=Object(n.a)(e);if(r){var a=new FormData;return Object.keys(i).forEach(function(e){if("undefined"!=typeof Blob&&i[e]instanceof Blob){var t=i.fileName||i[e].name||e;a.append(e,i[e],t)}else a.append(e,i[e])}),a}return Object(o.b)(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(144),o=r(145),i=/[A-Z]|^ms/g,a=/_EMO_([^_]+?)_([^]*?)_EMO_/g,s=r(77).default(function(e){return e.replace(i,"-$&").toLowerCase()}),u=function(e,t){if(null==t||"boolean"==typeof t)return"";switch(e){case"animation":case"animationName":"string"==typeof t&&(t=t.replace(a,function(e,t,r){return l={name:t,styles:r,next:l},t}))}return 1!==o.default[e]&&45!==e.charCodeAt(1)&&"number"==typeof t&&0!==t?t+"px":t};function c(e,t,r,n){if(null==r)return"";if(void 0!==r.__emotion_styles)return r;switch(typeof r){case"boolean":return"";case"object":if(1===r.anim)return l={name:r.name,styles:r.styles,next:l},r.name;if(void 0!==r.styles){var o=r.next;if(void 0!==o)for(;void 0!==o;)l={name:o.name,styles:o.styles,next:l},o=o.next;return r.styles}return function(e,t,r){var n="";if(Array.isArray(r))for(var o=0;o<r.length;o++)n+=c(e,t,r[o],!1);else for(var i in r){var a=r[i];if("object"!=typeof a)null!=t&&void 0!==t[a]?n+=i+"{"+t[a]+"}":n+=s(i)+":"+u(i,a)+";";else if(!Array.isArray(a)||"string"!=typeof a[0]||null!=t&&void 0!==t[a[0]])n+=i+"{"+c(e,t,a,!1)+"}";else for(var l=0;l<a.length;l++)n+=s(i)+":"+u(i,a[l])+";"}return n}(e,t,r);case"function":if(void 0!==e){var i=l,a=r(e);return l=i,c(e,t,a,n)}default:if(null==t)return r;var f=t[r];return void 0===f||n?r:f}}var l,f=/label:\s*([^\s;\n{]+)\s*;/g;t.serializeStyles=function(e,t,r){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var o=!0,i="";l=void 0;var a=e[0];null==a||void 0===a.raw?(o=!1,i+=c(r,t,a,!1)):i+=a[0];for(var s=1;s<e.length;s++)i+=c(r,t,e[s],46===i.charCodeAt(i.length-1)),o&&(i+=a[s]);f.lastIndex=0;for(var u,d="";null!==(u=f.exec(i));)d+="-"+u[1];return{name:n.default(i)+d,styles:i,next:l}}},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e,t,r,a){if("string"==typeof e&&"number"==typeof t){var s=(0,n.default)(e);return"rgba("+s.red+","+s.green+","+s.blue+","+t+")"}if("number"==typeof e&&"number"==typeof t&&"number"==typeof r&&"number"==typeof a)return a>=1?(0,o.default)(e,t,r):"rgba("+e+","+t+","+r+","+a+")";if("object"==typeof e&&void 0===t&&void 0===r&&void 0===a)return e.alpha>=1?(0,o.default)(e.red,e.green,e.blue):"rgba("+e.red+","+e.green+","+e.blue+","+e.alpha+")";throw new i.default(7)};var n=a(r(43)),o=a(r(80)),i=a(r(15));function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,r){"use strict";function n(e){return Math.round(255*e)}function o(e,t,r){return n(e)+","+n(t)+","+n(r)}t.__esModule=!0,t.default=void 0;var i=function(e,t,r,n){if(void 0===n&&(n=o),0===t)return n(r,r,r);var i=e%360/60,a=(1-Math.abs(2*r-1))*t,s=a*(1-Math.abs(i%2-1)),u=0,c=0,l=0;i>=0&&i<1?(u=a,c=s):i>=1&&i<2?(u=s,c=a):i>=2&&i<3?(c=a,l=s):i>=3&&i<4?(c=s,l=a):i>=4&&i<5?(u=s,l=a):i>=5&&i<6&&(u=a,l=s);var f=r-a/2;return n(u+f,c+f,l+f)};t.default=i,e.exports=t.default},function(e,t,r){var n=r(90),o=r(171);for(var i in(t=e.exports=function(e,t){return new o(t).process(e)}).FilterCSS=o,n)t[i]=n[i];"undefined"!=typeof window&&(window.filterCSS=e.exports)},function(e,t){e.exports={indexOf:function(e,t){var r,n;if(Array.prototype.indexOf)return e.indexOf(t);for(r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1},forEach:function(e,t,r){var n,o;if(Array.prototype.forEach)return e.forEach(t,r);for(n=0,o=e.length;n<o;n++)t.call(r,e[n],n,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(e){var t=/\s|\n|\t/.exec(e);return t?t.index:-1}}},function(e,t,r){(function(e,r){var n=200,o="__lodash_hash_undefined__",i=1,a=2,s=9007199254740991,u="[object Arguments]",c="[object Array]",l="[object AsyncFunction]",f="[object Boolean]",d="[object Date]",p="[object Error]",h="[object Function]",g="[object GeneratorFunction]",m="[object Map]",y="[object Number]",v="[object Null]",b="[object Object]",S="[object Proxy]",w="[object RegExp]",_="[object Set]",I="[object String]",O="[object Symbol]",x="[object Undefined]",C="[object ArrayBuffer]",P="[object DataView]",A=/^\[object .+?Constructor\]$/,j=/^(?:0|[1-9]\d*)$/,E={};E["[object Float32Array]"]=E["[object Float64Array]"]=E["[object Int8Array]"]=E["[object Int16Array]"]=E["[object Int32Array]"]=E["[object Uint8Array]"]=E["[object Uint8ClampedArray]"]=E["[object Uint16Array]"]=E["[object Uint32Array]"]=!0,E[u]=E[c]=E[C]=E[f]=E[P]=E[d]=E[p]=E[h]=E[m]=E[y]=E[b]=E[w]=E[_]=E[I]=E["[object WeakMap]"]=!1;var T="object"==typeof e&&e&&e.Object===Object&&e,k="object"==typeof self&&self&&self.Object===Object&&self,M=T||k||Function("return this")(),D=t&&!t.nodeType&&t,R=D&&"object"==typeof r&&r&&!r.nodeType&&r,F=R&&R.exports===D,L=F&&T.process,N=function(){try{return L&&L.binding&&L.binding("util")}catch(e){}}(),U=N&&N.isTypedArray;function W(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}function q(e,t){return e.has(t)}function z(e){var t=-1,r=Array(e.size);return e.forEach(function(e,n){r[++t]=[n,e]}),r}function B(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r}var G=Array.prototype,V=Function.prototype,H=Object.prototype,$=M["__core-js_shared__"],J=V.toString,K=H.hasOwnProperty,Q=function(){var e=/[^.]+$/.exec($&&$.keys&&$.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Y=H.toString,X=RegExp("^"+J.call(K).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Z=F?M.Buffer:void 0,ee=M.Symbol,te=M.Uint8Array,re=H.propertyIsEnumerable,ne=G.splice,oe=ee?ee.toStringTag:void 0,ie=Object.getOwnPropertySymbols,ae=Z?Z.isBuffer:void 0,se=function(e,t){return function(r){return e(t(r))}}(Object.keys,Object),ue=Fe(M,"DataView"),ce=Fe(M,"Map"),le=Fe(M,"Promise"),fe=Fe(M,"Set"),de=Fe(M,"WeakMap"),pe=Fe(Object,"create"),he=We(ue),ge=We(ce),me=We(le),ye=We(fe),ve=We(de),be=ee?ee.prototype:void 0,Se=be?be.valueOf:void 0;function we(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function _e(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Ie(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Oe(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new Ie;++t<r;)this.add(e[t])}function xe(e){var t=this.__data__=new _e(e);this.size=t.size}function Ce(e,t){var r=Be(e),n=!r&&ze(e),o=!r&&!n&&Ge(e),i=!r&&!n&&!o&&Ke(e),a=r||n||o||i,s=a?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],u=s.length;for(var c in e)!t&&!K.call(e,c)||a&&("length"==c||o&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Ue(c,u))||s.push(c);return s}function Pe(e,t){for(var r=e.length;r--;)if(qe(e[r][0],t))return r;return-1}function Ae(e){return null==e?void 0===e?x:v:oe&&oe in Object(e)?function(e){var t=K.call(e,oe),r=e[oe];try{e[oe]=void 0;var n=!0}catch(e){}var o=Y.call(e);n&&(t?e[oe]=r:delete e[oe]);return o}(e):function(e){return Y.call(e)}(e)}function je(e){return Je(e)&&Ae(e)==u}function Ee(e,t,r,n,o){return e===t||(null==e||null==t||!Je(e)&&!Je(t)?e!=e&&t!=t:function(e,t,r,n,o,s){var l=Be(e),h=Be(t),g=l?c:Ne(e),v=h?c:Ne(t),S=(g=g==u?b:g)==b,x=(v=v==u?b:v)==b,A=g==v;if(A&&Ge(e)){if(!Ge(t))return!1;l=!0,S=!1}if(A&&!S)return s||(s=new xe),l||Ke(e)?Me(e,t,r,n,o,s):function(e,t,r,n,o,s,u){switch(r){case P:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case C:return!(e.byteLength!=t.byteLength||!s(new te(e),new te(t)));case f:case d:case y:return qe(+e,+t);case p:return e.name==t.name&&e.message==t.message;case w:case I:return e==t+"";case m:var c=z;case _:var l=n&i;if(c||(c=B),e.size!=t.size&&!l)return!1;var h=u.get(e);if(h)return h==t;n|=a,u.set(e,t);var g=Me(c(e),c(t),n,o,s,u);return u.delete(e),g;case O:if(Se)return Se.call(e)==Se.call(t)}return!1}(e,t,g,r,n,o,s);if(!(r&i)){var j=S&&K.call(e,"__wrapped__"),E=x&&K.call(t,"__wrapped__");if(j||E){var T=j?e.value():e,k=E?t.value():t;return s||(s=new xe),o(T,k,r,n,s)}}if(!A)return!1;return s||(s=new xe),function(e,t,r,n,o,a){var s=r&i,u=De(e),c=u.length,l=De(t).length;if(c!=l&&!s)return!1;for(var f=c;f--;){var d=u[f];if(!(s?d in t:K.call(t,d)))return!1}var p=a.get(e);if(p&&a.get(t))return p==t;var h=!0;a.set(e,t),a.set(t,e);for(var g=s;++f<c;){d=u[f];var m=e[d],y=t[d];if(n)var v=s?n(y,m,d,t,e,a):n(m,y,d,e,t,a);if(!(void 0===v?m===y||o(m,y,r,n,a):v)){h=!1;break}g||(g="constructor"==d)}if(h&&!g){var b=e.constructor,S=t.constructor;b!=S&&"constructor"in e&&"constructor"in t&&!("function"==typeof b&&b instanceof b&&"function"==typeof S&&S instanceof S)&&(h=!1)}return a.delete(e),a.delete(t),h}(e,t,r,n,o,s)}(e,t,r,n,Ee,o))}function Te(e){return!(!$e(e)||function(e){return!!Q&&Q in e}(e))&&(Ve(e)?X:A).test(We(e))}function ke(e){if(!function(e){var t=e&&e.constructor,r="function"==typeof t&&t.prototype||H;return e===r}(e))return se(e);var t=[];for(var r in Object(e))K.call(e,r)&&"constructor"!=r&&t.push(r);return t}function Me(e,t,r,n,o,s){var u=r&i,c=e.length,l=t.length;if(c!=l&&!(u&&l>c))return!1;var f=s.get(e);if(f&&s.get(t))return f==t;var d=-1,p=!0,h=r&a?new Oe:void 0;for(s.set(e,t),s.set(t,e);++d<c;){var g=e[d],m=t[d];if(n)var y=u?n(m,g,d,t,e,s):n(g,m,d,e,t,s);if(void 0!==y){if(y)continue;p=!1;break}if(h){if(!W(t,function(e,t){if(!q(h,t)&&(g===e||o(g,e,r,n,s)))return h.push(t)})){p=!1;break}}else if(g!==m&&!o(g,m,r,n,s)){p=!1;break}}return s.delete(e),s.delete(t),p}function De(e){return function(e,t,r){var n=t(e);return Be(e)?n:function(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e}(n,r(e))}(e,Qe,Le)}function Re(e,t){var r=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?r["string"==typeof t?"string":"hash"]:r.map}function Fe(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return Te(r)?r:void 0}we.prototype.clear=function(){this.__data__=pe?pe(null):{},this.size=0},we.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},we.prototype.get=function(e){var t=this.__data__;if(pe){var r=t[e];return r===o?void 0:r}return K.call(t,e)?t[e]:void 0},we.prototype.has=function(e){var t=this.__data__;return pe?void 0!==t[e]:K.call(t,e)},we.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=pe&&void 0===t?o:t,this},_e.prototype.clear=function(){this.__data__=[],this.size=0},_e.prototype.delete=function(e){var t=this.__data__,r=Pe(t,e);return!(r<0||(r==t.length-1?t.pop():ne.call(t,r,1),--this.size,0))},_e.prototype.get=function(e){var t=this.__data__,r=Pe(t,e);return r<0?void 0:t[r][1]},_e.prototype.has=function(e){return Pe(this.__data__,e)>-1},_e.prototype.set=function(e,t){var r=this.__data__,n=Pe(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},Ie.prototype.clear=function(){this.size=0,this.__data__={hash:new we,map:new(ce||_e),string:new we}},Ie.prototype.delete=function(e){var t=Re(this,e).delete(e);return this.size-=t?1:0,t},Ie.prototype.get=function(e){return Re(this,e).get(e)},Ie.prototype.has=function(e){return Re(this,e).has(e)},Ie.prototype.set=function(e,t){var r=Re(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},Oe.prototype.add=Oe.prototype.push=function(e){return this.__data__.set(e,o),this},Oe.prototype.has=function(e){return this.__data__.has(e)},xe.prototype.clear=function(){this.__data__=new _e,this.size=0},xe.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},xe.prototype.get=function(e){return this.__data__.get(e)},xe.prototype.has=function(e){return this.__data__.has(e)},xe.prototype.set=function(e,t){var r=this.__data__;if(r instanceof _e){var o=r.__data__;if(!ce||o.length<n-1)return o.push([e,t]),this.size=++r.size,this;r=this.__data__=new Ie(o)}return r.set(e,t),this.size=r.size,this};var Le=ie?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var r=-1,n=null==e?0:e.length,o=0,i=[];++r<n;){var a=e[r];t(a,r,e)&&(i[o++]=a)}return i}(ie(e),function(t){return re.call(e,t)}))}:function(){return[]},Ne=Ae;function Ue(e,t){return!!(t=null==t?s:t)&&("number"==typeof e||j.test(e))&&e>-1&&e%1==0&&e<t}function We(e){if(null!=e){try{return J.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function qe(e,t){return e===t||e!=e&&t!=t}(ue&&Ne(new ue(new ArrayBuffer(1)))!=P||ce&&Ne(new ce)!=m||le&&"[object Promise]"!=Ne(le.resolve())||fe&&Ne(new fe)!=_||de&&"[object WeakMap]"!=Ne(new de))&&(Ne=function(e){var t=Ae(e),r=t==b?e.constructor:void 0,n=r?We(r):"";if(n)switch(n){case he:return P;case ge:return m;case me:return"[object Promise]";case ye:return _;case ve:return"[object WeakMap]"}return t});var ze=je(function(){return arguments}())?je:function(e){return Je(e)&&K.call(e,"callee")&&!re.call(e,"callee")},Be=Array.isArray;var Ge=ae||function(){return!1};function Ve(e){if(!$e(e))return!1;var t=Ae(e);return t==h||t==g||t==l||t==S}function He(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=s}function $e(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Je(e){return null!=e&&"object"==typeof e}var Ke=U?function(e){return function(t){return e(t)}}(U):function(e){return Je(e)&&He(e.length)&&!!E[Ae(e)]};function Qe(e){return function(e){return null!=e&&He(e.length)&&!Ve(e)}(e)?Ce(e):ke(e)}r.exports=function(e,t){return Ee(e,t)}}).call(this,r(8),r(93)(e))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Page="pages",e.View="views",e.Dialog="dialogs",e.Header="header",e.Footer="footer"}(t.ContainerType||(t.ContainerType={})),t.DEFAULT_EMBED_LAYOUT_NAME="DEFAULT",function(e){e.Normal="NORMAL",e.Folder="FOLDER",e.Link="LINK"}(t.PageType||(t.PageType={})),function(e){e.FitWindow="FIT_WINDOW",e.AutoScroll="AUTO_SCROLL"}(t.PageMode||(t.PageMode={}))},function(e,t,r){"use strict";r.r(t),r.d(t,"ThemeProvider",function(){return d}),r.d(t,"withTheme",function(){return h});var n=r(30),o=r.n(n),i=r(1),a=r(21),s=r(70),u=r.n(s),c=r(126),l=r.n(c),f=u()(function(e){return u()(function(t){return function(e,t){return"function"==typeof t?t(e):o()({},e,t)}(e,t)})}),d=function(e){return Object(i.createElement)(a.ThemeContext.Consumer,null,function(t){return e.theme!==t&&(t=f(t)(e.theme)),Object(i.createElement)(a.ThemeContext.Provider,{value:t},e.children)})};function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var h=function(e){var t=e.displayName||e.name||"Component",r=Object(i.forwardRef)(function(t,r){return Object(i.createElement)(a.ThemeContext.Consumer,null,function(n){return Object(i.createElement)(e,p({theme:n,ref:r},t))})});return r.displayName="WithTheme("+t+")",l()(r,e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(98),o=r(44),i=function(){function e(){this.state={}}return e.getInstance=function(){return e.instance||(e.instance=new e,window._mutableStoreManager=e.instance),e.instance},e.prototype.updateStateValue=function(e,t){n(this.state,e,t)},e.prototype.getStateValue=function(e){return o(this.state,e)},e.prototype.getState=function(){return this.state},e}();t.default=i},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r(1),a=r(249),s=r(13),u=r(9),c=r(42),l=r(56),f=r(16),d=r(99),p=r(19);function h(e){u.getAppStore().getState().dataSourcesInfo[e]&&u.getAppStore().getState().dataSourcesInfo[e].selectedIds&&u.getAppStore().dispatch(s.dataSourceSelectedIdsChanged(e,null)),u.getAppStore().getState().dataSourcesInfo[e]&&u.getAppStore().getState().dataSourcesInfo[e].selectedIndexes&&u.getAppStore().dispatch(s.dataSourceSelectedIndexesChanged(e,null))}t.browserHistory=document&&a.createBrowserHistory(),d.listenForMessage(d.ListenMessageType.ChangePage,function(e){y(e.pageId)}),d.listenForMessage(d.ListenMessageType.ChangeQuery,function(e){m(e.queryObject)}),t.browserHistory&&t.browserHistory.listen(function(e,t){var r=u.getAppStore().getState().queryObject.asMutable();if(e.pathname!==u.getAppStore().getState().appPath){u.getAppStore().dispatch(s.appPathChanged(e.pathname));var n=f.parseAppPath(e.pathname).pageId;d.postPageChangeMessage(n)}var o=c.parse(e.search);if(!l(r,o)){u.getAppStore().dispatch(s.queryObjectChanged(o));var i=f.getDataSourceInfosFromQueryObject(o),a=u.getAppStore().getState().dataSourcesInfo;i?(Object.keys(i).forEach(function(e){var t=i[e],r=a&&a[e];"id"===t.selectionType?r&&p.isArrayContainSameItems(t.selection,r.selectedIds.asMutable())||u.getAppStore().dispatch(s.dataSourceSelectedIdsChanged(e,t.selection)):r&&p.isArrayContainSameItems(t.selection,r.selectedIndexes.asMutable())||u.getAppStore().dispatch(s.dataSourceSelectedIndexesChanged(e,t.selection))}),a&&Object.keys(a).filter(function(e){return Object.keys(i).indexOf(e)<0}).forEach(function(e){h(e)})):a&&Object.keys(a).forEach(function(e){h(e)}),d.postQueryChangeMessage(o)}});var g=i.createContext(t.browserHistory);function m(e,r){if(void 0===r&&(r=!1),!p.isDeepEqual(e,u.getAppStore().getState().queryObject)){var n=u.getAppStore().getState().queryObject.merge(e),o=f.createLocation(t.browserHistory.location,"?"+c.stringify(n)),i=t.browserHistory.createHref(o);r?t.browserHistory.replace(i):t.browserHistory.push(i)}}function y(e){f.parseAppPath().pageId!==e&&t.browserHistory.push(f.getPageLinkUrl(e,u.getAppStore().getState().queryObject))}t.HistoryProvider=function(e){return i.createElement(g.Provider,{value:t.browserHistory},e.children)},t.withHistory=function(e){return function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return n(r,t),r.prototype.render=function(){var t=this;return i.createElement(g.Consumer,null,function(r){return i.createElement(e,o({},t.props,{history:r}))})},r.displayName="HistoryComponent("+e.displayName+")",r}(i.PureComponent)},t.changeQueryObject=m,t.replaceQueryObject=function(e,r){void 0===r&&(r=!1);var n=f.createLocation(t.browserHistory.location,"?"+c.stringify(e)),o=t.browserHistory.createHref(n);r?t.browserHistory.replace(o):t.browserHistory.push(o)},t.changePage=y,t.changeView=function(e,t){var r=u.getAppStore().getState().queryObject.views?u.getAppStore().getState().queryObject.views.split(","):[];if(!(r.indexOf(t)>-1))return(r=r.filter(function(t){return u.getAppStore().getState().appConfig.sections[e].views.indexOf(t)<0})).push(t),m({views:r.join(",")})},t.changeDialog=function(e){return m({dlg:e})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(7);function o(e,t){if(void 0===t&&(t=[]),e)return e=e.toLowerCase(),t.indexOf(e)>-1?e:t.find(function(t){return i(t,e)})}function i(e,t){return e.split("-")[0]===t.split("-")[0]}t.getLocaleToLoad=function(e,t){var r=o(e=e.toLowerCase(),t);return r?r===(t&&t[0])?void 0:r:void 0},t.getBrowserLanguage=function(e){if(e){var t,r,n=["language","browserLanguage","systemLanguage","userLanguage"];if(Array.isArray(e.languages)&&e.languages.length>0&&(r=e.languages[0])&&r.length)return r;for(t=0;t<n.length;t++)if((r=e[n[t]])&&r.length)return r}},t.getSupportedLocale=o,t.isSameLanguage=i,t.loadLocaleMessages=function(e,t){return n.loadModule(e+"/"+t)},t.loadLocaleData=function(e){var t=e.split("-")[0];return n.loadModule("jimu-core/locale-data/"+t+".js").catch(function(e){return Promise.resolve(null)})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(33),o=r(27),i=r(7),a={},s={};function u(e){if(s[e])return s[e];var t=[],r=n.default.getInstance().getExtensions(o.ExtensionPoints.DependencyDefine).filter(function(t){return t.getDependencyKey()===e})[0];r?t=t.concat(r.getResources()):/^http/.test(e)?t.push({url:e}):console.error("Unknown dependency.",e);var u=[];return t.forEach(function(e){a[e.url]?u.push(a[e.url]):u.push(function e(t){if(t.dependencies&&t.dependencies.length>0)return Promise.all(t.dependencies.map(function(t){return e(t)})).then(function(){return delete t.dependencies,e(t)});a[t.url]=i.loadModule(t.url);return a[t.url]}(e))}),s[e]=Promise.all(u).then(function(e){})}t.loadDependency=u,t.loadDependencies=function(e){return Promise.all(e.map(function(e){return u(e)})).then(function(){})}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,i){function a(e){try{u(n.next(e))}catch(e){i(e)}}function s(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(a,s)}u((n=n.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(9),a=r(7),s=function(){function e(){this.actions=[],this.actionClassPromises={}}return e.getInstance=function(){return e.instance||(e.instance=new e,window._messageManager=e.instance),e.instance},e.prototype.getActions=function(){return this.actions},e.prototype.destroyWidgetActions=function(e){this.actions=this.actions.filter(function(t){return t.destroy(),t.widgetId!==e})},e.prototype.registerWidgetActions=function(e){var t=this,r=[];return e.manifest.messageActions&&e.manifest.messageActions.forEach(function(n){var o;o=e.context.isRemote?e.context.folderUrl+"dist/"+n.uri+".js":e.uri+"dist/"+n.uri,r.push(t.registerAction({id:e.id+"-"+n.name,name:n.name,uri:o,widgetId:e.id,label:e.manifest.i18nMessages["_action_"+n.name+"_label"]||n.label}))}),Promise.all(r)},e.prototype.registerAction=function(e){var t=this,r=this.actions.find(function(t){return t.id===e.id});if(r)return Promise.resolve(r);return(e.ActionClass?Promise.resolve(e.ActionClass):t.loadActionClass(e.uri)).then(function(n){return r=new n({id:e.id,name:e.name,widgetId:e.widgetId,label:e.label}),t.actions.push(r),Promise.resolve(r)})},e.prototype.loadActionClass=function(e){return this.actionClassPromises[e]?this.actionClassPromises[e]:(this.actionClassPromises[e]=a.loadModule(e).then(function(e){return e.default}),this.actionClassPromises[e])},e.prototype.publishMessage=function(e){return n(this,void 0,void 0,function(){var t,r,n,a,s,u;return o(this,function(c){switch(c.label){case 0:if(t=i.getAppStore().getState().appConfig.messages,!(r=t&&t.filter(function(t){return t.messageType===e.type&&t.widgetId===e.widgetId})[0]))return[2];n=function(t){var n,i;return o(this,function(o){switch(o.label){case 0:return n=r.actions[t],(i=a.actions.filter(function(e){return e.widgetId===n.widgetId&&e.name===n.actionName})[0])?i.filterMessage(e)?[4,a.exeAction(i,e,n.config)]:[2,"break"]:(console.error("Not find action: "+n.actionName),[2,"break"]);case 1:return o.sent()?[2]:[2,{value:void 0}]}})},a=this,s=0,c.label=1;case 1:return s<r.actions.length?[5,n(s)]:[3,4];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];if("break"===u)return[3,4];c.label=3;case 3:return s++,[3,1];case 4:return[2]}})})},e.prototype.exeAction=function(e,t,r){var n=e.onExecute(t,r);return n&&n instanceof Promise?n.then(function(e){return e},function(e){return console.error(e),Promise.resolve(!1)}):Promise.resolve(n)},e}();t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(7),o=function(){function e(){this.actions=[],this.actionClassPromises={}}return e.getInstance=function(){return e.instance||(e.instance=new e,window._dataActionManager=e.instance),e.instance},e.prototype.getActions=function(){return this.actions},e.prototype.getSupportedActions=function(e,t){var r=this;void 0===t&&(t=[]);var n=this.actions.map(function(n){return r.testActionSupportData(n,e,t).then(function(e){return{action:n,result:e}})});return Promise.all(n).then(function(e){return e.filter(function(e){return e.result}).map(function(e){return e.action})})},e.prototype.testActionSupportData=function(e,t,r){var n=e.isSupported(t,r);return n&&n instanceof Promise?n.then(function(e){return e},function(e){return console.error(e),Promise.resolve(!1)}):Promise.resolve(n)},e.prototype.registerAction=function(e){var t=this,r=this.actions.find(function(t){return t.id===e.id});if(r)return Promise.resolve(r);return(e.ActionClass?Promise.resolve(e.ActionClass):t.loadActionClass(e.uri)).then(function(r){var n=new r({id:e.id,name:e.name,widgetId:e.widgetId});return t.actions.push(n),n})},e.prototype.registerWidgetActions=function(e){var t=this;return e.uri&&e.manifest.dataActions&&0!==e.manifest.dataActions.length?Promise.all(e.manifest.dataActions.map(function(r){var n;n=e.context.isRemote?e.context.folderUrl+"dist/"+r.uri+".js":e.uri+"dist/"+r.uri;var o=e.id+"-"+r.name;return t.registerAction({id:o,name:r.name,uri:n,widgetId:e.id,label:e.manifest.i18nMessages["_action_"+r.name+"_label"]||r.label})})):Promise.resolve([])},e.prototype.destroyWidgetActions=function(e){this.actions=this.actions.filter(function(t){return t.destroy(),t.widgetId!==e})},e.prototype.getActionsByWidgetId=function(e){return this.actions.filter(function(t){return t.widgetId===e})},e.prototype.loadActionClass=function(e){return this.actionClassPromises[e]?this.actionClassPromises[e]:(this.actionClassPromises[e]=n.loadModule(e).then(function(e){return e.default}),this.actionClassPromises[e])},e}();t.default=o},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o,i=r(39);!function(e){e.StringSelectionChange="STRING_SELECTION_CHANGE",e.ExtentChange="EXTENT_CHANGE",e.DataRecordsSelectionChange="DATA_RECORDS_SELECTION_CHANGE",e.SpatialDataRecordsSelectionChange="SPATIAL_DATA_RECORDS_SELECTION_CHANGE",e.DataRecordSetCreate="DATA_RECORD_SET_CREATE",e.SpatialDataRecordSetCreate="SPATIAL_DATA_RECORD_SET_CREATE",e.DataRecordSetUpdate="DATA_RECORD_SET_UPDATE",e.SpatialDataRecordSetUpdate="SPATIAL_DATA_RECORD_SET_UPDATE",e.SelectDataRecord="SELECT_DATA_RECORD"}(o=t.MessageType||(t.MessageType={})),t.getMessageTypeLabel=function(e,t){return{STRING_SELECTION_CHANGE:t.formatMessage({id:"message_StringSelectionChange",defaultMessage:i.default.message_StringSelectionChange}),EXTENT_CHANGE:t.formatMessage({id:"message_ExtentChange",defaultMessage:i.default.message_ExtentChange}),DATA_RECORDS_SELECTION_CHANGE:t.formatMessage({id:"message_DataRecordsSelectionChange",defaultMessage:i.default.message_DataRecordsSelectionChange}),SPATIAL_DATA_RECORDS_SELECTION_CHANGE:t.formatMessage({id:"message_SpatialDataRecordsSelectionChange",defaultMessage:i.default.message_SpatialDataRecordsSelectionChange}),DATA_RECORD_SET_CREATE:t.formatMessage({id:"message_DataRecordSetCreate",defaultMessage:i.default.message_DataRecordSetCreate}),SPATIAL_DATA_RECORD_SET_CREATE:t.formatMessage({id:"message_SpatialDataRecordSetCreate",defaultMessage:i.default.message_SpatialDataRecordSetCreate}),DATA_RECORD_SET_UPDATE:t.formatMessage({id:"message_DataRecordSetUpdate",defaultMessage:i.default.message_DataRecordSetUpdate}),SPATIAL_DATA_RECORD_SET_UPDATE:t.formatMessage({id:"message_SpatialDataRecordSetUpdate",defaultMessage:i.default.message_SpatialDataRecordSetUpdate}),SELECT_DATA_RECORD:t.formatMessage({id:"message_SelectDataRecord",defaultMessage:i.default.message_SelectDataRecord})}[e]};var a=function(){return function(e,t){this.type=o.StringSelectionChange,this.widgetId=e,this.str=t}}();t.StringSelectionChangeMessage=a;var s=function(){return function(e,t){this.type=o.DataRecordsSelectionChange,this.widgetId=e,this.records=t}}();t.DataRecordsSelectionChangeMessage=s;var u=function(){return function(e,t){this.type=o.SpatialDataRecordsSelectionChange,this.widgetId=e,this.records=t}}();t.SpatialDataRecordsSelectionChangeMessage=u;var c=function(){function e(e,t){this.type=o.ExtentChange,this.widgetId=e,this.extent=t,this.relatedWidgetIds=[]}return e.prototype.setRelatedWidgetIds=function(e){this.relatedWidgetIds=e},e.prototype.getRelatedWidgetIds=function(){return this.relatedWidgetIds},e.prototype.addRelatedWidgetId=function(e){-1===this.relatedWidgetIds.indexOf(e)&&this.relatedWidgetIds.push(e)},e}();t.ExtentChangeMessage=c;var l=function(){return function(e,t,r){this.type=o.DataRecordSetCreate,this.widgetId=e,this.dataRecordSetId=t,this.dataRecordSet=r}}();t.DataRecordSetCreateMessage=l;var f=function(){return function(e,t,r){this.type=o.SpatialDataRecordSetCreate,this.widgetId=e,this.dataRecordSetId=t,this.dataRecordSet=r}}();t.SpatialDataRecordSetCreateMessage=f;var d=function(){return function(e,t,r){this.type=o.DataRecordSetUpdate,this.widgetId=e,this.dataRecordSetId=t,this.dataRecordSet=r}}();t.DataRecordSetUpdateMessage=d;var p=function(){return function(e,t,r){this.type=o.SpatialDataRecordSetUpdate,this.widgetId=e,this.dataRecordSetId=t,this.dataRecordSet=r}}();t.SpatialDataRecordSetUpdateMessage=p;var h=function(){return function(e,t,r){this.type=o.SelectDataRecord,this.widgetId=e,this.dataSourceId=t,this.recordId=r}}();t.SelectDataRecordMessage=h;var g=function(){function e(e){this.id=e.id,e.name&&(this.name=e.name),e.widgetId&&(this.widgetId=e.widgetId),this.label=e.label}return e.prototype.destroy=function(){},e}();t.AbstractMessageAction=g;var m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.filterMessageType=function(e){return!0},t.prototype.filterMessage=function(e){return!0},t.prototype.onExecute=function(e,t){return!0},t}(g);t.DummyMessageAction=m},function(e,t,r){"use strict";r.r(t);var n=r(0),o=r(88),i=r(86),a=r(87);function s(e){return void 0===e&&(e={}),e.portal?Object(a.a)(e.portal):e.authentication?e.authentication.portal:"https://www.arcgis.com/sharing/rest"}function u(e){var t=JSON.parse(JSON.stringify(e));return t.data&&("undefined"!=typeof Blob&&e.data instanceof Blob||"ReadStream"===e.data.constructor.name?t.file=e.data:t.text=e.data,delete t.data),t}function c(e){return e.owner?e.owner:e.item&&e.item.owner?e.item.owner:e.authentication.username}function l(e){var t=c(e),r=s(e)+"/content/users/"+t+"/items/"+e.item.id+"/update";return e.params=n.a({},e.params,u(e.item)),Object(i.d)(r,e)}function f(e){var t=c(e),r=s(e)+"/content/users/"+t+"/items/"+e.id+"/updateResources";return e.params=n.a({file:e.resource,fileName:e.name,text:e.content},e.params),void 0!==e.private&&(e.params.access=e.private?"private":"inherit"),Object(i.d)(r,e)}function d(e){var t=c(e),r=s(e)+"/content/users/"+t+"/items/"+e.itemId+"/move",o=e.folderId;return o||(o="/"),e.params=n.a({folder:o},e.params),Object(i.d)(r,e)}function p(e){c(e);var t=n.a({item:{id:e.id,data:e.data}},e);return delete t.id,delete t.data,l(t)}function h(e){var t=c(e),r=s(e)+"/content/users/"+t+"/addRelationship",a=Object(o.a)(e,["originItemId","destinationItemId","relationshipType"],{params:n.a({},e.params)});return Object(i.d)(r,a)}function g(e){var t=c(e),r=s(e)+"/content/users/"+t+"/items/"+e.id+"/addResources";return e.params=n.a({file:e.resource,fileName:e.name,text:e.content,access:e.private?"private":"inherit"},e.params),Object(i.d)(r,e)}function m(e){var t=c(e),r=s(e)+"/content/users/"+t+"/createFolder";return e.params=n.a({title:e.title},e.params),Object(i.d)(r,e)}function y(e){var t=c(e),r=s(e)+"/content/users/"+t,o=r+"/addItem";return e.folderId&&(o=r+"/"+e.folderId+"/addItem"),e.params=n.a({},e.params,u(e.item)),Object(i.d)(o,e)}function v(e){return y(n.a({folderId:null},e))}function b(e,t){var r=s(t)+"/content/items/"+e,o=n.a({httpMethod:"GET"},t);return Object(i.d)(r,o)}function S(e,t){var r=s(t)+"/content/items/"+e+"/data",o=n.a({httpMethod:"GET",params:{}},t);return o.file&&(o.params.f=null),Object(i.d)(r,o).catch(function(e){if(!RegExp(/Unexpected end of (JSON input|data at line 1 column 1)/i).test(e.message))throw e})}function w(e){var t=s(e)+"/content/items/"+e.id+"/relatedItems",r=n.a({httpMethod:"GET",params:{direction:e.direction}},e);return"string"==typeof e.relationshipType?r.params.relationshipType=e.relationshipType:r.params.relationshipTypes=e.relationshipType,delete r.direction,delete r.relationshipType,Object(i.d)(t,r)}function _(e,t){var r=s(t)+"/content/items/"+e+"/resources";return t.params=n.a({},t.params,{num:1e3}),Object(i.d)(r,t)}function I(e,t){var r=s(t)+"/content/items/"+e+"/groups";return Object(i.d)(r,t)}function O(e){var t=c(e),r=s(e)+"/content/users/"+t+"/items/"+e.id+"/protect";return Object(i.d)(r,e)}function x(e){var t=c(e),r=s(e)+"/content/users/"+t+"/items/"+e.id+"/unprotect";return Object(i.d)(r,e)}function C(e){var t=c(e),r=s(e)+"/content/users/"+t+"/items/"+e.id+"/delete";return Object(i.d)(r,e)}function P(e){var t=c(e),r=s(e)+"/content/users/"+t+"/removeRelationship",a=Object(o.a)(e,["originItemId","destinationItemId","relationshipType"],{params:n.a({},e.params)});return Object(i.d)(r,a)}function A(e){var t=c(e),r=s(e)+"/content/users/"+t+"/items/"+e.id+"/removeResources";return e.params=n.a({},e.params,{resource:e.resource}),Object(i.d)(r,e)}function j(e){var t=c(e),r=s(e)+"/content/users/"+encodeURIComponent(t)+"/"+e.folderId+"/delete";return Object(i.d)(r,e)}var E=r(49),T=function(){function e(e){void 0===e&&(e=""),this.termStack=[],this.rangeStack=[],this.openGroups=0,this.q=e}return e.prototype.match=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.termStack=this.termStack.concat(e),this},e.prototype.in=function(e){var t="`in("+(e?'"'+e+'"':"")+")`";return this.hasRange||this.hasTerms?(e&&"*"!==e&&(this.q+=e+":"),this.commit()):(Object(E.a)(t+" was called with no call to `match(...)` or `from(...)`/`to(...)`. Your query was not modified."),this)},e.prototype.startGroup=function(){return this.commit(),this.openGroups>0&&(this.q+=" "),this.openGroups++,this.q+="(",this},e.prototype.endGroup=function(){return this.openGroups<=0?(Object(E.a)("`endGroup(...)` was called without calling `startGroup(...)` first. Your query was not modified."),this):(this.commit(),this.openGroups--,this.q+=")",this)},e.prototype.and=function(){return this.addModifier("and")},e.prototype.or=function(){return this.addModifier("or")},e.prototype.not=function(){return this.addModifier("not")},e.prototype.from=function(e){return this.hasTerms?(Object(E.a)("`from(...)` is not allowed after `match(...)` try using `.from(...).to(...).in(...)`. Your query was not modified."),this):(this.rangeStack[0]=e,this)},e.prototype.to=function(e){return this.hasTerms?(Object(E.a)("`to(...)` is not allowed after `match(...)` try using `.from(...).to(...).in(...)`. Your query was not modified."),this):(this.rangeStack[1]=e,this)},e.prototype.boost=function(e){return this.commit(),this.q+="^"+e,this},e.prototype.toParam=function(){return this.commit(),this.cleanup(),this.q},e.prototype.clone=function(){return this.commit(),this.cleanup(),new e(this.q+"")},e.prototype.addModifier=function(e){return this.currentModifer?(Object(E.a)("You have called `"+this.currentModifer+"()` after `"+e+"()`. Your current query was not modified."),this):(this.commit(),""===this.q&&"not"!==e?(Object(E.a)("You have called `"+e+"()` without calling another method to modify your query first. Try calling `match()` first."),this):(this.currentModifer=e,this.q+=""===this.q?"":" ",this.q+=e.toUpperCase()+" ",this))},e.prototype.hasWhiteSpace=function(e){return/\s/g.test(e)},e.prototype.formatTerm=function(e){return e instanceof Date?e.getTime():"string"==typeof e&&this.hasWhiteSpace(e)?'"'+e+'"':e},e.prototype.commit=function(){var e=this;return this.currentModifer=void 0,this.hasRange&&(this.q+="["+this.formatTerm(this.rangeStack[0])+" TO "+this.formatTerm(this.rangeStack[1])+"]",this.rangeStack=[void 0,void 0]),this.hasTerms&&(this.q+=this.termStack.map(function(t){return e.formatTerm(t)}).join(" "),this.termStack=[]),this},Object.defineProperty(e.prototype,"hasTerms",{get:function(){return this.termStack.length>0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasRange",{get:function(){return this.rangeStack.length&&this.rangeStack[0]&&this.rangeStack[1]},enumerable:!0,configurable:!0}),e.prototype.cleanup=function(){if(this.openGroups>0)for(Object(E.a)("Automatically closing "+this.openGroups+" group(s). You can use `endGroup(...)` to remove this warning.");this.openGroups>0;)this.q+=")",this.openGroups--;var e=this.q;this.q=e.replace(/( AND ?| NOT ?| OR ?)*$/,""),e!==this.q&&Object(E.a)("`startGroup(...)` was called without calling `endGroup(...)` first. Your query was not modified."),this.q=this.q.replace(/(\(\))*/,"")},e}();function k(e,t){var r,n;return r=s(n="string"==typeof e||e instanceof T?{httpMethod:"GET",params:{q:e}}:Object(o.a)(e,["q","num","start","sortField","sortOrder"],{httpMethod:"GET"}))+("item"===t?"/search":"/community/groups"),Object(i.d)(r,n).then(function(r){return r.nextStart&&-1!==r.nextStart&&(r.nextPage=function(){var n;return"string"==typeof e||e instanceof T?n={q:e,start:r.nextStart}:(n=e).start=r.nextStart,k(n,t)}),r})}function M(e){return k(e,"item")}function D(e){var t=e.id,r=s(e)+"/community/groups/"+t+"/addUsers",n=Object.assign({},e,{admins:void 0,users:void 0}),o=R("users",e.users,n).concat(R("admins",e.admins,n)).map(function(e){return function(e,t){return Object(i.d)(e,t).catch(function(e){return{errors:[e]}})}(r,e)});return Promise.all(o).then(F)}function R(e,t,r){return!t||t.length<1?[]:function(e,t){if(0===e.length)return[];for(var r=[],n=0;n<e.length;n+=t)r.push(e.slice(n,n+t));return r}(t,25).map(function(t){return function(e,t,r){var o,i;return Object.assign({},r,((o={})[e]=t,o.params=n.a({},r.params,((i={})[e]=t,i)),o))}(e,t,r)})}function F(e){var t=e.filter(function(e){return e.notAdded}).reduce(function(e,t){return e.concat(t.notAdded)},[]),r=e.filter(function(e){return e.errors}).reduce(function(e,t){return e.concat(t.errors)},[]),n={notAdded:t};return r.length>0&&(n.errors=r),n}function L(e){var t=s(e)+"/community/createGroup";return e.params=n.a({},e.params,e.group),Object(i.d)(t,e)}function N(e,t){var r=s(t)+"/community/groups/"+e,o=n.a({httpMethod:"GET"},t);return Object(i.d)(r,o)}function U(e,t){var r=s(t)+"/content/groups/"+e,o=n.a({httpMethod:"GET"},{params:{start:1,num:100}},t);return t&&t.paging&&(o.params=n.a({},t.paging)),Object(i.d)(r,o)}function W(e,t){var r=s(t)+"/community/groups/"+e+"/users",o=n.a({httpMethod:"GET"},t);return Object(i.d)(r,o)}function q(e){var t=s(e)+"/community/groups/"+e.id+"/createNotification",r=n.a({params:n.a({subject:e.subject,message:e.message,users:e.users,notificationChannelType:e.notificationChannelType||"email",clientId:e.clientId,silentNotification:e.silentNotification,notifyAll:!e.users||0===e.users.length},e.params)},e);return Object(i.d)(t,r)}function z(e){var t=s(e)+"/community/groups/"+e.id+"/protect";return Object(i.d)(t,e)}function B(e){var t=s(e)+"/community/groups/"+e.id+"/unprotect";return Object(i.d)(t,e)}function G(e){var t=s(e)+"/community/groups/"+e.id+"/delete",r=n.a({},e);return Object(i.d)(t,r)}function V(e){return k(e,"group")}function H(e){var t=s(e)+"/community/groups/"+e.group.id+"/update";return e.params=n.a({},e.params,e.group),Object(i.d)(t,e)}function $(e){var t=s(e)+"/community/groups/"+e.id+"/join";return Object(i.d)(t,e)}function J(e){var t=s(e)+"/community/groups/"+e.id+"/leave";return Object(i.d)(t,e)}function K(e){var t,r={httpMethod:"GET"};if("string"==typeof e)t="https://www.arcgis.com/sharing/rest/community/users/"+e;else{var o=e.username||e.authentication.username;t=s(e)+"/community/users/"+encodeURIComponent(o),r=n.a({},e,r)}return Object(i.d)(t,r)}function Q(e){return s(e)+"/community/users/"+encodeURIComponent(e.username)}function Y(e){var t={httpMethod:"GET"},r=encodeURIComponent(e.authentication.username),o=s(e)+"/community/users/"+r+"/invitations";return t=n.a({},e,t),Object(i.d)(o,t)}function X(e){var t=encodeURIComponent(e.authentication.username),r=s(e)+"/community/users/"+t+"/invitations/"+e.invitationId,o={httpMethod:"GET"};return o=n.a({},e,o),Object(i.d)(r,o)}function Z(e){var t=encodeURIComponent(e.authentication.username),r=s(e)+"/community/users/"+t+"/invitations/"+e.invitationId+"/accept",o=n.a({},e);return Object(i.d)(r,o)}function ee(e){var t=encodeURIComponent(e.authentication.username),r=s(e)+"/community/users/"+t+"/invitations/"+e.invitationId+"/decline",o=n.a({},e);return Object(i.d)(r,o)}function te(e){var t={httpMethod:"GET"},r=encodeURIComponent(e.authentication.username),o=s(e)+"/community/users/"+r+"/notifications";return t=n.a({},e,t),Object(i.d)(o,t)}function re(e){var t=encodeURIComponent(e.authentication.username),r=s(e)+"/community/users/"+t+"/notifications/"+e.id+"/delete";return Object(i.d)(r,e)}function ne(e){var t=e.user.username||e.authentication.username,r=s(e)+"/community/users/"+encodeURIComponent(t)+"/update";return e.params=n.a({},e.user,e.params),delete e.user,Object(i.d)(r,e)}function oe(e){var t=e.authentication.username,r=e.owner||t;return s(e)+"/content/users/"+encodeURIComponent(r)+"/items/"+e.id+"/share"}function ie(e){var t=e.authentication.username;return(e.owner||t)===t}function ae(e){return e.authentication.getUser(e).then(function(e){return!(!e||"org_admin"!==e.role)})}function se(e){return N(e.groupId,e).then(function(e){return e.userMembership.memberType}).catch(function(){return"nonmember"})}function ue(e){var t=oe(e);return ie(e)?ce(t,e):ae(e).then(function(r){if(r)return ce(t,e);throw Error("This item can not be shared by "+e.authentication.username+". They are neither the item owner nor an organization admin.")})}function ce(e,t){return t.params=n.a({org:!1,everyone:!1},t.params),"private"===t.access&&(t.params.groups=" "),"org"===t.access&&(t.params.org=!0),"public"===t.access&&(t.params.org=!0,t.params.everyone=!0),Object(i.d)(e,t)}function le(e){return de(n.a({action:"share"},e))}function fe(e){return de(n.a({action:"unshare"},e))}function de(e){var t=e.authentication.username,r=e.owner||t;return ae(e).then(function(o){var a="share"===e.action?"notSharedWith":"notUnsharedFrom";return function(e){var t={q:"id: "+e.id+" AND group: "+e.groupId,start:1,num:10,sortField:"title"},r=n.a({},e,{rawResponse:!1});r.params=n.a({},t,e.params);var o=s(r)+"/search";return Object(i.d)(o,r).then(function(t){return 0!==t.total&&(t.results.some(function(t){var n=t.id===e.id;return n&&(r=t),n}),!!r);var r})}(e).then(function(n){if("share"===e.action&&!0===n||"unshare"===e.action&&!1===n){var u={itemId:e.id,shortcut:!0};return u[a]=[],u}return se(e).then(function(n){if("nonmember"===n)throw Error("This item can not be "+e.action+"d by "+t+" as they are not a member of the specified group "+e.groupId+".");if(r===t)return s(e)+"/content/users/"+r+"/items/"+e.id+"/"+e.action;if("admin"===n||"owner"===n||o)return s(e)+"/content/items/"+e.id+"/"+e.action;throw Error("This item can not be "+e.action+"d by "+t+" as they are neither the owner, a groupAdmin of "+e.groupId+", nor an org_admin.")}).then(function(t){return e.params={groups:e.groupId,confirmItemControl:e.confirmItemControl},Object(i.d)(t,e)}).then(function(t){if(t[a].length)throw Error("Item "+e.id+" could not be "+e.action+"d to group "+e.groupId+".");return t})})})}function pe(e){return he(null,e)}function he(e,t){var r=e||"self",o=s(t)+"/portals/"+r,a=n.a({httpMethod:"GET"},t);return Object(i.d)(o,a)}r.d(t,"addItemData",function(){return p}),r.d(t,"addItemRelationship",function(){return h}),r.d(t,"addItemResource",function(){return g}),r.d(t,"createFolder",function(){return m}),r.d(t,"createItemInFolder",function(){return y}),r.d(t,"createItem",function(){return v}),r.d(t,"getItem",function(){return b}),r.d(t,"getItemData",function(){return S}),r.d(t,"getRelatedItems",function(){return w}),r.d(t,"getItemResources",function(){return _}),r.d(t,"getItemGroups",function(){return I}),r.d(t,"protectItem",function(){return O}),r.d(t,"unprotectItem",function(){return x}),r.d(t,"removeItem",function(){return C}),r.d(t,"removeItemRelationship",function(){return P}),r.d(t,"removeItemResource",function(){return A}),r.d(t,"removeFolder",function(){return j}),r.d(t,"searchItems",function(){return M}),r.d(t,"updateItem",function(){return l}),r.d(t,"updateItemResource",function(){return f}),r.d(t,"moveItem",function(){return d}),r.d(t,"serializeItem",function(){return u}),r.d(t,"determineOwner",function(){return c}),r.d(t,"addGroupUsers",function(){return D}),r.d(t,"createGroup",function(){return L}),r.d(t,"getGroup",function(){return N}),r.d(t,"getGroupContent",function(){return U}),r.d(t,"getGroupUsers",function(){return W}),r.d(t,"createGroupNotification",function(){return q}),r.d(t,"protectGroup",function(){return z}),r.d(t,"unprotectGroup",function(){return B}),r.d(t,"removeGroup",function(){return G}),r.d(t,"searchGroups",function(){return V}),r.d(t,"updateGroup",function(){return H}),r.d(t,"joinGroup",function(){return $}),r.d(t,"leaveGroup",function(){return J}),r.d(t,"getUser",function(){return K}),r.d(t,"getUserUrl",function(){return Q}),r.d(t,"getUserInvitations",function(){return Y}),r.d(t,"getUserInvitation",function(){return X}),r.d(t,"acceptInvitation",function(){return Z}),r.d(t,"declineInvitation",function(){return ee}),r.d(t,"getUserNotifications",function(){return te}),r.d(t,"removeNotification",function(){return re}),r.d(t,"updateUser",function(){return ne}),r.d(t,"setItemAccess",function(){return ue}),r.d(t,"shareItemWithGroup",function(){return le}),r.d(t,"unshareItemWithGroup",function(){return fe}),r.d(t,"getSharingUrl",function(){return oe}),r.d(t,"isItemOwner",function(){return ie}),r.d(t,"isOrgAdmin",function(){return ae}),r.d(t,"getUserMembership",function(){return se}),r.d(t,"getSelf",function(){return pe}),r.d(t,"getPortal",function(){return he}),r.d(t,"getPortalUrl",function(){return s}),r.d(t,"SearchQueryBuilder",function(){return T})},function(e,t,r){"use strict";e.exports=r(133)},function(e,t,r){"use strict";r.r(t);var n=r(125),o="object"==typeof self&&self&&self.Object===Object&&self,i=(n.a||o||Function("return this")()).Symbol,a=Object.prototype,s=a.hasOwnProperty,u=a.toString,c=i?i.toStringTag:void 0;var l=function(e){var t=s.call(e,c),r=e[c];try{e[c]=void 0;var n=!0}catch(e){}var o=u.call(e);return n&&(t?e[c]=r:delete e[c]),o},f=Object.prototype.toString;var d=function(e){return f.call(e)},p="[object Null]",h="[object Undefined]",g=i?i.toStringTag:void 0;var m=function(e){return null==e?void 0===e?h:p:g&&g in Object(e)?l(e):d(e)};var y=function(e,t){return function(r){return e(t(r))}}(Object.getPrototypeOf,Object);var v=function(e){return null!=e&&"object"==typeof e},b="[object Object]",S=Function.prototype,w=Object.prototype,_=S.toString,I=w.hasOwnProperty,O=_.call(Object);var x=function(e){if(!v(e)||m(e)!=b)return!1;var t=y(e);if(null===t)return!0;var r=I.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&_.call(r)==O},C=r(69),P={INIT:"@@redux/INIT"};function A(e,t,r){var n;if("function"==typeof t&&void 0===r&&(r=t,t=void 0),void 0!==r){if("function"!=typeof r)throw new Error("Expected the enhancer to be a function.");return r(A)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var o=e,i=t,a=[],s=a,u=!1;function c(){s===a&&(s=a.slice())}function l(){return i}function f(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var t=!0;return c(),s.push(e),function(){if(t){t=!1,c();var r=s.indexOf(e);s.splice(r,1)}}}function d(e){if(!x(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(u)throw new Error("Reducers may not dispatch actions.");try{u=!0,i=o(i,e)}finally{u=!1}for(var t=a=s,r=0;r<t.length;r++){(0,t[r])()}return e}return d({type:P.INIT}),(n={dispatch:d,subscribe:f,getState:l,replaceReducer:function(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");o=e,d({type:P.INIT})}})[C.a]=function(){var e,t=f;return(e={subscribe:function(e){if("object"!=typeof e)throw new TypeError("Expected the observer to be an object.");function r(){e.next&&e.next(l())}return r(),{unsubscribe:t(r)}}})[C.a]=function(){return this},e},n}function j(e,t){var r=t&&t.type;return"Given action "+(r&&'"'+r.toString()+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function E(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++){var o=t[n];0,"function"==typeof e[o]&&(r[o]=e[o])}var i=Object.keys(r);var a=void 0;try{!function(e){Object.keys(e).forEach(function(t){var r=e[t];if(void 0===r(void 0,{type:P.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===r(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+P.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')})}(r)}catch(e){a=e}return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(a)throw a;for(var n=!1,o={},s=0;s<i.length;s++){var u=i[s],c=r[u],l=e[u],f=c(l,t);if(void 0===f){var d=j(u,t);throw new Error(d)}o[u]=f,n=n||f!==l}return n?o:e}}function T(e,t){return function(){return t(e.apply(void 0,arguments))}}function k(e,t){if("function"==typeof e)return T(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var r=Object.keys(e),n={},o=0;o<r.length;o++){var i=r[o],a=e[i];"function"==typeof a&&(n[i]=T(a,t))}return n}function M(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}var D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function R(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return function(r,n,o){var i,a=e(r,n,o),s=a.dispatch,u={getState:a.getState,dispatch:function(e){return s(e)}};return i=t.map(function(e){return e(u)}),s=M.apply(void 0,i)(a.dispatch),D({},a,{dispatch:s})}}}r.d(t,"createStore",function(){return A}),r.d(t,"combineReducers",function(){return E}),r.d(t,"bindActionCreators",function(){return k}),r.d(t,"applyMiddleware",function(){return R}),r.d(t,"compose",function(){return M})},function(e,t,r){"use strict";(function(e,n){var o,i=r(124);o="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:n;var a=Object(i.a)(o);t.a=a}).call(this,r(8),r(134)(e))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=new WeakMap;return function(r){if(t.has(r))return t.get(r);var n=e(r);return t.set(r,n),n}}},,,,function(e,t,r){var n,o,i=r(139),a=r(140),s=0,u=0;e.exports=function(e,t,r){var c=t&&r||0,l=t||[],f=(e=e||{}).node||n,d=void 0!==e.clockseq?e.clockseq:o;if(null==f||null==d){var p=i();null==f&&(f=n=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==d&&(d=o=16383&(p[6]<<8|p[7]))}var h=void 0!==e.msecs?e.msecs:(new Date).getTime(),g=void 0!==e.nsecs?e.nsecs:u+1,m=h-s+(g-u)/1e4;if(m<0&&void 0===e.clockseq&&(d=d+1&16383),(m<0||h>s)&&void 0===e.nsecs&&(g=0),g>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=h,u=g,o=d;var y=(1e4*(268435455&(h+=122192928e5))+g)%4294967296;l[c++]=y>>>24&255,l[c++]=y>>>16&255,l[c++]=y>>>8&255,l[c++]=255&y;var v=h/4294967296*1e4&268435455;l[c++]=v>>>8&255,l[c++]=255&v,l[c++]=v>>>24&15|16,l[c++]=v>>>16&255,l[c++]=d>>>8|128,l[c++]=255&d;for(var b=0;b<6;++b)l[c+b]=f[b];return t||a(l)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.before=null}var t=e.prototype;return t.insert=function(e){if(this.ctr%(this.isSpeedy?65e3:1)==0){var t,r=function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t}(this);t=0===this.tags.length?this.before:this.tags[this.tags.length-1].nextSibling,this.container.insertBefore(r,t),this.tags.push(r)}var n=this.tags[this.tags.length-1];if(this.isSpeedy){var o=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(n);try{var i=105===e.charCodeAt(1)&&64===e.charCodeAt(0);o.insertRule(e,i?0:o.cssRules.length)}catch(e){0}}else n.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach(function(e){return e.parentNode.removeChild(e)}),this.tags=[],this.ctr=0},e}();t.StyleSheet=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="undefined"!=typeof document;t.getRegisteredStyles=function(e,t,r){var n="";return r.split(" ").forEach(function(r){void 0!==e[r]?t.push(e[r]):n+=r+" "}),n};t.insertStyles=function(e,t,r){var o=e.key+"-"+t.name;if((!1===r||!1===n&&void 0!==e.compat)&&void 0===e.registered[o]&&(e.registered[o]=t.styles),void 0===e.inserted[t.name]){var i="",a=t;do{var s=e.insert("."+o,a,e.sheet,!0);n||void 0===s||(i+=s),a=a.next}while(void 0!==a);if(!n&&0!==i.length)return i}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t={};return function(r){return void 0===t[r]&&(t[r]=e(r)),t[r]}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(51);t.default=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.serializeStyles(t)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(146).default.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach(function(e){n[e]=n(e)}),t.default=n},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e,t,r){if("number"==typeof e&&"number"==typeof t&&"number"==typeof r)return(0,n.default)("#"+(0,o.default)(e)+(0,o.default)(t)+(0,o.default)(r));if("object"==typeof e&&void 0===t&&void 0===r)return(0,n.default)("#"+(0,o.default)(e.red)+(0,o.default)(e.green)+(0,o.default)(e.blue));throw new i.default(6)};var n=a(r(81)),o=a(r(82)),i=a(r(15));function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=function(e){return 7===e.length&&e[1]===e[2]&&e[3]===e[4]&&e[5]===e[6]?"#"+e[1]+e[3]+e[5]:e};t.default=n,e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=function(e){var t=e.toString(16);return 1===t.length?"0"+t:t};t.default=n,e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e,t){if("string"!=typeof e)return t?[e,void 0]:e;var r=e.match(n);if(t)return r?[parseFloat(e),r[2]]:[e,void 0];return r?parseFloat(e):e};var n=/^([+-]?(?:\d+|\d*\.\d+))([a-z]*|%)$/;e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e){return function e(t,r,n){return function(){var o=n.concat(Array.prototype.slice.call(arguments));return o.length>=r?t.apply(this,o):e(t,r,o)}}(e,e.length,[])},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=a(r(53)),o=a(r(81)),i=a(r(82));function a(e){return e&&e.__esModule?e:{default:e}}function s(e){return(0,i.default)(Math.round(255*e))}function u(e,t,r){return(0,o.default)("#"+s(e)+s(t)+s(r))}var c=function(e,t,r){return(0,n.default)(e,t,r,u)};t.default=c,e.exports=t.default},function(e,t,r){"use strict";r.d(t,"b",function(){return c}),r.d(t,"e",function(){return f}),r.d(t,"a",function(){return d}),r.d(t,"c",function(){return p}),r.d(t,"d",function(){return h});var n=r(0),o=r(50),i=r(31),a=r(18),s=r(22),u=r(49),c="@esri/arcgis-rest-js",l={httpMethod:"POST",params:{f:"json"}};function f(e,t){e.authentication&&!t&&Object(u.a)("You should not set `authentication` as a default in a shared environment such as a web server which will process multiple users requests. You can call `setDefaultRequestOptions` with `true` as a second argument to disable this warning."),l=e}var d=function(e){function t(t,r,n,o,i){void 0===t&&(t="AUTHENTICATION_ERROR"),void 0===r&&(r="AUTHENTICATION_ERROR_CODE");var a=e.call(this,t,r,n,o,i)||this;return a.name="ArcGISAuthError",a.message="AUTHENTICATION_ERROR_CODE"===r?t:r+": "+t,a}return n.b(t,e),t.prototype.retry=function(e,t){var r=this;void 0===t&&(t=3);var o=0,i=function(a,s){e(r.url,r.options).then(function(e){var t=n.a({},r.options,{authentication:e});return o+=1,h(r.url,t)}).then(function(e){a(e)}).catch(function(e){"ArcGISAuthError"===e.name&&o<t?i(a,s):"ArcGISAuthError"===e.name&&o>=t?s(r):s(e)})};return new Promise(function(e,t){i(e,t)})},t}(s.a);function p(e,t,r,n,o){if(e.code>=400){var i=e.message,a=e.code;throw new s.a(i,a,e,t,n)}if(e.error){var u=e.error,c=(i=u.message,a=u.code,u.messageCode),l=c||a||"UNKNOWN_ERROR_CODE";if(498===a||499===a||"GWM_0003"===c||400===a&&"Unable to generate token."===i)throw o||new d(i,l,e,t,n);throw new s.a(i,l,e,t,n)}if("failed"===e.status||"failure"===e.status){i=void 0,a="UNKNOWN_ERROR_CODE";try{i=JSON.parse(e.statusMessage).message,a=JSON.parse(e.statusMessage).code}catch(t){i=e.statusMessage||e.message}throw new s.a(i,a,e,t,n)}return e}function h(e,t){void 0===t&&(t={params:{f:"json"}});var r=n.a({httpMethod:"POST"},l,t,{params:n.a({},l.params,t.params),headers:n.a({},l.headers,t.headers)}),u=[],f=[];if(r.fetch||"undefined"==typeof fetch?(u.push("`fetch`"),f.push("`node-fetch`")):r.fetch=fetch.bind(Function("return this")()),"undefined"==typeof Promise&&(u.push("`Promise`"),f.push("`es6-promise`")),"undefined"==typeof FormData&&(u.push("`FormData`"),f.push("`isomorphic-form-data`")),!r.fetch||"undefined"==typeof Promise||"undefined"==typeof FormData)throw new Error("`arcgis-rest-request` requires a `fetch` implementation and global variables for `Promise` and `FormData` to be present in the global scope. You are missing "+u.join(", ")+". We recommend installing the "+f.join(", ")+" modules at the root of your application to add these to the global scope. See https://bit.ly/2KNwWaJ for more info.");var d=r.httpMethod,h=r.authentication,g=r.rawResponse,m=n.a({f:"json"},r.params),y=null,v={method:d,credentials:"same-origin"};return(h?h.getToken(e,{fetch:r.fetch}).catch(function(t){return t.url=e,t.options=r,y=t,Promise.resolve("")}):Promise.resolve("")).then(function(t){if(t.length&&(m.token=t),"GET"===v.method){var s=""===Object(i.b)(m)?e:e+"?"+Object(i.b)(m);r.maxUrlLength&&s.length>r.maxUrlLength?v.method="POST":e=s}var u=new RegExp("/items/.+/updateResources").test(e);return"POST"===v.method&&(v.body=Object(o.a)(m,u)),v.headers=n.a({},r.headers),"undefined"!=typeof window||v.headers.referer||(v.headers.referer=c),Object(a.b)(m)||u||(v.headers["Content-Type"]="application/x-www-form-urlencoded"),r.fetch(e,v)}).then(function(t){if(!t.ok){var n=t.status,o=t.statusText;throw new s.a(o,"HTTP "+n,t,e,r)}if(g)return t;switch(m.f){case"json":case"geojson":return t.json();case"html":case"text":return t.text();default:return t.blob()}}).then(function(t){if("json"!==m.f&&"geojson"!==m.f||g)return t;var n=p(t,e,0,r,y);if(y){var o=e.toLowerCase().split(/\/rest(\/admin)?\/services\//)[0];r.authentication.trustedServers[o]={token:[],expires:new Date(Date.now()+864e5)},y=null}return n})}},function(e,t,r){"use strict";function n(e){return"/"===(e=e.trim())[e.length-1]&&(e=e.slice(0,-1)),e}r.d(t,"a",function(){return n})},function(e,t,r){"use strict";r.d(t,"a",function(){return o});var n=r(0);function o(e,t,r){var o=n.a({params:{}},r,e);return o.params=t.reduce(function(t,r){return(e[r]||"boolean"==typeof e[r])&&(t[r]=e[r]),t},o.params),["params","httpMethod","rawResponse","authentication","portal","fetch","maxUrlLength","headers"].reduce(function(e,t){return o[t]&&(e[t]=o[t]),e},{})}},function(e,t,r){var n=r(54).FilterCSS,o=r(54).getDefaultWhiteList,i=r(55);function a(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","loop","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],sup:[],strong:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","loop","preload","src","height","width"]}}var s=new n;function u(e){return e.replace(c,"&lt;").replace(l,"&gt;")}var c=/</g,l=/>/g,f=/"/g,d=/&quot;/g,p=/&#([a-zA-Z0-9]*);?/gim,h=/&colon;?/gim,g=/&newline;?/gim,m=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a)\:/gi,y=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,v=/u\s*r\s*l\s*\(.*/gi;function b(e){return e.replace(f,"&quot;")}function S(e){return e.replace(d,'"')}function w(e){return e.replace(p,function(e,t){return"x"===t[0]||"X"===t[0]?String.fromCharCode(parseInt(t.substr(1),16)):String.fromCharCode(parseInt(t,10))})}function _(e){return e.replace(h,":").replace(g," ")}function I(e){for(var t="",r=0,n=e.length;r<n;r++)t+=e.charCodeAt(r)<32?" ":e.charAt(r);return i.trim(t)}function O(e){return e=I(e=_(e=w(e=S(e))))}function x(e){return e=u(e=b(e))}var C=/<!--[\s\S]*?-->/g;t.whiteList={a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","loop","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],sup:[],strong:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","loop","preload","src","height","width"]},t.getDefaultWhiteList=a,t.onTag=function(e,t,r){},t.onIgnoreTag=function(e,t,r){},t.onTagAttr=function(e,t,r){},t.onIgnoreTagAttr=function(e,t,r){},t.safeAttrValue=function(e,t,r,n){if(r=O(r),"href"===t||"src"===t){if("#"===(r=i.trim(r)))return"#";if("http://"!==r.substr(0,7)&&"https://"!==r.substr(0,8)&&"mailto:"!==r.substr(0,7)&&"tel:"!==r.substr(0,4)&&"#"!==r[0]&&"/"!==r[0])return""}else if("background"===t){if(m.lastIndex=0,m.test(r))return""}else if("style"===t){if(y.lastIndex=0,y.test(r))return"";if(v.lastIndex=0,v.test(r)&&(m.lastIndex=0,m.test(r)))return"";!1!==n&&(r=(n=n||s).process(r))}return r=x(r)},t.escapeHtml=u,t.escapeQuote=b,t.unescapeQuote=S,t.escapeHtmlEntities=w,t.escapeDangerHtml5Entities=_,t.clearNonPrintableCharacter=I,t.friendlyAttrValue=O,t.escapeAttrValue=x,t.onIgnoreTagStripAll=function(){return""},t.StripTagBody=function(e,t){"function"!=typeof t&&(t=function(){});var r=!Array.isArray(e),n=[],o=!1;return{onIgnoreTag:function(a,s,u){if(function(t){return!!r||-1!==i.indexOf(e,t)}(a)){if(u.isClosing){var c="[/removed]",l=u.position+c.length;return n.push([!1!==o?o:u.position,l]),o=!1,c}return o||(o=u.position),"[removed]"}return t(a,s,u)},remove:function(e){var t="",r=0;return i.forEach(n,function(n){t+=e.slice(r,n[0]),r=n[1]}),t+=e.slice(r)}}},t.stripCommentTag=function(e){return e.replace(C,"")},t.stripBlankChar=function(e){var t=e.split("");return(t=t.filter(function(e){var t=e.charCodeAt(0);return!(127===t||t<=31&&10!==t&&13!==t)})).join("")},t.cssFilter=s,t.getDefaultCSSWhiteList=o},function(e,t){function r(){var e={"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1};return e}var n=/javascript\s*\:/gim;t.whiteList=r(),t.getDefaultWhiteList=r,t.onAttr=function(e,t,r){},t.onIgnoreAttr=function(e,t,r){},t.safeAttrValue=function(e,t){return n.test(t)?"":t}},function(e,t){e.exports={indexOf:function(e,t){var r,n;if(Array.prototype.indexOf)return e.indexOf(t);for(r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1},forEach:function(e,t,r){var n,o;if(Array.prototype.forEach)return e.forEach(t,r);for(n=0,o=e.length;n<o;n++)t.call(r,e[n],n,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(e){return String.prototype.trimRight?e.trimRight():e.replace(/(\s*$)/g,"")}}},function(e,t,r){var n=r(55);function o(e){var t=n.spaceIndex(e);if(-1===t)var r=e.slice(1,-1);else r=e.slice(1,t+1);return"/"===(r=n.trim(r).toLowerCase()).slice(0,1)&&(r=r.slice(1)),"/"===r.slice(-1)&&(r=r.slice(0,-1)),r}function i(e){return"</"===e.slice(0,2)}var a=/[^a-zA-Z0-9_:\.\-]/gim;function s(e,t){for(;t<e.length;t++){var r=e[t];if(" "!==r)return"="===r?t:-1}}function u(e,t){for(;t>0;t--){var r=e[t];if(" "!==r)return"="===r?t:-1}}function c(e){return function(e){return'"'===e[0]&&'"'===e[e.length-1]||"'"===e[0]&&"'"===e[e.length-1]}(e)?e.substr(1,e.length-2):e}t.parseTag=function(e,t,r){"user strict";var n="",a=0,s=!1,u=!1,c=0,l=e.length,f="",d="";for(c=0;c<l;c++){var p=e.charAt(c);if(!1===s){if("<"===p){s=c;continue}}else if(!1===u){if("<"===p){n+=r(e.slice(a,c)),s=c,a=c;continue}if(">"===p){n+=r(e.slice(a,s)),f=o(d=e.slice(s,c+1)),n+=t(s,n.length,f,d,i(d)),a=c+1,s=!1;continue}if(('"'===p||"'"===p)&&"="===e.charAt(c-1)){u=p;continue}}else if(p===u){u=!1;continue}}return a<e.length&&(n+=r(e.substr(a))),n},t.parseAttr=function(e,t){"user strict";var r=0,o=[],i=!1,l=e.length;function f(e,r){if(!((e=(e=n.trim(e)).replace(a,"").toLowerCase()).length<1)){var i=t(e,r||"");i&&o.push(i)}}for(var d=0;d<l;d++){var p,h=e.charAt(d);if(!1!==i||"="!==h)if(!1===i||d!==r||'"'!==h&&"'"!==h||"="!==e.charAt(d-1)){if(/\s|\n|\t/.test(h)){if(e=e.replace(/\s|\n|\t/g," "),!1===i){if(-1===(p=s(e,d))){f(n.trim(e.slice(r,d))),i=!1,r=d+1;continue}d=p-1;continue}if(-1===(p=u(e,d-1))){f(i,c(n.trim(e.slice(r,d)))),i=!1,r=d+1;continue}}}else{if(-1===(p=e.indexOf(h,d+1)))break;f(i,n.trim(e.slice(r+1,p))),i=!1,r=(d=p)+1}else i=e.slice(r,d),r=d+1}return r<e.length&&(!1===i?f(e.slice(r)):f(i,c(n.trim(e.slice(r))))),n.trim(o.join(" "))}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(14);t.BREAK_POINTS=[576,992],t.DEFAULT_VIEWPORT_SIZE={DESKTOP:{width:1280,height:800},PAD:{width:768,height:1024},PHONE:{width:414,height:896}},t.DEFAULT_PAGE_WIDTH=960;var o={};o[n.BrowserSizeMode.Large]=[{width:1024,height:768},{width:1280,height:800},{width:1280,height:1024},{width:1366,height:768},{width:1440,height:900},{width:1536,height:864},{width:1600,height:900},{width:1920,height:1080}],o[n.BrowserSizeMode.Medium]=[{width:601,height:962},{width:600,height:1024},{width:768,height:1024},{width:800,height:1280},{width:834,height:1112}],o[n.BrowserSizeMode.Small]=[{width:360,height:640},{width:360,height:720},{width:360,height:740},{width:375,height:667},{width:414,height:736}],t.SCREEN_RESOLUTIONS=o},function(e,t,r){(function(e,r){var n=200,o="__lodash_hash_undefined__",i=9007199254740991,a="[object Arguments]",s="[object Boolean]",u="[object Date]",c="[object Function]",l="[object GeneratorFunction]",f="[object Map]",d="[object Number]",p="[object Object]",h="[object RegExp]",g="[object Set]",m="[object String]",y="[object Symbol]",v="[object ArrayBuffer]",b="[object DataView]",S="[object Float32Array]",w="[object Float64Array]",_="[object Int8Array]",I="[object Int16Array]",O="[object Int32Array]",x="[object Uint8Array]",C="[object Uint8ClampedArray]",P="[object Uint16Array]",A="[object Uint32Array]",j=/\w*$/,E=/^\[object .+?Constructor\]$/,T=/^(?:0|[1-9]\d*)$/,k={};k[a]=k["[object Array]"]=k[v]=k[b]=k[s]=k[u]=k[S]=k[w]=k[_]=k[I]=k[O]=k[f]=k[d]=k[p]=k[h]=k[g]=k[m]=k[y]=k[x]=k[C]=k[P]=k[A]=!0,k["[object Error]"]=k[c]=k["[object WeakMap]"]=!1;var M="object"==typeof e&&e&&e.Object===Object&&e,D="object"==typeof self&&self&&self.Object===Object&&self,R=M||D||Function("return this")(),F=t&&!t.nodeType&&t,L=F&&"object"==typeof r&&r&&!r.nodeType&&r,N=L&&L.exports===F;function U(e,t){return e.set(t[0],t[1]),e}function W(e,t){return e.add(t),e}function q(e,t,r,n){var o=-1,i=e?e.length:0;for(n&&i&&(r=e[++o]);++o<i;)r=t(r,e[o],o,e);return r}function z(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function B(e){var t=-1,r=Array(e.size);return e.forEach(function(e,n){r[++t]=[n,e]}),r}function G(e,t){return function(r){return e(t(r))}}function V(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r}var H=Array.prototype,$=Function.prototype,J=Object.prototype,K=R["__core-js_shared__"],Q=function(){var e=/[^.]+$/.exec(K&&K.keys&&K.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Y=$.toString,X=J.hasOwnProperty,Z=J.toString,ee=RegExp("^"+Y.call(X).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),te=N?R.Buffer:void 0,re=R.Symbol,ne=R.Uint8Array,oe=G(Object.getPrototypeOf,Object),ie=Object.create,ae=J.propertyIsEnumerable,se=H.splice,ue=Object.getOwnPropertySymbols,ce=te?te.isBuffer:void 0,le=G(Object.keys,Object),fe=Fe(R,"DataView"),de=Fe(R,"Map"),pe=Fe(R,"Promise"),he=Fe(R,"Set"),ge=Fe(R,"WeakMap"),me=Fe(Object,"create"),ye=qe(fe),ve=qe(de),be=qe(pe),Se=qe(he),we=qe(ge),_e=re?re.prototype:void 0,Ie=_e?_e.valueOf:void 0;function Oe(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function xe(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Ce(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Pe(e){this.__data__=new xe(e)}function Ae(e,t){var r=Be(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&Ge(e)}(e)&&X.call(e,"callee")&&(!ae.call(e,"callee")||Z.call(e)==a)}(e)?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],n=r.length,o=!!n;for(var i in e)!t&&!X.call(e,i)||o&&("length"==i||Ue(i,n))||r.push(i);return r}function je(e,t,r){var n=e[t];X.call(e,t)&&ze(n,r)&&(void 0!==r||t in e)||(e[t]=r)}function Ee(e,t){for(var r=e.length;r--;)if(ze(e[r][0],t))return r;return-1}function Te(e,t,r,n,o,i,E){var T;if(n&&(T=i?n(e,o,i,E):n(e)),void 0!==T)return T;if(!$e(e))return e;var M=Be(e);if(M){if(T=function(e){var t=e.length,r=e.constructor(t);t&&"string"==typeof e[0]&&X.call(e,"index")&&(r.index=e.index,r.input=e.input);return r}(e),!t)return function(e,t){var r=-1,n=e.length;t||(t=Array(n));for(;++r<n;)t[r]=e[r];return t}(e,T)}else{var D=Ne(e),R=D==c||D==l;if(Ve(e))return function(e,t){if(t)return e.slice();var r=new e.constructor(e.length);return e.copy(r),r}(e,t);if(D==p||D==a||R&&!i){if(z(e))return i?e:{};if(T=function(e){return"function"!=typeof e.constructor||We(e)?{}:function(e){return $e(e)?ie(e):{}}(oe(e))}(R?{}:e),!t)return function(e,t){return De(e,Le(e),t)}(e,function(e,t){return e&&De(t,Je(t),e)}(T,e))}else{if(!k[D])return i?e:{};T=function(e,t,r,n){var o=e.constructor;switch(t){case v:return Me(e);case s:case u:return new o(+e);case b:return function(e,t){var r=t?Me(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}(e,n);case S:case w:case _:case I:case O:case x:case C:case P:case A:return function(e,t){var r=t?Me(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}(e,n);case f:return function(e,t,r){return q(t?r(B(e),!0):B(e),U,new e.constructor)}(e,n,r);case d:case m:return new o(e);case h:return function(e){var t=new e.constructor(e.source,j.exec(e));return t.lastIndex=e.lastIndex,t}(e);case g:return function(e,t,r){return q(t?r(V(e),!0):V(e),W,new e.constructor)}(e,n,r);case y:return function(e){return Ie?Object(Ie.call(e)):{}}(e)}}(e,D,Te,t)}}E||(E=new Pe);var F=E.get(e);if(F)return F;if(E.set(e,T),!M)var L=r?function(e){return function(e,t,r){var n=t(e);return Be(e)?n:function(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e}(n,r(e))}(e,Je,Le)}(e):Je(e);return function(e,t){for(var r=-1,n=e?e.length:0;++r<n&&!1!==t(e[r],r,e););}(L||e,function(o,i){L&&(o=e[i=o]),je(T,i,Te(o,t,r,n,i,e,E))}),T}function ke(e){return!(!$e(e)||function(e){return!!Q&&Q in e}(e))&&(He(e)||z(e)?ee:E).test(qe(e))}function Me(e){var t=new e.constructor(e.byteLength);return new ne(t).set(new ne(e)),t}function De(e,t,r,n){r||(r={});for(var o=-1,i=t.length;++o<i;){var a=t[o],s=n?n(r[a],e[a],a,r,e):void 0;je(r,a,void 0===s?e[a]:s)}return r}function Re(e,t){var r=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?r["string"==typeof t?"string":"hash"]:r.map}function Fe(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return ke(r)?r:void 0}Oe.prototype.clear=function(){this.__data__=me?me(null):{}},Oe.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},Oe.prototype.get=function(e){var t=this.__data__;if(me){var r=t[e];return r===o?void 0:r}return X.call(t,e)?t[e]:void 0},Oe.prototype.has=function(e){var t=this.__data__;return me?void 0!==t[e]:X.call(t,e)},Oe.prototype.set=function(e,t){return this.__data__[e]=me&&void 0===t?o:t,this},xe.prototype.clear=function(){this.__data__=[]},xe.prototype.delete=function(e){var t=this.__data__,r=Ee(t,e);return!(r<0||(r==t.length-1?t.pop():se.call(t,r,1),0))},xe.prototype.get=function(e){var t=this.__data__,r=Ee(t,e);return r<0?void 0:t[r][1]},xe.prototype.has=function(e){return Ee(this.__data__,e)>-1},xe.prototype.set=function(e,t){var r=this.__data__,n=Ee(r,e);return n<0?r.push([e,t]):r[n][1]=t,this},Ce.prototype.clear=function(){this.__data__={hash:new Oe,map:new(de||xe),string:new Oe}},Ce.prototype.delete=function(e){return Re(this,e).delete(e)},Ce.prototype.get=function(e){return Re(this,e).get(e)},Ce.prototype.has=function(e){return Re(this,e).has(e)},Ce.prototype.set=function(e,t){return Re(this,e).set(e,t),this},Pe.prototype.clear=function(){this.__data__=new xe},Pe.prototype.delete=function(e){return this.__data__.delete(e)},Pe.prototype.get=function(e){return this.__data__.get(e)},Pe.prototype.has=function(e){return this.__data__.has(e)},Pe.prototype.set=function(e,t){var r=this.__data__;if(r instanceof xe){var o=r.__data__;if(!de||o.length<n-1)return o.push([e,t]),this;r=this.__data__=new Ce(o)}return r.set(e,t),this};var Le=ue?G(ue,Object):function(){return[]},Ne=function(e){return Z.call(e)};function Ue(e,t){return!!(t=null==t?i:t)&&("number"==typeof e||T.test(e))&&e>-1&&e%1==0&&e<t}function We(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||J)}function qe(e){if(null!=e){try{return Y.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function ze(e,t){return e===t||e!=e&&t!=t}(fe&&Ne(new fe(new ArrayBuffer(1)))!=b||de&&Ne(new de)!=f||pe&&"[object Promise]"!=Ne(pe.resolve())||he&&Ne(new he)!=g||ge&&"[object WeakMap]"!=Ne(new ge))&&(Ne=function(e){var t=Z.call(e),r=t==p?e.constructor:void 0,n=r?qe(r):void 0;if(n)switch(n){case ye:return b;case ve:return f;case be:return"[object Promise]";case Se:return g;case we:return"[object WeakMap]"}return t});var Be=Array.isArray;function Ge(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=i}(e.length)&&!He(e)}var Ve=ce||function(){return!1};function He(e){var t=$e(e)?Z.call(e):"";return t==c||t==l}function $e(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Je(e){return Ge(e)?Ae(e):function(e){if(!We(e))return le(e);var t=[];for(var r in Object(e))X.call(e,r)&&"constructor"!=r&&t.push(r);return t}(e)}r.exports=function(e){return Te(e,!0,!0)}}).call(this,r(8),r(93)(e))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(97),o=r(14);function i(e,t,r){return void 0===r&&(r=!1),e&&e.content?Object.keys(e.content).filter(function(o){return e.content[o].type===t&&!!(t===n.LayoutItemType.Widget?e.content[o].widgetId:e.content[o].sectionId)&&(r||!e.content[o].isPending)}).map(function(r){return t===n.LayoutItemType.Widget?e.content[r].widgetId:e.content[r].sectionId}):[]}function a(e,t,r){return void 0===r&&(r=!1),e&&e.content?Object.keys(e.content).filter(function(o){return e.content[o].type===t&&!!(t===n.LayoutItemType.Widget?e.content[o].widgetId:e.content[o].sectionId)&&(r||!e.content[o].isPending)}).map(function(t){return{layoutId:e.id,layoutItemId:t}}):[]}function s(e,t,r,a,u){void 0===u&&(u=!1);var c=[],l=i(e.layouts[t],n.LayoutItemType.Widget,u),f=i(e.layouts[t],n.LayoutItemType.Section,u);return c=r===n.LayoutItemType.Widget?c.concat(l):c.concat(f),l.filter(function(t){return e.widgets&&e.widgets[t]&&(e.widgets[t].manifest.properties.type===o.WidgetType.Layout||e.widgets[t].manifest.properties.hasEmbeddedLayout)}).forEach(function(t){Object.keys(e.widgets[t].layouts).forEach(function(n){var o=e.widgets[t].layouts[n][a];c=c.concat(s(e,o,r,a,u))})}),f.forEach(function(t){e.sections[t]&&e.sections[t].views&&e.sections[t].views.forEach(function(t){e.views[t]&&e.views[t].layout[a]&&(c=c.concat(s(e,e.views[t].layout[a],r,a,u)))})}),c}function u(e,t,r){var o=e.layouts[r.layoutId].content[r.layoutItemId];return!!t.find(function(t){var r=e.layouts[t.layoutId].content[t.layoutItemId];return r.type===o.type&&(r.type===n.LayoutItemType.Widget&&r.widgetId===o.widgetId||r.type===n.LayoutItemType.Section&&r.sectionId===o.sectionId)})}t.fixLayoutIds=function(e){Object.keys(e.layouts).forEach(function(t){var r=e.layouts[t];return r.content&&Object.keys(r.content).forEach(function(e){isNaN(parseInt(e))?console.error("Layout item MUST be integer string"):r.content[e].id=e}),r.id=t,r})},t.generateLayoutStructure=function(e,t){return t.content&&Object.keys(t.content).forEach(function(e){isNaN(parseInt(e))||(t.content[e].id=e)}),t.id=e,t},t.cleanupRuntimeLayouts=function(e){return Object.keys(e).forEach(function(t){var r=e[t];delete r.id,r.content&&Object.keys(r.content).forEach(function(e){delete r.content[e].id})}),e},t.getLayoutItemIds=function(e,t,r){void 0===r&&(r=!1);var n=e.layouts[t];return n&&n.content?r?Object.keys(n.content):Object.keys(n.content).filter(function(e){return!n.content[e].isPending}):[]},t.getWidgetsOrSectionsInLayout=i,t.getLayoutItemsInLayoutByType=a,t.getWidgetsOrSectionsInLayoutWithLayoutWidgetOnly=function e(t,r,a,s,u){void 0===u&&(u=!1);var c=[],l=i(t.layouts[r],n.LayoutItemType.Widget,u),f=i(t.layouts[r],n.LayoutItemType.Section,u);return c=a===n.LayoutItemType.Widget?c.concat(l):c.concat(f),l.filter(function(e){return t.widgets&&t.widgets[e]&&t.widgets[e].manifest.properties.type===o.WidgetType.Layout}).forEach(function(r){Object.keys(t.widgets[r].layouts).forEach(function(n){var o=t.widgets[r].layouts[n][s];c=c.concat(e(t,o,a,s,u))})}),c},t.getAllWidgetsOrSectionsInLayout=s,t.getPendingLayoutItemsFromOtherSizeMode=function e(t,r,i,c,l){void 0===c&&(c=null),void 0===l&&(l=null);var f=[];return c||(c=s(t,r[i],n.LayoutItemType.Widget,i,!0)),l||(l=s(t,r[i],n.LayoutItemType.Section,i,!0)),Object.keys(o.BrowserSizeMode).filter(function(e){return o.BrowserSizeMode[e]!==i}).map(function(e){return o.BrowserSizeMode[e]}).forEach(function(s){a(t.layouts[r[s]],n.LayoutItemType.Widget,!0).forEach(function(r){var n=t.layouts[r.layoutId].content[r.layoutItemId];t.widgets[n.widgetId].manifest.properties.type!==o.WidgetType.Layout&&c.indexOf(n.widgetId)<0?!u(t,f,r)&&f.push(r):t.widgets[n.widgetId].layouts&&Object.keys(t.widgets[n.widgetId].layouts).forEach(function(r){e(t,t.widgets[n.widgetId].layouts[r],i,c,l).forEach(function(e){!u(t,f,e)&&f.push(e)})})}),a(t.layouts[r[s]],n.LayoutItemType.Section,!0).forEach(function(r){var n=t.layouts[r.layoutId].content[r.layoutItemId];l.indexOf(n.sectionId)<0?!u(t,f,r)&&f.push(r):t.sections[n.sectionId].views&&t.sections[n.sectionId].views.forEach(function(r){e(t,t.views[r].layout,i,c,l).forEach(function(e){!u(t,f,e)&&f.push(e)})})})}),f},t.getPendingLayoutItemsInLayoutWithDeep=function e(t,r,o){var i=[];return a(t.layouts[r],n.LayoutItemType.Widget,!0).forEach(function(r){var n=t.layouts[r.layoutId].content[r.layoutItemId];n.isPending?i.push(r):t.widgets[n.widgetId].layouts&&Object.keys(t.widgets[n.widgetId].layouts).forEach(function(r){i=i.concat(e(t,t.widgets[n.widgetId].layouts[r][o],o))})}),a(t.layouts[r],n.LayoutItemType.Section,!0).forEach(function(r){var n=t.layouts[r.layoutId].content[r.layoutItemId];n.isPending?i.push(r):t.sections[n.sectionId].views&&t.sections[n.sectionId].views.forEach(function(r){i=i.concat(e(t,t.views[r].layout[o],o))})}),i},t.getWidgetOrSectionLayoutItem=function(e,t,r){if(!e||!e.content)return null;var n=Object.keys(e.content).find(function(n){return e.content[n].type===r&&(e.content[n].widgetId===t||e.content[n].sectionId===t)&&!e.content[n].isPending});return e.content[n]}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Unkown="UNKNOWN",e.Widget="WIDGET",e.Section="SECTION"}(t.LayoutItemType||(t.LayoutItemType={})),function(e){e.FixedLayout="FIXED",e.FlowLayout="FLOW"}(t.LayoutType||(t.LayoutType={}))},function(e,t,r){(function(t){var r="Expected a function",n="__lodash_hash_undefined__",o=1/0,i=9007199254740991,a="[object Function]",s="[object GeneratorFunction]",u="[object Symbol]",c=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,l=/^\w*$/,f=/^\./,d=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,p=/\\(\\)?/g,h=/^\[object .+?Constructor\]$/,g=/^(?:0|[1-9]\d*)$/,m="object"==typeof t&&t&&t.Object===Object&&t,y="object"==typeof self&&self&&self.Object===Object&&self,v=m||y||Function("return this")();var b=Array.prototype,S=Function.prototype,w=Object.prototype,_=v["__core-js_shared__"],I=function(){var e=/[^.]+$/.exec(_&&_.keys&&_.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),O=S.toString,x=w.hasOwnProperty,C=w.toString,P=RegExp("^"+O.call(x).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),A=v.Symbol,j=b.splice,E=z(v,"Map"),T=z(Object,"create"),k=A?A.prototype:void 0,M=k?k.toString:void 0;function D(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function R(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function F(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function L(e,t,r){var n=e[t];x.call(e,t)&&$(n,r)&&(void 0!==r||t in e)||(e[t]=r)}function N(e,t){for(var r=e.length;r--;)if($(e[r][0],t))return r;return-1}function U(e){return!(!K(e)||function(e){return!!I&&I in e}(e))&&(function(e){var t=K(e)?C.call(e):"";return t==a||t==s}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?P:h).test(function(e){if(null!=e){try{return O.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}function W(e,t,r,n){if(!K(e))return e;for(var o=-1,i=(t=function(e,t){if(J(e))return!1;var r=typeof e;if("number"==r||"symbol"==r||"boolean"==r||null==e||Q(e))return!0;return l.test(e)||!c.test(e)||null!=t&&e in Object(t)}(t,e)?[t]:function(e){return J(e)?e:G(e)}(t)).length,a=i-1,s=e;null!=s&&++o<i;){var u=V(t[o]),f=r;if(o!=a){var d=s[u];void 0===(f=n?n(d,u,s):void 0)&&(f=K(d)?d:B(t[o+1])?[]:{})}L(s,u,f),s=s[u]}return e}function q(e,t){var r=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?r["string"==typeof t?"string":"hash"]:r.map}function z(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return U(r)?r:void 0}function B(e,t){return!!(t=null==t?i:t)&&("number"==typeof e||g.test(e))&&e>-1&&e%1==0&&e<t}D.prototype.clear=function(){this.__data__=T?T(null):{}},D.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},D.prototype.get=function(e){var t=this.__data__;if(T){var r=t[e];return r===n?void 0:r}return x.call(t,e)?t[e]:void 0},D.prototype.has=function(e){var t=this.__data__;return T?void 0!==t[e]:x.call(t,e)},D.prototype.set=function(e,t){return this.__data__[e]=T&&void 0===t?n:t,this},R.prototype.clear=function(){this.__data__=[]},R.prototype.delete=function(e){var t=this.__data__,r=N(t,e);return!(r<0||(r==t.length-1?t.pop():j.call(t,r,1),0))},R.prototype.get=function(e){var t=this.__data__,r=N(t,e);return r<0?void 0:t[r][1]},R.prototype.has=function(e){return N(this.__data__,e)>-1},R.prototype.set=function(e,t){var r=this.__data__,n=N(r,e);return n<0?r.push([e,t]):r[n][1]=t,this},F.prototype.clear=function(){this.__data__={hash:new D,map:new(E||R),string:new D}},F.prototype.delete=function(e){return q(this,e).delete(e)},F.prototype.get=function(e){return q(this,e).get(e)},F.prototype.has=function(e){return q(this,e).has(e)},F.prototype.set=function(e,t){return q(this,e).set(e,t),this};var G=H(function(e){e=function(e){return null==e?"":function(e){if("string"==typeof e)return e;if(Q(e))return M?M.call(e):"";var t=e+"";return"0"==t&&1/e==-o?"-0":t}(e)}(e);var t=[];return f.test(e)&&t.push(""),e.replace(d,function(e,r,n,o){t.push(n?o.replace(p,"$1"):r||e)}),t});function V(e){if("string"==typeof e||Q(e))return e;var t=e+"";return"0"==t&&1/e==-o?"-0":t}function H(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError(r);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a),a};return n.cache=new(H.Cache||F),n}function $(e,t){return e===t||e!=e&&t!=t}H.Cache=F;var J=Array.isArray;function K(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Q(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&C.call(e)==u}e.exports=function(e,t,r){return null==e?e:W(e,t,r)}}).call(this,r(8))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o,i=[/\.arcgis\.com$/];function a(e){if(window&&window.parent&&window.parent!==window){var t=window.parent;try{if(t.jimuConfig&&t.jimuConfig.isBuilder)return}catch(e){}t.postMessage(e,window.location.origin)}}function s(e,t){return function(r){if(function(e){return window&&window.location.origin===e||i.some(function(t){return t.test(e)})}(r.origin)&&r.data&&!(Object.keys(o).map(function(e){return o[e]}).indexOf(r.data.type)<0)){var n=r.data;n.type===e&&t(n)}}}function u(e,t){if(window&&window.addEventListener){var r=s(e,t);return window.addEventListener("message",r,!1),r}}function c(e){window&&window.removeEventListener("message",e)}!function(e){e.JimuPageChanged="JIMU_PAGE_CHANGED",e.JimuQueryChanged="JIMU_QUERY_CHANGED"}(n=t.PostMessageType||(t.PostMessageType={})),function(e){e.ChangePage="CHANGE_PAGE",e.ChangeQuery="CHANGE_QUERY",e.HostAuth="HOST_AUTH"}(o=t.ListenMessageType||(t.ListenMessageType={})),t.postPageChangeMessage=function(e){a({type:n.JimuPageChanged,pageId:e})},t.postQueryChangeMessage=function(e){a({type:n.JimuQueryChanged,queryObject:e})},t.postMessage=a,t.listenForMessage=u,t.listenForMessageOnce=function(e){return window?new Promise(function(t){var r=u(e,function(e){c(r),t(e)})}):Promise.resolve(null)},t.removeMessageListener=c},function(e,t,r){"use strict";t.extend=function(e){var t,r,o,i,a=Array.prototype.slice.call(arguments,1);for(t=0,r=a.length;t<r;t+=1)if(o=a[t])for(i in o)n.call(o,i)&&(e[i]=o[i]);return e};var n=Object.prototype.hasOwnProperty;t.hop=n},function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),i=o.createContext(null);t.RepeatedDataSourceProvider=function(e){var t=e.data,r=e.children;return o.createElement(i.Consumer,null,function(e){var n=t;return e&&(n=Array.isArray(e)?e.concat(t):[e].concat(t)),o.createElement(i.Provider,{value:n},r)})},t.RepeatedDataSourceConsumer=i.Consumer,t.withRepeatedDataSource=function(e){function t(t){return o.createElement(i.Consumer,null,function(r){return o.createElement(e,n({},t,{repeatedDataSource:r}))})}return t.displayName="RepeatedDataSourceContextConsumerWrapper",t}},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t}(r(1).PureComponent);t.default=o},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r(121),a=r(28),s=r(34),u=r(104),c=r(66),l=r(199),f=r(47),d=r(26),p=function(e){function t(t){var r=e.call(this,t)||this;return r.portalUrl=t.dataSourceJson.portalUrl,r.itemId=t.dataSourceJson.itemId,r.layerId=t.dataSourceJson.layerId,r}return n(t,e),t.prototype.getIdField=function(){var e=this.getSchema().layerDefinition,t=e.objectIdField;if(!t){var r=e.fields.find(function(e){return"esriFieldTypeOID"===e.type});r&&(t=r.name)}return t||(t="OBJECTID"),t},t.prototype.setJsonData=function(e){var t=this;this.records=e.map(function(e){return new u.FeatureDataRecord(e,t,!1)})},t.prototype.doQuery=function(e){var t=this,r=o({url:this.url},e);return l.default.getInstance().getServiceInfo(this.url).isHostedInSamePortal&&(r.authentication=s.default.getInstance().getSession()),i.queryFeatures(r).then(function(e){return e.features.map(function(e){return new u.FeatureDataRecord(e,t)})})},t.prototype.doQueryById=function(e){return this.doQuery({objectIds:[parseInt(e)]}).then(function(e){return e[0]})},t.prototype.mergeQuery=function(e,t){var r="("+e.where+") and ("+t.where+")";return o({},e,t,{where:r})},t.prototype.addRecord=function(e){var t=this,r=s.default.getInstance(),n=e.getData(),o={attributes:n},a={authentication:r.getSession(),url:this.url,features:[o]};return i.addFeatures(a).then(function(e){var r=e.addResults[0].objectId;return n.OBJECTID=r,new u.FeatureDataRecord({attributes:n},t)})},t.prototype.fetchSchema=function(){var e=this;return l.default.getInstance().fetchServiceInfo(this.url).then(function(t){return e.itemId?c.getItemData(e.itemId,{portal:d.getPortalRestUrl(e.portalUrl),authentication:s.default.getInstance().getSession()}).then(function(r){return{serviceDefinition:t.definition,fieldInfos:r&&r.layers&&r.layers[e.layerId]&&r.layers[e.layerId].popupInfo&&r.layers[e.layerId].popupInfo.fieldInfos}}).catch(s.default.getInstance().handleAuthError.bind(s.default.getInstance())):{serviceDefinition:t.definition,fieldInfos:null}}).then(function(e){var t=e.serviceDefinition,r=e.fieldInfos,n={fields:{},layerDefinition:t};return t.fields.forEach(function(e){var t=r&&r.find(function(t){return t.fieldName===e.name});n.fields[e.name]=f.convertFieldToJimuField(e,t)}),n})},t}(a.AbstractQueriableDataSource);t.FeatureQueryDataSource=p},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t,r,n){void 0===n&&(n=!0);var o=e.call(this)||this;return o.dataSource=r,n?(t.attributes=o.convertOriginDataToData(t.attributes),o.feature=t):o.feature=t,o.fillGeometry(),o}return n(t,e),t.prototype.fillGeometry=function(){if(this.feature.geometry){var e=this.dataSource.getSchema();this.feature.geometry.spatialReference=e.layerDefinition.extent.spatialReference,this.feature.geometry.hasM=e.layerDefinition.hasM,this.feature.geometry.hasZ=e.layerDefinition.hasZ}},t.prototype.getData=function(){return this.feature.attributes},t.prototype.getOriginData=function(){var e=Object.assign({},this.feature);return e.attributes=this.convertDataToOriginData(this.getData()),e},t.prototype.toJson=function(){return this.feature},t.prototype.getId=function(){return this.feature.attributes[this.dataSource.getIdField()]+""},t.prototype.setId=function(e){},t.prototype.getGeometry=function(){return this.feature.geometry},t}(r(28).AbstractDataRecord);t.FeatureDataRecord=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(25),o=r(9),i=r(45),a=r(48),s=r(33),u=r(34),c=r(27),l=r(66),f=r(16),d=r(26),p=r(106),h=r(2),g=r(13),m=r(107),y=r(39),v=function(){function e(e){this.intl=e.intl}return e.getInstance=function(t){return e.instance||(e.instance=new e(t)),e.instance},e.prototype.loadAppConfig=function(){var e=this;return this._loadAndProcessAppConifg().then(function(t){var r=n(t);return e.setDocumentTitle(r.attributes.title),e.initTrackingManager(r)})},e.prototype.initTrackingManager=function(e){var t=e.analytics;return t?p.TrackingManager.getInstance().initialize(t).then(function(){return e},function(t){return console.error(t.message||t),e}):Promise.resolve(e)},e.prototype._loadAndProcessAppConifg=function(){var e=this;return o.getAppStore().getState().appConfig?Promise.resolve(o.getAppStore().getState().appConfig.asMutable()):this.loadRawAppConfig().then(function(t){return u.default.getInstance().getSession()&&!u.default.getInstance().getSession().clientId&&u.default.getInstance().setClientId(t.attributes.clientId),t.__not_publish?Promise.reject(new Error(e.intl.formatMessage({id:"notPublishError",defaultMessage:y.default.notPublishError}))):e.handlePortalResourceInConfig(t)}).then(function(t){return e.processRawConfig(t)})},e.prototype.processRawConfig=function(e){var t=this;return this.processAppConfigAfterLoad(e),this.loadAllWidgetsManifest(e).then(function(e){return t.applyAppConfigProcessorExtension(e)}).then(function(e){return t.addDefaultLabelAndIcon(e),t.loadAndUpgradeAllWidgetsConfig(e)})},e.prototype.setDocumentTitle=function(e){if(e)o.getAppStore().getState().appContext.isBuilder||document&&(document.title=e);else{var t=f.getAppIdPageIdFromUrl().appId;t&&this.loadAppInfoFromPortal(t).then(function(e){document&&(document.title=e.title)})}},e.prototype.loadRawAppConfig=function(){var e=s.default.getInstance().getExtensions(c.ExtensionPoints.AppConfigService)[0];return e?e.loadAppConfig():this.loadAppConfigWithDefault()},e.prototype.loadAppConfigWithDefault=function(){var e=o.getAppStore().getState();if(!e.appContext.isBuilder){var t=f.getAppIdPageIdFromUrl().appId;if(t)return this.loadAppConfigFromPortal(t)}var r=e.queryObject.config;return r||(r="config.json"),window.fetch(r).then(function(e){return e.json()}).then(function(t){return!e.portalUrl&&t.attributes&&t.attributes.portalUrl?(o.getAppStore().dispatch(g.setPortalInfo(t.attributes.portalUrl,t.attributes.clientId)),m.initPortalSelf(t.attributes.portalUrl).then(function(){return t})):t})},e.prototype.loadAppInfoFromPortal=function(e){var t=u.default.getInstance();return l.getItem(e,{portal:d.getPortalRestUrl(o.getAppStore().getState().portalUrl),authentication:t.getSession()}).catch(t.handleAuthError.bind(t))},e.prototype.loadAppConfigFromPortal=function(e){var t=u.default.getInstance(),r=o.getAppStore().getState().queryObject.draft;return"true"===r||"1"===r?h.request(d.getPortalRestUrl(o.getAppStore().getState().portalUrl)+"/content/items/"+e+"/resources/config/config.json",{authentication:t.getSession()}).catch(t.handleAuthError.bind(t)):l.getItemData(e,{portal:d.getPortalRestUrl(o.getAppStore().getState().portalUrl),authentication:t.getSession()}).catch(t.handleAuthError.bind(t))},e.prototype.applyAppConfigProcessorExtension=function(e){var t=s.default.getInstance().getExtensions(c.ExtensionPoints.AppConfigProcessor)[0];return t?t.process(e):Promise.resolve(e)},e.prototype.loadAllWidgetsManifest=function(e){var t=[],r=a.default.getInstance();return i.getAllWidgets(e).forEach(function(n,o){var i=n.uri;if(i)return e.widgetsManifest[i]?(n._originManifest=e.widgetsManifest[i],void t.push(r.processWidgetManifest(n).then(function(){return r.registerManifestProps(n)}))):void t.push(r.loadWidgetManifest(n).then(function(e){return n._originManifest=e,r.processWidgetManifest(n).then(function(){return r.registerManifestProps(n)})}))}),Promise.all(t).then(function(t){return e})},e.prototype.loadAndUpgradeAllWidgetsConfig=function(e){var t=[];return i.getAllWidgets(e).forEach(function(e,r){e.uri&&t.push(a.default.getInstance().loadWidgetConfig(e))}),Promise.all(t).then(function(t){return e})},e.prototype.processAppConfigAfterLoad=function(e){this.handleEmbedMode(e),this.addDefaultValues(e),this.fixAllIds(e),this.fixWidgetUri(e),this.addWidgetContext(e),this.addDefaultPageStructure(e)},e.prototype.handlePortalResourceInConfig=function(e){if(window.jimuConfig.isBuilder&&!window.jimuConfig.isInBuilder)return Promise.resolve(e);var t=u.default.getInstance().getSession();if(t&&t.token){var r=t.token,n=o.getAppStore().getState().portalUrl;return i.appendTokenToResource(e,r,n)}return Promise.resolve(e)},e.prototype.handleEmbedMode=function(e){var t=o.getAppStore().getState().queryObject.embedded;"true"!==t&&"1"!==t||Object.keys(e.pages).forEach(function(t){e.pages[t].header=!1,e.pages[t].footer=!1})},e.prototype.addDefaultPageStructure=function(e){e.pageStructure||(e.pageStructure=[],Object.keys(e.pages).forEach(function(t){var r;e.pageStructure.push(((r={})[t]=[],r))}))},e.prototype.fixAllIds=function(e){this.fixId(e.pages),this.fixId(e.widgets),this.fixId(e.sections),this.fixId(e.views),this.fixId(e.dialogs),this.fixId(e.messages),this.fixId(e.dataSources),i.fixLayoutIds(e)},e.prototype.fixId=function(e){e&&Object.keys(e).forEach(function(t){"string"!=typeof e[t]&&(e[t].id=t)})},e.prototype.fixWidgetUri=function(e){i.getAllWidgets(e).forEach(function(e){/\/$/.test(e.uri)||(e.uri=e.uri+"/")})},e.prototype.addWidgetContext=function(e){i.getAllWidgets(e).forEach(function(e){var t=i.getWidgetContext(e.uri);e.context=t})},e.prototype.addDefaultValues=function(e){return e.attributes||(e.attributes={}),e.widgets||(e.widgets={}),e.widgetsManifest||(e.widgetsManifest={}),e.views||(e.views={}),e.sections||(e.sections={}),e.dialogs||(e.dialogs={}),e.pages||(e.pages={}),e.layouts||(e.layouts={}),e.dataSources||(e.dataSources={}),e.messages||(e.messages=[]),this.addDefaultPageVisible(e),e},e.prototype.addDefaultPageVisible=function(e){Object.keys(e.pages).forEach(function(t){void 0===e.pages[t].isVisible&&(e.pages[t].isVisible=!0)})},e.prototype.addDefaultLabelAndIcon=function(e){i.getAllWidgets(e).forEach(function(t){i.addWidgetDefaultLabelAndIcon(e,t)})},e}();t.default=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(9),o=r(7),i=r(25),a=function(){function e(){var e=this;this.initialize=function(t){var r=!(!t||!t.enable);return r?Promise.all([e.initializeGtag(),e.createTracker(t)]).then(function(){e.enable=r},function(e){throw this.enable=!1,new Error(e)}.bind(e)):(e.enable=r,Promise.resolve())},this.initializeGtag=function(){return e.gtag?Promise.resolve():o.loadModule("gtm").then(function(){var t=window;t.dataLayer=t.dataLayer||[],e.gtag=function(){t.dataLayer.push(arguments)},e.gtag("js",new Date)})},this.compareGoogleAnalytics=function(t){if(void 0===t&&(t=i({})),e.enable){var r=e.googleAnalytics||i({});t!==r&&(t.trackId!==r.trackId&&(r.trackId&&e.disableGaTrackForGtag(r.trackId,!0),t.trackId&&e.addGaTrackIdToGtag(t.trackId,t.anonymizeip)),t.dimensions!==r.dimensions&&e.updateGgTrackerDimensions(e.track,t.dimensions),t.metrics!==r.metrics&&e.updateGgTrackerMetrics(e.track,t.metrics),t.anonymizeip!==r.anonymizeip&&e.updateGgTrackerAnonymizeip(t.trackId,t.anonymizeip),e.googleAnalytics=t)}},this.disableGaTrackForGtag=function(e,t){void 0===t&&(t=!0),e&&(window["ga-disable-"+e]=t)},this.addGaTrackIdToGtag=function(t,r){void 0===r&&(r=!0),e.gtag&&(e.disableGaTrackForGtag(t,!1),e.gtag("config",t,{anonymize_ip:r}))},this.updateGgTrackerDimensions=function(t,r){var n=e.getGgTracker(t);n&&(n.dimensions=r)},this.updateGgTrackerMetrics=function(t,r){var n=e.getGgTracker(t);n&&(n.metrics=r)},this.updateGgTrackerAnonymizeip=function(t,r){void 0===r&&(r=!0),e.gtag&&e.gtag("config",t,{anonymize_ip:r})},this.getGgTracker=function(e){return e&&e.trackers&&e.trackers.find(function(e){return"google"===e.name})},this.mutablePortalUser=function(){var e=n.getAppStore().getState().portalSelf.asMutable();return e.user=e.user.asMutable(),e},this.isTrackAvailable=function(){return e.enable,!!e.enable},n.observeStore(this.onStoreChange.bind(this),["appConfig","analytics"])}return e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.prototype.onStoreChange=function(e,t){var r=this;void 0===e&&(e=i({})),void 0===t&&(t=i({})),t.enable!==e.enable?this.initialize(t).then(function(){return r.compareGoogleAnalytics(t&&t.google)}):this.compareGoogleAnalytics(t&&t.google)},e.prototype.createTracker=function(e){var t=this;if(this.track)return Promise.resolve(this.track);var r={google:e&&e.google,portal:this.mutablePortalUser()};return o.loadModule("jimu-core/telemetry").then(function(e){return t.track=new e(r),t.track})},e.prototype.logPageView=function(e){if(this.isTrackAvailable())return this.track.logPageView(e)},e.prototype.logEvent=function(e){if(this.isTrackAvailable())return this.track.logEvent(e)},e.prototype.logError=function(e){if(this.isTrackAvailable())return this.track.logError(e)},e}();t.TrackingManager=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),o=r(26),i=r(9),a=r(34),s=r(13);t.initPortalSelf=function(e){return n.request(o.getPortalRestUrl(e)+"portals/self?f=json",{authentication:a.default.getInstance().getSession()}).then(function(e){i.getAppStore().dispatch(s.setPortalSelf(e))}).catch(a.default.getInstance().handleAuthError.bind(a.default.getInstance())).catch(function(e){console.error("get portal self error.",e)})}},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),i=r(109),a=r(7),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onKeyboardTrigger=function(e){-1===e.key.indexOf("-manual")&&a.getModuleSync("jimu-for-builder/for-app-inbuilder").appBuilderSync.letBuilderResponseToKeyboard(e)},t.isMac=function(){return/macintosh|mac os x/i.test(navigator.userAgent)},t}return n(t,e),t.prototype.render=function(){return this.isMac()?o.createElement(i.default,{onKeyboardTrigger:this.onKeyboardTrigger,bindings:{"command+keys":function(){return!1}}}):o.createElement(i.default,{onKeyboardTrigger:this.onKeyboardTrigger,bindings:{"ctrl+keys":function(){return!1}}})},t}(o.PureComponent);t.default=s},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),i=r(202),a=function(e){function t(t){var r=e.call(this,t)||this;return r.subs=[],r.keyboardListener=i.default(t.eventName,r.props.element),r.props.onKeyboardTrigger&&r.keyboardListener.setKeyboardTriggerFunction(r.props.onKeyboardTrigger),r}return n(t,e),t.prototype.componentDidMount=function(){var e=this,t=this.props,r=t.bindings,n=t.monitor;Object.keys(r).forEach(function(t){var n=r[t],o=e.keyboardListener.subscribe(t,n);e.subs.push(o)}),n&&this.keyboardListener.setMonitor(n)},t.prototype.componentWillUnmount=function(){this.subs.forEach(function(e){return e.unsubscribe()})},t.prototype.render=function(){return null},t.defaultProps={eventName:"keydown",bindings:{},monitor:null},t}(o.PureComponent);t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){return!(!e||!e.tagName)&&("BUTTON"===e.tagName||"INPUT"===e.tagName||"SELECT"===e.tagName||"TEXTAREA"===e.tagName||"DIV"===e.tagName&&"true"===e.contentEditable||"SPAN"===e.tagName&&"true"===e.contentEditable)}},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),i=function(e){function t(t){var r=e.call(this,t)||this;return r.state={error:null},r}return n(t,e),t.prototype.componentDidCatch=function(e,t){this.setState({error:e})},t.prototype.render=function(){return this.state.error?o.createElement("h1",null,this.state.error.message):this.props.children},t}(o.Component);t.ErrorBoundary=i},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),i=r(29),a=r(28),s=r(17),u=r(19),c=function(e){function t(t){var r=e.call(this,t)||this;return r.state={query:t.query||t.defaultQuery},r}return n(t,e),t.prototype.componentDidMount=function(){this.createDataSource(),this.props.dataSource&&this.props.onDataSourceCreated&&this.props.onDataSourceCreated(this.props.dataSource),this.props.dataSourceInfo&&this.props.onDataSourceInfoChange&&this.props.onDataSourceInfoChange(this.props.dataSourceInfo),this.doQuery()},t.prototype.componentDidUpdate=function(e){this.createDataSource(),(!e.dataSource&&this.props.dataSource||e.dataSource&&this.props.dataSource&&e.dataSource.id!==this.props.dataSource.id)&&this.props.onDataSourceCreated&&this.props.onDataSourceCreated(this.props.dataSource),e.dataSourceInfo!==this.props.dataSourceInfo&&this.props.onDataSourceInfoChange&&this.props.onDataSourceInfoChange(this.props.dataSourceInfo),this.doQuery()},t.prototype.render=function(){return this.props.useDataSource?this.props.dataSource&&this.props.dataSourceInfo?this.props.children?"function"==typeof this.props.children?this.props.children(this.props.dataSource,this.props.dataSourceInfo,this.props.useDataSource.fields||[]):this.props.children:null:o.createElement("div",{style:{position:"absolute",left:"50%",top:"50%"},className:"jimu-small-loading"}):(console.log("No data source configured."),null)},t.prototype.doQuery=function(){var e=this.props,t=e.dataSource,r=e.query,n=e.refresh,o=e.defaultQuery,i=e.onDataSourceQueryChange;if(t){var s=t;s.getQueryParam&&!u.isDeepEqual(s.getQueryParam(),this.state.query)&&(i&&i(s,s.getQueryParam()),this.setState({query:s.getQueryParam()})),s.load&&(r?s.load(r,n):s.getStatus()===a.DataSourceStatus.Unloaded&&o&&s.load(o,n))}},t.prototype.createDataSource=function(){var e=this;if(this.props.useDataSource){var t=this.props.dataSourceManager;if(!t.getDataSource(this.props.useDataSource.dataSourceId)){var r=this.props.dataSourceJson;if(r)!r.isOutputFromWidget&&t.createDataSource(r).then(function(e){},function(t){e.props.onCreateDataSourceFailed&&e.props.onCreateDataSourceFailed(t)});else{var n=this.props.rootDataSourceJson;if(!n)return void console.error("Can not find data source:",this.props.useDataSource.dataSourceId);!n.isOutputFromWidget&&t.createDataSource(n).then(function(e){},function(t){e.props.onCreateDataSourceFailed&&e.props.onCreateDataSourceFailed(t)})}}}},t}(o.PureComponent);t.DataSourceComponentInner=c;t.default=i.connect(function(e,t){var r=s.default.getInstance();return{dataSourceInfo:t.useDataSource&&e.dataSourcesInfo[t.useDataSource.dataSourceId],dataSourceJson:t.useDataSource&&e.appConfig.dataSources[t.useDataSource.dataSourceId],rootDataSourceJson:t.useDataSource&&e.appConfig.dataSources[t.useDataSource.rootDataSourceId],dataSource:t.useDataSource&&r.getDataSource(t.useDataSource.dataSourceId),dataSourceManager:r}})(c)},function(e,t,r){(function(t){var r="Expected a function",n=NaN,o="[object Symbol]",i=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt,l="object"==typeof t&&t&&t.Object===Object&&t,f="object"==typeof self&&self&&self.Object===Object&&self,d=l||f||Function("return this")(),p=Object.prototype.toString,h=Math.max,g=Math.min,m=function(){return d.Date.now()};function y(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function v(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&p.call(e)==o}(e))return n;if(y(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=y(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var r=s.test(e);return r||u.test(e)?c(e.slice(2),r?2:8):a.test(e)?n:+e}e.exports=function(e,t,n){var o,i,a,s,u,c,l=0,f=!1,d=!1,p=!0;if("function"!=typeof e)throw new TypeError(r);function b(t){var r=o,n=i;return o=i=void 0,l=t,s=e.apply(n,r)}function S(e){var r=e-c;return void 0===c||r>=t||r<0||d&&e-l>=a}function w(){var e=m();if(S(e))return _(e);u=setTimeout(w,function(e){var r=t-(e-c);return d?g(r,a-(e-l)):r}(e))}function _(e){return u=void 0,p&&o?b(e):(o=i=void 0,s)}function I(){var e=m(),r=S(e);if(o=arguments,i=this,c=e,r){if(void 0===u)return function(e){return l=e,u=setTimeout(w,t),f?b(e):s}(c);if(d)return u=setTimeout(w,t),b(c)}return void 0===u&&(u=setTimeout(w,t)),s}return t=v(t)||0,y(n)&&(f=!!n.leading,a=(d="maxWait"in n)?h(v(n.maxWait)||0,t):a,p="trailing"in n?!!n.trailing:p),I.cancel=function(){void 0!==u&&clearTimeout(u),l=0,o=c=i=u=void 0},I.flush=function(){return void 0===u?s:_(m())},I}}).call(this,r(8))},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e){e.id&&(this.id=e.id),e.name&&(this.name=e.name),e.index&&(this.index=e.index),e.widgetId&&(this.widgetId=e.widgetId)}return e.prototype.destroy=function(){},e}();t.AbstractDataAction=o;var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.isSupported=function(e,t){return!0},t.prototype.onExecute=function(e,t){return Promise.resolve(!0)},t}(o);t.DummnyDataAction=i},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(65),i=r(17),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.name="filter data record action",t}return n(t,e),t.prototype.filterMessageType=function(e){return e===o.MessageType.DataRecordsSelectionChange||e==o.MessageType.SpatialDataRecordsSelectionChange||e==o.MessageType.SelectDataRecord},t.prototype.filterMessage=function(e){return!0},t.prototype.onExecute=function(e,t){switch(e.type){case o.MessageType.DataRecordsSelectionChange:break;case o.MessageType.SpatialDataRecordsSelectionChange:if(!t.dataSourceId||!t.messageField||!t.dataSourceField)break;var r=i.default.getInstance().getDataSource(t.dataSourceId);if(r){for(var n=e,a=r,s=t.dataSourceField.name+" IN ",u=t.messageField.name,c=t.messageField.type,l=[],f=0;f<n.records.length;f++){var d=n.records[f].getData()[u];l.indexOf(""+this.formatValue(d,c))>-1||l.push(""+this.formatValue(n.records[f].getData()[u],c))}if(l.length>0){var p={outFields:["*"],where:s=s+"("+l.join(", ")+")",returnGeometry:!0};a.load(p)}else{p={outFields:["*"],where:"",returnGeometry:!0};a.load(p)}}break;case o.MessageType.SelectDataRecord:}return!0},t.prototype.formatValue=function(e,t){return"STRING"===t?"'"+e+"'":"NUMBER"===t?""+e:"DATE"===t?"'"+e+"'":void 0},t}(o.AbstractMessageAction);t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Count="count",e.Sum="sum",e.Min="min",e.Max="max",e.Avg="avg"}(t.StatisticType||(t.StatisticType={})),t.ESRIOBJECTIDTYPE="esriFieldTypeOID"},,,,,function(e,t,r){"use strict";r.r(t);var n=r(0),o=r(87),i=r(86),a=r(88);function s(e){var t=Object(o.a)(e.url)+"/"+e.id,r=n.a({httpMethod:"GET"},e);return Object(i.d)(t,r).then(function(e){return r.rawResponse?e:e.feature})}function u(e){var t=Object(a.a)(e,["where","objectIds","relationParam","time","distance","units","outFields","geometry","geometryType","spatialRel","returnGeometry","maxAllowableOffset","geometryPrecision","outSR","gdbVersion","returnDistinctValues","returnIdsOnly","returnCountOnly","returnExtentOnly","orderByFields","groupByFieldsForStatistics","outStatistics","returnZ","returnM","multipatchOption","resultOffset","resultRecordCount","quantizationParameters","returnCentroid","resultType","historicMoment","returnTrueCurves","sqlFormat","returnExceededLimitFeatures","f"],{httpMethod:"GET",params:n.a({where:"1=1",outFields:"*"},e.params)});return Object(i.d)(Object(o.a)(e.url)+"/query",t)}function c(e){var t=Object(o.a)(e.url)+"/addFeatures",r=Object(a.a)(e,["features","gdbVersion","returnEditMoment","rollbackOnFailure"],{params:n.a({},e.params)});return Object(i.d)(t,r)}function l(e){var t=Object(o.a)(e.url)+"/updateFeatures",r=Object(a.a)(e,["features","gdbVersion","returnEditMoment","rollbackOnFailure"],{params:n.a({},e.params)});return Object(i.d)(t,r)}function f(e){var t=Object(o.a)(e.url)+"/deleteFeatures",r=Object(a.a)(e,["where","objectIds","gdbVersion","returnEditMoment","rollbackOnFailure"],{params:n.a({},e.params)});return Object(i.d)(t,r)}function d(e){var t=n.a({httpMethod:"GET"},e);return Object(i.d)(Object(o.a)(t.url)+"/"+t.featureId+"/attachments",t)}function p(e){var t=n.a({params:{}},e);return t.params.attachment=e.attachment,Object(i.d)(Object(o.a)(t.url)+"/"+t.featureId+"/addAttachment",t)}function h(e){var t=n.a({params:{}},e);return t.params.attachment=e.attachment,t.params.attachmentId=e.attachmentId,Object(i.d)(Object(o.a)(t.url)+"/"+t.featureId+"/updateAttachment",t)}function g(e){var t=n.a({params:{}},e);return t.params.attachmentIds=e.attachmentIds,Object(i.d)(Object(o.a)(t.url)+"/"+t.featureId+"/deleteAttachments",t)}function m(e){var t=Object(a.a)(e,["objectIds","relationshipId","definitionExpression","outFields"],{httpMethod:"GET",params:n.a({definitionExpression:"1=1",outFields:"*",relationshipId:0},e.params)});return Object(i.d)(Object(o.a)(e.url)+"/queryRelatedRecords",t)}function y(e){return Object(i.d)(Object(o.a)(e.url),e)}function v(e){return new Promise(function(t){if(!e.fields)return y({url:e.url}).then(function(r){t(e.fields=r.fields)});t(e.fields)}).then(function(t){var r=function(e){return e.reduce(function(e,t){var r=t.domain;return r&&"codedValue"===r.type&&(e[t.name]=r),e},{})}(t);if(Object.keys(r).length<1)return e.queryResponse;var o=e.queryResponse.features.map(function(e){var t={};for(var o in e.attributes)if(e.attributes.hasOwnProperty(o)){var i=e.attributes[o],a=r[o];t[o]=null!==i&&a?b(i,a):i}return n.a({},e,{attributes:t})});return n.a({},e.queryResponse,{features:o})})}function b(e,t){var r=t.codedValues.find(function(t){return e===t.code});return r?r.name:e}r.d(t,"getFeature",function(){return s}),r.d(t,"queryFeatures",function(){return u}),r.d(t,"addFeatures",function(){return c}),r.d(t,"updateFeatures",function(){return l}),r.d(t,"deleteFeatures",function(){return f}),r.d(t,"getAttachments",function(){return d}),r.d(t,"addAttachment",function(){return p}),r.d(t,"updateAttachment",function(){return h}),r.d(t,"deleteAttachments",function(){return g}),r.d(t,"queryRelated",function(){return m}),r.d(t,"getLayer",function(){return y}),r.d(t,"decodeValues",function(){return v})},function(e,t,r){"use strict";r.r(t);var n=r(0),o=r(86);function i(e,t){var r=t;return r.rawResponse=!1,Object(o.d)(e,r).then(function(e){var t={token:e.access_token,username:e.username,expires:new Date(Date.now()+(1e3*e.expires_in-1e3)),ssl:!0===e.ssl};return e.refresh_token&&(t.refreshToken=e.refresh_token),t})}var a=function(){function e(e){this.clientId=e.clientId,this.clientSecret=e.clientSecret,this.token=e.token,this.expires=e.expires,this.portal=e.portal||"https://www.arcgis.com/sharing/rest",this.duration=e.duration||7200}return e.prototype.getToken=function(e,t){return this.token&&this.expires&&this.expires.getTime()>Date.now()?Promise.resolve(this.token):this._pendingTokenRequest?this._pendingTokenRequest:(this._pendingTokenRequest=this.refreshToken(t),this._pendingTokenRequest)},e.prototype.refreshToken=function(e){var t=this,r=n.a({params:{client_id:this.clientId,client_secret:this.clientSecret,grant_type:"client_credentials",expiration:this.duration}},e);return i(this.portal+"/oauth2/token/",r).then(function(e){return t._pendingTokenRequest=null,t.token=e.token,t.expires=e.expires,e.token})},e.prototype.refreshSession=function(){var e=this;return this.refreshToken().then(function(){return e})},e}(),s=r(87),u=r(31);function c(e,t){var r=t;return"undefined"!=typeof window&&window.location&&window.location.host?r.params.referer=window.location.host:r.params.referer=o.b,Object(o.d)(e,r)}var l=/^https?:\/\/(\S+)\.arcgis\.com.+/;function f(e){return l.test(e)}function d(e){if(!l.test(e))return null;var t=e.match(l)[1].split(".").pop();return t.includes("dev")?"dev":t.includes("qa")?"qa":"production"}function p(e,t){var r=Object(s.a)(function(e){if(!l.test(e))return e;switch(d(e)){case"dev":return"https://devext.arcgis.com/sharing/rest";case"qa":return"https://qaext.arcgis.com/sharing/rest";default:return"https://www.arcgis.com/sharing/rest"}}(t)).replace(/https?:\/\//,""),n=Object(s.a)(e).replace(/https?:\/\//,"");return new RegExp(n,"i").test(r)}var h=function(){function e(e){if(this.clientId=e.clientId,this._refreshToken=e.refreshToken,this._refreshTokenExpires=e.refreshTokenExpires,this.username=e.username,this.password=e.password,this._token=e.token,this._tokenExpires=e.tokenExpires,this.portal=e.portal?Object(s.a)(e.portal):"https://www.arcgis.com/sharing/rest",this.ssl=e.ssl,this.provider=e.provider||"arcgis",this.tokenDuration=e.tokenDuration||20160,this.redirectUri=e.redirectUri,this.refreshTokenTTL=e.refreshTokenTTL||1440,this.trustedServers={},e.server){var t=this.getServerRootUrl(e.server);this.trustedServers[t]={token:e.token,expires:e.tokenExpires}}this._pendingTokenRequests={}}return e.beginOAuth2=function(t,r){void 0===r&&(r=window);var i,a=n.a({portal:"https://www.arcgis.com/sharing/rest",provider:"arcgis",duration:20160,popup:!0,state:t.clientId,locale:""},t),s=a.portal,c=a.provider,l=a.clientId,f=a.duration,d=a.redirectUri,p=a.popup,h=a.state,g=a.locale,m=a.params;if(i="arcgis"===c?s+"/oauth2/authorize?client_id="+l+"&response_type=token&expiration="+f+"&redirect_uri="+encodeURIComponent(d)+"&state="+h+"&locale="+g:s+"/oauth2/social/authorize?client_id="+l+"&socialLoginProviderName="+c+"&autoAccountCreateForSocial=true&response_type=token&expiration="+f+"&redirect_uri="+encodeURIComponent(d)+"&state="+h+"&locale="+g,m&&(i=i+"&"+Object(u.b)(m)),p){var y=function(){var e={promise:null,resolve:null,reject:null};return e.promise=new Promise(function(t,r){e.resolve=t,e.reject=r}),e}();return r["__ESRI_REST_AUTH_HANDLER_"+l]=function(t,r){if(t){var n=JSON.parse(t);y.reject(new o.a(n.errorMessage,n.error))}else if(r){var i=JSON.parse(r);y.resolve(new e({clientId:l,portal:s,ssl:i.ssl,token:i.token,tokenExpires:new Date(i.expires),username:i.username}))}},r.open(i,"oauth-window","height=400,width=600,menubar=no,location=yes,resizable=yes,scrollbars=yes,status=yes"),y.promise}r.location.href=i},e.completeOAuth2=function(t,r){void 0===r&&(r=window);var i=n.a({portal:"https://www.arcgis.com/sharing/rest"},t),a=i.portal,s=i.clientId;function u(t,n){if(r.opener&&r.opener.parent)return r.opener.parent["__ESRI_REST_AUTH_HANDLER_"+s](t?JSON.stringify(t):void 0,JSON.stringify(n)),void r.close();if(r!==r.parent)return r.parent["__ESRI_REST_AUTH_HANDLER_"+s](t?JSON.stringify(t):void 0,JSON.stringify(n)),void r.close();if(t)throw new o.a(t.errorMessage,t.error);return new e({clientId:s,portal:a,ssl:n.ssl,token:n.token,tokenExpires:n.expires,username:n.username})}var c=r.location.href.match(/access_token=(.+)&expires_in=(.+)&username=([^&]+)/);if(!c){var l=r.location.href.match(/error=(.+)&error_description=(.+)/);return u({error:l[1],errorMessage:decodeURIComponent(l[2])})}var f=c[1],d=new Date(Date.now()+1e3*parseInt(c[2],10)-6e4),p=decodeURIComponent(c[3]);return u(void 0,{token:f,expires:d,ssl:r.location.href.indexOf("&ssl=true")>-1||r.location.href.indexOf("#ssl=true")>-1,username:p})},e.authorize=function(e,t){var r=n.a({portal:"https://arcgis.com/sharing/rest",duration:20160},e),o=r.portal,i=r.clientId,a=r.duration,s=r.redirectUri;t.writeHead(301,{Location:o+"/oauth2/authorize?client_id="+i+"&duration="+a+"&response_type=code&redirect_uri="+encodeURIComponent(s)}),t.end()},e.exchangeAuthorizationCode=function(t,r){var o=n.a({portal:"https://www.arcgis.com/sharing/rest",refreshTokenTTL:1440},t),a=o.portal,s=o.clientId,u=o.redirectUri,c=o.refreshTokenTTL;return i(a+"/oauth2/token",{params:{grant_type:"authorization_code",client_id:s,redirect_uri:u,code:r}}).then(function(t){return new e({clientId:s,portal:a,ssl:t.ssl,redirectUri:u,refreshToken:t.refreshToken,refreshTokenTTL:c,refreshTokenExpires:new Date(Date.now()+1e3*(c-1)),token:t.token,tokenExpires:t.expires,username:t.username})})},e.deserialize=function(t){var r=JSON.parse(t);return new e({clientId:r.clientId,refreshToken:r.refreshToken,refreshTokenExpires:new Date(r.refreshTokenExpires),username:r.username,password:r.password,token:r.token,tokenExpires:new Date(r.tokenExpires),portal:r.portal,ssl:r.ssl,tokenDuration:r.tokenDuration,redirectUri:r.redirectUri,refreshTokenTTL:r.refreshTokenTTL})},e.fromCredential=function(t){return new e({portal:t.server.includes("sharing/rest")?t.server:t.server+"/sharing/rest",ssl:t.ssl,token:t.token,username:t.userId,tokenExpires:new Date(t.expires)})},Object.defineProperty(e.prototype,"token",{get:function(){return this._token},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tokenExpires",{get:function(){return this._tokenExpires},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"refreshToken",{get:function(){return this._refreshToken},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"refreshTokenExpires",{get:function(){return this._refreshTokenExpires},enumerable:!0,configurable:!0}),e.prototype.toCredential=function(){return{expires:this.tokenExpires.getTime(),server:this.portal,ssl:this.ssl,token:this.token,userId:this.username}},e.prototype.getUser=function(e){var t=this;if(this._user&&this._user.username===this.username)return Promise.resolve(this._user);var r=this.portal+"/community/users/"+encodeURIComponent(this.username),i=n.a({httpMethod:"GET",authentication:this},e,{rawResponse:!1});return Object(o.d)(r,i).then(function(e){return t._user=e,e})},e.prototype.getToken=function(e,t){return function(e,t){var r=f(e),n=f(t),o=d(e),i=d(t);return!(!r||!n||o!==i)}(this.portal,e)?this.getFreshToken(t):new RegExp(this.portal,"i").test(e)?this.getFreshToken(t):this.getTokenForServer(e,t)},e.prototype.toJSON=function(){return{clientId:this.clientId,refreshToken:this.refreshToken,refreshTokenExpires:this.refreshTokenExpires,username:this.username,password:this.password,token:this.token,tokenExpires:this.tokenExpires,portal:this.portal,ssl:this.ssl,tokenDuration:this.tokenDuration,redirectUri:this.redirectUri,refreshTokenTTL:this.refreshTokenTTL}},e.prototype.serialize=function(){return JSON.stringify(this)},e.prototype.refreshSession=function(e){return this._user=null,this.username&&this.password?this.refreshWithUsernameAndPassword(e):this.clientId&&this.refreshToken?this.refreshWithRefreshToken():Promise.reject(new o.a("Unable to refresh token."))},e.prototype.getServerRootUrl=function(e){var t=e.split(/\/rest(\/admin)?\/services(?:\/|#|\?|$)/)[0].match(/(https?:\/\/)(.+)/),r=(t[0],t[1]),n=t[2].split("/"),o=n[0],i=n.slice(1);return""+r+o.toLowerCase()+"/"+i.join("/")},e.prototype.getTokenForServer=function(e,t){var r=this,n=this.getServerRootUrl(e),i=this.trustedServers[n];return i&&i.expires&&i.expires.getTime()>Date.now()?Promise.resolve(i.token):this._pendingTokenRequests[n]?this._pendingTokenRequests[n]:(this._pendingTokenRequests[n]=Object(o.d)(n+"/rest/info").then(function(i){if(i.owningSystemUrl){if(p(i.owningSystemUrl,r.portal))return Object(o.d)(i.owningSystemUrl+"/sharing/rest/info",t);throw new o.a(e+" is not federated with "+r.portal+".","NOT_FEDERATED")}if(i.authInfo&&void 0!==r.trustedServers[n])return Promise.resolve({authInfo:i.authInfo});throw new o.a(e+" is not federated with any portal and is not explicitly trusted.","NOT_FEDERATED")}).then(function(e){return e.authInfo.tokenServicesUrl}).then(function(t){return r.token&&r.tokenExpires.getTime()>Date.now()?c(t,{params:{token:r.token,serverUrl:e,expiration:r.tokenDuration,client:"referer"}}):c(t,{params:{username:r.username,password:r.password,expiration:r.tokenDuration,client:"referer"}}).then(function(e){return r._token=e.token,r._tokenExpires=new Date(e.expires),e})}).then(function(e){return r.trustedServers[n]={expires:new Date(e.expires),token:e.token},e.token}),this._pendingTokenRequests[n])},e.prototype.getFreshToken=function(e){var t=this;return this.token&&this.tokenExpires&&this.tokenExpires.getTime()>Date.now()?Promise.resolve(this.token):(this._pendingTokenRequests[this.portal]||(this._pendingTokenRequests[this.portal]=this.refreshSession(e).then(function(e){return t._pendingTokenRequests[t.portal]=null,e.token})),this._pendingTokenRequests[this.portal])},e.prototype.refreshWithUsernameAndPassword=function(e){var t=this,r=n.a({params:{username:this.username,password:this.password,expiration:this.tokenDuration}},e);return c(this.portal+"/generateToken",r).then(function(e){return t._token=e.token,t._tokenExpires=new Date(e.expires),t})},e.prototype.refreshWithRefreshToken=function(e){var t=this;if(this.refreshToken&&this.refreshTokenExpires&&this.refreshTokenExpires.getTime()<Date.now())return this.refreshRefreshToken(e);var r=n.a({params:{client_id:this.clientId,refresh_token:this.refreshToken,grant_type:"refresh_token"}},e);return i(this.portal+"/oauth2/token",r).then(function(e){return t._token=e.token,t._tokenExpires=e.expires,t})},e.prototype.refreshRefreshToken=function(e){var t=this,r=n.a({params:{client_id:this.clientId,refresh_token:this.refreshToken,redirect_uri:this.redirectUri,grant_type:"exchange_refresh_token"}},e);return i(this.portal+"/oauth2/token",r).then(function(e){return t._token=e.token,t._tokenExpires=e.expires,t._refreshToken=e.refreshToken,t._refreshTokenExpires=new Date(Date.now()+60*(t.refreshTokenTTL-1)*1e3),t})},e}();r.d(t,"ApplicationSession",function(){return a}),r.d(t,"UserSession",function(){return h}),r.d(t,"fetchToken",function(){return i}),r.d(t,"generateToken",function(){return c})},function(e,t,r){"use strict";var n=r(67),o=(r(1),{childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0}),i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={};a[n.ForwardRef]={$$typeof:!0,render:!0};var s=Object.defineProperty,u=Object.getOwnPropertyNames,c=Object.getOwnPropertySymbols,l=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,d=Object.prototype;e.exports=function e(t,r,n){if("string"!=typeof r){if(d){var p=f(r);p&&p!==d&&e(t,p,n)}var h=u(r);c&&(h=h.concat(c(r)));for(var g=a[t.$$typeof]||o,m=a[r.$$typeof]||o,y=0;y<h.length;++y){var v=h[y];if(!(i[v]||n&&n[v]||m&&m[v]||g&&g[v])){var b=l(r,v);try{s(t,v,b)}catch(e){}}}return t}return t}},function(e,t,r){"use strict";function n(e){var t,r=e.Symbol;return"function"==typeof r?r.observable?t=r.observable:(t=r("observable"),r.observable=t):t="@@observable",t}r.d(t,"a",function(){return n})},function(e,t,r){"use strict";(function(e){var r="object"==typeof e&&e&&e.Object===Object&&e;t.a=r}).call(this,r(8))},function(e,t,r){"use strict";var n=r(176),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return n.isMemo(e)?a:s[e.$$typeof]||o}s[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0};var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,r,n){if("string"!=typeof r){if(h){var o=p(r);o&&o!==h&&e(t,o,n)}var a=l(r);f&&(a=a.concat(f(r)));for(var s=u(t),g=u(r),m=0;m<a.length;++m){var y=a[m];if(!(i[y]||n&&n[y]||g&&g[y]||s&&s[y])){var v=d(r,y);try{c(t,y,v)}catch(e){}}}return t}return t}},function(e,t){},function(e,t,r){"use strict";var n={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i=Object.defineProperty,a=Object.getOwnPropertyNames,s=Object.getOwnPropertySymbols,u=Object.getOwnPropertyDescriptor,c=Object.getPrototypeOf,l=c&&c(Object);e.exports=function e(t,r,f){if("string"!=typeof r){if(l){var d=c(r);d&&d!==l&&e(t,d,f)}var p=a(r);s&&(p=p.concat(s(r)));for(var h=0;h<p.length;++h){var g=p[h];if(!(n[g]||o[g]||f&&f[g])){var m=u(r,g);try{i(t,g,m)}catch(e){}}}return t}return t}},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0});var o=r(1);t.React=o;var i=r(130);t.ReactDOM=i;var a=r(29);t.ReactRedux=a;var s=r(42);t.queryString=s;var u=r(25);t.Immutable=u;var c=r(138);t.classNames=c;var l=r(74);t.uuidv1=l;var f=r(21),d=r(79);t.styled=d.default;var p=r(52),h=r(149),g=r(152),m=r(154),y=r(161),v=r(162),b=r(83),S=r(163),w=r(165),_=r(166),I=r(11);t.invariant=I;var O=r(122),x=r(121),C=r(2),P=r(66),A=r(168),j=r(13);t.appActions=j;var E=r(19);t.utils=E;var T=r(16);t.urlUtils=T;var k=r(26);t.portalUrlUtils=k;var M=r(45);t.appConfigUtils=M;var D=r(175);t.themeUtils=D;var R=r(180);t.keyboardUtils=R;var F=r(27);t.extensionSpec=F;var L=r(7);t.moduleLoader=L;var N=r(60);t.jimuHistory=N;var U=r(61);t.i18n=U;var W=r(38);t.FormattedDate=W.FormattedDate,t.FormattedHTMLMessage=W.FormattedHTMLMessage,t.FormattedMessage=W.FormattedMessage,t.FormattedNumber=W.FormattedNumber,t.FormattedPlural=W.FormattedPlural,t.FormattedRelative=W.FormattedRelative,t.FormattedTime=W.FormattedTime,t.IntlProvider=W.IntlProvider,t.injectIntl=W.injectIntl;var q=r(101);t.RepeatedDataSourceProvider=q.RepeatedDataSourceProvider,t.withRepeatedDataSource=q.withRepeatedDataSource;var z=r(47);t.dataSourceUtils=z;var B=r(94);t.CONSTANTS=B;var G=r(197);t.I18NManager=G.default;var V=r(102);t.BaseWidget=V.default;var H=r(48);t.WidgetManager=H.default;var $=r(105);t.ConfigManager=$.default;var J=r(17);t.DataSourceManager=J.default;var K=r(63);t.MessageManager=K.default;var Q=r(34);t.SessionManager=Q.default;var Y=r(33);t.ExtensionManager=Y.default;var X=r(64);t.DataActionManager=X.default;var Z=r(46);t.ThemeManager=Z.default;var ee=r(200);t.AppRoot=ee.default;var te=r(39);t.defaultMessages=te.default;var re=r(59);t.MutableStoreManager=re.default;var ne=r(112);t.DataSourceComponent=ne.default,t.DataSourceComponentInner=ne.DataSourceComponentInner;var oe=r(207);t.DataQueryComponent=oe.default;var ie=r(208);t.MultipleDataSourceComponent=ie.default;var ae=r(109);t.Keyboard=ae.default;var se=r(108);t.AppKeyboardComponent=se.default;var ue=r(44),ce=r(98),le={getValue:ue,assign:r(209),defer:r(210),debounce:r(113),setValue:ce,isDeepEqual:r(56),cloneDeep:r(95),throttle:r(211)};t.lodash=le;var fe={restAuth:O,restFeatureLayer:x,restPortal:P,restRequest:C,sanitizer:A};t.esri=fe;var de={rgba:p,rem:h,readableColor:g,darken:m,ellipsis:y,mix:v,stripUnit:b,math:S,getValueAndUnit:w,borderRadius:_};t.polished=de;var pe=f.jsx;t.jsx=pe;var he=f.css;t.css=he;var ge=f.Global;t.Global=ge,n(r(97)),n(r(57)),n(r(14)),n(r(20)),n(r(28)),n(r(104)),n(r(103)),n(r(65)),n(r(212)),n(r(9)),n(r(106));var me=r(217);t.LoadingHandler=me.LoadingHandler,n(r(62)),n(r(218)),n(r(111)),n(r(114)),n(r(115)),n(r(219))},function(e,r){e.exports=t},function(e,t,r){"use strict";var n=r(132);function o(){}e.exports=function(){function e(e,t,r,o,i,a){if(a!==n){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return r.checkPropTypes=o,r.PropTypes=r,r}},function(e,t,r){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,r){"use strict";
/** @license React v16.6.0
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&Symbol.for,o=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,f=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,h=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116;function m(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case f:case a:case u:case s:return e;default:switch(e=e&&e.$$typeof){case l:case d:case c:return e;default:return t}}case i:return t}}}function y(e){return m(e)===f}t.typeOf=m,t.AsyncMode=f,t.ConcurrentMode=f,t.ContextConsumer=l,t.ContextProvider=c,t.Element=o,t.ForwardRef=d,t.Fragment=a,t.Profiler=u,t.Portal=i,t.StrictMode=s,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===f||e===u||e===s||e===p||"object"==typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===h||e.$$typeof===c||e.$$typeof===l||e.$$typeof===d)},t.isAsyncMode=function(e){return y(e)},t.isConcurrentMode=y,t.isContextConsumer=function(e){return m(e)===l},t.isContextProvider=function(e){return m(e)===c},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===o},t.isForwardRef=function(e){return m(e)===d},t.isFragment=function(e){return m(e)===a},t.isProfiler=function(e){return m(e)===u},t.isPortal=function(e){return m(e)===i},t.isStrictMode=function(e){return m(e)===s}},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,r){"use strict";e.exports=(e=>encodeURIComponent(e).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`))},function(e,t,r){"use strict";var n=new RegExp("%[a-f0-9]{2}","gi"),o=new RegExp("(%[a-f0-9]{2})+","gi");function i(e,t){try{return decodeURIComponent(e.join(""))}catch(e){}if(1===e.length)return e;t=t||1;var r=e.slice(0,t),n=e.slice(t);return Array.prototype.concat.call([],i(r),i(n))}function a(e){try{return decodeURIComponent(e)}catch(o){for(var t=e.match(n),r=1;r<t.length;r++)t=(e=i(t,r).join("")).match(n);return e}}e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"","%FF%FE":""},r=o.exec(e);r;){try{t[r[0]]=decodeURIComponent(r[0])}catch(e){var n=a(r[0]);n!==r[0]&&(t[r[0]]=n)}r=o.exec(e)}t["%C2"]="";for(var i=Object.keys(t),s=0;s<i.length;s++){var u=i[s];e=e.replace(new RegExp(u,"g"),t[u])}return e}(e)}}},function(e,t,r){"use strict";e.exports=((e,t)=>{if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];const r=e.indexOf(t);return-1===r?[e]:[e.slice(0,r),e.slice(r+t.length)]})},function(e,t,r){var n;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
!function(){"use strict";var r={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var i=typeof n;if("string"===i||"number"===i)e.push(n);else if(Array.isArray(n)&&n.length){var a=o.apply(null,n);a&&e.push(a)}else if("object"===i)for(var s in n)r.call(n,s)&&n[s]&&e.push(s)}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(n=function(){return o}.apply(t,[]))||(e.exports=n)}()},function(e,t){var r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(r){var n=new Uint8Array(16);e.exports=function(){return r(n),n}}else{var o=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o}}},function(e,t){for(var r=[],n=0;n<256;++n)r[n]=(n+256).toString(16).substr(1);e.exports=function(e,t){var n=t||0,o=r;return[o[e[n++]],o[e[n++]],o[e[n++]],o[e[n++]],"-",o[e[n++]],o[e[n++]],"-",o[e[n++]],o[e[n++]],"-",o[e[n++]],o[e[n++]],"-",o[e[n++]],o[e[n++]],o[e[n++]],o[e[n++]],o[e[n++]],o[e[n++]]].join("")}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(75),o=r(142),i=r(143);function a(e){e&&s.current.insert(e+"}")}var s={current:null},u=function(e,t,r,n,o,i,u,c,l,f){switch(e){case 1:switch(t.charCodeAt(0)){case 64:return s.current.insert(t+";"),"";case 108:if(98===t.charCodeAt(2))return""}break;case 2:if(0===c)return t+"/*|*/";break;case 3:switch(c){case 102:case 112:return s.current.insert(r[0]+t),"";default:return t+(0===f?"/*|*/":"")}case-2:t.split("/*|*/}").forEach(a)}},c=function(e,t){if(1===e&&108===t.charCodeAt(0)&&98===t.charCodeAt(2))return""},l="undefined"!=typeof document,f={},d=l?void 0:i.default(function(){var e=i.default(function(){return{}}),t={},r={};return function(n){return void 0===n||!0===n?t:!1===n?r:e(n)}});t.default=function(e){void 0===e&&(e={});var t,r=e.key||"css";void 0!==e.prefix&&(t={prefix:e.prefix});var i=new o.default(t);var a,p,h={};if(l){a=e.container||document.head;var g=document.querySelectorAll("style[data-emotion-"+r+"]");Array.prototype.forEach.call(g,function(e){e.getAttribute("data-emotion-"+r).split(" ").forEach(function(e){h[e]=!0}),e.parentNode!==a&&a.appendChild(e)})}if(l)i.use(e.stylisPlugins)(u),p=function(e,t,r,n){var o=t.name;s.current=r,i(e,t.styles),n&&(y.inserted[o]=!0)};else{i.use(c);var m=f;(e.stylisPlugins||void 0!==e.prefix)&&(i.use(e.stylisPlugins),m=d(e.stylisPlugins||f)(e.prefix)),p=function(e,t,r,n){var o=t.name,a=function(e,t){var r=t.name;return void 0===m[r]&&(m[r]=i(e,t.styles)),m[r]}(e,t);return void 0===y.compat?(n&&(y.inserted[o]=!0),a):n?void(y.inserted[o]=a):a}}var y={key:r,sheet:new n.StyleSheet({key:r,container:a,nonce:e.nonce,speedy:e.speedy}),nonce:e.nonce,inserted:h,registered:{},insert:p};return y}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(e,t,n){var o=t.trim().split(h);t=o;var i=o.length,a=e.length;switch(a){case 0:case 1:var s=0;for(e=0===a?"":e[0]+" ";s<i;++s)t[s]=r(e,t[s],n).trim();break;default:var u=s=0;for(t=[];s<i;++s)for(var c=0;c<a;++c)t[u++]=r(e[c]+" ",o[s],n).trim()}return t}function r(e,t,r){var n=t.charCodeAt(0);switch(33>n&&(n=(t=t.trim()).charCodeAt(0)),n){case 38:return t.replace(g,"$1"+e.trim());case 58:return e.trim()+t.replace(g,"$1"+e.trim());default:if(0<1*r&&0<t.indexOf("\f"))return t.replace(g,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function n(e,t,r,i){var a=e+";",s=2*t+3*r+4*i;if(944===s){e=a.indexOf(":",9)+1;var u=a.substring(e,a.length-1).trim();return u=a.substring(0,e).trim()+u+";",1===j||2===j&&o(u,1)?"-webkit-"+u+u:u}if(0===j||2===j&&!o(a,1))return a;switch(s){case 1015:return 97===a.charCodeAt(10)?"-webkit-"+a+a:a;case 951:return 116===a.charCodeAt(3)?"-webkit-"+a+a:a;case 963:return 110===a.charCodeAt(5)?"-webkit-"+a+a:a;case 1009:if(100!==a.charCodeAt(4))break;case 969:case 942:return"-webkit-"+a+a;case 978:return"-webkit-"+a+"-moz-"+a+a;case 1019:case 983:return"-webkit-"+a+"-moz-"+a+"-ms-"+a+a;case 883:if(45===a.charCodeAt(8))return"-webkit-"+a+a;if(0<a.indexOf("image-set(",11))return a.replace(x,"$1-webkit-$2")+a;break;case 932:if(45===a.charCodeAt(4))switch(a.charCodeAt(5)){case 103:return"-webkit-box-"+a.replace("-grow","")+"-webkit-"+a+"-ms-"+a.replace("grow","positive")+a;case 115:return"-webkit-"+a+"-ms-"+a.replace("shrink","negative")+a;case 98:return"-webkit-"+a+"-ms-"+a.replace("basis","preferred-size")+a}return"-webkit-"+a+"-ms-"+a+a;case 964:return"-webkit-"+a+"-ms-flex-"+a+a;case 1023:if(99!==a.charCodeAt(8))break;return"-webkit-box-pack"+(u=a.substring(a.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+a+"-ms-flex-pack"+u+a;case 1005:return d.test(a)?a.replace(f,":-webkit-")+a.replace(f,":-moz-")+a:a;case 1e3:switch(t=(u=a.substring(13).trim()).indexOf("-")+1,u.charCodeAt(0)+u.charCodeAt(t)){case 226:u=a.replace(b,"tb");break;case 232:u=a.replace(b,"tb-rl");break;case 220:u=a.replace(b,"lr");break;default:return a}return"-webkit-"+a+"-ms-"+u+a;case 1017:if(-1===a.indexOf("sticky",9))break;case 975:switch(t=(a=e).length-10,s=(u=(33===a.charCodeAt(t)?a.substring(0,t):a).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|u.charCodeAt(7))){case 203:if(111>u.charCodeAt(8))break;case 115:a=a.replace(u,"-webkit-"+u)+";"+a;break;case 207:case 102:a=a.replace(u,"-webkit-"+(102<s?"inline-":"")+"box")+";"+a.replace(u,"-webkit-"+u)+";"+a.replace(u,"-ms-"+u+"box")+";"+a}return a+";";case 938:if(45===a.charCodeAt(5))switch(a.charCodeAt(6)){case 105:return"-webkit-"+a+"-webkit-box-"+(u=a.replace("-items",""))+"-ms-flex-"+u+a;case 115:return"-webkit-"+a+"-ms-flex-item-"+a.replace(_,"")+a;default:return"-webkit-"+a+"-ms-flex-line-pack"+a.replace("align-content","").replace(_,"")+a}break;case 973:case 989:if(45!==a.charCodeAt(3)||122===a.charCodeAt(4))break;case 931:case 953:if(!0===O.test(e))return 115===(u=e.substring(e.indexOf(":")+1)).charCodeAt(0)?n(e.replace("stretch","fill-available"),t,r,i).replace(":fill-available",":stretch"):a.replace(u,"-webkit-"+u)+a.replace(u,"-moz-"+u.replace("fill-",""))+a;break;case 962:if(a="-webkit-"+a+(102===a.charCodeAt(5)?"-ms-"+a:"")+a,211===r+i&&105===a.charCodeAt(13)&&0<a.indexOf("transform",10))return a.substring(0,a.indexOf(";",27)+1).replace(p,"$1-webkit-$2")+a}return a}function o(e,t){var r=e.indexOf(1===t?":":"{"),n=e.substring(0,3!==t?r:10);return r=e.substring(r+1,e.length-1),M(2!==t?n:n.replace(I,"$1"),r,t)}function i(e,t){var r=n(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return r!==t+";"?r.replace(w," or ($1)").substring(4):"("+t+")"}function a(e,t,r,n,o,i,a,s,c,l){for(var f,d=0,p=t;d<k;++d)switch(f=T[d].call(u,e,p,r,n,o,i,a,s,c,l)){case void 0:case!1:case!0:case null:break;default:p=f}if(p!==t)return p}function s(e){return void 0!==(e=e.prefix)&&(M=null,e?"function"!=typeof e?j=1:(j=2,M=e):j=0),s}function u(e,r){var s=e;if(33>s.charCodeAt(0)&&(s=s.trim()),s=[s],0<k){var u=a(-1,r,s,s,P,C,0,0,0,0);void 0!==u&&"string"==typeof u&&(r=u)}var f=function e(r,s,u,f,d){for(var p,h,g,b,w,_=0,I=0,O=0,x=0,T=0,M=0,R=g=p=0,F=0,L=0,N=0,U=0,W=u.length,q=W-1,z="",B="",G="",V="";F<W;){if(h=u.charCodeAt(F),F===q&&0!==I+x+O+_&&(0!==I&&(h=47===I?10:47),x=O=_=0,W++,q++),0===I+x+O+_){if(F===q&&(0<L&&(z=z.replace(l,"")),0<z.trim().length)){switch(h){case 32:case 9:case 59:case 13:case 10:break;default:z+=u.charAt(F)}h=59}switch(h){case 123:for(p=(z=z.trim()).charCodeAt(0),g=1,U=++F;F<W;){switch(h=u.charCodeAt(F)){case 123:g++;break;case 125:g--;break;case 47:switch(h=u.charCodeAt(F+1)){case 42:case 47:e:{for(R=F+1;R<q;++R)switch(u.charCodeAt(R)){case 47:if(42===h&&42===u.charCodeAt(R-1)&&F+2!==R){F=R+1;break e}break;case 10:if(47===h){F=R+1;break e}}F=R}}break;case 91:h++;case 40:h++;case 34:case 39:for(;F++<q&&u.charCodeAt(F)!==h;);}if(0===g)break;F++}switch(g=u.substring(U,F),0===p&&(p=(z=z.replace(c,"").trim()).charCodeAt(0)),p){case 64:switch(0<L&&(z=z.replace(l,"")),h=z.charCodeAt(1)){case 100:case 109:case 115:case 45:L=s;break;default:L=E}if(U=(g=e(s,L,g,h,d+1)).length,0<k&&(w=a(3,g,L=t(E,z,N),s,P,C,U,h,d,f),z=L.join(""),void 0!==w&&0===(U=(g=w.trim()).length)&&(h=0,g="")),0<U)switch(h){case 115:z=z.replace(S,i);case 100:case 109:case 45:g=z+"{"+g+"}";break;case 107:g=(z=z.replace(m,"$1 $2"))+"{"+g+"}",g=1===j||2===j&&o("@"+g,3)?"@-webkit-"+g+"@"+g:"@"+g;break;default:g=z+g,112===f&&(B+=g,g="")}else g="";break;default:g=e(s,t(s,z,N),g,f,d+1)}G+=g,g=N=L=R=p=0,z="",h=u.charCodeAt(++F);break;case 125:case 59:if(1<(U=(z=(0<L?z.replace(l,""):z).trim()).length))switch(0===R&&(p=z.charCodeAt(0),45===p||96<p&&123>p)&&(U=(z=z.replace(" ",":")).length),0<k&&void 0!==(w=a(1,z,s,r,P,C,B.length,f,d,f))&&0===(U=(z=w.trim()).length)&&(z="\0\0"),p=z.charCodeAt(0),h=z.charCodeAt(1),p){case 0:break;case 64:if(105===h||99===h){V+=z+u.charAt(F);break}default:58!==z.charCodeAt(U-1)&&(B+=n(z,p,h,z.charCodeAt(2)))}N=L=R=p=0,z="",h=u.charCodeAt(++F)}}switch(h){case 13:case 10:47===I?I=0:0===1+p&&107!==f&&0<z.length&&(L=1,z+="\0"),0<k*D&&a(0,z,s,r,P,C,B.length,f,d,f),C=1,P++;break;case 59:case 125:if(0===I+x+O+_){C++;break}default:switch(C++,b=u.charAt(F),h){case 9:case 32:if(0===x+_+I)switch(T){case 44:case 58:case 9:case 32:b="";break;default:32!==h&&(b=" ")}break;case 0:b="\\0";break;case 12:b="\\f";break;case 11:b="\\v";break;case 38:0===x+I+_&&(L=N=1,b="\f"+b);break;case 108:if(0===x+I+_+A&&0<R)switch(F-R){case 2:112===T&&58===u.charCodeAt(F-3)&&(A=T);case 8:111===M&&(A=M)}break;case 58:0===x+I+_&&(R=F);break;case 44:0===I+O+x+_&&(L=1,b+="\r");break;case 34:case 39:0===I&&(x=x===h?0:0===x?h:x);break;case 91:0===x+I+O&&_++;break;case 93:0===x+I+O&&_--;break;case 41:0===x+I+_&&O--;break;case 40:if(0===x+I+_){if(0===p)switch(2*T+3*M){case 533:break;default:p=1}O++}break;case 64:0===I+O+x+_+R+g&&(g=1);break;case 42:case 47:if(!(0<x+_+O))switch(I){case 0:switch(2*h+3*u.charCodeAt(F+1)){case 235:I=47;break;case 220:U=F,I=42}break;case 42:47===h&&42===T&&U+2!==F&&(33===u.charCodeAt(U+2)&&(B+=u.substring(U,F+1)),b="",I=0)}}0===I&&(z+=b)}M=T,T=h,F++}if(0<(U=B.length)){if(L=s,0<k&&void 0!==(w=a(2,B,L,r,P,C,U,f,d,f))&&0===(B=w).length)return V+B+G;if(B=L.join(",")+"{"+B+"}",0!=j*A){switch(2!==j||o(B,2)||(A=0),A){case 111:B=B.replace(v,":-moz-$1")+B;break;case 112:B=B.replace(y,"::-webkit-input-$1")+B.replace(y,"::-moz-$1")+B.replace(y,":-ms-input-$1")+B}A=0}}return V+B+G}(E,s,r,0,0);return 0<k&&void 0!==(u=a(-2,f,s,s,P,C,f.length,0,0,0))&&(f=u),A=0,C=P=1,f}var c=/^\0+/g,l=/[\0\r\f]/g,f=/: */g,d=/zoo|gra/,p=/([,: ])(transform)/g,h=/,\r+?/g,g=/([\t\r\n ])*\f?&/g,m=/@(k\w+)\s*(\S*)\s*/,y=/::(place)/g,v=/:(read-only)/g,b=/[svh]\w+-[tblr]{2}/,S=/\(\s*(.*)\s*\)/g,w=/([\s\S]*?);/g,_=/-self|flex-/g,I=/[^]*?(:[rp][el]a[\w-]+)[^]*/,O=/stretch|:\s*\w+\-(?:conte|avail)/,x=/([^-])(image-set\()/,C=1,P=1,A=0,j=1,E=[],T=[],k=0,M=null,D=0;return u.use=function e(t){switch(t){case void 0:case null:k=T.length=0;break;default:if("function"==typeof t)T[k++]=t;else if("object"==typeof t)for(var r=0,n=t.length;r<n;++r)e(t[r]);else D=0|!!t}return e},u.set=s,void 0!==e&&s(e),u}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=new WeakMap;return function(r){if(t.has(r))return t.get(r);var n=e(r);return t.set(r,n),n}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t,r=e.length,n=r^r,o=0;r>=4;)t=1540483477*(65535&(t=255&e.charCodeAt(o)|(255&e.charCodeAt(++o))<<8|(255&e.charCodeAt(++o))<<16|(255&e.charCodeAt(++o))<<24))+((1540483477*(t>>>16)&65535)<<16),n=1540483477*(65535&n)+((1540483477*(n>>>16)&65535)<<16)^(t=1540483477*(65535&(t^=t>>>24))+((1540483477*(t>>>16)&65535)<<16)),r-=4,++o;switch(r){case 3:n^=(255&e.charCodeAt(o+2))<<16;case 2:n^=(255&e.charCodeAt(o+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(o)))+((1540483477*(n>>>16)&65535)<<16)}return n=1540483477*(65535&(n^=n>>>13))+((1540483477*(n>>>16)&65535)<<16),((n^=n>>>15)>>>0).toString(36)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),o=r(147),i=r(30),a=r(21),s=r(76),u=r(51),c=o.default,l=function(e){return"theme"!==e&&"innerRef"!==e},f=function(e){return"string"==typeof e&&e.charCodeAt(0)>96?c:l},d="undefined"!=typeof document;t.default=function e(t,r){var o,c,l;void 0!==r&&(o=r.label,l=r.target,c=t.__emotion_forwardProp&&r.shouldForwardProp?function(e){return t.__emotion_forwardProp(e)&&r.shouldForwardProp(e)}:r.shouldForwardProp);var p=t.__emotion_real===t,h=p&&t.__emotion_base||t;"function"!=typeof c&&p&&(c=t.__emotion_forwardProp);var g=c||f(h),m=!g("as");return function(){var y=arguments,v=p&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==o&&v.push("label:"+o+";"),null==y[0]||void 0===y[0].raw)v.push.apply(v,y);else{v.push(y[0][0]);for(var b=y.length,S=1;S<b;S++)v.push(y[S],y[0][S])}var w=a.withEmotionCache(function(e,t,r){return n.createElement(a.ThemeContext.Consumer,null,function(o){var i=m&&e.as||h,a="",p=[],y=e;if(null==e.theme){for(var b in y={},e)y[b]=e[b];y.theme=o}"string"==typeof e.className&&(a+=s.getRegisteredStyles(t.registered,p,e.className));var S=u.serializeStyles(v.concat(p),t.registered,y),w=s.insertStyles(t,S,"string"==typeof i);a+=t.key+"-"+S.name,void 0!==l&&(a+=" "+l);var _=m&&void 0===c?f(i):g,I={};for(var O in e)m&&"as"===O||_(O)&&(I[O]=e[O]);I.className=a,I.ref=r||e.innerRef;var x=n.createElement(i,I);if(!d&&void 0!==w){for(var C,P=S.name,A=S.next;void 0!==A;)P+=" "+A.name,A=A.next;return n.createElement(n.Fragment,null,n.createElement("style",((C={})["data-emotion-"+t.key]=P,C.dangerouslySetInnerHTML={__html:w},C.nonce=t.sheet.nonce,C)),x)}return x})});return w.displayName=void 0!==o?o:"Styled("+("string"==typeof h?h:h.displayName||h.name||"Component")+")",w.defaultProps=t.defaultProps,w.__emotion_real=w,w.__emotion_base=h,w.__emotion_styles=v,w.__emotion_forwardProp=c,Object.defineProperty(w,"toString",{value:function(){return"."+l}}),w.withComponent=function(t,n){return e(t,void 0!==n?i.default({},r||{},n):r).apply(void 0,v)},w}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|default|defer|dir|disabled|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|itemProp|itemScope|itemType|itemID|itemRef|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,o=r(77).default(function(e){return n.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91});t.default=o},function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"639",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"};var o=function(e){if("string"!=typeof e)return e;var t=e.toLowerCase();return n[t]?"#"+n[t]:e};t.default=o,e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=(0,function(e){return e&&e.__esModule?e:{default:e}}(r(150)).default)("rem");t.default=n,e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=a(r(151)),o=a(r(83)),i=a(r(15));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){return function(t,r){void 0===r&&(r="16px");var a=t,s=r;if("string"==typeof t){if(!(0,n.default)(t,"px"))throw new i.default(69,e,t);a=(0,o.default)(t)}if("string"==typeof r){if(!(0,n.default)(r,"px"))throw new i.default(70,e,r);s=(0,o.default)(r)}if("string"==typeof a)throw new i.default(71,t,e);if("string"==typeof s)throw new i.default(72,r,e);return""+a/s+e}};t.default=s,e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e,t){return e.substr(-t.length)===t},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e,t,r){void 0===t&&(t="#000");void 0===r&&(r="#fff");return(0,n.default)(e)>.179?t:r};var n=function(e){return e&&e.__esModule?e:{default:e}}(r(153));e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e){if("transparent"===e)return 0;var t=(0,n.default)(e),r=Object.keys(t).map(function(e){var r=t[e]/255;return r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4)}),o=r[0],i=r[1],a=r[2];return parseFloat((.2126*o+.7152*i+.0722*a).toFixed(3))};var n=function(e){return e&&e.__esModule?e:{default:e}}(r(43));e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=s(r(84)),o=s(r(155)),i=s(r(156)),a=s(r(158));function s(e){return e&&e.__esModule?e:{default:e}}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var c=(0,n.default)(function(e,t){if("transparent"===t)return t;var r=(0,i.default)(t);return(0,a.default)(u({},r,{lightness:(0,o.default)(0,1,r.lightness-parseFloat(e))}))});t.default=c,e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=function(e,t,r){return Math.max(e,Math.min(t,r))};t.default=n,e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e){return(0,o.default)((0,n.default)(e))};var n=i(r(43)),o=i(r(157));function i(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=function(e){var t,r=e.red/255,n=e.green/255,o=e.blue/255,i=Math.max(r,n,o),a=Math.min(r,n,o),s=(i+a)/2;if(i===a)return void 0!==e.alpha?{hue:0,saturation:0,lightness:s,alpha:e.alpha}:{hue:0,saturation:0,lightness:s};var u=i-a,c=s>.5?u/(2-i-a):u/(i+a);switch(i){case r:t=(n-o)/u+(n<o?6:0);break;case n:t=(o-r)/u+2;break;default:t=(r-n)/u+4}return t*=60,void 0!==e.alpha?{hue:t,saturation:c,lightness:s,alpha:e.alpha}:{hue:t,saturation:c,lightness:s}};t.default=n,e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e){if("object"!=typeof e)throw new s.default(8);if(l(e))return(0,a.default)(e);if(c(e))return(0,i.default)(e);if(d(e))return(0,o.default)(e);if(f(e))return(0,n.default)(e);throw new s.default(8)};var n=u(r(159)),o=u(r(160)),i=u(r(80)),a=u(r(52)),s=u(r(15));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e){return"number"==typeof e.red&&"number"==typeof e.green&&"number"==typeof e.blue&&("number"!=typeof e.alpha||void 0===e.alpha)},l=function(e){return"number"==typeof e.red&&"number"==typeof e.green&&"number"==typeof e.blue&&"number"==typeof e.alpha},f=function(e){return"number"==typeof e.hue&&"number"==typeof e.saturation&&"number"==typeof e.lightness&&("number"!=typeof e.alpha||void 0===e.alpha)},d=function(e){return"number"==typeof e.hue&&"number"==typeof e.saturation&&"number"==typeof e.lightness&&"number"==typeof e.alpha};e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e,t,r){if("number"==typeof e&&"number"==typeof t&&"number"==typeof r)return(0,n.default)(e,t,r);if("object"==typeof e&&void 0===t&&void 0===r)return(0,n.default)(e.hue,e.saturation,e.lightness);throw new o.default(1)};var n=i(r(85)),o=i(r(15));function i(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e,t,r,a){if("number"==typeof e&&"number"==typeof t&&"number"==typeof r&&"number"==typeof a)return a>=1?(0,n.default)(e,t,r):"rgba("+(0,o.default)(e,t,r)+","+a+")";if("object"==typeof e&&void 0===t&&void 0===r&&void 0===a)return e.alpha>=1?(0,n.default)(e.hue,e.saturation,e.lightness):"rgba("+(0,o.default)(e.hue,e.saturation,e.lightness)+","+e.alpha+")";throw new i.default(2)};var n=a(r(85)),o=a(r(53)),i=a(r(15));function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e){void 0===e&&(e="100%");return{display:"inline-block",maxWidth:e,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",wordWrap:"normal"}},e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=a(r(84)),o=a(r(52)),i=a(r(43));function a(e){return e&&e.__esModule?e:{default:e}}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var u=(0,n.default)(function(e,t,r){if("transparent"===t)return r;if("transparent"===r)return t;var n=(0,i.default)(t),a=s({},n,{alpha:"number"==typeof n.alpha?n.alpha:1}),u=(0,i.default)(r),c=s({},u,{alpha:"number"==typeof u.alpha?u.alpha:1}),l=a.alpha-c.alpha,f=2*parseFloat(e)-1,d=((f*l==-1?f:f+l)/(1+f*l)+1)/2,p=1-d,h={red:Math.floor(a.red*d+c.red*p),green:Math.floor(a.green*d+c.green*p),blue:Math.floor(a.blue*d+c.blue*p),alpha:a.alpha+(c.alpha-a.alpha)*(parseFloat(e)/1)};return(0,o.default)(h)});t.default=u,e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e,t){var r=c(e),i=r.match(s);if(i&&!i.every(function(e){return e===i[0]}))throw new o.default(41);return""+function(e,t){var r,i=function(e){var t={};return t.symbols=e?a({},n.default.symbols,e.symbols):a({},n.default.symbols),t}(t),s=[i.symbols["("].prefix],c=[],l=new RegExp("\\d+(?:\\.\\d+)?|"+Object.keys(i.symbols).map(function(e){return i.symbols[e]}).sort(function(e,t){return t.symbol.length-e.symbol.length}).map(function(e){return e.regSymbol}).join("|")+"|(\\S)","g");l.lastIndex=0;var f=!1;do{var d=(r=l.exec(e))||[")",void 0],p=d[0],h=d[1],g=i.symbols[p],m=g&&!g.prefix&&!g.func,y=!g||!g.postfix&&!g.infix;if(h||(f?y:m))throw new o.default(37,r?r.index:e.length,e);if(f){var v=g.postfix||g.infix;do{var b=s[s.length-1];if((v.precedence-b.precedence||b.rightToLeft)>0)break}while(u(s,c));f="postfix"===v.notation,")"!==v.symbol&&(s.push(v),f&&u(s,c))}else if(g){if(s.push(g.prefix||g.func),g.func&&(!(r=l.exec(e))||"("!==r[0]))throw new o.default(38,r?r.index:e.length,e)}else c.push(+p),f=!0}while(r&&s.length);if(s.length)throw new o.default(39,r?r.index:e.length,e);if(r)throw new o.default(40,r?r.index:e.length,e);return c.pop()}(c(r.replace(s,"")),t)+(i?c(i[0]):"")};var n=i(r(164)),o=i(r(15));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var s=/((?!\w)a|na|hc|mc|dg|me[r]?|xe|ni(?![a-zA-Z])|mm|cp|tp|xp|q(?!s)|hv|xamv|nimv|wv|sm|s(?!\D|$)|ged|darg?|nrut)/g;function u(e,t){var r,n=e.pop();return t.push(n.f.apply(n,(r=[]).concat.apply(r,t.splice(-n.argCount)))),n.precedence}function c(e){return e.split("").reverse().join("")}e.exports=t.default},function(e,t,r){"use strict";function n(){var e;return(e=arguments.length-1)<0||arguments.length<=e?void 0:arguments[e]}t.__esModule=!0,t.default=void 0;var o={symbols:{"!":{postfix:{symbol:"!",f:function e(t){return t%1||!(+t>=0)?NaN:t>170?1/0:0===t?1:t*e(t-1)},notation:"postfix",precedence:6,rightToLeft:0,argCount:1},symbol:"!",regSymbol:"!"},"^":{infix:{symbol:"^",f:function(e,t){return Math.pow(e,t)},notation:"infix",precedence:5,rightToLeft:1,argCount:2},symbol:"^",regSymbol:"\\^"},"*":{infix:{symbol:"*",f:function(e,t){return e*t},notation:"infix",precedence:4,rightToLeft:0,argCount:2},symbol:"*",regSymbol:"\\*"},"/":{infix:{symbol:"/",f:function(e,t){return e/t},notation:"infix",precedence:4,rightToLeft:0,argCount:2},symbol:"/",regSymbol:"/"},"+":{infix:{symbol:"+",f:function(e,t){return e+t},notation:"infix",precedence:2,rightToLeft:0,argCount:2},prefix:{symbol:"+",f:n,notation:"prefix",precedence:3,rightToLeft:0,argCount:1},symbol:"+",regSymbol:"\\+"},"-":{infix:{symbol:"-",f:function(e,t){return e-t},notation:"infix",precedence:2,rightToLeft:0,argCount:2},prefix:{symbol:"-",f:function(e){return-e},notation:"prefix",precedence:3,rightToLeft:0,argCount:1},symbol:"-",regSymbol:"-"},",":{infix:{symbol:",",f:function(){return Array.of.apply(Array,arguments)},notation:"infix",precedence:1,rightToLeft:0,argCount:2},symbol:",",regSymbol:","},"(":{prefix:{symbol:"(",f:n,notation:"prefix",precedence:0,rightToLeft:0,argCount:1},symbol:"(",regSymbol:"\\("},")":{postfix:{symbol:")",f:void 0,notation:"postfix",precedence:0,rightToLeft:0,argCount:1},symbol:")",regSymbol:"\\)"},min:{func:{symbol:"min",f:function(){return Math.min.apply(Math,arguments)},notation:"func",precedence:0,rightToLeft:0,argCount:1},symbol:"min",regSymbol:"min\\b"},max:{func:{symbol:"max",f:function(){return Math.max.apply(Math,arguments)},notation:"func",precedence:0,rightToLeft:0,argCount:1},symbol:"max",regSymbol:"max\\b"},sqrt:{func:{symbol:"sqrt",f:function(e){return Math.sqrt(e)},notation:"func",precedence:0,rightToLeft:0,argCount:1},symbol:"sqrt",regSymbol:"sqrt\\b"}}};t.default=o,e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e){if(console.warn("getValueAndUnit has been marked for deprecation in polished 3.0 and will be fully deprecated in 4.0. It's functionality has been been moved to stripUnit as an optional return."),"string"!=typeof e)return[e,""];var t=e.match(n);return t?[parseFloat(e),t[2]]:[e,void 0]};var n=/^([+-]?(?:\d+|\d*\.\d+))([a-z]*|%)$/;e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e,t){var r,i,a=(0,n.default)(e);if(!t&&0!==t)throw new o.default(62);if("Top"===a||"Bottom"===a)return(r={})["border"+a+"RightRadius"]=t,r["border"+a+"LeftRadius"]=t,r;if("Left"===a||"Right"===a)return(i={})["borderTop"+a+"Radius"]=t,i["borderBottom"+a+"Radius"]=t,i;throw new o.default(63)};var n=i(r(167)),o=i(r(15));function i(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=function(e){return e.charAt(0).toUpperCase()+e.slice(1)};t.default=n,e.exports=t.default},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(r(169)),i=n(r(170));t.Sanitizer=class{constructor(e,t){let r;this.arcgisWhiteList={a:["href","target","style"],img:["src","width","height","border","alt","style"],video:["autoplay","controls","height","loop","muted","poster","preload","src","width"],audio:["autoplay","controls","loop","muted","preload","src"],span:["style"],table:["width","height","cellpadding","cellspacing","border","style"],div:["style","class"],font:["size","color","style"],tr:["height","valign","align","style"],td:["height","width","valign","align","colspan","rowspan","nowrap","style"],th:["height","width","valign","align","colspan","rowspan","nowrap","style"],b:[],strong:[],i:[],em:[],br:[],p:[],li:[],ul:[],tbody:[]},this.arcgisFilterOptions={allowCommentTag:!0},e&&!t?r=e:e&&t?(r=Object.create(this.arcgisFilterOptions),Object.keys(e).forEach(t=>{"whiteList"===t?r.whiteList=this._extendObjectOfArrays([this.arcgisWhiteList,e.whiteList||{}]):r[t]=e[t]})):(r=Object.create(this.arcgisFilterOptions)).whiteList=this.arcgisWhiteList,this.xssFilterOptions=r,this._xssFilter=new i.default.FilterXSS(r)}sanitize(e){switch(typeof e){case"number":return isNaN(e)||!isFinite(e)?null:e;case"boolean":return e;case"string":return this._xssFilter.process(e);case"object":return this._iterateOverObject(e);default:return null}}validate(e){const t=this.sanitize(e);return{isValid:e===t,sanitized:t}}_extendObjectOfArrays(e){const t={};return e.forEach(e=>{Object.keys(e).forEach(r=>{Array.isArray(e[r])&&Array.isArray(t[r])?t[r]=t[r].concat(e[r]):t[r]=e[r]})}),t}_iterateOverObject(e){try{let t,r=!1;if(Array.isArray(e))t=e.reduce((e,t)=>{const n=this.validate(t);return n.isValid?e.concat([t]):(r=!0,e.concat([n.sanitized]))},[]);else{if(!o.default(e))return null;t=Object.keys(e).reduce((t,n)=>{const o=e[n],i=this.validate(o);return i.isValid?t[n]=o:(r=!0,t[n]=i.sanitized),t},{})}return r?t:e}catch(e){return null}}}},function(e,t){var r="[object Object]";var n=Function.prototype,o=Object.prototype,i=n.toString,a=o.hasOwnProperty,s=i.call(Object),u=o.toString,c=function(e,t){return function(r){return e(t(r))}}(Object.getPrototypeOf,Object);e.exports=function(e){if(!function(e){return!!e&&"object"==typeof e}(e)||u.call(e)!=r||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e))return!1;var t=c(e);if(null===t)return!0;var n=a.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&i.call(n)==s}},function(e,t,r){var n=r(89),o=r(92),i=r(173);for(var a in(t=e.exports=function(e,t){return new i(t).process(e)}).FilterXSS=i,n)t[a]=n[a];for(var a in o)t[a]=o[a];"undefined"!=typeof window&&(window.filterXSS=e.exports)},function(e,t,r){var n=r(90),o=r(172);r(91);function i(e){return void 0===e||null===e}function a(e){(e=function(e){var t={};for(var r in e)t[r]=e[r];return t}(e||{})).whiteList=e.whiteList||n.whiteList,e.onAttr=e.onAttr||n.onAttr,e.onIgnoreAttr=e.onIgnoreAttr||n.onIgnoreAttr,e.safeAttrValue=e.safeAttrValue||n.safeAttrValue,this.options=e}a.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t=this.options,r=t.whiteList,n=t.onAttr,a=t.onIgnoreAttr,s=t.safeAttrValue;return o(e,function(e,t,o,u,c){var l=r[o],f=!1;if(!0===l?f=l:"function"==typeof l?f=l(u):l instanceof RegExp&&(f=l.test(u)),!0!==f&&(f=!1),u=s(o,u)){var d,p={position:t,sourcePosition:e,source:c,isWhite:f};return f?i(d=n(o,u,p))?o+":"+u:d:i(d=a(o,u,p))?void 0:d}})},e.exports=a},function(e,t,r){var n=r(91);e.exports=function(e,t){";"!==(e=n.trimRight(e))[e.length-1]&&(e+=";");var r=e.length,o=!1,i=0,a=0,s="";function u(){if(!o){var r=n.trim(e.slice(i,a)),u=r.indexOf(":");if(-1!==u){var c=n.trim(r.slice(0,u)),l=n.trim(r.slice(u+1));if(c){var f=t(i,s.length,c,l,r);f&&(s+=f+"; ")}}}i=a+1}for(;a<r;a++){var c=e[a];if("/"===c&&"*"===e[a+1]){var l=e.indexOf("*/",a+2);if(-1===l)break;i=(a=l+1)+1,o=!1}else"("===c?o=!0:")"===c?o=!1:";"===c?o||u():"\n"===c&&u()}return n.trim(s)}},function(e,t,r){var n=r(54).FilterCSS,o=r(89),i=r(92),a=i.parseTag,s=i.parseAttr,u=r(55);function c(e){return void 0===e||null===e}function l(e){(e=function(e){var t={};for(var r in e)t[r]=e[r];return t}(e||{})).stripIgnoreTag&&(e.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),e.onIgnoreTag=o.onIgnoreTagStripAll),e.whiteList=e.whiteList||o.whiteList,e.onTag=e.onTag||o.onTag,e.onTagAttr=e.onTagAttr||o.onTagAttr,e.onIgnoreTag=e.onIgnoreTag||o.onIgnoreTag,e.onIgnoreTagAttr=e.onIgnoreTagAttr||o.onIgnoreTagAttr,e.safeAttrValue=e.safeAttrValue||o.safeAttrValue,e.escapeHtml=e.escapeHtml||o.escapeHtml,this.options=e,!1===e.css?this.cssFilter=!1:(e.css=e.css||{},this.cssFilter=new n(e.css))}l.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t=this.options,r=t.whiteList,n=t.onTag,i=t.onIgnoreTag,l=t.onTagAttr,f=t.onIgnoreTagAttr,d=t.safeAttrValue,p=t.escapeHtml,h=this.cssFilter;t.stripBlankChar&&(e=o.stripBlankChar(e)),t.allowCommentTag||(e=o.stripCommentTag(e));var g=!1;if(t.stripIgnoreTagBody){g=o.StripTagBody(t.stripIgnoreTagBody,i);i=g.onIgnoreTag}var m=a(e,function(e,t,o,a,g){var m,y={sourcePosition:e,position:t,isClosing:g,isWhite:r.hasOwnProperty(o)};if(!c(m=n(o,a,y)))return m;if(y.isWhite){if(y.isClosing)return"</"+o+">";var v=function(e){var t=u.spaceIndex(e);if(-1===t)return{html:"",closing:"/"===e[e.length-2]};var r="/"===(e=u.trim(e.slice(t+1,-1)))[e.length-1];return r&&(e=u.trim(e.slice(0,-1))),{html:e,closing:r}}(a),b=r[o],S=s(v.html,function(e,t){var r,n=-1!==u.indexOf(b,e);return c(r=l(o,e,t,n))?n?(t=d(o,e,t,h))?e+'="'+t+'"':e:c(r=f(o,e,t,n))?void 0:r:r});a="<"+o;return S&&(a+=" "+S),v.closing&&(a+=" /"),a+=">"}return c(m=i(o,a,y))?p(a):m},p);return g&&(m=g.remove(m)),m},e.exports=l},function(e,t,r){"use strict";function n(e,t){var r,n=[],o=[];function i(e){var t=e.obj,r=e.key,n={obj:t,key:r};return"number"==typeof e.i?(n.i=e.i,n.value=t[r][e.i]):n.value=t[r],n}function a(e){for(var t in e)"object"==typeof e[t]?Array.isArray(e[t])?u(e,t):a(e[t]):"string"==typeof e[t]&&s(e,t)}function s(e,a,s){"number"==typeof s?t.matchFunction(e[a][s])&&((r=t.matchHandle(i({obj:e,key:a,i:s})))&&"function"==typeof r.then?o.push(r):n.push(r),n.push(r)):t.matchFunction(e[a])&&((r=t.matchHandle(i({obj:e,key:a})))&&"function"==typeof r.then?o.push(r):n.push(r),n.push(r))}function u(e,t){for(var r=0;r<e[t].length;r++)"string"==typeof e[t][r]?s(e,t,r):"object"==typeof e[t][r]&&a(e[t][r])}return a(e),o.length>0?Promise.all(o).then(function(){return Promise.resolve(e)}).catch(function(e){return Promise.reject(null)}):Promise.resolve(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.appendTokenToResource=function(e,t,r){var o=new RegExp("^"+r+"/sharing/rest/content/items/(.)+/resources/");return n(e,{matchFunction:function(e){return o.test(e)},matchHandle:function(e){var r=e.obj,n=e.key,o=e.value+"?token="+t;r=e.obj,n=e.key,"number"==typeof e.i?r[n][e.i]=o:r[n]=o}})},t.cleanTokenFromResource=function(e){var t=new RegExp("^(.)+/sharing/rest/content/items/(.)+/resources/(.)+?token=");return n(e,{matchFunction:function(e){return t.test(e)},matchHandle:function(e){var t=e.obj,r=e.key,n=e.value.split("?")[0];"number"==typeof e.i?t[r][e.i]=n:t[r]=n}}),e},t.replaceAppConfigNodeValue=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(79),o=r(58);t.withTheme=o.withTheme;var i=r(46),a=r(44);t.withStyles=function(e,t){var r=t||e.displayName||e.name||"",a=n.default(e)(function(e){return i.default.getInstance().getComponentStyles(r,e)});return o.withTheme(a)},t.traverseConvertValueGetter=function e(t,r){var n=/\$\{([^<]+)\}/,o=function(o){var i=t[o],s=Object.prototype.toString.call(i);if("[object Object]"===s)e(i,r);else if("[object String]"===s&&n.test(i)){var u=i.match(n)[1];Object.defineProperty(t,o,{get:function(){return a(r,u)}})}};for(var i in t)o(i)},t.getThemeNameFromPath=function(e){if(!e)return null;var t=e.split("/"),r=null;return t.length>1?r=t.pop():1===t.length&&(r=t[0]),r},t.getThemableVariables=function(){return{typography:{fontFamilyBase:{variable:"typography.fontFamilyBase",input:"font-family"},fontSizeBase:{variable:"typography.fontSizeBase",input:"font-size"}},header:{color:{variable:"header.color",input:"color"},bg:{variable:"header.bg",input:"color"}},body:{color:{variable:"body.color",input:"color"},bg:{variable:"body.bg",input:"color"}},link:{color:{variable:"link.color",input:"color"}},button:{color:{variable:"components.button.color",input:"color"},bg:{variable:"colors.primary",input:"color"}}}}},function(e,t,r){"use strict";e.exports=r(177)},function(e,t,r){"use strict";
/** @license React v16.8.6
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&Symbol.for,o=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,f=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,p=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,g=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116;function y(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case f:case d:case a:case u:case s:case h:return e;default:switch(e=e&&e.$$typeof){case l:case p:case c:return e;default:return t}}case m:case g:case i:return t}}}function v(e){return y(e)===d}t.typeOf=y,t.AsyncMode=f,t.ConcurrentMode=d,t.ContextConsumer=l,t.ContextProvider=c,t.Element=o,t.ForwardRef=p,t.Fragment=a,t.Lazy=m,t.Memo=g,t.Portal=i,t.Profiler=u,t.StrictMode=s,t.Suspense=h,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===d||e===u||e===s||e===h||"object"==typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===g||e.$$typeof===c||e.$$typeof===l||e.$$typeof===p)},t.isAsyncMode=function(e){return v(e)||y(e)===f},t.isConcurrentMode=v,t.isContextConsumer=function(e){return y(e)===l},t.isContextProvider=function(e){return y(e)===c},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===o},t.isForwardRef=function(e){return y(e)===p},t.isFragment=function(e){return y(e)===a},t.isLazy=function(e){return y(e)===m},t.isMemo=function(e){return y(e)===g},t.isPortal=function(e){return y(e)===i},t.isProfiler=function(e){return y(e)===u},t.isStrictMode=function(e){return y(e)===s},t.isSuspense=function(e){return y(e)===h}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(25),o=r(13),i=r(14),a=r(33),s=r(27),u=r(16),c=r(59);function l(e,t){var r;return r=e.appConfig&&e.appConfig.pages?e.appConfig.pages[t]:{},e.setIn(["appRuntimeInfo","activeLayout"],r.layout||null).setIn(["appRuntimeInfo","editingSectionId"],null).setIn(["appRuntimeInfo","selection"],null)}t.default=function(e,t){if(!e)return function(){var e={appConfig:null,portalUrl:null,portalSelf:null,widgetsRuntimeInfo:n({}),widgetsPreloadProps:n({}),dataSourcesPreloadData:n({}),appContext:null,appRuntimeInfo:n({}),isNetworkOffLine:null,browserSizeMode:null,appPath:window.location.pathname,appId:null,appI18nMessages:n({}),queryObject:null,dataSourcesInfo:n({}),widgetsState:n({}),widgetsMutableStateVersion:n({}),dynamicModules:n({}),theme:n({}),token:null,user:null};return n(e)}();if(t.type.indexOf("@@")>-1)return e;switch(t.type){case o.ActionKeys.InitStoreExtensionState:return function(e,t){var r=a.default.getInstance().getExtensionById(t.extensionId),n=r.getStoreKey().split(".");return e.getIn(n)?e:e=e.setIn(n,r.getInitLocalState())}(e,t);case o.ActionKeys.AppConfigLoaded:return function(e,t){var r=t.appConfig.attributes.portalUrl,n=t.appConfig.attributes.clientId,o=e.set("appConfig",t.appConfig);if(r&&o.portalUrl!==r&&(o=o.set("portalUrl",r)),n&&o.clientId!==n&&(o=o.set("clientId",n)),!o.appRuntimeInfo.currentPageId){var i=Object.keys(t.appConfig.pages).find(function(e){return t.appConfig.pages[e].isDefault});o=o.setIn(["appRuntimeInfo","currentPageId"],i)}return o}(e,t);case o.ActionKeys.SetPortalUrl:return e.set("portalUrl",t.portalUrl);case o.ActionKeys.SetPortalInfo:return e.set("portalUrl",t.portalUrl).set("clientId",t.clientId);case o.ActionKeys.SetPortalSelf:return e.set("portalSelf",t.portalSelf);case o.ActionKeys.AppConfigChanged:return function(e,t){e=e.set("appConfig",t.appConfig);var r=Object.keys(e.widgetsRuntimeInfo).filter(function(e){return!t.appConfig.widgets[e]});if((e=e.set("widgetsRuntimeInfo",e.widgetsRuntimeInfo.without.apply(e.widgetsRuntimeInfo,r))).appRuntimeInfo.currentPageId&&!t.appConfig.pages[e.appRuntimeInfo.currentPageId]){var n=Object.keys(t.appConfig.pages).find(function(e){return t.appConfig.pages[e].isDefault});e=e.setIn(["appRuntimeInfo","currentPageId"],n)}return e}(e,t);case o.ActionKeys.AppPathChanged:return function(e,t){e=e.set("appPath",t.path);var r=u.parseAppPath(location.pathname).pageId;return r||(r=e.appConfig&&Object.keys(e.appConfig.pages).find(function(t){return e.appConfig.pages[t].isDefault})),r&&(e=l(e=e.setIn(["appRuntimeInfo","currentPageId"],r),r)),e}(e,t);case o.ActionKeys.AppContextInit:return e.set("appContext",t.appContext);case o.ActionKeys.AppIdChanged:return e.set("appId",t.appId);case o.ActionKeys.I18nMessagesLoaded:return function(e,t){return e.set("appI18nMessages",e.appI18nMessages.merge(t.messages))}(e,t);case o.ActionKeys.QueryObjectChanged:return function(e,t){return e=e.set("queryObject",n(t.query)),t.query.dlg&&(e=e.setIn(["appRuntimeInfo","currentDialogId"],t.query.dlg)),t.query.views&&(e=e.setIn(["appRuntimeInfo","currentViewIds"],t.query.views.split(","))),t.query.page&&(e=l(e=e.setIn(["appRuntimeInfo","currentPageId"],t.query.page),t.query.page)),e}(e,t);case o.ActionKeys.SetAppInBuilder:return e.set("appContext",e.appContext.merge({isInBuilder:!0}));case o.ActionKeys.WidgetClassLoaded:return function(e,t){return e.setIn(["widgetsRuntimeInfo",t,"isClassLoaded"],!0).setIn(["widgetsRuntimeInfo",t,"isReadyInjectDataSource"],e.appConfig.widgets[t].manifest.properties.autoBindDataSource)}(e,t.widgetId);case o.ActionKeys.OpenWidget:return function(e,t){return e.setIn(["widgetsRuntimeInfo",t,"state"],i.WidgetState.Opened)}(e,t.widgetId);case o.ActionKeys.CloseWidget:return function(e,t){return e.setIn(["widgetsRuntimeInfo",t,"state"],i.WidgetState.Closed)}(e,t.widgetId);case o.ActionKeys.SetWidgetIsInlineEditingState:return!1===t.isInlineEditing?e.setIn(["widgetsRuntimeInfo",t.widgetId,"isInlineEditing"],!1):(Object.keys(e.widgetsRuntimeInfo).forEach(function(t){e.widgetsRuntimeInfo[t].isInlineEditing&&(e=e.setIn(["widgetsRuntimeInfo",t,"isInlineEditing"],!1))}),e.setIn(["widgetsRuntimeInfo",t.widgetId,"isInlineEditing"],!0));case o.ActionKeys.SetWidgetReadyInjectDataSource:return e.setIn(["widgetsRuntimeInfo",t.widgetId,"isReadyInjectDataSource"],!0);case o.ActionKeys.SetWidgetPreloadProps:return e.setIn(["widgetsPreloadProps",t.widgetId],t.props);case o.ActionKeys.SetDataSourcePreloadData:return e.setIn(["dataSourcesPreloadData",t.dataSourceId],t.data);case o.ActionKeys.LayoutClassLoaded:return e.setIn(["isLayoutClassLoaded",t.layoutName],!0);case o.ActionKeys.DataSourceInstanceStatusChanged:return e.setIn(["dataSourcesInfo",t.dataSourceId,"isCreated"],t.isCreated);case o.ActionKeys.DataSourceStatusChanged:return e.setIn(["dataSourcesInfo",t.dataSourceId,"status"],t.status);case o.ActionKeys.DataSourceSaveStatusChanged:return e.setIn(["dataSourcesInfo",t.dataSourceId,"saveStatus"],t.saveStatus);case o.ActionKeys.DataSourceVersionAdded:var r=e.dataSourcesInfo[t.dataSourceId]&&e.dataSourcesInfo[t.dataSourceId].version?e.dataSourcesInfo[t.dataSourceId].version:0;return e.setIn(["dataSourcesInfo",t.dataSourceId,"version"],r+1);case o.ActionKeys.DataSourceSelectedIndexesChanged:return e.setIn(["dataSourcesInfo",t.dataSourceId,"selectedIndexes"],t.selectedIndexes).setIn(["dataSourcesInfo",t.dataSourceId,"selectedIds"],null);case o.ActionKeys.DataSourceSelectedIdsChanged:return e.setIn(["dataSourcesInfo",t.dataSourceId,"selectedIds"],t.selectedIds).setIn(["dataSourcesInfo",t.dataSourceId,"selectedIndexes"],null);case o.ActionKeys.WidgetStatePropChange:return function(e,t){var r=t.propKey.split(".");return e.setIn(["widgetsState",t.widgetId].concat(r),t.value)}(e,t);case o.ActionKeys.WidgetMutableStatePropChange:return function(e,t){var r=t.propKey.split("."),n=e.widgetsMutableStateVersion[t.widgetId]||0;return c.default.getInstance().updateStateValue([t.widgetId].concat(r),t.value),e.setIn(["widgetsMutableStateVersion",t.widgetId],++n)}(e,t);case o.ActionKeys.SessionStart:return e.set("token",t.token);case o.ActionKeys.UserSignIn:return e.set("user",n(t.user));case o.ActionKeys.UserSignOut:return e.merge({token:null,user:null});case o.ActionKeys.BrowserSizeModeChanged:return e.set("browserSizeMode",t.browserSizeMode);case o.ActionKeys.NetworkStatusChanged:return e.set("isNetworkOffLine",t.isOffLine);case o.ActionKeys.DynamicModuleLoaded:return e.setIn(["dynamicModules",t.moduleId],!0);case o.ActionKeys.CurrentViewChanged:return e.setIn(["appRuntimeInfo","currentViewId"],t.viewId);case o.ActionKeys.CurrentPageChanged:return l(e=e.setIn(["appRuntimeInfo","currentPageId"],t.pageId),t.pageId);case o.ActionKeys.SelectionChanged:var f=e.appRuntimeInfo.selection||{},d=t.selection||{};return f.layoutId===d.layoutId&&f.layoutItemId===d.layoutItemId?e:(Object.keys(e.widgetsRuntimeInfo).forEach(function(t){e.widgetsRuntimeInfo[t].isInlineEditing&&(e=e.setIn(["widgetsRuntimeInfo",t,"isInlineEditing"],!1))}),(e=e.setIn(["appRuntimeInfo","selection"],t.selection)).appRuntimeInfo.appMode===i.AppMode.Run&&e.appRuntimeInfo.inSelectMode&&(e=e.setIn(["appRuntimeInfo","inSelectMode"],!1)),e);case o.ActionKeys.SetSelectMode:return e.setIn(["appRuntimeInfo","inSelectMode"],t.enabled);case o.ActionKeys.AppModeChanged:return e.setIn(["appRuntimeInfo","appMode"],t.mode);case o.ActionKeys.AppRuntimeInfoInit:return e.set("appRuntimeInfo",t.info);case o.ActionKeys.UpdateStoreState:return t.state;case o.ActionKeys.ThemeVariablesLoaded:return e.set("theme",n(t.theme));case o.ActionKeys.DragWidgetFromList:return e.setIn(["appRuntimeInfo","draggingWidget"],t.widgetInfo);case o.ActionKeys.DropWidgetFromList:return e.setIn(["appRuntimeInfo","draggingWidget"],null);case o.ActionKeys.ActivePagePartChanged:return e.setIn(["appRuntimeInfo","activePagePart"],t.part);case o.ActionKeys.SetWaitingServiceWorkerFlag:return e.setIn(["appRuntimeInfo","hasWaitingServiceWorker"],t.flag);default:return function(e,t){for(var r=a.default.getInstance().getExtensions(s.ExtensionPoints.ReduxStore),n=0;n<r.length;n++){var o=r[n];if(o.getActions().indexOf(t.type)>-1){var i=o.getStoreKey().split("."),u=e.getIn(i);return e.setIn(i,o.getReducer()(u,t,e))}}return e}(e,t)}}},function(e,t,r){"use strict";function n(e){return function(t){var r=t.dispatch,n=t.getState;return function(t){return function(o){return"function"==typeof o?o(r,n,e):t(o)}}}}r.r(t);var o=n();o.withExtraArgument=n,t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.triggerEvent=function(e){if("undefined"!=typeof window){var t=new KeyboardEvent(e.type,{key:e.key+"-manual",code:e.code,location:e.location,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,altKey:e.altKey,metaKey:e.metaKey,repeat:e.repeat,charCode:e.charCode,keyCode:e.keyCode,which:e.which});document.dispatchEvent(t)}}},function(e,t,r){"use strict";var n=r(182),o=r(187);n.default.__addLocaleData(o.default),n.default.defaultLocale="en",t.default=n.default},function(e,t,r){"use strict";var n=r(100),o=r(183),i=r(184),a=r(185);function s(e,t,r){var n="string"==typeof e?s.__parse(e):e;if(!n||"messageFormatPattern"!==n.type)throw new TypeError("A message must be provided as a String or AST.");r=this._mergeFormats(s.formats,r),o.defineProperty(this,"_locale",{value:this._resolveLocale(t)});var i=this._findPluralRuleFunction(this._locale),a=this._compilePattern(n,t,r,i),u=this;this.format=function(t){try{return u._format(a,t)}catch(t){throw t.variableId?new Error("The intl string context variable '"+t.variableId+"' was not provided to the string '"+e+"'"):t}}}t.default=s,o.defineProperty(s,"formats",{enumerable:!0,value:{number:{currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}}}),o.defineProperty(s,"__localeData__",{value:o.objCreate(null)}),o.defineProperty(s,"__addLocaleData",{value:function(e){if(!e||!e.locale)throw new Error("Locale data provided to IntlMessageFormat is missing a `locale` property");s.__localeData__[e.locale.toLowerCase()]=e}}),o.defineProperty(s,"__parse",{value:a.default.parse}),o.defineProperty(s,"defaultLocale",{enumerable:!0,writable:!0,value:void 0}),s.prototype.resolvedOptions=function(){return{locale:this._locale}},s.prototype._compilePattern=function(e,t,r,n){return new i.default(t,r,n).compile(e)},s.prototype._findPluralRuleFunction=function(e){for(var t=s.__localeData__,r=t[e.toLowerCase()];r;){if(r.pluralRuleFunction)return r.pluralRuleFunction;r=r.parentLocale&&t[r.parentLocale.toLowerCase()]}throw new Error("Locale data added to IntlMessageFormat is missing a `pluralRuleFunction` for :"+e)},s.prototype._format=function(e,t){var r,o,i,a,s,u,c="";for(r=0,o=e.length;r<o;r+=1)if("string"!=typeof(i=e[r])){if(a=i.id,!t||!n.hop.call(t,a))throw(u=new Error("A value must be provided for: "+a)).variableId=a,u;s=t[a],i.options?c+=this._format(i.getOption(s),t):c+=i.format(s)}else c+=i;return c},s.prototype._mergeFormats=function(e,t){var r,i,a={};for(r in e)n.hop.call(e,r)&&(a[r]=i=o.objCreate(e[r]),t&&n.hop.call(t,r)&&n.extend(i,t[r]));return a},s.prototype._resolveLocale=function(e){"string"==typeof e&&(e=[e]),e=(e||[]).concat(s.defaultLocale);var t,r,n,o,i=s.__localeData__;for(t=0,r=e.length;t<r;t+=1)for(n=e[t].toLowerCase().split("-");n.length;){if(o=i[n.join("-")])return o.locale;n.pop()}var a=e.pop();throw new Error("No locale data has been added to IntlMessageFormat for: "+e.join(", ")+", or the default locale: "+a)}},function(e,t,r){"use strict";var n=r(100),o=function(){try{return!!Object.defineProperty({},"a",{})}catch(e){return!1}}(),i=(!o&&Object.prototype.__defineGetter__,o?Object.defineProperty:function(e,t,r){"get"in r&&e.__defineGetter__?e.__defineGetter__(t,r.get):(!n.hop.call(e,t)||"value"in r)&&(e[t]=r.value)}),a=Object.create||function(e,t){var r,o;function a(){}for(o in a.prototype=e,r=new a,t)n.hop.call(t,o)&&i(r,o,t[o]);return r};t.defineProperty=i,t.objCreate=a},function(e,t,r){"use strict";function n(e,t,r){this.locales=e,this.formats=t,this.pluralFn=r}function o(e){this.id=e}function i(e,t,r,n,o){this.id=e,this.useOrdinal=t,this.offset=r,this.options=n,this.pluralFn=o}function a(e,t,r,n){this.id=e,this.offset=t,this.numberFormat=r,this.string=n}function s(e,t){this.id=e,this.options=t}t.default=n,n.prototype.compile=function(e){return this.pluralStack=[],this.currentPlural=null,this.pluralNumberFormat=null,this.compileMessage(e)},n.prototype.compileMessage=function(e){if(!e||"messageFormatPattern"!==e.type)throw new Error('Message AST is not of type: "messageFormatPattern"');var t,r,n,o=e.elements,i=[];for(t=0,r=o.length;t<r;t+=1)switch((n=o[t]).type){case"messageTextElement":i.push(this.compileMessageText(n));break;case"argumentElement":i.push(this.compileArgument(n));break;default:throw new Error("Message element does not have a valid type")}return i},n.prototype.compileMessageText=function(e){return this.currentPlural&&/(^|[^\\])#/g.test(e.value)?(this.pluralNumberFormat||(this.pluralNumberFormat=new Intl.NumberFormat(this.locales)),new a(this.currentPlural.id,this.currentPlural.format.offset,this.pluralNumberFormat,e.value)):e.value.replace(/\\#/g,"#")},n.prototype.compileArgument=function(e){var t=e.format;if(!t)return new o(e.id);var r,n=this.formats,a=this.locales,u=this.pluralFn;switch(t.type){case"numberFormat":return r=n.number[t.style],{id:e.id,format:new Intl.NumberFormat(a,r).format};case"dateFormat":return r=n.date[t.style],{id:e.id,format:new Intl.DateTimeFormat(a,r).format};case"timeFormat":return r=n.time[t.style],{id:e.id,format:new Intl.DateTimeFormat(a,r).format};case"pluralFormat":return r=this.compileOptions(e),new i(e.id,t.ordinal,t.offset,r,u);case"selectFormat":return r=this.compileOptions(e),new s(e.id,r);default:throw new Error("Message element does not have a valid format type")}},n.prototype.compileOptions=function(e){var t,r,n,o=e.format,i=o.options,a={};for(this.pluralStack.push(this.currentPlural),this.currentPlural="pluralFormat"===o.type?e:null,t=0,r=i.length;t<r;t+=1)a[(n=i[t]).selector]=this.compileMessage(n.value);return this.currentPlural=this.pluralStack.pop(),a},o.prototype.format=function(e){return e||"number"==typeof e?"string"==typeof e?e:String(e):""},i.prototype.getOption=function(e){var t=this.options;return t["="+e]||t[this.pluralFn(e-this.offset,this.useOrdinal)]||t.other},a.prototype.format=function(e){var t=this.numberFormat.format(e-this.offset);return this.string.replace(/(^|[^\\])#/g,"$1"+t).replace(/\\#/g,"#")},s.prototype.getOption=function(e){var t=this.options;return t[e]||t.other}},function(e,t,r){"use strict";(t=e.exports=r(186).default).default=t},function(e,t,r){"use strict";t.default=function(){function e(t,r,n,o){this.message=t,this.expected=r,this.found=n,this.location=o,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,e)}return function(e,t){function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r}(e,Error),{SyntaxError:e,parse:function(t){var r,n=arguments.length>1?arguments[1]:{},o={},i={start:Ee},a=Ee,s=function(e){return{type:"messageFormatPattern",elements:e,location:xe()}},u=function(e){var t,r,n,o,i,a="";for(t=0,n=e.length;t<n;t+=1)for(r=0,i=(o=e[t]).length;r<i;r+=1)a+=o[r];return a},c=function(e){return{type:"messageTextElement",value:e,location:xe()}},l=/^[^ \t\n\r,.+={}#]/,f={type:"class",value:"[^ \\t\\n\\r,.+={}#]",description:"[^ \\t\\n\\r,.+={}#]"},d="{",p={type:"literal",value:"{",description:'"{"'},h=",",g={type:"literal",value:",",description:'","'},m="}",y={type:"literal",value:"}",description:'"}"'},v=function(e,t){return{type:"argumentElement",id:e,format:t&&t[2],location:xe()}},b="number",S={type:"literal",value:"number",description:'"number"'},w="date",_={type:"literal",value:"date",description:'"date"'},I="time",O={type:"literal",value:"time",description:'"time"'},x=function(e,t){return{type:e+"Format",style:t&&t[2],location:xe()}},C="plural",P={type:"literal",value:"plural",description:'"plural"'},A=function(e){return{type:e.type,ordinal:!1,offset:e.offset||0,options:e.options,location:xe()}},j="selectordinal",E={type:"literal",value:"selectordinal",description:'"selectordinal"'},T=function(e){return{type:e.type,ordinal:!0,offset:e.offset||0,options:e.options,location:xe()}},k="select",M={type:"literal",value:"select",description:'"select"'},D=function(e){return{type:"selectFormat",options:e,location:xe()}},R="=",F={type:"literal",value:"=",description:'"="'},L=function(e,t){return{type:"optionalFormatPattern",selector:e,value:t,location:xe()}},N="offset:",U={type:"literal",value:"offset:",description:'"offset:"'},W=function(e){return e},q=function(e,t){return{type:"pluralFormat",offset:e,options:t,location:xe()}},z={type:"other",description:"whitespace"},B=/^[ \t\n\r]/,G={type:"class",value:"[ \\t\\n\\r]",description:"[ \\t\\n\\r]"},V={type:"other",description:"optionalWhitespace"},H=/^[0-9]/,$={type:"class",value:"[0-9]",description:"[0-9]"},J=/^[0-9a-f]/i,K={type:"class",value:"[0-9a-f]i",description:"[0-9a-f]i"},Q="0",Y={type:"literal",value:"0",description:'"0"'},X=/^[1-9]/,Z={type:"class",value:"[1-9]",description:"[1-9]"},ee=function(e){return parseInt(e,10)},te=/^[^{}\\\0-\x1F \t\n\r]/,re={type:"class",value:"[^{}\\\\\\0-\\x1F\\x7f \\t\\n\\r]",description:"[^{}\\\\\\0-\\x1F\\x7f \\t\\n\\r]"},ne="\\\\",oe={type:"literal",value:"\\\\",description:'"\\\\\\\\"'},ie=function(){return"\\"},ae="\\#",se={type:"literal",value:"\\#",description:'"\\\\#"'},ue=function(){return"\\#"},ce="\\{",le={type:"literal",value:"\\{",description:'"\\\\{"'},fe=function(){return"{"},de="\\}",pe={type:"literal",value:"\\}",description:'"\\\\}"'},he=function(){return"}"},ge="\\u",me={type:"literal",value:"\\u",description:'"\\\\u"'},ye=function(e){return String.fromCharCode(parseInt(e,16))},ve=function(e){return e.join("")},be=0,Se=0,we=[{line:1,column:1,seenCR:!1}],_e=0,Ie=[],Oe=0;if("startRule"in n){if(!(n.startRule in i))throw new Error("Can't start parsing from rule \""+n.startRule+'".');a=i[n.startRule]}function xe(){return Pe(Se,be)}function Ce(e){var r,n,o=we[e];if(o)return o;for(r=e-1;!we[r];)r--;for(o={line:(o=we[r]).line,column:o.column,seenCR:o.seenCR};r<e;)"\n"===(n=t.charAt(r))?(o.seenCR||o.line++,o.column=1,o.seenCR=!1):"\r"===n||"\u2028"===n||"\u2029"===n?(o.line++,o.column=1,o.seenCR=!0):(o.column++,o.seenCR=!1),r++;return we[e]=o,o}function Pe(e,t){var r=Ce(e),n=Ce(t);return{start:{offset:e,line:r.line,column:r.column},end:{offset:t,line:n.line,column:n.column}}}function Ae(e){be<_e||(be>_e&&(_e=be,Ie=[]),Ie.push(e))}function je(t,r,n,o){return null!==r&&function(e){var t=1;for(e.sort(function(e,t){return e.description<t.description?-1:e.description>t.description?1:0});t<e.length;)e[t-1]===e[t]?e.splice(t,1):t++}(r),new e(null!==t?t:function(e,t){var r,n=new Array(e.length);for(r=0;r<e.length;r++)n[r]=e[r].description;return"Expected "+(e.length>1?n.slice(0,-1).join(", ")+" or "+n[e.length-1]:n[0])+" but "+(t?'"'+function(e){function t(e){return e.charCodeAt(0).toString(16).toUpperCase()}return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(e){return"\\x0"+t(e)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(e){return"\\x"+t(e)}).replace(/[\u0100-\u0FFF]/g,function(e){return"\\u0"+t(e)}).replace(/[\u1000-\uFFFF]/g,function(e){return"\\u"+t(e)})}(t)+'"':"end of input")+" found."}(r,n),r,n,o)}function Ee(){return Te()}function Te(){var e,t,r;for(e=be,t=[],r=ke();r!==o;)t.push(r),r=ke();return t!==o&&(Se=e,t=s(t)),e=t}function ke(){var e;return(e=function(){var e,r;return e=be,(r=function(){var e,r,n,i,a,s;if(e=be,r=[],n=be,(i=Fe())!==o&&(a=qe())!==o&&(s=Fe())!==o?n=i=[i,a,s]:(be=n,n=o),n!==o)for(;n!==o;)r.push(n),n=be,(i=Fe())!==o&&(a=qe())!==o&&(s=Fe())!==o?n=i=[i,a,s]:(be=n,n=o);else r=o;return r!==o&&(Se=e,r=u(r)),(e=r)===o&&(e=be,r=Re(),e=r!==o?t.substring(e,be):r),e}())!==o&&(Se=e,r=c(r)),e=r}())===o&&(e=function(){var e,r,n,i,a,s,u;return e=be,123===t.charCodeAt(be)?(r=d,be++):(r=o,0===Oe&&Ae(p)),r!==o&&Fe()!==o&&(n=function(){var e,r,n;if((e=Ue())===o){if(e=be,r=[],l.test(t.charAt(be))?(n=t.charAt(be),be++):(n=o,0===Oe&&Ae(f)),n!==o)for(;n!==o;)r.push(n),l.test(t.charAt(be))?(n=t.charAt(be),be++):(n=o,0===Oe&&Ae(f));else r=o;e=r!==o?t.substring(e,be):r}return e}())!==o&&Fe()!==o?(i=be,44===t.charCodeAt(be)?(a=h,be++):(a=o,0===Oe&&Ae(g)),a!==o&&(s=Fe())!==o&&(u=function(){var e;return(e=function(){var e,r,n,i,a,s;return e=be,t.substr(be,6)===b?(r=b,be+=6):(r=o,0===Oe&&Ae(S)),r===o&&(t.substr(be,4)===w?(r=w,be+=4):(r=o,0===Oe&&Ae(_)),r===o&&(t.substr(be,4)===I?(r=I,be+=4):(r=o,0===Oe&&Ae(O)))),r!==o&&Fe()!==o?(n=be,44===t.charCodeAt(be)?(i=h,be++):(i=o,0===Oe&&Ae(g)),i!==o&&(a=Fe())!==o&&(s=qe())!==o?n=i=[i,a,s]:(be=n,n=o),n===o&&(n=null),n!==o?(Se=e,r=x(r,n),e=r):(be=e,e=o)):(be=e,e=o),e}())===o&&(e=function(){var e,r,n,i;return e=be,t.substr(be,6)===C?(r=C,be+=6):(r=o,0===Oe&&Ae(P)),r!==o&&Fe()!==o?(44===t.charCodeAt(be)?(n=h,be++):(n=o,0===Oe&&Ae(g)),n!==o&&Fe()!==o&&(i=De())!==o?(Se=e,r=A(i),e=r):(be=e,e=o)):(be=e,e=o),e}())===o&&(e=function(){var e,r,n,i;return e=be,t.substr(be,13)===j?(r=j,be+=13):(r=o,0===Oe&&Ae(E)),r!==o&&Fe()!==o?(44===t.charCodeAt(be)?(n=h,be++):(n=o,0===Oe&&Ae(g)),n!==o&&Fe()!==o&&(i=De())!==o?(Se=e,r=T(i),e=r):(be=e,e=o)):(be=e,e=o),e}())===o&&(e=function(){var e,r,n,i,a;if(e=be,t.substr(be,6)===k?(r=k,be+=6):(r=o,0===Oe&&Ae(M)),r!==o)if(Fe()!==o)if(44===t.charCodeAt(be)?(n=h,be++):(n=o,0===Oe&&Ae(g)),n!==o)if(Fe()!==o){if(i=[],(a=Me())!==o)for(;a!==o;)i.push(a),a=Me();else i=o;i!==o?(Se=e,r=D(i),e=r):(be=e,e=o)}else be=e,e=o;else be=e,e=o;else be=e,e=o;else be=e,e=o;return e}()),e}())!==o?i=a=[a,s,u]:(be=i,i=o),i===o&&(i=null),i!==o&&(a=Fe())!==o?(125===t.charCodeAt(be)?(s=m,be++):(s=o,0===Oe&&Ae(y)),s!==o?(Se=e,r=v(n,i),e=r):(be=e,e=o)):(be=e,e=o)):(be=e,e=o),e}()),e}function Me(){var e,r,n,i,a;return e=be,Fe()!==o&&(r=function(){var e,r,n,i;return e=be,r=be,61===t.charCodeAt(be)?(n=R,be++):(n=o,0===Oe&&Ae(F)),n!==o&&(i=Ue())!==o?r=n=[n,i]:(be=r,r=o),(e=r!==o?t.substring(e,be):r)===o&&(e=qe()),e}())!==o&&Fe()!==o?(123===t.charCodeAt(be)?(n=d,be++):(n=o,0===Oe&&Ae(p)),n!==o&&Fe()!==o&&(i=Te())!==o&&Fe()!==o?(125===t.charCodeAt(be)?(a=m,be++):(a=o,0===Oe&&Ae(y)),a!==o?(Se=e,e=L(r,i)):(be=e,e=o)):(be=e,e=o)):(be=e,e=o),e}function De(){var e,r,n,i;if(e=be,(r=function(){var e,r,n;return e=be,t.substr(be,7)===N?(r=N,be+=7):(r=o,0===Oe&&Ae(U)),r!==o&&Fe()!==o&&(n=Ue())!==o?(Se=e,e=r=W(n)):(be=e,e=o),e}())===o&&(r=null),r!==o)if(Fe()!==o){if(n=[],(i=Me())!==o)for(;i!==o;)n.push(i),i=Me();else n=o;n!==o?(Se=e,e=r=q(r,n)):(be=e,e=o)}else be=e,e=o;else be=e,e=o;return e}function Re(){var e,r;if(Oe++,e=[],B.test(t.charAt(be))?(r=t.charAt(be),be++):(r=o,0===Oe&&Ae(G)),r!==o)for(;r!==o;)e.push(r),B.test(t.charAt(be))?(r=t.charAt(be),be++):(r=o,0===Oe&&Ae(G));else e=o;return Oe--,e===o&&(r=o,0===Oe&&Ae(z)),e}function Fe(){var e,r,n;for(Oe++,e=be,r=[],n=Re();n!==o;)r.push(n),n=Re();return e=r!==o?t.substring(e,be):r,Oe--,e===o&&(r=o,0===Oe&&Ae(V)),e}function Le(){var e;return H.test(t.charAt(be))?(e=t.charAt(be),be++):(e=o,0===Oe&&Ae($)),e}function Ne(){var e;return J.test(t.charAt(be))?(e=t.charAt(be),be++):(e=o,0===Oe&&Ae(K)),e}function Ue(){var e,r,n,i,a,s;if(e=be,48===t.charCodeAt(be)?(r=Q,be++):(r=o,0===Oe&&Ae(Y)),r===o){if(r=be,n=be,X.test(t.charAt(be))?(i=t.charAt(be),be++):(i=o,0===Oe&&Ae(Z)),i!==o){for(a=[],s=Le();s!==o;)a.push(s),s=Le();a!==o?n=i=[i,a]:(be=n,n=o)}else be=n,n=o;r=n!==o?t.substring(r,be):n}return r!==o&&(Se=e,r=ee(r)),e=r}function We(){var e,r,n,i,a,s,u,c;return te.test(t.charAt(be))?(e=t.charAt(be),be++):(e=o,0===Oe&&Ae(re)),e===o&&(e=be,t.substr(be,2)===ne?(r=ne,be+=2):(r=o,0===Oe&&Ae(oe)),r!==o&&(Se=e,r=ie()),(e=r)===o&&(e=be,t.substr(be,2)===ae?(r=ae,be+=2):(r=o,0===Oe&&Ae(se)),r!==o&&(Se=e,r=ue()),(e=r)===o&&(e=be,t.substr(be,2)===ce?(r=ce,be+=2):(r=o,0===Oe&&Ae(le)),r!==o&&(Se=e,r=fe()),(e=r)===o&&(e=be,t.substr(be,2)===de?(r=de,be+=2):(r=o,0===Oe&&Ae(pe)),r!==o&&(Se=e,r=he()),(e=r)===o&&(e=be,t.substr(be,2)===ge?(r=ge,be+=2):(r=o,0===Oe&&Ae(me)),r!==o?(n=be,i=be,(a=Ne())!==o&&(s=Ne())!==o&&(u=Ne())!==o&&(c=Ne())!==o?i=a=[a,s,u,c]:(be=i,i=o),(n=i!==o?t.substring(n,be):i)!==o?(Se=e,e=r=ye(n)):(be=e,e=o)):(be=e,e=o)))))),e}function qe(){var e,t,r;if(e=be,t=[],(r=We())!==o)for(;r!==o;)t.push(r),r=We();else t=o;return t!==o&&(Se=e,t=ve(t)),e=t}if((r=a())!==o&&be===t.length)return r;throw r!==o&&be<t.length&&Ae({type:"end",description:"end of input"}),je(null,Ie,_e<t.length?t.charAt(_e):null,_e<t.length?Pe(_e,_e+1):Pe(_e,_e))}}}()},function(e,t,r){"use strict";t.default={locale:"en",pluralRuleFunction:function(e,t){var r=String(e).split("."),n=!r[1],o=Number(r[0])==e,i=o&&r[0].slice(-1),a=o&&r[0].slice(-2);return t?1==i&&11!=a?"one":2==i&&12!=a?"two":3==i&&13!=a?"few":"other":1==e&&n?"one":"other"}}},function(e,t){},function(e,t,r){"use strict";var n=r(190),o=r(193);n.default.__addLocaleData(o.default),n.default.defaultLocale="en",t.default=n.default},function(e,t,r){"use strict";var n=r(23),o=r(191),i=r(192);t.default=u;var a=["second","second-short","minute","minute-short","hour","hour-short","day","day-short","month","month-short","year","year-short"],s=["best fit","numeric"];function u(e,t){t=t||{},i.isArray(e)&&(e=e.concat()),i.defineProperty(this,"_locale",{value:this._resolveLocale(e)}),i.defineProperty(this,"_options",{value:{style:this._resolveStyle(t.style),units:this._isValidUnits(t.units)&&t.units}}),i.defineProperty(this,"_locales",{value:e}),i.defineProperty(this,"_fields",{value:this._findFields(this._locale)}),i.defineProperty(this,"_messages",{value:i.objCreate(null)});var r=this;this.format=function(e,t){return r._format(e,t)}}i.defineProperty(u,"__localeData__",{value:i.objCreate(null)}),i.defineProperty(u,"__addLocaleData",{value:function(e){if(!e||!e.locale)throw new Error("Locale data provided to IntlRelativeFormat is missing a `locale` property value");u.__localeData__[e.locale.toLowerCase()]=e,n.default.__addLocaleData(e)}}),i.defineProperty(u,"defaultLocale",{enumerable:!0,writable:!0,value:void 0}),i.defineProperty(u,"thresholds",{enumerable:!0,value:{second:45,"second-short":45,minute:45,"minute-short":45,hour:22,"hour-short":22,day:26,"day-short":26,month:11,"month-short":11}}),u.prototype.resolvedOptions=function(){return{locale:this._locale,style:this._options.style,units:this._options.units}},u.prototype._compileMessage=function(e){var t,r=this._locales,o=(this._locale,this._fields[e].relativeTime),i="",a="";for(t in o.future)o.future.hasOwnProperty(t)&&(i+=" "+t+" {"+o.future[t].replace("{0}","#")+"}");for(t in o.past)o.past.hasOwnProperty(t)&&(a+=" "+t+" {"+o.past[t].replace("{0}","#")+"}");var s="{when, select, future {{0, plural, "+i+"}}past {{0, plural, "+a+"}}}";return new n.default(s,r)},u.prototype._getMessage=function(e){var t=this._messages;return t[e]||(t[e]=this._compileMessage(e)),t[e]},u.prototype._getRelativeUnits=function(e,t){var r=this._fields[t];if(r.relative)return r.relative[e]},u.prototype._findFields=function(e){for(var t=u.__localeData__,r=t[e.toLowerCase()];r;){if(r.fields)return r.fields;r=r.parentLocale&&t[r.parentLocale.toLowerCase()]}throw new Error("Locale data added to IntlRelativeFormat is missing `fields` for :"+e)},u.prototype._format=function(e,t){var r=t&&void 0!==t.now?t.now:i.dateNow();if(void 0===e&&(e=r),!isFinite(r))throw new RangeError("The `now` option provided to IntlRelativeFormat#format() is not in valid range.");if(!isFinite(e))throw new RangeError("The date value provided to IntlRelativeFormat#format() is not in valid range.");var n=o.default(r,e),a=this._options.units||this._selectUnits(n),s=n[a];if("numeric"!==this._options.style){var u=this._getRelativeUnits(s,a);if(u)return u}return this._getMessage(a).format({0:Math.abs(s),when:s<0?"past":"future"})},u.prototype._isValidUnits=function(e){if(!e||i.arrIndexOf.call(a,e)>=0)return!0;if("string"==typeof e){var t=/s$/.test(e)&&e.substr(0,e.length-1);if(t&&i.arrIndexOf.call(a,t)>=0)throw new Error('"'+e+'" is not a valid IntlRelativeFormat `units` value, did you mean: '+t)}throw new Error('"'+e+'" is not a valid IntlRelativeFormat `units` value, it must be one of: "'+a.join('", "')+'"')},u.prototype._resolveLocale=function(e){"string"==typeof e&&(e=[e]),e=(e||[]).concat(u.defaultLocale);var t,r,n,o,i=u.__localeData__;for(t=0,r=e.length;t<r;t+=1)for(n=e[t].toLowerCase().split("-");n.length;){if(o=i[n.join("-")])return o.locale;n.pop()}var a=e.pop();throw new Error("No locale data has been added to IntlRelativeFormat for: "+e.join(", ")+", or the default locale: "+a)},u.prototype._resolveStyle=function(e){if(!e)return s[0];if(i.arrIndexOf.call(s,e)>=0)return e;throw new Error('"'+e+'" is not a valid IntlRelativeFormat `style` value, it must be one of: "'+s.join('", "')+'"')},u.prototype._selectUnits=function(e){var t,r,n,o=a.filter(function(e){return e.indexOf("-short")<1});for(t=0,r=o.length;t<r&&(n=o[t],!(Math.abs(e[n])<u.thresholds[n]));t+=1);return n}},function(e,t,r){"use strict";var n=Math.round;t.default=function(e,t){var r=n((t=+t)-(e=+e)),o=n(r/1e3),i=n(o/60),a=n(i/60),s=n(a/24),u=n(s/7),c=function(e){return 400*e/146097}(s),l=n(12*c),f=n(c);return{millisecond:r,second:o,"second-short":o,minute:i,"minute-short":i,hour:a,"hour-short":a,day:s,"day-short":s,week:u,"week-short":u,month:l,"month-short":l,year:f,"year-short":f}}},function(e,t,r){"use strict";var n=Object.prototype.hasOwnProperty,o=Object.prototype.toString,i=function(){try{return!!Object.defineProperty({},"a",{})}catch(e){return!1}}(),a=(!i&&Object.prototype.__defineGetter__,i?Object.defineProperty:function(e,t,r){"get"in r&&e.__defineGetter__?e.__defineGetter__(t,r.get):(!n.call(e,t)||"value"in r)&&(e[t]=r.value)}),s=Object.create||function(e,t){var r,o;function i(){}for(o in i.prototype=e,r=new i,t)n.call(t,o)&&a(r,o,t[o]);return r},u=Array.prototype.indexOf||function(e,t){if(!this.length)return-1;for(var r=t||0,n=this.length;r<n;r++)if(this[r]===e)return r;return-1},c=Array.isArray||function(e){return"[object Array]"===o.call(e)},l=Date.now||function(){return(new Date).getTime()};t.defineProperty=a,t.objCreate=s,t.arrIndexOf=u,t.isArray=c,t.dateNow=l},function(e,t,r){"use strict";t.default={locale:"en",pluralRuleFunction:function(e,t){var r=String(e).split("."),n=!r[1],o=Number(r[0])==e,i=o&&r[0].slice(-1),a=o&&r[0].slice(-2);return t?1==i&&11!=a?"one":2==i&&12!=a?"two":3==i&&13!=a?"few":"other":1==e&&n?"one":"other"},fields:{year:{displayName:"year",relative:{0:"this year",1:"next year","-1":"last year"},relativeTime:{future:{one:"in {0} year",other:"in {0} years"},past:{one:"{0} year ago",other:"{0} years ago"}}},"year-short":{displayName:"yr.",relative:{0:"this yr.",1:"next yr.","-1":"last yr."},relativeTime:{future:{one:"in {0} yr.",other:"in {0} yr."},past:{one:"{0} yr. ago",other:"{0} yr. ago"}}},month:{displayName:"month",relative:{0:"this month",1:"next month","-1":"last month"},relativeTime:{future:{one:"in {0} month",other:"in {0} months"},past:{one:"{0} month ago",other:"{0} months ago"}}},"month-short":{displayName:"mo.",relative:{0:"this mo.",1:"next mo.","-1":"last mo."},relativeTime:{future:{one:"in {0} mo.",other:"in {0} mo."},past:{one:"{0} mo. ago",other:"{0} mo. ago"}}},day:{displayName:"day",relative:{0:"today",1:"tomorrow","-1":"yesterday"},relativeTime:{future:{one:"in {0} day",other:"in {0} days"},past:{one:"{0} day ago",other:"{0} days ago"}}},"day-short":{displayName:"day",relative:{0:"today",1:"tomorrow","-1":"yesterday"},relativeTime:{future:{one:"in {0} day",other:"in {0} days"},past:{one:"{0} day ago",other:"{0} days ago"}}},hour:{displayName:"hour",relative:{0:"this hour"},relativeTime:{future:{one:"in {0} hour",other:"in {0} hours"},past:{one:"{0} hour ago",other:"{0} hours ago"}}},"hour-short":{displayName:"hr.",relative:{0:"this hour"},relativeTime:{future:{one:"in {0} hr.",other:"in {0} hr."},past:{one:"{0} hr. ago",other:"{0} hr. ago"}}},minute:{displayName:"minute",relative:{0:"this minute"},relativeTime:{future:{one:"in {0} minute",other:"in {0} minutes"},past:{one:"{0} minute ago",other:"{0} minutes ago"}}},"minute-short":{displayName:"min.",relative:{0:"this minute"},relativeTime:{future:{one:"in {0} min.",other:"in {0} min."},past:{one:"{0} min. ago",other:"{0} min. ago"}}},second:{displayName:"second",relative:{0:"now"},relativeTime:{future:{one:"in {0} second",other:"in {0} seconds"},past:{one:"{0} second ago",other:"{0} seconds ago"}}},"second-short":{displayName:"sec.",relative:{0:"now"},relativeTime:{future:{one:"in {0} sec.",other:"in {0} sec."},past:{one:"{0} sec. ago",other:"{0} sec. ago"}}}}}},function(e,t){},function(e,t,r){"use strict";var n=r(196);function o(e){var t,r,n,o,i=[],a=[];for(t in e)e.hasOwnProperty(t)&&a.push(t);var s=a.sort();for(r=0,n=s.length;r<n;r+=1)(o={})[t=s[r]]=e[t],i[r]=o;return i}t.default=function(e){var t=n.objCreate(null);return function(){var r=Array.prototype.slice.call(arguments),i=function(e){if("undefined"==typeof JSON)return;var t,r,n,i=[];for(t=0,r=e.length;t<r;t+=1)(n=e[t])&&"object"==typeof n?i.push(o(n)):i.push(n);return JSON.stringify(i)}(r),a=i&&t[i];return a||(a=new(n.bind.apply(e,[null].concat(r))),i&&(t[i]=a)),a}}},function(e,t,r){"use strict";var n=Function.prototype.bind||function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),r=this,n=function(){},o=function(){return r.apply(this instanceof n?this:e,t.concat(Array.prototype.slice.call(arguments)))};return this.prototype&&(n.prototype=this.prototype),o.prototype=new n,o},o=Object.prototype.hasOwnProperty,i=function(){try{return!!Object.defineProperty({},"a",{})}catch(e){return!1}}(),a=(!i&&Object.prototype.__defineGetter__,i?Object.defineProperty:function(e,t,r){"get"in r&&e.__defineGetter__?e.__defineGetter__(t,r.get):(!o.call(e,t)||"value"in r)&&(e[t]=r.value)}),s=Object.create||function(e,t){var r,n;function i(){}for(n in i.prototype=e,r=new i,t)o.call(t,n)&&a(r,n,t[n]);return r};t.bind=n,t.defineProperty=a,t.objCreate=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(7),o=function(){function e(){}return e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.prototype.loadNls=function(e){return n.loadModule(""+e).then(function(t){var r=window.jimuConfig.locale;if("en"===r)return t.root;if(!t[r])return t.root;var o=e.split("/"),i=o.slice(0,o.length-2).join("/"),a=o[o.length-1];return n.loadModule(i+"/"+r+"/"+a).then(function(e){return Object.assign(t.root,e)})})},e}();t.default=o},function(e,t,r){var n,o;
/*!
 * JavaScript Cookie v2.2.0
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */!function(i){if(void 0===(o="function"==typeof(n=i)?n.call(t,r,t,e):n)||(e.exports=o),!0,e.exports=i(),!!0){var a=window.Cookies,s=window.Cookies=i();s.noConflict=function(){return window.Cookies=a,s}}}(function(){function e(){for(var e=0,t={};e<arguments.length;e++){var r=arguments[e];for(var n in r)t[n]=r[n]}return t}return function t(r){function n(t,o,i){var a;if("undefined"!=typeof document){if(arguments.length>1){if("number"==typeof(i=e({path:"/"},n.defaults,i)).expires){var s=new Date;s.setMilliseconds(s.getMilliseconds()+864e5*i.expires),i.expires=s}i.expires=i.expires?i.expires.toUTCString():"";try{a=JSON.stringify(o),/^[\{\[]/.test(a)&&(o=a)}catch(e){}o=r.write?r.write(o,t):encodeURIComponent(String(o)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=(t=(t=encodeURIComponent(String(t))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape);var u="";for(var c in i)i[c]&&(u+="; "+c,!0!==i[c]&&(u+="="+i[c]));return document.cookie=t+"="+o+u}t||(a={});for(var l=document.cookie?document.cookie.split("; "):[],f=/(%[0-9A-Z]{2})+/g,d=0;d<l.length;d++){var p=l[d].split("="),h=p.slice(1).join("=");this.json||'"'!==h.charAt(0)||(h=h.slice(1,-1));try{var g=p[0].replace(f,decodeURIComponent);if(h=r.read?r.read(h,g):r(h,g)||h.replace(f,decodeURIComponent),this.json)try{h=JSON.parse(h)}catch(e){}if(t===g){a=h;break}t||(a[g]=h)}catch(e){}}return a}}return n.set=n,n.get=function(e){return n.call(n,e)},n.getJSON=function(){return n.apply({json:!0},[].slice.call(arguments))},n.defaults={},n.remove=function(t,r){n(t,"",e(r,{expires:-1}))},n.withConverter=t,n}(function(){})})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),o=r(34),i=r(9),a=r(26),s=function(){function e(){this.servicesInfo={},this.servicesInfoPromise={}}return e.getInstance=function(){if(window.jimuConfig&&window.jimuConfig.isBuilder){if(window._appWindow&&window._appWindow._serviceManager)return window._appWindow._serviceManager;console.error("No window._appWindow._serviceDefinitionManager.")}return e.instance||(e.instance=new e),e.instance},e.prototype.getServiceInfo=function(e){return this.servicesInfo[e]},e.prototype.setServiceInfo=function(e,t){this.servicesInfo[e]=t},e.prototype.fetchServiceInfo=function(e){var t=this;return this.getServiceInfo(e)?Promise.resolve(this.getServiceInfo(e)):this.servicesInfoPromise[e]?this.servicesInfoPromise[e]:(this.servicesInfoPromise[e]=this.isHostedServiceInSamePortal(e).then(function(t){return t?n.request(e,{authentication:o.default.getInstance().getSession()}).then(function(e){return{definition:e,isHostedInSamePortal:t}}):n.request(e).then(function(e){return{definition:e,isHostedInSamePortal:t}})}).then(function(r){return t.servicesInfo[e]=r,r}),this.servicesInfoPromise[e])},e.prototype.isHostedServiceInSamePortal=function(e){var t=e.split(/\/rest(\/admin)?\/services\//)[0];return t?n.request(t+"/rest/info").then(function(e){return!!e.owningSystemUrl&&(!(!/https?:\/\/www\.arcgis\.com/.test(e.owningSystemUrl)||!/maps\.arcgis\.com\/?$/.test(i.getAppStore().getState().portalUrl))||(!(!/https?:\/\/devext\.arcgis\.com/.test(e.owningSystemUrl)||!/mapsdevext\.arcgis\.com\/?$/.test(i.getAppStore().getState().portalUrl))||(!(!/https?:\/\/qaext\.arcgis\.com/.test(e.owningSystemUrl)||!/mapsqa\.arcgis\.com\/?$/.test(i.getAppStore().getState().portalUrl))||a.isSamePortalUrl(i.getAppStore().getState().portalUrl,e.owningSystemUrl))))}):Promise.resolve(!1)},e.prototype.isHostedService=function(e){var t=e.split(/\/rest(\/admin)?\/services\//)[0];return t?n.request(t+"/rest/info").then(function(e){return!!e.owningSystemUrl}):Promise.resolve(!1)},e}();t.default=s,window.jimuConfig&&!window.jimuConfig.isBuilder&&(window._serviceManager=s.getInstance())},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),i=r(29),a=r(9),s=r(201),u=r(60),c=r(38),l=r(58),f=r(111),d=i.connect(function(e){return{locale:e.appContext.locale,messages:e.appI18nMessages}})(c.IntlProvider),p=i.connect(function(e){return{theme:e.theme}})(l.ThemeProvider),h=function(e){function t(t){return e.call(this,t)||this}return n(t,e),t.prototype.render=function(){return o.createElement(i.Provider,{store:a.getAppStore()},o.createElement(f.ErrorBoundary,null,o.createElement(u.HistoryProvider,null,o.createElement(d,null,o.createElement(p,null,o.createElement(s.default,null))))))},t}(o.PureComponent);t.default=h},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),i=r(250),a=r(25),s=r(29),u=r(105),c=r(57),l=r(13),f=r(7),d=r(16),p=r(19),h=r(108),g=r(7),m=r(21),y=r(46),v=r(48),b=r(38),S=r(39),w=function(e){function t(t){var r,n=e.call(this,t)||this;n.getKeyboardComponent=function(){if(window.jimuConfig.isBuilder){var e=g.getModuleSync("jimu-for-builder").BuilderKeyboardComponent;return o.createElement(e,null)}return window.jimuConfig.isInBuilder?o.createElement(h.default,null):null};var i={PageRenderClass:null,swUpdateVisible:!0};window.isNode||window.initStoreState?i.preloadWidgetsLoaded=!0:i.preloadWidgetsLoaded=!1;var s,c=n.getPageId();return i.renderedPages=a(c?((r={})[c]=!0,r):{}),s=window.jimuConfig.isInBuilder?"jimu-layouts/layout-builder":"jimu-layouts/layout-runtime",n.props.dynamicModules[s]?i.PageRenderClass=f.getModuleSync(s).PageRenderer:f.loadModule(s).then(function(e){n.setState({PageRenderClass:e.PageRenderer})}),n.state=i,u.default.getInstance({intl:n.props.intl}).loadAppConfig().then(function(e){n.props.dispatch(l.appConfigLoaded(e)),n.loadPreloadWidgets(e.preloadWidgets);var t=y.default.getInstance();t.init(e.theme).then(function(){p.isDeepEqual(n.props.themeVariables,{})&&(n.props.customTheme&&!p.isDeepEqual(n.props.customTheme,{})&&t.updateCustomTheme(n.props.themeName,n.props.customTheme),t.loadThemeVariables(e.theme).then(function(e){n.props.dispatch(l.themeVariablesLoaded(e))}))}).catch(function(e){console.error("Initializing theme manager failed.",e),n.setState({error:e.message})})}).catch(function(e){console.error("Load app config error.",e),n.setState({error:e.message})}),g.loadModule("jimu-ui").then(function(e){n.setState({jimuUI:e})}),n.onDismiss=n.onDismiss.bind(n),n.updateSW=n.updateSW.bind(n),n}return n(t,e),t.prototype.loadPreloadWidgets=function(e){var t=this;e&&0!==e.length?Promise.all(e.asMutable().map(function(e){return v.default.getInstance().loadWidgetClass(e)})).then(function(){t.setState({preloadWidgetsLoaded:!0})}):this.setState({preloadWidgetsLoaded:!0})},t.prototype.componentDidUpdate=function(e){var t=this,r=this.getPageId(),n=this.state.renderedPages,o=y.default.getInstance();r&&!n[r]&&(Object.keys(n).forEach(function(e){n=n.set(e,!1)}),this.setState({renderedPages:n.set(r,!0)})),o.initialized&&(this.props.themeName!==e.themeName&&o.changeTheme(this.props.themeName).then(function(){o.loadThemeVariables(t.props.themeName).then(function(e){t.props.dispatch(l.themeVariablesLoaded(e||t.props.themeVariables))})}),this.props.customTheme&&!p.isDeepEqual(this.props.customTheme,e.customTheme)&&(o.updateCustomTheme(this.props.themeName,this.props.customTheme),o.loadThemeVariables(this.props.themeName).then(function(e){t.props.dispatch(l.themeVariablesLoaded(e||t.props.themeVariables))})))},t.prototype.getPageId=function(){var e=this;if(!this.props.pages)return null;var t=d.getAppIdPageIdFromUrl();return t.pageId?t.pageId:Object.keys(this.props.pages).find(function(t){return e.props.pages[t].isDefault})},t.prototype.render=function(){var e=this.state,t=e.PageRenderClass,r=e.renderedPages;if(this.state.error)return o.createElement("div",{style:{width:"100vw",height:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},dangerouslySetInnerHTML:{__html:this.state.error}});if(!this.props.appConfigLoaded||!t||!this.state.preloadWidgetsLoaded||!y.default.getInstance().initialized||p.isDeepEqual(this.props.themeVariables,{}))return null;var n=this.getPageId();if(!n)return console.error("No page to render."),null;if(!this.props.pages[n])return console.error("Invalid page id.",n),null;if(this.props.pages[n].type===c.PageType.Folder)return console.error("This is a folder."),null;if(this.props.pages[n].linkUrl)return window.location.assign(this.props.pages[n].linkUrl),null;var i=y.default.getInstance().getGlobalStyles(this.props.themeVariables);return o.createElement(o.Fragment,null,o.createElement(m.Global,{styles:i}),this.props.hasWaitingServiceWorker&&!window.jimuConfig.isInBuilder&&this.renderSWAlert(this.props.themeVariables),o.createElement(t,{pageId:n,renderedPages:r}),this.getThemeNode(),o.createElement("div",{id:"helper-nodes-container"}),this.getKeyboardComponent())},t.prototype.renderSWAlert=function(e){if(!this.state.jimuUI)return null;var t=this.state.jimuUI,r=t.Alert,n=t.Button;return o.createElement(r,{color:"info",isOpen:this.state.swUpdateVisible,toggle:this.onDismiss,className:"pl-3 pr-3 pt-0 pb-0",style:{position:"absolute",zIndex:"999",width:"100%",height:""+i.rem(48),lineHeight:""+i.rem(48),backgroundColor:""+e.colors.cyans.cyan100,color:""+e.colors.dark}},o.createElement(b.FormattedMessage,{id:"versionUpdateMsg",defaultMessage:S.default.versionUpdateMsg}),o.createElement(n,{size:"sm",className:"ml-3",onClick:this.updateSW,style:{width:""+i.rem(78),height:""+i.rem(26),marginTop:""+i.rem(-2)}},o.createElement(b.FormattedMessage,{id:"doUpdate",defaultMessage:S.default.doUpdate})))},t.prototype.onDismiss=function(){this.setState({swUpdateVisible:!1})},t.prototype.updateSW=function(){window.waitingServiceWorker.postMessage({type:"to_sw_skip_waiting"})},t.prototype.getThemeNode=function(){var e=null,t=this.props.themeName;if(t){var r=y.default.getInstance().getThemeManifest(t);r&&r.styleFiles&&r.styleFiles.css&&(e=o.createElement("link",{type:"text/css",rel:"stylesheet",href:""+d.getFixedRootPath()+t+"/style.css"}))}return e},t}(o.PureComponent);t.default=b.injectIntl(s.connect(function(e){return e.appConfig?{appConfigLoaded:!0,customTheme:e.appConfig.customTheme,themeName:e.appConfig.theme?e.appConfig.theme:null,dynamicModules:e.dynamicModules,themeVariables:e.theme,pages:e.appConfig.pages,appPath:e.appPath,queryObject:e.queryObject,hasWaitingServiceWorker:e.appRuntimeInfo.hasWaitingServiceWorker}:{appConfigLoaded:!1,dynamicModules:e.dynamicModules,themeVariables:e.theme,themeName:null,customTheme:null,pages:null,appPath:e.appPath,queryObject:e.queryObject,hasWaitingServiceWorker:e.appRuntimeInfo.hasWaitingServiceWorker}})(w))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(110),o=r(203),i=r(204),a=r(205),s=function(e){console.log(":keyboard event:",e)};t.default=function(e,t){if(void 0===e&&(e="keydown"),void 0===t&&(t=null),"undefined"==typeof window)return!1;var r={},u=null,c=null;null===t&&(t=window.document);var l=!n.default(t);function f(e){if(!(i.default(e)||l&&o.default(e))){c&&c(e);var t=a.default(e),n=r[t.toLowerCase()]||[];if("function"==typeof u){var s=n.length>0;u(t,s,e)}n.length&&e.preventDefault();for(var f=!0,d=n.length-1;d>=0&&(n[d]&&(f=n[d](e)),!1!==f);d--);return!!f&&void 0}}function d(){t.addEventListener(e,f)}return d(),{subscribe:function(e,t){return(e=e.toLowerCase()).replace(/\s/,""),void 0===r[e]&&(r[e]=[]),r[e].push(t),{unsubscribe:function(){var n=r[e].indexOf(t);r[e].splice(n,1)}}},setMonitor:function(e){void 0===e&&(e=null),u=!0===e?s:e},startListening:d,stopListening:function(){t.removeEventListener(e,f)},setKeyboardTriggerFunction:function(e){c=e}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(110);t.default=function(e){return n.default(e.target||e.nativeEvent.target)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={ShiftLeft:"shift",ShiftRight:"shift",AltLeft:"alt",AltRight:"alt",MetaLeft:"meta",MetaRight:"meta",ControlLeft:"control",ControlRight:"control"};t.default=function(e){return"code"in e?!!n[e.code]:16===e.which||17===e.which||18===e.which||91===e.which}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(206);t.default=function(e){var t="",r=[];if("code"in e)t=n.default[e.code]?n.default[e.code]:e.code;else{var o=e.which;t=String.fromCharCode(o).toLowerCase(),n.default[o]&&(t=n.default[o])}return e.metaKey&&r.push("command"),e.ctrlKey&&r.push("Ctrl"),e.shiftKey&&r.push("Shift"),e.altKey&&r.push("Alt"),r.push(t),r.join("+")}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"escape",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta",106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",ArrowUp:"Up",ArrowDown:"Down",ArrowLeft:"Left",ArrowRight:"Right"}},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),i=r(29),a=r(28),s=r(17),u=r(19),c=r(47),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={realQueryParam:null,queryStatus:a.DataSourceStatus.Unloaded,records:[]},t}return n(t,e),t.prototype.componentDidMount=function(){this.createDataSource(),this.props.dataSource&&this.props.onDataSourceCreated&&this.props.onDataSourceCreated(this.props.dataSource),this.props.query&&this.doQuery()},t.prototype.componentDidUpdate=function(e,t){this.createDataSource(),(!e.dataSource&&this.props.dataSource||e.dataSource&&this.props.dataSource&&e.dataSource.id!==this.props.dataSource.id)&&this.props.onDataSourceCreated&&this.props.onDataSourceCreated(this.props.dataSource),t.queryStatus!==this.state.queryStatus&&this.props.onQueryStatusChange&&this.props.onQueryStatusChange(this.state.queryStatus),this.props.query&&this.doQuery()},t.prototype.render=function(){return this.props.useDataSource?this.props.dataSource?this.props.children?"function"==typeof this.props.children?this.props.children(this.props.dataSource,this.state.queryStatus,this.state.records,this.props.useDataSource.fields||[]):this.props.children:null:"Waiting for data source":"No data source configured."},t.prototype.doQuery=function(){var e=this,t=this.props,r=t.dataSource,n=t.query,o=t.refresh,i=this.state.realQueryParam;if(r){var s=r.getRealQuery(n,"query");if(!u.isDeepEqual(i,s)||o){var l=r;c.checkDoQuery({queryType:"byQuery",queryValue:s,refresh:o,currentQuery:this.state.realQueryParam,queryStatus:this.state.queryStatus,records:this.state.records})&&(this.setState({queryStatus:a.DataSourceStatus.Loading,realQueryParam:s}),l.query(n).then(function(t){e.setState({queryStatus:a.DataSourceStatus.Loaded,records:t})},function(t){console.error(t),e.setState({queryStatus:a.DataSourceStatus.Error})}))}}},t.prototype.createDataSource=function(){var e=this;if(this.props.useDataSource){var t=this.props.dataSourceManager;if(!t.getDataSource(this.props.useDataSource.dataSourceId)){var r=this.props.dataSourceJson;if(r)!r.isOutputFromWidget&&t.createDataSource(r).then(function(e){},function(t){e.props.onCreateDataSourceFailed&&e.props.onCreateDataSourceFailed(t)});else{var n=this.props.rootDataSourceJson;if(!n)return void console.error("Can not find data source:",this.props.useDataSource.dataSourceId);!n.isOutputFromWidget&&t.createDataSource(n).then(function(e){},function(t){e.props.onCreateDataSourceFailed&&e.props.onCreateDataSourceFailed(t)})}}}},t}(o.PureComponent);t.DataQueryComponentInner=l;t.default=i.connect(function(e,t){var r=s.default.getInstance();return{dataSourceInfo:t.useDataSource&&e.dataSourcesInfo[t.useDataSource.dataSourceId],dataSourceJson:t.useDataSource&&e.appConfig.dataSources[t.useDataSource.dataSourceId],rootDataSourceJson:t.useDataSource&&e.appConfig.dataSources[t.useDataSource.rootDataSourceId],dataSource:t.useDataSource&&r.getDataSource(t.useDataSource.dataSourceId),dataSourceManager:r}})(l)},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),i=r(17),a=r(112),s=r(29),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleDataSourceCreated=function(){var e=t.props.onDataSourceCreated;(void 0===e?function(){}:e)(t.getDataSources())},t.handleDataSourceInfoChange=function(){var e=t.props.onDataSourceInfoChange;(void 0===e?function(){}:e)(t.getDataSourcesInfo())},t.getDataSources=function(){var e=t.props.useDataSources,r=void 0===e?[]:e,n={},o=i.default.getInstance();return r.forEach(function(e){return n[e.dataSourceId]=o.getDataSource(e.dataSourceId)}),n},t.getDataSourcesInfo=function(){var e=t.props.useDataSources,r=void 0===e?[]:e,n={},o=i.default.getInstance();return r.forEach(function(e){var t=o.getDataSource(e.dataSourceId),r=t&&t.getInfo();n[e.dataSourceId]=r}),n},t.hasLoadedDataSources=function(){var e=t.props.useDataSources,r=void 0===e?[]:e,n=t.getDataSources();return r.every(function(e){return!!n[e.dataSourceId]})},t}return n(t,e),t.prototype.render=function(){var e=this,t=this.props,r=t.useDataSources,n=void 0===r?[]:r,i=t.queries,s=void 0===i?{}:i,u=t.children,c=n.map(function(t,r){return o.createElement(a.default,{key:r,useDataSource:t,query:s[t.dataSourceId],onDataSourceCreated:e.handleDataSourceCreated,onDataSourceInfoChange:e.handleDataSourceInfoChange})});return this.hasLoadedDataSources()?u?o.createElement(o.Fragment,null,c,"function"==typeof u?u(this.getDataSources(),this.getDataSourcesInfo()):u):c:null},t}(o.PureComponent);t.MultipleDataSourceComponentInner=u;t.default=s.connect(function(e,t){var r={};return t.useDataSources.forEach(function(t){return r[t.dataSourceId]=e.dataSourcesInfo[t.dataSourceId]}),r})(u)},function(e,t){var r=9007199254740991,n="[object Arguments]",o="[object Function]",i="[object GeneratorFunction]",a=/^(?:0|[1-9]\d*)$/;var s=Object.prototype,u=s.hasOwnProperty,c=s.toString,l=s.propertyIsEnumerable,f=function(e,t){return function(r){return e(t(r))}}(Object.keys,Object),d=Math.max,p=!l.call({valueOf:1},"valueOf");function h(e,t){var r=b(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&S(e)}(e)&&u.call(e,"callee")&&(!l.call(e,"callee")||c.call(e)==n)}(e)?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],o=r.length,i=!!o;for(var a in e)!t&&!u.call(e,a)||i&&("length"==a||m(a,o))||r.push(a);return r}function g(e,t,r){var n=e[t];u.call(e,t)&&v(n,r)&&(void 0!==r||t in e)||(e[t]=r)}function m(e,t){return!!(t=null==t?r:t)&&("number"==typeof e||a.test(e))&&e>-1&&e%1==0&&e<t}function y(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||s)}function v(e,t){return e===t||e!=e&&t!=t}var b=Array.isArray;function S(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}(e.length)&&!function(e){var t=w(e)?c.call(e):"";return t==o||t==i}(e)}function w(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}var _=function(e){return function(e,t){return t=d(void 0===t?e.length-1:t,0),function(){for(var r=arguments,n=-1,o=d(r.length-t,0),i=Array(o);++n<o;)i[n]=r[t+n];n=-1;for(var a=Array(t+1);++n<t;)a[n]=r[n];return a[t]=i,function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}(e,this,a)}}(function(t,r){var n=-1,o=r.length,i=o>1?r[o-1]:void 0,a=o>2?r[2]:void 0;for(i=e.length>3&&"function"==typeof i?(o--,i):void 0,a&&function(e,t,r){if(!w(r))return!1;var n=typeof t;return!!("number"==n?S(r)&&m(t,r.length):"string"==n&&t in r)&&v(r[t],e)}(r[0],r[1],a)&&(i=o<3?void 0:i,o=1),t=Object(t);++n<o;){var s=r[n];s&&e(t,s,n,i)}return t})}(function(e,t){if(p||y(t)||S(t))!function(e,t,r,n){r||(r={});for(var o=-1,i=t.length;++o<i;){var a=t[o],s=n?n(r[a],e[a],a,r,e):void 0;g(r,a,void 0===s?e[a]:s)}}(t,function(e){return S(e)?h(e):function(e){if(!y(e))return f(e);var t=[];for(var r in Object(e))u.call(e,r)&&"constructor"!=r&&t.push(r);return t}(e)}(t),e);else for(var r in t)u.call(t,r)&&g(e,r,t[r])});e.exports=_},function(e,t){var r="Expected a function";var n=Math.max;var o=function(e,t){return t=n(void 0===t?e.length-1:t,0),function(){for(var r=arguments,o=-1,i=n(r.length-t,0),a=Array(i);++o<i;)a[o]=r[t+o];o=-1;for(var s=Array(t+1);++o<t;)s[o]=r[o];return s[t]=a,function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}(e,this,s)}}(function(e,t){return function(e,t,n){if("function"!=typeof e)throw new TypeError(r);return setTimeout(function(){e.apply(void 0,n)},t)}(e,1,t)});e.exports=o},function(e,t,r){(function(t){var r="Expected a function",n=NaN,o="[object Symbol]",i=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt,l="object"==typeof t&&t&&t.Object===Object&&t,f="object"==typeof self&&self&&self.Object===Object&&self,d=l||f||Function("return this")(),p=Object.prototype.toString,h=Math.max,g=Math.min,m=function(){return d.Date.now()};function y(e,t,n){var o,i,a,s,u,c,l=0,f=!1,d=!1,p=!0;if("function"!=typeof e)throw new TypeError(r);function y(t){var r=o,n=i;return o=i=void 0,l=t,s=e.apply(n,r)}function S(e){var r=e-c;return void 0===c||r>=t||r<0||d&&e-l>=a}function w(){var e=m();if(S(e))return _(e);u=setTimeout(w,function(e){var r=t-(e-c);return d?g(r,a-(e-l)):r}(e))}function _(e){return u=void 0,p&&o?y(e):(o=i=void 0,s)}function I(){var e=m(),r=S(e);if(o=arguments,i=this,c=e,r){if(void 0===u)return function(e){return l=e,u=setTimeout(w,t),f?y(e):s}(c);if(d)return u=setTimeout(w,t),y(c)}return void 0===u&&(u=setTimeout(w,t)),s}return t=b(t)||0,v(n)&&(f=!!n.leading,a=(d="maxWait"in n)?h(b(n.maxWait)||0,t):a,p="trailing"in n?!!n.trailing:p),I.cancel=function(){void 0!==u&&clearTimeout(u),l=0,o=c=i=u=void 0},I.flush=function(){return void 0===u?s:_(m())},I}function v(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function b(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&p.call(e)==o}(e))return n;if(v(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=v(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var r=s.test(e);return r||u.test(e)?c(e.slice(2),r?2:8):a.test(e)?n:+e}e.exports=function(e,t,n){var o=!0,i=!0;if("function"!=typeof e)throw new TypeError(r);return v(n)&&(o="leading"in n?!!n.leading:o,i="trailing"in n?!!n.trailing:i),y(e,t,{leading:o,maxWait:t,trailing:i})}}).call(this,r(8))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});r(1);var n=r(7),o=r(19),i=r(16),a=r(42),s=r(9),u=r(25),c=r(13),l=r(45),f=r(48),d=r(34),p=r(26),h=r(61),g=r(38),m=r(113),y=r(14),v=r(213),b=r(107),S=r(39),w=r(64),_=r(215),I=r(63),O=r(115),x=r(216),C=r(46),P=["en"],A=["en"];function j(e,t){return t&&t[e.id]?t[e.id]:e.defaultMessage}function E(){return function(){var e;if(window.jimuConfig.isInPortal)return e=p.getPortalUrlFromLocation(),Promise.resolve(e);if(window.jimuConfig.packagesInAppFolder)return Promise.resolve(null);var t=window.hostEnv||"dev",r=window.location.protocol+"//"+window.location.host+window.jimuConfig.mountPath+"builder/setting.json";return window.fetch(r).then(function(e){return e.json()}).then(function(e){var r=e.env[t];return r},function(e){return console.error("Get setting.json error.",e),Promise.resolve(null)})}().then(function(e){return e?(d.default.getInstance().initFromCookie(e.clientId),t=d.default.getInstance().getSession()?p.getPortalUrlFromRestUrl(d.default.getInstance().getSession().portal):e.portalUrl,s.getAppStore().dispatch(c.setPortalInfo(t,e.clientId)),b.initPortalSelf(t)):(d.default.getInstance().initFromCookie(null),Promise.resolve({}));var t})}function T(e,t){return e.split("-")[0]===t.split("-")[0]}function k(e){for(var t=!1,r=["ar","he"],n=0;n<r.length;n++)T(r[n],e)&&(t=!0);return t}function M(){if("undefined"!=typeof document){var e=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,t=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,r=o.getBrowserSizeMode({width:e,height:t});s.getAppStore().getState().browserSizeMode!==r&&s.getAppStore().dispatch(c.browserSizeModeChanged(r))}}t.init=function(){var e=a.parse(window.location.search),t=s.createAppStore(u(window.initStoreState));return t.subscribe(function(){window._appState=s.getAppStore().getState()}),window.addEventListener&&(window.addEventListener("online",function(){return t.dispatch(c.networkStatusChanged(!1))}),window.addEventListener("offline",function(){return t.dispatch(c.networkStatusChanged(!0))}),window.addEventListener("resize",m(M,100)),M()),E().then(function(){return d.default.getInstance().getSession()?d.default.getInstance().getSession().getUser():null}).then(function(r){var a=r&&r.culture,l=function(e,t){return e.locale||t||window.jimuConfig.locale||h.getBrowserLanguage(window.navigator)}(e,a),f=h.getSupportedLocale(l,A)||"en",d=h.getSupportedLocale(l,P)||"en",p={isInPortal:window.jimuConfig.isInPortal,isInBuilder:window.jimuConfig.isInBuilder,isBuilder:window.jimuConfig.isBuilder,locale:f,isRTL:k(d),isTouchDevice:o.isTouchDevice(),jimuConfig:window.jimuConfig};!function(e){if("undefined"!=typeof document){var t=document.getElementsByTagName("html")[0];k(e)?(t.setAttribute("dir","rtl"),t.className+=" esriRtl jimu-rtl",t.className+=" "+e+" "+(-1!==e.indexOf("-")?e.split("-")[0]:"")):(t.setAttribute("dir","ltr"),t.className+=" esriLtr jimu-ltr",t.className+=" "+e+" "+(-1!==e.indexOf("-")?e.split("-")[0]:""))}}(d),t.dispatch(c.initAppContext(p)),t.dispatch(c.queryObjectChanged(e)),t.dispatch(c.networkStatusChanged(!(window.navigator&&window.navigator.onLine)));var m=i.getAppIdPageIdFromUrl(),v=m.appId,b=m.pageId;return v?t.dispatch(c.appIdChanged(v)):e.config&&t.dispatch(c.appIdChanged(e.config)),t.dispatch(c.appRuntimeInfoInit(u({appMode:y.AppMode.Run,currentPageId:b,currentDialogId:e.dlg,currentViewIds:e.views?e.views.split(","):[],activePagePart:y.PagePart.Body,hasWaitingServiceWorker:!!window.waitingServiceWorker}))),function(e){var t=i.getDataSourceInfosFromQueryObject(e);Object.keys(t).forEach(function(e){var r=t[e];"index"===r.selectionType?s.getAppStore().dispatch(c.dataSourceSelectedIndexesChanged(e,r.selection)):s.getAppStore().dispatch(c.dataSourceSelectedIdsChanged(e,r.selection))})}(e),Promise.all([function(e){return"en"===e?Promise.resolve({messages:S.default,localeData:null}):h.loadLocaleData(e)}(f),function(e){return"en"===e?Promise.resolve(S.default):(e=h.getLocaleToLoad(e,P))?h.loadLocaleMessages("jimu-core/lib/translations",e).then(function(e){return e}):Promise.resolve(S.default)}(d)]).then(function(e){var r=e[0],o=e[1];return o&&t.dispatch(c.i18nMessagesLoaded("jimu-core",o)),r&&g.addLocaleData(r),w.default.getInstance().registerAction({id:"export-json",label:j({id:"dataAction_ExportJson",defaultMessage:S.default.dataAction_ExportJson},o),ActionClass:_.default}),I.default.getInstance().registerAction({id:"filter-data-record-action",label:j({id:"messageAction_FilterDataRecord",defaultMessage:S.default.messageAction_FilterDataRecord},o),ActionClass:O.default}),I.default.getInstance().registerAction({id:"select-data-record-action",label:j({id:"messageAction_SelectDataRecord",defaultMessage:S.default.messageAction_SelectDataRecord},o),ActionClass:x.default}),window.jimuConfig.isInBuilder?(s.getAppStore().dispatch(c.appModeChanged(y.AppMode.Design)),n.loadModule("jimu-layouts/common").then(function(e){return e.init()}).then(function(){return n.loadModule("jimu-for-builder/for-app-inbuilder").then(function(e){var t=e.appBuilderSync;return t.listenBuilderEvents(),s.observeStore(function(e,r){e&&r&&t.publishAppStateChangeToBuilder()}),e.loadI18nMessage()})})):Promise.resolve()})})},t.initPortal=E,t.preloadModulesForSSR=function(e){return Promise.all(l.getAllWidgets(e.appConfig).map(function(t){return o.isWidgetSupportSSR(e.appConfig,t.id,Object.keys(v.ArcGISDataSourceTypes).map(function(e){return v.ArcGISDataSourceTypes[e]}))&&t.manifest.properties.hasMainClass?f.default.getInstance().loadWidgetClass(t):Promise.resolve({})})).then(function(){var e;return e=window.jimuConfig.isInBuilder?"jimu-layouts/layout-builder":"jimu-layouts/layout-runtime",n.loadModule(e)}).then(function(){return C.default.getInstance().init(e.appConfig.theme)})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(214);t.ArcGISDataSourceTypes=n.DataSourceTypes},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Map="MAP",e.WebMap="WEB_MAP",e.WebScene="WEB_SCENE",e.MapView="MAP_VIEW",e.SceneView="SCENE_VIEW",e.FeatureLayer="FEATURE_LAYER",e.FeatureLayerView="FEATURE_LAYER_VIEW"}(t.DataSourceTypes||(t.DataSourceTypes={}))},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.name="export-json",t}return n(t,e),t.prototype.isSupported=function(e,t){return t.length>0},t.prototype.onExecute=function(e,t){var r=t.map(function(e){return e.toJson()});return alert("see console"),console.log(r),Promise.resolve(!0)},t}(r(114).AbstractDataAction);t.default=o},function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(65),i=r(17),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.name="select data record action",t}return n(t,e),t.prototype.filterMessageType=function(e){return e===o.MessageType.DataRecordsSelectionChange||e==o.MessageType.SpatialDataRecordsSelectionChange||e==o.MessageType.SelectDataRecord},t.prototype.filterMessage=function(e){return!0},t.prototype.onExecute=function(e,t){switch(e.type){case o.MessageType.DataRecordsSelectionChange:break;case o.MessageType.SpatialDataRecordsSelectionChange:for(var r=e,n=i.default.getInstance().getDataSource(t.dataSourceId),a=t.dataSourceField.name+" IN ",s=t.messageField.name,u=t.messageField.type,c=[],l=0;l<r.records.length;l++){var f=r.records[l].getData()[s];c.indexOf(""+this.formatValue(f,u))>-1||c.push(""+this.formatValue(r.records[l].getData()[s],u))}if(c.length>0){var d={outFields:["*"],where:a=a+"("+c.join(", ")+")",returnGeometry:!0};n.query(d).then(function(e){if(e&&e.length>0){for(var t=[],r=0;r<e.length;r++){var o=e[r],i=n.getIdField();t.push(o.feature.attributes[i])}setTimeout(function(){n.selectRecordsByIds(t)},200)}})}else n.selectRecordsByIds([]);break;case o.MessageType.SelectDataRecord:}return!0},t.prototype.formatValue=function(e,t){return"STRING"===t?"'"+e+"'":"NUMBER"===t?""+e:"DATE"===t?"'"+e+"'":void 0},t}(o.AbstractMessageAction);t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1);t.LoadingHandler=function(e){return e.error?n.createElement("div",null,"Error! ",n.createElement("button",{onClick:e.retry},"Retry")):e.pastDelay?n.createElement("div",null,"Loading..."):null}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(62),o=r(7);t.loadArcGISJSAPIModules=function(e){return n.loadDependency("jimu-arcgis").then(function(){return o.loadModules(e)})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(20),o=r(35),i=r(220),a=r(221),s=r(222),u=r(223),c=r(224);function l(e,t,r){return o.isNumber(e)?{exp:t&&r?r.formatNumber(e):e,type:n.ExpressionPartType.Number}:{exp:'"'+e.replace(/^"/,"").replace(/"$/,"")+'"',type:n.ExpressionPartType.String}}function f(e){return e&&e.type===n.ExpressionPartType.Field}function d(e){return!(!e||!e.getData||"function"!=typeof e.getData)}t.resolveExpression=function(e,t,r){var p=e&&e.parts&&e.parts.slice();if(!p)return Promise.resolve("");if(function(e){if(!e)return!1;for(var t=!1,r=0;r<e.length;r++)if(f(e[r])){t=!0;break}return t}(p)&&!t)return Promise.resolve("");var h=p&&1===p.filter(function(e){return!/^\s*$/.test(e.exp)}).length;return Promise.all(function(e,t,r,o){var f;return e.map(function(e){if(e.type===n.ExpressionPartType.Field){f=function(e){return!!e&&Object.keys(e).every(function(t){return d(e[t])||!e[t]})}(t)?t[e.dataSourceId]:t;var p=function(e,t,r,n){var o="";if(!d(t))return o;var i=r&&n?t.getFormattedData(n):t.getData();return i&&null!==i[e]&&void 0!==i[e]&&(o=i[e]),o}(e.jimuFieldName,f,r,o);return Promise.resolve(l(p,r,o))}return e.type===n.ExpressionPartType.Function&&e.exp===n.ExpressionFunctions.Average?i.average(e.parts).then(function(e){return l(e,r,o)}):e.type===n.ExpressionPartType.Function&&e.exp===n.ExpressionFunctions.Count?a.count(e.parts,e.dataSourceId).then(function(e){return l(e,r,o)}):e.type===n.ExpressionPartType.Function&&e.exp===n.ExpressionFunctions.Sum?s.sum(e.parts).then(function(e){return l(e,r,o)}):e.type===n.ExpressionPartType.Function&&e.exp===n.ExpressionFunctions.Max?u.max(e.parts).then(function(e){return l(e,r,o)}):e.type===n.ExpressionPartType.Function&&e.exp===n.ExpressionFunctions.Min?c.min(e.parts).then(function(e){return l(e,r,o)}):Promise.resolve(e)})}(p,t,h,r)).then(function(e){return""+(function(e,t){var r=[];return e.forEach(function(e){if(e.type===n.ExpressionPartType.Number)r.push(t?e.exp:parseFloat(e.exp));else if(e.type===n.ExpressionPartType.String)r.push(e.exp.replace(/^"/,"").replace(/"$/,""));else if(e.type===n.ExpressionPartType.Operator){var i=r.pop(),a=function(e,t,r){switch(r){case"*":return o.isNumber(e)&&o.isNumber(t)?parseFloat(e)*parseFloat(t):"";case"/":return o.isNumber(e)&&o.isNumber(t)?parseFloat(e)/parseFloat(t):"";case"-":return o.isNumber(e)&&o.isNumber(t)?parseFloat(e)-parseFloat(t):"";default:return o.isNumber(e)&&o.isNumber(t)?parseFloat(e)+parseFloat(t):""+e+t}}(r.pop(),i,e.exp);r.push(a)}}),r.pop()}(function(e){var t=[],r=[];for(e.forEach(function(e,o){if(e.type===n.ExpressionPartType.Number||e.type===n.ExpressionPartType.String)t.push(e);else if(e.type===n.ExpressionPartType.Operator)if("("===e.exp)r.push(e);else if(")"===e.exp)for(var i=r.pop();"("!=i.exp;)t.push(i),i=r.pop();else if("+"===e.exp||"-"===e.exp){for(;r.length>0&&("+"===r[r.length-1].exp||"-"===r[r.length-1].exp||"*"===r[r.length-1].exp||"/"===r[r.length-1].exp);)t.push(r.pop());r.push(e)}else if("*"===e.exp||"/"===e.exp){for(;r.length>0&&("*"===r[r.length-1].exp||"/"===r[r.length-1].exp);)t.push(r.pop());r.push(e)}});r.length>0;)t.push(r.pop());return t}(e),h)||"")})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(20),o=r(35);t.average=function(e){if(!e||0===e.length)return Promise.resolve(0);var t=e.filter(function(e){return e.type!==n.ExpressionPartType.Operator&&e.type!==n.ExpressionPartType.Unknown});return o.getQueryResult(t,n.ExpressionFunctions.Average).then(function(e){return e/t.length},function(e){return console.warn(e),0})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(20),o=r(17),i=r(35),a=r(116);t.count=function(e,t){var r=e;if(!r||0===r.length){var s=o.default.getInstance().getDataSource(t);if(!s)return Promise.resolve(0);var u=s&&s.getSchema(),c=u&&u.fields&&Object.keys(u.fields).find(function(e){return u.fields[e].esriType===a.ESRIOBJECTIDTYPE}),l=u&&u.fields&&u.fields[c];if(!l)return Promise.resolve(0);r=[{type:n.ExpressionPartType.Field,jimuFieldName:l.jimuName,dataSourceId:t,exp:"$"+(l.alias||l.name)}]}var f=r.filter(function(e){return e.type!==n.ExpressionPartType.Operator&&e.type!==n.ExpressionPartType.Unknown});return i.getQueryResult(f,n.ExpressionFunctions.Count).then(function(e){return e},function(e){return console.warn(e),0})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(20),o=r(35);t.sum=function(e){if(!e||0===e.length)return Promise.resolve(0);var t=e.filter(function(e){return e.type!==n.ExpressionPartType.Operator&&e.type!==n.ExpressionPartType.Unknown});return o.getQueryResult(t,n.ExpressionFunctions.Sum).then(function(e){return e},function(e){return console.warn(e),0})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(20),o=r(35);t.max=function(e){if(!e||0===e.length)return Promise.resolve(0);var t=e.filter(function(e){return e.type!==n.ExpressionPartType.Operator&&e.type!==n.ExpressionPartType.Unknown});return o.getQueryResult(t,n.ExpressionFunctions.Max).then(function(e){return e},function(e){return console.warn(e),0})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(20),o=r(35);t.min=function(e){if(!e||0===e.length)return Promise.resolve(0);var t=e.filter(function(e){return e.type!==n.ExpressionPartType.Operator&&e.type!==n.ExpressionPartType.Unknown});return o.getQueryResult(t,n.ExpressionFunctions.Min).then(function(e){return e},function(e){return console.warn(e),0})}},,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";r.r(t);var n=r(6),o=r.n(n),i=r(11),a=r.n(i);function s(e){return"/"===e.charAt(0)}function u(e,t){for(var r=t,n=r+1,o=e.length;n<o;r+=1,n+=1)e[r]=e[n];e.pop()}var c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=e&&e.split("/")||[],n=t&&t.split("/")||[],o=e&&s(e),i=t&&s(t),a=o||i;if(e&&s(e)?n=r:r.length&&(n.pop(),n=n.concat(r)),!n.length)return"/";var c=void 0;if(n.length){var l=n[n.length-1];c="."===l||".."===l||""===l}else c=!1;for(var f=0,d=n.length;d>=0;d--){var p=n[d];"."===p?u(n,d):".."===p?(u(n,d),f++):f&&(u(n,d),f--)}if(!a)for(;f--;f)n.unshift("..");!a||""===n[0]||n[0]&&s(n[0])||n.unshift("");var h=n.join("/");return c&&"/"!==h.substr(-1)&&(h+="/"),h},l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var f=function e(t,r){if(t===r)return!0;if(null==t||null==r)return!1;if(Array.isArray(t))return Array.isArray(r)&&t.length===r.length&&t.every(function(t,n){return e(t,r[n])});var n=void 0===t?"undefined":l(t);if(n!==(void 0===r?"undefined":l(r)))return!1;if("object"===n){var o=t.valueOf(),i=r.valueOf();if(o!==t||i!==r)return e(o,i);var a=Object.keys(t),s=Object.keys(r);return a.length===s.length&&a.every(function(n){return e(t[n],r[n])})}return!1},d=function(e){return"/"===e.charAt(0)?e:"/"+e},p=function(e){return"/"===e.charAt(0)?e.substr(1):e},h=function(e,t){return new RegExp("^"+t+"(\\/|\\?|#|$)","i").test(e)},g=function(e,t){return h(e,t)?e.substr(t.length):e},m=function(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e},y=function(e){var t=e||"/",r="",n="",o=t.indexOf("#");-1!==o&&(n=t.substr(o),t=t.substr(0,o));var i=t.indexOf("?");return-1!==i&&(r=t.substr(i),t=t.substr(0,i)),{pathname:t,search:"?"===r?"":r,hash:"#"===n?"":n}},v=function(e){var t=e.pathname,r=e.search,n=e.hash,o=t||"/";return r&&"?"!==r&&(o+="?"===r.charAt(0)?r:"?"+r),n&&"#"!==n&&(o+="#"===n.charAt(0)?n:"#"+n),o},b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},S=function(e,t,r,n){var o=void 0;"string"==typeof e?(o=y(e)).state=t:(void 0===(o=b({},e)).pathname&&(o.pathname=""),o.search?"?"!==o.search.charAt(0)&&(o.search="?"+o.search):o.search="",o.hash?"#"!==o.hash.charAt(0)&&(o.hash="#"+o.hash):o.hash="",void 0!==t&&void 0===o.state&&(o.state=t));try{o.pathname=decodeURI(o.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return r&&(o.key=r),n?o.pathname?"/"!==o.pathname.charAt(0)&&(o.pathname=c(o.pathname,n.pathname)):o.pathname=n.pathname:o.pathname||(o.pathname="/"),o},w=function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&f(e.state,t.state)},_=function(){var e=null,t=[];return{setPrompt:function(t){return o()(null==e,"A history supports only one prompt at a time"),e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,r,n,i){if(null!=e){var a="function"==typeof e?e(t,r):e;"string"==typeof a?"function"==typeof n?n(a,i):(o()(!1,"A history needs a getUserConfirmation function in order to use a prompt message"),i(!0)):i(!1!==a)}else i(!0)},appendListener:function(e){var r=!0,n=function(){r&&e.apply(void 0,arguments)};return t.push(n),function(){r=!1,t=t.filter(function(e){return e!==n})}},notifyListeners:function(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];t.forEach(function(e){return e.apply(void 0,r)})}}},I=!("undefined"==typeof window||!window.document||!window.document.createElement),O=function(e,t,r){return e.addEventListener?e.addEventListener(t,r,!1):e.attachEvent("on"+t,r)},x=function(e,t,r){return e.removeEventListener?e.removeEventListener(t,r,!1):e.detachEvent("on"+t,r)},C=function(e,t){return t(window.confirm(e))},P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},j=function(){try{return window.history.state||{}}catch(e){return{}}},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a()(I,"Browser history needs a DOM");var t=window.history,r=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),n=!(-1===window.navigator.userAgent.indexOf("Trident")),i=e.forceRefresh,s=void 0!==i&&i,u=e.getUserConfirmation,c=void 0===u?C:u,l=e.keyLength,f=void 0===l?6:l,p=e.basename?m(d(e.basename)):"",y=function(e){var t=e||{},r=t.key,n=t.state,i=window.location,a=i.pathname+i.search+i.hash;return o()(!p||h(a,p),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+a+'" to begin with "'+p+'".'),p&&(a=g(a,p)),S(a,n,r)},b=function(){return Math.random().toString(36).substr(2,f)},w=_(),E=function(e){A(B,e),B.length=t.length,w.notifyListeners(B.location,B.action)},T=function(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||D(y(e.state))},k=function(){D(y(j()))},M=!1,D=function(e){M?(M=!1,E()):w.confirmTransitionTo(e,"POP",c,function(t){t?E({action:"POP",location:e}):R(e)})},R=function(e){var t=B.location,r=L.indexOf(t.key);-1===r&&(r=0);var n=L.indexOf(e.key);-1===n&&(n=0);var o=r-n;o&&(M=!0,U(o))},F=y(j()),L=[F.key],N=function(e){return p+v(e)},U=function(e){t.go(e)},W=0,q=function(e){1===(W+=e)?(O(window,"popstate",T),n&&O(window,"hashchange",k)):0===W&&(x(window,"popstate",T),n&&x(window,"hashchange",k))},z=!1,B={length:t.length,action:"POP",location:F,createHref:N,push:function(e,n){o()(!("object"===(void 0===e?"undefined":P(e))&&void 0!==e.state&&void 0!==n),"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");var i=S(e,n,b(),B.location);w.confirmTransitionTo(i,"PUSH",c,function(e){if(e){var n=N(i),a=i.key,u=i.state;if(r)if(t.pushState({key:a,state:u},null,n),s)window.location.href=n;else{var c=L.indexOf(B.location.key),l=L.slice(0,-1===c?0:c+1);l.push(i.key),L=l,E({action:"PUSH",location:i})}else o()(void 0===u,"Browser history cannot push state in browsers that do not support HTML5 history"),window.location.href=n}})},replace:function(e,n){o()(!("object"===(void 0===e?"undefined":P(e))&&void 0!==e.state&&void 0!==n),"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");var i=S(e,n,b(),B.location);w.confirmTransitionTo(i,"REPLACE",c,function(e){if(e){var n=N(i),a=i.key,u=i.state;if(r)if(t.replaceState({key:a,state:u},null,n),s)window.location.replace(n);else{var c=L.indexOf(B.location.key);-1!==c&&(L[c]=i.key),E({action:"REPLACE",location:i})}else o()(void 0===u,"Browser history cannot replace state in browsers that do not support HTML5 history"),window.location.replace(n)}})},go:U,goBack:function(){return U(-1)},goForward:function(){return U(1)},block:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=w.setPrompt(e);return z||(q(1),z=!0),function(){return z&&(z=!1,q(-1)),t()}},listen:function(e){var t=w.appendListener(e);return q(1),function(){q(-1),t()}}};return B},T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},k={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+p(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:p,decodePath:d},slash:{encodePath:d,decodePath:d}},M=function(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)},D=function(e){var t=window.location.href.indexOf("#");window.location.replace(window.location.href.slice(0,t>=0?t:0)+"#"+e)},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a()(I,"Hash history needs a DOM");var t=window.history,r=-1===window.navigator.userAgent.indexOf("Firefox"),n=e.getUserConfirmation,i=void 0===n?C:n,s=e.hashType,u=void 0===s?"slash":s,c=e.basename?m(d(e.basename)):"",l=k[u],f=l.encodePath,p=l.decodePath,y=function(){var e=p(M());return o()(!c||h(e,c),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+e+'" to begin with "'+c+'".'),c&&(e=g(e,c)),S(e)},b=_(),P=function(e){T(V,e),V.length=t.length,b.notifyListeners(V.location,V.action)},A=!1,j=null,E=function(){var e=M(),t=f(e);if(e!==t)D(t);else{var r=y(),n=V.location;if(!A&&w(n,r))return;if(j===v(r))return;j=null,R(r)}},R=function(e){A?(A=!1,P()):b.confirmTransitionTo(e,"POP",i,function(t){t?P({action:"POP",location:e}):F(e)})},F=function(e){var t=V.location,r=W.lastIndexOf(v(t));-1===r&&(r=0);var n=W.lastIndexOf(v(e));-1===n&&(n=0);var o=r-n;o&&(A=!0,q(o))},L=M(),N=f(L);L!==N&&D(N);var U=y(),W=[v(U)],q=function(e){o()(r,"Hash history go(n) causes a full page reload in this browser"),t.go(e)},z=0,B=function(e){1===(z+=e)?O(window,"hashchange",E):0===z&&x(window,"hashchange",E)},G=!1,V={length:t.length,action:"POP",location:U,createHref:function(e){return"#"+f(c+v(e))},push:function(e,t){o()(void 0===t,"Hash history cannot push state; it is ignored");var r=S(e,void 0,void 0,V.location);b.confirmTransitionTo(r,"PUSH",i,function(e){if(e){var t=v(r),n=f(c+t);if(M()!==n){j=t,function(e){window.location.hash=e}(n);var i=W.lastIndexOf(v(V.location)),a=W.slice(0,-1===i?0:i+1);a.push(t),W=a,P({action:"PUSH",location:r})}else o()(!1,"Hash history cannot PUSH the same path; a new entry will not be added to the history stack"),P()}})},replace:function(e,t){o()(void 0===t,"Hash history cannot replace state; it is ignored");var r=S(e,void 0,void 0,V.location);b.confirmTransitionTo(r,"REPLACE",i,function(e){if(e){var t=v(r),n=f(c+t);M()!==n&&(j=t,D(n));var o=W.indexOf(v(V.location));-1!==o&&(W[o]=t),P({action:"REPLACE",location:r})}})},go:q,goBack:function(){return q(-1)},goForward:function(){return q(1)},block:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=b.setPrompt(e);return G||(B(1),G=!0),function(){return G&&(G=!1,B(-1)),t()}},listen:function(e){var t=b.appendListener(e);return B(1),function(){B(-1),t()}}};return V},F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},N=function(e,t,r){return Math.min(Math.max(e,t),r)},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.getUserConfirmation,r=e.initialEntries,n=void 0===r?["/"]:r,i=e.initialIndex,a=void 0===i?0:i,s=e.keyLength,u=void 0===s?6:s,c=_(),l=function(e){L(m,e),m.length=m.entries.length,c.notifyListeners(m.location,m.action)},f=function(){return Math.random().toString(36).substr(2,u)},d=N(a,0,n.length-1),p=n.map(function(e){return S(e,void 0,"string"==typeof e?f():e.key||f())}),h=v,g=function(e){var r=N(m.index+e,0,m.entries.length-1),n=m.entries[r];c.confirmTransitionTo(n,"POP",t,function(e){e?l({action:"POP",location:n,index:r}):l()})},m={length:p.length,action:"POP",location:p[d],index:d,entries:p,createHref:h,push:function(e,r){o()(!("object"===(void 0===e?"undefined":F(e))&&void 0!==e.state&&void 0!==r),"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");var n=S(e,r,f(),m.location);c.confirmTransitionTo(n,"PUSH",t,function(e){if(e){var t=m.index+1,r=m.entries.slice(0);r.length>t?r.splice(t,r.length-t,n):r.push(n),l({action:"PUSH",location:n,index:t,entries:r})}})},replace:function(e,r){o()(!("object"===(void 0===e?"undefined":F(e))&&void 0!==e.state&&void 0!==r),"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");var n=S(e,r,f(),m.location);c.confirmTransitionTo(n,"REPLACE",t,function(e){e&&(m.entries[m.index]=n,l({action:"REPLACE",location:n}))})},go:g,goBack:function(){return g(-1)},goForward:function(){return g(1)},canGo:function(e){var t=m.index+e;return t>=0&&t<m.entries.length},block:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return c.setPrompt(e)},listen:function(e){return c.appendListener(e)}};return m};r.d(t,"createBrowserHistory",function(){return E}),r.d(t,"createHashHistory",function(){return R}),r.d(t,"createMemoryHistory",function(){return U}),r.d(t,"createLocation",function(){return S}),r.d(t,"locationsAreEqual",function(){return w}),r.d(t,"parsePath",function(){return y}),r.d(t,"createPath",function(){return v})},function(e,t,r){"use strict";function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t,r){return(a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&i(o,r.prototype),o}).apply(null,arguments)}function s(e){var t="function"==typeof Map?new Map:void 0;return(s=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return a(e,arguments,o(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),i(r,e)})(e)}function u(e,t){return t||(t=e.slice(0)),e.raw=t,e}function c(){var e;return(e=arguments.length-1)<0||arguments.length<=e?void 0:arguments[e]}r.r(t),r.d(t,"adjustHue",function(){return ke}),r.d(t,"animation",function(){return Ze}),r.d(t,"backgroundImages",function(){return et}),r.d(t,"backgrounds",function(){return tt}),r.d(t,"between",function(){return T}),r.d(t,"border",function(){return nt}),r.d(t,"borderColor",function(){return ot}),r.d(t,"borderRadius",function(){return it}),r.d(t,"borderStyle",function(){return at}),r.d(t,"borderWidth",function(){return st}),r.d(t,"buttons",function(){return dt}),r.d(t,"clearFix",function(){return k}),r.d(t,"complement",function(){return Me}),r.d(t,"cover",function(){return M}),r.d(t,"darken",function(){return Re}),r.d(t,"desaturate",function(){return Fe}),r.d(t,"directionalProperty",function(){return S}),r.d(t,"ellipsis",function(){return D}),r.d(t,"em",function(){return x}),r.d(t,"fluidRange",function(){return R}),r.d(t,"fontFace",function(){return W}),r.d(t,"getLuminance",function(){return Le}),r.d(t,"getValueAndUnit",function(){return P}),r.d(t,"grayscale",function(){return Ne}),r.d(t,"hiDPI",function(){return B}),r.d(t,"hideText",function(){return q}),r.d(t,"hideVisually",function(){return z}),r.d(t,"hsl",function(){return _e}),r.d(t,"hslToColorString",function(){return Ue}),r.d(t,"hsla",function(){return Ie}),r.d(t,"invert",function(){return We}),r.d(t,"lighten",function(){return qe}),r.d(t,"linearGradient",function(){return H}),r.d(t,"margin",function(){return pt}),r.d(t,"math",function(){return m}),r.d(t,"mix",function(){return ze}),r.d(t,"modularScale",function(){return j}),r.d(t,"normalize",function(){return $}),r.d(t,"opacify",function(){return Be}),r.d(t,"padding",function(){return ht}),r.d(t,"parseToHsl",function(){return me}),r.d(t,"parseToRgb",function(){return ge}),r.d(t,"position",function(){return mt}),r.d(t,"radialGradient",function(){return K}),r.d(t,"readableColor",function(){return Ge}),r.d(t,"rem",function(){return E}),r.d(t,"retinaImage",function(){return Q}),r.d(t,"rgb",function(){return Oe}),r.d(t,"rgbToColorString",function(){return Ve}),r.d(t,"rgba",function(){return xe}),r.d(t,"saturate",function(){return He}),r.d(t,"setHue",function(){return $e}),r.d(t,"setLightness",function(){return Je}),r.d(t,"setSaturation",function(){return Ke}),r.d(t,"shade",function(){return Qe}),r.d(t,"size",function(){return yt}),r.d(t,"stripUnit",function(){return I}),r.d(t,"textInputs",function(){return St}),r.d(t,"timingFunctions",function(){return X}),r.d(t,"tint",function(){return Ye}),r.d(t,"toColorString",function(){return Ee}),r.d(t,"transitions",function(){return wt}),r.d(t,"transparentize",function(){return Xe}),r.d(t,"triangle",function(){return te}),r.d(t,"wordWrap",function(){return re});var l={symbols:{"!":{postfix:{symbol:"!",f:function e(t){return t%1||!(+t>=0)?NaN:t>170?1/0:0===t?1:t*e(t-1)},notation:"postfix",precedence:6,rightToLeft:0,argCount:1},symbol:"!",regSymbol:"!"},"^":{infix:{symbol:"^",f:function(e,t){return Math.pow(e,t)},notation:"infix",precedence:5,rightToLeft:1,argCount:2},symbol:"^",regSymbol:"\\^"},"*":{infix:{symbol:"*",f:function(e,t){return e*t},notation:"infix",precedence:4,rightToLeft:0,argCount:2},symbol:"*",regSymbol:"\\*"},"/":{infix:{symbol:"/",f:function(e,t){return e/t},notation:"infix",precedence:4,rightToLeft:0,argCount:2},symbol:"/",regSymbol:"/"},"+":{infix:{symbol:"+",f:function(e,t){return e+t},notation:"infix",precedence:2,rightToLeft:0,argCount:2},prefix:{symbol:"+",f:c,notation:"prefix",precedence:3,rightToLeft:0,argCount:1},symbol:"+",regSymbol:"\\+"},"-":{infix:{symbol:"-",f:function(e,t){return e-t},notation:"infix",precedence:2,rightToLeft:0,argCount:2},prefix:{symbol:"-",f:function(e){return-e},notation:"prefix",precedence:3,rightToLeft:0,argCount:1},symbol:"-",regSymbol:"-"},",":{infix:{symbol:",",f:function(){return Array.of.apply(Array,arguments)},notation:"infix",precedence:1,rightToLeft:0,argCount:2},symbol:",",regSymbol:","},"(":{prefix:{symbol:"(",f:c,notation:"prefix",precedence:0,rightToLeft:0,argCount:1},symbol:"(",regSymbol:"\\("},")":{postfix:{symbol:")",f:void 0,notation:"postfix",precedence:0,rightToLeft:0,argCount:1},symbol:")",regSymbol:"\\)"},min:{func:{symbol:"min",f:function(){return Math.min.apply(Math,arguments)},notation:"func",precedence:0,rightToLeft:0,argCount:1},symbol:"min",regSymbol:"min\\b"},max:{func:{symbol:"max",f:function(){return Math.max.apply(Math,arguments)},notation:"func",precedence:0,rightToLeft:0,argCount:1},symbol:"max",regSymbol:"max\\b"},sqrt:{func:{symbol:"sqrt",f:function(e){return Math.sqrt(e)},notation:"func",precedence:0,rightToLeft:0,argCount:1},symbol:"sqrt",regSymbol:"sqrt\\b"}}};var f=function(e){function t(t){return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e.call(this,"An error occurred. See https://github.com/styled-components/polished/blob/master/src/internalHelpers/errors.md#"+t+" for more information.")||this)}return function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}(t,e),t}(s(Error)),d=/((?!\w)a|na|hc|mc|dg|me[r]?|xe|ni(?![a-zA-Z])|mm|cp|tp|xp|q(?!s)|hv|xamv|nimv|wv|sm|s(?!\D|$)|ged|darg?|nrut)/g;function p(e,t){var r,n=e.pop();return t.push(n.f.apply(n,(r=[]).concat.apply(r,t.splice(-n.argCount)))),n.precedence}function h(e,t){var r,o=function(e){var t={};return t.symbols=e?n({},l.symbols,e.symbols):n({},l.symbols),t}(t),i=[o.symbols["("].prefix],a=[],s=new RegExp("\\d+(?:\\.\\d+)?|"+Object.keys(o.symbols).map(function(e){return o.symbols[e]}).sort(function(e,t){return t.symbol.length-e.symbol.length}).map(function(e){return e.regSymbol}).join("|")+"|(\\S)","g");s.lastIndex=0;var u=!1;do{var c=(r=s.exec(e))||[")",void 0],d=c[0],h=c[1],g=o.symbols[d],m=g&&!g.prefix&&!g.func,y=!g||!g.postfix&&!g.infix;if(h||(u?y:m))throw new f(37,r?r.index:e.length,e);if(u){var v=g.postfix||g.infix;do{var b=i[i.length-1];if((v.precedence-b.precedence||b.rightToLeft)>0)break}while(p(i,a));u="postfix"===v.notation,")"!==v.symbol&&(i.push(v),u&&p(i,a))}else if(g){if(i.push(g.prefix||g.func),g.func&&(!(r=s.exec(e))||"("!==r[0]))throw new f(38,r?r.index:e.length,e)}else a.push(+d),u=!0}while(r&&i.length);if(i.length)throw new f(39,r?r.index:e.length,e);if(r)throw new f(40,r?r.index:e.length,e);return a.pop()}function g(e){return e.split("").reverse().join("")}function m(e,t){var r=g(e),n=r.match(d);if(n&&!n.every(function(e){return e===n[0]}))throw new f(41);return""+h(g(r.replace(d,"")),t)+(n?g(n[0]):"")}function y(e){return e.charAt(0).toUpperCase()+e.slice(1)}var v=["Top","Right","Bottom","Left"];function b(e,t){if(!e)return t.toLowerCase();var r=e.split("-");if(r.length>1)return r.splice(1,0,t),r.reduce(function(e,t){return""+e+y(t)});var n=e.replace(/([a-z])([A-Z])/g,"$1"+t+"$2");return e===n?""+e+t:n}function S(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var o=r[0],i=r[1],a=void 0===i?o:i,s=r[2],u=void 0===s?o:s,c=r[3];return function(e,t){for(var r={},n=0;n<t.length;n+=1)(t[n]||0===t[n])&&(r[b(e,v[n])]=t[n]);return r}(e,[o,a,u,void 0===c?a:c])}function w(e,t){return e.substr(-t.length)===t}var _=/^([+-]?(?:\d+|\d*\.\d+))([a-z]*|%)$/;function I(e,t){if("string"!=typeof e)return t?[e,void 0]:e;var r=e.match(_);return t?r?[parseFloat(e),r[2]]:[e,void 0]:r?parseFloat(e):e}var O=function(e){return function(t,r){void 0===r&&(r="16px");var n=t,o=r;if("string"==typeof t){if(!w(t,"px"))throw new f(69,e,t);n=I(t)}if("string"==typeof r){if(!w(r,"px"))throw new f(70,e,r);o=I(r)}if("string"==typeof n)throw new f(71,t,e);if("string"==typeof o)throw new f(72,r,e);return""+n/o+e}},x=O("em"),C=/^([+-]?(?:\d+|\d*\.\d+))([a-z]*|%)$/;function P(e){if(console.warn("getValueAndUnit has been marked for deprecation in polished 3.0 and will be fully deprecated in 4.0. It's functionality has been been moved to stripUnit as an optional return."),"string"!=typeof e)return[e,""];var t=e.match(C);return t?[parseFloat(e),t[2]]:[e,void 0]}var A={minorSecond:1.067,majorSecond:1.125,minorThird:1.2,majorThird:1.25,perfectFourth:1.333,augFourth:1.414,perfectFifth:1.5,minorSixth:1.6,goldenSection:1.618,majorSixth:1.667,minorSeventh:1.778,majorSeventh:1.875,octave:2,majorTenth:2.5,majorEleventh:2.667,majorTwelfth:3,doubleOctave:4};function j(e,t,r){if(void 0===t&&(t="1em"),void 0===r&&(r=1.333),"number"!=typeof e)throw new f(42);if("string"==typeof r&&!A[r])throw new f(43);var n="string"==typeof t?I(t,!0):[t,""],o=n[0],i=n[1],a="string"==typeof r?function(e){return A[e]}(r):r;if("string"==typeof o)throw new f(44,t);return""+o*Math.pow(a,e)+i}var E=O("rem");function T(e,t,r,n){void 0===r&&(r="320px"),void 0===n&&(n="1200px");var o=I(e,!0),i=o[0],a=o[1],s=I(t,!0),u=s[0],c=s[1],l=I(r,!0),d=l[0],p=l[1],h=I(n,!0),g=h[0],m=h[1];if("number"!=typeof d||"number"!=typeof g||!p||!m||p!==m)throw new f(47);if("number"!=typeof i||"number"!=typeof u||!a||!c||a!==c)throw new f(48);var y=(i-u)/(d-g);return"calc("+(u-y*g).toFixed(2)+a+" + "+(100*y).toFixed(2)+"vw)"}function k(e){var t;return void 0===e&&(e="&"),(t={})[e+"::after"]={clear:"both",content:'""',display:"table"},t}function M(e){return void 0===e&&(e=0),{position:"absolute",top:e,right:e,bottom:e,left:e}}function D(e){return void 0===e&&(e="100%"),{display:"inline-block",maxWidth:e,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",wordWrap:"normal"}}function R(e,t,r){if(void 0===t&&(t="320px"),void 0===r&&(r="1200px"),!Array.isArray(e)&&"object"!=typeof e||null===e)throw new f(49);if(Array.isArray(e)){var o={},i={},a=e,s=Array.isArray(a),u=0;for(a=s?a:a[Symbol.iterator]();;){var c,l,d;if(s){if(u>=a.length)break;d=a[u++]}else{if((u=a.next()).done)break;d=u.value}var p=d;if(!p.prop||!p.fromSize||!p.toSize)throw new f(50);i[p.prop]=p.fromSize,o["@media (min-width: "+t+")"]=n({},o["@media (min-width: "+t+")"],((c={})[p.prop]=T(p.fromSize,p.toSize,t,r),c)),o["@media (min-width: "+r+")"]=n({},o["@media (min-width: "+r+")"],((l={})[p.prop]=p.toSize,l))}return n({},i,o)}var h,g,m;if(!e.prop||!e.fromSize||!e.toSize)throw new f(51);return(m={})[e.prop]=e.fromSize,m["@media (min-width: "+t+")"]=((h={})[e.prop]=T(e.fromSize,e.toSize,t,r),h),m["@media (min-width: "+r+")"]=((g={})[e.prop]=e.toSize,g),m}var F=/^\s*data:([a-z]+\/[a-z-]+(;[a-z-]+=[a-z-]+)?)?(;charset=[a-z0-9-]+)?(;base64)?,[a-z0-9!$&',()*+,;=\-._~:@/?%\s]*\s*$/i,L={woff:"woff",woff2:"woff2",ttf:"truetype",otf:"opentype",eot:"embedded-opentype",svg:"svg",svgz:"svg"};function N(e,t){return t?' format("'+L[e]+'")':""}function U(e,t,r){return function(e){return!!e.match(F)}(e)?'url("'+e+'")'+N(t[0],r):t.map(function(t){return'url("'+e+"."+t+'")'+N(t,r)}).join(", ")}function W(e){var t=e.fontFamily,r=e.fontFilePath,n=e.fontStretch,o=e.fontStyle,i=e.fontVariant,a=e.fontWeight,s=e.fileFormats,u=void 0===s?["eot","woff2","woff","ttf","svg"]:s,c=e.formatHint,l=void 0!==c&&c,d=e.localFonts,p=e.unicodeRange,h=e.fontDisplay,g=e.fontVariationSettings,m=e.fontFeatureSettings;if(!t)throw new f(55);if(!r&&!d)throw new f(52);if(d&&!Array.isArray(d))throw new f(53);if(!Array.isArray(u))throw new f(54);var y={"@font-face":{fontFamily:t,src:function(e,t,r,n){var o=[];return t&&o.push(function(e){return e.map(function(e){return'local("'+e+'")'}).join(", ")}(t)),e&&o.push(U(e,r,n)),o.join(", ")}(r,d,u,l),unicodeRange:p,fontStretch:n,fontStyle:o,fontVariant:i,fontWeight:a,fontDisplay:h,fontVariationSettings:g,fontFeatureSettings:m}};return JSON.parse(JSON.stringify(y))}function q(){return{textIndent:"101%",overflow:"hidden",whiteSpace:"nowrap"}}function z(){return{border:"0",clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",whiteSpace:"nowrap",width:"1px"}}function B(e){return void 0===e&&(e=1.3),"\n    @media only screen and (-webkit-min-device-pixel-ratio: "+e+"),\n    only screen and (min--moz-device-pixel-ratio: "+e+"),\n    only screen and (-o-min-device-pixel-ratio: "+e+"/1),\n    only screen and (min-resolution: "+Math.round(96*e)+"dpi),\n    only screen and (min-resolution: "+e+"dppx)\n  "}function G(e){for(var t="",r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];for(var i=0;i<e.length;i+=1)if(t+=e[i],i===n.length-1&&n[i]){var a=n.filter(function(e){return!!e});a.length>1?(t=t.slice(0,-1),t+=", "+n[i]):1===a.length&&(t+=""+n[i])}else n[i]&&(t+=n[i]+" ");return t.trim()}function V(){var e=u(["linear-gradient(","",")"]);return V=function(){return e},e}function H(e){var t=e.colorStops,r=e.fallback,n=e.toDirection,o=void 0===n?"":n;if(!t||t.length<2)throw new f(56);return{backgroundColor:r||t[0].split(" ")[0],backgroundImage:G(V(),o,t.join(", "))}}function $(){var e;return[(e={html:{lineHeight:"1.15",textSizeAdjust:"100%"},body:{margin:"0"},h1:{fontSize:"2em",margin:"0.67em 0"},hr:{boxSizing:"content-box",height:"0",overflow:"visible"},pre:{fontFamily:"monospace, monospace",fontSize:"1em"},a:{backgroundColor:"transparent"},"abbr[title]":{borderBottom:"none",textDecoration:"underline"}},e["b,\n    strong"]={fontWeight:"bolder"},e["code,\n    kbd,\n    samp"]={fontFamily:"monospace, monospace",fontSize:"1em"},e.small={fontSize:"80%"},e["sub,\n    sup"]={fontSize:"75%",lineHeight:"0",position:"relative",verticalAlign:"baseline"},e.sub={bottom:"-0.25em"},e.sup={top:"-0.5em"},e.img={borderStyle:"none"},e["button,\n    input,\n    optgroup,\n    select,\n    textarea"]={fontFamily:"inherit",fontSize:"100%",lineHeight:"1.15",margin:"0"},e["button,\n    input"]={overflow:"visible"},e["button,\n    select"]={textTransform:"none"},e['button,\n    html [type="button"],\n    [type="reset"],\n    [type="submit"]']={WebkitAppearance:"button"},e['button::-moz-focus-inner,\n    [type="button"]::-moz-focus-inner,\n    [type="reset"]::-moz-focus-inner,\n    [type="submit"]::-moz-focus-inner']={borderStyle:"none",padding:"0"},e['button:-moz-focusring,\n    [type="button"]:-moz-focusring,\n    [type="reset"]:-moz-focusring,\n    [type="submit"]:-moz-focusring']={outline:"1px dotted ButtonText"},e.fieldset={padding:"0.35em 0.625em 0.75em"},e.legend={boxSizing:"border-box",color:"inherit",display:"table",maxWidth:"100%",padding:"0",whiteSpace:"normal"},e.progress={verticalAlign:"baseline"},e.textarea={overflow:"auto"},e['[type="checkbox"],\n    [type="radio"]']={boxSizing:"border-box",padding:"0"},e['[type="number"]::-webkit-inner-spin-button,\n    [type="number"]::-webkit-outer-spin-button']={height:"auto"},e['[type="search"]']={WebkitAppearance:"textfield",outlineOffset:"-2px"},e['[type="search"]::-webkit-search-decoration']={WebkitAppearance:"none"},e["::-webkit-file-upload-button"]={WebkitAppearance:"button",font:"inherit"},e.details={display:"block"},e.summary={display:"list-item"},e.template={display:"none"},e["[hidden]"]={display:"none"},e),{"abbr[title]":{textDecoration:"underline dotted"}}]}function J(){var e=u(["radial-gradient(","","","",")"]);return J=function(){return e},e}function K(e){var t=e.colorStops,r=e.extent,n=void 0===r?"":r,o=e.fallback,i=e.position,a=void 0===i?"":i,s=e.shape,u=void 0===s?"":s;if(!t||t.length<2)throw new f(57);return{backgroundColor:o||t[0].split(" ")[0],backgroundImage:G(J(),a,u,n,t.join(", "))}}function Q(e,t,r,o,i){var a;if(void 0===r&&(r="png"),void 0===i&&(i="_2x"),!e)throw new f(58);var s=r.replace(/^\./,""),u=o?o+"."+s:""+e+i+"."+s;return(a={backgroundImage:"url("+e+"."+s+")"})[B()]=n({backgroundImage:"url("+u+")"},t?{backgroundSize:t}:{}),a}var Y={easeInBack:"cubic-bezier(0.600, -0.280, 0.735, 0.045)",easeInCirc:"cubic-bezier(0.600,  0.040, 0.980, 0.335)",easeInCubic:"cubic-bezier(0.550,  0.055, 0.675, 0.190)",easeInExpo:"cubic-bezier(0.950,  0.050, 0.795, 0.035)",easeInQuad:"cubic-bezier(0.550,  0.085, 0.680, 0.530)",easeInQuart:"cubic-bezier(0.895,  0.030, 0.685, 0.220)",easeInQuint:"cubic-bezier(0.755,  0.050, 0.855, 0.060)",easeInSine:"cubic-bezier(0.470,  0.000, 0.745, 0.715)",easeOutBack:"cubic-bezier(0.175,  0.885, 0.320, 1.275)",easeOutCubic:"cubic-bezier(0.215,  0.610, 0.355, 1.000)",easeOutCirc:"cubic-bezier(0.075,  0.820, 0.165, 1.000)",easeOutExpo:"cubic-bezier(0.190,  1.000, 0.220, 1.000)",easeOutQuad:"cubic-bezier(0.250,  0.460, 0.450, 0.940)",easeOutQuart:"cubic-bezier(0.165,  0.840, 0.440, 1.000)",easeOutQuint:"cubic-bezier(0.230,  1.000, 0.320, 1.000)",easeOutSine:"cubic-bezier(0.390,  0.575, 0.565, 1.000)",easeInOutBack:"cubic-bezier(0.680, -0.550, 0.265, 1.550)",easeInOutCirc:"cubic-bezier(0.785,  0.135, 0.150, 0.860)",easeInOutCubic:"cubic-bezier(0.645,  0.045, 0.355, 1.000)",easeInOutExpo:"cubic-bezier(1.000,  0.000, 0.000, 1.000)",easeInOutQuad:"cubic-bezier(0.455,  0.030, 0.515, 0.955)",easeInOutQuart:"cubic-bezier(0.770,  0.000, 0.175, 1.000)",easeInOutQuint:"cubic-bezier(0.860,  0.000, 0.070, 1.000)",easeInOutSine:"cubic-bezier(0.445,  0.050, 0.550, 0.950)"};function X(e){return function(e){return Y[e]}(e)}var Z=function(e,t,r){var n=""+r[0]+(r[1]||""),o=""+r[0]/2+(r[1]||""),i=""+t[0]+(t[1]||""),a=""+t[0]/2+(t[1]||"");switch(e){case"top":return"0 "+o+" "+i+" "+o;case"topLeft":return n+" "+i+" 0 0";case"left":return a+" "+n+" "+a+" 0";case"bottomLeft":return n+" 0 0 "+i;case"bottom":return i+" "+o+" 0 "+o;case"bottomRight":return"0 0 "+n+" "+i;case"right":return a+" 0 "+a+" "+n;case"topRight":default:return"0 "+n+" "+i+" 0"}},ee=function(e,t,r){switch(e){case"top":case"bottomRight":return r+" "+r+" "+t+" "+r;case"right":case"bottomLeft":return r+" "+r+" "+r+" "+t;case"bottom":case"topLeft":return t+" "+r+" "+r+" "+r;case"left":case"topRight":return r+" "+t+" "+r+" "+r;default:throw new f(59)}};function te(e){var t=e.pointingDirection,r=e.height,n=e.width,o=e.foregroundColor,i=e.backgroundColor,a=void 0===i?"transparent":i,s=I(n,!0),u=I(r,!0);if(isNaN(u[0])||isNaN(s[0]))throw new f(60);return{width:"0",height:"0",borderColor:ee(t,o,a),borderStyle:"solid",borderWidth:Z(t,u,s)}}function re(e){return void 0===e&&(e="break-word"),{overflowWrap:e,wordWrap:e,wordBreak:"break-word"===e?"break-all":e}}function ne(e){return Math.round(255*e)}function oe(e,t,r){return ne(e)+","+ne(t)+","+ne(r)}function ie(e,t,r,n){if(void 0===n&&(n=oe),0===t)return n(r,r,r);var o=e%360/60,i=(1-Math.abs(2*r-1))*t,a=i*(1-Math.abs(o%2-1)),s=0,u=0,c=0;o>=0&&o<1?(s=i,u=a):o>=1&&o<2?(s=a,u=i):o>=2&&o<3?(u=i,c=a):o>=3&&o<4?(u=a,c=i):o>=4&&o<5?(s=a,c=i):o>=5&&o<6&&(s=i,c=a);var l=r-i/2;return n(s+l,u+l,c+l)}var ae={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"639",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"};var se=/^#[a-fA-F0-9]{6}$/,ue=/^#[a-fA-F0-9]{8}$/,ce=/^#[a-fA-F0-9]{3}$/,le=/^#[a-fA-F0-9]{4}$/,fe=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/i,de=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*([-+]?[0-9]*[.]?[0-9]+)\s*\)$/i,pe=/^hsl\(\s*(\d{0,3}[.]?[0-9]+)\s*,\s*(\d{1,3})%\s*,\s*(\d{1,3})%\s*\)$/i,he=/^hsla\(\s*(\d{0,3}[.]?[0-9]+)\s*,\s*(\d{1,3})%\s*,\s*(\d{1,3})%\s*,\s*([-+]?[0-9]*[.]?[0-9]+)\s*\)$/i;function ge(e){if("string"!=typeof e)throw new f(3);var t=function(e){if("string"!=typeof e)return e;var t=e.toLowerCase();return ae[t]?"#"+ae[t]:e}(e);if(t.match(se))return{red:parseInt(""+t[1]+t[2],16),green:parseInt(""+t[3]+t[4],16),blue:parseInt(""+t[5]+t[6],16)};if(t.match(ue)){var r=parseFloat((parseInt(""+t[7]+t[8],16)/255).toFixed(2));return{red:parseInt(""+t[1]+t[2],16),green:parseInt(""+t[3]+t[4],16),blue:parseInt(""+t[5]+t[6],16),alpha:r}}if(t.match(ce))return{red:parseInt(""+t[1]+t[1],16),green:parseInt(""+t[2]+t[2],16),blue:parseInt(""+t[3]+t[3],16)};if(t.match(le)){var n=parseFloat((parseInt(""+t[4]+t[4],16)/255).toFixed(2));return{red:parseInt(""+t[1]+t[1],16),green:parseInt(""+t[2]+t[2],16),blue:parseInt(""+t[3]+t[3],16),alpha:n}}var o=fe.exec(t);if(o)return{red:parseInt(""+o[1],10),green:parseInt(""+o[2],10),blue:parseInt(""+o[3],10)};var i=de.exec(t);if(i)return{red:parseInt(""+i[1],10),green:parseInt(""+i[2],10),blue:parseInt(""+i[3],10),alpha:parseFloat(""+i[4])};var a=pe.exec(t);if(a){var s="rgb("+ie(parseInt(""+a[1],10),parseInt(""+a[2],10)/100,parseInt(""+a[3],10)/100)+")",u=fe.exec(s);if(!u)throw new f(4,t,s);return{red:parseInt(""+u[1],10),green:parseInt(""+u[2],10),blue:parseInt(""+u[3],10)}}var c=he.exec(t);if(c){var l="rgb("+ie(parseInt(""+c[1],10),parseInt(""+c[2],10)/100,parseInt(""+c[3],10)/100)+")",d=fe.exec(l);if(!d)throw new f(4,t,l);return{red:parseInt(""+d[1],10),green:parseInt(""+d[2],10),blue:parseInt(""+d[3],10),alpha:parseFloat(""+c[4])}}throw new f(5)}function me(e){return function(e){var t,r=e.red/255,n=e.green/255,o=e.blue/255,i=Math.max(r,n,o),a=Math.min(r,n,o),s=(i+a)/2;if(i===a)return void 0!==e.alpha?{hue:0,saturation:0,lightness:s,alpha:e.alpha}:{hue:0,saturation:0,lightness:s};var u=i-a,c=s>.5?u/(2-i-a):u/(i+a);switch(i){case r:t=(n-o)/u+(n<o?6:0);break;case n:t=(o-r)/u+2;break;default:t=(r-n)/u+4}return t*=60,void 0!==e.alpha?{hue:t,saturation:c,lightness:s,alpha:e.alpha}:{hue:t,saturation:c,lightness:s}}(ge(e))}var ye=function(e){return 7===e.length&&e[1]===e[2]&&e[3]===e[4]&&e[5]===e[6]?"#"+e[1]+e[3]+e[5]:e};function ve(e){var t=e.toString(16);return 1===t.length?"0"+t:t}function be(e){return ve(Math.round(255*e))}function Se(e,t,r){return ye("#"+be(e)+be(t)+be(r))}function we(e,t,r){return ie(e,t,r,Se)}function _e(e,t,r){if("number"==typeof e&&"number"==typeof t&&"number"==typeof r)return we(e,t,r);if("object"==typeof e&&void 0===t&&void 0===r)return we(e.hue,e.saturation,e.lightness);throw new f(1)}function Ie(e,t,r,n){if("number"==typeof e&&"number"==typeof t&&"number"==typeof r&&"number"==typeof n)return n>=1?we(e,t,r):"rgba("+ie(e,t,r)+","+n+")";if("object"==typeof e&&void 0===t&&void 0===r&&void 0===n)return e.alpha>=1?we(e.hue,e.saturation,e.lightness):"rgba("+ie(e.hue,e.saturation,e.lightness)+","+e.alpha+")";throw new f(2)}function Oe(e,t,r){if("number"==typeof e&&"number"==typeof t&&"number"==typeof r)return ye("#"+ve(e)+ve(t)+ve(r));if("object"==typeof e&&void 0===t&&void 0===r)return ye("#"+ve(e.red)+ve(e.green)+ve(e.blue));throw new f(6)}function xe(e,t,r,n){if("string"==typeof e&&"number"==typeof t){var o=ge(e);return"rgba("+o.red+","+o.green+","+o.blue+","+t+")"}if("number"==typeof e&&"number"==typeof t&&"number"==typeof r&&"number"==typeof n)return n>=1?Oe(e,t,r):"rgba("+e+","+t+","+r+","+n+")";if("object"==typeof e&&void 0===t&&void 0===r&&void 0===n)return e.alpha>=1?Oe(e.red,e.green,e.blue):"rgba("+e.red+","+e.green+","+e.blue+","+e.alpha+")";throw new f(7)}var Ce=function(e){return"number"==typeof e.red&&"number"==typeof e.green&&"number"==typeof e.blue&&("number"!=typeof e.alpha||void 0===e.alpha)},Pe=function(e){return"number"==typeof e.red&&"number"==typeof e.green&&"number"==typeof e.blue&&"number"==typeof e.alpha},Ae=function(e){return"number"==typeof e.hue&&"number"==typeof e.saturation&&"number"==typeof e.lightness&&("number"!=typeof e.alpha||void 0===e.alpha)},je=function(e){return"number"==typeof e.hue&&"number"==typeof e.saturation&&"number"==typeof e.lightness&&"number"==typeof e.alpha};function Ee(e){if("object"!=typeof e)throw new f(8);if(Pe(e))return xe(e);if(Ce(e))return Oe(e);if(je(e))return Ie(e);if(Ae(e))return _e(e);throw new f(8)}function Te(e){return function e(t,r,n){return function(){var o=n.concat(Array.prototype.slice.call(arguments));return o.length>=r?t.apply(this,o):e(t,r,o)}}(e,e.length,[])}var ke=Te(function(e,t){if("transparent"===t)return t;var r=me(t);return Ee(n({},r,{hue:(r.hue+parseFloat(e))%360}))});function Me(e){if("transparent"===e)return e;var t=me(e);return Ee(n({},t,{hue:(t.hue+180)%360}))}function De(e,t,r){return Math.max(e,Math.min(t,r))}var Re=Te(function(e,t){if("transparent"===t)return t;var r=me(t);return Ee(n({},r,{lightness:De(0,1,r.lightness-parseFloat(e))}))});var Fe=Te(function(e,t){if("transparent"===t)return t;var r=me(t);return Ee(n({},r,{saturation:De(0,1,r.saturation-parseFloat(e))}))});function Le(e){if("transparent"===e)return 0;var t=ge(e),r=Object.keys(t).map(function(e){var r=t[e]/255;return r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4)}),n=r[0],o=r[1],i=r[2];return parseFloat((.2126*n+.7152*o+.0722*i).toFixed(3))}function Ne(e){return"transparent"===e?e:Ee(n({},me(e),{saturation:0}))}function Ue(e){if("object"==typeof e&&"number"==typeof e.hue&&"number"==typeof e.saturation&&"number"==typeof e.lightness)return e.alpha&&"number"==typeof e.alpha?Ie({hue:e.hue,saturation:e.saturation,lightness:e.lightness,alpha:e.alpha}):_e({hue:e.hue,saturation:e.saturation,lightness:e.lightness});throw new f(45)}function We(e){if("transparent"===e)return e;var t=ge(e);return Ee(n({},t,{red:255-t.red,green:255-t.green,blue:255-t.blue}))}var qe=Te(function(e,t){if("transparent"===t)return t;var r=me(t);return Ee(n({},r,{lightness:De(0,1,r.lightness+parseFloat(e))}))});var ze=Te(function(e,t,r){if("transparent"===t)return r;if("transparent"===r)return t;var o=ge(t),i=n({},o,{alpha:"number"==typeof o.alpha?o.alpha:1}),a=ge(r),s=n({},a,{alpha:"number"==typeof a.alpha?a.alpha:1}),u=i.alpha-s.alpha,c=2*parseFloat(e)-1,l=((c*u==-1?c:c+u)/(1+c*u)+1)/2,f=1-l;return xe({red:Math.floor(i.red*l+s.red*f),green:Math.floor(i.green*l+s.green*f),blue:Math.floor(i.blue*l+s.blue*f),alpha:i.alpha+(s.alpha-i.alpha)*(parseFloat(e)/1)})});var Be=Te(function(e,t){if("transparent"===t)return t;var r=ge(t);return xe(n({},r,{alpha:De(0,1,(100*("number"==typeof r.alpha?r.alpha:1)+100*parseFloat(e))/100)}))});function Ge(e,t,r){return void 0===t&&(t="#000"),void 0===r&&(r="#fff"),Le(e)>.179?t:r}function Ve(e){if("object"==typeof e&&"number"==typeof e.red&&"number"==typeof e.green&&"number"==typeof e.blue)return e.alpha&&"number"==typeof e.alpha?xe({red:e.red,green:e.green,blue:e.blue,alpha:e.alpha}):Oe({red:e.red,green:e.green,blue:e.blue});throw new f(46)}var He=Te(function(e,t){if("transparent"===t)return t;var r=me(t);return Ee(n({},r,{saturation:De(0,1,r.saturation+parseFloat(e))}))});var $e=Te(function(e,t){return"transparent"===t?t:Ee(n({},me(t),{hue:parseFloat(e)}))});var Je=Te(function(e,t){return"transparent"===t?t:Ee(n({},me(t),{lightness:parseFloat(e)}))});var Ke=Te(function(e,t){return"transparent"===t?t:Ee(n({},me(t),{saturation:parseFloat(e)}))});var Qe=Te(function(e,t){return"transparent"===t?t:ze(parseFloat(e),"rgb(0, 0, 0)",t)});var Ye=Te(function(e,t){return"transparent"===t?t:ze(parseFloat(e),"rgb(255, 255, 255)",t)});var Xe=Te(function(e,t){if("transparent"===t)return t;var r=ge(t);return xe(n({},r,{alpha:De(0,1,(100*("number"==typeof r.alpha?r.alpha:1)-100*parseFloat(e))/100)}))});function Ze(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=Array.isArray(t[0]);if(!n&&t.length>8)throw new f(64);return{animation:t.map(function(e){if(n&&!Array.isArray(e)||!n&&Array.isArray(e))throw new f(65);if(Array.isArray(e)&&e.length>8)throw new f(66);return Array.isArray(e)?e.join(" "):e}).join(", ")}}function et(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return{backgroundImage:t.join(", ")}}function tt(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return{background:t.join(", ")}}var rt=["top","right","bottom","left"];function nt(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var o;return"string"==typeof e&&rt.indexOf(e)>=0?((o={})["border"+y(e)+"Width"]=r[0],o["border"+y(e)+"Style"]=r[1],o["border"+y(e)+"Color"]=r[2],o):(r.unshift(e),{borderWidth:r[0],borderStyle:r[1],borderColor:r[2]})}function ot(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return S.apply(void 0,["borderColor"].concat(t))}function it(e,t){var r,n,o=y(e);if(!t&&0!==t)throw new f(62);if("Top"===o||"Bottom"===o)return(r={})["border"+o+"RightRadius"]=t,r["border"+o+"LeftRadius"]=t,r;if("Left"===o||"Right"===o)return(n={})["borderTop"+o+"Radius"]=t,n["borderBottom"+o+"Radius"]=t,n;throw new f(63)}function at(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return S.apply(void 0,["borderStyle"].concat(t))}function st(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return S.apply(void 0,["borderWidth"].concat(t))}function ut(e,t){return e(t?":"+t:"")}function ct(e,t,r){if(!t)throw new f(67);if(0===e.length)return ut(t,null);for(var n=[],o=0;o<e.length;o+=1){if(r&&r.indexOf(e[o])<0)throw new f(68);n.push(ut(t,e[o]))}return n=n.join(",")}var lt=[void 0,null,"active","focus","hover"];function ft(e){return"button"+e+',\n  input[type="button"]'+e+',\n  input[type="reset"]'+e+',\n  input[type="submit"]'+e}function dt(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return ct(t,ft,lt)}function pt(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return S.apply(void 0,["margin"].concat(t))}function ht(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return S.apply(void 0,["padding"].concat(t))}var gt=["absolute","fixed","relative","static","sticky"];function mt(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];if(gt.indexOf(e)>=0)return n({position:e},S.apply(void 0,[""].concat(r)));var i=e;return S.apply(void 0,["",i].concat(r))}function yt(e,t){return void 0===t&&(t=e),{height:e,width:t}}var vt=[void 0,null,"active","focus","hover"];function bt(e){return'input[type="color"]'+e+',\n    input[type="date"]'+e+',\n    input[type="datetime"]'+e+',\n    input[type="datetime-local"]'+e+',\n    input[type="email"]'+e+',\n    input[type="month"]'+e+',\n    input[type="number"]'+e+',\n    input[type="password"]'+e+',\n    input[type="search"]'+e+',\n    input[type="tel"]'+e+',\n    input[type="text"]'+e+',\n    input[type="time"]'+e+',\n    input[type="url"]'+e+',\n    input[type="week"]'+e+",\n    input:not([type])"+e+",\n    textarea"+e}function St(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return ct(t,bt,vt)}function wt(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(Array.isArray(t[0])&&2===t.length){var n=t[1];if("string"!=typeof n)throw new f(61);return{transition:t[0].map(function(e){return e+" "+n}).join(", ")}}return{transition:t.join(", ")}}}])});
//# sourceMappingURL=index.js.map