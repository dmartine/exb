define(["jimu-core/react","jimu-core","jimu-ui","jimu-core/react-dom","jimu-layouts/common"],function(e,t,n,r,o){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=442)}([function(t,n){t.exports=e},function(e,n){e.exports=t},function(e,t){e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReactCSS=t.loop=t.handleActive=t.handleHover=t.hover=void 0;var r=l(n(170)),o=l(n(243)),i=l(n(268)),a=l(n(269)),s=l(n(270)),u=l(n(271));function l(e){return e&&e.__esModule?e:{default:e}}t.hover=a.default,t.handleHover=a.default,t.handleActive=s.default,t.loop=u.default;var c=t.ReactCSS=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];var s=(0,r.default)(n),u=(0,o.default)(e,s);return(0,i.default)(u)};t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={fill:"Fill",image:"Image",color:"Color",browse:"Browse",clearImage:"Clear image",position:"Position",fit:"Fit",center:"Center",tile:"Tile",stretch:"Stretch",dashed:"Dashed",dotted:"Dotted",double:"Double",solid:"Solid",offsetX:"Offset X",offsetY:"Offset Y",blurRadius:"Blur radius",spreadRadius:"Spread radius",T:"Top",R:"Right",B:"Bottom",L:"Left",TL:"Top left",TR:"Top right",BR:"Bottom right",BL:"Bottom left",lock:"Lock",unlock:"Unlock",changeUnit:"Change unit",align:"Align",left:"Left",right:"Right",down:"Down",justify:"Justify",font:"Font",fontSize:"Font size",convert:"Convert",convertToRem:"Convert to rem",bold:"Bold",italic:"Italic",underline:"Underline",strike:"Strike",background:"Background",ordered:"Ordered",bullet:"Bullet",link:"Link",linkTo:"Link to",letterSpacing:"Letter spacing",lineSpacing:"Line spacing",clearAllFormats:"Clear all formats",customTheme:"Customize",waitForThemeList:"Getting theme list...",themeCustomizationComing:"Theme customization is coming soon.",useSharedTheme:"Use Shared Theme",reset:"Reset",saveAs:"Save as",variableTypography:"Typography",variableBg:"Background",variableColor:"Text",variableFontFamilyBase:"Font family",variableFontSizeBase:"Base font size",variableHeader:"Header",variableBody:"Body",variableLink:"Link",variableButton:"Button",connectToData:"Connect to data",setDataSource:"Set data",creatingDataSourceFailed:"Creating data failed!",added:"Added",outputs:"Outputs",noAddedDataSourceCanBeUsed:"No added data can be used.",noSelectedType:"No selected type",type:"Type",back:"Back",noWidgetOutputCanBeUsed:"No widget output can be used.",featureLayerType:"Feature layer",featureLayerViewType:"Feature layer view",hubAnnotationsType:"Hub annotations",hubEventsType:"Hub events",mapType:"Map",mapViewType:"Map view",sceneViewType:"Scene view",simpleLocalType:"Simple local",webMapType:"Web map",webSceneType:"Web scene",csvType:"CSV",all:"All",chooseData:"Choose data",addData:"Add data",serviceType:"Service type",url:"URL",add:"Add",webMap:"Web Map",webScene:"Web Scene",featureLayer:"Feature Layer",appData:"App Data",done:"Done",hub:"Hub",unSupported:"Unsupported",selected:"Selected",setAnImage:"Set image",localImage:"Local",urlImage:"URL",uploadImage:"Upload",nextStepForImage:"Next",urlIsHereForImage:"Type URL here...",uploadImageError:"Error",imageTypeError:"You have specified an image type that is not supported. Please use one of these types: PNG, GIF, JPG, JPEG, BMP, SVG or SVGZ.",sort:"Sort",search:"Search",modified:"Modified",title:"Title",numViews:"View numbers",myContent:"My content",myOrganization:"My organization",public:"Public",noItemFoundWarning:"We couldn't find what you were looking for. Please try another one.",openIn:"Open in",appWindow:"App window",topWindow:"Top window",newWindow:"New window",webAddress:"Web address",none:"None",page:"Page",view:"View",chooseAPage:"Choose a page",setLink:"Set link",setLinkForTitle:"Set link for {title}",details:"Details",description:"Description",commonModalOk:"Ok",commonModalCancel:"Cancel",attribute:"Attribute",statistics:"Statistics",expression:"Expression",data:"Data",operator:"Operator",field:"Field",name:"Name",insert:"Insert",expressionBuilder:"Expression builder",fields:"Fields",functions:"Functions",invalidExpression:"Invalid expression",static:"Static",pleaseSetDataSource:"Please set data",chooseDsForFilter:"Choose a data to filter",filterNone:"none",filterDataRelationShip:"Data relationship",filterMessageField:"Message field",chooseDsForSelect:"Choose a data to select",selectNone:"none",selectDataRelationShip:"Data relationship",selectMessageField:"Message field",direction:"Direction",style:"Style",default:"Default",tabs:"Tabs",pills:"Pills",select:"Selected",regular:"Regular",views:"Views",auto:"Auto",custom:"Custom",viewsSelected:"{viewNumber} views selected"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(272);Object.defineProperty(t,"Alpha",{enumerable:!0,get:function(){return p(r).default}});var o=n(105);Object.defineProperty(t,"Checkboard",{enumerable:!0,get:function(){return p(o).default}});var i=n(275);Object.defineProperty(t,"EditableInput",{enumerable:!0,get:function(){return p(i).default}});var a=n(276);Object.defineProperty(t,"Hue",{enumerable:!0,get:function(){return p(a).default}});var s=n(278);Object.defineProperty(t,"Raised",{enumerable:!0,get:function(){return p(s).default}});var u=n(279);Object.defineProperty(t,"Saturation",{enumerable:!0,get:function(){return p(u).default}});var l=n(107);Object.defineProperty(t,"ColorWrap",{enumerable:!0,get:function(){return p(l).default}});var c=n(287);function p(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"Swatch",{enumerable:!0,get:function(){return p(c).default}})},,function(e,t,n){e.exports=n(66)()},function(e,t,n){e.exports=n(167)()},function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){var r=n(76),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();e.exports=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.red=void 0;var r=i(n(284)),o=i(n(286));function i(e){return e&&e.__esModule?e:{default:e}}t.default={simpleCheckForValidColor:function(e){var t=0,n=0;return(0,r.default)(["r","g","b","a","h","s","l","v"],function(r){if(e[r]&&(t+=1,isNaN(e[r])||(n+=1),"s"===r||"l"===r)){/^\d+%$/.test(e[r])&&(n+=1)}}),t===n&&e},toState:function(e,t){var n=e.hex?(0,o.default)(e.hex):(0,o.default)(e),r=n.toHsl(),i=n.toHsv(),a=n.toRgb(),s=n.toHex();return 0===r.s&&(r.h=t||0,i.h=t||0),{hsl:r,hex:"000000"===s&&0===a.a?"transparent":"#"+s,rgb:a,hsv:i,oldHue:e.h||t||r.h,source:e.source}},isValidHex:function(e){var t="#"===String(e).charAt(0)?1:0;return e.length!==4+t&&e.length<7+t&&(0,o.default)(e).isValid()},getContrastingColor:function(e){if(!e)return"#fff";var t=this.toState(e);return"transparent"===t.hex?"rgba(0,0,0,0.4)":(299*t.rgb.r+587*t.rgb.g+114*t.rgb.b)/1e3>=128?"#000":"#fff"}};t.red={hsl:{a:1,h:0,l:.5,s:1},hex:"#ff0000",rgb:{r:255,g:0,b:0,a:1},hsv:{h:0,s:1,v:1,a:1}}},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.getInstance=function(){return t._instance||(t._instance=new t,window._appDataSourceManager=t._instance),t._instance},t.prototype.getAppConfig=function(){return o.getAppStore().getState().appStateInBuilder&&o.getAppStore().getState().appStateInBuilder.appConfig},t}(o.DataSourceManager);t.default=i},function(e,t,n){var r=n(86),o=n(183),i=n(241),a=n(9);e.exports=function(e,t){return(a(e)?r:i)(e,o(t,3))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=n(14);function i(e,t){void 0===e&&(e=r.Immutable([])),void 0===t&&(t=r.Immutable([]));var n=r.Immutable([]),o=r.Immutable({}),i=r.Immutable(e.concat(t)),a={};return i.forEach(function(e){a[e.dataSourceId]||(a[e.dataSourceId]=r.Immutable(i.asMutable({deep:!0}).filter(function(t){return e.dataSourceId===t.dataSourceId})))}),Object.keys(a).forEach(function(e){o=r.Immutable({}),a[e].forEach(function(e){o=function(e,t){if(!e||!t)return e||t;if(e.dataSourceId&&t.dataSourceId&&e.dataSourceId!==t.dataSourceId)return console.warn("can not merge data sources with different id"),null;if(!e.dataSourceId&&!t.dataSourceId)return e;if(e.fields&&t.fields){var n=Array.from(new Set(e.fields.concat(t.fields)));return e.merge(t).set("fields",n)}return e.merge(t)}(o,e)}),n=r.Immutable(n.concat(o))}),n}function a(e){return e.type===r.ExpressionPartType.Function&&(!e.parts||e.parts.every(function(e){return function(e){if(e&&e.type===r.ExpressionPartType.Number)return!0;if(e&&e.type===r.ExpressionPartType.Field)return l(e.dataSourceId,e.jimuFieldName);return!1}(e)}))}function s(){return window&&window.jimuConfig&&window.jimuConfig.isBuilder?o.default.getInstance():r.DataSourceManager.getInstance()}function u(e,t){if(!e||!t)return!1;var n=s().getDataSource(e),r=n&&n.getSchema&&n.getSchema(),o=r&&r.fields;return!!o&&!!o[t]}function l(e,t){if(!e||!t)return!1;var n=s().getDataSource(e),o=n&&n.getSchema&&n.getSchema(),i=o&&o.fields;return!!i&&!(!i[t]||i[t].type!==r.JimuFieldType.Number)}t.getUseDataSourceFromExpParts=function e(t){if(!t)return r.Immutable([]);var n={},o=r.Immutable([]);r.Immutable([]);return t.filter(function(e){return!!e}).forEach(function(t){t.dataSourceId&&(n[t.dataSourceId]||(n[t.dataSourceId]=r.Immutable({dataSourceId:t.dataSourceId,fields:r.Immutable([])})),t.jimuFieldName&&(n[t.dataSourceId].fields&&n[t.dataSourceId].fields.every(function(e){return e!==t.jimuFieldName})?n[t.dataSourceId]=n[t.dataSourceId].set("fields",n[t.dataSourceId].fields.concat(t.jimuFieldName)):n[t.dataSourceId].fields||(n[t.dataSourceId]=n[t.dataSourceId].set("fields",r.Immutable([t.jimuFieldName]))))),t.type===r.ExpressionPartType.Function&&(o=i(o,e(t.parts)))}),i(r.Immutable(Object.keys(n).map(function(e){return n[e]})),o)},t.mergeUseDataSources=i,t.getWhetherExpressionValid=function(e){if(!e||!e.parts)return!0;var t=e.parts.filter(function(e){return!!e}),n=t.some(function(e){return e.type===r.ExpressionPartType.Unknown});if(n)return!1;var o=t.filter(function(e){return e.type===r.ExpressionPartType.Operator&&"("===e.exp}).length===t.filter(function(e){return e.type===r.ExpressionPartType.Operator&&")"===e.exp}).length;if(!o)return!1;for(var i=t.filter(function(e){return!(e.type===r.ExpressionPartType.Operator&&("("===e.exp||")"===e.exp||/^\s*$/.test(e.exp)))}),s=!0,l=0;l<i.length;l++)if((l%2==0||l===i.length-1)&&i[l].type===r.ExpressionPartType.Operator||l%2==1&&i[l].type!==r.ExpressionPartType.Operator){s=!1;break}if(!s)return!1;var c=!0;for(l=0;l<t.length;l++)if(t[l].type===r.ExpressionPartType.Function&&!a(t[l])||t[l].type===r.ExpressionPartType.Field&&!u(t[l].dataSourceId,t[l].jimuFieldName)){c=!1;break}return!n&&o&&s&&c},t.getDsManager=s,t.getWhetherFieldInDs=u,t.getWhetherFieldIsNumber=l,t.getWhetherDsDisabled=function(e,t){var n=s();return!(!e||!e.dataSourceId||t.some(function(t){return t===e.dataSourceId})&&n&&n.getDataSource(e.dataSourceId))}},function(e,t,n){var r=n(21),o=n(172),i=n(173),a="[object Null]",s="[object Undefined]",u=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?s:a:u&&u in Object(e)?o(e):i(e)}},function(e,t,n){var r=n(196),o=n(199);e.exports=function(e,t){var n=o(e,t);return r(n)?n:void 0}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=function(e){function t(t){return e.call(this,t)||this}return r(t,e),t.prototype.render=function(){return o.React.createElement("span",{className:this.props.className,contentEditable:!!this.props.isEditable,suppressContentEditableWarning:!0,id:this.props.id,style:this.props.style,title:this.props.title||null,tabIndex:this.props.tabIndex||null},this.props.exp)},t}(o.React.PureComponent);t.default=i},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var r=n(10).Symbol;e.exports=r},function(e,t,n){var r=n(78),o=n(180),i=n(28);e.exports=function(e){return i(e)?r(e):o(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OpenTypes={CurrentWindow:void 0,TopWindow:"_top",NewWindow:"_blank"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(109);t.ColorChooser=r.Color},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o,i=n(1),a=n(363),s=n(64);!function(e){e.Uploading="UPLOADING",e.UploadOk="UPLOADOK",e.UploadError="UPLOADERROR"}(r=t.ResourceUploadStatus||(t.ResourceUploadStatus={})),function(e){e.Image="IMAGE",e.Config="CONFIG"}(o=t.ResourceType||(t.ResourceType={}));var u=function(){function e(){var t=this;this.resourceMap={},this.blobToResourceMap={},this.resourcesInDraft={},this.getResourcesInDraft=function(){return t.resourcesInDraft},this.setResourcesInDraft=function(e){t.resourcesInDraft=e},this.getResourcesInAppConfig=function(e){var n=t.getAppId(),r=i.getAppStore().getState().portalUrl+"/sharing/rest/content/items/"+n+"/resources/",o={},a=[],s=null,u=i.SessionManager.getInstance().getSession(),l=new RegExp("^"+r);var c={matchFunction:function(e){return l.test(e)},matchHandle:function(e){o[e.value]=e.value}};return i.appConfigUtils.replaceAppConfigNodeValue(e,c).then(function(){return i.esri.restPortal.getItemResources(n,{authentication:u}).then(function(e){if(s=e&&e.resources)for(var t=0;t<s.length;t++){var n=r+s[t].resource;o[n]&&a.push({url:o[n],fileName:s[t].resource.split("/")[s[t].resource.split("/").length-1],created:s[t].created,size:s[t].size})}return Promise.resolve(a)})})},this.setImageResourcesInDraft=function(e){var n=t.getResourcesInDraft();n.imageResources=e,t.setResourcesInDraft(n)},this.getImageResourcesInDraft=function(e,n){if(t.resourcesInDraft.imageResources)return Promise.resolve(t.resourcesInDraft.imageResources);var r=i.getAppStore().getState(),o=i.SessionManager.getInstance().getSession(),a=r.portalUrl+"/sharing/rest/content/items/"+e+"/resources/images/image-resources-list.json?token="+o.token;return fetch(""+a,{cache:"no-cache"}).then(function(e){return 404===e.status?Promise.resolve(null):e.json()}).then(function(e){if(e){var n=e;return Object.keys(n).forEach(function(e){n[e].url=n[e].url+"?token="+i.SessionManager.getInstance().getSession().token}),Promise.resolve(n)}return t.uploadImageResourcesConfig({}).then(function(e){return Promise.resolve(e)})}).catch(function(e){return console.error(e),Promise.reject(null)})},this.updateImageResourceItemInfo=function(e){var n=t.getAppId();t.getImageResourcesInDraft(n).then(function(n){var r=Object.assign({},e);delete r.blobUrl,delete r.type,n[r.fileName.split(".")[0]]=r,t.setImageResourcesInDraft(n)})},this.uploadImageResourcesConfig=function(n){var r=n||{},i={appId:t.getAppId(),file:new Blob([JSON.stringify(r)],{type:"application/json"}),resourcesPrefix:"images",fileName:"image-resources-list.json",type:o.Image};return e.getInstance().upLoadFileToResource(i).then(function(){return Promise.resolve(r)},function(){return Promise.reject(null)})},this.cleanValueInImageResourcesConfig=function(e,n){return t.getAppId()!==e&&(t.resourcesInDraft.imageResources=null),n.length>0?t.getImageResourcesInDraft(e).then(function(e){if(e){for(var t=[],r=0;r<n.length;r++){for(var o=Object.keys(e),i=!0,a=0;a<o.length;a++){var s=o[a];if(e[s].resourcesPrefix+"/"+e[s].fileName===n[r]&&e[s].referedIds.length>0){i=!1;break}}i&&t.push(n[r])}return Promise.resolve(t)}return Promise.resolve(n)}):Promise.resolve(n)}}return e.getInstance=function(){return e._instance||(e._instance=new e,window._appResourceManager=e._instance),e._instance},e.prototype.getResourceItem=function(e){return this.resourceMap[e]},e.prototype.getResourceMap=function(){return this.resourceMap},e.prototype.setResourceItem=function(e,t){this.resourceMap[e]?this.resourceMap[e]=Object.assign(this.resourceMap[e],t):this.resourceMap[e]=t,i.getAppStore().dispatch(s.builderStateResourceActions.AddResource(e,this.resourceMap[e])),this.blobToResourceMap[t.blobUrl]={id:t.id,resourceUrl:t.resourceUrl}},e.prototype.clearResources=function(e){for(var t in this.resourceMap)this.resourceMap[t]&&window.URL.revokeObjectURL(this.resourceMap[t].blobUrl);this.resourceMap={},this.blobToResourceMap={},this.removeUnnecessaryResources(e),i.getAppStore().dispatch(s.builderStateResourceActions.ClearResources())},e.prototype.getAppId=function(){return i.getAppStore().getState().appStateInBuilder&&i.getAppStore().getState().appStateInBuilder.appId},e.prototype.addAppItemResource=function(e){var t=this,n=i.SessionManager.getInstance().getSession();return i.esri.restPortal.addItemResource({id:e.appId,resource:e.file,name:e.fileName,params:{resourcesPrefix:e.resourcesPrefix},authentication:n}).then(function(n){return t.setResourceItemInfoStatus(e,r.UploadOk),Promise.resolve(n)},function(n){return t.setResourceItemInfoStatus(e,r.UploadError),Promise.reject(n)})},e.prototype.getAppItemResources=function(e){var t=i.SessionManager.getInstance().getSession();return i.esri.restPortal.getItemResources(e.appId,{authentication:t})},e.prototype.updateAppItemResource=function(e){var t=this,n=i.SessionManager.getInstance().getSession();return i.esri.restPortal.updateItemResource({id:e.appId,resource:e.file,name:e.fileName,params:{resourcesPrefix:e.resourcesPrefix},authentication:n}).then(function(n){return t.setResourceItemInfoStatus(e,r.UploadOk),Promise.resolve(n)},function(n){return t.setResourceItemInfoStatus(e,r.UploadError),Promise.reject(n)})},e.prototype.removeAppItemResource=function(e){var t=i.SessionManager.getInstance().getSession(),n=e.appId?e.appId:this.getAppId();return i.esri.restPortal.removeItemResource({id:n,resource:e.fileName,authentication:t}).then(function(e){return Promise.resolve(e)},function(e){return Promise.reject(e)})},e.prototype.getLocalCacheResourceUrl=function(e){try{var t=window.URL.createObjectURL(e.file);return e.url=t,e.blobUrl=t,this.upLoadFileToResource(e),Promise.resolve(e)}catch(e){return Promise.reject(e)}},e.prototype.getBlobByBlobUrl=function(e){return new Promise(function(t,n){var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="blob",r.onload=function(e){if(200==this.status){var r=this.response;return t(r)}return n()},r.onerror=function(e){return n()},r.send()})},e.prototype.getResourcePrefix=function(e){if(e.resourcesPrefix)return e.resourcesPrefix;return e.type===o.Image?e.widgetId?"images/"+e.widgetId:"images/templates":e.type===o.Config?"config":"templates"},e.prototype.upLoadFileToResource=function(e){var t=this,n=e.appId?e.appId:this.getAppId(),o=e.fileName,a=e.originalName,s=this.getResourcePrefix(e);e.resourcesPrefix=s;var u=i.getAppStore().getState().portalUrl+"/sharing/rest/content/items/"+n+"/resources/"+(s?s+"/":"")+o,l=i.uuidv1(),c={id:l,appId:n,fileName:o,originalName:a,resourcesPrefix:s,url:e.url,blobUrl:e.blobUrl,resourceUrl:u,type:e.type,status:r.Uploading,widgetId:e.widgetId},p=Object.assign({},c);p.file=e.file;var f=this.getAppItemResources(p).then(function(e){var n=t,r=p.resourcesPrefix;if(e&&e.resources){var o=e.resources;if(0===o.length)return n.addAppItemResource(p);for(var i=!1,a=0;a<o.length;a++)if(o[a].resource===(r?r+"/":"")+p.fileName){i=!0;break}return i?n.updateAppItemResource(p):n.addAppItemResource(p)}throw"return value from getAppItemResources is not right"}).catch(function(e){return console.error(e),t.setResourceItemInfoStatus(p,r.UploadError),Promise.reject()});return p.promise=f,this.setResourceItem(l,c),f},e.prototype.setAppConfigLocalFileToResource=function(e){return this.setConfigLocalFileToResource(e)},e.prototype.uploadImageConfigFileToPortal=function(e,t){var n=this,r=e,o={};return this.getResourcesInAppConfig(Object.assign({},t)).then(function(e){for(var t={},i=[],a=0;a<e.length;a++){var s=e[a].fileName.split(".")[0];i.push(s)}return Object.keys(r).forEach(function(e){r[e].referedIds=[];var n=r[e].originId;(i.indexOf(n)>-1||i.indexOf(e)>-1)&&(t[e]=r[e],t[n]=r[n])}),Object.keys(t).forEach(function(e){t[e].referedIds=[];var n=t[e].originId;n!==e&&(o[n]?o[n].referedIds.push(e):(o[n]=Object.assign({},t[n]),o[n].referedIds=[e]))}),Object.keys(o).forEach(function(e){t[e]&&(t[e].referedIds=o[e].referedIds)}),n.setConfigLocalFileToResource(t).then(function(e){return n.uploadImageResourcesConfig(e)})})},e.prototype.setConfigLocalFileToResource=function(e){var t=this,n=this.blobToResourceMap,o=new RegExp("^blob:http(s?)://(.)"),a=new Array;var s={matchFunction:function(e){return o.test(e)},matchHandle:function(e){var t=e.obj,r=e.key,o=e.value;o=n[e.value],-1===a.indexOf(o.id)&&a.push(o.id),"number"==typeof e.i?t[r][e.i]=o.resourceUrl:t[r]=o.resourceUrl}};return i.appConfigUtils.replaceAppConfigNodeValue(e,s).then(function(e){return t.checkResourcesUploadStatus(a).then(function(t){return t===r.UploadOk?Promise.resolve(e):Promise.reject()})})},e.prototype.checkResourcesUploadStatus=function(e){if(e.length>0){for(var t=[],n=0;n<e.length;n++)t.push(this.resourceMap[e[n]].promise);return Promise.all(t).then(function(){return Promise.resolve(r.UploadOk)},function(){return Promise.resolve(r.UploadError)}).catch(function(e){return console.error(e),Promise.reject()})}return Promise.resolve(r.UploadOk)},e.prototype.uploadAppConfigFileToPortal=function(e,t){var n={appId:e,file:new Blob([JSON.stringify(t)],{type:"application/json"}),fileName:"config.json",type:o.Config};return this.upLoadFileToResource(n).then(function(){return Promise.resolve()},function(){return Promise.reject()})},e.prototype.getConfigFromItemResource=function(e){var t=i.getAppStore().getState(),n=i.SessionManager.getInstance().getSession(),r=t.portalUrl+"/sharing/rest/content/items/"+e+"/resources/config/config.json?token="+n.token;return fetch(""+r,{cache:"no-cache"}).then(function(e){return e.json()}).then(function(e){return e}).catch(function(e){return console.error(e),Promise.reject(null)})},e.prototype.setResourceItemInfoStatus=function(e,t){this.resourceMap&&this.resourceMap[e.id]&&(e.status=t,delete e.file,this.setResourceItem(e.id,e))},e.prototype.removeUnnecessaryResources=function(e){var t=this;if(e){var n=i.SessionManager.getInstance().getSession(),r=i.getAppStore().getState().portalUrl+"/sharing/rest/content/items/"+e+"/resources/",o=null;try{i.esri.restPortal.getItemResources(e,{authentication:n}).then(function(s){var u=!1;if(o=s&&s.resources)for(var l=0;l<o.length;l++)if("config/config.json"===o[l].resource||"images/image-resources-list.json"===o[l].resource){u=!0;break}a.getItemData(e,{authentication:n}).then(function(n){var a=new RegExp("^"+r),s={};var l={matchFunction:function(e){return a.test(e)},matchHandle:function(e){s[e.value]=e.value}};i.appConfigUtils.replaceAppConfigNodeValue(n,l).then(function(){return u?t.getConfigFromItemResource(e):Promise.resolve({})}).then(function(e){i.appConfigUtils.replaceAppConfigNodeValue(e,l)}).then(function(){var n=[];if(o){for(var i=0;i<o.length;i++)if("config/config.json"!==o[i].resource&&"images/image-resources-list.json"!==o[i].resource){var a=r+o[i].resource;s[a]||n.push(o[i].resource)}t.cleanValueInImageResourcesConfig(e,n).then(function(n){n.map(function(n){t.removeAppItemResource({appId:e,fileName:n})})})}})})})}catch(e){console.error(e)}}},e}();t.AppResourceManager=u},function(e,t,n){function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var o=n(0),i=o.createElement("g",{fillRule:"nonzero",fill:"none"},o.createElement("path",{d:"M7.745 7l4.1 4.1a.527.527 0 0 1-.745.746L7 7.746l-4.1 4.1a.527.527 0 0 1-.746-.746l4.1-4.1-4.1-4.1a.527.527 0 0 1 .746-.746l4.1 4.1 4.1-4.1a.527.527 0 0 1 .746.746L7.746 7z",fill:"currentColor"}),o.createElement("path",{d:"M1 1h12v12H1z"}));function a(e){return o.createElement("svg",r({width:14,height:14,viewBox:"0 0 14 14"},e),i)}e.exports=a,a.default=a},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){var r=n(83),o=n(44);e.exports=function(e){return null!=e&&o(e.length)&&!r(e)}},function(e,t,n){var r=n(186),o=n(187),i=n(188),a=n(189),s=n(190);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=o,u.prototype.get=i,u.prototype.has=a,u.prototype.set=s,e.exports=u},function(e,t,n){var r=n(50);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},function(e,t,n){var r=n(18)(Object,"create");e.exports=r},function(e,t,n){var r=n(208);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},function(e,t,n){var r=n(223),o=n(51),i=n(224),a=n(225),s=n(226),u=n(17),l=n(87),c=l(r),p=l(o),f=l(i),d=l(a),h=l(s),g=u;(r&&"[object DataView]"!=g(new r(new ArrayBuffer(1)))||o&&"[object Map]"!=g(new o)||i&&"[object Promise]"!=g(i.resolve())||a&&"[object Set]"!=g(new a)||s&&"[object WeakMap]"!=g(new s))&&(g=function(e){var t=u(e),n="[object Object]"==t?e.constructor:void 0,r=n?l(n):"";if(r)switch(r){case c:return"[object DataView]";case p:return"[object Map]";case f:return"[object Promise]";case d:return"[object Set]";case h:return"[object WeakMap]"}return t}),e.exports=g},function(e,t,n){var r=n(17),o=n(12),i="[object Symbol]";e.exports=function(e){return"symbol"==typeof e||o(e)&&r(e)==i}},function(e,t,n){var r=n(34),o=1/0;e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-o?"-0":t}},function(e,t,n){var r=n(101),o=n(102);e.exports=function(e,t,n,i){var a=!n;n||(n={});for(var s=-1,u=t.length;++s<u;){var l=t[s],c=i?i(n[l],e[l],l,n,e):void 0;void 0===c&&(c=e[l]),a?o(n,l,c):r(n,l,c)}return n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=r.utils.findLayoutId,i=r.appConfigUtils.getAllWidgetsOrSectionsInLayout,a=r.appConfigUtils.getPendingLayoutItemsFromOtherSizeMode,s=r.appConfigUtils.getPendingLayoutItemsInLayoutWithDeep,u=r.appConfigUtils.getWidgetsOrSectionsInLayoutWithLayoutWidgetOnly,l=r.appConfigUtils.getWidgetOrSectionContainerInfo,c=r.appConfigUtils.getWidgetOrSectionLayoutItem,p=r.appConfigUtils.cleanupRuntimeLayouts,f=r.appConfigUtils.getLayoutItemIds,d=r.appConfigUtils.getUniqueId,h=r.appConfigUtils.getUniqueLabel,g=r.appConfigUtils.getWidgetsOrSectionsInLayout,m=r.appConfigUtils.getWidgetIdThatUseTheLayoutId;function y(e,t,n){var i=o(e.pages[t].layout,r.getAppStore().getState().browserSizeMode,e.mainSizeMode);return u(e,i,n,r.getAppStore().getState().browserSizeMode)}function v(e,t){var n=o(e.header.layout,r.getAppStore().getState().browserSizeMode,e.mainSizeMode);return u(e,n,t,r.getAppStore().getState().browserSizeMode)}function b(e,t){var n=o(e.footer.layout,r.getAppStore().getState().browserSizeMode,e.mainSizeMode);return u(e,n,t,r.getAppStore().getState().browserSizeMode)}function x(e,t,n){var i=o(e.views[t].layout,r.getAppStore().getState().browserSizeMode,e.mainSizeMode);return u(e,i,n,r.getAppStore().getState().browserSizeMode)}function w(e,t){return!!e.pageStructure.find(function(e){return!!e[t]})}function _(e){var t=0;return Object.keys(e.pages).forEach(function(n,r){C(e,n)&&t++}),t}function O(e,t){if(!w(e,t))return 0;var n=0;return e.pageStructure.forEach(function(r,o){var i=Object.keys(r)[0];i===t&&r[i].forEach(function(t){C(e,t)&&n++})}),n}function C(e,t){var n=e.pages[t];return!!n&&n.type===r.PageType.Normal}function E(e,t,n,r){return Object.keys(e.widgets).find(function(o){var i=e.widgets[o];if(i.layouts)return Object.keys(i.layouts).some(function(o){var a=i.layouts[o][r],s=e.layouts[a];return s&&s.content&&void 0!==Object.keys(s.content).find(function(e){return s.content[e].type===n&&(s.content[e].widgetId===t||s.content[e].sectionId===t)})})})}function S(e,t,n,o){if(!e.widgets[n])return[];var i=e.layouts[t.layoutId]&&e.layouts[t.layoutId].content&&e.layouts[t.layoutId].content[t.layoutItemId];if(!i)return[];var a=i.type,s=void 0;return a===r.LayoutItemType.Section?s=i.sectionId:a===r.LayoutItemType.Widget&&(s=i.widgetId),P(e,s,a,n,o)}function P(e,t,n,r,o){var i=e.widgets[r];if(!i)return[];var a=[];return i.layouts&&Object.keys(i.layouts).forEach(function(r){var s=i.layouts[r][o],u=e.layouts[s];u&&u.content&&Object.keys(u.content).forEach(function(e){var r=u.content[e];r.type!==n||r.widgetId!==t&&r.sectionId!==t||a.push({layoutId:u.id,layoutItemId:r.id})})}),a}function I(e){var t=e.asMutable({deep:!0});return Object.keys(t.widgets).forEach(function(e){var n=t.widgets[e];n.label===n.manifest.name&&delete n.label,n.icon===n.context.folderUrl+"icon.svg"&&delete n.icon,delete n.context,delete n.manifest,delete n._originManifest}),t.layouts=p(t.layouts),t=r.appConfigUtils.cleanTokenFromResource(t)}t.getAllWidgetsOrSectionsInLayout=i,t.getPendingLayoutItemsFromOtherSizeMode=a,t.getPendingLayoutItemsInLayoutWithDeep=s,t.getWidgetsOrSectionsInLayoutWithLayoutWidgetOnly=u,t.getWidgetOrSectionContainerInfo=l,t.getWidgetOrSectionLayoutItem=c,t.cleanupRuntimeLayouts=p,t.getLayoutItemIds=f,t.getUniqueId=d,t.getUniqueLabel=h,t.getWidgetsOrSectionsInLayout=g,t.getWidgetIdThatUseTheLayoutId=m,t.getPendingLayoutItemsFromOtherSizeModeInPage=function(e,t,n,o){var i=e.pages[t];return i?o===r.PagePart.Header?i.header&&e.header?a(e,e.header.layout,n):[]:o===r.PagePart.Footer?i.footer&&e.footer?a(e,e.footer.layout,n):[]:o===r.PagePart.Body?a(e,i.layout,n):[]:[]},t.getPendingLayoutItemsInPage=function(e,t,n,o){var i=e.pages[t];return i?o===r.PagePart.Header?i.header&&e.header?s(e,e.header.layout[n],n):[]:o===r.PagePart.Footer?i.footer&&e.footer?s(e,e.footer.layout[n],n):[]:o===r.PagePart.Body?s(e,i.layout[n],n):[]:[]},t.getWidgetsOrSectionsInPageBody=y,t.getWidgetsOrSectionsInPageHeader=v,t.getWidgetsOrSectionsInPageFooter=b,t.getWidgetsOrSectionsInView=x,t.getWidgetsOrSectionsInTheSameContainer=function(e,t,n,o,i){var a=l(e,t,n,i);if(!a)return[];switch(a.type){case r.ContainerType.Page:return y(e,a.id,o);case r.ContainerType.Header:return v(e,o);case r.ContainerType.Footer:return b(e,o);case r.ContainerType.View:return x(e,a.id,o);case r.ContainerType.Dialog:return[]}},t.isFirstLevelPage=w,t.isPageHasSubPage=function(e,t){var n=e.pageStructure.find(function(e){return!!e[t]});return n&&n[t].length>0},t.getRealPageCount=_,t.getSubRealPageCount=O,t.getRealPageCountExcludeOnePage=function(e,t){var n=0;return C(e,t)&&(n=1),_(e)-O(e,t)-n},t.isRealPage=C,t.getParentWidgetIdOfWidgetOrSection=E,t.getWidgetOrSectionLayoutInfosInOneSizeMode=function(e,t,n,r){var i=[],a=!1,s=function(e,t,n,s){var u=o(n,r,e.mainSizeMode),l=c(e.layouts[u],t,s),p=void 0;return l&&(p={layoutId:u,layoutItemId:l.id},i.push(p),a=!0),p};return e.pages&&Object.keys(e.pages).find(function(r){var o=e.pages[r];return!(!o.layout||!s(e,t,o.layout,n))}),a?i:(e.views&&Object.keys(e.views).find(function(r){var o=e.views[r];return!!s(e,t,o.layout,n)}),a?i:(e.dialogs&&Object.keys(e.dialogs).find(function(r){var o=e.dialogs[r];return!!s(e,t,o.layout,n)}),a?i:(e.header&&s(e,t,e.header.layout,n),a?i:(e.footer&&s(e,t,e.footer.layout,n),a?i:(e.widgets&&Object.keys(e.widgets).find(function(r){var o=e.widgets[r];return o.layouts&&Object.keys(o.layouts).forEach(function(r){s(e,t,o.layouts[r],n)}),!!a}),i)))))},t.getBrowserSizeModeByLayoutIdAndWidgetId=function(e,t,n){var r=e.widgets[n];if(r){var o=void 0;return Object.keys(r.layouts).find(function(e){if(Object.keys(r.layouts[e]).find(function(n){if(r.layouts[e][n]===t)return o=n,!0}))return!0}),o}},t.getLayoutInfosInWidgetByLayoutInfo=S,t.getLayoutInfosInWidgetByWidgetOrSectionId=P,t.getLayoutItemsInWidgetByLayoutInfo=function(e,t,n,r){return S(e,t,n,r).map(function(t){return e.layouts[t.layoutId][t.layoutItemId]})},t.getCleanAppConfig=I,window._getCleanAppConfig=I,t.getLayoutItemsHoldWidgetOrSection=function(e,t,n,o){if(o){var i=E(e,n,t,o);if(i)return P(e,n,t,i,o);var a=l(e,n,t,o);if(!a)return[];var s=function(e,t,n){return t.type===r.ContainerType.Footer?e.footer.layout[n]:t.type===r.ContainerType.Header?e.header.layout[n]:e[t.type][t.id].layout[n]}(e,a,o);return[{layoutId:s,layoutItemId:c(e.layouts[s],n,t).id}]}var u=[];return Object.keys(e.layouts).forEach(function(r){f(e,r,!0).forEach(function(o){var i=e.layouts[r].content[o];t!==i.type||i.widgetId!==n&&i.sectionId!==n||u.push({layoutId:r,layoutItemId:o})})}),u}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(324);t.SettingSection=r.SettingSection;var o=n(325);t.SettingRow=o.SettingRow;var i=n(326);t.StylePicker=i.StylePicker;var a=n(327);t.SettingButtonGroup=a.SettingButtonGroup},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(1),s=n(2),u=n(56),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._onInputChange=function(e){var n=t.props.value;n=a.lodash.assign({},n,{distance:e}),t.props.onChange(n)},t._onUnitChange=function(e){var n=t.props.value;n=a.lodash.assign({},n,{unit:e}),t.props.onChange(n)},t.getStyle=function(){return a.css(i||(i=o(["\n      width: ",";\n      >.jimu-builder--unit-chooser {\n        min-width: ",";\n        margin-left: -1px;\n        border-top-right-radius: 2px;\n        border-bottom-right-radius: 2px;\n      }\n    "],["\n      width: ",";\n      >.jimu-builder--unit-chooser {\n        min-width: ",";\n        margin-left: -1px;\n        border-top-right-radius: 2px;\n        border-bottom-right-radius: 2px;\n      }\n    "])),a.polished.rem(60),a.polished.rem(29))},t.getTitle=function(e){return e?""+e.distance+e.unit:""},t}return r(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.min,r=t.max,o=t.className,i=t.style,l=t.disabled,c=t.units,p=t.value;return a.jsx(s.InputGroup,{title:this.getTitle(p),className:a.classNames(o,"jimu-builder--input-unit"),style:i,css:this.getStyle()},a.jsx(s.Input,{type:"number",min:n,max:r,value:isNaN(p.distance)?"":p.distance,onAcceptValue:function(t){return e._onInputChange(+t)},disabled:l}),a.jsx(u.UnitChooser,{units:c,unit:p.unit,onChange:this._onUnitChange}))},t.defaultProps={units:[s.UnitTypes.PIXEL],value:{distance:0,unit:s.UnitTypes.PIXEL},disabled:!1,min:0,max:1e3,onChange:function(){}},t}(a.React.PureComponent);t.InputUnit=l},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(2),s=n(14),u=n(4),l=n(145),c=n(146),p=n(157),f=n(158),d=n(73);t.ExpressionFrom=d.ExpressionFrom;var h=function(e){function t(t){var n,r=e.call(this,t)||this;return r.dsManager=window&&window.jimuConfig&&window.jimuConfig.isBuilder?s.default.getInstance():i.DataSourceManager.getInstance(),r.__unmount=!1,r.expressionFrom=((n={})[d.ExpressionFrom.Attribute]=r.props.intl.formatMessage({id:"attribute",defaultMessage:u.default.attribute}),n[d.ExpressionFrom.Statistics]=r.props.intl.formatMessage({id:"statistics",defaultMessage:u.default.statistics}),n[d.ExpressionFrom.Expression]=r.props.intl.formatMessage({id:"expression",defaultMessage:u.default.expression}),n),r.initDss=function(){r.dsManager.createAllDataSources().then(function(e){r.__unmount||r.setState({isDataSourceInited:!0})},function(e){r.__unmount||(r.setState({isDataSourceInited:!0}),console.error(e))})},r.onChange=function(e){r.props.onChange&&r.props.onChange(e)},r.getActiveExpressionFrom=function(){return r.props.expression&&r.props.expression.parts&&0!==r.props.expression.parts.length?1===r.props.expression.parts.length&&r.props.expression.parts[0].type===i.ExpressionPartType.Field?r.props.from.some(function(e){return e===d.ExpressionFrom.Attribute})?d.ExpressionFrom.Attribute:r.props.from.some(function(e){return e===d.ExpressionFrom.Expression})?d.ExpressionFrom.Expression:r.props.from[0]:1===r.props.expression.parts.length&&r.props.expression.parts[0].type===i.ExpressionPartType.Function&&r.props.from.some(function(e){return e===d.ExpressionFrom.Statistics})?d.ExpressionFrom.Statistics:r.props.from.some(function(e){return e===d.ExpressionFrom.Expression})?d.ExpressionFrom.Expression:r.props.from[0]:r.props.from[0]},r.getTab=function(e){switch(e){case d.ExpressionFrom.Attribute:return i.jsx(l.default,{dataSourceIds:r.props.dataSourceIds,expression:r.props.expression,onChange:r.onChange});case d.ExpressionFrom.Statistics:return i.jsx(p.default,{dataSourceIds:r.props.dataSourceIds,expression:r.props.expression,onChange:r.onChange,intl:r.props.intl});case d.ExpressionFrom.Expression:return i.jsx(c.default,o({},r.props,{dataSourceIds:r.props.dataSourceIds,expression:r.props.expression,onChange:r.onChange,intl:r.props.intl}));default:return null}},r.onActiveTabChange=function(e){r.setState({active:e})},r.state={active:r.props.active||r.getActiveExpressionFrom(),isDataSourceInited:!1},r}return r(t,e),t.prototype.componentDidMount=function(){this.__unmount=!1,this.initDss()},t.prototype.componentDidUpdate=function(e,t){this.state.isDataSourceInited||this.initDss(),this.props.dataSourceIds!==e.dataSourceIds&&this.setState({isDataSourceInited:!1}),this.props.from===e.from&&this.props.active===e.active&&this.props.expression===e.expression||this.setState({active:this.props.active||this.getActiveExpressionFrom()})},t.prototype.componentWillUnmount=function(){this.__unmount=!0},t.prototype.render=function(){var e,t=this;return i.jsx("div",{css:f.getStyle(this.props.theme),style:this.props.style,className:i.classNames("w-100 h-100",(e={},e[this.props.className]=!!this.props.className,e))},i.jsx("div",{className:"w-100 h-100 component-expression-builder"},this.props.from&&this.props.from.length>1?i.jsx(a.Nav,{tabs:!0},this.props.from.map(function(e,n){return i.jsx(a.NavItem,{key:n},i.jsx(a.NavLink,{className:i.classNames({active:t.state.active===e}),onClick:function(){t.onActiveTabChange(e)}},t.expressionFrom[e]))})):null,this.getTab(this.state.active),!this.state.isDataSourceInited&&i.jsx("div",{className:"jimu-small-loading"})))},t}(i.React.PureComponent),g=i.themeUtils.withTheme(i.injectIntl(h));t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=n(68);function i(e,t){if(e&&e.collapsed&&t){var n,r=e;return!!(r.compareBoundaryPoints&&document&&document.createRange)&&((n=document.createRange()).selectNodeContents(t),n.collapse(!0),r.compareBoundaryPoints(r.START_TO_END,n)<1)}}function a(e,t){if(e&&e.collapsed&&t){var n,r=e;return!!(r.compareBoundaryPoints&&document&&document.createRange)&&((n=document.createRange()).selectNodeContents(t),n.collapse(!1),r.compareBoundaryPoints(r.START_TO_END,n)>-1)}}function s(e,t){return e?t?t.querySelector("#"+e):document&&document.querySelector("#"+e):null}function u(e,t,n){if(!document||!document.createRange)return null;if(n||((n=document.createRange()).selectNodeContents(e),n.setStart(e,0)),0===t.count)n.setEnd(e,t.count);else if(e&&t.count>0)if(e.nodeType===Node.TEXT_NODE)e.textContent.length<t.count?t.count-=e.textContent.length:(n.setEnd(e,t.count),t.count=0);else for(var r=0;r<e.childNodes.length&&(n=u(e.childNodes[r],t,n),0!==t.count);r++);return n}function l(){var e=null;if(window.getSelection&&window.getSelection().getRangeAt){var t=window.getSelection();t.rangeCount>0&&(e=t.getRangeAt(0))}return e}function c(e){if(!e)return!1;var t=e.split("-");return!(!t.length||2!==t.length||t[0]!==o.EXP_CONTAINER_PREFIX||!/^\d+$/.test(t[1]))}function p(e,t){if(!t||c(t.id))return null;for(;t&&!y(e,t.id)&&!v(e,t.id);)t=t.parentElement;return t?t.id:null}function f(e,t){return t?e+"-"+o.EXP_PART_PREFIX+"-"+t:null}function d(e,t,n){return t&&n?e+"-"+o.EXP_PART_PREFIX+"-"+t+"-"+n:null}function h(e,t){if(!t||!v(e,t))return null;var n=t.split("-");return n[n.length-1]}function g(e,t){if(!t)return null;var n=t.split("-"),r=y(e,t)&&n.length-1||v(e,t)&&n.length-2;return r?n[r]:null}function m(e,t){return t&&e?t.split(e+"-")[1]:null}function y(e,t){if(!t||!e)return!1;var n=m(e,t);return!(!n||n.split("-").length!==o.EXP_PART_PREFIX.split("-").length+1||t.indexOf(o.EXP_PART_PREFIX)!==e.length+1||!/\d$/.test(t))}function v(e,t){if(!t||!e)return!1;var n=m(e,t);return n&&n.split("-").length===o.EXP_PART_PREFIX.split("-").length+2&&t.indexOf(o.EXP_PART_PREFIX)===e.length+1&&/\d$/.test(t)}function b(e,t){return!!t&&(y(e,t)||v(e,t))}function x(e){if(!e)return null;var t=e.split("(");return t[1]=t[1]&&t[1].replace(")",""),{function:t[0],innerExps:t[1]?t[1].split(/([\,\s])/g).filter(function(e){return!!e}):[]}}function w(e){return'"'+e.replace(/\"/g,"")+'"'}function _(e){var t=e.split(/([\"])/g).filter(function(e){return!!e}),n="",r=!1,o=!1,i=[];return t.forEach(function(e,a){'"'===e?(n+=e,o=r,(r=!0)&&o&&(i.push(n),n="",r=!1,o=!1)):r?n+=e:i.push(e),a===t.length-1&&r&&!o&&i.push(n)}),i}function O(e){var t=e.map(function(e){return N(e)?e:e.split(/(\s*[\+\-\*\/]\s*)/g).filter(function(e){return!!e})});return t=Array.prototype.concat.apply([],t)}function C(e){var t=e.map(function(e){return A(e)||N(e)?e:E(e)});return t=Array.prototype.concat.apply([],t)}function E(e){var t,n=[],o="";return e?(Object.keys(r.ExpressionFunctions).forEach(function(e,t){t!==Object.keys(r.ExpressionFunctions).length-1?o+="("+r.ExpressionFunctions[e]+"\\([^\\(\\)]*?\\))|":o+="("+r.ExpressionFunctions[e]+"\\([^\\(\\)]*?\\))"}),t=new RegExp(o,"g"),n=e.split(t).filter(function(e){return!!e})):n}function S(e){var t=e.map(function(e){return A(e)||N(e)?e:e.split(/([\(\)\s])/g).filter(function(e){return!!e})});return t=Array.prototype.concat.apply([],t)}function P(e,t,n){if(n){var o=y(e,n.id)?g(e,n.id):h(e,n.id),i=t&&t[o];return i&&i.type===r.ExpressionPartType.Operator}return!1}function I(e,t,n){if(n){var o=y(e,n.id)?g(e,n.id):h(e,n.id),i=t&&t[o];return i&&i.type===r.ExpressionPartType.String}return!1}function k(e){var t=[];return e.split("").forEach(function(e,n){'"'===e&&t.push(n)}),t}function j(e,t){return e&&t?e.length-t.length:null}function T(e){return/^\$/.test(e)}function A(e){if(!e)return!1;var t=/[^\(\)\s]+?\([^\(\)]*?\)$/.test(e)?e.split("(")[0]:e;return Object.keys(r.ExpressionFunctions).some(function(e){return r.ExpressionFunctions[e]===t})}function N(e){return!!e&&/^\"(.*?)|(.*?)\"$/.test(e)}function R(e){return!!e&&(/^\d*\.?\d+(\d|\s)*$/.test(e)||/^\d+\.?\d*(\d|\s)*$/.test(e))}function M(e){return!!e&&/^[\+|\-|\*|\/|\,\(\)|\s+]$/.test(e)}t.getWhetherNodeAfterRange=i,t.getWhetherNodeBeforeRange=a,t.getNodeByPartId=s,t.moveSelectionByPart=function(e,t,n){var r=s(e,n);if(r){if(window.getSelection&&document&&document.createRange){var o=document.createRange();r&&(o.selectNode(r),o.collapse(t),window.getSelection().removeAllRanges(),window.getSelection().addRange(o))}}else n&&n.focus()},t.moveSelectionByCharacter=function(e,t,n){var r=s(e,n);if(r&&t>=0&&window.getSelection){var o=u(r,{count:t});o&&(o.collapse(!1),window.getSelection().removeAllRanges(),window.getSelection().addRange(o))}},t.createRange=u,t.getSelectionRange=l,t.getSelectionPosInnerPart=function(e,t,n){var r,o=l();if(o.collapsed){var i=o.startContainer.nodeType===Node.TEXT_NODE?o.startContainer.parentElement:o.startContainer,a=o.startOffset;if(t&&i&&!i.id&&(i=i.nextElementSibling,a=0),i){var u=p(e,i),c=s(u,n),f=c.textContent.length,d=v(e,u);if(c){var h=c.textContent.indexOf(i.textContent)+a;0===h&&d&&c.previousElementSibling&&c.previousElementSibling.id&&(u=c.previousElementSibling.id,h=c.previousElementSibling.textContent.length,f=c.previousElementSibling.textContent.length),r={partId:u,startOffset:h,contentLength:f}}}}return r},t.getPartIdOfSelection=function(e){var t=l();return t&&t.collapsed&&t.startContainer?p(e,t.startContainer):null},t.getWhetherIsExpContainer=c,t.getPartIdByChildNode=p,t.getPreviouseNodeOfSelection=function(e,t){var n,r,o=l();if(o)for(n=t.lastElementChild;n;){if(a(o,n)&&(y(e,n.id)||v(e,n.id))){r=n;break}n=n.previousElementSibling}return r},t.getNextNodeOfSelection=function(e,t){var n,r,o=l();if(o)for(n=t.firstElementChild;n;){if(i(o,n)&&(y(e,n.id)||v(e,n.id))){r=n;break}n=n.nextElementSibling}return r},t.getSortedKeys=function(e){return Object.keys(e).sort(function(e,t){return e.localeCompare(t)})},t.getSortedArrayByLabel=function(e){return e.sort(function(e,t){return e.label.localeCompare(t.label)})},t.getParentPartId=f,t.getChildPartId=d,t.getIndexOfChildPart=h,t.getIndexOfParentPart=g,t.getInernalId=m,t.getWhetherIsParentPartId=y,t.getWhetherIsChildPartId=v,t.getWhetherIsPartId=b,t.resolveFunctionExp=x,t.resolveStringExp=w,t.getExps=function(e){var t=_(e.replace(/\ufeff/g,""));return t=S(t=C(t=O(t)))},t.handleStringExps=_,t.handleFourOperators=O,t.handleFunctions=C,t.splitByFunction=E,t.handleBracketsAndSpaces=S,t.getLastAddedPartId=function(e){return e&&e.editedPartIds&&0!==e.editedPartIds.length?e.editedPartIds[e.editedPartIds.length-1]:null},t.getLastAddedPart=function(e){return e&&e.editedParts&&0!==e.editedParts.length?e.editedParts[e.editedParts.length-1]:null},t.getWhetherIsOperatorByNode=P,t.getWhetherIsStringByNode=I,t.getNewPartsInfo=function(e,t,n,r,o,u,c,p){var m,y,v,b,x,w,_,O,C=j(n,t),E={};if(t=t||[],n=n||[],0===t.length&&0===n.length)return E;var S,T=t&&t.length>0?""+(t.length-1):"0",A=!1,N=!1,R=!1;if(r&&(S=c?g(e,r.id):h(e,r.id),A=P(e,t,r),N=I(e,t,r),R='"'===o&&r&&r.previousElementSibling&&0===r.previousElementSibling.textContent.indexOf('"'),T=A||N||R||M(o)?""+(parseInt(S)-1):S),'"'!==o)if(C>1)for(var L=0;L<=C;)E[""+(parseInt(T)+L)]=n[""+(parseInt(T)+L)],L++;else if(0===C)(m={})[T]=n[T],E=m;else if(u){var F=(D=l())&&D.startOffset;E=F&&1===F?t&&t.length>0?((v={})[""+parseInt(T)]=n[""+parseInt(T)],v):{0:n[0]}:t&&t.length>0?((b={})[""+(parseInt(T)+1)]=n[""+(parseInt(T)+1)],b):{0:n[0]}}else E=t&&t.length>0?((y={})[""+(parseInt(T)+1)]=n[""+(parseInt(T)+1)],y):{0:n[0]};else{var D,B=void 0,q=(B=s(c?f(e,T):d(e,p,T)))&&B.textContent||'"';a(D=l(),B)?q+='"':i(D,B)&&(q='"'+q);var U=k(q),z=U.some(function(e){return 0===e}),H=U.some(function(e){return e===q.length-1});if(!z&&!H||z&&H){var W=U[0];U.length>1&&(W=U.sort()[1]),q.length>1?((x={})[T]=q.slice(0,W),x[parseInt(T)+1]=q.slice(W),E=x):((w={})[T]=q,E=w)}else H?((_={})[T]=q.replace(/\"/g,""),_[parseInt(T)+1]='"',E=_):((O={})[T]=q,E=O)}return E},t.getIndexesOfQuotation=k,t.getNewCharacterFromExpressionString=function(e,t){if(e.length===t.length-1){var n=e.split("");return t.split("").find(function(e,t){return e!==n[t]})}return""},t.getLengthDiffBetweenExpsAndParts=j,t.getWhetherPartNeedPopover=function(e){return!!e&&(e===r.ExpressionPartType.Field||e===r.ExpressionPartType.Function)},t.triggerInputEvent=function(e){if(e){var t=new Event("input",{bubbles:!0,cancelable:!0});e.dispatchEvent(t)}},t.getSiblingOfExpSelection=function e(t,n,i,a,u){var l=s(n),c=y(t,n),p=null,d=null;if(!l)return null;if(!i&&l.nextElementSibling&&b(t,l.nextElementSibling.id)?p=l.nextElementSibling.id:i&&l.previousElementSibling&&b(t,l.previousElementSibling.id)&&(p=l.previousElementSibling.id),c)d=p?{type:o.ExpSelectionType.Char,partId:p,startOffset:i?s(p).textContent.length:0}:{partId:f(t,i?"0":u&&u.length>0?""+(u.length-1):"0"),toStart:i,type:o.ExpSelectionType.Part};else if(p)d={type:o.ExpSelectionType.Char,partId:p,startOffset:i?s(p).textContent.length:1};else{var h=f(t,g(t,n)),m=u[g(t,h)];d=m&&a?{type:o.ExpSelectionType.Char,partId:h,startOffset:m.type===r.ExpressionPartType.Function?m.exp.length+1:m.exp.length}:e(t,h,i,a,u)}return d},t.isField=T,t.isFunction=A,t.isString=N,t.isNumber=R,t.isOperator=M,t.getWhetherFunctionHasArgs=function(e){return!!e&&(e.exp===r.ExpressionFunctions.Count?!!e.dataSourceId:!!(e.parts&&e.parts.length>0))},t.getExpressionPart=function e(t,n,o){if(T(t))return{type:r.ExpressionPartType.Field,exp:n?t:"$",dataSourceId:n,jimuFieldName:o};if(A(t)){var i=x(t),a=i.innerExps.map(function(t){return e(t,n)});return{type:r.ExpressionPartType.Function,exp:i.function,parts:a}}if(R(t))return{type:r.ExpressionPartType.Number,exp:t};if(M(t))return{type:r.ExpressionPartType.Operator,exp:t};if(N(t)){var s=w(t);return{type:r.ExpressionPartType.String,exp:s}}return{type:r.ExpressionPartType.Unknown,exp:t}},t.removeOneCharacter=function(e,t){if(t>-1&&t<e.length){var n=e.charAt(t),r=""+e.slice(0,t)+e.slice(t+1);return'"'===n&&(r=r.replace(/\"/g,"")),r}return e},t.getWhetherHaveChildParts=function(e){return e===r.ExpressionPartType.Function},t.getWhetherAddToStart=function(e,t,n){return!!t&&!P(e,n&&n.parts,t)&&!I(e,n&&n.parts,t)},t.removeOperator=function(e){return e?e.replace(/[\+|\-|\*|\/|\,\(\)|\s+]/g,"_"):e}},function(e,t,n){var r=n(77),o=n(84);e.exports=function(e,t){return e&&r(e,o(t))}},function(e,t,n){(function(e){var r=n(10),o=n(178),i=t&&!t.nodeType&&t,a=i&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===i?r.Buffer:void 0,u=(s?s.isBuffer:void 0)||o;e.exports=u}).call(this,n(27)(e))},function(e,t){var n=9007199254740991;e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t,n){(function(e){var r=n(76),o=t&&!t.nodeType&&t,i=o&&"object"==typeof e&&e&&!e.nodeType&&e,a=i&&i.exports===o&&r.process,s=function(){try{var e=i&&i.require&&i.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=s}).call(this,n(27)(e))},function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},function(e,t,n){var r=n(82)(Object.getPrototypeOf,Object);e.exports=r},function(e,t,n){var r=n(29),o=n(191),i=n(192),a=n(193),s=n(194),u=n(195);function l(e){var t=this.__data__=new r(e);this.size=t.size}l.prototype.clear=o,l.prototype.delete=i,l.prototype.get=a,l.prototype.has=s,l.prototype.set=u,e.exports=l},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,n){var r=n(18)(n(10),"Map");e.exports=r},function(e,t,n){var r=n(200),o=n(207),i=n(209),a=n(210),s=n(211);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=o,u.prototype.get=i,u.prototype.has=a,u.prototype.set=s,e.exports=u},function(e,t,n){var r=n(222),o=n(94),i=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),r(a(e),function(t){return i.call(e,t)}))}:o;e.exports=s},function(e,t,n){var r=n(9),o=n(34),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!o(e))||a.test(e)||!i.test(e)||null!=t&&e in Object(t)}},function(e,t,n){var r=n(90);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(1),s=n(2),u=n(328),l=n(4),c=function(e){function t(t){var n=e.call(this,t)||this;return n.handleChange=function(e){var t=n.props,r=t.unit,o=t.onChange;n.setState({show:!1}),e!==r&&o(e)},n.handleClick=function(e){n.props.units.length<=1||(n.setState({show:!n.state.show}),n.props.onClick(e))},n.nls=function(e){return n.props.intl?n.props.intl.formatMessage({id:e,defaultMessage:l.default[e]}):e},n.getStyle=function(){var e=n.props.theme,t=e&&e.colors?e.colors.grays.gray300:"";return a.css(i||(i=o(["\n      .units-list {\n        border-radius: 2px;\n        background: ",";\n        padding: 2px 0;\n        .jimu-builder--markable-item {\n          height: ",";\n        }\n      }\n    "],["\n      .units-list {\n        border-radius: 2px;\n        background: ",";\n        padding: 2px 0;\n        .jimu-builder--markable-item {\n          height: ",";\n        }\n      }\n    "])),t,a.polished.rem(26))},n.state={show:!1},n.domNode=a.React.createRef(),n}return r(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.className,r=t.style,o=t.unit,i=t.units,l=i.length<=1,c=this.state.show;return a.jsx(a.React.Fragment,null,a.jsx(s.Button,{ref:this.domNode,size:"sm",disabled:l,outline:!0,onClick:this.handleClick,color:"secondary",className:a.classNames(n,"jimu-builder--unit-chooser"),style:r,title:l?"":this.nls("changeUnit")},o),!l&&a.jsx(s.Popper,{css:this.getStyle(),className:"popper-for-jimu-builder--unit-chooser shadow",zIndex:1,placement:"bottom-end",open:c,reference:this.domNode,toggle:function(){return e.setState({show:!c})},offset:[0,5]},a.jsx("div",{className:"units-list"},i.map(function(t,n){return a.jsx(u.MarkableItem,{theme:e.props.theme,className:"uint-item",key:n,onChange:e.handleChange,marked:o===t,label:t,value:t})}))))},t.defaultProps={unit:s.UnitTypes.PIXEL,units:[s.UnitTypes.PIXEL],onChange:function(){},onClick:function(){}},t}(a.React.PureComponent);t._UnitChooser=c,t.UnitChooser=a.themeUtils.withTheme(a.injectIntl(c))},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(134),a=n(37);function s(){return window.jimuConfig.isBuilder?o.getAppStore().getState().appStateInBuilder.browserSizeMode:o.getAppStore().getState().browserSizeMode}function u(e){return e.properties.type===o.WidgetType.Layout||!0===e.properties.hasEmbeddedLayout}t.DEFAULT_EMBED_LAYOUT_NAME="DEFAULT",t.getAppConfigAction=function(e){return void 0===e&&(e=void 0),e||(e=function(){var e=o.getAppStore().getState();return window.jimuConfig.isBuilder?e&&e.appStateInBuilder&&e.appStateInBuilder.appConfig:e&&e.appConfig}()),new l(e)};var l=function(){function e(e){this.appConfig=e}return e.prototype.exec=function(){if(window.jimuConfig.isBuilder)return o.getAppStore().dispatch({type:"IN_BUILDER_APPCONFIG_REDOCLEAR"}),o.moduleLoader.getModuleSync("jimu-for-builder").builderAppSync.publishAppConfigChangeToApp(this.appConfig),this;o.getAppStore().dispatch(o.appActions.appConfigChanged(this.appConfig))},e.prototype.editWidgetConfig=function(e,t){return this.appConfig.widgets[e]?(this.appConfig=this.appConfig.setIn(["widgets",e,"config"],t),this):this},e.prototype.createLayoutForSizeModeForHeader=function(e,t){if(!this.appConfig.header)return this;var n=this.createLayoutForSizeModeForOneLayout(e,t,this.appConfig.header.layout);return n&&(this.appConfig=this.appConfig.setIn(["header","layout",e],n.id)),this},e.prototype.removeSizeModeLayoutFromHeader=function(e){return this.appConfig.header.layout?(this.removeLayout(this.appConfig.header.layout[e],!0),this.appConfig=this.appConfig.setIn(["header","layout"],this.appConfig.header.layout.without(e)),this):this},e.prototype.createLayoutForSizeModeForFooter=function(e,t){if(!this.appConfig.footer)return this;var n=this.createLayoutForSizeModeForOneLayout(e,t,this.appConfig.footer.layout);return n&&(this.appConfig=this.appConfig.setIn(["footer","layout",e],n.id)),this},e.prototype.removeSizeModeLayoutFromFooter=function(e){return this.appConfig.footer.layout?(this.removeLayout(this.appConfig.footer.layout[e],!0),this.appConfig=this.appConfig.setIn(["footer","layout"],this.appConfig.footer.layout.without(e)),this):this},e.prototype.createLayoutForSizeModeForPageBody=function(e,t,n){if(!this.appConfig.pages[n])return this;var r=this.appConfig.pages[n],o=this.createLayoutForSizeModeForOneLayout(e,t,r.layout);return o&&(this.appConfig=this.appConfig.setIn(["pages",n,"layout",e],o.id)),this},e.prototype.removeSizeModeLayoutFromPageBody=function(e,t){if(!this.appConfig.pages[e]||!this.appConfig.pages[e].layout)return this;var n=this.appConfig.pages[e];return this.removeLayout(n.layout[t],!0),this.appConfig=this.appConfig.setIn(["pages",e,"layout"],n.layout.without(t)),this},e.prototype.editWidget=function(e){return this.appConfig.widgets[e.id]?(this.appConfig=this.appConfig.setIn(["widgets",e.id],e),this):this},e.prototype.addItemIntoLayout=function(e,t,n){var r=this,i=this.appConfig.layouts[e],a=[].concat(i.order||[]);return n>=0&&n<=a.length?a.splice(n,0,t.id):a.push(t.id),this.updateLayout(e,"order",a),this.appConfig=this.appConfig.setIn(["layouts",e,"content",t.id],t),t.type===o.LayoutItemType.Widget&&this.updateWidgetPropertiesWhenAddWidgetIntoLayout(t.widgetId,e),t.type===o.LayoutItemType.Widget&&this.appConfig.widgets[t.widgetId].layouts?Object.keys(this.appConfig.widgets[t.widgetId].layouts).forEach(function(e){var n=r.createLayoutForSizeModeForOneLayout(s(),r.appConfig.mainSizeMode,r.appConfig.widgets[t.widgetId].layouts[e]);n&&(r.appConfig=r.appConfig.setIn(["widgets",t.widgetId,"layouts",e,s()],n.id))}):t.type===o.LayoutItemType.Section&&this.appConfig.sections[t.sectionId].views&&this.appConfig.sections[t.sectionId].views.forEach(function(e){var t=r.createLayoutForSizeModeForOneLayout(s(),r.appConfig.mainSizeMode,r.appConfig.views[e].layout);t&&(r.appConfig=r.appConfig.setIn(["views",e,"layout",s()],t.id))}),{layoutId:e,layoutItemId:t.id}},e.prototype.moveLayoutItemToAnotherLayout=function(e,t,n,r,s){var u=e.layoutId;o.invariant(u!==t.layoutId,"move item to another layout should have different layoutId");var l=i.layoutUtils.findLayoutItem(this.appConfig,e);if(!l)return e;var c=this.appConfig.layouts[t.layoutId];this.updateWidgetPropertiesBeforeChangingLayout(e,t.layoutId);var p=this.appConfig.layouts;if(l.type===o.LayoutItemType.Widget||l.type===o.LayoutItemType.Section){var f=a.getWidgetIdThatUseTheLayoutId(this.appConfig,e.layoutId);if(f){var d=a.getBrowserSizeModeByLayoutIdAndWidgetId(this.appConfig,e.layoutId,f);a.getLayoutInfosInWidgetByLayoutInfo(this.appConfig,e,f,d).forEach(function(e){p=i.layoutUtils.removeItemFromParent(e,!0,p)}),this.appConfig=this.appConfig.set("layouts",p)}else this.appConfig=this.appConfig.set("layouts",i.layoutUtils.removeItemFromParent(e,!0,p))}else this.appConfig=this.appConfig.set("layouts",i.layoutUtils.removeItemFromParent(e,!0,p));var h=i.layoutUtils.createEmptyLayoutItem(t.layoutId,this.appConfig.layouts),g=h.layoutInfo;this.appConfig=this.appConfig.set("layouts",h.layouts),this.updateLayoutItem(g,"type",l.type).updateLayoutItem(g,"setting",{style:{background:o.lodash.getValue(l,"setting.style.background"),border:o.lodash.getValue(l,"setting.style.border"),borderRadius:o.lodash.getValue(l,"setting.style.borderRadius"),boxShadow:o.lodash.getValue(l,"setting.style.boxShadow")}}).updateLayoutItem(g,"bbox",i.replaceBoundingBox(null,r,n));var m=[].concat(c.order||[]);return s>=0&&s<=m.length?m.splice(s,0,g.layoutItemId):m.push(g.layoutItemId),this.updateLayout(t.layoutId,"order",m),l.type===o.LayoutItemType.Widget?this.updateLayoutItem(g,"widgetId",l.widgetId):l.type===o.LayoutItemType.Section&&this.updateLayoutItem(g,"sectionId",l.sectionId),g},e.prototype.editSubWidgetsInheritProperty=function(e,t,n,r,i){var a=this,s=this.appConfig.widgets[e];if(!s)return this;var u=[];return s.layouts&&Object.keys(s.layouts).forEach(function(l){var c=a.appConfig.layouts[o.utils.findLayoutId(s.layouts[l],o.getAppStore().getState().browserSizeMode,a.appConfig.mainSizeMode)];c.content&&Object.keys(c.content).forEach(function(s){var l=c.content[s];if(l.type===o.LayoutItemType.Widget&&l.widgetId){var p=l.widgetId;if(u.indexOf(p)>-1)return;u.push(p);var f=a.appConfig.widgets[p];f=a.addInheritedProperty(f,e,t,n,r,i),a.appConfig=a.appConfig.setIn(["widgets",f.id],f)}})}),this},e.prototype.editSubWidgetsProperty=function(e,t,n){var r=this,i=this.appConfig.widgets[e];if(!i)return this;var a=[];return i.layouts&&Object.keys(i.layouts).forEach(function(e){var s=r.appConfig.layouts[o.utils.findLayoutId(i.layouts[e],o.getAppStore().getState().browserSizeMode,r.appConfig.mainSizeMode)];s.content&&Object.keys(s.content).forEach(function(e){var i=s.content[e];if(i.type===o.LayoutItemType.Widget&&i.widgetId){var u=i.widgetId;if(a.indexOf(u)>-1)return;if(a.push(u),"useDataSourcesEnabled"===t){var l=r.appConfig.widgets[u];l&&((!l.useDataSources||l.useDataSources.length<1)&&!n||l.useDataSources&&l.useDataSources.length>0&&n)&&r.editWidgetProperty(u,t,n)}else r.editWidgetProperty(u,t,n)}})}),this},e.prototype.setLayoutItemToPending=function(e,t){return i.layoutUtils.findLayoutItem(this.appConfig,e)?(this.appConfig=this.appConfig.setIn(["layouts",e.layoutId,"content",e.layoutItemId,"isPending"],t),this):this},e.prototype.removeLayoutItem=function(e,t,n){void 0===n&&(n=!1);var r=i.layoutUtils.findLayoutItem(this.appConfig,e);if(!r)return this;t&&(r.type===o.LayoutItemType.Widget?this.removeWidget(r.widgetId,n):r.type===o.LayoutItemType.Section&&this.removeSection(r.sectionId,n));var a=i.layoutUtils.removeItemFromParent(e,!0,this.appConfig.layouts);return this.appConfig=this.appConfig.set("layouts",a),this.clearEmptyRowInFlowLayout(e)},e.prototype.removeWidget=function(e,t){var n,r=this;if(!this.appConfig.widgets||!this.appConfig.widgets[e])return this;var i=a.getLayoutItemsHoldWidgetOrSection(this.appConfig,o.LayoutItemType.Widget,e),u=a.getLayoutItemsHoldWidgetOrSection(this.appConfig,o.LayoutItemType.Widget,e,s());(t?i:u).forEach(function(e){r.removeLayoutItem(e,!1)});var l=this.appConfig.widgets[e];if(!t&&i.length>u.length)return l.layouts&&Object.keys(l.layouts).forEach(function(t){var n=l.layouts[t];r.removeLayout(n[s()],!0),r.appConfig=r.appConfig.setIn(["widgets",e,"layouts",t],l.layouts[t].without(s()))}),this;l.outputDataSources&&(this.appConfig=this.appConfig.set("dataSources",(n=this.appConfig.dataSources).without.apply(n,l.outputDataSources))),this.appConfig=this.removeWidgetMessageAndAction(this.appConfig,e),l.layouts&&Object.keys(l.layouts).forEach(function(e){var t=l.layouts[e];Object.keys(t).forEach(function(e){r.removeLayout(t[e],!0)})}),this.appConfig=this.appConfig.set("widgets",this.appConfig.widgets.without(e));var c=l.uri;return this.appConfig.widgetsManifest&&this.appConfig.widgetsManifest[c]&&!Object.keys(this.appConfig.widgets).find(function(e){return r.appConfig.widgets[e].uri===c})&&(this.appConfig=this.appConfig.set("widgetsManifest",this.appConfig.widgetsManifest.without(c))),this},e.prototype.removeView=function(e,t,n){if(!this.appConfig.views||!this.appConfig.views[e])return this;if(!this.appConfig.sections||!this.appConfig.sections[t]||1===this.appConfig.sections[t].views.length||this.appConfig.sections[t].views.indexOf(e)<0)return this;var r=this.appConfig.sections[t].views.flatMap(function(t){return t===e?[]:[t]});return this.appConfig=this.appConfig.setIn(["sections",t,"views"],r),this.removeContainerContent(o.ContainerType.View,e,n),this.appConfig=this.appConfig.set("views",this.appConfig.views.without(e)),this},e.prototype.removeSection=function(e,t){var n=this;if(!this.appConfig.sections||!this.appConfig.sections[e])return this;var r=a.getLayoutItemsHoldWidgetOrSection(this.appConfig,o.LayoutItemType.Section,e),i=a.getLayoutItemsHoldWidgetOrSection(this.appConfig,o.LayoutItemType.Section,e,s());return(t?r:i).forEach(function(e){n.removeLayoutItem(e,!1)}),!t&&r.length>i.length?(this.removeSectionContent(e,t),this):(this.removeSectionContent(e,!0),this.appConfig=this.appConfig.set("sections",this.appConfig.sections.without(e)),this)},e.prototype.removeLayout=function(e,t){var n=this;return this.appConfig.layouts[e]?(a.getLayoutItemIds(this.appConfig,e,!0).forEach(function(r){n.removeLayoutItem({layoutId:e,layoutItemId:r},t)}),this.appConfig=this.appConfig.set("layouts",this.appConfig.layouts.without(e)),this):this},e.prototype.resetLayout=function(e,t,n){var r=this;if(void 0===n&&(n=!0),!this.appConfig.layouts[e])return this;if(t){var o=a.getWidgetIdThatUseTheLayoutId(this.appConfig,e);a.getLayoutItemIds(this.appConfig,e).forEach(function(n){var i={layoutId:e,layoutItemId:n};o&&(a.getLayoutItemsInWidgetByLayoutInfo(r.appConfig,i,o,s()).length>1&&(t=!1));r.removeLayoutItem({layoutId:e,layoutItemId:n},t)})}return this},e.prototype.duplicateLayoutItem=function(e,t,n,r){return this.doDuplicateLayoutItem(e,t,n,r),this},e.prototype.duplicateLayoutToLayout=function(e,t,n){var r=this,o=this.appConfig.layouts[e];return o?(o.content&&Object.keys(o.content).forEach(function(e){var i=o.content[e];r.duplicateLayoutItem(o.id,t,i.id,n)}),this):this},e.prototype.doDuplicateLayoutItem=function(e,t,n,r){if(!this.appConfig.layouts||!this.appConfig.layouts[e])return null;if(!this.appConfig.layouts||!this.appConfig.layouts[t])return null;var s=i.layoutUtils.findLayoutItem(this.appConfig,{layoutId:e,layoutItemId:n}),l=i.layoutUtils.getMaximumLayoutItemId(this.appConfig.layouts[t])+1+"",c=s.set("id",l);if(this.appConfig=this.appConfig.setIn(["layouts",t,"content",c.id],c),this.updateLayout(t,"order",[].concat(this.appConfig.layouts[t].order||[]).concat(l)),!r)return c;if(s.type===o.LayoutItemType.Widget&&s.widgetId){var p=s.widgetId,f=this.appConfig.widgets[p];f=f.set("id",a.getUniqueId(this.appConfig,"widget")),this.appConfig=this.appConfig.setIn(["widgets",f.id],f),u(f.manifest)&&(f=this.doDuplicateEmbedWidgetContent(f)),f=this.getDuplicateLabel("widget",f),this.updateLayoutItem({layoutId:t,layoutItemId:c.id},"widgetId",f.id),this.appConfig=this.appConfig.setIn(["widgets",f.id],f)}else if(s.type===o.LayoutItemType.Section&&s.sectionId){var d=s.sectionId,h=this.appConfig.sections[d];h=h.set("id",a.getUniqueId(this.appConfig,"section")),h=this.getDuplicateLabel("section",h),this.updateLayoutItem({layoutId:t,layoutItemId:c.id},"sectionId",h.id),this.appConfig=this.appConfig.setIn(["sections",h.id],h),this.doDuplicateSectionViews(h)}return i.layoutUtils.findLayoutItem(this.appConfig,{layoutId:t,layoutItemId:c.id})},e.prototype.editWidgetProperty=function(e,t,n){if(!this.appConfig.widgets||!this.appConfig.widgets[e])return this;var r=this.appConfig.widgets[e];return r.getIn([t])===n?this:this.editWidget(r.set(t,n))},e.prototype.editPage=function(e){return this.appConfig=this.appConfig.setIn(["pages",e.id],e),this},e.prototype.addPage=function(e,t,n,r,o){var i,a=this;return this.appConfig.pages&&this.appConfig.pages[e.id]?this:(this.appConfig=this.appConfig.setIn(["pages",e.id],e),this.appConfig=this.appConfig.set("pageStructure",this.appConfig.pageStructure.concat([(i={},i[e.id]=[],i)])),t&&t.forEach(function(e){a.appConfig=a.appConfig.setIn(["layouts",e.id],e)}),n&&n.forEach(function(e){a.appConfig=a.appConfig.setIn(["widgets",e.id],e)}),r&&r.forEach(function(e){a.appConfig=a.appConfig.setIn(["sections",e.id],e)}),o&&o.forEach(function(e){a.appConfig=a.appConfig.setIn(["views",e.id],e)}),this)},e.prototype.duplicateView=function(e,t){var n;if(!this.appConfig.views||!this.appConfig.views[e])return this;var r=this.appConfig.views[e].set("id",a.getUniqueId(this.appConfig,"view"));this.appConfig=this.appConfig.setIn(["views",r.id],r),r=(r=this.getDuplicateLabel("view",r)).set("layout",this.doDuplicateContainerContent(o.ContainerType.View,e)),this.appConfig=this.appConfig.setIn(["views",r.id],r);var i=this.appConfig.sections[t];return i=i.set("views",(n=i.views).concat.apply(n,[r.id])),this.appConfig=this.appConfig.setIn(["sections",i.id],i),this},e.prototype.duplicatePage=function(e,t){var n,r=this;if(!this.appConfig.pages||!this.appConfig.pages[e])return this;var i=this.appConfig.pages[e].set("id",t);(i=this.getDuplicateLabel("page",i)).isDefault&&(i=i.set("isDefault",!1));var s=this.appConfig.pageStructure.find(function(t){return!!t[e]});i.type!==o.PageType.Folder&&(i=i.set("layout",this.doDuplicateContainerContent(o.ContainerType.Page,e))),this.appConfig=this.appConfig.setIn(["pages",i.id],i);var u=[];if(s&&s[e].forEach(function(e){var t=r.appConfig.pages[e].set("id",a.getUniqueId(r.appConfig,"page"));t=t.set("layout",r.doDuplicateContainerContent(o.ContainerType.Page,e)),r.appConfig=r.appConfig.setIn(["pages",t.id],t),u.push(t.id)}),s){if(this.appConfig=this.appConfig.set("pageStructure",this.appConfig.pageStructure.concat([(n={},n[i.id]=[],n)])),u.length>0){var l=i.id,c=this.appConfig.pageStructure.length-1;c<0&&(c=0),this.appConfig=this.appConfig.setIn(["pageStructure",c+"",l],u)}}else this.appConfig.pageStructure.some(function(t,n){var o=Object.keys(t).find(function(n){return t[n].indexOf(e)>-1});if(o)return r.appConfig=r.appConfig.setIn(["pageStructure",n+"",o],r.appConfig.pageStructure[n][o].concat(i.id)),!0});return this},e.prototype.editPageProperty=function(e,t,n){if(!this.appConfig.pages||!this.appConfig.pages[e])return this;var r=this.appConfig.pages[e];return r.getIn([t])===n?this:this.editPage(r.setIn([t],n))},e.prototype.movePageIntoPage=function(e,t){return this.appConfig.pages&&this.appConfig.pages[e]&&this.appConfig.pages[t]?e===t?(console.error("SubPage is same to ParentPage."),this):a.isFirstLevelPage(this.appConfig,t)?a.isPageHasSubPage(this.appConfig,e)?(console.error("SubPage has sub page(s)."),this):(this.removePageFromPageStructure(e),this.movePageIntoPageForPageStructure(e,t),this):(console.error("ParentPage is not on the first aspect."),this):this},e.prototype.orderPageToPage=function(e,t,n){var r=this;if(!this.appConfig.pages||!this.appConfig.pages[t]||!this.appConfig.pages[e])return this;if(t===e)return console.error("pageId is same to topPageId."),this;var i=!a.isFirstLevelPage(this.appConfig,t);if((a.isPageHasSubPage(this.appConfig,e)||this.appConfig.pages[e].type===o.PageType.Folder)&&i)return console.error("page structure allow two aspects only"),this;var s=this.appConfig.pageStructure.find(function(t){return!!t[e]});return this.removePageFromPageStructure(e),i?this.appConfig.pageStructure.some(function(o,i){var a=Object.keys(o)[0],s=o[a].indexOf(t);if(s>-1){var u=r.appConfig.pageStructure[i][a];return"bottom"===n&&(s+=1),u=u.slice(0,s).concat([e]).concat(u.slice(s)),r.appConfig=r.appConfig.setIn(["pageStructure",i+"",a],u),!0}}):this.appConfig.pageStructure.some(function(o,i){var a;if(Object.keys(o)[0]===t){"bottom"===n&&(i+=1);var u=r.appConfig.pageStructure.slice(0,i).concat([s||(a={},a[e]=[],a)]).concat(r.appConfig.pageStructure.slice(i));return r.appConfig=r.appConfig.set("pageStructure",u),!0}}),this},e.prototype.removePage=function(e){var t=this;if(!this.appConfig.pages||!this.appConfig.pages[e])return this;var n=this.appConfig.pages[e];n.type!==o.PageType.Folder&&n.type!==o.PageType.Link&&this.removeContainerContent(o.ContainerType.Page,e,!0);var r=this.appConfig.pageStructure,i=r&&r.find(function(t){return!!t[e]});return i&&i[e].length>0&&i[e].forEach(function(e){t.removePage(e)}),this.removePageFromPageStructure(e),this.appConfig=this.appConfig.set("pages",this.appConfig.pages.without(e)),this},e.prototype.setHomePage=function(e){return this.editPageProperty(e,"isDefault",!0)},e.prototype.setViewportSize=function(e,t){return this.appConfig=this.appConfig.setIn(["forBuilderAttributes","viewPortSize",e],t),this},e.prototype.replaceHomePage=function(e){var t=this;return Object.keys(this.appConfig.pages).some(function(e,n){var r=t.appConfig.pages[e];if(r.isDefault)return t.editPageProperty(r.id,"isDefault",!1),!0}),this.editPageProperty(e,"isDefault",!0)},e.prototype.editDialog=function(e){return this.appConfig=this.appConfig.setIn(["dialogs",e.id],e),this},e.prototype.addDialog=function(e,t){var n=this;return this.appConfig.pages&&this.appConfig.pages[e.id]?this:(this.appConfig=this.appConfig.setIn(["dialogs",e.id],e),t&&t.forEach(function(e){return n.addLayout(e)}),this)},e.prototype.removeDialog=function(e){return this.appConfig.dialogs&&this.appConfig.dialogs[e]?(this.removeContainerContent(o.ContainerType.Dialog,e,!0),this.appConfig=this.appConfig.set("dialogs",this.appConfig.dialogs.without(e)),this):this},e.prototype.editSection=function(e){return this.appConfig=this.appConfig.setIn(["sections",e.id],e),this},e.prototype.editSectionProperty=function(e,t,n){if(!this.appConfig.sections||!this.appConfig.sections[e])return this;var r=this.appConfig.sections[e];return r.getIn([t])===n?this:this.editSection(r.set(t,n))},e.prototype.editView=function(e){return this.appConfig=this.appConfig.setIn(["views",e.id],e),this},e.prototype.addView=function(e,t,n){var r,i=this;return this.appConfig.views&&this.appConfig.views[e.id]?this:(this.appConfig.sections&&this.appConfig.sections[t]&&this.appConfig.sections[t].views?(r=this.appConfig.sections[t].views.asMutable()).push(e.id):r=[e.id],this.appConfig=this.appConfig.setIn(["views",e.id],e).setIn(["sections",t,"views"],o.Immutable(r)),n&&n.forEach(function(e){return i.addLayout(e)}),this)},e.prototype.addMessage=function(e){return this.appConfig.messages&&this.appConfig.messages.length?this.appConfig=this.appConfig.setIn(["messages",this.appConfig.messages.length],e):this.appConfig=this.appConfig.setIn(["messages"],[e]),this},e.prototype.editMessage=function(e){if(this.appConfig.messages&&this.appConfig.messages.length){for(var t=null,n=0;n<this.appConfig.messages.length;n++)if(this.appConfig.messages[n].widgetId===e.widgetId&&this.appConfig.messages[n].messageType===e.messageType){t=n;break}null!==t&&(this.appConfig=this.appConfig.setIn(["messages",t],e))}return this},e.prototype.removeMessage=function(e){var t=null;if(!this.appConfig.messages.length)return this;for(var n=0;n<this.appConfig.messages.length;n++)if(this.appConfig.messages[n].widgetId===e.widgetId&&this.appConfig.messages[n].messageType===e.messageType){t=n;break}if(null!==t){var r=Object.assign([],this.appConfig.messages);r.splice(t,1),this.appConfig=this.appConfig.set("messages",o.Immutable(r))}return this},e.prototype.addDataSource=function(e){return this.appConfig.dataSources&&this.appConfig.dataSources[e.id]?this:(this.appConfig=this.appConfig.setIn(["dataSources",e.id],e),this)},e.prototype.addDataSources=function(e){var t=this;return e.forEach(function(e){t.appConfig.dataSources&&t.appConfig.dataSources[e.id]||(t.appConfig=t.appConfig.setIn(["dataSources",e.id],e))}),this},e.prototype.removeDataSource=function(e){return this.appConfig.dataSources&&this.appConfig.dataSources[e]?(this.appConfig=this.appConfig.set("dataSources",this.appConfig.dataSources.without(e)),this):this},e.prototype.editDataSource=function(e){return this.appConfig=this.appConfig.setIn(["dataSources",e.id],e),this},e.prototype.editAttributes=function(e){return this.appConfig=this.appConfig.setIn(["attributes"],e),this},e.prototype.editTheme=function(e,t){return this.appConfig=this.appConfig.set("theme",e),t&&(this.appConfig=this.appConfig.set("themeManifest",t.without("author","copyright","license","description"))),this},e.prototype.editCustomTheme=function(e){return this.appConfig=this.appConfig.set("customTheme",e),this},e.prototype.editHeader=function(e,t){var n=this;return this.appConfig=this.appConfig.set("header",e),t&&t.forEach(function(e){return n.addLayout(e)}),this},e.prototype.editFooter=function(e,t){var n=this;return this.appConfig=this.appConfig.set("footer",e),t&&t.forEach(function(e){return n.addLayout(e)}),this},e.prototype.editLayoutSetting=function(e,t){return t=(this.appConfig.layouts[e.layoutId].setting||o.Immutable({})).merge(t),this.updateLayout(e.layoutId,"setting",t)},e.prototype.editLayoutType=function(e,t){return this.updateLayout(e.layoutId,"type",t)},e.prototype.editLayoutItemSetting=function(e,t){var n=i.layoutUtils.findLayoutItem(this.appConfig,e);return n?(t=(n.setting||o.Immutable({})).merge(t),this.updateLayoutItem(e,"setting",t)):this},e.prototype.editLayoutItemBBox=function(e,t){return this.updateLayoutItem(e,"bbox",t)},e.prototype.editLayoutItemIndex=function(e,t,n){var r=e.layoutId,o=this.appConfig.layouts[r].order;return!o||n<0&&n>o.length?this:(this.adjustIndexOfLayoutItem(e,t,n),this)},e.prototype.editLayoutContent=function(e,t){return this.appConfig=this.appConfig.setIn(["layouts",e.layoutId,e.layoutItemId,"content"],t),this},e.prototype.editLayoutBBox=function(e,t){return this.appConfig=this.appConfig.setIn(["layouts",e.layoutId,e.layoutItemId,"bbox"],t),this},e.prototype.editLayoutOrder=function(e,t){return this.updateLayout(e.layoutId,"order",t)},e.prototype.addLayout=function(e){return this.appConfig.layouts&&this.appConfig.layouts[e.id]?this:(this.appConfig=this.appConfig.setIn(["layouts",e.id],e),this)},e.prototype.duplicateLayout=function(e,t){var n=this.doDuplicateLayout(e,t);return this.appConfig=this.appConfig.setIn(["layouts",n.id],n),this},e.prototype.duplicateWidget=function(e,t){var n=this;if(!(e&&this.appConfig.widgets[e]&&t&&this.appConfig.layouts[t]))return null;var r,s=this.appConfig.widgets[e],l=this.appConfig.layouts[t];if(s=s.set("id",a.getUniqueId(this.appConfig,"widget")),u((s=this.getDuplicateLabel("widget",s)).manifest)&&(this.appConfig=this.appConfig.setIn(["widgets",s.id],s),s=this.doDuplicateEmbedWidgetContent(s)),this.appConfig=this.appConfig.setIn(["widgets",s.id],s),a.getLayoutItemIds(this.appConfig,t,!0).some(function(a){var s=i.layoutUtils.findLayoutItem(n.appConfig,{layoutId:t,layoutItemId:a});if(s.type===o.LayoutItemType.Widget&&s.widgetId===e)return r=s,!0}),!r)return null;var c=r.set("widgetId",s.id);c.bbox;var p=i.layoutUtils.getMaximumLayoutItemId(l)+1+"",f=[].concat(l.order||[]).concat(p);return c=c.set("id",p),l=l.setIn(["content",p],c).set("order",f),this.appConfig=this.appConfig.setIn(["layouts",l.id],l),{layoutId:l.id,layoutItemId:c.id}},e.prototype.duplicateSection=function(e,t){var n=a.getWidgetOrSectionLayoutItem(this.appConfig.layouts[t],e,o.LayoutItemType.Section);if(n)return{layoutId:t,layoutItemId:this.doDuplicateLayoutItem(t,t,n.id,!0).id}},e.prototype.updateWidgetPropertiesWhenAddWidgetIntoLayout=function(e,t){if(!this.appConfig.widgets[e])return this;var n=this.appConfig.widgets[e],r=a.getWidgetIdThatUseTheLayoutId(this.appConfig,t);if(r){var o=this.appConfig.widgets[r];n=this.processPropertiesWhenAddIntoParentWidget(n,o),this.appConfig=this.appConfig.setIn(["widgets",n.id],n)}return this},e.prototype.updateWidgetPropertiesBeforeChangingLayout=function(e,t){var n=e.layoutId;o.invariant(n!==t,"move item to another layout should have different layoutId");var r=this.appConfig.layouts[n].content[e.layoutItemId];if(r){if(r.type===o.LayoutItemType.Widget){var i=this.appConfig.widgets[r.widgetId];a.getWidgetIdThatUseTheLayoutId(this.appConfig,e.layoutId)&&(i=this.removeInheritedProperty(i,"useDataSources"),this.appConfig=this.appConfig.setIn(["widgets",i.id],i));var s=a.getWidgetIdThatUseTheLayoutId(this.appConfig,t);if(s){var u=this.appConfig.widgets[s];i=this.processPropertiesWhenAddIntoParentWidget(i,u),this.appConfig=this.appConfig.setIn(["widgets",i.id],i)}}return this}},e.prototype.removeInheritedProperty=function(e,t){var n=e[t];return n?(Array.isArray(n)?n.forEach(function(e,t){n=n.set(t,e.set("isInherited",!1))}):n.isInherited&&(n=n.set("isInherited",!1)),e=e.set(t,n)):e},e.prototype.addInheritedProperty=function(e,t,n,o,i,a){if(!o)return e;var s=e[n];if(Array.isArray(o)){s||(s=[]);var u=!1;s.length>0?(a&&a.length>0&&a.forEach(function(e){s.some(function(t,n){if(t.isInherited&&e[i]===t[i])return o.find(function(t){return e[i]===t[i]})||(s=s.slice(0,n).concat(s.slice(n+1)),u=!0),!0})}),o.forEach(function(e){var n=!1;s.some(function(r,o){if(e[i]===r[i])return s=s.set(o,r.set("isInherited",!0).set("inheritFromWidgetId",t)),n=!0,!0}),!n&&u&&(s=s.concat(r({},e,{isInherited:!0,inheritFromWidgetId:t})))})):s=s.concat(o.map(function(e){return r({},e,{isInherited:!0,inheritFromWidgetId:t})}))}else{if("object"!=typeof o)return e;s=r({},o,{isInherited:!0,inheritFromWidgetId:t})}var l=e[n];return(e=e.set(n,s)).layouts&&this.editSubWidgetsInheritProperty(e.id,n,s,i,l),e},e.prototype.processPropertiesWhenAddIntoParentWidget=function(e,t){return e=this.addInheritedProperty(e,t.id,"useDataSources",t.useDataSources,"dataSourceId"),t.useDataSources&&t.useDataSources.length>0&&(e=e.set("useDataSourcesEnabled",!0)),e},e.prototype.doDuplicateLayout=function(e,t){var n=this,r=this.appConfig.layouts[e];if(!r)return null;var o=r.set("id",a.getUniqueId(this.appConfig,"layout"));return this.appConfig=this.appConfig.setIn(["layouts",o.id],o.without("content","order")),r.content&&Object.keys(r.content).forEach(function(i){r.content[i].isPending||n.doDuplicateLayoutItem(e,o.id,i,t)}),this.appConfig.layouts[o.id]},e.prototype.getDuplicateLabel=function(e,t){return t=t.set("label",a.getUniqueLabel(this.appConfig,e,t.label))},e.prototype.createSection=function(){var e=this.createEmptyLayoutJson(this.appConfig).set("type",o.LayoutType.FlowLayout);this.appConfig=this.appConfig.setIn(["layouts",e.id],e);var t=o.Immutable({id:a.getUniqueId(this.appConfig,"view"),label:a.getUniqueLabel(this.appConfig,"view","view")}).setIn(["layout",o.getAppStore().getState().browserSizeMode],e.id);this.appConfig=this.appConfig.setIn(["views",t.id],t);var n=a.getUniqueId(this.appConfig,"section"),r=a.getUniqueLabel(this.appConfig,"section","Section"),i=o.Immutable({id:n,label:r,views:[t.id]});return this.appConfig=this.appConfig.setIn(["sections",i.id],i),n},e.prototype.createWidget=function(e){return this.appConfig=this.appConfig.setIn(["widgets",e.id],e),this.appConfig.widgetsManifest||(this.appConfig=this.appConfig.set("widgetsManifest",{})),this.appConfig=this.appConfig.setIn(["widgetsManifest",e.uri],e._originManifest.without("author","copyright","license","description")),u(e.manifest)&&(this.createLayoutsForWidget(e,o.getAppStore().getState().browserSizeMode),e=this.appConfig.widgets[e.id]),this.appConfig=this.appConfig.setIn(["widgets",e.id],e),this},e.prototype.clearEmptyRowInFlowLayout=function(e){var t=this,n=this.appConfig.layouts[e.layoutId];if(o.lodash.getValue(n,"order.length",0)>0)return this;var r=a.getWidgetIdThatUseTheLayoutId(this.appConfig,e.layoutId);if(r){var i,s=this.appConfig.widgets[r];if("row"===o.lodash.getValue(s,"manifest.name"))Object.keys(this.appConfig.pages).some(function(e){if(t.appConfig.pages[e].type===o.PageType.Normal){var n=t.appConfig.pages[e];return Object.keys(n.layout).some(function(e){var s=n.layout[e];if(o.lodash.getValue(t.appConfig,"layouts."+s+".type")===o.LayoutType.FlowLayout){var u=a.getWidgetOrSectionLayoutItem(t.appConfig.layouts[s],r,o.LayoutItemType.Widget);if(u)return i={layoutId:s,layoutItemId:u.id},!0}})}}),i||Object.keys(this.appConfig.views).some(function(e){var n=t.appConfig.views[e];return Object.keys(n.layout).some(function(e){var s=n.layout[e];if(o.lodash.getValue(t.appConfig,"layouts."+s+".type")===o.LayoutType.FlowLayout){var u=a.getWidgetOrSectionLayoutItem(t.appConfig.layouts[s],r,o.LayoutItemType.Widget);if(u)return i={layoutId:s,layoutItemId:u.id},!0}})}),i&&this.removeLayoutItem(i,!1)}return this},e.prototype.adjustIndexOfLayoutItem=function(e,t,n){var r=e.layoutId;o.invariant(r===t.layoutId,"adjust index should happened in the same layout");var i=this.appConfig.layouts[r],a=[].concat(i.order||[]);return a[a.indexOf(e.layoutItemId)]=null,a.splice(n,0,e.layoutItemId),a=a.filter(function(e){return null!==e}),this.appConfig=this.appConfig.setIn(["layouts",r,"order"],a),this},e.prototype.createLayoutsForWidget=function(e,n){var r=this;return(e.manifest.properties.layouts||[{name:t.DEFAULT_EMBED_LAYOUT_NAME,label:t.DEFAULT_EMBED_LAYOUT_NAME}]).forEach(function(t){var o=r.createEmptyLayoutJson(r.appConfig);t.type&&(o=o.set("type",t.type)),r.appConfig=r.appConfig.setIn(["layouts",o.id],o).setIn(["widgets",e.id,"layouts",t.name,n],o.id)}),this},e.prototype.removePageFromPageStructure=function(e){var t=this;return this.appConfig.pageStructure?(this.appConfig.pageStructure.find(function(t){return!!t[e]})?this.appConfig=this.appConfig.set("pageStructure",this.appConfig.pageStructure.flatMap(function(t){return t[e]?[]:[t]})):this.appConfig.pageStructure.some(function(n,r){var o=Object.keys(n).find(function(t){return n[t].indexOf(e)>-1});if(o)return t.appConfig=t.appConfig.setIn(["pageStructure",r+"",o],n[o].flatMap(function(t){return t===e?[]:[t]})),!0}),this):this},e.prototype.doDuplicateContainerContent=function(e,t){var n=this,r=this.getContainerJson(e,t);if(!r.layout)return null;var o=r;return Object.keys(r.layout).forEach(function(e){var t=n.doDuplicateLayout(r.layout[e],!0);n.appConfig=n.appConfig.setIn(["layouts",t.id],t),o=o.setIn(["layout",e],t.id)}),o.layout},e.prototype.doDuplicateEmbedWidgetContent=function(e){var t=this,n=e;return Object.keys(e.layouts).forEach(function(r){var o=e.layouts[r];Object.keys(o).forEach(function(o){var i=t.doDuplicateLayout(e.layouts[r][o],!0);n=n.setIn(["layouts",r,o],i.id),t.appConfig=t.appConfig.setIn(["layouts",i.id],i)})}),n},e.prototype.doDuplicateSectionViews=function(e){var t=this;e.views.forEach(function(n,r){var i=t.appConfig.views[n];i=i.set("id",a.getUniqueId(t.appConfig,"view")),t.appConfig=t.appConfig.setIn(["views",i.id],i),i=t.getDuplicateLabel("view",i),e=e.setIn(["views",r+""],i.id),i=i.set("layout",t.doDuplicateContainerContent(o.ContainerType.View,i.id)),t.appConfig=t.appConfig.setIn(["views",i.id],i)}),this.appConfig=this.appConfig.setIn(["sections",e.id],e)},e.prototype.createEmptyLayoutJson=function(e){var t=a.getUniqueId(e,"layout");return o.Immutable({id:t})},e.prototype.createLayoutForSizeModeForOneLayout=function(e,t,n){var r=this;if(n&&n[t]&&!n[e]){var i=this.doDuplicateLayout(n[t],!1);i=this.transformLayout(i,t,e);var s=a.getWidgetsOrSectionsInLayout(this.appConfig.layouts[i.id],o.LayoutItemType.Widget),u=a.getWidgetsOrSectionsInLayout(this.appConfig.layouts[i.id],o.LayoutItemType.Section);return s.filter(function(e){return r.appConfig.widgets&&r.appConfig.widgets[e]&&r.appConfig.widgets[e].manifest.properties.hasEmbeddedLayout}).forEach(function(n){Object.keys(r.appConfig.widgets[n].layouts).forEach(function(o){var i=r.createLayoutForSizeModeForOneLayout(e,t,r.appConfig.widgets[n].layouts[o]);i&&(r.appConfig=r.appConfig.setIn(["widgets",n,"layouts",o,e],i.id))})}),s.filter(function(e){return r.appConfig.widgets&&r.appConfig.widgets[e]&&r.appConfig.widgets[e].manifest.properties.type===o.WidgetType.Layout}).forEach(function(n){var s=a.getUniqueId(r.appConfig,"widget"),u=r.appConfig.widgets[n].set("id",s);r.appConfig=r.appConfig.setIn(["widgets",s],u);var l=a.getWidgetOrSectionLayoutItem(i,n,o.LayoutItemType.Widget);l=l.set("widgetId",s),i=i.setIn(["content",l.id],l),Object.keys(u.layouts).forEach(function(n){var o=r.createLayoutForSizeModeForOneLayout(e,t,u.layouts[n]);o&&(u=u.setIn(["layouts",n],u.layouts[n].without(t).set(e,o.id)))}),r.appConfig=r.appConfig.setIn(["widgets",s],u)}),u.forEach(function(n){r.appConfig.sections[n]&&r.appConfig.sections[n].views.forEach(function(n){if(r.appConfig.views[n]&&r.appConfig.views[n].layout[t]){var o=r.createLayoutForSizeModeForOneLayout(e,t,r.appConfig.views[n].layout);o&&(r.appConfig=r.appConfig.setIn(["views",n,"layout",e],o.id))}})}),this.appConfig=this.appConfig.setIn(["layouts",i.id],i),i}},e.prototype.movePageIntoPageForPageStructure=function(e,t){var n=this;return this.appConfig.pageStructure?(this.appConfig.pageStructure.some(function(r,o){var i=Object.keys(r).find(function(e){return e===t});if(i)return n.appConfig=n.appConfig.setIn(["pageStructure",o+"",i],n.appConfig.pageStructure[o][i].concat([e])),!0}),this):this},e.prototype.removeContainerContent=function(e,t,n){var r=this,i=this.getContainerJson(e,t).layout;return Object.keys(i).forEach(function(u){if(n||u===s()){var l=i[u];a.getAllWidgetsOrSectionsInLayout(r.appConfig,l,o.LayoutItemType.Widget,u).forEach(function(e){r.removeWidget(e,n)}),a.getAllWidgetsOrSectionsInLayout(r.appConfig,l,o.LayoutItemType.Section,u).forEach(function(e){r.removeSection(e,n)}),r.appConfig=r.appConfig.set("layouts",r.appConfig.layouts.without(l)),e===o.ContainerType.Header?r.appConfig=r.appConfig.setIn(["header","layout"],r.appConfig.header.layout.without(u)):e===o.ContainerType.Footer?r.appConfig=r.appConfig.setIn(["footer","layout"],r.appConfig.footer.layout.without(u)):r.appConfig=r.appConfig.setIn([e,t,"layout"],r.appConfig[e][t].layout.without(u))}}),this},e.prototype.getContainerJson=function(e,t){return e===o.ContainerType.Footer||e===o.ContainerType.Header?this.appConfig[e]:this.appConfig[e][t]},e.prototype.removeSectionContent=function(e,t){var n=this;return this.appConfig.sections[e].views&&this.appConfig.sections[e].views.forEach(function(e){n.removeContainerContent(o.ContainerType.View,e,t),0===Object.keys(n.appConfig.views[e].layout).length&&(n.appConfig=n.appConfig.set("views",n.appConfig.views.without(e)))}),this},e.prototype.updateLayout=function(e,t,n){return this.appConfig.layouts[e]&&(this.appConfig=this.appConfig.setIn(["layouts",e,t],n)),this},e.prototype.updateLayoutItem=function(e,t,n){if(i.layoutUtils.findLayoutItem(this.appConfig,e)){var r=e.layoutId,o=e.layoutItemId;this.appConfig=this.appConfig.setIn(["layouts",r,"content",o,t],n)}return this},e.prototype.transformLayout=function(e,t,n){var r=(window.jimuConfig.isBuilder?window._appWindow&&window._appWindow._extensionManager:o.ExtensionManager.getInstance()).getExtensions(o.extensionSpec.ExtensionPoints.LayoutTransformer);if(r.length>0){var i=r.find(function(t){return t.layoutType===e.type});i&&i.transformLayout&&(e=i.transformLayout(e,t,n))}return e},e.prototype.removeWidgetMessageAndAction=function(e,t){var n=e.messages;if(n&&n.length>0){for(var r=n.filter(function(e){return e.widgetId!==t}),o=0;o<r.length;o++){var i=r[o].actions;if(0!==i.length){var a=i.filter(function(e){return e.widgetId!==t}),s=Object.assign([],a);r=r.set(o,r[o].set("actions",s))}}return e.set("messages",r)}return e},e}();t.AppConfigAction=l},function(e,t,n){function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var o=n(0),i=o.createElement("g",{fillRule:"nonzero",fill:"none"},o.createElement("path",{d:"M4.586 8.657l6.01-6.01a.5.5 0 0 1 .707.707l-6.01 6.01a1 1 0 0 1-1.414 0L.697 6.182a.5.5 0 0 1 .707-.707l3.182 3.182z",fill:"currentColor"}),o.createElement("path",{d:"M0 0h12v12H0z"}));function a(e){return o.createElement("svg",r({width:12,height:12,viewBox:"0 0 12 12"},e),i)}e.exports=a,a.default=a},,,function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(2),a=n(14),s=n(4),u=n(136),l=n(137),c=n(138),p=function(e){function t(t){var n=e.call(this,t)||this;return n.dsManager=window&&window.jimuConfig&&window.jimuConfig.isBuilder?a.default.getInstance():o.DataSourceManager.getInstance(),n.__unmount=!1,n.initDss=function(){n.dsManager.createAllDataSources().then(function(e){n.__unmount||n.setState({isDataSourceInited:!0})},function(e){n.__unmount||(n.setState({isDataSourceInited:!0}),console.error(e))})},n.setSelectedDsAndSchema=function(e){e&&e.getSchema&&(n.__unmount||n.setState({selectedSchema:e.getSchema(),selectedDs:e}))},n.getDss=function(e){return e?e.asMutable().filter(function(e){return!!e}).map(function(e){var t=n.dsManager.getDataSource(e);return t||null}).filter(function(e){return!!e}):[]},n.getWhetherDisableDsDropdown=function(){return n.props.dataSourceIds&&n.props.dataSourceIds.length<=1},n.getDsLabel=function(e){return e&&e.dataSourceJson&&(e.dataSourceJson.label||e.dataSourceJson.id)||""},n.getSelectedFields=function(){return n.state.selectedDs&&n.state.selectedDs.id&&n.props.selectedFields?Array.isArray(n.props.selectedFields)?n.props.selectedFields:o.Immutable(n.props.selectedFields[n.state.selectedDs.id]):o.Immutable([])},n.getFields=function(){if(!n.state.selectedSchema||!n.state.selectedSchema.fields)return null;if(n.state.searchValue){var e,t={};return Object.keys(n.state.selectedSchema.fields).forEach(function(r){(e=n.state.selectedSchema.fields[r].alias||n.state.selectedSchema.fields[r].name)&&0===e.toLowerCase().indexOf(n.state.searchValue.toLowerCase())&&(t[r]=n.state.selectedSchema.fields[r])}),t}return n.state.selectedSchema.fields},n.onDsSelected=function(e){var t=e.currentTarget.value,r=n.dsManager.getDataSource(t);n.setSelectedDsAndSchema(r)},n.onSearchChange=function(e){n.setState({searchValue:e.target.value})},n.state={isDataSourceInited:!1,selectedDs:null,selectedSchema:null,dss:[],searchValue:""},n}return r(t,e),t.prototype.componentDidMount=function(){this.__unmount=!1,this.initDss()},t.prototype.componentDidUpdate=function(e,t){var n=this;if(this.state.isDataSourceInited||this.initDss(),!0===this.state.isDataSourceInited&&(this.props.dataSourceIds!==e.dataSourceIds||!1===t.isDataSourceInited)){var r=this.getDss(this.props.dataSourceIds);this.setState({dss:r}),this.state.selectedDs&&!r.every(function(e){return e.id!==n.state.selectedDs.id})||this.setSelectedDsAndSchema(r[0])}},t.prototype.componentWillUnmount=function(){this.__unmount=!0},t.prototype.render=function(){var e,t=this,n=this.getDsLabel(this.state.selectedDs);return o.jsx("div",{css:u.getStyle(this.props.theme),style:this.props.style,className:o.classNames("w-100 h-100",(e={},e[this.props.className]=!!this.props.className,e))},o.jsx("div",{className:"component-field-chooser w-100"},this.props.dataSourceIds&&0!==this.props.dataSourceIds.filter(function(e){return!!e}).length?o.jsx("div",null,!this.getWhetherDisableDsDropdown()&&this.state.dss?o.jsx("div",{className:"ds-name mt-3 pl-2 pr-2 d-flex justify-content-bewteen align-items-center"},o.jsx("div",{className:"w-100"},this.props.intl.formatMessage({id:"data",defaultMessage:s.default.data})),o.jsx(i.Input,{type:"select",value:this.state.selectedDs&&this.state.selectedDs.id||"",onChange:this.onDsSelected,className:"flex-shrink-0 ds-name-selected text-truncate"},this.state.dss.map(function(e,n){return o.jsx("option",{value:e.id,key:n,className:"ds-name-selected text-truncate"},t.getDsLabel(e))}))):o.jsx("div",{className:"pt-2 pr-2 pl-2 d-flex justify-content-between"},o.jsx("div",{className:"mr-2"},this.props.intl.formatMessage({id:"data",defaultMessage:s.default.data})),o.jsx("div",{className:"field-data-selected text-truncate",title:n},n)),o.jsx("div",null,o.jsx("div",{className:"d-inline-block w-100 pl-2 pr-2 pb-2 item-chooser-seach"},o.jsx(i.Icon,{icon:c,className:"text-dark search-icon"}),o.jsx(i.Input,{placeholder:this.props.intl.formatMessage({id:"search",defaultMessage:s.default.search}),onChange:this.onSearchChange,className:"d-inline-block search-input",value:this.state.searchValue}))),this.state.isDataSourceInited?o.jsx(l.default,{ds:this.state.selectedDs,fields:this.getFields(),onSelect:this.props.onSelect,selectedFields:this.getSelectedFields()}):o.jsx("div",{className:"jimu-small-loading"})):o.jsx("div",null,o.jsx("div",{className:"mt-2 ml-2 p-2"},this.props.intl.formatMessage({id:"pleaseSetDataSource",defaultMessage:s.default.pleaseSetDataSource})))))},t}(o.React.PureComponent),f=o.themeUtils.withTheme(o.injectIntl(p));t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CustomPicker=t.TwitterPicker=t.SwatchesPicker=t.SliderPicker=t.SketchPicker=t.PhotoshopPicker=t.MaterialPicker=t.HuePicker=t.GithubPicker=t.CompactPicker=t.ChromePicker=t.default=t.CirclePicker=t.BlockPicker=t.AlphaPicker=void 0;var r=n(169);Object.defineProperty(t,"AlphaPicker",{enumerable:!0,get:function(){return v(r).default}});var o=n(290);Object.defineProperty(t,"BlockPicker",{enumerable:!0,get:function(){return v(o).default}});var i=n(292);Object.defineProperty(t,"CirclePicker",{enumerable:!0,get:function(){return v(i).default}});var a=n(294);Object.defineProperty(t,"ChromePicker",{enumerable:!0,get:function(){return v(a).default}});var s=n(298);Object.defineProperty(t,"CompactPicker",{enumerable:!0,get:function(){return v(s).default}});var u=n(301);Object.defineProperty(t,"GithubPicker",{enumerable:!0,get:function(){return v(u).default}});var l=n(303);Object.defineProperty(t,"HuePicker",{enumerable:!0,get:function(){return v(l).default}});var c=n(305);Object.defineProperty(t,"MaterialPicker",{enumerable:!0,get:function(){return v(c).default}});var p=n(306);Object.defineProperty(t,"PhotoshopPicker",{enumerable:!0,get:function(){return v(p).default}});var f=n(312);Object.defineProperty(t,"SketchPicker",{enumerable:!0,get:function(){return v(f).default}});var d=n(315);Object.defineProperty(t,"SliderPicker",{enumerable:!0,get:function(){return v(d).default}});var h=n(319);Object.defineProperty(t,"SwatchesPicker",{enumerable:!0,get:function(){return v(h).default}});var g=n(322);Object.defineProperty(t,"TwitterPicker",{enumerable:!0,get:function(){return v(g).default}});var m=n(107);Object.defineProperty(t,"CustomPicker",{enumerable:!0,get:function(){return v(m).default}});var y=v(a);function v(e){return e&&e.__esModule?e:{default:e}}t.default=y.default},function(e,t,n){(function(t){
/*!
 * Quill Editor v1.3.6
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */
!function(t,n){e.exports=n()}("undefined"!=typeof self&&self,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=109)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(17),o=n(18),i=n(19),a=n(45),s=n(46),u=n(47),l=n(48),c=n(49),p=n(12),f=n(32),d=n(33),h=n(31),g=n(1),m={Scope:g.Scope,create:g.create,find:g.find,query:g.query,register:g.register,Container:r.default,Format:o.default,Leaf:i.default,Embed:l.default,Scroll:a.default,Block:u.default,Inline:s.default,Text:c.default,Attributor:{Attribute:p.default,Class:f.default,Style:d.default,Store:h.default}};t.default=m},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t){var n=this;return t="[Parchment] "+t,(n=e.call(this,t)||this).message=t,n.name=n.constructor.name,n}return r(t,e),t}(Error);t.ParchmentError=o;var i,a={},s={},u={},l={};function c(e,t){var n;if(void 0===t&&(t=i.ANY),"string"==typeof e)n=l[e]||a[e];else if(e instanceof Text||e.nodeType===Node.TEXT_NODE)n=l.text;else if("number"==typeof e)e&i.LEVEL&i.BLOCK?n=l.block:e&i.LEVEL&i.INLINE&&(n=l.inline);else if(e instanceof HTMLElement){var r=(e.getAttribute("class")||"").split(/\s+/);for(var o in r)if(n=s[r[o]])break;n=n||u[e.tagName]}return null==n?null:t&i.LEVEL&n.scope&&t&i.TYPE&n.scope?n:null}t.DATA_KEY="__blot",function(e){e[e.TYPE=3]="TYPE",e[e.LEVEL=12]="LEVEL",e[e.ATTRIBUTE=13]="ATTRIBUTE",e[e.BLOT=14]="BLOT",e[e.INLINE=7]="INLINE",e[e.BLOCK=11]="BLOCK",e[e.BLOCK_BLOT=10]="BLOCK_BLOT",e[e.INLINE_BLOT=6]="INLINE_BLOT",e[e.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",e[e.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",e[e.ANY=15]="ANY"}(i=t.Scope||(t.Scope={})),t.create=function(e,t){var n=c(e);if(null==n)throw new o("Unable to create "+e+" blot");var r=n;return new r(e instanceof Node||e.nodeType===Node.TEXT_NODE?e:r.create(t),t)},t.find=function e(n,r){return void 0===r&&(r=!1),null==n?null:null!=n[t.DATA_KEY]?n[t.DATA_KEY].blot:r?e(n.parentNode,r):null},t.query=c,t.register=function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(t.length>1)return t.map(function(t){return e(t)});var r=t[0];if("string"!=typeof r.blotName&&"string"!=typeof r.attrName)throw new o("Invalid definition");if("abstract"===r.blotName)throw new o("Cannot register abstract class");l[r.blotName||r.attrName]=r,"string"==typeof r.keyName?a[r.keyName]=r:(null!=r.className&&(s[r.className]=r),null!=r.tagName&&(Array.isArray(r.tagName)?r.tagName=r.tagName.map(function(e){return e.toUpperCase()}):r.tagName=r.tagName.toUpperCase(),(Array.isArray(r.tagName)?r.tagName:[r.tagName]).forEach(function(e){null!=u[e]&&null!=r.className||(u[e]=r)})));return r}},function(e,t,n){var r=n(51),o=n(11),i=n(3),a=n(20),s=String.fromCharCode(0),u=function(e){Array.isArray(e)?this.ops=e:null!=e&&Array.isArray(e.ops)?this.ops=e.ops:this.ops=[]};u.prototype.insert=function(e,t){var n={};return 0===e.length?this:(n.insert=e,null!=t&&"object"==typeof t&&Object.keys(t).length>0&&(n.attributes=t),this.push(n))},u.prototype.delete=function(e){return e<=0?this:this.push({delete:e})},u.prototype.retain=function(e,t){if(e<=0)return this;var n={retain:e};return null!=t&&"object"==typeof t&&Object.keys(t).length>0&&(n.attributes=t),this.push(n)},u.prototype.push=function(e){var t=this.ops.length,n=this.ops[t-1];if(e=i(!0,{},e),"object"==typeof n){if("number"==typeof e.delete&&"number"==typeof n.delete)return this.ops[t-1]={delete:n.delete+e.delete},this;if("number"==typeof n.delete&&null!=e.insert&&(t-=1,"object"!=typeof(n=this.ops[t-1])))return this.ops.unshift(e),this;if(o(e.attributes,n.attributes)){if("string"==typeof e.insert&&"string"==typeof n.insert)return this.ops[t-1]={insert:n.insert+e.insert},"object"==typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this;if("number"==typeof e.retain&&"number"==typeof n.retain)return this.ops[t-1]={retain:n.retain+e.retain},"object"==typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this}}return t===this.ops.length?this.ops.push(e):this.ops.splice(t,0,e),this},u.prototype.chop=function(){var e=this.ops[this.ops.length-1];return e&&e.retain&&!e.attributes&&this.ops.pop(),this},u.prototype.filter=function(e){return this.ops.filter(e)},u.prototype.forEach=function(e){this.ops.forEach(e)},u.prototype.map=function(e){return this.ops.map(e)},u.prototype.partition=function(e){var t=[],n=[];return this.forEach(function(r){(e(r)?t:n).push(r)}),[t,n]},u.prototype.reduce=function(e,t){return this.ops.reduce(e,t)},u.prototype.changeLength=function(){return this.reduce(function(e,t){return t.insert?e+a.length(t):t.delete?e-t.delete:e},0)},u.prototype.length=function(){return this.reduce(function(e,t){return e+a.length(t)},0)},u.prototype.slice=function(e,t){e=e||0,"number"!=typeof t&&(t=1/0);for(var n=[],r=a.iterator(this.ops),o=0;o<t&&r.hasNext();){var i;o<e?i=r.next(e-o):(i=r.next(t-o),n.push(i)),o+=a.length(i)}return new u(n)},u.prototype.compose=function(e){for(var t=a.iterator(this.ops),n=a.iterator(e.ops),r=new u;t.hasNext()||n.hasNext();)if("insert"===n.peekType())r.push(n.next());else if("delete"===t.peekType())r.push(t.next());else{var o=Math.min(t.peekLength(),n.peekLength()),i=t.next(o),s=n.next(o);if("number"==typeof s.retain){var l={};"number"==typeof i.retain?l.retain=o:l.insert=i.insert;var c=a.attributes.compose(i.attributes,s.attributes,"number"==typeof i.retain);c&&(l.attributes=c),r.push(l)}else"number"==typeof s.delete&&"number"==typeof i.retain&&r.push(s)}return r.chop()},u.prototype.concat=function(e){var t=new u(this.ops.slice());return e.ops.length>0&&(t.push(e.ops[0]),t.ops=t.ops.concat(e.ops.slice(1))),t},u.prototype.diff=function(e,t){if(this.ops===e.ops)return new u;var n=[this,e].map(function(t){return t.map(function(n){if(null!=n.insert)return"string"==typeof n.insert?n.insert:s;throw new Error("diff() called "+(t===e?"on":"with")+" non-document")}).join("")}),i=new u,l=r(n[0],n[1],t),c=a.iterator(this.ops),p=a.iterator(e.ops);return l.forEach(function(e){for(var t=e[1].length;t>0;){var n=0;switch(e[0]){case r.INSERT:n=Math.min(p.peekLength(),t),i.push(p.next(n));break;case r.DELETE:n=Math.min(t,c.peekLength()),c.next(n),i.delete(n);break;case r.EQUAL:n=Math.min(c.peekLength(),p.peekLength(),t);var s=c.next(n),u=p.next(n);o(s.insert,u.insert)?i.retain(n,a.attributes.diff(s.attributes,u.attributes)):i.push(u).delete(n)}t-=n}}),i.chop()},u.prototype.eachLine=function(e,t){t=t||"\n";for(var n=a.iterator(this.ops),r=new u,o=0;n.hasNext();){if("insert"!==n.peekType())return;var i=n.peek(),s=a.length(i)-n.peekLength(),l="string"==typeof i.insert?i.insert.indexOf(t,s)-s:-1;if(l<0)r.push(n.next());else if(l>0)r.push(n.next(l));else{if(!1===e(r,n.next(1).attributes||{},o))return;o+=1,r=new u}}r.length()>0&&e(r,{},o)},u.prototype.transform=function(e,t){if(t=!!t,"number"==typeof e)return this.transformPosition(e,t);for(var n=a.iterator(this.ops),r=a.iterator(e.ops),o=new u;n.hasNext()||r.hasNext();)if("insert"!==n.peekType()||!t&&"insert"===r.peekType())if("insert"===r.peekType())o.push(r.next());else{var i=Math.min(n.peekLength(),r.peekLength()),s=n.next(i),l=r.next(i);if(s.delete)continue;l.delete?o.push(l):o.retain(i,a.attributes.transform(s.attributes,l.attributes,t))}else o.retain(a.length(n.next()));return o.chop()},u.prototype.transformPosition=function(e,t){t=!!t;for(var n=a.iterator(this.ops),r=0;n.hasNext()&&r<=e;){var o=n.peekLength(),i=n.peekType();n.next(),"delete"!==i?("insert"===i&&(r<e||!t)&&(e+=o),r+=o):e-=Math.min(o,e-r)}return e},e.exports=u},function(e,t){"use strict";var n=Object.prototype.hasOwnProperty,r=Object.prototype.toString,o=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===r.call(e)},i=function(e){if(!e||"[object Object]"!==r.call(e))return!1;var t,o=n.call(e,"constructor"),i=e.constructor&&e.constructor.prototype&&n.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!o&&!i)return!1;for(t in e);return void 0===t||n.call(e,t)};e.exports=function e(){var t,n,r,a,s,u,l=arguments[0],c=1,p=arguments.length,f=!1;for("boolean"==typeof l&&(f=l,l=arguments[1]||{},c=2),(null==l||"object"!=typeof l&&"function"!=typeof l)&&(l={});c<p;++c)if(null!=(t=arguments[c]))for(n in t)r=l[n],l!==(a=t[n])&&(f&&a&&(i(a)||(s=o(a)))?(s?(s=!1,u=r&&o(r)?r:[]):u=r&&i(r)?r:{},l[n]=e(f,u,a)):void 0!==a&&(l[n]=a));return l}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BlockEmbed=t.bubbleFormats=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},i=p(n(3)),a=p(n(2)),s=p(n(0)),u=p(n(16)),l=p(n(6)),c=p(n(7));function p(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=function(e){function t(){return f(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,s.default.Embed),r(t,[{key:"attach",value:function(){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"attach",this).call(this),this.attributes=new s.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return(new a.default).insert(this.value(),(0,i.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(e,t){var n=s.default.query(e,s.default.Scope.BLOCK_ATTRIBUTE);null!=n&&this.attributes.attribute(n,t)}},{key:"formatAt",value:function(e,t,n,r){this.format(n,r)}},{key:"insertAt",value:function(e,n,r){if("string"==typeof n&&n.endsWith("\n")){var i=s.default.create(m.blotName);this.parent.insertBefore(i,0===e?this:this.next),i.insertAt(0,n.slice(0,-1))}else o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,n,r)}}]),t}();g.scope=s.default.Scope.BLOCK_BLOT;var m=function(e){function t(e){f(this,t);var n=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.cache={},n}return h(t,s.default.Block),r(t,[{key:"delta",value:function(){return null==this.cache.delta&&(this.cache.delta=this.descendants(s.default.Leaf).reduce(function(e,t){return 0===t.length()?e:e.insert(t.value(),y(t))},new a.default).insert("\n",y(this))),this.cache.delta}},{key:"deleteAt",value:function(e,n){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"deleteAt",this).call(this,e,n),this.cache={}}},{key:"formatAt",value:function(e,n,r,i){n<=0||(s.default.query(r,s.default.Scope.BLOCK)?e+n===this.length()&&this.format(r,i):o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,Math.min(n,this.length()-e-1),r,i),this.cache={})}},{key:"insertAt",value:function(e,n,r){if(null!=r)return o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,n,r);if(0!==n.length){var i=n.split("\n"),a=i.shift();a.length>0&&(e<this.length()-1||null==this.children.tail?o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,Math.min(e,this.length()-1),a):this.children.tail.insertAt(this.children.tail.length(),a),this.cache={});var s=this;i.reduce(function(e,t){return(s=s.split(e,!0)).insertAt(0,t),t.length},e+a.length)}}},{key:"insertBefore",value:function(e,n){var r=this.children.head;o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,n),r instanceof u.default&&r.remove(),this.cache={}}},{key:"length",value:function(){return null==this.cache.length&&(this.cache.length=o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"length",this).call(this)+1),this.cache.length}},{key:"moveChildren",value:function(e,n){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"moveChildren",this).call(this,e,n),this.cache={}}},{key:"optimize",value:function(e){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),this.cache={}}},{key:"path",value:function(e){return o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"path",this).call(this,e,!0)}},{key:"removeChild",value:function(e){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"removeChild",this).call(this,e),this.cache={}}},{key:"split",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(n&&(0===e||e>=this.length()-1)){var r=this.clone();return 0===e?(this.parent.insertBefore(r,this),this):(this.parent.insertBefore(r,this.next),r)}var i=o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"split",this).call(this,e,n);return this.cache={},i}}]),t}();function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null==e?t:("function"==typeof e.formats&&(t=(0,i.default)(t,e.formats())),null==e.parent||"scroll"==e.parent.blotName||e.parent.statics.scope!==e.statics.scope?t:y(e.parent,t))}m.blotName="block",m.tagName="P",m.defaultChild="break",m.allowedChildren=[l.default,s.default.Embed,c.default],t.bubbleFormats=y,t.BlockEmbed=g,t.default=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.overload=t.expandConfig=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(50);var a=m(n(2)),s=m(n(14)),u=m(n(8)),l=m(n(9)),c=m(n(0)),p=n(15),f=m(p),d=m(n(3)),h=m(n(10)),g=m(n(34));function m(e){return e&&e.__esModule?e:{default:e}}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=(0,h.default)("quill"),b=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=x(t,r),this.container=this.options.container,null==this.container)return v.error("Invalid Quill container",t);this.options.debug&&e.debug(this.options.debug);var o=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new u.default,this.scroll=c.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new s.default(this.scroll),this.selection=new f.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(u.default.events.EDITOR_CHANGE,function(e){e===u.default.events.TEXT_CHANGE&&n.root.classList.toggle("ql-blank",n.editor.isBlank())}),this.emitter.on(u.default.events.SCROLL_UPDATE,function(e,t){var r=n.selection.lastRange,o=r&&0===r.length?r.index:void 0;w.call(n,function(){return n.editor.update(null,t,o)},e)});var i=this.clipboard.convert("<div class='ql-editor' style=\"white-space: normal;\">"+o+"<p><br></p></div>");this.setContents(i),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return i(e,null,[{key:"debug",value:function(e){!0===e&&(e="log"),h.default.level(e)}},{key:"find",value:function(e){return e.__quill||c.default.find(e)}},{key:"import",value:function(e){return null==this.imports[e]&&v.error("Cannot import "+e+". Are you sure it was registered?"),this.imports[e]}},{key:"register",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"!=typeof e){var o=e.attrName||e.blotName;"string"==typeof o?this.register("formats/"+o,e,t):Object.keys(e).forEach(function(r){n.register(r,e[r],t)})}else null==this.imports[e]||r||v.warn("Overwriting "+e+" with",t),this.imports[e]=t,(e.startsWith("blots/")||e.startsWith("formats/"))&&"abstract"!==t.blotName?c.default.register(t):e.startsWith("modules")&&"function"==typeof t.register&&t.register()}}]),i(e,[{key:"addContainer",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"==typeof e){var n=e;(e=document.createElement("div")).classList.add(n)}return this.container.insertBefore(e,t),e}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(e,t,n){var r=this,i=_(e,t,n),a=o(i,4);return e=a[0],t=a[1],n=a[3],w.call(this,function(){return r.editor.deleteText(e,t)},n,e,-1*t)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scroll.enable(e),this.container.classList.toggle("ql-disabled",!e)}},{key:"focus",value:function(){var e=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=e,this.scrollIntoView()}},{key:"format",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.default.sources.API;return w.call(this,function(){var r=n.getSelection(!0),o=new a.default;if(null==r)return o;if(c.default.query(e,c.default.Scope.BLOCK))o=n.editor.formatLine(r.index,r.length,y({},e,t));else{if(0===r.length)return n.selection.format(e,t),o;o=n.editor.formatText(r.index,r.length,y({},e,t))}return n.setSelection(r,u.default.sources.SILENT),o},r)}},{key:"formatLine",value:function(e,t,n,r,i){var a,s=this,u=_(e,t,n,r,i),l=o(u,4);return e=l[0],t=l[1],a=l[2],i=l[3],w.call(this,function(){return s.editor.formatLine(e,t,a)},i,e,0)}},{key:"formatText",value:function(e,t,n,r,i){var a,s=this,u=_(e,t,n,r,i),l=o(u,4);return e=l[0],t=l[1],a=l[2],i=l[3],w.call(this,function(){return s.editor.formatText(e,t,a)},i,e,0)}},{key:"getBounds",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=void 0;n="number"==typeof e?this.selection.getBounds(e,t):this.selection.getBounds(e.index,e.length);var r=this.container.getBoundingClientRect();return{bottom:n.bottom-r.top,height:n.height,left:n.left-r.left,right:n.right-r.left,top:n.top-r.top,width:n.width}}},{key:"getContents",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-e,n=_(e,t),r=o(n,2);return e=r[0],t=r[1],this.editor.getContents(e,t)}},{key:"getFormat",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelection(!0),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"number"==typeof e?this.editor.getFormat(e,t):this.editor.getFormat(e.index,e.length)}},{key:"getIndex",value:function(e){return e.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(e){return this.scroll.leaf(e)}},{key:"getLine",value:function(e){return this.scroll.line(e)}},{key:"getLines",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return"number"!=typeof e?this.scroll.lines(e.index,e.length):this.scroll.lines(e,t)}},{key:"getModule",value:function(e){return this.theme.modules[e]}},{key:"getSelection",value:function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-e,n=_(e,t),r=o(n,2);return e=r[0],t=r[1],this.editor.getText(e,t)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(t,n,r){var o=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.sources.API;return w.call(this,function(){return o.editor.insertEmbed(t,n,r)},i,t)}},{key:"insertText",value:function(e,t,n,r,i){var a,s=this,u=_(e,0,n,r,i),l=o(u,4);return e=l[0],a=l[2],i=l[3],w.call(this,function(){return s.editor.insertText(e,t,a)},i,e,t.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(e,t,n){this.clipboard.dangerouslyPasteHTML(e,t,n)}},{key:"removeFormat",value:function(e,t,n){var r=this,i=_(e,t,n),a=o(i,4);return e=a[0],t=a[1],n=a[3],w.call(this,function(){return r.editor.removeFormat(e,t)},n,e)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.default.sources.API;return w.call(this,function(){e=new a.default(e);var n=t.getLength(),r=t.editor.deleteText(0,n),o=t.editor.applyDelta(e),i=o.ops[o.ops.length-1];return null!=i&&"string"==typeof i.insert&&"\n"===i.insert[i.insert.length-1]&&(t.editor.deleteText(t.getLength()-1,1),o.delete(1)),r.compose(o)},n)}},{key:"setSelection",value:function(t,n,r){if(null==t)this.selection.setRange(null,n||e.sources.API);else{var i=_(t,n,r),a=o(i,4);t=a[0],n=a[1],r=a[3],this.selection.setRange(new p.Range(t,n),r),r!==u.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.default.sources.API,n=(new a.default).insert(e);return this.setContents(n,t)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.default.sources.USER,t=this.scroll.update(e);return this.selection.update(e),t}},{key:"updateContents",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.default.sources.API;return w.call(this,function(){return e=new a.default(e),t.editor.applyDelta(e,n)},n,!0)}}]),e}();function x(e,t){if((t=(0,d.default)(!0,{container:e,modules:{clipboard:!0,keyboard:!0,history:!0}},t)).theme&&t.theme!==b.DEFAULTS.theme){if(t.theme=b.import("themes/"+t.theme),null==t.theme)throw new Error("Invalid theme "+t.theme+". Did you register it?")}else t.theme=g.default;var n=(0,d.default)(!0,{},t.theme.DEFAULTS);[n,t].forEach(function(e){e.modules=e.modules||{},Object.keys(e.modules).forEach(function(t){!0===e.modules[t]&&(e.modules[t]={})})});var r=Object.keys(n.modules).concat(Object.keys(t.modules)).reduce(function(e,t){var n=b.import("modules/"+t);return null==n?v.error("Cannot load "+t+" module. Are you sure you registered it?"):e[t]=n.DEFAULTS||{},e},{});return null!=t.modules&&t.modules.toolbar&&t.modules.toolbar.constructor!==Object&&(t.modules.toolbar={container:t.modules.toolbar}),t=(0,d.default)(!0,{},b.DEFAULTS,{modules:r},n,t),["bounds","container","scrollingContainer"].forEach(function(e){"string"==typeof t[e]&&(t[e]=document.querySelector(t[e]))}),t.modules=Object.keys(t.modules).reduce(function(e,n){return t.modules[n]&&(e[n]=t.modules[n]),e},{}),t}function w(e,t,n,r){if(this.options.strict&&!this.isEnabled()&&t===u.default.sources.USER)return new a.default;var o=null==n?null:this.getSelection(),i=this.editor.delta,s=e();if(null!=o&&(!0===n&&(n=o.index),null==r?o=O(o,s,t):0!==r&&(o=O(o,n,r,t)),this.setSelection(o,u.default.sources.SILENT)),s.length()>0){var l,c,p=[u.default.events.TEXT_CHANGE,s,i,t];if((l=this.emitter).emit.apply(l,[u.default.events.EDITOR_CHANGE].concat(p)),t!==u.default.sources.SILENT)(c=this.emitter).emit.apply(c,p)}return s}function _(e,t,n,o,i){var a={};return"number"==typeof e.index&&"number"==typeof e.length?"number"!=typeof t?(i=o,o=n,n=t,t=e.length,e=e.index):(t=e.length,e=e.index):"number"!=typeof t&&(i=o,o=n,n=t,t=0),"object"===(void 0===n?"undefined":r(n))?(a=n,i=o):"string"==typeof n&&(null!=o?a[n]=o:i=n),[e,t,a,i=i||u.default.sources.API]}function O(e,t,n,r){if(null==e)return null;var i=void 0,s=void 0;if(t instanceof a.default){var l=[e.index,e.index+e.length].map(function(e){return t.transformPosition(e,r!==u.default.sources.USER)}),c=o(l,2);i=c[0],s=c[1]}else{var f=[e.index,e.index+e.length].map(function(e){return e<t||e===t&&r===u.default.sources.USER?e:n>=0?e+n:Math.max(t,e+n)}),d=o(f,2);i=d[0],s=d[1]}return new p.Range(i,s-i)}b.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},b.events=u.default.events,b.sources=u.default.sources,b.version="1.3.6",b.imports={delta:a.default,parchment:c.default,"core/module":l.default,"core/theme":g.default},t.expandConfig=x,t.overload=_,t.default=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},i=s(n(7)),a=s(n(0));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Inline),r(t,[{key:"formatAt",value:function(e,n,r,i){if(t.compare(this.statics.blotName,r)<0&&a.default.query(r,a.default.Scope.BLOT)){var s=this.isolate(e,n);i&&s.wrap(r,i)}else o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,n,r,i)}},{key:"optimize",value:function(e){if(o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),this.parent instanceof t&&t.compare(this.statics.blotName,this.parent.statics.blotName)>0){var n=this.parent.isolate(this.offset(),this.length());this.moveChildren(n),n.wrap(this)}}}],[{key:"compare",value:function(e,n){var r=t.order.indexOf(e),o=t.order.indexOf(n);return r>=0||o>=0?r-o:e===n?0:e<n?-1:1}}]),t}();u.allowedChildren=[u,a.default.Embed,i.default],u.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(0));var o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Text),t}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=i(n(54));function i(e){return e&&e.__esModule?e:{default:e}}var a=(0,i(n(10)).default)("quill:events");["selectionchange","mousedown","mouseup","click"].forEach(function(e){document.addEventListener(e,function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(e){var n;e.__quill&&e.__quill.emitter&&(n=e.__quill.emitter).handleDOM.apply(n,t)})})});var s=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.listeners={},e.on("error",a.error),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),r(t,[{key:"emit",value:function(){a.log.apply(a,arguments),function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];(this.listeners[e.type]||[]).forEach(function(t){var r=t.node,o=t.handler;(e.target===r||r.contains(e.target))&&o.apply(void 0,[e].concat(n))})}},{key:"listenDOM",value:function(e,t,n){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push({node:t,handler:n})}}]),t}();s.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},s.sources={API:"api",SILENT:"silent",USER:"user"},t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.quill=t,this.options=n};r.DEFAULTS={},t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["error","warn","log","info"],o="warn";function i(e){if(r.indexOf(e)<=r.indexOf(o)){for(var t,n=arguments.length,i=Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];(t=console)[e].apply(t,i)}}function a(e){return r.reduce(function(t,n){return t[n]=i.bind(console,n,e),t},{})}i.level=a.level=function(e){o=e},t.default=a},function(e,t,n){var r=Array.prototype.slice,o=n(52),i=n(53),a=e.exports=function(e,t,n){return n||(n={}),e===t||(e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():!e||!t||"object"!=typeof e&&"object"!=typeof t?n.strict?e===t:e==t:function(e,t,n){var l,c;if(s(e)||s(t))return!1;if(e.prototype!==t.prototype)return!1;if(i(e))return!!i(t)&&(e=r.call(e),t=r.call(t),a(e,t,n));if(u(e)){if(!u(t))return!1;if(e.length!==t.length)return!1;for(l=0;l<e.length;l++)if(e[l]!==t[l])return!1;return!0}try{var p=o(e),f=o(t)}catch(e){return!1}if(p.length!=f.length)return!1;for(p.sort(),f.sort(),l=p.length-1;l>=0;l--)if(p[l]!=f[l])return!1;for(l=p.length-1;l>=0;l--)if(c=p[l],!a(e[c],t[c],n))return!1;return typeof e==typeof t}(e,t,n))};function s(e){return null===e||void 0===e}function u(e){return!(!e||"object"!=typeof e||"number"!=typeof e.length)&&("function"==typeof e.copy&&"function"==typeof e.slice&&!(e.length>0&&"number"!=typeof e[0]))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=function(){function e(e,t,n){void 0===n&&(n={}),this.attrName=e,this.keyName=t;var o=r.Scope.TYPE&r.Scope.ATTRIBUTE;null!=n.scope?this.scope=n.scope&r.Scope.LEVEL|o:this.scope=r.Scope.ATTRIBUTE,null!=n.whitelist&&(this.whitelist=n.whitelist)}return e.keys=function(e){return[].map.call(e.attributes,function(e){return e.name})},e.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(e.setAttribute(this.keyName,t),!0)},e.prototype.canAdd=function(e,t){return null!=r.query(e,r.Scope.BLOT&(this.scope|r.Scope.TYPE))&&(null==this.whitelist||("string"==typeof t?this.whitelist.indexOf(t.replace(/["']/g,""))>-1:this.whitelist.indexOf(t)>-1))},e.prototype.remove=function(e){e.removeAttribute(this.keyName)},e.prototype.value=function(e){var t=e.getAttribute(this.keyName);return this.canAdd(e,t)&&t?t:""},e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Code=void 0;var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},a=p(n(2)),s=p(n(0)),u=p(n(4)),l=p(n(6)),c=p(n(7));function p(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=function(e){function t(){return f(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,l.default),t}();g.blotName="code",g.tagName="CODE";var m=function(e){function t(){return f(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,u.default),o(t,[{key:"delta",value:function(){var e=this,t=this.domNode.textContent;return t.endsWith("\n")&&(t=t.slice(0,-1)),t.split("\n").reduce(function(t,n){return t.insert(n).insert("\n",e.formats())},new a.default)}},{key:"format",value:function(e,n){if(e!==this.statics.blotName||!n){var o=this.descendant(c.default,this.length()-1),a=r(o,1)[0];null!=a&&a.deleteAt(a.length()-1,1),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n)}}},{key:"formatAt",value:function(e,n,r,o){if(0!==n&&null!=s.default.query(r,s.default.Scope.BLOCK)&&(r!==this.statics.blotName||o!==this.statics.formats(this.domNode))){var i=this.newlineIndex(e);if(!(i<0||i>=e+n)){var a=this.newlineIndex(e,!0)+1,u=i-a+1,l=this.isolate(a,u),c=l.next;l.format(r,o),c instanceof t&&c.formatAt(0,e-a+n-u,r,o)}}}},{key:"insertAt",value:function(e,t,n){if(null==n){var o=this.descendant(c.default,e),i=r(o,2),a=i[0],s=i[1];a.insertAt(s,t)}}},{key:"length",value:function(){var e=this.domNode.textContent.length;return this.domNode.textContent.endsWith("\n")?e:e+1}},{key:"newlineIndex",value:function(e){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1])return this.domNode.textContent.slice(0,e).lastIndexOf("\n");var t=this.domNode.textContent.slice(e).indexOf("\n");return t>-1?e+t:-1}},{key:"optimize",value:function(e){this.domNode.textContent.endsWith("\n")||this.appendChild(s.default.create("text","\n")),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e);var n=this.next;null!=n&&n.prev===this&&n.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===n.statics.formats(n.domNode)&&(n.optimize(e),n.moveChildren(this),n.remove())}},{key:"replace",value:function(e){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replace",this).call(this,e),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(e){var t=s.default.find(e);null==t?e.parentNode.removeChild(e):t instanceof s.default.Embed?t.remove():t.unwrap()})}}],[{key:"create",value:function(e){var n=i(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return n.setAttribute("spellcheck",!1),n}},{key:"formats",value:function(){return!0}}]),t}();m.blotName="code-block",m.tagName="PRE",m.TAB="  ",t.Code=g,t.default=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=y(n(2)),s=y(n(20)),u=y(n(0)),l=y(n(13)),c=y(n(24)),p=n(4),f=y(p),d=y(n(16)),h=y(n(21)),g=y(n(11)),m=y(n(3));function y(e){return e&&e.__esModule?e:{default:e}}var v=/^[ -~]*$/,b=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scroll=t,this.delta=this.getDelta()}return i(e,[{key:"applyDelta",value:function(e){var t=this,n=!1;this.scroll.update();var i=this.scroll.length();return this.scroll.batchStart(),(e=function(e){return e.reduce(function(e,t){if(1===t.insert){var n=(0,h.default)(t.attributes);return delete n.image,e.insert({image:t.attributes.image},n)}if(null==t.attributes||!0!==t.attributes.list&&!0!==t.attributes.bullet||((t=(0,h.default)(t)).attributes.list?t.attributes.list="ordered":(t.attributes.list="bullet",delete t.attributes.bullet)),"string"==typeof t.insert){var r=t.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return e.insert(r,t.attributes)}return e.push(t)},new a.default)}(e)).reduce(function(e,a){var l=a.retain||a.delete||a.insert.length||1,c=a.attributes||{};if(null!=a.insert){if("string"==typeof a.insert){var d=a.insert;d.endsWith("\n")&&n&&(n=!1,d=d.slice(0,-1)),e>=i&&!d.endsWith("\n")&&(n=!0),t.scroll.insertAt(e,d);var h=t.scroll.line(e),g=o(h,2),y=g[0],v=g[1],b=(0,m.default)({},(0,p.bubbleFormats)(y));if(y instanceof f.default){var x=y.descendant(u.default.Leaf,v),w=o(x,1)[0];b=(0,m.default)(b,(0,p.bubbleFormats)(w))}c=s.default.attributes.diff(b,c)||{}}else if("object"===r(a.insert)){var _=Object.keys(a.insert)[0];if(null==_)return e;t.scroll.insertAt(e,_,a.insert[_])}i+=l}return Object.keys(c).forEach(function(n){t.scroll.formatAt(e,l,n,c[n])}),e+l},0),e.reduce(function(e,n){return"number"==typeof n.delete?(t.scroll.deleteAt(e,n.delete),e):e+(n.retain||n.insert.length||1)},0),this.scroll.batchEnd(),this.update(e)}},{key:"deleteText",value:function(e,t){return this.scroll.deleteAt(e,t),this.update((new a.default).retain(e).delete(t))}},{key:"formatLine",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.scroll.update(),Object.keys(r).forEach(function(o){if(null==n.scroll.whitelist||n.scroll.whitelist[o]){var i=n.scroll.lines(e,Math.max(t,1)),a=t;i.forEach(function(t){var i=t.length();if(t instanceof l.default){var s=e-t.offset(n.scroll),u=t.newlineIndex(s+a)-s+1;t.formatAt(s,u,o,r[o])}else t.format(o,r[o]);a-=i})}}),this.scroll.optimize(),this.update((new a.default).retain(e).retain(t,(0,h.default)(r)))}},{key:"formatText",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.keys(r).forEach(function(o){n.scroll.formatAt(e,t,o,r[o])}),this.update((new a.default).retain(e).retain(t,(0,h.default)(r)))}},{key:"getContents",value:function(e,t){return this.delta.slice(e,e+t)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(e,t){return e.concat(t.delta())},new a.default)}},{key:"getFormat",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[],r=[];0===t?this.scroll.path(e).forEach(function(e){var t=o(e,1)[0];t instanceof f.default?n.push(t):t instanceof u.default.Leaf&&r.push(t)}):(n=this.scroll.lines(e,t),r=this.scroll.descendants(u.default.Leaf,e,t));var i=[n,r].map(function(e){if(0===e.length)return{};for(var t=(0,p.bubbleFormats)(e.shift());Object.keys(t).length>0;){var n=e.shift();if(null==n)return t;t=x((0,p.bubbleFormats)(n),t)}return t});return m.default.apply(m.default,i)}},{key:"getText",value:function(e,t){return this.getContents(e,t).filter(function(e){return"string"==typeof e.insert}).map(function(e){return e.insert}).join("")}},{key:"insertEmbed",value:function(e,t,n){return this.scroll.insertAt(e,t,n),this.update((new a.default).retain(e).insert(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},t,n)))}},{key:"insertText",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t=t.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(e,t),Object.keys(r).forEach(function(o){n.scroll.formatAt(e,t.length,o,r[o])}),this.update((new a.default).retain(e).insert(t,(0,h.default)(r)))}},{key:"isBlank",value:function(){if(0==this.scroll.children.length)return!0;if(this.scroll.children.length>1)return!1;var e=this.scroll.children.head;return e.statics.blotName===f.default.blotName&&(!(e.children.length>1)&&e.children.head instanceof d.default)}},{key:"removeFormat",value:function(e,t){var n=this.getText(e,t),r=this.scroll.line(e+t),i=o(r,2),s=i[0],u=i[1],c=0,p=new a.default;null!=s&&(c=s instanceof l.default?s.newlineIndex(u)-u+1:s.length()-u,p=s.delta().slice(u,u+c-1).insert("\n"));var f=this.getContents(e,t+c).diff((new a.default).insert(n).concat(p)),d=(new a.default).retain(e).concat(f);return this.applyDelta(d)}},{key:"update",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=this.delta;if(1===t.length&&"characterData"===t[0].type&&t[0].target.data.match(v)&&u.default.find(t[0].target)){var o=u.default.find(t[0].target),i=(0,p.bubbleFormats)(o),s=o.offset(this.scroll),l=t[0].oldValue.replace(c.default.CONTENTS,""),f=(new a.default).insert(l),d=(new a.default).insert(o.value());e=(new a.default).retain(s).concat(f.diff(d,n)).reduce(function(e,t){return t.insert?e.insert(t.insert,i):e.push(t)},new a.default),this.delta=r.compose(e)}else this.delta=this.getDelta(),e&&(0,g.default)(r.compose(e),this.delta)||(e=r.diff(this.delta,n));return e}}]),e}();function x(e,t){return Object.keys(t).reduce(function(n,r){return null==e[r]?n:(t[r]===e[r]?n[r]=t[r]:Array.isArray(t[r])?t[r].indexOf(e[r])<0&&(n[r]=t[r].concat([e[r]])):n[r]=[t[r],e[r]],n)},{})}t.default=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Range=void 0;var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=l(n(0)),a=l(n(21)),s=l(n(11)),u=l(n(8));function l(e){return e&&e.__esModule?e:{default:e}}function c(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var f=(0,l(n(10)).default)("quill:selection"),d=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;p(this,e),this.index=t,this.length=n},h=function(){function e(t,n){var r=this;p(this,e),this.emitter=n,this.scroll=t,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=i.default.create("cursor",this),this.lastRange=this.savedRange=new d(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){r.mouseDown||setTimeout(r.update.bind(r,u.default.sources.USER),1)}),this.emitter.on(u.default.events.EDITOR_CHANGE,function(e,t){e===u.default.events.TEXT_CHANGE&&t.length()>0&&r.update(u.default.sources.SILENT)}),this.emitter.on(u.default.events.SCROLL_BEFORE_UPDATE,function(){if(r.hasFocus()){var e=r.getNativeRange();null!=e&&e.start.node!==r.cursor.textNode&&r.emitter.once(u.default.events.SCROLL_UPDATE,function(){try{r.setNativeRange(e.start.node,e.start.offset,e.end.node,e.end.offset)}catch(e){}})}}),this.emitter.on(u.default.events.SCROLL_OPTIMIZE,function(e,t){if(t.range){var n=t.range,o=n.startNode,i=n.startOffset,a=n.endNode,s=n.endOffset;r.setNativeRange(o,i,a,s)}}),this.update(u.default.sources.SILENT)}return o(e,[{key:"handleComposition",value:function(){var e=this;this.root.addEventListener("compositionstart",function(){e.composing=!0}),this.root.addEventListener("compositionend",function(){if(e.composing=!1,e.cursor.parent){var t=e.cursor.restore();if(!t)return;setTimeout(function(){e.setNativeRange(t.startNode,t.startOffset,t.endNode,t.endOffset)},1)}})}},{key:"handleDragging",value:function(){var e=this;this.emitter.listenDOM("mousedown",document.body,function(){e.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){e.mouseDown=!1,e.update(u.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(e,t){if(null==this.scroll.whitelist||this.scroll.whitelist[e]){this.scroll.update();var n=this.getNativeRange();if(null!=n&&n.native.collapsed&&!i.default.query(e,i.default.Scope.BLOCK)){if(n.start.node!==this.cursor.textNode){var r=i.default.find(n.start.node,!1);if(null==r)return;if(r instanceof i.default.Leaf){var o=r.split(n.start.offset);r.parent.insertBefore(this.cursor,o)}else r.insertBefore(this.cursor,n.start.node);this.cursor.attach()}this.cursor.format(e,t),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.scroll.length();e=Math.min(e,n-1),t=Math.min(e+t,n-1)-e;var o=void 0,i=this.scroll.leaf(e),a=r(i,2),s=a[0],u=a[1];if(null==s)return null;var l=s.position(u,!0),c=r(l,2);o=c[0],u=c[1];var p=document.createRange();if(t>0){p.setStart(o,u);var f=this.scroll.leaf(e+t),d=r(f,2);if(s=d[0],u=d[1],null==s)return null;var h=s.position(u,!0),g=r(h,2);return o=g[0],u=g[1],p.setEnd(o,u),p.getBoundingClientRect()}var m="left",y=void 0;return o instanceof Text?(u<o.data.length?(p.setStart(o,u),p.setEnd(o,u+1)):(p.setStart(o,u-1),p.setEnd(o,u),m="right"),y=p.getBoundingClientRect()):(y=s.domNode.getBoundingClientRect(),u>0&&(m="right")),{bottom:y.top+y.height,height:y.height,left:y[m],right:y[m],top:y.top,width:0}}},{key:"getNativeRange",value:function(){var e=document.getSelection();if(null==e||e.rangeCount<=0)return null;var t=e.getRangeAt(0);if(null==t)return null;var n=this.normalizeNative(t);return f.info("getNativeRange",n),n}},{key:"getRange",value:function(){var e=this.getNativeRange();return null==e?[null,null]:[this.normalizedToRange(e),e]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(e){var t=this,n=[[e.start.node,e.start.offset]];e.native.collapsed||n.push([e.end.node,e.end.offset]);var o=n.map(function(e){var n=r(e,2),o=n[0],a=n[1],s=i.default.find(o,!0),u=s.offset(t.scroll);return 0===a?u:s instanceof i.default.Container?u+s.length():u+s.index(o,a)}),a=Math.min(Math.max.apply(Math,c(o)),this.scroll.length()-1),s=Math.min.apply(Math,[a].concat(c(o)));return new d(s,a-s)}},{key:"normalizeNative",value:function(e){if(!g(this.root,e.startContainer)||!e.collapsed&&!g(this.root,e.endContainer))return null;var t={start:{node:e.startContainer,offset:e.startOffset},end:{node:e.endContainer,offset:e.endOffset},native:e};return[t.start,t.end].forEach(function(e){for(var t=e.node,n=e.offset;!(t instanceof Text)&&t.childNodes.length>0;)if(t.childNodes.length>n)t=t.childNodes[n],n=0;else{if(t.childNodes.length!==n)break;n=(t=t.lastChild)instanceof Text?t.data.length:t.childNodes.length+1}e.node=t,e.offset=n}),t}},{key:"rangeToNative",value:function(e){var t=this,n=e.collapsed?[e.index]:[e.index,e.index+e.length],o=[],i=this.scroll.length();return n.forEach(function(e,n){e=Math.min(i-1,e);var a,s=t.scroll.leaf(e),u=r(s,2),l=u[0],c=u[1],p=l.position(c,0!==n),f=r(p,2);a=f[0],c=f[1],o.push(a,c)}),o.length<2&&(o=o.concat(o)),o}},{key:"scrollIntoView",value:function(e){var t=this.lastRange;if(null!=t){var n=this.getBounds(t.index,t.length);if(null!=n){var o=this.scroll.length()-1,i=this.scroll.line(Math.min(t.index,o)),a=r(i,1)[0],s=a;if(t.length>0){var u=this.scroll.line(Math.min(t.index+t.length,o));s=r(u,1)[0]}if(null!=a&&null!=s){var l=e.getBoundingClientRect();n.top<l.top?e.scrollTop-=l.top-n.top:n.bottom>l.bottom&&(e.scrollTop+=n.bottom-l.bottom)}}}}},{key:"setNativeRange",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(f.info("setNativeRange",e,t,n,r),null==e||null!=this.root.parentNode&&null!=e.parentNode&&null!=n.parentNode){var i=document.getSelection();if(null!=i)if(null!=e){this.hasFocus()||this.root.focus();var a=(this.getNativeRange()||{}).native;if(null==a||o||e!==a.startContainer||t!==a.startOffset||n!==a.endContainer||r!==a.endOffset){"BR"==e.tagName&&(t=[].indexOf.call(e.parentNode.childNodes,e),e=e.parentNode),"BR"==n.tagName&&(r=[].indexOf.call(n.parentNode.childNodes,n),n=n.parentNode);var s=document.createRange();s.setStart(e,t),s.setEnd(n,r),i.removeAllRanges(),i.addRange(s)}}else i.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.default.sources.API;if("string"==typeof t&&(n=t,t=!1),f.info("setRange",e),null!=e){var r=this.rangeToNative(e);this.setNativeRange.apply(this,c(r).concat([t]))}else this.setNativeRange(null);this.update(n)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.default.sources.USER,t=this.lastRange,n=this.getRange(),o=r(n,2),i=o[0],l=o[1];if(this.lastRange=i,null!=this.lastRange&&(this.savedRange=this.lastRange),!(0,s.default)(t,this.lastRange)){var c;!this.composing&&null!=l&&l.native.collapsed&&l.start.node!==this.cursor.textNode&&this.cursor.restore();var p,f=[u.default.events.SELECTION_CHANGE,(0,a.default)(this.lastRange),(0,a.default)(t),e];if((c=this.emitter).emit.apply(c,[u.default.events.EDITOR_CHANGE].concat(f)),e!==u.default.sources.SILENT)(p=this.emitter).emit.apply(p,f)}}}]),e}();function g(e,t){try{t.parentNode}catch(e){return!1}return t instanceof Text&&(t=t.parentNode),e.contains(t)}t.Range=d,t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){return e&&e.__esModule?e:{default:e}}(n(0));var i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Embed),r(t,[{key:"insertInto",value:function(e,n){0===e.children.length?function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertInto",this).call(this,e,n):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),t}();i.blotName="break",i.tagName="BR",t.default=i},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(44),i=n(30),a=n(1),s=function(e){function t(t){var n=e.call(this,t)||this;return n.build(),n}return r(t,e),t.prototype.appendChild=function(e){this.insertBefore(e)},t.prototype.attach=function(){e.prototype.attach.call(this),this.children.forEach(function(e){e.attach()})},t.prototype.build=function(){var e=this;this.children=new o.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(t){try{var n=u(t);e.insertBefore(n,e.children.head||void 0)}catch(e){if(e instanceof a.ParchmentError)return;throw e}})},t.prototype.deleteAt=function(e,t){if(0===e&&t===this.length())return this.remove();this.children.forEachAt(e,t,function(e,t,n){e.deleteAt(t,n)})},t.prototype.descendant=function(e,n){var r=this.children.find(n),o=r[0],i=r[1];return null==e.blotName&&e(o)||null!=e.blotName&&o instanceof e?[o,i]:o instanceof t?o.descendant(e,i):[null,-1]},t.prototype.descendants=function(e,n,r){void 0===n&&(n=0),void 0===r&&(r=Number.MAX_VALUE);var o=[],i=r;return this.children.forEachAt(n,r,function(n,r,a){(null==e.blotName&&e(n)||null!=e.blotName&&n instanceof e)&&o.push(n),n instanceof t&&(o=o.concat(n.descendants(e,r,i))),i-=a}),o},t.prototype.detach=function(){this.children.forEach(function(e){e.detach()}),e.prototype.detach.call(this)},t.prototype.formatAt=function(e,t,n,r){this.children.forEachAt(e,t,function(e,t,o){e.formatAt(t,o,n,r)})},t.prototype.insertAt=function(e,t,n){var r=this.children.find(e),o=r[0],i=r[1];if(o)o.insertAt(i,t,n);else{var s=null==n?a.create("text",t):a.create(t,n);this.appendChild(s)}},t.prototype.insertBefore=function(e,t){if(null!=this.statics.allowedChildren&&!this.statics.allowedChildren.some(function(t){return e instanceof t}))throw new a.ParchmentError("Cannot insert "+e.statics.blotName+" into "+this.statics.blotName);e.insertInto(this,t)},t.prototype.length=function(){return this.children.reduce(function(e,t){return e+t.length()},0)},t.prototype.moveChildren=function(e,t){this.children.forEach(function(n){e.insertBefore(n,t)})},t.prototype.optimize=function(t){if(e.prototype.optimize.call(this,t),0===this.children.length)if(null!=this.statics.defaultChild){var n=a.create(this.statics.defaultChild);this.appendChild(n),n.optimize(t)}else this.remove()},t.prototype.path=function(e,n){void 0===n&&(n=!1);var r=this.children.find(e,n),o=r[0],i=r[1],a=[[this,e]];return o instanceof t?a.concat(o.path(i,n)):(null!=o&&a.push([o,i]),a)},t.prototype.removeChild=function(e){this.children.remove(e)},t.prototype.replace=function(n){n instanceof t&&n.moveChildren(this),e.prototype.replace.call(this,n)},t.prototype.split=function(e,t){if(void 0===t&&(t=!1),!t){if(0===e)return this;if(e===this.length())return this.next}var n=this.clone();return this.parent.insertBefore(n,this.next),this.children.forEachAt(e,this.length(),function(e,r,o){e=e.split(r,t),n.appendChild(e)}),n},t.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},t.prototype.update=function(e,t){var n=this,r=[],o=[];e.forEach(function(e){e.target===n.domNode&&"childList"===e.type&&(r.push.apply(r,e.addedNodes),o.push.apply(o,e.removedNodes))}),o.forEach(function(e){if(!(null!=e.parentNode&&"IFRAME"!==e.tagName&&document.body.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var t=a.find(e);null!=t&&(null!=t.domNode.parentNode&&t.domNode.parentNode!==n.domNode||t.detach())}}),r.filter(function(e){return e.parentNode==n.domNode}).sort(function(e,t){return e===t?0:e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(e){var t=null;null!=e.nextSibling&&(t=a.find(e.nextSibling));var r=u(e);r.next==t&&null!=r.next||(null!=r.parent&&r.parent.removeChild(n),n.insertBefore(r,t||void 0))})},t}(i.default);function u(e){var t=a.find(e);if(null==t)try{t=a.create(e)}catch(n){t=a.create(a.Scope.INLINE),[].slice.call(e.childNodes).forEach(function(e){t.domNode.appendChild(e)}),e.parentNode&&e.parentNode.replaceChild(t.domNode,e),t.attach()}return t}t.default=s},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(12),i=n(31),a=n(17),s=n(1),u=function(e){function t(t){var n=e.call(this,t)||this;return n.attributes=new i.default(n.domNode),n}return r(t,e),t.formats=function(e){return"string"==typeof this.tagName||(Array.isArray(this.tagName)?e.tagName.toLowerCase():void 0)},t.prototype.format=function(e,t){var n=s.query(e);n instanceof o.default?this.attributes.attribute(n,t):t&&(null==n||e===this.statics.blotName&&this.formats()[e]===t||this.replaceWith(e,t))},t.prototype.formats=function(){var e=this.attributes.values(),t=this.statics.formats(this.domNode);return null!=t&&(e[this.statics.blotName]=t),e},t.prototype.replaceWith=function(t,n){var r=e.prototype.replaceWith.call(this,t,n);return this.attributes.copy(r),r},t.prototype.update=function(t,n){var r=this;e.prototype.update.call(this,t,n),t.some(function(e){return e.target===r.domNode&&"attributes"===e.type})&&this.attributes.build()},t.prototype.wrap=function(n,r){var o=e.prototype.wrap.call(this,n,r);return o instanceof t&&o.statics.scope===this.statics.scope&&this.attributes.move(o),o},t}(a.default);t.default=u},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(30),i=n(1),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.value=function(e){return!0},t.prototype.index=function(e,t){return this.domNode===e||this.domNode.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(t,1):-1},t.prototype.position=function(e,t){var n=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return e>0&&(n+=1),[this.parent.domNode,n]},t.prototype.value=function(){return(e={})[this.statics.blotName]=this.statics.value(this.domNode)||!0,e;var e},t.scope=i.Scope.INLINE_BLOT,t}(o.default);t.default=a},function(e,t,n){var r=n(11),o=n(3),i={attributes:{compose:function(e,t,n){"object"!=typeof e&&(e={}),"object"!=typeof t&&(t={});var r=o(!0,{},t);for(var i in n||(r=Object.keys(r).reduce(function(e,t){return null!=r[t]&&(e[t]=r[t]),e},{})),e)void 0!==e[i]&&void 0===t[i]&&(r[i]=e[i]);return Object.keys(r).length>0?r:void 0},diff:function(e,t){"object"!=typeof e&&(e={}),"object"!=typeof t&&(t={});var n=Object.keys(e).concat(Object.keys(t)).reduce(function(n,o){return r(e[o],t[o])||(n[o]=void 0===t[o]?null:t[o]),n},{});return Object.keys(n).length>0?n:void 0},transform:function(e,t,n){if("object"!=typeof e)return t;if("object"==typeof t){if(!n)return t;var r=Object.keys(t).reduce(function(n,r){return void 0===e[r]&&(n[r]=t[r]),n},{});return Object.keys(r).length>0?r:void 0}}},iterator:function(e){return new a(e)},length:function(e){return"number"==typeof e.delete?e.delete:"number"==typeof e.retain?e.retain:"string"==typeof e.insert?e.insert.length:1}};function a(e){this.ops=e,this.index=0,this.offset=0}a.prototype.hasNext=function(){return this.peekLength()<1/0},a.prototype.next=function(e){e||(e=1/0);var t=this.ops[this.index];if(t){var n=this.offset,r=i.length(t);if(e>=r-n?(e=r-n,this.index+=1,this.offset=0):this.offset+=e,"number"==typeof t.delete)return{delete:e};var o={};return t.attributes&&(o.attributes=t.attributes),"number"==typeof t.retain?o.retain=e:"string"==typeof t.insert?o.insert=t.insert.substr(n,e):o.insert=t.insert,o}return{retain:1/0}},a.prototype.peek=function(){return this.ops[this.index]},a.prototype.peekLength=function(){return this.ops[this.index]?i.length(this.ops[this.index])-this.offset:1/0},a.prototype.peekType=function(){return this.ops[this.index]?"number"==typeof this.ops[this.index].delete?"delete":"number"==typeof this.ops[this.index].retain?"retain":"insert":"retain"},e.exports=i},function(e,n){var r=function(){"use strict";function e(e,t){return null!=t&&e instanceof t}var n,r,o;try{n=Map}catch(e){n=function(){}}try{r=Set}catch(e){r=function(){}}try{o=Promise}catch(e){o=function(){}}function i(a,u,l,c,p){"object"==typeof u&&(l=u.depth,c=u.prototype,p=u.includeNonEnumerable,u=u.circular);var f=[],d=[],h=void 0!==t;return void 0===u&&(u=!0),void 0===l&&(l=1/0),function a(l,g){if(null===l)return null;if(0===g)return l;var m,y;if("object"!=typeof l)return l;if(e(l,n))m=new n;else if(e(l,r))m=new r;else if(e(l,o))m=new o(function(e,t){l.then(function(t){e(a(t,g-1))},function(e){t(a(e,g-1))})});else if(i.__isArray(l))m=[];else if(i.__isRegExp(l))m=new RegExp(l.source,s(l)),l.lastIndex&&(m.lastIndex=l.lastIndex);else if(i.__isDate(l))m=new Date(l.getTime());else{if(h&&t.isBuffer(l))return m=new t(l.length),l.copy(m),m;e(l,Error)?m=Object.create(l):void 0===c?(y=Object.getPrototypeOf(l),m=Object.create(y)):(m=Object.create(c),y=c)}if(u){var v=f.indexOf(l);if(-1!=v)return d[v];f.push(l),d.push(m)}for(var b in e(l,n)&&l.forEach(function(e,t){var n=a(t,g-1),r=a(e,g-1);m.set(n,r)}),e(l,r)&&l.forEach(function(e){var t=a(e,g-1);m.add(t)}),l){var x;y&&(x=Object.getOwnPropertyDescriptor(y,b)),x&&null==x.set||(m[b]=a(l[b],g-1))}if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(l);for(b=0;b<w.length;b++){var _=w[b];(!(C=Object.getOwnPropertyDescriptor(l,_))||C.enumerable||p)&&(m[_]=a(l[_],g-1),C.enumerable||Object.defineProperty(m,_,{enumerable:!1}))}}if(p){var O=Object.getOwnPropertyNames(l);for(b=0;b<O.length;b++){var C,E=O[b];(C=Object.getOwnPropertyDescriptor(l,E))&&C.enumerable||(m[E]=a(l[E],g-1),Object.defineProperty(m,E,{enumerable:!1}))}}return m}(a,l)}function a(e){return Object.prototype.toString.call(e)}function s(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}return i.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},i.__objToStr=a,i.__isDate=function(e){return"object"==typeof e&&"[object Date]"===a(e)},i.__isArray=function(e){return"object"==typeof e&&"[object Array]"===a(e)},i.__isRegExp=function(e){return"object"==typeof e&&"[object RegExp]"===a(e)},i.__getRegExpFlags=s,i}();"object"==typeof e&&e.exports&&(e.exports=r)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},a=d(n(0)),s=d(n(8)),u=n(4),l=d(u),c=d(n(16)),p=d(n(13)),f=d(n(25));function d(e){return e&&e.__esModule?e:{default:e}}function h(e){return e instanceof l.default||e instanceof u.BlockEmbed}var g=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.emitter=n.emitter,Array.isArray(n.whitelist)&&(r.whitelist=n.whitelist.reduce(function(e,t){return e[t]=!0,e},{})),r.domNode.addEventListener("DOMNodeInserted",function(){}),r.optimize(),r.enable(),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Scroll),o(t,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(e,n){var o=this.line(e),a=r(o,2),s=a[0],l=a[1],f=this.line(e+n),d=r(f,1)[0];if(i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"deleteAt",this).call(this,e,n),null!=d&&s!==d&&l>0){if(s instanceof u.BlockEmbed||d instanceof u.BlockEmbed)return void this.optimize();if(s instanceof p.default){var h=s.newlineIndex(s.length(),!0);if(h>-1&&(s=s.split(h+1))===d)return void this.optimize()}else if(d instanceof p.default){var g=d.newlineIndex(0);g>-1&&d.split(g+1)}var m=d.children.head instanceof c.default?null:d.children.head;s.moveChildren(d,m),s.remove()}this.optimize()}},{key:"enable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.domNode.setAttribute("contenteditable",e)}},{key:"formatAt",value:function(e,n,r,o){(null==this.whitelist||this.whitelist[r])&&(i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,n,r,o),this.optimize())}},{key:"insertAt",value:function(e,n,r){if(null==r||null==this.whitelist||this.whitelist[n]){if(e>=this.length())if(null==r||null==a.default.query(n,a.default.Scope.BLOCK)){var o=a.default.create(this.statics.defaultChild);this.appendChild(o),null==r&&n.endsWith("\n")&&(n=n.slice(0,-1)),o.insertAt(0,n,r)}else{var s=a.default.create(n,r);this.appendChild(s)}else i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,n,r);this.optimize()}}},{key:"insertBefore",value:function(e,n){if(e.statics.scope===a.default.Scope.INLINE_BLOT){var r=a.default.create(this.statics.defaultChild);r.appendChild(e),e=r}i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,n)}},{key:"leaf",value:function(e){return this.path(e).pop()||[null,-1]}},{key:"line",value:function(e){return e===this.length()?this.line(e-1):this.descendant(h,e)}},{key:"lines",value:function(){return function e(t,n,r){var o=[],i=r;return t.children.forEachAt(n,r,function(t,n,r){h(t)?o.push(t):t instanceof a.default.Container&&(o=o.concat(e(t,n,i))),i-=r}),o}(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE)}},{key:"optimize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!0!==this.batch&&(i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e,n),e.length>0&&this.emitter.emit(s.default.events.SCROLL_OPTIMIZE,e,n))}},{key:"path",value:function(e){return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"path",this).call(this,e).slice(1)}},{key:"update",value:function(e){if(!0!==this.batch){var n=s.default.sources.USER;"string"==typeof e&&(n=e),Array.isArray(e)||(e=this.observer.takeRecords()),e.length>0&&this.emitter.emit(s.default.events.SCROLL_BEFORE_UPDATE,n,e),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"update",this).call(this,e.concat([])),e.length>0&&this.emitter.emit(s.default.events.SCROLL_UPDATE,n,e)}}}]),t}();g.blotName="scroll",g.className="ql-editor",g.tagName="DIV",g.defaultChild="block",g.allowedChildren=[l.default,u.BlockEmbed,f.default],t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SHORTKEY=t.default=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=g(n(21)),s=g(n(11)),u=g(n(3)),l=g(n(2)),c=g(n(20)),p=g(n(0)),f=g(n(5)),d=g(n(10)),h=g(n(9));function g(e){return e&&e.__esModule?e:{default:e}}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=(0,d.default)("quill:keyboard"),v=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",b=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.bindings={},Object.keys(r.options.bindings).forEach(function(t){("list autofill"!==t||null==e.scroll.whitelist||e.scroll.whitelist.list)&&r.options.bindings[t]&&r.addBinding(r.options.bindings[t])}),r.addBinding({key:t.keys.ENTER,shiftKey:null},C),r.addBinding({key:t.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(r.addBinding({key:t.keys.BACKSPACE},{collapsed:!0},w),r.addBinding({key:t.keys.DELETE},{collapsed:!0},_)):(r.addBinding({key:t.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},w),r.addBinding({key:t.keys.DELETE},{collapsed:!0,suffix:/^.?$/},_)),r.addBinding({key:t.keys.BACKSPACE},{collapsed:!1},O),r.addBinding({key:t.keys.DELETE},{collapsed:!1},O),r.addBinding({key:t.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},w),r.listen(),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,h.default),i(t,null,[{key:"match",value:function(e,t){return t=P(t),!["altKey","ctrlKey","metaKey","shiftKey"].some(function(n){return!!t[n]!==e[n]&&null!==t[n]})&&t.key===(e.which||e.keyCode)}}]),i(t,[{key:"addBinding",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=P(e);if(null==r||null==r.key)return y.warn("Attempted to add invalid keyboard binding",r);"function"==typeof t&&(t={handler:t}),"function"==typeof n&&(n={handler:n}),r=(0,u.default)(r,t,n),this.bindings[r.key]=this.bindings[r.key]||[],this.bindings[r.key].push(r)}},{key:"listen",value:function(){var e=this;this.quill.root.addEventListener("keydown",function(n){if(!n.defaultPrevented){var i=n.which||n.keyCode,a=(e.bindings[i]||[]).filter(function(e){return t.match(n,e)});if(0!==a.length){var u=e.quill.getSelection();if(null!=u&&e.quill.hasFocus()){var l=e.quill.getLine(u.index),c=o(l,2),f=c[0],d=c[1],h=e.quill.getLeaf(u.index),g=o(h,2),m=g[0],y=g[1],v=0===u.length?[m,y]:e.quill.getLeaf(u.index+u.length),b=o(v,2),x=b[0],w=b[1],_=m instanceof p.default.Text?m.value().slice(0,y):"",O=x instanceof p.default.Text?x.value().slice(w):"",C={collapsed:0===u.length,empty:0===u.length&&f.length()<=1,format:e.quill.getFormat(u),offset:d,prefix:_,suffix:O};a.some(function(t){if(null!=t.collapsed&&t.collapsed!==C.collapsed)return!1;if(null!=t.empty&&t.empty!==C.empty)return!1;if(null!=t.offset&&t.offset!==C.offset)return!1;if(Array.isArray(t.format)){if(t.format.every(function(e){return null==C.format[e]}))return!1}else if("object"===r(t.format)&&!Object.keys(t.format).every(function(e){return!0===t.format[e]?null!=C.format[e]:!1===t.format[e]?null==C.format[e]:(0,s.default)(t.format[e],C.format[e])}))return!1;return!(null!=t.prefix&&!t.prefix.test(C.prefix))&&(!(null!=t.suffix&&!t.suffix.test(C.suffix))&&!0!==t.handler.call(e,u,C))})&&n.preventDefault()}}}})}}]),t}();function x(e,t){var n,r=e===b.keys.LEFT?"prefix":"suffix";return m(n={key:e,shiftKey:t,altKey:null},r,/^$/),m(n,"handler",function(n){var r=n.index;e===b.keys.RIGHT&&(r+=n.length+1);var i=this.quill.getLeaf(r);return!(o(i,1)[0]instanceof p.default.Embed)||(e===b.keys.LEFT?t?this.quill.setSelection(n.index-1,n.length+1,f.default.sources.USER):this.quill.setSelection(n.index-1,f.default.sources.USER):t?this.quill.setSelection(n.index,n.length+1,f.default.sources.USER):this.quill.setSelection(n.index+n.length+1,f.default.sources.USER),!1)}),n}function w(e,t){if(!(0===e.index||this.quill.getLength()<=1)){var n=this.quill.getLine(e.index),r=o(n,1)[0],i={};if(0===t.offset){var a=this.quill.getLine(e.index-1),s=o(a,1)[0];if(null!=s&&s.length()>1){var u=r.formats(),l=this.quill.getFormat(e.index-1,1);i=c.default.attributes.diff(u,l)||{}}}var p=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(t.prefix)?2:1;this.quill.deleteText(e.index-p,p,f.default.sources.USER),Object.keys(i).length>0&&this.quill.formatLine(e.index-p,p,i,f.default.sources.USER),this.quill.focus()}}function _(e,t){var n=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(t.suffix)?2:1;if(!(e.index>=this.quill.getLength()-n)){var r={},i=0,a=this.quill.getLine(e.index),s=o(a,1)[0];if(t.offset>=s.length()-1){var u=this.quill.getLine(e.index+1),l=o(u,1)[0];if(l){var p=s.formats(),d=this.quill.getFormat(e.index,1);r=c.default.attributes.diff(p,d)||{},i=l.length()}}this.quill.deleteText(e.index,n,f.default.sources.USER),Object.keys(r).length>0&&this.quill.formatLine(e.index+i-1,n,r,f.default.sources.USER)}}function O(e){var t=this.quill.getLines(e),n={};if(t.length>1){var r=t[0].formats(),o=t[t.length-1].formats();n=c.default.attributes.diff(o,r)||{}}this.quill.deleteText(e,f.default.sources.USER),Object.keys(n).length>0&&this.quill.formatLine(e.index,1,n,f.default.sources.USER),this.quill.setSelection(e.index,f.default.sources.SILENT),this.quill.focus()}function C(e,t){var n=this;e.length>0&&this.quill.scroll.deleteAt(e.index,e.length);var r=Object.keys(t.format).reduce(function(e,n){return p.default.query(n,p.default.Scope.BLOCK)&&!Array.isArray(t.format[n])&&(e[n]=t.format[n]),e},{});this.quill.insertText(e.index,"\n",r,f.default.sources.USER),this.quill.setSelection(e.index+1,f.default.sources.SILENT),this.quill.focus(),Object.keys(t.format).forEach(function(e){null==r[e]&&(Array.isArray(t.format[e])||"link"!==e&&n.quill.format(e,t.format[e],f.default.sources.USER))})}function E(e){return{key:b.keys.TAB,shiftKey:!e,format:{"code-block":!0},handler:function(t){var n=p.default.query("code-block"),r=t.index,i=t.length,a=this.quill.scroll.descendant(n,r),s=o(a,2),u=s[0],l=s[1];if(null!=u){var c=this.quill.getIndex(u),d=u.newlineIndex(l,!0)+1,h=u.newlineIndex(c+l+i),g=u.domNode.textContent.slice(d,h).split("\n");l=0,g.forEach(function(t,o){e?(u.insertAt(d+l,n.TAB),l+=n.TAB.length,0===o?r+=n.TAB.length:i+=n.TAB.length):t.startsWith(n.TAB)&&(u.deleteAt(d+l,n.TAB.length),l-=n.TAB.length,0===o?r-=n.TAB.length:i-=n.TAB.length),l+=t.length+1}),this.quill.update(f.default.sources.USER),this.quill.setSelection(r,i,f.default.sources.SILENT)}}}}function S(e){return{key:e[0].toUpperCase(),shortKey:!0,handler:function(t,n){this.quill.format(e,!n.format[e],f.default.sources.USER)}}}function P(e){if("string"==typeof e||"number"==typeof e)return P({key:e});if("object"===(void 0===e?"undefined":r(e))&&(e=(0,a.default)(e,!1)),"string"==typeof e.key)if(null!=b.keys[e.key.toUpperCase()])e.key=b.keys[e.key.toUpperCase()];else{if(1!==e.key.length)return null;e.key=e.key.toUpperCase().charCodeAt(0)}return e.shortKey&&(e[v]=e.shortKey,delete e.shortKey),e}b.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},b.DEFAULTS={bindings:{bold:S("bold"),italic:S("italic"),underline:S("underline"),indent:{key:b.keys.TAB,format:["blockquote","indent","list"],handler:function(e,t){if(t.collapsed&&0!==t.offset)return!0;this.quill.format("indent","+1",f.default.sources.USER)}},outdent:{key:b.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(e,t){if(t.collapsed&&0!==t.offset)return!0;this.quill.format("indent","-1",f.default.sources.USER)}},"outdent backspace":{key:b.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(e,t){null!=t.format.indent?this.quill.format("indent","-1",f.default.sources.USER):null!=t.format.list&&this.quill.format("list",!1,f.default.sources.USER)}},"indent code-block":E(!0),"outdent code-block":E(!1),"remove tab":{key:b.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(e){this.quill.deleteText(e.index-1,1,f.default.sources.USER)}},tab:{key:b.keys.TAB,handler:function(e){this.quill.history.cutoff();var t=(new l.default).retain(e.index).delete(e.length).insert("\t");this.quill.updateContents(t,f.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index+1,f.default.sources.SILENT)}},"list empty enter":{key:b.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(e,t){this.quill.format("list",!1,f.default.sources.USER),t.format.indent&&this.quill.format("indent",!1,f.default.sources.USER)}},"checklist enter":{key:b.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(e){var t=this.quill.getLine(e.index),n=o(t,2),r=n[0],i=n[1],a=(0,u.default)({},r.formats(),{list:"checked"}),s=(new l.default).retain(e.index).insert("\n",a).retain(r.length()-i-1).retain(1,{list:"unchecked"});this.quill.updateContents(s,f.default.sources.USER),this.quill.setSelection(e.index+1,f.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:b.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(e,t){var n=this.quill.getLine(e.index),r=o(n,2),i=r[0],a=r[1],s=(new l.default).retain(e.index).insert("\n",t.format).retain(i.length()-a-1).retain(1,{header:null});this.quill.updateContents(s,f.default.sources.USER),this.quill.setSelection(e.index+1,f.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(e,t){var n=t.prefix.length,r=this.quill.getLine(e.index),i=o(r,2),a=i[0],s=i[1];if(s>n)return!0;var u=void 0;switch(t.prefix.trim()){case"[]":case"[ ]":u="unchecked";break;case"[x]":u="checked";break;case"-":case"*":u="bullet";break;default:u="ordered"}this.quill.insertText(e.index," ",f.default.sources.USER),this.quill.history.cutoff();var c=(new l.default).retain(e.index-s).delete(n+1).retain(a.length()-2-s).retain(1,{list:u});this.quill.updateContents(c,f.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index-n,f.default.sources.SILENT)}},"code exit":{key:b.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(e){var t=this.quill.getLine(e.index),n=o(t,2),r=n[0],i=n[1],a=(new l.default).retain(e.index+r.length()-i-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(a,f.default.sources.USER)}},"embed left":x(b.keys.LEFT,!1),"embed left shift":x(b.keys.LEFT,!0),"embed right":x(b.keys.RIGHT,!1),"embed right shift":x(b.keys.RIGHT,!0)}},t.default=b,t.SHORTKEY=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=u(n(0)),s=u(n(7));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.selection=n,r.textNode=document.createTextNode(t.CONTENTS),r.domNode.appendChild(r.textNode),r._length=0,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Embed),i(t,null,[{key:"value",value:function(){}}]),i(t,[{key:"detach",value:function(){null!=this.parent&&this.parent.removeChild(this)}},{key:"format",value:function(e,n){if(0!==this._length)return o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n);for(var r=this,i=0;null!=r&&r.statics.scope!==a.default.Scope.BLOCK_BLOT;)i+=r.offset(r.parent),r=r.parent;null!=r&&(this._length=t.CONTENTS.length,r.optimize(),r.formatAt(i,t.CONTENTS.length,e,n),this._length=0)}},{key:"index",value:function(e,n){return e===this.textNode?0:o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"index",this).call(this,e,n)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!this.selection.composing&&null!=this.parent){var e=this.textNode,n=this.selection.getNativeRange(),o=void 0,i=void 0,u=void 0;if(null!=n&&n.start.node===e&&n.end.node===e){var l=[e,n.start.offset,n.end.offset];o=l[0],i=l[1],u=l[2]}for(;null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==t.CONTENTS){var c=this.textNode.data.split(t.CONTENTS).join("");this.next instanceof s.default?(o=this.next.domNode,this.next.insertAt(0,c),this.textNode.data=t.CONTENTS):(this.textNode.data=c,this.parent.insertBefore(a.default.create(this.textNode),this),this.textNode=document.createTextNode(t.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),null!=i){var p=[i,u].map(function(e){return Math.max(0,Math.min(o.data.length,e-1))}),f=r(p,2);return i=f[0],u=f[1],{startNode:o,startOffset:i,endNode:o,endOffset:u}}}}},{key:"update",value:function(e,t){var n=this;if(e.some(function(e){return"characterData"===e.type&&e.target===n.textNode})){var r=this.restore();r&&(t.range=r)}}},{key:"value",value:function(){return""}}]),t}();l.blotName="cursor",l.className="ql-cursor",l.tagName="span",l.CONTENTS="\ufeff",t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(0)),o=n(4),i=a(o);function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Container),t}();s.allowedChildren=[i.default,o.BlockEmbed,s],t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColorStyle=t.ColorClass=t.ColorAttributor=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){return e&&e.__esModule?e:{default:e}}(n(0));var i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Attributor.Style),r(t,[{key:"value",value:function(e){var n=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e);return n.startsWith("rgb(")?(n=n.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+n.split(",").map(function(e){return("00"+parseInt(e).toString(16)).slice(-2)}).join("")):n}}]),t}(),a=new o.default.Attributor.Class("color","ql-color",{scope:o.default.Scope.INLINE}),s=new i("color","color",{scope:o.default.Scope.INLINE});t.ColorAttributor=i,t.ColorClass=a,t.ColorStyle=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sanitize=t.default=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},i=function(e){return e&&e.__esModule?e:{default:e}}(n(6));var a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),r(t,[{key:"format",value:function(e,n){if(e!==this.statics.blotName||!n)return o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n);n=this.constructor.sanitize(n),this.domNode.setAttribute("href",n)}}],[{key:"create",value:function(e){var n=o(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return e=this.sanitize(e),n.setAttribute("href",e),n.setAttribute("target","_blank"),n}},{key:"formats",value:function(e){return e.getAttribute("href")}},{key:"sanitize",value:function(e){return s(e,this.PROTOCOL_WHITELIST)?e:this.SANITIZED_URL}}]),t}();function s(e,t){var n=document.createElement("a");n.href=e;var r=n.href.slice(0,n.href.indexOf(":"));return t.indexOf(r)>-1}a.blotName="link",a.tagName="A",a.SANITIZED_URL="about:blank",a.PROTOCOL_WHITELIST=["http","https","mailto","tel"],t.default=a,t.sanitize=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=s(n(23)),a=s(n(107));function s(e){return e&&e.__esModule?e:{default:e}}var u=0;function l(e,t){e.setAttribute(t,!("true"===e.getAttribute(t)))}var c=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.select=t,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){n.togglePicker()}),this.label.addEventListener("keydown",function(e){switch(e.keyCode){case i.default.keys.ENTER:n.togglePicker();break;case i.default.keys.ESCAPE:n.escape(),e.preventDefault()}}),this.select.addEventListener("change",this.update.bind(this))}return o(e,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),l(this.label,"aria-expanded"),l(this.options,"aria-hidden")}},{key:"buildItem",value:function(e){var t=this,n=document.createElement("span");return n.tabIndex="0",n.setAttribute("role","button"),n.classList.add("ql-picker-item"),e.hasAttribute("value")&&n.setAttribute("data-value",e.getAttribute("value")),e.textContent&&n.setAttribute("data-label",e.textContent),n.addEventListener("click",function(){t.selectItem(n,!0)}),n.addEventListener("keydown",function(e){switch(e.keyCode){case i.default.keys.ENTER:t.selectItem(n,!0),e.preventDefault();break;case i.default.keys.ESCAPE:t.escape(),e.preventDefault()}}),n}},{key:"buildLabel",value:function(){var e=document.createElement("span");return e.classList.add("ql-picker-label"),e.innerHTML=a.default,e.tabIndex="0",e.setAttribute("role","button"),e.setAttribute("aria-expanded","false"),this.container.appendChild(e),e}},{key:"buildOptions",value:function(){var e=this,t=document.createElement("span");t.classList.add("ql-picker-options"),t.setAttribute("aria-hidden","true"),t.tabIndex="-1",t.id="ql-picker-options-"+u,u+=1,this.label.setAttribute("aria-controls",t.id),this.options=t,[].slice.call(this.select.options).forEach(function(n){var r=e.buildItem(n);t.appendChild(r),!0===n.selected&&e.selectItem(r)}),this.container.appendChild(t)}},{key:"buildPicker",value:function(){var e=this;[].slice.call(this.select.attributes).forEach(function(t){e.container.setAttribute(t.name,t.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var e=this;this.close(),setTimeout(function(){return e.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.container.querySelector(".ql-selected");if(e!==n&&(null!=n&&n.classList.remove("ql-selected"),null!=e&&(e.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(e.parentNode.children,e),e.hasAttribute("data-value")?this.label.setAttribute("data-value",e.getAttribute("data-value")):this.label.removeAttribute("data-value"),e.hasAttribute("data-label")?this.label.setAttribute("data-label",e.getAttribute("data-label")):this.label.removeAttribute("data-label"),t))){if("function"==typeof Event)this.select.dispatchEvent(new Event("change"));else if("object"===("undefined"==typeof Event?"undefined":r(Event))){var o=document.createEvent("Event");o.initEvent("change",!0,!0),this.select.dispatchEvent(o)}this.close()}}},{key:"update",value:function(){var e=void 0;if(this.select.selectedIndex>-1){var t=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];e=this.select.options[this.select.selectedIndex],this.selectItem(t)}else this.selectItem(null);var n=null!=e&&e!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",n)}}]),e}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=y(n(0)),o=y(n(5)),i=n(4),a=y(i),s=y(n(16)),u=y(n(25)),l=y(n(24)),c=y(n(35)),p=y(n(6)),f=y(n(22)),d=y(n(7)),h=y(n(55)),g=y(n(42)),m=y(n(23));function y(e){return e&&e.__esModule?e:{default:e}}o.default.register({"blots/block":a.default,"blots/block/embed":i.BlockEmbed,"blots/break":s.default,"blots/container":u.default,"blots/cursor":l.default,"blots/embed":c.default,"blots/inline":p.default,"blots/scroll":f.default,"blots/text":d.default,"modules/clipboard":h.default,"modules/history":g.default,"modules/keyboard":m.default}),r.default.register(a.default,s.default,l.default,p.default,f.default,d.default),t.default=o.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=function(){function e(e){this.domNode=e,this.domNode[r.DATA_KEY]={blot:this}}return Object.defineProperty(e.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),e.create=function(e){if(null==this.tagName)throw new r.ParchmentError("Blot definition missing tagName");var t;return Array.isArray(this.tagName)?("string"==typeof e&&(e=e.toUpperCase(),parseInt(e).toString()===e&&(e=parseInt(e))),t="number"==typeof e?document.createElement(this.tagName[e-1]):this.tagName.indexOf(e)>-1?document.createElement(e):document.createElement(this.tagName[0])):t=document.createElement(this.tagName),this.className&&t.classList.add(this.className),t},e.prototype.attach=function(){null!=this.parent&&(this.scroll=this.parent.scroll)},e.prototype.clone=function(){var e=this.domNode.cloneNode(!1);return r.create(e)},e.prototype.detach=function(){null!=this.parent&&this.parent.removeChild(this),delete this.domNode[r.DATA_KEY]},e.prototype.deleteAt=function(e,t){this.isolate(e,t).remove()},e.prototype.formatAt=function(e,t,n,o){var i=this.isolate(e,t);if(null!=r.query(n,r.Scope.BLOT)&&o)i.wrap(n,o);else if(null!=r.query(n,r.Scope.ATTRIBUTE)){var a=r.create(this.statics.scope);i.wrap(a),a.format(n,o)}},e.prototype.insertAt=function(e,t,n){var o=null==n?r.create("text",t):r.create(t,n),i=this.split(e);this.parent.insertBefore(o,i)},e.prototype.insertInto=function(e,t){void 0===t&&(t=null),null!=this.parent&&this.parent.children.remove(this);var n=null;e.children.insertBefore(this,t),null!=t&&(n=t.domNode),this.domNode.parentNode==e.domNode&&this.domNode.nextSibling==n||e.domNode.insertBefore(this.domNode,n),this.parent=e,this.attach()},e.prototype.isolate=function(e,t){var n=this.split(e);return n.split(t),n},e.prototype.length=function(){return 1},e.prototype.offset=function(e){return void 0===e&&(e=this.parent),null==this.parent||this==e?0:this.parent.children.offset(this)+this.parent.offset(e)},e.prototype.optimize=function(e){null!=this.domNode[r.DATA_KEY]&&delete this.domNode[r.DATA_KEY].mutations},e.prototype.remove=function(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},e.prototype.replace=function(e){null!=e.parent&&(e.parent.insertBefore(this,e.next),e.remove())},e.prototype.replaceWith=function(e,t){var n="string"==typeof e?r.create(e,t):e;return n.replace(this),n},e.prototype.split=function(e,t){return 0===e?this:this.next},e.prototype.update=function(e,t){},e.prototype.wrap=function(e,t){var n="string"==typeof e?r.create(e,t):e;return null!=this.parent&&this.parent.insertBefore(n,this.next),n.appendChild(this),n},e.blotName="abstract",e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(12),o=n(32),i=n(33),a=n(1),s=function(){function e(e){this.attributes={},this.domNode=e,this.build()}return e.prototype.attribute=function(e,t){t?e.add(this.domNode,t)&&(null!=e.value(this.domNode)?this.attributes[e.attrName]=e:delete this.attributes[e.attrName]):(e.remove(this.domNode),delete this.attributes[e.attrName])},e.prototype.build=function(){var e=this;this.attributes={};var t=r.default.keys(this.domNode),n=o.default.keys(this.domNode),s=i.default.keys(this.domNode);t.concat(n).concat(s).forEach(function(t){var n=a.query(t,a.Scope.ATTRIBUTE);n instanceof r.default&&(e.attributes[n.attrName]=n)})},e.prototype.copy=function(e){var t=this;Object.keys(this.attributes).forEach(function(n){var r=t.attributes[n].value(t.domNode);e.format(n,r)})},e.prototype.move=function(e){var t=this;this.copy(e),Object.keys(this.attributes).forEach(function(e){t.attributes[e].remove(t.domNode)}),this.attributes={}},e.prototype.values=function(){var e=this;return Object.keys(this.attributes).reduce(function(t,n){return t[n]=e.attributes[n].value(e.domNode),t},{})},e}();t.default=s},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function o(e,t){return(e.getAttribute("class")||"").split(/\s+/).filter(function(e){return 0===e.indexOf(t+"-")})}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.keys=function(e){return(e.getAttribute("class")||"").split(/\s+/).map(function(e){return e.split("-").slice(0,-1).join("-")})},t.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(this.remove(e),e.classList.add(this.keyName+"-"+t),!0)},t.prototype.remove=function(e){o(e,this.keyName).forEach(function(t){e.classList.remove(t)}),0===e.classList.length&&e.removeAttribute("class")},t.prototype.value=function(e){var t=(o(e,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(e,t)?t:""},t}(n(12).default);t.default=i},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function o(e){var t=e.split("-"),n=t.slice(1).map(function(e){return e[0].toUpperCase()+e.slice(1)}).join("");return t[0]+n}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.keys=function(e){return(e.getAttribute("style")||"").split(";").map(function(e){return e.split(":")[0].trim()})},t.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(e.style[o(this.keyName)]=t,!0)},t.prototype.remove=function(e){e.style[o(this.keyName)]="",e.getAttribute("style")||e.removeAttribute("style")},t.prototype.value=function(e){var t=e.style[o(this.keyName)];return this.canAdd(e,t)?t:""},t}(n(12).default);t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.quill=t,this.options=n,this.modules={}}return r(e,[{key:"init",value:function(){var e=this;Object.keys(this.options.modules).forEach(function(t){null==e.modules[t]&&e.addModule(t)})}},{key:"addModule",value:function(e){var t=this.quill.constructor.import("modules/"+e);return this.modules[e]=new t(this.quill,this.options.modules[e]||{}),this.modules[e]}}]),e}();o.DEFAULTS={modules:{}},o.themes={default:o},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=a(n(0)),i=a(n(7));function a(e){return e&&e.__esModule?e:{default:e}}var s="\ufeff",u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.contentNode=document.createElement("span"),n.contentNode.setAttribute("contenteditable",!1),[].slice.call(n.domNode.childNodes).forEach(function(e){n.contentNode.appendChild(e)}),n.leftGuard=document.createTextNode(s),n.rightGuard=document.createTextNode(s),n.domNode.appendChild(n.leftGuard),n.domNode.appendChild(n.contentNode),n.domNode.appendChild(n.rightGuard),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Embed),r(t,[{key:"index",value:function(e,n){return e===this.leftGuard?0:e===this.rightGuard?1:function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"index",this).call(this,e,n)}},{key:"restore",value:function(e){var t=void 0,n=void 0,r=e.data.split(s).join("");if(e===this.leftGuard)if(this.prev instanceof i.default){var a=this.prev.length();this.prev.insertAt(a,r),t={startNode:this.prev.domNode,startOffset:a+r.length}}else n=document.createTextNode(r),this.parent.insertBefore(o.default.create(n),this),t={startNode:n,startOffset:r.length};else e===this.rightGuard&&(this.next instanceof i.default?(this.next.insertAt(0,r),t={startNode:this.next.domNode,startOffset:r.length}):(n=document.createTextNode(r),this.parent.insertBefore(o.default.create(n),this.next),t={startNode:n,startOffset:r.length}));return e.data=s,t}},{key:"update",value:function(e,t){var n=this;e.forEach(function(e){if("characterData"===e.type&&(e.target===n.leftGuard||e.target===n.rightGuard)){var r=n.restore(e.target);r&&(t.range=r)}})}}]),t}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AlignStyle=t.AlignClass=t.AlignAttribute=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(0));var o={scope:r.default.Scope.BLOCK,whitelist:["right","center","justify"]},i=new r.default.Attributor.Attribute("align","align",o),a=new r.default.Attributor.Class("align","ql-align",o),s=new r.default.Attributor.Style("align","text-align",o);t.AlignAttribute=i,t.AlignClass=a,t.AlignStyle=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BackgroundStyle=t.BackgroundClass=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),o=n(26);var i=new r.default.Attributor.Class("background","ql-bg",{scope:r.default.Scope.INLINE}),a=new o.ColorAttributor("background","background-color",{scope:r.default.Scope.INLINE});t.BackgroundClass=i,t.BackgroundStyle=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DirectionStyle=t.DirectionClass=t.DirectionAttribute=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(0));var o={scope:r.default.Scope.BLOCK,whitelist:["rtl"]},i=new r.default.Attributor.Attribute("direction","dir",o),a=new r.default.Attributor.Class("direction","ql-direction",o),s=new r.default.Attributor.Style("direction","direction",o);t.DirectionAttribute=i,t.DirectionClass=a,t.DirectionStyle=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FontClass=t.FontStyle=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){return e&&e.__esModule?e:{default:e}}(n(0));var i={scope:o.default.Scope.INLINE,whitelist:["serif","monospace"]},a=new o.default.Attributor.Class("font","ql-font",i),s=new(function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Attributor.Style),r(t,[{key:"value",value:function(e){return function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e).replace(/["']/g,"")}}]),t}())("font","font-family",i);t.FontStyle=s,t.FontClass=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SizeStyle=t.SizeClass=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(0));var o=new r.default.Attributor.Class("size","ql-size",{scope:r.default.Scope.INLINE,whitelist:["small","large","huge"]}),i=new r.default.Attributor.Style("size","font-size",{scope:r.default.Scope.INLINE,whitelist:["10px","18px","32px"]});t.SizeClass=o,t.SizeStyle=i},function(e,t,n){"use strict";e.exports={align:{"":n(76),center:n(77),right:n(78),justify:n(79)},background:n(80),blockquote:n(81),bold:n(82),clean:n(83),code:n(58),"code-block":n(58),color:n(84),direction:{"":n(85),rtl:n(86)},float:{center:n(87),full:n(88),left:n(89),right:n(90)},formula:n(91),header:{1:n(92),2:n(93)},italic:n(94),image:n(95),indent:{"+1":n(96),"-1":n(97)},link:n(98),list:{ordered:n(99),bullet:n(100),check:n(101)},script:{sub:n(102),super:n(103)},strike:n(104),underline:n(105),video:n(106)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLastChangeIndex=t.default=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=s(n(0)),i=s(n(5)),a=s(n(9));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.lastRecorded=0,r.ignoreChange=!1,r.clear(),r.quill.on(i.default.events.EDITOR_CHANGE,function(e,t,n,o){e!==i.default.events.TEXT_CHANGE||r.ignoreChange||(r.options.userOnly&&o!==i.default.sources.USER?r.transform(t):r.record(t,n))}),r.quill.keyboard.addBinding({key:"Z",shortKey:!0},r.undo.bind(r)),r.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},r.redo.bind(r)),/Win/i.test(navigator.platform)&&r.quill.keyboard.addBinding({key:"Y",shortKey:!0},r.redo.bind(r)),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"change",value:function(e,t){if(0!==this.stack[e].length){var n=this.stack[e].pop();this.stack[t].push(n),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(n[e],i.default.sources.USER),this.ignoreChange=!1;var r=l(n[e]);this.quill.setSelection(r)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(e,t){if(0!==e.ops.length){this.stack.redo=[];var n=this.quill.getContents().diff(t),r=Date.now();if(this.lastRecorded+this.options.delay>r&&this.stack.undo.length>0){var o=this.stack.undo.pop();n=n.compose(o.undo),e=o.redo.compose(e)}else this.lastRecorded=r;this.stack.undo.push({redo:e,undo:n}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(e){this.stack.undo.forEach(function(t){t.undo=e.transform(t.undo,!0),t.redo=e.transform(t.redo,!0)}),this.stack.redo.forEach(function(t){t.undo=e.transform(t.undo,!0),t.redo=e.transform(t.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),t}();function l(e){var t=e.reduce(function(e,t){return e+=t.delete||0},0),n=e.length()-t;return function(e){var t=e.ops[e.ops.length-1];return null!=t&&(null!=t.insert?"string"==typeof t.insert&&t.insert.endsWith("\n"):null!=t.attributes&&Object.keys(t.attributes).some(function(e){return null!=o.default.query(e,o.default.Scope.BLOCK)}))}(e)&&(n-=1),n}u.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1},t.default=u,t.getLastChangeIndex=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BaseTooltip=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=d(n(3)),i=d(n(2)),a=d(n(8)),s=d(n(23)),u=d(n(34)),l=d(n(59)),c=d(n(60)),p=d(n(28)),f=d(n(61));function d(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y=[!1,"center","right","justify"],v=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],b=[!1,"serif","monospace"],x=["1","2","3",!1],w=["small",!1,"large","huge"],_=function(e){function t(e,n){h(this,t);var r=g(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return e.emitter.listenDOM("click",document.body,function t(n){if(!document.body.contains(e.root))return document.body.removeEventListener("click",t);null==r.tooltip||r.tooltip.root.contains(n.target)||document.activeElement===r.tooltip.textbox||r.quill.hasFocus()||r.tooltip.hide(),null!=r.pickers&&r.pickers.forEach(function(e){e.container.contains(n.target)||e.close()})}),r}return m(t,u.default),r(t,[{key:"addModule",value:function(e){var n=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"addModule",this).call(this,e);return"toolbar"===e&&this.extendToolbar(n),n}},{key:"buildButtons",value:function(e,t){e.forEach(function(e){(e.getAttribute("class")||"").split(/\s+/).forEach(function(n){if(n.startsWith("ql-")&&(n=n.slice("ql-".length),null!=t[n]))if("direction"===n)e.innerHTML=t[n][""]+t[n].rtl;else if("string"==typeof t[n])e.innerHTML=t[n];else{var r=e.value||"";null!=r&&t[n][r]&&(e.innerHTML=t[n][r])}})})}},{key:"buildPickers",value:function(e,t){var n=this;this.pickers=e.map(function(e){if(e.classList.contains("ql-align"))return null==e.querySelector("option")&&C(e,y),new c.default(e,t.align);if(e.classList.contains("ql-background")||e.classList.contains("ql-color")){var n=e.classList.contains("ql-background")?"background":"color";return null==e.querySelector("option")&&C(e,v,"background"===n?"#ffffff":"#000000"),new l.default(e,t[n])}return null==e.querySelector("option")&&(e.classList.contains("ql-font")?C(e,b):e.classList.contains("ql-header")?C(e,x):e.classList.contains("ql-size")&&C(e,w)),new p.default(e)});this.quill.on(a.default.events.EDITOR_CHANGE,function(){n.pickers.forEach(function(e){e.update()})})}}]),t}();_.DEFAULTS=(0,o.default)(!0,{},u.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var e=this,t=this.container.querySelector("input.ql-image[type=file]");null==t&&((t=document.createElement("input")).setAttribute("type","file"),t.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),t.classList.add("ql-image"),t.addEventListener("change",function(){if(null!=t.files&&null!=t.files[0]){var n=new FileReader;n.onload=function(n){var r=e.quill.getSelection(!0);e.quill.updateContents((new i.default).retain(r.index).delete(r.length).insert({image:n.target.result}),a.default.sources.USER),e.quill.setSelection(r.index+1,a.default.sources.SILENT),t.value=""},n.readAsDataURL(t.files[0])}}),this.container.appendChild(t)),t.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var O=function(e){function t(e,n){h(this,t);var r=g(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.textbox=r.root.querySelector('input[type="text"]'),r.listen(),r}return m(t,f.default),r(t,[{key:"listen",value:function(){var e=this;this.textbox.addEventListener("keydown",function(t){s.default.match(t,"enter")?(e.save(),t.preventDefault()):s.default.match(t,"escape")&&(e.cancel(),t.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"link",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),null!=t?this.textbox.value=t:e!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+e)||""),this.root.setAttribute("data-mode",e)}},{key:"restoreFocus",value:function(){var e=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=e}},{key:"save",value:function(){var e=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":var t=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",e,a.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",e,a.default.sources.USER)),this.quill.root.scrollTop=t;break;case"video":e=function(e){var t=e.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||e.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);if(t)return(t[1]||"https")+"://www.youtube.com/embed/"+t[2]+"?showinfo=0";if(t=e.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))return(t[1]||"https")+"://player.vimeo.com/video/"+t[2]+"/";return e}(e);case"formula":if(!e)break;var n=this.quill.getSelection(!0);if(null!=n){var r=n.index+n.length;this.quill.insertEmbed(r,this.root.getAttribute("data-mode"),e,a.default.sources.USER),"formula"===this.root.getAttribute("data-mode")&&this.quill.insertText(r+1," ",a.default.sources.USER),this.quill.setSelection(r+2,a.default.sources.USER)}}this.textbox.value="",this.hide()}}]),t}();function C(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t.forEach(function(t){var r=document.createElement("option");t===n?r.setAttribute("selected","selected"):r.setAttribute("value",t),e.appendChild(r)})}t.BaseTooltip=O,t.default=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.head=this.tail=null,this.length=0}return e.prototype.append=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.insertBefore(e[0],null),e.length>1&&this.append.apply(this,e.slice(1))},e.prototype.contains=function(e){for(var t,n=this.iterator();t=n();)if(t===e)return!0;return!1},e.prototype.insertBefore=function(e,t){e&&(e.next=t,null!=t?(e.prev=t.prev,null!=t.prev&&(t.prev.next=e),t.prev=e,t===this.head&&(this.head=e)):null!=this.tail?(this.tail.next=e,e.prev=this.tail,this.tail=e):(e.prev=null,this.head=this.tail=e),this.length+=1)},e.prototype.offset=function(e){for(var t=0,n=this.head;null!=n;){if(n===e)return t;t+=n.length(),n=n.next}return-1},e.prototype.remove=function(e){this.contains(e)&&(null!=e.prev&&(e.prev.next=e.next),null!=e.next&&(e.next.prev=e.prev),e===this.head&&(this.head=e.next),e===this.tail&&(this.tail=e.prev),this.length-=1)},e.prototype.iterator=function(e){return void 0===e&&(e=this.head),function(){var t=e;return null!=e&&(e=e.next),t}},e.prototype.find=function(e,t){void 0===t&&(t=!1);for(var n,r=this.iterator();n=r();){var o=n.length();if(e<o||t&&e===o&&(null==n.next||0!==n.next.length()))return[n,e];e-=o}return[null,0]},e.prototype.forEach=function(e){for(var t,n=this.iterator();t=n();)e(t)},e.prototype.forEachAt=function(e,t,n){if(!(t<=0))for(var r,o=this.find(e),i=o[0],a=e-o[1],s=this.iterator(i);(r=s())&&a<e+t;){var u=r.length();e>a?n(r,e-a,Math.min(t,a+u-e)):n(r,0,Math.min(u,e+t-a)),a+=u}},e.prototype.map=function(e){return this.reduce(function(t,n){return t.push(e(n)),t},[])},e.prototype.reduce=function(e,t){for(var n,r=this.iterator();n=r();)t=e(t,n);return t},e}();t.default=r},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(17),i=n(1),a={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},s=function(e){function t(t){var n=e.call(this,t)||this;return n.scroll=n,n.observer=new MutationObserver(function(e){n.update(e)}),n.observer.observe(n.domNode,a),n.attach(),n}return r(t,e),t.prototype.detach=function(){e.prototype.detach.call(this),this.observer.disconnect()},t.prototype.deleteAt=function(t,n){this.update(),0===t&&n===this.length()?this.children.forEach(function(e){e.remove()}):e.prototype.deleteAt.call(this,t,n)},t.prototype.formatAt=function(t,n,r,o){this.update(),e.prototype.formatAt.call(this,t,n,r,o)},t.prototype.insertAt=function(t,n,r){this.update(),e.prototype.insertAt.call(this,t,n,r)},t.prototype.optimize=function(t,n){var r=this;void 0===t&&(t=[]),void 0===n&&(n={}),e.prototype.optimize.call(this,n);for(var a=[].slice.call(this.observer.takeRecords());a.length>0;)t.push(a.pop());for(var s=function(e,t){void 0===t&&(t=!0),null!=e&&e!==r&&null!=e.domNode.parentNode&&(null==e.domNode[i.DATA_KEY].mutations&&(e.domNode[i.DATA_KEY].mutations=[]),t&&s(e.parent))},u=function(e){null!=e.domNode[i.DATA_KEY]&&null!=e.domNode[i.DATA_KEY].mutations&&(e instanceof o.default&&e.children.forEach(u),e.optimize(n))},l=t,c=0;l.length>0;c+=1){if(c>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(l.forEach(function(e){var t=i.find(e.target,!0);null!=t&&(t.domNode===e.target&&("childList"===e.type?(s(i.find(e.previousSibling,!1)),[].forEach.call(e.addedNodes,function(e){var t=i.find(e,!1);s(t,!1),t instanceof o.default&&t.children.forEach(function(e){s(e,!1)})})):"attributes"===e.type&&s(t.prev)),s(t))}),this.children.forEach(u),a=(l=[].slice.call(this.observer.takeRecords())).slice();a.length>0;)t.push(a.pop())}},t.prototype.update=function(t,n){var r=this;void 0===n&&(n={}),(t=t||this.observer.takeRecords()).map(function(e){var t=i.find(e.target,!0);return null==t?null:null==t.domNode[i.DATA_KEY].mutations?(t.domNode[i.DATA_KEY].mutations=[e],t):(t.domNode[i.DATA_KEY].mutations.push(e),null)}).forEach(function(e){null!=e&&e!==r&&null!=e.domNode[i.DATA_KEY]&&e.update(e.domNode[i.DATA_KEY].mutations||[],n)}),null!=this.domNode[i.DATA_KEY].mutations&&e.prototype.update.call(this,this.domNode[i.DATA_KEY].mutations,n),this.optimize(t,n)},t.blotName="scroll",t.defaultChild="block",t.scope=i.Scope.BLOCK_BLOT,t.tagName="DIV",t}(o.default);t.default=s},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(18),i=n(1);var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.formats=function(n){if(n.tagName!==t.tagName)return e.formats.call(this,n)},t.prototype.format=function(n,r){var i=this;n!==this.statics.blotName||r?e.prototype.format.call(this,n,r):(this.children.forEach(function(e){e instanceof o.default||(e=e.wrap(t.blotName,!0)),i.attributes.copy(e)}),this.unwrap())},t.prototype.formatAt=function(t,n,r,o){null!=this.formats()[r]||i.query(r,i.Scope.ATTRIBUTE)?this.isolate(t,n).format(r,o):e.prototype.formatAt.call(this,t,n,r,o)},t.prototype.optimize=function(n){e.prototype.optimize.call(this,n);var r=this.formats();if(0===Object.keys(r).length)return this.unwrap();var o=this.next;o instanceof t&&o.prev===this&&function(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e)if(e[n]!==t[n])return!1;return!0}(r,o.formats())&&(o.moveChildren(this),o.remove())},t.blotName="inline",t.scope=i.Scope.INLINE_BLOT,t.tagName="SPAN",t}(o.default);t.default=a},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(18),i=n(1),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.formats=function(n){var r=i.query(t.blotName).tagName;if(n.tagName!==r)return e.formats.call(this,n)},t.prototype.format=function(n,r){null!=i.query(n,i.Scope.BLOCK)&&(n!==this.statics.blotName||r?e.prototype.format.call(this,n,r):this.replaceWith(t.blotName))},t.prototype.formatAt=function(t,n,r,o){null!=i.query(r,i.Scope.BLOCK)?this.format(r,o):e.prototype.formatAt.call(this,t,n,r,o)},t.prototype.insertAt=function(t,n,r){if(null==r||null!=i.query(n,i.Scope.INLINE))e.prototype.insertAt.call(this,t,n,r);else{var o=this.split(t),a=i.create(n,r);o.parent.insertBefore(a,o)}},t.prototype.update=function(t,n){navigator.userAgent.match(/Trident/)?this.build():e.prototype.update.call(this,t,n)},t.blotName="block",t.scope=i.Scope.BLOCK_BLOT,t.tagName="P",t}(o.default);t.default=a},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.formats=function(e){},t.prototype.format=function(t,n){e.prototype.formatAt.call(this,0,this.length(),t,n)},t.prototype.formatAt=function(t,n,r,o){0===t&&n===this.length()?this.format(r,o):e.prototype.formatAt.call(this,t,n,r,o)},t.prototype.formats=function(){return this.statics.formats(this.domNode)},t}(n(19).default);t.default=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(19),i=n(1),a=function(e){function t(t){var n=e.call(this,t)||this;return n.text=n.statics.value(n.domNode),n}return r(t,e),t.create=function(e){return document.createTextNode(e)},t.value=function(e){var t=e.data;return t.normalize&&(t=t.normalize()),t},t.prototype.deleteAt=function(e,t){this.domNode.data=this.text=this.text.slice(0,e)+this.text.slice(e+t)},t.prototype.index=function(e,t){return this.domNode===e?t:-1},t.prototype.insertAt=function(t,n,r){null==r?(this.text=this.text.slice(0,t)+n+this.text.slice(t),this.domNode.data=this.text):e.prototype.insertAt.call(this,t,n,r)},t.prototype.length=function(){return this.text.length},t.prototype.optimize=function(n){e.prototype.optimize.call(this,n),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof t&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},t.prototype.position=function(e,t){return void 0===t&&(t=!1),[this.domNode,e]},t.prototype.split=function(e,t){if(void 0===t&&(t=!1),!t){if(0===e)return this;if(e===this.length())return this.next}var n=i.create(this.domNode.splitText(e));return this.parent.insertBefore(n,this.next),this.text=this.statics.value(this.domNode),n},t.prototype.update=function(e,t){var n=this;e.some(function(e){return"characterData"===e.type&&e.target===n.domNode})&&(this.text=this.statics.value(this.domNode))},t.prototype.value=function(){return this.text},t.blotName="text",t.scope=i.Scope.INLINE_BLOT,t}(o.default);t.default=a},function(e,t,n){"use strict";var r=document.createElement("div");if(r.classList.toggle("test-class",!1),r.classList.contains("test-class")){var o=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){return arguments.length>1&&!this.contains(e)==!t?t:o.call(this,e)}}String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.substr(t,e.length)===e}),String.prototype.endsWith||(String.prototype.endsWith=function(e,t){var n=this.toString();("number"!=typeof t||!isFinite(t)||Math.floor(t)!==t||t>n.length)&&(t=n.length),t-=e.length;var r=n.indexOf(e,t);return-1!==r&&r===t}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t,n=Object(this),r=n.length>>>0,o=arguments[1],i=0;i<r;i++)if(t=n[i],e.call(o,t,i,n))return t}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(e,t){var n=-1,r=1,o=0;function i(e,t,l){if(e==t)return e?[[o,e]]:[];(l<0||e.length<l)&&(l=null);var p=s(e,t),f=e.substring(0,p);p=u(e=e.substring(p),t=t.substring(p));var d=e.substring(e.length-p),h=function(e,t){var l;if(!e)return[[r,t]];if(!t)return[[n,e]];var c=e.length>t.length?e:t,p=e.length>t.length?t:e,f=c.indexOf(p);if(-1!=f)return l=[[r,c.substring(0,f)],[o,p],[r,c.substring(f+p.length)]],e.length>t.length&&(l[0][0]=l[2][0]=n),l;if(1==p.length)return[[n,e],[r,t]];var d=function(e,t){var n=e.length>t.length?e:t,r=e.length>t.length?t:e;if(n.length<4||2*r.length<n.length)return null;function o(e,t,n){for(var r,o,i,a,l=e.substring(n,n+Math.floor(e.length/4)),c=-1,p="";-1!=(c=t.indexOf(l,c+1));){var f=s(e.substring(n),t.substring(c)),d=u(e.substring(0,n),t.substring(0,c));p.length<d+f&&(p=t.substring(c-d,c)+t.substring(c,c+f),r=e.substring(0,n-d),o=e.substring(n+f),i=t.substring(0,c-d),a=t.substring(c+f))}return 2*p.length>=e.length?[r,o,i,a,p]:null}var i,a,l,c,p,f=o(n,r,Math.ceil(n.length/4)),d=o(n,r,Math.ceil(n.length/2));if(!f&&!d)return null;i=d?f&&f[4].length>d[4].length?f:d:f;e.length>t.length?(a=i[0],l=i[1],c=i[2],p=i[3]):(c=i[0],p=i[1],a=i[2],l=i[3]);var h=i[4];return[a,l,c,p,h]}(e,t);if(d){var h=d[0],g=d[1],m=d[2],y=d[3],v=d[4],b=i(h,m),x=i(g,y);return b.concat([[o,v]],x)}return function(e,t){for(var o=e.length,i=t.length,s=Math.ceil((o+i)/2),u=s,l=2*s,c=new Array(l),p=new Array(l),f=0;f<l;f++)c[f]=-1,p[f]=-1;c[u+1]=0,p[u+1]=0;for(var d=o-i,h=d%2!=0,g=0,m=0,y=0,v=0,b=0;b<s;b++){for(var x=-b+g;x<=b-m;x+=2){for(var w=u+x,_=(P=x==-b||x!=b&&c[w-1]<c[w+1]?c[w+1]:c[w-1]+1)-x;P<o&&_<i&&e.charAt(P)==t.charAt(_);)P++,_++;if(c[w]=P,P>o)m+=2;else if(_>i)g+=2;else if(h){var O=u+d-x;if(O>=0&&O<l&&-1!=p[O]){var C=o-p[O];if(P>=C)return a(e,t,P,_)}}}for(var E=-b+y;E<=b-v;E+=2){for(var O=u+E,S=(C=E==-b||E!=b&&p[O-1]<p[O+1]?p[O+1]:p[O-1]+1)-E;C<o&&S<i&&e.charAt(o-C-1)==t.charAt(i-S-1);)C++,S++;if(p[O]=C,C>o)v+=2;else if(S>i)y+=2;else if(!h){var w=u+d-E;if(w>=0&&w<l&&-1!=c[w]){var P=c[w],_=u+P-w;if(P>=(C=o-C))return a(e,t,P,_)}}}}return[[n,e],[r,t]]}(e,t)}(e=e.substring(0,e.length-p),t=t.substring(0,t.length-p));return f&&h.unshift([o,f]),d&&h.push([o,d]),function e(t){t.push([o,""]);var i=0;var a=0;var l=0;var c="";var p="";var f;for(;i<t.length;)switch(t[i][0]){case r:l++,p+=t[i][1],i++;break;case n:a++,c+=t[i][1],i++;break;case o:a+l>1?(0!==a&&0!==l&&(0!==(f=s(p,c))&&(i-a-l>0&&t[i-a-l-1][0]==o?t[i-a-l-1][1]+=p.substring(0,f):(t.splice(0,0,[o,p.substring(0,f)]),i++),p=p.substring(f),c=c.substring(f)),0!==(f=u(p,c))&&(t[i][1]=p.substring(p.length-f)+t[i][1],p=p.substring(0,p.length-f),c=c.substring(0,c.length-f))),0===a?t.splice(i-l,a+l,[r,p]):0===l?t.splice(i-a,a+l,[n,c]):t.splice(i-a-l,a+l,[n,c],[r,p]),i=i-a-l+(a?1:0)+(l?1:0)+1):0!==i&&t[i-1][0]==o?(t[i-1][1]+=t[i][1],t.splice(i,1)):i++,l=0,a=0,c="",p=""}""===t[t.length-1][1]&&t.pop();var d=!1;i=1;for(;i<t.length-1;)t[i-1][0]==o&&t[i+1][0]==o&&(t[i][1].substring(t[i][1].length-t[i-1][1].length)==t[i-1][1]?(t[i][1]=t[i-1][1]+t[i][1].substring(0,t[i][1].length-t[i-1][1].length),t[i+1][1]=t[i-1][1]+t[i+1][1],t.splice(i-1,1),d=!0):t[i][1].substring(0,t[i+1][1].length)==t[i+1][1]&&(t[i-1][1]+=t[i+1][1],t[i][1]=t[i][1].substring(t[i+1][1].length)+t[i+1][1],t.splice(i+1,1),d=!0)),i++;d&&e(t)}(h),null!=l&&(h=function(e,t){var r=function(e,t){if(0===t)return[o,e];for(var r=0,i=0;i<e.length;i++){var a=e[i];if(a[0]===n||a[0]===o){var s=r+a[1].length;if(t===s)return[i+1,e];if(t<s){e=e.slice();var u=t-r,l=[a[0],a[1].slice(0,u)],c=[a[0],a[1].slice(u)];return e.splice(i,1,l,c),[i+1,e]}r=s}}throw new Error("cursor_pos is out of bounds!")}(e,t),i=r[1],a=r[0],s=i[a],u=i[a+1];if(null==s)return e;if(s[0]!==o)return e;if(null!=u&&s[1]+u[1]===u[1]+s[1])return i.splice(a,2,u,s),c(i,a,2);if(null!=u&&0===u[1].indexOf(s[1])){i.splice(a,2,[u[0],s[1]],[0,s[1]]);var l=u[1].slice(s[1].length);return l.length>0&&i.splice(a+2,0,[u[0],l]),c(i,a,3)}return e}(h,l)),h=function(e){for(var t=!1,i=function(e){return e.charCodeAt(0)>=56320&&e.charCodeAt(0)<=57343},a=function(e){return e.charCodeAt(e.length-1)>=55296&&e.charCodeAt(e.length-1)<=56319},s=2;s<e.length;s+=1)e[s-2][0]===o&&a(e[s-2][1])&&e[s-1][0]===n&&i(e[s-1][1])&&e[s][0]===r&&i(e[s][1])&&(t=!0,e[s-1][1]=e[s-2][1].slice(-1)+e[s-1][1],e[s][1]=e[s-2][1].slice(-1)+e[s][1],e[s-2][1]=e[s-2][1].slice(0,-1));if(!t)return e;for(var u=[],s=0;s<e.length;s+=1)e[s][1].length>0&&u.push(e[s]);return u}(h)}function a(e,t,n,r){var o=e.substring(0,n),a=t.substring(0,r),s=e.substring(n),u=t.substring(r),l=i(o,a),c=i(s,u);return l.concat(c)}function s(e,t){if(!e||!t||e.charAt(0)!=t.charAt(0))return 0;for(var n=0,r=Math.min(e.length,t.length),o=r,i=0;n<o;)e.substring(i,o)==t.substring(i,o)?i=n=o:r=o,o=Math.floor((r-n)/2+n);return o}function u(e,t){if(!e||!t||e.charAt(e.length-1)!=t.charAt(t.length-1))return 0;for(var n=0,r=Math.min(e.length,t.length),o=r,i=0;n<o;)e.substring(e.length-o,e.length-i)==t.substring(t.length-o,t.length-i)?i=n=o:r=o,o=Math.floor((r-n)/2+n);return o}var l=i;function c(e,t,n){for(var r=t+n-1;r>=0&&r>=t-1;r--)if(r+1<e.length){var o=e[r],i=e[r+1];o[0]===i[1]&&e.splice(r,2,[o[0],o[1]+i[1]])}return e}l.INSERT=r,l.DELETE=n,l.EQUAL=o,e.exports=l},function(e,t){function n(e){var t=[];for(var n in e)t.push(n);return t}(e.exports="function"==typeof Object.keys?Object.keys:n).shim=n},function(e,t){var n="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();function r(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function o(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Object.prototype.hasOwnProperty.call(e,"callee")&&!Object.prototype.propertyIsEnumerable.call(e,"callee")||!1}(t=e.exports=n?r:o).supported=r,t.unsupported=o},function(e,t){"use strict";var n=Object.prototype.hasOwnProperty,r="~";function o(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function a(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(r=!1)),a.prototype.eventNames=function(){var e,t,o=[];if(0===this._eventsCount)return o;for(t in e=this._events)n.call(e,t)&&o.push(r?t.slice(1):t);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(e)):o},a.prototype.listeners=function(e,t){var n=r?r+e:e,o=this._events[n];if(t)return!!o;if(!o)return[];if(o.fn)return[o.fn];for(var i=0,a=o.length,s=new Array(a);i<a;i++)s[i]=o[i].fn;return s},a.prototype.emit=function(e,t,n,o,i,a){var s=r?r+e:e;if(!this._events[s])return!1;var u,l,c=this._events[s],p=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),p){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,n),!0;case 4:return c.fn.call(c.context,t,n,o),!0;case 5:return c.fn.call(c.context,t,n,o,i),!0;case 6:return c.fn.call(c.context,t,n,o,i,a),!0}for(l=1,u=new Array(p-1);l<p;l++)u[l-1]=arguments[l];c.fn.apply(c.context,u)}else{var f,d=c.length;for(l=0;l<d;l++)switch(c[l].once&&this.removeListener(e,c[l].fn,void 0,!0),p){case 1:c[l].fn.call(c[l].context);break;case 2:c[l].fn.call(c[l].context,t);break;case 3:c[l].fn.call(c[l].context,t,n);break;case 4:c[l].fn.call(c[l].context,t,n,o);break;default:if(!u)for(f=1,u=new Array(p-1);f<p;f++)u[f-1]=arguments[f];c[l].fn.apply(c[l].context,u)}}return!0},a.prototype.on=function(e,t,n){var o=new i(t,n||this),a=r?r+e:e;return this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],o]:this._events[a].push(o):(this._events[a]=o,this._eventsCount++),this},a.prototype.once=function(e,t,n){var o=new i(t,n||this,!0),a=r?r+e:e;return this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],o]:this._events[a].push(o):(this._events[a]=o,this._eventsCount++),this},a.prototype.removeListener=function(e,t,n,i){var a=r?r+e:e;if(!this._events[a])return this;if(!t)return 0==--this._eventsCount?this._events=new o:delete this._events[a],this;var s=this._events[a];if(s.fn)s.fn!==t||i&&!s.once||n&&s.context!==n||(0==--this._eventsCount?this._events=new o:delete this._events[a]);else{for(var u=0,l=[],c=s.length;u<c;u++)(s[u].fn!==t||i&&!s[u].once||n&&s[u].context!==n)&&l.push(s[u]);l.length?this._events[a]=1===l.length?l[0]:l:0==--this._eventsCount?this._events=new o:delete this._events[a]}return this},a.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&(0==--this._eventsCount?this._events=new o:delete this._events[t])):(this._events=new o,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prototype.setMaxListeners=function(){return this},a.prefixed=r,a.EventEmitter=a,void 0!==e&&(e.exports=a)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.matchText=t.matchSpacing=t.matchNewline=t.matchBlot=t.matchAttributor=t.default=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=b(n(3)),s=b(n(2)),u=b(n(0)),l=b(n(5)),c=b(n(10)),p=b(n(9)),f=n(36),d=n(37),h=b(n(13)),g=n(26),m=n(38),y=n(39),v=n(40);function b(e){return e&&e.__esModule?e:{default:e}}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=(0,c.default)("quill:clipboard"),_="__ql-matcher",O=[[Node.TEXT_NODE,L],[Node.TEXT_NODE,R],["br",function(e,t){k(t,"\n")||t.insert("\n");return t}],[Node.ELEMENT_NODE,R],[Node.ELEMENT_NODE,N],[Node.ELEMENT_NODE,M],[Node.ELEMENT_NODE,A],[Node.ELEMENT_NODE,function(e,t){var n={},r=e.style||{};r.fontStyle&&"italic"===I(e).fontStyle&&(n.italic=!0);r.fontWeight&&(I(e).fontWeight.startsWith("bold")||parseInt(I(e).fontWeight)>=700)&&(n.bold=!0);Object.keys(n).length>0&&(t=P(t,n));parseFloat(r.textIndent||0)>0&&(t=(new s.default).insert("\t").concat(t));return t}],["li",function(e,t){var n=u.default.query(e);if(null==n||"list-item"!==n.blotName||!k(t,"\n"))return t;var r=-1,o=e.parentNode;for(;!o.classList.contains("ql-clipboard");)"list"===(u.default.query(o)||{}).blotName&&(r+=1),o=o.parentNode;return r<=0?t:t.compose((new s.default).retain(t.length()-1).retain(1,{indent:r}))}],["b",T.bind(T,"bold")],["i",T.bind(T,"italic")],["style",function(){return new s.default}]],C=[f.AlignAttribute,m.DirectionAttribute].reduce(function(e,t){return e[t.keyName]=t,e},{}),E=[f.AlignStyle,d.BackgroundStyle,g.ColorStyle,m.DirectionStyle,y.FontStyle,v.SizeStyle].reduce(function(e,t){return e[t.keyName]=t,e},{}),S=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.quill.root.addEventListener("paste",r.onPaste.bind(r)),r.container=r.quill.addContainer("ql-clipboard"),r.container.setAttribute("contenteditable",!0),r.container.setAttribute("tabindex",-1),r.matchers=[],O.concat(r.options.matchers).forEach(function(e){var t=o(e,2),i=t[0],a=t[1];(n.matchVisual||a!==M)&&r.addMatcher(i,a)}),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,p.default),i(t,[{key:"addMatcher",value:function(e,t){this.matchers.push([e,t])}},{key:"convert",value:function(e){if("string"==typeof e)return this.container.innerHTML=e.replace(/\>\r?\n +\</g,"><"),this.convert();var t=this.quill.getFormat(this.quill.selection.savedRange.index);if(t[h.default.blotName]){var n=this.container.innerText;return this.container.innerHTML="",(new s.default).insert(n,x({},h.default.blotName,t[h.default.blotName]))}var r=this.prepareMatching(),i=o(r,2),a=i[0],u=i[1],l=function e(t,n,r){return t.nodeType===t.TEXT_NODE?r.reduce(function(e,n){return n(t,e)},new s.default):t.nodeType===t.ELEMENT_NODE?[].reduce.call(t.childNodes||[],function(o,i){var a=e(i,n,r);return i.nodeType===t.ELEMENT_NODE&&(a=n.reduce(function(e,t){return t(i,e)},a),a=(i[_]||[]).reduce(function(e,t){return t(i,e)},a)),o.concat(a)},new s.default):new s.default}(this.container,a,u);return k(l,"\n")&&null==l.ops[l.ops.length-1].attributes&&(l=l.compose((new s.default).retain(l.length()-1).delete(1))),w.log("convert",this.container.innerHTML,l),this.container.innerHTML="",l}},{key:"dangerouslyPasteHTML",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.default.sources.API;if("string"==typeof e)this.quill.setContents(this.convert(e),t),this.quill.setSelection(0,l.default.sources.SILENT);else{var r=this.convert(t);this.quill.updateContents((new s.default).retain(e).concat(r),n),this.quill.setSelection(e+r.length(),l.default.sources.SILENT)}}},{key:"onPaste",value:function(e){var t=this;if(!e.defaultPrevented&&this.quill.isEnabled()){var n=this.quill.getSelection(),r=(new s.default).retain(n.index),o=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(l.default.sources.SILENT),setTimeout(function(){r=r.concat(t.convert()).delete(n.length),t.quill.updateContents(r,l.default.sources.USER),t.quill.setSelection(r.length()-n.length,l.default.sources.SILENT),t.quill.scrollingContainer.scrollTop=o,t.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var e=this,t=[],n=[];return this.matchers.forEach(function(r){var i=o(r,2),a=i[0],s=i[1];switch(a){case Node.TEXT_NODE:n.push(s);break;case Node.ELEMENT_NODE:t.push(s);break;default:[].forEach.call(e.container.querySelectorAll(a),function(e){e[_]=e[_]||[],e[_].push(s)})}}),[t,n]}}]),t}();function P(e,t,n){return"object"===(void 0===t?"undefined":r(t))?Object.keys(t).reduce(function(e,n){return P(e,n,t[n])},e):e.reduce(function(e,r){return r.attributes&&r.attributes[t]?e.push(r):e.insert(r.insert,(0,a.default)({},x({},t,n),r.attributes))},new s.default)}function I(e){if(e.nodeType!==Node.ELEMENT_NODE)return{};return e["__ql-computed-style"]||(e["__ql-computed-style"]=window.getComputedStyle(e))}function k(e,t){for(var n="",r=e.ops.length-1;r>=0&&n.length<t.length;--r){var o=e.ops[r];if("string"!=typeof o.insert)break;n=o.insert+n}return n.slice(-1*t.length)===t}function j(e){if(0===e.childNodes.length)return!1;var t=I(e);return["block","list-item"].indexOf(t.display)>-1}function T(e,t,n){return P(n,e,!0)}function A(e,t){var n=u.default.Attributor.Attribute.keys(e),r=u.default.Attributor.Class.keys(e),o=u.default.Attributor.Style.keys(e),i={};return n.concat(r).concat(o).forEach(function(t){var n=u.default.query(t,u.default.Scope.ATTRIBUTE);null!=n&&(i[n.attrName]=n.value(e),i[n.attrName])||(null==(n=C[t])||n.attrName!==t&&n.keyName!==t||(i[n.attrName]=n.value(e)||void 0),null==(n=E[t])||n.attrName!==t&&n.keyName!==t||(n=E[t],i[n.attrName]=n.value(e)||void 0))}),Object.keys(i).length>0&&(t=P(t,i)),t}function N(e,t){var n=u.default.query(e);if(null==n)return t;if(n.prototype instanceof u.default.Embed){var r={},o=n.value(e);null!=o&&(r[n.blotName]=o,t=(new s.default).insert(r,n.formats(e)))}else"function"==typeof n.formats&&(t=P(t,n.blotName,n.formats(e)));return t}function R(e,t){return k(t,"\n")||(j(e)||t.length()>0&&e.nextSibling&&j(e.nextSibling))&&t.insert("\n"),t}function M(e,t){if(j(e)&&null!=e.nextElementSibling&&!k(t,"\n\n")){var n=e.offsetHeight+parseFloat(I(e).marginTop)+parseFloat(I(e).marginBottom);e.nextElementSibling.offsetTop>e.offsetTop+1.5*n&&t.insert("\n")}return t}function L(e,t){var n=e.data;if("O:P"===e.parentNode.tagName)return t.insert(n.trim());if(0===n.trim().length&&e.parentNode.classList.contains("ql-clipboard"))return t;if(!I(e.parentNode).whiteSpace.startsWith("pre")){var r=function(e,t){return(t=t.replace(/[^\u00a0]/g,"")).length<1&&e?" ":t};n=(n=n.replace(/\r\n/g," ").replace(/\n/g," ")).replace(/\s\s+/g,r.bind(r,!0)),(null==e.previousSibling&&j(e.parentNode)||null!=e.previousSibling&&j(e.previousSibling))&&(n=n.replace(/^\s+/,r.bind(r,!1))),(null==e.nextSibling&&j(e.parentNode)||null!=e.nextSibling&&j(e.nextSibling))&&(n=n.replace(/\s+$/,r.bind(r,!1)))}return t.insert(n)}S.DEFAULTS={matchers:[],matchVisual:!0},t.default=S,t.matchAttributor=A,t.matchBlot=N,t.matchNewline=R,t.matchSpacing=M,t.matchText=L},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},i=function(e){return e&&e.__esModule?e:{default:e}}(n(6));var a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),r(t,[{key:"optimize",value:function(e){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return o(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),t}();a.blotName="bold",a.tagName=["STRONG","B"],t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addControls=t.default=void 0;var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=c(n(2)),a=c(n(0)),s=c(n(5)),u=c(n(10)),l=c(n(9));function c(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=(0,u.default)("quill:toolbar"),d=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o,i=p(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));if(Array.isArray(i.options.container)){var a=document.createElement("div");g(a,i.options.container),e.container.parentNode.insertBefore(a,e.container),i.container=a}else"string"==typeof i.options.container?i.container=document.querySelector(i.options.container):i.container=i.options.container;return i.container instanceof HTMLElement?(i.container.classList.add("ql-toolbar"),i.controls=[],i.handlers={},Object.keys(i.options.handlers).forEach(function(e){i.addHandler(e,i.options.handlers[e])}),[].forEach.call(i.container.querySelectorAll("button, select"),function(e){i.attach(e)}),i.quill.on(s.default.events.EDITOR_CHANGE,function(e,t){e===s.default.events.SELECTION_CHANGE&&i.update(t)}),i.quill.on(s.default.events.SCROLL_OPTIMIZE,function(){var e=i.quill.selection.getRange(),t=r(e,1)[0];i.update(t)}),i):(o=f.error("Container required for toolbar",i.options),p(i,o))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default),o(t,[{key:"addHandler",value:function(e,t){this.handlers[e]=t}},{key:"attach",value:function(e){var t=this,n=[].find.call(e.classList,function(e){return 0===e.indexOf("ql-")});if(n){if(n=n.slice("ql-".length),"BUTTON"===e.tagName&&e.setAttribute("type","button"),null==this.handlers[n]){if(null!=this.quill.scroll.whitelist&&null==this.quill.scroll.whitelist[n])return void f.warn("ignoring attaching to disabled format",n,e);if(null==a.default.query(n))return void f.warn("ignoring attaching to nonexistent format",n,e)}var o="SELECT"===e.tagName?"change":"click";e.addEventListener(o,function(o){var u=void 0;if("SELECT"===e.tagName){if(e.selectedIndex<0)return;var l=e.options[e.selectedIndex];u=!l.hasAttribute("selected")&&(l.value||!1)}else u=!e.classList.contains("ql-active")&&(e.value||!e.hasAttribute("value")),o.preventDefault();t.quill.focus();var c=t.quill.selection.getRange(),p=r(c,1)[0];if(null!=t.handlers[n])t.handlers[n].call(t,u);else if(a.default.query(n).prototype instanceof a.default.Embed){if(!(u=prompt("Enter "+n)))return;t.quill.updateContents((new i.default).retain(p.index).delete(p.length).insert(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},n,u)),s.default.sources.USER)}else t.quill.format(n,u,s.default.sources.USER);t.update(p)}),this.controls.push([n,e])}}},{key:"update",value:function(e){var t=null==e?{}:this.quill.getFormat(e);this.controls.forEach(function(n){var o=r(n,2),i=o[0],a=o[1];if("SELECT"===a.tagName){var s=void 0;if(null==e)s=null;else if(null==t[i])s=a.querySelector("option[selected]");else if(!Array.isArray(t[i])){var u=t[i];"string"==typeof u&&(u=u.replace(/\"/g,'\\"')),s=a.querySelector('option[value="'+u+'"]')}null==s?(a.value="",a.selectedIndex=-1):s.selected=!0}else if(null==e)a.classList.remove("ql-active");else if(a.hasAttribute("value")){var l=t[i]===a.getAttribute("value")||null!=t[i]&&t[i].toString()===a.getAttribute("value")||null==t[i]&&!a.getAttribute("value");a.classList.toggle("ql-active",l)}else a.classList.toggle("ql-active",null!=t[i])})}}]),t}();function h(e,t,n){var r=document.createElement("button");r.setAttribute("type","button"),r.classList.add("ql-"+t),null!=n&&(r.value=n),e.appendChild(r)}function g(e,t){Array.isArray(t[0])||(t=[t]),t.forEach(function(t){var n=document.createElement("span");n.classList.add("ql-formats"),t.forEach(function(e){if("string"==typeof e)h(n,e);else{var t=Object.keys(e)[0],r=e[t];Array.isArray(r)?function(e,t,n){var r=document.createElement("select");r.classList.add("ql-"+t),n.forEach(function(e){var t=document.createElement("option");!1!==e?t.setAttribute("value",e):t.setAttribute("selected","selected"),r.appendChild(t)}),e.appendChild(r)}(n,t,r):h(n,t,r)}}),e.appendChild(n)})}d.DEFAULTS={},d.DEFAULTS={container:null,handlers:{clean:function(){var e=this,t=this.quill.getSelection();if(null!=t)if(0==t.length){var n=this.quill.getFormat();Object.keys(n).forEach(function(t){null!=a.default.query(t,a.default.Scope.INLINE)&&e.quill.format(t,!1)})}else this.quill.removeFormat(t,s.default.sources.USER)},direction:function(e){var t=this.quill.getFormat().align;"rtl"===e&&null==t?this.quill.format("align","right",s.default.sources.USER):e||"right"!==t||this.quill.format("align",!1,s.default.sources.USER),this.quill.format("direction",e,s.default.sources.USER)},indent:function(e){var t=this.quill.getSelection(),n=this.quill.getFormat(t),r=parseInt(n.indent||0);if("+1"===e||"-1"===e){var o="+1"===e?1:-1;"rtl"===n.direction&&(o*=-1),this.quill.format("indent",r+o,s.default.sources.USER)}},link:function(e){!0===e&&(e=prompt("Enter link URL:")),this.quill.format("link",e,s.default.sources.USER)},list:function(e){var t=this.quill.getSelection(),n=this.quill.getFormat(t);"check"===e?"checked"===n.list||"unchecked"===n.list?this.quill.format("list",!1,s.default.sources.USER):this.quill.format("list","unchecked",s.default.sources.USER):this.quill.format("list",e,s.default.sources.USER)}}},t.default=d,t.addControls=g},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},i=function(e){return e&&e.__esModule?e:{default:e}}(n(28));var a=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.label.innerHTML=n,r.container.classList.add("ql-color-picker"),[].slice.call(r.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(e){e.classList.add("ql-primary")}),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),r(t,[{key:"buildItem",value:function(e){var n=o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"buildItem",this).call(this,e);return n.style.backgroundColor=e.getAttribute("value")||"",n}},{key:"selectItem",value:function(e,n){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"selectItem",this).call(this,e,n);var r=this.label.querySelector(".ql-color-label"),i=e&&e.getAttribute("data-value")||"";r&&("line"===r.tagName?r.style.stroke=i:r.style.fill=i)}}]),t}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){return e&&e.__esModule?e:{default:e}}(n(28));var i=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.container.classList.add("ql-icon-picker"),[].forEach.call(r.container.querySelectorAll(".ql-picker-item"),function(e){e.innerHTML=n[e.getAttribute("data-value")||""]}),r.defaultItem=r.container.querySelector(".ql-selected"),r.selectItem(r.defaultItem),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),r(t,[{key:"selectItem",value:function(e,n){(function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"selectItem",this).call(this,e,n),e=e||this.defaultItem,this.label.innerHTML=e.innerHTML}}]),t}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.quill=t,this.boundsContainer=n||document.body,this.root=t.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){r.root.style.marginTop=-1*r.quill.root.scrollTop+"px"}),this.hide()}return r(e,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(e){var t=e.left+e.width/2-this.root.offsetWidth/2,n=e.bottom+this.quill.root.scrollTop;this.root.style.left=t+"px",this.root.style.top=n+"px",this.root.classList.remove("ql-flip");var r=this.boundsContainer.getBoundingClientRect(),o=this.root.getBoundingClientRect(),i=0;if(o.right>r.right&&(i=r.right-o.right,this.root.style.left=t+i+"px"),o.left<r.left&&(i=r.left-o.left,this.root.style.left=t+i+"px"),o.bottom>r.bottom){var a=o.bottom-o.top,s=e.bottom-e.top+a;this.root.style.top=n-s+"px",this.root.classList.add("ql-flip")}return i}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=d(n(3)),s=d(n(8)),u=n(43),l=d(u),c=d(n(27)),p=n(15),f=d(n(41));function d(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],v=function(e){function t(e,n){h(this,t),null!=n.modules.toolbar&&null==n.modules.toolbar.container&&(n.modules.toolbar.container=y);var r=g(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.quill.container.classList.add("ql-snow"),r}return m(t,l.default),i(t,[{key:"extendToolbar",value:function(e){e.container.classList.add("ql-snow"),this.buildButtons([].slice.call(e.container.querySelectorAll("button")),f.default),this.buildPickers([].slice.call(e.container.querySelectorAll("select")),f.default),this.tooltip=new b(this.quill,this.options.bounds),e.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(t,n){e.handlers.link.call(e,!n.format.link)})}}]),t}();v.DEFAULTS=(0,a.default)(!0,{},l.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(e){if(e){var t=this.quill.getSelection();if(null==t||0==t.length)return;var n=this.quill.getText(t);/^\S+@\S+\.\S+$/.test(n)&&0!==n.indexOf("mailto:")&&(n="mailto:"+n),this.quill.theme.tooltip.edit("link",n)}else this.quill.format("link",!1)}}}}});var b=function(e){function t(e,n){h(this,t);var r=g(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.preview=r.root.querySelector("a.ql-preview"),r}return m(t,u.BaseTooltip),i(t,[{key:"listen",value:function(){var e=this;o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(t){e.root.classList.contains("ql-editing")?e.save():e.edit("link",e.preview.textContent),t.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(t){if(null!=e.linkRange){var n=e.linkRange;e.restoreFocus(),e.quill.formatText(n,"link",!1,s.default.sources.USER),delete e.linkRange}t.preventDefault(),e.hide()}),this.quill.on(s.default.events.SELECTION_CHANGE,function(t,n,o){if(null!=t){if(0===t.length&&o===s.default.sources.USER){var i=e.quill.scroll.descendant(c.default,t.index),a=r(i,2),u=a[0],l=a[1];if(null!=u){e.linkRange=new p.Range(t.index-l,u.length());var f=c.default.formats(u.domNode);return e.preview.textContent=f,e.preview.setAttribute("href",f),e.show(),void e.position(e.quill.getBounds(e.linkRange))}}else delete e.linkRange;e.hide()}})}},{key:"show",value:function(){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),t}();b.TEMPLATE=['<a class="ql-preview" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),t.default=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=M(n(29)),o=n(36),i=n(38),a=n(64),s=M(n(65)),u=M(n(66)),l=n(67),c=M(l),p=n(37),f=n(26),d=n(39),h=n(40),g=M(n(56)),m=M(n(68)),y=M(n(27)),v=M(n(69)),b=M(n(70)),x=M(n(71)),w=M(n(72)),_=M(n(73)),O=n(13),C=M(O),E=M(n(74)),S=M(n(75)),P=M(n(57)),I=M(n(41)),k=M(n(28)),j=M(n(59)),T=M(n(60)),A=M(n(61)),N=M(n(108)),R=M(n(62));function M(e){return e&&e.__esModule?e:{default:e}}r.default.register({"attributors/attribute/direction":i.DirectionAttribute,"attributors/class/align":o.AlignClass,"attributors/class/background":p.BackgroundClass,"attributors/class/color":f.ColorClass,"attributors/class/direction":i.DirectionClass,"attributors/class/font":d.FontClass,"attributors/class/size":h.SizeClass,"attributors/style/align":o.AlignStyle,"attributors/style/background":p.BackgroundStyle,"attributors/style/color":f.ColorStyle,"attributors/style/direction":i.DirectionStyle,"attributors/style/font":d.FontStyle,"attributors/style/size":h.SizeStyle},!0),r.default.register({"formats/align":o.AlignClass,"formats/direction":i.DirectionClass,"formats/indent":a.IndentClass,"formats/background":p.BackgroundStyle,"formats/color":f.ColorStyle,"formats/font":d.FontClass,"formats/size":h.SizeClass,"formats/blockquote":s.default,"formats/code-block":C.default,"formats/header":u.default,"formats/list":c.default,"formats/bold":g.default,"formats/code":O.Code,"formats/italic":m.default,"formats/link":y.default,"formats/script":v.default,"formats/strike":b.default,"formats/underline":x.default,"formats/image":w.default,"formats/video":_.default,"formats/list/item":l.ListItem,"modules/formula":E.default,"modules/syntax":S.default,"modules/toolbar":P.default,"themes/bubble":N.default,"themes/snow":R.default,"ui/icons":I.default,"ui/picker":k.default,"ui/icon-picker":T.default,"ui/color-picker":j.default,"ui/tooltip":A.default},!0),t.default=r.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IndentClass=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},i=function(e){return e&&e.__esModule?e:{default:e}}(n(0));var a=new(function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Attributor.Class),r(t,[{key:"add",value:function(e,n){if("+1"===n||"-1"===n){var r=this.value(e)||0;n="+1"===n?r+1:r-1}return 0===n?(this.remove(e),!0):o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"add",this).call(this,e,n)}},{key:"canAdd",value:function(e,n){return o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"canAdd",this).call(this,e,n)||o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"canAdd",this).call(this,e,parseInt(n))}},{key:"value",value:function(e){return parseInt(o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e))||void 0}}]),t}())("indent","ql-indent",{scope:i.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});t.IndentClass=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(4));var o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),t}();o.blotName="blockquote",o.tagName="blockquote",t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){return e&&e.__esModule?e:{default:e}}(n(4));var i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),r(t,null,[{key:"formats",value:function(e){return this.tagName.indexOf(e.tagName)+1}}]),t}();i.blotName="header",i.tagName=["H1","H2","H3","H4","H5","H6"],t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ListItem=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},i=u(n(0)),a=u(n(4)),s=u(n(25));function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var f=function(e){function t(){return l(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,a.default),r(t,[{key:"format",value:function(e,n){e!==d.blotName||n?o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n):this.replaceWith(i.default.create(this.statics.scope))}},{key:"remove",value:function(){null==this.prev&&null==this.next?this.parent.remove():o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(e,n){return this.parent.isolate(this.offset(this.parent),this.length()),e===this.parent.statics.blotName?(this.parent.replaceWith(e,n),this):(this.parent.unwrap(),o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replaceWith",this).call(this,e,n))}}],[{key:"formats",value:function(e){return e.tagName===this.tagName?void 0:o(t.__proto__||Object.getPrototypeOf(t),"formats",this).call(this,e)}}]),t}();f.blotName="list-item",f.tagName="LI";var d=function(e){function t(e){l(this,t);var n=c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=function(t){if(t.target.parentNode===e){var r=n.statics.formats(e),o=i.default.find(t.target);"checked"===r?o.format("list","unchecked"):"unchecked"===r&&o.format("list","checked")}};return e.addEventListener("touchstart",r),e.addEventListener("mousedown",r),n}return p(t,s.default),r(t,null,[{key:"create",value:function(e){var n="ordered"===e?"OL":"UL",r=o(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,n);return"checked"!==e&&"unchecked"!==e||r.setAttribute("data-checked","checked"===e),r}},{key:"formats",value:function(e){return"OL"===e.tagName?"ordered":"UL"===e.tagName?e.hasAttribute("data-checked")?"true"===e.getAttribute("data-checked")?"checked":"unchecked":"bullet":void 0}}]),r(t,[{key:"format",value:function(e,t){this.children.length>0&&this.children.tail.format(e,t)}},{key:"formats",value:function(){return function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(e,n){if(e instanceof f)o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,n);else{var r=null==n?this.length():n.offset(this),i=this.split(r);i.parent.insertBefore(e,i)}}},{key:"optimize",value:function(e){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e);var n=this.next;null!=n&&n.prev===this&&n.statics.blotName===this.statics.blotName&&n.domNode.tagName===this.domNode.tagName&&n.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(n.moveChildren(this),n.remove())}},{key:"replace",value:function(e){if(e.statics.blotName!==this.statics.blotName){var n=i.default.create(this.statics.defaultChild);e.moveChildren(n),this.appendChild(n)}o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replace",this).call(this,e)}}]),t}();d.blotName="list",d.scope=i.default.Scope.BLOCK_BLOT,d.tagName=["OL","UL"],d.defaultChild="list-item",d.allowedChildren=[f],t.ListItem=f,t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(56));var o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),t}();o.blotName="italic",o.tagName=["EM","I"],t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){return e&&e.__esModule?e:{default:e}}(n(6));var i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),r(t,null,[{key:"create",value:function(e){return"super"===e?document.createElement("sup"):"sub"===e?document.createElement("sub"):function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0}(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e)}},{key:"formats",value:function(e){return"SUB"===e.tagName?"sub":"SUP"===e.tagName?"super":void 0}}]),t}();i.blotName="script",i.tagName=["SUB","SUP"],t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(6));var o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),t}();o.blotName="strike",o.tagName="S",t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(6));var o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),t}();o.blotName="underline",o.tagName="U",t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},i=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),a=n(27);var s=["alt","height","width"],u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Embed),r(t,[{key:"format",value:function(e,n){s.indexOf(e)>-1?n?this.domNode.setAttribute(e,n):this.domNode.removeAttribute(e):o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n)}}],[{key:"create",value:function(e){var n=o(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return"string"==typeof e&&n.setAttribute("src",this.sanitize(e)),n}},{key:"formats",value:function(e){return s.reduce(function(t,n){return e.hasAttribute(n)&&(t[n]=e.getAttribute(n)),t},{})}},{key:"match",value:function(e){return/\.(jpe?g|gif|png)$/.test(e)||/^data:image\/.+;base64/.test(e)}},{key:"sanitize",value:function(e){return(0,a.sanitize)(e,["http","https","data"])?e:"//:0"}},{key:"value",value:function(e){return e.getAttribute("src")}}]),t}();u.blotName="image",u.tagName="IMG",t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},i=n(4),a=function(e){return e&&e.__esModule?e:{default:e}}(n(27));var s=["height","width"],u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.BlockEmbed),r(t,[{key:"format",value:function(e,n){s.indexOf(e)>-1?n?this.domNode.setAttribute(e,n):this.domNode.removeAttribute(e):o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n)}}],[{key:"create",value:function(e){var n=o(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return n.setAttribute("frameborder","0"),n.setAttribute("allowfullscreen",!0),n.setAttribute("src",this.sanitize(e)),n}},{key:"formats",value:function(e){return s.reduce(function(t,n){return e.hasAttribute(n)&&(t[n]=e.getAttribute(n)),t},{})}},{key:"sanitize",value:function(e){return a.default.sanitize(e)}},{key:"value",value:function(e){return e.getAttribute("src")}}]),t}();u.blotName="video",u.className="ql-video",u.tagName="IFRAME",t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.FormulaBlot=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=s(n(35)),i=s(n(5)),a=s(n(9));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=function(e){function t(){return u(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return c(t,o.default),r(t,null,[{key:"create",value:function(e){var n=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0}(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return"string"==typeof e&&(window.katex.render(e,n,{throwOnError:!1,errorColor:"#f00"}),n.setAttribute("data-value",e)),n}},{key:"value",value:function(e){return e.getAttribute("data-value")}}]),t}();p.blotName="formula",p.className="ql-formula",p.tagName="SPAN";var f=function(e){function t(){u(this,t);var e=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));if(null==window.katex)throw new Error("Formula module requires KaTeX.");return e}return c(t,a.default),r(t,null,[{key:"register",value:function(){i.default.register(p,!0)}}]),t}();t.FormulaBlot=p,t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.CodeToken=t.CodeBlock=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=u(n(0)),i=u(n(5)),a=u(n(9)),s=u(n(13));function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var f=function(e){function t(){return l(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,s.default),r(t,[{key:"replaceWith",value:function(e){this.domNode.textContent=this.domNode.textContent,this.attach(),function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replaceWith",this).call(this,e)}},{key:"highlight",value:function(e){var t=this.domNode.textContent;this.cachedText!==t&&((t.trim().length>0||null==this.cachedText)&&(this.domNode.innerHTML=e(t),this.domNode.normalize(),this.attach()),this.cachedText=t)}}]),t}();f.className="ql-syntax";var d=new o.default.Attributor.Class("token","hljs",{scope:o.default.Scope.INLINE}),h=function(e){function t(e,n){l(this,t);var r=c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));if("function"!=typeof r.options.highlight)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var o=null;return r.quill.on(i.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(o),o=setTimeout(function(){r.highlight(),o=null},r.options.interval)}),r.highlight(),r}return p(t,a.default),r(t,null,[{key:"register",value:function(){i.default.register(d,!0),i.default.register(f,!0)}}]),r(t,[{key:"highlight",value:function(){var e=this;if(!this.quill.selection.composing){this.quill.update(i.default.sources.USER);var t=this.quill.getSelection();this.quill.scroll.descendants(f).forEach(function(t){t.highlight(e.options.highlight)}),this.quill.update(i.default.sources.SILENT),null!=t&&this.quill.setSelection(t,i.default.sources.SILENT)}}}]),t}();h.DEFAULTS={highlight:null==window.hljs?null:function(e){return window.hljs.highlightAuto(e).value},interval:1e3},t.CodeBlock=f,t.CodeToken=d,t.default=h},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(e,t){e.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(e,t){e.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(e,t){e.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(e,t){e.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BubbleTooltip=void 0;var r=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=p(n(3)),a=p(n(8)),s=n(43),u=p(s),l=n(15),c=p(n(41));function p(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],m=function(e){function t(e,n){f(this,t),null!=n.modules.toolbar&&null==n.modules.toolbar.container&&(n.modules.toolbar.container=g);var r=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.quill.container.classList.add("ql-bubble"),r}return h(t,u.default),o(t,[{key:"extendToolbar",value:function(e){this.tooltip=new y(this.quill,this.options.bounds),this.tooltip.root.appendChild(e.container),this.buildButtons([].slice.call(e.container.querySelectorAll("button")),c.default),this.buildPickers([].slice.call(e.container.querySelectorAll("select")),c.default)}}]),t}();m.DEFAULTS=(0,i.default)(!0,{},u.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(e){e?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var y=function(e){function t(e,n){f(this,t);var r=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.quill.on(a.default.events.EDITOR_CHANGE,function(e,t,n,o){if(e===a.default.events.SELECTION_CHANGE)if(null!=t&&t.length>0&&o===a.default.sources.USER){r.show(),r.root.style.left="0px",r.root.style.width="",r.root.style.width=r.root.offsetWidth+"px";var i=r.quill.getLines(t.index,t.length);if(1===i.length)r.position(r.quill.getBounds(t));else{var s=i[i.length-1],u=r.quill.getIndex(s),c=Math.min(s.length()-1,t.index+t.length-u),p=r.quill.getBounds(new l.Range(u,c));r.position(p)}}else document.activeElement!==r.textbox&&r.quill.hasFocus()&&r.hide()}),r}return h(t,s.BaseTooltip),o(t,[{key:"listen",value:function(){var e=this;r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){e.root.classList.remove("ql-editing")}),this.quill.on(a.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!e.root.classList.contains("ql-hidden")){var t=e.quill.getSelection();null!=t&&e.position(e.quill.getBounds(t))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(e){var n=r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"position",this).call(this,e),o=this.root.querySelector(".ql-tooltip-arrow");if(o.style.marginLeft="",0===n)return n;o.style.marginLeft=-1*n-o.offsetWidth/2+"px"}}]),t}();y.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),t.BubbleTooltip=y,t.default=m},function(e,t,n){e.exports=n(63)}]).default})}).call(this,n(447).Buffer)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(1);!function(e){e.AddResource="ADD_RESOURCE",e.UpdateResource="UPDATE_RESOURCE",e.ClearResources="CLEAR_RESOURCES"}(r||(r={})),t.BuilderStateResourceActionKeys=r;var i={AddResource:function(e,t){return{type:r.AddResource,resourceKey:e,resourceItemInfo:t}},UpdateResource:function(e,t){return{type:r.UpdateResource,resourceKey:e,resourceItemInfo:t}},ClearResources:function(){return{type:r.ClearResources}}};t.builderStateResourceActions=i;var a=function(){function e(){this.id="builder-state-resource-extension"}return e.prototype.getActions=function(){return Object.keys(r).map(function(e){return r[e]})},e.prototype.getInitLocalState=function(){return o.Immutable({})},e.prototype.getReducer=function(){return function(e,t,n){switch(t.type){case r.AddResource:case r.UpdateResource:return e.set(t.resourceKey,t.resourceItemInfo);case r.ClearResources:return o.Immutable({});default:return e}}},e.prototype.getStoreKey=function(){return"resourcesInfo"},e}();t.default=a},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(2),s=n(23),u=n(139),l=n(141),c=n(142),p=n(144),f=n(4),d=function(e){function t(t){var n=e.call(this,t)||this;return n.getStyle=function(e){var t=e&&e.colors&&e.colors.grays&&e.colors.grays.gray300||"#ccc",n=e&&e.colors&&e.colors.cyan||"blue",r=i.polished.rgba(t,.5);return window.jimuConfig.isInBuilder?i.css(h||(h=o(["\n      .widget-builder-linksetting {\n        .linksetting-list {\n          .view-border{\n            border-width: 1px;\n            border-style: solid;\n          }\n          .linksetting-list-item {\n            height: ","rem;\n            cursor: pointer;\n\n            &:hover {\n              background-color: ",";\n            }\n          }\n\n          .linksetting-list-select {\n            background-color: ",";\n          }\n        }\n\n        select {\n          padding-top: ","rem !important;\n        }\n\n        .itemselected {\n          background-color: "," !important;\n        }\n\n        .btn-primary {\n          background-color: #00A6B6 !important;\n          border-color: #00A6B6 !important;\n          color: #ffffff !important;\n        }\n\n        .form-check-input {\n          span {\n            background: #00A6B6 !important;\n          }\n        }\n\n        .form-check-input:hover {\n          border-color: gray;\n        }\n\n        input[type='radio'].form-check-input {\n          -webkit-appearance: none;\n          -moz-appearance: none;\n          background: transparent;\n          border: 1px solid #000;\n          width: 16px;\n          height: 16px;\n          border-radius: 50%;\n          transition: all 0.2s ease;\n          &:before {\n          content: '';\n          display: block;\n          position: absolute;\n          width: 0;\n          height: 0;\n          border-radius: 50%;\n          background: #00A6B6 !important;\n          margin: 8px;\n          transition: all 0.2s ease-out;\n          }\n          &:hover {\n          border-color: #00A6B6 !important;\n          }\n          &:checked {\n          &:before {\n              width: 8px;\n              height: 8px;\n              margin: 3px;\n          }\n          }\n        }\n        .link-setting-cursor-pointer{\n          cursor: pointer;\n        }\n      }\n    "],["\n      .widget-builder-linksetting {\n        .linksetting-list {\n          .view-border{\n            border-width: 1px;\n            border-style: solid;\n          }\n          .linksetting-list-item {\n            height: ","rem;\n            cursor: pointer;\n\n            &:hover {\n              background-color: ",";\n            }\n          }\n\n          .linksetting-list-select {\n            background-color: ",";\n          }\n        }\n\n        select {\n          padding-top: ","rem !important;\n        }\n\n        .itemselected {\n          background-color: "," !important;\n        }\n\n        .btn-primary {\n          background-color: #00A6B6 !important;\n          border-color: #00A6B6 !important;\n          color: #ffffff !important;\n        }\n\n        .form-check-input {\n          span {\n            background: #00A6B6 !important;\n          }\n        }\n\n        .form-check-input:hover {\n          border-color: gray;\n        }\n\n        input[type='radio'].form-check-input {\n          -webkit-appearance: none;\n          -moz-appearance: none;\n          background: transparent;\n          border: 1px solid #000;\n          width: 16px;\n          height: 16px;\n          border-radius: 50%;\n          transition: all 0.2s ease;\n          &:before {\n          content: '';\n          display: block;\n          position: absolute;\n          width: 0;\n          height: 0;\n          border-radius: 50%;\n          background: #00A6B6 !important;\n          margin: 8px;\n          transition: all 0.2s ease-out;\n          }\n          &:hover {\n          border-color: #00A6B6 !important;\n          }\n          &:checked {\n          &:before {\n              width: 8px;\n              height: 8px;\n              margin: 3px;\n          }\n          }\n        }\n        .link-setting-cursor-pointer{\n          cursor: pointer;\n        }\n      }\n    "])),30/14,r,r,2/14,n):i.css(g||(g=o(["\n      .widget-builder-linksetting {\n        .item-common{\n          background: ",";\n        }\n        .view-border{\n          border: 1px solid ",";\n        }\n        .linksetting-list {\n\n          .linksetting-list-item {\n            height: ","rem;\n            cursor: pointer;\n\n            &:hover {\n              background-color: ",";\n            }\n          }\n\n          .linksetting-list-select {\n            background-color: ",";\n          }\n        }\n\n        select {\n          padding-top: ","rem !important;\n        }\n\n        .itemselected {\n          background-color: "," !important;\n        }\n        .link-setting-cursor-pointer{\n          cursor: pointer;\n        }\n      }\n    "],["\n      .widget-builder-linksetting {\n        .item-common{\n          background: ",";\n        }\n        .view-border{\n          border: 1px solid ",";\n        }\n        .linksetting-list {\n\n          .linksetting-list-item {\n            height: ","rem;\n            cursor: pointer;\n\n            &:hover {\n              background-color: ",";\n            }\n          }\n\n          .linksetting-list-select {\n            background-color: ",";\n          }\n        }\n\n        select {\n          padding-top: ","rem !important;\n        }\n\n        .itemselected {\n          background-color: "," !important;\n        }\n        .link-setting-cursor-pointer{\n          cursor: pointer;\n        }\n      }\n    "])),e.colors.white,e.colors.grays.gray200,30/14,r,r,2/14,n)},n.getLinkTypeContent=function(){return n.props.isLinkPageSetting?i.jsx(a.Input,{type:"select",value:n.state.linkParam.linkType,onChange:n.linkTypeChange,className:"w-100"},i.jsx("option",{value:i.LinkType.WebAddress},n.props.intl.formatMessage({id:"webAddress",defaultMessage:f.default.webAddress}))):i.jsx(a.Input,{type:"select",value:n.state.linkParam.linkType,onChange:n.linkTypeChange,className:"w-100"},i.jsx("option",{value:i.LinkType.None},n.props.intl.formatMessage({id:"none",defaultMessage:f.default.none})),i.jsx("option",{value:i.LinkType.Page},n.props.intl.formatMessage({id:"page",defaultMessage:f.default.page})),i.jsx("option",{value:i.LinkType.View},n.props.intl.formatMessage({id:"view",defaultMessage:f.default.view})),i.jsx("option",{value:i.LinkType.WebAddress},n.props.intl.formatMessage({id:"webAddress",defaultMessage:f.default.webAddress})))},n.getLinkContent=function(e){switch(e){case i.LinkType.None:return null;case i.LinkType.Page:return i.jsx(u.default,{selectAreaMaxHeight:n.props.selectAreaMaxHeight,originLinkParam:n.state.originLinkParam,linkParam:n.state.linkParam,appConfig:n.props.appConfig,onLinkParamChange:n.linkParamChange,intl:n.props.intl});case i.LinkType.Dialog:return i.jsx(l.default,{selectAreaMaxHeight:n.props.selectAreaMaxHeight,linkParam:n.state.linkParam,appConfig:n.props.appConfig,onLinkParamChange:n.linkParamChange});case i.LinkType.View:return i.jsx(c.default,{selectAreaMaxHeight:n.props.selectAreaMaxHeight,originLinkParam:n.state.originLinkParam,linkParam:n.state.linkParam,appConfig:n.props.appConfig,onLinkParamChange:n.linkParamChange,browserSizeMode:n.props.browserSizeMode});case i.LinkType.WebAddress:return i.jsx(p.default,{selectAreaMaxHeight:n.props.selectAreaMaxHeight,originLinkParam:n.state.originLinkParam,linkParam:n.state.linkParam,onLinkParamChange:n.linkParamChange,dataSourceIds:n.props.dataSourceIds});default:return null}},n.linkTypeChange=function(e){var t=i.Immutable(n.state.linkParam);n.setState({linkParam:t.set("linkType",e.target.value)})},n.radioOpenTypeChange=function(e){var t=i.Immutable(n.state.linkParam);t=t.set("openType",e),n.setState({linkParam:t})},n.linkParamChange=function(e,t){t?e&&n.state.linkParam&&e.linkType===n.state.linkParam.linkType&&n.setState({linkParam:e}):n.setState({linkParam:e})},n.settingConfirm=function(){var e=i.Immutable(n.state.linkParam);n.setState({originLinkParam:e}),n.props.onSettingConfirm(e)},n}return r(t,e),t.prototype.componentWillMount=function(){if(this.props.linkParam&&this.props.linkParam.linkType)this.setState({linkParam:i.Immutable(this.props.linkParam),originLinkParam:i.Immutable(this.props.linkParam)});else{var e={linkType:i.LinkType.None,openType:s.OpenTypes.CurrentWindow};this.setState({linkParam:i.Immutable(e),originLinkParam:i.Immutable(e)})}},t.prototype.render=function(){var e=this;if(this.props.appConfig){var t=this.getLinkTypeContent(),n=this.getLinkContent(this.state.linkParam.linkType);return i.jsx("div",{css:this.getStyle(this.props.theme),className:i.classNames(this.props.className,"w-100 h-100")},i.jsx("div",{className:"widget-builder-linksetting w-100 h-100"},i.jsx("div",{style:{position:"relative"},className:"w-100 h-100"},i.jsx(a.Container,null,i.jsx(a.Row,{className:"mb-3"},this.props.intl.formatMessage({id:"linkTo",defaultMessage:f.default.linkTo})),i.jsx(a.Row,{className:"mb-3"},t),this.state.linkParam.linkType!==i.LinkType.None?i.jsx("div",null,i.jsx(a.Row,{className:"mb-3"},n),i.jsx(a.Row,{className:"mb-3"},this.props.intl.formatMessage({id:"openIn",defaultMessage:f.default.openIn})),i.jsx(a.Container,null,i.jsx(a.Row,{className:"mb-3"},i.jsx(a.Input,{onChange:function(){return e.radioOpenTypeChange(s.OpenTypes.CurrentWindow)},id:"link-setting-app-window",type:"radio",checked:this.state.linkParam.openType===s.OpenTypes.CurrentWindow}),i.jsx(a.Label,{for:"link-setting-app-window",className:"ml-2 link-setting-cursor-pointer"},this.props.intl.formatMessage({id:"appWindow",defaultMessage:f.default.appWindow}))),i.jsx(a.Row,{className:"mb-3"},i.jsx(a.Input,{onChange:function(){return e.radioOpenTypeChange(s.OpenTypes.TopWindow)},id:"link-setting-top-window",type:"radio",checked:this.state.linkParam.openType===s.OpenTypes.TopWindow}),i.jsx(a.Label,{for:"link-setting-top-window",className:"ml-2 link-setting-cursor-pointer"},this.props.intl.formatMessage({id:"topWindow",defaultMessage:f.default.topWindow}))),i.jsx(a.Row,{className:"mb-3"},i.jsx(a.Input,{onChange:function(){return e.radioOpenTypeChange(s.OpenTypes.NewWindow)},id:"link-setting-new-window",type:"radio",checked:this.state.linkParam.openType===s.OpenTypes.NewWindow}),i.jsx(a.Label,{for:"link-setting-new-window",className:"ml-2 link-setting-cursor-pointer"},this.props.intl.formatMessage({id:"newWindow",defaultMessage:f.default.newWindow}))))):null),i.jsx("div",{className:"w-100",style:{position:"absolute",bottom:this.props.okButtonBottom?this.props.okButtonBottom:"0rem"}},i.jsx(a.Button,{className:"w-100 text-dark link-setting-ok-btn",color:"primary",onClick:this.settingConfirm},this.props.intl.formatMessage({id:"ok",defaultMessage:i.defaultMessages.ok}))))))}return null},t.prototype.componentDidMount=function(){this.props.isLinkPageSetting&&this.linkTypeChange({target:{value:i.LinkType.WebAddress}})},t}(i.React.PureComponent);t._LinkSetting=d;var h,g,m=i.injectIntl(i.themeUtils.withTheme(d));t.default=i.ReactRedux.connect(function(e){return{appConfig:window&&window.jimuConfig&&window.jimuConfig.isBuilder?e.appStateInBuilder.appConfig:e.appConfig,browserSizeMode:window&&window.jimuConfig&&window.jimuConfig.isBuilder?e.appStateInBuilder.browserSizeMode:e.browserSizeMode}})(m)},function(e,t,n){"use strict";var r=n(67);function o(){}e.exports=function(){function e(e,t,n,o,i,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=o,n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EXP_PART_PREFIX="part",t.EXP_CONTAINER_PREFIX="expression",function(e){e.Part="PART",e.Char="CHAR"}(t.ExpSelectionType||(t.ExpSelectionType={})),function(e){e.Field="FIELD",e.DataSource="DATASOURCE",e.Function="FUNCTION"}(t.PopoverType||(t.PopoverType={}))},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(16),s=n(19),u=function(e){function t(t){var n=e.call(this,t)||this;return n.getDsLabel=function(){var e=a.getDsManager(),t=e&&e.getDataSource(n.props.dataSourceId);return t?t.label:null},n}return r(t,e),t.prototype.render=function(){var e;return i.React.createElement(s.default,o({},this.props,{className:i.classNames("field-exp",(e={},e[this.props.className]=!!this.props.className,e["error-exp"]=this.props.isError,e["ds-disabled-exp"]=this.props.isDsDisabled,e)),style:this.props.style,title:this.getDsLabel(),tabIndex:0}))},t}(i.React.PureComponent);t.default=u},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(19),s=function(e){function t(t){return e.call(this,t)||this}return r(t,e),t.prototype.render=function(){var e;return i.React.createElement(a.default,o({},this.props,{className:i.classNames("number-exp",(e={},e[this.props.className]=!!this.props.className,e)),style:this.props.style,tabIndex:0}))},t}(i.React.PureComponent);t.default=s},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(19),s=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return r(t,e),t.prototype.render=function(){return i.React.createElement(a.default,o({},this.props,{className:"unknown-exp"}))},t}(i.React.PureComponent);t.default=s},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(19),s=function(e){function t(t){return e.call(this,t)||this}return r(t,e),t.prototype.render=function(){return i.React.createElement(a.default,o({},this.props,{className:"operator-exp"}))},t}(i.React.PureComponent);t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Attribute="ATTRIBUTE",e.Statistics="STATISTICS",e.Expression="EXPRESSION"}(t.ExpressionFrom||(t.ExpressionFrom={}))},function(e,t,n){function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var o=n(0),i=o.createElement("path",{d:"M19.637 15.866L30.951 27.18a2.667 2.667 0 0 1-3.771 3.771L15.866 19.637 4.552 30.951A2.667 2.667 0 0 1 .781 27.18l11.314-11.314L.781 4.552A2.667 2.667 0 0 1 4.552.781l11.314 11.314L27.18.781a2.667 2.667 0 0 1 3.771 3.771L19.637 15.866z"});function a(e){return o.createElement("svg",r({width:32,height:32,viewBox:"0 0 32 32"},e),i)}e.exports=a,a.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(25),o=n(1);function i(e,t,n,r){var o=t*r/2-n/2;return Math.min(o,Math.max(e,-o))}function a(e,t){return Math.min(e,Math.max(0,t))}t.getCropSize=function(e,t,n){return e>=t*n?{width:t*n,height:t}:{width:e,height:e/n}},t.restrictPosition=function(e,t,n,r){return{x:i(e.x,t.width,n.width,r),y:i(e.y,t.height,n.height,r)}},t.getDistanceBetweenPoints=function(e,t){return Math.sqrt(Math.pow(e.y-t.y,2)+Math.pow(e.x-t.x,2))},t.computeCroppedArea=function(e,t,n,r){var o={x:a(100,((t.width-n.width/r)/2-e.x/r)/t.width*100),y:a(100,((t.height-n.height/r)/2-e.y/r)/t.height*100),width:a(100,n.width/t.width*100/r),height:a(100,n.height/t.height*100/r)};return{croppedAreaPercentages:o,croppedAreaPixels:{x:a(t.naturalWidth,o.x*t.naturalWidth/100),y:a(t.naturalHeight,o.y*t.naturalHeight/100),width:a(t.naturalWidth,o.width*t.naturalWidth/100),height:a(t.naturalHeight,o.height*t.naturalHeight/100)}}},t.getCenter=function(e,t){return{x:(t.x+e.x)/2,y:(t.y+e.y)/2}},t.getCroppedImgBlobUrl=function(e,t,n){return new Promise(function(i,a){var s=new Image;s.setAttribute("crossOrigin","anonymous"),s.src=e,s.addEventListener("load",function(){var e=document.createElement("canvas");e.width=t.width,e.height=t.height,e.getContext("2d").drawImage(s,t.x,t.y,t.width,t.height,0,0,t.width,t.height),e.toBlob(function(e){var t=URL.createObjectURL(e),a={file:t,fileName:(new Date).getTime().toString()+".jpeg",type:r.ResourceType.Image,url:t,blobUrl:t,referedIds:[],fileFormat:"image/jpeg",originId:n};if(window.jimuConfig.isBuilder){var s=r.AppResourceManager.getInstance();return s.getBlobByBlobUrl(a.file).then(function(e){a.file=e,s.upLoadFileToResource(a),a.originId&&r.AppResourceManager.getInstance().updateImageResourceItemInfo(a)}),i(a)}return o.moduleLoader.getModuleSync("jimu-for-builder/for-app-inbuilder").appBuilderSync.letBuilderAddResource(a),i(a)},"image/jpeg",.8)}),s.addEventListener("error",function(){return a()})})}},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(20))},function(e,t,n){var r=n(174),o=n(22);e.exports=function(e,t){return e&&r(e,t,o)}},function(e,t,n){var r=n(176),o=n(79),i=n(9),a=n(43),s=n(80),u=n(81),l=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=i(e),c=!n&&o(e),p=!n&&!c&&a(e),f=!n&&!c&&!p&&u(e),d=n||c||p||f,h=d?r(e.length,String):[],g=h.length;for(var m in e)!t&&!l.call(e,m)||d&&("length"==m||p&&("offset"==m||"parent"==m)||f&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||s(m,g))||h.push(m);return h}},function(e,t,n){var r=n(177),o=n(12),i=Object.prototype,a=i.hasOwnProperty,s=i.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(e){return o(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=u},function(e,t){var n=9007199254740991,r=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var o=typeof e;return!!(t=null==t?n:t)&&("number"==o||"symbol"!=o&&r.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t,n){var r=n(179),o=n(45),i=n(46),a=i&&i.isTypedArray,s=a?o(a):r;e.exports=s},function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},function(e,t,n){var r=n(17),o=n(13),i="[object AsyncFunction]",a="[object Function]",s="[object GeneratorFunction]",u="[object Proxy]";e.exports=function(e){if(!o(e))return!1;var t=r(e);return t==a||t==s||t==i||t==u}},function(e,t,n){var r=n(85);e.exports=function(e){return"function"==typeof e?e:r}},function(e,t){e.exports=function(e){return e}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}},function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},function(e,t,n){var r=n(212),o=n(12);e.exports=function e(t,n,i,a,s){return t===n||(null==t||null==n||!o(t)&&!o(n)?t!=t&&n!=n:r(t,n,i,a,e,s))}},function(e,t,n){var r=n(213),o=n(216),i=n(217),a=1,s=2;e.exports=function(e,t,n,u,l,c){var p=n&a,f=e.length,d=t.length;if(f!=d&&!(p&&d>f))return!1;var h=c.get(e);if(h&&c.get(t))return h==t;var g=-1,m=!0,y=n&s?new r:void 0;for(c.set(e,t),c.set(t,e);++g<f;){var v=e[g],b=t[g];if(u)var x=p?u(b,v,g,t,e,c):u(v,b,g,e,t,c);if(void 0!==x){if(x)continue;m=!1;break}if(y){if(!o(t,function(e,t){if(!i(y,t)&&(v===e||l(v,e,n,u,c)))return y.push(t)})){m=!1;break}}else if(v!==b&&!l(v,b,n,u,c)){m=!1;break}}return c.delete(e),c.delete(t),m}},function(e,t,n){var r=n(10).Uint8Array;e.exports=r},function(e,t,n){var r=n(92),o=n(53),i=n(22);e.exports=function(e){return r(e,i,o)}},function(e,t,n){var r=n(93),o=n(9);e.exports=function(e,t,n){var i=t(e);return o(e)?i:r(i,n(e))}},function(e,t){e.exports=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}},function(e,t){e.exports=function(){return[]}},function(e,t,n){var r=n(13);e.exports=function(e){return e==e&&!r(e)}},function(e,t){e.exports=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}}},function(e,t,n){var r=n(98),o=n(35);e.exports=function(e,t){for(var n=0,i=(t=r(t,e)).length;null!=e&&n<i;)e=e[o(t[n++])];return n&&n==i?e:void 0}},function(e,t,n){var r=n(9),o=n(54),i=n(230),a=n(233);e.exports=function(e,t){return r(e)?e:o(e,t)?[e]:i(a(e))}},function(e,t,n){var r=n(77),o=n(242)(r);e.exports=o},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},function(e,t,n){var r=n(102),o=n(50),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];i.call(e,t)&&o(a,n)&&(void 0!==n||t in e)||r(e,t,n)}},function(e,t,n){var r=n(246);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},function(e,t,n){var r=n(78),o=n(249),i=n(28);e.exports=function(e){return i(e)?r(e,!0):o(e)}},function(e,t,n){var r=n(93),o=n(48),i=n(53),a=n(94),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,i(e)),e=o(e);return t}:a;e.exports=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Checkboard=void 0;var r=a(n(0)),o=a(n(3)),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(274));function a(e){return e&&e.__esModule?e:{default:e}}var s=t.Checkboard=function(e){var t=e.white,n=e.grey,a=e.size,s=e.renderers,u=e.borderRadius,l=e.boxShadow,c=(0,o.default)({default:{grid:{borderRadius:u,boxShadow:l,absolute:"0px 0px 0px 0px",background:"url("+i.get(t,n,a,s.canvas)+") center left"}}});return r.default.createElement("div",{style:c.grid})};s.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}},t.default=s},function(e,t,n){var r=n(13),o=n(281),i=n(282),a="Expected a function",s=Math.max,u=Math.min;e.exports=function(e,t,n){var l,c,p,f,d,h,g=0,m=!1,y=!1,v=!0;if("function"!=typeof e)throw new TypeError(a);function b(t){var n=l,r=c;return l=c=void 0,g=t,f=e.apply(r,n)}function x(e){var n=e-h;return void 0===h||n>=t||n<0||y&&e-g>=p}function w(){var e=o();if(x(e))return _(e);d=setTimeout(w,function(e){var n=t-(e-h);return y?u(n,p-(e-g)):n}(e))}function _(e){return d=void 0,v&&l?b(e):(l=c=void 0,f)}function O(){var e=o(),n=x(e);if(l=arguments,c=this,h=e,n){if(void 0===d)return function(e){return g=e,d=setTimeout(w,t),m?b(e):f}(h);if(y)return d=setTimeout(w,t),b(h)}return void 0===d&&(d=setTimeout(w,t)),f}return t=i(t)||0,r(n)&&(m=!!n.leading,p=(y="maxWait"in n)?s(i(n.maxWait)||0,t):p,v="trailing"in n?!!n.trailing:v),O.cancel=function(){void 0!==d&&clearTimeout(d),g=0,l=h=c=d=void 0},O.flush=function(){return void 0===d?f:_(o())},O}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColorWrap=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),a=l(i),s=l(n(106)),u=l(n(11));function l(e){return e&&e.__esModule?e:{default:e}}var c=t.ColorWrap=function(e){var t=function(t){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return t.handleChange=function(e,n){if(u.default.simpleCheckForValidColor(e)){var r=u.default.toState(e,e.h||t.state.oldHue);t.setState(r),t.props.onChangeComplete&&t.debounce(t.props.onChangeComplete,r,n),t.props.onChange&&t.props.onChange(r,n)}},t.handleSwatchHover=function(e,n){if(u.default.simpleCheckForValidColor(e)){var r=u.default.toState(e,e.h||t.state.oldHue);t.setState(r),t.props.onSwatchHover&&t.props.onSwatchHover(r,n)}},t.state=r({},u.default.toState(e.color,0)),t.debounce=(0,s.default)(function(e,t,n){e(t,n)},100),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,i.PureComponent||i.Component),o(n,[{key:"componentWillReceiveProps",value:function(e){this.setState(r({},u.default.toState(e.color,this.state.oldHue)))}},{key:"render",value:function(){var t={};return this.props.onSwatchHover&&(t.onSwatchHover=this.handleSwatchHover),a.default.createElement(e,r({},this.props,this.state,{onChange:this.handleChange},t))}}]),n}();return t.propTypes=r({},e.propTypes),t.defaultProps=r({},e.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),t};t.default=c},function(e,t,n){"use strict";n.r(t),n.d(t,"red",function(){return r}),n.d(t,"pink",function(){return o}),n.d(t,"purple",function(){return i}),n.d(t,"deepPurple",function(){return a}),n.d(t,"indigo",function(){return s}),n.d(t,"blue",function(){return u}),n.d(t,"lightBlue",function(){return l}),n.d(t,"cyan",function(){return c}),n.d(t,"teal",function(){return p}),n.d(t,"green",function(){return f}),n.d(t,"lightGreen",function(){return d}),n.d(t,"lime",function(){return h}),n.d(t,"yellow",function(){return g}),n.d(t,"amber",function(){return m}),n.d(t,"orange",function(){return y}),n.d(t,"deepOrange",function(){return v}),n.d(t,"brown",function(){return b}),n.d(t,"grey",function(){return x}),n.d(t,"blueGrey",function(){return w}),n.d(t,"darkText",function(){return _}),n.d(t,"lightText",function(){return O}),n.d(t,"darkIcons",function(){return C}),n.d(t,"lightIcons",function(){return E}),n.d(t,"white",function(){return S}),n.d(t,"black",function(){return P});var r={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",a100:"#ff8a80",a200:"#ff5252",a400:"#ff1744",a700:"#d50000"},o={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",a100:"#ff80ab",a200:"#ff4081",a400:"#f50057",a700:"#c51162"},i={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",a100:"#ea80fc",a200:"#e040fb",a400:"#d500f9",a700:"#aa00ff"},a={50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",a100:"#b388ff",a200:"#7c4dff",a400:"#651fff",a700:"#6200ea"},s={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",a100:"#8c9eff",a200:"#536dfe",a400:"#3d5afe",a700:"#304ffe"},u={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",a100:"#82b1ff",a200:"#448aff",a400:"#2979ff",a700:"#2962ff"},l={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",a100:"#80d8ff",a200:"#40c4ff",a400:"#00b0ff",a700:"#0091ea"},c={50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",a100:"#84ffff",a200:"#18ffff",a400:"#00e5ff",a700:"#00b8d4"},p={50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",a100:"#a7ffeb",a200:"#64ffda",a400:"#1de9b6",a700:"#00bfa5"},f={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",a100:"#b9f6ca",a200:"#69f0ae",a400:"#00e676",a700:"#00c853"},d={50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",a100:"#ccff90",a200:"#b2ff59",a400:"#76ff03",a700:"#64dd17"},h={50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",a100:"#f4ff81",a200:"#eeff41",a400:"#c6ff00",a700:"#aeea00"},g={50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",a100:"#ffff8d",a200:"#ffff00",a400:"#ffea00",a700:"#ffd600"},m={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",a100:"#ffe57f",a200:"#ffd740",a400:"#ffc400",a700:"#ffab00"},y={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",a100:"#ffd180",a200:"#ffab40",a400:"#ff9100",a700:"#ff6d00"},v={50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",a100:"#ff9e80",a200:"#ff6e40",a400:"#ff3d00",a700:"#dd2c00"},b={50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723"},x={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121"},w={50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238"},_={primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",dividers:"rgba(0, 0, 0, 0.12)"},O={primary:"rgba(255, 255, 255, 1)",secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",dividers:"rgba(255, 255, 255, 0.12)"},C={active:"rgba(0, 0, 0, 0.54)",inactive:"rgba(0, 0, 0, 0.38)"},E={active:"rgba(255, 255, 255, 1)",inactive:"rgba(255, 255, 255, 0.5)"},S="#ffffff",P="#000000";t.default={red:r,pink:o,purple:i,deepPurple:a,indigo:s,blue:u,lightBlue:l,cyan:c,teal:p,green:f,lightGreen:d,lime:h,yellow:g,amber:m,orange:y,deepOrange:v,brown:b,grey:x,blueGrey:w,darkText:_,lightText:O,darkIcons:C,lightIcons:E,white:S,black:P}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var i,a,s=n(1),u=n(2),l=n(110),c=n(62),p=function(e){function t(t){var n=e.call(this,t)||this;return n.getStyle=function(){return s.css(i||(i=o(["\n      width: ",";\n      height:",";\n    "],["\n      width: ",";\n      height:",";\n    "])),s.polished.rem(52),s.polished.rem(26))},n.userSelectNone=function(){return s.css(a||(a=o(["\n      * {\n        user-select: none;\n      }\n    "],["\n      * {\n        user-select: none;\n      }\n    "])))},n.toRgba=function(e){if(!e)return"";var t=e.rgb;return t?"rgba("+t.r+","+t.g+","+t.b+","+t.a+")":e.hex},n.colorChange=function(e){var t=n.props.changeOnClose,r=n.toRgba(e);t?n.setState({color:r}):n.onChange(r)},n.onChange=function(e){n.setState({color:void 0}),n.props.onChange(e)},n.handleClick=function(){n.setState({showPicker:!n.state.showPicker}),n.props.onClick()},n.state={showPicker:!1},n}return r(t,e),t.prototype.componentDidUpdate=function(e,t){if(this.props.changeOnClose){var n=this.state,r=n.showPicker,o=n.color;r===t.showPicker||r||this.onChange(o)}},t.prototype.render=function(){var e=this,t=this.props,n=t.title,r=t.color,o=t.placement,i=t.style,a=t.innerClassName,p=t.className,f=t.icon,d=t.presetColors,h=this.state.color||r;return s.jsx("div",{css:this.getStyle(),style:i,className:s.classNames(p,"jimu-builder--color d-flex")},s.jsx(l.ColorBlock,{innerRef:function(t){return e.blockNode=t},title:n,color:h,icon:f,onClick:this.handleClick}),s.jsx(u.Popper,{css:this.userSelectNone(),className:a,placement:o,open:this.state.showPicker,container:"body",offset:[0,10],reference:this.blockNode,toggle:function(){return e.setState({showPicker:!e.state.showPicker})},zIndex:51},s.jsx(c.SketchPicker,{presetColors:d,color:h,onChangeComplete:this.colorChange})))},t.count=0,t.defaultProps={presetColors:["#FFFFFF","#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B",{color:"rgba(0, 0, 0, 0)",title:"transparent"}],placement:"bottom",onChange:function(){},onClick:function(){}},t}(s.React.PureComponent);t._Color=p,t.Color=s.themeUtils.withTheme(p)},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(1),s=n(2),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getStyle=function(e){var t=e&&e.colors?e.colors.grays.gray300:"#4d545b",n=e&&e.colors?e.colors.white:"#ffffff";return a.css(i||(i=o(["\n      width: 100%;\n      height: 100%;\n      border-radius: 2px;\n      > div {\n        border: 1px "," solid;\n        border-top-right-radius: 0;\n        border-bottom-right-radius: 0;\n        flex-basis: 50%;\n        flex-grow: 1;\n        cursor: pointer;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        &:first-of-type {\n            border-right: 1px "," solid;\n            margin-right: -2px;\n        }\n        background: linear-gradient(to bottom right, "," calc(50% - 1px), ",", "," calc(50% + 1px));\n      }\n      button {\n        border-top-left-radius: 0;\n        border-bottom-left-radius: 0;\n      }\n    "],["\n      width: 100%;\n      height: 100%;\n      border-radius: 2px;\n      > div {\n        border: 1px "," solid;\n        border-top-right-radius: 0;\n        border-bottom-right-radius: 0;\n        flex-basis: 50%;\n        flex-grow: 1;\n        cursor: pointer;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        &:first-of-type {\n            border-right: 1px "," solid;\n            margin-right: -2px;\n        }\n        background: linear-gradient(to bottom right, "," calc(50% - 1px), ",", "," calc(50% + 1px));\n      }\n      button {\n        border-top-left-radius: 0;\n        border-bottom-left-radius: 0;\n      }\n    "])),t,t,n,t,n)},t}return r(t,e),t.prototype.render=function(){var e=this.props,t=e.id,n=e.title,r=e.style,o=e.className,i=e.icon,u=e.color,l=e.theme,c=e.innerRef,p=e.onClick,f=u?{background:u}:{};return a.jsx("div",{ref:function(e){return c(e)},id:t,title:n,css:this.getStyle(l),style:r,className:a.classNames(o,"jimu-build-color-block d-flex"),onClick:p},a.jsx("div",{style:f}),i&&a.jsx(s.Button,{icon:!0,size:"sm",color:"secondary"},a.jsx(s.Icon,{size:13,icon:i})))},t.count=0,t.defaultProps={onClick:function(){}},t}(a.React.PureComponent);t._ColorBlock=u,t.ColorBlock=a.themeUtils.withTheme(u)},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(336)),r(n(341)),r(n(109)),r(n(342)),r(n(349)),r(n(352)),r(n(355)),r(n(110)),r(n(357))},function(e,t){e.exports=r},function(e,t,n){"use strict";(function(e){var n=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some(function(e,r){return e[0]===t&&(n=r,!0)}),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var o=r[n];e.call(t,o[1],o[0])}},t}()}(),r="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,o=void 0!==e&&e.Math===Math?e:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),i="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(o):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)},a=2;var s=20,u=["top","right","bottom","left","width","height","size","weight"],l="undefined"!=typeof MutationObserver,c=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,o=0;function s(){n&&(n=!1,e()),r&&l()}function u(){i(s)}function l(){var e=Date.now();if(n){if(e-o<a)return;r=!0}else n=!0,r=!1,setTimeout(u,t);o=e}return l}(this.refresh.bind(this),s)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter(function(e){return e.gatherActive(),e.hasActive()});return e.forEach(function(e){return e.broadcastActive()}),e.length>0},e.prototype.connect_=function(){r&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),l?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){r&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;u.some(function(e){return!!~n.indexOf(e)})&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),p=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var o=r[n];Object.defineProperty(e,o,{value:t[o],enumerable:!1,writable:!1,configurable:!0})}return e},f=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||o},d=b(0,0,0,0);function h(e){return parseFloat(e)||0}function g(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce(function(t,n){return t+h(e["border-"+n+"-width"])},0)}function m(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return d;var r=f(e).getComputedStyle(e),o=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var o=r[n],i=e["padding-"+o];t[o]=h(i)}return t}(r),i=o.left+o.right,a=o.top+o.bottom,s=h(r.width),u=h(r.height);if("border-box"===r.boxSizing&&(Math.round(s+i)!==t&&(s-=g(r,"left","right")+i),Math.round(u+a)!==n&&(u-=g(r,"top","bottom")+a)),!function(e){return e===f(e).document.documentElement}(e)){var l=Math.round(s+i)-t,c=Math.round(u+a)-n;1!==Math.abs(l)&&(s-=l),1!==Math.abs(c)&&(u-=c)}return b(o.left,o.top,s,u)}var y="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof f(e).SVGGraphicsElement}:function(e){return e instanceof f(e).SVGElement&&"function"==typeof e.getBBox};function v(e){return r?y(e)?function(e){var t=e.getBBox();return b(0,0,t.width,t.height)}(e):m(e):d}function b(e,t,n,r){return{x:e,y:t,width:n,height:r}}var x=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=b(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=v(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),w=function(){return function(e,t){var n=function(e){var t=e.x,n=e.y,r=e.width,o=e.height,i="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,a=Object.create(i.prototype);return p(a,{x:t,y:n,width:r,height:o,top:n,right:t+r,bottom:o+n,left:t}),a}(t);p(this,{target:e,contentRect:n})}}(),_=function(){function e(e,t,r){if(this.activeObservations_=[],this.observations_=new n,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=r}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof f(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new x(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof f(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(e){return new w(e.target,e.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),O="undefined"!=typeof WeakMap?new WeakMap:new n,C=function(){return function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=c.getInstance(),r=new _(t,n,this);O.set(this,r)}}();["observe","unobserve","disconnect"].forEach(function(e){C.prototype[e]=function(){var t;return(t=O.get(this))[e].apply(t,arguments)}});var E=void 0!==o.ResizeObserver?o.ResizeObserver:C;t.a=E}).call(this,n(20))},function(e,t,n){"use strict";(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.a=n}).call(this,n(20))},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.AppConfigChanged="app_config_changed",e.ChangeAppMode="change_app_mode",e.ChangeSelectMode="change_select_mode",e.ChangePage="change_page",e.ChangeDialog="change_dialog",e.ChangeView="change_view",e.ChangeSelection="change_selection",e.ChangeWidgetsStateProp="change_widgets_state_prop",e.DraggingWidgetToApp="dragging_widget_to_app",e.EndDragWidgetToApp="end_drag_widget_to_app",e.BuilderTriggerKeyboard="builder_trigger_keyboard",e.ChangeBrowserSizeMode="change_browser_size_mode"}(t.ToAppMessage||(t.ToAppMessage={})),function(e){e.AppStateChanged="app_state_changed",e.PopupChooseWidget="popup_choose_widget",e.AppAddResource="app_add_resource",e.AppClearResources="app_clear_resources",e.AppTriggerKeyboard="app_trigger_keyboard",e.SetLayoutTools="app_set_layout_tools"}(t.ToBuilderMessage||(t.ToBuilderMessage={}))},function(e,t,n){function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var o=n(0),i=o.createElement("path",{d:"M4.103 7.873L16 19.25 27.897 7.873c.939-.898 2.46-.898 3.399 0s.939 2.353 0 3.251L17.7 24.127a2.481 2.481 0 0 1-3.399 0L.705 11.124c-.939-.898-.939-2.353 0-3.251s2.46-.898 3.399 0z"});function a(e){return o.createElement("svg",r({width:32,height:32,viewBox:"0 0 32 32"},e),i)}e.exports=a,a.default=a},function(e,t,n){function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var o=n(0),i=o.createElement("path",{d:"M1.521 5.693a.517.517 0 0 1-.708 0 .464.464 0 0 1 0-.677l2.833-2.71a.517.517 0 0 1 .708 0l2.833 2.71a.464.464 0 0 1 0 .677.517.517 0 0 1-.708 0L4 3.323l-2.479 2.37z"}),a=o.createElement("path",{d:"M0 0h8v8H0z",fill:"none"});function s(e){return o.createElement("svg",r({width:8,height:8,viewBox:"0 0 8 8"},e),i,a)}e.exports=s,s.default=s},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(2),s=n(16),u=n(4),l=n(40),c=n(159),p=n(161),f=n(162);t.ExpressionInputFrom=f.ExpressionInputFrom;var d=function(e){function t(t){var n,r=e.call(this,t)||this;return r.expressionFrom=((n={})[f.ExpressionInputFrom.Attribute]=r.props.intl.formatMessage({id:"attribute",defaultMessage:u.default.attribute}),n[f.ExpressionInputFrom.Statistics]=r.props.intl.formatMessage({id:"statistics",defaultMessage:u.default.statistics}),n[f.ExpressionInputFrom.Expression]=r.props.intl.formatMessage({id:"expression",defaultMessage:u.default.expression}),n[f.ExpressionInputFrom.Static]=r.props.intl.formatMessage({id:"static",defaultMessage:u.default.static}),n),r.toggleDropdown=function(){return r.setState({isDropdownOpen:!r.state.isDropdownOpen})},r.getSelectedExpFromExpression=function(){return r.props.expression&&r.props.expression.parts&&0!==r.props.expression.parts.length?1===r.props.expression.parts.length&&r.props.expression.parts[0].type===i.ExpressionPartType.String?r.props.from.some(function(e){return e===f.ExpressionInputFrom.Static})?f.ExpressionInputFrom.Static:r.props.from[0]:1===r.props.expression.parts.length&&r.props.expression.parts[0].type===i.ExpressionPartType.Field?r.props.from.some(function(e){return e===f.ExpressionInputFrom.Attribute})?f.ExpressionInputFrom.Attribute:r.props.from.some(function(e){return e===f.ExpressionInputFrom.Expression})?f.ExpressionInputFrom.Expression:r.props.from[0]:1===r.props.expression.parts.length&&r.props.expression.parts[0].type===i.ExpressionPartType.Function&&r.props.from.some(function(e){return e===f.ExpressionInputFrom.Statistics})?f.ExpressionInputFrom.Statistics:r.props.from.some(function(e){return e===f.ExpressionInputFrom.Expression})?f.ExpressionInputFrom.Expression:r.props.from[0]:r.props.from[0]},r.getWhetherFromExpBuilder=function(e){return e&&Object.keys(l.ExpressionFrom).some(function(t){return l.ExpressionFrom[t]===e})},r.getExpressionFrom=function(){return r.getWhetherFromExpBuilder(r.state.selectedExpFrom)?[r.state.selectedExpFrom]:[]},r.getStringFromExpression=function(){return r.props.expression&&1===r.props.expression.parts.length&&r.props.expression.parts[0].type===i.ExpressionPartType.String?r.props.expression.parts[0].exp.replace(/^"/,"").replace(/"$/,""):""},r.onInputBlur=function(e){var t=e.target.value,n={name:t,parts:[{type:i.ExpressionPartType.String,exp:'"'+t+'"'}]};r.props.onChange&&r.props.onChange(n)},r.onInputChange=function(e){r.setState({inputValue:e.target.value})},r.onExpChange=function(e){r.props.onChange&&r.props.onChange(e)},r.onExpFromChange=function(e){r.getWhetherFromExpBuilder(e)?r.props.openExpPopup():r.props.closeExpPopup(),r.setState({selectedExpFrom:e})},r.getWhetherExpDsDisabled=function(e){return!!e&&e.some(function(e){var t=s.getWhetherDsDisabled(e,r.props.dataSourceIds);if(t)return t;var n=!1;return e&&e.parts&&(n=r.getWhetherExpDsDisabled(e.parts)),t||n})},r.state={selectedExpFrom:r.getSelectedExpFromExpression(),isDropdownOpen:!1,inputValue:r.getStringFromExpression()},r}return r(t,e),t.prototype.render=function(){var e,t=this,n=this.getWhetherFromExpBuilder(this.state.selectedExpFrom),r=n?this.props.expression&&this.props.expression.name||"":this.state.inputValue,s=this.getWhetherExpDsDisabled(this.props.expression&&this.props.expression.parts);return i.jsx("div",{css:p.getStyle(this.props.theme),style:this.props.style,className:i.classNames("w-100 h-100",(e={},e[this.props.className]=!!this.props.className,e))},i.jsx("div",{className:"component-expression-input d-flex justify-content-between"},s&&n?i.jsx("div",{className:"w-100 text-truncate ds-disabled"},i.jsx("span",{title:r},r)):i.jsx(a.Input,{className:"float-right w-100",value:r,disabled:n,onChange:this.onInputChange,onBlur:this.onInputBlur,title:r}),i.jsx("div",{className:"ml-1 expression-builder-trigger"},i.jsx(a.Dropdown,{isOpen:this.state.isDropdownOpen,toggle:this.toggleDropdown,className:"flex-shrink-0 expression-builder-trigger-input"},i.jsx(a.DropdownToggle,{caret:!0,outline:!0,title:this.state.selectedExpFrom,className:"text-truncate"}," "),i.jsx(a.DropdownMenu,null,this.props.from.map(function(e,n){return i.jsx(a.DropdownItem,{onClick:function(n){return t.onExpFromChange(e)},key:n},t.expressionFrom[e])}))))),this.props.isExpPopupOpen?i.jsx(c.default,o({},this.props,{onChange:this.onExpChange,from:this.getExpressionFrom(),isOpen:this.props.isExpPopupOpen,onClose:this.props.closeExpPopup})):null)},t}(i.React.PureComponent),h=i.themeUtils.withTheme(i.injectIntl(d));t.default=h},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(16),a=n(4),s=n(147),u=n(149),l=n(152),c=n(68),p=n(69),f=n(153),d=n(154),h=n(70),g=n(71),m=n(72),y=n(155),v=n(156),b=n(41),x=function(e){function t(n){var r=e.call(this,n)||this;return r.dsManager=i.getDsManager(),r.__unmount=!1,r.expressionString="",r.initDss=function(){r.dsManager.createAllDataSources().then(function(e){r.__unmount||r.setState({isDataSourceInited:!0})},function(e){r.__unmount||(r.setState({isDataSourceInited:!0}),console.error(e))})},r.setSelectionToEnd=function(){r.setState({editablePartId:null,isEditable:!0,isPopoverOpen:!1,expSelection:{partId:r.props.expression&&r.props.expression.parts&&b.getParentPartId(r.id,""+(r.props.expression.parts.length-1))||b.getParentPartId(r.id,"0"),type:c.ExpSelectionType.Part,toStart:!1}})},r.getWhetherLoseFocus=function(){var e=window.getSelection&&window.getSelection();return!(e&&r.contentEditableContainer&&r.contentEditableContainer.current.contains(e.focusNode)&&r.contentEditableContainer.current!==e.focusNode)},r.getWhetherDssAreEqual=function(e,t){return e&&t&&e.length===t.length?e.every(function(e){return!!t.find(function(t){return t===e})})&&t.every(function(t){return!!e.find(function(e){return t===e})}):!e&&!t},r.getDss=function(e){return e?e.asMutable().filter(function(e){return!!e}).map(function(e){var t=r.dsManager.getDataSource(e);return t||null}).filter(function(e){return!!e}):[]},r.getExpressionString=function(e){var t=e||r.contentEditableContainer?r.contentEditableContainer.current:document,n=t&&t.querySelector("#"+r.id);return n?n.textContent.replace(/\ufeff/g,""):""},r.getComponent=function(e,t){var n=b.getParentPartId(r.id,t);switch(e.type){case o.ExpressionPartType.Field:return o.jsx(p.default,{exp:e.exp,id:n,key:t,isDsDisabled:i.getWhetherDsDisabled(e,r.props.dataSourceIds),isEditable:r.state.editablePartId===n,dataSourceId:e.dataSourceId,isError:!i.getWhetherFieldInDs(e.dataSourceId,e.jimuFieldName)});case o.ExpressionPartType.String:return o.jsx(f.default,{exp:e.exp,id:n,key:t,isEditable:r.state.editablePartId===n});case o.ExpressionPartType.Operator:return o.jsx(m.default,{exp:e.exp,id:n,key:t,isEditable:r.state.editablePartId===n});case o.ExpressionPartType.Function:return o.jsx(d.default,{exp:e.exp,parts:e.parts,id:n,key:t,isDsDisabled:i.getWhetherDsDisabled(e,r.props.dataSourceIds),isEditable:r.state.editablePartId===n,externalId:r.id,isError:!b.getWhetherFunctionHasArgs(e),dataSourceIds:r.props.dataSourceIds});case o.ExpressionPartType.Number:return o.jsx(h.default,{exp:e.exp,id:n,key:t,isEditable:r.state.editablePartId===n});case o.ExpressionPartType.Unknown:return o.jsx(g.default,{exp:e.exp,id:n,key:t,isEditable:r.state.editablePartId===n});default:return null}},r.getPopoverItems=function(e,t){if(void 0===t&&(t=[]),!e||!t)return[];var n,i,a,s=[],u=b.getWhetherIsParentPartId(r.id,e);if(u?(n=b.getIndexOfParentPart(r.id,e),a=t[n]):(n=b.getIndexOfParentPart(r.id,e),i=b.getIndexOfChildPart(r.id,e),a=t[n]&&t[n].parts&&t[n].parts[i]),a){if(a.type===o.ExpressionPartType.Field)if(a.dataSourceId){var l=r.state.dss.find(function(e){return e.id===a.dataSourceId}),p=l&&l.getSchema&&l.getSchema().fields;p&&Object.keys(p).filter(function(e){var t=p[e].alias||p[e].name;return t&&0===t.toLowerCase().indexOf(a.exp.replace("$","").toLowerCase())}).filter(function(e){return!(!u&&t[n]&&t[n].type===o.ExpressionPartType.Function)||p[e].type===o.JimuFieldType.Number}).sort(function(e,t){return p[e].name.localeCompare(p[t].name)}).forEach(function(e){s.push({id:e,content:p[e].alias||p[e].name,type:c.PopoverType.Field})})}else r.props.dataSourceIds&&r.props.dataSourceIds.length>0&&r.state.dss&&r.state.dss.length>0&&(s=r.getDssPopoverItems());else if(a.type===o.ExpressionPartType.Unknown&&u)b.getSortedKeys(o.ExpressionFunctions).filter(function(e){return 0===o.ExpressionFunctions[e].indexOf(a.exp)}).forEach(function(e){s.push({id:e,content:o.ExpressionFunctions[e],type:c.PopoverType.Function})});else if(a.type===o.ExpressionPartType.Function){if(!(a.exp===o.ExpressionFunctions.Count&&r.props.dataSourceIds&&r.props.dataSourceIds.length>1&&r.state.dss&&r.state.dss.length>1)){var f=b.getPreviouseNodeOfSelection(r.id,b.getNodeByPartId(e));return f?r.getPopoverItems(f.id,a.parts):s}s=r.getDssPopoverItems()}return s}},r.getDssPopoverItems=function(){var e=[];return r.state.dss&&b.getSortedArrayByLabel(r.state.dss).forEach(function(t){e.push({id:t.id,content:t.label,type:c.PopoverType.DataSource})}),e},r.getPopoverTarget=function(){if(!r.contentEditableContainer||!r.contentEditableContainer.current)return null;var e=r.contentEditableContainer.current.querySelector("#"+r.id);if(r.getWhetherInEditablePart())return b.getPartIdOfSelection(r.id);var t=b.getPreviouseNodeOfSelection(r.id,e);return t?t.id:null},r.getWhetherInEditablePart=function(){return!(r.state.isEditable||!r.state.editablePartId)},r.getSingleExpFromPopoverItem=function(e){switch(e.type){case c.PopoverType.Field:return"$"+b.removeOperator(e.content);default:return e.content}},r.renderPartsToHtml=function(e){return u.renderToStaticMarkup(o.jsx("p",{id:r.id,className:"w-100 m-0 p-1"},"\ufeff",e&&e.map(function(e,t){return r.getComponent(e,""+t)}),"\ufeff"))},r.addOneCharacterToParts=function(e,t,n,o){if(void 0===t&&(t=[]),!e||!n)return null;var i=Object.keys(n).map(function(e){return e}),a=t?t.slice():[],s=b.getLengthDiffBetweenExpsAndParts(e,a),u='"'!==o&&1===s?0:1,l=i.map(function(e,t){var i=u>0&&0===t?1:0,s=n[e];return r.addOneCharacterToOnePart(s,a[e],e,i,o)});return l.filter(function(e){return!!e}).forEach(function(e,t){l[t].editedPartIds.forEach(function(e,n){var o=b.getWhetherIsParentPartId(r.id,e),i=b.getIndexOfParentPart(r.id,e);if(o)a.splice(parseInt(i),l[t].isPartAdded?0:1,l[t].editedParts[n]);else{var s=b.getIndexOfChildPart(r.id,e),u=!l[t].isPartAdded||l[t].editedParts.length>1&&0===n?1:0;a[parseInt(i)]&&a[parseInt(i)].parts&&a[parseInt(i)].parts.splice(parseInt(s),u,l[t].editedParts[n])}})}),{parts:a,isPartAdded:s>0||!!l.find(function(e){return e.isPartAdded}),editedParts:Array.prototype.concat.apply([],l.map(function(e){return e.editedParts})),editedPartIds:Array.prototype.concat.apply([],l.map(function(e){return e.editedPartIds}))}},r.addOneCharacterToOnePart=function(e,t,n,o,i){if(void 0===e&&(e=""),void 0===t&&(t={}),!n)return null;var a,s=r.props.dataSourceIds&&r.props.dataSourceIds.length>1?t.dataSourceId:r.props.dataSourceIds&&r.props.dataSourceIds[0],u=b.getExpressionPart(e,s,t.jimuFieldName),l=b.getWhetherHaveChildParts(u.type);if(l){var c=b.getNextNodeOfSelection(r.id,b.getNodeByPartId(b.getParentPartId(r.id,n))),p=b.resolveFunctionExp(e),f=b.getNewPartsInfo(r.id,t.parts,p.innerExps,c,i,r.getWhetherInEditablePart(),!1,n);a=r.addOneCharacterToParts(p.innerExps,t.parts,f,i),u.parts=a.parts}return{parts:null,isPartAdded:l&&u.parts&&u.parts.length>0?a.isPartAdded:!o,editedParts:l&&u.parts&&u.parts.length>0?a.editedParts:[u],editedPartIds:l&&u.parts&&u.parts.length>0?a.editedPartIds.map(function(e){return b.getChildPartId(r.id,n,b.getIndexOfParentPart(r.id,e))}):[b.getParentPartId(r.id,n)]}},r.removeOneCharacterFromOnePart=function(e,t,n){void 0===e&&(e=[]);var o=e?e.slice():[],i=b.getWhetherIsParentPartId(r.id,t)?b.getIndexOfParentPart(r.id,t):b.getIndexOfChildPart(r.id,t),a=o&&o[parseInt(i)];if(!o||!a)return null;var s=!1,u=r.props.dataSourceIds&&r.props.dataSourceIds.length>1?a.dataSourceId:r.props.dataSourceIds&&r.props.dataSourceIds[0],l=null;return a.exp=b.removeOneCharacter(a.exp,n),(a=b.getExpressionPart(a.exp,u,a.jimuFieldName)).exp.length>0?o.splice(parseInt(i),1,a):(s=!0,o=(l=r.removeOnePart(o,t)).parts),{parts:o,isExpRemoved:s,editedPart:s?l&&l.editedPart:a,editedPartId:s?l&&l.editedPartId:t}},r.removeOneCharacterFromParts=function(e,t){if(!e)return null;var n,o=b.getIndexOfParentPart(r.id,e);if(b.getWhetherIsParentPartId(r.id,e))n=r.removeOneCharacterFromOnePart(r.props.expression&&r.props.expression.parts,e,t);else{var i=r.props.expression&&r.props.expression.parts?r.props.expression.parts.slice():[];if(!(n=i&&r.removeOneCharacterFromOnePart(i[o].parts,e,t)))return null;i[o].parts=n.parts,n.parts=i}return n},r.removeOnePart=function(e,t){if(void 0===e&&(e=[]),!e||!t)return null;var n=e.slice(),i=b.getWhetherIsParentPartId(r.id,t)?b.getIndexOfParentPart(r.id,t):b.getIndexOfChildPart(r.id,t);if(n[parseInt(i)].type===o.ExpressionPartType.Operator&&n[parseInt(i)-1]&&n[parseInt(i)+1]&&n[parseInt(i)-1].type!==o.ExpressionPartType.Operator&&n[parseInt(i)+1].type!==o.ExpressionPartType.Operator){var a=b.getNodeByPartId(t),s=a.previousElementSibling,u=a.nextElementSibling,l=s.textContent+u.textContent,c=b.getExps(l),p=c.map(function(e,t){var r=0===t?parseInt(i)-1:parseInt(i)+1,o=0===t?s.textContent:u.textContent,a=2===c.length&&o===e,l=b.getExpressionPart(e,a&&n[r].dataSourceId,a&&n[r].jimuFieldName);return a&&n[r].parts&&(l.parts=n[r].parts),l});n.splice.apply(n,[parseInt(i)-1,3].concat(p))}else n.splice(parseInt(i),1);return{parts:n,isExpRemoved:!0,editedPart:null,editedPartId:null}},r.getExpSelectionAndEditableStatusByAddResult=function(e,t){var n=null,i=r.state.isEditable,a=r.state.editablePartId;if(!e)return{expSelection:n,isEditable:i,editablePartId:a};var s=b.getLastAddedPart(e),u=b.getLastAddedPartId(e),l=b.getParentPartId(r.id,b.getIndexOfParentPart(r.id,u));if(s&&s.type===o.ExpressionPartType.String&&'""'===s.exp)i=!1,a=l,n={partId:u,type:c.ExpSelectionType.Char,startOffset:1};else if(s&&s.type===o.ExpressionPartType.Function&&0===s.parts.length)i=!1,a=l,n={partId:u,type:c.ExpSelectionType.Char,startOffset:s.exp.length+1};else if(e.isPartAdded)i=!1,a=l,n={partId:u,type:c.ExpSelectionType.Char,startOffset:s&&s.exp.length};else if(r.getWhetherInEditablePart()){var p=b.getSelectionPosInnerPart(r.id,!1,r.contentEditableContainer.current);n={partId:p&&p.partId,type:c.ExpSelectionType.Char,startOffset:p&&p.startOffset}}else i=!1,a=l,n={partId:u,type:c.ExpSelectionType.Char,startOffset:b.getWhetherAddToStart(r.id,t,r.props.expression)?1:s.exp.length};return{expSelection:n,isEditable:i,editablePartId:a}},r.getNewExpression=function(e){return{parts:e,name:r.props.expression&&r.props.expression.name||r.id}},r.onChange=function(e){var t=e.currentTarget.querySelector("#"+r.id);if(t&&e.isTrusted){var n=r.getExpressionString(t),o=b.getNewCharacterFromExpressionString(r.expressionString,n),i=t.textContent,a=b.getExps(i),s=b.getNextNodeOfSelection(r.id,t),u=b.getNewPartsInfo(r.id,r.props.expression&&r.props.expression.parts,a,s,o,r.getWhetherInEditablePart(),!0),l=r.addOneCharacterToParts(a,r.props.expression&&r.props.expression.parts,u,o),c=l.parts,p=r.getExpSelectionAndEditableStatusByAddResult(l,s);r.setState({isPopoverOpen:!1,isEditable:p.isEditable,editablePartId:p.editablePartId,expSelection:p.expSelection},function(){r.setState({isPopoverOpen:!0})}),r.props.onChange(r.getNewExpression(c))}},r.onBlur=function(e){r.props.onChange(r.props.expression)},r.onKeyDown=function(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation();var t=b.getSelectionRange();if(t&&t.collapsed){if(8===e.keyCode||46===e.keyCode||39===e.keyCode||37===e.keyCode||13===e.keyCode||40===e.keyCode||38===e.keyCode){var n=e.currentTarget.querySelector("#"+r.id);if(!n)return;e.preventDefault(),8!==e.keyCode&&46!==e.keyCode||b.triggerInputEvent(e.currentTarget),8===e.keyCode?r.handleBackspace(n):46===e.keyCode?r.handleDelete(n):37===e.keyCode?r.handleLeftArrow(n):39===e.keyCode?r.handleRightArrow(n):13===e.keyCode?r.handleEnter(n):40===e.keyCode?r.handleDownArrow(n):38===e.keyCode&&r.handleUpArrow(n)}}else e.preventDefault()},r.onClick=function(e){var t=b.getPartIdByChildNode(r.id,e.target),n=b.getIndexOfParentPart(r.id,t);if(n){var o=parseInt(n)>-1?b.getNodeByPartId(t,r.contentEditableContainer.current):null;if(o&&b.getIndexOfParentPart(r.id,r.state.editablePartId)!==n&&r.props.expression&&r.props.expression.parts&&r.props.expression.parts[n]){var i={partId:t,type:c.ExpSelectionType.Char,startOffset:o.textContent.length};r.setState({editablePartId:b.getParentPartId(r.id,n),isEditable:!1,expSelection:i,isPopoverOpen:!1},function(){return r.setState({isPopoverOpen:b.getWhetherPartNeedPopover(r.props.expression.parts[n].type)})})}}else e.target.id===r.id&&r.setSelectionToEnd()},r.onHelperItemSelect=function(e,t){if(r.props.onChange(e),e&&e.parts&&t){var n=b.getWhetherIsParentPartId(r.id,t),i=b.getIndexOfParentPart(r.id,t),a=e.parts[i],s=!1;if(!n){var u=b.getIndexOfChildPart(r.id,t);a=a.parts&&a.parts[u]}var l={type:c.ExpSelectionType.Char,partId:t,startOffset:a.type===o.ExpressionPartType.Function?a.exp.length+1:a.exp.length},p=!1;if(n&&a&&a.type===o.ExpressionPartType.Operator&&(l={type:c.ExpSelectionType.Part,partId:t,toStart:!1},p=!0),a&&a.type===o.ExpressionPartType.Function){var f=a.exp===o.ExpressionFunctions.Count,d=a.dataSourceId;f&&(d?(l.type=c.ExpSelectionType.Part,l.toStart=!1,p=!0):s=!0)}r.setState({expSelection:l,editablePartId:p?null:b.getParentPartId(r.id,b.getIndexOfParentPart(r.id,t)),isEditable:p,isPopoverOpen:!1},function(){return r.setState({isPopoverOpen:s})})}},r.handlePopoverItemSelect=function(e,t){if(e&&t){var n=b.getIndexOfParentPart(r.id,t),o=r.props.expression&&r.props.expression.parts?r.props.expression.parts.slice():[];e.type===c.PopoverType.Field?r.handleFieldPopoverClick(o,n,t,e):e.type===c.PopoverType.DataSource?r.handleDsPopoverClick(o,n,t,e):e.type===c.PopoverType.Function&&r.handleFunctionPopoverClick(o,n,t,e)}},r.handleFieldPopoverClick=function(e,t,n,i){var a,s;void 0===e&&(e=[]);var u,l=!0,p=r.state.editablePartId;if(b.getWhetherIsParentPartId(r.id,n))a=r.props.dataSourceIds&&r.props.dataSourceIds.length>1?e[t].dataSourceId:r.props.dataSourceIds&&r.props.dataSourceIds[0],s=b.getExpressionPart(r.getSingleExpFromPopoverItem(i),a,i.id),e.splice(parseInt(t),1,s,{exp:" ",type:o.ExpressionPartType.Operator}),u={partId:b.getParentPartId(r.id,""+(parseInt(t)+1)),toStart:!1,type:c.ExpSelectionType.Part};else{var f=b.getIndexOfChildPart(r.id,n);a=e[t].parts&&e[t].parts[f]&&e[t].parts[f].dataSourceId,a=r.props.dataSourceIds&&r.props.dataSourceIds.length>1?a:r.props.dataSourceIds&&r.props.dataSourceIds[0],(s=e[t]).parts[f]=b.getExpressionPart(r.getSingleExpFromPopoverItem(i),a,i.id),e.splice(parseInt(t),1,s),l=!1,p=b.getParentPartId(r.id,b.getIndexOfParentPart(r.id,n)),u={partId:n,type:c.ExpSelectionType.Char,startOffset:s.parts[f].exp.length}}r.setState({isPopoverOpen:!1,expSelection:u,isEditable:l,editablePartId:p}),r.props.onChange(r.getNewExpression(e))},r.handleDsPopoverClick=function(e,t,n,i){var a;void 0===e&&(e=[]);var s=r.state.isEditable,u=r.state.editablePartId;if(b.getWhetherIsParentPartId(r.id,n))e[t].dataSourceId=i.id,e[t].type===o.ExpressionPartType.Function&&e[t].exp===o.ExpressionFunctions.Count?(s=!0,u=null,a={partId:n,type:c.ExpSelectionType.Part,toStart:!1}):a={partId:n,type:c.ExpSelectionType.Char,startOffset:e[t].exp.length};else{var l=b.getIndexOfChildPart(r.id,n);e[t]&&e[t].parts&&e[t].parts[l]&&(e[t].parts[l].dataSourceId=i.id,a={partId:n,type:c.ExpSelectionType.Char,startOffset:e[t].parts[l].exp.length})}r.props.onChange(r.getNewExpression(e)),r.setState({isPopoverOpen:!1,expSelection:a,isEditable:s,editablePartId:u},function(){return r.setState({isPopoverOpen:!(e[t].type===o.ExpressionPartType.Function&&e[t].exp===o.ExpressionFunctions.Count)})})},r.handleFunctionPopoverClick=function(e,t,n,i){void 0===e&&(e=[]);var a=b.getExpressionPart(r.getSingleExpFromPopoverItem(i)),s=!1,u=n,l={partId:n,type:c.ExpSelectionType.Char,startOffset:a.exp.length+1};r.props.dataSourceIds&&1===r.props.dataSourceIds.length&&a.exp===o.ExpressionFunctions.Count&&(a.dataSourceId=r.props.dataSourceIds[0],s=!0,u=null,l={partId:n,type:c.ExpSelectionType.Part,toStart:!1}),e.splice(parseInt(t),1,a),r.props.onChange(r.getNewExpression(e)),r.setState({isPopoverOpen:r.props.dataSourceIds&&r.props.dataSourceIds.length>1&&a.type===o.ExpressionPartType.Function&&a.exp===o.ExpressionFunctions.Count,expSelection:l,isEditable:s,editablePartId:u})},r.handleBackspace=function(e){if(r.getWhetherInEditablePart()){var t=b.getSelectionPosInnerPart(r.id,!0,r.contentEditableContainer.current);if(t&&t.partId){var n=r.removeOneCharacterFromParts(t.partId,t.startOffset-1),o=n&&n.parts,i=n.isExpRemoved?b.getSiblingOfExpSelection(r.id,t.partId,!0,!0,o):{type:c.ExpSelectionType.Char,partId:t.partId,startOffset:t.startOffset-1},a=i.type===c.ExpSelectionType.Part,s=r.state.editablePartId;s=a?null:b.getParentPartId(r.id,b.getIndexOfParentPart(r.id,i.partId)),r.props.onChange(r.getNewExpression(o)),r.setState({isPopoverOpen:!1,expSelection:i,isEditable:a,editablePartId:s},function(){return r.setState({isPopoverOpen:!n.isExpRemoved&&n.editedPart&&b.getWhetherPartNeedPopover(n.editedPart.type)})})}}else{var u=b.getPreviouseNodeOfSelection(r.id,e);if(u){var l=r.removeOnePart(r.props.expression&&r.props.expression.parts,u.id);r.props.onChange(r.getNewExpression(l.parts)),r.setState({isPopoverOpen:!1,expSelection:{partId:u.id,toStart:!0,type:c.ExpSelectionType.Part}})}}},r.handleDelete=function(e){if(r.getWhetherInEditablePart()){var t=b.getSelectionPosInnerPart(r.id,!0,r.contentEditableContainer.current);if(t&&t.partId){var n=r.removeOneCharacterFromParts(t.partId,t.startOffset),o=n&&n.parts,i=n.isExpRemoved?b.getSiblingOfExpSelection(r.id,t.partId,!0,!0,o):{type:c.ExpSelectionType.Char,partId:t.partId,startOffset:t.startOffset},a=i.type===c.ExpSelectionType.Part,s=r.state.editablePartId;a||(s=b.getParentPartId(r.id,b.getIndexOfParentPart(r.id,i.partId))),r.props.onChange(r.getNewExpression(o)),r.setState({isPopoverOpen:!1,expSelection:i,isEditable:a,editablePartId:s},function(){return r.setState({isPopoverOpen:!n.isExpRemoved&&n.editedPart&&b.getWhetherPartNeedPopover(n.editedPart.type)})})}}else{var u=b.getNextNodeOfSelection(r.id,e);if(u){var l=r.removeOnePart(r.props.expression&&r.props.expression.parts,u.id);r.props.onChange(r.getNewExpression(l.parts)),r.setState({isPopoverOpen:!1,expSelection:{partId:u.id,toStart:!0,type:c.ExpSelectionType.Part}})}}},r.handleLeftArrow=function(e){if(r.getWhetherInEditablePart()){var t=b.getSelectionPosInnerPart(r.id,!1,r.contentEditableContainer.current);if(t&&t.partId){var n=t.startOffset-1>-1?{type:c.ExpSelectionType.Char,partId:t.partId,startOffset:t.startOffset-1}:b.getSiblingOfExpSelection(r.id,t.partId,!0,!1,r.props.expression&&r.props.expression.parts);r.setState({expSelection:n,isPopoverOpen:!1,isEditable:n&&n.type===c.ExpSelectionType.Part,editablePartId:n&&n.type===c.ExpSelectionType.Part?null:b.getParentPartId(r.id,b.getIndexOfParentPart(r.id,n.partId))})}}else{var o=b.getPreviouseNodeOfSelection(r.id,e);o&&r.setState({expSelection:{partId:o.id,toStart:!0,type:c.ExpSelectionType.Part},isPopoverOpen:!1})}},r.handleRightArrow=function(e){if(r.getWhetherInEditablePart()){var t=b.getSelectionPosInnerPart(r.id,!1,r.contentEditableContainer.current);if(t&&t.partId){var n=t.startOffset+1<=t.contentLength?{type:c.ExpSelectionType.Char,partId:t.partId,startOffset:t.startOffset+1}:b.getSiblingOfExpSelection(r.id,t.partId,!1,!1,r.props.expression&&r.props.expression.parts);r.setState({expSelection:n,isPopoverOpen:!1,isEditable:n&&n.type===c.ExpSelectionType.Part,editablePartId:n&&n.type===c.ExpSelectionType.Part?null:b.getParentPartId(r.id,b.getIndexOfParentPart(r.id,n.partId))})}}else{var o=b.getNextNodeOfSelection(r.id,e);o&&r.setState({expSelection:{partId:o.id,toStart:!1,type:c.ExpSelectionType.Part},isPopoverOpen:!1})}},r.handleDownArrow=function(e){if(r.state.isPopoverOpen){var t=r.getPopoverTarget(),n=r.getPopoverItems(t,r.props.expression&&r.props.expression.parts),o=r.state.selectedPopoverItemIndex;o=o?parseInt(o)<n.length-1?""+(parseInt(r.state.selectedPopoverItemIndex)+1):""+(n.length-1):"0",r.setState({selectedPopoverItemIndex:o})}},r.handleUpArrow=function(e){if(r.state.isPopoverOpen){var t=r.getPopoverTarget(),n=r.getPopoverItems(t,r.props.expression&&r.props.expression.parts),o=r.state.selectedPopoverItemIndex;o=o?parseInt(o)>0?""+(parseInt(r.state.selectedPopoverItemIndex)-1):"0":""+(n.length-1),r.setState({selectedPopoverItemIndex:o})}},r.handleEnter=function(e){if(r.state.isPopoverOpen&&r.state.selectedPopoverItemIndex){var t=r.getPopoverTarget(),n=r.getPopoverItems(t,r.props.expression&&r.props.expression.parts);r.setState({selectedPopoverItemIndex:null}),r.handlePopoverItemSelect(n[r.state.selectedPopoverItemIndex],t)}else{var o=r.props.expression&&r.props.expression.parts&&r.props.expression.parts.length||0;r.setState({editablePartId:null,isEditable:!0,isPopoverOpen:!1,expSelection:{partId:o>0?b.getParentPartId(r.id,""+(o-1)):null,toStart:!1,type:c.ExpSelectionType.Part}})}},t.count++,r.id=c.EXP_CONTAINER_PREFIX+"-"+t.count,r.contentEditableContainer=o.React.createRef(),r.state={isEditable:!0,isPopoverOpen:!1,isDataSourceInited:!1,editablePartId:null,dss:[],expSelection:null,selectedPopoverItemIndex:null},r}return r(t,e),t.prototype.componentDidMount=function(){this.__unmount=!1,this.expressionString=this.getExpressionString()||"",this.initDss(),this.props.autoFocus&&this.contentEditableContainer.current.focus(),this.contentEditableContainer.current.ondragstart=function(){return!1}},t.prototype.componentDidUpdate=function(e,t){this.state.expSelection&&this.state.expSelection.partId&&(t.expSelection!==this.state.expSelection||this.getWhetherLoseFocus())&&(this.state.expSelection.type===c.ExpSelectionType.Part?b.moveSelectionByPart(this.state.expSelection.partId,this.state.expSelection.toStart,this.contentEditableContainer.current):this.state.expSelection.type===c.ExpSelectionType.Char&&b.moveSelectionByCharacter(this.state.expSelection.partId,this.state.expSelection.startOffset,this.contentEditableContainer.current)),e.expression!==this.props.expression&&(this.props.expression&&this.props.expression.parts?this.expressionString=this.getExpressionString():this.expressionString=""),this.state.isDataSourceInited||this.initDss(),!0!==this.state.isDataSourceInited||this.getWhetherDssAreEqual(this.props.dataSourceIds,e.dataSourceIds)&&!1!==t.isDataSourceInited||this.setState({dss:this.getDss(this.props.dataSourceIds)})},t.prototype.componentWillUnmount=function(){this.__unmount=!0},t.prototype.render=function(){var e,t;this.state.isPopoverOpen&&(t=this.getPopoverTarget());var n=this.renderPartsToHtml(this.props.expression&&this.props.expression.parts);n=n&&n.replace(/&quot;/g,'"');var r=i.getWhetherExpressionValid(this.props.expression);return o.jsx("div",{css:l.getStyle(this.props.theme),style:this.props.style,onClick:this.onClick,className:o.classNames("w-100 h-100",(e={},e[this.props.className]=!!this.props.className,e))},o.jsx("div",{className:"w-100 h-100 component-expression-editor"},o.jsx("div",{className:o.classNames("w-100 expression-editor-input",{"error-border":!r})},o.jsx(s.default,{innerRef:this.contentEditableContainer,html:n,disabled:!this.state.isEditable,onChange:this.onChange,onKeyDown:this.onKeyDown,onBlur:this.onBlur,className:"w-100 break-all expression-editor-input-content-editable"}),this.state.isPopoverOpen&&o.jsx(y.default,{targetNodeId:t,items:this.getPopoverItems(t,this.props.expression&&this.props.expression.parts),onClick:this.handlePopoverItemSelect,theme:this.props.theme,selectedItemIndex:this.state.selectedPopoverItemIndex})),o.jsx("div",{className:"mt-2 error-message"},!r&&this.props.intl.formatMessage({id:"invalidExpression",defaultMessage:a.default.invalidExpression})),o.jsx("div",{className:"expression-editor-helper"},o.jsx(v.default,{expression:this.props.expression,dataSourceIds:this.props.dataSourceIds,onSelect:this.onHelperItemSelect,intl:this.props.intl,externalId:this.id,inEditablePart:this.getWhetherInEditablePart(),container:this.contentEditableContainer&&this.contentEditableContainer.current}))))},t.count=-1,t}(o.React.PureComponent),w=o.themeUtils.withTheme(o.injectIntl(x));t.default=w},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(2),s=n(160),u=n(40),l=n(14),c=n(4),p=n(26),f=function(e){function t(t){var n=e.call(this,t)||this;return n.panelWidth=""+i.polished.rem(260),n.defaultModalStyle={position:"absolute",top:"0",bottom:"0",right:"260px",left:"auto",width:n.panelWidth,height:"auto",zIndex:"3",padding:"0",border:"0",borderRadius:"0",backgroundColor:n.props.theme.colors.grays.gray100},n.cursorStyle={cursor:"pointer"},n.fontSizeStyle={fontSize:"16px"},n.titleStyle={height:"51px",borderBottom:"0"},n.dsManager=window&&window.jimuConfig&&window.jimuConfig.isBuilder?l.default.getInstance():i.DataSourceManager.getInstance(),n.getReactModalStyle=function(){return n.props.modalStyle?o({},n.defaultModalStyle,n.props.modalStyle):n.defaultModalStyle},n.onClose=function(){n.setState({isExpBuilderShown:!1})},n.modalStyle=n.getReactModalStyle(),n.state={isExpBuilderShown:!1,isDataSourceInited:!1},n}return r(t,e),t.prototype.render=function(){var e=this;return i.jsx("div",{css:s.getStyle(this.props.theme),className:"w-100"},this.props.isOpen&&!i.urlUtils.getAppIdPageIdFromUrl().pageId&&document&&document.getElementById("default")?i.ReactDOM.createPortal(i.jsx("div",{className:"bg-gray-100 border-color-gray-400 component-expression-builder-popup",style:this.modalStyle},i.jsx("div",{className:"w-100 h-100 expression-popup"},i.jsx("div",{className:"jimu-widget-setting--header d-flex",style:this.titleStyle},i.jsx("div",{className:"d-flex align-items-center w-100 m-0",style:this.fontSizeStyle},this.props.intl.formatMessage({id:"expressionBuilder",defaultMessage:c.default.expressionBuilder})),i.jsx("div",{className:"flex-shrink-0 text-center px-2 pt-1",style:this.cursorStyle,onClick:function(){return e.props.onClose()}},i.jsx(a.Icon,{icon:p,size:"16",className:"text-dark"}))),i.jsx(u.default,o({},this.props)))),document.getElementById("default")):null)},t}(i.React.PureComponent),d=i.themeUtils.withTheme(i.injectIntl(f));t.default=d},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(25),a=n(2),s=function(e){function t(t){var n=e.call(this,t)||this;return n.supportedResourceSuffix={IMAGE:[".png",".jpeg",".jpg",".gif",".bmp",".svg",".svgz"]},n.getFileFromBrowse=function(){var e=n.fileInput.current.files;if(e&&e[0]){var t=e[0].name,r="."+t.split(".")[t.split(".").length-1];if(!n.supportedResourceSuffix[n.props.type]||-1===n.supportedResourceSuffix[n.props.type].indexOf(r.toLocaleLowerCase()))return n.fileInput.current.value="",void(n.props.onResourceNotSupported&&n.props.onResourceNotSupported());var o=(new Date).getTime().toString(),a=o+r,s=e[0].size,u=e[0].type,l={file:e[0],fileName:a,originalName:t,type:n.props.type,widgetId:n.props.widgetId?n.props.widgetId.replace(/\./g,"_").replace(/\-/g,"_"):null};i.AppResourceManager.getInstance().getLocalCacheResourceUrl(l).then(function(e){var r={fileName:a,originalName:t,url:e.blobUrl,type:n.props.type,size:s,created:Number(o),resourcesPrefix:e.resourcesPrefix,fileFormat:u};n.props.onChange(r)},function(e){console.error(e)}),n.fileInput.current.value=""}},n.getAccept=function(e){var t=null;switch(e){case i.ResourceType.Image:t=".png, .jpeg, .jpg, .gif, .bmp, .svg, .svgz";break;default:t=""}return t},n.fileInput=o.React.createRef(),n}return r(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.style,r=e.label,i=e.disabled,s=e.color,u=e.type,l=o.classNames("d-flex justify-content-center",t),c=o.Immutable({width:"100%"});c=c.merge(n);var p=this.getAccept(u);return o.React.createElement(a.Button,{disabled:i,className:l,style:c,color:s},r,o.React.createElement("input",{disabled:i,className:"w-100 h-100",style:{opacity:0,position:"absolute"},accept:p,ref:this.fileInput,type:"file",onChange:this.getFileFromBrowse}))},t.defaultProps={type:i.ResourceType.Image,style:{}},t}(o.React.PureComponent);t.default=s},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(2),a=n(163),s=function(e){function t(t){var n=e.call(this,t)||this;return n.modalStyle={position:"absolute",top:"0",bottom:"0",right:"260px",left:"auto",width:"259px",height:"auto",zIndex:"3",paddingBottom:"1px"},n.onShowImageResourcesPanel=function(){n.setState({showImageResourcesPanel:!0})},n.onCloseImageResourcesPanel=function(){n.setState({showImageResourcesPanel:!1})},n.modalStyle.borderRight="1px solid "+n.props.theme.colors.white,n.modalStyle.borderBottom="1px solid "+n.props.theme.colors.white,n.state={showImageResourcesPanel:!1},n}return r(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.style,r=e.label,s=e.disabled,u=e.color,l=o.classNames("d-flex justify-content-center",t),c=o.Immutable({width:"100%"});return n&&(c=c.merge(n)),o.React.createElement("div",null,o.React.createElement(i.Button,{disabled:s,className:l,style:c,color:u,size:this.props.size,onClick:this.onShowImageResourcesPanel},r),this.state.showImageResourcesPanel&&document&&document.getElementById("default")&&o.ReactDOM.createPortal(o.React.createElement("div",{className:"bg-gray-100 border-color-gray-400",style:this.modalStyle},o.React.createElement(a.ImageResourcesPanel,{widgetId:this.props.widgetId,onClose:this.onCloseImageResourcesPanel,onChange:this.props.onChange,imageParam:this.props.imageParam,isSupportCrop:this.props.isSupportCrop})),document.getElementById("default")))},t}(o.React.PureComponent);t.ImageChooser=o.themeUtils.withTheme(s)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(164))},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(1),s=n(2),u=n(4),l=function(e){function t(t){var n=e.call(this,t)||this;return n.handleCloseBtn=function(){n.setState({isOpen:!1});var e=n.props,t=e.toggle;void 0!==e.isOpen&&t&&t(!1)},n.handleOkBtn=function(){n.setState({isOpen:!1});var e=n.props,t=e.toggle;void 0!==e.isOpen&&t&&t(!0)},n.handleToggle=function(){n.setState({isOpen:!1});var e=n.props,t=e.toggle;void 0!==e.isOpen&&t&&t(!1)},n.getStyle=function(){var e=n.props.theme;return a.css(i||(i=o(["\n      .modal-header {\n        border-bottom: 1px solid ",";\n        padding: 0.7rem 1rem;\n        .close {\n          color: ",";\n          opacity: 1;\n          padding: 0;\n          margin: 0;\n          transition: color .15s ease-in-out;\n          &:not(:disabled):not(.disabled):hover,\n          &:not(:disabled):not(.disabled):focus {\n            opacity: 1;\n          }\n        }\n      }\n      .modal-body{\n        overflow-y: auto;\n        max-height: 360px;\n        padding: 1rem 1rem;\n      }\n      .modal-content{\n        width: auto;\n        background-color: ",";\n        border: 1px solid ",";\n        border-radius: 0;\n      }\n      .modal-footer{\n        padding: 1rem;\n\n        .btn {\n          min-width: 80px;\n          + .btn {\n            margin-left: 10px;\n          }\n        }\n      }\n      &.modal-dialog{\n        width: auto;\n      }\n    "],["\n      .modal-header {\n        border-bottom: 1px solid ",";\n        padding: 0.7rem 1rem;\n        .close {\n          color: ",";\n          opacity: 1;\n          padding: 0;\n          margin: 0;\n          transition: color .15s ease-in-out;\n          &:not(:disabled):not(.disabled):hover,\n          &:not(:disabled):not(.disabled):focus {\n            opacity: 1;\n          }\n        }\n      }\n      .modal-body{\n        overflow-y: auto;\n        max-height: 360px;\n        padding: 1rem 1rem;\n      }\n      .modal-content{\n        width: auto;\n        background-color: ",";\n        border: 1px solid ",";\n        border-radius: 0;\n      }\n      .modal-footer{\n        padding: 1rem;\n\n        .btn {\n          min-width: 80px;\n          + .btn {\n            margin-left: 10px;\n          }\n        }\n      }\n      &.modal-dialog{\n        width: auto;\n      }\n    "])),e.colors.secondary,e.colors.grays.gray700,e.colors.grays.gray100,e.colors.grays.gray300)},n.state={isOpen:!!t.isOpen},n}return r(t,e),t.prototype.componentWillReceiveProps=function(e){void 0!==this.props.isOpen&&void 0===e.isOpen&&this.setState({isOpen:e.isOpen})},t.prototype.render=function(){var e=this.props.isOpen;return e=void 0===e?this.state.isOpen:e,a.jsx(s.Modal,{css:this.getStyle(),className:"d-flex justify-content-center",isOpen:e,centered:!0,toggle:this.handleToggle},a.jsx(s.ModalHeader,{tag:"h4",toggle:this.handleCloseBtn},this.props.title),a.jsx(s.ModalBody,null,a.jsx("div",null,this.props.children)),a.jsx(s.ModalFooter,null,!this.props.hideOK&&a.jsx(s.Button,{color:"primary",onClick:this.handleOkBtn},this.props.okLabel?this.props.okLabel:this.props.intl.formatMessage({id:"commonModalOk",defaultMessage:u.default.commonModalOk})),!this.props.hideCancel&&a.jsx(s.Button,{outline:!0,color:"secondary",onClick:this.handleCloseBtn},this.props.cancleLabel?this.props.cancleLabel:this.props.intl.formatMessage({id:"commonModalCancel",defaultMessage:u.default.commonModalCancel}))))},t}(a.React.PureComponent);t.default=a.themeUtils.withTheme(a.injectIntl(l))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(24);t.ColorChooser=r.ColorChooser;var o=n(323);t.BackgroundSetting=o.BackgroundSetting;var i=n(56);t.UnitChooser=i.UnitChooser;var a=n(329);t.BorderSetting=a.BorderSetting;var s=n(331);t.BoxShadowSetting=s.BoxShadowSetting;var u=n(332);t.FourSides=u.FourSides;var l=n(39);t.InputUnit=l.InputUnit;var c=n(335);t.TextSetting=c.TextSetting;var p=n(359);t.SingleColorChooser=p.SingleColorChooser},function(e,t,n){function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var o=n(0),i=o.createElement("path",{d:"M6.886 7H2.114L1.026 9.623A.623.623 0 0 1 .448 10H.351A.345.345 0 0 1 0 9.661c0-.043.009-.085.025-.125L3.783.479a.777.777 0 0 1 1.434 0l3.758 9.057c.016.04.025.082.025.125a.345.345 0 0 1-.351.339h-.097a.623.623 0 0 1-.578-.377L6.886 7zM6.47 6L4.5 1.25 2.53 6h3.94z"});function a(e){return o.createElement("svg",r({width:9,height:10,viewBox:"0 0 9 10"},e),i)}e.exports=a,a.default=a},function(e,t,n){"use strict";var r=this;Object.defineProperty(t,"__esModule",{value:!0});var o=n(361),i=n(2),a=n(1),s=[i.FontFamilyValue.AVENIRNEXT,i.FontFamilyValue.CALIBRI,i.FontFamilyValue.PMINGLIU,i.FontFamilyValue.IMPACT,i.FontFamilyValue.GEORGIA,i.FontFamilyValue.ARIAL,i.FontFamilyValue.TIMESNEWROMAN,i.FontFamilyValue.SIMHEI,i.FontFamilyValue.MICROSOFTYAHEI],u=[i.UnitTypes.PIXEL,i.UnitTypes.REM],l=[i.AlignValue.LEFT,i.AlignValue.RIGHT,i.AlignValue.CENTER,i.AlignValue.JUSTIFY],c=[i.ListValue.BULLET,i.ListValue.ORDERED],p=[i.IndentValue.ZERO,i.IndentValue.ONE,i.IndentValue.TWO,i.IndentValue.THREE,i.IndentValue.FOUR,i.IndentValue.FIVE,i.IndentValue.SIX,i.IndentValue.SEVEN,i.IndentValue.EIGHT];t.getFixedPosition=function(e,t,n){if(e&&e.root){var r=f(e.root),o=e.getBounds(t,n);return o.width=o.width||1,o.left+=r.x||r.left,o.top+=r.y||r.top,o.right=o.left+o.width,o.bottom=o.top+o.height,o}};var f=function(e){var t=window.scrollX,n=window.scrollY,r=e.getBoundingClientRect(),o=Object.assign({},r);return o.x&&(o.x+=t),o.y&&(o.y+=n),o.left&&(o.left+=t),o.top&&(o.top+=n),r};t.getUID=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)},t.getUUID=function(){return t.getUID()+t.getUID()+"_"+t.getUID()+"_"+t.getUID()+"_"+t.getUID()+"_"+t.getUID()+t.getUID()+t.getUID()},t.convertLinkParamToQuillLinkValue=function(e,t){return{id:t,target:e.openType,href:"#"}},t.quillFormat=function(e,t){var n=t.id,a=t.type,s=t.key,u=t.value,l=t.range,c=t.source;if(l=e.getSelection(!0)||l)if(a===o.FormatType.INLINE){if(s===i.TextFormats.Clear)return e.removeFormat(l.index,l.length,c);s===i.TextFormats.LINK&&(u=r.convertLinkParamToQuillLinkValue(u,n)),l.length?e.formatText(l.index,l.length,s,u,c):e.format(s,u,c)}else a===o.FormatType.BLOCK&&e.format(s,u,c)},t.getFormat=function(e,t,n){return(n||t)&&((t=t||e.getSelection(n))?e.getFormat(t):e.getFormat())||{}};var d=function(e,t){var n=t[e],r=a.polished.stripUnit(n,!0)[1];return u.indexOf(r)<0&&delete t[e],t},h=function(e,t,n){var r=t[e];return n.indexOf(r)<0&&delete t[e],t};t.handlingexceptionalFormats=function(e){return e?((e=function(e){return void 0===e&&(e={}),Object.keys(e).map(function(t){Array.isArray(e[t])&&delete e[t]}),e}(e))[i.TextFormats.FONT]&&(e=h(i.TextFormats.FONT,e,s)),e[i.TextFormats.SIZE]&&(e=d(i.TextFormats.SIZE,e)),e[i.TextFormats.LETTERSPACE]&&(e=d(i.TextFormats.LETTERSPACE,e)),e[i.TextFormats.LINESPACE]&&(e=function(e,t){var n=t[e];return a.polished.stripUnit(n,!0)[1]&&delete t[e],t}(i.TextFormats.LINESPACE,e)),e[i.TextFormats.ALIGN]&&(e=h(i.TextFormats.ALIGN,e,l)),e[i.TextFormats.LIST]&&(e=h(i.TextFormats.LIST,e,c)),e[i.TextFormats.INDENT]&&(e=h(i.TextFormats.INDENT,e,p)),e[i.TextFormats.LINK]&&(e=t.convertExceptionalLinkValue(e)),e):e},t.convertExceptionalLinkValue=function(e){if(!e||!e[i.TextFormats.LINK])return e;var t=e[i.TextFormats.LINK];return t.href&&(t={value:t.href,linkType:"WEB_ADDRESS"},e[i.TextFormats.LINK]=t),e}},,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=n(117),i=window.parent&&window.parent._builderPubsub;function a(e,t){i&&i.publishSync(e,t)}t.listenBuilderEvents=function(){if(i){i.unsubscribe("to_app");var e=r.getAppStore();i.subscribe("to_app",function(e,t){console.debug(e,t)}),i.subscribe("to_app."+o.ToAppMessage.AppConfigChanged,function(t,n){var o=e.getState();if(o.appRuntimeInfo.currentPageId&&!n.pages[o.appRuntimeInfo.currentPageId]){var i=Object.keys(n.pages).find(function(e){return n.pages[e].isDefault});r.jimuHistory.changePage(i)}e.dispatch(r.appActions.appConfigChanged(n))}),i.subscribe("to_app."+o.ToAppMessage.ChangeAppMode,function(t,n){e.dispatch(r.appActions.appModeChanged(n))}),i.subscribe("to_app."+o.ToAppMessage.ChangeSelectMode,function(t,n){e.dispatch(r.appActions.setSelectMode(n))}),i.subscribe("to_app."+o.ToAppMessage.ChangeWidgetsStateProp,function(t,n){e.dispatch(r.appActions.widgetStatePropChange(n.widgetId,n.propKey,n.value))}),i.subscribe("to_app."+o.ToAppMessage.ChangePage,function(e,t){var n=r.getAppStore().getState().appConfig.pages[t];n.type===r.PageType.Link||n.type===r.PageType.Folder||r.urlUtils.parseAppPath(location.pathname).pageId===t?r.getAppStore().dispatch(r.appActions.currentPageChanged(t)):r.jimuHistory.changePage(t)}),i.subscribe("to_app."+o.ToAppMessage.ChangeView,function(t,n){var o=n.sectionId,i=n.viewId;r.jimuHistory.changeView(o,i),e.dispatch(r.appActions.currentViewChanged(i))}),i.subscribe("to_app."+o.ToAppMessage.ChangeSelection,function(t,n){e.dispatch(r.appActions.selectionChanged(n))}),i.subscribe("to_app."+o.ToAppMessage.DraggingWidgetToApp,function(t,n){e.dispatch(r.appActions.dragWidgetFromList(n))}),i.subscribe("to_app."+o.ToAppMessage.EndDragWidgetToApp,function(t){e.dispatch(r.appActions.dropWidgetFromList())}),i.subscribe("to_app."+o.ToAppMessage.BuilderTriggerKeyboard,function(e,t){r.keyboardUtils.triggerEvent(t)}),i.subscribe("to_app."+o.ToAppMessage.ChangeBrowserSizeMode,function(t,n){e.dispatch(r.appActions.browserSizeModeChanged(n))})}},t.publishAppStateChangeToBuilder=function(){a("to_builder."+o.ToBuilderMessage.AppStateChanged,r.getAppStore().getState())},t.letBuilderPopupChooseWidget=function(e,t){a("to_builder."+o.ToBuilderMessage.PopupChooseWidget,{layoutId:e,layoutItemId:t})},t.letBuilderAddResource=function(e){a("to_builder."+o.ToBuilderMessage.AppAddResource,e)},t.letBuilderClearResource=function(e){a("to_builder."+o.ToBuilderMessage.AppClearResources,e)},t.letBuilderResponseToKeyboard=function(e){a("to_builder."+o.ToBuilderMessage.AppTriggerKeyboard,e)},t.letBuilderShowLayoutToolbar=function(e){a("to_builder."+o.ToBuilderMessage.SetLayoutTools,e)}},function(e,t){e.exports=o},,function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var o,i=n(1);t.getStyle=function(e){return i.css(o||(o=r(["\n    .component-field-chooser{\n      font-size: ",";\n      .ds-name{\n        color: ",";\n        .ds-name-selected{\n          max-width: ","rem;\n        }\n      }\n\n      .field-list{\n        .field-item.field-item-selected{\n          border: 1px solid ",";\n        }\n        .field-item{\n          border: 1px solid transparent;\n          cursor: pointer;\n          background-color: ",";\n          user-select: none;\n        }\n        .field-item:hover{\n          background-color: ",";\n        }\n        .field-item:active.field-item:hover{\n          background-color: ",";\n        }\n      }\n\n      .search-icon{\n        position: relative;\n        right: -","rem;\n        bottom: -","rem;\n      }\n\n      .search-input{\n        height: ","rem;\n        text-indent: ","rem;\n      }\n\n    }\n\n  "],["\n    .component-field-chooser{\n      font-size: ",";\n      .ds-name{\n        color: ",";\n        .ds-name-selected{\n          max-width: ","rem;\n        }\n      }\n\n      .field-list{\n        .field-item.field-item-selected{\n          border: 1px solid ",";\n        }\n        .field-item{\n          border: 1px solid transparent;\n          cursor: pointer;\n          background-color: ",";\n          user-select: none;\n        }\n        .field-item:hover{\n          background-color: ",";\n        }\n        .field-item:active.field-item:hover{\n          background-color: ",";\n        }\n      }\n\n      .search-icon{\n        position: relative;\n        right: -","rem;\n        bottom: -","rem;\n      }\n\n      .search-input{\n        height: ","rem;\n        text-indent: ","rem;\n      }\n\n    }\n\n  "])),e.typography.fontSizeBase,e.colors.black,150/14,e.colors.cyan,e.colors.grays.gray200,e.colors.grays.gray300,e.colors.white,8/14,22/14,26/14,20/14)}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=function(e){function t(t){var n=e.call(this,t)||this;return n.onFieldSelect=function(e){n.props.onSelect&&n.props.onSelect(e,n.props.ds)},n}return r(t,e),t.prototype.render=function(){var e=this,t=this.props.fields;return o.React.createElement("div",{className:"field-list p-2"},t&&Object.keys(t).map(function(n){return o.React.createElement("div",{key:n,onClick:function(){e.onFieldSelect(t[n])},className:o.classNames("field-item mt-2 p-1",{"field-item-selected":e.props.selectedFields&&e.props.selectedFields.some(function(e){return e===t[n].jimuName})})},t[n].alias||t[n].name)}))},t}(o.React.PureComponent);t.default=i},function(e,t,n){function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var o=n(0),i=o.createElement("path",{d:"M24.132 22.112h2.02l4.041 4.041a2.857 2.857 0 1 1-4.041 4.041l-4.041-4.041v-2.02l-1.066-1.066c-5.048 4.043-12.438 3.725-17.117-.955-5.021-5.021-5.021-13.162 0-18.183s13.162-5.021 18.183 0c4.68 4.68 4.998 12.069.955 17.117l1.066 1.066zm-5.051-3.031A8.572 8.572 0 1 0 6.957 6.959a8.572 8.572 0 0 0 12.124 12.122z"});function a(e){return o.createElement("svg",r({width:32,height:32,viewBox:"0 0 32 32"},e),i)}e.exports=a,a.default=a},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(23),a=n(140),s=n(4),u=function(e){function t(t){var n=e.call(this,t)||this;return n.getInitLinkParam=function(){var e=n.props.appConfig.pageStructure;if(!e||e.length<1)return{value:""};if(n.props.originLinkParam.linkType!==o.LinkType.Page){var t=n.getPageData();return{linkType:o.LinkType.Page,value:t&&t.some(function(e){return"default"===e.id})?"default":t&&t[0]&&t[0].id,openType:i.OpenTypes.CurrentWindow}}return o.Immutable(n.props.originLinkParam)},n.getPageData=function(){var e=n.props.appConfig&&n.props.appConfig.pages,t=e&&Object.keys(e).filter(function(t){return e[t].type===o.PageType.Normal});return t&&t.map(function(t){return{id:t,name:e[t].label}})},n.setLinkParam=function(e){var t=o.Immutable(n.props.linkParam);t=t.set("value",e.id),n.props.onLinkParamChange(t)},n}return r(t,e),t.prototype.componentDidMount=function(){var e=this.getInitLinkParam();this.props.onLinkParamChange(e)},t.prototype.render=function(){var e=this.getPageData();return o.React.createElement("div",{className:"w-100"},o.React.createElement("div",{className:"mb-3"},this.props.intl.formatMessage({id:"chooseAPage",defaultMessage:s.default.chooseAPage})),o.React.createElement("div",{style:{maxHeight:this.props.selectAreaMaxHeight?this.props.selectAreaMaxHeight:"",overflowY:this.props.selectAreaMaxHeight?"auto":""}},o.React.createElement(a.default,{linkParam:this.props.linkParam,datas:e,onClick:this.setLinkParam})))},t}(o.React.PureComponent);t.default=u},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(2),a=function(e){function t(t){var n=e.call(this,t)||this;return n.itemOnClick=function(e){n.props.onClick(e),n.setState({selectedItemName:e.name})},n}return r(t,e),t.prototype.getListContent=function(){var e=this;return this.props.datas.map(function(t,n){return o.React.createElement("div",{onClick:function(){return e.itemOnClick(t)},key:n,className:o.classNames("linksetting-list-item btn w-100 border text-left border-bottom-0 rounded-0",{itemselected:e.props.linkParam.value===t.id})},t.name)})},t.prototype.render=function(){var e=this,t=this.props.datas.find(function(t){return e.props.linkParam.value===t.id}),n=t&&t.name;return o.React.createElement("div",{className:"linksetting-list w-100"},o.React.createElement(i.Input,{type:"select",value:n,className:"w-100",onChange:function(t){return e.itemOnClick(e.props.datas.find(function(e){return e.name===t.target.value}))}},this.props.datas.map(function(e,t){return o.React.createElement("option",{key:t,value:e.name},e.name)})))},t}(o.React.PureComponent);t.default=a},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t){return e.call(this,t)||this}return r(t,e),t.prototype.render=function(){return null},t}(n(1).React.PureComponent);t.default=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(23),s=n(143),u=n(2),l=n(37),c=function(e){function t(t){var n=e.call(this,t)||this;return n.noScroll="Do not scroll",n.getInitLinkParam=function(){return n.props.originLinkParam.linkType===i.LinkType.View?n.props.originLinkParam:{linkType:i.LinkType.View,openType:a.OpenTypes.CurrentWindow,value:""}},n.pageChange=function(e){var t=i.Immutable(n.props.linkParam);t=t.set("value",e.target.value),n.props.onLinkParamChange(t)},n.viewChange=function(e,t){var r=[];(r=Object.assign(r,n.state.viewLinkParamArr))[0]||(r[0]=n.getDefaultPageId());for(var o=n.props.appConfig.sections[t].views,a=0;a<r.length;a++)o.indexOf(r[a])>-1&&e!==r[a]&&r.splice(a,1);var s=r.indexOf(e);s>-1?r.splice(s,1):r.push(e);var u=i.Immutable(n.props.linkParam);u=u.set("value",r.join(",")),n.props.onLinkParamChange(u)},n.viewRemove=function(e){var t=[];(t=Object.assign(t,n.state.viewLinkParamArr))[0]||(t[0]=n.getDefaultPageId()),t=t.slice(0,1).concat(t.slice(1).filter(function(t){return t!==e}));var r=i.Immutable(n.props.linkParam);r=r.set("value",t.join(",")),n.props.onLinkParamChange(r,!0)},n.onScrollToViewChange=function(e){n.setState({scrollToViewId:e})},n.getDefaultPageId=function(){var e=n.props.appConfig&&n.props.appConfig.pages,t=e&&Object.keys(e).filter(function(e){return n.getSectionIdsFromPage(e).length>0});return t&&t.some(function(e){return"default"===e})?"default":t&&t[0]},n.getSectionIdsFromPage=function(e){var t=n.props.appConfig&&n.props.appConfig.pages;return t&&t[e]&&t[e].type===i.PageType.Normal&&l.getWidgetsOrSectionsInPageBody(n.props.appConfig,e,i.LayoutItemType.Section)||[]},n.getViewIdsFromPage=function(e){var t=[],r=n.getSectionIdsFromPage(e);if(r.length>0)for(var o=0;o<r.length;o++)t=t.concat(n.props.appConfig.sections[r[o]].views);return t},n.getSectionIdsFromView=function(e){return l.getWidgetsOrSectionsInView(n.props.appConfig,e,i.LayoutItemType.Section)||[]},n.getViewInfoFromSection=function(e){for(var t=n.props.appConfig.sections[e].views,r=[],o=0;o<t.length;o++)r.push({id:t[o],name:n.props.appConfig.views[t[o]].label});return r},n.getSelectedVeiwIds=function(){return n.state.viewLinkParamArr.slice(1)},n.state={viewLinkParamArr:[],scrollToViewId:n.noScroll},n}return r(t,e),t.prototype.componentDidMount=function(){var e=this.getInitLinkParam(),t=e.value,n=e.linkType;t&&n===i.LinkType.View?this.setState({viewLinkParamArr:t.split(",")}):this.setState({viewLinkParamArr:[]}),this.props.onLinkParamChange(e)},t.prototype.componentWillReceiveProps=function(e){var t=e.linkParam,n=t.value,r=t.linkType;n&&r===i.LinkType.View?this.setState({viewLinkParamArr:n.split(",")}):this.setState({viewLinkParamArr:[]})},t.prototype.render=function(){var e=this;if(!this.props.appConfig)return null;var t={};Object.keys(this.props.appConfig.pages).forEach(function(n){e.props.appConfig.pages[n]&&e.props.appConfig.pages[n].type===i.PageType.Normal&&(t[n]=o({},e.props.appConfig.pages[n]))});var n=this.state.viewLinkParamArr[0]||this.getDefaultPageId();return t[n]?i.React.createElement("div",{className:"w-100"},i.React.createElement("div",{className:"mb-3"},"Choose views"),i.React.createElement("div",{style:{maxHeight:this.props.selectAreaMaxHeight?this.props.selectAreaMaxHeight:"",overflowY:this.props.selectAreaMaxHeight?"auto":""}},i.React.createElement(u.Input,{type:"select",value:n,onChange:this.pageChange,className:"w-100 mb-3"},Object.keys(t).filter(function(t){return e.getSectionIdsFromPage(t).length>0}).map(function(e,n){return i.React.createElement("option",{key:n,value:t[e].id},t[e].label)})),i.React.createElement("div",{className:"mb-3 choose-view"},this.getSectionIdsFromPage(n).map(function(t){return i.React.createElement(p,{sections:e.props.appConfig.sections,sectionId:t,viewsInfo:e.getViewInfoFromSection(t),viewLinkParamArr:e.state.viewLinkParamArr,viewChange:e.viewChange,viewRemove:e.viewRemove,key:t})})),i.React.createElement("div",{className:"mb-3 choose-view"},this.getSelectedVeiwIds().map(function(t){return e.getSectionIdsFromView(t).map(function(t){return i.React.createElement(p,{sections:e.props.appConfig.sections,sectionId:t,viewsInfo:e.getViewInfoFromSection(t),viewLinkParamArr:e.state.viewLinkParamArr,viewChange:e.viewChange,viewRemove:e.viewRemove,key:t})})})))):null},t}(i.React.PureComponent);t.default=c;var p=function(e){function t(t){var n=e.call(this,t)||this;return n.onViewChange=function(e){n.setState({viewId:e}),n.props.viewChange(e,n.props.sectionId)},n.state={viewId:null},n}return r(t,e),t.prototype.componentWillUnmount=function(){this.props.viewRemove(this.state.viewId)},t.prototype.render=function(){var e=this;return i.React.createElement(s.default,{className:"mb-3 choose-view",title:this.props.sections[this.props.sectionId]&&this.props.sections[this.props.sectionId].label,isOpen:!0,key:this.props.sectionId},i.React.createElement("div",{className:"linksetting-list w-100 view-border border-top-0 border-left-0 border-right-0 rounded-0"},this.props.viewsInfo.map(function(t,n){return i.React.createElement("div",{onClick:function(){return e.onViewChange(t.id)},key:n,className:i.classNames("linksetting-list-item btn w-100 view-border pl-2 pt-1 text-left d-flex justify-content-start border-bottom-0 rounded-0",{"item-common":!(e.props.viewLinkParamArr.indexOf(t.id)>-1)},{itemselected:e.props.viewLinkParamArr.indexOf(t.id)>-1})},t.name)})))},t}(i.React.PureComponent)},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(2),a=n(118),s=n(119),u=function(e){function t(t){return e.call(this,t)||this}return r(t,e),t.prototype.componentWillMount=function(){this.setState({collapse:this.props.isOpen})},t.prototype.render=function(){var e=this;return o.React.createElement("div",{className:o.classNames("w-100",this.props.className)},o.React.createElement("div",{style:{overflow:"hidden"},className:"w-100 btn pl-2 pr-2 d-flex justify-content-between",onClick:function(){e.setState({collapse:!e.state.collapse})}},o.React.createElement("div",null,this.props.title),o.React.createElement(i.Icon,{icon:this.state.collapse?a:s})),o.React.createElement(i.Collapse,{isOpen:this.state.collapse},this.props.children))},t}(o.React.PureComponent);t.default=u},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(2),a=n(120),s=n(23),u=function(e){function t(t){var n=e.call(this,t)||this;return n.getInitLinkParam=function(){return n.props.originLinkParam.linkType===o.LinkType.WebAddress?n.props.originLinkParam:{linkType:o.LinkType.WebAddress,openType:s.OpenTypes.NewWindow,value:""}},n.webAddressInputChange=function(e){var t=e,r=o.Immutable(n.props.linkParam);r=r.set("value",t).set("expression",null),n.props.onLinkParamChange(r)},n.webAddressExpressionChange=function(e){var t=o.Immutable(n.props.linkParam);t=t.set("expression",e).set("value",""),n.props.onLinkParamChange(t),n.closeExpPopup()},n.openExpPopup=function(){return n.setState({isExpPopupOpen:!0})},n.closeExpPopup=function(){return n.setState({isExpPopupOpen:!1})},n.state={isExpPopupOpen:!1},n}return r(t,e),t.prototype.componentDidMount=function(){var e=this.getInitLinkParam();this.props.onLinkParamChange(e)},t.prototype.render=function(){var e=this;return o.React.createElement("div",{className:"w-100"},o.React.createElement("div",{className:"mb-3"},"URL"),o.React.createElement("div",null,this.props.dataSourceIds?o.React.createElement(a.default,{dataSourceIds:this.props.dataSourceIds,onChange:this.webAddressExpressionChange,expression:this.props.linkParam&&this.props.linkParam.expression&&this.props.linkParam.expression.asMutable({deep:!0}),closeExpPopup:this.closeExpPopup,openExpPopup:this.openExpPopup,isExpPopupOpen:this.state.isExpPopupOpen,from:[a.ExpressionInputFrom.Static,a.ExpressionInputFrom.Attribute,a.ExpressionInputFrom.Statistics,a.ExpressionInputFrom.Expression]}):o.React.createElement(i.Input,{value:this.props.linkParam.value?this.props.linkParam.value:"",className:"w-100",onChange:function(t){return e.webAddressInputChange(t.target.value)}})))},t}(o.React.PureComponent);t.default=u},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(16),a=n(61),s=function(e){function t(t){var n=e.call(this,t)||this;return n.getSelectedFields=function(){if(!n.props.expression)return null;var e=n.props.expression.parts&&n.props.expression.parts[0];return e&&!i.getWhetherDsDisabled(e,n.props.dataSourceIds)&&e.type===o.ExpressionPartType.Field?o.Immutable([e.jimuFieldName]):null},n.onSelect=function(e,t){if(e&&t){var r={type:o.ExpressionPartType.Field,exp:"$"+(e.alias||e.name),dataSourceId:t.id,jimuFieldName:e.jimuName};n.props.onChange({name:r.exp,parts:[r]})}},n}return r(t,e),t.prototype.render=function(){return o.React.createElement("div",{className:"expression-builder-tab attribute-tab"},o.React.createElement("div",{className:"field-chooser-container"},o.React.createElement(a.default,{dataSourceIds:this.props.dataSourceIds,onSelect:this.onSelect,selectedFields:this.getSelectedFields()})))},t}(o.React.PureComponent);t.default=s},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(2),s=n(121),u=n(16),l=n(4),c=function(e){function t(n){var r=e.call(this,n)||this;return r.getMutableExpression=function(e){var t=r.props.expression&&r.props.expression.asMutable?r.props.expression.asMutable({deep:!0}):r.props.expression;return t&&t.parts&&t.parts.asMutable&&(t.parts=t.parts.asMutable({deep:!0})),t},r.onExpChange=function(e){r.setState({expression:e})},r.onChange=function(){r.props.onChange({name:r.state.name||r.getDefaultName(),parts:r.state.expression&&r.state.expression.parts})},r.onNameChange=function(e){r.setState({name:e.target.value})},r.getDefaultName=function(){return"expression-"+t.count},r.getWhetherDisableInsert=function(){return!r.state.expression||!r.state.expression.parts||0===r.state.expression.parts.length||!u.getWhetherExpressionValid(r.state.expression)},t.count++,r.state={expression:r.getMutableExpression(r.props.expression),name:r.props.expression&&r.props.expression.name||r.getDefaultName()},r}return r(t,e),t.prototype.componentDidUpdate=function(e){e.expression!==this.props.expression&&this.setState({expression:this.getMutableExpression(this.props.expression)})},t.prototype.render=function(){return i.React.createElement("div",{className:"expression-builder-tab expression-tab"},i.React.createElement("div",{className:"d-flex justify-content-between mb-2 expression-name"},i.React.createElement(a.Label,{for:"expression-name-input",className:"expression-name-label"},this.props.intl.formatMessage({id:"name",defaultMessage:l.default.name})+": "),i.React.createElement("span",{className:"d-inline-block p-1"}),i.React.createElement(a.Input,{className:"flex-grow-1",value:this.state.name,onChange:this.onNameChange,id:"expression-name-input"})),i.React.createElement("div",{className:"d-flex justify-content-end mt-2 mb-2"},i.React.createElement(a.Button,{onClick:this.onChange,color:"primary",disabled:this.getWhetherDisableInsert(),className:"expression-insert-btn"},this.props.intl.formatMessage({id:"insert",defaultMessage:l.default.insert}))),i.React.createElement("div",{className:"expression-editor-container"},i.React.createElement(s.default,o({},this.props,{expression:this.state.expression,onChange:this.onExpChange}))))},t.count=-1,t}(i.React.PureComponent);t.default=c},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n},a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=a(n(0)),l=s(n(148)),c=a(n(7));function p(e){return e&&e.replace(/&nbsp;|\u202F|\u00A0/g," ")}function f(e){var t=function e(t){if(t.nodeType===Node.TEXT_NODE)return t;for(var n=t.childNodes,r=n.length-1;r>=0;r--){var o=e(n[r]);if(null!==o)return o}return null}(e),n=document.activeElement===e;if(null!==t&&null!==t.nodeValue&&n){var r=document.createRange(),o=window.getSelection();r.setStart(t,t.nodeValue.length),r.collapse(!0),o.removeAllRanges(),o.addRange(r),e instanceof HTMLElement&&e.focus()}}var d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.lastHtml=t.props.html,t.el="function"==typeof t.props.innerRef?{current:null}:u.createRef(),t.getEl=function(){return(t.props.innerRef&&"function"!=typeof t.props.innerRef?t.props.innerRef:t.el).current},t.emitChange=function(e){var n=t.getEl();if(n){var r=n.innerHTML;if(t.props.onChange&&r!==t.lastHtml){var o=Object.assign({},e,{target:{value:r}});t.props.onChange(o)}t.lastHtml=r}},t}return r(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.tagName,r=t.html,a=t.innerRef,s=i(t,["tagName","html","innerRef"]);return u.createElement(n||"div",o({},s,{ref:"function"==typeof a?function(t){a(t),e.el.current=t}:a||this.el,onInput:this.emitChange,onBlur:this.props.onBlur||this.emitChange,onKeyDown:this.props.onKeyDown||this.emitChange,contentEditable:!this.props.disabled,dangerouslySetInnerHTML:{__html:r}}),this.props.children)},t.prototype.shouldComponentUpdate=function(e){var t=this.props,n=this.getEl();return!n||(p(e.html)!==p(n.innerHTML)||(t.disabled!==e.disabled||t.tagName!==e.tagName||t.className!==e.className||t.innerRef!==e.innerRef||!l.default(t.style,e.style)))},t.prototype.componentDidUpdate=function(){var e=this.getEl();e&&(this.props.html!==e.innerHTML&&(e.innerHTML=this.lastHtml=this.props.html),f(e))},t.propTypes={html:c.string.isRequired,onChange:c.func,onBlur:c.func,onKeyDown:c.func,disabled:c.bool,tagName:c.string,className:c.string,style:c.object,innerRef:c.oneOfType([c.object,c.func])},t}(u.Component);t.default=d},function(e,t,n){"use strict";var r=Array.isArray,o=Object.keys,i=Object.prototype.hasOwnProperty;e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){var a,s,u,l=r(t),c=r(n);if(l&&c){if((s=t.length)!=n.length)return!1;for(a=s;0!=a--;)if(!e(t[a],n[a]))return!1;return!0}if(l!=c)return!1;var p=t instanceof Date,f=n instanceof Date;if(p!=f)return!1;if(p&&f)return t.getTime()==n.getTime();var d=t instanceof RegExp,h=n instanceof RegExp;if(d!=h)return!1;if(d&&h)return t.toString()==n.toString();var g=o(t);if((s=g.length)!==o(n).length)return!1;for(a=s;0!=a--;)if(!i.call(n,g[a]))return!1;for(a=s;0!=a--;)if(!e(t[u=g[a]],n[u]))return!1;return!0}return t!=t&&n!=n}},function(e,t,n){"use strict";e.exports=n(150)},function(e,t,n){"use strict";
/** @license React v16.8.4
 * react-dom-server.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(151),o=n(0);function i(e){for(var t=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);!function(e,t,n,r,o,i,a,s){if(!e){if(e=void 0,void 0===t)e=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,o,i,a,s],l=0;(e=Error(t.replace(/%s/g,function(){return u[l++]}))).name="Invariant Violation"}throw e.framesToPop=1,e}}(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}var a="function"==typeof Symbol&&Symbol.for,s=a?Symbol.for("react.portal"):60106,u=a?Symbol.for("react.fragment"):60107,l=a?Symbol.for("react.strict_mode"):60108,c=a?Symbol.for("react.profiler"):60114,p=a?Symbol.for("react.provider"):60109,f=a?Symbol.for("react.context"):60110,d=a?Symbol.for("react.concurrent_mode"):60111,h=a?Symbol.for("react.forward_ref"):60112,g=a?Symbol.for("react.suspense"):60113,m=a?Symbol.for("react.memo"):60115,y=a?Symbol.for("react.lazy"):60116;function v(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case d:return"ConcurrentMode";case u:return"Fragment";case s:return"Portal";case c:return"Profiler";case l:return"StrictMode";case g:return"Suspense"}if("object"==typeof e)switch(e.$$typeof){case f:return"Context.Consumer";case p:return"Context.Provider";case h:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case m:return v(e.type);case y:if(e=1===e._status?e._result:null)return v(e)}return null}var b=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;b.hasOwnProperty("ReactCurrentDispatcher")||(b.ReactCurrentDispatcher={current:null});var x={};function w(e,t){for(var n=0|e._threadCount;n<=t;n++)e[n]=e._currentValue2,e._threadCount=n+1}for(var _=new Uint16Array(16),O=0;15>O;O++)_[O]=O+1;_[15]=0;var C=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,E=Object.prototype.hasOwnProperty,S={},P={};function I(e){return!!E.call(P,e)||!E.call(S,e)&&(C.test(e)?P[e]=!0:(S[e]=!0,!1))}function k(e,t,n,r){if(null===t||void 0===t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function j(e,t,n,r,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t}var T={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){T[e]=new j(e,0,!1,e,null)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];T[t]=new j(t,1,!1,e[1],null)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){T[e]=new j(e,2,!1,e.toLowerCase(),null)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){T[e]=new j(e,2,!1,e,null)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){T[e]=new j(e,3,!1,e.toLowerCase(),null)}),["checked","multiple","muted","selected"].forEach(function(e){T[e]=new j(e,3,!0,e,null)}),["capture","download"].forEach(function(e){T[e]=new j(e,4,!1,e,null)}),["cols","rows","size","span"].forEach(function(e){T[e]=new j(e,6,!1,e,null)}),["rowSpan","start"].forEach(function(e){T[e]=new j(e,5,!1,e.toLowerCase(),null)});var A=/[\-:]([a-z])/g;function N(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(A,N);T[t]=new j(t,1,!1,e,null)}),"xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(A,N);T[t]=new j(t,1,!1,e,"http://www.w3.org/1999/xlink")}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(A,N);T[t]=new j(t,1,!1,e,"http://www.w3.org/XML/1998/namespace")}),["tabIndex","crossOrigin"].forEach(function(e){T[e]=new j(e,1,!1,e.toLowerCase(),null)});var R=/["'&<>]/;function M(e){if("boolean"==typeof e||"number"==typeof e)return""+e;e=""+e;var t=R.exec(e);if(t){var n,r="",o=0;for(n=t.index;n<e.length;n++){switch(e.charCodeAt(n)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}o!==n&&(r+=e.substring(o,n)),o=n+1,r+=t}e=o!==n?r+e.substring(o,n):r}return e}var L=null,F=null,D=null,B=!1,q=!1,U=null,z=0;function H(){return null===L&&i("307"),L}function W(){return 0<z&&i("312"),{memoizedState:null,queue:null,next:null}}function V(){return null===D?null===F?(B=!1,F=D=W()):(B=!0,D=F):null===D.next?(B=!1,D=D.next=W()):(B=!0,D=D.next),D}function G(e,t,n,r){for(;q;)q=!1,z+=1,D=null,n=e(t,r);return F=L=null,z=0,D=U=null,n}function K(e,t){return"function"==typeof t?t(e):t}function Y(e,t,n){if(L=H(),D=V(),B){var r=D.queue;if(t=r.dispatch,null!==U&&void 0!==(n=U.get(r))){U.delete(r),r=D.memoizedState;do{r=e(r,n.action),n=n.next}while(null!==n);return D.memoizedState=r,[r,t]}return[D.memoizedState,t]}return e=e===K?"function"==typeof t?t():t:void 0!==n?n(t):t,D.memoizedState=e,e=(e=D.queue={last:null,dispatch:null}).dispatch=function(e,t,n){if(25>z||i("301"),e===L)if(q=!0,e={action:n,next:null},null===U&&(U=new Map),void 0===(n=U.get(t)))U.set(t,e);else{for(t=n;null!==t.next;)t=t.next;t.next=e}}.bind(null,L,e),[D.memoizedState,e]}function X(){}var Z=0,$={readContext:function(e){var t=Z;return w(e,t),e[t]},useContext:function(e){H();var t=Z;return w(e,t),e[t]},useMemo:function(e,t){if(L=H(),D=V(),t=void 0===t?null:t,null!==D){var n=D.memoizedState;if(null!==n&&null!==t){e:{var r=n[1];if(null===r)r=!1;else{for(var o=0;o<r.length&&o<t.length;o++){var i=t[o],a=r[o];if((i!==a||0===i&&1/i!=1/a)&&(i==i||a==a)){r=!1;break e}}r=!0}}if(r)return n[0]}}return e=e(),D.memoizedState=[e,t],e},useReducer:Y,useRef:function(e){L=H();var t=(D=V()).memoizedState;return null===t?(e={current:e},D.memoizedState=e):t},useState:function(e){return Y(K,e)},useLayoutEffect:function(){},useCallback:function(e){return e},useImperativeHandle:X,useEffect:X,useDebugValue:X},J={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function Q(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}var ee={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},te=r({menuitem:!0},ee),ne={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},re=["Webkit","ms","Moz","O"];Object.keys(ne).forEach(function(e){re.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ne[t]=ne[e]})});var oe=/([A-Z])/g,ie=/^ms-/,ae=o.Children.toArray,se=b.ReactCurrentDispatcher,ue={listing:!0,pre:!0,textarea:!0},le=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,ce={},pe={};var fe=Object.prototype.hasOwnProperty,de={children:null,dangerouslySetInnerHTML:null,suppressContentEditableWarning:null,suppressHydrationWarning:null};function he(e,t){void 0===e&&i("152",v(t)||"Component")}function ge(e,t,n){function a(o,a){var s=function(e,t,n){var r=e.contextType;if("object"==typeof r&&null!==r)return w(r,n),r[n];if(e=e.contextTypes){for(var o in n={},e)n[o]=t[o];t=n}else t=x;return t}(a,t,n),u=[],l=!1,c={isMounted:function(){return!1},enqueueForceUpdate:function(){if(null===u)return null},enqueueReplaceState:function(e,t){l=!0,u=[t]},enqueueSetState:function(e,t){if(null===u)return null;u.push(t)}},p=void 0;if(a.prototype&&a.prototype.isReactComponent){if(p=new a(o.props,s,c),"function"==typeof a.getDerivedStateFromProps){var f=a.getDerivedStateFromProps.call(null,o.props,p.state);null!=f&&(p.state=r({},p.state,f))}}else if(L={},p=a(o.props,s,c),null==(p=G(a,o.props,p,s))||null==p.render)return void he(e=p,a);if(p.props=o.props,p.context=s,p.updater=c,void 0===(c=p.state)&&(p.state=c=null),"function"==typeof p.UNSAFE_componentWillMount||"function"==typeof p.componentWillMount)if("function"==typeof p.componentWillMount&&"function"!=typeof a.getDerivedStateFromProps&&p.componentWillMount(),"function"==typeof p.UNSAFE_componentWillMount&&"function"!=typeof a.getDerivedStateFromProps&&p.UNSAFE_componentWillMount(),u.length){c=u;var d=l;if(u=null,l=!1,d&&1===c.length)p.state=c[0];else{f=d?c[0]:p.state;var h=!0;for(d=d?1:0;d<c.length;d++){var g=c[d];null!=(g="function"==typeof g?g.call(p,f,o.props,s):g)&&(h?(h=!1,f=r({},f,g)):r(f,g))}p.state=f}}else u=null;if(he(e=p.render(),a),o=void 0,"function"==typeof p.getChildContext&&"object"==typeof(s=a.childContextTypes))for(var m in o=p.getChildContext())m in s||i("108",v(a)||"Unknown",m);o&&(t=r({},t,o))}for(;o.isValidElement(e);){var s=e,u=s.type;if("function"!=typeof u)break;a(s,u)}return{child:e,context:t}}var me=function(){function e(t,n){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");o.isValidElement(t)?t.type!==u?t=[t]:(t=t.props.children,t=o.isValidElement(t)?[t]:ae(t)):t=ae(t),t={type:null,domNamespace:J.html,children:t,childIndex:0,context:x,footer:""};var r=_[0];if(0===r){var a=_,s=2*(r=a.length);65536>=s||i("304");var l=new Uint16Array(s);for(l.set(a),(_=l)[0]=r+1,a=r;a<s-1;a++)_[a]=a+1;_[s-1]=0}else _[0]=_[r];this.threadID=r,this.stack=[t],this.exhausted=!1,this.currentSelectValue=null,this.previousWasTextNode=!1,this.makeStaticMarkup=n,this.suspenseDepth=0,this.contextIndex=-1,this.contextStack=[],this.contextValueStack=[]}return e.prototype.destroy=function(){if(!this.exhausted){this.exhausted=!0,this.clearProviders();var e=this.threadID;_[e]=_[0],_[0]=e}},e.prototype.pushProvider=function(e){var t=++this.contextIndex,n=e.type._context,r=this.threadID;w(n,r);var o=n[r];this.contextStack[t]=n,this.contextValueStack[t]=o,n[r]=e.props.value},e.prototype.popProvider=function(){var e=this.contextIndex,t=this.contextStack[e],n=this.contextValueStack[e];this.contextStack[e]=null,this.contextValueStack[e]=null,this.contextIndex--,t[this.threadID]=n},e.prototype.clearProviders=function(){for(var e=this.contextIndex;0<=e;e--)this.contextStack[e][this.threadID]=this.contextValueStack[e]},e.prototype.read=function(e){if(this.exhausted)return null;var t=Z;Z=this.threadID;var n=se.current;se.current=$;try{for(var r=[""],o=!1;r[0].length<e;){if(0===this.stack.length){this.exhausted=!0;var a=this.threadID;_[a]=_[0],_[0]=a;break}var s=this.stack[this.stack.length-1];if(o||s.childIndex>=s.children.length){var u=s.footer;if(""!==u&&(this.previousWasTextNode=!1),this.stack.pop(),"select"===s.type)this.currentSelectValue=null;else if(null!=s.type&&null!=s.type.type&&s.type.type.$$typeof===p)this.popProvider(s.type);else if(s.type===g){this.suspenseDepth--;var l=r.pop();if(o){o=!1;var c=s.fallbackFrame;c||i("303"),this.stack.push(c);continue}r[this.suspenseDepth]+=l}r[this.suspenseDepth]+=u}else{var f=s.children[s.childIndex++],d="";try{d+=this.render(f,s.context,s.domNamespace)}catch(e){throw e}r.length<=this.suspenseDepth&&r.push(""),r[this.suspenseDepth]+=d}}return r[0]}finally{se.current=n,Z=t}},e.prototype.render=function(e,t,n){if("string"==typeof e||"number"==typeof e)return""===(n=""+e)?"":this.makeStaticMarkup?M(n):this.previousWasTextNode?"\x3c!-- --\x3e"+M(n):(this.previousWasTextNode=!0,M(n));if(e=(t=ge(e,t,this.threadID)).child,t=t.context,null===e||!1===e)return"";if(!o.isValidElement(e)){if(null!=e&&null!=e.$$typeof){var a=e.$$typeof;a===s&&i("257"),i("258",a.toString())}return e=ae(e),this.stack.push({type:null,domNamespace:n,children:e,childIndex:0,context:t,footer:""}),""}if("string"==typeof(a=e.type))return this.renderDOM(e,t,n);switch(a){case l:case d:case c:case u:return e=ae(e.props.children),this.stack.push({type:null,domNamespace:n,children:e,childIndex:0,context:t,footer:""}),"";case g:i("294")}if("object"==typeof a&&null!==a)switch(a.$$typeof){case h:L={};var v=a.render(e.props,e.ref);return v=G(a.render,e.props,v,e.ref),v=ae(v),this.stack.push({type:null,domNamespace:n,children:v,childIndex:0,context:t,footer:""}),"";case m:return e=[o.createElement(a.type,r({ref:e.ref},e.props))],this.stack.push({type:null,domNamespace:n,children:e,childIndex:0,context:t,footer:""}),"";case p:return n={type:e,domNamespace:n,children:a=ae(e.props.children),childIndex:0,context:t,footer:""},this.pushProvider(e),this.stack.push(n),"";case f:a=e.type,v=e.props;var b=this.threadID;return w(a,b),a=ae(v.children(a[b])),this.stack.push({type:e,domNamespace:n,children:a,childIndex:0,context:t,footer:""}),"";case y:i("295")}i("130",null==a?a:typeof a,"")},e.prototype.renderDOM=function(e,t,n){var a=e.type.toLowerCase();n===J.html&&Q(a),ce.hasOwnProperty(a)||(le.test(a)||i("65",a),ce[a]=!0);var s=e.props;if("input"===a)s=r({type:void 0},s,{defaultChecked:void 0,defaultValue:void 0,value:null!=s.value?s.value:s.defaultValue,checked:null!=s.checked?s.checked:s.defaultChecked});else if("textarea"===a){var u=s.value;if(null==u){u=s.defaultValue;var l=s.children;null!=l&&(null!=u&&i("92"),Array.isArray(l)&&(1>=l.length||i("93"),l=l[0]),u=""+l),null==u&&(u="")}s=r({},s,{value:void 0,children:""+u})}else if("select"===a)this.currentSelectValue=null!=s.value?s.value:s.defaultValue,s=r({},s,{value:void 0});else if("option"===a){l=this.currentSelectValue;var c=function(e){if(void 0===e||null===e)return e;var t="";return o.Children.forEach(e,function(e){null!=e&&(t+=e)}),t}(s.children);if(null!=l){var p=null!=s.value?s.value+"":c;if(u=!1,Array.isArray(l)){for(var f=0;f<l.length;f++)if(""+l[f]===p){u=!0;break}}else u=""+l===p;s=r({selected:void 0,children:void 0},s,{selected:u,children:c})}}for(x in(u=s)&&(te[a]&&(null!=u.children||null!=u.dangerouslySetInnerHTML)&&i("137",a,""),null!=u.dangerouslySetInnerHTML&&(null!=u.children&&i("60"),"object"==typeof u.dangerouslySetInnerHTML&&"__html"in u.dangerouslySetInnerHTML||i("61")),null!=u.style&&"object"!=typeof u.style&&i("62","")),u=s,l=this.makeStaticMarkup,c=1===this.stack.length,p="<"+e.type,u)if(fe.call(u,x)){var d=u[x];if(null!=d){if("style"===x){f=void 0;var h="",g="";for(f in d)if(d.hasOwnProperty(f)){var m=0===f.indexOf("--"),y=d[f];if(null!=y){var v=f;if(pe.hasOwnProperty(v))v=pe[v];else{var b=v.replace(oe,"-$1").toLowerCase().replace(ie,"-ms-");v=pe[v]=b}h+=g+v+":",g=f,h+=m=null==y||"boolean"==typeof y||""===y?"":m||"number"!=typeof y||0===y||ne.hasOwnProperty(g)&&ne[g]?(""+y).trim():y+"px",g=";"}}d=h||null}f=null;e:if(m=a,y=u,-1===m.indexOf("-"))m="string"==typeof y.is;else switch(m){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":m=!1;break e;default:m=!0}m?de.hasOwnProperty(x)||(f=I(f=x)&&null!=d?f+'="'+M(d)+'"':""):(m=x,f=d,d=T.hasOwnProperty(m)?T[m]:null,(y="style"!==m)&&(y=null!==d?0===d.type:2<m.length&&("o"===m[0]||"O"===m[0])&&("n"===m[1]||"N"===m[1])),y||k(m,f,d,!1)?f="":null!==d?(m=d.attributeName,f=3===(d=d.type)||4===d&&!0===f?m+'=""':m+'="'+M(f)+'"'):f=I(m)?m+'="'+M(f)+'"':""),f&&(p+=" "+f)}}l||c&&(p+=' data-reactroot=""');var x=p;u="",ee.hasOwnProperty(a)?x+="/>":(x+=">",u="</"+e.type+">");e:{if(null!=(l=s.dangerouslySetInnerHTML)){if(null!=l.__html){l=l.__html;break e}}else if("string"==typeof(l=s.children)||"number"==typeof l){l=M(l);break e}l=null}return null!=l?(s=[],ue[a]&&"\n"===l.charAt(0)&&(x+="\n"),x+=l):s=ae(s.children),e=e.type,n=null==n||"http://www.w3.org/1999/xhtml"===n?Q(e):"http://www.w3.org/2000/svg"===n&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":n,this.stack.push({domNamespace:n,type:a,children:s,childIndex:0,context:t,footer:u}),this.previousWasTextNode=!1,x},e}(),ye={renderToString:function(e){e=new me(e,!1);try{return e.read(1/0)}finally{e.destroy()}},renderToStaticMarkup:function(e){e=new me(e,!0);try{return e.read(1/0)}finally{e.destroy()}},renderToNodeStream:function(){i("207")},renderToStaticNodeStream:function(){i("208")},version:"16.8.4"},ve={default:ye},be=ve&&ye||ve;e.exports=be.default||be},function(e,t,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,a,s=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),u=1;u<arguments.length;u++){for(var l in n=Object(arguments[u]))o.call(n,l)&&(s[l]=n[l]);if(r){a=r(n);for(var c=0;c<a.length;c++)i.call(n,a[c])&&(s[a[c]]=n[a[c]])}}return s}},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var o,i=n(1);t.getStyle=function(e){return i.css(o||(o=r(["\n    .component-expression-editor{\n      .expression-editor-input{\n        font-size: 13px;\n        font-weight: 400;\n        border: 1px solid gray;\n        overflow: hidden;\n        min-height: ",";\n        user-select: none;\n        .expression-editor-input-content-editable{\n          min-height: ",";\n        }\n        p{\n          min-height: 100%;\n        }\n        .break-all{\n          word-break: break-all;\n        }\n        span.error-exp{\n          color: #DD4045;\n        }\n        .field-exp{\n          color: #B084DF;\n        }\n        .function-exp{\n          color: #FFB86C;\n        }\n        .number-exp{\n          color: #19F9CD;\n        }\n        .string-exp{\n          color: #6FC1FF;\n        }\n        .operator-exp{\n          color: #FF75B5;\n        }\n        .unknown-exp{\n          color: #DD4045;\n        }\n        .ds-disabled-exp{\n          color: ",";\n          background-color: ",";\n        }\n      }\n\n      .error-border{\n        border: 1px solid #DD4045;\n        outline: none;\n      }\n\n      .expression-editor-function-item{\n        border: 1px solid transparent;\n        cursor: pointer;\n        background-color: ",";\n        user-select: none;\n      }\n      .expression-editor-function-item:hover{\n        background-color: ",";\n      }\n      .expression-editor-function-item:active.expression-editor-function-item:hover{\n        background-color: ",";\n      }\n\n      .exp-editor-helper-tab{\n        overflow-y: auto;\n      }\n\n      .error-message{\n        height: 20px;\n        line-height: 20px;\n      }\n\n      .exp-poper{\n        background-color: ",";\n        border: 1px solid ",";\n        font-size: 13px;\n        width: ",";\n        z-index: 1;\n        padding: 0 !important;\n        box-shadow: 0 0 8px 0 ",";\n        .exp-popper-item{\n          padding-left: 8px;\n          padding-right: 8px;\n        }\n      }\n      .exp-popper-item:hover, .exp-popper-selected-item{\n        background-color: ",";\n      }\n\n    }\n\n  "],["\n    .component-expression-editor{\n      .expression-editor-input{\n        font-size: 13px;\n        font-weight: 400;\n        border: 1px solid gray;\n        overflow: hidden;\n        min-height: ",";\n        user-select: none;\n        .expression-editor-input-content-editable{\n          min-height: ",";\n        }\n        p{\n          min-height: 100%;\n        }\n        .break-all{\n          word-break: break-all;\n        }\n        span.error-exp{\n          color: #DD4045;\n        }\n        .field-exp{\n          color: #B084DF;\n        }\n        .function-exp{\n          color: #FFB86C;\n        }\n        .number-exp{\n          color: #19F9CD;\n        }\n        .string-exp{\n          color: #6FC1FF;\n        }\n        .operator-exp{\n          color: #FF75B5;\n        }\n        .unknown-exp{\n          color: #DD4045;\n        }\n        .ds-disabled-exp{\n          color: ",";\n          background-color: ",";\n        }\n      }\n\n      .error-border{\n        border: 1px solid #DD4045;\n        outline: none;\n      }\n\n      .expression-editor-function-item{\n        border: 1px solid transparent;\n        cursor: pointer;\n        background-color: ",";\n        user-select: none;\n      }\n      .expression-editor-function-item:hover{\n        background-color: ",";\n      }\n      .expression-editor-function-item:active.expression-editor-function-item:hover{\n        background-color: ",";\n      }\n\n      .exp-editor-helper-tab{\n        overflow-y: auto;\n      }\n\n      .error-message{\n        height: 20px;\n        line-height: 20px;\n      }\n\n      .exp-poper{\n        background-color: ",";\n        border: 1px solid ",";\n        font-size: 13px;\n        width: ",";\n        z-index: 1;\n        padding: 0 !important;\n        box-shadow: 0 0 8px 0 ",";\n        .exp-popper-item{\n          padding-left: 8px;\n          padding-right: 8px;\n        }\n      }\n      .exp-popper-item:hover, .exp-popper-selected-item{\n        background-color: ",";\n      }\n\n    }\n\n  "])),i.polished.rem(100),i.polished.rem(100),e.colors.dark,i.polished.rgba(e.colors.reds.red500,.5),e.colors.grays.gray200,e.colors.grays.gray300,e.colors.white,e.colors.grays.gray100,e.colors.grays.gray400,i.polished.rem(150),i.polished.rgba(e.colors.white,.5),e.colors.secondary)}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(19),s=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n}return r(t,e),t.prototype.render=function(){return i.React.createElement(a.default,o({},this.props,{className:"string-exp",tabIndex:0}))},t}(i.React.PureComponent);t.default=s},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(16),a=n(19),s=n(69),u=n(70),l=n(71),c=n(72),p=n(41),f=function(e){function t(t){var n=e.call(this,t)||this;return n.getComponent=function(e,t){var r=p.getIndexOfParentPart(n.props.externalId,n.props.id);switch(e.type){case o.ExpressionPartType.Field:return o.React.createElement(s.default,{exp:e.exp,id:p.getChildPartId(n.props.externalId,r,t),key:t,isEditable:n.props.isEditable,dataSourceId:e.dataSourceId,isDsDisabled:i.getWhetherDsDisabled(e,n.props.dataSourceIds),isError:!i.getWhetherFieldIsNumber(e.dataSourceId,e.jimuFieldName)});case o.ExpressionPartType.Number:return o.React.createElement(u.default,{exp:e.exp,id:p.getChildPartId(n.props.externalId,r,t),key:t,isEditable:n.props.isEditable});case o.ExpressionPartType.Unknown:return o.React.createElement(l.default,{exp:e.exp,id:p.getChildPartId(n.props.externalId,r,t),key:t,isEditable:n.props.isEditable});case o.ExpressionPartType.Operator:return o.React.createElement(c.default,{exp:e.exp,id:p.getChildPartId(n.props.externalId,r,t),key:t,isEditable:n.props.isEditable});default:return null}},n.getFunctionTooltip=function(e){if(!e)return null;switch(n.props.exp){case o.ExpressionFunctions.Average:return"Average ( fieldName ) returns  { Number }";case o.ExpressionFunctions.Count:return"Count ( fieldName ) returns  { Number }";case o.ExpressionFunctions.Sum:return"Sum ( fieldName ) returns  { Number }";case o.ExpressionFunctions.Max:return"Max ( fieldName ) returns  { Number }";case o.ExpressionFunctions.Min:return"Min ( fieldName ) returns  { Number }";default:return null}},n}return r(t,e),t.prototype.render=function(){var e,t=this;return o.React.createElement("span",{className:o.classNames("function-exp",(e={},e[this.props.className]=!!this.props.className,e["error-exp"]=this.props.isError,e["ds-disabled-exp"]=this.props.isDsDisabled,e)),contentEditable:!!this.props.isEditable,suppressContentEditableWarning:!0,id:this.props.id,title:this.getFunctionTooltip(this.props.exp)},o.React.createElement(a.default,{className:"function-exp-name",exp:this.props.exp,id:this.props.id+"-function",isEditable:!!this.props.isEditable,tabIndex:0}),o.React.createElement("span",null,"("),this.props.parts&&this.props.parts.map(function(e,n){return t.getComponent(e,""+n)}),o.React.createElement("span",null,")"))},t}(o.React.PureComponent);t.default=f},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(2),a=function(e){function t(t){var n=e.call(this,t)||this;return n.itemHeight=25,n.popoverItemStyle={height:n.itemHeight+"px !important",lineHeight:n.itemHeight+"px !important"},n.checkTarget=function(e){return!!e&&!(!document||!document.getElementById(e))},n}return r(t,e),t.prototype.componentDidUpdate=function(e){if(this.props.selectedItemIndex!==e.selectedItemIndex&&this.props.selectedItemIndex&&this.root){var t=void 0;if(parseInt(this.props.selectedItemIndex)>parseInt(e.selectedItemIndex))if(parseInt(this.props.selectedItemIndex)===this.props.items.length-1)t=this.root.scrollHeight-this.root.offsetHeight;else{var n=Math.floor((this.root.scrollTop+this.root.offsetHeight)/this.itemHeight)-1;t=parseInt(this.props.selectedItemIndex)>=n?this.root.scrollTop+this.itemHeight:this.root.scrollTop}else if(0===parseInt(this.props.selectedItemIndex))t=0;else{var r=Math.floor(this.root.scrollTop/this.itemHeight);t=parseInt(this.props.selectedItemIndex)<=r?this.root.scrollTop-this.itemHeight:this.root.scrollTop}this.root.scrollTo(null,t)}},t.prototype.render=function(){var e=this;return this.props.targetNodeId&&this.checkTarget(this.props.targetNodeId)&&this.props.items&&0!==this.props.items.length?o.jsx(i.Popper,{reference:this.props.targetNodeId,open:!0,placement:"bottom",className:"exp-poper"},o.jsx("div",{style:{width:"150px",maxHeight:"150px",overflow:"auto"},ref:function(t){return e.root=t}},this.props.items.map(function(t,n){return o.jsx("div",{key:n,onClick:function(){return e.props.onClick&&e.props.onClick(t,e.props.targetNodeId)},className:o.classNames("text-truncate exp-popper-item",{"exp-popper-selected-item":""+n===e.props.selectedItemIndex}),title:t.content,css:o.css(e.popoverItemStyle)},t.content)}))):null},t}(o.React.PureComponent);t.default=a},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o,i=n(1),a=n(2),s=n(4),u=n(61),l=n(41);!function(e){e.Fields="FIELDS",e.Functions="FUNCTIONS"}(o||(o={}));var c=function(e){function t(t){var n,r=e.call(this,t)||this;return r.ExpEditorHelperTabs=((n={})[o.Fields]=r.props.intl.formatMessage({id:"fields",defaultMessage:s.default.fields}),n[o.Functions]=r.props.intl.formatMessage({id:"functions",defaultMessage:s.default.functions}),n),r.getTab=function(e){switch(e){case o.Fields:return i.React.createElement(u.default,{dataSourceIds:r.props.dataSourceIds,onSelect:r.onFieldSelect});case o.Functions:return i.React.createElement(p,{onSelect:r.onFunctionSelect});default:return null}},r.onFunctionSelect=function(e){if(e){var t={type:i.ExpressionPartType.Function,exp:e,parts:[]};r.props.dataSourceIds&&1===r.props.dataSourceIds.length&&(t.dataSourceId=r.props.dataSourceIds&&r.props.dataSourceIds[0]),r.changeExpression(t,r.props.expression)}},r.onFieldSelect=function(e,t){if(e&&t){var n={type:i.ExpressionPartType.Field,exp:"$"+l.removeOperator(e.alias||e.name),dataSourceId:t.id,jimuFieldName:e.jimuName};r.changeExpression(n,r.props.expression)}},r.onActiveTabChange=function(e){r.setState({active:e})},r.changeExpression=function(e,t){if(e){var n;if(r.props.inEditablePart){var o=l.getSelectionPosInnerPart(r.props.externalId,!1,r.props.container);n=o&&o.partId}else{var a=r.props.container.querySelector("#"+r.props.externalId),s=l.getPreviouseNodeOfSelection(r.props.externalId,a);n=s&&s.id}n||(n=l.getParentPartId(r.props.externalId,"0"));var u,c=t,p=c&&c.parts&&c.parts.slice()||[];if(0===p.length)e.type===i.ExpressionPartType.Field?(p=[e,{exp:" ",type:i.ExpressionPartType.Operator}],u=l.getParentPartId(r.props.externalId,"1")):(p=[e],u=l.getParentPartId(r.props.externalId,"0"));else{var f=l.getWhetherIsParentPartId(r.props.externalId,n),d=l.getIndexOfParentPart(r.props.externalId,n);if(f&&p[d]&&p[d].type!==i.ExpressionPartType.Function){var h=parseInt(d)+1;e.type===i.ExpressionPartType.Field?(p.splice(h,0,e,{exp:" ",type:i.ExpressionPartType.Operator}),u=l.getParentPartId(r.props.externalId,""+(h+1))):(p.splice(h,0,e),u=l.getParentPartId(r.props.externalId,""+h))}else if(p[d]&&p[d].parts&&e.type===i.ExpressionPartType.Field){var g=l.getIndexOfChildPart(r.props.externalId,n),m=g?parseInt(g)+1:0;p[d].parts.splice(m,0,e),u=l.getChildPartId(r.props.externalId,""+d,""+m)}}r.props.onSelect({name:c&&c.name||r.props.externalId,parts:p},u)}},r.state={active:o.Fields},r}return r(t,e),t.prototype.render=function(){var e=this;return this.props.container?i.React.createElement("div",{className:"exp-editor-helper"},i.React.createElement(a.Nav,{tabs:!0,fill:!0},Object.keys(o).map(function(t,n){return i.React.createElement(a.NavItem,{key:n},i.React.createElement(a.NavLink,{className:i.classNames({active:e.state.active===o[t]}),onClick:function(){e.onActiveTabChange(o[t])}},e.ExpEditorHelperTabs[o[t]]))})),i.React.createElement("div",{className:"exp-editor-helper-tab"},this.getTab(this.state.active))):null},t}(i.React.PureComponent);t.default=c;var p=function(e){var t=e.onSelect;return i.React.createElement("div",null,Object.keys(i.ExpressionFunctions).map(function(e,n){return i.React.createElement("div",{onClick:function(){return t(i.ExpressionFunctions[e])},key:n,className:"mt-2 p-1 expression-editor-function-item"},i.ExpressionFunctions[e])}))}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(2),a=n(14),s=n(16),u=n(4),l=function(e){function t(t){var n=e.call(this,t)||this;n.dsManager=window&&window.jimuConfig&&window.jimuConfig.isBuilder?a.default.getInstance():o.DataSourceManager.getInstance(),n.getWhetherExpressionIsLegal=function(){return!!(n.props.expression&&n.props.expression.parts&&1===n.props.expression.parts.length&&n.props.expression.parts[0]&&n.props.expression.parts[0].type===o.ExpressionPartType.Function)&&(!n.props.expression.parts[0].parts||1===n.props.expression.parts[0].parts.length&&!s.getWhetherDsDisabled(n.props.expression.parts[0].parts[0],n.props.dataSourceIds))},n.getDefaultDsId=function(){return n.getWhetherExpressionIsLegal()&&n.props.expression.parts[0].parts&&n.props.expression.parts[0].parts[0]&&(n.props.expression.parts[0].parts[0].dataSourceId||n.props.expression.parts[0].dataSourceId)||n.props.dataSourceIds&&n.props.dataSourceIds[0]},n.getDefaultFunc=function(){return n.getWhetherExpressionIsLegal()&&n.props.expression.parts[0].exp||o.ExpressionFunctions.Average},n.getDefaultJimuName=function(e){return n.getWhetherExpressionIsLegal()&&n.props.expression.parts[0].parts&&n.props.expression.parts[0].parts[0]&&n.props.expression.parts[0].parts[0].jimuFieldName||e&&Object.keys(e)[0]},n.getDataSourceId=function(){return n.state.selectedDsId},n.getSelectedFieldName=function(e,t){return e?t&&e[t]&&(e[t].alias||e[t].name):""},n.getSelectedFunction=function(){return n.state.selectedFunction},n.getNumberFields=function(e){if(!e)return{};var t=n.dsManager&&n.dsManager.getDataSource(e),r=t&&t.getSchema(),i=r&&r.fields;if(!i)return{};var a={};return Object.keys(i).forEach(function(e){i[e].type===o.JimuFieldType.Number&&(a[e]=i[e])}),a},n.getDsLabel=function(e){var t=n.dsManager&&n.dsManager.getDataSource(e);return t?t.label||t.id:e},n.onDsChange=function(e){var t=e.currentTarget.value;n.setState({selectedDsId:t})},n.onFieldChange=function(e){var t=e.currentTarget.value;n.setState({selectedJimuFieldName:t})},n.onFunctionChange=function(e){var t=e.currentTarget.value;n.setState({selectedFunction:t})},n.onChange=function(){var e=n.getNumberFields(n.state.selectedDsId),t=n.getSelectedFieldName(e,n.state.selectedJimuFieldName),r=n.state.selectedFunction===o.ExpressionFunctions.Count?n.state.selectedFunction:n.state.selectedFunction+"($"+t+")",i={type:o.ExpressionPartType.Function,exp:n.state.selectedFunction};n.state.selectedFunction===o.ExpressionFunctions.Count?i.dataSourceId=n.state.selectedDsId:i.parts=[{type:o.ExpressionPartType.Field,exp:t,dataSourceId:n.state.selectedDsId,jimuFieldName:n.state.selectedJimuFieldName}],n.props.onChange({name:r,parts:[i]})};var r=n.getDefaultDsId(),i=n.getNumberFields(r),u=n.getDefaultJimuName(i),l=n.getDefaultFunc();return n.state={selectedDsId:r,selectedJimuFieldName:u,selectedFunction:l},n}return r(t,e),t.prototype.componentDidUpdate=function(e){if(e.expression!==this.props.expression){var t=this.getDefaultDsId(),n=this.getNumberFields(t),r=this.getDefaultJimuName(n),o=this.getDefaultFunc();this.setState({selectedDsId:t,selectedJimuFieldName:r,selectedFunction:o})}},t.prototype.render=function(){var e=this,t=this.getNumberFields(this.state.selectedDsId);return o.React.createElement("div",{className:"expression-builder-tab statistics-tab"},o.React.createElement("div",{className:"line"},o.React.createElement("span",null,this.props.intl.formatMessage({id:"data",defaultMessage:u.default.data})),o.React.createElement("div",null,o.React.createElement(i.Input,{type:"select",value:this.getDataSourceId(),className:"select-max-width text-truncate",onChange:this.onDsChange},this.props.dataSourceIds&&this.props.dataSourceIds.map(function(t,n){return o.React.createElement("option",{value:t,key:n,className:"select-max-width text-truncate"},e.getDsLabel(t))})))),o.React.createElement("div",{className:"line"},o.React.createElement("span",null,this.props.intl.formatMessage({id:"operator",defaultMessage:u.default.operator})),o.React.createElement("div",null,o.React.createElement(i.Input,{type:"select",value:this.getSelectedFunction(),className:"select-max-width text-truncate",onChange:this.onFunctionChange},Object.keys(o.ExpressionFunctions).map(function(e,t){return o.React.createElement("option",{value:o.ExpressionFunctions[e],key:t,className:"select-max-width text-truncate"},o.ExpressionFunctions[e])})))),this.state.selectedFunction&&this.state.selectedFunction!==o.ExpressionFunctions.Count&&o.React.createElement("div",{className:"line"},o.React.createElement("span",null,this.props.intl.formatMessage({id:"field",defaultMessage:u.default.field})),o.React.createElement("div",null,o.React.createElement(i.Input,{type:"select",value:this.getSelectedFieldName(t,this.state.selectedJimuFieldName),onChange:this.onFieldChange,className:"select-max-width text-truncate"},t&&Object.keys(t).map(function(e,n){return o.React.createElement("option",{value:t[e].jimuName,key:n,className:"select-max-width text-truncate"},t[e].alias||t[e].name)})))),o.React.createElement("div",{className:"mt-3 expression-insert-btn"},o.React.createElement(i.Button,{outline:!0,onClick:this.onChange},this.props.intl.formatMessage({id:"insert",defaultMessage:u.default.insert}))))},t}(o.React.PureComponent);t.default=l},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var o,i=n(1);t.getStyle=function(e){return i.css(o||(o=r(["\n    .component-expression-builder{\n      .expression-builder-tab{\n        padding: 1rem;\n        overflow: auto;\n        width: 100%;\n        height: calc(100% - 60px);\n      }\n      .statistics-tab{\n        .line{\n          margin-top: 1rem;\n          display: flex;\n          justify-content: space-between;\n          div, input{\n            display: inline-block;\n          }\n          .select-max-width{\n            max-width: ",";\n          }\n          >span{\n            margin-right: 0.5rem;\n            display: inline-block;\n            width: 5.2rem;\n          }\n          >div{\n            width: 100%;\n          }\n        }\n      }\n      .field-chooser-container, .expression-editor-container{\n        width: 100%;\n      }\n      .expression-name-label{\n        line-height: ",";\n        margin: 0;\n      }\n      .expression-insert-btn, #expression-name-input{\n        height: ",";\n      }\n      .expression-insert-btn{\n        width: ",";\n      }\n\n    }\n\n  "],["\n    .component-expression-builder{\n      .expression-builder-tab{\n        padding: 1rem;\n        overflow: auto;\n        width: 100%;\n        height: calc(100% - 60px);\n      }\n      .statistics-tab{\n        .line{\n          margin-top: 1rem;\n          display: flex;\n          justify-content: space-between;\n          div, input{\n            display: inline-block;\n          }\n          .select-max-width{\n            max-width: ",";\n          }\n          >span{\n            margin-right: 0.5rem;\n            display: inline-block;\n            width: 5.2rem;\n          }\n          >div{\n            width: 100%;\n          }\n        }\n      }\n      .field-chooser-container, .expression-editor-container{\n        width: 100%;\n      }\n      .expression-name-label{\n        line-height: ",";\n        margin: 0;\n      }\n      .expression-insert-btn, #expression-name-input{\n        height: ",";\n      }\n      .expression-insert-btn{\n        width: ",";\n      }\n\n    }\n\n  "])),i.polished.rem(170),i.polished.rem(30),i.polished.rem(30),i.polished.rem(68))}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(2),s=n(122);a.ReactModal.setAppElement(document&&document.getElementsByTagName("body")[0]);var u=function(e){function t(t){return e.call(this,t)||this}return r(t,e),t.prototype.render=function(){return i.jsx(s.default,o({},this.props))},t}(i.React.PureComponent),l=i.themeUtils.withTheme(u);t.default=l},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var o,i=n(1);t.getStyle=function(e){return i.css(o||(o=r(["\n    .component-expression-builder-popup{\n\n    }\n\n  "],["\n    .component-expression-builder-popup{\n\n    }\n\n  "])))}},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var o,i=n(1);t.getStyle=function(e){return i.css(o||(o=r(["\n    .component-expression-input{\n      font-size: ",";\n      .ds-disabled{\n        background-color: ",";\n        border: 1px solid ",";\n        >span{\n          color: ",";\n          background-color: ",";\n          vertical-align: sub;\n          margin-left: 5px;\n          margin-right: 5px;\n        }\n      }\n      .expression-builder-trigger{\n        cursor: pointer;\n        width: 25px;\n        height: 26px;\n        background-color: ",";\n        padding: 0;\n        .expression-builder-trigger-input{\n          width: 25px;\n          height: 25px;\n          padding: 0;\n          background-color: ",";\n          >button{\n            width: 25px;\n            height: 26px;\n            background-color: ",";\n            padding: 0 3px 0 0;\n            >svg{\n              margin: 0;\n            }\n          }\n        }\n      }\n    }\n\n  "],["\n    .component-expression-input{\n      font-size: ",";\n      .ds-disabled{\n        background-color: ",";\n        border: 1px solid ",";\n        >span{\n          color: ",";\n          background-color: ",";\n          vertical-align: sub;\n          margin-left: 5px;\n          margin-right: 5px;\n        }\n      }\n      .expression-builder-trigger{\n        cursor: pointer;\n        width: 25px;\n        height: 26px;\n        background-color: ",";\n        padding: 0;\n        .expression-builder-trigger-input{\n          width: 25px;\n          height: 25px;\n          padding: 0;\n          background-color: ",";\n          >button{\n            width: 25px;\n            height: 26px;\n            background-color: ",";\n            padding: 0 3px 0 0;\n            >svg{\n              margin: 0;\n            }\n          }\n        }\n      }\n    }\n\n  "])),e.typography.fontSizeBase,e.colors.secondary,e.colors.grays.gray300,e.colors.dark,i.polished.rgba(e.colors.reds.red500,.5),e.colors.white,e.colors.white,e.colors.white)}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o,i=n(73);!function(e){e.Static="STATIC"}(o||(o={})),t.ExpressionInputFrom=r({},o,i.ExpressionFrom)},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(1),s=n(2),u=n(25),l=n(123),c=n(125),p=n(4),f=n(126),d=n(74),h={png:"image/png",jpg:"image/jpeg",gif:"image/gif",bmp:"image/bmp",svg:"image/svg+xml"},g=function(e){function t(t){var n=e.call(this,t)||this;return n.onChange=function(e){var t={originalName:e.originalName,fileName:e.fileName,size:e.size,url:e.url,created:e.created,resourcesPrefix:e.resourcesPrefix,referedIds:[],originId:e.fileName.split(".")[0],fileFormat:e.fileFormat},r=Object.assign({},n.state.imageResources);r[t.fileName.split(".")[0]]=t,u.AppResourceManager.getInstance().setImageResourcesInDraft(r),n.setState({imageResources:r}),n.props.isSupportCrop?n.setState({cacheImageParam:{url:e.url,originalUrl:e.url,fileName:e.fileName,originalName:e.originalName,imgSourceType:s.ImgSourceType.ByUpload,fileFormat:e.fileFormat,originalId:e.fileName.split(".")[0]}}):n.props.onChange&&n.props.onChange({url:e.url,originalUrl:e.url,fileName:e.fileName,originalName:e.originalName,imgSourceType:s.ImgSourceType.ByUpload,fileFormat:e.fileFormat,originalId:e.fileName.split(".")[0]})},n.clearChoosedImageResource=function(){n.setState({cacheImageParam:{}}),n.props.onChange&&n.props.onChange({})},n.chooseImageResource=function(e,t){t?(n.setState({cacheImageParam:{}}),n.props.onChange&&n.props.onChange({})):n.props.isSupportCrop?n.setState({cacheImageParam:{url:e.url,originalUrl:e.url,fileName:e.fileName,originalName:e.originalName,imgSourceType:s.ImgSourceType.ByUpload,fileFormat:e.fileFormat,originalId:e.originId}}):n.props.onChange&&n.props.onChange({url:e.url,originalUrl:e.url,fileName:e.fileName,originalName:e.originalName,imgSourceType:s.ImgSourceType.ByUpload,fileFormat:e.fileFormat,originalId:e.originId})},n.onTextInputChanged=function(e){var t=n.getFileNameFromUrl(e.target.value);n.props.isSupportCrop?n.setState({cacheImageParam:{url:e.target.value,originalUrl:e.target.value,fileName:t,originalName:t,imgSourceType:s.ImgSourceType.ByURL}}):n.props.onChange&&n.props.onChange({url:e.target.value,originalUrl:e.target.value,fileName:t,originalName:t,imgSourceType:s.ImgSourceType.ByURL})},n.openImageCrop=function(){n.setState({isOpenImageCrop:!0})},n.onCancelCrop=function(){n.setState({isOpenImageCrop:!1})},n.onConfirmCrop=function(e,t){var r=n.state.cacheImageParam;e.cropType===s.CropType.Real&&t&&(r.set?r=r.set("url",t.blobUrl).set("fileFormat",t.fileFormat):(r.url=t.blobUrl,r.fileFormat=t.fileFormat)),r.set?r=r.set("cropParam",e):r.cropParam=e,n.setState({isOpenImageCrop:!1}),n.props.onChange&&n.props.onChange(r)},n.getFileNameFromUrl=function(e){if(e){var t=e.split("?")[0],n=t.lastIndexOf("/");return-1==n&&(n=t.lastIndexOf("\\")),t.substr(n+1)}return null},n.getImageFormat=function(e){var t=null;if(e)if(e.fileFormat)t=n.state.cacheImageParam.fileFormat;else if(e.fileName)t=h[e.fileName.split(".")[e.fileName.split(".").length-1].toLowerCase()];else if(e.url){var r=e.url.split("?")[0],o=r.lastIndexOf("/");-1==o&&(o=r.lastIndexOf("\\"));var i=r.substr(o+1);t=h[i.split(".")[i.split(".").length-1].toLowerCase()]}return t},n.handleResourceNotSupported=function(){n.setState({isOpenUnsupportedDialog:!0})},n.handleToggleUnsupportedDialog=function(){n.setState({isOpenUnsupportedDialog:!n.state.isOpenUnsupportedDialog})},n.state={imageResources:{},cacheImageParam:n.props.imageParam?n.props.imageParam:{},isOpenImageCrop:!1,isOpenUnsupportedDialog:!1},n}return r(t,e),t.prototype.getStyle=function(e){return a.css(i||(i=o(["\n      .image-resources-panel {\n\n        .setting-header {\n          padding: "," "," "," ","\n        }\n  \n        .setting-title {\n          font-size: ",";\n        }\n\n        .setting-container {\n          height: calc(100% - ",");\n        }\n\n        .tab-title-item{\n        }\n\n        .image-list {\n          position: absolute;\n          overflow-y: auto;\n          height: calc(100% - ",");\n        }\n\n        .image-list-hascrop {\n          position: absolute;\n          overflow-y: auto;\n          height: calc(100% - ",");\n        }\n\n        .image-list-item {\n          float: left;\n          width: 113px;\n          height: 90px;\n          cursor: pointer;\n          border: 2px solid "," !important;\n          background-size: cover;\n          background-position: center center;\n          background-repeat: no-repeat;\n        }\n\n        .image-list-item: hover {\n          opacity: 0.9;\n        }\n\n        .image-list-item-choosed {\n          border: 2px solid "," !important;\n        }\n      }\n    "],["\n      .image-resources-panel {\n\n        .setting-header {\n          padding: "," "," "," ","\n        }\n  \n        .setting-title {\n          font-size: ",";\n        }\n\n        .setting-container {\n          height: calc(100% - ",");\n        }\n\n        .tab-title-item{\n        }\n\n        .image-list {\n          position: absolute;\n          overflow-y: auto;\n          height: calc(100% - ",");\n        }\n\n        .image-list-hascrop {\n          position: absolute;\n          overflow-y: auto;\n          height: calc(100% - ",");\n        }\n\n        .image-list-item {\n          float: left;\n          width: 113px;\n          height: 90px;\n          cursor: pointer;\n          border: 2px solid "," !important;\n          background-size: cover;\n          background-position: center center;\n          background-repeat: no-repeat;\n        }\n\n        .image-list-item: hover {\n          opacity: 0.9;\n        }\n\n        .image-list-item-choosed {\n          border: 2px solid "," !important;\n        }\n      }\n    "])),a.polished.rem(10),a.polished.rem(16),a.polished.rem(0),a.polished.rem(16),a.polished.rem(16),a.polished.rem(50),a.polished.rem(30),a.polished.rem(70),e.colors.grays.gray300,e.colors.cyans.cyan500)},t.prototype.componentDidMount=function(){var e=this,t=a.getAppStore().getState().appStateInBuilder&&a.getAppStore().getState().appStateInBuilder.appId;u.AppResourceManager.getInstance().getImageResourcesInDraft(t,this.props.widgetId).then(function(t){u.AppResourceManager.getInstance().setImageResourcesInDraft(t),e.setState({imageResources:t})})},t.prototype.componentWillReceiveProps=function(e){e.imageParam!==this.props.imageParam&&this.setState({cacheImageParam:e.imageParam})},t.prototype.render=function(){var e=this;return a.jsx("div",{className:"w-100 h-100",css:this.getStyle(this.props.theme)},a.jsx("div",{className:"w-100 h-100 image-resources-panel"},a.jsx("div",{className:"w-100 d-flex align-items-center justify-content-between setting-header setting-title pb-2"},a.jsx("div",null,this.props.intl.formatMessage({id:"setAnImage",defaultMessage:p.default.setAnImage})),a.jsx("div",{style:{cursor:"pointer"},onClick:this.props.onClose},a.jsx(s.Icon,{icon:d,size:"12",className:"text-dark"}))),a.jsx("div",{className:"setting-container"},a.jsx(s.Tabs,{className:"h-100"},a.jsx(s.Tab,{title:this.props.intl.formatMessage({id:"localImage",defaultMessage:p.default.localImage}),className:"tab-title-item",active:!this.state.cacheImageParam||!this.state.cacheImageParam.imgSourceType||this.state.cacheImageParam&&this.state.cacheImageParam.imgSourceType===s.ImgSourceType.ByUpload},a.jsx("div",{className:"w-100 h-100",style:{position:"relative"}},a.jsx("div",{className:"mt-2 ml-2 mr-2"},a.jsx(l.default,{widgetId:this.props.widgetId,style:{position:"relative"},className:"w-100",color:"secondary",label:this.props.intl.formatMessage({id:"uploadImage",defaultMessage:p.default.uploadImage}),onChange:this.onChange,type:u.ResourceType.Image,onResourceNotSupported:this.handleResourceNotSupported})),a.jsx("div",{className:a.classNames("w-100 pl-1 mt-1",{"image-list":!this.props.isSupportCrop},{"image-list-hascrop":this.props.isSupportCrop})},Object.keys(this.state.imageResources).length>0&&a.jsx("div",{className:"w-100 pb-3",style:{overflow:"hidden",paddingLeft:"2px"}},Object.keys(this.state.imageResources).map(function(t,n){var r=e.state.imageResources[t];return t!==r.originId?null:a.jsx("div",{key:n,className:a.classNames("m-1 image-list-item",{"image-list-item-choosed":e.state.cacheImageParam&&(e.state.cacheImageParam.fileName&&e.state.cacheImageParam.fileName===r.fileName||e.state.cacheImageParam.url&&e.state.cacheImageParam.url===r.url)}),onClick:function(){return e.chooseImageResource(r,e.state.cacheImageParam&&(e.state.cacheImageParam.fileName&&e.state.cacheImageParam.fileName===r.fileName||e.state.cacheImageParam.url&&e.state.cacheImageParam.url===r.url))}},a.jsx(s.ImageWithParam,{imageParam:{url:r.url}}))}))),this.props.isSupportCrop&&a.jsx("div",{className:"w-100 pr-2 pl-2",style:{position:"absolute",bottom:"10px"}},a.jsx(s.Button,{disabled:this.state.cacheImageParam.imgSourceType!==s.ImgSourceType.ByUpload,className:"w-100",color:"secondary",onClick:this.openImageCrop},this.props.intl.formatMessage({id:"nextStepForImage",defaultMessage:p.default.nextStepForImage}))))),a.jsx(s.Tab,{title:this.props.intl.formatMessage({id:"urlImage",defaultMessage:p.default.urlImage}),className:"tab-title-item",active:this.state.cacheImageParam&&this.state.cacheImageParam.imgSourceType===s.ImgSourceType.ByURL},a.jsx("div",{className:"mt-2 ml-2 mr-2 d-flex justify-content-between align-items-center"},a.jsx(s.Input,{className:"border-0 w-100",placeholder:this.props.intl.formatMessage({id:"urlIsHereForImage",defaultMessage:p.default.urlIsHereForImage}),value:this.state.cacheImageParam&&this.state.cacheImageParam.imgSourceType===s.ImgSourceType.ByURL?this.state.cacheImageParam.url:"",onBlur:function(t){e.onTextInputChanged(t)},onKeyUp:function(t){return e.onTextInputChanged(t)}})),this.props.isSupportCrop&&a.jsx("div",{className:"w-100 pr-2 pl-2",style:{position:"absolute",bottom:"10px"}},a.jsx(s.Button,{disabled:this.state.cacheImageParam.imgSourceType!==s.ImgSourceType.ByURL,className:"w-100",color:"secondary",onClick:this.openImageCrop},this.props.intl.formatMessage({id:"nextStepForImage",defaultMessage:p.default.nextStepForImage})))))),this.state.isOpenImageCrop&&a.jsx(c.ImageCrop,{widgetId:this.props.widgetId,originId:this.state.cacheImageParam.originalId,image:this.state.cacheImageParam.originalUrl,onCancelCrop:this.onCancelCrop,onConfirmCrop:this.onConfirmCrop,widgetArea:{width:this.props.crop.width,height:this.props.crop.width/this.props.crop.aspect},imageFormat:this.getImageFormat(this.state.cacheImageParam),cropParam:this.state.cacheImageParam.cropParam,cropType:this.state.cacheImageParam.imgSourceType===s.ImgSourceType.ByURL?s.CropType.Fake:null}),a.jsx(f.default,{hideCancel:!0,isOpen:this.state.isOpenUnsupportedDialog,title:this.props.intl.formatMessage({id:"uploadImageError",defaultMessage:p.default.uploadImageError}),toggle:this.handleToggleUnsupportedDialog},a.jsx("div",{style:{fontSize:"1rem"}},this.props.intl.formatMessage({id:"imageTypeError",defaultMessage:p.default.imageTypeError})))))},t.defaultProps={crop:{aspect:1,width:300}},t}(a.React.PureComponent);t.ImageResourcesPanel=a.themeUtils.withTheme(a.injectIntl(g))},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(165),a=n(2);t.CropType=a.CropType;var s=n(75),u=["image/gif","image/svg+xml"],l=function(e){function t(t){var n=e.call(this,t)||this;return n.eidtInfoStyle={width:"100%",height:"100%",margin:0},n.onCropChange=function(e){n.setState({crop:e})},n.onCropAreaComplete=function(e,t){n.setState({croppedAreaPixels:t})},n.onZoomChange=function(e){n.setState({zoom:e})},n.onConfirmCrop=function(e,t,r){if(u.indexOf(n.props.imageFormat)>-1||n.props.cropType===a.CropType.Fake){var o={cropPosition:n.state.crop,cropZoom:n.state.zoom,svgViewBox:e||"0 0 28 28",svgPath:t||"m0,0l0,28l28,0l0,-28l-28,0z",cropShape:r||"rectangle",cropPixel:n.state.croppedAreaPixels,cropType:a.CropType.Fake};n.props.onConfirmCrop&&n.props.onConfirmCrop(o)}else{var i={cropPosition:n.state.crop,cropZoom:n.state.zoom,svgViewBox:e,svgPath:t,cropShape:r,cropPixel:n.state.croppedAreaPixels,cropType:a.CropType.Real};n.setState({loading:!0}),s.getCroppedImgBlobUrl(n.props.image,i.cropPixel,n.props.originId).then(function(e){n.setState({loading:!1}),n.props.onConfirmCrop&&n.props.onConfirmCrop(i,e)},function(){n.setState({loading:!1})})}},n.state={modal:!0,crop:n.props.crop?n.props.crop:{x:0,y:0},zoom:n.props.cropZoom?n.props.cropZoom:1,aspect:1,showGrid:!1,zoomSpeed:.1,croppedAreaPixels:null,loading:!1},n}return r(t,e),t.prototype.render=function(){var e=window.jimuConfig.isBuilder;return o.ReactDOM.createPortal(o.jsx("div",null,o.jsx("div",{className:"jimu-widget",style:{zIndex:9999,position:"fixed",top:0,left:0,backgroundColor:"rgb(0, 0, 0, .5)"}}),o.jsx("div",{style:{zIndex:1e4,position:"absolute",top:0},className:o.classNames({"jimu-widget d-flex justify-content-center align-items-center":e})},o.jsx(i.Cropper,{image:this.props.image,crop:this.state.crop,zoom:this.state.zoom,aspect:this.state.aspect,showGrid:this.state.showGrid,zoomSpeed:this.state.zoomSpeed,onCropChange:this.onCropChange,onCropComplete:this.onCropAreaComplete,onZoomChange:this.onZoomChange,onCancelCrop:this.props.onCancelCrop,onConfirmCrop:this.onConfirmCrop,widgetArea:this.props.widgetArea,widgetId:this.props.widgetId,svgViewBox:this.props.cropParam&&this.props.cropParam.svgViewBox,svgPath:this.props.cropParam&&this.props.cropParam.svgPath,cropShape:this.props.cropParam&&this.props.cropParam.cropShape,loading:this.state.loading}))),document&&document.getElementsByTagName("body")[0])},t}(o.React.Component);t.ImageCrop=l},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(1),s=n(166),u=n(364),l=n(75),c=function(e){function t(n){var r=e.call(this,n)||this;return r.image=null,r.container=null,r.containerRect={},r.imageSize={width:0,height:0,naturalWidth:0,naturalHeight:0},r.dragStartPosition={x:0,y:0},r.dragStartCrop={x:0,y:0},r.lastPinchDistance=0,r.rafDragTimeout=null,r.rafZoomTimeout=null,r.screenWidth=document?document.documentElement.clientWidth:null,r.screenHeight=document?document.documentElement.clientHeight:null,r.getStyle=function(){var e=window.location.href.replace(window.location.hash,"");return a.css(i||(i=o(['\n      .cropperArea {\n        position: relative;\n        border: 1px solid rgba(255, 255, 255, 0.5);\n        box-sizing: border-box;\n        box-shadow: 0 0 0 9999em;\n        color: rgba(0,0,0,0.5);\n\n        .tool-item {\n          background-color: #EEF0F3;\n          cursor: pointer;\n\n          &:hover {\n            background-color: #c8cbcd;\n            cursor: pointer;\n          }\n        }\n      }\n\n      .gridLines {\n        &::before {\n          content: " ";\n          box-sizing: border-box;\n          position: absolute;\n          border: 1px solid rgba(255, 255, 255, 0.5);\n          top: 0;\n          bottom: 0;\n          left: 33.33%;\n          right: 33.33%;\n          borderTop: 0;\n          borderBottom: 0;\n        }\n\n        &::after {\n          content: " ";\n          box-sizing: border-box;\n          position: absolute;\n          border: 1px solid rgba(255, 255, 255, 0.5);\n          top: 33.33%;\n          bottom: 33.33%;\n          left: 0;\n          right: 0;\n          borderLeft: 0;\n          borderRight: 0;\n        },\n      }\n\n      .roundShape {\n        border-radius: 50%\n      }\n\n      .mask-border {\n        path {\n          transition:all 1s linear;\n          animation-name:ring;\n          animation-duration:9.2s;\n          animation-timing-function: linear;\n          animation-iteration-count:infinite;\n        }\n        \n        @keyframes ring {\n            from {\n                stroke-dashoffset:0;\n            }\n            to {\n                stroke-dashoffset:6000;\n            }\n        }\n      }\n\n      .mask-image {\n        -webkit-mask-image: url(',"#mask-setting-",");\n        mask: url(","#mask-setting-",");\n        mask-image: url(","#mask-setting-",");\n      }\n    "],['\n      .cropperArea {\n        position: relative;\n        border: 1px solid rgba(255, 255, 255, 0.5);\n        box-sizing: border-box;\n        box-shadow: 0 0 0 9999em;\n        color: rgba(0,0,0,0.5);\n\n        .tool-item {\n          background-color: #EEF0F3;\n          cursor: pointer;\n\n          &:hover {\n            background-color: #c8cbcd;\n            cursor: pointer;\n          }\n        }\n      }\n\n      .gridLines {\n        &::before {\n          content: " ";\n          box-sizing: border-box;\n          position: absolute;\n          border: 1px solid rgba(255, 255, 255, 0.5);\n          top: 0;\n          bottom: 0;\n          left: 33.33%;\n          right: 33.33%;\n          borderTop: 0;\n          borderBottom: 0;\n        }\n\n        &::after {\n          content: " ";\n          box-sizing: border-box;\n          position: absolute;\n          border: 1px solid rgba(255, 255, 255, 0.5);\n          top: 33.33%;\n          bottom: 33.33%;\n          left: 0;\n          right: 0;\n          borderLeft: 0;\n          borderRight: 0;\n        },\n      }\n\n      .roundShape {\n        border-radius: 50%\n      }\n\n      .mask-border {\n        path {\n          transition:all 1s linear;\n          animation-name:ring;\n          animation-duration:9.2s;\n          animation-timing-function: linear;\n          animation-iteration-count:infinite;\n        }\n        \n        @keyframes ring {\n            from {\n                stroke-dashoffset:0;\n            }\n            to {\n                stroke-dashoffset:6000;\n            }\n        }\n      }\n\n      .mask-image {\n        -webkit-mask-image: url(',"#mask-setting-",");\n        mask: url(","#mask-setting-",");\n        mask-image: url(","#mask-setting-",");\n      }\n    "])),e,r.props.widgetId,e,r.props.widgetId,e,r.props.widgetId)},r.preventZoomSafari=function(e){return e.preventDefault()},r.cleanEvents=function(){document.removeEventListener("mousemove",r.onMouseMove),document.removeEventListener("mouseup",r.onDragStopped),document.removeEventListener("touchmove",r.onTouchMove),document.removeEventListener("touchend",r.onDragStopped)},r.onImgLoad=function(){r.computeSizes(),r.emitCropData()},r.computeSizes=function(){if(r.image){r.imageSize={width:r.image.width,height:r.image.height,naturalWidth:r.image.naturalWidth,naturalHeight:r.image.naturalHeight};var e=r.props.widgetArea.width,t=r.props.widgetArea.height,n=r.state.minZoom,o=r.state.maxZoom;o=r.image.width/r.image.height>=e/t?(n=t/r.image.height)+5:(n=e/r.image.width)+5,n>r.props.zoom&&r.props.onZoomChange&&r.props.onZoomChange(n);var i={width:e,height:t};r.setState({cropSize:i,minZoom:n,maxZoom:o},r.recomputeCropPosition)}r.container&&(r.containerRect=r.container.getBoundingClientRect())},r.onMouseDown=function(e){e.preventDefault(),document.addEventListener("mousemove",r.onMouseMove),document.addEventListener("mouseup",r.onDragStopped),r.onDragStart(t.getMousePoint(e))},r.onMouseMove=function(e){return r.onDrag(t.getMousePoint(e))},r.onTouchStart=function(e){e.preventDefault(),document.addEventListener("touchmove",r.onTouchMove,{passive:!1}),document.addEventListener("touchend",r.onDragStopped),2===e.touches.length?r.onPinchStart(e):1===e.touches.length&&r.onDragStart(t.getTouchPoint(e.touches[0]))},r.onTouchMove=function(e){2===e.touches.length?r.onPinchMove(e):1===e.touches.length&&r.onDrag(t.getTouchPoint(e.touches[0]))},r.onDragStart=function(e){var t=e.x,n=e.y;r.dragStartPosition={x:t,y:n},r.dragStartCrop={x:r.props.crop.x,y:r.props.crop.y}},r.onDrag=function(e){var t=e.x,n=e.y;r.rafDragTimeout&&window.cancelAnimationFrame(r.rafDragTimeout),r.rafDragTimeout=window.requestAnimationFrame(function(){if(void 0!==t&&void 0!==n){var e=t-r.dragStartPosition.x,o=n-r.dragStartPosition.y,i={x:r.dragStartCrop.x+e,y:r.dragStartCrop.y+o},a=l.restrictPosition(i,r.imageSize,r.state.cropSize,r.props.zoom);r.props.onCropChange(a)}})},r.onDragStopped=function(){r.cleanEvents(),r.emitCropData()},r.onWheel=function(e){e.preventDefault();var n=t.getMousePoint(e),o=null;o=e.deltaY<=0?1.05*r.props.zoom:.95*r.props.zoom,r.setNewZoom(o,n)},r.getPointOnContainer=function(e,t){var n=e.x,o=e.y;if(!r.containerRect)throw new Error("The Cropper is not mounted");return{x:r.containerRect.width/2-(n-r.containerRect.left),y:r.containerRect.height/2-(o-r.containerRect.top)}},r.getPointOnImage=function(e){var t=e.x,n=e.y,o=r.props,i=o.crop,a=o.zoom;return{x:(t+i.x)/a,y:(n+i.y)/a}},r.setNewZoom=function(e,t){var n=r.getPointOnContainer(t),o=r.getPointOnImage(n),i=Math.min(r.state.maxZoom,Math.max(e,r.state.minZoom)),a={x:o.x*i-n.x,y:o.y*i-n.y},s=l.restrictPosition(a,r.imageSize,r.state.cropSize,i);r.props.onCropChange(s),r.props.onZoomChange&&r.props.onZoomChange(i)},r.emitCropData=function(){if(r.state.cropSize){var e=l.restrictPosition(r.props.crop,r.imageSize,r.state.cropSize,r.props.zoom),t=l.computeCroppedArea(e,r.imageSize,r.state.cropSize,r.props.zoom),n=t.croppedAreaPercentages,o=t.croppedAreaPixels;r.props.onCropComplete&&r.props.onCropComplete(n,o)}},r.recomputeCropPosition=function(){var e=l.restrictPosition(r.props.crop,r.imageSize,r.state.cropSize,r.props.zoom);r.props.onCropChange(e),r.emitCropData()},r.onImgError=function(){var e={width:r.props.widgetArea.width,height:r.props.widgetArea.height};r.setState({cropSize:e})},r.onResize=function(e,t){r.screenWidth=e,r.screenHeight=t},r.state={cropSize:null,minZoom:r.props.minZoom,maxZoom:r.props.maxZoom},r}return r(t,e),t.prototype.componentDidMount=function(){window.addEventListener("resize",this.computeSizes),this.container.addEventListener("gesturestart",this.preventZoomSafari),this.container.addEventListener("gesturechange",this.preventZoomSafari),this.container.addEventListener("wheel",this.onWheel)},t.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.computeSizes),this.container.removeEventListener("gesturestart",this.preventZoomSafari),this.container.removeEventListener("gesturechange",this.preventZoomSafari),this.container.removeEventListener("wheel",this.onWheel),this.cleanEvents()},t.prototype.componentDidUpdate=function(e){e.aspect!==this.props.aspect?this.computeSizes():e.zoom!==this.props.zoom&&this.recomputeCropPosition()},t.prototype.onPinchStart=function(e){var n=t.getTouchPoint(e.touches[0]),r=t.getTouchPoint(e.touches[1]);this.lastPinchDistance=l.getDistanceBetweenPoints(n,r),this.onDragStart(l.getCenter(n,r))},t.prototype.onPinchMove=function(e){var n=this,r=t.getTouchPoint(e.touches[0]),o=t.getTouchPoint(e.touches[1]),i=l.getCenter(r,o);this.onDrag(i),this.rafZoomTimeout&&window.cancelAnimationFrame(this.rafZoomTimeout),this.rafZoomTimeout=window.requestAnimationFrame(function(){var e=l.getDistanceBetweenPoints(r,o),t=n.props.zoom*(e/n.lastPinchDistance);n.setNewZoom(t,i),n.lastPinchDistance=e})},t.prototype.render=function(){var e=this,t=this.props,n=t.crop,r=n.x,o=n.y,i=t.zoom,l=t.showGrid,c=(t.style,t.classes),p=c.containerClassName,f=c.cropAreaClassName,d=c.imageClassName;return a.jsx("div",{css:this.getStyle,onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,"data-testid":"container",className:p,style:{userSelect:"none",touchAction:"none",cursor:"move",display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",top:this.props.widgetArea.top,left:this.props.widgetArea.left,width:this.props.widgetArea.width,height:this.props.widgetArea.height},ref:function(t){e.container=t}},a.jsx(u.default,{handleWidth:!0,handleHeight:!0,onResize:this.onResize}),a.jsx("img",{src:this.props.image,ref:function(t){e.image=t},onLoad:this.onImgLoad,onError:this.onImgError,alt:"",style:{position:"absolute",transform:"translate("+r+"px, "+o+"px) scale("+i+")",willChange:"transform"},className:d}),this.state.cropSize&&a.jsx(s.CropArea,{onCancelCrop:this.props.onCancelCrop,onConfirmCrop:this.props.onConfirmCrop,showGrid:l,style:{width:this.state.cropSize.width,height:this.state.cropSize.height},className:f,svgViewBox:this.props.svgViewBox,svgPath:this.props.svgPath,cropShape:this.props.cropShape,widgetId:this.props.widgetId,screenWidth:this.screenWidth,screenHeight:this.screenHeight,widgetArea:this.props.widgetArea}),this.props.loading&&a.jsx("div",{style:{position:"absolute",left:"50%",top:"50%"},className:"jimu-small-loading"}))},t.defaultProps={zoom:1,aspect:4/3,maxZoom:10,minZoom:1,showGrid:!0,style:{},classes:{},zoomSpeed:1},t.getMousePoint=function(e){return{x:Number(e.clientX),y:Number(e.clientY)}},t.getTouchPoint=function(e){return{x:Number(e.clientX),y:Number(e.clientY)}},t}(a.React.Component);t.Cropper=c},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(2),a=n(58),s=n(74),u=function(e){function t(t){return e.call(this,t)||this}return r(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.showGrid,r=t.style,u=t.className;u||(u="");var l=r.width,c={display:"flex",alignItems:"center",justifyContent:"flex-end",minWidth:"75px",paddingBottom:"5px",left:"-1px",paddingTop:"5px",position:"absolute",top:"-40px",height:"40px",width:Math.min(this.props.screenWidth,l)+"px",boxShadow:"0 2px 8px 1px rgba(0,0,0,0.20)",backgroundColor:"#fff",borderRadius:"2px",cursor:"default"};this.props.widgetArea.top-40<0&&(c.top=this.props.widgetArea.height+"px");var p=o.React.createElement("div",{onMouseDown:function(e){e.stopPropagation()},style:c},o.React.createElement("div",{className:"tool-item mr-1",style:{float:"right",padding:"0.42rem 0.5rem"},onClick:function(){e.props.onConfirmCrop&&e.props.onConfirmCrop(e.props.svgViewBox,e.props.svgPath,e.props.cropShape)}},o.React.createElement(i.Icon,{icon:a,width:16,height:16,className:"mr-0"})),o.React.createElement("div",{className:"tool-item mr-1",style:{float:"right",padding:"0.42rem 0.5rem",marginLeft:"0.1rem"},onClick:function(){e.props.onCancelCrop&&e.props.onCancelCrop()}},o.React.createElement(i.Icon,{icon:s,width:13,height:13,className:"mr-0"})));return o.React.createElement("div",{style:r,className:o.classNames("cropperArea "+u,{gridLines:n})},o.React.createElement("svg",{width:"100%",height:"100%",viewBox:this.props.svgViewBox?this.props.svgViewBox:"0 0 28 28",preserveAspectRatio:"none"},o.React.createElement("defs",null,o.React.createElement("mask",{id:"mask-setting-"+this.props.widgetId,maskContentUnits:"userSpaceOnUse"},o.React.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",stroke:"none",fill:"rgb(255, 255, 255, 1)"}),o.React.createElement("svg",{width:"100%",height:"100%",viewBox:this.props.svgViewBox?this.props.svgViewBox:"0 0 28 28",preserveAspectRatio:"none"},o.React.createElement("g",null,o.React.createElement("path",{strokeWidth:"2",strokeDasharray:"10",strokeDashoffset:"0",fill:"#000",d:this.props.svgPath?this.props.svgPath:"m0,0l0,28l28,0l0,-28l-28,0z"}))))),o.React.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",className:"mask-image",style:{stroke:"none",fill:"rgb(0, 0, 0, 0.7)"}}),o.React.createElement("g",null,o.React.createElement("path",{stroke:"#fff",strokeWidth:".1",fill:"none",strokeDashoffset:"0",d:this.props.svgPath?this.props.svgPath:"m0,0l0,28l28,0l0,-28l-28,0z"}))),p)},t}(o.React.Component);t.CropArea=u},function(e,t,n){"use strict";var r=n(168);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AlphaPicker=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=u(n(0)),i=u(n(3)),a=n(5),s=u(n(289));function u(e){return e&&e.__esModule?e:{default:e}}var l=t.AlphaPicker=function(e){var t=e.rgb,n=e.hsl,s=e.width,u=e.height,l=e.onChange,c=e.direction,p=e.style,f=e.renderers,d=e.pointer,h=e.className,g=void 0===h?"":h,m=(0,i.default)({default:{picker:{position:"relative",width:s,height:u},alpha:{radius:"2px",style:p}}});return o.default.createElement("div",{style:m.picker,className:"alpha-picker "+g},o.default.createElement(a.Alpha,r({},m.alpha,{rgb:t,hsl:n,pointer:d,renderers:f,onChange:l,direction:c})))};l.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:s.default},t.default=(0,a.ColorWrap)(l)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.flattenNames=void 0;var r=s(n(171)),o=s(n(42)),i=s(n(182)),a=s(n(15));function s(e){return e&&e.__esModule?e:{default:e}}var u=t.flattenNames=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=[];return(0,a.default)(t,function(t){Array.isArray(t)?e(t).map(function(e){return n.push(e)}):(0,i.default)(t)?(0,o.default)(t,function(e,t){!0===e&&n.push(t),n.push(t+"-"+e)}):(0,r.default)(t)&&n.push(t)}),n};t.default=u},function(e,t,n){var r=n(17),o=n(9),i=n(12),a="[object String]";e.exports=function(e){return"string"==typeof e||!o(e)&&i(e)&&r(e)==a}},function(e,t,n){var r=n(21),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=i.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var o=a.call(e);return r&&(t?e[s]=n:delete e[s]),o}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t,n){var r=n(175)();e.exports=r},function(e,t){e.exports=function(e){return function(t,n,r){for(var o=-1,i=Object(t),a=r(t),s=a.length;s--;){var u=a[e?s:++o];if(!1===n(i[u],u,i))break}return t}}},function(e,t){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},function(e,t,n){var r=n(17),o=n(12),i="[object Arguments]";e.exports=function(e){return o(e)&&r(e)==i}},function(e,t){e.exports=function(){return!1}},function(e,t,n){var r=n(17),o=n(44),i=n(12),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return i(e)&&o(e.length)&&!!a[r(e)]}},function(e,t,n){var r=n(47),o=n(181),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=[];for(var n in Object(e))i.call(e,n)&&"constructor"!=n&&t.push(n);return t}},function(e,t,n){var r=n(82)(Object.keys,Object);e.exports=r},function(e,t,n){var r=n(17),o=n(48),i=n(12),a="[object Object]",s=Function.prototype,u=Object.prototype,l=s.toString,c=u.hasOwnProperty,p=l.call(Object);e.exports=function(e){if(!i(e)||r(e)!=a)return!1;var t=o(e);if(null===t)return!0;var n=c.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==p}},function(e,t,n){var r=n(184),o=n(228),i=n(85),a=n(9),s=n(238);e.exports=function(e){return"function"==typeof e?e:null==e?i:"object"==typeof e?a(e)?o(e[0],e[1]):r(e):s(e)}},function(e,t,n){var r=n(185),o=n(227),i=n(96);e.exports=function(e){var t=o(e);return 1==t.length&&t[0][2]?i(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},function(e,t,n){var r=n(49),o=n(88),i=1,a=2;e.exports=function(e,t,n,s){var u=n.length,l=u,c=!s;if(null==e)return!l;for(e=Object(e);u--;){var p=n[u];if(c&&p[2]?p[1]!==e[p[0]]:!(p[0]in e))return!1}for(;++u<l;){var f=(p=n[u])[0],d=e[f],h=p[1];if(c&&p[2]){if(void 0===d&&!(f in e))return!1}else{var g=new r;if(s)var m=s(d,h,f,e,t,g);if(!(void 0===m?o(h,d,i|a,s,g):m))return!1}}return!0}},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,n){var r=n(30),o=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0||(n==t.length-1?t.pop():o.call(t,n,1),--this.size,0))}},function(e,t,n){var r=n(30);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},function(e,t,n){var r=n(30);e.exports=function(e){return r(this.__data__,e)>-1}},function(e,t,n){var r=n(30);e.exports=function(e,t){var n=this.__data__,o=r(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}},function(e,t,n){var r=n(29);e.exports=function(){this.__data__=new r,this.size=0}},function(e,t){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},function(e,t){e.exports=function(e){return this.__data__.get(e)}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t,n){var r=n(29),o=n(51),i=n(52),a=200;e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var s=n.__data__;if(!o||s.length<a-1)return s.push([e,t]),this.size=++n.size,this;n=this.__data__=new i(s)}return n.set(e,t),this.size=n.size,this}},function(e,t,n){var r=n(83),o=n(197),i=n(13),a=n(87),s=/^\[object .+?Constructor\]$/,u=Function.prototype,l=Object.prototype,c=u.toString,p=l.hasOwnProperty,f=RegExp("^"+c.call(p).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!i(e)||o(e))&&(r(e)?f:s).test(a(e))}},function(e,t,n){var r=n(198),o=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!o&&o in e}},function(e,t,n){var r=n(10)["__core-js_shared__"];e.exports=r},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t,n){var r=n(201),o=n(29),i=n(51);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||o),string:new r}}},function(e,t,n){var r=n(202),o=n(203),i=n(204),a=n(205),s=n(206);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=o,u.prototype.get=i,u.prototype.has=a,u.prototype.set=s,e.exports=u},function(e,t,n){var r=n(31);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},function(e,t,n){var r=n(31),o="__lodash_hash_undefined__",i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return n===o?void 0:n}return i.call(t,e)?t[e]:void 0}},function(e,t,n){var r=n(31),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:o.call(t,e)}},function(e,t,n){var r=n(31),o="__lodash_hash_undefined__";e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?o:t,this}},function(e,t,n){var r=n(32);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},function(e,t,n){var r=n(32);e.exports=function(e){return r(this,e).get(e)}},function(e,t,n){var r=n(32);e.exports=function(e){return r(this,e).has(e)}},function(e,t,n){var r=n(32);e.exports=function(e,t){var n=r(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this}},function(e,t,n){var r=n(49),o=n(89),i=n(218),a=n(221),s=n(33),u=n(9),l=n(43),c=n(81),p=1,f="[object Arguments]",d="[object Array]",h="[object Object]",g=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,m,y,v){var b=u(e),x=u(t),w=b?d:s(e),_=x?d:s(t),O=(w=w==f?h:w)==h,C=(_=_==f?h:_)==h,E=w==_;if(E&&l(e)){if(!l(t))return!1;b=!0,O=!1}if(E&&!O)return v||(v=new r),b||c(e)?o(e,t,n,m,y,v):i(e,t,w,n,m,y,v);if(!(n&p)){var S=O&&g.call(e,"__wrapped__"),P=C&&g.call(t,"__wrapped__");if(S||P){var I=S?e.value():e,k=P?t.value():t;return v||(v=new r),y(I,k,n,m,v)}}return!!E&&(v||(v=new r),a(e,t,n,m,y,v))}},function(e,t,n){var r=n(52),o=n(214),i=n(215);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=o,a.prototype.has=i,e.exports=a},function(e,t){var n="__lodash_hash_undefined__";e.exports=function(e){return this.__data__.set(e,n),this}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},function(e,t){e.exports=function(e,t){return e.has(t)}},function(e,t,n){var r=n(21),o=n(90),i=n(50),a=n(89),s=n(219),u=n(220),l=1,c=2,p="[object Boolean]",f="[object Date]",d="[object Error]",h="[object Map]",g="[object Number]",m="[object RegExp]",y="[object Set]",v="[object String]",b="[object Symbol]",x="[object ArrayBuffer]",w="[object DataView]",_=r?r.prototype:void 0,O=_?_.valueOf:void 0;e.exports=function(e,t,n,r,_,C,E){switch(n){case w:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case x:return!(e.byteLength!=t.byteLength||!C(new o(e),new o(t)));case p:case f:case g:return i(+e,+t);case d:return e.name==t.name&&e.message==t.message;case m:case v:return e==t+"";case h:var S=s;case y:var P=r&l;if(S||(S=u),e.size!=t.size&&!P)return!1;var I=E.get(e);if(I)return I==t;r|=c,E.set(e,t);var k=a(S(e),S(t),r,_,C,E);return E.delete(e),k;case b:if(O)return O.call(e)==O.call(t)}return!1}},function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}},function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}},function(e,t,n){var r=n(91),o=1,i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,a,s,u){var l=n&o,c=r(e),p=c.length;if(p!=r(t).length&&!l)return!1;for(var f=p;f--;){var d=c[f];if(!(l?d in t:i.call(t,d)))return!1}var h=u.get(e);if(h&&u.get(t))return h==t;var g=!0;u.set(e,t),u.set(t,e);for(var m=l;++f<p;){var y=e[d=c[f]],v=t[d];if(a)var b=l?a(v,y,d,t,e,u):a(y,v,d,e,t,u);if(!(void 0===b?y===v||s(y,v,n,a,u):b)){g=!1;break}m||(m="constructor"==d)}if(g&&!m){var x=e.constructor,w=t.constructor;x!=w&&"constructor"in e&&"constructor"in t&&!("function"==typeof x&&x instanceof x&&"function"==typeof w&&w instanceof w)&&(g=!1)}return u.delete(e),u.delete(t),g}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}},function(e,t,n){var r=n(18)(n(10),"DataView");e.exports=r},function(e,t,n){var r=n(18)(n(10),"Promise");e.exports=r},function(e,t,n){var r=n(18)(n(10),"Set");e.exports=r},function(e,t,n){var r=n(18)(n(10),"WeakMap");e.exports=r},function(e,t,n){var r=n(95),o=n(22);e.exports=function(e){for(var t=o(e),n=t.length;n--;){var i=t[n],a=e[i];t[n]=[i,a,r(a)]}return t}},function(e,t,n){var r=n(88),o=n(229),i=n(235),a=n(54),s=n(95),u=n(96),l=n(35),c=1,p=2;e.exports=function(e,t){return a(e)&&s(t)?u(l(e),t):function(n){var a=o(n,e);return void 0===a&&a===t?i(n,e):r(t,a,c|p)}}},function(e,t,n){var r=n(97);e.exports=function(e,t,n){var o=null==e?void 0:r(e,t);return void 0===o?n:o}},function(e,t,n){var r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,i=n(231)(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(r,function(e,n,r,i){t.push(r?i.replace(o,"$1"):n||e)}),t});e.exports=i},function(e,t,n){var r=n(232),o=500;e.exports=function(e){var t=r(e,function(e){return n.size===o&&n.clear(),e}),n=t.cache;return t}},function(e,t,n){var r=n(52),o="Expected a function";function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(o);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(i.Cache||r),n}i.Cache=r,e.exports=i},function(e,t,n){var r=n(234);e.exports=function(e){return null==e?"":r(e)}},function(e,t,n){var r=n(21),o=n(86),i=n(9),a=n(34),s=1/0,u=r?r.prototype:void 0,l=u?u.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(i(t))return o(t,e)+"";if(a(t))return l?l.call(t):"";var n=t+"";return"0"==n&&1/t==-s?"-0":n}},function(e,t,n){var r=n(236),o=n(237);e.exports=function(e,t){return null!=e&&o(e,t,r)}},function(e,t){e.exports=function(e,t){return null!=e&&t in Object(e)}},function(e,t,n){var r=n(98),o=n(79),i=n(9),a=n(80),s=n(44),u=n(35);e.exports=function(e,t,n){for(var l=-1,c=(t=r(t,e)).length,p=!1;++l<c;){var f=u(t[l]);if(!(p=null!=e&&n(e,f)))break;e=e[f]}return p||++l!=c?p:!!(c=null==e?0:e.length)&&s(c)&&a(f,c)&&(i(e)||o(e))}},function(e,t,n){var r=n(239),o=n(240),i=n(54),a=n(35);e.exports=function(e){return i(e)?r(a(e)):o(e)}},function(e,t){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},function(e,t,n){var r=n(97);e.exports=function(e){return function(t){return r(t,e)}}},function(e,t,n){var r=n(99),o=n(28);e.exports=function(e,t){var n=-1,i=o(e)?Array(e.length):[];return r(e,function(e,r,o){i[++n]=t(e,r,o)}),i}},function(e,t,n){var r=n(28);e.exports=function(e,t){return function(n,o){if(null==n)return n;if(!r(n))return e(n,o);for(var i=n.length,a=t?i:-1,s=Object(n);(t?a--:++a<i)&&!1!==o(s[a],a,s););return n}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeClasses=void 0;var r=a(n(42)),o=a(n(244)),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function a(e){return e&&e.__esModule?e:{default:e}}var s=t.mergeClasses=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=e.default&&(0,o.default)(e.default)||{};return t.map(function(t){var o=e[t];return o&&(0,r.default)(o,function(e,t){n[t]||(n[t]={}),n[t]=i({},n[t],o[t])}),t}),n};t.default=s},function(e,t,n){var r=n(245),o=1,i=4;e.exports=function(e){return r(e,o|i)}},function(e,t,n){var r=n(49),o=n(100),i=n(101),a=n(247),s=n(248),u=n(251),l=n(252),c=n(253),p=n(254),f=n(91),d=n(255),h=n(33),g=n(256),m=n(257),y=n(262),v=n(9),b=n(43),x=n(264),w=n(13),_=n(266),O=n(22),C=1,E=2,S=4,P="[object Arguments]",I="[object Function]",k="[object GeneratorFunction]",j="[object Object]",T={};T[P]=T["[object Array]"]=T["[object ArrayBuffer]"]=T["[object DataView]"]=T["[object Boolean]"]=T["[object Date]"]=T["[object Float32Array]"]=T["[object Float64Array]"]=T["[object Int8Array]"]=T["[object Int16Array]"]=T["[object Int32Array]"]=T["[object Map]"]=T["[object Number]"]=T[j]=T["[object RegExp]"]=T["[object Set]"]=T["[object String]"]=T["[object Symbol]"]=T["[object Uint8Array]"]=T["[object Uint8ClampedArray]"]=T["[object Uint16Array]"]=T["[object Uint32Array]"]=!0,T["[object Error]"]=T[I]=T["[object WeakMap]"]=!1,e.exports=function e(t,n,A,N,R,M){var L,F=n&C,D=n&E,B=n&S;if(A&&(L=R?A(t,N,R,M):A(t)),void 0!==L)return L;if(!w(t))return t;var q=v(t);if(q){if(L=g(t),!F)return l(t,L)}else{var U=h(t),z=U==I||U==k;if(b(t))return u(t,F);if(U==j||U==P||z&&!R){if(L=D||z?{}:y(t),!F)return D?p(t,s(L,t)):c(t,a(L,t))}else{if(!T[U])return R?t:{};L=m(t,U,F)}}M||(M=new r);var H=M.get(t);if(H)return H;if(M.set(t,L),_(t))return t.forEach(function(r){L.add(e(r,n,A,r,t,M))}),L;if(x(t))return t.forEach(function(r,o){L.set(o,e(r,n,A,o,t,M))}),L;var W=B?D?d:f:D?keysIn:O,V=q?void 0:W(t);return o(V||t,function(r,o){V&&(r=t[o=r]),i(L,o,e(r,n,A,o,t,M))}),L}},function(e,t,n){var r=n(18),o=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=o},function(e,t,n){var r=n(36),o=n(22);e.exports=function(e,t){return e&&r(t,o(t),e)}},function(e,t,n){var r=n(36),o=n(103);e.exports=function(e,t){return e&&r(t,o(t),e)}},function(e,t,n){var r=n(13),o=n(47),i=n(250),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=o(e),n=[];for(var s in e)("constructor"!=s||!t&&a.call(e,s))&&n.push(s);return n}},function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},function(e,t,n){(function(e){var r=n(10),o=t&&!t.nodeType&&t,i=o&&"object"==typeof e&&e&&!e.nodeType&&e,a=i&&i.exports===o?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}}).call(this,n(27)(e))},function(e,t){e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},function(e,t,n){var r=n(36),o=n(53);e.exports=function(e,t){return r(e,o(e),t)}},function(e,t,n){var r=n(36),o=n(104);e.exports=function(e,t){return r(e,o(e),t)}},function(e,t,n){var r=n(92),o=n(104),i=n(103);e.exports=function(e){return r(e,i,o)}},function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&n.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},function(e,t,n){var r=n(55),o=n(258),i=n(259),a=n(260),s=n(261),u="[object Boolean]",l="[object Date]",c="[object Map]",p="[object Number]",f="[object RegExp]",d="[object Set]",h="[object String]",g="[object Symbol]",m="[object ArrayBuffer]",y="[object DataView]",v="[object Float32Array]",b="[object Float64Array]",x="[object Int8Array]",w="[object Int16Array]",_="[object Int32Array]",O="[object Uint8Array]",C="[object Uint8ClampedArray]",E="[object Uint16Array]",S="[object Uint32Array]";e.exports=function(e,t,n){var P=e.constructor;switch(t){case m:return r(e);case u:case l:return new P(+e);case y:return o(e,n);case v:case b:case x:case w:case _:case O:case C:case E:case S:return s(e,n);case c:return new P;case p:case h:return new P(e);case f:return i(e);case d:return new P;case g:return a(e)}}},function(e,t,n){var r=n(55);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},function(e,t){var n=/\w*$/;e.exports=function(e){var t=new e.constructor(e.source,n.exec(e));return t.lastIndex=e.lastIndex,t}},function(e,t,n){var r=n(21),o=r?r.prototype:void 0,i=o?o.valueOf:void 0;e.exports=function(e){return i?Object(i.call(e)):{}}},function(e,t,n){var r=n(55);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},function(e,t,n){var r=n(263),o=n(48),i=n(47);e.exports=function(e){return"function"!=typeof e.constructor||i(e)?{}:r(o(e))}},function(e,t,n){var r=n(13),o=Object.create,i=function(){function e(){}return function(t){if(!r(t))return{};if(o)return o(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=i},function(e,t,n){var r=n(265),o=n(45),i=n(46),a=i&&i.isMap,s=a?o(a):r;e.exports=s},function(e,t,n){var r=n(33),o=n(12),i="[object Map]";e.exports=function(e){return o(e)&&r(e)==i}},function(e,t,n){var r=n(267),o=n(45),i=n(46),a=i&&i.isSet,s=a?o(a):r;e.exports=s},function(e,t,n){var r=n(33),o=n(12),i="[object Set]";e.exports=function(e){return o(e)&&r(e)==i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.autoprefix=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(42)),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var i={borderRadius:function(e){return{msBorderRadius:e,MozBorderRadius:e,OBorderRadius:e,WebkitBorderRadius:e,borderRadius:e}},boxShadow:function(e){return{msBoxShadow:e,MozBoxShadow:e,OBoxShadow:e,WebkitBoxShadow:e,boxShadow:e}},userSelect:function(e){return{WebkitTouchCallout:e,KhtmlUserSelect:e,MozUserSelect:e,msUserSelect:e,WebkitUserSelect:e,userSelect:e}},flex:function(e){return{WebkitBoxFlex:e,MozBoxFlex:e,WebkitFlex:e,msFlex:e,flex:e}},flexBasis:function(e){return{WebkitFlexBasis:e,flexBasis:e}},justifyContent:function(e){return{WebkitJustifyContent:e,justifyContent:e}},transition:function(e){return{msTransition:e,MozTransition:e,OTransition:e,WebkitTransition:e,transition:e}},transform:function(e){return{msTransform:e,MozTransform:e,OTransform:e,WebkitTransform:e,transform:e}},absolute:function(e){var t=e&&e.split(" ");return{position:"absolute",top:t&&t[0],right:t&&t[1],bottom:t&&t[2],left:t&&t[3]}},extend:function(e,t){var n=t[e];return n||{extend:e}}},a=t.autoprefix=function(e){var t={};return(0,r.default)(e,function(e,n){var a={};(0,r.default)(e,function(e,t){var n=i[t];n?a=o({},a,n(e)):a[t]=e}),t[n]=a}),t};t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hover=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(e){return e&&e.__esModule?e:{default:e}}(n(0));function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var a=t.hover=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(n){function a(){var n,s,u;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);for(var l=arguments.length,c=Array(l),p=0;p<l;p++)c[p]=arguments[p];return s=u=i(this,(n=a.__proto__||Object.getPrototypeOf(a)).call.apply(n,[this].concat(c))),u.state={hover:!1},u.handleMouseOver=function(){return u.setState({hover:!0})},u.handleMouseOut=function(){return u.setState({hover:!1})},u.render=function(){return o.default.createElement(t,{onMouseOver:u.handleMouseOver,onMouseOut:u.handleMouseOut},o.default.createElement(e,r({},u.props,u.state)))},i(u,s)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,o.default.Component),a}()};t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.active=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(e){return e&&e.__esModule?e:{default:e}}(n(0));function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var a=t.active=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(n){function a(){var n,s,u;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);for(var l=arguments.length,c=Array(l),p=0;p<l;p++)c[p]=arguments[p];return s=u=i(this,(n=a.__proto__||Object.getPrototypeOf(a)).call.apply(n,[this].concat(c))),u.state={active:!1},u.handleMouseDown=function(){return u.setState({active:!0})},u.handleMouseUp=function(){return u.setState({active:!1})},u.render=function(){return o.default.createElement(t,{onMouseDown:u.handleMouseDown,onMouseUp:u.handleMouseUp},o.default.createElement(e,r({},u.props,u.state)))},i(u,s)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,o.default.Component),a}()};t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){var n={},r=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];n[e]=t};return 0===e&&r("first-child"),e===t-1&&r("last-child"),(0===e||e%2==0)&&r("even"),1===Math.abs(e%2)&&r("odd"),r("nth-child",e),n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Alpha=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),a=c(i),s=c(n(3)),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(273)),l=c(n(105));function c(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=t.Alpha=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=p(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.handleChange=function(e,t){var n=u.calculateChange(e,t,r.props,r.container);n&&r.props.onChange&&r.props.onChange(n,e)},r.handleMouseDown=function(e){r.handleChange(e,!0),window.addEventListener("mousemove",r.handleChange),window.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},r.unbindEventListeners=function(){window.removeEventListener("mousemove",r.handleChange),window.removeEventListener("mouseup",r.handleMouseUp)},p(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.PureComponent||i.Component),o(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var e=this,t=this.props.rgb,n=(0,s.default)({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+t.r+","+t.g+","+t.b+", 0) 0%,\n           rgba("+t.r+","+t.g+","+t.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:100*t.a+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+t.r+","+t.g+","+t.b+", 0) 0%,\n           rgba("+t.r+","+t.g+","+t.b+", 1) 100%)"},pointer:{left:0,top:100*t.a+"%"}},overwrite:r({},this.props.style)},{vertical:"vertical"===this.props.direction,overwrite:!0});return a.default.createElement("div",{style:n.alpha},a.default.createElement("div",{style:n.checkboard},a.default.createElement(l.default,{renderers:this.props.renderers})),a.default.createElement("div",{style:n.gradient}),a.default.createElement("div",{style:n.container,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},a.default.createElement("div",{style:n.pointer},this.props.pointer?a.default.createElement(this.props.pointer,this.props):a.default.createElement("div",{style:n.slider}))))}}]),t}();t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.calculateChange=function(e,t,n,r){e.preventDefault();var o=r.clientWidth,i=r.clientHeight,a="number"==typeof e.pageX?e.pageX:e.touches[0].pageX,s="number"==typeof e.pageY?e.pageY:e.touches[0].pageY,u=a-(r.getBoundingClientRect().left+window.pageXOffset),l=s-(r.getBoundingClientRect().top+window.pageYOffset);if("vertical"===n.direction){var c=void 0;if(c=l<0?0:l>i?1:Math.round(100*l/i)/100,n.hsl.a!==c)return{h:n.hsl.h,s:n.hsl.s,l:n.hsl.l,a:c,source:"rgb"}}else{var p=void 0;if(p=u<0?0:u>o?1:Math.round(100*u/o)/100,n.a!==p)return{h:n.hsl.h,s:n.hsl.s,l:n.hsl.l,a:p,source:"rgb"}}return null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={},o=t.render=function(e,t,n,r){if("undefined"==typeof document&&!r)return null;var o=r?new r:document.createElement("canvas");o.width=2*n,o.height=2*n;var i=o.getContext("2d");return i?(i.fillStyle=e,i.fillRect(0,0,o.width,o.height),i.fillStyle=t,i.fillRect(0,0,n,n),i.translate(n,n),i.fillRect(0,0,n,n),o.toDataURL()):null};t.get=function(e,t,n,i){var a=e+"-"+t+"-"+n+(i?"-server":""),s=o(e,t,n,i);return r[a]?r[a]:(r[a]=s,s)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EditableInput=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),i=s(o),a=s(n(3));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=t.EditableInput=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.handleBlur=function(){n.state.blurValue&&n.setState({value:n.state.blurValue,blurValue:null})},n.handleChange=function(e){n.props.label?n.props.onChange&&n.props.onChange(u({},n.props.label,e.target.value),e):n.props.onChange&&n.props.onChange(e.target.value,e),n.setState({value:e.target.value})},n.handleKeyDown=function(e){var t=String(e.target.value),r=t.indexOf("%")>-1,o=Number(t.replace(/%/g,""));if(!isNaN(o)){var i=n.props.arrowOffset||1;38===e.keyCode&&(null!==n.props.label?n.props.onChange&&n.props.onChange(u({},n.props.label,o+i),e):n.props.onChange&&n.props.onChange(o+i,e),r?n.setState({value:o+i+"%"}):n.setState({value:o+i})),40===e.keyCode&&(null!==n.props.label?n.props.onChange&&n.props.onChange(u({},n.props.label,o-i),e):n.props.onChange&&n.props.onChange(o-i,e),r?n.setState({value:o-i+"%"}):n.setState({value:o-i}))}},n.handleDrag=function(e){if(n.props.dragLabel){var t=Math.round(n.props.value+e.movementX);t>=0&&t<=n.props.dragMax&&n.props.onChange&&n.props.onChange(u({},n.props.label,t),e)}},n.handleMouseDown=function(e){n.props.dragLabel&&(e.preventDefault(),n.handleDrag(e),window.addEventListener("mousemove",n.handleDrag),window.addEventListener("mouseup",n.handleMouseUp))},n.handleMouseUp=function(){n.unbindEventListeners()},n.unbindEventListeners=function(){window.removeEventListener("mousemove",n.handleDrag),window.removeEventListener("mouseup",n.handleMouseUp)},n.state={value:String(e.value).toUpperCase(),blurValue:String(e.value).toUpperCase()},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent||o.Component),r(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.input;e.value!==this.state.value&&(t===document.activeElement?this.setState({blurValue:String(e.value).toUpperCase()}):this.setState({value:String(e.value).toUpperCase(),blurValue:!this.state.blurValue&&String(e.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var e=this,t=(0,a.default)({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return i.default.createElement("div",{style:t.wrap},i.default.createElement("input",{style:t.input,ref:function(t){return e.input=t},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?i.default.createElement("span",{style:t.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),t}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Hue=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),i=u(o),a=u(n(3)),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(277));function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=t.Hue=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.handleChange=function(e,t){var n=s.calculateChange(e,t,r.props,r.container);n&&r.props.onChange&&r.props.onChange(n,e)},r.handleMouseDown=function(e){r.handleChange(e,!0),window.addEventListener("mousemove",r.handleChange),window.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},l(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent||o.Component),r(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var e=this,t=this.props.direction,n=void 0===t?"horizontal":t,r=(0,a.default)({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:100*this.props.hsl.h/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-100*this.props.hsl.h/360+100+"%"}}},{vertical:"vertical"===n});return i.default.createElement("div",{style:r.hue},i.default.createElement("div",{className:"hue-"+n,style:r.container,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},i.default.createElement("style",null,"\n            .hue-horizontal {\n              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0\n                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to right, #f00 0%, #ff0\n                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n\n            .hue-vertical {\n              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,\n                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,\n                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n          "),i.default.createElement("div",{style:r.pointer},this.props.pointer?i.default.createElement(this.props.pointer,this.props):i.default.createElement("div",{style:r.slider}))))}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.calculateChange=function(e,t,n,r){e.preventDefault();var o=r.clientWidth,i=r.clientHeight,a="number"==typeof e.pageX?e.pageX:e.touches[0].pageX,s="number"==typeof e.pageY?e.pageY:e.touches[0].pageY,u=a-(r.getBoundingClientRect().left+window.pageXOffset),l=s-(r.getBoundingClientRect().top+window.pageYOffset);if("vertical"===n.direction){var c=void 0;if(l<0)c=359;else if(l>i)c=0;else{c=360*(-100*l/i+100)/100}if(n.hsl.h!==c)return{h:c,s:n.hsl.s,l:n.hsl.l,a:n.hsl.a,source:"rgb"}}else{var p=void 0;if(u<0)p=0;else if(u>o)p=359;else{p=360*(100*u/o)/100}if(n.hsl.h!==p)return{h:p,s:n.hsl.s,l:n.hsl.l,a:n.hsl.a,source:"rgb"}}return null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Raised=void 0;var r=a(n(0)),o=a(n(7)),i=a(n(3));function a(e){return e&&e.__esModule?e:{default:e}}var s=t.Raised=function(e){var t=e.zDepth,n=e.radius,o=e.background,a=e.children,s=(0,i.default)({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+t+"px "+4*t+"px rgba(0,0,0,.24)",borderRadius:n,background:o}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},{"zDepth-1":1===t});return r.default.createElement("div",{style:s.wrap},r.default.createElement("div",{style:s.bg}),r.default.createElement("div",{style:s.content},a))};s.propTypes={background:o.default.string,zDepth:o.default.oneOf([0,1,2,3,4,5]),radius:o.default.number},s.defaultProps={background:"#fff",zDepth:1,radius:2},t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Saturation=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),i=l(o),a=l(n(3)),s=l(n(280)),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(283));function l(e){return e&&e.__esModule?e:{default:e}}var c=t.Saturation=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleChange=function(e,t){n.props.onChange&&n.throttle(n.props.onChange,u.calculateChange(e,t,n.props,n.container),e)},n.handleMouseDown=function(e){n.handleChange(e,!0),window.addEventListener("mousemove",n.handleChange),window.addEventListener("mouseup",n.handleMouseUp)},n.handleMouseUp=function(){n.unbindEventListeners()},n.throttle=(0,s.default)(function(e,t,n){e(t,n)},50),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent||o.Component),r(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var e=this,t=this.props.style||{},n=t.color,r=t.white,o=t.black,s=t.pointer,u=t.circle,l=(0,a.default)({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-100*this.props.hsv.v+100+"%",left:100*this.props.hsv.s+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:"0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),\n            0 0 1px 2px rgba(0,0,0,.4)",borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:n,white:r,black:o,pointer:s,circle:u}},{custom:!!this.props.style});return i.default.createElement("div",{style:l.color,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},i.default.createElement("style",null,"\n          .saturation-white {\n            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));\n            background: linear-gradient(to right, #fff, rgba(255,255,255,0));\n          }\n          .saturation-black {\n            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));\n            background: linear-gradient(to top, #000, rgba(0,0,0,0));\n          }\n        "),i.default.createElement("div",{style:l.white,className:"saturation-white"},i.default.createElement("div",{style:l.black,className:"saturation-black"}),i.default.createElement("div",{style:l.pointer},this.props.pointer?i.default.createElement(this.props.pointer,this.props):i.default.createElement("div",{style:l.circle}))))}}]),t}();t.default=c},function(e,t,n){var r=n(106),o=n(13),i="Expected a function";e.exports=function(e,t,n){var a=!0,s=!0;if("function"!=typeof e)throw new TypeError(i);return o(n)&&(a="leading"in n?!!n.leading:a,s="trailing"in n?!!n.trailing:s),r(e,t,{leading:a,maxWait:t,trailing:s})}},function(e,t,n){var r=n(10);e.exports=function(){return r.Date.now()}},function(e,t,n){var r=n(13),o=n(34),i=NaN,a=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return i;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(a,"");var n=u.test(e);return n||l.test(e)?c(e.slice(2),n?2:8):s.test(e)?i:+e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.calculateChange=function(e,t,n,r){e.preventDefault();var o=r.getBoundingClientRect(),i=o.width,a=o.height,s="number"==typeof e.pageX?e.pageX:e.touches[0].pageX,u="number"==typeof e.pageY?e.pageY:e.touches[0].pageY,l=s-(r.getBoundingClientRect().left+window.pageXOffset),c=u-(r.getBoundingClientRect().top+window.pageYOffset);l<0?l=0:l>i?l=i:c<0?c=0:c>a&&(c=a);var p=100*l/i,f=-100*c/a+100;return{h:n.hsl.h,s:p,v:f,a:n.hsl.a,source:"rgb"}}},function(e,t,n){e.exports=n(285)},function(e,t,n){var r=n(100),o=n(99),i=n(84),a=n(9);e.exports=function(e,t){return(a(e)?r:o)(e,i(t))}},function(e,t,n){var r;!function(o){var i=/^\s+/,a=/\s+$/,s=0,u=o.round,l=o.min,c=o.max,p=o.random;function f(e,t){if(e=e||"",t=t||{},e instanceof f)return e;if(!(this instanceof f))return new f(e,t);var n=function(e){var t={r:0,g:0,b:0},n=1,r=null,s=null,u=null,p=!1,f=!1;"string"==typeof e&&(e=function(e){e=e.replace(i,"").replace(a,"").toLowerCase();var t,n=!1;if(j[e])e=j[e],n=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};if(t=q.rgb.exec(e))return{r:t[1],g:t[2],b:t[3]};if(t=q.rgba.exec(e))return{r:t[1],g:t[2],b:t[3],a:t[4]};if(t=q.hsl.exec(e))return{h:t[1],s:t[2],l:t[3]};if(t=q.hsla.exec(e))return{h:t[1],s:t[2],l:t[3],a:t[4]};if(t=q.hsv.exec(e))return{h:t[1],s:t[2],v:t[3]};if(t=q.hsva.exec(e))return{h:t[1],s:t[2],v:t[3],a:t[4]};if(t=q.hex8.exec(e))return{r:M(t[1]),g:M(t[2]),b:M(t[3]),a:B(t[4]),format:n?"name":"hex8"};if(t=q.hex6.exec(e))return{r:M(t[1]),g:M(t[2]),b:M(t[3]),format:n?"name":"hex"};if(t=q.hex4.exec(e))return{r:M(t[1]+""+t[1]),g:M(t[2]+""+t[2]),b:M(t[3]+""+t[3]),a:B(t[4]+""+t[4]),format:n?"name":"hex8"};if(t=q.hex3.exec(e))return{r:M(t[1]+""+t[1]),g:M(t[2]+""+t[2]),b:M(t[3]+""+t[3]),format:n?"name":"hex"};return!1}(e));"object"==typeof e&&(U(e.r)&&U(e.g)&&U(e.b)?(t=function(e,t,n){return{r:255*N(e,255),g:255*N(t,255),b:255*N(n,255)}}(e.r,e.g,e.b),p=!0,f="%"===String(e.r).substr(-1)?"prgb":"rgb"):U(e.h)&&U(e.s)&&U(e.v)?(r=F(e.s),s=F(e.v),t=function(e,t,n){e=6*N(e,360),t=N(t,100),n=N(n,100);var r=o.floor(e),i=e-r,a=n*(1-t),s=n*(1-i*t),u=n*(1-(1-i)*t),l=r%6;return{r:255*[n,s,a,a,u,n][l],g:255*[u,n,n,s,a,a][l],b:255*[a,a,u,n,n,s][l]}}(e.h,r,s),p=!0,f="hsv"):U(e.h)&&U(e.s)&&U(e.l)&&(r=F(e.s),u=F(e.l),t=function(e,t,n){var r,o,i;function a(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(e=N(e,360),t=N(t,100),n=N(n,100),0===t)r=o=i=n;else{var s=n<.5?n*(1+t):n+t-n*t,u=2*n-s;r=a(u,s,e+1/3),o=a(u,s,e),i=a(u,s,e-1/3)}return{r:255*r,g:255*o,b:255*i}}(e.h,r,u),p=!0,f="hsl"),e.hasOwnProperty("a")&&(n=e.a));return n=A(n),{ok:p,format:e.format||f,r:l(255,c(t.r,0)),g:l(255,c(t.g,0)),b:l(255,c(t.b,0)),a:n}}(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=u(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=u(this._r)),this._g<1&&(this._g=u(this._g)),this._b<1&&(this._b=u(this._b)),this._ok=n.ok,this._tc_id=s++}function d(e,t,n){e=N(e,255),t=N(t,255),n=N(n,255);var r,o,i=c(e,t,n),a=l(e,t,n),s=(i+a)/2;if(i==a)r=o=0;else{var u=i-a;switch(o=s>.5?u/(2-i-a):u/(i+a),i){case e:r=(t-n)/u+(t<n?6:0);break;case t:r=(n-e)/u+2;break;case n:r=(e-t)/u+4}r/=6}return{h:r,s:o,l:s}}function h(e,t,n){e=N(e,255),t=N(t,255),n=N(n,255);var r,o,i=c(e,t,n),a=l(e,t,n),s=i,u=i-a;if(o=0===i?0:u/i,i==a)r=0;else{switch(i){case e:r=(t-n)/u+(t<n?6:0);break;case t:r=(n-e)/u+2;break;case n:r=(e-t)/u+4}r/=6}return{h:r,s:o,v:s}}function g(e,t,n,r){var o=[L(u(e).toString(16)),L(u(t).toString(16)),L(u(n).toString(16))];return r&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}function m(e,t,n,r){return[L(D(r)),L(u(e).toString(16)),L(u(t).toString(16)),L(u(n).toString(16))].join("")}function y(e,t){t=0===t?0:t||10;var n=f(e).toHsl();return n.s-=t/100,n.s=R(n.s),f(n)}function v(e,t){t=0===t?0:t||10;var n=f(e).toHsl();return n.s+=t/100,n.s=R(n.s),f(n)}function b(e){return f(e).desaturate(100)}function x(e,t){t=0===t?0:t||10;var n=f(e).toHsl();return n.l+=t/100,n.l=R(n.l),f(n)}function w(e,t){t=0===t?0:t||10;var n=f(e).toRgb();return n.r=c(0,l(255,n.r-u(-t/100*255))),n.g=c(0,l(255,n.g-u(-t/100*255))),n.b=c(0,l(255,n.b-u(-t/100*255))),f(n)}function _(e,t){t=0===t?0:t||10;var n=f(e).toHsl();return n.l-=t/100,n.l=R(n.l),f(n)}function O(e,t){var n=f(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,f(n)}function C(e){var t=f(e).toHsl();return t.h=(t.h+180)%360,f(t)}function E(e){var t=f(e).toHsl(),n=t.h;return[f(e),f({h:(n+120)%360,s:t.s,l:t.l}),f({h:(n+240)%360,s:t.s,l:t.l})]}function S(e){var t=f(e).toHsl(),n=t.h;return[f(e),f({h:(n+90)%360,s:t.s,l:t.l}),f({h:(n+180)%360,s:t.s,l:t.l}),f({h:(n+270)%360,s:t.s,l:t.l})]}function P(e){var t=f(e).toHsl(),n=t.h;return[f(e),f({h:(n+72)%360,s:t.s,l:t.l}),f({h:(n+216)%360,s:t.s,l:t.l})]}function I(e,t,n){t=t||6,n=n||30;var r=f(e).toHsl(),o=360/n,i=[f(e)];for(r.h=(r.h-(o*t>>1)+720)%360;--t;)r.h=(r.h+o)%360,i.push(f(r));return i}function k(e,t){t=t||6;for(var n=f(e).toHsv(),r=n.h,o=n.s,i=n.v,a=[],s=1/t;t--;)a.push(f({h:r,s:o,v:i})),i=(i+s)%1;return a}f.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,n,r=this.toRgb();return e=r.r/255,t=r.g/255,n=r.b/255,.2126*(e<=.03928?e/12.92:o.pow((e+.055)/1.055,2.4))+.7152*(t<=.03928?t/12.92:o.pow((t+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:o.pow((n+.055)/1.055,2.4))},setAlpha:function(e){return this._a=A(e),this._roundA=u(100*this._a)/100,this},toHsv:function(){var e=h(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=h(this._r,this._g,this._b),t=u(360*e.h),n=u(100*e.s),r=u(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+r+"%)":"hsva("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var e=d(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=d(this._r,this._g,this._b),t=u(360*e.h),n=u(100*e.s),r=u(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+r+"%)":"hsla("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(e){return g(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return function(e,t,n,r,o){var i=[L(u(e).toString(16)),L(u(t).toString(16)),L(u(n).toString(16)),L(D(r))];if(o&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)&&i[3].charAt(0)==i[3].charAt(1))return i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0)+i[3].charAt(0);return i.join("")}(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:u(this._r),g:u(this._g),b:u(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+u(this._r)+", "+u(this._g)+", "+u(this._b)+")":"rgba("+u(this._r)+", "+u(this._g)+", "+u(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:u(100*N(this._r,255))+"%",g:u(100*N(this._g,255))+"%",b:u(100*N(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+u(100*N(this._r,255))+"%, "+u(100*N(this._g,255))+"%, "+u(100*N(this._b,255))+"%)":"rgba("+u(100*N(this._r,255))+"%, "+u(100*N(this._g,255))+"%, "+u(100*N(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(T[g(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+m(this._r,this._g,this._b,this._a),n=t,r=this._gradientType?"GradientType = 1, ":"";if(e){var o=f(e);n="#"+m(o._r,o._g,o._b,o._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,r=this._a<1&&this._a>=0;return t||!r||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return f(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(x,arguments)},brighten:function(){return this._applyModification(w,arguments)},darken:function(){return this._applyModification(_,arguments)},desaturate:function(){return this._applyModification(y,arguments)},saturate:function(){return this._applyModification(v,arguments)},greyscale:function(){return this._applyModification(b,arguments)},spin:function(){return this._applyModification(O,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(I,arguments)},complement:function(){return this._applyCombination(C,arguments)},monochromatic:function(){return this._applyCombination(k,arguments)},splitcomplement:function(){return this._applyCombination(P,arguments)},triad:function(){return this._applyCombination(E,arguments)},tetrad:function(){return this._applyCombination(S,arguments)}},f.fromRatio=function(e,t){if("object"==typeof e){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]="a"===r?e[r]:F(e[r]));e=n}return f(e,t)},f.equals=function(e,t){return!(!e||!t)&&f(e).toRgbString()==f(t).toRgbString()},f.random=function(){return f.fromRatio({r:p(),g:p(),b:p()})},f.mix=function(e,t,n){n=0===n?0:n||50;var r=f(e).toRgb(),o=f(t).toRgb(),i=n/100;return f({r:(o.r-r.r)*i+r.r,g:(o.g-r.g)*i+r.g,b:(o.b-r.b)*i+r.b,a:(o.a-r.a)*i+r.a})},f.readability=function(e,t){var n=f(e),r=f(t);return(o.max(n.getLuminance(),r.getLuminance())+.05)/(o.min(n.getLuminance(),r.getLuminance())+.05)},f.isReadable=function(e,t,n){var r,o,i=f.readability(e,t);switch(o=!1,(r=function(e){var t,n;t=((e=e||{level:"AA",size:"small"}).level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),"AA"!==t&&"AAA"!==t&&(t="AA");"small"!==n&&"large"!==n&&(n="small");return{level:t,size:n}}(n)).level+r.size){case"AAsmall":case"AAAlarge":o=i>=4.5;break;case"AAlarge":o=i>=3;break;case"AAAsmall":o=i>=7}return o},f.mostReadable=function(e,t,n){var r,o,i,a,s=null,u=0;o=(n=n||{}).includeFallbackColors,i=n.level,a=n.size;for(var l=0;l<t.length;l++)(r=f.readability(e,t[l]))>u&&(u=r,s=f(t[l]));return f.isReadable(e,s,{level:i,size:a})||!o?s:(n.includeFallbackColors=!1,f.mostReadable(e,["#fff","#000"],n))};var j=f.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},T=f.hexNames=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}(j);function A(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function N(e,t){(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"==typeof e&&-1!=e.indexOf("%")}(e);return e=l(t,c(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),o.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function R(e){return l(1,c(0,e))}function M(e){return parseInt(e,16)}function L(e){return 1==e.length?"0"+e:""+e}function F(e){return e<=1&&(e=100*e+"%"),e}function D(e){return o.round(255*parseFloat(e)).toString(16)}function B(e){return M(e)/255}var q=function(){var e="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",t="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?",n="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?";return{CSS_UNIT:new RegExp(e),rgb:new RegExp("rgb"+t),rgba:new RegExp("rgba"+n),hsl:new RegExp("hsl"+t),hsla:new RegExp("hsla"+n),hsv:new RegExp("hsv"+t),hsva:new RegExp("hsva"+n),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function U(e){return!!q.CSS_UNIT.exec(e)}e.exports?e.exports=f:void 0===(r=function(){return f}.call(t,n,t,e))||(e.exports=r)}(Math)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Swatch=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=u(n(0)),i=u(n(3)),a=n(288),s=n(5);function u(e){return e&&e.__esModule?e:{default:e}}var l=t.Swatch=function(e){var t=e.color,n=e.style,a=e.onClick,u=void 0===a?function(){}:a,l=e.onHover,c=e.title,p=void 0===c?t:c,f=e.children,d=e.focus,h=e.focusStyle,g=void 0===h?{}:h,m="transparent"===t,y=(0,i.default)({default:{swatch:r({background:t,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},n,d?g:{})}}),v={};return l&&(v.onMouseOver=function(e){return l(t,e)}),o.default.createElement("div",r({style:y.swatch,onClick:function(e){return u(t,e)},title:p,tabIndex:0,onKeyDown:function(e){return 13===e.keyCode&&u(t,e)}},v),f,m&&o.default.createElement(s.Checkboard,{borderRadius:y.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))};t.default=(0,a.handleFocus)(l)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleFocus=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(n(0));function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}t.handleFocus=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(n){function s(){var e,t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return t=n=a(this,(e=s.__proto__||Object.getPrototypeOf(s)).call.apply(e,[this].concat(o))),n.state={focus:!1},n.handleFocus=function(){return n.setState({focus:!0})},n.handleBlur=function(){return n.setState({focus:!1})},a(n,t)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(s,i.default.Component),o(s,[{key:"render",value:function(){return i.default.createElement(t,{onFocus:this.handleFocus,onBlur:this.handleBlur},i.default.createElement(e,r({},this.props,this.state)))}}]),s}()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AlphaPointer=void 0;var r=i(n(0)),o=i(n(3));function i(e){return e&&e.__esModule?e:{default:e}}var a=t.AlphaPointer=function(e){var t=e.direction,n=(0,o.default)({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:"vertical"===t});return r.default.createElement("div",{style:n.picker})};t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Block=void 0;var r=l(n(0)),o=l(n(7)),i=l(n(3)),a=l(n(11)),s=n(5),u=l(n(291));function l(e){return e&&e.__esModule?e:{default:e}}var c=t.Block=function(e){var t=e.onChange,n=e.onSwatchHover,o=e.hex,l=e.colors,c=e.width,p=e.triangle,f=e.className,d=void 0===f?"":f,h="transparent"===o,g=function(e,n){a.default.isValidHex(e)&&t({hex:e,source:"hex"},n)},m=(0,i.default)({default:{card:{width:c,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:o,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:a.default.getContrastingColor(o),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+o+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},{"hide-triangle":"hide"===p});return r.default.createElement("div",{style:m.card,className:"block-picker "+d},r.default.createElement("div",{style:m.triangle}),r.default.createElement("div",{style:m.head},h&&r.default.createElement(s.Checkboard,{borderRadius:"6px 6px 0 0"}),r.default.createElement("div",{style:m.label},o)),r.default.createElement("div",{style:m.body},r.default.createElement(u.default,{colors:l,onClick:g,onSwatchHover:n}),r.default.createElement(s.EditableInput,{style:{input:m.input},value:o,onChange:g})))};c.propTypes={width:o.default.oneOfType([o.default.string,o.default.number]),colors:o.default.arrayOf(o.default.string),triangle:o.default.oneOf(["top","hide"])},c.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top"},t.default=(0,s.ColorWrap)(c)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BlockSwatches=void 0;var r=s(n(0)),o=s(n(3)),i=s(n(15)),a=n(5);function s(e){return e&&e.__esModule?e:{default:e}}var u=t.BlockSwatches=function(e){var t=e.colors,n=e.onClick,s=e.onSwatchHover,u=(0,o.default)({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return r.default.createElement("div",{style:u.swatches},(0,i.default)(t,function(e){return r.default.createElement(a.Swatch,{key:e,color:e,style:u.swatch,onClick:n,onHover:s,focusStyle:{boxShadow:"0 0 4px "+e}})}),r.default.createElement("div",{style:u.clear}))};t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Circle=void 0;var r=c(n(0)),o=c(n(7)),i=c(n(3)),a=c(n(15)),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(108)),u=n(5),l=c(n(293));function c(e){return e&&e.__esModule?e:{default:e}}var p=t.Circle=function(e){var t=e.width,n=e.onChange,o=e.onSwatchHover,s=e.colors,u=e.hex,c=e.circleSize,p=e.circleSpacing,f=e.className,d=void 0===f?"":f,h=(0,i.default)({default:{card:{width:t,display:"flex",flexWrap:"wrap",marginRight:-p,marginBottom:-p}}}),g=function(e,t){return n({hex:e,source:"hex"},t)};return r.default.createElement("div",{style:h.card,className:"circle-picker "+d},(0,a.default)(s,function(e){return r.default.createElement(l.default,{key:e,color:e,onClick:g,onSwatchHover:o,active:u===e.toLowerCase(),circleSize:c,circleSpacing:p})}))};p.propTypes={width:o.default.oneOfType([o.default.string,o.default.number]),circleSize:o.default.number,circleSpacing:o.default.number},p.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[s.red[500],s.pink[500],s.purple[500],s.deepPurple[500],s.indigo[500],s.blue[500],s.lightBlue[500],s.cyan[500],s.teal[500],s.green[500],s.lightGreen[500],s.lime[500],s.yellow[500],s.amber[500],s.orange[500],s.deepOrange[500],s.brown[500],s.blueGrey[500]]},t.default=(0,u.ColorWrap)(p)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CircleSwatch=void 0;var r=s(n(0)),o=n(3),i=s(o),a=n(5);function s(e){return e&&e.__esModule?e:{default:e}}var u=t.CircleSwatch=function(e){var t=e.color,n=e.onClick,o=e.onSwatchHover,s=e.hover,u=e.active,l=e.circleSize,c=e.circleSpacing,p=(0,i.default)({default:{swatch:{width:l,height:l,marginRight:c,marginBottom:c,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+l/2+"px "+t,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+t}}},{hover:s,active:u});return r.default.createElement("div",{style:p.swatch},r.default.createElement(a.Swatch,{style:p.Swatch,color:t,onClick:n,onHover:o,focusStyle:{boxShadow:p.Swatch.boxShadow+", 0 0 5px "+t}}))};u.defaultProps={circleSize:28,circleSpacing:14},t.default=(0,o.handleHover)(u)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Chrome=void 0;var r=c(n(0)),o=c(n(7)),i=c(n(3)),a=n(5),s=c(n(295)),u=c(n(296)),l=c(n(297));function c(e){return e&&e.__esModule?e:{default:e}}var p=t.Chrome=function(e){var t=e.onChange,n=e.disableAlpha,o=e.rgb,c=e.hsl,p=e.hsv,f=e.hex,d=e.renderers,h=e.className,g=void 0===h?"":h,m=(0,i.default)({default:{picker:{background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",width:"225px",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+o.r+", "+o.g+", "+o.b+", "+o.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},{disableAlpha:n});return r.default.createElement("div",{style:m.picker,className:"chrome-picker "+g},r.default.createElement("div",{style:m.saturation},r.default.createElement(a.Saturation,{style:m.Saturation,hsl:c,hsv:p,pointer:l.default,onChange:t})),r.default.createElement("div",{style:m.body},r.default.createElement("div",{style:m.controls,className:"flexbox-fix"},r.default.createElement("div",{style:m.color},r.default.createElement("div",{style:m.swatch},r.default.createElement("div",{style:m.active}),r.default.createElement(a.Checkboard,{renderers:d}))),r.default.createElement("div",{style:m.toggles},r.default.createElement("div",{style:m.hue},r.default.createElement(a.Hue,{style:m.Hue,hsl:c,pointer:u.default,onChange:t})),r.default.createElement("div",{style:m.alpha},r.default.createElement(a.Alpha,{style:m.Alpha,rgb:o,hsl:c,pointer:u.default,renderers:d,onChange:t})))),r.default.createElement(s.default,{rgb:o,hsl:c,hex:f,onChange:t,disableAlpha:n})))};p.propTypes={disableAlpha:o.default.bool},p.defaultProps={disableAlpha:!1},t.default=(0,a.ColorWrap)(p)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChromeFields=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=u(n(0)),i=u(n(3)),a=u(n(11)),s=n(5);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=t.ChromeFields=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=r=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.state={view:""},r.toggleViews=function(){"hex"===r.state.view?r.setState({view:"rgb"}):"rgb"===r.state.view?r.setState({view:"hsl"}):"hsl"===r.state.view&&(1===r.props.hsl.a?r.setState({view:"hex"}):r.setState({view:"rgb"}))},r.handleChange=function(e,t){e.hex?a.default.isValidHex(e.hex)&&r.props.onChange({hex:e.hex,source:"hex"},t):e.r||e.g||e.b?r.props.onChange({r:e.r||r.props.rgb.r,g:e.g||r.props.rgb.g,b:e.b||r.props.rgb.b,source:"rgb"},t):e.a?(e.a<0?e.a=0:e.a>1&&(e.a=1),r.props.onChange({h:r.props.hsl.h,s:r.props.hsl.s,l:r.props.hsl.l,a:Math.round(100*e.a)/100,source:"rgb"},t)):(e.h||e.s||e.l)&&r.props.onChange({h:e.h||r.props.hsl.h,s:Number(e.s&&e.s||r.props.hsl.s),l:Number(e.l&&e.l||r.props.hsl.l),source:"hsl"},t)},r.showHighlight=function(e){e.target.style.background="#eee"},r.hideHighlight=function(e){e.target.style.background="transparent"},l(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),r(t,[{key:"componentDidMount",value:function(){1===this.props.hsl.a&&"hex"!==this.state.view?this.setState({view:"hex"}):"rgb"!==this.state.view&&"hsl"!==this.state.view&&this.setState({view:"rgb"})}},{key:"componentWillReceiveProps",value:function(e){1!==e.hsl.a&&"hex"===this.state.view&&this.setState({view:"rgb"})}},{key:"render",value:function(){var e=this,t=(0,i.default)({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),n=void 0;return"hex"===this.state.view?n=o.default.createElement("div",{style:t.fields,className:"flexbox-fix"},o.default.createElement("div",{style:t.field},o.default.createElement(s.EditableInput,{style:{input:t.input,label:t.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):"rgb"===this.state.view?n=o.default.createElement("div",{style:t.fields,className:"flexbox-fix"},o.default.createElement("div",{style:t.field},o.default.createElement(s.EditableInput,{style:{input:t.input,label:t.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),o.default.createElement("div",{style:t.field},o.default.createElement(s.EditableInput,{style:{input:t.input,label:t.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),o.default.createElement("div",{style:t.field},o.default.createElement(s.EditableInput,{style:{input:t.input,label:t.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),o.default.createElement("div",{style:t.alpha},o.default.createElement(s.EditableInput,{style:{input:t.input,label:t.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):"hsl"===this.state.view&&(n=o.default.createElement("div",{style:t.fields,className:"flexbox-fix"},o.default.createElement("div",{style:t.field},o.default.createElement(s.EditableInput,{style:{input:t.input,label:t.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),o.default.createElement("div",{style:t.field},o.default.createElement(s.EditableInput,{style:{input:t.input,label:t.label},label:"s",value:Math.round(100*this.props.hsl.s)+"%",onChange:this.handleChange})),o.default.createElement("div",{style:t.field},o.default.createElement(s.EditableInput,{style:{input:t.input,label:t.label},label:"l",value:Math.round(100*this.props.hsl.l)+"%",onChange:this.handleChange})),o.default.createElement("div",{style:t.alpha},o.default.createElement(s.EditableInput,{style:{input:t.input,label:t.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),o.default.createElement("div",{style:t.wrap,className:"flexbox-fix"},n,o.default.createElement("div",{style:t.toggle},o.default.createElement("div",{style:t.icon,onClick:this.toggleViews,ref:function(t){return e.icon=t}},o.default.createElement("svg",{style:t.svg,viewBox:"0 0 24 24",onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight},o.default.createElement("path",{ref:function(t){return e.iconUp=t},fill:"#333",d:"M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}),o.default.createElement("path",{ref:function(t){return e.iconDown=t},fill:"#333",d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15Z"})))))}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChromePointer=void 0;var r=i(n(0)),o=i(n(3));function i(e){return e&&e.__esModule?e:{default:e}}var a=t.ChromePointer=function(){var e=(0,o.default)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return r.default.createElement("div",{style:e.picker})};t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChromePointerCircle=void 0;var r=i(n(0)),o=i(n(3));function i(e){return e&&e.__esModule?e:{default:e}}var a=t.ChromePointerCircle=function(){var e=(0,o.default)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return r.default.createElement("div",{style:e.picker})};t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Compact=void 0;var r=p(n(0)),o=p(n(7)),i=p(n(3)),a=p(n(15)),s=p(n(11)),u=n(5),l=p(n(299)),c=p(n(300));function p(e){return e&&e.__esModule?e:{default:e}}var f=t.Compact=function(e){var t=e.onChange,n=e.onSwatchHover,o=e.colors,p=e.hex,f=e.rgb,d=e.className,h=void 0===d?"":d,g=(0,i.default)({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}}),m=function(e,n){e.hex?s.default.isValidHex(e.hex)&&t({hex:e.hex,source:"hex"},n):t(e,n)};return r.default.createElement(u.Raised,{style:g.Compact},r.default.createElement("div",{style:g.compact,className:"compact-picker "+h},r.default.createElement("div",null,(0,a.default)(o,function(e){return r.default.createElement(l.default,{key:e,color:e,active:e.toLowerCase()===p,onClick:m,onSwatchHover:n})}),r.default.createElement("div",{style:g.clear})),r.default.createElement(c.default,{hex:p,rgb:f,onChange:m})))};f.propTypes={colors:o.default.arrayOf(o.default.string)},f.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"]},t.default=(0,u.ColorWrap)(f)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CompactColor=void 0;var r=s(n(0)),o=s(n(3)),i=s(n(11)),a=n(5);function s(e){return e&&e.__esModule?e:{default:e}}var u=t.CompactColor=function(e){var t=e.color,n=e.onClick,s=void 0===n?function(){}:n,u=e.onSwatchHover,l=e.active,c=(0,o.default)({default:{color:{background:t,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:i.default.getContrastingColor(t),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:l,"color-#FFFFFF":"#FFFFFF"===t,transparent:"transparent"===t});return r.default.createElement(a.Swatch,{style:c.color,color:t,onClick:s,onHover:u,focusStyle:{boxShadow:"0 0 4px "+t}},r.default.createElement("div",{style:c.dot}))};t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CompactFields=void 0;var r=a(n(0)),o=a(n(3)),i=n(5);function a(e){return e&&e.__esModule?e:{default:e}}var s=t.CompactFields=function(e){var t=e.hex,n=e.rgb,a=e.onChange,s=(0,o.default)({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:t},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),u=function(e,t){e.r||e.g||e.b?a({r:e.r||n.r,g:e.g||n.g,b:e.b||n.b,source:"rgb"},t):a({hex:e.hex,source:"hex"},t)};return r.default.createElement("div",{style:s.fields,className:"flexbox-fix"},r.default.createElement("div",{style:s.active}),r.default.createElement(i.EditableInput,{style:{wrap:s.HEXwrap,input:s.HEXinput,label:s.HEXlabel},label:"hex",value:t,onChange:u}),r.default.createElement(i.EditableInput,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"r",value:n.r,onChange:u}),r.default.createElement(i.EditableInput,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"g",value:n.g,onChange:u}),r.default.createElement(i.EditableInput,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"b",value:n.b,onChange:u}))};t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Github=void 0;var r=l(n(0)),o=l(n(7)),i=l(n(3)),a=l(n(15)),s=n(5),u=l(n(302));function l(e){return e&&e.__esModule?e:{default:e}}var c=t.Github=function(e){var t=e.width,n=e.colors,o=e.onChange,s=e.onSwatchHover,l=e.triangle,c=e.className,p=void 0===c?"":c,f=(0,i.default)({default:{card:{width:t,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},{"hide-triangle":"hide"===l,"top-left-triangle":"top-left"===l,"top-right-triangle":"top-right"===l,"bottom-left-triangle":"bottom-left"==l,"bottom-right-triangle":"bottom-right"===l}),d=function(e,t){return o({hex:e,source:"hex"},t)};return r.default.createElement("div",{style:f.card,className:"github-picker "+p},r.default.createElement("div",{style:f.triangleShadow}),r.default.createElement("div",{style:f.triangle}),(0,a.default)(n,function(e){return r.default.createElement(u.default,{color:e,key:e,onClick:d,onSwatchHover:s})}))};c.propTypes={width:o.default.oneOfType([o.default.string,o.default.number]),colors:o.default.arrayOf(o.default.string),triangle:o.default.oneOf(["hide","top-left","top-right","bottom-left","bottom-right"])},c.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left"},t.default=(0,s.ColorWrap)(c)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GithubSwatch=void 0;var r=s(n(0)),o=n(3),i=s(o),a=n(5);function s(e){return e&&e.__esModule?e:{default:e}}var u=t.GithubSwatch=function(e){var t=e.hover,n=e.color,o=e.onClick,s=e.onSwatchHover,u={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},l=(0,i.default)({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:u}},{hover:t});return r.default.createElement("div",{style:l.swatch},r.default.createElement(a.Swatch,{color:n,onClick:o,onHover:s,focusStyle:u}))};t.default=(0,o.handleHover)(u)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HuePicker=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=u(n(0)),i=u(n(3)),a=n(5),s=u(n(304));function u(e){return e&&e.__esModule?e:{default:e}}var l=t.HuePicker=function(e){var t=e.width,n=e.height,s=e.onChange,u=e.hsl,l=e.direction,c=e.pointer,p=e.className,f=void 0===p?"":p,d=(0,i.default)({default:{picker:{position:"relative",width:t,height:n},hue:{radius:"2px"}}});return o.default.createElement("div",{style:d.picker,className:"hue-picker "+f},o.default.createElement(a.Hue,r({},d.hue,{hsl:u,pointer:c,onChange:function(e){return s({a:1,h:e.h,l:.5,s:1})},direction:l})))};l.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:s.default},t.default=(0,a.ColorWrap)(l)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SliderPointer=void 0;var r=i(n(0)),o=i(n(3));function i(e){return e&&e.__esModule?e:{default:e}}var a=t.SliderPointer=function(e){var t=e.direction,n=(0,o.default)({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:"vertical"===t});return r.default.createElement("div",{style:n.picker})};t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Material=void 0;var r=s(n(0)),o=s(n(3)),i=s(n(11)),a=n(5);function s(e){return e&&e.__esModule?e:{default:e}}var u=t.Material=function(e){var t=e.onChange,n=e.hex,s=e.rgb,u=e.className,l=void 0===u?"":u,c=(0,o.default)({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+n,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}}),p=function(e,n){e.hex?i.default.isValidHex(e.hex)&&t({hex:e.hex,source:"hex"},n):(e.r||e.g||e.b)&&t({r:e.r||s.r,g:e.g||s.g,b:e.b||s.b,source:"rgb"},n)};return r.default.createElement(a.Raised,null,r.default.createElement("div",{style:c.material,className:"material-picker "+l},r.default.createElement(a.EditableInput,{style:{wrap:c.HEXwrap,input:c.HEXinput,label:c.HEXlabel},label:"hex",value:n,onChange:p}),r.default.createElement("div",{style:c.split,className:"flexbox-fix"},r.default.createElement("div",{style:c.third},r.default.createElement(a.EditableInput,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"r",value:s.r,onChange:p})),r.default.createElement("div",{style:c.third},r.default.createElement(a.EditableInput,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"g",value:s.g,onChange:p})),r.default.createElement("div",{style:c.third},r.default.createElement(a.EditableInput,{style:{wrap:c.RGBwrap,input:c.RGBinput,label:c.RGBlabel},label:"b",value:s.b,onChange:p})))))};t.default=(0,a.ColorWrap)(u)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Photoshop=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=d(n(0)),i=d(n(7)),a=d(n(3)),s=n(5),u=d(n(307)),l=d(n(308)),c=d(n(309)),p=d(n(310)),f=d(n(311));function d(e){return e&&e.__esModule?e:{default:e}}var h=t.Photoshop=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.state={currentColor:e.hex},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),r(t,[{key:"render",value:function(){var e=this.props.className,t=void 0===e?"":e,n=(0,a.default)({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}});return o.default.createElement("div",{style:n.picker,className:"photoshop-picker "+t},o.default.createElement("div",{style:n.head},this.props.header),o.default.createElement("div",{style:n.body,className:"flexbox-fix"},o.default.createElement("div",{style:n.saturation},o.default.createElement(s.Saturation,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:l.default,onChange:this.props.onChange})),o.default.createElement("div",{style:n.hue},o.default.createElement(s.Hue,{direction:"vertical",hsl:this.props.hsl,pointer:c.default,onChange:this.props.onChange})),o.default.createElement("div",{style:n.controls},o.default.createElement("div",{style:n.top,className:"flexbox-fix"},o.default.createElement("div",{style:n.previews},o.default.createElement(f.default,{rgb:this.props.rgb,currentColor:this.state.currentColor})),o.default.createElement("div",{style:n.actions},o.default.createElement(p.default,{label:"OK",onClick:this.props.onAccept,active:!0}),o.default.createElement(p.default,{label:"Cancel",onClick:this.props.onCancel}),o.default.createElement(u.default,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),t}();h.propTypes={header:i.default.string},h.defaultProps={header:"Color Picker"},t.default=(0,s.ColorWrap)(h)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PhotoshopPicker=void 0;var r=s(n(0)),o=s(n(3)),i=s(n(11)),a=n(5);function s(e){return e&&e.__esModule?e:{default:e}}var u=t.PhotoshopPicker=function(e){var t=e.onChange,n=e.rgb,s=e.hsv,u=e.hex,l=(0,o.default)({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),c=function(e,r){e["#"]?i.default.isValidHex(e["#"])&&t({hex:e["#"],source:"hex"},r):e.r||e.g||e.b?t({r:e.r||n.r,g:e.g||n.g,b:e.b||n.b,source:"rgb"},r):(e.h||e.s||e.v)&&t({h:e.h||s.h,s:e.s||s.s,v:e.v||s.v,source:"hsv"},r)};return r.default.createElement("div",{style:l.fields},r.default.createElement(a.EditableInput,{style:{wrap:l.RGBwrap,input:l.RGBinput,label:l.RGBlabel},label:"h",value:Math.round(s.h),onChange:c}),r.default.createElement(a.EditableInput,{style:{wrap:l.RGBwrap,input:l.RGBinput,label:l.RGBlabel},label:"s",value:Math.round(100*s.s),onChange:c}),r.default.createElement(a.EditableInput,{style:{wrap:l.RGBwrap,input:l.RGBinput,label:l.RGBlabel},label:"v",value:Math.round(100*s.v),onChange:c}),r.default.createElement("div",{style:l.divider}),r.default.createElement(a.EditableInput,{style:{wrap:l.RGBwrap,input:l.RGBinput,label:l.RGBlabel},label:"r",value:n.r,onChange:c}),r.default.createElement(a.EditableInput,{style:{wrap:l.RGBwrap,input:l.RGBinput,label:l.RGBlabel},label:"g",value:n.g,onChange:c}),r.default.createElement(a.EditableInput,{style:{wrap:l.RGBwrap,input:l.RGBinput,label:l.RGBlabel},label:"b",value:n.b,onChange:c}),r.default.createElement("div",{style:l.divider}),r.default.createElement(a.EditableInput,{style:{wrap:l.HEXwrap,input:l.HEXinput,label:l.HEXlabel},label:"#",value:u.replace("#",""),onChange:c}),r.default.createElement("div",{style:l.fieldSymbols},r.default.createElement("div",{style:l.symbol},"°"),r.default.createElement("div",{style:l.symbol},"%"),r.default.createElement("div",{style:l.symbol},"%")))};t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PhotoshopPointerCircle=void 0;var r=i(n(0)),o=i(n(3));function i(e){return e&&e.__esModule?e:{default:e}}var a=t.PhotoshopPointerCircle=function(e){var t=e.hsl,n=(0,o.default)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":t.l>.5});return r.default.createElement("div",{style:n.picker})};t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PhotoshopPointerCircle=void 0;var r=i(n(0)),o=i(n(3));function i(e){return e&&e.__esModule?e:{default:e}}var a=t.PhotoshopPointerCircle=function(){var e=(0,o.default)({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return r.default.createElement("div",{style:e.pointer},r.default.createElement("div",{style:e.left},r.default.createElement("div",{style:e.leftInside})),r.default.createElement("div",{style:e.right},r.default.createElement("div",{style:e.rightInside})))};t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PhotoshopBotton=void 0;var r=i(n(0)),o=i(n(3));function i(e){return e&&e.__esModule?e:{default:e}}var a=t.PhotoshopBotton=function(e){var t=e.onClick,n=e.label,i=e.children,a=e.active,s=(0,o.default)({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:a});return r.default.createElement("div",{style:s.button,onClick:t},n||i)};t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PhotoshopPreviews=void 0;var r=i(n(0)),o=i(n(3));function i(e){return e&&e.__esModule?e:{default:e}}var a=t.PhotoshopPreviews=function(e){var t=e.rgb,n=e.currentColor,i=(0,o.default)({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+t.r+","+t.g+", "+t.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:n,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return r.default.createElement("div",null,r.default.createElement("div",{style:i.label},"new"),r.default.createElement("div",{style:i.swatches},r.default.createElement("div",{style:i.new}),r.default.createElement("div",{style:i.current})),r.default.createElement("div",{style:i.label},"current"))};t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sketch=void 0;var r=l(n(0)),o=l(n(7)),i=l(n(3)),a=n(5),s=l(n(313)),u=l(n(314));function l(e){return e&&e.__esModule?e:{default:e}}var c=t.Sketch=function(e){var t=e.width,n=e.rgb,o=e.hex,l=e.hsv,c=e.hsl,p=e.onChange,f=e.onSwatchHover,d=e.disableAlpha,h=e.presetColors,g=e.renderers,m=e.className,y=void 0===m?"":m,v=(0,i.default)({default:{picker:{width:t,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+n.r+","+n.g+","+n.b+","+n.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},{disableAlpha:d});return r.default.createElement("div",{style:v.picker,className:"sketch-picker "+y},r.default.createElement("div",{style:v.saturation},r.default.createElement(a.Saturation,{style:v.Saturation,hsl:c,hsv:l,onChange:p})),r.default.createElement("div",{style:v.controls,className:"flexbox-fix"},r.default.createElement("div",{style:v.sliders},r.default.createElement("div",{style:v.hue},r.default.createElement(a.Hue,{style:v.Hue,hsl:c,onChange:p})),r.default.createElement("div",{style:v.alpha},r.default.createElement(a.Alpha,{style:v.Alpha,rgb:n,hsl:c,renderers:g,onChange:p}))),r.default.createElement("div",{style:v.color},r.default.createElement(a.Checkboard,null),r.default.createElement("div",{style:v.activeColor}))),r.default.createElement(s.default,{rgb:n,hsl:c,hex:o,onChange:p,disableAlpha:d}),r.default.createElement(u.default,{colors:h,onClick:p,onSwatchHover:f}))};c.propTypes={disableAlpha:o.default.bool,width:o.default.oneOfType([o.default.string,o.default.number])},c.defaultProps={disableAlpha:!1,width:200,presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]},t.default=(0,a.ColorWrap)(c)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SketchFields=void 0;var r=s(n(0)),o=s(n(3)),i=s(n(11)),a=n(5);function s(e){return e&&e.__esModule?e:{default:e}}var u=t.SketchFields=function(e){var t=e.onChange,n=e.rgb,s=e.hsl,u=e.hex,l=e.disableAlpha,c=(0,o.default)({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:l}),p=function(e,r){e.hex?i.default.isValidHex(e.hex)&&t({hex:e.hex,source:"hex"},r):e.r||e.g||e.b?t({r:e.r||n.r,g:e.g||n.g,b:e.b||n.b,a:n.a,source:"rgb"},r):e.a&&(e.a<0?e.a=0:e.a>100&&(e.a=100),e.a/=100,t({h:s.h,s:s.s,l:s.l,a:e.a,source:"rgb"},r))};return r.default.createElement("div",{style:c.fields,className:"flexbox-fix"},r.default.createElement("div",{style:c.double},r.default.createElement(a.EditableInput,{style:{input:c.input,label:c.label},label:"hex",value:u.replace("#",""),onChange:p})),r.default.createElement("div",{style:c.single},r.default.createElement(a.EditableInput,{style:{input:c.input,label:c.label},label:"r",value:n.r,onChange:p,dragLabel:"true",dragMax:"255"})),r.default.createElement("div",{style:c.single},r.default.createElement(a.EditableInput,{style:{input:c.input,label:c.label},label:"g",value:n.g,onChange:p,dragLabel:"true",dragMax:"255"})),r.default.createElement("div",{style:c.single},r.default.createElement(a.EditableInput,{style:{input:c.input,label:c.label},label:"b",value:n.b,onChange:p,dragLabel:"true",dragMax:"255"})),r.default.createElement("div",{style:c.alpha},r.default.createElement(a.EditableInput,{style:{input:c.input,label:c.label},label:"a",value:Math.round(100*n.a),onChange:p,dragLabel:"true",dragMax:"100"})))};t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SketchPresetColors=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=u(n(0)),i=u(n(7)),a=u(n(3)),s=n(5);function u(e){return e&&e.__esModule?e:{default:e}}var l=t.SketchPresetColors=function(e){var t=e.colors,n=e.onClick,i=void 0===n?function(){}:n,u=e.onSwatchHover,l=(0,a.default)({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!t||!t.length}),c=function(e,t){i({hex:e,source:"hex"},t)};return o.default.createElement("div",{style:l.colors,className:"flexbox-fix"},t.map(function(e){var t="string"==typeof e?{color:e}:e,n=""+t.color+(t.title||"");return o.default.createElement("div",{key:n,style:l.swatchWrap},o.default.createElement(s.Swatch,r({},t,{style:l.swatch,onClick:c,onHover:u,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+t.color}})))}))};l.propTypes={colors:i.default.arrayOf(i.default.oneOfType([i.default.string,i.default.shape({color:i.default.string,title:i.default.string})])).isRequired},t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Slider=void 0;var r=u(n(0)),o=u(n(3)),i=n(5),a=u(n(316)),s=u(n(318));function u(e){return e&&e.__esModule?e:{default:e}}var l=t.Slider=function(e){var t=e.hsl,n=e.onChange,s=e.pointer,u=e.className,l=void 0===u?"":u,c=(0,o.default)({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}});return r.default.createElement("div",{className:"slider-picker "+l},r.default.createElement("div",{style:c.hue},r.default.createElement(i.Hue,{style:c.Hue,hsl:t,pointer:s,onChange:n})),r.default.createElement("div",{style:c.swatches},r.default.createElement(a.default,{hsl:t,onClick:n})))};l.defaultProps={pointer:s.default},t.default=(0,i.ColorWrap)(l)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SliderSwatches=void 0;var r=a(n(0)),o=a(n(3)),i=a(n(317));function a(e){return e&&e.__esModule?e:{default:e}}var s=t.SliderSwatches=function(e){var t=e.onClick,n=e.hsl,a=(0,o.default)({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}});return r.default.createElement("div",{style:a.swatches},r.default.createElement("div",{style:a.swatch},r.default.createElement(i.default,{hsl:n,offset:".80",active:Math.round(100*n.l)/100==.8&&Math.round(100*n.s)/100==.5,onClick:t,first:!0})),r.default.createElement("div",{style:a.swatch},r.default.createElement(i.default,{hsl:n,offset:".65",active:Math.round(100*n.l)/100==.65&&Math.round(100*n.s)/100==.5,onClick:t})),r.default.createElement("div",{style:a.swatch},r.default.createElement(i.default,{hsl:n,offset:".50",active:Math.round(100*n.l)/100==.5&&Math.round(100*n.s)/100==.5,onClick:t})),r.default.createElement("div",{style:a.swatch},r.default.createElement(i.default,{hsl:n,offset:".35",active:Math.round(100*n.l)/100==.35&&Math.round(100*n.s)/100==.5,onClick:t})),r.default.createElement("div",{style:a.swatch},r.default.createElement(i.default,{hsl:n,offset:".20",active:Math.round(100*n.l)/100==.2&&Math.round(100*n.s)/100==.5,onClick:t,last:!0})),r.default.createElement("div",{style:a.clear}))};t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SliderSwatch=void 0;var r=i(n(0)),o=i(n(3));function i(e){return e&&e.__esModule?e:{default:e}}var a=t.SliderSwatch=function(e){var t=e.hsl,n=e.offset,i=e.onClick,a=void 0===i?function(){}:i,s=e.active,u=e.first,l=e.last,c=(0,o.default)({default:{swatch:{height:"12px",background:"hsl("+t.h+", 50%, "+100*n+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:s,first:u,last:l});return r.default.createElement("div",{style:c.swatch,onClick:function(e){return a({h:t.h,s:.5,l:n,source:"hsl"},e)}})};t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SliderPointer=void 0;var r=i(n(0)),o=i(n(3));function i(e){return e&&e.__esModule?e:{default:e}}var a=t.SliderPointer=function(){var e=(0,o.default)({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return r.default.createElement("div",{style:e.picker})};t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Swatches=void 0;var r=p(n(0)),o=p(n(7)),i=p(n(3)),a=p(n(15)),s=p(n(11)),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(108)),l=n(5),c=p(n(320));function p(e){return e&&e.__esModule?e:{default:e}}var f=t.Swatches=function(e){var t=e.width,n=e.height,o=e.onChange,u=e.onSwatchHover,p=e.colors,f=e.hex,d=e.className,h=void 0===d?"":d,g=(0,i.default)({default:{picker:{width:t,height:n},overflow:{height:n,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}}),m=function(e,t){s.default.isValidHex(e)&&o({hex:e,source:"hex"},t)};return r.default.createElement("div",{style:g.picker,className:"swatches-picker "+h},r.default.createElement(l.Raised,null,r.default.createElement("div",{style:g.overflow},r.default.createElement("div",{style:g.body},(0,a.default)(p,function(e){return r.default.createElement(c.default,{key:e.toString(),group:e,active:f,onClick:m,onSwatchHover:u})}),r.default.createElement("div",{style:g.clear})))))};f.propTypes={width:o.default.oneOfType([o.default.string,o.default.number]),height:o.default.oneOfType([o.default.string,o.default.number]),colors:o.default.arrayOf(o.default.arrayOf(o.default.string))},f.defaultProps={width:320,height:240,colors:[[u.red[900],u.red[700],u.red[500],u.red[300],u.red[100]],[u.pink[900],u.pink[700],u.pink[500],u.pink[300],u.pink[100]],[u.purple[900],u.purple[700],u.purple[500],u.purple[300],u.purple[100]],[u.deepPurple[900],u.deepPurple[700],u.deepPurple[500],u.deepPurple[300],u.deepPurple[100]],[u.indigo[900],u.indigo[700],u.indigo[500],u.indigo[300],u.indigo[100]],[u.blue[900],u.blue[700],u.blue[500],u.blue[300],u.blue[100]],[u.lightBlue[900],u.lightBlue[700],u.lightBlue[500],u.lightBlue[300],u.lightBlue[100]],[u.cyan[900],u.cyan[700],u.cyan[500],u.cyan[300],u.cyan[100]],[u.teal[900],u.teal[700],u.teal[500],u.teal[300],u.teal[100]],["#194D33",u.green[700],u.green[500],u.green[300],u.green[100]],[u.lightGreen[900],u.lightGreen[700],u.lightGreen[500],u.lightGreen[300],u.lightGreen[100]],[u.lime[900],u.lime[700],u.lime[500],u.lime[300],u.lime[100]],[u.yellow[900],u.yellow[700],u.yellow[500],u.yellow[300],u.yellow[100]],[u.amber[900],u.amber[700],u.amber[500],u.amber[300],u.amber[100]],[u.orange[900],u.orange[700],u.orange[500],u.orange[300],u.orange[100]],[u.deepOrange[900],u.deepOrange[700],u.deepOrange[500],u.deepOrange[300],u.deepOrange[100]],[u.brown[900],u.brown[700],u.brown[500],u.brown[300],u.brown[100]],[u.blueGrey[900],u.blueGrey[700],u.blueGrey[500],u.blueGrey[300],u.blueGrey[100]],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]]},t.default=(0,l.ColorWrap)(f)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SwatchesGroup=void 0;var r=s(n(0)),o=s(n(3)),i=s(n(15)),a=s(n(321));function s(e){return e&&e.__esModule?e:{default:e}}var u=t.SwatchesGroup=function(e){var t=e.onClick,n=e.onSwatchHover,s=e.group,u=e.active,l=(0,o.default)({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return r.default.createElement("div",{style:l.group},(0,i.default)(s,function(e,o){return r.default.createElement(a.default,{key:e,color:e,active:e.toLowerCase()===u,first:0===o,last:o===s.length-1,onClick:t,onSwatchHover:n})}))};t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SwatchesColor=void 0;var r=s(n(0)),o=s(n(3)),i=s(n(11)),a=n(5);function s(e){return e&&e.__esModule?e:{default:e}}var u=t.SwatchesColor=function(e){var t=e.color,n=e.onClick,s=void 0===n?function(){}:n,u=e.onSwatchHover,l=e.first,c=e.last,p=e.active,f=(0,o.default)({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:t,marginBottom:"1px"},check:{fill:i.default.getContrastingColor(t),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{fill:"#333"}},transparent:{check:{fill:"#333"}}},{first:l,last:c,active:p,"color-#FFFFFF":"#FFFFFF"===t,transparent:"transparent"===t});return r.default.createElement(a.Swatch,{color:t,style:f.color,onClick:s,onHover:u,focusStyle:{boxShadow:"0 0 4px "+t}},r.default.createElement("div",{style:f.check},r.default.createElement("svg",{style:{width:"24px",height:"24px"},viewBox:"0 0 24 24"},r.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))))};t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Twitter=void 0;var r=l(n(0)),o=l(n(7)),i=l(n(3)),a=l(n(15)),s=l(n(11)),u=n(5);function l(e){return e&&e.__esModule?e:{default:e}}var c=t.Twitter=function(e){var t=e.onChange,n=e.onSwatchHover,o=e.hex,l=e.colors,c=e.width,p=e.triangle,f=e.className,d=void 0===f?"":f,h=(0,i.default)({default:{card:{width:c,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},{"hide-triangle":"hide"===p,"top-left-triangle":"top-left"===p,"top-right-triangle":"top-right"===p}),g=function(e,n){s.default.isValidHex(e)&&t({hex:e,source:"hex"},n)};return r.default.createElement("div",{style:h.card,className:"twitter-picker "+d},r.default.createElement("div",{style:h.triangleShadow}),r.default.createElement("div",{style:h.triangle}),r.default.createElement("div",{style:h.body},(0,a.default)(l,function(e,t){return r.default.createElement(u.Swatch,{key:t,color:e,hex:e,style:h.swatch,onClick:g,onHover:n,focusStyle:{boxShadow:"0 0 4px "+e}})}),r.default.createElement("div",{style:h.hash},"#"),r.default.createElement(u.EditableInput,{style:{input:h.input},value:o.replace("#",""),onChange:g}),r.default.createElement("div",{style:h.clear})))};c.propTypes={width:o.default.oneOfType([o.default.string,o.default.number]),triangle:o.default.oneOf(["hide","top-left","top-right"]),colors:o.default.arrayOf(o.default.string)},c.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left"},t.default=(0,u.ColorWrap)(c)},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(1),s=n(2),u=n(24),l=n(38),c=n(124),p=n(4),f=function(e){function t(t){var n=e.call(this,t)||this;return n.openBrowseImage=function(e){var t=n.props.background;n.props.onChange(a.lodash.assign({},t,{image:e}))},n._onPositionChange=function(e){var t=n.props.background,r=e.target.value;n.props.onChange(a.lodash.assign({},t,{fillType:r}))},n._onColorChange=function(e){var t=n.props.background;n.props.onChange(a.lodash.assign({},t,{color:e}))},n.getStyle=function(){return a.css(i||(i=o(["\n        .jimu-builder--color {\n          width: ",";\n          height: ",";\n        }\n        .fill-type {\n          width: 50%;\n        }\n      "],["\n        .jimu-builder--color {\n          width: ",";\n          height: ",";\n        }\n        .fill-type {\n          width: 50%;\n        }\n      "])),a.polished.rem(40),a.polished.rem(20))},n.nls=function(e){return n.props.intl?n.props.intl.formatMessage({id:e,defaultMessage:p.default[e]}):e},n.getFillType=function(){return[{value:s.FillType.FIT,label:n.nls("fit")},{value:s.FillType.FILL,label:n.nls("fill")},{value:s.FillType.CENTER,label:n.nls("center")},{value:s.FillType.TILE,label:n.nls("tile")},{value:s.FillType.STRETCH,label:n.nls("stretch")}]},n.fileInput=a.React.createRef(),n}return r(t,e),t.prototype.render=function(){var e=this.props,t=e.background,n=e.className,r=e.style;return a.jsx("div",{css:this.getStyle(),className:a.classNames(n,"jimu-builder--background-setting","d-flex flex-column w-100"),style:r},a.jsx(l.SettingRow,{flow:"no-wrap",label:this.nls("fill")},a.jsx(u.ColorChooser,{onChange:this._onColorChange,color:t.color})),a.jsx(l.SettingRow,{flow:"no-wrap",label:this.nls("image")},a.jsx(c.ImageChooser,{widgetId:"background-setting",color:"secondary",label:this.nls("browse"),size:"sm",className:"text-dark d-flex justify-content-center btn-browse",onChange:this.openBrowseImage,imageParam:t.image})),a.jsx(l.SettingRow,{flow:"no-wrap",label:this.nls("position")},a.jsx(s.Input,{className:"fill-type",type:"select",name:"bg-position",value:t.fillType,onChange:this._onPositionChange.bind(this)},this.getFillType().map(function(e,t){return a.jsx("option",{key:t,value:e.value},e.label)}))))},t.defaultProps={background:{color:void 0,fillType:s.FillType.FIT,image:{url:""}},onChange:function(){}},t}(a.React.PureComponent);t._BackgroundSetting=f,t.BackgroundSetting=a.injectIntl(f)},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(2),a=function(e){function t(t){return e.call(this,t)||this}return r(t,e),t.prototype.render=function(){return o.React.createElement(i.Container,{className:o.classNames(this.props.className,"jimu-widget-setting--section")},this.props.title&&o.React.createElement(i.Row,{className:"jimu-widget-setting--section-header"},o.React.createElement("h5",{className:"w-100"},this.props.title)),this.props.children,o.React.createElement("hr",{className:"split-line"}))},t}(o.React.PureComponent);t.SettingSection=a},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(2),a=function(e){function t(t){return e.call(this,t)||this}return r(t,e),t.prototype.render=function(){var e=o.classNames("jimu-widget-setting--row","form-group",{"form-inline":"wrap"!==this.props.flow,"pl-4":this.props.indented});return o.React.createElement(i.Row,{className:e},this.props.label&&o.React.createElement("label",{className:o.classNames("justify-content-start flex-grow-1 mb-0",{"w-100 mr-0 mb-2":"wrap"===this.props.flow})},this.props.label),this.props.children)},t}(o.React.PureComponent);t.SettingRow=a},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=function(e){function t(t){var n=e.call(this,t)||this;return n.onStyleClick=function(e){n.state.selectedValue!==e&&(n.setState({selectedValue:e}),n.props.onChange&&n.props.onChange(e))},n.state={selectedValue:n.props.value},n}return r(t,e),t.prototype.componentDidUpdate=function(e,t){e.value!==this.props.value&&this.setState({selectedValue:this.props.value})},t.prototype.render=function(){var e=this,t=this.props.styles;return o.React.createElement("div",{className:o.classNames("widget-setting--stylepicker w-100",{small:"small"===this.props.size})},Object.keys(t).map(function(n,r){return o.React.createElement("div",{key:n,role:"button",className:o.classNames("widget-setting--stylepicker-item",{active:n===e.state.selectedValue,"full-width":"full"===t[n].size}),style:{backgroundImage:"url("+t[n].thumbnail+")"},onClick:function(){return e.onStyleClick(n)}})}))},t}(o.React.PureComponent);t.StylePicker=i},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(2),a=function(e){function t(t){var n=e.call(this,t)||this;return n.onRadioButtonClick=function(e){n.state.selectedValue!==e&&(n.setState({selectedValue:e}),n.props.onChange&&n.props.onChange(e))},n.state={selectedValue:n.props.value},n}return r(t,e),t.prototype.render=function(){var e=this,t=this.props.options;return o.React.createElement(i.ButtonGroup,{className:"jimu-widget-setting--button-group"},t.map(function(t){return o.React.createElement(i.Button,{key:t.value.toString(),size:"sm",style:e.props.buttonWidth?{width:e.props.buttonWidth+"px"}:null,onClick:function(){e.onRadioButtonClick(t.value)},active:e.state.selectedValue===t.value},t.content)}))},t}(o.React.PureComponent);t.SettingButtonGroup=a},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(1),s=n(2),u=n(58),l=function(e){function t(t){var n=e.call(this,t)||this;return n.handleClick=function(e){var t=n.props.value;n.props.onChange&&n.props.onChange(t)},n.getStyle=function(){var e=n.props.theme,t=e&&e.colors?e.colors.black:"black",r=e&&e.colors?e.colors.primary:"primary";return a.css(i||(i=o(["\n            padding-right: ",";\n            display: flex;\n            align-items: center;\n            justify-content: space-around;\n            cursor: pointer;\n            color: ",";\n            font-size: ",";\n\n            &:hover {\n              background: ",";\n            }\n            \n            > div {\n              padding: 0 ",";\n              visibility: hidden;\n            }\n\n            &.marked {\n              > div {\n                visibility: visible;\n              }\n            }\n        }\n        "],["\n            padding-right: ",";\n            display: flex;\n            align-items: center;\n            justify-content: space-around;\n            cursor: pointer;\n            color: ",";\n            font-size: ",";\n\n            &:hover {\n              background: ",";\n            }\n            \n            > div {\n              padding: 0 ",";\n              visibility: hidden;\n            }\n\n            &.marked {\n              > div {\n                visibility: visible;\n              }\n            }\n        }\n        "])),a.polished.rem(8),t,a.polished.rem(13),r,a.polished.rem(8))},n}return r(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.style,r=e.label,o=e.marked;return a.jsx("div",{css:this.getStyle(),style:n,onClick:this.handleClick,className:a.classNames(t,"jimu-builder--markable-item",{marked:o})},a.jsx("div",null,a.jsx(s.Icon,{size:12,icon:u})),a.jsx("span",null,r))},t}(a.React.PureComponent);t.MarkableItem=l},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(1),s=n(330),u=n(24),l=n(39),c=n(2),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getStyle=function(){return a.css(i||(i=o(["\n      >.item {\n        flex: 0 1 auto;\n      }\n      >.item:nth-of-type(1){\n        width: 20%;\n      }\n      >.item:nth-of-type(2){\n        width: 40%;\n      }\n      >.item:nth-of-type(3){\n        width:30%;\n      }\n    "],["\n      >.item {\n        flex: 0 1 auto;\n      }\n      >.item:nth-of-type(1){\n        width: 20%;\n      }\n      >.item:nth-of-type(2){\n        width: 40%;\n      }\n      >.item:nth-of-type(3){\n        width:30%;\n      }\n    "])))},t}return r(t,e),t.prototype._updateBorder=function(e,t){var n={};n[e]=t,this.props.onChange(a.lodash.assign({},this.props.value,n))},t.prototype.render=function(){var e=this,t=this.props.value,n=t.width,r=t.type,o=t.color;return a.jsx("div",{css:this.getStyle(),className:a.classNames("d-flex justify-content-between w-100","jimu-builder--border-setting")},a.jsx(u.ColorChooser,{style:{height:"26px"},className:"item",color:o,onChange:function(t){e._updateBorder("color",t)}}),a.jsx(s.LineStyleChooser,{intl:this.props.intl,className:"item",value:r,onChange:function(t){e._updateBorder("type",t)}}),a.jsx(l.InputUnit,{units:[c.UnitTypes.PIXEL,c.UnitTypes.PERCENTAGE],className:"item",value:n,onChange:function(t){e._updateBorder("width",t)}}))},t.defaultProps={value:{type:c.LineType.DASHED,color:void 0,width:{distance:0,unit:c.UnitTypes.PIXEL}},onChange:function(){}},t}(a.React.PureComponent);t._BorderSetting=p,t.BorderSetting=a.themeUtils.withTheme(a.injectIntl(p))},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(2),a=n(4),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.nls=function(e){return t.props.intl?t.props.intl.formatMessage({id:e,defaultMessage:a.default[e]}):e},t.getLineStyles=function(){return[{label:t.nls("dashed"),value:i.LineType.DASHED},{label:t.nls("dotted"),value:i.LineType.DOTTED},{label:t.nls("double"),value:i.LineType.DOUBLE},{label:t.nls("solid"),value:i.LineType.SOLID}]},t}return r(t,e),t.prototype._onLineStyleChange=function(e){var t=e.target.value;this.props.onChange(t)},t.prototype.render=function(){var e=this.props,t=e.value,n=e.className,r=e.style;return o.React.createElement("div",{className:o.classNames(n,"jimu-builder--line-style-chooser"),style:r},o.React.createElement(i.Input,{type:"select",name:"lineType",value:t,onChange:this._onLineStyleChange.bind(this)},this.getLineStyles().map(function(e,t){return o.React.createElement("option",{key:t,value:e.value,label:e.label},e.label)})))},t.defaultProps={value:i.LineType.SOLID,onChange:function(){}},t}(o.React.PureComponent);t.LineStyleChooser=s},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(2),a=n(24),s=n(39),u=n(38),l=n(4),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.nls=function(e){return t.props.intl?t.props.intl.formatMessage({id:e,defaultMessage:l.default[e]}):e},t.getShadows=function(){return[{name:"offsetX",label:t.nls("offsetX"),min:-200,max:200},{name:"offsetY",label:t.nls("offsetY"),min:-200,max:200},{name:"blur",label:t.nls("blurRadius"),min:0,max:300},{name:"spread",label:t.nls("spreadRadius"),min:-200,max:200}]},t}return r(t,e),t.prototype._updateShadow=function(e,t){var n={};n[e]=t,this.props.onChange(o.lodash.assign({},this.props.value,n))},t.prototype.render=function(){var e=this,t=this.props.value;return o.React.createElement("div",{className:o.classNames("jimu-builder--box-shadow-setting","d-flex flex-column w-100")},this.getShadows().map(function(n,r){return o.React.createElement(u.SettingRow,{flow:"no-wrap",key:r,label:n.label},o.React.createElement(s.InputUnit,{style:{width:"30%",flex:"0 0 auto"},min:n.min,max:n.max,value:t[n.name],onChange:function(t){return e._updateShadow(n.name,t)}}))}),o.React.createElement(u.SettingRow,{flow:"no-wrap",label:this.nls("color")},o.React.createElement(a.ColorChooser,{style:{width:"40px",height:"20px"},color:t.color,onChange:function(t){return e._updateShadow("color",t)}})))},t.defaultProps={value:{offsetX:{distance:0,unit:i.UnitTypes.PIXEL},offsetY:{distance:0,unit:i.UnitTypes.PIXEL},blur:{distance:0,unit:i.UnitTypes.PIXEL},spread:{distance:0,unit:i.UnitTypes.PIXEL},color:void 0},onChange:function(){}},t}(o.React.PureComponent);t._BoxShadowSetting=c,t.BoxShadowSetting=o.injectIntl(c)},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(1),s=n(2),u=n(2),l=n(56),c=n(333),p=n(334),f=n(4),d=function(e){function t(t){var n=e.call(this,t)||this;return n._onSideValueChange=function(e,t){if(n.state.bindAll)n._onAllSidesValueChange(e);else{var r=n.props.value,o=u.styleUtils.expandStyleArray(r.number);o[t]=e,n.props.onChange({number:o,unit:r.unit})}},n._onUnitChange=function(e){var t=n.props.value;if(e!==t.unit){var r=u.styleUtils.expandStyleArray(t.number);n.props.onChange({number:r,unit:e})}},n._onAllSidesValueChange=function(e){n.props.onChange({number:[e],unit:n.props.value.unit})},n._toggleBindAll=function(){if(!n.props.disabled){var e=!n.state.bindAll;if(e){var t=n.props.value,r=u.styleUtils.expandStyleArray(t.number);n._onAllSidesValueChange(r[0])}n.setState({bindAll:e})}},n.getStyle=function(){var e=n.props.theme,t=e&&e.colors?e.colors.grays.gray600:"#c8cbcd";return a.css(i||(i=o(["\n      width: 100%;\n      .content {\n        display: flex;\n        width: 100%;\n        justify-content: space-between;\n        align-items: center;\n        .input-group {\n          width: 87%;\n          flex-wrap: nowrap;\n          flex-shrink: 0;\n          flex-grow: 0;\n          > input {\n            width: 21%;\n          }\n          .form-control {\n            padding-left: 0.25rem;\n            padding-right: 0.25rem;\n          }\n          >.jimu-builder--unit-chooser {\n            width: 16%;\n            margin-left: -1px;\n            border-top-right-radius: 2px;\n            border-bottom-right-radius: 2px;\n          }\n        }\n        .lock-btn {\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          width: 10%;\n          cursor: pointer;\n        }  \n      }\n      .tips {\n        color: ",";\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n        width: 100%;\n        font-size: ",";\n        .tip-group {\n          text-align: center;\n          display: flex;\n          flex-shrink: 0;\n          flex-grow: 0;\n          width: 73%;\n          > div {\n            width: 25%;\n            ","\n          }\n        }\n      }\n    "],["\n      width: 100%;\n      .content {\n        display: flex;\n        width: 100%;\n        justify-content: space-between;\n        align-items: center;\n        .input-group {\n          width: 87%;\n          flex-wrap: nowrap;\n          flex-shrink: 0;\n          flex-grow: 0;\n          > input {\n            width: 21%;\n          }\n          .form-control {\n            padding-left: 0.25rem;\n            padding-right: 0.25rem;\n          }\n          >.jimu-builder--unit-chooser {\n            width: 16%;\n            margin-left: -1px;\n            border-top-right-radius: 2px;\n            border-bottom-right-radius: 2px;\n          }\n        }\n        .lock-btn {\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          width: 10%;\n          cursor: pointer;\n        }  \n      }\n      .tips {\n        color: ",";\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n        width: 100%;\n        font-size: ",";\n        .tip-group {\n          text-align: center;\n          display: flex;\n          flex-shrink: 0;\n          flex-grow: 0;\n          width: 73%;\n          > div {\n            width: 25%;\n            ","\n          }\n        }\n      }\n    "])),t,a.polished.rem(10),a.polished.ellipsis())},n.nls=function(e){return n.props.intl?n.props.intl.formatMessage({id:e,defaultMessage:f.default[e]}):e},n.state={bindAll:!1},n}return r(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.value,r=t.showTip,o=void 0===r||r,i=t.sides,f=t.min,d=t.max,h=t.disabled,g=this.state.bindAll,m=u.styleUtils.expandStyleArray(n.number);return a.jsx("div",{css:this.getStyle(),className:"jimu-builder--four-sides-setting"},a.jsx("div",{className:"content"},a.jsx(s.InputGroup,null,i.map(function(t,n){return a.jsx(s.Input,{key:n,placeholder:o?t:"",title:e.nls(t),type:"number",min:f,max:d,disabled:h,value:m[n],onAcceptValue:function(t){return e._onSideValueChange(+t,n)}})}),a.jsx(l.UnitChooser,{units:[s.UnitTypes.PIXEL,s.UnitTypes.PERCENTAGE],unit:n.unit,onChange:this._onUnitChange})),a.jsx("div",{className:"lock-btn",onClick:this._toggleBindAll,title:g?this.nls("lock"):this.nls("unlock")},a.jsx(s.Icon,{size:14,icon:g?c:p,className:h?"text-gray-600":"text-black"}))),o&&a.jsx("div",{className:"tips w-100 d-flex justify-content-between"},a.jsx("div",{className:"tip-group"},i.map(function(t,n){return a.jsx("div",{key:n,title:e.nls(t)},t)})),a.jsx("div",null)))},t.defaultProps={value:{number:[0],unit:s.UnitTypes.PIXEL},disabled:!1,min:0,max:100,sides:[s.Sides.T,s.Sides.R,s.Sides.B,s.Sides.L],onChange:function(){}},t}(a.React.PureComponent);t._FourSides=d,t.FourSides=a.themeUtils.withTheme(a.injectIntl(d))},function(e,t,n){function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var o=n(0),i=o.createElement("path",{d:"M7.875 4h-.563V2.857C7.313 1.257 6.075 0 4.5 0 2.925 0 1.687 1.257 1.687 2.857V4h-.562C.506 4 0 4.514 0 5.143v5.714C0 11.486.506 12 1.125 12h6.75C8.494 12 9 11.486 9 10.857V5.143C9 4.514 8.494 4 7.875 4zM4.5 1.086c.956 0 1.744.8 1.744 1.771V4H2.813V2.857h-.057c0-.971.788-1.771 1.744-1.771zm3.375 9.771h-6.75V5.143h6.75v5.714zM4.5 9.143c.619 0 1.125-.514 1.125-1.143S5.119 6.857 4.5 6.857 3.375 7.371 3.375 8 3.881 9.143 4.5 9.143z",fill:"currentColor",fillRule:"evenodd"});function a(e){return o.createElement("svg",r({width:12,height:12,viewBox:"0 0 12 12"},e),i)}e.exports=a,a.default=a},function(e,t,n){function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var o=n(0),i=o.createElement("path",{d:"M6.244 2.857C6.244 1.257 7.511 0 9.124 0c1.416 0 2.565.968 2.825 2.287a.478.478 0 0 1-.469.57h-.023a.635.635 0 0 1-.615-.478 1.796 1.796 0 0 0-1.718-1.294c-.98 0-1.786.8-1.786 1.772V3h-.026v1h.563C8.494 4 9 4.514 9 5.143v5.714C9 11.486 8.494 12 7.875 12h-6.75A1.137 1.137 0 0 1 0 10.857V5.143C0 4.514.506 4 1.125 4h5.119V2.857zM5.625 8c0 .629-.506 1.143-1.125 1.143A1.137 1.137 0 0 1 3.375 8c0-.629.506-1.143 1.125-1.143S5.625 7.371 5.625 8zm-4.5 2.857h6.75V5.143h-6.75v5.714z",fill:"currentColor",fillRule:"evenodd"});function a(e){return o.createElement("svg",r({width:12,height:12,viewBox:"0 0 12 12"},e),i)}e.exports=a,a.default=a},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(2),a=n(111),s=n(128),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._updateText=function(e,n){var r={};r[e]=n;var i=o.lodash.assign({},t.props.value,r);t.props.onChange(i)},t}return r(t,e),t.prototype.render=function(){var e=this,t=this.props.value,n=t.font,r=t.size,u=t.color,l=t.bold,c=t.italic,p=t.underline,f=t.strike,d=t.align,h={bold:l,italic:c,underline:p,strike:f};return o.React.createElement("div",{className:o.classNames("d-flex flex-column w-100 h-100","jimu-builder--text-setting")},o.React.createElement("div",{className:"d-flex justify-content-between mb-2"},o.React.createElement(a.FontFamily,{style:{width:"100%"},font:n,onChange:function(t){return e._updateText(i.TextFormats.FONT,t)}})),o.React.createElement("div",{className:"d-flex justify-content-between mb-2"},o.React.createElement(a.Size,{value:r,onChange:function(t){return e._updateText(i.TextFormats.SIZE,t)},className:"mr-2"}),o.React.createElement(a.Color,{title:i.TextFormats.COLOR,color:u,icon:s,onChange:function(t){return e._updateText(i.TextFormats.COLOR,t)}})),o.React.createElement("div",{className:"d-flex justify-content-between"},o.React.createElement(a.BIUS,{intl:this.props.intl,formats:h,onClick:function(t){return e._updateText(t,!h[t])},className:"mr-2"}),o.React.createElement(a.Align,{intl:this.props.intl,align:d,onChange:function(t){return e._updateText(i.TextFormats.ALIGN,t)}})))},t.defaultProps={value:{font:i.FontFamilyValue.CALIBRI,size:"14px",color:void 0,bold:!1,italic:!1,underline:!1,strike:!1,align:i.AlignValue.LEFT},onChange:function(){}},t}(o.React.PureComponent);t.TextSetting=o.themeUtils.withTheme(o.injectIntl(u))},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(2),a=n(4),s=n(337),u=n(338),l=n(339),c=n(340),p=((r={})[i.TextFormats.BOLD]=s,r[i.TextFormats.ITALIC]=u,r[i.TextFormats.UNDERLINE]=l,r[i.TextFormats.STRIKE]=c,r),f=[{key:"bold",value:i.TextFormats.BOLD},{key:"italic",value:i.TextFormats.ITALIC},{key:"underline",value:i.TextFormats.UNDERLINE},{key:"strike",value:i.TextFormats.STRIKE}];t._BIUS=function(e){var t=e.formats,n=void 0===t?{}:t,r=e.onClick,s=void 0===r?function(){}:r,u=e.className,l=e.intl;return o.React.createElement(i.ButtonGroup,{className:o.classNames(u,"jimu-builder-common--bius"),size:"sm"},f.map(function(e,t){return o.React.createElement(i.Button,{key:t,color:"secondary",title:function(e){return l?l.formatMessage({id:e,defaultMessage:a.default[e]}):e}(e.key),icon:!0,size:"sm",active:!!n[e.value],onClick:function(){return s(e.value,!n[e.value])}},o.React.createElement(i.Icon,{size:14,icon:p[e.value]}))}))},t.BIUS=o.themeUtils.withTheme(t._BIUS)},function(e,t,n){function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var o=n(0),i=o.createElement("path",{d:"M.857 4.5h2.786c.828 0 1.5-.784 1.5-1.75S4.47 1 3.643 1H.857v3.5zm4.498.14C6.31 5.004 7 6.035 7 7.25 7 8.769 5.923 10 4.594 10H.875C.392 10 0 9.552 0 9V1c0-.552.384-1 .857-1h2.786C4.945 0 6 1.231 6 2.75a3 3 0 0 1-.645 1.89zm-1.712.86H.875V9h3.719c.845 0 1.531-.784 1.531-1.75S5.439 5.5 4.594 5.5h-.951z"});function a(e){return o.createElement("svg",r({width:7,height:10,viewBox:"0 0 7 10"},e),i)}e.exports=a,a.default=a},function(e,t,n){function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var o=n(0),i=o.createElement("path",{d:"M2.7 9H4a.5.5 0 0 1 0 1H.5a.5.5 0 0 1 0-1h1.2l1.6-8H2a.5.5 0 0 1 0-1h3.5a.5.5 0 0 1 0 1H4.3L2.7 9z"});function a(e){return o.createElement("svg",r({width:6,height:10,viewBox:"0 0 6 10"},e),i)}e.exports=a,a.default=a},function(e,t,n){function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var o=n(0),i=o.createElement("path",{d:"M.875.438V4.8c0 1.325 1.175 2.4 2.625 2.4s2.625-1.075 2.625-2.4V.438a.437.437 0 1 1 .875 0V4.8C7 6.567 5.433 8 3.5 8S0 6.567 0 4.8V.438a.437.437 0 1 1 .875 0zM.5 9h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 1 0-1z"});function a(e){return o.createElement("svg",r({width:7,height:10,viewBox:"0 0 7 10"},e),i)}e.exports=a,a.default=a},function(e,t,n){function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var o=n(0),i=o.createElement("path",{d:"M3.75 5.5H.5a.5.5 0 0 1 0-1h1.129A2.75 2.75 0 0 1 3.75 0c.994 0 1.761.423 2.301 1.27a.52.52 0 0 1-.18.732.424.424 0 0 1-.591-.181C5.013 1.274 4.503 1 3.75 1a1.75 1.75 0 0 0 0 3.5H7.5a.5.5 0 0 1 0 1H5.871A2.75 2.75 0 0 1 3.75 10c-1.212 0-2.047-.412-2.505-1.236a.437.437 0 0 1 .17-.594.437.437 0 0 1 .099-.04.559.559 0 0 1 .623.252C2.384 8.794 2.92 9 3.75 9a1.75 1.75 0 0 0 0-3.5z"});function a(e){return o.createElement("svg",r({width:8,height:10,viewBox:"0 0 8 10"},e),i)}e.exports=a,a.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=n(2);t.fontValue=[o.FontFamilyValue.AVENIRNEXT,o.FontFamilyValue.CALIBRI,o.FontFamilyValue.PMINGLIU,o.FontFamilyValue.IMPACT,o.FontFamilyValue.GEORGIA,o.FontFamilyValue.ARIAL,o.FontFamilyValue.TIMESNEWROMAN,o.FontFamilyValue.SIMHEI,o.FontFamilyValue.MICROSOFTYAHEI],t.FontFamily=function(e){var n=e.font,i=void 0===n?o.FontFamilyValue.AVENIRNEXT:n,a=e.onChange,s=void 0===a?function(){}:a,u=e.style,l=e.className;return r.React.createElement(o.Input,{title:i,className:r.classNames(l,"jimu-builder-common--font-family"),style:u,type:"select",name:"font-family",value:i,onChange:function(e){s(e.target.value)}},t.fontValue.map(function(e,t){return r.React.createElement("option",{key:t,value:e,label:e},e)}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=n(343),i=n(2),a=n(4),s=n(345),u=n(346),l=n(347),c=n(348);t._Align=function(e){var t=e.align,n=void 0===t?i.AlignValue.LEFT:t,p=e.onChange,f=void 0===p?function(){}:p,d=e.className,h=e.intl,g=function(e){return h?h.formatMessage({id:e,defaultMessage:a.default[e]}):e};return r.React.createElement(o.Picker,{className:d,value:n,options:[{icon:s,value:i.AlignValue.LEFT,label:g("left")},{icon:u,value:i.AlignValue.CENTER,label:g("center")},{icon:l,value:i.AlignValue.RIGHT,label:g("right")},{icon:c,value:i.AlignValue.JUSTIFY,label:g("justify")}],onChange:function(e){f(e)}})},t.Align=r.themeUtils.withTheme(t._Align)},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(1),s=n(2),u=n(344),l=function(e){function t(t){var n=e.call(this,t)||this;return n.handleChange=function(e){n.props.onChange(e.target.value)},n.handleClick=function(){n.setState({showPicker:!n.state.showPicker})},n.onOptionClick=function(e){n.setState({showPicker:!1}),n.props.onChange(e)},n.getIconByValue=function(e){var t=n.props.options.filter(function(t){return t.value===e})[0];return t&&t.icon},n.getStyle=function(){var e=n.props.theme,t=e&&e.colors?e.colors.white:"white";return a.css(i||(i=o(["\n            cursor: pointer;\n            width: ",";\n            height: ",";\n            > .picker-label {\n                display: flex;\n                justify-content: space-around;\n                align-items: center;\n                cursor: inherit;\n                width: ",";\n                height: ",";\n            }\n            .picker-options {\n                background: ",";\n                width: ",";\n                white-space: nowrap;\n                > .option {\n                    cursor: pointer;\n                    width: 100%;\n                    height: ",";\n                    display: flex;\n                    justify-content: center;\n                    align-items: center;\n                }\n            }\n        "],["\n            cursor: pointer;\n            width: ",";\n            height: ",";\n            > .picker-label {\n                display: flex;\n                justify-content: space-around;\n                align-items: center;\n                cursor: inherit;\n                width: ",";\n                height: ",";\n            }\n            .picker-options {\n                background: ",";\n                width: ",";\n                white-space: nowrap;\n                > .option {\n                    cursor: pointer;\n                    width: 100%;\n                    height: ",";\n                    display: flex;\n                    justify-content: center;\n                    align-items: center;\n                }\n            }\n        "])),a.polished.rem(50),a.polished.rem(26),a.polished.rem(50),a.polished.rem(26),t,a.polished.rem(50),a.polished.rem(26))},n.getLabel=function(e){var t=n.props.options,r=(void 0===t?[]:t).find(function(t){return t.value===e});return r?r.label||r.value:e},n.state={showPicker:!1},n.domNode=a.React.createRef(),n}return r(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.value,r=t.style,o=t.className,i=t.options,l=this.state.showPicker;return a.jsx("div",{css:this.getStyle(),className:a.classNames(o,"jimu-builder-common--picker"),style:r,onChange:this.handleChange},a.jsx("div",{className:"picker-label border rounded",title:this.getLabel(n),ref:this.domNode,onClick:this.handleClick},a.jsx(s.Icon,{icon:this.getIconByValue(n),size:12}),a.jsx(s.Icon,{icon:u,size:8})),a.jsx(s.Popper,{className:"picker-options flex-column",open:l,reference:this.domNode,offset:[0,0]},i.map(function(t,n){return a.jsx("div",{title:e.getLabel(t.value),className:"option",key:n,onClick:function(n){return e.onOptionClick(t.value)}},a.jsx(s.Icon,{icon:t.icon,size:12}))})))},t.defaultProps={options:[],onChange:function(){}},t}(a.React.PureComponent);t._Picker=l,t.Picker=a.themeUtils.withTheme(l)},function(e,t,n){function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var o=n(0),i=o.createElement("path",{d:"M1.521 2.307L4 4.677l2.479-2.37a.517.517 0 0 1 .708 0 .464.464 0 0 1 0 .677l-2.833 2.71a.517.517 0 0 1-.708 0L.813 2.983a.464.464 0 0 1 0-.677.517.517 0 0 1 .708 0z"}),a=o.createElement("path",{d:"M0 0h8v8H0z",fill:"none"});function s(e){return o.createElement("svg",r({width:8,height:8,viewBox:"0 0 8 8"},e),i,a)}e.exports=s,s.default=s},function(e,t,n){function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var o=n(0),i=o.createElement("path",{d:"M.5 0h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 1 0-1zm0 6h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1 0-1zm0-3h8a.5.5 0 0 1 0 1h-8a.5.5 0 0 1 0-1zm0 6h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1 0-1z"});function a(e){return o.createElement("svg",r({width:10,height:10,viewBox:"0 0 10 10"},e),i)}e.exports=a,a.default=a},function(e,t,n){function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var o=n(0),i=o.createElement("path",{d:"M2.5 0h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1 0-1zm0 6h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1 0-1zm-2-3h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1 0-1zm0 6h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1 0-1z"});function a(e){return o.createElement("svg",r({width:10,height:10,viewBox:"0 0 10 10"},e),i)}e.exports=a,a.default=a},function(e,t,n){function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var o=n(0),i=o.createElement("path",{d:"M3.5 0h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 1 0-1zm1 6h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1 0-1zm-3-3h8a.5.5 0 0 1 0 1h-8a.5.5 0 0 1 0-1zm-1 6h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1 0-1z"});function a(e){return o.createElement("svg",r({width:10,height:10,viewBox:"0 0 10 10"},e),i)}e.exports=a,a.default=a},function(e,t,n){function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var o=n(0),i=o.createElement("path",{d:"M.5 0h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1 0-1zm0 6h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1 0-1zm0-3h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1 0-1zm0 6h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1 0-1z"});function a(e){return o.createElement("svg",r({width:10,height:10,viewBox:"0 0 10 10"},e),i)}e.exports=a,a.default=a},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(2),a=n(4),s=n(350),u=n(351),l=((r={})[i.ListValue.ORDERED]=u,r[i.ListValue.BULLET]=s,r),c=[i.ListValue.ORDERED,i.ListValue.BULLET];t._List=function(e){var t=e.list,n=e.onClick,r=void 0===n?function(){}:n,s=e.className,u=e.intl;return o.React.createElement(i.ButtonGroup,{className:o.classNames(s,"jimu-builder-common--list"),size:"sm"},c.map(function(e,n){return o.React.createElement(i.Button,{key:n,title:function(e){return u?u.formatMessage({id:e,defaultMessage:a.default[e]}):e}(e),icon:!0,size:"sm",active:t===e,onClick:function(){return r(t!==e&&e)},color:"secondary"},o.React.createElement(i.Icon,{size:14,icon:l[e]}))}))},t.List=o.themeUtils.withTheme(t._List)},function(e,t,n){function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var o=n(0),i=o.createElement("path",{d:"M3.5 1h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 1 0-1zM1 2.5a1 1 0 1 0 0-2 1 1 0 0 0 0 2zM1 6a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm0 3.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2zm2.5-5h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 1 0-1zm0 3.5h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 1 0-1z"});function a(e){return o.createElement("svg",r({width:10,height:10,viewBox:"0 0 10 10"},e),i)}e.exports=a,a.default=a},function(e,t,n){function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var o=n(0),i=o.createElement("path",{d:"M3.5 1h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 1 0-1zM.905 2.8V.744l-.545.403L0 .677.963 0H1.6v2.8H.905zM.057 6.4v-.54l1.048-.962c.065-.064.118-.13.159-.196a.422.422 0 0 0 .06-.224.32.32 0 0 0-.09-.237.33.33 0 0 0-.243-.09.331.331 0 0 0-.26.113.517.517 0 0 0-.12.299L0 4.478a.978.978 0 0 1 .112-.37.952.952 0 0 1 .226-.275.972.972 0 0 1 .313-.173 1.159 1.159 0 0 1 .374-.06c.124 0 .244.017.36.05a.933.933 0 0 1 .311.154.766.766 0 0 1 .219.262.794.794 0 0 1 .081.37.856.856 0 0 1-.038.264.882.882 0 0 1-.104.217 1.25 1.25 0 0 1-.152.187 5.664 5.664 0 0 1-.176.171l-.623.563H2V6.4H.057zM2 9.155c0 .146-.028.271-.085.378a.786.786 0 0 1-.223.262.97.97 0 0 1-.31.154A1.236 1.236 0 0 1 1.03 10a1.394 1.394 0 0 1-.34-.041 1.05 1.05 0 0 1-.3-.126.884.884 0 0 1-.238-.218.916.916 0 0 1-.153-.32l.566-.155a.473.473 0 0 0 .15.231c.074.067.17.1.286.1a.49.49 0 0 0 .132-.019.359.359 0 0 0 .12-.058.312.312 0 0 0 .087-.103.328.328 0 0 0 .035-.158.296.296 0 0 0-.046-.169.325.325 0 0 0-.12-.107.575.575 0 0 0-.168-.056 1.07 1.07 0 0 0-.189-.017H.69v-.462h.178c.057 0 .113-.004.166-.013a.434.434 0 0 0 .144-.049.281.281 0 0 0 .102-.095.29.29 0 0 0 .038-.158.258.258 0 0 0-.098-.218.36.36 0 0 0-.225-.075.342.342 0 0 0-.227.08.375.375 0 0 0-.126.217l-.566-.135a.88.88 0 0 1 .142-.295.882.882 0 0 1 .223-.21 1.014 1.014 0 0 1 .281-.128 1.14 1.14 0 0 1 .313-.043c.113 0 .224.015.332.045a.877.877 0 0 1 .288.139.725.725 0 0 1 .205.234.675.675 0 0 1 .078.333c0 .147-.04.272-.121.373a.59.59 0 0 1-.31.205v.01a.649.649 0 0 1 .199.085.651.651 0 0 1 .156.14.624.624 0 0 1 .102.18.614.614 0 0 1 .036.211zM3.5 4.5h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 1 0-1zm0 3.5h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 1 0-1z"});function a(e){return o.createElement("svg",r({width:10,height:10,viewBox:"0 0 10 10"},e),i)}e.exports=a,a.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=n(2),i=n(4),a=n(353),s=n(354);t._Indent=function(e){var t=e.value,n=void 0===t?o.IndentValue.ZERO:t,u=e.onClick,l=void 0===u?function(){}:u,c=e.className,p=e.intl,f=function(e){var t=n+e;t<0&&(t=0),t>8&&(t=8),l(t)},d=function(e){return p?p.formatMessage({id:e,defaultMessage:i.default[e]}):e};return r.React.createElement(o.ButtonGroup,{className:r.classNames(c,"jimu-builder-common--intent"),size:"sm"},r.React.createElement(o.Button,{title:d("left"),icon:!0,size:"sm",onClick:function(){return f(-1)},color:"secondary"},r.React.createElement(o.Icon,{size:14,icon:a})),r.React.createElement(o.Button,{title:d("right"),icon:!0,size:"sm",onClick:function(){return f(1)},color:"secondary"},r.React.createElement(o.Icon,{size:14,icon:s})))},t.Indent=r.themeUtils.withTheme(t._Indent)},function(e,t,n){function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var o=n(0),i=o.createElement("path",{d:"M.5 0h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1 0-1zm4 6h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1 0-1zM2 3v4L0 5l2-2zm2.5 0h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1 0-1zm-4 6h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1 0-1z"});function a(e){return o.createElement("svg",r({width:10,height:10,viewBox:"0 0 10 10"},e),i)}e.exports=a,a.default=a},function(e,t,n){function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var o=n(0),i=o.createElement("path",{d:"M9.5 0a.5.5 0 0 1 0 1h-9a.5.5 0 0 1 0-1h9zm-4 6a.5.5 0 0 1 0 1h-5a.5.5 0 0 1 0-1h5zM8 3l2 2-2 2V3zM5.5 3a.5.5 0 0 1 0 1h-5a.5.5 0 0 1 0-1h5zm4 6a.5.5 0 0 1 0 1h-9a.5.5 0 0 1 0-1h9z"});function a(e){return o.createElement("svg",r({width:10,height:10,viewBox:"0 0 10 10"},e),i)}e.exports=a,a.default=a},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var i,a,s=n(1),u=n(2),l=n(65),c=n(4),p=n(356),f=function(e){function t(n){var r=e.call(this,n)||this;return r.getStyle=function(){return s.css(i||(i=o(["\n      display: flex;\n      height: ",";\n    "],["\n      display: flex;\n      height: ",";\n    "])),s.polished.rem(26))},r.onSettingConfirm=function(e){r.toggle(),r.props.onChange(e)},r.handleClick=function(e){r.props.onClick(e),r.toggle()},r.toggle=function(){r.setState({show:!r.state.show})},r.nls=function(e){return r.props.intl?r.props.intl.formatMessage({id:e,defaultMessage:c.default[e]}):e},r.state={show:!1},t.count++,r.id="text-link-"+t.count,r}return r(t,e),t.prototype.render=function(){var e=this.props,t=e.link,n=e.style,r=e.innerClassName,i=e.className,c=e.title,f=e.dataSourceIds;return s.jsx("div",{title:c,css:this.getStyle(),style:n,className:s.classNames(i,"jimu-builder-common--link")},s.jsx(u.Button,{id:this.id,title:this.nls("link"),icon:!0,size:"sm",onClick:this.handleClick,color:"secondary",active:!!t},s.jsx(u.Icon,{size:14,icon:p})),s.jsx(u.Popper,{toggle:this.toggle,toggleClass:".component-expression-builder-popup",css:s.css(a||(a=o(["height: ",";width: ",";"],["height: ",";width: ",";"])),s.polished.rem(550),s.polished.rem(260)),zIndex:61,offset:[0,5],className:s.classNames(r,"popper-for-jimu-builder-common--link"),placement:"bottom",open:this.state.show,reference:this.id},s.jsx(l.default,{className:"p-3 bg-white border shadow rounded",dataSourceIds:f,linkParam:t,onSettingConfirm:this.onSettingConfirm,selectAreaMaxHeight:"130px"})))},t.count=0,t.defaultProps={onChange:function(){},onClick:function(){}},t}(s.React.PureComponent);t._Link=f,t.Link=s.themeUtils.withTheme(s.injectIntl(f))},function(e,t,n){function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var o=n(0),i=o.createElement("path",{d:"M19.6 26.267a2.8 2.8 0 0 1-2.8 2.8h-3.733C5.85 29.067 0 23.217 0 16S5.85 2.933 13.067 2.933H16.8a2.8 2.8 0 0 1 0 5.6h-3.733a7.467 7.467 0 1 0 0 14.934H16.8a2.8 2.8 0 0 1 2.8 2.8zm8.4-2.8h3.733a7.467 7.467 0 1 0 0-14.934H28a2.8 2.8 0 0 1 0-5.6h3.733C38.95 2.933 44.8 8.783 44.8 16s-5.85 13.067-13.067 13.067H28a2.8 2.8 0 0 1 0-5.6zM15.867 13.2h13.067a2.8 2.8 0 0 1 0 5.6H15.867a2.8 2.8 0 0 1 0-5.6z"});function a(e){return o.createElement("svg",r({width:45,height:32,viewBox:"0 0 45 32"},e),i)}e.exports=a,a.default=a},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(1),s=n(2),u=n(127),l=n(358),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.toFix2=function(e){return l.default.calculateDigits(e)>2?e.toFixed(2):e.toString()},t.getStyle=function(){return a.css(i||(i=o(["\n      .jimu-builder--input-unit {\n        width: 100%;\n      }\n      .input-group-append {\n        width: ",";\n      }\n    "],["\n      .jimu-builder--input-unit {\n        width: 100%;\n      }\n      .input-group-append {\n        width: ",";\n      }\n    "])),a.polished.rem(36))},t.convertValue=function(e){return"object"==typeof e?""+e.distance+e.unit:"string"==typeof e?{distance:a.polished.stripUnit(e),unit:a.polished.stripUnit(e,!0)[1]}:void 0},t.convertToRem=function(e){return a.polished.stripUnit(a.polished.rem(e))},t.convertToPx=function(e){return 16*e},t.handleChange=function(e){var n=t.convertValue(t.props.value),r=e.distance;if(n.unit!==s.UnitTypes.REM&&n.unit!==s.UnitTypes.PIXEL)return t.props.onChange(""+r+e.unit);e.unit!==n.unit&&(e.unit===s.UnitTypes.REM?r=t.convertToRem(e.distance):e.unit===s.UnitTypes.PIXEL&&(r=t.convertToPx(e.distance))),t.props.onChange(""+r+e.unit)},t}return r(t,e),t.prototype.render=function(){var e=this.props,t=e.value,n=e.style,r=e.className;return a.jsx("div",{css:this.getStyle(),style:n,className:r},a.jsx(u.InputUnit,{units:[s.UnitTypes.PIXEL,s.UnitTypes.REM],value:this.convertValue(t),onChange:this.handleChange}))},t.defaultProps={value:"14px",onChange:function(){}},t}(a.React.PureComponent);t.Size=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};t.default={calculateDigits:function(e){return e.toString().indexOf(".")<0?0:e.toString().split(".")[1].length},getUUID:function(){return r()+r()+"_"+r()+"_"+r()+"_"+r()+"_"+r()+r()+r()}}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(1),s=n(2),u=function(e){function t(t){var n=e.call(this,t)||this;return n.getStyle=function(){var e=n.props.theme,t=e?e.colors.grays.gray300:"",r=e?e.colors.cyans.cyan500:"";return a.css(i||(i=o(["\n      display: flex;\n      .btn {\n          border-radius: 0;\n          height:",";\n          width:",";\n          border: 1px solid ",";\n          &.active {\n              outline: 1px solid ",";\n          }\n      }\n      .btn:not(:last-of-type) {\n        margin-right: 6px;\n      }\n    "],["\n      display: flex;\n      .btn {\n          border-radius: 0;\n          height:",";\n          width:",";\n          border: 1px solid ",";\n          &.active {\n              outline: 1px solid ",";\n          }\n      }\n      .btn:not(:last-of-type) {\n        margin-right: 6px;\n      }\n    "])),a.polished.rem(20),a.polished.rem(20),t,r)},n.state={},n}return r(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.color,r=t.colors,o=t.className,i=t.style,u=t.showTip;return a.jsx("div",{css:this.getStyle(),className:a.classNames(o,"jimu-builder--single-color-chooser"),style:i},r.map(function(t,r){return a.jsx(s.Button,{title:u?t.name:"",key:r,style:{background:t.background||t.value},outline:!0,size:"sm",active:n===t.name,onClick:function(n){return e.props.onChange(t.name)}})}))},t.defaultProps={showTip:!1,onChange:function(){}},t}(a.React.PureComponent);t._SingleColorChooser=u,t.SingleColorChooser=a.themeUtils.withTheme(u)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=n(4);t.loadI18nMessage=function(){return function(e,t){return(e=r.i18n.getLocaleToLoad(e,t))?r.i18n.loadLocaleMessages("jimu-for-builder/lib/translations",e).then(function(e){return e}):Promise.resolve(o.default)}(r.getAppStore().getState().appContext.locale,["en"]).then(function(e){return e&&r.getAppStore().dispatch(r.appActions.i18nMessagesLoaded("jimu-for-builder",e)),e})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.INLINE=0]="INLINE",e[e.BLOCK=1]="BLOCK"}(t.FormatType||(t.FormatType={}))},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var o,i,a,s,u,l=n(1),c=l.css(o||(o=r(["box-shadow: 0 1rem 3rem rgba(0, 0, 0, 0.175) !important;"],["box-shadow: 0 1rem 3rem rgba(0, 0, 0, 0.175) !important;"])));t.overWriteSelectButton=l.css(i||(i=r(['\n  .jimu-radio {\n    cursor: pointer;\n    color: #c8cbcd !important;\n    background-color: #000 !important;\n    background: transparent !important;\n    border: 1px solid #808589 !important;\n    input + span {\n      background: #007F94 !important;\n    }\n    &:hover {\n      border: 1px solid #b0c0cf !important;\n    }\n  }\n  select {\n    color: #c8cbcd !important;\n    background-color: #000;\n    border: 1px solid #4d545b !important;\n    height: 26px !important;\n    font-size: 0.8125rem;\n    line-height: 1.5;\n    border-radius: 2px;\n    padding: 0 0.375rem;\n    &:focus {\n      color: #eef0f3;\n      background-color: #000;\n      border-color: #315dfc;\n    }\n    option{\n      max-width: 200px !important;\n    }\n  }\n\n  input[type="number"] { \n    &::-webkit-outer-spin-button,\n    &::-webkit-inner-spin-button {\n        -webkit-appearance: none;\n      }\n    height: 26px;\n    padding: 0rem 0.625rem;\n    font-size: 0.8125rem;\n    line-height: 1.5;\n  }\n\n  button {\n    font-size: 1rem;\n    border: 1px solid transparent;\n    font-size: 1rem;\n    line-height: 1;\n    border-radius: 2px;\n    color: '," !important;\n    background-color: #232323;\n    border-color: #4d545b;\n    box-shadow: 0 0 0;\n    padding: 0.25rem 0.375rem;\n    font-size: 0.8125rem;\n    line-height: 1rem;\n    border-radius: 2px;\n    &.icon-btn.btn-sm {\n      padding: 0.31rem !important;\n    }\n    &.disabled, &.disabled:hover, &:hover {\n      color: "," !important;\n      background-color: #4d545b !important;\n      border-color: #4d545b !important;\n      & > svg {\n        color: "," !important;\n        background-color: #4d545b !important;\n        border-color: #4d545b !important;\n      }\n    }\n    &:hover {\n      background-color: #4D545B !important;\n      & > svg {\n        border-color: #4D545B !important;\n        background-color: #4D545B !important;\n        color: "," !important;\n      }\n    }\n    &.active {\n      background-color: #4d545b !important;\n      border-color: #4d545b !important;\n      & > svg {\n        color: "," !important;\n        background-color: #4d545b !important;\n        border-color: #4d545b !important;\n      }\n    }\n    > svg {\n      font-weight: 300;\n      border: 1px solid transparent;\n      font-size: 1rem;\n      line-height: 1;\n      border-radius: 2px;\n      background-color: #232323;\n      border-color: #232323;\n      box-shadow: 0 0 0;\n      font-size: 0.8125rem;\n      line-height: 1rem;\n      border-radius: 2px;\n      color: "," !important;\n    }\n  }\n\n  .nav-tabs--underline{\n    border-bottom-color: #4d545b !important;\n  }\n  .nav-item a{\n    color: #9fa4a7 !important;\n    background: transparent !important;\n  }\n  .nav-item a:hover{\n    color: #fff !important;\n    background: transparent !important;\n  }\n  .nav-tabs{\n    border-bottom: 1px solid #4d545b !important;\n  }\n  .nav-tabs--underline .nav-link.active {\n    border-bottom: 2px solid #00aabb !important;\n    color: #fff !important;\n  }\n\n  input{\n    background-color: #000 !important;\n    border: 1px solid #4d545b !important;\n    color: #fff !important;\n  }\n  input:focus{\n    color: #c8cbcd !important;\n    background-color: #000 !important;\n    border-color: #00d8ed !important;\n  }\n\n  .text-dark {\n    color: #f9f9fc !important;\n  }\n"],['\n  .jimu-radio {\n    cursor: pointer;\n    color: #c8cbcd !important;\n    background-color: #000 !important;\n    background: transparent !important;\n    border: 1px solid #808589 !important;\n    input + span {\n      background: #007F94 !important;\n    }\n    &:hover {\n      border: 1px solid #b0c0cf !important;\n    }\n  }\n  select {\n    color: #c8cbcd !important;\n    background-color: #000;\n    border: 1px solid #4d545b !important;\n    height: 26px !important;\n    font-size: 0.8125rem;\n    line-height: 1.5;\n    border-radius: 2px;\n    padding: 0 0.375rem;\n    &:focus {\n      color: #eef0f3;\n      background-color: #000;\n      border-color: #315dfc;\n    }\n    option{\n      max-width: 200px !important;\n    }\n  }\n\n  input[type="number"] { \n    &::-webkit-outer-spin-button,\n    &::-webkit-inner-spin-button {\n        -webkit-appearance: none;\n      }\n    height: 26px;\n    padding: 0rem 0.625rem;\n    font-size: 0.8125rem;\n    line-height: 1.5;\n  }\n\n  button {\n    font-size: 1rem;\n    border: 1px solid transparent;\n    font-size: 1rem;\n    line-height: 1;\n    border-radius: 2px;\n    color: '," !important;\n    background-color: #232323;\n    border-color: #4d545b;\n    box-shadow: 0 0 0;\n    padding: 0.25rem 0.375rem;\n    font-size: 0.8125rem;\n    line-height: 1rem;\n    border-radius: 2px;\n    &.icon-btn.btn-sm {\n      padding: 0.31rem !important;\n    }\n    &.disabled, &.disabled:hover, &:hover {\n      color: "," !important;\n      background-color: #4d545b !important;\n      border-color: #4d545b !important;\n      & > svg {\n        color: "," !important;\n        background-color: #4d545b !important;\n        border-color: #4d545b !important;\n      }\n    }\n    &:hover {\n      background-color: #4D545B !important;\n      & > svg {\n        border-color: #4D545B !important;\n        background-color: #4D545B !important;\n        color: "," !important;\n      }\n    }\n    &.active {\n      background-color: #4d545b !important;\n      border-color: #4d545b !important;\n      & > svg {\n        color: "," !important;\n        background-color: #4d545b !important;\n        border-color: #4d545b !important;\n      }\n    }\n    > svg {\n      font-weight: 300;\n      border: 1px solid transparent;\n      font-size: 1rem;\n      line-height: 1;\n      border-radius: 2px;\n      background-color: #232323;\n      border-color: #232323;\n      box-shadow: 0 0 0;\n      font-size: 0.8125rem;\n      line-height: 1rem;\n      border-radius: 2px;\n      color: "," !important;\n    }\n  }\n\n  .nav-tabs--underline{\n    border-bottom-color: #4d545b !important;\n  }\n  .nav-item a{\n    color: #9fa4a7 !important;\n    background: transparent !important;\n  }\n  .nav-item a:hover{\n    color: #fff !important;\n    background: transparent !important;\n  }\n  .nav-tabs{\n    border-bottom: 1px solid #4d545b !important;\n  }\n  .nav-tabs--underline .nav-link.active {\n    border-bottom: 2px solid #00aabb !important;\n    color: #fff !important;\n  }\n\n  input{\n    background-color: #000 !important;\n    border: 1px solid #4d545b !important;\n    color: #fff !important;\n  }\n  input:focus{\n    color: #c8cbcd !important;\n    background-color: #000 !important;\n    border-color: #00d8ed !important;\n  }\n\n  .text-dark {\n    color: #f9f9fc !important;\n  }\n"])),"#C8CBCD","#fff","#fff","#fff","#C8CBCD","#C8CBCD"),t.overWriteJimuBuilderComponent=l.css(a||(a=r(["\n  .jimu-build-color-block {\n    > div {\n      border: 1px #4d545b solid;\n      background: linear-gradient(to right bottom, rgb(0, 0, 0) calc(50% - 1px), #4d545b, rgb(0, 0, 0) calc(50% + 1px));\n    }\n    button {\n      background-color: #232323;\n      border-color: #4d545b;\n      &:hover {\n        background-color: #232323;\n        > svg {\n          color: "," !important;\n        }\n      }\n    }\n  }\n\n  .popper-for-jimu-builder--unit-chooser {\n    .units-list {\n      background: #4d545b !important;\n    }\n  }\n\n  .jimu-builder--markable-item {\n    color: #fff !important;\n    &:hover {\n      background: #007F94 !important;\n    }\n  }\n\n  .jimu-builder-common--picker {\n    color: "," !important;\n    &:hover {\n      color: "," !important;\n    }\n    > .picker-label {\n      border-color: #4d545b !important;\n      border-width: 1px !important;\n    }\n    .picker-options {\n      background: #000;\n      > .option {\n        color: "," !important;\n        &:hover {\n          color: "," !important;\n        }\n      }\n    }\n  }\n\n  .jimu-builder-common--link {\n    .popper-for-jimu-builder-common--link {\n      .bg-white {\n        background: "," !important;\n      }\n      .border {\n        border: 1px solid  "," !important;\n      }\n      ",";\n     \n      color: #f9f9fc !important;\n      .choose-view{\n        background: "," !important;\n      }\n      .item-common{\n        background: black !important;\n      }\n      .view-border{\n        border-color: "," !important;\n      }\n    }\n  }\n"],["\n  .jimu-build-color-block {\n    > div {\n      border: 1px #4d545b solid;\n      background: linear-gradient(to right bottom, rgb(0, 0, 0) calc(50% - 1px), #4d545b, rgb(0, 0, 0) calc(50% + 1px));\n    }\n    button {\n      background-color: #232323;\n      border-color: #4d545b;\n      &:hover {\n        background-color: #232323;\n        > svg {\n          color: "," !important;\n        }\n      }\n    }\n  }\n\n  .popper-for-jimu-builder--unit-chooser {\n    .units-list {\n      background: #4d545b !important;\n    }\n  }\n\n  .jimu-builder--markable-item {\n    color: #fff !important;\n    &:hover {\n      background: #007F94 !important;\n    }\n  }\n\n  .jimu-builder-common--picker {\n    color: "," !important;\n    &:hover {\n      color: "," !important;\n    }\n    > .picker-label {\n      border-color: #4d545b !important;\n      border-width: 1px !important;\n    }\n    .picker-options {\n      background: #000;\n      > .option {\n        color: "," !important;\n        &:hover {\n          color: "," !important;\n        }\n      }\n    }\n  }\n\n  .jimu-builder-common--link {\n    .popper-for-jimu-builder-common--link {\n      .bg-white {\n        background: "," !important;\n      }\n      .border {\n        border: 1px solid  "," !important;\n      }\n      ",";\n     \n      color: #f9f9fc !important;\n      .choose-view{\n        background: "," !important;\n      }\n      .item-common{\n        background: black !important;\n      }\n      .view-border{\n        border-color: "," !important;\n      }\n    }\n  }\n"])),"#fff","#C8CBCD","#fff","#C8CBCD","#fff","#232323","#232323",c,"#232323","#232323"),t.formatsPanelStyle=l.css(s||(s=r(["\n  ","\n  ",";\n  background: "," !important;\n  border-color: "," !important;\n  .tip-icon {\n    color: "," !important;\n  }\n"],["\n  ","\n  ",";\n  background: "," !important;\n  border-color: "," !important;\n  .tip-icon {\n    color: "," !important;\n  }\n"])),t.overWriteJimuBuilderComponent,c,"#232323","#232323","#C8CBCD"),t.expressionPanelStyle=l.css(u||(u=r(["\n  ","\n  ",";\n  background: "," !important;\n  border-color: "," !important;\n  color: #f9f9fc !important;\n  .header-bar {\n    color: #fff;\n    .jimu-icon {\n      color: #C8CBCD;\n      &:hover {\n        color: #fff;\n      }\n    }\n  }\n  .exp-poper{\n    background-color: #353b40 !important;\n    border: 1px solid #6c7278 !important;\n    box-shadow: 0 0 8px 0 rgba(0,0,0,0.50) !important;\n  }\n  .exp-popper-item:hover, .exp-popper-selected-item{\n    background-color: #4d545b !important;\n  }\n  .component-expression-editor .ds-disabled-exp{\n    color: #fff !important;\n  }\n  .component-expression-editor .expression-editor-function-item, .component-field-chooser .field-list .field-item{\n    background-color: #353b40 !important;\n  }\n  .component-expression-editor .expression-editor-function-item:hover, .component-field-chooser .field-list .field-item:hover{\n    background-color: #4d545b !important;\n  }\n  .component-expression-editor .expression-editor-function-item:active.expression-editor-function-item:hover, .component-field-chooser .field-list .field-item:active.field-item:hover{\n    background-color: #000 !important;\n  }\n  .exp-poper{\n    background-color: #232323 !important;\n  }\n  .component-field-chooser{\n    .ds-name{\n      color: #f9f9fc !important;\n    }\n    select{\n      max-width: 170px !important;\n    }\n  }\n"],["\n  ","\n  ",";\n  background: "," !important;\n  border-color: "," !important;\n  color: #f9f9fc !important;\n  .header-bar {\n    color: #fff;\n    .jimu-icon {\n      color: #C8CBCD;\n      &:hover {\n        color: #fff;\n      }\n    }\n  }\n  .exp-poper{\n    background-color: #353b40 !important;\n    border: 1px solid #6c7278 !important;\n    box-shadow: 0 0 8px 0 rgba(0,0,0,0.50) !important;\n  }\n  .exp-popper-item:hover, .exp-popper-selected-item{\n    background-color: #4d545b !important;\n  }\n  .component-expression-editor .ds-disabled-exp{\n    color: #fff !important;\n  }\n  .component-expression-editor .expression-editor-function-item, .component-field-chooser .field-list .field-item{\n    background-color: #353b40 !important;\n  }\n  .component-expression-editor .expression-editor-function-item:hover, .component-field-chooser .field-list .field-item:hover{\n    background-color: #4d545b !important;\n  }\n  .component-expression-editor .expression-editor-function-item:active.expression-editor-function-item:hover, .component-field-chooser .field-list .field-item:active.field-item:hover{\n    background-color: #000 !important;\n  }\n  .exp-poper{\n    background-color: #232323 !important;\n  }\n  .component-field-chooser{\n    .ds-name{\n      color: #f9f9fc !important;\n    }\n    select{\n      max-width: 170px !important;\n    }\n  }\n"])),t.overWriteJimuBuilderComponent,c,"#232323","#232323")},function(e,t,n){"use strict";n.r(t);
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};var o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function i(e,t,n){var r=o({params:{}},n,e);return r.params=t.reduce(function(t,n){return(e[n]||"boolean"==typeof e[n])&&(t[n]=e[n]),t},r.params),["params","httpMethod","rawResponse","authentication","portal","fetch","maxUrlLength","headers"].reduce(function(e,t){return r[t]&&(e[t]=r[t]),e},{})}function a(e){return Object.keys(e).some(function(t){var n=e[t];if(!n)return!1;switch(n&&n.toParam&&(n=n.toParam()),n.constructor.name){case"Array":case"Object":case"Date":case"Function":case"Boolean":case"String":case"Number":return!1;default:return!0}})}function s(e){var t={};return Object.keys(e).forEach(function(n){var r=e[n];if(r&&r.toParam&&(r=r.toParam()),r||0===r||"boolean"==typeof r||"string"==typeof r){var o;switch(r.constructor.name){case"Array":o=r[0]&&r[0].constructor&&"Object"===r[0].constructor.name?JSON.stringify(r):r.join(",");break;case"Object":o=JSON.stringify(r);break;case"Date":o=r.valueOf();break;case"Function":o=null;break;case"Boolean":o=r+"";break;default:o=r}(o||0===o||"string"==typeof o)&&(t[n]=o)}}),t}function u(e){var t=s(e);return Object.keys(t).map(function(e){return function(e,t){return encodeURIComponent(e)+"="+encodeURIComponent(t)}(e,t[e])}).join("&")}var l=function(){return function(e,t,n,r,o){e=e||"UNKNOWN_ERROR",t=t||"UNKNOWN_ERROR_CODE",this.name="ArcGISRequestError",this.message="UNKNOWN_ERROR_CODE"===t?e:t+": "+e,this.originalMessage=e,this.code=t,this.response=n,this.url=r,this.options=o}}();function c(e){console&&console.warn&&console.warn.apply(console,[e])}l.prototype=Object.create(Error.prototype),l.prototype.constructor=l;var p="@esri/arcgis-rest-js",f={httpMethod:"POST",params:{f:"json"}};var d=function(e){function t(t,n,r,o,i){void 0===t&&(t="AUTHENTICATION_ERROR"),void 0===n&&(n="AUTHENTICATION_ERROR_CODE");var a=e.call(this,t,n,r,o,i)||this;return a.name="ArcGISAuthError",a.message="AUTHENTICATION_ERROR_CODE"===n?t:n+": "+t,a}return function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.retry=function(e,t){var n=this;void 0===t&&(t=3);var r=0,i=function(a,s){e(n.url,n.options).then(function(e){var t=o({},n.options,{authentication:e});return r+=1,h(n.url,t)}).then(function(e){a(e)}).catch(function(e){"ArcGISAuthError"===e.name&&r<t?i(a,s):"ArcGISAuthError"===e.name&&r>=t?s(n):s(e)})};return new Promise(function(e,t){i(e,t)})},t}(l);function h(e,t){void 0===t&&(t={params:{f:"json"}});var n=o({httpMethod:"POST"},f,t,{params:o({},f.params,t.params),headers:o({},f.headers,t.headers)}),r=[],i=[];if(n.fetch||"undefined"==typeof fetch?(r.push("`fetch`"),i.push("`node-fetch`")):n.fetch=fetch.bind(Function("return this")()),"undefined"==typeof Promise&&(r.push("`Promise`"),i.push("`es6-promise`")),"undefined"==typeof FormData&&(r.push("`FormData`"),i.push("`isomorphic-form-data`")),!n.fetch||"undefined"==typeof Promise||"undefined"==typeof FormData)throw new Error("`arcgis-rest-request` requires a `fetch` implementation and global variables for `Promise` and `FormData` to be present in the global scope. You are missing "+r.join(", ")+". We recommend installing the "+i.join(", ")+" modules at the root of your application to add these to the global scope. See https://bit.ly/2KNwWaJ for more info.");var c=n.httpMethod,h=n.authentication,g=n.rawResponse,m=o({f:"json"},n.params),y=null,v={method:c,credentials:"same-origin"};return(h?h.getToken(e,{fetch:n.fetch}).catch(function(t){return t.url=e,t.options=n,y=t,Promise.resolve("")}):Promise.resolve("")).then(function(t){if(t.length&&(m.token=t),"GET"===v.method){var r=""===u(m)?e:e+"?"+u(m);n.maxUrlLength&&r.length>n.maxUrlLength?v.method="POST":e=r}var i=new RegExp("/items/.+/updateResources").test(e);return"POST"===v.method&&(v.body=function(e,t){var n=a(e)||t,r=s(e);if(n){var o=new FormData;return Object.keys(r).forEach(function(e){if("undefined"!=typeof Blob&&r[e]instanceof Blob){var t=r.fileName||r[e].name||e;o.append(e,r[e],t)}else o.append(e,r[e])}),o}return u(e)}(m,i)),v.headers=o({},n.headers),"undefined"!=typeof window||v.headers.referer||(v.headers.referer=p),a(m)||i||(v.headers["Content-Type"]="application/x-www-form-urlencoded"),n.fetch(e,v)}).then(function(t){if(!t.ok){var r=t.status,o=t.statusText;throw new l(o,"HTTP "+r,t,e,n)}if(g)return t;switch(m.f){case"json":case"geojson":return t.json();case"html":case"text":return t.text();default:return t.blob()}}).then(function(t){if("json"!==m.f&&"geojson"!==m.f||g)return t;var r=function(e,t,n,r,o){if(e.code>=400){var i=e.message,a=e.code;throw new l(i,a,e,t,r)}if(e.error){var s=e.error,u=(i=s.message,a=s.code,s.messageCode),c=u||a||"UNKNOWN_ERROR_CODE";if(498===a||499===a||"GWM_0003"===u||400===a&&"Unable to generate token."===i)throw o||new d(i,c,e,t,r);throw new l(i,c,e,t,r)}if("failed"===e.status||"failure"===e.status){i=void 0,a="UNKNOWN_ERROR_CODE";try{i=JSON.parse(e.statusMessage).message,a=JSON.parse(e.statusMessage).code}catch(t){i=e.statusMessage||e.message}throw new l(i,a,e,t,r)}return e}(t,e,0,n,y);if(y){var o=e.toLowerCase().split(/\/rest(\/admin)?\/services\//)[0];n.authentication.trustedServers[o]={token:[],expires:new Date(Date.now()+864e5)},y=null}return r})}function g(e){return void 0===e&&(e={}),e.portal?function(e){return"/"===(e=e.trim())[e.length-1]&&(e=e.slice(0,-1)),e}(e.portal):e.authentication?e.authentication.portal:"https://www.arcgis.com/sharing/rest"}function m(e){var t=JSON.parse(JSON.stringify(e));return t.data&&("undefined"!=typeof Blob&&e.data instanceof Blob||"ReadStream"===e.data.constructor.name?t.file=e.data:t.text=e.data,delete t.data),t}function y(e){return e.owner?e.owner:e.item&&e.item.owner?e.item.owner:e.authentication.username}function v(e){var t=y(e),n=g(e)+"/content/users/"+t+"/items/"+e.item.id+"/update";return e.params=o({},e.params,m(e.item)),h(n,e)}function b(e){var t=y(e),n=g(e)+"/content/users/"+t+"/items/"+e.id+"/updateResources";return e.params=o({file:e.resource,fileName:e.name,text:e.content},e.params),void 0!==e.private&&(e.params.access=e.private?"private":"inherit"),h(n,e)}function x(e){var t=y(e),n=g(e)+"/content/users/"+t+"/items/"+e.itemId+"/move",r=e.folderId;return r||(r="/"),e.params=o({folder:r},e.params),h(n,e)}function w(e){y(e);var t=o({item:{id:e.id,data:e.data}},e);return delete t.id,delete t.data,v(t)}function _(e){var t=y(e);return h(g(e)+"/content/users/"+t+"/addRelationship",i(e,["originItemId","destinationItemId","relationshipType"],{params:o({},e.params)}))}function O(e){var t=y(e),n=g(e)+"/content/users/"+t+"/items/"+e.id+"/addResources";return e.params=o({file:e.resource,fileName:e.name,text:e.content,access:e.private?"private":"inherit"},e.params),h(n,e)}function C(e){var t=y(e),n=g(e)+"/content/users/"+t+"/createFolder";return e.params=o({title:e.title},e.params),h(n,e)}function E(e){var t=y(e),n=g(e)+"/content/users/"+t,r=n+"/addItem";return e.folderId&&(r=n+"/"+e.folderId+"/addItem"),e.params=o({},e.params,m(e.item)),h(r,e)}function S(e){return E(o({folderId:null},e))}function P(e,t){return h(g(t)+"/content/items/"+e,o({httpMethod:"GET"},t))}function I(e,t){var n=g(t)+"/content/items/"+e+"/data",r=o({httpMethod:"GET",params:{}},t);return r.file&&(r.params.f=null),h(n,r).catch(function(e){if(!RegExp(/Unexpected end of (JSON input|data at line 1 column 1)/i).test(e.message))throw e})}function k(e){var t=g(e)+"/content/items/"+e.id+"/relatedItems",n=o({httpMethod:"GET",params:{direction:e.direction}},e);return"string"==typeof e.relationshipType?n.params.relationshipType=e.relationshipType:n.params.relationshipTypes=e.relationshipType,delete n.direction,delete n.relationshipType,h(t,n)}function j(e,t){var n=g(t)+"/content/items/"+e+"/resources";return t.params=o({},t.params,{num:1e3}),h(n,t)}function T(e,t){return h(g(t)+"/content/items/"+e+"/groups",t)}function A(e){var t=y(e);return h(g(e)+"/content/users/"+t+"/items/"+e.id+"/protect",e)}function N(e){var t=y(e);return h(g(e)+"/content/users/"+t+"/items/"+e.id+"/unprotect",e)}function R(e){var t=y(e);return h(g(e)+"/content/users/"+t+"/items/"+e.id+"/delete",e)}function M(e){var t=y(e);return h(g(e)+"/content/users/"+t+"/removeRelationship",i(e,["originItemId","destinationItemId","relationshipType"],{params:o({},e.params)}))}function L(e){var t=y(e),n=g(e)+"/content/users/"+t+"/items/"+e.id+"/removeResources";return e.params=o({},e.params,{resource:e.resource}),h(n,e)}function F(e){var t=y(e);return h(g(e)+"/content/users/"+encodeURIComponent(t)+"/"+e.folderId+"/delete",e)}var D=function(){function e(e){void 0===e&&(e=""),this.termStack=[],this.rangeStack=[],this.openGroups=0,this.q=e}return e.prototype.match=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.termStack=this.termStack.concat(e),this},e.prototype.in=function(e){var t="`in("+(e?'"'+e+'"':"")+")`";return this.hasRange||this.hasTerms?(e&&"*"!==e&&(this.q+=e+":"),this.commit()):(c(t+" was called with no call to `match(...)` or `from(...)`/`to(...)`. Your query was not modified."),this)},e.prototype.startGroup=function(){return this.commit(),this.openGroups>0&&(this.q+=" "),this.openGroups++,this.q+="(",this},e.prototype.endGroup=function(){return this.openGroups<=0?(c("`endGroup(...)` was called without calling `startGroup(...)` first. Your query was not modified."),this):(this.commit(),this.openGroups--,this.q+=")",this)},e.prototype.and=function(){return this.addModifier("and")},e.prototype.or=function(){return this.addModifier("or")},e.prototype.not=function(){return this.addModifier("not")},e.prototype.from=function(e){return this.hasTerms?(c("`from(...)` is not allowed after `match(...)` try using `.from(...).to(...).in(...)`. Your query was not modified."),this):(this.rangeStack[0]=e,this)},e.prototype.to=function(e){return this.hasTerms?(c("`to(...)` is not allowed after `match(...)` try using `.from(...).to(...).in(...)`. Your query was not modified."),this):(this.rangeStack[1]=e,this)},e.prototype.boost=function(e){return this.commit(),this.q+="^"+e,this},e.prototype.toParam=function(){return this.commit(),this.cleanup(),this.q},e.prototype.clone=function(){return this.commit(),this.cleanup(),new e(this.q+"")},e.prototype.addModifier=function(e){return this.currentModifer?(c("You have called `"+this.currentModifer+"()` after `"+e+"()`. Your current query was not modified."),this):(this.commit(),""===this.q&&"not"!==e?(c("You have called `"+e+"()` without calling another method to modify your query first. Try calling `match()` first."),this):(this.currentModifer=e,this.q+=""===this.q?"":" ",this.q+=e.toUpperCase()+" ",this))},e.prototype.hasWhiteSpace=function(e){return/\s/g.test(e)},e.prototype.formatTerm=function(e){return e instanceof Date?e.getTime():"string"==typeof e&&this.hasWhiteSpace(e)?'"'+e+'"':e},e.prototype.commit=function(){var e=this;return this.currentModifer=void 0,this.hasRange&&(this.q+="["+this.formatTerm(this.rangeStack[0])+" TO "+this.formatTerm(this.rangeStack[1])+"]",this.rangeStack=[void 0,void 0]),this.hasTerms&&(this.q+=this.termStack.map(function(t){return e.formatTerm(t)}).join(" "),this.termStack=[]),this},Object.defineProperty(e.prototype,"hasTerms",{get:function(){return this.termStack.length>0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasRange",{get:function(){return this.rangeStack.length&&this.rangeStack[0]&&this.rangeStack[1]},enumerable:!0,configurable:!0}),e.prototype.cleanup=function(){if(this.openGroups>0)for(c("Automatically closing "+this.openGroups+" group(s). You can use `endGroup(...)` to remove this warning.");this.openGroups>0;)this.q+=")",this.openGroups--;var e=this.q;this.q=e.replace(/( AND ?| NOT ?| OR ?)*$/,""),e!==this.q&&c("`startGroup(...)` was called without calling `endGroup(...)` first. Your query was not modified."),this.q=this.q.replace(/(\(\))*/,"")},e}();function B(e,t){var n;return h(g(n="string"==typeof e||e instanceof D?{httpMethod:"GET",params:{q:e}}:i(e,["q","num","start","sortField","sortOrder"],{httpMethod:"GET"}))+("item"===t?"/search":"/community/groups"),n).then(function(n){return n.nextStart&&-1!==n.nextStart&&(n.nextPage=function(){var r;return"string"==typeof e||e instanceof D?r={q:e,start:n.nextStart}:(r=e).start=n.nextStart,B(r,t)}),n})}function q(e){return B(e,"item")}function U(e){var t=e.id,n=g(e)+"/community/groups/"+t+"/addUsers",r=Object.assign({},e,{admins:void 0,users:void 0}),o=z("users",e.users,r).concat(z("admins",e.admins,r)).map(function(e){return function(e,t){return h(e,t).catch(function(e){return{errors:[e]}})}(n,e)});return Promise.all(o).then(H)}function z(e,t,n){return!t||t.length<1?[]:function(e,t){if(0===e.length)return[];for(var n=[],r=0;r<e.length;r+=t)n.push(e.slice(r,r+t));return n}(t,25).map(function(t){return function(e,t,n){var r,i;return Object.assign({},n,((r={})[e]=t,r.params=o({},n.params,((i={})[e]=t,i)),r))}(e,t,n)})}function H(e){var t=e.filter(function(e){return e.notAdded}).reduce(function(e,t){return e.concat(t.notAdded)},[]),n=e.filter(function(e){return e.errors}).reduce(function(e,t){return e.concat(t.errors)},[]),r={notAdded:t};return n.length>0&&(r.errors=n),r}function W(e){var t=g(e)+"/community/createGroup";return e.params=o({},e.params,e.group),h(t,e)}function V(e,t){return h(g(t)+"/community/groups/"+e,o({httpMethod:"GET"},t))}function G(e,t){var n=g(t)+"/content/groups/"+e,r=o({httpMethod:"GET"},{params:{start:1,num:100}},t);return t&&t.paging&&(r.params=o({},t.paging)),h(n,r)}function K(e,t){return h(g(t)+"/community/groups/"+e+"/users",o({httpMethod:"GET"},t))}function Y(e){return h(g(e)+"/community/groups/"+e.id+"/createNotification",o({params:o({subject:e.subject,message:e.message,users:e.users,notificationChannelType:e.notificationChannelType||"email",clientId:e.clientId,silentNotification:e.silentNotification,notifyAll:!e.users||0===e.users.length},e.params)},e))}function X(e){return h(g(e)+"/community/groups/"+e.id+"/protect",e)}function Z(e){return h(g(e)+"/community/groups/"+e.id+"/unprotect",e)}function $(e){return h(g(e)+"/community/groups/"+e.id+"/delete",o({},e))}function J(e){return B(e,"group")}function Q(e){var t=g(e)+"/community/groups/"+e.group.id+"/update";return e.params=o({},e.params,e.group),h(t,e)}function ee(e){return h(g(e)+"/community/groups/"+e.id+"/join",e)}function te(e){return h(g(e)+"/community/groups/"+e.id+"/leave",e)}function ne(e){var t,n={httpMethod:"GET"};if("string"==typeof e)t="https://www.arcgis.com/sharing/rest/community/users/"+e;else{var r=e.username||e.authentication.username;t=g(e)+"/community/users/"+encodeURIComponent(r),n=o({},e,n)}return h(t,n)}function re(e){return g(e)+"/community/users/"+encodeURIComponent(e.username)}function oe(e){var t={httpMethod:"GET"},n=encodeURIComponent(e.authentication.username);return h(g(e)+"/community/users/"+n+"/invitations",t=o({},e,t))}function ie(e){var t=encodeURIComponent(e.authentication.username),n={httpMethod:"GET"};return h(g(e)+"/community/users/"+t+"/invitations/"+e.invitationId,n=o({},e,n))}function ae(e){var t=encodeURIComponent(e.authentication.username);return h(g(e)+"/community/users/"+t+"/invitations/"+e.invitationId+"/accept",o({},e))}function se(e){var t=encodeURIComponent(e.authentication.username);return h(g(e)+"/community/users/"+t+"/invitations/"+e.invitationId+"/decline",o({},e))}function ue(e){var t={httpMethod:"GET"},n=encodeURIComponent(e.authentication.username);return h(g(e)+"/community/users/"+n+"/notifications",t=o({},e,t))}function le(e){var t=encodeURIComponent(e.authentication.username);return h(g(e)+"/community/users/"+t+"/notifications/"+e.id+"/delete",e)}function ce(e){var t=e.user.username||e.authentication.username,n=g(e)+"/community/users/"+encodeURIComponent(t)+"/update";return e.params=o({},e.user,e.params),delete e.user,h(n,e)}function pe(e){var t=e.authentication.username,n=e.owner||t;return g(e)+"/content/users/"+encodeURIComponent(n)+"/items/"+e.id+"/share"}function fe(e){var t=e.authentication.username;return(e.owner||t)===t}function de(e){return e.authentication.getUser(e).then(function(e){return!(!e||"org_admin"!==e.role)})}function he(e){return V(e.groupId,e).then(function(e){return e.userMembership.memberType}).catch(function(){return"nonmember"})}function ge(e){var t=pe(e);return fe(e)?me(t,e):de(e).then(function(n){if(n)return me(t,e);throw Error("This item can not be shared by "+e.authentication.username+". They are neither the item owner nor an organization admin.")})}function me(e,t){return t.params=o({org:!1,everyone:!1},t.params),"private"===t.access&&(t.params.groups=" "),"org"===t.access&&(t.params.org=!0),"public"===t.access&&(t.params.org=!0,t.params.everyone=!0),h(e,t)}function ye(e){return be(o({action:"share"},e))}function ve(e){return be(o({action:"unshare"},e))}function be(e){var t=e.authentication.username,n=e.owner||t;return de(e).then(function(r){var i="share"===e.action?"notSharedWith":"notUnsharedFrom";return function(e){var t={q:"id: "+e.id+" AND group: "+e.groupId,start:1,num:10,sortField:"title"},n=o({},e,{rawResponse:!1});return n.params=o({},t,e.params),h(g(n)+"/search",n).then(function(t){return 0!==t.total&&(t.results.some(function(t){var r=t.id===e.id;return r&&(n=t),r}),!!n);var n})}(e).then(function(o){if("share"===e.action&&!0===o||"unshare"===e.action&&!1===o){var a={itemId:e.id,shortcut:!0};return a[i]=[],a}return he(e).then(function(o){if("nonmember"===o)throw Error("This item can not be "+e.action+"d by "+t+" as they are not a member of the specified group "+e.groupId+".");if(n===t)return g(e)+"/content/users/"+n+"/items/"+e.id+"/"+e.action;if("admin"===o||"owner"===o||r)return g(e)+"/content/items/"+e.id+"/"+e.action;throw Error("This item can not be "+e.action+"d by "+t+" as they are neither the owner, a groupAdmin of "+e.groupId+", nor an org_admin.")}).then(function(t){return e.params={groups:e.groupId,confirmItemControl:e.confirmItemControl},h(t,e)}).then(function(t){if(t[i].length)throw Error("Item "+e.id+" could not be "+e.action+"d to group "+e.groupId+".");return t})})})}function xe(e){return we(null,e)}function we(e,t){var n=e||"self";return h(g(t)+"/portals/"+n,o({httpMethod:"GET"},t))}n.d(t,"addItemData",function(){return w}),n.d(t,"addItemRelationship",function(){return _}),n.d(t,"addItemResource",function(){return O}),n.d(t,"createFolder",function(){return C}),n.d(t,"createItemInFolder",function(){return E}),n.d(t,"createItem",function(){return S}),n.d(t,"getItem",function(){return P}),n.d(t,"getItemData",function(){return I}),n.d(t,"getRelatedItems",function(){return k}),n.d(t,"getItemResources",function(){return j}),n.d(t,"getItemGroups",function(){return T}),n.d(t,"protectItem",function(){return A}),n.d(t,"unprotectItem",function(){return N}),n.d(t,"removeItem",function(){return R}),n.d(t,"removeItemRelationship",function(){return M}),n.d(t,"removeItemResource",function(){return L}),n.d(t,"removeFolder",function(){return F}),n.d(t,"searchItems",function(){return q}),n.d(t,"updateItem",function(){return v}),n.d(t,"updateItemResource",function(){return b}),n.d(t,"moveItem",function(){return x}),n.d(t,"serializeItem",function(){return m}),n.d(t,"determineOwner",function(){return y}),n.d(t,"addGroupUsers",function(){return U}),n.d(t,"createGroup",function(){return W}),n.d(t,"getGroup",function(){return V}),n.d(t,"getGroupContent",function(){return G}),n.d(t,"getGroupUsers",function(){return K}),n.d(t,"createGroupNotification",function(){return Y}),n.d(t,"protectGroup",function(){return X}),n.d(t,"unprotectGroup",function(){return Z}),n.d(t,"removeGroup",function(){return $}),n.d(t,"searchGroups",function(){return J}),n.d(t,"updateGroup",function(){return Q}),n.d(t,"joinGroup",function(){return ee}),n.d(t,"leaveGroup",function(){return te}),n.d(t,"getUser",function(){return ne}),n.d(t,"getUserUrl",function(){return re}),n.d(t,"getUserInvitations",function(){return oe}),n.d(t,"getUserInvitation",function(){return ie}),n.d(t,"acceptInvitation",function(){return ae}),n.d(t,"declineInvitation",function(){return se}),n.d(t,"getUserNotifications",function(){return ue}),n.d(t,"removeNotification",function(){return le}),n.d(t,"updateUser",function(){return ce}),n.d(t,"setItemAccess",function(){return ge}),n.d(t,"shareItemWithGroup",function(){return ye}),n.d(t,"unshareItemWithGroup",function(){return ve}),n.d(t,"getSharingUrl",function(){return pe}),n.d(t,"isItemOwner",function(){return fe}),n.d(t,"isOrgAdmin",function(){return de}),n.d(t,"getUserMembership",function(){return he}),n.d(t,"getSelf",function(){return xe}),n.d(t,"getPortal",function(){return we}),n.d(t,"getPortalUrl",function(){return g}),n.d(t,"SearchQueryBuilder",function(){return D})},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),i=n(112),a=n(113),s=function(e){var t=[],n=null,r=function(){for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];t=o,n||(n=requestAnimationFrame(function(){n=null,e.apply(void 0,t)}))};return r.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},r},u=n(8);var l=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},c=n(114),p="object"==typeof self&&self&&self.Object===Object&&self,f=c.a||p||Function("return this")(),d=function(){return f.Date.now()},h=f.Symbol,g=Object.prototype,m=g.hasOwnProperty,y=g.toString,v=h?h.toStringTag:void 0;var b=function(e){var t=m.call(e,v),n=e[v];try{e[v]=void 0;var r=!0}catch(e){}var o=y.call(e);return r&&(t?e[v]=n:delete e[v]),o},x=Object.prototype.toString;var w=function(e){return x.call(e)},_="[object Null]",O="[object Undefined]",C=h?h.toStringTag:void 0;var E=function(e){return null==e?void 0===e?O:_:C&&C in Object(e)?b(e):w(e)};var S=function(e){return null!=e&&"object"==typeof e},P="[object Symbol]";var I=function(e){return"symbol"==typeof e||S(e)&&E(e)==P},k=NaN,j=/^\s+|\s+$/g,T=/^[-+]0x[0-9a-f]+$/i,A=/^0b[01]+$/i,N=/^0o[0-7]+$/i,R=parseInt;var M=function(e){if("number"==typeof e)return e;if(I(e))return k;if(l(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=l(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(j,"");var n=A.test(e);return n||N.test(e)?R(e.slice(2),n?2:8):T.test(e)?k:+e},L="Expected a function",F=Math.max,D=Math.min;var B=function(e,t,n){var r,o,i,a,s,u,c=0,p=!1,f=!1,h=!0;if("function"!=typeof e)throw new TypeError(L);function g(t){var n=r,i=o;return r=o=void 0,c=t,a=e.apply(i,n)}function m(e){var n=e-u;return void 0===u||n>=t||n<0||f&&e-c>=i}function y(){var e=d();if(m(e))return v(e);s=setTimeout(y,function(e){var n=t-(e-u);return f?D(n,i-(e-c)):n}(e))}function v(e){return s=void 0,h&&r?g(e):(r=o=void 0,a)}function b(){var e=d(),n=m(e);if(r=arguments,o=this,u=e,n){if(void 0===s)return function(e){return c=e,s=setTimeout(y,t),p?g(e):a}(u);if(f)return s=setTimeout(y,t),g(u)}return void 0===s&&(s=setTimeout(y,t)),a}return t=M(t)||0,l(n)&&(p=!!n.leading,i=(f="maxWait"in n)?F(M(n.maxWait)||0,t):i,h="trailing"in n?!!n.trailing:h),b.cancel=function(){void 0!==s&&clearTimeout(s),c=0,r=u=o=s=void 0},b.flush=function(){return void 0===s?a:v(d())},b},q="Expected a function";var U={debounce:B,throttle:function(e,t,n){var r=!0,o=!0;if("function"!=typeof e)throw new TypeError(q);return l(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),B(e,t,{leading:r,maxWait:t,trailing:o})}},z=function(e){return U[e]},H=function(e){return"function"==typeof e},W=function(){return"undefined"==typeof window};function V(e){return(V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function G(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function K(e,t){return!t||"object"!==V(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Y(e){return(Y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function X(e,t){return(X=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Z=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),K(this,Y(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&X(e,t)}(t,r["PureComponent"]),function(e,t,n){t&&G(e.prototype,t),n&&G(e,n)}(t,[{key:"render",value:function(){return this.props.children}}]),t}();function $(e){return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function J(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Q(e){return(Q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ee(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function te(e,t){return(te=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var re=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ne(ee(n=function(e,t){return!t||"object"!==$(t)&&"function"!=typeof t?ee(e):t}(this,Q(t).call(this,e))),"cancelHandler",function(){n.resizeHandler&&n.resizeHandler.cancel&&(n.resizeHandler.cancel(),n.resizeHandler=null)}),ne(ee(n),"rafClean",function(){n.raf&&n.raf.cancel&&(n.raf.cancel(),n.raf=null)}),ne(ee(n),"toggleObserver",function(e){var t=n.getElement();t&&n.resizeObserver[e]&&n.resizeObserver[e](t)}),ne(ee(n),"getElement",function(){var e=n.props.querySelector;if(!W()){if(e)return document.querySelector(e);var t=n.element&&Object(i.findDOMNode)(n.element);if(t)return t.parentElement}}),ne(ee(n),"createUpdater",function(){return n.rafClean(),n.raf=s(function(e){var t=e.width,r=e.height,o=n.props.onResize;H(o)&&o(t,r),n.setState({width:t,height:r})}),n.raf}),ne(ee(n),"createResizeHandler",function(e){var t=n.state,r=t.width,o=t.height,i=n.props,a=i.handleWidth,s=i.handleHeight;if(a||s){var u=n.createUpdater();e.forEach(function(e){var t=e&&e.contentRect||{},i=t.width,l=t.height,c=a&&r!==i||s&&o!==l;!n.skipOnMount&&c&&!W()&&u({width:i,height:l}),n.skipOnMount=!1})}}),ne(ee(n),"onRef",function(e){n.element=e}),ne(ee(n),"getRenderType",function(){var e=n.props,t=e.render,o=e.children;return H(t)?"renderProp":H(o)?"childFunction":Object(r.isValidElement)(o)?"child":Array.isArray(o)?"childArray":"parent"}),ne(ee(n),"getTargetComponent",function(){var e=n.props,t=e.render,o=e.children,i=e.nodeType,a=n.state,s={width:a.width,height:a.height};switch(n.getRenderType()){case"renderProp":return Object(r.cloneElement)(t(s),{key:"resize-detector"});case"childFunction":return Object(r.cloneElement)(o(s));case"child":return Object(r.cloneElement)(o,s);case"childArray":return o.map(function(e){return Object(r.cloneElement)(e,s)});default:return Object(r.createElement)(i)}});var o=e.skipOnMount,u=e.refreshMode,l=e.refreshRate,c=e.refreshOptions;n.state={width:void 0,height:void 0},n.skipOnMount=o,n.raf=null,n.element=null,n.unmounted=!1;var p=z(u);return n.resizeHandler=p?p(n.createResizeHandler,l,c):n.createResizeHandler,n.resizeObserver=new a.a(n.resizeHandler),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&te(e,t)}(t,r["PureComponent"]),function(e,t,n){t&&J(e.prototype,t),n&&J(e,n)}(t,[{key:"componentDidMount",value:function(){this.toggleObserver("observe")}},{key:"componentWillUnmount",value:function(){this.toggleObserver("unobserve"),this.rafClean(),this.cancelHandler(),this.unmounted=!0}},{key:"render",value:function(){return o.a.createElement(Z,{ref:this.onRef},this.getTargetComponent())}}]),t}();re.propTypes={handleWidth:u.bool,handleHeight:u.bool,skipOnMount:u.bool,refreshRate:u.number,refreshMode:u.string,refreshOptions:Object(u.shape)({leading:u.bool,trailing:u.bool}),querySelector:u.string,onResize:u.func,render:u.func,children:u.any,nodeType:u.node},re.defaultProps={handleWidth:!1,handleHeight:!1,skipOnMount:!1,refreshRate:1e3,refreshMode:void 0,refreshOptions:void 0,querySelector:null,onResize:null,render:void 0,children:null,nodeType:"div"};var oe=re;function ie(e){return(ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function se(e,t){return!t||"object"!==ie(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ue(e){return(ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function le(e,t){return(le=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ce=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{handleWidth:!0,handleHeight:!0};return function(n){function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),se(this,ue(i).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&le(e,t)}(i,r.Component),function(e,t,n){t&&ae(e.prototype,t),n&&ae(e,n)}(i,[{key:"render",value:function(){return o.a.createElement(oe,t,o.a.createElement(e,this.props))}}]),i}()};n.d(t,"withResizeDetector",function(){return ce});t.default=oe},,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(1),s=n(111),u=n(2),l=n(362),c=n(460),p=n(128),f=n(461),d=n(462),h=n(463),g=n(361),m=n(4),y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getStyle=function(){return a.css(i||(i=o(["\n      .mt-2_5 {\n        margin-top:  "," !important;\n      }\n      .mr-2_5 {\n        margin-right:  "," !important;\n      }\n      ","\n      padding: "," ",";\n    "],["\n      .mt-2_5 {\n        margin-top:  "," !important;\n      }\n      .mr-2_5 {\n        margin-right:  "," !important;\n      }\n      ","\n      padding: "," ",";\n    "])),a.polished.rem(12),a.polished.rem(12),l.formatsPanelStyle,a.polished.rem(12),a.polished.rem(16))},t.nls=function(e){return t.props.intl?t.props.intl.formatMessage({id:e,defaultMessage:m.default[e]}):e},t}return r(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.className,r=t.style,o=t.formats,i=t.intl,l=t.dataSourceIds,m=t.onUserSelect,y=t.theme,v=y&&y.typography.fontFamilyBase||u.FontFamilyValue.AVENIRNEXT,b=y&&y.typography.lineHeightBase||"1.5",x=y&&y.body.color,w=y&&y.typography.fontSizeBase||"14px";return w=u.styleUtils.remToPixel(w),a.jsx("div",{css:this.getStyle(),style:r,className:a.classNames(n,"text-format")},a.jsx("div",{className:"d-flex align-items-center"},a.jsx(s.FontFamily,{style:{width:a.polished.rem(100),height:a.polished.rem(26)},className:"mr-2_5",font:o.font||v,onChange:function(t){return e.props.onChange(u.TextFormats.FONT,t,g.FormatType.INLINE)}}),a.jsx(s.Size,{style:{width:a.polished.rem(90)},value:o.size||w,onChange:function(t){return e.props.onChange(u.TextFormats.SIZE,t,g.FormatType.INLINE)},className:"mr-2_5"}),a.jsx(s.BIUS,{intl:i,formats:o,onClick:function(t,n){return e.props.onChange(t,n,g.FormatType.INLINE)},className:"mr-2_5"}),a.jsx(s.Color,{title:this.nls("color"),color:o.color||x,icon:p,changeOnClose:!0,onChange:function(t){return e.props.onChange(u.TextFormats.COLOR,t,g.FormatType.INLINE)},onClick:m,className:"mr-2_5"}),a.jsx(s.Color,{title:this.nls("background"),color:o.background,icon:f,changeOnClose:!0,onChange:function(t){return e.props.onChange(u.TextFormats.BACKGROUND,t,g.FormatType.INLINE)},onClick:m})),a.jsx("div",{className:"d-flex align-items-center mt-2_5"},a.jsx(s.Align,{intl:i,align:o.align,onChange:function(t){return e.props.onChange(u.TextFormats.ALIGN,t,g.FormatType.BLOCK)},className:"mr-2_5"}),a.jsx(s.List,{intl:i,list:o.list,onClick:function(t){return e.props.onChange(u.TextFormats.LIST,t,g.FormatType.BLOCK)},className:"mr-2_5"}),a.jsx(s.Indent,{intl:i,value:o.indent,onClick:function(t){return e.props.onChange(u.TextFormats.INDENT,t,g.FormatType.BLOCK)},className:"mr-2_5"}),a.jsx("div",{title:this.nls("letterSpacing")},a.jsx(u.Icon,{icon:h,size:14,className:"mr-2 tip-icon"})),a.jsx(s.Size,{style:{width:a.polished.rem(80)},value:o.letterspace||"0px",onChange:function(t){return e.props.onChange(u.TextFormats.LETTERSPACE,t,g.FormatType.INLINE)},className:"mr-2_5"}),a.jsx("div",{title:this.nls("lineSpacing")},a.jsx(u.Icon,{icon:d,size:14,className:"mr-2 tip-icon"})),a.jsx(u.Input,{style:{width:a.polished.rem(45)},type:"number",value:o.linespace||b,className:"mr-2_5",onAcceptValue:function(t){return e.props.onChange(u.TextFormats.LINESPACE,t,g.FormatType.BLOCK)}}),a.jsx(s.Link,{dataSourceIds:l,title:this.nls("link"),link:o.link,onChange:function(t){return e.props.onChange(u.TextFormats.LINK,t,g.FormatType.INLINE)},onClick:m,className:"mr-2_5"}),a.jsx(u.Button,{icon:!0,size:"sm",onClick:function(){return e.props.onChange(u.TextFormats.Clear,null,g.FormatType.INLINE)},title:this.nls("clearAllFormats")},a.jsx(u.Icon,{size:14,icon:c}))))},t.defaultProps={onChange:function(){},onUserSelect:function(){}},t}(a.React.PureComponent);t.FormatsPanel=a.ReactRedux.connect(function(e){return{theme:e.theme}})(a.injectIntl(y))},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var i,a,s=n(1),u=n(362),l=function(e){function t(t){var n=e.call(this,t)||this;return n.hookQuill=function(){var e=n.state.hooked,t=n.props.useHooks;if(!e&&t){var r=n.props.quill;r&&(r.on("selection-change",n.selectionChange),r.on("text-change",n.textChange),n.setState({hooked:!0}))}},n.selectionChange=function(e,t,r){n.props.onSelectionChange(e,r)},n.textChange=function(e,t,r){var o=n.props.quill;n.props.onTextChange(o.root.innerHTML,e,r),n.props.onSelectionChange(o.getSelection(!0),r)},n.getStyle=function(){return s.css(i||(i=o(["\n    > * {\n      user-select: none;\n    }\n    ","\n  "],["\n    > * {\n      user-select: none;\n    }\n    ","\n  "])),u.overWriteSelectButton)},n.state={hooked:!1},n}return r(t,e),t.prototype.componentDidMount=function(){this.hookQuill()},t.prototype.componentDidUpdate=function(){this.hookQuill()},t.prototype.componentWillUnmount=function(){if(this.state.hooked){var e=this.props.quill;e.off("selection-change"),e.off("text-change")}},t.prototype.render=function(){var e=this.props.quill;return s.jsx("div",{css:this.getStyle(),className:"quill-plugin"},s.jsx(s.Global,{styles:s.css(a||(a=o(["\n          .quill-plugin-popper {\n            .plugin-header {\n              background: #232323 !important;\n              color: #fff;\n              .jimu-icon {\n                color: #C8CBCD;\n                &:hover {\n                  color: #fff;\n                }\n              }\n            }\n          }\n        "],["\n          .quill-plugin-popper {\n            .plugin-header {\n              background: #232323 !important;\n              color: #fff;\n              .jimu-icon {\n                color: #C8CBCD;\n                &:hover {\n                  color: #fff;\n                }\n              }\n            }\n          }\n        "])))}),e?this.props.children:"loading quill")},t.defaultProps={useHooks:!1,onSelectionChange:function(){},onTextChange:function(){}},t}(s.React.PureComponent);t.BaseQullPlugin=l},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0});var o=n(133);t.appBuilderSync=o;var i=n(57);t.getAppConfigAction=i.getAppConfigAction,t.AppConfigAction=i.AppConfigAction,r(n(443)),r(n(62)),r(n(360));var a=n(37);t.appConfigUtils=a;var s=n(4);t.defaultMessages=s.default,t.getBuilderThemeVariables=function(){var e=window.parent;if(e.jimuConfig&&e.jimuConfig.isBuilder)return e._appState.theme}},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(444)),r(n(125))},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(445)),r(n(361)),r(n(129))},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=n(446),u=n(465),l=n(2),c=n(466),p=function(e){function t(t){var n=e.call(this,t)||this;n.dirtyProps=["modules","formats","bounds","theme","children"],n.cleanProps=["id","plugins","className","style","placeholder","tabIndex","selallWhenActive","onChange","onUnMount","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp","onMount","onClick","onDoubleClick"],n.isControlled=function(){return"value"in n.props},n.setInitSelection=function(){var e=n.quill;n.props.selallWhenActive?u.quillUtils.setEditorContentSelection(e):u.quillUtils.setEditorCursorEnd(e)},n.shouldComponentRegenerate=function(e,t){return n.dirtyProps.some(function(t){return!n.isEqualValue(e[t],n.props[t])})},n.getEditorConfig=function(){var e=n.props;return{bounds:e.bounds,formats:e.formats,modules:e.modules,placeholder:e.placeholder,readOnly:e.readOnly,scrollingContainer:e.scrollingContainer,tabIndex:e.tabIndex,theme:e.theme}},n.getEditor=function(){return n.quill},n.getEditingArea=function(){return a.ReactDOM.findDOMNode(n.editingArea)},n.getEditorContents=function(){return n.state.value},n.getEditorSelection=function(){return n.state.selection},n.isDelta=function(e){return!(!e||!e.ops)},n.isReactElement=function(e){return a.React.isValidElement(e)},n.isEqualValue=function(e,t){return n.isReactElement(e)&&n.isReactElement(t)?a.lodash.isDeepEqual(e.props,t.props):n.isDelta(e)&&n.isDelta(t)?a.lodash.isDeepEqual(e.ops,t.ops):n.isAutoFormatModule(e)&&n.isAutoFormatModule(t)?n.isModuleEqual(e,t):a.lodash.isDeepEqual(e,t)},n.isAutoFormatModule=function(e){return e&&e.autoformat},n.isModuleEqual=function(e,t){var r=n.traversalObjectwithOutFunc(e),o=n.traversalObjectwithOutFunc(t);return a.lodash.isDeepEqual(r,o)},n.traversalObjectwithOutFunc=function(e){void 0===e&&(e={});var t=[],n=function(e){return!(!e.exec||!e.test)},r=function(e){for(var o in e){if(!e.hasOwnProperty(o))return;var i=e[o];"object"!=typeof i||n(i)?n(i)?t.push(i.toString()):"function"!=typeof i&&t.push(i):r(i)}};return r(e),t.sort()},n.regenerate=function(){n.quillDelta=n.quill.getContents(),n.quillSelection=n.quill.getSelection(),n.setState({generation:n.state.generation+1})},n.renderEditingArea=function(){var e=n.props,t=e.tabIndex,r=e.children,i={key:n.state.generation,tabIndex:t,ref:function(e){n.editingArea=e}},s=a.React.Children.count(r)?a.React.Children.only(r):null;return s?a.React.cloneElement(s,i):a.jsx("div",o({},i))},n.getPluginHeader=function(e){return a.jsx(c.PluginHeader,o({},e))},n.renderPlugins=function(e){return e?Object.keys(e).map(function(t,r){var u=s.default.import("plugins/"+t),c=e[t],p=c.className,f=c.draggable,d=c.header,h=c.open,g=c.container,m=c.placement,y=c.reference,v=c.zIndex,b=c.offset,x=c.toggleClass,w=c.toggle,_=c.modifiers,O=i(c,["className","draggable","header","open","container","placement","reference","zIndex","offset","toggleClass","toggle","modifiers"]);return a.jsx(l.Popper,{key:r,className:a.classNames(p,"quill-plugin-popper"),open:h,container:g,header:n.getPluginHeader(d),placement:m,reference:y,zIndex:v,offset:b,toggleClass:x,toggle:w,modifiers:_,draggable:f},a.jsx(u,o({},O,{quill:n.quill})))}):null},n.onEditorChangeText=function(e,t,r,o){var i=n.getEditorContents(),a=n.isDelta(i)?o.getContents():o.getHTML();n.isEqualValue(a,i)||(n.lastDeltaChangeSet=t,n.setState({value:a}),n.props.onChange&&n.props.onChange(e,t,r,o))},n.onEditorChangeSelection=function(e,t,r){var o=n.getEditorSelection(),i=!o&&e,s=o&&!e;a.lodash.isDeepEqual(e,o)||(n.setState({selection:e}),n.props.onChangeSelection&&n.props.onChangeSelection(e,t,r),i&&n.props.onFocus?n.props.onFocus(e,t,r):s&&n.props.onBlur&&n.props.onBlur(o,t,r))},n.focus=function(){n.quill.focus()},n.blur=function(){u.quillUtils.setEditorSelection(n.quill,null)},n.createEditor=function(e,t){var r=new s.default(e,t);return void 0!==t.tabIndex&&u.quillUtils.setEditorTabIndex(r,t.tabIndex),n.hookEditor(r),r},n.hookEditor=function(e){var t=u.quillUtils.makeUnprivilegedEditor(e);e.on("selection-change",function(e,r,o){n.onEditorChangeSelection&&n.onEditorChangeSelection(e,o,t)}),e.on("text-change",function(r,o,i){n.onEditorChangeText&&(n.onEditorChangeText(e.root.innerHTML,r,i,t),n.onEditorChangeSelection(e.getSelection(!0),i,t))})},n.unhookEditor=function(e){e.off("selection-change"),e.off("text-change")};var r=n.isControlled()?n.props.value:n.props.defaultValue;return n.state={generation:0,value:r,renderCount:0},n}return r(t,e),t.prototype.componentWillReceiveProps=function(e,t){var n=this.quill;if(n){if("value"in e){var r=this.getEditorContents(),o=e.value;if(o===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `quill.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas");this.isEqualValue(o,r)||u.quillUtils.setEditorContents(n,o)}return"readOnly"in e&&e.readOnly!==this.props.readOnly&&u.quillUtils.setEditorReadOnly(n,e.readOnly),this.shouldComponentRegenerate(e,t)?this.regenerate():void 0}},t.prototype.componentDidMount=function(){if(this.quill=this.createEditor(this.getEditingArea(),this.getEditorConfig()),this.quillDelta)return this.quill.setContents(this.quillDelta),this.quill.setSelection(this.quillSelection),this.quill.focus(),void(this.quillDelta=this.quillSelection=null);this.state.value&&u.quillUtils.setEditorContents(this.quill,this.state.value),this.setInitSelection(),this.props.onMount(u.quillUtils.makeUnprivilegedEditor(this.quill)),this.setState({renderCount:this.state.renderCount+1})},t.prototype.componentWillUnmount=function(){(this.quill=this.getEditor())&&(this.unhookEditor(this.quill),this.quill=null),this.props.onUnMount()},t.prototype.shouldComponentUpdate=function(e,t){var n=this;return this.state.generation!==t.generation||(this.state.renderCount!==t.renderCount||this.cleanProps.some(function(t){return!a.lodash.isDeepEqual(e[t],n.props[t])}))},t.prototype.componentWillUpdate=function(e,t){this.state.generation!==t.generation&&this.componentWillUnmount()},t.prototype.componentDidUpdate=function(e,t){this.state.generation!==t.generation&&this.componentDidMount()},t.prototype.render=function(){var e=this.props,t=e.id,n=e.style,r=e.className,o=e.onKeyPress,i=e.onKeyDown,s=e.onKeyUp,u=e.onDoubleClick,c=e.onClick,p=e.plugins,f=this.state.generation;return a.jsx(a.React.Fragment,null,a.jsx("div",{css:l.getQuillStyle(),id:t,style:n,key:f,className:a.classNames("quill jimu-build-quill-component",r),onKeyPress:o,onKeyDown:i,onKeyUp:s,onClick:c,onDoubleClick:u},this.renderEditingArea()),this.renderPlugins(p))},t.defaultProps={onClick:function(){},onDoubleClick:function(){},onMount:function(){},onUnMount:function(){},modules:{}},t}(a.React.Component);t.QuillComponent=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(63),o=n(451),i=n(452),a=n(453),s=n(454),u=n(455),l=n(111),c=n(456),p=r.import("attributors/style/align"),f=r.import("attributors/style/direction"),d=r.import("attributors/style/font");d.whitelist=l.fontValue,p.whitelist=["left","right","center","justify"],r.register({"modules/autoformat":o.Autoformat,"formats/align":p,"formats/direction":f,"formats/font":d,"formats/size":u.Fontsize,"formats/link":i.default,"formats/expression":s.default,"formats/letterspace":a.LetterSpace,"formats/linespace":a.LineSpace,"plugins/formats":c.default.Formats,"plugins/expression":c.default.Expression},!0),t.default=r},function(e,t,n){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var r=n(448),o=n(449),i=n(450);function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,n){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return p(this,e)}return l(this,e,t,n)}function l(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=f(e,t);return e}(e,t,n,r):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|h(t,n),o=(e=s(e,r)).write(t,n);o!==r&&(e=e.slice(0,o));return e}(e,t,n):function(e,t){if(u.isBuffer(t)){var n=0|d(t.length);return 0===(e=s(e,n)).length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||function(e){return e!=e}(t.length)?s(e,0):f(e,t);if("Buffer"===t.type&&i(t.data))return f(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function c(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function p(e,t){if(c(t),e=s(e,t<0?0:0|d(t)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function f(e,t){var n=t.length<0?0:0|d(t.length);e=s(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function d(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function h(e,t){if(u.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return q(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return U(e).length;default:if(r)return q(e).length;t=(""+t).toLowerCase(),r=!0}}function g(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function m(e,t,n,r,o){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof t&&(t=u.from(t,r)),u.isBuffer(t))return 0===t.length?-1:y(e,t,n,r,o);if("number"==typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):y(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer")}function y(e,t,n,r,o){var i,a=1,s=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,u/=2,n/=2}function l(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(o){var c=-1;for(i=n;i<s;i++)if(l(e,i)===l(t,-1===c?0:i-c)){if(-1===c&&(c=i),i-c+1===u)return c*a}else-1!==c&&(i-=i-c),c=-1}else for(n+u>s&&(n=s-u),i=n;i>=0;i--){for(var p=!0,f=0;f<u;f++)if(l(e,i+f)!==l(t,f)){p=!1;break}if(p)return i}return-1}function v(e,t,n,r){n=Number(n)||0;var o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;var i=t.length;if(i%2!=0)throw new TypeError("Invalid hex string");r>i/2&&(r=i/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function b(e,t,n,r){return z(q(t,e.length-n),e,n,r)}function x(e,t,n,r){return z(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function w(e,t,n,r){return x(e,t,n,r)}function _(e,t,n,r){return z(U(t),e,n,r)}function O(e,t,n,r){return z(function(e,t){for(var n,r,o,i=[],a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,o=n%256,i.push(o),i.push(r);return i}(t,e.length-n),e,n,r)}function C(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function E(e,t,n){n=Math.min(e.length,n);for(var r=[],o=t;o<n;){var i,a,s,u,l=e[o],c=null,p=l>239?4:l>223?3:l>191?2:1;if(o+p<=n)switch(p){case 1:l<128&&(c=l);break;case 2:128==(192&(i=e[o+1]))&&(u=(31&l)<<6|63&i)>127&&(c=u);break;case 3:i=e[o+1],a=e[o+2],128==(192&i)&&128==(192&a)&&(u=(15&l)<<12|(63&i)<<6|63&a)>2047&&(u<55296||u>57343)&&(c=u);break;case 4:i=e[o+1],a=e[o+2],s=e[o+3],128==(192&i)&&128==(192&a)&&128==(192&s)&&(u=(15&l)<<18|(63&i)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(c=u)}null===c?(c=65533,p=1):c>65535&&(c-=65536,r.push(c>>>10&1023|55296),c=56320|1023&c),r.push(c),o+=p}return function(e){var t=e.length;if(t<=S)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=S));return n}(r)}t.Buffer=u,t.SlowBuffer=function(e){+e!=e&&(e=0);return u.alloc(+e)},t.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,n){return l(null,e,t,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,n){return function(e,t,n,r){return c(t),t<=0?s(e,t):void 0!==n?"string"==typeof r?s(e,t).fill(n,r):s(e,t).fill(n):s(e,t)}(null,e,t,n)},u.allocUnsafe=function(e){return p(null,e)},u.allocUnsafeSlow=function(e){return p(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,o=0,i=Math.min(n,r);o<i;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!i(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=u.allocUnsafe(t),o=0;for(n=0;n<e.length;++n){var a=e[n];if(!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,o),o+=a.length}return r},u.byteLength=h,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?E(this,0,e):function(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return k(this,t,n);case"utf8":case"utf-8":return E(this,t,n);case"ascii":return P(this,t,n);case"latin1":case"binary":return I(this,t,n);case"base64":return C(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,n,r,o){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&t>=n)return 0;if(r>=o)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,r>>>=0,o>>>=0,this===e)return 0;for(var i=o-r,a=n-t,s=Math.min(i,a),l=this.slice(r,o),c=e.slice(t,n),p=0;p<s;++p)if(l[p]!==c[p]){i=l[p],a=c[p];break}return i<a?-1:a<i?1:0},u.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},u.prototype.indexOf=function(e,t,n){return m(this,e,t,n,!0)},u.prototype.lastIndexOf=function(e,t,n){return m(this,e,t,n,!1)},u.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return v(this,e,t,n);case"utf8":case"utf-8":return b(this,e,t,n);case"ascii":return x(this,e,t,n);case"latin1":case"binary":return w(this,e,t,n);case"base64":return _(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var S=4096;function P(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function I(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function k(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var o="",i=t;i<n;++i)o+=B(e[i]);return o}function j(e,t,n){for(var r=e.slice(t,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function T(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function A(e,t,n,r,o,i){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function N(e,t,n,r){t<0&&(t=65535+t+1);for(var o=0,i=Math.min(e.length-n,2);o<i;++o)e[n+o]=(t&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function R(e,t,n,r){t<0&&(t=4294967295+t+1);for(var o=0,i=Math.min(e.length-n,4);o<i;++o)e[n+o]=t>>>8*(r?o:3-o)&255}function M(e,t,n,r,o,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function L(e,t,n,r,i){return i||M(e,0,n,4),o.write(e,t,n,r,23,4),n+4}function F(e,t,n,r,i){return i||M(e,0,n,8),o.write(e,t,n,r,52,8),n+8}u.prototype.slice=function(e,t){var n,r=this.length;if(e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=u.prototype;else{var o=t-e;n=new u(o,void 0);for(var i=0;i<o;++i)n[i]=this[i+e]}return n},u.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||T(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r},u.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||T(e,t,this.length);for(var r=this[e+--t],o=1;t>0&&(o*=256);)r+=this[e+--t]*o;return r},u.prototype.readUInt8=function(e,t){return t||T(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||T(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||T(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||T(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||T(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||T(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*t)),r},u.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||T(e,t,this.length);for(var r=t,o=1,i=this[e+--r];r>0&&(o*=256);)i+=this[e+--r]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*t)),i},u.prototype.readInt8=function(e,t){return t||T(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||T(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(e,t){t||T(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(e,t){return t||T(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||T(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||T(e,4,this.length),o.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||T(e,4,this.length),o.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||T(e,8,this.length),o.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||T(e,8,this.length),o.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||A(this,e,t,n,Math.pow(2,8*n)-1,0);var o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},u.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||A(this,e,t,n,Math.pow(2,8*n)-1,0);var o=n-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+n},u.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):N(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):N(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):R(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):R(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);A(this,e,t,n,o-1,-o)}var i=0,a=1,s=0;for(this[t]=255&e;++i<n&&(a*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+n},u.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);A(this,e,t,n,o-1,-o)}var i=n-1,a=1,s=0;for(this[t+i]=255&e;--i>=0&&(a*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+n},u.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):N(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):N(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):R(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):R(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,n){return L(this,e,t,!0,n)},u.prototype.writeFloatBE=function(e,t,n){return L(this,e,t,!1,n)},u.prototype.writeDoubleLE=function(e,t,n){return F(this,e,t,!0,n)},u.prototype.writeDoubleBE=function(e,t,n){return F(this,e,t,!1,n)},u.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var o,i=r-n;if(this===e&&n<t&&t<r)for(o=i-1;o>=0;--o)e[o+t]=this[o+n];else if(i<1e3||!u.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)e[o+t]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+i),t);return i},u.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(i=t;i<n;++i)this[i]=e;else{var a=u.isBuffer(e)?e:q(new u(e,r).toString()),s=a.length;for(i=0;i<n-t;++i)this[i+t]=a[i%s]}return this};var D=/[^+\/0-9A-Za-z-_]/g;function B(e){return e<16?"0"+e.toString(16):e.toString(16)}function q(e,t){var n;t=t||1/0;for(var r=e.length,o=null,i=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function U(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(D,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function z(e,t,n,r){for(var o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}}).call(this,n(20))},function(e,t,n){"use strict";t.byteLength=function(e){var t=l(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){for(var t,n=l(e),r=n[0],a=n[1],s=new i(function(e,t,n){return 3*(t+n)/4-n}(0,r,a)),u=0,c=a>0?r-4:r,p=0;p<c;p+=4)t=o[e.charCodeAt(p)]<<18|o[e.charCodeAt(p+1)]<<12|o[e.charCodeAt(p+2)]<<6|o[e.charCodeAt(p+3)],s[u++]=t>>16&255,s[u++]=t>>8&255,s[u++]=255&t;2===a&&(t=o[e.charCodeAt(p)]<<2|o[e.charCodeAt(p+1)]>>4,s[u++]=255&t);1===a&&(t=o[e.charCodeAt(p)]<<10|o[e.charCodeAt(p+1)]<<4|o[e.charCodeAt(p+2)]>>2,s[u++]=t>>8&255,s[u++]=255&t);return s},t.fromByteArray=function(e){for(var t,n=e.length,o=n%3,i=[],a=0,s=n-o;a<s;a+=16383)i.push(p(e,a,a+16383>s?s:a+16383));1===o?(t=e[n-1],i.push(r[t>>2]+r[t<<4&63]+"==")):2===o&&(t=(e[n-2]<<8)+e[n-1],i.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return i.join("")};for(var r=[],o=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=a.length;s<u;++s)r[s]=a[s],o[a.charCodeAt(s)]=s;function l(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function c(e){return r[e>>18&63]+r[e>>12&63]+r[e>>6&63]+r[63&e]}function p(e,t,n){for(var r,o=[],i=t;i<n;i+=3)r=(e[i]<<16&16711680)+(e[i+1]<<8&65280)+(255&e[i+2]),o.push(c(r));return o.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,o){var i,a,s=8*o-r-1,u=(1<<s)-1,l=u>>1,c=-7,p=n?o-1:0,f=n?-1:1,d=e[t+p];for(p+=f,i=d&(1<<-c)-1,d>>=-c,c+=s;c>0;i=256*i+e[t+p],p+=f,c-=8);for(a=i&(1<<-c)-1,i>>=-c,c+=r;c>0;a=256*a+e[t+p],p+=f,c-=8);if(0===i)i=1-l;else{if(i===u)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,r),i-=l}return(d?-1:1)*a*Math.pow(2,i-r)},t.write=function(e,t,n,r,o,i){var a,s,u,l=8*i-o-1,c=(1<<l)-1,p=c>>1,f=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:i-1,h=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),(t+=a+p>=1?f/u:f*Math.pow(2,1-p))*u>=2&&(a++,u/=2),a+p>=c?(s=0,a=c):a+p>=1?(s=(t*u-1)*Math.pow(2,o),a+=p):(s=t*Math.pow(2,p-1)*Math.pow(2,o),a=0));o>=8;e[n+d]=255&s,d+=h,s/=256,o-=8);for(a=a<<o|s,l+=o;l>0;e[n+d]=255&a,d+=h,a/=256,l-=8);e[n+d-h]|=128*g}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(63),i=o.import("core/module"),a=o.import("delta"),s=o.import("parchment"),u=s.Attributor,l=s.Scope,c=n(129),p=function(e,t,n){e.find.global||(e.find=new RegExp(e.find,e.find.flags+"g")),e.find.lastIndex=0;var r=new a,o=null;if(void 0!==n&&null!==n)for(o=e.find.exec(t);o&&o.length&&o.index<n;){if(o.index<n&&o.index+o[0].length+1>=n){r=r.concat(f(e,o).ops);break}o=e.find.exec(t)}else for(;null!==(o=e.find.exec(t));){var i=f(e,o);r=r.concat(i.ops),t=t.substr(i.rightIndex),e.find.lastIndex=0}return r},f=function(e,t){var n=(t=m(e,t)).index,r=g(e,t[0]),o=r;e.insert&&((o={})[e.insert]=r);var i=h(e,r),s=new a;return s.retain(n).delete(t[0].length).insert(o,i),{ops:s,rightIndex:n+t[0].length}},d=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.hasTransFormText=function(e,t){return e.find.global||(e.find=new RegExp(e.find,e.find.flags+"g")),e.find.lastIndex=0,!!e.find.exec(t)},r.transforms=n,r.registerTypeListener(),r.registerPasteListener(),r}return r(t,e),t.prototype.registerPasteListener=function(){var e=function(e){var n=t.transforms[e];t.quill.clipboard.addMatcher(Node.TEXT_NODE,function(e,t){if("string"==typeof e.data)return t.ops.forEach(function(e,t,r){if("string"==typeof e.insert){var o=p(n,e.insert),i=new a([e]).compose(o);r.splice.apply(r,[t,1].concat(i.ops))}}),t})},t=this;for(var n in this.transforms)e(n)},t.prototype.registerTypeListener=function(){var e=this;this.quill.keyboard.addBinding({key:38,collapsed:!0,format:["autoformat-helper"]},this.forwardKeyboardUp.bind(this)),this.quill.keyboard.addBinding({key:40,collapsed:!0,format:["autoformat-helper"]},this.forwardKeyboardDown.bind(this)),this.quill.on(o.events.TEXT_CHANGE,function(t,n,r){var i=t.ops;if("user"===r&&i&&!(i.length<1)){for(var s=i.length-1,u=i[s];!u.insert&&s>0;)u=i[--s];if(u.insert&&"string"==typeof u.insert){var l="\n"===u.insert,c=e.quill.getSelection();if(c){var f=e.quill.getLength()-c.index-(l?1:0),d=c.index,h=e.quill.getLeaf(d)[0];if(h&&h.text){var g=h.offset(h.scroll),m=d-g,y=!1;for(var v in e.transforms){var b=e.transforms[v];if(b.helper&&b.helper.trigger&&u.insert.match(b.helper.trigger))e.quill.formatText(d,1,"autoformat-helper",v,o.sources.API),e.openHelper(b,d);else{var x=e.hasTransFormText(b,h.text);if(u.insert.match(b.trigger||/./)&&x){e.closeHelper(b);var w=(new a).retain(g),_=p(b,h.text,m);_&&(w=w.concat(_)),e.quill.updateContents(w,"api"),y=!0}}}y&&setTimeout(function(){e.quill.setSelection(e.quill.getLength()-f,"api")},0)}}}}})},t.prototype.forwardKeyboard=function(e,t){if(this.currentHelper&&this.currentHelper.container){var n=this.currentHelper.container.querySelector(".dropdown-menu");console.log("keyboard",n,t.event),n.dispatchEvent(t.event)}},t.prototype.forwardKeyboardUp=function(e,t){var n=new KeyboardEvent("keydown",{key:"ArrowUp",keyCode:38,which:38,bubbles:!0,cancelable:!0});t.event=n,this.forwardKeyboard(e,t)},t.prototype.forwardKeyboardDown=function(e,t){var n=new KeyboardEvent("keydown",{key:"ArrowDown",keyCode:40,which:40,bubbles:!0,cancelable:!0});t.event=n,this.forwardKeyboard(e,t)},t.prototype.openHelper=function(e,t){if(e.helper&&(this.currentHelper=e.helper,"function"==typeof e.helper.open)){console.log("openHelper",t,this.quill.getFormat(t));var n=c.getFixedPosition(this.quill,t);e.helper.open(n)}},t.prototype.closeHelper=function(e){e.helper&&"function"==typeof e.helper.close&&e.helper.close()},t}(i);t.Autoformat=d;var h=function(e,t){var n={};return"string"==typeof e.format?n[e.format]=t:"object"==typeof e.format&&(n=e.format),n},g=function(e,t){var n=new RegExp(e.extract||e.find);return e.transform?t.replace(n,e.transform):t},m=function(e,t){if(e.extract){var n=new RegExp(e.extract).exec(t[0]);return n&&n.length?(n.index+=t.index,n):t}return t};d.DEFAULTS={link:{trigger:/[\s]/,find:/https?:\/\/[\S]+|(www\.[\S]+)/gi,transform:function(e,t){return t?"http://"+e:e},format:"link"}},t.AutoformatHelperAttribute=new u.Class("autoformat-helper","data-helper",{scope:l.INLINE})},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.create=function(t){var n=e.create.call(this,t),r="#",o="_self",i="";return"object"==typeof t?(r=t.href||r,o=t.target||o,i=t.id||i):r=t,r=this.sanitize(r),n.setAttribute("href",r),n.setAttribute("id",i),n.setAttribute("target",o),n},t.formats=function(e){return{id:e.getAttribute("id"),href:e.getAttribute("href"),target:e.getAttribute("target")}},t.sanitize=function(e){return function(e,t){var n=document&&document.createElement("a");n.href=e;var r=n.href.slice(0,n.href.indexOf(":"));return t.indexOf(r)>-1}(e,this.PROTOCOL_WHITELIST)?e:this.SANITIZED_URL},t.prototype.format=function(t,n){if(t!==this.statics.blotName||!n)return e.prototype.format.call(this,t,n);var r="",o="_self",i="";"object"==typeof n?(r=n.href||r,o=n.target||o,i=n.id||i):r=n,r=this.constructor.sanitize(r),this.domNode.setAttribute("id",i),this.domNode.setAttribute("href",r),this.domNode.setAttribute("target",o)},t}(n(63).import("blots/inline"));o.PROTOCOL_WHITELIST=["http","https","mailto","tel"],o.SANITIZED_URL="about:blank",o.blotName="link",o.tagName="A",t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(63).import("parchment"),o=new r.Attributor.Style("letterspace","letter-spacing",{scope:r.Scope.INLINE});t.LetterSpace=o;var i=new r.Attributor.Style("linespace","line-height",{scope:r.Scope.BLOCK_ATTRIBUTE});t.LineSpace=i},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=["expid","name"],i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.create=function(t){void 0===t&&(t={});var n=e.create.call(this,t),r=t.expid,o=t.name;return"string"==typeof r&&n.setAttribute("expid",r),"string"==typeof o&&(n.innerHTML=o),n},t.formats=function(e){return o.reduce(function(t,n){return e.hasAttribute(n)?t[n]=e.getAttribute(n):"name"===n&&e.innerText&&(t[n]=e.innerText),t},{})},t.value=function(e){return{expid:e.getAttribute("expid"),name:e.innerText}},t.prototype.format=function(t,n){o.indexOf(t)>-1?"expid"===t&&(n?this.domNode.setAttribute(t,n):this.domNode.removeAttribute(t)):e.prototype.format.call(this,t,n)},t.blotName="expression",t.tagName="exp",t}(n(63).import("blots/embed"));t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(63).import("parchment"),o=new r.Attributor.Style("size","font-size",{scope:r.Scope.INLINE});t.Fontsize=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(457),o=n(464);t.default={Formats:o.default,Expression:r.default}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(458),a=n(389),s=n(129),u=n(2),l=function(e){function t(t){var n=e.call(this,t)||this;return n.onExpressionChange=function(e){var t=o.Immutable(e),r=t.name,i=n.insertOrUpdateExpression(r);n.props.onChange(u.TextFormats.EXPRESSION,t,i)},n.insertOrUpdateExpression=function(e){var t=n.props.quill,r=n.props.formats.expression;if(t.getSelection(!0)){var o,i=!(!r||!r.expid);return o=i?r.expid:s.getUUID(),i?n.updateExpression(o,e):n.insertExpression(o,e),o}},n.updateExpression=function(e,t){var r=n.props.quill,o=r.getSelection(!0);if(o){var i={index:o.index-1,length:1};r.deleteText(i.index,1),r.insertEmbed(i.index,"expression",{expid:e,name:t},"api"),r.insertText(i.index+1," ","silent"),r.setSelection(i.index+2,"user")}},n.insertExpression=function(e,t){var r=n.props.quill,o=r.getSelection(!0);o&&(r.deleteText(o.index,o.length),o=r.getSelection(!0),r.insertEmbed(o.index,"expression",{expid:e,name:t},"api"),r.insertText(o.index+1," ","silent"),r.setSelection(o.index+2,"user"))},n.onSelectionChange=function(e,t){var r=n.props.quill,o=s.getFormat(r,e,!1);n.props.onFormatsChange(o,t)},n.state={range:null},n}return r(t,e),t.prototype.render=function(){var e=this.props,t=e.dataSourceIds,n=e.quill,r=e.useHooks,u=e.formats;return u=s.handlingexceptionalFormats(u),o.React.createElement(a.BaseQullPlugin,{quill:n,useHooks:r,onSelectionChange:this.onSelectionChange},o.React.createElement(i.ExpressionPanel,{expression:u.expression,dataSourceIds:t,onChange:this.onExpressionChange}))},t.defaultProps={formats:{},onChange:function(){},onFormatsChange:function(){}},t}(o.React.PureComponent);t.default=l},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(459)),r(n(388))},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(1),s=n(40),u=n(362),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.from=[s.ExpressionFrom.Attribute,s.ExpressionFrom.Statistics,s.ExpressionFrom.Expression],t.getStyle=function(){return a.css(i||(i=o(["\n      ","\n      width: ",";\n      height: ",";\n    "],["\n      ","\n      width: ",";\n      height: ",";\n    "])),u.expressionPanelStyle,a.polished.rem("285px"),a.polished.rem("500px"))},t.onExpressionChange=function(e){t.props.onChange(e)},t}return r(t,e),t.prototype.render=function(){var e=this.props,t=e.dataSourceIds,n=e.expression;return a.jsx("div",{css:this.getStyle(),className:"expression-panel"},a.jsx(s.default,{expression:n,dataSourceIds:t,from:this.from,onChange:this.onExpressionChange,isMultiple:!0}))},t.defaultProps={onChange:function(){}},t}(a.React.PureComponent);t.ExpressionPanel=l},function(e,t,n){function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var o=n(0),i=o.createElement("path",{d:"M4.375 1l-.813 6.504A.566.566 0 0 1 3 8a.441.441 0 0 1-.438-.496L3.375 1H1a.5.5 0 0 1 0-1h6a.5.5 0 0 1 0 1H4.375zM.5 9h4a.5.5 0 0 1 0 1h-4a.5.5 0 0 1 0-1zm7.25-1.952l1.403-1.403a.496.496 0 0 1 .702.702L8.452 7.75l1.403 1.403a.496.496 0 0 1-.702.702L7.75 8.452 6.347 9.855a.496.496 0 0 1-.702-.702L7.048 7.75 5.645 6.347a.496.496 0 0 1 .702-.702L7.75 7.048z",fill:"currentColor",fillRule:"nonzero"});function a(e){return o.createElement("svg",r({width:10,height:10,viewBox:"0 0 10 10"},e),i)}e.exports=a,a.default=a},function(e,t,n){function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var o=n(0),i=o.createElement("path",{d:"M3.268 1.518L2.427.677a.396.396 0 1 1 .56-.56L7.192 4.32c.62.62.62 1.623 0 2.243L4.95 8.806c-.62.62-1.624.62-2.243 0L.464 6.564a1.586 1.586 0 0 1 0-2.243l2.804-2.803zm.56.56L1.196 4.711a.793.793 0 0 0 .219 1.276c.804.384 1.609.577 2.413.577.805 0 1.61-.193 2.414-.578a.793.793 0 0 0 .219-1.275L3.828 2.078zM7.985 7c2.277 2.925.012 3 0 3-2.223-.247.013-3 0-3z"});function a(e){return o.createElement("svg",r({width:9,height:10,viewBox:"0 0 9 10"},e),i)}e.exports=a,a.default=a},function(e,t,n){function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var o=n(0),i=o.createElement("path",{d:"M9.75 0c.138 0 .25.224.25.5s-.112.5-.25.5h-4.5C5.112 1 5 .776 5 .5s.112-.5.25-.5h4.5zm-.167 6c.23 0 .417.224.417.5s-.187.5-.417.5H5.417C5.187 7 5 6.776 5 6.5s.187-.5.417-.5h4.166zM4 8l-2 2-2-2h4zm0-6H0l2-2 2 2zM1.5 2h1v2h-1V2zm0 4h1v2h-1V6zm8.083-3c.23 0 .417.224.417.5s-.187.5-.417.5H5.417C5.187 4 5 3.776 5 3.5s.187-.5.417-.5h4.166zm.167 6c.138 0 .25.224.25.5s-.112.5-.25.5h-4.5C5.112 10 5 9.776 5 9.5s.112-.5.25-.5h4.5z",fill:"currentColor",fillRule:"nonzero"});function a(e){return o.createElement("svg",r({width:10,height:10,viewBox:"0 0 10 10"},e),i)}e.exports=a,a.default=a},function(e,t,n){function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var o=n(0),i=o.createElement("path",{d:"M9.167 6c.46 0 .833.224.833.5s-.373.5-.833.5H.833C.373 7 0 6.776 0 6.5S.373 6 .833 6h8.334zM2 0v4L0 2l2-2zm6 4V0l2 2-2 2zM6 1.5h2v1H6v-1zm-4 0h2v1H2v-1zM9.5 9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1 0-1h9z",fill:"currentColor",fillRule:"nonzero"});function a(e){return o.createElement("svg",r({width:10,height:10,viewBox:"0 0 10 10"},e),i)}e.exports=a,a.default=a},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(388),a=n(389),s=n(129),u=function(e){function t(t){var n=e.call(this,t)||this;return n.handleQuillChange=function(e,t,r){var o=n.props.quill,i=n.state.range,a=t,u=s.getUUID(),l={id:u,type:r,key:e,value:t,range:i,source:"user"};s.quillFormat(o,l),n.props.onChange(e,a,u)},n.onUserSelect=function(){var e=n.props.quill.getSelection(!0);n.setState({range:e})},n.onSelectionChange=function(e,t){var r=n.props.quill,o=s.getFormat(r,e,!1);n.props.onFormatsChange(o,t)},n.state={range:null},n}return r(t,e),t.prototype.render=function(){var e=this.props,t=e.id,n=e.dataSourceIds,r=e.quill,u=e.className,l=e.formats,c=e.useHooks;return l=s.handlingexceptionalFormats(l),o.React.createElement(a.BaseQullPlugin,{quill:r,onSelectionChange:this.onSelectionChange,useHooks:c},o.React.createElement(i.FormatsPanel,{className:u,id:t,formats:l,dataSourceIds:n,onUserSelect:this.onUserSelect,onChange:this.handleQuillChange}))},t.defaultProps={formats:{},onChange:function(){},onFormatsChange:function(){}},t}(o.React.PureComponent);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.quillUtils={setEditorReadOnly:function(e,t){t?e.disable():e.enable()},setEditorContents:function(e,n,r){var o=e.getSelection();"string"==typeof n?e.setContents(e.clipboard.convert(n),r):e.setContents(n,r),o&&e.hasFocus()&&t.quillUtils.setEditorSelection(e,o)},setEditorCursorEnd:function(e,n){var r={index:e.getLength()-1,length:0};t.quillUtils.setEditorSelection(e,r,n)},setEditorContentSelection:function(e,n){var r={index:0,length:e.getLength()-1};t.quillUtils.setEditorSelection(e,r,n)},setEditorSelection:function(e,t,n){if(t){var r=e.getLength();t.index=Math.max(0,Math.min(t.index,r-1)),t.length=Math.max(0,Math.min(t.length,r-1-t.index))}e.setSelection(t,n)},setEditorTabIndex:function(e,t){e.editor&&e.editor.scroll&&e.editor.scroll.domNode&&(e.editor.scroll.domNode.tabIndex=t)},makeUnprivilegedEditor:function(e){var t=e;return{focus:function(){return t.focus.apply(t,arguments)},getLength:function(){return t.getLength.apply(t,arguments)},getText:function(){return t.getText.apply(t,arguments)},getHTML:function(){return t.root.innerHTML},getContents:function(){return t.getContents.apply(t,arguments)},getSelection:function(){return t.getSelection.apply(t,arguments)},getBounds:function(){return t.getBounds.apply(t,arguments)},getFormat:function(){return t.getFormat.apply(t,arguments)}}}}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(1),s=n(2),u=n(26),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getStyle=function(){return a.css(i||(i=o(["\n      width: 100%;\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n      font-size: ",";\n      padding: "," "," 0 ",";\n      > div {\n          cursor: pointer;\n        }\n    "],["\n      width: 100%;\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n      font-size: ",";\n      padding: "," "," 0 ",";\n      > div {\n          cursor: pointer;\n        }\n    "])),a.polished.rem(16),a.polished.rem(12),a.polished.rem(16),a.polished.rem(16))},t}return r(t,e),t.prototype.render=function(){var e=this.props,t=e.onClose,n=e.text,r=e.className;return a.jsx("div",{css:this.getStyle(),className:a.classNames("plugin-header",r)},a.jsx("span",{title:n},n),a.jsx("div",{onClick:t},a.jsx(s.Icon,{icon:u})))},t}(a.React.PureComponent);t.PluginHeader=l}])});
//# sourceMappingURL=for-app-inbuilder.js.map