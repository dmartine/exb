define(["jimu-core","jimu-core/react","jimu-ui","jimu-for-builder","builder/common","jimu-core/react-dom"],function(e,t,n,o,i,r){return function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=135)}({0:function(t,n){t.exports=e},1:function(e,n){e.exports=t},10:function(e,t){e.exports=i},12:function(e,t,n){function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}var i=n(1),r=i.createElement("path",{d:"M2.212 9.936L2 12.27l2.333-.212L13.27 3.12 11.149 1 2.212 9.936zm-.707-.707L10.441.293a1 1 0 0 1 1.415 0l2.12 2.121a1 1 0 0 1 0 1.414l-8.935 8.937a1 1 0 0 1-.617.289l-2.333.212a1 1 0 0 1-1.087-1.087l.212-2.333a1 1 0 0 1 .289-.617zm7.434-6.497l2.829 2.829-.707.707-2.829-2.829.707-.707zM.5 15h15a.5.5 0 0 1 0 1H.5a.5.5 0 0 1 0-1z",fill:"currentColor",fillRule:"nonzero"});function s(e){return i.createElement("svg",o({width:16,height:16,viewBox:"0 0 16 16"},e),r)}e.exports=s,s.default=s},135:function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var r,s=n(0),a=n(3),l=n(10),c=n(2),p=n(36),u=n(136),d=n(181),h=n(145),f=n(146),m=n(9),b=n(12),g=function(e){function t(t){var n=e.call(this,t)||this;return n.titleTextInput=s.React.createRef(),n.spanTextInput=s.React.createRef(),n.isToolListSaved=!0,n.focusEditTitle=function(){n.titleTextInput.current.select()},n.editTitle=function(){var e=n.titleTextInput.current.value;l.appServices.updateAppItem({id:n.props.queryObject.id,title:e}).then(function(){n.props.dispatch(a.builderActions.refreshAppListAction(!0))},function(e){console.error(e)})},n.refreshTitle=function(e){l.appServices.searchAppById(e).then(function(e){n.setState({titleText:e.title})},function(e){console.error(e)})},n.titleTextChange=function(e){var t=e.target.value;n.setState({titleText:t})},n.newApp=function(){n.setState({menuPopoverOpen:!1}),n.isToolListSaved?(s.jimuHistory.changePage("template"),s.jimuHistory.replaceQueryObject({},!0)):n.setState({isShowAlertPopup:!0})},n.signOut=function(){n.setState({accountPopoverOpen:!1}),s.SessionManager.getInstance().signOut()},n.handleKeydown=function(e){13===e.keyCode&&n.titleTextInput.current.blur()},n.toggleMenu=function(){n.setState({menuPopoverOpen:!n.state.menuPopoverOpen})},n.toggleAccount=function(){n.setState({accountPopoverOpen:!n.state.accountPopoverOpen})},n.onTitleContainerResize=function(e,t){n.setState({titleLength:n.spanTextInput.current.offsetWidth+2})},n.handleToggle=function(e){n.setState({isShowAlertPopup:!n.state.isShowAlertPopup}),e&&(s.jimuHistory.changePage("template"),s.jimuHistory.replaceQueryObject({},!0))},n.appTaskToggle=n.appTaskToggle.bind(n),n.state={appTaskDropdown:!1,titleText:"",titleLength:0,menuPopoverOpen:!1,accountPopoverOpen:!1,isShowAlertPopup:!1},n}return o(t,e),t.prototype.getStyle=function(){var e=this.props.theme;return s.css(r||(r=i(["\n      .widget-builder-header {\n        background-color: ",";\n        border: 1px solid ",";\n        padding-left: ",";\n      \n        .header-logo {\n          .header-logo-item {\n            height: ",";\n            width: ",";\n          }\n\n          .header-logo-container {\n            display: block;\n            position: relative;\n\n            .header-logo-container-beta {\n              position: absolute;\n              right: -30px;\n              color:  #A6A6A6;\n              font-size: 10px;\n              bottom: 8px;\n              font-weight: 900;\n              display: block;\n              height: 11px;\n            }\n          }\n      \n          .header-logo-label {\n            font-size: 14px;\n            color: ",";\n          }\n\n          .header-logo-label:after {\n            color:  #A6A6A6;\n            font-size: 10px;\n            font-weight: 900;\n            content: 'BETA'\n          }\n\n          .header-logo-label:not(:disabled):not(.disabled):active {\n            color: ",";\n          }\n\n          @media only screen and (max-width: 760px) {\n            .header-logo-label-screen {\n              width: ",";\n              display: block;\n              over-flow: hidden;\n              white-space: nowrap;\n              overflow: hidden;\n              text-overflow: ellipsis;\n            }\n          }\n        }\n\n\n        .header-title-maxwidth-screen {\n          max-width: ",";\n        }\n\n        @media only screen and (max-width: 970px) {\n          .header-title-maxwidth-screen {\n            max-width: ",";\n          }\n        }\n\n        @media only screen and (max-width: 760px) {\n          .header-title-maxwidth-screen {\n            visibility: hidden;\n          }\n        }\n\n        .header-title-position-screen {\n          transform: translateX(-100%);\n        }\n\n        @media only screen and (min-width: 970px) {\n          .header-title-position-screen {\n            transform: translateX(-50%);\n          }\n        }\n      \n        .header-title {\n          position: absolute;\n          left: 50%;\n          top: 0;\n          bottom: 0;\n          input {\n            background-color: transparent;\n            &:focus {\n              background-color: ",";\n            }\n          }\n          .btn.text-btn.btn-dark {\n            color: ",";\n            &:hover,\n            &:focus {\n              color: ",";\n            }\n          }\n        }\n\n        .header-title-icon {\n          color: ",";\n\n          &:hover {\n            color: ",";\n          }\n        }\n      \n        .header-title-input {\n          border: none;\n          text-align: center;\n          min-width: ","rem;\n          cursor: pointer;\n          color: ",";\n      \n          &:hover {\n            border: 1px solid ",";\n          }\n        }\n      \n        .header-dropdown {\n          float: left;\n          color: ",";\n          padding-left: ",";\n          padding-right: ",";\n\n          &:hover {\n            background-color: ",";\n          }\n        }\n\n        .header-account {\n          float: left;\n          color: ",";\n          padding-right: ",";\n          padding-left: ",";\n\n          div {\n            background-color: initial;\n          }\n\n          &:hover {\n            background-color: ",";\n          }\n        }\n      \n        .header-login {\n          cursor: pointer;\n          fill: ",";\n        }\n\n        .header-login-username {\n          color: ","; \n          margin-left: 5px;\n          font-size: 14px;\n        }\n\n        .header-drop-label {\n          font-size: 14px;\n          color: ",";\n        }\n\n        @media only screen and (max-width: 600px) {\n          .header-drop-label {\n            width: ",";\n            display: block;\n            over-flow: hidden;\n            white-space: nowrap;\n            overflow: hidden;\n            text-overflow: ellipsis;\n          }\n        }\n\n        .header-drop-icon {\n          fill: ",";\n        }\n\n        .header-dropdown {\n          user-select: none;\n          transition: none;\n        }\n\n        .toollist-seperateline {\n          margin-left: ",";\n          border: 1px solid ",";\n          height: 30px;\n        }\n      }\n      \n      .popover-item {\n        padding: 0.75rem ",";\n\n        .popover-item-icon {\n          fill: ",";\n          color: ",";\n        }\n\n        .popover-item-label {\n          color: ","\n        }\n\n        &:hover {\n          background-color: ",";\n          color: ","\n        }\n      }"],["\n      .widget-builder-header {\n        background-color: ",";\n        border: 1px solid ",";\n        padding-left: ",";\n      \n        .header-logo {\n          .header-logo-item {\n            height: ",";\n            width: ",";\n          }\n\n          .header-logo-container {\n            display: block;\n            position: relative;\n\n            .header-logo-container-beta {\n              position: absolute;\n              right: -30px;\n              color:  #A6A6A6;\n              font-size: 10px;\n              bottom: 8px;\n              font-weight: 900;\n              display: block;\n              height: 11px;\n            }\n          }\n      \n          .header-logo-label {\n            font-size: 14px;\n            color: ",";\n          }\n\n          .header-logo-label:after {\n            color:  #A6A6A6;\n            font-size: 10px;\n            font-weight: 900;\n            content: 'BETA'\n          }\n\n          .header-logo-label:not(:disabled):not(.disabled):active {\n            color: ",";\n          }\n\n          @media only screen and (max-width: 760px) {\n            .header-logo-label-screen {\n              width: ",";\n              display: block;\n              over-flow: hidden;\n              white-space: nowrap;\n              overflow: hidden;\n              text-overflow: ellipsis;\n            }\n          }\n        }\n\n\n        .header-title-maxwidth-screen {\n          max-width: ",";\n        }\n\n        @media only screen and (max-width: 970px) {\n          .header-title-maxwidth-screen {\n            max-width: ",";\n          }\n        }\n\n        @media only screen and (max-width: 760px) {\n          .header-title-maxwidth-screen {\n            visibility: hidden;\n          }\n        }\n\n        .header-title-position-screen {\n          transform: translateX(-100%);\n        }\n\n        @media only screen and (min-width: 970px) {\n          .header-title-position-screen {\n            transform: translateX(-50%);\n          }\n        }\n      \n        .header-title {\n          position: absolute;\n          left: 50%;\n          top: 0;\n          bottom: 0;\n          input {\n            background-color: transparent;\n            &:focus {\n              background-color: ",";\n            }\n          }\n          .btn.text-btn.btn-dark {\n            color: ",";\n            &:hover,\n            &:focus {\n              color: ",";\n            }\n          }\n        }\n\n        .header-title-icon {\n          color: ",";\n\n          &:hover {\n            color: ",";\n          }\n        }\n      \n        .header-title-input {\n          border: none;\n          text-align: center;\n          min-width: ","rem;\n          cursor: pointer;\n          color: ",";\n      \n          &:hover {\n            border: 1px solid ",";\n          }\n        }\n      \n        .header-dropdown {\n          float: left;\n          color: ",";\n          padding-left: ",";\n          padding-right: ",";\n\n          &:hover {\n            background-color: ",";\n          }\n        }\n\n        .header-account {\n          float: left;\n          color: ",";\n          padding-right: ",";\n          padding-left: ",";\n\n          div {\n            background-color: initial;\n          }\n\n          &:hover {\n            background-color: ",";\n          }\n        }\n      \n        .header-login {\n          cursor: pointer;\n          fill: ",";\n        }\n\n        .header-login-username {\n          color: ","; \n          margin-left: 5px;\n          font-size: 14px;\n        }\n\n        .header-drop-label {\n          font-size: 14px;\n          color: ",";\n        }\n\n        @media only screen and (max-width: 600px) {\n          .header-drop-label {\n            width: ",";\n            display: block;\n            over-flow: hidden;\n            white-space: nowrap;\n            overflow: hidden;\n            text-overflow: ellipsis;\n          }\n        }\n\n        .header-drop-icon {\n          fill: ",";\n        }\n\n        .header-dropdown {\n          user-select: none;\n          transition: none;\n        }\n\n        .toollist-seperateline {\n          margin-left: ",";\n          border: 1px solid ",";\n          height: 30px;\n        }\n      }\n      \n      .popover-item {\n        padding: 0.75rem ",";\n\n        .popover-item-icon {\n          fill: ",";\n          color: ",";\n        }\n\n        .popover-item-label {\n          color: ","\n        }\n\n        &:hover {\n          background-color: ",";\n          color: ","\n        }\n      }"])),e.colors.grays.gray200,e.colors.white,s.polished.rem(16),s.polished.rem(24),s.polished.rem(24),e.colors.black,e.colors.black,s.polished.rem(50),s.polished.rem(220),s.polished.rem(58),e.colors.white,e.colors.grays.gray600,e.colors.grays.gray700,e.colors.grays.gray600,e.colors.black,50/14,e.colors.black,e.colors.grays.gray300,e.colors.black,s.polished.rem(16),s.polished.rem(16),e.colors.grays.gray100,e.colors.black,s.polished.rem(16),s.polished.rem(16),e.colors.white,e.colors.black,e.colors.black,e.colors.black,s.polished.rem(50),e.colors.black,s.polished.rem(16),e.colors.grays.gray300,s.polished.rem(16),e.colors.black,e.colors.black,e.colors.black,e.colors.primary,e.colors.black)},t.prototype.componentDidMount=function(){this.props.queryObject.id&&this.refreshTitle(this.props.queryObject.id)},t.prototype.componentWillReceiveProps=function(e){e.queryObject.id&&this.props.queryObject.id!==e.queryObject.id&&(this.setState({titleText:""}),this.refreshTitle(e.queryObject.id))},t.prototype.appTaskToggle=function(){this.setState(function(e){return{appTaskDropdown:!e.appTaskDropdown}})},t.prototype.componentDidUpdate=function(){this.spanTextInput.current&&this.state.titleLength!==this.spanTextInput.current.offsetWidth&&this.setState({titleLength:this.spanTextInput.current.offsetWidth+2})},t.prototype.render=function(){var e=this,t=null;this.props.user&&this.props.user.thumbnail&&(t=this.props.portalUrl+"/sharing/rest/community/users/"+this.props.user.username+"/info/"+this.props.user.thumbnail+"?token="+s.SessionManager.getInstance().getSession().token);var o=!0;"template"===this.props.currentPageId&&(o=!1);var i={preventOverflow:{escapeWithReference:!0},offset:{offset:"0, 1"}},r=this.props.theme;return s.jsx("div",{css:this.getStyle(),className:"h-100"},s.jsx("div",{className:"widget-builder-header d-flex justify-content-between h-100 pr-0 border-left-0 border-right-0 border-top-0"},s.jsx("div",{className:"header-logo d-flex align-items-center"},s.jsx("img",{className:"header-logo-item mr-2 d-block",src:n(147)}),s.jsx("div",null,s.jsx("h4",{className:"mb-0 font-weight-normal header-logo-container"},s.jsx("a",{className:"header-logo-label px-0 header-logo-label-screen",href:""+window.jimuConfig.mountPath},"ArcGIS Experience Builder   ")))),o&&s.jsx("div",{className:"header-title d-flex align-items-center header-title-maxwidth-screen header-title-position-screen",onClick:this.focusEditTitle},s.jsx("input",{ref:this.titleTextInput,className:"header-title-input px-1 font-weight-normal",title:this.state.titleText,style:{width:this.state.titleLength+"px",fontSize:"16px"},value:this.state.titleText,onBlur:this.editTitle,onChange:this.titleTextChange,onKeyDown:function(t){e.handleKeydown(t)}}),s.jsx(c.Button,{size:"sm",color:"dark",text:!0,icon:!0,className:"ml-1"},s.jsx(c.Icon,{icon:b,className:"header-title-icon"}))),s.jsx("div",{style:{position:"absolute",top:"-30px"}},s.jsx("div",{style:{zIndex:-1,position:"relative"}},s.jsx("span",{className:"px-1 border font-weight-normal",style:{fontSize:"16px",position:"relative",opacity:0,whiteSpace:"pre",zIndex:-1},ref:this.spanTextInput},this.state.titleText)),s.jsx(d.default,{handleWidth:!0,handleHeight:!0,onResize:this.onTitleContainerResize})),s.jsx("div",{className:"d-flex align-items-center"},o&&s.jsx(u.default,{intl:this.props.intl,onSaveStatusChanged:function(t){e.isToolListSaved=t}}),s.jsx("div",{className:"float-right d-flex h-100 justify-content-end"},o&&s.jsx("div",{className:"d-flex"},s.jsx("div",{className:"toollist-seperateline border-bottom-0 border-top-0 border-left-0 mt-1 mb-1"}),s.jsx("div",{id:"menuPopover",onClick:this.toggleMenu,className:"header-dropdown float-left d-flex align-items-center",style:{cursor:"pointer"}},s.jsx("span",{className:"header-drop-label mr-2"},this.props.intl?this.props.intl.formatMessage({id:"createNew",defaultMessage:p.default.createNew}):p.default.createNew),s.jsx(c.Icon,{className:"header-drop-icon",icon:m,width:10,height:10}),s.jsx(c.Popover,{css:this.getStyle(),className:"mt-0",style:{backgroundColor:r&&r.colors?r.colors.grays.gray200:"",boxShadow:"0 0 8px 0 rgba(0,0,0,0.50)"},hideArrow:!0,modifiers:i,placement:"bottom-start",isOpen:this.state.menuPopoverOpen,target:"menuPopover",toggle:this.toggleMenu},s.jsx(c.PopoverBody,{className:"pb-0 pt-0 popover-item"},s.jsx("div",{style:{height:"40px",fontSize:"14px",cursor:"pointer"},className:"d-flex align-items-center",onClick:this.newApp},s.jsx(c.Icon,{icon:h,className:"d-block float-left pl-1 popover-item-icon"}),s.jsx("div",{className:"d-block float-left ml-1 popover-item-label",style:{fontSize:".8rem"}},s.jsx(s.FormattedMessage,{id:"createNew",defaultMessage:p.default.createNew}))))))),s.jsx("div",{id:"accountPopover",onClick:this.toggleAccount,className:"header-account float-left d-flex align-items-center",style:{cursor:"pointer"}},t&&s.jsx(c.Image,{src:t,width:16,height:16,shape:"circle",className:"d-block float-left header-login"}),!t&&s.jsx(c.Icon,{icon:f,width:16,height:16,className:"d-block float-left header-login"}),s.jsx("div",{className:"d-flex align-items-center header-login-username"},this.props.user&&this.props.user.firstName?this.props.user.firstName:""),s.jsx(c.Popover,{css:this.getStyle(),className:"mt-0",style:{backgroundColor:r&&r.colors?r.colors.grays.gray200:"",boxShadow:"0 0 8px 0 rgba(0,0,0,0.50)"},hideArrow:!0,modifiers:i,placement:"bottom-start",isOpen:this.state.accountPopoverOpen,target:"accountPopover",toggle:this.toggleAccount},s.jsx(c.PopoverBody,{className:"pb-0 pt-0 popover-item"},s.jsx("div",{style:{height:"40px",fontSize:"14px",cursor:"pointer"},className:"d-flex align-items-center",onClick:this.signOut},s.jsx("div",{className:"d-block float-left ml-1 popover-item-label",style:{fontSize:".8rem"}},s.jsx(s.FormattedMessage,{id:"signOut",defaultMessage:p.default.signOut})))))))),s.jsx(a.AlertPopup,{isOpen:this.state.isShowAlertPopup,okLabel:this.props.intl?this.props.intl.formatMessage({id:"headerLeave",defaultMessage:p.default.headerLeave}):p.default.headerLeave,title:this.props.intl?this.props.intl.formatMessage({id:"headerLeaveSite",defaultMessage:p.default.headerLeaveSite}):p.default.headerLeaveSite,toggle:this.handleToggle},s.jsx("div",{style:{fontSize:"1rem"}},this.props.intl?this.props.intl.formatMessage({id:"headerLeaveDescription",defaultMessage:p.default.headerLeaveDescription}):p.default.headerLeaveDescription))))},t.mapExtraStateProps=function(e){return{currentPageId:e.appRuntimeInfo&&e.appRuntimeInfo.currentPageId}},t}(s.BaseWidget);t.default=g},136:function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),s=n(2),a=n(3),l=n(10),c=n(36),p=n(137);s.ReactModal.setAppElement(document&&document.getElementsByTagName("body")[0]);var u,d=n(138),h=n(139),f=n(140),m=n(141),b=n(9),g=n(142),v=function(e){function t(t){var n=e.call(this,t)||this;return n.fontSizeBase=14,n.panelWidth=210/n.fontSizeBase+"rem",n.defaultModalStyle={position:"fixed",top:"90px",width:"500px",backgroundColor:"none",height:"50px",marginLeft:"auto",marginRight:"auto"},n.modalStyle={content:n.defaultModalStyle,overlay:n.defaultModalStyle},n.checkIsSaved=function(){return n.state.saveState===n.saved||n.props.stateHistory.past.length<=1&&n.props.stateHistory.future.length<1},n.onUndo=function(){n.props.stateHistory.past.length<=1||r.getAppStore().dispatch(a.appStateHistoryActions.InBuilderAppConfigUndo())},n.onRedo=function(){n.props.stateHistory.future.length<=0||r.getAppStore().dispatch(a.appStateHistoryActions.InBuilderAppConfigRedo())},n.onSaveClick=function(e){return n.setState({saveState:n.saving}),l.appServices.saveApp(n.props.queryObject.id,n.props.appConfig).then(function(t){return n.setState({saveState:n.saved,savedAppConfig:r.Immutable(n.props.appConfig)}),!e&&n.toastNote(n.saveSuccess),Promise.resolve()},function(t){return console.error(t),n.setState({saveState:n.saveError}),!e&&n.toastNote(n.saveError),Promise.reject(t)})},n.onPublishClick=function(){n.state.publishState!==n.publishing&&(n.setState({publishState:n.publishing}),n.state.saveState===n.saved||n.props.stateHistory.past.length<=1&&n.props.stateHistory.future.length<1?l.appServices.publishApp(n.props.queryObject.id).then(function(){n.setState({isPublished:!0,publishState:n.published,publishedAppConfig:r.Immutable(n.props.appConfig)}),n.toastNote(n.publishSuccess)},function(e){console.error(e),n.toastNote(n.publishError),n.setState({publishState:n.publishError})}):n.onSaveClick(!0).then(function(){l.appServices.publishApp(n.props.queryObject.id).then(function(){n.setState({isPublished:!0,publishState:n.published,publishedAppConfig:r.Immutable(n.props.appConfig)}),n.toastNote(n.publishSuccess)},function(e){console.error(e),n.toastNote(n.publishError),n.setState({publishState:n.publishError})})},function(e){console.error(e),n.toastNote(n.saveError),n.setState({publishState:n.publishError})}))},n.onToggleToolTipUndo=function(){n.setState({toolTipUndoOpen:!n.state.toolTipUndoOpen,toolTipRedoOpen:!1,toolTipSaveOpen:!1,toolTipPreviewOpen:!1,toolTipPublishOpen:!1,toolTipPublishOptionsOpen:!1})},n.onToggleToolTipRedo=function(){n.setState({toolTipUndoOpen:!1,toolTipRedoOpen:!n.state.toolTipRedoOpen,toolTipSaveOpen:!1,toolTipPreviewOpen:!1,toolTipPublishOpen:!1,toolTipPublishOptionsOpen:!1})},n.onToggleToolTipSave=function(){n.setState({toolTipUndoOpen:!1,toolTipRedoOpen:!1,toolTipSaveOpen:!n.state.toolTipSaveOpen,toolTipPreviewOpen:!1,toolTipPublishOpen:!1,toolTipPublishOptionsOpen:!1})},n.onToggleToolTipPreview=function(){n.setState({toolTipUndoOpen:!1,toolTipRedoOpen:!1,toolTipSaveOpen:!1,toolTipPreviewOpen:!n.state.toolTipPreviewOpen,toolTipPublishOpen:!1,toolTipPublishOptionsOpen:!1})},n.onToggleToolTipPublish=function(){n.setState({toolTipUndoOpen:!1,toolTipRedoOpen:!1,toolTipSaveOpen:!1,toolTipPreviewOpen:!1,toolTipPublishOpen:!n.state.toolTipPublishOpen,toolTipPublishOptionsOpen:!1})},n.onToggleToolTipPublishOptions=function(){n.setState({toolTipUndoOpen:!1,toolTipRedoOpen:!1,toolTipSaveOpen:!1,toolTipPreviewOpen:!1,toolTipPublishOpen:!1,toolTipPublishOptionsOpen:!n.state.toolTipPublishOptionsOpen})},n.togglePublishOptionList=function(){n.setState({publishOptionsListOpen:!n.state.publishOptionsListOpen,toolTipPublishOptionsOpen:!1})},n.toggleMoreToolList=function(){n.setState({moreToolListOpen:!n.state.moreToolListOpen})},n.copyPublishUrlToClipBoard=function(){var e=window.location.origin+(window.jimuConfig.useStructuralUrl?"/stemapp/"+n.props.queryObject.id+"/":"/stemapp/?id="+n.props.queryObject.id),t=document.createElement("input");t.value=e,t.style.position="absolute",t.style.opacity="0",document.body.appendChild(t),t.focus(),t.select(),document.execCommand("copy"),document.body.removeChild(t),n.toastNote(n.copySuccess),n.setState({publishOptionsListOpen:!1})},n.isInOnLine=function(){return!!n.props.portalUrl.match("arcgis.com")},n.toastNote=function(e){n.setState({isToastNote:!0,noteText:e},function(){setTimeout(function(){n.setState({isToastNote:!1,noteText:""})},2e3)})},n.saveForkeyBoard=function(){return!(n.state.saveState===n.saved||n.props.stateHistory.past.length<=1&&n.props.stateHistory.future.length<1||n.state.saveState===n.saving)&&(n.onSaveClick(),!1)},n.isMac=function(){return/macintosh|mac os x/i.test(navigator.userAgent)},n.save=n.props.intl.formatMessage({id:"save",defaultMessage:c.default.save}),n.saved=n.props.intl.formatMessage({id:"saved",defaultMessage:c.default.saved}),n.saving=n.props.intl.formatMessage({id:"saving",defaultMessage:c.default.saving}),n.saveError=n.props.intl.formatMessage({id:"saveError",defaultMessage:c.default.saveError}),n.saveSuccess=n.props.intl.formatMessage({id:"saveSuccess",defaultMessage:c.default.saveSuccess}),n.publish=n.props.intl.formatMessage({id:"publish",defaultMessage:c.default.publish}),n.published=n.props.intl.formatMessage({id:"published",defaultMessage:c.default.published}),n.publishing=n.props.intl.formatMessage({id:"publishing",defaultMessage:c.default.publishing}),n.publishError=n.props.intl.formatMessage({id:"publishError",defaultMessage:c.default.publishError}),n.publishSuccess=n.props.intl.formatMessage({id:"publishSuccess",defaultMessage:c.default.publishSuccess}),n.undo=n.props.intl.formatMessage({id:"undo",defaultMessage:c.default.undo}),n.redo=n.props.intl.formatMessage({id:"redo",defaultMessage:c.default.redo}),n.preview=n.props.intl.formatMessage({id:"preview",defaultMessage:c.default.preview}),n.publishTo=n.props.intl.formatMessage({id:"publishTo",defaultMessage:c.default.publishTo}),n.publishOptions=n.props.intl.formatMessage({id:"publishOptions",defaultMessage:c.default.publishOptions}),n.copySuccess=n.props.intl.formatMessage({id:"copySuccess",defaultMessage:c.default.copySuccess}),n.changeShareSettings=n.props.intl.formatMessage({id:"changeShareSettings",defaultMessage:c.default.changeShareSettings}),n.viewPublishedItem=n.props.intl.formatMessage({id:"viewPublishedItem",defaultMessage:c.default.viewPublishedItem}),n.copyPublishedItemLink=n.props.intl.formatMessage({id:"copyPublishedItemLink",defaultMessage:c.default.copyPublishedItemLink}),n.state={publishState:n.publish,saveState:n.save,savedAppConfig:null,publishedAppConfig:null,toolTipUndoOpen:!1,toolTipRedoOpen:!1,toolTipSaveOpen:!1,toolTipPreviewOpen:!1,toolTipPublishOpen:!1,toolTipPublishOptionsOpen:!1,publishOptionsListOpen:!1,moreToolListOpen:!1,isPublished:!1,noteText:"",isToastNote:!1},n}return o(t,e),t.prototype.getStyle=function(e){var t=e.colors&&e.colors.black?e.colors.black:"black";return r.css(u||(u=i(["\n      .toollist-tooltip {\n        background-color: ","\n      }\n\n      .toollist-drop-icon {\n        fill: ",";\n      }\n\n      .toollist {\n\n        .toollist-length-screen {\n          width: ",";\n          overflow: hidden;\n        }\n\n        @media only screen and (min-width: 1080px) {\n          .toollist-length-screen {\n            width: ",";\n          }\n        }\n\n        @media only screen and (min-width: 1173px) {\n          .toollist-length-screen {\n            width: ",";\n          }\n        }\n\n        @media only screen and (min-width: 1240px) {\n          .toollist-length-screen {\n            width: ",";\n          }\n        }\n\n        @media only screen and (min-width: 1245px) {\n          .toollist-length-screen {\n            width: ",";\n          }\n        }\n\n        .toollist-more {\n          width: ",";\n          overflow: hidden;\n        }\n\n        @media only screen and (min-width: 1245px) {\n          .toollist-more {\n            width: ",";\n          }\n        }\n\n\n        .toollist-item {\n          padding: 0;\n          border: 0;\n          background-color: inherit;\n\n          &:hover {\n            background-color: ",";\n          }\n        }\n\n        .toollist-item-icon {\n          margin-left: ",";\n          margin-right: ",";\n        }\n\n        .toollist-item-click:focus {\n          outline: none;\n          box-shadow: none !important;\n        }\n\n        .toollist-publish {\n          border-radius: 2px;\n          min-width: 5rem;\n          line-height: 0;\n          height: 28px;\n          color: ",';\n        }\n\n        .toollist-publish:focus {\n          outline: none;\n          box-shadow: none !important;\n        }\n\n        .btn {\n          &.disabled,\n          &:disabled {\n            background-color: transparent;\n          }\n          &[class*="btn-outline-"] {\n            border-color: ',";\n          }\n        }\n\n        .btn:not(:disabled):not(.disabled):active, \n        .btn:not(:disabled):not(.disabled).active, \n        .show > .btn.dropdown-toggle {\n          color: ",";\n        }\n      }\n\n      .popover-item {\n\n\n\n        .publish-options-item {\n          color: ",";\n          cursor: pointer;\n          height: 40px;\n          padding-left: 12px;\n          padding-right: 12px;\n          font-size: 0.8rem;\n\n          &:hover {\n            background-color: ",";\n            color: ","\n          }\n        }\n\n        .publish-options-item-disabled {\n          color: ",";\n          height: 40px;\n          padding-left: 12px;\n          padding-right: 12px;\n          font-size: 0.8rem;\n        }\n\n        a {\n          text-decoration: none;\n        }\n\n        .more-tool-container-screen {\n          width: ",";\n          overflow: hidden;\n        }\n\n        @media only screen and (min-width: 1080px) {\n          .more-tool-container-screen {\n            height: ",";\n          }\n        }\n\n        @media only screen and (min-width: 1173px) {\n          .more-tool-container-screen {\n            height: ",";\n          }\n        }\n\n        @media only screen and (min-width: 1240px) {\n          .more-tool-container-screen {\n            height: ",";\n          }\n        }\n\n        @media only screen and (min-width: 1245px) {\n          .more-tool-container-screen {\n            height: ",";\n          }\n        }\n\n        .more-tool-container {\n          color: ",";\n          width: ",";\n          overflow: hidden;\n\n          .more-tool-container-item {\n            color: ",";\n            height: ",";\n            background-color: inherit;\n            border: 0;\n            padding: 0;\n\n            &:hover {\n              background-color: ",";\n            }\n          }\n\n          .more-tool-a {\n            width: ",";\n            height: ",";\n          }\n\n          .more-tool-container-item-disabled {\n            color: ",";\n\n            &:hover {\n              background-color: inherit !important;\n            }\n          }\n\n          .toollist-item {\n            padding: 0;\n            border: 0;\n            background-color: inherit;\n  \n            &:hover {\n              background-color: ",";\n            }\n          }\n  \n          .toollist-item-icon {\n            margin-left: ",";\n            margin-right: ",";\n          }\n  \n          .toollist-item-click:focus {\n            outline: none;\n            box-shadow: none !important;\n          }\n        }\n      }\n\n      .toast-note {\n        font-size: 16px;\n        color: ",";\n        box-shadow: 0 2px 6px 0 rgba(255, 255, 255, 0.2);\n      }\n    "],["\n      .toollist-tooltip {\n        background-color: ","\n      }\n\n      .toollist-drop-icon {\n        fill: ",";\n      }\n\n      .toollist {\n\n        .toollist-length-screen {\n          width: ",";\n          overflow: hidden;\n        }\n\n        @media only screen and (min-width: 1080px) {\n          .toollist-length-screen {\n            width: ",";\n          }\n        }\n\n        @media only screen and (min-width: 1173px) {\n          .toollist-length-screen {\n            width: ",";\n          }\n        }\n\n        @media only screen and (min-width: 1240px) {\n          .toollist-length-screen {\n            width: ",";\n          }\n        }\n\n        @media only screen and (min-width: 1245px) {\n          .toollist-length-screen {\n            width: ",";\n          }\n        }\n\n        .toollist-more {\n          width: ",";\n          overflow: hidden;\n        }\n\n        @media only screen and (min-width: 1245px) {\n          .toollist-more {\n            width: ",";\n          }\n        }\n\n\n        .toollist-item {\n          padding: 0;\n          border: 0;\n          background-color: inherit;\n\n          &:hover {\n            background-color: ",";\n          }\n        }\n\n        .toollist-item-icon {\n          margin-left: ",";\n          margin-right: ",";\n        }\n\n        .toollist-item-click:focus {\n          outline: none;\n          box-shadow: none !important;\n        }\n\n        .toollist-publish {\n          border-radius: 2px;\n          min-width: 5rem;\n          line-height: 0;\n          height: 28px;\n          color: ",';\n        }\n\n        .toollist-publish:focus {\n          outline: none;\n          box-shadow: none !important;\n        }\n\n        .btn {\n          &.disabled,\n          &:disabled {\n            background-color: transparent;\n          }\n          &[class*="btn-outline-"] {\n            border-color: ',";\n          }\n        }\n\n        .btn:not(:disabled):not(.disabled):active, \n        .btn:not(:disabled):not(.disabled).active, \n        .show > .btn.dropdown-toggle {\n          color: ",";\n        }\n      }\n\n      .popover-item {\n\n\n\n        .publish-options-item {\n          color: ",";\n          cursor: pointer;\n          height: 40px;\n          padding-left: 12px;\n          padding-right: 12px;\n          font-size: 0.8rem;\n\n          &:hover {\n            background-color: ",";\n            color: ","\n          }\n        }\n\n        .publish-options-item-disabled {\n          color: ",";\n          height: 40px;\n          padding-left: 12px;\n          padding-right: 12px;\n          font-size: 0.8rem;\n        }\n\n        a {\n          text-decoration: none;\n        }\n\n        .more-tool-container-screen {\n          width: ",";\n          overflow: hidden;\n        }\n\n        @media only screen and (min-width: 1080px) {\n          .more-tool-container-screen {\n            height: ",";\n          }\n        }\n\n        @media only screen and (min-width: 1173px) {\n          .more-tool-container-screen {\n            height: ",";\n          }\n        }\n\n        @media only screen and (min-width: 1240px) {\n          .more-tool-container-screen {\n            height: ",";\n          }\n        }\n\n        @media only screen and (min-width: 1245px) {\n          .more-tool-container-screen {\n            height: ",";\n          }\n        }\n\n        .more-tool-container {\n          color: ",";\n          width: ",";\n          overflow: hidden;\n\n          .more-tool-container-item {\n            color: ",";\n            height: ",";\n            background-color: inherit;\n            border: 0;\n            padding: 0;\n\n            &:hover {\n              background-color: ",";\n            }\n          }\n\n          .more-tool-a {\n            width: ",";\n            height: ",";\n          }\n\n          .more-tool-container-item-disabled {\n            color: ",";\n\n            &:hover {\n              background-color: inherit !important;\n            }\n          }\n\n          .toollist-item {\n            padding: 0;\n            border: 0;\n            background-color: inherit;\n  \n            &:hover {\n              background-color: ",";\n            }\n          }\n  \n          .toollist-item-icon {\n            margin-left: ",";\n            margin-right: ",";\n          }\n  \n          .toollist-item-click:focus {\n            outline: none;\n            box-shadow: none !important;\n          }\n        }\n      }\n\n      .toast-note {\n        font-size: 16px;\n        color: ",";\n        box-shadow: 0 2px 6px 0 rgba(255, 255, 255, 0.2);\n      }\n    "])),e.colors.grays.gray100,e.colors.black,r.polished.rem(0),r.polished.rem(36),r.polished.rem(72),r.polished.rem(108),r.polished.rem(144),r.polished.rem(36),r.polished.rem(0),e.colors.grays.gray100,r.polished.rem(10),r.polished.rem(10),e.colors.black,e.colors.grays.gray400,t,e.colors.black,e.colors.primary,e.colors.black,e.colors.grays.gray600,r.polished.rem(160),r.polished.rem(120),r.polished.rem(80),r.polished.rem(40),r.polished.rem(0),e.colors.grays.gray600,r.polished.rem(38),t,r.polished.rem(40),e.colors.grays.gray100,r.polished.rem(40),r.polished.rem(40),e.colors.grays.gray600,e.colors.grays.gray100,r.polished.rem(10),r.polished.rem(10),e.colors.grays.gray900)},t.prototype.componentDidMount=function(){var e=this;window.onbeforeunload=function(){return!!e.checkIsSaved()&&void 0}},t.prototype.componentWillUnmount=function(){window.onbeforeunload=null},t.prototype.componentDidUpdate=function(){this.props.onSaveStatusChanged&&this.props.onSaveStatusChanged(this.checkIsSaved())},t.prototype.componentWillReceiveProps=function(e){var t=this;e.currentAppId!==this.props.currentAppId&&(l.appServices.getAppItemData(e.currentAppId).then(function(e){e&&e.__not_publish?t.setState({isPublished:!1}):e&&!e.__not_publish?t.setState({isPublished:!0}):t.setState({isPublished:!1})}),r.getAppStore().dispatch(a.appStateHistoryActions.InBuilderAppConfigClear())),e.appConfig&&(this.state.savedAppConfig?e.appConfig!==this.state.savedAppConfig?this.setState({saveState:this.save}):this.setState({saveState:this.saved}):this.state.saveState===this.saveError&&this.setState({saveState:this.save}),this.state.publishedAppConfig?e.appConfig!==this.state.publishedAppConfig&&this.setState({publishState:this.publish}):this.state.publishState===this.publishError&&this.setState({publishState:this.publish}))},t.prototype.render=function(){var e=this;return r.jsx("div",{className:"float-right d-flex flex-row align-items-center h-100",css:this.getStyle(this.props.theme)},this.isMac()&&r.jsx(r.Keyboard,{bindings:{"command+keys":function(){e.saveForkeyBoard()}}}),!this.isMac()&&r.jsx(r.Keyboard,{bindings:{"ctrl+keys":function(){e.saveForkeyBoard()}}}),r.jsx("div",{className:"h-100 toollist d-flex flex-row align-items-center justify-content-end"},r.jsx("div",{className:"toollist-length-screen h-100 d-flex flex-wrap align-items-center justify-content-start"},r.jsx("div",{id:"tooltip_undo",className:"h-100"},r.jsx(s.Button,{className:r.classNames("d-flex flex-column align-items-center toollist-item h-100","justify-content-center",{"toollist-item-click":!(this.props.stateHistory.past.length<=1)}),color:"light",title:this.undo,disabled:this.props.stateHistory.past.length<=1,onClick:this.onUndo},r.jsx(s.Icon,{icon:d,className:"toollist-item-icon",width:16,height:16}))),r.jsx("div",{id:"tooltip_redo",className:"h-100"},r.jsx(s.Button,{className:r.classNames("d-flex flex-column align-items-center toollist-item h-100","justify-content-center",{"toollist-item-click":!(this.props.stateHistory.future.length<1)}),color:"light",title:this.redo,disabled:this.props.stateHistory.future.length<1,onClick:this.onRedo},r.jsx(s.Icon,{icon:h,className:"toollist-item-icon",width:16,height:16}))),r.jsx("div",{id:"tooltip_save",className:"h-100"},r.jsx(s.Button,{className:r.classNames("d-flex flex-column align-items-center toollist-item h-100","justify-content-center",{"toollist-item-click":!(this.state.saveState===this.saved||this.props.stateHistory.past.length<=1&&this.props.stateHistory.future.length<1)}),color:"light",title:this.state.saveState,disabled:this.state.saveState===this.saved||this.props.stateHistory.past.length<=1&&this.props.stateHistory.future.length<1,onClick:function(){e.onSaveClick()}},this.state.saveState!==this.saving&&r.jsx(s.Icon,{icon:f,className:"toollist-item-icon",width:16,height:16}),this.state.saveState===this.saving&&r.jsx("div",{style:{width:"16px",height:"16px"},className:"toollist-item-icon"},r.jsx(p.SaveLoading,{theme:this.props.theme})))),r.jsx("div",{id:"tooltip_preview",className:"h-100"},r.jsx("a",{className:"m-0 p-0 toollist-item-click btn h-100 border-0",href:window.jimuConfig.useStructuralUrl?"../stemapp/"+this.props.queryObject.id+"/?draft=true":"../stemapp/?id="+this.props.queryObject.id+"&draft=true",rel:"noreferrer",target:"_blank"},r.jsx(s.Button,{className:r.classNames("d-flex flex-column align-items-center toollist-item h-100","justify-content-center toollist-item-click h-100 border-0"),title:this.preview,color:"light"},r.jsx(s.Icon,{icon:m,className:"toollist-item-icon",width:16,height:16}))))),r.jsx("div",{className:"h-100 toollist-more"},r.jsx(s.Button,{id:"more_tool_popover",className:r.classNames("d-flex flex-column align-items-center toollist-item h-100 justify-content-center"),color:"light",onClick:this.toggleMoreToolList},r.jsx(s.Icon,{icon:g,className:"toollist-item-icon",width:16,height:16})),r.jsx(s.Popover,{css:this.getStyle(this.props.theme),className:"mt-0",style:{backgroundColor:this.props.theme&&this.props.theme.colors?this.props.theme.colors.grays.gray200:"",boxShadow:"0 0 8px 0 rgba(0,0,0,0.50)"},hideArrow:!0,modifiers:{preventOverflow:{escapeWithReference:!0},offset:{offset:"0, 1"}},placement:"bottom-end",isOpen:this.state.moreToolListOpen,target:"more_tool_popover",toggle:this.toggleMoreToolList},r.jsx(s.PopoverBody,{className:"p-0 popover-item"},r.jsx("div",null,r.jsx("div",{className:"d-flex more-tool-container more-tool-container-screen",style:{flexFlow:"column-reverse"}},r.jsx("div",{className:"d-flex align-items-center justify-content-center jimu-widget"},r.jsx("div",{className:"d-flex align-items-center justify-content-center more-tool-a"},r.jsx("a",{className:"m-0 p-0 toollist-item-click btn h-100 border-0",href:window.jimuConfig.useStructuralUrl?"../stemapp/"+this.props.queryObject.id+"/?draft=true":"../stemapp/?id="+this.props.queryObject.id+"&draft=true",rel:"noreferrer",target:"_blank"},r.jsx(s.Button,{className:r.classNames("d-flex flex-column align-items-center toollist-item more-tool-container-item","justify-content-center toollist-item-click h-100 border-0"),title:this.preview,color:"light"},r.jsx(s.Icon,{icon:m,className:"toollist-item-icon",width:16,height:16}))))),r.jsx("div",{className:"d-flex align-items-center justify-content-center"},r.jsx(s.Button,{className:r.classNames("d-flex flex-column align-items-center toollist-item more-tool-container-item","justify-content-center",{"more-tool-container-item-disabled":this.state.saveState===this.saved||this.props.stateHistory.past.length<=1&&this.props.stateHistory.future.length<1},{"toollist-item-click":!(this.state.saveState===this.saved||this.props.stateHistory.past.length<=1&&this.props.stateHistory.future.length<1)}),color:"light",title:this.state.saveState,disabled:this.state.saveState===this.saved||this.props.stateHistory.past.length<=1&&this.props.stateHistory.future.length<1,onClick:function(){e.onSaveClick()}},this.state.saveState!==this.saving&&r.jsx(s.Icon,{icon:f,className:"toollist-item-icon",width:16,height:16}),this.state.saveState===this.saving&&r.jsx("div",{style:{width:"16px",height:"16px"},className:"toollist-item-icon"},r.jsx(p.SaveLoading,{theme:this.props.theme})))),r.jsx("div",{className:"d-flex align-items-center justify-content-center"},r.jsx(s.Button,{className:r.classNames("d-flex flex-column align-items-center toollist-item more-tool-container-item","justify-content-center",{"more-tool-container-item-disabled":this.props.stateHistory.future.length<1},{"toollist-item-click":!(this.props.stateHistory.future.length<1)}),color:"light",title:this.redo,disabled:this.props.stateHistory.future.length<1,onClick:this.onRedo},r.jsx(s.Icon,{icon:h,className:"toollist-item-icon",width:16,height:16}))),r.jsx("div",{className:"d-flex align-items-center justify-content-center"},r.jsx(s.Button,{className:r.classNames("d-flex flex-column align-items-center toollist-item more-tool-container-item","justify-content-center",{"more-tool-container-item-disabled":this.props.stateHistory.past.length<=1},{"toollist-item-click":!(this.props.stateHistory.past.length<=1)}),color:"light",title:this.undo,disabled:this.props.stateHistory.past.length<=1,onClick:this.onUndo},r.jsx(s.Icon,{icon:d,className:"toollist-item-icon",width:16,height:16})))))))),r.jsx("div",{id:"tooltip_publish",className:"h-100 d-flex align-items-center"},r.jsx(s.Button,{className:"ml-2 toollist-publish",size:"sm",outline:!0,onClick:this.onPublishClick,style:{borderTopRightRadius:"0",borderBottomRightRadius:"0"},disabled:this.state.publishState===this.published,title:this.publishTo+" "+(this.isInOnLine()?"ArcGIS Online":"Portal for ArcGIS")},r.jsx("span",null,this.state.publishState))),r.jsx("div",{id:"tooltip_publish_options",className:"h-100 d-flex align-items-center",title:this.publishOptions},r.jsx(s.Button,{id:"publish_options_popover",style:{width:"26px",minWidth:0,marginLeft:"-1px",borderTopLeftRadius:"0",borderBottomLeftRadius:"0"},onClick:this.togglePublishOptionList,className:"toollist-publish border-left-0 pl-0 pr-0",size:"lg",outline:!0},r.jsx(s.Icon,{className:"toollist-drop-icon mr-0",icon:b,width:10,height:10})),r.jsx(s.Popover,{css:this.getStyle(this.props.theme),className:"mt-0",style:{backgroundColor:this.props.theme&&this.props.theme.colors?this.props.theme.colors.grays.gray200:"",boxShadow:"0 0 8px 0 rgba(0,0,0,0.50)"},hideArrow:!0,modifiers:{preventOverflow:{escapeWithReference:!0},offset:{offset:"0, 6"}},placement:"bottom-end",isOpen:this.state.publishOptionsListOpen,target:"publish_options_popover",toggle:this.togglePublishOptionList},r.jsx(s.PopoverBody,{className:"p-0 popover-item"},r.jsx("div",null,r.jsx("a",{target:"_blank",href:this.props.portalUrl+"/home/item.html?id="+this.props.currentAppId},r.jsx("div",{className:"publish-options-item d-flex align-items-center",onClick:function(){e.setState({publishOptionsListOpen:!1})}},this.changeShareSettings)),this.state.isPublished&&r.jsx("a",{rel:"noreferrer",target:"_blank",href:window.jimuConfig.useStructuralUrl?"../stemapp/"+this.props.queryObject.id+"/":"../stemapp/?id="+this.props.queryObject.id},r.jsx("div",{className:r.classNames("d-flex align-items-center",{"publish-options-item-disabled":!this.state.isPublished,"publish-options-item":this.state.isPublished}),onClick:function(){e.setState({publishOptionsListOpen:!1})}},this.viewPublishedItem)),!this.state.isPublished&&r.jsx("div",{className:r.classNames("d-flex align-items-center publish-options-item-disabled")},this.viewPublishedItem),r.jsx("div",{className:r.classNames("d-flex align-items-center",{"publish-options-item-disabled":!this.state.isPublished,"publish-options-item":this.state.isPublished}),onClick:function(){e.state.isPublished&&e.copyPublishUrlToClipBoard()}},this.copyPublishedItemLink)))))),r.jsx(s.ReactModal,{css:this.getStyle(this.props.theme),className:"border-color-gray-400",style:this.modalStyle,isOpen:this.state.isToastNote},r.jsx("div",{className:"w-100 h-100 d-flex align-items-center justify-content-center"},r.jsx("div",{className:"h-100 toast-note d-flex align-items-center \r\n            justify-content-center pl-2 pr-2 bg-gray-100"},this.state.noteText))))},t}(r.React.PureComponent),y=r.themeUtils.withTheme(v);t.default=r.ReactRedux.connect(function(e){return{stateHistory:e.appStateHistory,queryObject:e.queryObject,appConfig:e.appStateInBuilder&&e.appStateInBuilder.appConfig,currentAppId:e.builder&&e.builder.currentAppId,portalUrl:e.portalUrl}})(y)},137:function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var r,s=n(0),a=function(e){function t(t){return e.call(this,t)||this}return o(t,e),t.prototype.getStyle=function(e){return s.css(r||(r=i(["\n      .item-inner {\n        width: 16px;\n        height: 16px;\n        position: relative;\n      }\n\n      .item-loader-container {\n        width: 100%;\n        height: 100%;\n      }\n\n      .la-ball-fall,\n        .la-ball-fall>div {\n          position:relative;\n          -webkit-box-sizing:border-box;\n          -moz-box-sizing:border-box;\n          box-sizing:border-box\n        }\n      \n      .la-ball-fall {\n        display:block;\n        font-size:0;\n        color:","\n      }\n      \n      .la-ball-fall>div {\n        display:inline-block;\n        float:none;\n        background-color:currentColor;\n        border:0 solid currentColor\n      } \n      \n      .la-ball-fall {\n        width:54px;\n        height:18px\n      }\n      \n      .la-ball-fall>div{\n        width:10px;\n        height:10px;\n        margin:4px;\n        border-radius:100%;\n        opacity:0;\n        -webkit-animation:ball-fall 1s ease-in-out infinite;\n        -moz-animation:ball-fall 1s ease-in-out infinite;\n        -o-animation:ball-fall 1s ease-in-out infinite;\n        animation:ball-fall 1s ease-in-out infinite\n      }\n      \n      .la-ball-fall>div:nth-of-type(1){\n        -webkit-animation-delay:-200ms;\n        -moz-animation-delay:-200ms;\n        -o-animation-delay:-200ms;\n        animation-delay:-200ms\n      }\n      \n      .la-ball-fall>div:nth-of-type(2){\n        -webkit-animation-delay:-100ms;\n        -moz-animation-delay:-100ms;\n        -o-animation-delay:-100ms;\n        animation-delay:-100ms\n      }\n      \n      .la-ball-fall>div:nth-of-type(3){\n        -webkit-animation-delay:0ms;\n        -moz-animation-delay:0ms;\n        -o-animation-delay:0ms;\n        animation-delay:0ms\n      }\n      \n      .la-ball-fall.la-2x{\n        display: flex;\n        align-items: center;\n        width: 100%;\n        height: 100%;\n      }\n      \n      .la-ball-fall.la-2x>div{\n        width:25%;\n        height:25%;\n        margin:3%;\n      }\n      \n      @-webkit-keyframes ball-fall{\n        0%{opacity:0;-webkit-transform:translateY(-145%);transform:translateY(-145%)}\n        10%{opacity:.5}\n        20%{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}\n        80%{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}\n        90%{opacity:.5}\n        100%{opacity:0;-webkit-transform:translateY(145%);transform:translateY(145%)}\n      }\n      \n      @-moz-keyframes ball-fall{\n        0%{opacity:0;-moz-transform:translateY(-145%);transform:translateY(-145%)}\n        10%{opacity:.5}20%{opacity:1;-moz-transform:translateY(0);transform:translateY(0)}\n        80%{opacity:1;-moz-transform:translateY(0);transform:translateY(0)}90%{opacity:.5}\n        100%{opacity:0;-moz-transform:translateY(145%);transform:translateY(145%)}\n      }\n      \n      @-o-keyframes ball-fall{\n        0%{opacity:0;-o-transform:translateY(-145%);transform:translateY(-145%)}\n        10%{opacity:.5}20%{opacity:1;-o-transform:translateY(0);transform:translateY(0)}\n        80%{opacity:1;-o-transform:translateY(0);transform:translateY(0)}90%{opacity:.5}\n        100%{opacity:0;-o-transform:translateY(145%);transform:translateY(145%)}\n      }\n      \n      @keyframes ball-fall{\n        0%{opacity:0;-webkit-transform:translateY(-145%);\n        -moz-transform:translateY(-145%);\n        -o-transform:translateY(-145%);\n        transform:translateY(-145%)}10%{opacity:.5}\n        20%{opacity:1;-webkit-transform:translateY(0);\n        -moz-transform:translateY(0);\n        -o-transform:translateY(0);\n        transform:translateY(0)}\n        80%{opacity:1;-webkit-transform:translateY(0);\n        -moz-transform:translateY(0);\n        -o-transform:translateY(0);\n        transform:translateY(0)}\n        90%{opacity:.5}\n        100%{opacity:0;\n        -webkit-transform:translateY(145%);\n        -moz-transform:translateY(145%);\n        -o-transform:translateY(145%);\n        transform:translateY(145%)}\n      }\n    "],["\n      .item-inner {\n        width: 16px;\n        height: 16px;\n        position: relative;\n      }\n\n      .item-loader-container {\n        width: 100%;\n        height: 100%;\n      }\n\n      .la-ball-fall,\n        .la-ball-fall>div {\n          position:relative;\n          -webkit-box-sizing:border-box;\n          -moz-box-sizing:border-box;\n          box-sizing:border-box\n        }\n      \n      .la-ball-fall {\n        display:block;\n        font-size:0;\n        color:","\n      }\n      \n      .la-ball-fall>div {\n        display:inline-block;\n        float:none;\n        background-color:currentColor;\n        border:0 solid currentColor\n      } \n      \n      .la-ball-fall {\n        width:54px;\n        height:18px\n      }\n      \n      .la-ball-fall>div{\n        width:10px;\n        height:10px;\n        margin:4px;\n        border-radius:100%;\n        opacity:0;\n        -webkit-animation:ball-fall 1s ease-in-out infinite;\n        -moz-animation:ball-fall 1s ease-in-out infinite;\n        -o-animation:ball-fall 1s ease-in-out infinite;\n        animation:ball-fall 1s ease-in-out infinite\n      }\n      \n      .la-ball-fall>div:nth-of-type(1){\n        -webkit-animation-delay:-200ms;\n        -moz-animation-delay:-200ms;\n        -o-animation-delay:-200ms;\n        animation-delay:-200ms\n      }\n      \n      .la-ball-fall>div:nth-of-type(2){\n        -webkit-animation-delay:-100ms;\n        -moz-animation-delay:-100ms;\n        -o-animation-delay:-100ms;\n        animation-delay:-100ms\n      }\n      \n      .la-ball-fall>div:nth-of-type(3){\n        -webkit-animation-delay:0ms;\n        -moz-animation-delay:0ms;\n        -o-animation-delay:0ms;\n        animation-delay:0ms\n      }\n      \n      .la-ball-fall.la-2x{\n        display: flex;\n        align-items: center;\n        width: 100%;\n        height: 100%;\n      }\n      \n      .la-ball-fall.la-2x>div{\n        width:25%;\n        height:25%;\n        margin:3%;\n      }\n      \n      @-webkit-keyframes ball-fall{\n        0%{opacity:0;-webkit-transform:translateY(-145%);transform:translateY(-145%)}\n        10%{opacity:.5}\n        20%{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}\n        80%{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}\n        90%{opacity:.5}\n        100%{opacity:0;-webkit-transform:translateY(145%);transform:translateY(145%)}\n      }\n      \n      @-moz-keyframes ball-fall{\n        0%{opacity:0;-moz-transform:translateY(-145%);transform:translateY(-145%)}\n        10%{opacity:.5}20%{opacity:1;-moz-transform:translateY(0);transform:translateY(0)}\n        80%{opacity:1;-moz-transform:translateY(0);transform:translateY(0)}90%{opacity:.5}\n        100%{opacity:0;-moz-transform:translateY(145%);transform:translateY(145%)}\n      }\n      \n      @-o-keyframes ball-fall{\n        0%{opacity:0;-o-transform:translateY(-145%);transform:translateY(-145%)}\n        10%{opacity:.5}20%{opacity:1;-o-transform:translateY(0);transform:translateY(0)}\n        80%{opacity:1;-o-transform:translateY(0);transform:translateY(0)}90%{opacity:.5}\n        100%{opacity:0;-o-transform:translateY(145%);transform:translateY(145%)}\n      }\n      \n      @keyframes ball-fall{\n        0%{opacity:0;-webkit-transform:translateY(-145%);\n        -moz-transform:translateY(-145%);\n        -o-transform:translateY(-145%);\n        transform:translateY(-145%)}10%{opacity:.5}\n        20%{opacity:1;-webkit-transform:translateY(0);\n        -moz-transform:translateY(0);\n        -o-transform:translateY(0);\n        transform:translateY(0)}\n        80%{opacity:1;-webkit-transform:translateY(0);\n        -moz-transform:translateY(0);\n        -o-transform:translateY(0);\n        transform:translateY(0)}\n        90%{opacity:.5}\n        100%{opacity:0;\n        -webkit-transform:translateY(145%);\n        -moz-transform:translateY(145%);\n        -o-transform:translateY(145%);\n        transform:translateY(145%)}\n      }\n    "])),e.colors.black)},t.prototype.render=function(){return s.jsx("div",{className:"w-100 h-100",css:this.getStyle(this.props.theme)},s.jsx("div",{className:"item-inner"},s.jsx("div",{className:"item-loader-container"},s.jsx("div",{className:"la-ball-fall la-2x"},s.jsx("div",null),s.jsx("div",null),s.jsx("div",null)))))},t}(s.React.PureComponent);t.SaveLoading=a},138:function(e,t,n){function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}var i=n(1),r=i.createElement("path",{d:"M1 4.1C2.4 1.7 5 0 8 0c4.4 0 8 3.6 8 8 0 4.2-3.3 7.7-7.4 8-.4 0-.6-.2-.6-.5s.2-.5.5-.5H9c3.4-.5 6-3.4 6-6.9 0-3.9-3.1-7-7-7C5.2 1 2.8 2.6 1.7 5h-.4 4.2c.3 0 .5.2.5.5s-.2.5-.5.5H1c-.6 0-1-.4-1-1V.5C0 .2.2 0 .5 0s.5.2.5.5v3.6z"});function s(e){return i.createElement("svg",o({viewBox:"0 0 16 16"},e),r)}e.exports=s,s.default=s},139:function(e,t,n){function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}var i=n(1),r=i.createElement("path",{d:"M15 4.1V.5c0-.3.2-.5.5-.5s.5.2.5.5V5c0 .6-.4 1-1 1h-4.5c-.3 0-.5-.2-.5-.5s.2-.5.5-.5h3.8C13.2 2.6 10.8 1 8 1 4.1 1 1 4.1 1 8c0 3.5 2.6 6.5 6 6.9h.5c.3.1.5.3.5.6s-.2.5-.5.5h-.1C3.3 15.7 0 12.2 0 8c0-4.4 3.6-8 8-8 3 0 5.6 1.7 7 4.1z"});function s(e){return i.createElement("svg",o({viewBox:"0 0 16 16"},e),r)}e.exports=s,s.default=s},140:function(e,t,n){function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}var i=n(1),r=i.createElement("path",{d:"M3 1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1h-1v5a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V1zm7 0h1v3.5a.5.5 0 1 1-1 0V1zM2 0h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2zm2 1v5h8V1H4z",fillRule:"evenodd"});function s(e){return i.createElement("svg",o({width:16,height:16,viewBox:"0 0 16 16"},e),r)}e.exports=s,s.default=s},141:function(e,t,n){function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}var i=n(1),r=i.createElement("path",{d:"M2 0h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2zm0 1a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H2zm9.785 6.571a.5.5 0 0 1 0 .858l-6.028 3.617a.5.5 0 0 1-.757-.43V4.384a.5.5 0 0 1 .757-.429l6.028 3.617zM6 5.266v5.468L10.556 8 6 5.266z",fillRule:"nonzero"});function s(e){return i.createElement("svg",o({width:16,height:16,viewBox:"0 0 16 16"},e),r)}e.exports=s,s.default=s},142:function(e,t,n){function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}var i=n(1),r=i.createElement("path",{d:"M4 8.5c-1.7 0-3-1.3-3-3s1.3-3 3-3 3 1.3 3 3-1.3 3-3 3zm12 0c-1.7 0-3-1.3-3-3s1.3-3 3-3 3 1.3 3 3-1.3 3-3 3zm12 0c-1.7 0-3-1.3-3-3s1.3-3 3-3 3 1.3 3 3-1.3 3-3 3z"});function s(e){return i.createElement("svg",o({width:32,height:11,viewBox:"0 0 32 11"},e),r)}e.exports=s,s.default=s},143:function(e,t,n){"use strict";var o=n(144);function i(){}function r(){}r.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,r,s){if(s!==o){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:r,resetWarningCache:i};return n.PropTypes=n,n}},144:function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},145:function(e,t,n){function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}var i=n(1),r=i.createElement("path",{d:"M5.5 4.5h4a.5.5 0 0 1 0 1h-4v4a.5.5 0 0 1-1 0v-4h-4a.5.5 0 0 1 0-1h4v-4a.5.5 0 0 1 1 0v4z",fill:"currentColor",fillRule:"nonzero"});function s(e){return i.createElement("svg",o({width:10,height:10,viewBox:"0 0 10 10"},e),r)}e.exports=s,s.default=s},146:function(e,t,n){function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}var i=n(1),r=i.createElement("path",{d:"M8 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6zm-4.672 5.213A6.974 6.974 0 0 0 8 15a6.974 6.974 0 0 0 4.672-1.787 5.002 5.002 0 0 0-9.344 0zm-.75-.785a6 6 0 0 1 10.844 0 7 7 0 1 0-10.844 0zM8 16A8 8 0 1 1 8 0a8 8 0 0 1 0 16z",fill:"currentColor",fillRule:"nonzero"});function s(e){return i.createElement("svg",o({width:16,height:16,viewBox:"0 0 16 16"},e),r)}e.exports=s,s.default=s},147:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAH+ElEQVRogc1aS2xdxRn+/rkv59qxr02AgBphEJFDgvKiopgI4i4Q6sZE6rISMbDpKmaDxIIqStigSkTxpru2TlAXLRIKweGVKrWIRIAg7DZpJd5BKQ1pIElpY2L73plq3nNmju17r13UPzo+586ZM+f7Zr75/3/mhPA/sK7jU0NCiN1CiJHZ2Tn5gnEAhxrDg5Mr/bYVJbD6j9MjQohRAFuF4OBcYG5uPqwyDWCsMTw4njzcpi2bQNfxqRoRPQlgFBA1IQAhhDsiAtauSiIADjaGB68md1uwtglUX39/KxGNEtGIKpAtWfDwJObn68mzWRPjelTun05uNWEtE1j12mkJeDcRDSnclG1CgkZLBIwRTZp50pK8miJQefW9GkBPEmE3BPo1cPtegv2t5aPgGwJAvd40AXt1ThJpVl6LEigfe1eC3QvQLiLUrE4ofti+XCjowVmg3mgk7ea+npILCf4IgH2N4cFzyaNpC95KE+8MAbQXwJDHZ3oaImmCyJcZBWkpCaCxGAHKeX1eGTBpvNeRpHpcUHzlHanx38bA3W8DTElGgneEzCxGKCOA84UIUPR2p8mkZmDnDJGDuQSKr8iex58yzcYkBNcgo4c9fA9ennmDJyiy4Ck40VIElDWGB10lFt4QQuy1XsSXWc/ie1dw9cd5Gli/zzkuPvxDPLP+B6gVC6Ye0gNBmS2IldmksajaEAIXmEfE/eOIwOvrWqmIXwysw+mdW/Doupsgon9Z9CJLYgUIRKBF0rgn58Ej+G3ttmoFv96+Hice2Iyda3qcjw2jtAPfPn4Uk5KEhH6J9fe/2bYej667UV2XjpwEsHgnSvCSRDN2+PwlPD79aUsEFh2BLBHdaxa8KuNw0tE9mTdhm7ew7WZtyRFY3LjLf1bKCowyqrK51UK2PAJCJJ6k+OKJpIo1KUPrlomR+j186xq8+KONrk6BmHGp2hULIu0GRD6ZZRFQ8jGphYjR2kghy5TbJ1VPnU0YkMexC99kATETGgVBkM1szbU8C4EwNC5TQoEnygC3l0KDFTrdUKBNFHdkohYLxlkI0sDVSBDgQkr0QNOTONfsBHYH12XmkH1JIjhnrnVexSJAE/cOoL/aoYjI0Sgwpq6ltOT8YFGkXh4BNYm5GQWuJCW0awKBe9CmDhwJAz4nGdvR24WpBzbh6TtvVYAVeEb+mrKQW5KQjLIZSwKSAP/ZT5LnQqv+/rgmouSkCeXZU3esxYHPLzrtM5lXkZZg2wT23LE2i58HEXgBIIlZqameFMkIWHvj629Vr9v+4XYuRX6oaQL91Qr23H5LttBKwzjudK2QY+oZlpFUbN/WG3j20wtKMsqNmjnDcyTXNIHnN/WjViok5ZoIms9phJnk5OdCbONfXsZXs3U1ia33UTFESrQdCe28oRuPrO1NykNbCEyeSUfCrCuNvMqXs/N44cJlIx8tGWG0T+2OwIG7+5OyDHg7uZpYjKi6pCOAdImxW/zV+a8x0xBGPrpdbojktb4kAel5tnRXk/KMBR1fOjxhslfoUGUCMlOpAwMj5npej0QW1sQlM3lhtG96faE0cck4cHW+jp+e/ghfzMwm92ClY/6QWSpqWZgoy/yyVFcTLhJLKrGEVOByPt8EMPKj1VYge/mry7jnrTPY/9Hfk3uWhkkA/D4REORA5IiSAW2PGFAm6poAxgyhtgnAjMT+D7MEnBQsiWCTy41IpHsFOtA/QzwC2ajLzEgwlUak02xZqcQj6252TPxOHfyIhHKypIz27cEiBD730YCZnStA7ggsKxt96cHtSdlS1vuH4xn5xPlokUhNWD9phZ7Q1u2KNiPxSplzoVZOLJUQBStUn4KbDHYlR6Ats7KicHp7sxLRqzEZA4I1RU6gbHkOHDr/z6SsFfOuNlxianvzyjUnK7+BHFCkmG4bI/DE1Cd4/O2/yE1PFx1tGmFXW7Kjdt7ch19uvwube1dnnqeo5+V544kP0FEqobe7W93XW2HawmsgXRO37oVkJC1XwghmbzjnL4tPXrqCwTfexs/fO4t/hR85fEDQS2aNCx0dHTpt5kLJxh7C7R3Y/VZkPhS250aLJVBllW4wAyg4m97+3ef/wN0TJ/HcXz8z+H3fW/KdnVUUiyU0uEBDLtoNCbeLZ3cl9Nv3Zfoz/FE4esp8rMPi2Zu1ueug+bmsjMyWuw1wOnBB50F2jSuPAkORFbC6sxPdXV2ubvh9rWHSZy64IYXHzu7YkPkElZfgSSK7DJGh5Gb0MM1dByyJYLvEb5/4gKQOS4AxdFar6OnuNi7Vt2slo8Gr0ZjkQuw7c/+G5DtzLoGAiPnEhJHkpq0je+27ayDeCMCHeQ986qDSAaZIVMpl3NDX68Bb72TXRUY24wJi3/R9A619YkpAHj1VAyDltTuWl85VAD4TkIjAk0sJtIRKpTJ6azV1zQKpGTMf+cTBqfsGlveRL88KR0+NGCJDtgEJSuqcz/zbb5uEJGzaoAgU0NfXp57xCxvVziQRHfrz4MDKf2bNs8LRU1vNPBlhZu+GcQ7+3TVVmwWZatj7q7t7UCoVXcBihHEiGvvbjru+nw/dscl5Ir/WF4hGGVGNSY8x85/A+3gSXT09yl0y4CojGmNE4x8/uGlBfX8vBELrOPauHI1Rqs9vbcxed/qW545qJ8rlyjRjNHb+x5v/f/6zR551vXp6iM/Njor63C45AuVy5UilY9XYxYe2rex/twHwXw0Lk7Fb9yjxAAAAAElFTkSuQmCC"},181:function(e,t,n){"use strict";n.r(t);var o=n(1),i=n.n(o),r=n(44),s=n(45),a=function(e){var t=[],n=null,o=function(){for(var o=arguments.length,i=Array(o),r=0;r<o;r++)i[r]=arguments[r];t=i,n||(n=requestAnimationFrame(function(){n=null,e.apply(void 0,t)}))};return o.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},o},l=n(6);var c=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},p=n(46),u="object"==typeof self&&self&&self.Object===Object&&self,d=p.a||u||Function("return this")(),h=function(){return d.Date.now()},f=d.Symbol,m=Object.prototype,b=m.hasOwnProperty,g=m.toString,v=f?f.toStringTag:void 0;var y=function(e){var t=b.call(e,v),n=e[v];try{e[v]=void 0;var o=!0}catch(e){}var i=g.call(e);return o&&(t?e[v]=n:delete e[v]),i},x=Object.prototype.toString;var w=function(e){return x.call(e)},O="[object Null]",j="[object Undefined]",S=f?f.toStringTag:void 0;var k=function(e){return null==e?void 0===e?j:O:S&&S in Object(e)?y(e):w(e)};var T=function(e){return null!=e&&"object"==typeof e},P="[object Symbol]";var _=function(e){return"symbol"==typeof e||T(e)&&k(e)==P},A=NaN,N=/^\s+|\s+$/g,E=/^[-+]0x[0-9a-f]+$/i,C=/^0b[01]+$/i,z=/^0o[0-7]+$/i,M=parseInt;var I=function(e){if("number"==typeof e)return e;if(_(e))return A;if(c(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=c(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(N,"");var n=C.test(e);return n||z.test(e)?M(e.slice(2),n?2:8):E.test(e)?A:+e},R="Expected a function",H=Math.max,Y=Math.min;var L=function(e,t,n){var o,i,r,s,a,l,p=0,u=!1,d=!1,f=!0;if("function"!=typeof e)throw new TypeError(R);function m(t){var n=o,r=i;return o=i=void 0,p=t,s=e.apply(r,n)}function b(e){var n=e-l;return void 0===l||n>=t||n<0||d&&e-p>=r}function g(){var e=h();if(b(e))return v(e);a=setTimeout(g,function(e){var n=t-(e-l);return d?Y(n,r-(e-p)):n}(e))}function v(e){return a=void 0,f&&o?m(e):(o=i=void 0,s)}function y(){var e=h(),n=b(e);if(o=arguments,i=this,l=e,n){if(void 0===a)return function(e){return p=e,a=setTimeout(g,t),u?m(e):s}(l);if(d)return a=setTimeout(g,t),m(l)}return void 0===a&&(a=setTimeout(g,t)),s}return t=I(t)||0,c(n)&&(u=!!n.leading,r=(d="maxWait"in n)?H(I(n.maxWait)||0,t):r,f="trailing"in n?!!n.trailing:f),y.cancel=function(){void 0!==a&&clearTimeout(a),p=0,o=l=i=a=void 0},y.flush=function(){return void 0===a?s:v(h())},y},B="Expected a function";var D={debounce:L,throttle:function(e,t,n){var o=!0,i=!0;if("function"!=typeof e)throw new TypeError(B);return c(n)&&(o="leading"in n?!!n.leading:o,i="trailing"in n?!!n.trailing:i),L(e,t,{leading:o,maxWait:t,trailing:i})}},U=function(e){return D[e]},W=function(e){return"function"==typeof e},q=function(){return"undefined"==typeof window};function G(e){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function V(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function K(e,t){return!t||"object"!==G(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function F(e){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function X(e,t){return(X=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Q=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),K(this,F(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&X(e,t)}(t,o["PureComponent"]),function(e,t,n){t&&V(e.prototype,t),n&&V(e,n)}(t,[{key:"render",value:function(){return this.props.children}}]),t}();function J(e){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Z(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function $(e){return($=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ee(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function te(e,t){return(te=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var oe=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ne(ee(n=function(e,t){return!t||"object"!==J(t)&&"function"!=typeof t?ee(e):t}(this,$(t).call(this,e))),"cancelHandler",function(){n.resizeHandler&&n.resizeHandler.cancel&&(n.resizeHandler.cancel(),n.resizeHandler=null)}),ne(ee(n),"rafClean",function(){n.raf&&n.raf.cancel&&(n.raf.cancel(),n.raf=null)}),ne(ee(n),"toggleObserver",function(e){var t=n.getElement();t&&n.resizeObserver[e]&&n.resizeObserver[e](t)}),ne(ee(n),"getElement",function(){var e=n.props.querySelector;if(!q()){if(e)return document.querySelector(e);var t=n.element&&Object(r.findDOMNode)(n.element);if(t)return t.parentElement}}),ne(ee(n),"createUpdater",function(){return n.rafClean(),n.raf=a(function(e){var t=e.width,o=e.height,i=n.props.onResize;W(i)&&i(t,o),n.setState({width:t,height:o})}),n.raf}),ne(ee(n),"createResizeHandler",function(e){var t=n.state,o=t.width,i=t.height,r=n.props,s=r.handleWidth,a=r.handleHeight;if(s||a){var l=n.createUpdater();e.forEach(function(e){var t=e&&e.contentRect||{},r=t.width,c=t.height,p=s&&o!==r||a&&i!==c;!n.skipOnMount&&p&&!q()&&l({width:r,height:c}),n.skipOnMount=!1})}}),ne(ee(n),"onRef",function(e){n.element=e}),ne(ee(n),"getRenderType",function(){var e=n.props,t=e.render,i=e.children;return W(t)?"renderProp":W(i)?"childFunction":Object(o.isValidElement)(i)?"child":Array.isArray(i)?"childArray":"parent"}),ne(ee(n),"getTargetComponent",function(){var e=n.props,t=e.render,i=e.children,r=e.nodeType,s=n.state,a={width:s.width,height:s.height};switch(n.getRenderType()){case"renderProp":return Object(o.cloneElement)(t(a),{key:"resize-detector"});case"childFunction":return Object(o.cloneElement)(i(a));case"child":return Object(o.cloneElement)(i,a);case"childArray":return i.map(function(e){return Object(o.cloneElement)(e,a)});default:return Object(o.createElement)(r)}});var i=e.skipOnMount,l=e.refreshMode,c=e.refreshRate,p=e.refreshOptions;n.state={width:void 0,height:void 0},n.skipOnMount=i,n.raf=null,n.element=null,n.unmounted=!1;var u=U(l);return n.resizeHandler=u?u(n.createResizeHandler,c,p):n.createResizeHandler,n.resizeObserver=new s.a(n.resizeHandler),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&te(e,t)}(t,o["PureComponent"]),function(e,t,n){t&&Z(e.prototype,t),n&&Z(e,n)}(t,[{key:"componentDidMount",value:function(){this.toggleObserver("observe")}},{key:"componentWillUnmount",value:function(){this.toggleObserver("unobserve"),this.rafClean(),this.cancelHandler(),this.unmounted=!0}},{key:"render",value:function(){return i.a.createElement(Q,{ref:this.onRef},this.getTargetComponent())}}]),t}();oe.propTypes={handleWidth:l.bool,handleHeight:l.bool,skipOnMount:l.bool,refreshRate:l.number,refreshMode:l.string,refreshOptions:Object(l.shape)({leading:l.bool,trailing:l.bool}),querySelector:l.string,onResize:l.func,render:l.func,children:l.any,nodeType:l.node},oe.defaultProps={handleWidth:!1,handleHeight:!1,skipOnMount:!1,refreshRate:1e3,refreshMode:void 0,refreshOptions:void 0,querySelector:null,onResize:null,render:void 0,children:null,nodeType:"div"};var ie=oe;function re(e){return(re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function se(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ae(e,t){return!t||"object"!==re(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function le(e){return(le=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ce(e,t){return(ce=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var pe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{handleWidth:!0,handleHeight:!0};return function(n){function r(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),ae(this,le(r).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ce(e,t)}(r,o.Component),function(e,t,n){t&&se(e.prototype,t),n&&se(e,n)}(r,[{key:"render",value:function(){return i.a.createElement(ie,t,i.a.createElement(e,this.props))}}]),r}()};n.d(t,"withResizeDetector",function(){return pe});t.default=ie},2:function(e,t){e.exports=n},3:function(e,t){e.exports=o},36:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={createNew:"Create New",newExperience:"New experience",signOut:"Sign out",undo:"Undo",redo:"Redo",save:"Save",saving:"Saving",saved:"Saved",saveError:"Save error",saveSuccess:"Saved successfully!",preview:"Preview",publish:"Publish",publishing:"Publishing",published:"Published",publishError:"Publish error",publishSuccess:"Published successfully!",publishTo:"Publish to",publishOptions:"Publish options",copySuccess:"Copied successfully!",changeShareSettings:"Change share settings",viewPublishedItem:"View published item",copyPublishedItemLink:"Copy published item link",headerLeave:"Leave",headerLeaveSite:"Leave site?",headerLeaveDescription:"Changes you made may not be saved."}},37:function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},44:function(e,t){e.exports=r},45:function(e,t,n){"use strict";(function(e){var n=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some(function(e,o){return e[0]===t&&(n=o,!0)}),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),o=this.__entries__[n];return o&&o[1]},t.prototype.set=function(t,n){var o=e(this.__entries__,t);~o?this.__entries__[o][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,o=e(n,t);~o&&n.splice(o,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,o=this.__entries__;n<o.length;n++){var i=o[n];e.call(t,i[1],i[0])}},t}()}(),o="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,i=void 0!==e&&e.Math===Math?e:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),r="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(i):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)},s=2;var a=20,l=["top","right","bottom","left","width","height","size","weight"],c="undefined"!=typeof MutationObserver,p=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,o=!1,i=0;function a(){n&&(n=!1,e()),o&&c()}function l(){r(a)}function c(){var e=Date.now();if(n){if(e-i<s)return;o=!0}else n=!0,o=!1,setTimeout(l,t);i=e}return c}(this.refresh.bind(this),a)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter(function(e){return e.gatherActive(),e.hasActive()});return e.forEach(function(e){return e.broadcastActive()}),e.length>0},e.prototype.connect_=function(){o&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),c?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){o&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;l.some(function(e){return!!~n.indexOf(e)})&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),u=function(e,t){for(var n=0,o=Object.keys(t);n<o.length;n++){var i=o[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},d=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||i},h=y(0,0,0,0);function f(e){return parseFloat(e)||0}function m(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce(function(t,n){return t+f(e["border-"+n+"-width"])},0)}function b(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return h;var o=d(e).getComputedStyle(e),i=function(e){for(var t={},n=0,o=["top","right","bottom","left"];n<o.length;n++){var i=o[n],r=e["padding-"+i];t[i]=f(r)}return t}(o),r=i.left+i.right,s=i.top+i.bottom,a=f(o.width),l=f(o.height);if("border-box"===o.boxSizing&&(Math.round(a+r)!==t&&(a-=m(o,"left","right")+r),Math.round(l+s)!==n&&(l-=m(o,"top","bottom")+s)),!function(e){return e===d(e).document.documentElement}(e)){var c=Math.round(a+r)-t,p=Math.round(l+s)-n;1!==Math.abs(c)&&(a-=c),1!==Math.abs(p)&&(l-=p)}return y(i.left,i.top,a,l)}var g="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof d(e).SVGGraphicsElement}:function(e){return e instanceof d(e).SVGElement&&"function"==typeof e.getBBox};function v(e){return o?g(e)?function(e){var t=e.getBBox();return y(0,0,t.width,t.height)}(e):b(e):h}function y(e,t,n,o){return{x:e,y:t,width:n,height:o}}var x=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=y(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=v(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),w=function(){return function(e,t){var n=function(e){var t=e.x,n=e.y,o=e.width,i=e.height,r="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,s=Object.create(r.prototype);return u(s,{x:t,y:n,width:o,height:i,top:n,right:t+o,bottom:i+n,left:t}),s}(t);u(this,{target:e,contentRect:n})}}(),O=function(){function e(e,t,o){if(this.activeObservations_=[],this.observations_=new n,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=o}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof d(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new x(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof d(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(e){return new w(e.target,e.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),j="undefined"!=typeof WeakMap?new WeakMap:new n,S=function(){return function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=p.getInstance(),o=new O(t,n,this);j.set(this,o)}}();["observe","unobserve","disconnect"].forEach(function(e){S.prototype[e]=function(){var t;return(t=j.get(this))[e].apply(t,arguments)}});var k=void 0!==i.ResizeObserver?i.ResizeObserver:S;t.a=k}).call(this,n(37))},46:function(e,t,n){"use strict";(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.a=n}).call(this,n(37))},6:function(e,t,n){e.exports=n(143)()},9:function(e,t,n){function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}var i=n(1),r=i.createElement("path",{d:"M1.521 2.307L4 4.677l2.479-2.37a.517.517 0 0 1 .708 0 .464.464 0 0 1 0 .677l-2.833 2.71a.517.517 0 0 1-.708 0L.813 2.983a.464.464 0 0 1 0-.677.517.517 0 0 1 .708 0z"}),s=i.createElement("path",{d:"M0 0h8v8H0z",fill:"none"});function a(e){return i.createElement("svg",o({width:8,height:8,viewBox:"0 0 8 8"},e),r,s)}e.exports=a,a.default=a}})});
//# sourceMappingURL=widget.js.map