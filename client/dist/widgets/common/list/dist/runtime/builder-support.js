define(["jimu-core/react","jimu-core","jimu-ui","jimu-for-builder","jimu-layouts/common","jimu-core/dnd"],function(e,t,n,o,i,r){return function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=623)}({0:function(t,n){t.exports=e},17:function(e,t){e.exports=r},2:function(e,n){e.exports=t},331:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LIST_CARD_PADDING=0,function(e){e.None="NONE",e.Single="SINGLE",e.Multiple="MULTIPLE"}(t.SelectionModeType||(t.SelectionModeType={})),function(e){e.Scroll="SCROLL",e.MultiPage="MULTIPAGE"}(t.PageStyle||(t.PageStyle={})),function(e){e.Start="FLEX-START",e.Center="CENTER",e.End="FLEX-END"}(t.AlignType||(t.AlignType={})),function(e){e.Horizon="HORIZON",e.Vertical="VERTICAL"}(t.DirectionType||(t.DirectionType={})),function(e){e.Glide="GLIDE",e.Fade="FADE",e.Float="FLOAT"}(t.PageTransitonType||(t.PageTransitonType={})),function(e){e.Hover0="HOVER0",e.Hover1="HOVER1",e.Hover2="HOVER2",e.Hover3="HOVER3"}(t.HoverType||(t.HoverType={})),function(e){e.Style0="STYLE0",e.Style1="STYLE1",e.Style2="STYLE2",e.Style3="STYLE3"}(t.SelectedStyle||(t.SelectedStyle={})),function(e){e.Style0="STYLE0",e.Style1="STYLE1",e.Style2="STYLE2",e.Style3="STYLE3",e.Style4="STYLE4",e.Style5="STYLE5"}(t.ItemStyle||(t.ItemStyle={})),function(e){e.None="NONE",e.Regular="REGULAR",e.Selected="SELECTED",e.Hover="HOVER"}(t.Status||(t.Status={}))},4:function(e,t){e.exports=n},6:function(e,t){e.exports=o},623:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),i=n(17),r=n(4),a=n(624),c=n(7),s=n(625),u=n(6),l={Popover:r.Popover,PopoverBody:r.PopoverBody,ButtonGroup:r.ButtonGroup,interact:i.interact,MyDropdown:s.default,appConfigUtils:u.appConfigUtils,handleResizeCard:function(e,t,n,o,i){void 0===n&&(n=!1),void 0===o&&(o=!1),void 0===i&&(i=!1);var r=a.handleResizeCard(e,t,n,o,i);r&&r.exec()},selectSelf:function(e){a.selectSelf(e,!0)},selectionIsSelf:function(e,t,n){if(!e||!e.layoutItemId||!e.layoutId)return!1;var o=c.layoutUtils.findLayoutItem(n,e);return!(!o||!o.widgetId||o.widgetId!==t)},selectionInList:function(e,t,n,i){return!!(e&&e.layoutItemId&&e.layoutId)&&u.appConfigUtils.getLayoutItemsInWidgetByLayoutInfo(n,e,t,o.getAppStore().getState().browserSizeMode).length>0}};t.default=l},624:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(6),i=n(2),r=n(331);t.selectSelf=function(e,t){var n=e.appConfig,r=e.id,a=e.dispatch,c=e.browserSizeMode,s=o.appConfigUtils.getWidgetOrSectionLayoutInfosInOneSizeMode(n,r,i.LayoutItemType.Widget,c);if(s)if(s.length>1){var u=o.appConfigUtils.getWidgetIdThatUseTheLayoutId(n,s[0].layoutId);if(u){var l=n.widgets[u];if(l&&l.manifest&&l.manifest.name&&"list"===l.manifest.name){var p=i.getAppStore().getState().widgetsState&&i.getAppStore().getState().widgetsState[l.id]&&i.getAppStore().getState().widgetsState[l.id].builderStatus;if(p){var d=i.utils.findLayoutId(l.layouts[p],c,n.mainSizeMode),f=s.find(function(e){return e.layoutId===d});t?a(i.appActions.selectionChanged(f)):o.builderAppSync.publishChangeSelectionToApp(f)}}}}else s.length>0&&(t?a(i.appActions.selectionChanged(s[0])):o.builderAppSync.publishChangeSelectionToApp(s[0]))},t.handleResizeCard=function(e,t,n,i,a,c){void 0===n&&(n=!1),void 0===i&&(i=!1),void 0===a&&(a=!1),void 0===c&&(c=void 0);var s=e.id,u=e.browserSizeMode;c||(c=e.appConfig);var l=c.widgets[s].config,p=o.getAppConfigAction(c);return p.editWidgetConfig(s,l.setIn(["cardConfigs",r.Status.Regular,"cardSize",u],t).setIn(["cardConfigs",r.Status.Hover,"cardSize",u],t).setIn(["cardConfigs",r.Status.Selected,"cardSize",u],t)),p}},625:function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(2),c=n(4),s=n(0),u=function(e){function t(t){var n=e.call(this,t)||this;return n.onDropDownToggle=function(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),n.state.isOpen?document.onclick=void 0:(document.onclick&&document.onclick(e),document.onclick=function(e){return n.setState({isOpen:!1}),document.onclick=void 0,!1}),n.setState({isOpen:!n.state.isOpen})},n.getStyle=function(){var e=n.props.theme;return a.css(r||(r=i(["\n      .popover-body{\n        box-shadow: 0 2px 6px ",";\n        padding: 0;\n        .item-text{\n          width: 100%;\n          color:",";\n          padding: 10px 10px;\n          user-select:none;\n          font-size: ",";\n          background-color: ",";\n        }\n\n        .item-text:hover{\n          cursor:pointer;\n          background-color: ",";\n        }\n\n        .item-line{\n          width: 100%;\n          height: 1px;\n          background-color: ",";\n        }\n      }\n    "],["\n      .popover-body{\n        box-shadow: 0 2px 6px ",";\n        padding: 0;\n        .item-text{\n          width: 100%;\n          color:",";\n          padding: 10px 10px;\n          user-select:none;\n          font-size: ",";\n          background-color: ",";\n        }\n\n        .item-text:hover{\n          cursor:pointer;\n          background-color: ",";\n        }\n\n        .item-line{\n          width: 100%;\n          height: 1px;\n          background-color: ",";\n        }\n      }\n    "])),a.polished.rgba(e.colors.white,.2),e.colors.black,e.typography.fontSizeBase,n.props.theme.colors.white,n.props.theme.colors.grays.gray200,n.props.theme.colors.grays.gray300)},n.onItemClick=function(e,t){document.onclick=void 0,n.setState({isOpen:!1}),t.event(e),e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()},n.onDropDownMouseClick=function(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()},n.state={isOpen:!1},n}return o(t,e),t.prototype.render=function(){var e=this,t=this.props.items;return a.jsx("div",{className:"my-dropdown",css:this.getStyle()},a.jsx(c.Button,{size:"sm",color:"link",icon:!0,id:"my-dropdown-"+this.props.uId,onMouseDown:this.onDropDownMouseClick,onClick:this.onDropDownToggle},a.jsx(c.Icon,{size:16,icon:n(65)})),a.jsx(c.Popover,{css:this.getStyle(),placement:"bottom-start",isOpen:this.state.isOpen,target:"my-dropdown-"+this.props.uId,hideArrow:!0,modifiers:{preventOverflow:{escapeWithReference:!0},offset:{offset:"0, 0"}}},a.jsx(c.PopoverBody,{className:"justify-content-between"},t.map(function(t,n){return t.visible&&a.jsx(s.Fragment,{key:n},a.jsx("div",{className:"item-text text-left",onMouseDown:function(n){return e.onItemClick(n,t)}},t.label))}))))},t}(a.React.PureComponent);t.default=u},65:function(e,t,n){function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}var i=n(0),r=i.createElement("path",{d:"M7 9.5a.5.5 0 0 1 .5-.5H10V1H1v8h2.5a.5.5 0 0 1 0 1H1a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h9a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1H7.5a.5.5 0 0 1-.5-.5zm2-3a.5.5 0 0 1-.5.5H6v8h9V7h-2.5a.5.5 0 0 1 0-1H15a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h2.5a.5.5 0 0 1 .5.5z",fill:"currentColor",fillRule:"nonzero"});function a(e){return i.createElement("svg",o({width:16,height:16,viewBox:"0 0 16 16"},e),r)}e.exports=a,a.default=a},7:function(e,t){e.exports=i}})});
//# sourceMappingURL=builder-support.js.map