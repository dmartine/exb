define(["jimu-core/react","jimu-core","jimu-ui"],function(e,t,n){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=642)}({0:function(t,n){t.exports=e},2:function(e,n){e.exports=t},391:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Transparent="transparent"}(t.TransparentColor||(t.TransparentColor={})),function(e){e.Left="left",e.Center="center",e.Right="right"}(t.TextAlign||(t.TextAlign={})),function(e){e.Auto="AUTO",e.Custom="CUSTOM"}(t.ViewType||(t.ViewType={})),function(e){e.Default="DEFAULT",e.Tabs="TABS",e.Pills="PILLS"}(t.NavStyle||(t.NavStyle={}))},392:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),r=function(){var e=i.urlUtils.getAppIdPageIdFromUrl();return e&&e.pageId},o=function(e){if(e&&e.pages)return Object.keys(e.pages).find(function(t){return e.pages[t].isDefault})};t.updateViewsBySection=function(e,t,n){var r=n.sections[t];if(!r)return[];var o=r.views||i.Immutable([]);return e=(e=e.filter(function(e){return o.indexOf(e)>-1})).sort(function(e,t){return o.indexOf(e)-o.indexOf(t)})},t.toMultiSelectItem=function(e,n){return{label:t.getViewLabel(e,n),value:e}},t.toMultiSelectItems=function(e,n){return e.map(function(e){return t.toMultiSelectItem(e,n)})},t.toNavViewLinks=function(e,n){return function(e,t){return e.filter(function(e){return!(!t.views||!t.views[e])})}(e,n).map(function(e){return t.toNavViewLink(e,n)})},t.toNavViewLink=function(e,n){var i=t.toViewLink(e,n);return{name:t.getViewLabel(e,n),value:i}},t.toViewLink=function(e,t){var n=function(e){return r()||o(e)}(t);return{linkType:i.LinkType.View,value:n+","+e}},t.getViewLabel=function(e,t){if(void 0!==e&&t.views)return t.views[e].label},t.isNavItemActive=function(e,t,n){if(!e||!e.length)return 0===n||void 0;var i=t.value&&t.value.value||"";return e.some(function(e){return i.indexOf(e)>-1})},t.getSectionLabel=function(e,t){var n=t.sections[e];return n?n.label:""},t.getSectionViews=function(e,t){var n=t.sections[e];if(!n)return[];var i=n.views;return i?i.asMutable():[]}},4:function(e,t){e.exports=n},642:function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var o,a=n(2),u=n(2),s=n(4),c=n(391),l=n(392),f=n(643),p=n(69),v=function(e){function t(t){var n=e.call(this,t)||this;return n.updateLinks=function(){var e=n.getViews(),t=n.getLinks(e);n.setState({links:t})},n.getViews=function(){var e=n.props,t=e.config.data,i=t.type,r=t.section,o=t.views,a=e.appConfig;if(i===c.ViewType.Auto)return l.getSectionViews(r,a);var u=o?o.asMutable():[];return l.updateViewsBySection(u,r,a)},n.getLinks=function(e){var t=n.props.appConfig;return l.toNavViewLinks(e,t)},n.getStyle=function(){return a.css(o||(o=r(["\n      overflow: hidden;\n      .nav-ul {\n        flex-wrap: nowrap;\n        &.nav-tabs .nav-link.active {\n          background-color: unset;\n        }\n      }\n      .placeholder {\n        position: absolute;\n        width: 100%;\n        height: 100%;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n      }\n    "],["\n      overflow: hidden;\n      .nav-ul {\n        flex-wrap: nowrap;\n        &.nav-tabs .nav-link.active {\n          background-color: unset;\n        }\n      }\n      .placeholder {\n        position: absolute;\n        width: 100%;\n        height: 100%;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n      }\n    "])))},n.nls=function(e){return n.props.intl.formatMessage({id:e,defaultMessage:f.default[e]})},n.placeholer=function(){return n.state.links.length||!window.jimuConfig.isInBuilder?null:a.jsx("div",{className:"placeholder"},a.jsx(s.Icon,{color:"black",icon:p,size:"16"}),a.jsx("span",{className:"ml-2"},n.nls("placeholder")))},n.isActive=function(e,t){var i=n.props.viewIds;return l.isNavItemActive(i,e,t)},n.isLightOrDark=function(e){var t=n.props.config.display.textColor;return e?"light"===t:"dark"===t},n.navbar=function(){var e=n.state.links,t=n.props,i=t.config.display,r=void 0===i?{}:i,o=r.vertical,u=r.style,l=r.color,f=r.activeColor,p=r.textAlign,v=t.queryObject;return!!e.length&&a.jsx(s.Navbar,{color:l,light:n.isLightOrDark(!1),dark:n.isLightOrDark(!0),className:"w-100 h-100"},a.jsx(s.Nav,{navbar:!0,className:"w-100 nav-ul",tabs:u===c.NavStyle.Tabs,pills:u===c.NavStyle.Pills,vertical:o,justified:!0,activeColor:f,textAlign:p},e.map(function(e,t){return a.jsx(s.NavItem,{key:t},a.jsx(s.NavLink,{to:e.value,active:n.isActive(e,t),queryObject:v},e.name))})))},n.state={links:[]},n}return i(t,e),t.prototype.componentDidMount=function(){this.updateLinks()},t.prototype.componentDidUpdate=function(e){var t=e.appConfig,n=t.sections,i=t.views,r=this.props.appConfig,o=r.sections,a=r.views,u=e.config.data,s=u.type,l=u.section,f=u.views,p=this.props.config.data,v=p.type,d=p.section,g=p.views;(a!==i||o!==n||v!==s||d!==l||v===c.ViewType.Custom&&g!==f)&&this.updateLinks()},t.prototype.render=function(){return a.jsx("div",{className:"widget-navigator jimu-widget",css:this.getStyle()},this.placeholer(),this.navbar())},t.mapExtraStateProps=function(e){return{appConfig:e&&e.appConfig,viewIds:e&&e.appRuntimeInfo&&e.appRuntimeInfo.currentViewIds}},t}(u.BaseWidget);t.default=v},643:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={_widgetLabel:"Navigator",placeholder:"No view."}},69:function(e,t,n){function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var r=n(0),o=r.createElement("path",{d:"M2 1a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H2zm0-1h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2zm6 12.9a.8.8 0 1 1 0-1.6.8.8 0 0 1 0 1.6zM3.16 7l1.7 1.686a.474.474 0 0 1 0 .674.483.483 0 0 1-.68 0L2.14 7.337a.474.474 0 0 1 0-.674L4.18 4.64a.483.483 0 0 1 .68 0 .474.474 0 0 1 0 .674L3.16 7zm9.68 0l-1.7-1.686a.474.474 0 0 1 0-.674.483.483 0 0 1 .68 0l2.04 2.023a.474.474 0 0 1 0 .674L11.82 9.36a.483.483 0 0 1-.68 0 .474.474 0 0 1 0-.674L12.84 7zM5.4 12.9a.8.8 0 1 1 0-1.6.8.8 0 0 1 0 1.6zm5.2 0a.8.8 0 1 1 0-1.6.8.8 0 0 1 0 1.6z",fillRule:"nonzero"});function a(e){return r.createElement("svg",i({width:16,height:16,viewBox:"0 0 16 16"},e),o)}e.exports=a,a.default=a}})});
//# sourceMappingURL=widget.js.map