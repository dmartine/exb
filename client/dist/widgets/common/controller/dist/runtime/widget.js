define(["jimu-core/react","jimu-core","jimu-ui","jimu-layouts/common","jimu-core/react-dom","jimu-layouts/flexbox-runtime"],function(e,t,n,r,o,i){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=463)}({0:function(t,n){t.exports=e},11:function(e,t,n){e.exports=n(357)()},12:function(e,t,n){function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var o=n(0),i=o.createElement("g",{fillRule:"nonzero",fill:"none"},o.createElement("path",{d:"M7 8.684l5.125-5.052a.814.814 0 0 1 1.14 0 .786.786 0 0 1 0 1.123l-5.696 5.613a.814.814 0 0 1-1.138 0L.736 4.755a.786.786 0 0 1 0-1.123.814.814 0 0 1 1.139 0L7 8.684z",fill:"currentColor"}),o.createElement("path",{d:"M0 0h14v14H0z"}));function a(e){return o.createElement("svg",r({width:14,height:14,viewBox:"0 0 14 14"},e),i)}e.exports=a,a.default=a},13:function(e,t){e.exports=o},16:function(e,t,n){function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var o=n(0),i=o.createElement("g",{fillRule:"nonzero",fill:"none"},o.createElement("path",{d:"M4.916 7l5.052 5.125c.31.315.31.825 0 1.14a.786.786 0 0 1-1.123 0L3.232 7.568a.814.814 0 0 1 0-1.138L8.845.736a.786.786 0 0 1 1.123 0c.31.314.31.824 0 1.139L4.916 7z",fill:"currentColor"}),o.createElement("path",{d:"M0 0h14v14H0z"}));function a(e){return o.createElement("svg",r({width:14,height:14,viewBox:"0 0 14 14"},e),i)}e.exports=a,a.default=a},18:function(e,t,n){function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var o=n(0),i=o.createElement("g",{fillRule:"nonzero",fill:"none"},o.createElement("path",{d:"M8.784 7L3.732 1.875a.814.814 0 0 1 0-1.14.786.786 0 0 1 1.123 0l5.613 5.696c.31.314.31.824 0 1.138l-5.613 5.695a.786.786 0 0 1-1.123 0 .814.814 0 0 1 0-1.139L8.784 7z",fill:"currentColor"}),o.createElement("path",{d:"M0 0h14v14H0z"}));function a(e){return o.createElement("svg",r({width:14,height:14,viewBox:"0 0 14 14"},e),i)}e.exports=a,a.default=a},2:function(e,n){e.exports=t},23:function(e,t,n){function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var o=n(0),i=o.createElement("g",{fillRule:"nonzero",fill:"none"},o.createElement("path",{d:"M7 5.316l-5.125 5.052a.814.814 0 0 1-1.14 0 .786.786 0 0 1 0-1.123l5.696-5.613a.814.814 0 0 1 1.138 0l5.695 5.613a.786.786 0 0 1 0 1.123.814.814 0 0 1-1.139 0L7 5.316z",fill:"currentColor"}),o.createElement("path",{d:"M0 0h14v14H0z"}));function a(e){return o.createElement("svg",r({width:14,height:14,viewBox:"0 0 14 14"},e),i)}e.exports=a,a.default=a},24:function(e,t,n){function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var o=n(0),i=o.createElement("path",{d:"M7 7V1a1 1 0 1 1 2 0v6h6a1 1 0 1 1 0 2H9v6a1 1 0 1 1-2 0V9H1a1 1 0 1 1 0-2h6z",fill:"currentColor",fillRule:"nonzero"});function a(e){return o.createElement("svg",r({width:16,height:16,viewBox:"0 0 16 16"},e),i)}e.exports=a,a.default=a},25:function(e,t,n){function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var o=n(0),i=o.createElement("path",{d:"M8 6.598L14.308.29a.991.991 0 0 1 1.402 1.402L9.402 8l6.308 6.308a.991.991 0 0 1-1.402 1.402L8 9.402 1.692 15.71A.991.991 0 0 1 .29 14.308L6.598 8 .29 1.692A.991.991 0 0 1 1.692.29L8 6.598z",fill:"currentColor",fillRule:"nonzero"});function a(e){return o.createElement("svg",r({width:16,height:16,viewBox:"0 0 16 16"},e),i)}e.exports=a,a.default=a},330:function(e,t){e.exports=i},336:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(356);t.RollList=r.RollList;var o=n(359);t.Placeholder=o.Placeholder,function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(360))},34:function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},344:function(e,t,n){"use strict";(function(e){var n=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some(function(e,r){return e[0]===t&&(n=r,!0)}),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var o=r[n];e.call(t,o[1],o[0])}},t}()}(),r="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,o=void 0!==e&&e.Math===Math?e:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),i="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(o):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)},a=2;var c=20,s=["top","right","bottom","left","width","height","size","weight"],u="undefined"!=typeof MutationObserver,l=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,o=0;function c(){n&&(n=!1,e()),r&&u()}function s(){i(c)}function u(){var e=Date.now();if(n){if(e-o<a)return;r=!0}else n=!0,r=!1,setTimeout(s,t);o=e}return u}(this.refresh.bind(this),c)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter(function(e){return e.gatherActive(),e.hasActive()});return e.forEach(function(e){return e.broadcastActive()}),e.length>0},e.prototype.connect_=function(){r&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),u?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){r&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;s.some(function(e){return!!~n.indexOf(e)})&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),f=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var o=r[n];Object.defineProperty(e,o,{value:t[o],enumerable:!1,writable:!1,configurable:!0})}return e},p=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||o},d=b(0,0,0,0);function h(e){return parseFloat(e)||0}function y(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce(function(t,n){return t+h(e["border-"+n+"-width"])},0)}function v(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return d;var r=p(e).getComputedStyle(e),o=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var o=r[n],i=e["padding-"+o];t[o]=h(i)}return t}(r),i=o.left+o.right,a=o.top+o.bottom,c=h(r.width),s=h(r.height);if("border-box"===r.boxSizing&&(Math.round(c+i)!==t&&(c-=y(r,"left","right")+i),Math.round(s+a)!==n&&(s-=y(r,"top","bottom")+a)),!function(e){return e===p(e).document.documentElement}(e)){var u=Math.round(c+i)-t,l=Math.round(s+a)-n;1!==Math.abs(u)&&(c-=u),1!==Math.abs(l)&&(s-=l)}return b(o.left,o.top,c,s)}var g="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof p(e).SVGGraphicsElement}:function(e){return e instanceof p(e).SVGElement&&"function"==typeof e.getBBox};function m(e){return r?g(e)?function(e){var t=e.getBBox();return b(0,0,t.width,t.height)}(e):v(e):d}function b(e,t,n,r){return{x:e,y:t,width:n,height:r}}var w=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=b(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=m(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),_=function(){return function(e,t){var n=function(e){var t=e.x,n=e.y,r=e.width,o=e.height,i="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,a=Object.create(i.prototype);return f(a,{x:t,y:n,width:r,height:o,top:n,right:t+r,bottom:o+n,left:t}),a}(t);f(this,{target:e,contentRect:n})}}(),O=function(){function e(e,t,r){if(this.activeObservations_=[],this.observations_=new n,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=r}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof p(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new w(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof p(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(e){return new _(e.target,e.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),j="undefined"!=typeof WeakMap?new WeakMap:new n,x=function(){return function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=l.getInstance(),r=new O(t,n,this);j.set(this,r)}}();["observe","unobserve","disconnect"].forEach(function(e){x.prototype[e]=function(){var t;return(t=j.get(this))[e].apply(t,arguments)}});var P=void 0!==o.ResizeObserver?o.ResizeObserver:x;t.a=P}).call(this,n(34))},345:function(e,t,n){"use strict";(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.a=n}).call(this,n(34))},356:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(2),c=n(4),s=n(402),u=n(16),l=n(18),f=n(23),p=n(12),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getStyle=function(){var e=t.props,n=e.horizontal,r=e.theme,c=r?r.colors.grays.gray200:"",s=r?r.colors.grays.gray400:"";return a.css(i||(i=o(["\n      overflow: hidden;\n      width: 100%;\n      height: 100%;\n      display: flex;\n      flex-direction: ",";\n      justify-content: space-between;\n      align-items: center;\n      .previous,\n      .next {\n        cursor: pointer;\n        flex-grow: 0;\n        flex-shrink: 0;\n        width: ",";\n        height: ",";\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        .jimu-icon{\n          color:",";\n        }\n        &.disabled {\n          cursor: default;\n          .jimu-icon{\n            color:",";\n          }\n        }\n      }\n      .content {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        overflow: hidden;\n        flex-grow: 1;\n        flex-shrink: 1;\n        flex-wrap: nowrap;\n        width: ",";\n        height:",";\n      }\n    "],["\n      overflow: hidden;\n      width: 100%;\n      height: 100%;\n      display: flex;\n      flex-direction: ",";\n      justify-content: space-between;\n      align-items: center;\n      .previous,\n      .next {\n        cursor: pointer;\n        flex-grow: 0;\n        flex-shrink: 0;\n        width: ",";\n        height: ",";\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        .jimu-icon{\n          color:",";\n        }\n        &.disabled {\n          cursor: default;\n          .jimu-icon{\n            color:",";\n          }\n        }\n      }\n      .content {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        overflow: hidden;\n        flex-grow: 1;\n        flex-shrink: 1;\n        flex-wrap: nowrap;\n        width: ",";\n        height:",";\n      }\n    "])),n?"row":"column",n?"30px":"unset",n?"unset":"30px",s,c,n?"auto":"100%",n?"100%":"auto")},t}return r(t,e),t.prototype.render=function(){var e=this.props,t=e.horizontal,n=e.className,r=e.showArrow,o=e.disablePrevious,i=e.disableNext,d=e.onArrowClick,h=e.onResize;return a.jsx("div",{css:this.getStyle(),className:a.classNames("roll-list",n)},r&&a.jsx("div",{onClick:function(){return d(!0)},className:a.classNames("previous",{disabled:o})},a.jsx(c.Icon,{size:14,icon:t?u:f})),a.jsx("div",{className:"content"},this.props.children,a.jsx(s.default,{handleWidth:!0,handleHeight:!0,onResize:h})),r&&a.jsx("div",{onClick:function(){return d(!1)},className:a.classNames("next",{disabled:i})},a.jsx(c.Icon,{size:14,icon:t?l:p})))},t.defaultProps={horizontal:!0,onArrowClick:function(){},onResize:function(){}},t}(a.React.PureComponent);t.RollList=d},357:function(e,t,n){"use strict";var r=n(358);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,a){if(a!==r){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},358:function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},359:function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var o,i=n(2),a=n(4),c=n(24);t.Placeholder=function(e){var t=e.text,n=e.theme,s=n?n.colors.grays.gray500:"",u=i.css(o||(o=r(["\n    position: absolute;\n    top: 50%;\n    bottom: 50%;\n    left: 20px;\n    display: flex;\n    align-items: center;\n    .placeholder-icon {\n      width: ",";\n      height: ",";\n      border: 1px "," dashed;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      .jimu-icon {\n        color: ",";\n      }\n    }\n    .placeholder-text {\n      margin-left: ",";\n    }\n  "],["\n    position: absolute;\n    top: 50%;\n    bottom: 50%;\n    left: 20px;\n    display: flex;\n    align-items: center;\n    .placeholder-icon {\n      width: ",";\n      height: ",";\n      border: 1px "," dashed;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      .jimu-icon {\n        color: ",";\n      }\n    }\n    .placeholder-text {\n      margin-left: ",";\n    }\n  "])),i.polished.rem(40),i.polished.rem(40),s,s,i.polished.rem(16));return i.jsx("div",{css:u,className:"placeholder"},i.jsx("div",{className:"placeholder-icon"},i.jsx(a.Icon,{icon:c,size:"14"})),i.jsx("span",{className:"placeholder-text"},t))}},360:function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var o,i=n(2),a=n(4),c=n(25);t.PopperHeader=function(e){var t=e.theme,n=e.onClose,s=e.text,u=t?t.colors.grays.gray300:"",l=t?t.colors.grays.gray700:"",f=i.css(o||(o=r(["\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    height: ",";\n    user-select: none;\n    touch-action: none;\n    border-bottom: 1px "," solid;\n    .close-div {\n      cursor: pointer;\n    }\n    .jimu-icon {\n      color: ",";\n    }\n  "],["\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    height: ",";\n    user-select: none;\n    touch-action: none;\n    border-bottom: 1px "," solid;\n    .close-div {\n      cursor: pointer;\n    }\n    .jimu-icon {\n      color: ",";\n    }\n  "])),i.polished.rem(50),u,l);return i.jsx("div",{css:f,className:"px-3 m-1"},i.jsx("span",{className:"title",title:s},s),i.jsx("div",{className:"close-div",onClick:n},i.jsx(a.Icon,{icon:c,size:"14"})))}},361:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),o=n(7),i={toggleOpenedWidgets:function(e,t,n){return t&&(e=i.updateOpenedWidgetDisplay(e,!1)),i.getOpenedWidget(e,n.id)?e.filter(function(e){return e.id!==n.id}):e.concat(r.Immutable(n))},updateOpenedWidgetDisplay:function(e,t){return e.map(function(e){return e.set("show",t)})},toggleOpenedWidgetsDisplay:function(e,t,n){var r;return r=e.map(function(e){return e.id===n?e.set("show",!e.show):e}),t&&(r=r.map(function(e){return e.id!==n?e.set("show",!1):e})),r},getOpenedWidget:function(e,t){return e.find(function(e){return e.id===t})},getWidgetIdsFromLayout:function(e){return(e.order||[]).map(function(t){return e.content[t]&&e.content[t].widgetId})},getWidgetCountsFromLayout:function(e){return(i.getWidgetIdsFromLayout(e)||[]).length},getRollListLength:function(e,t,n){var r=n.horizontal,o=n.space;return(r?e:t)+o},getIconUnitLength:function(e){var t=e.iconSize,n=e.space;return o.getIconSize(t)+4+n},getOneScreenNumber:function(e,t){var n=i.getIconUnitLength(t);return Math.floor(e/n)},calculateStartEnd:function(e,t,n){var r=i.getRollListLength(e,t,n);return[0,0+i.getOneScreenNumber(r,n)]},calculateRollListState:function(e,t,n){var r=i.getWidgetCountsFromLayout(n);return{showArrow:t-e<r,disablePrevious:0===e,disableNext:t>=r}},onListArrowClick:function(e,t,n,r,o){if(void 0===o&&(o=!0),!t)return[0,1];var i=o?1:r-n;return[n=e?n-i:n+i,r=e?r-i:r+i]},getLayoutIconStyle:function(e){return{size:e.iconSize,shape:e.iconStyle,showText:e.showLabel}}};t.default=i},362:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Stack="STACK",e.SideBySide="SIDEBYSIDE"}(t.DisplayType||(t.DisplayType={}))},4:function(e,t){e.exports=n},402:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),i=n(13),a=n(344),c=function(e){var t=[],n=null,r=function(){for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];t=o,n||(n=requestAnimationFrame(function(){n=null,e.apply(void 0,t)}))};return r.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},r},s=n(11);var u=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},l=n(345),f="object"==typeof self&&self&&self.Object===Object&&self,p=l.a||f||Function("return this")(),d=function(){return p.Date.now()},h=p.Symbol,y=Object.prototype,v=y.hasOwnProperty,g=y.toString,m=h?h.toStringTag:void 0;var b=function(e){var t=v.call(e,m),n=e[m];try{e[m]=void 0;var r=!0}catch(e){}var o=g.call(e);return r&&(t?e[m]=n:delete e[m]),o},w=Object.prototype.toString;var _=function(e){return w.call(e)},O="[object Null]",j="[object Undefined]",x=h?h.toStringTag:void 0;var P=function(e){return null==e?void 0===e?j:O:x&&x in Object(e)?b(e):_(e)};var R=function(e){return null!=e&&"object"==typeof e},S="[object Symbol]";var E=function(e){return"symbol"==typeof e||R(e)&&P(e)==S},M=NaN,z=/^\s+|\s+$/g,C=/^[-+]0x[0-9a-f]+$/i,W=/^0b[01]+$/i,T=/^0o[0-7]+$/i,I=parseInt;var L=function(e){if("number"==typeof e)return e;if(E(e))return M;if(u(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=u(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(z,"");var n=W.test(e);return n||T.test(e)?I(e.slice(2),n?2:8):C.test(e)?M:+e},k="Expected a function",A=Math.max,N=Math.min;var H=function(e,t,n){var r,o,i,a,c,s,l=0,f=!1,p=!1,h=!0;if("function"!=typeof e)throw new TypeError(k);function y(t){var n=r,i=o;return r=o=void 0,l=t,a=e.apply(i,n)}function v(e){var n=e-s;return void 0===s||n>=t||n<0||p&&e-l>=i}function g(){var e=d();if(v(e))return m(e);c=setTimeout(g,function(e){var n=t-(e-s);return p?N(n,i-(e-l)):n}(e))}function m(e){return c=void 0,h&&r?y(e):(r=o=void 0,a)}function b(){var e=d(),n=v(e);if(r=arguments,o=this,s=e,n){if(void 0===c)return function(e){return l=e,c=setTimeout(g,t),f?y(e):a}(s);if(p)return c=setTimeout(g,t),y(s)}return void 0===c&&(c=setTimeout(g,t)),a}return t=L(t)||0,u(n)&&(f=!!n.leading,i=(p="maxWait"in n)?A(L(n.maxWait)||0,t):i,h="trailing"in n?!!n.trailing:h),b.cancel=function(){void 0!==c&&clearTimeout(c),l=0,r=s=o=c=void 0},b.flush=function(){return void 0===c?a:m(d())},b},D="Expected a function";var F={debounce:H,throttle:function(e,t,n){var r=!0,o=!0;if("function"!=typeof e)throw new TypeError(D);return u(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),H(e,t,{leading:r,maxWait:t,trailing:o})}},B=function(e){return F[e]},q=function(e){return"function"==typeof e},V=function(){return"undefined"==typeof window};function U(e){return(U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function G(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $(e,t){return!t||"object"!==U(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Y(e){return(Y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function K(e,t){return(K=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var J=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),$(this,Y(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&K(e,t)}(t,r["PureComponent"]),function(e,t,n){t&&G(e.prototype,t),n&&G(e,n)}(t,[{key:"render",value:function(){return this.props.children}}]),t}();function Q(e){return(Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function X(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Z(e){return(Z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ee(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function te(e,t){return(te=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var re=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ne(ee(n=function(e,t){return!t||"object"!==Q(t)&&"function"!=typeof t?ee(e):t}(this,Z(t).call(this,e))),"cancelHandler",function(){n.resizeHandler&&n.resizeHandler.cancel&&(n.resizeHandler.cancel(),n.resizeHandler=null)}),ne(ee(n),"rafClean",function(){n.raf&&n.raf.cancel&&(n.raf.cancel(),n.raf=null)}),ne(ee(n),"toggleObserver",function(e){var t=n.getElement();t&&n.resizeObserver[e]&&n.resizeObserver[e](t)}),ne(ee(n),"getElement",function(){var e=n.props.querySelector;if(!V()){if(e)return document.querySelector(e);var t=n.element&&Object(i.findDOMNode)(n.element);if(t)return t.parentElement}}),ne(ee(n),"createUpdater",function(){return n.rafClean(),n.raf=c(function(e){var t=e.width,r=e.height,o=n.props.onResize;q(o)&&o(t,r),n.setState({width:t,height:r})}),n.raf}),ne(ee(n),"createResizeHandler",function(e){var t=n.state,r=t.width,o=t.height,i=n.props,a=i.handleWidth,c=i.handleHeight;if(a||c){var s=n.createUpdater();e.forEach(function(e){var t=e&&e.contentRect||{},i=t.width,u=t.height,l=a&&r!==i||c&&o!==u;!n.skipOnMount&&l&&!V()&&s({width:i,height:u}),n.skipOnMount=!1})}}),ne(ee(n),"onRef",function(e){n.element=e}),ne(ee(n),"getRenderType",function(){var e=n.props,t=e.render,o=e.children;return q(t)?"renderProp":q(o)?"childFunction":Object(r.isValidElement)(o)?"child":Array.isArray(o)?"childArray":"parent"}),ne(ee(n),"getTargetComponent",function(){var e=n.props,t=e.render,o=e.children,i=e.nodeType,a=n.state,c={width:a.width,height:a.height};switch(n.getRenderType()){case"renderProp":return Object(r.cloneElement)(t(c),{key:"resize-detector"});case"childFunction":return Object(r.cloneElement)(o(c));case"child":return Object(r.cloneElement)(o,c);case"childArray":return o.map(function(e){return Object(r.cloneElement)(e,c)});default:return Object(r.createElement)(i)}});var o=e.skipOnMount,s=e.refreshMode,u=e.refreshRate,l=e.refreshOptions;n.state={width:void 0,height:void 0},n.skipOnMount=o,n.raf=null,n.element=null,n.unmounted=!1;var f=B(s);return n.resizeHandler=f?f(n.createResizeHandler,u,l):n.createResizeHandler,n.resizeObserver=new a.a(n.resizeHandler),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&te(e,t)}(t,r["PureComponent"]),function(e,t,n){t&&X(e.prototype,t),n&&X(e,n)}(t,[{key:"componentDidMount",value:function(){this.toggleObserver("observe")}},{key:"componentWillUnmount",value:function(){this.toggleObserver("unobserve"),this.rafClean(),this.cancelHandler(),this.unmounted=!0}},{key:"render",value:function(){return o.a.createElement(J,{ref:this.onRef},this.getTargetComponent())}}]),t}();re.propTypes={handleWidth:s.bool,handleHeight:s.bool,skipOnMount:s.bool,refreshRate:s.number,refreshMode:s.string,refreshOptions:Object(s.shape)({leading:s.bool,trailing:s.bool}),querySelector:s.string,onResize:s.func,render:s.func,children:s.any,nodeType:s.node},re.defaultProps={handleWidth:!1,handleHeight:!1,skipOnMount:!1,refreshRate:1e3,refreshMode:void 0,refreshOptions:void 0,querySelector:null,onResize:null,render:void 0,children:null,nodeType:"div"};var oe=re;function ie(e){return(ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ce(e,t){return!t||"object"!==ie(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function se(e){return(se=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ue(e,t){return(ue=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var le=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{handleWidth:!0,handleHeight:!0};return function(n){function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),ce(this,se(i).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ue(e,t)}(i,r.Component),function(e,t,n){t&&ae(e.prototype,t),n&&ae(e,n)}(i,[{key:"render",value:function(){return o.a.createElement(oe,t,o.a.createElement(e,this.props))}}]),i}()};n.d(t,"withResizeDetector",function(){return le});t.default=oe},463:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(2),c=n(464),s=n(469),u=function(e){function t(t){var n=e.call(this,t)||this;return n.getStyle=function(){return a.css(i||(i=o(["\n      overflow: hidden;\n      white-space: nowrap;\n      display: flex;\n      .jimu-link {\n        font-size: 1rem;\n        flex-shrink: 1 !important;\n      }\n    "],["\n      overflow: hidden;\n      white-space: nowrap;\n      display: flex;\n      .jimu-link {\n        font-size: 1rem;\n        flex-shrink: 1 !important;\n      }\n    "])))},n.isBuilder=function(){var e=n.props,t=e.isInBuilder,r=e.appMode;return t&&r!==a.AppMode.Run},n.nls=function(e){return n.props.intl.formatMessage({id:e,defaultMessage:s.default[e]})},n}return r(t,e),t.prototype.render=function(){var e=this.props,t=e.builderSupportModules,n=e.id,r=e.config,o=this.isBuilder(),i=o&&t&&t.widgetModules.WidgetInBuilder;return a.jsx("div",{className:"widget-controller jimu-widget shadow",css:this.getStyle()},!o&&a.jsx(c.WidgetRuntime,{id:n,config:r,nls:this.nls}),o&&i&&a.jsx(i,{id:n,config:r,nls:this.nls}))},t.mapExtraStateProps=function(e){return{isInBuilder:e.appContext.isInBuilder,appMode:e.appRuntimeInfo.appMode}},t}(a.BaseWidget);t.default=u},464:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(465))},465:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),a=n(336),c=n(330),s=n(361),u=n(466),l=n(467),f={staring:{left:70,top:70},offset:30,minSzie:30,space:30},p={width:300,height:300},d=function(e){function t(t){var n=e.call(this,t)||this;return n.handleClick=function(e,t){n.setState({activeIconNode:t});var r=n.state.openedWidgets,o=n.props.config.onlyOpenOne;r=s.default.getOpenedWidget(r,e)?s.default.toggleOpenedWidgetsDisplay(r,o,e):s.default.toggleOpenedWidgets(r,o,{id:e,show:!0}),n.setState({openedWidgets:r})},n.getActiveIds=function(){var e=[];return n.state.openedWidgets.forEach(function(t){t.show&&e.push(t.id)}),e},n.onRollLayoutResize=function(e,t){var r=n.props,o=r.layout,i=r.config;if(s.default.getWidgetCountsFromLayout(o)){var a=s.default.calculateStartEnd(e,t,i),c=a[0],u=a[1];n.setState({start:c,end:u})}},n.onListArrowClick=function(e,t){void 0===t&&(t=!0);var r=n.props.layout,o=n.state,i=o.start,a=o.end,c=n.calculateRollListState(),u=c.disablePrevious,l=c.disableNext;if(!(u&&e||l&&!e)){var f=s.default.getWidgetCountsFromLayout(r),p=s.default.onListArrowClick(e,f,i,a,t),d=p[0],h=p[1];n.setState({start:d,end:h})}},n.calculateRollListState=function(){var e=n.props.layout,t=n.state,r=t.start,o=t.end,i=s.default.calculateRollListState(r,o,e);return{showArrow:i.showArrow,disablePrevious:i.disablePrevious,disableNext:i.disableNext}},n.mutableOpenedWidget=function(){var e=n.state.openedWidgets;return e?e.map(function(e){return e.asMutable()}):[]},n.getWidgetPageNode=function(){var e=n.props.pageId;return document.querySelector('.page[data-pageid="'+e+'"]')},n.onWidgetPopperClose=function(e){var t=n.state.openedWidgets,r=n.props.config.onlyOpenOne;t=s.default.toggleOpenedWidgetsDisplay(t,r,e),n.setState({openedWidgets:t})},n.widgetIconList=function(){var e=n.props,t=e.layouts,r=e.config,l=e.config,f=l.horizontal,p=l.space,d=e.theme,h=n.state,y=h.start,v=h.end;return i.jsx(a.RollList,o({horizontal:f,theme:d},n.calculateRollListState(),{onResize:n.onRollLayoutResize,onArrowClick:n.onListArrowClick}),i.jsx(u.Layout,{itemStyle:s.default.getLayoutIconStyle(r),start:y,end:v,layouts:t,space:p,onClick:n.handleClick,direction:f?c.FlexboxType.Row:c.FlexboxType.Column,activeIds:n.getActiveIds().join()}))},n.placeholderRenderer=function(){var e=n.props,t=e.layout,r=e.theme,o=e.nls;return!s.default.getWidgetCountsFromLayout(t)&&window.jimuConfig.isInBuilder&&i.jsx(a.Placeholder,{theme:r,text:o("placeholder")})},n.openWidgetsRenderer=function(){var e=n.props,t=e.config,r=t.horizontal,o=t.onlyOpenOne,a=e.theme,c=e.id,s=n.state.activeIconNode,u=o?r?"bottom-start":"right-start":"bottom-start",d=n.getWidgetPageNode();return i.jsx(l.WidgetRenderer,{theme:a,widgetsInfo:n.mutableOpenedWidget(),activeIconNode:s,widgetId:c,placement:u,container:d,position:f,defaultSize:p,onClose:n.onWidgetPopperClose})},n.state={openedWidgets:[],activeIconNode:null,start:0,end:1},n}return r(t,e),t.prototype.componentDidUpdate=function(e){var t=e.config,n=t.onlyOpenOne,r=t.displayType,o=this.props.config,i=o.onlyOpenOne,a=o.displayType;n===i&&a===r||this.setState({openedWidgets:[]})},t.prototype.render=function(){return i.jsx(i.React.Fragment,null,this.placeholderRenderer(),this.openWidgetsRenderer(),this.widgetIconList())},t}(i.React.PureComponent);t._Widget=d;t.WidgetRuntime=i.ReactRedux.connect(function(e,t){var n=e.appConfig.widgets[t.id].layouts,r=i.appConfigUtils.getWidgetOrSectionContainerInfo(e.appConfig,t.id,i.LayoutItemType.Widget,e.browserSizeMode);return{theme:e.theme,layout:e.appConfig.layouts[i.utils.findLayoutId(n.controller,e.browserSizeMode,e.appConfig.mainSizeMode)],layouts:n.controller,appMode:e.appRuntimeInfo.appMode,pageId:r&&r.type===i.ContainerType.Page?r.id:""}})(d)},466:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),i=n(330),a=n(7),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleOnClick=function(e,n){t.props.onClick(n,e.target)},t}return r(t,e),t.prototype.render=function(){var e=this.props,t=e.layouts,n=e.space,r=e.direction,c=void 0===r?i.FlexboxType.Row:r,s=e.start,u=e.end,l=e.itemStyle,f=e.activeIds,p={displayMode:a.WidgetDisplayMode.IconText,icon:l};return o.React.createElement(i.FlexboxLayout,{start:s,end:u,layouts:t,direction:c,config:{space:n,style:{alignItems:"center",justifyContent:"center"}},itemDisplaySetting:p,onItemClick:this.handleOnClick,activeIds:f})},t}(o.React.PureComponent);t.Layout=c},467:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),c=n(468),s=n(362),u=n(4),l=function(e){function t(t){var n=e.call(this,t)||this;return n.generatePoppers=function(){var e=n.props,t=e.widgetsInfo,r=e.activeIconNode,o=e.widgets,i=e.config.onlyOpenOne;return t.map(function(e,t){var a=o[e.id].label,c=e.show,s=n.getWidgetContent(e.id),u=n.getPopperStyle(e.id),l=i?r:n.getVirtualReference(e.id,t);return{id:e.id,popper:{show:c,title:a,reference:l,content:s},style:u}})},n.getVirtualReference=function(e,t){return n.props.config.displayType===s.DisplayType.Stack?n.getStackReference(t):n.getSideBySideReference(e,t)},n.getWidgetContent=function(e){var t,r=n.props.widgetsRuntimeInfo,o=r[e]&&r[e].isClassLoaded;if(o||n.wm.loadWidgetClass(e),o){var i=n.wm.getWidgetClass(e);t=a.React.createElement(i,null)}else t=a.React.createElement("div",null,"Loading...");return t},n.getPopperStyle=function(e){var t=n.getWidgetDefaultWidthHeight(e);return{width:t[0],height:t[1]}},n.getWidgetDefaultWidthHeight=function(e){var t=n.props,r=t.config.size,o=void 0===r?{}:r,i=t.defaultSize,a=o[e]||i,c=a.width,s=a.height;return[c="number"==typeof c?c:300,s="number"==typeof s?s:300]},n.getStackReference=function(e){var t=n.props.position,r=t.staring,o=t.offset,i=t.minSzie,a={left:r.left+o*e,top:r.top+o*e,right:r.left+o*e+i,bottom:r.top+o*e+i,width:i,height:i};return new u.VirtualReference(a)},n.getSideBySideReference=function(e,t){var r=n.props.position,o=r.staring,i=r.offset,a=r.space,c=document.body.offsetWidth,s=n.getWidgetDefaultWidthHeight(e),l=s[0],f=s[1];n.position.left[t]+l>c&&(n.position.left[t]=o.left,n.position.top[t]=n.position.top[t]+i);var p={left:n.position.left[t],top:n.position.top[t],right:n.position.left[t]+l,bottom:n.position.top[t],width:l,height:f};return n.position.left[t+1]=n.position.left[t]+l+a,n.position.top[t+1]=n.position.top[t],new u.VirtualReference(p)},n.wm=a.WidgetManager.getInstance(),n.position={left:[n.props.position.staring.left],top:[n.props.position.staring.top]},n}return r(t,e),t.prototype.render=function(){var e=this.props,t=(e.position,e.defaultSize,e.widgetId,e.activeIconNode,e.widgetsInfo,i(e,["position","defaultSize","widgetId","activeIconNode","widgetsInfo"]));return a.React.createElement(c.MultiplePopper,o({poppers:this.generatePoppers()},t))},t}(a.React.PureComponent);t._WidgetRenderer=l;t.WidgetRenderer=a.ReactRedux.connect(function(e,t){return{widgets:e.appConfig.widgets,config:e.appConfig.widgets[t.widgetId].config,widgetsRuntimeInfo:e.widgetsRuntimeInfo}})(l)},468:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),i=n(4),a=n(336),c=function(e){function t(t){var n=e.call(this,t)||this;return n.handleClose=function(e){n.props.onClose(e)},n.generatePopperHeader=function(e,t){var r=n.props.theme;return o.React.createElement(a.PopperHeader,{theme:r,text:t,onClose:function(){return n.handleClose(e)}})},n.onResizeing=function(e,t,r){var i,a=n.state.size;a=o.lodash.assign({},a,((i={})[e]={width:t,height:r},i)),n.setState({size:a})},n.state={size:{}},n}return r(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.poppers,r=t.placement,a=t.container,c=void 0===a?"body":a,s=this.state.size;return o.React.createElement(o.React.Fragment,null,n.map(function(t){var n=s[t.id]?s[t.id].width:t.style.width,a=s[t.id]?s[t.id].height:t.style.height;return o.React.createElement(i.Popper,{key:t.id,offset:[0,30],zIndex:21,keepMounted:!0,open:t.popper.show,title:t.popper.title,draggable:!0,header:e.generatePopperHeader(t.id,t.popper.title),reference:t.popper.reference,placement:r,container:c,className:o.classNames("border bg-white shadow rounded p-2",{"d-none":!t.popper.show})},o.React.createElement(i.Resizeable,{onResize:function(n,r){return e.onResizeing(t.id,n,r)},minSize:[150,100],width:n,height:a},o.React.createElement("div",{style:{width:n,height:a}},t.popper.content)))}))},t.defaultProps={onClose:function(){}},t}(o.React.PureComponent);t.MultiplePopper=c},469:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={_widgetLabel:"Controller",placeholder:"Drop a widget here."}},7:function(e,t){e.exports=r}})});
//# sourceMappingURL=widget.js.map