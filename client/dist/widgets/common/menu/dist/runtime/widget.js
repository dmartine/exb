define(["jimu-core/react","jimu-core","jimu-ui"],function(e,t,n){return function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=640)}({0:function(t,n){t.exports=e},2:function(e,n){e.exports=t},390:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Transparent="transparent"}(t.TransparentColor||(t.TransparentColor={})),function(e){e.Right="RIGHT",e.Left="LEFT",e.Down="DOWN",e.Up="UP"}(t.Dir||(t.Dir={})),function(e){e.Left="left",e.Center="center",e.Right="right"}(t.TextAlign||(t.TextAlign={})),function(e){e.Start="start",e.End="end"}(t.Position||(t.Position={})),function(e){e.Default="DEFAULT",e.Tabs="TABS",e.Pills="PILLS"}(t.NavStyle||(t.NavStyle={}))},4:function(e,t){e.exports=n},640:function(e,t,n){"use strict";var o,r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var a,u,l=n(2),s=n(4),c=n(390),p=n(66),f=n(67),d=n(68),g=((o={})[l.PageType.Normal]=p,o[l.PageType.Link]=f,o[l.PageType.Folder]=d,o),v=function(e){function t(t){var n=e.call(this,t)||this;return n.getNavItems=function(){var e=n.props.appConfig,t=e.pageStructure,o=e.pages,r=[];return t.forEach(function(e){var t=Object.keys(e)[0],i=o[t];if(i.isVisible){var a=n.getNavItemValue(i),u=[];e[t].forEach(function(e){var t=o[e];t.isVisible&&u.push(n.getNavItemValue(t))}),a.subs=u,r.push(a)}}),r},n.getNavItemValue=function(e){return{id:e.id,to:n.getLinkTo(e),icon:e.icon||g[e.type],target:e.openTarget,label:e.label}},n.getLinkTo=function(e){return e.type===l.PageType.Folder?"#":e.type===l.PageType.Link?{linkType:l.LinkType.WebAddress,value:e.linkUrl}:e.type===l.PageType.Normal?{linkType:l.LinkType.Page,value:e.id}:"#"},n.getStyle=function(){var e=n.isMobile(),t=l.css(a||(a=i(["\n      .navbar {\n        justify-content: center;\n        padding: 0;\n        .navbar-toggler {\n          border: none;\n        }\n      }\n    "],["\n      .navbar {\n        justify-content: center;\n        padding: 0;\n        .navbar-toggler {\n          border: none;\n        }\n      }\n    "])));return l.css(u||(u=i(["\n      overflow: hidden;\n       *:focus{\n        box-shadow: none !important;\n      }\n      .nav-ul {\n        flex-wrap: nowrap;\n      }\n      ","\n    "],["\n      overflow: hidden;\n       *:focus{\n        box-shadow: none !important;\n      }\n      .nav-ul {\n        flex-wrap: nowrap;\n      }\n      ","\n    "])),e&&t)},n.subMenuToggle=function(){n.setState({isSubMenuOpen:!n.state.isSubMenuOpen})},n.isMobile=function(){return n.props.browserSizeMode===l.BrowserSizeMode.Small},n.showSubMenu=function(e){n.delay=!0,n.setState({hoverMenu:e}),n.setState({isSubMenuOpen:!0})},n.hideSubMenu=function(){n.setState({isSubMenuOpen:!1}),n.setState({hoverMenu:""})},n.delayHideSubMenu=function(){n.delay=!1,setTimeout(function(){n.delay?n.delay=!1:n.hideSubMenu()},150)},n.toggleMobileMenu=function(){n.setState({isMobileMenuOpen:!n.state.isMobileMenuOpen})},n.closeMobileMenu=function(){n.setState({isMobileMenuOpen:!1})},n.isLightOrDark=function(e){var t=n.props.config.style.textColor;return e?"light"===t:"dark"===t},n.state={isSubMenuOpen:!1,hoverMenu:"",isMobileMenuOpen:!1},n}return r(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.config,o=n.dir,r=n.style,i=r.type,a=r.color,u=r.activeColor,p=r.textColor,f=t.currentId,d=t.theme,g=this.props,v=g.config,b=v.main,h=b.textAlign,y=b.space,M=b.icon,m=M.show,O=M.position,S=v.sub.icon,w=S.show,j=S.position,x=g.queryObject,T=this.state,P=T.isSubMenuOpen,k=T.hoverMenu,L=T.isMobileMenuOpen,N=this.isMobile(),_=o===c.Dir.Down||o===c.Dir.Up,C=this.getNavItems();return l.jsx("div",{className:"widget-menu jimu-widget",css:this.getStyle()},l.jsx(s.Navbar,{color:a,light:this.isLightOrDark(!1),dark:this.isLightOrDark(!0),className:"w-100 h-100",expand:"md"},l.jsx(s.Nav,{navbar:!0,theme:d,className:"w-100 nav-ul",activeColor:u,justified:!0,vertical:_,gap:""+y.distance+y.unit,tabs:i===c.NavStyle.Tabs,pills:i===c.NavStyle.Pills,textAlign:h,mode:N?"toggle":"default",drawer:{color:a,textColor:p},isMobileMenuOpen:L,onToggleClick:this.toggleMobileMenu,onMobileMenuClose:this.closeMobileMenu},C.map(function(t,n){var o=!(!t.subs||!t.subs.length);return l.jsx(s.NavItem,{key:n,dropdown:o,menuOpenMode:"hover",onMouseOver:function(n){return e.showSubMenu(t.id)},onMouseLeave:e.delayHideSubMenu,toggle:e.subMenuToggle,direction:_?"right":"down",isOpen:P&&k===t.id,onClick:e.closeMobileMenu},l.jsx(s.NavLink,{dropdowToggle:o,to:t.to,active:t.id===f,icon:m?t.icon:"",iconPosition:O,caret:o,target:t.target,queryObject:x},t.label),o&&l.jsx(s.NavMenu,{appendToBody:!0,onMouseOver:function(n){return e.showSubMenu(t.id)},onMouseLeave:e.hideSubMenu},t.subs.map(function(n,o){return l.jsx(s.NavItem,{key:o,onClick:e.closeMobileMenu},l.jsx(s.NavLink,{active:n.id===f,to:n.to,icon:w?n.icon:"",iconPosition:j,target:t.target,queryObject:x},n.label))})))}))))},t.mapExtraStateProps=function(e){var t=e.appPath,n=e.appConfig.pageStructure,o=l.urlUtils.getAppIdPageIdFromUrl(t).pageId;return!o&&n&&n.length&&(o=Object.keys(n[0])[0]),{browserSizeMode:e.browserSizeMode,currentId:o,appConfig:e.appConfig}},t}(l.BaseWidget);t.default=v},66:function(e,t,n){function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}var r=n(0),i=r.createElement("path",{d:"M1 0h8a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1zm0 1v10h8V1H1zm2 2h4a.5.5 0 0 1 0 1H3a.5.5 0 0 1 0-1zm0 2.5h4a.5.5 0 0 1 0 1H3a.5.5 0 0 1 0-1z",fill:"currentColor",fillRule:"nonzero"});function a(e){return r.createElement("svg",o({width:10,height:12,viewBox:"0 0 10 12"},e),i)}e.exports=a,a.default=a},67:function(e,t,n){function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}var r=n(0),i=r.createElement("path",{d:"M7.42 8.839a.5.5 0 0 1 0 .71L6 10.966a3.502 3.502 0 0 1-4.967 0 3.501 3.501 0 0 1 0-4.966l1.416-1.422a.504.504 0 0 1 .713.712L1.746 6.713a2.497 2.497 0 0 0-.003 3.545c.983.983 2.56.98 3.544-.003l1.42-1.42a.504.504 0 0 1 .712.004zm1.415-2.132l1.422-1.416a2.5 2.5 0 0 0 0-3.547 2.502 2.502 0 0 0-3.547 0L5.29 3.163a.504.504 0 1 1-.713-.712l1.42-1.42a3.506 3.506 0 0 1 4.97.003 3.501 3.501 0 0 1 0 4.967L9.547 7.42a.504.504 0 1 1-.713-.712zm-4.967.71l3.548-3.548a.504.504 0 0 1 .713.713L4.58 8.129a.504.504 0 1 1-.713-.712z",fillRule:"nonzero"});function a(e){return r.createElement("svg",o({width:12,height:12,viewBox:"0 0 12 12"},e),i)}e.exports=a,a.default=a},68:function(e,t,n){function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}var r=n(0),i=r.createElement("path",{d:"M1 0h3a1 1 0 0 1 1 1v1h6a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1zm0 1v10h10V3H4V1H1zm0 3.5h10v1H1v-1z",fill:"currentColor",fillRule:"nonzero"});function a(e){return r.createElement("svg",o({width:12,height:12,viewBox:"0 0 12 12"},e),i)}e.exports=a,a.default=a}})});
//# sourceMappingURL=widget.js.map