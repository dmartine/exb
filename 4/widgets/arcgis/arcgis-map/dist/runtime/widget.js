System.register(["jimu-arcgis","jimu-core","jimu-layouts/layout-runtime","jimu-ui"], function(__WEBPACK_DYNAMIC_EXPORT__) {
	var __WEBPACK_EXTERNAL_MODULE_jimu_arcgis__, __WEBPACK_EXTERNAL_MODULE_jimu_core__, __WEBPACK_EXTERNAL_MODULE_jimu_layouts_layout_runtime__, __WEBPACK_EXTERNAL_MODULE_jimu_ui__;
	return {
		setters: [
			function(module) {
				__WEBPACK_EXTERNAL_MODULE_jimu_arcgis__ = module;
			},
			function(module) {
				__WEBPACK_EXTERNAL_MODULE_jimu_core__ = module;
			},
			function(module) {
				__WEBPACK_EXTERNAL_MODULE_jimu_layouts_layout_runtime__ = module;
			},
			function(module) {
				__WEBPACK_EXTERNAL_MODULE_jimu_ui__ = module;
			}
		],
		execute: function() {
			__WEBPACK_DYNAMIC_EXPORT__(
/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./extensions/widgets/arcgis/arcgis-map/src/runtime/widget.tsx");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icon.svg":
/*!**************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icon.svg ***!
  \**************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"<svg viewBox=\\\"0 0 16 14\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"M6 10.943l4 1.711V3.057L6 1.346v9.597zm-1 .17V1.494l-4 1.48v9.619l4-1.48zm6 1.393l4-1.48V1.407l-4 1.48v9.619zM0 14V2.307L5.75.18l4.528 1.937L16 0v11.693l-5.75 2.127-4.528-1.937L0 14z\\\" fill=\\\"#000\\\" fill-rule=\\\"nonzero\\\"></path></svg>\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvYXNzZXRzL2ljb24uc3ZnLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vZXh0ZW5zaW9ucy93aWRnZXRzL2FyY2dpcy9hcmNnaXMtbWFwL3NyYy9ydW50aW1lL2Fzc2V0cy9pY29uLnN2Zz8xNjc1Il0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHZpZXdCb3g9XFxcIjAgMCAxNiAxNFxcXCIgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIj48cGF0aCBkPVxcXCJNNiAxMC45NDNsNCAxLjcxMVYzLjA1N0w2IDEuMzQ2djkuNTk3em0tMSAuMTdWMS40OTRsLTQgMS40OHY5LjYxOWw0LTEuNDh6bTYgMS4zOTNsNC0xLjQ4VjEuNDA3bC00IDEuNDh2OS42MTl6TTAgMTRWMi4zMDdMNS43NS4xOGw0LjUyOCAxLjkzN0wxNiAwdjExLjY5M2wtNS43NSAyLjEyNy00LjUyOC0xLjkzN0wwIDE0elxcXCIgZmlsbD1cXFwiIzAwMFxcXCIgZmlsbC1ydWxlPVxcXCJub256ZXJvXFxcIj48L3BhdGg+PC9zdmc+XCIiXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icon.svg\n");

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/basemap.svg":
/*!***********************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/basemap.svg ***!
  \***********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 16 16\\\"><path d=\\\"M.1 6.9h6.8V.1H.1v6.8zm6-.8H3.985c.077-.403.25-.78.506-1.102a4.574 4.574 0 001.609.805V6.1zm0-1.128a3.758 3.758 0 01-1.006-.523c.31-.203.65-.358 1.006-.459v.982zM6.1.9v2.266a4.229 4.229 0 00-1.613.73 6.038 6.038 0 01-1.1-1.767l.002-.004-.004-.001A8.16 8.16 0 012.99.9H6.1zM.9.9h1.266a8.7 8.7 0 00.359 1.249A1.93 1.93 0 01.9 3.188V.9zm0 3.09a2.828 2.828 0 002.006-.966c.262.519.594 1 .987 1.428A3.367 3.367 0 003.17 6.1H.9V3.99zM9.1.1v6.8h6.8V.1H9.1zm.8.8h4.063a.373.373 0 01-.045.2.594.594 0 01-.438.176 1.637 1.637 0 00-1.175.49.91.91 0 00-.203.708c-.001.007-.114.736-.607.742a.74.74 0 00-.719.384.828.828 0 00-.026.6H9.9V.9zm5.2 5.2H9.9V5h2.296l-.474-.639a1.562 1.562 0 01-.192-.346c1.041-.03 1.37-1.188 1.365-1.587a.19.19 0 01.028-.154c.031-.037.166-.162.624-.2.419 0 .81-.205 1.049-.549a1.13 1.13 0 00.16-.625h.344v5.2zm-15 9.8h6.8V9.1H.1v6.8zm.8-6h5.2v.46l-2 1.973v.867l-3.2-.089V9.9zm0 4.01l4 .112v-1.355l1.2-1.182V15.1H.9v-1.19zm8.2 1.99h6.8V9.1H9.1v6.8zm6-.8h-1.792l-1.27-1.572 1.468-1.468 1.594 1.605V15.1zm0-5.2v2.628L12.49 9.9h2.61zm-5.2 0h1.46l1.581 1.592-1.978 1.98 1.316 1.628H9.9V9.9z\\\" fill=\\\"#000\\\" fill-rule=\\\"nonzero\\\"></path></svg>\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvYXNzZXRzL2ljb25zL2Jhc2VtYXAuc3ZnLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vZXh0ZW5zaW9ucy93aWRnZXRzL2FyY2dpcy9hcmNnaXMtbWFwL3NyYy9ydW50aW1lL2Fzc2V0cy9pY29ucy9iYXNlbWFwLnN2Zz9kNDlkIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgdmlld0JveD1cXFwiMCAwIDE2IDE2XFxcIj48cGF0aCBkPVxcXCJNLjEgNi45aDYuOFYuMUguMXY2Ljh6bTYtLjhIMy45ODVjLjA3Ny0uNDAzLjI1LS43OC41MDYtMS4xMDJhNC41NzQgNC41NzQgMCAwMDEuNjA5LjgwNVY2LjF6bTAtMS4xMjhhMy43NTggMy43NTggMCAwMS0xLjAwNi0uNTIzYy4zMS0uMjAzLjY1LS4zNTggMS4wMDYtLjQ1OXYuOTgyek02LjEuOXYyLjI2NmE0LjIyOSA0LjIyOSAwIDAwLTEuNjEzLjczIDYuMDM4IDYuMDM4IDAgMDEtMS4xLTEuNzY3bC4wMDItLjAwNC0uMDA0LS4wMDFBOC4xNiA4LjE2IDAgMDEyLjk5LjlINi4xek0uOS45aDEuMjY2YTguNyA4LjcgMCAwMC4zNTkgMS4yNDlBMS45MyAxLjkzIDAgMDEuOSAzLjE4OFYuOXptMCAzLjA5YTIuODI4IDIuODI4IDAgMDAyLjAwNi0uOTY2Yy4yNjIuNTE5LjU5NCAxIC45ODcgMS40MjhBMy4zNjcgMy4zNjcgMCAwMDMuMTcgNi4xSC45VjMuOTl6TTkuMS4xdjYuOGg2LjhWLjFIOS4xem0uOC44aDQuMDYzYS4zNzMuMzczIDAgMDEtLjA0NS4yLjU5NC41OTQgMCAwMS0uNDM4LjE3NiAxLjYzNyAxLjYzNyAwIDAwLTEuMTc1LjQ5LjkxLjkxIDAgMDAtLjIwMy43MDhjLS4wMDEuMDA3LS4xMTQuNzM2LS42MDcuNzQyYS43NC43NCAwIDAwLS43MTkuMzg0LjgyOC44MjggMCAwMC0uMDI2LjZIOS45Vi45em01LjIgNS4ySDkuOVY1aDIuMjk2bC0uNDc0LS42MzlhMS41NjIgMS41NjIgMCAwMS0uMTkyLS4zNDZjMS4wNDEtLjAzIDEuMzctMS4xODggMS4zNjUtMS41ODdhLjE5LjE5IDAgMDEuMDI4LS4xNTRjLjAzMS0uMDM3LjE2Ni0uMTYyLjYyNC0uMi40MTkgMCAuODEtLjIwNSAxLjA0OS0uNTQ5YTEuMTMgMS4xMyAwIDAwLjE2LS42MjVoLjM0NHY1LjJ6bS0xNSA5LjhoNi44VjkuMUguMXY2Ljh6bS44LTZoNS4ydi40NmwtMiAxLjk3M3YuODY3bC0zLjItLjA4OVY5Ljl6bTAgNC4wMWw0IC4xMTJ2LTEuMzU1bDEuMi0xLjE4MlYxNS4xSC45di0xLjE5em04LjIgMS45OWg2LjhWOS4xSDkuMXY2Ljh6bTYtLjhoLTEuNzkybC0xLjI3LTEuNTcyIDEuNDY4LTEuNDY4IDEuNTk0IDEuNjA1VjE1LjF6bTAtNS4ydjIuNjI4TDEyLjQ5IDkuOWgyLjYxem0tNS4yIDBoMS40NmwxLjU4MSAxLjU5Mi0xLjk3OCAxLjk4IDEuMzE2IDEuNjI4SDkuOVY5Ljl6XFxcIiBmaWxsPVxcXCIjMDAwXFxcIiBmaWxsLXJ1bGU9XFxcIm5vbnplcm9cXFwiPjwvcGF0aD48L3N2Zz5cIiJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/basemap.svg\n");

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/close-12.svg":
/*!************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/close-12.svg ***!
  \************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"<svg viewBox=\\\"0 0 14 14\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><g fill-rule=\\\"nonzero\\\" fill=\\\"none\\\"><path d=\\\"M7.745 7l4.1 4.1a.527.527 0 01-.745.746L7 7.746l-4.1 4.1a.527.527 0 01-.746-.746l4.1-4.1-4.1-4.1a.527.527 0 01.746-.746l4.1 4.1 4.1-4.1a.527.527 0 01.746.746L7.746 7z\\\" fill=\\\"#000\\\"></path><path d=\\\"M1 1h12v12H1z\\\"></path></g></svg>\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvYXNzZXRzL2ljb25zL2Nsb3NlLTEyLnN2Zy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4dGVuc2lvbnMvd2lkZ2V0cy9hcmNnaXMvYXJjZ2lzLW1hcC9zcmMvcnVudGltZS9hc3NldHMvaWNvbnMvY2xvc2UtMTIuc3ZnPzU2MjUiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBcIjxzdmcgdmlld0JveD1cXFwiMCAwIDE0IDE0XFxcIiB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiPjxnIGZpbGwtcnVsZT1cXFwibm9uemVyb1xcXCIgZmlsbD1cXFwibm9uZVxcXCI+PHBhdGggZD1cXFwiTTcuNzQ1IDdsNC4xIDQuMWEuNTI3LjUyNyAwIDAxLS43NDUuNzQ2TDcgNy43NDZsLTQuMSA0LjFhLjUyNy41MjcgMCAwMS0uNzQ2LS43NDZsNC4xLTQuMS00LjEtNC4xYS41MjcuNTI3IDAgMDEuNzQ2LS43NDZsNC4xIDQuMSA0LjEtNC4xYS41MjcuNTI3IDAgMDEuNzQ2Ljc0Nkw3Ljc0NiA3elxcXCIgZmlsbD1cXFwiIzAwMFxcXCI+PC9wYXRoPjxwYXRoIGQ9XFxcIk0xIDFoMTJ2MTJIMXpcXFwiPjwvcGF0aD48L2c+PC9zdmc+XCIiXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/close-12.svg\n");

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/exchange.svg":
/*!************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/exchange.svg ***!
  \************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 39 32\\\"><path d=\\\"M38.784 9.778v2.962H3.236V9.778h.074L13.086.002l2.111 2.111-7.702 7.665h31.29zM3.236 21.628h31.327l-7.702 7.702 2.111 2.111 9.776-9.813h.037v-2.962H3.237v2.962z\\\"></path></svg>\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvYXNzZXRzL2ljb25zL2V4Y2hhbmdlLnN2Zy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4dGVuc2lvbnMvd2lkZ2V0cy9hcmNnaXMvYXJjZ2lzLW1hcC9zcmMvcnVudGltZS9hc3NldHMvaWNvbnMvZXhjaGFuZ2Uuc3ZnP2Y1NmYiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBcIjxzdmcgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIiB2aWV3Qm94PVxcXCIwIDAgMzkgMzJcXFwiPjxwYXRoIGQ9XFxcIk0zOC43ODQgOS43Nzh2Mi45NjJIMy4yMzZWOS43NzhoLjA3NEwxMy4wODYuMDAybDIuMTExIDIuMTExLTcuNzAyIDcuNjY1aDMxLjI5ek0zLjIzNiAyMS42MjhoMzEuMzI3bC03LjcwMiA3LjcwMiAyLjExMSAyLjExMSA5Ljc3Ni05LjgxM2guMDM3di0yLjk2MkgzLjIzN3YyLjk2MnpcXFwiPjwvcGF0aD48L3N2Zz5cIiJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/exchange.svg\n");

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/exit-full-screen.svg":
/*!********************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/exit-full-screen.svg ***!
  \********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 16 16\\\"><path d=\\\"M5 11v5H4v-4.001L0 12v-1h5zm11 0v1l-4-.001V16h-1v-5h5zM5 0v5H0V4l4 .001V0h1zm7 0v4.001L16 4v1h-5V0h1z\\\" fill=\\\"#000\\\" fill-rule=\\\"nonzero\\\"></path></svg>\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvYXNzZXRzL2ljb25zL2V4aXQtZnVsbC1zY3JlZW4uc3ZnLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vZXh0ZW5zaW9ucy93aWRnZXRzL2FyY2dpcy9hcmNnaXMtbWFwL3NyYy9ydW50aW1lL2Fzc2V0cy9pY29ucy9leGl0LWZ1bGwtc2NyZWVuLnN2Zz81NTJkIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgdmlld0JveD1cXFwiMCAwIDE2IDE2XFxcIj48cGF0aCBkPVxcXCJNNSAxMXY1SDR2LTQuMDAxTDAgMTJ2LTFoNXptMTEgMHYxbC00LS4wMDFWMTZoLTF2LTVoNXpNNSAwdjVIMFY0bDQgLjAwMVYwaDF6bTcgMHY0LjAwMUwxNiA0djFoLTVWMGgxelxcXCIgZmlsbD1cXFwiIzAwMFxcXCIgZmlsbC1ydWxlPVxcXCJub256ZXJvXFxcIj48L3BhdGg+PC9zdmc+XCIiXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/exit-full-screen.svg\n");

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/full-screen.svg":
/*!***************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/full-screen.svg ***!
  \***************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 16 16\\\"><path d=\\\"M1 11v4.001L5 15v1H0v-5h1zm15 0v5h-5v-1l4 .001V11h1zM5 0v1L1 .999V5H0V0h5zm11 0v5h-1V.999L11 1V0h5z\\\" fill=\\\"#000\\\" fill-rule=\\\"nonzero\\\"></path></svg>\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvYXNzZXRzL2ljb25zL2Z1bGwtc2NyZWVuLnN2Zy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4dGVuc2lvbnMvd2lkZ2V0cy9hcmNnaXMvYXJjZ2lzLW1hcC9zcmMvcnVudGltZS9hc3NldHMvaWNvbnMvZnVsbC1zY3JlZW4uc3ZnP2FkNjQiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBcIjxzdmcgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIiB2aWV3Qm94PVxcXCIwIDAgMTYgMTZcXFwiPjxwYXRoIGQ9XFxcIk0xIDExdjQuMDAxTDUgMTV2MUgwdi01aDF6bTE1IDB2NWgtNXYtMWw0IC4wMDFWMTFoMXpNNSAwdjFMMSAuOTk5VjVIMFYwaDV6bTExIDB2NWgtMVYuOTk5TDExIDFWMGg1elxcXCIgZmlsbD1cXFwiIzAwMFxcXCIgZmlsbC1ydWxlPVxcXCJub256ZXJvXFxcIj48L3BhdGg+PC9zdmc+XCIiXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/full-screen.svg\n");

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/layerlist.svg":
/*!*************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/layerlist.svg ***!
  \*************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 16 16\\\"><path d=\\\"M14.376 10.573l1.647.927-8 4.5-8-4.5 1.648-.927 1.02.574-.628.353 5.96 3.353 5.96-3.353-.627-.353 1.02-.574zm-.999-2.414l.606.341-5.96 3.353L2.063 8.5l.607-.341-1.02-.574L.023 8.5l8 4.5 8-4.5-1.626-.915-1.02.574zM8.023 1.023l-8 4.5 8 4.5 8-4.5-8-4.5zm-5.96 4.5l5.96-3.352 5.96 3.352-5.96 3.353-5.96-3.353z\\\" fill=\\\"#000\\\" fill-rule=\\\"nonzero\\\"></path></svg>\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvYXNzZXRzL2ljb25zL2xheWVybGlzdC5zdmcuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvYXNzZXRzL2ljb25zL2xheWVybGlzdC5zdmc/ZGM3ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIHZpZXdCb3g9XFxcIjAgMCAxNiAxNlxcXCI+PHBhdGggZD1cXFwiTTE0LjM3NiAxMC41NzNsMS42NDcuOTI3LTggNC41LTgtNC41IDEuNjQ4LS45MjcgMS4wMi41NzQtLjYyOC4zNTMgNS45NiAzLjM1MyA1Ljk2LTMuMzUzLS42MjctLjM1MyAxLjAyLS41NzR6bS0uOTk5LTIuNDE0bC42MDYuMzQxLTUuOTYgMy4zNTNMMi4wNjMgOC41bC42MDctLjM0MS0xLjAyLS41NzRMLjAyMyA4LjVsOCA0LjUgOC00LjUtMS42MjYtLjkxNS0xLjAyLjU3NHpNOC4wMjMgMS4wMjNsLTggNC41IDggNC41IDgtNC41LTgtNC41em0tNS45NiA0LjVsNS45Ni0zLjM1MiA1Ljk2IDMuMzUyLTUuOTYgMy4zNTMtNS45Ni0zLjM1M3pcXFwiIGZpbGw9XFxcIiMwMDBcXFwiIGZpbGwtcnVsZT1cXFwibm9uemVyb1xcXCI+PC9wYXRoPjwvc3ZnPlwiIl0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/layerlist.svg\n");

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/measure-area.svg":
/*!****************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/measure-area.svg ***!
  \****************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 15 16\\\"><g fill=\\\"#000\\\" fill-rule=\\\"nonzero\\\"><path d=\\\"M4 8h1v3H4V8zM2 9h1v2H2V9zm6-1h1v3H8V8zm4 0h1v3h-1V8z\\\"></path><path d=\\\"M15 12V6h-2V5h1V2h-3v1L4 1.05V0H1v3h1v3H0v6h2v1H1v3h3v-1h7v1h3v-3h-1v-1h2zm-3-9h1v1h-1V3zm-8-.92L11 4v1h1v1H3V3h1v-.92zM2 1h1v1H2V1zm1 14H2v-1h1v1zm8-1H4v-1H3v-1h9v1h-1v1zm2 1h-1v-1h1v1zM1 11V7h13v4H1z\\\"></path><path d=\\\"M6 9h1v2H6V9zm4 0h1v2h-1V9z\\\"></path></g></svg>\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvYXNzZXRzL2ljb25zL21lYXN1cmUtYXJlYS5zdmcuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvYXNzZXRzL2ljb25zL21lYXN1cmUtYXJlYS5zdmc/OWYyMiJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIHZpZXdCb3g9XFxcIjAgMCAxNSAxNlxcXCI+PGcgZmlsbD1cXFwiIzAwMFxcXCIgZmlsbC1ydWxlPVxcXCJub256ZXJvXFxcIj48cGF0aCBkPVxcXCJNNCA4aDF2M0g0Vjh6TTIgOWgxdjJIMlY5em02LTFoMXYzSDhWOHptNCAwaDF2M2gtMVY4elxcXCI+PC9wYXRoPjxwYXRoIGQ9XFxcIk0xNSAxMlY2aC0yVjVoMVYyaC0zdjFMNCAxLjA1VjBIMXYzaDF2M0gwdjZoMnYxSDF2M2gzdi0xaDd2MWgzdi0zaC0xdi0xaDJ6bS0zLTloMXYxaC0xVjN6bS04LS45MkwxMSA0djFoMXYxSDNWM2gxdi0uOTJ6TTIgMWgxdjFIMlYxem0xIDE0SDJ2LTFoMXYxem04LTFINHYtMUgzdi0xaDl2MWgtMXYxem0yIDFoLTF2LTFoMXYxek0xIDExVjdoMTN2NEgxelxcXCI+PC9wYXRoPjxwYXRoIGQ9XFxcIk02IDloMXYySDZWOXptNCAwaDF2MmgtMVY5elxcXCI+PC9wYXRoPjwvZz48L3N2Zz5cIiJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/measure-area.svg\n");

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/measure-distance.svg":
/*!********************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/measure-distance.svg ***!
  \********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 15 10\\\"><path d=\\\"M0 10h15V4H0v6zm1-5h13v4h-1V6h-1v3h-1V7h-1v2H9V6H8v3H7V7H6v2H5V6H4v3H3V7H2v2H1V5zm11-5v1H3V0H0v3h3V2h9v1h3V0h-3zM2 2H1V1h1v1zm12 0h-1V1h1v1z\\\" fill=\\\"#000\\\" fill-rule=\\\"nonzero\\\"></path></svg>\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvYXNzZXRzL2ljb25zL21lYXN1cmUtZGlzdGFuY2Uuc3ZnLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vZXh0ZW5zaW9ucy93aWRnZXRzL2FyY2dpcy9hcmNnaXMtbWFwL3NyYy9ydW50aW1lL2Fzc2V0cy9pY29ucy9tZWFzdXJlLWRpc3RhbmNlLnN2Zz9mYjQ4Il0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgdmlld0JveD1cXFwiMCAwIDE1IDEwXFxcIj48cGF0aCBkPVxcXCJNMCAxMGgxNVY0SDB2NnptMS01aDEzdjRoLTFWNmgtMXYzaC0xVjdoLTF2Mkg5VjZIOHYzSDdWN0g2djJINVY2SDR2M0gzVjdIMnYySDFWNXptMTEtNXYxSDNWMEgwdjNoM1YyaDl2MWgzVjBoLTN6TTIgMkgxVjFoMXYxem0xMiAwaC0xVjFoMXYxelxcXCIgZmlsbD1cXFwiIzAwMFxcXCIgZmlsbC1ydWxlPVxcXCJub256ZXJvXFxcIj48L3BhdGg+PC9zdmc+XCIiXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/measure-distance.svg\n");

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/measure.svg":
/*!***********************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/measure.svg ***!
  \***********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 16 16\\\"><path d=\\\"M0 9v6h16V9H0zm15 3h-1v2h-1v-3h-1v3h-1v-2h-1v2H9v-3H8v3H7v-2H6v2H5v-3H4v3H3v-2H2v2H1v-4h14v2zm.18-7.5l-2.85 2.85-.71-.7L13.23 5H9V4h4.32l-1.7-1.69.71-.7 2.85 2.89zM2.68 4H7v1H2.77l1.61 1.65-.71.7L.82 4.5l2.85-2.85.71.7L2.68 4z\\\" fill=\\\"#000\\\" fill-rule=\\\"nonzero\\\"></path></svg>\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvYXNzZXRzL2ljb25zL21lYXN1cmUuc3ZnLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vZXh0ZW5zaW9ucy93aWRnZXRzL2FyY2dpcy9hcmNnaXMtbWFwL3NyYy9ydW50aW1lL2Fzc2V0cy9pY29ucy9tZWFzdXJlLnN2Zz8xYTcxIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgdmlld0JveD1cXFwiMCAwIDE2IDE2XFxcIj48cGF0aCBkPVxcXCJNMCA5djZoMTZWOUgwem0xNSAzaC0xdjJoLTF2LTNoLTF2M2gtMXYtMmgtMXYySDl2LTNIOHYzSDd2LTJINnYySDV2LTNINHYzSDN2LTJIMnYySDF2LTRoMTR2MnptLjE4LTcuNWwtMi44NSAyLjg1LS43MS0uN0wxMy4yMyA1SDlWNGg0LjMybC0xLjctMS42OS43MS0uNyAyLjg1IDIuODl6TTIuNjggNEg3djFIMi43N2wxLjYxIDEuNjUtLjcxLjdMLjgyIDQuNWwyLjg1LTIuODUuNzEuN0wyLjY4IDR6XFxcIiBmaWxsPVxcXCIjMDAwXFxcIiBmaWxsLXJ1bGU9XFxcIm5vbnplcm9cXFwiPjwvcGF0aD48L3N2Zz5cIiJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/measure.svg\n");

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/search.svg":
/*!**********************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/search.svg ***!
  \**********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 16 16\\\"><path d=\\\"M7 1a6 6 0 100 12A6 6 0 007 1zm0 13a7 7 0 115.621-2.828l-.222.284 3.405 3.404a.668.668 0 01-.944.944L11.456 12.4A6.974 6.974 0 017 14z\\\" fill=\\\"#000\\\" fill-rule=\\\"nonzero\\\"></path></svg>\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvYXNzZXRzL2ljb25zL3NlYXJjaC5zdmcuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvYXNzZXRzL2ljb25zL3NlYXJjaC5zdmc/MzM1YyJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIHZpZXdCb3g9XFxcIjAgMCAxNiAxNlxcXCI+PHBhdGggZD1cXFwiTTcgMWE2IDYgMCAxMDAgMTJBNiA2IDAgMDA3IDF6bTAgMTNhNyA3IDAgMTE1LjYyMS0yLjgyOGwtLjIyMi4yODQgMy40MDUgMy40MDRhLjY2OC42NjggMCAwMS0uOTQ0Ljk0NEwxMS40NTYgMTIuNEE2Ljk3NCA2Ljk3NCAwIDAxNyAxNHpcXFwiIGZpbGw9XFxcIiMwMDBcXFwiIGZpbGwtcnVsZT1cXFwibm9uemVyb1xcXCI+PC9wYXRoPjwvc3ZnPlwiIl0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/search.svg\n");

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/select-tool/select-circle.svg":
/*!*****************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/select-tool/select-circle.svg ***!
  \*****************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 16 16\\\"><g fill=\\\"#363636\\\" fill-rule=\\\"nonzero\\\"><path d=\\\"M.25 3l8.642 4.969-3.422.738 2.723 5.45-2.886 1.667-2.724-5.45-2.351 2.595L.25 3zm.996 1.726l-.01 5.644 1.527-1.684 2.909 5.771 1.155-.667-2.91-5.77 2.222-.48-4.893-2.814z\\\"></path><path d=\\\"M10.318 0C13.456 0 16 2.462 16 5.5S13.456 11 10.318 11a5.796 5.796 0 01-3.023-.842l-.22-.142.54-.752c.788.53 1.722.82 2.703.82 2.615 0 4.735-2.053 4.735-4.584 0-2.531-2.12-4.583-4.735-4.583-1.916 0-3.617 1.112-4.354 2.779l-.078.187L5 3.56C5.827 1.435 7.933 0 10.318 0z\\\"></path></g></svg>\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvYXNzZXRzL2ljb25zL3NlbGVjdC10b29sL3NlbGVjdC1jaXJjbGUuc3ZnLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vZXh0ZW5zaW9ucy93aWRnZXRzL2FyY2dpcy9hcmNnaXMtbWFwL3NyYy9ydW50aW1lL2Fzc2V0cy9pY29ucy9zZWxlY3QtdG9vbC9zZWxlY3QtY2lyY2xlLnN2Zz80Yjg5Il0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgdmlld0JveD1cXFwiMCAwIDE2IDE2XFxcIj48ZyBmaWxsPVxcXCIjMzYzNjM2XFxcIiBmaWxsLXJ1bGU9XFxcIm5vbnplcm9cXFwiPjxwYXRoIGQ9XFxcIk0uMjUgM2w4LjY0MiA0Ljk2OS0zLjQyMi43MzggMi43MjMgNS40NS0yLjg4NiAxLjY2Ny0yLjcyNC01LjQ1LTIuMzUxIDIuNTk1TC4yNSAzem0uOTk2IDEuNzI2bC0uMDEgNS42NDQgMS41MjctMS42ODQgMi45MDkgNS43NzEgMS4xNTUtLjY2Ny0yLjkxLTUuNzcgMi4yMjItLjQ4LTQuODkzLTIuODE0elxcXCI+PC9wYXRoPjxwYXRoIGQ9XFxcIk0xMC4zMTggMEMxMy40NTYgMCAxNiAyLjQ2MiAxNiA1LjVTMTMuNDU2IDExIDEwLjMxOCAxMWE1Ljc5NiA1Ljc5NiAwIDAxLTMuMDIzLS44NDJsLS4yMi0uMTQyLjU0LS43NTJjLjc4OC41MyAxLjcyMi44MiAyLjcwMy44MiAyLjYxNSAwIDQuNzM1LTIuMDUzIDQuNzM1LTQuNTg0IDAtMi41MzEtMi4xMi00LjU4My00LjczNS00LjU4My0xLjkxNiAwLTMuNjE3IDEuMTEyLTQuMzU0IDIuNzc5bC0uMDc4LjE4N0w1IDMuNTZDNS44MjcgMS40MzUgNy45MzMgMCAxMC4zMTggMHpcXFwiPjwvcGF0aD48L2c+PC9zdmc+XCIiXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/select-tool/select-circle.svg\n");

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/select-tool/select-clear.svg":
/*!****************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/select-tool/select-clear.svg ***!
  \****************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 16 16\\\"><path d=\\\"M16 0v16H0V0h16zM7.077 1H1v14h10.561L7.078 7.616 7.077 1zM15 6.391L9.56 9.779 12.73 15H15V6.391zM15 1H8.077v6.335l.965 1.589L15 5.213V1z\\\" fill=\\\"#363636\\\" fill-rule=\\\"nonzero\\\"></path></svg>\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvYXNzZXRzL2ljb25zL3NlbGVjdC10b29sL3NlbGVjdC1jbGVhci5zdmcuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvYXNzZXRzL2ljb25zL3NlbGVjdC10b29sL3NlbGVjdC1jbGVhci5zdmc/OWNlMiJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIHZpZXdCb3g9XFxcIjAgMCAxNiAxNlxcXCI+PHBhdGggZD1cXFwiTTE2IDB2MTZIMFYwaDE2ek03LjA3NyAxSDF2MTRoMTAuNTYxTDcuMDc4IDcuNjE2IDcuMDc3IDF6TTE1IDYuMzkxTDkuNTYgOS43NzkgMTIuNzMgMTVIMTVWNi4zOTF6TTE1IDFIOC4wNzd2Ni4zMzVsLjk2NSAxLjU4OUwxNSA1LjIxM1YxelxcXCIgZmlsbD1cXFwiIzM2MzYzNlxcXCIgZmlsbC1ydWxlPVxcXCJub256ZXJvXFxcIj48L3BhdGg+PC9zdmc+XCIiXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/select-tool/select-clear.svg\n");

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/select-tool/select-lasso.svg":
/*!****************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/select-tool/select-lasso.svg ***!
  \****************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 17 16\\\"><g fill=\\\"#363636\\\" fill-rule=\\\"nonzero\\\"><path d=\\\"M.75 3l8.642 4.969-3.422.738 2.723 5.45-2.886 1.667-2.724-5.45-2.351 2.595L.75 3zm.996 1.726l-.01 5.644 1.527-1.684 2.909 5.771 1.155-.667-2.91-5.77 2.222-.48-4.893-2.814z\\\"></path><path d=\\\"M8.721 0c1.82 0 2.865 1.556 2.865 4.35 0 .462.12.66.385.774.219.093.473.126.99.131h.551l.397.009c1.251.05 1.807.336 2.04 1.333.41 1.76-1.62 3.114-5.904 4.313l-.326.09-.245-.999.64-.18c3.516-1.02 5.088-2.089 4.88-2.979-.094-.407-.382-.535-1.304-.553l-.787-.002c-.62-.008-.943-.055-1.3-.207-.648-.276-.998-.859-.998-1.73 0-2.286-.694-3.318-1.884-3.318-.731 0-1.68.55-2.815 1.685l-.215.22L5 2.203C6.398.748 7.626 0 8.721 0z\\\"></path></g></svg>\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvYXNzZXRzL2ljb25zL3NlbGVjdC10b29sL3NlbGVjdC1sYXNzby5zdmcuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvYXNzZXRzL2ljb25zL3NlbGVjdC10b29sL3NlbGVjdC1sYXNzby5zdmc/MTU4YyJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIHZpZXdCb3g9XFxcIjAgMCAxNyAxNlxcXCI+PGcgZmlsbD1cXFwiIzM2MzYzNlxcXCIgZmlsbC1ydWxlPVxcXCJub256ZXJvXFxcIj48cGF0aCBkPVxcXCJNLjc1IDNsOC42NDIgNC45NjktMy40MjIuNzM4IDIuNzIzIDUuNDUtMi44ODYgMS42NjctMi43MjQtNS40NS0yLjM1MSAyLjU5NUwuNzUgM3ptLjk5NiAxLjcyNmwtLjAxIDUuNjQ0IDEuNTI3LTEuNjg0IDIuOTA5IDUuNzcxIDEuMTU1LS42NjctMi45MS01Ljc3IDIuMjIyLS40OC00Ljg5My0yLjgxNHpcXFwiPjwvcGF0aD48cGF0aCBkPVxcXCJNOC43MjEgMGMxLjgyIDAgMi44NjUgMS41NTYgMi44NjUgNC4zNSAwIC40NjIuMTIuNjYuMzg1Ljc3NC4yMTkuMDkzLjQ3My4xMjYuOTkuMTMxaC41NTFsLjM5Ny4wMDljMS4yNTEuMDUgMS44MDcuMzM2IDIuMDQgMS4zMzMuNDEgMS43Ni0xLjYyIDMuMTE0LTUuOTA0IDQuMzEzbC0uMzI2LjA5LS4yNDUtLjk5OS42NC0uMThjMy41MTYtMS4wMiA1LjA4OC0yLjA4OSA0Ljg4LTIuOTc5LS4wOTQtLjQwNy0uMzgyLS41MzUtMS4zMDQtLjU1M2wtLjc4Ny0uMDAyYy0uNjItLjAwOC0uOTQzLS4wNTUtMS4zLS4yMDctLjY0OC0uMjc2LS45OTgtLjg1OS0uOTk4LTEuNzMgMC0yLjI4Ni0uNjk0LTMuMzE4LTEuODg0LTMuMzE4LS43MzEgMC0xLjY4LjU1LTIuODE1IDEuNjg1bC0uMjE1LjIyTDUgMi4yMDNDNi4zOTguNzQ4IDcuNjI2IDAgOC43MjEgMHpcXFwiPjwvcGF0aD48L2c+PC9zdmc+XCIiXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/select-tool/select-lasso.svg\n");

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/select-tool/select-line.svg":
/*!***************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/select-tool/select-line.svg ***!
  \***************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 16 16\\\"><g fill=\\\"#363636\\\" fill-rule=\\\"nonzero\\\"><path d=\\\"M.25 3l8.642 4.969-3.422.738 2.723 5.45-2.886 1.667-2.724-5.45-2.351 2.595L.25 3zm.996 1.726l-.01 5.644 1.527-1.684 2.909 5.771 1.155-.667-2.91-5.77 2.222-.48-4.893-2.814zM9.72 1.11l.588-.808 5.082 3.7-4.577 2.656L14.61 9.49l-.598.801L9 6.555l4.56-2.649z\\\"></path></g></svg>\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvYXNzZXRzL2ljb25zL3NlbGVjdC10b29sL3NlbGVjdC1saW5lLnN2Zy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4dGVuc2lvbnMvd2lkZ2V0cy9hcmNnaXMvYXJjZ2lzLW1hcC9zcmMvcnVudGltZS9hc3NldHMvaWNvbnMvc2VsZWN0LXRvb2wvc2VsZWN0LWxpbmUuc3ZnPzllNGQiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBcIjxzdmcgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIiB2aWV3Qm94PVxcXCIwIDAgMTYgMTZcXFwiPjxnIGZpbGw9XFxcIiMzNjM2MzZcXFwiIGZpbGwtcnVsZT1cXFwibm9uemVyb1xcXCI+PHBhdGggZD1cXFwiTS4yNSAzbDguNjQyIDQuOTY5LTMuNDIyLjczOCAyLjcyMyA1LjQ1LTIuODg2IDEuNjY3LTIuNzI0LTUuNDUtMi4zNTEgMi41OTVMLjI1IDN6bS45OTYgMS43MjZsLS4wMSA1LjY0NCAxLjUyNy0xLjY4NCAyLjkwOSA1Ljc3MSAxLjE1NS0uNjY3LTIuOTEtNS43NyAyLjIyMi0uNDgtNC44OTMtMi44MTR6TTkuNzIgMS4xMWwuNTg4LS44MDggNS4wODIgMy43LTQuNTc3IDIuNjU2TDE0LjYxIDkuNDlsLS41OTguODAxTDkgNi41NTVsNC41Ni0yLjY0OXpcXFwiPjwvcGF0aD48L2c+PC9zdmc+XCIiXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/select-tool/select-line.svg\n");

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/select-tool/select-point.svg":
/*!****************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/select-tool/select-point.svg ***!
  \****************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 16 16\\\"><path d=\\\"M.25 3l8.642 4.969-3.422.738 2.723 5.45-2.886 1.667-2.724-5.45-2.351 2.595L.25 3zm.996 1.726l-.01 5.644 1.527-1.684 2.909 5.771 1.155-.667-2.91-5.77 2.222-.48-4.893-2.814zM12 6a2 2 0 100-4 2 2 0 000 4z\\\" fill=\\\"#363636\\\" fill-rule=\\\"nonzero\\\"></path></svg>\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvYXNzZXRzL2ljb25zL3NlbGVjdC10b29sL3NlbGVjdC1wb2ludC5zdmcuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvYXNzZXRzL2ljb25zL3NlbGVjdC10b29sL3NlbGVjdC1wb2ludC5zdmc/MWZhZSJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIHZpZXdCb3g9XFxcIjAgMCAxNiAxNlxcXCI+PHBhdGggZD1cXFwiTS4yNSAzbDguNjQyIDQuOTY5LTMuNDIyLjczOCAyLjcyMyA1LjQ1LTIuODg2IDEuNjY3LTIuNzI0LTUuNDUtMi4zNTEgMi41OTVMLjI1IDN6bS45OTYgMS43MjZsLS4wMSA1LjY0NCAxLjUyNy0xLjY4NCAyLjkwOSA1Ljc3MSAxLjE1NS0uNjY3LTIuOTEtNS43NyAyLjIyMi0uNDgtNC44OTMtMi44MTR6TTEyIDZhMiAyIDAgMTAwLTQgMiAyIDAgMDAwIDR6XFxcIiBmaWxsPVxcXCIjMzYzNjM2XFxcIiBmaWxsLXJ1bGU9XFxcIm5vbnplcm9cXFwiPjwvcGF0aD48L3N2Zz5cIiJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/select-tool/select-point.svg\n");

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/select-tool/select-rectangle.svg":
/*!********************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/select-tool/select-rectangle.svg ***!
  \********************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 16 16\\\"><path d=\\\"M.25 3l8.642 4.969-3.422.738 2.723 5.45-2.886 1.667-2.724-5.45-2.351 2.595L.25 3zm.996 1.726l-.01 5.644 1.527-1.684 2.909 5.771 1.155-.667-2.91-5.77 2.222-.48-4.893-2.814zM16 0v11H8.5v-1H15V1H6v2.5H5V0h11z\\\" fill=\\\"#363636\\\" fill-rule=\\\"nonzero\\\"></path></svg>\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvYXNzZXRzL2ljb25zL3NlbGVjdC10b29sL3NlbGVjdC1yZWN0YW5nbGUuc3ZnLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vZXh0ZW5zaW9ucy93aWRnZXRzL2FyY2dpcy9hcmNnaXMtbWFwL3NyYy9ydW50aW1lL2Fzc2V0cy9pY29ucy9zZWxlY3QtdG9vbC9zZWxlY3QtcmVjdGFuZ2xlLnN2Zz9kYmY2Il0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgdmlld0JveD1cXFwiMCAwIDE2IDE2XFxcIj48cGF0aCBkPVxcXCJNLjI1IDNsOC42NDIgNC45NjktMy40MjIuNzM4IDIuNzIzIDUuNDUtMi44ODYgMS42NjctMi43MjQtNS40NS0yLjM1MSAyLjU5NUwuMjUgM3ptLjk5NiAxLjcyNmwtLjAxIDUuNjQ0IDEuNTI3LTEuNjg0IDIuOTA5IDUuNzcxIDEuMTU1LS42NjctMi45MS01Ljc3IDIuMjIyLS40OC00Ljg5My0yLjgxNHpNMTYgMHYxMUg4LjV2LTFIMTVWMUg2djIuNUg1VjBoMTF6XFxcIiBmaWxsPVxcXCIjMzYzNjM2XFxcIiBmaWxsLXJ1bGU9XFxcIm5vbnplcm9cXFwiPjwvcGF0aD48L3N2Zz5cIiJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/select-tool/select-rectangle.svg\n");

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/select-tool/select-zoomto.svg":
/*!*****************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/select-tool/select-zoomto.svg ***!
  \*****************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 16 16\\\"><path d=\\\"M7.682 6.318a4.5 4.5 0 01.335 5.99l2.847 2.849-.707.707-2.848-2.848a4.5 4.5 0 11.373-6.698zm-5.657.707a3.5 3.5 0 104.95 4.95 3.5 3.5 0 00-4.95-4.95zM16 0v11H9.5v-1h3.099L10 5.153V1H6v2.5H5V0h11zm-1 5.954L12.637 7.83 13.801 10H15V5.954zM15 1h-3.981v3.813l1.055 1.967L15 4.457V1z\\\" fill=\\\"#363636\\\" fill-rule=\\\"nonzero\\\"></path></svg>\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvYXNzZXRzL2ljb25zL3NlbGVjdC10b29sL3NlbGVjdC16b29tdG8uc3ZnLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vZXh0ZW5zaW9ucy93aWRnZXRzL2FyY2dpcy9hcmNnaXMtbWFwL3NyYy9ydW50aW1lL2Fzc2V0cy9pY29ucy9zZWxlY3QtdG9vbC9zZWxlY3Qtem9vbXRvLnN2Zz9jZGI2Il0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgdmlld0JveD1cXFwiMCAwIDE2IDE2XFxcIj48cGF0aCBkPVxcXCJNNy42ODIgNi4zMThhNC41IDQuNSAwIDAxLjMzNSA1Ljk5bDIuODQ3IDIuODQ5LS43MDcuNzA3LTIuODQ4LTIuODQ4YTQuNSA0LjUgMCAxMS4zNzMtNi42OTh6bS01LjY1Ny43MDdhMy41IDMuNSAwIDEwNC45NSA0Ljk1IDMuNSAzLjUgMCAwMC00Ljk1LTQuOTV6TTE2IDB2MTFIOS41di0xaDMuMDk5TDEwIDUuMTUzVjFINnYyLjVINVYwaDExem0tMSA1Ljk1NEwxMi42MzcgNy44MyAxMy44MDEgMTBIMTVWNS45NTR6TTE1IDFoLTMuOTgxdjMuODEzbDEuMDU1IDEuOTY3TDE1IDQuNDU3VjF6XFxcIiBmaWxsPVxcXCIjMzYzNjM2XFxcIiBmaWxsLXJ1bGU9XFxcIm5vbnplcm9cXFwiPjwvcGF0aD48L3N2Zz5cIiJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/select-tool/select-zoomto.svg\n");

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/components/map-thumb.tsx":
/*!***********************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/components/map-thumb.tsx ***!
  \***********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jimu_core__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ \"jimu-ui\");\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jimu_ui__WEBPACK_IMPORTED_MODULE_1__);\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\nvar MapThumb = /** @class */ (function (_super) {\n    __extends(MapThumb, _super);\n    function MapThumb(props) {\n        var _this = _super.call(this, props) || this;\n        _this.unmount = false;\n        _this.setMapThumbUrl = function (mapId) {\n            if (!mapId) {\n                _this.setState({ mapThumbUrl: null });\n            }\n            if (!_this.props.portUrl || _this.props.portUrl === Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"getAppStore\"])().getState().portalUrl) {\n                // if no portalUrl or same to config portalurl, use app config's portalUrl\n                var portalUrl_1 = Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"getAppStore\"])().getState().portalUrl;\n                jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"esri\"].restPortal.searchItems({\n                    q: \"id:\" + mapId,\n                    authentication: jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"SessionManager\"].getInstance().getMainSession(),\n                    portal: portalUrl_1 + '/sharing/rest'\n                }).then(function (items) {\n                    if (!_this.unmount) {\n                        if (items.results[0]) {\n                            var session = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"SessionManager\"].getInstance().getMainSession();\n                            var tempThumbUrl = null;\n                            if (session && session.token) {\n                                tempThumbUrl = portalUrl_1 + \"/sharing/rest/content/items/\" + items.results[0].id + \"/\"\n                                    + (\"info/\" + items.results[0].thumbnail + \"?token=\" + session.token);\n                            }\n                            else {\n                                tempThumbUrl = portalUrl_1 + \"/sharing/rest/content/items/\" + items.results[0].id + \"/\"\n                                    + (\"info/\" + items.results[0].thumbnail);\n                            }\n                            _this.setState({ mapThumbUrl: tempThumbUrl });\n                        }\n                        else {\n                            _this.setState({ mapThumbUrl: null });\n                        }\n                    }\n                });\n            }\n            else {\n                // use other portalUrl\n                jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"esri\"].restPortal.searchItems({\n                    q: \"id:\" + mapId,\n                    portal: _this.props.portUrl + '/sharing/rest'\n                }).then(function (items) {\n                    if (!_this.unmount) {\n                        if (items.results[0]) {\n                            var tempThumbUrl = _this.props.portUrl + \"/sharing/rest/content/items/\" + items.results[0].id + \"/\"\n                                + (\"info/\" + items.results[0].thumbnail);\n                            _this.setState({ mapThumbUrl: tempThumbUrl });\n                        }\n                        else {\n                            _this.setState({ mapThumbUrl: null });\n                        }\n                    }\n                });\n            }\n        };\n        _this.state = {\n            mapThumbUrl: null\n        };\n        return _this;\n    }\n    MapThumb.prototype.componentDidMount = function () {\n        this.unmount = false;\n        this.setMapThumbUrl(this.props.mapItemId);\n    };\n    MapThumb.prototype.componentDidUpdate = function (prevProps, prevState) {\n        if (prevProps.mapItemId !== this.props.mapItemId) {\n            this.setMapThumbUrl(this.props.mapItemId);\n        }\n    };\n    MapThumb.prototype.componentWillUnmount = function () {\n        this.unmount = true;\n    };\n    MapThumb.prototype.render = function () {\n        if (this.state.mapThumbUrl) {\n            return jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"ImageWithParam\"], { imageParam: { url: this.state.mapThumbUrl } });\n        }\n        else {\n            return jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"ImageWithParam\"], { imageParam: {} });\n        }\n    };\n    return MapThumb;\n}(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].PureComponent));\n/* harmony default export */ __webpack_exports__[\"default\"] = (MapThumb);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvY29tcG9uZW50cy9tYXAtdGh1bWIudHN4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vZXh0ZW5zaW9ucy93aWRnZXRzL2FyY2dpcy9hcmNnaXMtbWFwL3NyYy9ydW50aW1lL2NvbXBvbmVudHMvbWFwLXRodW1iLnRzeD80YTc1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7UmVhY3QsIFNlc3Npb25NYW5hZ2VyLCBlc3JpLCBnZXRBcHBTdG9yZX0gZnJvbSAnamltdS1jb3JlJztcbmltcG9ydCB7SW1hZ2VXaXRoUGFyYW19IGZyb20gJ2ppbXUtdWknO1xuXG5pbnRlcmZhY2UgUHJvcHN7XG4gIG1hcEl0ZW1JZDogc3RyaW5nO1xuICBwb3J0VXJsOiBzdHJpbmc7XG59XG5cbmludGVyZmFjZSBTdGF0ZXN7XG4gIG1hcFRodW1iVXJsOiBzdHJpbmdcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWFwVGh1bWIgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50PFByb3BzLCBTdGF0ZXM+e1xuICB1bm1vdW50ID0gZmFsc2U7XG5cbiAgY29uc3RydWN0b3IocHJvcHMpe1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBtYXBUaHVtYlVybDogbnVsbFxuICAgIH07XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpe1xuICAgIHRoaXMudW5tb3VudCA9IGZhbHNlO1xuICAgIHRoaXMuc2V0TWFwVGh1bWJVcmwodGhpcy5wcm9wcy5tYXBJdGVtSWQpO1xuICB9XG5cbiAgY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wczogUHJvcHMsIHByZXZTdGF0ZSkge1xuICAgIGlmIChwcmV2UHJvcHMubWFwSXRlbUlkICE9PSB0aGlzLnByb3BzLm1hcEl0ZW1JZCkge1xuICAgICAgdGhpcy5zZXRNYXBUaHVtYlVybCh0aGlzLnByb3BzLm1hcEl0ZW1JZCk7XG4gICAgfVxuICB9XG5cbiAgc2V0TWFwVGh1bWJVcmwgPSAobWFwSWQ6IHN0cmluZyk6IHZvaWQgPT4ge1xuICAgIGlmKCFtYXBJZCl7XG4gICAgICB0aGlzLnNldFN0YXRlKHttYXBUaHVtYlVybDogbnVsbH0pO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5wcm9wcy5wb3J0VXJsIHx8IHRoaXMucHJvcHMucG9ydFVybCA9PT0gZ2V0QXBwU3RvcmUoKS5nZXRTdGF0ZSgpLnBvcnRhbFVybCkge1xuICAgICAgLy8gaWYgbm8gcG9ydGFsVXJsIG9yIHNhbWUgdG8gY29uZmlnIHBvcnRhbHVybCwgdXNlIGFwcCBjb25maWcncyBwb3J0YWxVcmxcbiAgICAgIGNvbnN0IHBvcnRhbFVybCA9IGdldEFwcFN0b3JlKCkuZ2V0U3RhdGUoKS5wb3J0YWxVcmw7XG4gICAgICBlc3JpLnJlc3RQb3J0YWwuc2VhcmNoSXRlbXMoe1xuICAgICAgICBxOiBgaWQ6JHttYXBJZH1gLFxuICAgICAgICBhdXRoZW50aWNhdGlvbjogU2Vzc2lvbk1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRNYWluU2Vzc2lvbigpLFxuICAgICAgICBwb3J0YWw6IHBvcnRhbFVybCArICcvc2hhcmluZy9yZXN0J1xuICAgICAgfSkudGhlbihpdGVtcyA9PiB7XG4gICAgICAgIGlmKCF0aGlzLnVubW91bnQpe1xuICAgICAgICAgIGlmIChpdGVtcy5yZXN1bHRzWzBdKSB7XG4gICAgICAgICAgICBjb25zdCBzZXNzaW9uID0gU2Vzc2lvbk1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRNYWluU2Vzc2lvbigpO1xuICAgICAgICAgICAgbGV0IHRlbXBUaHVtYlVybCA9IG51bGw7XG4gICAgICAgICAgICBpZiAoc2Vzc2lvbiAmJiBzZXNzaW9uLnRva2VuKSB7XG4gICAgICAgICAgICAgIHRlbXBUaHVtYlVybCA9IGAke3BvcnRhbFVybH0vc2hhcmluZy9yZXN0L2NvbnRlbnQvaXRlbXMvJHtpdGVtcy5yZXN1bHRzWzBdLmlkfS9gXG4gICAgICAgICAgICAgICsgYGluZm8vJHtpdGVtcy5yZXN1bHRzWzBdLnRodW1ibmFpbH0/dG9rZW49JHtzZXNzaW9uLnRva2VufWA7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB0ZW1wVGh1bWJVcmwgPSBgJHtwb3J0YWxVcmx9L3NoYXJpbmcvcmVzdC9jb250ZW50L2l0ZW1zLyR7aXRlbXMucmVzdWx0c1swXS5pZH0vYFxuICAgICAgICAgICAgICArIGBpbmZvLyR7aXRlbXMucmVzdWx0c1swXS50aHVtYm5haWx9YDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7bWFwVGh1bWJVcmw6IHRlbXBUaHVtYlVybH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHttYXBUaHVtYlVybDogbnVsbH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIHVzZSBvdGhlciBwb3J0YWxVcmxcbiAgICAgIGVzcmkucmVzdFBvcnRhbC5zZWFyY2hJdGVtcyh7XG4gICAgICAgIHE6IGBpZDoke21hcElkfWAsXG4gICAgICAgIHBvcnRhbDogdGhpcy5wcm9wcy5wb3J0VXJsICsgJy9zaGFyaW5nL3Jlc3QnXG4gICAgICB9KS50aGVuKGl0ZW1zID0+IHtcbiAgICAgICAgaWYoIXRoaXMudW5tb3VudCl7XG4gICAgICAgICAgaWYgKGl0ZW1zLnJlc3VsdHNbMF0pIHtcbiAgICAgICAgICAgIGNvbnN0IHRlbXBUaHVtYlVybCA9IGAke3RoaXMucHJvcHMucG9ydFVybH0vc2hhcmluZy9yZXN0L2NvbnRlbnQvaXRlbXMvJHtpdGVtcy5yZXN1bHRzWzBdLmlkfS9gXG4gICAgICAgICAgICArIGBpbmZvLyR7aXRlbXMucmVzdWx0c1swXS50aHVtYm5haWx9YDtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe21hcFRodW1iVXJsOiB0ZW1wVGh1bWJVcmx9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7bWFwVGh1bWJVcmw6IG51bGx9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIHRoaXMudW5tb3VudCA9IHRydWU7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUubWFwVGh1bWJVcmwpIHtcbiAgICAgIHJldHVybiA8SW1hZ2VXaXRoUGFyYW0gaW1hZ2VQYXJhbT17e3VybDogdGhpcy5zdGF0ZS5tYXBUaHVtYlVybH19Lz47XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiA8SW1hZ2VXaXRoUGFyYW0gaW1hZ2VQYXJhbT17e319Lz47XG4gICAgfVxuICB9XG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBV0E7QUFBQTtBQUdBO0FBQUE7QUFGQTtBQXFCQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFoRUE7QUFDQTtBQUNBOztBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBb0RBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBOzsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./extensions/widgets/arcgis/arcgis-map/src/runtime/components/map-thumb.tsx\n");

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/components/mapbase.tsx":
/*!*********************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/components/mapbase.tsx ***!
  \*********************************************************************************/
/*! exports provided: MapLoadStatus, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MapLoadStatus\", function() { return MapLoadStatus; });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jimu_core__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-arcgis */ \"jimu-arcgis\");\n/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-ui */ \"jimu-ui\");\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jimu_ui__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/utils.ts\");\n/* harmony import */ var _multisourcemap_context__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./multisourcemap-context */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/components/multisourcemap-context.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\n\nvar Exchange = __webpack_require__(/*! ../assets/icons/exchange.svg */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/exchange.svg\");\nvar MapLoadStatus;\n(function (MapLoadStatus) {\n    MapLoadStatus[\"Loading\"] = \"LOADING\";\n    MapLoadStatus[\"Loadok\"] = \"LOADOK\";\n    MapLoadStatus[\"LoadError\"] = \"LOADERROR\";\n})(MapLoadStatus || (MapLoadStatus = {}));\nvar MapBase = /** @class */ (function (_super) {\n    __extends(MapBase, _super);\n    function MapBase(props) {\n        var _this = _super.call(this, props) || this;\n        _this.highLightHandles = {};\n        _this.mapBaseViewEventHandles = {};\n        _this.dsManager = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"DataSourceManager\"].getInstance();\n        _this.onExtented = null;\n        _this.isReceiveExtentChange = false;\n        _this.isFirstReceiveMessage = true;\n        _this.startRenderMap = function () {\n            Object(jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__[\"loadArcGISJSAPIModules\"])([\n                'esri/geometry/Extent',\n                'esri/Viewpoint'\n            ]).then(function (modules) {\n                _this.Extent = modules[0], _this.Viewpoint = modules[1];\n                _this.setState({\n                    isModulesLoaded: true\n                });\n            });\n        };\n        _this.analysisMapView = function () {\n            if (!_this.mapView) {\n                if (_this.MapView) {\n                    _this.initMapView();\n                    return Promise.resolve();\n                }\n                else {\n                    return Object(jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__[\"loadArcGISJSAPIModules\"])([\n                        'esri/geometry/Geometry',\n                        'esri/webmap/InitialViewProperties',\n                        'esri/Basemap',\n                        'esri/layers/TileLayer',\n                        'esri/views/MapView',\n                        'esri/WebMap',\n                        'esri/portal/Portal',\n                        'esri/portal/PortalItem',\n                        'esri/Color'\n                    ]).then(function (modules) {\n                        _this.Geometry = modules[0], _this.InitialViewProperties = modules[1], _this.Basemap = modules[2], _this.TileLayer = modules[3], _this.MapView = modules[4], _this.WebMap = modules[5], _this.Portal = modules[6], _this.PortalItem = modules[7], _this.Color = modules[8];\n                        _this.initMapView();\n                        return Promise.resolve();\n                    });\n                }\n            }\n            else {\n                return Promise.resolve();\n            }\n        };\n        _this.analysisSceneView = function () {\n            if (!_this.sceneView) {\n                if (_this.SceneView) {\n                    _this.initSceneView();\n                    return Promise.resolve();\n                }\n                else {\n                    return Object(jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__[\"loadArcGISJSAPIModules\"])([\n                        'esri/views/SceneView',\n                        'esri/WebScene',\n                        'esri/portal/Portal',\n                        'esri/portal/PortalItem',\n                        'esri/Color'\n                    ]).then(function (modules) {\n                        _this.SceneView = modules[0], _this.WebScene = modules[1], _this.Portal = modules[2], _this.PortalItem = modules[3], _this.Color = modules[4];\n                        _this.initSceneView();\n                        return Promise.resolve();\n                    });\n                }\n            }\n            else {\n                return Promise.resolve();\n            }\n        };\n        _this.generateViewPointFromInitialMapState = function (initialMapState) {\n            if (initialMapState.viewType === '2d') {\n                return new _this.Viewpoint({\n                    targetGeometry: _this.Extent.fromJSON(initialMapState.extent),\n                    rotation: initialMapState.rotation\n                });\n            }\n            else {\n                return _this.Viewpoint.fromJSON(initialMapState.viewPoint);\n            }\n        };\n        _this.cloneMap = function () {\n            var map = null;\n            var dataSourceJson = _this.getDsJsonFromDsId(_this.props.dataSourceId);\n            var MapClass = null;\n            if (dataSourceJson.type === jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__[\"DataSourceTypes\"].WebMap) {\n                MapClass = _this.WebMap;\n            }\n            if (dataSourceJson.type === jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__[\"DataSourceTypes\"].WebScene) {\n                MapClass = _this.WebScene;\n            }\n            if (dataSourceJson.portalUrl) {\n                var portal = new _this.Portal({\n                    url: jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"portalUrlUtils\"].getHostUrlByOrgUrl(dataSourceJson.portalUrl)\n                });\n                map = new MapClass({\n                    portalItem: new _this.PortalItem({\n                        id: dataSourceJson.itemId,\n                        portal: portal\n                    })\n                });\n            }\n            else {\n                map = new MapClass({\n                    portalItem: new _this.PortalItem({\n                        id: dataSourceJson.itemId\n                    })\n                });\n            }\n            return map;\n        };\n        _this.getInitViewPointForDefaultWebMap = function () {\n            var portalSelf = Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"getAppStore\"])().getState().portalSelf;\n            var defaultExtent = portalSelf && portalSelf.defaultExtent;\n            var tempViewPoint = null;\n            if (_this.props.baseWidgetProps.config.initialMapState && _this.props.baseWidgetProps.config.initialMapState.viewPoint) {\n                tempViewPoint = _this.generateViewPointFromInitialMapState(_this.props.baseWidgetProps.config.initialMapState);\n            }\n            else {\n                tempViewPoint = new _this.Viewpoint({\n                    targetGeometry: new _this.Extent({\n                        xmin: defaultExtent && defaultExtent.xmin,\n                        ymin: defaultExtent && defaultExtent.ymin,\n                        xmax: defaultExtent && defaultExtent.xmax,\n                        ymax: defaultExtent && defaultExtent.ymax,\n                        spatialReference: { wkid: defaultExtent.spatialReference.wkid }\n                    })\n                });\n            }\n            return tempViewPoint;\n        };\n        _this.getDefaultWebMap = function () {\n            var portalSelf = Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"getAppStore\"])().getState().portalSelf;\n            var baseMapObj = portalSelf && portalSelf.defaultBasemap && portalSelf.defaultBasemap.baseMapLayers && portalSelf.defaultBasemap.baseMapLayers[0];\n            var defaultExtent = portalSelf && portalSelf.defaultExtent;\n            var tempViewPoint = null;\n            tempViewPoint = new _this.Viewpoint({\n                targetGeometry: new _this.Extent({\n                    xmin: defaultExtent && defaultExtent.xmin,\n                    ymin: defaultExtent && defaultExtent.ymin,\n                    xmax: defaultExtent && defaultExtent.xmax,\n                    ymax: defaultExtent && defaultExtent.ymax,\n                    spatialReference: { wkid: defaultExtent.spatialReference.wkid }\n                })\n            });\n            var defaultWebmap = new _this.WebMap({\n                basemap: new _this.Basemap({\n                    baseLayers: [\n                        new _this.TileLayer({\n                            url: baseMapObj && baseMapObj.url\n                        })\n                    ],\n                    title: 'basemap',\n                    id: 'basemap'\n                }),\n                initialViewProperties: new _this.InitialViewProperties({\n                    spatialReference: defaultExtent && defaultExtent.spatialReference,\n                    viewpoint: tempViewPoint,\n                })\n            });\n            return defaultWebmap;\n        };\n        _this.initMapView = function () {\n            _this.extentWatch = null;\n            _this.fatalErrorWatch = null;\n            if (_this.mapView) {\n                return;\n            }\n            var mapViewOption;\n            if (_this.props.isDefaultMap) {\n                var defaultMap = _this.getDefaultWebMap();\n                mapViewOption = {\n                    map: defaultMap,\n                    container: _this.mapContainer,\n                    viewpoint: _this.getInitViewPointForDefaultWebMap(),\n                    rotation: _this.props.baseWidgetProps.config.initialMapState && _this.props.baseWidgetProps.config.initialMapState.rotation\n                };\n            }\n            else {\n                var tempWebmap = _this.cloneMap();\n                if (_this.props.baseWidgetProps.config.initialMapState) {\n                    mapViewOption = {\n                        map: tempWebmap,\n                        container: _this.mapContainer,\n                        viewpoint: _this.props.baseWidgetProps.config.initialMapState\n                            && _this.generateViewPointFromInitialMapState(_this.props.baseWidgetProps.config.initialMapState)\n                    };\n                }\n                else {\n                    mapViewOption = {\n                        map: tempWebmap,\n                        container: _this.mapContainer\n                    };\n                }\n            }\n            if (!window.jimuConfig.isInBuilder) {\n                if (_this.props.baseWidgetProps.queryObject[_this.props.baseWidgetProps.id]) {\n                    var extentStr = _this.props.baseWidgetProps.queryObject[_this.props.baseWidgetProps.id].substr('extent='.length);\n                    var extent = void 0;\n                    try {\n                        extent = new _this.Extent(JSON.parse(extentStr));\n                    }\n                    catch (err) {\n                        console.error('Bad extent URL parameter.');\n                    }\n                    if (extent) {\n                        mapViewOption.extent = extent;\n                    }\n                }\n            }\n            _this.mapView = new _this.MapView(mapViewOption);\n            _this.mapView.popup.spinnerEnabled = false;\n            var ui = _this.mapView.ui;\n            ui.exbMapTools = {};\n            if (_this.props.isDefaultMap || (_this.mapDs && _this.mapDs.id === _this.props.dataSourceId)) {\n                _this.createJimuMapView();\n            }\n            _this.mapView.when(function () {\n                // after view is loaded, send extent change message\n                _this.setState({ mapLoadStatus: MapLoadStatus.Loadok }, function () {\n                    _this.props.onMapLoaded(_this.props.dataSourceId, MapLoadStatus.Loadok);\n                });\n                if (!_this.extentWatch) {\n                    _this.extentWatch = _this.mapView.watch('extent', function (extent) {\n                        if (!extent) {\n                            return;\n                        }\n                        clearTimeout(_this.onExtented);\n                        _this.onExtented = setTimeout(function () {\n                            if (!extent) {\n                                return;\n                            }\n                            if (_this.isReceiveExtentChange) {\n                                _this.isReceiveExtentChange = false;\n                            }\n                            else {\n                                var extentMessage = new jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"ExtentChangeMessage\"](_this.props.baseWidgetProps.id, extent);\n                                extentMessage.addRelatedWidgetId(_this.props.baseWidgetProps.id);\n                                _this.props.onExtentChanged(_this.props.dataSourceId, extentMessage);\n                            }\n                        }, 200);\n                    });\n                }\n                if (!_this.fatalErrorWatch) {\n                    _this.fatalErrorWatch = _this.mapView.watch('fatalError', function (error) {\n                        if (error) {\n                            console.error('Fatal Error! View has lost its WebGL context. Attempting to recover...');\n                            _this.setState({\n                                isMapCrashed: true\n                            });\n                            // this.mapView.tryFatalErrorRecovery();\n                        }\n                    });\n                }\n                setTimeout(function () {\n                    _this.goHome(false).then(function () {\n                        var extentMessage = new jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"ExtentChangeMessage\"](_this.props.baseWidgetProps.id, _this.mapView.extent);\n                        extentMessage.addRelatedWidgetId(_this.props.baseWidgetProps.id);\n                        _this.props.onExtentChanged(_this.props.dataSourceId, extentMessage);\n                        _this.props.onViewChanged && _this.props.onViewChanged({ dataSourceId: _this.props.dataSourceId, viewpoint: _this.mapView.viewpoint.clone() });\n                    });\n                }, 500);\n            });\n            _this.bindMapBaseViewEvent(_this.mapView);\n        };\n        _this.initSceneView = function () {\n            _this.extentWatch = null;\n            _this.fatalErrorWatch = null;\n            if (_this.sceneView) {\n                return;\n            }\n            var tempWebScene = _this.cloneMap();\n            var mapViewOption;\n            if (_this.props.baseWidgetProps.config.initialMapState) {\n                mapViewOption = {\n                    map: tempWebScene,\n                    container: _this.mapContainer,\n                    qualityProfile: 'low',\n                    viewpoint: _this.props.baseWidgetProps.config.initialMapState\n                        && _this.generateViewPointFromInitialMapState(_this.props.baseWidgetProps.config.initialMapState)\n                };\n            }\n            else {\n                mapViewOption = {\n                    map: tempWebScene,\n                    container: _this.mapContainer,\n                    qualityProfile: 'low'\n                };\n            }\n            _this.sceneView = new _this.SceneView(mapViewOption);\n            _this.sceneView.popup.spinnerEnabled = false;\n            var ui = _this.sceneView.ui;\n            ui.exbMapTools = {};\n            if (_this.mapDs && _this.mapDs.id === _this.props.dataSourceId) {\n                _this.createJimuMapView();\n            }\n            _this.sceneView.when(function () {\n                // after view is loaded, send extent change message\n                _this.setState({ mapLoadStatus: MapLoadStatus.Loadok }, function () {\n                    _this.props.onMapLoaded(_this.props.dataSourceId, MapLoadStatus.Loadok);\n                });\n                if (!_this.extentWatch) {\n                    _this.extentWatch = _this.sceneView.watch('extent', function (extent) {\n                        if (!extent) {\n                            return;\n                        }\n                        clearTimeout(_this.onExtented);\n                        _this.onExtented = setTimeout(function () {\n                            if (!extent) {\n                                return;\n                            }\n                            if (_this.isReceiveExtentChange) {\n                                _this.isReceiveExtentChange = false;\n                            }\n                            else {\n                                var extentMessage = new jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"ExtentChangeMessage\"](_this.props.baseWidgetProps.id, extent);\n                                extentMessage.addRelatedWidgetId(_this.props.baseWidgetProps.id);\n                                _this.props.onExtentChanged(_this.props.dataSourceId, extentMessage);\n                            }\n                        }, 200);\n                    });\n                }\n                if (!_this.fatalErrorWatch) {\n                    _this.fatalErrorWatch = _this.sceneView.watch('fatalError', function (error) {\n                        if (error) {\n                            console.error('Fatal Error! View has lost its WebGL context. Attempting to recover...');\n                            _this.setState({\n                                isMapCrashed: true\n                            });\n                            //this.sceneView.tryFatalErrorRecovery();\n                        }\n                    });\n                }\n                setTimeout(function () {\n                    _this.goHome(false).then(function () {\n                        var extentMessage = new jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"ExtentChangeMessage\"](_this.props.baseWidgetProps.id, _this.sceneView.extent);\n                        extentMessage.addRelatedWidgetId(_this.props.baseWidgetProps.id);\n                        _this.props.onExtentChanged(_this.props.dataSourceId, extentMessage);\n                        _this.props.onViewChanged && _this.props.onViewChanged({ dataSourceId: _this.props.dataSourceId, viewpoint: _this.sceneView.viewpoint.clone() });\n                    });\n                }, 500);\n            });\n            _this.bindMapBaseViewEvent(_this.sceneView);\n        };\n        _this.updateMapView = function (config) {\n            var jimuMapViewId = _this.props.baseWidgetProps.id + \"-\" + _this.props.dataSourceId;\n            var jimuMapView = null;\n            if (jimuMapViewId) {\n                jimuMapView = jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__[\"MapViewManager\"].getInstance().getJimuMapViewById(jimuMapViewId);\n            }\n            if (!(jimuMapView && jimuMapView.getIsEditing())) {\n                if (config.disablePopUp) {\n                    _this.mapView.popup.close();\n                    _this.mapView.popup.autoOpenEnabled = false;\n                }\n                else {\n                    _this.mapView.popup.autoOpenEnabled = true;\n                }\n                if (jimuMapView) {\n                    jimuMapView.isEnablePopup = !config.disablePopUp;\n                }\n            }\n            if (config.selectionHighlightColor) {\n                _this.mapView.highlightOptions.color = new _this.Color(config.selectionHighlightColor);\n            }\n            if (!_this.mapView.ui) {\n                return;\n            }\n            _this.mapView.ui.components = [];\n        };\n        _this.updateSceneView = function (config) {\n            var jimuMapViewId = _this.props.baseWidgetProps.id + \"-\" + _this.props.dataSourceId;\n            var jimuMapView = null;\n            if (jimuMapViewId) {\n                jimuMapView = jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__[\"MapViewManager\"].getInstance().getJimuMapViewById(jimuMapViewId);\n            }\n            if (!(jimuMapView && jimuMapView.getIsEditing())) {\n                if (config.disablePopUp) {\n                    _this.sceneView.popup.close();\n                    _this.sceneView.popup.autoOpenEnabled = false;\n                }\n                else {\n                    _this.sceneView.popup.autoOpenEnabled = true;\n                }\n                if (jimuMapView) {\n                    jimuMapView.isEnablePopup = !config.disablePopUp;\n                }\n            }\n            if (config.selectionHighlightColor) {\n                _this.sceneView.highlightOptions.color = new _this.Color(config.selectionHighlightColor);\n            }\n            if (!_this.sceneView.ui) {\n                return;\n            }\n            _this.sceneView.ui.components = [];\n        };\n        _this.bindMapBaseViewEvent = function (mapBaseView) {\n            if (mapBaseView) {\n                if (_this.mapBaseViewEventHandles['mouse-wheel']) {\n                    _this.mapBaseViewEventHandles['mouse-wheel'].remove();\n                    _this.mapBaseViewEventHandles['mouse-wheel'] = null;\n                }\n                _this.mapBaseViewEventHandles['mouse-wheel'] = mapBaseView.on('mouse-wheel', function (e) {\n                    if (_this.props.baseWidgetProps.config.disableScroll) {\n                        e.stopPropagation();\n                        _this.handleDisableWheel();\n                        return;\n                    }\n                    _this.props.onViewChanged && _this.props.onViewChanged({ dataSourceId: _this.props.dataSourceId, viewpoint: mapBaseView.viewpoint.clone() });\n                });\n                if (_this.mapBaseViewEventHandles['drag']) {\n                    _this.mapBaseViewEventHandles['drag'].remove();\n                    _this.mapBaseViewEventHandles['drag'] = null;\n                }\n                _this.mapBaseViewEventHandles['drag'] = mapBaseView.on('drag', function () {\n                    _this.props.onViewChanged && _this.props.onViewChanged({ dataSourceId: _this.props.dataSourceId, viewpoint: mapBaseView.viewpoint.clone() });\n                });\n                if (_this.mapBaseViewEventHandles['click']) {\n                    _this.mapBaseViewEventHandles['click'].remove();\n                    _this.mapBaseViewEventHandles['click'] = null;\n                }\n                _this.mapBaseViewEventHandles['click'] = mapBaseView.on('click', function () {\n                    for (var key in _this.highLightHandles) {\n                        _this.highLightHandles[key].remove();\n                    }\n                });\n            }\n        };\n        _this.createJimuMapView = function () {\n            jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__[\"MapViewManager\"].getInstance().createJimuMapView({\n                mapWidgetId: _this.props.baseWidgetProps.id,\n                datasourceId: _this.props.dataSourceId,\n                view: _this.mapView || _this.sceneView,\n                isEnablePopup: _this.props.baseWidgetProps.config && !_this.props.baseWidgetProps.config.disablePopUp\n            });\n            var mapBaseView = _this.mapView || _this.sceneView;\n            mapBaseView.when(function () {\n                var tempJimuMapViewId = _this.props.baseWidgetProps.id + \"-\" + _this.props.dataSourceId;\n                var tempJimuMapView = jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__[\"MapViewManager\"].getInstance().getJimuMapViewById(tempJimuMapViewId);\n                if (tempJimuMapView) {\n                    _this.props.onJimuMapViewCreated();\n                    _this.setState({\n                        mapBaseJimuMapView: tempJimuMapView\n                    });\n                }\n            });\n        };\n        _this.onDataSourceCreated = function (dataSource) {\n            _this.mapDs = dataSource;\n            if (_this.mapDs.id === _this.props.dataSourceId && (_this.mapView || _this.sceneView)) {\n                _this.createJimuMapView();\n            }\n            _this.setState({\n                isMapCrashed: false\n            });\n        };\n        _this.onCreateDataSourceFailed = function (err) {\n            console.warn(err);\n            _this.mapDs = null;\n            _this.setState({\n                mapLoadStatus: MapLoadStatus.LoadError,\n                isMapCrashed: false\n            }, function () {\n                _this.props.onMapLoaded(_this.props.dataSourceId, MapLoadStatus.LoadError);\n                _this.createJimuMapView();\n            });\n        };\n        _this.setViewPoint = function (viewPoint) {\n            if (!viewPoint || !_this.getDsJsonFromDsId(_this.props.dataSourceId)) {\n                return;\n            }\n            if (_this.getDsJsonFromDsId(_this.props.dataSourceId).type === jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__[\"DataSourceTypes\"].WebMap) {\n                if (_this.mapView) {\n                    _this.mapView.viewpoint = viewPoint;\n                }\n            }\n            if (_this.getDsJsonFromDsId(_this.props.dataSourceId).type === jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__[\"DataSourceTypes\"].WebScene) {\n                if (_this.sceneView) {\n                    _this.sceneView.viewpoint = viewPoint;\n                }\n            }\n        };\n        _this.getMapLoadStatus = function () {\n            return _this.state.mapLoadStatus;\n        };\n        _this.getViewPoint = function () {\n            if (!_this.getDsJsonFromDsId(_this.props.dataSourceId)) {\n                return null;\n            }\n            if (_this.getDsJsonFromDsId(_this.props.dataSourceId).type === jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__[\"DataSourceTypes\"].WebMap) {\n                return _this.mapView && _this.mapView.viewpoint ? _this.mapView.viewpoint.clone() : null;\n            }\n            if (_this.getDsJsonFromDsId(_this.props.dataSourceId).type === jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__[\"DataSourceTypes\"].WebScene) {\n                if (_this.sceneView && _this.sceneView.viewpoint) {\n                    // For scene, the first extent (after scene loaded) is not correct. So we use go to camera to get correct extent\n                    _this.sceneView.goTo(_this.sceneView.viewpoint.camera, {\n                        animate: false\n                    });\n                    return _this.sceneView.viewpoint.clone();\n                }\n                else {\n                    return null;\n                }\n            }\n        };\n        _this.getViewType = function () {\n            return _this.getDsJsonFromDsId(_this.props.dataSourceId).type;\n        };\n        _this.goToTilt = function (tilt) {\n            _this.sceneView && _this.sceneView.goTo({\n                tilt: tilt\n            });\n        };\n        _this.goHome = function (useAmination) {\n            if (!_this.getDsJsonFromDsId(_this.props.dataSourceId)) {\n                return Promise.resolve();\n            }\n            var initViewPoint = _this.getMapBaseInitViewPoint();\n            if (_this.getDsJsonFromDsId(_this.props.dataSourceId).type === jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__[\"DataSourceTypes\"].WebMap) {\n                if (_this.mapView) {\n                    return _this.mapView.goTo(initViewPoint, {\n                        animate: useAmination\n                    });\n                }\n            }\n            if (_this.getDsJsonFromDsId(_this.props.dataSourceId).type === jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__[\"DataSourceTypes\"].WebScene) {\n                if (_this.sceneView) {\n                    return _this.sceneView.goTo(initViewPoint, {\n                        animate: useAmination\n                    });\n                }\n            }\n            return Promise.resolve();\n        };\n        _this.getMapBaseInitViewPoint = function () {\n            var _a, _b, _c, _d, _e, _f;\n            if (_this.props.isDefaultMap) {\n                return _this.getInitViewPointForDefaultWebMap();\n            }\n            else {\n                if (_this.props.baseWidgetProps.config.initialMapState) {\n                    return _this.generateViewPointFromInitialMapState(_this.props.baseWidgetProps.config.initialMapState);\n                }\n                else {\n                    if (_this.mapView) {\n                        return (_c = (_b = (_a = _this.mapView.map) === null || _a === void 0 ? void 0 : _a.initialViewProperties) === null || _b === void 0 ? void 0 : _b.viewpoint) === null || _c === void 0 ? void 0 : _c.clone();\n                    }\n                    if (_this.sceneView) {\n                        return (_f = (_e = (_d = _this.sceneView.map) === null || _d === void 0 ? void 0 : _d.initialViewProperties) === null || _e === void 0 ? void 0 : _e.viewpoint) === null || _f === void 0 ? void 0 : _f.clone();\n                    }\n                }\n            }\n        };\n        _this.getDsJsonFromDsId = function (dataSourceId) {\n            var dsJson = Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"getAppStore\"])().getState().appConfig.dataSources[dataSourceId];\n            return dsJson ? dsJson : {};\n        };\n        _this.handleAction = function (mutableStateProps, mapBaseView) {\n            if (mutableStateProps.zoomToFeatureActionValue) {\n                if (mutableStateProps.zoomToFeatureActionValue.relatedWidgets\n                    && mutableStateProps.zoomToFeatureActionValue.relatedWidgets.indexOf(_this.props.baseWidgetProps.id) > -1) {\n                    _this.props.onMutableStatePropsChanged(_this.props.dataSourceId, 'zoomToFeatureActionValue', null);\n                }\n                else {\n                    var tempMapBaseView_1 = mapBaseView;\n                    var relatedWidgets_1 = mutableStateProps.zoomToFeatureActionValue.relatedWidgets ?\n                        mutableStateProps.zoomToFeatureActionValue.relatedWidgets : [];\n                    var zoomToFeatureValue_1 = mutableStateProps.zoomToFeatureActionValue.value;\n                    var layer_1 = null;\n                    if (zoomToFeatureValue_1.layerId) {\n                        layer_1 = tempMapBaseView_1.map.layers.find(function (layer) { return layer.id === zoomToFeatureValue_1.layerId; });\n                    }\n                    if (zoomToFeatureValue_1.type === 'zoom-to-extent') {\n                        jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__[\"zoomToUtils\"].zoomTo(tempMapBaseView_1, zoomToFeatureValue_1.features[0], zoomToFeatureValue_1.zoomToOption).then(function () {\n                            _this.isReceiveExtentChange = true;\n                            relatedWidgets_1.push(_this.props.baseWidgetProps.id);\n                            var extentMessage = new jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"ExtentChangeMessage\"](_this.props.baseWidgetProps.id, tempMapBaseView_1.extent);\n                            extentMessage.setRelatedWidgetIds(relatedWidgets_1);\n                            _this.props.onExtentChanged(_this.props.dataSourceId, extentMessage);\n                        }, function () {\n                            _this.isReceiveExtentChange = true;\n                        });\n                    }\n                    else {\n                        var target_1 = null;\n                        if (layer_1) {\n                            target_1 = {\n                                layer: layer_1,\n                                graphics: zoomToFeatureValue_1.features\n                            };\n                        }\n                        else {\n                            target_1 = zoomToFeatureValue_1.features;\n                        }\n                        Object(_utils__WEBPACK_IMPORTED_MODULE_3__[\"processZoomToFeatures\"])(tempMapBaseView_1, target_1.layer, (target_1 && target_1.graphics) ? target_1.graphics : target_1).then(function (graphics) {\n                            if (layer_1) {\n                                target_1.graphics = graphics;\n                            }\n                            else {\n                                target_1 = graphics;\n                            }\n                            jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__[\"zoomToUtils\"].zoomTo(tempMapBaseView_1, target_1, zoomToFeatureValue_1.zoomToOption).then(function () {\n                                _this.isReceiveExtentChange = true;\n                                relatedWidgets_1.push(_this.props.baseWidgetProps.id);\n                                var extentMessage = new jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"ExtentChangeMessage\"](_this.props.baseWidgetProps.id, tempMapBaseView_1.extent);\n                                extentMessage.setRelatedWidgetIds(relatedWidgets_1);\n                                _this.props.onExtentChanged(_this.props.dataSourceId, extentMessage);\n                            }, function () {\n                                _this.isReceiveExtentChange = true;\n                            });\n                        });\n                    }\n                    _this.props.onMutableStatePropsChanged(_this.props.dataSourceId, 'zoomToFeatureActionValue', null);\n                }\n            }\n            if (mutableStateProps.panToActionValue) {\n                if (mutableStateProps.panToActionValue.relatedWidgets\n                    && mutableStateProps.panToActionValue.relatedWidgets.indexOf(_this.props.baseWidgetProps.id) > -1) {\n                    _this.props.onMutableStatePropsChanged(_this.props.dataSourceId, 'panToActionValue', null);\n                }\n                else {\n                    var tempMapBaseView_2 = mapBaseView;\n                    var relatedWidgets_2 = mutableStateProps.panToActionValue.relatedWidgets ?\n                        mutableStateProps.panToActionValue.relatedWidgets : [];\n                    var panToValue = mutableStateProps.panToActionValue.value;\n                    Object(_utils__WEBPACK_IMPORTED_MODULE_3__[\"projectGeometries\"])(panToValue.features, tempMapBaseView_2.spatialReference).then(function (geometries) {\n                        Object(_utils__WEBPACK_IMPORTED_MODULE_3__[\"mapPanto\"])(mapBaseView, geometries).then(function () {\n                            _this.isReceiveExtentChange = true;\n                            relatedWidgets_2.push(_this.props.baseWidgetProps.id);\n                            var extentMessage = new jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"ExtentChangeMessage\"](_this.props.baseWidgetProps.id, tempMapBaseView_2.extent);\n                            extentMessage.setRelatedWidgetIds(relatedWidgets_2);\n                            _this.props.onExtentChanged(_this.props.dataSourceId, extentMessage);\n                        }, function () {\n                            _this.isReceiveExtentChange = true;\n                        });\n                    });\n                }\n                _this.isReceiveExtentChange = true;\n                _this.props.onMutableStatePropsChanged(_this.props.dataSourceId, 'panToActionValue', null);\n            }\n            if (mutableStateProps.newFeatureSetActionValue && !mutableStateProps.newFeatureSetActionValue.promise) {\n                var createNewFeaturelayerPromise = Object(_utils__WEBPACK_IMPORTED_MODULE_3__[\"createNewFeaturelayer\"])(mapBaseView, mutableStateProps.newFeatureSetActionValue.value);\n                if (createNewFeaturelayerPromise) {\n                    _this.props.onMutableStatePropsChanged(_this.props.dataSourceId, 'newFeatureSetActionValue.promise', createNewFeaturelayerPromise);\n                    createNewFeaturelayerPromise.then(function () {\n                        _this.props.onMutableStatePropsChanged(_this.props.dataSourceId, 'newFeatureSetActionValue', null);\n                    });\n                }\n                else {\n                    _this.props.onMutableStatePropsChanged(_this.props.dataSourceId, 'newFeatureSetActionValue', null);\n                }\n            }\n            if (mutableStateProps.changedFeatureSetActionValue) {\n                Object(_utils__WEBPACK_IMPORTED_MODULE_3__[\"updateFeaturelayer\"])(mapBaseView, mutableStateProps.changedFeatureSetActionValue);\n                _this.props.onMutableStatePropsChanged(_this.props.dataSourceId, 'changedFeatureSetActionValue', null);\n            }\n            if (mutableStateProps.selectFeatureActionValue) {\n                mapBaseView.popup.close();\n                for (var key in _this.highLightHandles) {\n                    _this.highLightHandles[key].remove();\n                }\n                var selectFeatureHandle = Object(_utils__WEBPACK_IMPORTED_MODULE_3__[\"selectFeature\"])(mapBaseView, mutableStateProps.selectFeatureActionValue);\n                if (selectFeatureHandle) {\n                    _this.highLightHandles[selectFeatureHandle.layerId] = selectFeatureHandle.handle;\n                }\n                setTimeout(function () {\n                    _this.props.onMutableStatePropsChanged(_this.props.dataSourceId, 'selectFeatureActionValue', null);\n                }, 500);\n            }\n            if (mutableStateProps.flashActionValue) {\n                var tempJimuMapViewId = _this.props.baseWidgetProps.id + \"-\" + _this.props.dataSourceId;\n                var tempJimuMapView = jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__[\"MapViewManager\"].getInstance().getJimuMapViewById(tempJimuMapViewId);\n                mutableStateProps.flashActionValue.querySQL && Object(_utils__WEBPACK_IMPORTED_MODULE_3__[\"flashFeaturesByQuery\"])(tempJimuMapView, mutableStateProps.flashActionValue.layerDataSourceId, mutableStateProps.flashActionValue.querySQL);\n                _this.props.onMutableStatePropsChanged(_this.props.dataSourceId, 'flashActionValue', null);\n            }\n            if (mutableStateProps.filterActionValue) {\n                var tempJimuMapViewId = _this.props.baseWidgetProps.id + \"-\" + _this.props.dataSourceId;\n                var tempJimuMapView = jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__[\"MapViewManager\"].getInstance().getJimuMapViewById(tempJimuMapViewId);\n                Object(_utils__WEBPACK_IMPORTED_MODULE_3__[\"filterFeaturesByQuery\"])(tempJimuMapView, mutableStateProps.filterActionValue.layerDataSourceId, mutableStateProps.filterActionValue.querySQL);\n                _this.props.onMutableStatePropsChanged(_this.props.dataSourceId, 'filterActionValue', null);\n            }\n        };\n        _this.formatMessage = function (id) {\n            return _this.props.baseWidgetProps.intl.formatMessage({ id: id, defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_2__[\"defaultMessages\"][id] });\n        };\n        _this.handleDisableWheel = function () {\n            _this.widgetContainer.style.pointerEvents = 'none';\n            setTimeout(function () {\n                _this.widgetContainer.style.pointerEvents = 'auto';\n            }, 50);\n        };\n        _this.getMapSwitchForErrorMap = function () {\n            return jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].createElement(_multisourcemap_context__WEBPACK_IMPORTED_MODULE_4__[\"MultiSourceMapContext\"].Consumer, null, function (_a) {\n                var isShowMapSwitchBtn = _a.isShowMapSwitchBtn, dataSourceIds = _a.dataSourceIds, activeDataSourceId = _a.activeDataSourceId, switchMap = _a.switchMap;\n                return (jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].createElement(\"div\", { className: \"mapswitch-container\", style: { display: isShowMapSwitchBtn ? 'block' : 'none',\n                        marginBottom: _this.props.widthBreakpoint === 'xsmall' ? 10 : 0 } },\n                    jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].createElement(\"div\", { onClick: function (e) { e.preventDefault(); switchMap(); }, className: \"jimu-widget esri-widget--button\" },\n                        jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_2__[\"Icon\"], { icon: Exchange, width: 16, height: 16, className: \"mapswitch-icon\" }))));\n            });\n        };\n        _this.recoverMap = function () {\n            if (_this.mapView) {\n                _this.mapView.tryFatalErrorRecovery();\n                _this.setState({\n                    isMapCrashed: false\n                });\n            }\n            if (_this.sceneView) {\n                _this.sceneView.tryFatalErrorRecovery();\n                _this.setState({\n                    isMapCrashed: false\n                });\n            }\n        };\n        var restoreData = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"MutableStoreManager\"].getInstance().getStateValue([_this.props.baseWidgetProps.id, 'restoreData', _this.props.baseWidgetProps.id + \"-restoreData-\" + _this.props.dataSourceId]);\n        if (restoreData) {\n            Object(_utils__WEBPACK_IMPORTED_MODULE_3__[\"restoreMapBase\"])(_this, restoreData);\n            _this.props.baseWidgetProps.dispatch(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"appActions\"].widgetMutableStatePropChange(_this.props.baseWidgetProps.id, \"restoreData.\" + _this.props.baseWidgetProps.id + \"-restoreData-\" + _this.props.dataSourceId, null));\n            _this.bindMapBaseViewEvent(_this.mapView || _this.sceneView);\n        }\n        else {\n            _this.state = {\n                mapLoadStatus: MapLoadStatus.Loading,\n                widthBreakpoint: null,\n                mapBaseJimuMapView: null,\n                dataSourceId: null,\n                widgetHeight: null,\n                isMapCrashed: false\n            };\n        }\n        return _this;\n    }\n    MapBase.prototype.componentDidMount = function () {\n        var _this = this;\n        if (this.widgetContainer.getElementsByClassName('widget-map').length === 0) {\n            if (!this.mapContainer) {\n                this.mapContainer = document && document.createElement('div');\n                this.mapContainer.className = 'jimu-widget widget-map';\n            }\n            this.widgetContainer.appendChild(this.mapContainer);\n        }\n        if (this.props.startLoadModules && !this.state.isModulesLoaded) {\n            this.startRenderMap();\n            return;\n        }\n        if (!this.props.dataSourceId && !this.props.isDefaultMap) {\n            return;\n        }\n        if (!this.getDsJsonFromDsId(this.props.dataSourceId) && !this.props.isDefaultMap) {\n            return;\n        }\n        if (this.props.isDefaultMap) {\n            // init and update map\n            this.analysisMapView().then(function () {\n                _this.updateMapView(_this.props.baseWidgetProps.config);\n            });\n            return;\n        }\n        if (this.getDsJsonFromDsId(this.props.dataSourceId).type === jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__[\"DataSourceTypes\"].WebMap) {\n            // init and update map\n            this.analysisMapView().then(function () {\n                _this.updateMapView(_this.props.baseWidgetProps.config);\n            });\n        }\n        if (this.getDsJsonFromDsId(this.props.dataSourceId).type === jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__[\"DataSourceTypes\"].WebScene) {\n            // init and update map\n            this.analysisSceneView().then(function () {\n                _this.updateSceneView(_this.props.baseWidgetProps.config);\n            });\n        }\n    };\n    MapBase.prototype.componentDidUpdate = function (prevProps) {\n        var _this = this;\n        if (!this.state.isModulesLoaded) {\n            return;\n        }\n        var curDsId = this.props.dataSourceId;\n        var prevDsId = prevProps.dataSourceId;\n        var curDsItemId = this.getDsJsonFromDsId(curDsId).itemId;\n        var preDsItemId = this.getDsJsonFromDsId(prevDsId).itemId;\n        if (curDsId !== prevDsId || curDsItemId !== preDsItemId) {\n            this.mapView = null;\n            this.sceneView = null;\n            this.mapDs = null;\n            var prevJimuMapViewId = this.getDsJsonFromDsId(prevDsId) && this.props.baseWidgetProps.id + \"-\" + prevDsId;\n            if (prevJimuMapViewId) {\n                jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__[\"MapViewManager\"].getInstance().destroyJimuMapView(prevJimuMapViewId);\n            }\n            if (this.state.mapLoadStatus === MapLoadStatus.LoadError && !this.getDsJsonFromDsId(curDsId)) {\n                return;\n            }\n            this.setState({\n                mapLoadStatus: MapLoadStatus.Loading\n            });\n        }\n        if (this.props.isDefaultMap) {\n            this.sceneView = null;\n            this.analysisMapView().then(function () {\n                _this.updateMapView(_this.props.baseWidgetProps.config);\n                if (!_this.mapView || !_this.props.baseWidgetProps.mutableStateProps) {\n                    return;\n                }\n                if (_this.props.baseWidgetProps.mutableStateProps) {\n                    var tempJimuMapViewId = _this.props.baseWidgetProps.id + \"-\" + _this.props.dataSourceId;\n                    var tempJimuMapView = jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__[\"MapViewManager\"].getInstance().getJimuMapViewById(tempJimuMapViewId);\n                    if (tempJimuMapView) {\n                        tempJimuMapView.whenJimuMapViewLoaded().then(function () {\n                            setTimeout(function () {\n                                _this.handleAction(_this.props.baseWidgetProps.mutableStateProps, _this.mapView);\n                                _this.isFirstReceiveMessage = false;\n                            }, _this.isFirstReceiveMessage ? 500 : 0);\n                        });\n                    }\n                }\n            });\n        }\n        if (!this.getDsJsonFromDsId(curDsId)) {\n            return;\n        }\n        if (this.getDsJsonFromDsId(curDsId).type === jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__[\"DataSourceTypes\"].WebMap) {\n            this.sceneView = null;\n            this.analysisMapView().then(function () {\n                _this.updateMapView(_this.props.baseWidgetProps.config);\n                if (!_this.mapView || !_this.props.baseWidgetProps.mutableStateProps) {\n                    return;\n                }\n                if (_this.props.baseWidgetProps.mutableStateProps) {\n                    var tempJimuMapViewId = _this.props.baseWidgetProps.id + \"-\" + _this.props.dataSourceId;\n                    var tempJimuMapView = jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__[\"MapViewManager\"].getInstance().getJimuMapViewById(tempJimuMapViewId);\n                    if (tempJimuMapView) {\n                        tempJimuMapView.whenJimuMapViewLoaded().then(function () {\n                            setTimeout(function () {\n                                _this.handleAction(_this.props.baseWidgetProps.mutableStateProps, _this.mapView);\n                                _this.isFirstReceiveMessage = false;\n                            }, _this.isFirstReceiveMessage ? 500 : 0);\n                        });\n                    }\n                }\n            });\n        }\n        if (this.getDsJsonFromDsId(curDsId).type === jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__[\"DataSourceTypes\"].WebScene) {\n            this.mapView = null;\n            this.analysisSceneView().then(function () {\n                _this.updateSceneView(_this.props.baseWidgetProps.config);\n                if (!_this.sceneView || !_this.props.baseWidgetProps.mutableStateProps) {\n                    return;\n                }\n                if (_this.props.baseWidgetProps.mutableStateProps) {\n                    var tempJimuMapViewId = _this.props.baseWidgetProps.id + \"-\" + _this.props.dataSourceId;\n                    var tempJimuMapView = jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__[\"MapViewManager\"].getInstance().getJimuMapViewById(tempJimuMapViewId);\n                    if (tempJimuMapView) {\n                        tempJimuMapView.whenJimuMapViewLoaded().then(function () {\n                            setTimeout(function () {\n                                _this.handleAction(_this.props.baseWidgetProps.mutableStateProps, _this.sceneView);\n                                _this.isFirstReceiveMessage = false;\n                            }, _this.isFirstReceiveMessage ? 500 : 0);\n                        });\n                    }\n                }\n            });\n        }\n    };\n    MapBase.getDerivedStateFromProps = function (nextProps, prevState) {\n        if (nextProps.dataSourceId !== prevState.dataSourceId) {\n            return {\n                dataSourceId: nextProps.dataSourceId,\n                mapLoadStatus: MapLoadStatus.Loading\n            };\n        }\n        else {\n            return null;\n        }\n    };\n    MapBase.prototype.componentWillUnmount = function () {\n        var widgets = Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"getAppStore\"])().getState().appConfig.widgets;\n        if (widgets[this.props.baseWidgetProps.id] && widgets[this.props.baseWidgetProps.id].useDataSources === this.props.baseWidgetProps.useDataSources) {\n            var restoreData = Object(_utils__WEBPACK_IMPORTED_MODULE_3__[\"getMapBaseRestoreData\"])(this);\n            this.props.baseWidgetProps.dispatch(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"appActions\"].widgetMutableStatePropChange(this.props.baseWidgetProps.id, \"restoreData.\" + this.props.baseWidgetProps.id + \"-restoreData-\" + this.props.dataSourceId, restoreData));\n        }\n        else {\n            this.props.onViewChanged && this.props.onViewChanged({ dataSourceId: this.props.dataSourceId, viewpoint: null });\n            var jimuMapViewId = this.props.baseWidgetProps.id + \"-\" + this.props.dataSourceId;\n            jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__[\"MapViewManager\"].getInstance().destroyJimuMapView(jimuMapViewId);\n            if (this.mapView && !this.mapView.destroyed) {\n                this.mapView.container = null;\n                this.mapView = null;\n            }\n            if (this.sceneView && !this.sceneView.destroyed) {\n                this.sceneView.container = null;\n                this.sceneView = null;\n            }\n            this.highLightHandles = {};\n            this.extentWatch = null;\n            this.fatalErrorWatch = null;\n            this.mapDs = null;\n        }\n    };\n    MapBase.prototype.render = function () {\n        var _this = this;\n        var useDataSource = null;\n        if (this.props.baseWidgetProps.useDataSources) {\n            for (var i = 0; i < this.props.baseWidgetProps.useDataSources.length; i++) {\n                if (this.props.baseWidgetProps.useDataSources[i].dataSourceId == this.props.dataSourceId) {\n                    useDataSource = this.props.baseWidgetProps.useDataSources[i];\n                }\n            }\n        }\n        return jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].createElement(\"div\", { className: \"jimu-widget\", style: { position: 'relative' }, ref: function (ref) { _this.widgetContainer = ref; } },\n            (this.state.mapLoadStatus === MapLoadStatus.Loading) &&\n                jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].createElement(\"div\", { className: \"jimu-widget widget-map-background\" },\n                    jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].createElement(\"div\", { style: { position: 'absolute', left: '50%', top: '50%' }, className: \"jimu-secondary-loading\" })),\n            (this.state.mapLoadStatus === MapLoadStatus.LoadError) &&\n                jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].createElement(\"div\", { className: \"jimu-widget widget-map-background\" },\n                    this.getMapSwitchForErrorMap(),\n                    jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].createElement(\"div\", { className: \"jimu-widget d-flex justify-content-center align-items-center\" }, this.formatMessage('mapFailure'))),\n            (this.state.isMapCrashed) && jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].createElement(\"div\", { className: \"w-100 h-100 d-flex justify-content-center align-items-center widget-map-crashed\" },\n                jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].createElement(\"div\", null,\n                    jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].createElement(\"div\", { className: \"widget-map-crashed-label widget-map-crashed-label-padding\" }, this.formatMessage('mapCrash')),\n                    jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].createElement(\"div\", { className: \"w-100 d-flex justify-content-center pt-3\" },\n                        jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_2__[\"Button\"], { size: \"sm\", className: \"widget-map-crashed-label\", onClick: function () { _this.recoverMap(); } }, this.formatMessage('mapRecover'))))),\n            !this.props.isDefaultMap && jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].createElement(\"div\", { style: { position: 'absolute', display: 'none' } },\n                jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].createElement(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"DataSourceComponent\"], { useDataSource: useDataSource, onDataSourceCreated: this.onDataSourceCreated, onCreateDataSourceFailed: this.onCreateDataSourceFailed })));\n    };\n    return MapBase;\n}(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].PureComponent));\n/* harmony default export */ __webpack_exports__[\"default\"] = (MapBase);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvY29tcG9uZW50cy9tYXBiYXNlLnRzeC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4dGVuc2lvbnMvd2lkZ2V0cy9hcmNnaXMvYXJjZ2lzLW1hcC9zcmMvcnVudGltZS9jb21wb25lbnRzL21hcGJhc2UudHN4PzM5YWYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtSZWFjdCwgRGF0YVNvdXJjZU1hbmFnZXIsIEV4dGVudENoYW5nZU1lc3NhZ2UsIERhdGFTb3VyY2VDb21wb25lbnQsIHBvcnRhbFVybFV0aWxzLFxuICBnZXRBcHBTdG9yZSwgYXBwQWN0aW9ucywgTXV0YWJsZVN0b3JlTWFuYWdlciwgSW1tdXRhYmxlT2JqZWN0fSBmcm9tICdqaW11LWNvcmUnO1xuaW1wb3J0IHsgSU1Db25maWcgfSBmcm9tICcuLi8uLi9jb25maWcnO1xuaW1wb3J0IHsgTWFwRGF0YVNvdXJjZSwgRGF0YVNvdXJjZVR5cGVzLCBsb2FkQXJjR0lTSlNBUElNb2R1bGVzLCBNYXBWaWV3TWFuYWdlciwgSmltdU1hcFZpZXcsIEppbXVNYXBWaWV3Q29uc3RydWN0b3JPcHRpb25zLCB6b29tVG9VdGlscyB9IGZyb20gJ2ppbXUtYXJjZ2lzJztcbmltcG9ydCB7SW5pdGlhbE1hcFN0YXRlfSBmcm9tICdqaW11LXVpL2FkdmFuY2VkL21hcCc7XG5pbXBvcnQge2RlZmF1bHRNZXNzYWdlc30gZnJvbSAnamltdS11aSc7XG5pbXBvcnQgeyBjcmVhdGVOZXdGZWF0dXJlbGF5ZXIsIHVwZGF0ZUZlYXR1cmVsYXllciwgZ2V0TWFwQmFzZVJlc3RvcmVEYXRhLCByZXN0b3JlTWFwQmFzZSwgc2VsZWN0RmVhdHVyZSxcbiAgbWFwUGFudG8sIGZsYXNoRmVhdHVyZXNCeVF1ZXJ5LCBwcm9qZWN0R2VvbWV0cmllcywgZmlsdGVyRmVhdHVyZXNCeVF1ZXJ5LCBwcm9jZXNzWm9vbVRvRmVhdHVyZXMgfSBmcm9tICcuLi91dGlscyc7XG5pbXBvcnQge01hcFdpZGdldFByb3BzLCBBY3Rpb25SZWxhdGVkUHJvcHN9IGZyb20gJy4uL3dpZGdldCc7XG5pbXBvcnQge0ljb24sIEJ1dHRvbn0gZnJvbSAnamltdS11aSc7XG5pbXBvcnQge011bHRpU291cmNlTWFwQ29udGV4dH0gZnJvbSAnLi9tdWx0aXNvdXJjZW1hcC1jb250ZXh0JztcblxuY29uc3QgRXhjaGFuZ2UgPSByZXF1aXJlKCcuLi9hc3NldHMvaWNvbnMvZXhjaGFuZ2Uuc3ZnJyk7XG5cbmludGVyZmFjZSBQcm9wc3tcbiAgd2lkdGhCcmVha3BvaW50OiBzdHJpbmc7XG4gIGlzRGVmYXVsdE1hcD86IGJvb2xlYW47XG4gIGJhc2VXaWRnZXRQcm9wczogTWFwV2lkZ2V0UHJvcHM7XG4gIHN0YXJ0TG9hZE1vZHVsZXM6IGJvb2xlYW47XG4gIGRhdGFTb3VyY2VJZDogc3RyaW5nO1xuICBvblZpZXdDaGFuZ2VkPzogKHNoYXJlVmlld1BvaW50OiBTaGFyZVZpZXdQb2ludCkgPT4gdm9pZDtcbiAgb25NdXRhYmxlU3RhdGVQcm9wc0NoYW5nZWQ/OiAoZGF0YVNvdXJjZUlkOiBzdHJpbmcsIHByb3BLZXk6IHN0cmluZywgdmFsdWU/OiBhbnkpID0+IHZvaWQ7XG5cbiAgb25FeHRlbnRDaGFuZ2VkPzogKGRhdGFTb3VyY2VJZDogc3RyaW5nLCBtZXNzYWdlOiBFeHRlbnRDaGFuZ2VNZXNzYWdlKSA9PiB2b2lkO1xuICBvbk1hcExvYWRlZD86IChkYXRhU291cmNlSWQ6IHN0cmluZywgbWFwTG9hZFN0YXR1czogTWFwTG9hZFN0YXR1cykgPT4gdm9pZDtcbiAgb25KaW11TWFwVmlld0NyZWF0ZWQ/OiAoKSA9PiB2b2lkO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFNoYXJlVmlld1BvaW50IHtcbiAgZGF0YVNvdXJjZUlkOiBzdHJpbmc7XG4gIHZpZXdwb2ludDogX19lc3JpLlZpZXdwb2ludDtcbn1cblxuZXhwb3J0IGVudW0gTWFwTG9hZFN0YXR1cyB7XG4gIExvYWRpbmcgPSAnTE9BRElORycsXG4gIExvYWRvayA9ICdMT0FET0snLFxuICBMb2FkRXJyb3IgPSAnTE9BREVSUk9SJ1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEhpZ2hMaWdodEhhbmRsZSB7XG4gIGxheWVySWQ6IHN0cmluZztcbiAgaGFuZGxlOiBfX2VzcmkuSGFuZGxlO1xufVxuXG5pbnRlcmZhY2UgU3RhdGV7XG4gIGRhdGFTb3VyY2VJZDogc3RyaW5nO1xuICBpc01vZHVsZXNMb2FkZWQ/OiBib29sZWFuO1xuICBtYXBMb2FkU3RhdHVzPzogTWFwTG9hZFN0YXR1cztcblxuICBtYXBCYXNlSmltdU1hcFZpZXc6IEppbXVNYXBWaWV3O1xuICBpc01hcENyYXNoZWQ/OiBib29sZWFuO1xufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNYXBCYXNlIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudDxQcm9wcywgU3RhdGU+e1xuICBtYXBDb250YWluZXI6IEhUTUxEaXZFbGVtZW50O1xuICB3aWRnZXRDb250YWluZXI6IEhUTUxEaXZFbGVtZW50O1xuXG4gIEdlb21ldHJ5OiB0eXBlb2YgX19lc3JpLkdlb21ldHJ5O1xuICBJbml0aWFsVmlld1Byb3BlcnRpZXM6IHR5cGVvZiBfX2VzcmkuSW5pdGlhbFZpZXdQcm9wZXJ0aWVzO1xuICBUaWxlTGF5ZXI6IHR5cGVvZiBfX2VzcmkuVGlsZUxheWVyO1xuICBCYXNlbWFwOiB0eXBlb2YgX19lc3JpLkJhc2VtYXA7XG4gIE1hcFZpZXc6IHR5cGVvZiBfX2VzcmkuTWFwVmlldztcbiAgU2NlbmVWaWV3OiB0eXBlb2YgX19lc3JpLlNjZW5lVmlldztcbiAgRXh0ZW50OiB0eXBlb2YgIF9fZXNyaS5nZW9tZXRyeS5FeHRlbnQ7XG4gIFZpZXdwb2ludDogdHlwZW9mICBfX2VzcmkuVmlld3BvaW50O1xuICBQb3J0YWxJdGVtOiB0eXBlb2YgX19lc3JpLlBvcnRhbEl0ZW07XG4gIFBvcnRhbDogdHlwZW9mIF9fZXNyaS5Qb3J0YWw7XG4gIFdlYk1hcDogdHlwZW9mIF9fZXNyaS5XZWJNYXA7XG4gIFdlYlNjZW5lOiB0eXBlb2YgX19lc3JpLldlYlNjZW5lO1xuICBDb2xvcjogdHlwZW9mIF9fZXNyaS5Db2xvcjtcblxuICBtYXBWaWV3OiBfX2VzcmkuTWFwVmlldztcbiAgc2NlbmVWaWV3OiBfX2VzcmkuU2NlbmVWaWV3O1xuICBtYXBEczogTWFwRGF0YVNvdXJjZTtcbiAgZXh0ZW50V2F0Y2g6IF9fZXNyaS5XYXRjaEhhbmRsZTtcbiAgZmF0YWxFcnJvcldhdGNoOiBfX2VzcmkuV2F0Y2hIYW5kbGU7XG4gIGhpZ2hMaWdodEhhbmRsZXM6IHtbbGF5ZXJJZDogc3RyaW5nXTogX19lc3JpLkhhbmRsZX0gPSB7fTtcbiAgbWFwQmFzZVZpZXdFdmVudEhhbmRsZXM6IHtbZXZlbnROYW1lOiBzdHJpbmddOiBfX2VzcmkuSGFuZGxlfSA9IHt9O1xuICBkc01hbmFnZXIgPSBEYXRhU291cmNlTWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuXG4gIG9uRXh0ZW50ZWQgPSBudWxsO1xuICBpc1JlY2VpdmVFeHRlbnRDaGFuZ2UgPSBmYWxzZTtcbiAgaXNGaXJzdFJlY2VpdmVNZXNzYWdlID0gdHJ1ZTtcblxuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIGNvbnN0IHJlc3RvcmVEYXRhID0gTXV0YWJsZVN0b3JlTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFN0YXRlVmFsdWUoW3RoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmlkLCAncmVzdG9yZURhdGEnLFxuICAgICAgYCR7dGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWR9LXJlc3RvcmVEYXRhLSR7dGhpcy5wcm9wcy5kYXRhU291cmNlSWR9YF0pO1xuXG4gICAgaWYgKHJlc3RvcmVEYXRhKSB7XG4gICAgICByZXN0b3JlTWFwQmFzZSh0aGlzLCByZXN0b3JlRGF0YSk7XG4gICAgICB0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5kaXNwYXRjaChhcHBBY3Rpb25zLndpZGdldE11dGFibGVTdGF0ZVByb3BDaGFuZ2UodGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWQsXG4gICAgICAgIGByZXN0b3JlRGF0YS4ke3RoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmlkfS1yZXN0b3JlRGF0YS0ke3RoaXMucHJvcHMuZGF0YVNvdXJjZUlkfWAsIG51bGwpKTtcblxuICAgICAgdGhpcy5iaW5kTWFwQmFzZVZpZXdFdmVudCh0aGlzLm1hcFZpZXcgfHwgdGhpcy5zY2VuZVZpZXcpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgICBtYXBMb2FkU3RhdHVzOiBNYXBMb2FkU3RhdHVzLkxvYWRpbmcsXG4gICAgICAgIHdpZHRoQnJlYWtwb2ludDogbnVsbCxcbiAgICAgICAgbWFwQmFzZUppbXVNYXBWaWV3OiBudWxsLFxuICAgICAgICBkYXRhU291cmNlSWQ6IG51bGwsXG4gICAgICAgIHdpZGdldEhlaWdodDogbnVsbCxcbiAgICAgICAgaXNNYXBDcmFzaGVkOiBmYWxzZVxuICAgICAgfSBhcyBTdGF0ZTtcbiAgICB9XG4gIH1cblxuICBzdGFydFJlbmRlck1hcCA9ICgpID0+IHtcbiAgICBsb2FkQXJjR0lTSlNBUElNb2R1bGVzKFtcbiAgICAgICdlc3JpL2dlb21ldHJ5L0V4dGVudCcsXG4gICAgICAnZXNyaS9WaWV3cG9pbnQnXG4gICAgXSkudGhlbihtb2R1bGVzID0+IHtcbiAgICAgIFtcbiAgICAgICAgdGhpcy5FeHRlbnQsIHRoaXMuVmlld3BvaW50XG4gICAgICBdID0gbW9kdWxlcztcblxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGlzTW9kdWxlc0xvYWRlZDogdHJ1ZVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBpZiAodGhpcy53aWRnZXRDb250YWluZXIuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnd2lkZ2V0LW1hcCcpLmxlbmd0aCA9PT0gMCApIHtcbiAgICAgIGlmICghdGhpcy5tYXBDb250YWluZXIpIHtcbiAgICAgICAgdGhpcy5tYXBDb250YWluZXIgPSBkb2N1bWVudCAmJiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgdGhpcy5tYXBDb250YWluZXIuY2xhc3NOYW1lID0gJ2ppbXUtd2lkZ2V0IHdpZGdldC1tYXAnO1xuICAgICAgfVxuICAgICAgdGhpcy53aWRnZXRDb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5tYXBDb250YWluZXIpO1xuICAgIH1cblxuICAgIGlmKHRoaXMucHJvcHMuc3RhcnRMb2FkTW9kdWxlcyAmJiAhdGhpcy5zdGF0ZS5pc01vZHVsZXNMb2FkZWQpe1xuICAgICAgdGhpcy5zdGFydFJlbmRlck1hcCgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5wcm9wcy5kYXRhU291cmNlSWQgJiYgIXRoaXMucHJvcHMuaXNEZWZhdWx0TWFwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYoIXRoaXMuZ2V0RHNKc29uRnJvbURzSWQodGhpcy5wcm9wcy5kYXRhU291cmNlSWQpICYmICF0aGlzLnByb3BzLmlzRGVmYXVsdE1hcCl7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHRoaXMucHJvcHMuaXNEZWZhdWx0TWFwKSB7XG4gICAgICAvLyBpbml0IGFuZCB1cGRhdGUgbWFwXG4gICAgICB0aGlzLmFuYWx5c2lzTWFwVmlldygpLnRoZW4oKCkgPT4ge1xuICAgICAgICB0aGlzLnVwZGF0ZU1hcFZpZXcodGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuY29uZmlnKTtcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuZ2V0RHNKc29uRnJvbURzSWQodGhpcy5wcm9wcy5kYXRhU291cmNlSWQpLnR5cGUgPT09IERhdGFTb3VyY2VUeXBlcy5XZWJNYXApIHtcbiAgICAgIC8vIGluaXQgYW5kIHVwZGF0ZSBtYXBcbiAgICAgIHRoaXMuYW5hbHlzaXNNYXBWaWV3KCkudGhlbigoKSA9PiB7XG4gICAgICAgIHRoaXMudXBkYXRlTWFwVmlldyh0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5jb25maWcpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuZ2V0RHNKc29uRnJvbURzSWQodGhpcy5wcm9wcy5kYXRhU291cmNlSWQpLnR5cGUgPT09IERhdGFTb3VyY2VUeXBlcy5XZWJTY2VuZSkge1xuICAgICAgLy8gaW5pdCBhbmQgdXBkYXRlIG1hcFxuICAgICAgdGhpcy5hbmFseXNpc1NjZW5lVmlldygpLnRoZW4oKCkgPT4ge1xuICAgICAgICB0aGlzLnVwZGF0ZVNjZW5lVmlldyh0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5jb25maWcpO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wczogUHJvcHMpIHtcbiAgICBpZighdGhpcy5zdGF0ZS5pc01vZHVsZXNMb2FkZWQpe1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGN1ckRzSWQgPSB0aGlzLnByb3BzLmRhdGFTb3VyY2VJZDtcbiAgICBjb25zdCBwcmV2RHNJZCA9IHByZXZQcm9wcy5kYXRhU291cmNlSWQ7XG5cbiAgICBjb25zdCBjdXJEc0l0ZW1JZCA9IHRoaXMuZ2V0RHNKc29uRnJvbURzSWQoY3VyRHNJZCkuaXRlbUlkO1xuICAgIGNvbnN0IHByZURzSXRlbUlkID0gdGhpcy5nZXREc0pzb25Gcm9tRHNJZChwcmV2RHNJZCkuaXRlbUlkO1xuXG4gICAgaWYgKGN1ckRzSWQgIT09IHByZXZEc0lkIHx8IGN1ckRzSXRlbUlkICE9PSBwcmVEc0l0ZW1JZCkge1xuICAgICAgdGhpcy5tYXBWaWV3ID0gbnVsbDtcbiAgICAgIHRoaXMuc2NlbmVWaWV3ID0gbnVsbDtcbiAgICAgIHRoaXMubWFwRHMgPSBudWxsO1xuICAgICAgY29uc3QgcHJldkppbXVNYXBWaWV3SWQgPSB0aGlzLmdldERzSnNvbkZyb21Ec0lkKHByZXZEc0lkKSAmJiBgJHt0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5pZH0tJHtwcmV2RHNJZH1gO1xuICAgICAgaWYgKHByZXZKaW11TWFwVmlld0lkKSB7XG4gICAgICAgIE1hcFZpZXdNYW5hZ2VyLmdldEluc3RhbmNlKCkuZGVzdHJveUppbXVNYXBWaWV3KHByZXZKaW11TWFwVmlld0lkKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuc3RhdGUubWFwTG9hZFN0YXR1cyA9PT0gTWFwTG9hZFN0YXR1cy5Mb2FkRXJyb3IgJiYgIXRoaXMuZ2V0RHNKc29uRnJvbURzSWQoY3VyRHNJZCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgbWFwTG9hZFN0YXR1czogTWFwTG9hZFN0YXR1cy5Mb2FkaW5nXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5wcm9wcy5pc0RlZmF1bHRNYXApIHtcbiAgICAgIHRoaXMuc2NlbmVWaWV3ID0gbnVsbDtcblxuICAgICAgdGhpcy5hbmFseXNpc01hcFZpZXcoKS50aGVuKCgpID0+IHtcbiAgICAgICAgdGhpcy51cGRhdGVNYXBWaWV3KHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmNvbmZpZyk7XG5cbiAgICAgICAgaWYoIXRoaXMubWFwVmlldyB8fCAhdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMubXV0YWJsZVN0YXRlUHJvcHMpe1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5tdXRhYmxlU3RhdGVQcm9wcykge1xuICAgICAgICAgIGNvbnN0IHRlbXBKaW11TWFwVmlld0lkID0gYCR7dGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWR9LSR7dGhpcy5wcm9wcy5kYXRhU291cmNlSWR9YDtcbiAgICAgICAgICBjb25zdCB0ZW1wSmltdU1hcFZpZXcgPSBNYXBWaWV3TWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldEppbXVNYXBWaWV3QnlJZCh0ZW1wSmltdU1hcFZpZXdJZCk7XG4gICAgICAgICAgaWYgKHRlbXBKaW11TWFwVmlldykge1xuICAgICAgICAgICAgdGVtcEppbXVNYXBWaWV3LndoZW5KaW11TWFwVmlld0xvYWRlZCgpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZUFjdGlvbih0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5tdXRhYmxlU3RhdGVQcm9wcywgdGhpcy5tYXBWaWV3KTtcbiAgICAgICAgICAgICAgICB0aGlzLmlzRmlyc3RSZWNlaXZlTWVzc2FnZSA9IGZhbHNlO1xuICAgICAgICAgICAgICB9LCB0aGlzLmlzRmlyc3RSZWNlaXZlTWVzc2FnZSA/IDUwMCA6IDBcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZighdGhpcy5nZXREc0pzb25Gcm9tRHNJZChjdXJEc0lkKSl7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuZ2V0RHNKc29uRnJvbURzSWQoY3VyRHNJZCkudHlwZSA9PT0gRGF0YVNvdXJjZVR5cGVzLldlYk1hcCkge1xuICAgICAgdGhpcy5zY2VuZVZpZXcgPSBudWxsO1xuXG4gICAgICB0aGlzLmFuYWx5c2lzTWFwVmlldygpLnRoZW4oKCkgPT4ge1xuICAgICAgICB0aGlzLnVwZGF0ZU1hcFZpZXcodGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuY29uZmlnKTtcblxuICAgICAgICBpZighdGhpcy5tYXBWaWV3IHx8ICF0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5tdXRhYmxlU3RhdGVQcm9wcyl7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLm11dGFibGVTdGF0ZVByb3BzKSB7XG4gICAgICAgICAgY29uc3QgdGVtcEppbXVNYXBWaWV3SWQgPSBgJHt0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5pZH0tJHt0aGlzLnByb3BzLmRhdGFTb3VyY2VJZH1gO1xuICAgICAgICAgIGNvbnN0IHRlbXBKaW11TWFwVmlldyA9IE1hcFZpZXdNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0SmltdU1hcFZpZXdCeUlkKHRlbXBKaW11TWFwVmlld0lkKTtcbiAgICAgICAgICBpZiAodGVtcEppbXVNYXBWaWV3KSB7XG4gICAgICAgICAgICB0ZW1wSmltdU1hcFZpZXcud2hlbkppbXVNYXBWaWV3TG9hZGVkKCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlQWN0aW9uKHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLm11dGFibGVTdGF0ZVByb3BzLCB0aGlzLm1hcFZpZXcpO1xuICAgICAgICAgICAgICAgIHRoaXMuaXNGaXJzdFJlY2VpdmVNZXNzYWdlID0gZmFsc2U7XG4gICAgICAgICAgICAgIH0sIHRoaXMuaXNGaXJzdFJlY2VpdmVNZXNzYWdlID8gNTAwIDogMFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmdldERzSnNvbkZyb21Ec0lkKGN1ckRzSWQpLnR5cGUgPT09IERhdGFTb3VyY2VUeXBlcy5XZWJTY2VuZSkge1xuICAgICAgdGhpcy5tYXBWaWV3ID0gbnVsbDtcblxuICAgICAgdGhpcy5hbmFseXNpc1NjZW5lVmlldygpLnRoZW4oKCkgPT4ge1xuICAgICAgICB0aGlzLnVwZGF0ZVNjZW5lVmlldyh0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5jb25maWcpO1xuXG4gICAgICAgIGlmKCF0aGlzLnNjZW5lVmlldyB8fCAhdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMubXV0YWJsZVN0YXRlUHJvcHMpe1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5tdXRhYmxlU3RhdGVQcm9wcykge1xuICAgICAgICAgIGNvbnN0IHRlbXBKaW11TWFwVmlld0lkID0gYCR7dGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWR9LSR7dGhpcy5wcm9wcy5kYXRhU291cmNlSWR9YDtcbiAgICAgICAgICBjb25zdCB0ZW1wSmltdU1hcFZpZXcgPSBNYXBWaWV3TWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldEppbXVNYXBWaWV3QnlJZCh0ZW1wSmltdU1hcFZpZXdJZCk7XG4gICAgICAgICAgaWYgKHRlbXBKaW11TWFwVmlldykge1xuICAgICAgICAgICAgdGVtcEppbXVNYXBWaWV3LndoZW5KaW11TWFwVmlld0xvYWRlZCgpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZUFjdGlvbih0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5tdXRhYmxlU3RhdGVQcm9wcywgdGhpcy5zY2VuZVZpZXcpO1xuICAgICAgICAgICAgICAgIHRoaXMuaXNGaXJzdFJlY2VpdmVNZXNzYWdlID0gZmFsc2U7XG4gICAgICAgICAgICAgIH0sIHRoaXMuaXNGaXJzdFJlY2VpdmVNZXNzYWdlID8gNTAwIDogMFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGFuYWx5c2lzTWFwVmlldyA9ICgpOiBQcm9taXNlPHZvaWQ+ID0+IHtcbiAgICBpZiAoIXRoaXMubWFwVmlldykge1xuICAgICAgaWYgKHRoaXMuTWFwVmlldykge1xuICAgICAgICB0aGlzLmluaXRNYXBWaWV3KCk7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBsb2FkQXJjR0lTSlNBUElNb2R1bGVzKFtcbiAgICAgICAgICAnZXNyaS9nZW9tZXRyeS9HZW9tZXRyeScsXG4gICAgICAgICAgJ2Vzcmkvd2VibWFwL0luaXRpYWxWaWV3UHJvcGVydGllcycsXG4gICAgICAgICAgJ2VzcmkvQmFzZW1hcCcsXG4gICAgICAgICAgJ2VzcmkvbGF5ZXJzL1RpbGVMYXllcicsXG4gICAgICAgICAgJ2Vzcmkvdmlld3MvTWFwVmlldycsXG4gICAgICAgICAgJ2VzcmkvV2ViTWFwJyxcbiAgICAgICAgICAnZXNyaS9wb3J0YWwvUG9ydGFsJyxcbiAgICAgICAgICAnZXNyaS9wb3J0YWwvUG9ydGFsSXRlbScsXG4gICAgICAgICAgJ2VzcmkvQ29sb3InXG4gICAgICAgIF0pLnRoZW4obW9kdWxlcyA9PiB7XG4gICAgICAgICAgW1xuICAgICAgICAgICAgdGhpcy5HZW9tZXRyeSwgdGhpcy5Jbml0aWFsVmlld1Byb3BlcnRpZXMsIHRoaXMuQmFzZW1hcCwgdGhpcy5UaWxlTGF5ZXIsIHRoaXMuTWFwVmlldywgdGhpcy5XZWJNYXAsIHRoaXMuUG9ydGFsLCB0aGlzLlBvcnRhbEl0ZW0sIHRoaXMuQ29sb3JcbiAgICAgICAgICBdID0gbW9kdWxlcztcbiAgICAgICAgICB0aGlzLmluaXRNYXBWaWV3KCk7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cbiAgfVxuXG4gIGFuYWx5c2lzU2NlbmVWaWV3ID0gKCk6IFByb21pc2U8dm9pZD4gPT4ge1xuICAgIGlmICghdGhpcy5zY2VuZVZpZXcpIHtcbiAgICAgIGlmICh0aGlzLlNjZW5lVmlldykge1xuICAgICAgICB0aGlzLmluaXRTY2VuZVZpZXcoKTtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGxvYWRBcmNHSVNKU0FQSU1vZHVsZXMoW1xuICAgICAgICAgICdlc3JpL3ZpZXdzL1NjZW5lVmlldycsXG4gICAgICAgICAgJ2VzcmkvV2ViU2NlbmUnLFxuICAgICAgICAgICdlc3JpL3BvcnRhbC9Qb3J0YWwnLFxuICAgICAgICAgICdlc3JpL3BvcnRhbC9Qb3J0YWxJdGVtJyxcbiAgICAgICAgICAnZXNyaS9Db2xvcidcbiAgICAgICAgXSkudGhlbihtb2R1bGVzID0+IHtcbiAgICAgICAgICBbXG4gICAgICAgICAgICB0aGlzLlNjZW5lVmlldywgdGhpcy5XZWJTY2VuZSwgdGhpcy5Qb3J0YWwsIHRoaXMuUG9ydGFsSXRlbSwgdGhpcy5Db2xvclxuICAgICAgICAgIF0gPSBtb2R1bGVzO1xuICAgICAgICAgIHRoaXMuaW5pdFNjZW5lVmlldygpO1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKG5leHRQcm9wczogUHJvcHMsIHByZXZTdGF0ZTogU3RhdGUpIHtcbiAgICBpZiAobmV4dFByb3BzLmRhdGFTb3VyY2VJZCAhPT0gcHJldlN0YXRlLmRhdGFTb3VyY2VJZCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZGF0YVNvdXJjZUlkOiBuZXh0UHJvcHMuZGF0YVNvdXJjZUlkLFxuICAgICAgICBtYXBMb2FkU3RhdHVzOiBNYXBMb2FkU3RhdHVzLkxvYWRpbmdcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgY29uc3Qgd2lkZ2V0cyA9ICBnZXRBcHBTdG9yZSgpLmdldFN0YXRlKCkuYXBwQ29uZmlnLndpZGdldHM7XG5cbiAgICBpZiAod2lkZ2V0c1t0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5pZF0gJiYgd2lkZ2V0c1t0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5pZF0udXNlRGF0YVNvdXJjZXMgPT09IHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLnVzZURhdGFTb3VyY2VzKSB7XG4gICAgICBjb25zdCByZXN0b3JlRGF0YSA9IGdldE1hcEJhc2VSZXN0b3JlRGF0YSh0aGlzKTtcbiAgICAgIHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmRpc3BhdGNoKGFwcEFjdGlvbnMud2lkZ2V0TXV0YWJsZVN0YXRlUHJvcENoYW5nZSh0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5pZCxcbiAgICAgICAgYHJlc3RvcmVEYXRhLiR7dGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWR9LXJlc3RvcmVEYXRhLSR7dGhpcy5wcm9wcy5kYXRhU291cmNlSWR9YCwgcmVzdG9yZURhdGEpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5wcm9wcy5vblZpZXdDaGFuZ2VkICYmIHRoaXMucHJvcHMub25WaWV3Q2hhbmdlZCh7ZGF0YVNvdXJjZUlkOiB0aGlzLnByb3BzLmRhdGFTb3VyY2VJZCwgdmlld3BvaW50OiBudWxsfSk7XG4gICAgICBjb25zdCBqaW11TWFwVmlld0lkID0gYCR7dGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWR9LSR7dGhpcy5wcm9wcy5kYXRhU291cmNlSWR9YDtcbiAgICAgIE1hcFZpZXdNYW5hZ2VyLmdldEluc3RhbmNlKCkuZGVzdHJveUppbXVNYXBWaWV3KGppbXVNYXBWaWV3SWQpO1xuXG4gICAgICBpZiAodGhpcy5tYXBWaWV3ICYmICF0aGlzLm1hcFZpZXcuZGVzdHJveWVkKSB7XG4gICAgICAgIHRoaXMubWFwVmlldy5jb250YWluZXIgPSBudWxsO1xuICAgICAgICB0aGlzLm1hcFZpZXcgPSBudWxsO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuc2NlbmVWaWV3ICYmICF0aGlzLnNjZW5lVmlldy5kZXN0cm95ZWQpIHtcbiAgICAgICAgdGhpcy5zY2VuZVZpZXcuY29udGFpbmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5zY2VuZVZpZXcgPSBudWxsO1xuICAgICAgfVxuICAgICAgdGhpcy5oaWdoTGlnaHRIYW5kbGVzID0ge307XG4gICAgICB0aGlzLmV4dGVudFdhdGNoID0gbnVsbDtcbiAgICAgIHRoaXMuZmF0YWxFcnJvcldhdGNoID0gbnVsbDtcbiAgICAgIHRoaXMubWFwRHMgPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGdlbmVyYXRlVmlld1BvaW50RnJvbUluaXRpYWxNYXBTdGF0ZSA9IChpbml0aWFsTWFwU3RhdGU6IEltbXV0YWJsZU9iamVjdDxJbml0aWFsTWFwU3RhdGU+KTogX19lc3JpLlZpZXdwb2ludCA9PiB7XG4gICAgaWYgKGluaXRpYWxNYXBTdGF0ZS52aWV3VHlwZSA9PT0gJzJkJykge1xuICAgICAgcmV0dXJuIG5ldyB0aGlzLlZpZXdwb2ludChcbiAgICAgICAge1xuICAgICAgICAgIHRhcmdldEdlb21ldHJ5OiB0aGlzLkV4dGVudC5mcm9tSlNPTihpbml0aWFsTWFwU3RhdGUuZXh0ZW50KSxcbiAgICAgICAgICByb3RhdGlvbjogaW5pdGlhbE1hcFN0YXRlLnJvdGF0aW9uXG4gICAgICAgIH1cbiAgICAgIClcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMuVmlld3BvaW50LmZyb21KU09OKGluaXRpYWxNYXBTdGF0ZS52aWV3UG9pbnQpO1xuICAgIH1cbiAgfVxuXG4gIGNsb25lTWFwID0gKCk6IF9fZXNyaS5XZWJNYXAgfCBfX2VzcmkuV2ViU2NlbmUgPT4ge1xuICAgIGxldCBtYXAgPSBudWxsO1xuICAgIGNvbnN0IGRhdGFTb3VyY2VKc29uID0gdGhpcy5nZXREc0pzb25Gcm9tRHNJZCh0aGlzLnByb3BzLmRhdGFTb3VyY2VJZCk7XG4gICAgbGV0IE1hcENsYXNzOiB0eXBlb2YgX19lc3JpLldlYk1hcCB8IHR5cGVvZiBfX2VzcmkuV2ViU2NlbmUgPSBudWxsO1xuICAgIGlmIChkYXRhU291cmNlSnNvbi50eXBlID09PSBEYXRhU291cmNlVHlwZXMuV2ViTWFwKSB7XG4gICAgICBNYXBDbGFzcyA9IHRoaXMuV2ViTWFwO1xuICAgIH1cblxuICAgIGlmIChkYXRhU291cmNlSnNvbi50eXBlID09PSBEYXRhU291cmNlVHlwZXMuV2ViU2NlbmUpIHtcbiAgICAgIE1hcENsYXNzID0gdGhpcy5XZWJTY2VuZTtcbiAgICB9XG5cbiAgICBpZihkYXRhU291cmNlSnNvbi5wb3J0YWxVcmwpe1xuICAgICAgY29uc3QgcG9ydGFsID0gbmV3IHRoaXMuUG9ydGFsKHtcbiAgICAgICAgdXJsOiBwb3J0YWxVcmxVdGlscy5nZXRIb3N0VXJsQnlPcmdVcmwoZGF0YVNvdXJjZUpzb24ucG9ydGFsVXJsKVxuICAgICAgfSk7XG5cbiAgICAgIG1hcCA9IG5ldyBNYXBDbGFzcyh7XG4gICAgICAgIHBvcnRhbEl0ZW06IG5ldyB0aGlzLlBvcnRhbEl0ZW0oe1xuICAgICAgICAgIGlkOiBkYXRhU291cmNlSnNvbi5pdGVtSWQsXG4gICAgICAgICAgcG9ydGFsOiBwb3J0YWxcbiAgICAgICAgfSlcbiAgICAgIH0pO1xuICAgIH1lbHNle1xuICAgICAgbWFwID0gbmV3IE1hcENsYXNzKHtcbiAgICAgICAgcG9ydGFsSXRlbTogbmV3IHRoaXMuUG9ydGFsSXRlbSh7XG4gICAgICAgICAgaWQ6IGRhdGFTb3VyY2VKc29uLml0ZW1JZFxuICAgICAgICB9KVxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBtYXA7XG4gIH1cblxuICBnZXRJbml0Vmlld1BvaW50Rm9yRGVmYXVsdFdlYk1hcCA9ICgpOiBfX2VzcmkuVmlld3BvaW50ID0+IHtcbiAgICBjb25zdCBwb3J0YWxTZWxmID0gZ2V0QXBwU3RvcmUoKS5nZXRTdGF0ZSgpLnBvcnRhbFNlbGY7XG4gICAgY29uc3QgZGVmYXVsdEV4dGVudCA9IHBvcnRhbFNlbGYgJiYgcG9ydGFsU2VsZi5kZWZhdWx0RXh0ZW50O1xuICAgIGxldCB0ZW1wVmlld1BvaW50ID0gbnVsbDtcbiAgICBpZiAodGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuY29uZmlnLmluaXRpYWxNYXBTdGF0ZSAmJiB0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5jb25maWcuaW5pdGlhbE1hcFN0YXRlLnZpZXdQb2ludCkge1xuICAgICAgdGVtcFZpZXdQb2ludCA9IHRoaXMuZ2VuZXJhdGVWaWV3UG9pbnRGcm9tSW5pdGlhbE1hcFN0YXRlKHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmNvbmZpZy5pbml0aWFsTWFwU3RhdGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0ZW1wVmlld1BvaW50ID0gbmV3IHRoaXMuVmlld3BvaW50KFxuICAgICAgICB7XG4gICAgICAgICAgdGFyZ2V0R2VvbWV0cnk6IG5ldyB0aGlzLkV4dGVudCh7XG4gICAgICAgICAgICB4bWluOiBkZWZhdWx0RXh0ZW50ICYmIGRlZmF1bHRFeHRlbnQueG1pbixcbiAgICAgICAgICAgIHltaW46IGRlZmF1bHRFeHRlbnQgJiYgZGVmYXVsdEV4dGVudC55bWluLFxuICAgICAgICAgICAgeG1heDogZGVmYXVsdEV4dGVudCAmJiBkZWZhdWx0RXh0ZW50LnhtYXgsXG4gICAgICAgICAgICB5bWF4OiBkZWZhdWx0RXh0ZW50ICYmIGRlZmF1bHRFeHRlbnQueW1heCxcbiAgICAgICAgICAgIHNwYXRpYWxSZWZlcmVuY2U6IHt3a2lkOiBkZWZhdWx0RXh0ZW50LnNwYXRpYWxSZWZlcmVuY2Uud2tpZH1cbiAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gdGVtcFZpZXdQb2ludDtcbiAgfVxuXG4gIGdldERlZmF1bHRXZWJNYXAgPSAoKSA9PiB7XG4gICAgY29uc3QgcG9ydGFsU2VsZiA9IGdldEFwcFN0b3JlKCkuZ2V0U3RhdGUoKS5wb3J0YWxTZWxmO1xuXG4gICAgY29uc3QgYmFzZU1hcE9iaiA9IHBvcnRhbFNlbGYgJiYgcG9ydGFsU2VsZi5kZWZhdWx0QmFzZW1hcCAmJiBwb3J0YWxTZWxmLmRlZmF1bHRCYXNlbWFwLmJhc2VNYXBMYXllcnMgJiYgcG9ydGFsU2VsZi5kZWZhdWx0QmFzZW1hcC5iYXNlTWFwTGF5ZXJzWzBdO1xuICAgIGNvbnN0IGRlZmF1bHRFeHRlbnQgPSBwb3J0YWxTZWxmICYmIHBvcnRhbFNlbGYuZGVmYXVsdEV4dGVudDtcblxuICAgIGxldCB0ZW1wVmlld1BvaW50ID0gbnVsbDtcbiAgICB0ZW1wVmlld1BvaW50ID0gbmV3IHRoaXMuVmlld3BvaW50KFxuICAgICAge1xuICAgICAgICB0YXJnZXRHZW9tZXRyeTogbmV3IHRoaXMuRXh0ZW50KHtcbiAgICAgICAgICB4bWluOiBkZWZhdWx0RXh0ZW50ICYmIGRlZmF1bHRFeHRlbnQueG1pbixcbiAgICAgICAgICB5bWluOiBkZWZhdWx0RXh0ZW50ICYmIGRlZmF1bHRFeHRlbnQueW1pbixcbiAgICAgICAgICB4bWF4OiBkZWZhdWx0RXh0ZW50ICYmIGRlZmF1bHRFeHRlbnQueG1heCxcbiAgICAgICAgICB5bWF4OiBkZWZhdWx0RXh0ZW50ICYmIGRlZmF1bHRFeHRlbnQueW1heCxcbiAgICAgICAgICBzcGF0aWFsUmVmZXJlbmNlOiB7d2tpZDogZGVmYXVsdEV4dGVudC5zcGF0aWFsUmVmZXJlbmNlLndraWR9XG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgKTtcblxuICAgIGNvbnN0IGRlZmF1bHRXZWJtYXAgPSBuZXcgdGhpcy5XZWJNYXAoe1xuICAgICAgYmFzZW1hcDogbmV3IHRoaXMuQmFzZW1hcCh7XG4gICAgICAgIGJhc2VMYXllcnM6IFtcbiAgICAgICAgICBuZXcgdGhpcy5UaWxlTGF5ZXIoe1xuICAgICAgICAgICAgdXJsOiBiYXNlTWFwT2JqICYmIGJhc2VNYXBPYmoudXJsXG4gICAgICAgICAgfSlcbiAgICAgICAgXSxcbiAgICAgICAgdGl0bGU6ICdiYXNlbWFwJyxcbiAgICAgICAgaWQ6ICdiYXNlbWFwJ1xuICAgICAgfSksXG4gICAgICBpbml0aWFsVmlld1Byb3BlcnRpZXM6IG5ldyB0aGlzLkluaXRpYWxWaWV3UHJvcGVydGllcyh7XG4gICAgICAgIHNwYXRpYWxSZWZlcmVuY2U6IGRlZmF1bHRFeHRlbnQgJiYgZGVmYXVsdEV4dGVudC5zcGF0aWFsUmVmZXJlbmNlLFxuICAgICAgICB2aWV3cG9pbnQ6IHRlbXBWaWV3UG9pbnQsXG4gICAgICB9KVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIGRlZmF1bHRXZWJtYXA7XG4gIH1cblxuICBpbml0TWFwVmlldyA9ICgpOiB2b2lkID0+IHtcbiAgICB0aGlzLmV4dGVudFdhdGNoID0gbnVsbDtcbiAgICB0aGlzLmZhdGFsRXJyb3JXYXRjaCA9IG51bGw7XG5cbiAgICBpZiAodGhpcy5tYXBWaWV3KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbGV0IG1hcFZpZXdPcHRpb246IF9fZXNyaS5NYXBWaWV3UHJvcGVydGllcztcbiAgICBpZiAodGhpcy5wcm9wcy5pc0RlZmF1bHRNYXApIHtcbiAgICAgIGNvbnN0IGRlZmF1bHRNYXAgPSB0aGlzLmdldERlZmF1bHRXZWJNYXAoKTtcbiAgICAgIG1hcFZpZXdPcHRpb24gPSB7XG4gICAgICAgIG1hcDogZGVmYXVsdE1hcCxcbiAgICAgICAgY29udGFpbmVyOiB0aGlzLm1hcENvbnRhaW5lcixcbiAgICAgICAgdmlld3BvaW50OiB0aGlzLmdldEluaXRWaWV3UG9pbnRGb3JEZWZhdWx0V2ViTWFwKCksXG4gICAgICAgIHJvdGF0aW9uOiB0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5jb25maWcuaW5pdGlhbE1hcFN0YXRlICYmIHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmNvbmZpZy5pbml0aWFsTWFwU3RhdGUucm90YXRpb25cbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHRlbXBXZWJtYXAgPSB0aGlzLmNsb25lTWFwKCk7XG5cbiAgICAgIGlmICh0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5jb25maWcuaW5pdGlhbE1hcFN0YXRlKSB7XG4gICAgICAgIG1hcFZpZXdPcHRpb24gPSB7XG4gICAgICAgICAgbWFwOiB0ZW1wV2VibWFwLFxuICAgICAgICAgIGNvbnRhaW5lcjogdGhpcy5tYXBDb250YWluZXIsXG4gICAgICAgICAgdmlld3BvaW50OiB0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5jb25maWcuaW5pdGlhbE1hcFN0YXRlXG4gICAgICAgICAgICAmJiB0aGlzLmdlbmVyYXRlVmlld1BvaW50RnJvbUluaXRpYWxNYXBTdGF0ZSh0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5jb25maWcuaW5pdGlhbE1hcFN0YXRlKVxuICAgICAgICB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbWFwVmlld09wdGlvbiA9IHtcbiAgICAgICAgICBtYXA6IHRlbXBXZWJtYXAsXG4gICAgICAgICAgY29udGFpbmVyOiB0aGlzLm1hcENvbnRhaW5lclxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICghd2luZG93LmppbXVDb25maWcuaXNJbkJ1aWxkZXIpIHtcbiAgICAgIGlmKHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLnF1ZXJ5T2JqZWN0W3RoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmlkXSl7XG4gICAgICAgIGNvbnN0IGV4dGVudFN0ciA9IHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLnF1ZXJ5T2JqZWN0W3RoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmlkXS5zdWJzdHIoJ2V4dGVudD0nLmxlbmd0aCk7XG4gICAgICAgIGxldCBleHRlbnQ7XG4gICAgICAgIHRyeXtcbiAgICAgICAgICBleHRlbnQgPSBuZXcgdGhpcy5FeHRlbnQoSlNPTi5wYXJzZShleHRlbnRTdHIpKTtcbiAgICAgICAgfWNhdGNoKGVycil7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignQmFkIGV4dGVudCBVUkwgcGFyYW1ldGVyLicpXG4gICAgICAgIH1cblxuICAgICAgICBpZihleHRlbnQpe1xuICAgICAgICAgIG1hcFZpZXdPcHRpb24uZXh0ZW50ID0gZXh0ZW50O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5tYXBWaWV3ID0gbmV3IHRoaXMuTWFwVmlldyhtYXBWaWV3T3B0aW9uKTtcbiAgICB0aGlzLm1hcFZpZXcucG9wdXAuc3Bpbm5lckVuYWJsZWQgPSBmYWxzZTtcblxuICAgIGNvbnN0IHVpID0gdGhpcy5tYXBWaWV3LnVpIGFzIGFueTtcbiAgICB1aS5leGJNYXBUb29scyA9IHt9O1xuXG4gICAgaWYgKHRoaXMucHJvcHMuaXNEZWZhdWx0TWFwIHx8ICh0aGlzLm1hcERzICYmIHRoaXMubWFwRHMuaWQgPT09IHRoaXMucHJvcHMuZGF0YVNvdXJjZUlkKSkge1xuICAgICAgdGhpcy5jcmVhdGVKaW11TWFwVmlldygpO1xuICAgIH1cblxuICAgIHRoaXMubWFwVmlldy53aGVuKCgpID0+IHtcbiAgICAgIC8vIGFmdGVyIHZpZXcgaXMgbG9hZGVkLCBzZW5kIGV4dGVudCBjaGFuZ2UgbWVzc2FnZVxuICAgICAgdGhpcy5zZXRTdGF0ZSh7bWFwTG9hZFN0YXR1czogTWFwTG9hZFN0YXR1cy5Mb2Fkb2t9LCAoKSA9PiB7XG4gICAgICAgIHRoaXMucHJvcHMub25NYXBMb2FkZWQodGhpcy5wcm9wcy5kYXRhU291cmNlSWQsIE1hcExvYWRTdGF0dXMuTG9hZG9rKTtcbiAgICAgIH0pO1xuXG4gICAgICBpZighdGhpcy5leHRlbnRXYXRjaCl7XG4gICAgICAgIHRoaXMuZXh0ZW50V2F0Y2ggPSB0aGlzLm1hcFZpZXcud2F0Y2goJ2V4dGVudCcsIChleHRlbnQ6IF9fZXNyaS5FeHRlbnQpID0+IHtcbiAgICAgICAgICBpZiAoIWV4dGVudCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLm9uRXh0ZW50ZWQpO1xuICAgICAgICAgIHRoaXMub25FeHRlbnRlZCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgaWYgKCFleHRlbnQpIHtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGhpcy5pc1JlY2VpdmVFeHRlbnRDaGFuZ2UpIHtcbiAgICAgICAgICAgICAgdGhpcy5pc1JlY2VpdmVFeHRlbnRDaGFuZ2UgPSBmYWxzZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGNvbnN0IGV4dGVudE1lc3NhZ2UgPSBuZXcgRXh0ZW50Q2hhbmdlTWVzc2FnZSh0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5pZCwgZXh0ZW50KTtcbiAgICAgICAgICAgICAgZXh0ZW50TWVzc2FnZS5hZGRSZWxhdGVkV2lkZ2V0SWQodGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWQpO1xuICAgICAgICAgICAgICB0aGlzLnByb3BzLm9uRXh0ZW50Q2hhbmdlZCh0aGlzLnByb3BzLmRhdGFTb3VyY2VJZCwgZXh0ZW50TWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSwgMjAwKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGlmKCF0aGlzLmZhdGFsRXJyb3JXYXRjaCkge1xuICAgICAgICB0aGlzLmZhdGFsRXJyb3JXYXRjaCA9IHRoaXMubWFwVmlldy53YXRjaCgnZmF0YWxFcnJvcicsIChlcnJvcikgPT4ge1xuICAgICAgICAgIGlmKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdGYXRhbCBFcnJvciEgVmlldyBoYXMgbG9zdCBpdHMgV2ViR0wgY29udGV4dC4gQXR0ZW1wdGluZyB0byByZWNvdmVyLi4uJyk7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgaXNNYXBDcmFzaGVkOiB0cnVlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIHRoaXMubWFwVmlldy50cnlGYXRhbEVycm9yUmVjb3ZlcnkoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgdGhpcy5nb0hvbWUoZmFsc2UpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgIGNvbnN0IGV4dGVudE1lc3NhZ2UgPSBuZXcgRXh0ZW50Q2hhbmdlTWVzc2FnZSh0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5pZCwgdGhpcy5tYXBWaWV3LmV4dGVudCk7XG4gICAgICAgICAgZXh0ZW50TWVzc2FnZS5hZGRSZWxhdGVkV2lkZ2V0SWQodGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWQpO1xuICAgICAgICAgIHRoaXMucHJvcHMub25FeHRlbnRDaGFuZ2VkKHRoaXMucHJvcHMuZGF0YVNvdXJjZUlkLCBleHRlbnRNZXNzYWdlKTtcbiAgICAgICAgICB0aGlzLnByb3BzLm9uVmlld0NoYW5nZWQgJiYgdGhpcy5wcm9wcy5vblZpZXdDaGFuZ2VkKHtkYXRhU291cmNlSWQ6IHRoaXMucHJvcHMuZGF0YVNvdXJjZUlkLCB2aWV3cG9pbnQ6IHRoaXMubWFwVmlldy52aWV3cG9pbnQuY2xvbmUoKX0pO1xuICAgICAgICB9KTtcbiAgICAgIH0sIDUwMCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLmJpbmRNYXBCYXNlVmlld0V2ZW50KHRoaXMubWFwVmlldyk7XG4gIH1cblxuICBpbml0U2NlbmVWaWV3ID0gKCk6IHZvaWQgPT4ge1xuICAgIHRoaXMuZXh0ZW50V2F0Y2ggPSBudWxsO1xuICAgIHRoaXMuZmF0YWxFcnJvcldhdGNoID0gbnVsbDtcblxuICAgIGlmICh0aGlzLnNjZW5lVmlldykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHRlbXBXZWJTY2VuZSA9IHRoaXMuY2xvbmVNYXAoKTtcblxuICAgIGxldCBtYXBWaWV3T3B0aW9uOiBfX2VzcmkuU2NlbmVWaWV3UHJvcGVydGllcztcblxuICAgIGlmICh0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5jb25maWcuaW5pdGlhbE1hcFN0YXRlKSB7XG4gICAgICBtYXBWaWV3T3B0aW9uID0ge1xuICAgICAgICBtYXA6IHRlbXBXZWJTY2VuZSxcbiAgICAgICAgY29udGFpbmVyOiB0aGlzLm1hcENvbnRhaW5lcixcbiAgICAgICAgcXVhbGl0eVByb2ZpbGU6ICdsb3cnLFxuICAgICAgICB2aWV3cG9pbnQ6IHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmNvbmZpZy5pbml0aWFsTWFwU3RhdGVcbiAgICAgICAgICAmJiB0aGlzLmdlbmVyYXRlVmlld1BvaW50RnJvbUluaXRpYWxNYXBTdGF0ZSh0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5jb25maWcuaW5pdGlhbE1hcFN0YXRlKVxuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgbWFwVmlld09wdGlvbiA9IHtcbiAgICAgICAgbWFwOiB0ZW1wV2ViU2NlbmUsXG4gICAgICAgIGNvbnRhaW5lcjogdGhpcy5tYXBDb250YWluZXIsXG4gICAgICAgIHF1YWxpdHlQcm9maWxlOiAnbG93J1xuICAgICAgfTtcbiAgICB9XG5cbiAgICB0aGlzLnNjZW5lVmlldyA9IG5ldyB0aGlzLlNjZW5lVmlldyhtYXBWaWV3T3B0aW9uKTtcbiAgICB0aGlzLnNjZW5lVmlldy5wb3B1cC5zcGlubmVyRW5hYmxlZCA9IGZhbHNlO1xuXG4gICAgY29uc3QgdWkgPSB0aGlzLnNjZW5lVmlldy51aSBhcyBhbnk7XG4gICAgdWkuZXhiTWFwVG9vbHMgPSB7fTtcblxuICAgIGlmICh0aGlzLm1hcERzICYmIHRoaXMubWFwRHMuaWQgPT09IHRoaXMucHJvcHMuZGF0YVNvdXJjZUlkKSB7XG4gICAgICB0aGlzLmNyZWF0ZUppbXVNYXBWaWV3KCk7XG4gICAgfVxuXG4gICAgdGhpcy5zY2VuZVZpZXcud2hlbigoKSA9PiB7XG4gICAgICAvLyBhZnRlciB2aWV3IGlzIGxvYWRlZCwgc2VuZCBleHRlbnQgY2hhbmdlIG1lc3NhZ2VcbiAgICAgIHRoaXMuc2V0U3RhdGUoe21hcExvYWRTdGF0dXM6IE1hcExvYWRTdGF0dXMuTG9hZG9rfSwgKCkgPT4ge1xuICAgICAgICB0aGlzLnByb3BzLm9uTWFwTG9hZGVkKHRoaXMucHJvcHMuZGF0YVNvdXJjZUlkLCBNYXBMb2FkU3RhdHVzLkxvYWRvayk7XG4gICAgICB9KTtcblxuICAgICAgaWYoIXRoaXMuZXh0ZW50V2F0Y2gpe1xuICAgICAgICB0aGlzLmV4dGVudFdhdGNoID0gdGhpcy5zY2VuZVZpZXcud2F0Y2goJ2V4dGVudCcsIChleHRlbnQ6IF9fZXNyaS5FeHRlbnQpID0+IHtcbiAgICAgICAgICBpZiAoIWV4dGVudCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLm9uRXh0ZW50ZWQpO1xuICAgICAgICAgIHRoaXMub25FeHRlbnRlZCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgaWYgKCFleHRlbnQpIHtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGhpcy5pc1JlY2VpdmVFeHRlbnRDaGFuZ2UpIHtcbiAgICAgICAgICAgICAgdGhpcy5pc1JlY2VpdmVFeHRlbnRDaGFuZ2UgPSBmYWxzZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGNvbnN0IGV4dGVudE1lc3NhZ2UgPSBuZXcgRXh0ZW50Q2hhbmdlTWVzc2FnZSh0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5pZCwgZXh0ZW50KTtcbiAgICAgICAgICAgICAgZXh0ZW50TWVzc2FnZS5hZGRSZWxhdGVkV2lkZ2V0SWQodGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWQpO1xuICAgICAgICAgICAgICB0aGlzLnByb3BzLm9uRXh0ZW50Q2hhbmdlZCh0aGlzLnByb3BzLmRhdGFTb3VyY2VJZCwgZXh0ZW50TWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSwgMjAwKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGlmKCF0aGlzLmZhdGFsRXJyb3JXYXRjaCkge1xuICAgICAgICB0aGlzLmZhdGFsRXJyb3JXYXRjaCA9IHRoaXMuc2NlbmVWaWV3LndhdGNoKCdmYXRhbEVycm9yJywgKGVycm9yKSA9PiB7XG4gICAgICAgICAgaWYoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhdGFsIEVycm9yISBWaWV3IGhhcyBsb3N0IGl0cyBXZWJHTCBjb250ZXh0LiBBdHRlbXB0aW5nIHRvIHJlY292ZXIuLi4nKTtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICBpc01hcENyYXNoZWQ6IHRydWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy90aGlzLnNjZW5lVmlldy50cnlGYXRhbEVycm9yUmVjb3ZlcnkoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgdGhpcy5nb0hvbWUoZmFsc2UpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgIGNvbnN0IGV4dGVudE1lc3NhZ2UgPSBuZXcgRXh0ZW50Q2hhbmdlTWVzc2FnZSh0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5pZCwgdGhpcy5zY2VuZVZpZXcuZXh0ZW50KTtcbiAgICAgICAgICBleHRlbnRNZXNzYWdlLmFkZFJlbGF0ZWRXaWRnZXRJZCh0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5pZCk7XG4gICAgICAgICAgdGhpcy5wcm9wcy5vbkV4dGVudENoYW5nZWQodGhpcy5wcm9wcy5kYXRhU291cmNlSWQsIGV4dGVudE1lc3NhZ2UpO1xuICAgICAgICAgIHRoaXMucHJvcHMub25WaWV3Q2hhbmdlZCAmJiB0aGlzLnByb3BzLm9uVmlld0NoYW5nZWQoe2RhdGFTb3VyY2VJZDogdGhpcy5wcm9wcy5kYXRhU291cmNlSWQsIHZpZXdwb2ludDogdGhpcy5zY2VuZVZpZXcudmlld3BvaW50LmNsb25lKCl9KTtcbiAgICAgICAgfSk7XG4gICAgICB9LCA1MDApO1xuICAgIH0pO1xuXG4gICAgdGhpcy5iaW5kTWFwQmFzZVZpZXdFdmVudCh0aGlzLnNjZW5lVmlldyk7XG4gIH1cblxuICB1cGRhdGVNYXBWaWV3ID0gKGNvbmZpZzogSU1Db25maWcpOiB2b2lkID0+IHtcbiAgICBjb25zdCBqaW11TWFwVmlld0lkID0gYCR7dGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWR9LSR7dGhpcy5wcm9wcy5kYXRhU291cmNlSWR9YDtcbiAgICBsZXQgamltdU1hcFZpZXc6IEppbXVNYXBWaWV3ID0gbnVsbDtcbiAgICBpZiAoamltdU1hcFZpZXdJZCkge1xuICAgICAgamltdU1hcFZpZXcgPSBNYXBWaWV3TWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldEppbXVNYXBWaWV3QnlJZChqaW11TWFwVmlld0lkKTtcbiAgICB9XG5cbiAgICBpZiAoIShqaW11TWFwVmlldyAmJiBqaW11TWFwVmlldy5nZXRJc0VkaXRpbmcoKSkpIHtcbiAgICAgIGlmIChjb25maWcuZGlzYWJsZVBvcFVwKSB7XG4gICAgICAgIHRoaXMubWFwVmlldy5wb3B1cC5jbG9zZSgpO1xuICAgICAgICB0aGlzLm1hcFZpZXcucG9wdXAuYXV0b09wZW5FbmFibGVkID0gZmFsc2U7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLm1hcFZpZXcucG9wdXAuYXV0b09wZW5FbmFibGVkID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKGppbXVNYXBWaWV3KSB7XG4gICAgICAgIChqaW11TWFwVmlldyBhcyBhbnkpLmlzRW5hYmxlUG9wdXAgPSAhY29uZmlnLmRpc2FibGVQb3BVcDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoY29uZmlnLnNlbGVjdGlvbkhpZ2hsaWdodENvbG9yKSB7XG4gICAgICB0aGlzLm1hcFZpZXcuaGlnaGxpZ2h0T3B0aW9ucy5jb2xvciA9IG5ldyB0aGlzLkNvbG9yKGNvbmZpZy5zZWxlY3Rpb25IaWdobGlnaHRDb2xvcik7XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLm1hcFZpZXcudWkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLm1hcFZpZXcudWkuY29tcG9uZW50cyA9IFtdO1xuICB9XG5cbiAgdXBkYXRlU2NlbmVWaWV3ID0gKGNvbmZpZzogSU1Db25maWcpOiB2b2lkID0+IHtcbiAgICBjb25zdCBqaW11TWFwVmlld0lkID0gYCR7dGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWR9LSR7dGhpcy5wcm9wcy5kYXRhU291cmNlSWR9YDtcblxuICAgIGxldCBqaW11TWFwVmlldzogSmltdU1hcFZpZXcgPSBudWxsO1xuICAgIGlmIChqaW11TWFwVmlld0lkKSB7XG4gICAgICBqaW11TWFwVmlldyA9IE1hcFZpZXdNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0SmltdU1hcFZpZXdCeUlkKGppbXVNYXBWaWV3SWQpO1xuICAgIH1cblxuICAgIGlmICghKGppbXVNYXBWaWV3ICYmIGppbXVNYXBWaWV3LmdldElzRWRpdGluZygpKSkge1xuICAgICAgaWYgKGNvbmZpZy5kaXNhYmxlUG9wVXApIHtcbiAgICAgICAgdGhpcy5zY2VuZVZpZXcucG9wdXAuY2xvc2UoKTtcbiAgICAgICAgdGhpcy5zY2VuZVZpZXcucG9wdXAuYXV0b09wZW5FbmFibGVkID0gZmFsc2U7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnNjZW5lVmlldy5wb3B1cC5hdXRvT3BlbkVuYWJsZWQgPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAoamltdU1hcFZpZXcpIHtcbiAgICAgICAgKGppbXVNYXBWaWV3IGFzIGFueSkuaXNFbmFibGVQb3B1cCA9ICFjb25maWcuZGlzYWJsZVBvcFVwO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChjb25maWcuc2VsZWN0aW9uSGlnaGxpZ2h0Q29sb3IpIHtcbiAgICAgIHRoaXMuc2NlbmVWaWV3LmhpZ2hsaWdodE9wdGlvbnMuY29sb3IgPSBuZXcgdGhpcy5Db2xvcihjb25maWcuc2VsZWN0aW9uSGlnaGxpZ2h0Q29sb3IpO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5zY2VuZVZpZXcudWkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLnNjZW5lVmlldy51aS5jb21wb25lbnRzID0gW107XG4gIH1cblxuICBiaW5kTWFwQmFzZVZpZXdFdmVudCA9IChtYXBCYXNlVmlldzogX19lc3JpLk1hcFZpZXcgfCAgX19lc3JpLlNjZW5lVmlldykgPT4ge1xuICAgIGlmIChtYXBCYXNlVmlldykge1xuICAgICAgaWYgKHRoaXMubWFwQmFzZVZpZXdFdmVudEhhbmRsZXNbJ21vdXNlLXdoZWVsJ10pIHtcbiAgICAgICAgdGhpcy5tYXBCYXNlVmlld0V2ZW50SGFuZGxlc1snbW91c2Utd2hlZWwnXS5yZW1vdmUoKTtcbiAgICAgICAgdGhpcy5tYXBCYXNlVmlld0V2ZW50SGFuZGxlc1snbW91c2Utd2hlZWwnXSA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIHRoaXMubWFwQmFzZVZpZXdFdmVudEhhbmRsZXNbJ21vdXNlLXdoZWVsJ10gPSBtYXBCYXNlVmlldy5vbignbW91c2Utd2hlZWwnLCAoZSkgPT4ge1xuICAgICAgICBpZiAodGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuY29uZmlnLmRpc2FibGVTY3JvbGwpIHtcbiAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgIHRoaXMuaGFuZGxlRGlzYWJsZVdoZWVsKCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5wcm9wcy5vblZpZXdDaGFuZ2VkICYmIHRoaXMucHJvcHMub25WaWV3Q2hhbmdlZCh7ZGF0YVNvdXJjZUlkOiB0aGlzLnByb3BzLmRhdGFTb3VyY2VJZCwgdmlld3BvaW50OiBtYXBCYXNlVmlldy52aWV3cG9pbnQuY2xvbmUoKX0pO1xuICAgICAgfSk7XG5cbiAgICAgIGlmICh0aGlzLm1hcEJhc2VWaWV3RXZlbnRIYW5kbGVzWydkcmFnJ10pIHtcbiAgICAgICAgdGhpcy5tYXBCYXNlVmlld0V2ZW50SGFuZGxlc1snZHJhZyddLnJlbW92ZSgpO1xuICAgICAgICB0aGlzLm1hcEJhc2VWaWV3RXZlbnRIYW5kbGVzWydkcmFnJ10gPSBudWxsO1xuICAgICAgfVxuXG4gICAgICB0aGlzLm1hcEJhc2VWaWV3RXZlbnRIYW5kbGVzWydkcmFnJ10gPSBtYXBCYXNlVmlldy5vbignZHJhZycsICgpID0+IHtcbiAgICAgICAgdGhpcy5wcm9wcy5vblZpZXdDaGFuZ2VkICYmIHRoaXMucHJvcHMub25WaWV3Q2hhbmdlZCh7ZGF0YVNvdXJjZUlkOiB0aGlzLnByb3BzLmRhdGFTb3VyY2VJZCwgdmlld3BvaW50OiBtYXBCYXNlVmlldy52aWV3cG9pbnQuY2xvbmUoKX0pO1xuICAgICAgfSk7XG5cbiAgICAgIGlmICh0aGlzLm1hcEJhc2VWaWV3RXZlbnRIYW5kbGVzWydjbGljayddKSB7XG4gICAgICAgIHRoaXMubWFwQmFzZVZpZXdFdmVudEhhbmRsZXNbJ2NsaWNrJ10ucmVtb3ZlKCk7XG4gICAgICAgIHRoaXMubWFwQmFzZVZpZXdFdmVudEhhbmRsZXNbJ2NsaWNrJ10gPSBudWxsO1xuICAgICAgfVxuXG4gICAgICB0aGlzLm1hcEJhc2VWaWV3RXZlbnRIYW5kbGVzWydjbGljayddID0gbWFwQmFzZVZpZXcub24oJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiB0aGlzLmhpZ2hMaWdodEhhbmRsZXMpIHtcbiAgICAgICAgICB0aGlzLmhpZ2hMaWdodEhhbmRsZXNba2V5XS5yZW1vdmUoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgY3JlYXRlSmltdU1hcFZpZXcgPSAoKSA9PiB7XG4gICAgTWFwVmlld01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5jcmVhdGVKaW11TWFwVmlldyh7XG4gICAgICBtYXBXaWRnZXRJZDogdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWQsXG4gICAgICBkYXRhc291cmNlSWQ6IHRoaXMucHJvcHMuZGF0YVNvdXJjZUlkLFxuICAgICAgdmlldzogdGhpcy5tYXBWaWV3IHx8IHRoaXMuc2NlbmVWaWV3LFxuICAgICAgaXNFbmFibGVQb3B1cDogdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuY29uZmlnICYmICF0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5jb25maWcuZGlzYWJsZVBvcFVwXG4gICAgfSBhcyBKaW11TWFwVmlld0NvbnN0cnVjdG9yT3B0aW9ucyk7XG5cbiAgICBjb25zdCBtYXBCYXNlVmlldyA9IHRoaXMubWFwVmlldyB8fCB0aGlzLnNjZW5lVmlldztcbiAgICBtYXBCYXNlVmlldy53aGVuKCgpID0+IHtcbiAgICAgIGNvbnN0IHRlbXBKaW11TWFwVmlld0lkID0gYCR7dGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWR9LSR7dGhpcy5wcm9wcy5kYXRhU291cmNlSWR9YDtcbiAgICAgIGNvbnN0IHRlbXBKaW11TWFwVmlldyA9IE1hcFZpZXdNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0SmltdU1hcFZpZXdCeUlkKHRlbXBKaW11TWFwVmlld0lkKTtcbiAgICAgIGlmICh0ZW1wSmltdU1hcFZpZXcpIHtcbiAgICAgICAgdGhpcy5wcm9wcy5vbkppbXVNYXBWaWV3Q3JlYXRlZCgpO1xuXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIG1hcEJhc2VKaW11TWFwVmlldzogdGVtcEppbXVNYXBWaWV3XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgb25EYXRhU291cmNlQ3JlYXRlZCA9IChkYXRhU291cmNlOiBNYXBEYXRhU291cmNlKTogdm9pZCA9PiB7XG4gICAgdGhpcy5tYXBEcyA9IGRhdGFTb3VyY2U7XG4gICAgaWYgKHRoaXMubWFwRHMuaWQgPT09IHRoaXMucHJvcHMuZGF0YVNvdXJjZUlkICYmICh0aGlzLm1hcFZpZXcgfHwgdGhpcy5zY2VuZVZpZXcpKSB7XG4gICAgICB0aGlzLmNyZWF0ZUppbXVNYXBWaWV3KCk7XG4gICAgfVxuXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBpc01hcENyYXNoZWQ6IGZhbHNlXG4gICAgfSlcbiAgfVxuXG4gIG9uQ3JlYXRlRGF0YVNvdXJjZUZhaWxlZCA9IChlcnIpOiB2b2lkID0+IHtcbiAgICBjb25zb2xlLndhcm4oZXJyKTtcbiAgICB0aGlzLm1hcERzID0gbnVsbDtcblxuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgbWFwTG9hZFN0YXR1czogTWFwTG9hZFN0YXR1cy5Mb2FkRXJyb3IsXG4gICAgICBpc01hcENyYXNoZWQ6IGZhbHNlXG4gICAgfSwgKCkgPT4ge1xuICAgICAgdGhpcy5wcm9wcy5vbk1hcExvYWRlZCh0aGlzLnByb3BzLmRhdGFTb3VyY2VJZCwgTWFwTG9hZFN0YXR1cy5Mb2FkRXJyb3IpO1xuICAgICAgdGhpcy5jcmVhdGVKaW11TWFwVmlldygpO1xuICAgIH0pO1xuICB9XG5cbiAgc2V0Vmlld1BvaW50ID0gKHZpZXdQb2ludCk6IHZvaWQgPT4ge1xuICAgIGlmICghdmlld1BvaW50IHx8ICF0aGlzLmdldERzSnNvbkZyb21Ec0lkKHRoaXMucHJvcHMuZGF0YVNvdXJjZUlkKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmdldERzSnNvbkZyb21Ec0lkKHRoaXMucHJvcHMuZGF0YVNvdXJjZUlkKS50eXBlID09PSBEYXRhU291cmNlVHlwZXMuV2ViTWFwKSB7XG4gICAgICBpZiAodGhpcy5tYXBWaWV3KSB7XG4gICAgICAgIHRoaXMubWFwVmlldy52aWV3cG9pbnQgPSB2aWV3UG9pbnQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuZ2V0RHNKc29uRnJvbURzSWQodGhpcy5wcm9wcy5kYXRhU291cmNlSWQpLnR5cGUgPT09IERhdGFTb3VyY2VUeXBlcy5XZWJTY2VuZSkge1xuICAgICAgaWYgKHRoaXMuc2NlbmVWaWV3KSB7XG4gICAgICAgIHRoaXMuc2NlbmVWaWV3LnZpZXdwb2ludCA9IHZpZXdQb2ludDtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBnZXRNYXBMb2FkU3RhdHVzID0gKCk6IE1hcExvYWRTdGF0dXMgPT4ge1xuICAgIHJldHVybiB0aGlzLnN0YXRlLm1hcExvYWRTdGF0dXM7XG4gIH1cblxuICBnZXRWaWV3UG9pbnQgPSAoKTogX19lc3JpLlZpZXdwb2ludCA9PiB7XG4gICAgaWYgKCF0aGlzLmdldERzSnNvbkZyb21Ec0lkKHRoaXMucHJvcHMuZGF0YVNvdXJjZUlkKSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuZ2V0RHNKc29uRnJvbURzSWQodGhpcy5wcm9wcy5kYXRhU291cmNlSWQpLnR5cGUgPT09IERhdGFTb3VyY2VUeXBlcy5XZWJNYXApIHtcbiAgICAgIHJldHVybiB0aGlzLm1hcFZpZXcgJiYgdGhpcy5tYXBWaWV3LnZpZXdwb2ludCA/IHRoaXMubWFwVmlldy52aWV3cG9pbnQuY2xvbmUoKSA6IG51bGw7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuZ2V0RHNKc29uRnJvbURzSWQodGhpcy5wcm9wcy5kYXRhU291cmNlSWQpLnR5cGUgPT09IERhdGFTb3VyY2VUeXBlcy5XZWJTY2VuZSkge1xuICAgICAgaWYgKHRoaXMuc2NlbmVWaWV3ICYmIHRoaXMuc2NlbmVWaWV3LnZpZXdwb2ludCkge1xuICAgICAgICAvLyBGb3Igc2NlbmUsIHRoZSBmaXJzdCBleHRlbnQgKGFmdGVyIHNjZW5lIGxvYWRlZCkgaXMgbm90IGNvcnJlY3QuIFNvIHdlIHVzZSBnbyB0byBjYW1lcmEgdG8gZ2V0IGNvcnJlY3QgZXh0ZW50XG4gICAgICAgIHRoaXMuc2NlbmVWaWV3LmdvVG8odGhpcy5zY2VuZVZpZXcudmlld3BvaW50LmNhbWVyYSwge1xuICAgICAgICAgIGFuaW1hdGU6IGZhbHNlXG4gICAgICAgIH0pIGFzIGFueTtcblxuICAgICAgICByZXR1cm4gdGhpcy5zY2VuZVZpZXcudmlld3BvaW50LmNsb25lKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBnZXRWaWV3VHlwZSA9ICgpOiBzdHJpbmcgPT4ge1xuICAgIHJldHVybiB0aGlzLmdldERzSnNvbkZyb21Ec0lkKHRoaXMucHJvcHMuZGF0YVNvdXJjZUlkKS50eXBlO1xuICB9XG5cbiAgZ29Ub1RpbHQgPSAodGlsdCkgPT4ge1xuICAgIHRoaXMuc2NlbmVWaWV3ICYmIHRoaXMuc2NlbmVWaWV3LmdvVG8oe1xuICAgICAgdGlsdDogdGlsdFxuICAgIH0pO1xuICB9XG5cbiAgZ29Ib21lID0gKHVzZUFtaW5hdGlvbj86IGJvb2xlYW4pOiBQcm9taXNlPGFueT4gPT4ge1xuICAgIGlmICghdGhpcy5nZXREc0pzb25Gcm9tRHNJZCh0aGlzLnByb3BzLmRhdGFTb3VyY2VJZCkpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG5cbiAgICBjb25zdCBpbml0Vmlld1BvaW50ID0gdGhpcy5nZXRNYXBCYXNlSW5pdFZpZXdQb2ludCgpO1xuXG4gICAgaWYgKHRoaXMuZ2V0RHNKc29uRnJvbURzSWQodGhpcy5wcm9wcy5kYXRhU291cmNlSWQpLnR5cGUgPT09IERhdGFTb3VyY2VUeXBlcy5XZWJNYXApIHtcbiAgICAgIGlmICh0aGlzLm1hcFZpZXcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWFwVmlldy5nb1RvKGluaXRWaWV3UG9pbnQsIHtcbiAgICAgICAgICBhbmltYXRlOiB1c2VBbWluYXRpb25cbiAgICAgICAgfSkgYXMgYW55O1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aGlzLmdldERzSnNvbkZyb21Ec0lkKHRoaXMucHJvcHMuZGF0YVNvdXJjZUlkKS50eXBlID09PSBEYXRhU291cmNlVHlwZXMuV2ViU2NlbmUpIHtcbiAgICAgIGlmICh0aGlzLnNjZW5lVmlldykge1xuICAgICAgICByZXR1cm4gdGhpcy5zY2VuZVZpZXcuZ29Ubyhpbml0Vmlld1BvaW50LCB7XG4gICAgICAgICAgYW5pbWF0ZTogdXNlQW1pbmF0aW9uXG4gICAgICAgIH0pIGFzIGFueTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gIH1cblxuICBnZXRNYXBCYXNlSW5pdFZpZXdQb2ludCA9ICgpOiBfX2VzcmkuVmlld3BvaW50ID0+IHtcbiAgICBpZiAodGhpcy5wcm9wcy5pc0RlZmF1bHRNYXApIHtcbiAgICAgIHJldHVybiB0aGlzLmdldEluaXRWaWV3UG9pbnRGb3JEZWZhdWx0V2ViTWFwKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICh0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5jb25maWcuaW5pdGlhbE1hcFN0YXRlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdlbmVyYXRlVmlld1BvaW50RnJvbUluaXRpYWxNYXBTdGF0ZSh0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5jb25maWcuaW5pdGlhbE1hcFN0YXRlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICh0aGlzLm1hcFZpZXcpIHtcbiAgICAgICAgICByZXR1cm4gKHRoaXMubWFwVmlldy5tYXAgYXMgX19lc3JpLldlYk1hcCk/LmluaXRpYWxWaWV3UHJvcGVydGllcz8udmlld3BvaW50Py5jbG9uZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuc2NlbmVWaWV3KSB7XG4gICAgICAgICAgcmV0dXJuICh0aGlzLnNjZW5lVmlldy5tYXAgYXMgX19lc3JpLldlYlNjZW5lKT8uaW5pdGlhbFZpZXdQcm9wZXJ0aWVzPy52aWV3cG9pbnQ/LmNsb25lKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBnZXREc0pzb25Gcm9tRHNJZCA9IChkYXRhU291cmNlSWQ6IHN0cmluZykgPT4ge1xuICAgIGNvbnN0IGRzSnNvbiA9IGdldEFwcFN0b3JlKCkuZ2V0U3RhdGUoKS5hcHBDb25maWcuZGF0YVNvdXJjZXNbZGF0YVNvdXJjZUlkXTtcbiAgICByZXR1cm4gZHNKc29uID8gZHNKc29uIDoge30gYXMgYW55O1xuICB9XG5cbiAgaGFuZGxlQWN0aW9uID0gKG11dGFibGVTdGF0ZVByb3BzOiBBY3Rpb25SZWxhdGVkUHJvcHMsIG1hcEJhc2VWaWV3OiBfX2VzcmkuTWFwVmlldyB8IF9fZXNyaS5TY2VuZVZpZXcpID0+IHtcbiAgICBpZiAobXV0YWJsZVN0YXRlUHJvcHMuem9vbVRvRmVhdHVyZUFjdGlvblZhbHVlKSB7XG4gICAgICBpZiAobXV0YWJsZVN0YXRlUHJvcHMuem9vbVRvRmVhdHVyZUFjdGlvblZhbHVlLnJlbGF0ZWRXaWRnZXRzXG4gICAgICAgICYmIG11dGFibGVTdGF0ZVByb3BzLnpvb21Ub0ZlYXR1cmVBY3Rpb25WYWx1ZS5yZWxhdGVkV2lkZ2V0cy5pbmRleE9mKHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmlkKSA+IC0xKSB7XG4gICAgICAgIHRoaXMucHJvcHMub25NdXRhYmxlU3RhdGVQcm9wc0NoYW5nZWQodGhpcy5wcm9wcy5kYXRhU291cmNlSWQsICd6b29tVG9GZWF0dXJlQWN0aW9uVmFsdWUnLCBudWxsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IHRlbXBNYXBCYXNlVmlldyA9IG1hcEJhc2VWaWV3IGFzIGFueTtcblxuICAgICAgICBjb25zdCByZWxhdGVkV2lkZ2V0cyA9IG11dGFibGVTdGF0ZVByb3BzLnpvb21Ub0ZlYXR1cmVBY3Rpb25WYWx1ZS5yZWxhdGVkV2lkZ2V0cyA/XG4gICAgICAgICAgbXV0YWJsZVN0YXRlUHJvcHMuem9vbVRvRmVhdHVyZUFjdGlvblZhbHVlLnJlbGF0ZWRXaWRnZXRzIDogW107XG5cbiAgICAgICAgY29uc3Qgem9vbVRvRmVhdHVyZVZhbHVlID0gbXV0YWJsZVN0YXRlUHJvcHMuem9vbVRvRmVhdHVyZUFjdGlvblZhbHVlLnZhbHVlO1xuICAgICAgICBsZXQgbGF5ZXIgPSBudWxsO1xuICAgICAgICBpZiAoem9vbVRvRmVhdHVyZVZhbHVlLmxheWVySWQpIHtcbiAgICAgICAgICBsYXllciA9IHRlbXBNYXBCYXNlVmlldy5tYXAubGF5ZXJzLmZpbmQobGF5ZXIgPT4gbGF5ZXIuaWQgPT09IHpvb21Ub0ZlYXR1cmVWYWx1ZS5sYXllcklkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh6b29tVG9GZWF0dXJlVmFsdWUudHlwZSA9PT0gJ3pvb20tdG8tZXh0ZW50Jykge1xuICAgICAgICAgIHpvb21Ub1V0aWxzLnpvb21Ubyh0ZW1wTWFwQmFzZVZpZXcsIHpvb21Ub0ZlYXR1cmVWYWx1ZS5mZWF0dXJlc1swXSwgem9vbVRvRmVhdHVyZVZhbHVlLnpvb21Ub09wdGlvbikudGhlbigoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmlzUmVjZWl2ZUV4dGVudENoYW5nZSA9IHRydWU7XG4gICAgICAgICAgICByZWxhdGVkV2lkZ2V0cy5wdXNoKHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmlkKTtcbiAgICAgICAgICAgIGNvbnN0IGV4dGVudE1lc3NhZ2UgPSBuZXcgRXh0ZW50Q2hhbmdlTWVzc2FnZSh0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5pZCwgdGVtcE1hcEJhc2VWaWV3LmV4dGVudCk7XG4gICAgICAgICAgICBleHRlbnRNZXNzYWdlLnNldFJlbGF0ZWRXaWRnZXRJZHMocmVsYXRlZFdpZGdldHMpO1xuICAgICAgICAgICAgdGhpcy5wcm9wcy5vbkV4dGVudENoYW5nZWQodGhpcy5wcm9wcy5kYXRhU291cmNlSWQsIGV4dGVudE1lc3NhZ2UpO1xuICAgICAgICAgIH0sICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuaXNSZWNlaXZlRXh0ZW50Q2hhbmdlID0gdHJ1ZTtcbiAgICAgICAgICB9KVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxldCB0YXJnZXQgPSBudWxsO1xuICAgICAgICAgIGlmIChsYXllcikge1xuICAgICAgICAgICAgdGFyZ2V0ID0ge1xuICAgICAgICAgICAgICBsYXllcjogbGF5ZXIsXG4gICAgICAgICAgICAgIGdyYXBoaWNzOiB6b29tVG9GZWF0dXJlVmFsdWUuZmVhdHVyZXNcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGFyZ2V0ID0gem9vbVRvRmVhdHVyZVZhbHVlLmZlYXR1cmVzO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHByb2Nlc3Nab29tVG9GZWF0dXJlcyh0ZW1wTWFwQmFzZVZpZXcsIHRhcmdldC5sYXllciwgKHRhcmdldCAmJiB0YXJnZXQuZ3JhcGhpY3MpID8gdGFyZ2V0LmdyYXBoaWNzIDogdGFyZ2V0KS50aGVuKFxuICAgICAgICAgICAgZ3JhcGhpY3MgPT4ge1xuICAgICAgICAgICAgICBpZiAobGF5ZXIpIHtcbiAgICAgICAgICAgICAgICB0YXJnZXQuZ3JhcGhpY3MgPSBncmFwaGljcztcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0YXJnZXQgPSBncmFwaGljcztcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHpvb21Ub1V0aWxzLnpvb21Ubyh0ZW1wTWFwQmFzZVZpZXcsIHRhcmdldCwgem9vbVRvRmVhdHVyZVZhbHVlLnpvb21Ub09wdGlvbikudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5pc1JlY2VpdmVFeHRlbnRDaGFuZ2UgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHJlbGF0ZWRXaWRnZXRzLnB1c2godGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGV4dGVudE1lc3NhZ2UgPSBuZXcgRXh0ZW50Q2hhbmdlTWVzc2FnZSh0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5pZCwgdGVtcE1hcEJhc2VWaWV3LmV4dGVudCk7XG4gICAgICAgICAgICAgICAgZXh0ZW50TWVzc2FnZS5zZXRSZWxhdGVkV2lkZ2V0SWRzKHJlbGF0ZWRXaWRnZXRzKTtcbiAgICAgICAgICAgICAgICB0aGlzLnByb3BzLm9uRXh0ZW50Q2hhbmdlZCh0aGlzLnByb3BzLmRhdGFTb3VyY2VJZCwgZXh0ZW50TWVzc2FnZSk7XG4gICAgICAgICAgICAgIH0sICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmlzUmVjZWl2ZUV4dGVudENoYW5nZSA9IHRydWU7XG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgICAgKVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5wcm9wcy5vbk11dGFibGVTdGF0ZVByb3BzQ2hhbmdlZCh0aGlzLnByb3BzLmRhdGFTb3VyY2VJZCwgJ3pvb21Ub0ZlYXR1cmVBY3Rpb25WYWx1ZScsIG51bGwpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChtdXRhYmxlU3RhdGVQcm9wcy5wYW5Ub0FjdGlvblZhbHVlKSB7XG4gICAgICBpZiAobXV0YWJsZVN0YXRlUHJvcHMucGFuVG9BY3Rpb25WYWx1ZS5yZWxhdGVkV2lkZ2V0c1xuICAgICAgICAmJiBtdXRhYmxlU3RhdGVQcm9wcy5wYW5Ub0FjdGlvblZhbHVlLnJlbGF0ZWRXaWRnZXRzLmluZGV4T2YodGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWQpID4gLTEpIHtcbiAgICAgICAgdGhpcy5wcm9wcy5vbk11dGFibGVTdGF0ZVByb3BzQ2hhbmdlZCh0aGlzLnByb3BzLmRhdGFTb3VyY2VJZCwgJ3BhblRvQWN0aW9uVmFsdWUnLCBudWxsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IHRlbXBNYXBCYXNlVmlldyA9IG1hcEJhc2VWaWV3IGFzIGFueTtcbiAgICAgICAgY29uc3QgcmVsYXRlZFdpZGdldHMgPSBtdXRhYmxlU3RhdGVQcm9wcy5wYW5Ub0FjdGlvblZhbHVlLnJlbGF0ZWRXaWRnZXRzID9cbiAgICAgICAgICBtdXRhYmxlU3RhdGVQcm9wcy5wYW5Ub0FjdGlvblZhbHVlLnJlbGF0ZWRXaWRnZXRzIDogW107XG5cbiAgICAgICAgY29uc3QgcGFuVG9WYWx1ZSA9IG11dGFibGVTdGF0ZVByb3BzLnBhblRvQWN0aW9uVmFsdWUudmFsdWUgYXMgYW55O1xuICAgICAgICBwcm9qZWN0R2VvbWV0cmllcyhwYW5Ub1ZhbHVlLmZlYXR1cmVzLCB0ZW1wTWFwQmFzZVZpZXcuc3BhdGlhbFJlZmVyZW5jZSkudGhlbigoZ2VvbWV0cmllcykgPT4ge1xuICAgICAgICAgIG1hcFBhbnRvKG1hcEJhc2VWaWV3LCBnZW9tZXRyaWVzKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuaXNSZWNlaXZlRXh0ZW50Q2hhbmdlID0gdHJ1ZTtcbiAgICAgICAgICAgIHJlbGF0ZWRXaWRnZXRzLnB1c2godGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWQpO1xuICAgICAgICAgICAgY29uc3QgZXh0ZW50TWVzc2FnZSA9IG5ldyBFeHRlbnRDaGFuZ2VNZXNzYWdlKHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmlkLCB0ZW1wTWFwQmFzZVZpZXcuZXh0ZW50KTtcbiAgICAgICAgICAgIGV4dGVudE1lc3NhZ2Uuc2V0UmVsYXRlZFdpZGdldElkcyhyZWxhdGVkV2lkZ2V0cyk7XG4gICAgICAgICAgICB0aGlzLnByb3BzLm9uRXh0ZW50Q2hhbmdlZCh0aGlzLnByb3BzLmRhdGFTb3VyY2VJZCwgZXh0ZW50TWVzc2FnZSk7XG4gICAgICAgICAgfSwgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5pc1JlY2VpdmVFeHRlbnRDaGFuZ2UgPSB0cnVlO1xuICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgICB9XG5cbiAgICAgIHRoaXMuaXNSZWNlaXZlRXh0ZW50Q2hhbmdlID0gdHJ1ZTtcbiAgICAgIHRoaXMucHJvcHMub25NdXRhYmxlU3RhdGVQcm9wc0NoYW5nZWQodGhpcy5wcm9wcy5kYXRhU291cmNlSWQsICdwYW5Ub0FjdGlvblZhbHVlJywgbnVsbCk7XG4gICAgfVxuXG4gICAgaWYgKG11dGFibGVTdGF0ZVByb3BzLm5ld0ZlYXR1cmVTZXRBY3Rpb25WYWx1ZSAmJiAhbXV0YWJsZVN0YXRlUHJvcHMubmV3RmVhdHVyZVNldEFjdGlvblZhbHVlLnByb21pc2UpIHtcbiAgICAgIGNvbnN0IGNyZWF0ZU5ld0ZlYXR1cmVsYXllclByb21pc2UgPSBjcmVhdGVOZXdGZWF0dXJlbGF5ZXIobWFwQmFzZVZpZXcsIG11dGFibGVTdGF0ZVByb3BzLm5ld0ZlYXR1cmVTZXRBY3Rpb25WYWx1ZS52YWx1ZSk7XG4gICAgICBpZiAoY3JlYXRlTmV3RmVhdHVyZWxheWVyUHJvbWlzZSkge1xuICAgICAgICB0aGlzLnByb3BzLm9uTXV0YWJsZVN0YXRlUHJvcHNDaGFuZ2VkKHRoaXMucHJvcHMuZGF0YVNvdXJjZUlkLCAnbmV3RmVhdHVyZVNldEFjdGlvblZhbHVlLnByb21pc2UnLCBjcmVhdGVOZXdGZWF0dXJlbGF5ZXJQcm9taXNlKTtcblxuXG4gICAgICAgIGNyZWF0ZU5ld0ZlYXR1cmVsYXllclByb21pc2UudGhlbigoKSA9PiB7XG4gICAgICAgICAgdGhpcy5wcm9wcy5vbk11dGFibGVTdGF0ZVByb3BzQ2hhbmdlZCh0aGlzLnByb3BzLmRhdGFTb3VyY2VJZCwgJ25ld0ZlYXR1cmVTZXRBY3Rpb25WYWx1ZScsIG51bGwpO1xuICAgICAgICB9KVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5wcm9wcy5vbk11dGFibGVTdGF0ZVByb3BzQ2hhbmdlZCh0aGlzLnByb3BzLmRhdGFTb3VyY2VJZCwgJ25ld0ZlYXR1cmVTZXRBY3Rpb25WYWx1ZScsIG51bGwpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChtdXRhYmxlU3RhdGVQcm9wcy5jaGFuZ2VkRmVhdHVyZVNldEFjdGlvblZhbHVlKSB7XG4gICAgICB1cGRhdGVGZWF0dXJlbGF5ZXIobWFwQmFzZVZpZXcsIG11dGFibGVTdGF0ZVByb3BzLmNoYW5nZWRGZWF0dXJlU2V0QWN0aW9uVmFsdWUpO1xuICAgICAgdGhpcy5wcm9wcy5vbk11dGFibGVTdGF0ZVByb3BzQ2hhbmdlZCh0aGlzLnByb3BzLmRhdGFTb3VyY2VJZCwgJ2NoYW5nZWRGZWF0dXJlU2V0QWN0aW9uVmFsdWUnLCBudWxsKTtcbiAgICB9XG5cbiAgICBpZiAobXV0YWJsZVN0YXRlUHJvcHMuc2VsZWN0RmVhdHVyZUFjdGlvblZhbHVlKSB7XG4gICAgICBtYXBCYXNlVmlldy5wb3B1cC5jbG9zZSgpO1xuXG4gICAgICBmb3IgKGNvbnN0IGtleSBpbiB0aGlzLmhpZ2hMaWdodEhhbmRsZXMpIHtcbiAgICAgICAgdGhpcy5oaWdoTGlnaHRIYW5kbGVzW2tleV0ucmVtb3ZlKCk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHNlbGVjdEZlYXR1cmVIYW5kbGUgPSBzZWxlY3RGZWF0dXJlKG1hcEJhc2VWaWV3LCBtdXRhYmxlU3RhdGVQcm9wcy5zZWxlY3RGZWF0dXJlQWN0aW9uVmFsdWUpO1xuICAgICAgaWYgKHNlbGVjdEZlYXR1cmVIYW5kbGUpIHtcbiAgICAgICAgdGhpcy5oaWdoTGlnaHRIYW5kbGVzW3NlbGVjdEZlYXR1cmVIYW5kbGUubGF5ZXJJZF0gPSBzZWxlY3RGZWF0dXJlSGFuZGxlLmhhbmRsZTtcbiAgICAgIH1cblxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHRoaXMucHJvcHMub25NdXRhYmxlU3RhdGVQcm9wc0NoYW5nZWQodGhpcy5wcm9wcy5kYXRhU291cmNlSWQsICdzZWxlY3RGZWF0dXJlQWN0aW9uVmFsdWUnLCBudWxsKTtcbiAgICAgIH0sIDUwMCk7XG4gICAgfVxuXG4gICAgaWYgKG11dGFibGVTdGF0ZVByb3BzLmZsYXNoQWN0aW9uVmFsdWUpIHtcbiAgICAgIGNvbnN0IHRlbXBKaW11TWFwVmlld0lkID0gYCR7dGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWR9LSR7dGhpcy5wcm9wcy5kYXRhU291cmNlSWR9YDtcbiAgICAgIGNvbnN0IHRlbXBKaW11TWFwVmlldyA9IE1hcFZpZXdNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0SmltdU1hcFZpZXdCeUlkKHRlbXBKaW11TWFwVmlld0lkKTtcblxuICAgICAgbXV0YWJsZVN0YXRlUHJvcHMuZmxhc2hBY3Rpb25WYWx1ZS5xdWVyeVNRTCAmJiBmbGFzaEZlYXR1cmVzQnlRdWVyeSh0ZW1wSmltdU1hcFZpZXcsIG11dGFibGVTdGF0ZVByb3BzLmZsYXNoQWN0aW9uVmFsdWUubGF5ZXJEYXRhU291cmNlSWQsIG11dGFibGVTdGF0ZVByb3BzLmZsYXNoQWN0aW9uVmFsdWUucXVlcnlTUUwpO1xuICAgICAgdGhpcy5wcm9wcy5vbk11dGFibGVTdGF0ZVByb3BzQ2hhbmdlZCh0aGlzLnByb3BzLmRhdGFTb3VyY2VJZCwgJ2ZsYXNoQWN0aW9uVmFsdWUnLCBudWxsKTtcbiAgICB9XG5cbiAgICBpZiAobXV0YWJsZVN0YXRlUHJvcHMuZmlsdGVyQWN0aW9uVmFsdWUpIHtcbiAgICAgIGNvbnN0IHRlbXBKaW11TWFwVmlld0lkID0gYCR7dGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWR9LSR7dGhpcy5wcm9wcy5kYXRhU291cmNlSWR9YDtcbiAgICAgIGNvbnN0IHRlbXBKaW11TWFwVmlldyA9IE1hcFZpZXdNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0SmltdU1hcFZpZXdCeUlkKHRlbXBKaW11TWFwVmlld0lkKTtcblxuICAgICAgZmlsdGVyRmVhdHVyZXNCeVF1ZXJ5KHRlbXBKaW11TWFwVmlldywgbXV0YWJsZVN0YXRlUHJvcHMuZmlsdGVyQWN0aW9uVmFsdWUubGF5ZXJEYXRhU291cmNlSWQsIG11dGFibGVTdGF0ZVByb3BzLmZpbHRlckFjdGlvblZhbHVlLnF1ZXJ5U1FMKTtcbiAgICAgIHRoaXMucHJvcHMub25NdXRhYmxlU3RhdGVQcm9wc0NoYW5nZWQodGhpcy5wcm9wcy5kYXRhU291cmNlSWQsICdmaWx0ZXJBY3Rpb25WYWx1ZScsIG51bGwpO1xuICAgIH1cbiAgfVxuXG4gIGZvcm1hdE1lc3NhZ2UgPSAoaWQ6IHN0cmluZykgPT4ge1xuICAgIHJldHVybiB0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2Uoe2lkOiBpZCwgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlc1tpZF19KVxuICB9XG5cbiAgaGFuZGxlRGlzYWJsZVdoZWVsID0gKCkgPT4ge1xuICAgIHRoaXMud2lkZ2V0Q29udGFpbmVyLnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnbm9uZSc7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aGlzLndpZGdldENvbnRhaW5lci5zdHlsZS5wb2ludGVyRXZlbnRzID0gJ2F1dG8nO1xuICAgIH0sIDUwKTtcbiAgfVxuXG4gIGdldE1hcFN3aXRjaEZvckVycm9yTWFwID0gKCkgPT4ge1xuICAgIHJldHVybiA8TXVsdGlTb3VyY2VNYXBDb250ZXh0LkNvbnN1bWVyPlxuICAgICAgeyh7aXNTaG93TWFwU3dpdGNoQnRuLCAgZGF0YVNvdXJjZUlkcywgYWN0aXZlRGF0YVNvdXJjZUlkLCBzd2l0Y2hNYXB9KSA9PiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWFwc3dpdGNoLWNvbnRhaW5lclwiIHN0eWxlPXt7ZGlzcGxheTogaXNTaG93TWFwU3dpdGNoQnRuID8gJ2Jsb2NrJyA6ICdub25lJyxcbiAgICAgICAgICBtYXJnaW5Cb3R0b206IHRoaXMucHJvcHMud2lkdGhCcmVha3BvaW50ID09PSAneHNtYWxsJyA/IDEwIDogMH19PlxuICAgICAgICAgIDxkaXYgb25DbGljaz17KGUpID0+IHtlLnByZXZlbnREZWZhdWx0KCk7IHN3aXRjaE1hcCgpOyB9fSBjbGFzc05hbWU9XCJqaW11LXdpZGdldCBlc3JpLXdpZGdldC0tYnV0dG9uXCIgPlxuICAgICAgICAgICAgPEljb24gaWNvbj17RXhjaGFuZ2V9IHdpZHRoPXsxNn0gaGVpZ2h0PXsxNn0gY2xhc3NOYW1lPVwibWFwc3dpdGNoLWljb25cIi8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cbiAgICA8L011bHRpU291cmNlTWFwQ29udGV4dC5Db25zdW1lcj47XG4gIH1cblxuICByZWNvdmVyTWFwID0gKCkgPT4ge1xuICAgIGlmICh0aGlzLm1hcFZpZXcpIHtcbiAgICAgIHRoaXMubWFwVmlldy50cnlGYXRhbEVycm9yUmVjb3ZlcnkoKTtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBpc01hcENyYXNoZWQ6IGZhbHNlXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5zY2VuZVZpZXcpIHtcbiAgICAgIHRoaXMuc2NlbmVWaWV3LnRyeUZhdGFsRXJyb3JSZWNvdmVyeSgpO1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGlzTWFwQ3Jhc2hlZDogZmFsc2VcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBsZXQgdXNlRGF0YVNvdXJjZSA9IG51bGw7XG5cbiAgICBpZiAodGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMudXNlRGF0YVNvdXJjZXMpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMudXNlRGF0YVNvdXJjZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLnVzZURhdGFTb3VyY2VzW2ldLmRhdGFTb3VyY2VJZCA9PSB0aGlzLnByb3BzLmRhdGFTb3VyY2VJZCkge1xuICAgICAgICAgIHVzZURhdGFTb3VyY2UgPSB0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy51c2VEYXRhU291cmNlc1tpXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cImppbXUtd2lkZ2V0XCIgc3R5bGU9e3twb3NpdGlvbjogJ3JlbGF0aXZlJ319IHJlZj17cmVmID0+IHt0aGlzLndpZGdldENvbnRhaW5lciA9IHJlZjsgfX0+XG4gICAgICB7KHRoaXMuc3RhdGUubWFwTG9hZFN0YXR1cyA9PT0gTWFwTG9hZFN0YXR1cy5Mb2FkaW5nKSAmJlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImppbXUtd2lkZ2V0IHdpZGdldC1tYXAtYmFja2dyb3VuZFwiPlxuICAgICAgICAgIDxkaXYgc3R5bGU9e3sgcG9zaXRpb246ICdhYnNvbHV0ZScsIGxlZnQ6ICc1MCUnLCB0b3A6ICc1MCUnfX0gY2xhc3NOYW1lPVwiamltdS1zZWNvbmRhcnktbG9hZGluZ1wiPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj59XG4gICAgICB7KHRoaXMuc3RhdGUubWFwTG9hZFN0YXR1cyA9PT0gTWFwTG9hZFN0YXR1cy5Mb2FkRXJyb3IpICYmXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiamltdS13aWRnZXQgd2lkZ2V0LW1hcC1iYWNrZ3JvdW5kXCI+XG4gICAgICAgICAge3RoaXMuZ2V0TWFwU3dpdGNoRm9yRXJyb3JNYXAoKX1cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImppbXUtd2lkZ2V0IGQtZmxleCBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyIGFsaWduLWl0ZW1zLWNlbnRlclwiPnt0aGlzLmZvcm1hdE1lc3NhZ2UoJ21hcEZhaWx1cmUnKX08L2Rpdj5cbiAgICAgICAgPC9kaXY+fVxuICAgICAgeyh0aGlzLnN0YXRlLmlzTWFwQ3Jhc2hlZCkgJiYgPGRpdiBjbGFzc05hbWU9XCJ3LTEwMCBoLTEwMCBkLWZsZXgganVzdGlmeS1jb250ZW50LWNlbnRlciBhbGlnbi1pdGVtcy1jZW50ZXIgd2lkZ2V0LW1hcC1jcmFzaGVkXCI+XG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3aWRnZXQtbWFwLWNyYXNoZWQtbGFiZWwgd2lkZ2V0LW1hcC1jcmFzaGVkLWxhYmVsLXBhZGRpbmdcIj57dGhpcy5mb3JtYXRNZXNzYWdlKCdtYXBDcmFzaCcpfTwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xMDAgZC1mbGV4IGp1c3RpZnktY29udGVudC1jZW50ZXIgcHQtM1wiPlxuICAgICAgICAgICAgPEJ1dHRvbiBzaXplPVwic21cIiBjbGFzc05hbWU9XCJ3aWRnZXQtbWFwLWNyYXNoZWQtbGFiZWxcIiBvbkNsaWNrPXsoKSA9PiB7dGhpcy5yZWNvdmVyTWFwKCl9fT57dGhpcy5mb3JtYXRNZXNzYWdlKCdtYXBSZWNvdmVyJyl9PC9CdXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+fVxuICAgICAgeyF0aGlzLnByb3BzLmlzRGVmYXVsdE1hcCAmJiA8ZGl2IHN0eWxlPXt7cG9zaXRpb246ICdhYnNvbHV0ZScsIGRpc3BsYXk6ICdub25lJ319PjxEYXRhU291cmNlQ29tcG9uZW50IHVzZURhdGFTb3VyY2U9e3VzZURhdGFTb3VyY2V9XG4gICAgICAgIG9uRGF0YVNvdXJjZUNyZWF0ZWQ9e3RoaXMub25EYXRhU291cmNlQ3JlYXRlZH0gb25DcmVhdGVEYXRhU291cmNlRmFpbGVkPXt0aGlzLm9uQ3JlYXRlRGF0YVNvdXJjZUZhaWxlZH0vPjwvZGl2Pn1cbiAgICA8L2Rpdj47XG4gIH1cbn0iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFHQTtBQUVBO0FBQ0E7QUFHQTtBQUNBO0FBRUE7QUFxQkE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBZ0JBO0FBQUE7QUErQkE7QUFBQTtBQVJBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQTBCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBZ0tBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBd0NBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTs7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFKQTtBQVNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXhnQ0E7QUFHQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFpQkE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUF3REE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQTh1QkE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQUE7QUFHQTtBQUNBO0FBQUE7OyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./extensions/widgets/arcgis/arcgis-map/src/runtime/components/mapbase.tsx\n");

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/components/multisourcemap-context.ts":
/*!***********************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/components/multisourcemap-context.ts ***!
  \***********************************************************************************************/
/*! exports provided: MultiSourceMapContext */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MultiSourceMapContext\", function() { return MultiSourceMapContext; });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jimu_core__WEBPACK_IMPORTED_MODULE_0__);\n\nvar MultiSourceMapContext = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].createContext({\n    mapWidgetId: null,\n    mapWidgetHeight: null,\n    isShowMapSwitchBtn: false,\n    isFullScreen: false,\n    dataSourceIds: [],\n    activeDataSourceId: null,\n    switchMap: function () { },\n    fullScreenMap: function () { },\n    initialMapState: null,\n    mobilePanelContainer: null,\n    onMobilePanelContentChange: function (MobilePanelContent) { }\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvY29tcG9uZW50cy9tdWx0aXNvdXJjZW1hcC1jb250ZXh0LnRzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vZXh0ZW5zaW9ucy93aWRnZXRzL2FyY2dpcy9hcmNnaXMtbWFwL3NyYy9ydW50aW1lL2NvbXBvbmVudHMvbXVsdGlzb3VyY2VtYXAtY29udGV4dC50cz84NjYxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7UmVhY3R9IGZyb20gJ2ppbXUtY29yZSc7XG5cbnR5cGUgTXVsdGlTb3VyY2VNYXBDb250ZXh0VHlwZSA9IHtcbiAgbWFwV2lkZ2V0SWQ6IHN0cmluZztcbiAgbWFwV2lkZ2V0SGVpZ2h0OiBudW1iZXI7XG4gIGlzU2hvd01hcFN3aXRjaEJ0bjogYm9vbGVhbixcbiAgaXNGdWxsU2NyZWVuOiBib29sZWFuLFxuICBkYXRhU291cmNlSWRzOiBzdHJpbmdbXSxcbiAgYWN0aXZlRGF0YVNvdXJjZUlkOiBzdHJpbmcsXG4gIHN3aXRjaE1hcDogKCkgPT4gdm9pZCxcbiAgZnVsbFNjcmVlbk1hcDogKCkgPT4gdm9pZCxcbiAgaW5pdGlhbE1hcFN0YXRlOiBhbnksXG4gIG1vYmlsZVBhbmVsQ29udGFpbmVyOiBIVE1MRGl2RWxlbWVudDtcbiAgb25Nb2JpbGVQYW5lbENvbnRlbnRDaGFuZ2U6IChNb2JpbGVQYW5lbENvbnRlbnQ6IEpTWC5FbGVtZW50KSA9PiB2b2lkXG59XG5cbmV4cG9ydCBjb25zdCBNdWx0aVNvdXJjZU1hcENvbnRleHQgPSBSZWFjdC5jcmVhdGVDb250ZXh0PE11bHRpU291cmNlTWFwQ29udGV4dFR5cGU+KHtcbiAgbWFwV2lkZ2V0SWQ6IG51bGwsXG4gIG1hcFdpZGdldEhlaWdodDogbnVsbCxcbiAgaXNTaG93TWFwU3dpdGNoQnRuOiBmYWxzZSxcbiAgaXNGdWxsU2NyZWVuOiBmYWxzZSxcbiAgZGF0YVNvdXJjZUlkczogW10sXG4gIGFjdGl2ZURhdGFTb3VyY2VJZDogbnVsbCxcbiAgc3dpdGNoTWFwOiAoKSA9PiB7fSxcbiAgZnVsbFNjcmVlbk1hcDogKCkgPT4ge30sXG4gIGluaXRpYWxNYXBTdGF0ZTogbnVsbCxcbiAgbW9iaWxlUGFuZWxDb250YWluZXI6IG51bGwsXG4gIG9uTW9iaWxlUGFuZWxDb250ZW50Q2hhbmdlOiAoTW9iaWxlUGFuZWxDb250ZW50OiBKU1guRWxlbWVudCkgPT57fVxufSk7Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBZ0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./extensions/widgets/arcgis/arcgis-map/src/runtime/components/multisourcemap-context.ts\n");

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/components/multisourcemap.tsx":
/*!****************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/components/multisourcemap.tsx ***!
  \****************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jimu_core__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _mapbase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./mapbase */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/components/mapbase.tsx\");\n/* harmony import */ var _multisourcemap_context__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./multisourcemap-context */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/components/multisourcemap-context.ts\");\n/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-arcgis */ \"jimu-arcgis\");\n/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(jimu_arcgis__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _layout_map_fixed_layout__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../layout/map-fixed-layout */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/map-fixed-layout.tsx\");\n/* harmony import */ var _layout_layout__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../layout/layout */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/layout.tsx\");\n/* harmony import */ var _layout_pc_layout_json__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../layout/pc-layout-json */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/pc-layout-json.ts\");\n/* harmony import */ var _layout_mobile_layout_json__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../layout/mobile-layout-json */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/mobile-layout-json.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/* eslint-disable react/no-direct-mutation-state*/\n\n\n\n\n\n\n\n\nvar VisibleStyles = {\n    firstMapVisible: [{\n            zIndex: 6,\n            opacity: 1\n        }, {\n            zIndex: 5,\n            opacity: 0\n        }],\n    secondMapVisible: [{\n            zIndex: 5,\n            opacity: 0\n        }, {\n            zIndex: 6,\n            opacity: 1\n        }]\n};\nvar MultiSourceMap = /** @class */ (function (_super) {\n    __extends(MultiSourceMap, _super);\n    function MultiSourceMap(props) {\n        var _this = _super.call(this, props) || this;\n        _this.mutableStatePropsMap = {};\n        _this.reInitWidgetInstance = function (restoreData) {\n            _this.state = restoreData;\n            _this.isReIniting = true;\n        };\n        _this.changeInitialMapDataSourceID = function (dataSourceId, callBack) {\n            if (_this.props.baseWidgetProps.useDataSources && _this.props.baseWidgetProps.useDataSources.length > 1) {\n                var firstMapInstance = _this.refs.firstMapInstance;\n                var secondMapInstance = _this.refs.secondMapInstance;\n                if (!_this.state.currentMapIndex) {\n                    if (_this.state.secondMapDsId && _this.state.secondMapDsId === dataSourceId) {\n                        _this.startChangeInitialMapAnimation(callBack);\n                        secondMapInstance.goHome(false);\n                    }\n                    else {\n                        firstMapInstance.goHome(false);\n                    }\n                }\n                else {\n                    if (_this.state.firstMapDsId && _this.state.firstMapDsId === dataSourceId) {\n                        _this.startChangeInitialMapAnimation(callBack);\n                        firstMapInstance.goHome(false);\n                    }\n                    else {\n                        secondMapInstance.goHome(false);\n                    }\n                }\n            }\n        };\n        _this.startChangeInitialMapAnimation = function (callBack) {\n            var tempState = Object.assign({}, _this.state);\n            var firstMapInstance = _this.refs.firstMapInstance;\n            var secondMapInstance = _this.refs.secondMapInstance;\n            if (!_this.state.currentMapIndex) {\n                tempState.currentMapIndex = 1;\n                tempState.multiMapStyle = VisibleStyles.secondMapVisible;\n                var viewPoint = firstMapInstance && firstMapInstance.getViewPoint && firstMapInstance.getViewPoint();\n                if (viewPoint) {\n                    secondMapInstance && secondMapInstance.setViewPoint && secondMapInstance.setViewPoint(viewPoint);\n                }\n                _this.setState(tempState, function () { callBack(); });\n            }\n            else {\n                tempState.currentMapIndex = 0;\n                tempState.multiMapStyle = VisibleStyles.firstMapVisible;\n                var viewPoint = secondMapInstance && secondMapInstance.getViewPoint && secondMapInstance.getViewPoint();\n                if (viewPoint) {\n                    firstMapInstance && firstMapInstance.setViewPoint && firstMapInstance.setViewPoint(viewPoint);\n                }\n                _this.setState(tempState, function () { callBack(); });\n            }\n        };\n        _this.switchMap = function () {\n            if (!_this.props.baseWidgetProps.useDataSources || _this.props.baseWidgetProps.useDataSources.length < 2) {\n                return Promise.resolve();\n            }\n            var tempState = Object.assign({}, _this.state);\n            tempState.useAnimation = true;\n            var firstMapInstance = _this.refs.firstMapInstance;\n            var secondMapInstance = _this.refs.secondMapInstance;\n            if (!_this.state.currentMapIndex) {\n                tempState.currentMapIndex = 1;\n                tempState.multiMapStyle = VisibleStyles.secondMapVisible;\n                var viewPoint = firstMapInstance && firstMapInstance.getViewPoint && firstMapInstance.getViewPoint();\n                if (viewPoint) {\n                    secondMapInstance && secondMapInstance.setViewPoint && secondMapInstance.setViewPoint(viewPoint);\n                }\n            }\n            else {\n                tempState.currentMapIndex = 0;\n                tempState.multiMapStyle = VisibleStyles.firstMapVisible;\n                var viewPoint = secondMapInstance && secondMapInstance.getViewPoint && secondMapInstance.getViewPoint();\n                if (viewPoint) {\n                    firstMapInstance && firstMapInstance.setViewPoint && firstMapInstance.setViewPoint(viewPoint);\n                }\n            }\n            if (firstMapInstance && secondMapInstance) {\n                var firstViewType = firstMapInstance.getViewType();\n                var secondViewType = secondMapInstance.getViewType();\n                if (firstViewType && secondViewType && (firstViewType !== secondViewType)) {\n                    firstMapInstance.goToTilt(0);\n                    secondMapInstance.goToTilt(0);\n                    if (_this.state.currentMapIndex) {\n                        setTimeout(function () {\n                            firstMapInstance.goToTilt(45);\n                        }, 300);\n                    }\n                    else {\n                        setTimeout(function () {\n                            secondMapInstance.goToTilt(45);\n                        }, 300);\n                    }\n                }\n            }\n            return new Promise(function (resolve, reject) {\n                _this.setState(tempState, function () {\n                    _this.confirmJimuMapViewIsActive();\n                    setTimeout(function () {\n                        _this.setState({\n                            useAnimation: false\n                        }, function () {\n                            return resolve();\n                        });\n                    }, 500);\n                });\n            });\n        };\n        _this.handleMutableStatePropsChanged = function (dataSourceId, propKey, value) {\n            if (!_this.mutableStatePropsMap[propKey]) {\n                _this.mutableStatePropsMap[propKey] = [dataSourceId];\n            }\n            else {\n                if (_this.mutableStatePropsMap[propKey].indexOf(dataSourceId) === -1) {\n                    _this.mutableStatePropsMap[propKey].push(dataSourceId);\n                }\n            }\n            var multiMapDsIds = [];\n            var firstMapInstance = _this.refs.firstMapInstance;\n            var secondMapInstance = _this.refs.secondMapInstance;\n            if (firstMapInstance && firstMapInstance.getViewType()) {\n                multiMapDsIds.push(_this.state.firstMapDsId);\n            }\n            if (secondMapInstance && secondMapInstance.getViewType()) {\n                multiMapDsIds.push(_this.state.secondMapDsId);\n            }\n            var isAllMatched = true;\n            for (var i = 0; i < multiMapDsIds.length; i++) {\n                if (_this.mutableStatePropsMap[propKey].indexOf(multiMapDsIds[i]) === -1) {\n                    isAllMatched = false;\n                    break;\n                }\n            }\n            if (isAllMatched) {\n                delete _this.mutableStatePropsMap[propKey];\n                _this.props.baseWidgetProps.dispatch(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"appActions\"].widgetMutableStatePropChange(_this.props.baseWidgetProps.id, propKey, value));\n            }\n        };\n        _this.handleViewChanged = function (shareViewPoint) {\n            if (shareViewPoint.viewpoint === null) {\n                var firstMapInstance = _this.refs.firstMapInstance;\n                var secondMapInstance = _this.refs.secondMapInstance;\n                firstMapInstance && firstMapInstance.goHome(false);\n                secondMapInstance && secondMapInstance.goHome(false);\n                return;\n            }\n            var currentVisibleDsId = _this.getCurrentVisibleDsId();\n            if (currentVisibleDsId === shareViewPoint.dataSourceId) {\n                if (_this.state.firstMapDsId && _this.state.firstMapDsId !== currentVisibleDsId) {\n                    var firstMapInstance = _this.refs.firstMapInstance;\n                    firstMapInstance && firstMapInstance.setViewPoint(shareViewPoint.viewpoint);\n                }\n                if (_this.state.secondMapDsId && _this.state.secondMapDsId !== currentVisibleDsId) {\n                    var secondMapInstance = _this.refs.secondMapInstance;\n                    secondMapInstance && secondMapInstance.setViewPoint(shareViewPoint.viewpoint);\n                }\n            }\n        };\n        _this.handleExtentChanged = function (dataSourceId, extentMessage) {\n            var currentVisibleDsId = _this.getCurrentVisibleDsId();\n            if (currentVisibleDsId === dataSourceId) {\n                jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"MessageManager\"].getInstance().publishMessage(extentMessage);\n            }\n        };\n        _this.handleMapLoaded = function (dataSourceId, mapLoadStatus) {\n            _this.forceUpdate();\n        };\n        _this.handleJimuMapViewCreated = function () {\n            _this.confirmJimuMapViewIsActive();\n        };\n        _this.confirmJimuMapViewIsActive = function () {\n            if (_this.props.isDefaultMap) {\n                var jimuMapViewId = _this.props.baseWidgetProps.id + \"-\" + null;\n                var jimuMapView = jimu_arcgis__WEBPACK_IMPORTED_MODULE_3__[\"MapViewManager\"].getInstance().getJimuMapViewById(jimuMapViewId);\n                if (jimuMapView) {\n                    _this.setActiveJimuMapView(jimuMapView, true);\n                }\n                return;\n            }\n            var allDatasourceIds = [];\n            _this.state.firstMapDsId && allDatasourceIds.push(_this.state.firstMapDsId);\n            _this.state.secondMapDsId && allDatasourceIds.push(_this.state.secondMapDsId);\n            var currentDataSourceId = _this.getCurrentVisibleDsId();\n            for (var i = 0; i < allDatasourceIds.length; i++) {\n                var jimuMapViewId = _this.props.baseWidgetProps.id + \"-\" + allDatasourceIds[i];\n                var jimuMapView = jimu_arcgis__WEBPACK_IMPORTED_MODULE_3__[\"MapViewManager\"].getInstance().getJimuMapViewById(jimuMapViewId);\n                if (jimuMapView) {\n                    if (allDatasourceIds[i] === currentDataSourceId) {\n                        _this.setActiveJimuMapView(jimuMapView, true);\n                    }\n                    else {\n                        _this.setActiveJimuMapView(jimuMapView, false);\n                    }\n                }\n            }\n        };\n        _this.isShowMapSwitchBtn = function () {\n            var firstMapInstance = _this.refs.firstMapInstance;\n            var secondMapInstance = _this.refs.secondMapInstance;\n            if (firstMapInstance && secondMapInstance) {\n                if (firstMapInstance.getMapLoadStatus() !== _mapbase__WEBPACK_IMPORTED_MODULE_1__[\"MapLoadStatus\"].Loading && secondMapInstance.getMapLoadStatus() !== _mapbase__WEBPACK_IMPORTED_MODULE_1__[\"MapLoadStatus\"].Loading) {\n                    return true;\n                }\n            }\n            else {\n                return false;\n            }\n        };\n        _this.getCurrentVisibleDsId = function () {\n            if (_this.state.multiMapStyle[0].opacity === 1) {\n                return _this.state.firstMapDsId;\n            }\n            else {\n                return _this.state.secondMapDsId;\n            }\n        };\n        _this.handleViewGroupCreate = function (viewGroup) {\n            if (_this.props.onViewGroupCreate) {\n                _this.props.onViewGroupCreate(viewGroup);\n            }\n        };\n        _this.handleMobilePanelContentChange = function (mobilePanelContent) {\n            _this.setState({\n                mobilePanelContent: mobilePanelContent\n            });\n        };\n        _this.handleActiveToolInfoChange = function (activeToolInfo) {\n            _this.setState({\n                activeToolInfo: activeToolInfo\n            });\n        };\n        _this.getLayoutConfig = function () {\n            if (_this.props.widthBreakpoint === 'xsmall') {\n                return _layout_mobile_layout_json__WEBPACK_IMPORTED_MODULE_7__[\"default\"][0];\n            }\n            else {\n                return _this.props.baseWidgetProps.config.layoutIndex ? _layout_pc_layout_json__WEBPACK_IMPORTED_MODULE_6__[\"default\"][_this.props.baseWidgetProps.config.layoutIndex] : _layout_pc_layout_json__WEBPACK_IMPORTED_MODULE_6__[\"default\"][0];\n            }\n        };\n        var restoreData = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"MutableStoreManager\"].getInstance().getStateValue([_this.props.baseWidgetProps.id, 'restoreData', _this.props.baseWidgetProps.id + \"-restoreData-multimap\"]);\n        if (restoreData) {\n            var mobilePanelContainer = document.createElement('div');\n            mobilePanelContainer.id = _this.props.baseWidgetProps.id + \"-bottom-panel\";\n            mobilePanelContainer.className = 'w-100 h-100';\n            restoreData.mobilePanelContainer = mobilePanelContainer;\n            _this.reInitWidgetInstance(restoreData);\n            _this.props.baseWidgetProps.dispatch(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"appActions\"].widgetMutableStatePropChange(_this.props.baseWidgetProps.id, \"restoreData.\" + _this.props.baseWidgetProps.id + \"-restoreData-multimap\", null));\n        }\n        else {\n            var mobilePanelContainer = document.createElement('div');\n            mobilePanelContainer.id = _this.props.baseWidgetProps.id + \"-bottom-panel\";\n            mobilePanelContainer.className = 'w-100 h-100';\n            _this.state = {\n                currentMapIndex: 0,\n                multiMapStyle: VisibleStyles.firstMapVisible,\n                firstMapDsId: null,\n                secondMapDsId: null,\n                useAnimation: false,\n                useDataSources: null,\n                currentJimuMapView: null,\n                mobilePanelContent: null,\n                mobilePanelContainer: mobilePanelContainer,\n                activeToolInfo: null\n            };\n        }\n        _this.mutableStatePropsMap = {};\n        _this.useMapWidgetIds = _this.props.baseWidgetProps.id ? Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"Immutable\"])([_this.props.baseWidgetProps.id]) : Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"Immutable\"])([]);\n        return _this;\n    }\n    MultiSourceMap.prototype.componentDidMount = function () {\n        if (this.isReIniting) {\n            return;\n        }\n        if (this.props.baseWidgetProps.useDataSources) {\n            var initialMapDataSourceID = this.props.baseWidgetProps.config.initialMapDataSourceID;\n            if (!initialMapDataSourceID) {\n                this.setState({\n                    firstMapDsId: this.props.baseWidgetProps.useDataSources[0] && this.props.baseWidgetProps.useDataSources[0].dataSourceId,\n                    secondMapDsId: this.props.baseWidgetProps.useDataSources[1] && this.props.baseWidgetProps.useDataSources[1].dataSourceId\n                });\n            }\n            else {\n                if (initialMapDataSourceID === (this.props.baseWidgetProps.useDataSources[0] && this.props.baseWidgetProps.useDataSources[0].dataSourceId)) {\n                    this.setState({\n                        firstMapDsId: this.props.baseWidgetProps.useDataSources[0] && this.props.baseWidgetProps.useDataSources[0].dataSourceId,\n                        secondMapDsId: this.props.baseWidgetProps.useDataSources[1] && this.props.baseWidgetProps.useDataSources[1].dataSourceId\n                    });\n                }\n                else if (initialMapDataSourceID === (this.props.baseWidgetProps.useDataSources[1] && this.props.baseWidgetProps.useDataSources[1].dataSourceId)) {\n                    this.setState({\n                        firstMapDsId: this.props.baseWidgetProps.useDataSources[1] && this.props.baseWidgetProps.useDataSources[1].dataSourceId,\n                        secondMapDsId: this.props.baseWidgetProps.useDataSources[0] && this.props.baseWidgetProps.useDataSources[0].dataSourceId\n                    });\n                }\n                else {\n                    this.setState({\n                        firstMapDsId: this.props.baseWidgetProps.useDataSources[0] && this.props.baseWidgetProps.useDataSources[0].dataSourceId,\n                        secondMapDsId: this.props.baseWidgetProps.useDataSources[1] && this.props.baseWidgetProps.useDataSources[1].dataSourceId\n                    });\n                }\n            }\n        }\n    };\n    MultiSourceMap.prototype.componentWillUnmount = function () {\n        var widgets = Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"getAppStore\"])().getState().appConfig.widgets;\n        if (widgets[this.props.baseWidgetProps.id]) {\n            var restoreData = {\n                currentMapIndex: this.state.currentMapIndex,\n                multiMapStyle: this.state.multiMapStyle,\n                firstMapDsId: this.state.firstMapDsId,\n                secondMapDsId: this.state.secondMapDsId,\n                useAnimation: this.state.useAnimation,\n                currentJimuMapView: this.state.currentJimuMapView\n            };\n            this.props.baseWidgetProps.dispatch(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"appActions\"].widgetMutableStatePropChange(this.props.baseWidgetProps.id, \"restoreData.\" + this.props.baseWidgetProps.id + \"-restoreData-multimap\", restoreData));\n        }\n    };\n    MultiSourceMap.getDerivedStateFromProps = function (newProps, prevState) {\n        if (newProps.baseWidgetProps.useDataSources !== prevState.useDataSources) {\n            var newState = MultiSourceMap.getChangedState(prevState.firstMapDsId, prevState.secondMapDsId, newProps.baseWidgetProps.useDataSources);\n            return newState;\n        }\n        else {\n            return null;\n        }\n    };\n    MultiSourceMap.prototype.componentDidUpdate = function (prevProps, prevState, snapshot) {\n        if (this.props.baseWidgetProps.stateProps && this.props.baseWidgetProps.stateProps.initialMapDataSourceID) {\n            var initialMapDataSourceID = this.props.baseWidgetProps.stateProps.initialMapDataSourceID;\n            if (this.state.firstMapDsId === initialMapDataSourceID) {\n                var firstMapInstance = this.refs.firstMapInstance;\n                if (firstMapInstance) {\n                    firstMapInstance.goHome(false);\n                }\n            }\n            if (this.state.secondMapDsId === initialMapDataSourceID) {\n                var secondMapInstance = this.refs.secondMapInstance;\n                if (secondMapInstance) {\n                    secondMapInstance.goHome(false);\n                }\n            }\n            this.props.baseWidgetProps.dispatch(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"appActions\"].widgetStatePropChange(this.props.baseWidgetProps.id, 'initialMapDataSourceID', null));\n        }\n        if (this.isReIniting) {\n            this.isReIniting = false;\n            return;\n        }\n        if (this.props.baseWidgetProps.config.initialMapDataSourceID !== prevProps.baseWidgetProps.config.initialMapDataSourceID) {\n            this.changeInitialMapDataSourceID(this.props.baseWidgetProps.config.initialMapDataSourceID, this.confirmJimuMapViewIsActive);\n        }\n        if (this.props.baseWidgetProps.useDataSources !== prevProps.baseWidgetProps.useDataSources) {\n            this.confirmJimuMapViewIsActive();\n        }\n    };\n    MultiSourceMap.prototype.setActiveJimuMapView = function (jimuMapView, isActive) {\n        if (isActive) {\n            jimuMapView.setIsActive(isActive);\n            this.setState({\n                currentJimuMapView: jimuMapView\n            });\n        }\n        else {\n            jimuMapView.setIsActive(isActive);\n        }\n    };\n    MultiSourceMap.prototype.render = function () {\n        var _this = this;\n        return jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].createElement(_multisourcemap_context__WEBPACK_IMPORTED_MODULE_2__[\"MultiSourceMapContext\"].Provider, { value: {\n                mapWidgetId: this.props.baseWidgetProps.id,\n                mapWidgetHeight: this.props.widgetHeight,\n                isShowMapSwitchBtn: this.props.baseWidgetProps.useDataSources && this.props.baseWidgetProps.useDataSources.length > 1 && this.isShowMapSwitchBtn(),\n                dataSourceIds: [this.state.firstMapDsId, this.state.secondMapDsId],\n                activeDataSourceId: this.getCurrentVisibleDsId(),\n                switchMap: this.switchMap,\n                fullScreenMap: this.props.fullScreenMap,\n                isFullScreen: this.props.isFullScreen,\n                mobilePanelContainer: this.state.mobilePanelContainer,\n                onMobilePanelContentChange: this.handleMobilePanelContentChange,\n                initialMapState: this.props.baseWidgetProps.config && this.props.baseWidgetProps.config.initialMapState\n            } },\n            !this.props.isDefaultMap && jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].createElement(\"div\", { className: \"jimu-widget\", style: { position: 'relative' } },\n                jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].createElement(\"div\", { className: Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"classNames\"])('jimu-widget', {\n                        'multisourcemap-item-appear': this.state.useAnimation && this.state.multiMapStyle[0].opacity,\n                        'multisourcemap-item-disappear': this.state.useAnimation && !(this.state.multiMapStyle[0].opacity),\n                        'multisourcemap-item-appear-noanimate': this.state.multiMapStyle[0].opacity,\n                        'multisourcemap-item-disappear-noanimate': !(this.state.multiMapStyle[0].opacity)\n                    }), style: { position: 'absolute', zIndex: this.state.multiMapStyle[0].zIndex } }, this.state.firstMapDsId && jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].createElement(_mapbase__WEBPACK_IMPORTED_MODULE_1__[\"default\"], { ref: \"firstMapInstance\", onViewChanged: this.handleViewChanged, baseWidgetProps: this.props.baseWidgetProps, onMapLoaded: this.handleMapLoaded, onMutableStatePropsChanged: this.handleMutableStatePropsChanged, onExtentChanged: function (dataSourceId, message) { _this.handleExtentChanged(dataSourceId, message); }, onJimuMapViewCreated: this.handleJimuMapViewCreated, startLoadModules: this.props.startLoadModules, dataSourceId: this.state.firstMapDsId, widthBreakpoint: this.props.widthBreakpoint })),\n                jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].createElement(\"div\", { className: Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"classNames\"])('jimu-widget', {\n                        'multisourcemap-item-appear': this.state.useAnimation && this.state.multiMapStyle[1].opacity,\n                        'multisourcemap-item-disappear': this.state.useAnimation && !(this.state.multiMapStyle[1].opacity),\n                        'multisourcemap-item-appear-noanimate': this.state.multiMapStyle[1].opacity,\n                        'multisourcemap-item-disappear-noanimate': !(this.state.multiMapStyle[1].opacity)\n                    }), style: { position: 'absolute', zIndex: this.state.multiMapStyle[1].zIndex } }, this.state.secondMapDsId && jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].createElement(_mapbase__WEBPACK_IMPORTED_MODULE_1__[\"default\"], { ref: \"secondMapInstance\", onViewChanged: this.handleViewChanged, baseWidgetProps: this.props.baseWidgetProps, onMapLoaded: this.handleMapLoaded, onMutableStatePropsChanged: this.handleMutableStatePropsChanged, onExtentChanged: function (dataSourceId, message) { _this.handleExtentChanged(dataSourceId, message); }, onJimuMapViewCreated: this.handleJimuMapViewCreated, startLoadModules: this.props.startLoadModules, dataSourceId: this.state.secondMapDsId, widthBreakpoint: this.props.widthBreakpoint }))),\n            this.props.isDefaultMap && jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].createElement(\"div\", { className: \"jimu-widget\", style: { position: 'relative' } },\n                jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].createElement(\"div\", { className: Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"classNames\"])('jimu-widget multisourcemap-item-appear-noanimate'), style: { position: 'absolute', zIndex: 6 } }, jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].createElement(_mapbase__WEBPACK_IMPORTED_MODULE_1__[\"default\"], { ref: \"firstMapInstance\", isDefaultMap: this.props.isDefaultMap, onViewChanged: this.handleViewChanged, baseWidgetProps: this.props.baseWidgetProps, onMapLoaded: this.handleMapLoaded, onMutableStatePropsChanged: this.handleMutableStatePropsChanged, dataSourceId: null, onExtentChanged: function (dataSourceId, message) { _this.handleExtentChanged(dataSourceId, message); }, onJimuMapViewCreated: this.handleJimuMapViewCreated, startLoadModules: this.props.startLoadModules, widthBreakpoint: this.props.widthBreakpoint }))),\n            this.state.currentJimuMapView && this.state.currentJimuMapView.view && jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].createElement(_layout_map_fixed_layout__WEBPACK_IMPORTED_MODULE_4__[\"default\"], { jimuMapView: this.state.currentJimuMapView, appMode: this.props.baseWidgetProps.appMode, layouts: this.props.baseWidgetProps.layouts, LayoutEntry: this.props.baseWidgetProps.builderSupportModules && this.props.baseWidgetProps.builderSupportModules.LayoutEntry, widgetManifestName: this.props.baseWidgetProps.manifest.name }),\n            this.state.currentJimuMapView && this.state.currentJimuMapView.view &&\n                jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].createElement(_layout_layout__WEBPACK_IMPORTED_MODULE_5__[\"default\"], { mapWidgetId: this.props.baseWidgetProps.id, isMobile: this.props.widthBreakpoint === 'xsmall', jimuMapView: this.state.currentJimuMapView, appMode: this.props.baseWidgetProps.appMode, layouts: this.props.baseWidgetProps.layouts, intl: this.props.baseWidgetProps.intl, LayoutEntry: this.props.baseWidgetProps.builderSupportModules && this.props.baseWidgetProps.builderSupportModules.LayoutEntry, layoutConfig: this.getLayoutConfig(), toolConfig: this.props.baseWidgetProps.config.toolConifg ? this.props.baseWidgetProps.config.toolConifg : {}, activeToolInfo: this.state.activeToolInfo, onActiveToolInfoChange: this.handleActiveToolInfoChange, theme: this.props.baseWidgetProps.theme, widgetManifestName: this.props.baseWidgetProps.manifest.name, widgetHeight: this.props.widthBreakpoint === 'xsmall' ? null : this.props.widgetHeight }),\n            jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].createElement(jimu_arcgis__WEBPACK_IMPORTED_MODULE_3__[\"JimuMapViewComponent\"], { useMapWidgetIds: this.useMapWidgetIds, onViewGroupCreate: this.handleViewGroupCreate }));\n    };\n    MultiSourceMap.getChangedState = function (firstMapDsId, secondMapDsId, useDataSources) {\n        var changedState = {};\n        if (useDataSources && useDataSources[0]) {\n            var newDataSourceArr = [];\n            var repeatDataSourceArr = [];\n            for (var i = 0; i < useDataSources.length; i++) {\n                if (firstMapDsId !== useDataSources[i].dataSourceId) {\n                    newDataSourceArr.push(useDataSources[i].dataSourceId);\n                }\n                else {\n                    repeatDataSourceArr.push(useDataSources[i].dataSourceId);\n                }\n            }\n            if (repeatDataSourceArr.length > 0) {\n                changedState.firstMapDsId = firstMapDsId;\n                changedState.secondMapDsId = newDataSourceArr[0];\n            }\n            else if (repeatDataSourceArr.length === 0) {\n                if (newDataSourceArr.indexOf(secondMapDsId) > -1) {\n                    newDataSourceArr.splice(newDataSourceArr.indexOf(secondMapDsId), 1);\n                    changedState.firstMapDsId = newDataSourceArr[0];\n                    changedState.secondMapDsId = secondMapDsId;\n                }\n                else {\n                    changedState.firstMapDsId = newDataSourceArr[0];\n                    changedState.secondMapDsId = newDataSourceArr[1];\n                }\n            }\n        }\n        else {\n            changedState.firstMapDsId = null;\n            changedState.secondMapDsId = null;\n        }\n        if (changedState.firstMapDsId !== firstMapDsId) {\n            if (changedState.firstMapDsId) {\n                changedState.multiMapStyle = VisibleStyles.firstMapVisible;\n                changedState.currentMapIndex = 0;\n            }\n            else if (changedState.secondMapDsId) {\n                changedState.multiMapStyle = VisibleStyles.secondMapVisible;\n                changedState.currentMapIndex = 1;\n            }\n            else {\n                changedState.multiMapStyle = VisibleStyles.firstMapVisible;\n                changedState.currentMapIndex = 0;\n            }\n        }\n        else {\n            if (!changedState.secondMapDsId) {\n                changedState.multiMapStyle = VisibleStyles.firstMapVisible;\n                changedState.currentMapIndex = 0;\n            }\n            else if (changedState.secondMapDsId !== secondMapDsId) {\n                changedState.multiMapStyle = VisibleStyles.secondMapVisible;\n                changedState.currentMapIndex = 1;\n            }\n        }\n        return changedState;\n    };\n    return MultiSourceMap;\n}(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].PureComponent));\n/* harmony default export */ __webpack_exports__[\"default\"] = (MultiSourceMap);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvY29tcG9uZW50cy9tdWx0aXNvdXJjZW1hcC50c3guanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvY29tcG9uZW50cy9tdWx0aXNvdXJjZW1hcC50c3g/MzYwMiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQtZGlzYWJsZSByZWFjdC9uby1kaXJlY3QtbXV0YXRpb24tc3RhdGUqL1xuaW1wb3J0IHtSZWFjdCwgY2xhc3NOYW1lcywgTWVzc2FnZU1hbmFnZXIsIEltbXV0YWJsZUFycmF5LCBJbW11dGFibGUsXG4gIGdldEFwcFN0b3JlLCBhcHBBY3Rpb25zLCBNdXRhYmxlU3RvcmVNYW5hZ2VyLCBFeHRlbnRDaGFuZ2VNZXNzYWdlLCBVc2VEYXRhU291cmNlfSBmcm9tICdqaW11LWNvcmUnO1xuaW1wb3J0IE1hcEJhc2UsIHtNYXBMb2FkU3RhdHVzLCBTaGFyZVZpZXdQb2ludH0gZnJvbSAnLi9tYXBiYXNlJztcbmltcG9ydCB7TXVsdGlTb3VyY2VNYXBDb250ZXh0fSBmcm9tICcuL211bHRpc291cmNlbWFwLWNvbnRleHQnO1xuaW1wb3J0IHtNYXBXaWRnZXRQcm9wc30gZnJvbSAnLi4vd2lkZ2V0JztcbmltcG9ydCB7TWFwVmlld01hbmFnZXIsIEppbXVNYXBWaWV3LCBKaW11TWFwVmlld0dyb3VwLCBKaW11TWFwVmlld0NvbXBvbmVudH0gZnJvbSAnamltdS1hcmNnaXMnO1xuaW1wb3J0IE1hcEZpeGVkTGF5b3V0IGZyb20gJy4uL2xheW91dC9tYXAtZml4ZWQtbGF5b3V0JztcbmltcG9ydCBMYXlvdXQsIHtBY3RpdmVUb29sSW5mb30gZnJvbSAnLi4vbGF5b3V0L2xheW91dCc7XG5pbXBvcnQgcGNMYXlvdXRKc29ucyBmcm9tICcuLi9sYXlvdXQvcGMtbGF5b3V0LWpzb24nO1xuaW1wb3J0IG1vYmlsZUxheW91dEpzb25zIGZyb20gJy4uL2xheW91dC9tb2JpbGUtbGF5b3V0LWpzb24nO1xuXG5pbnRlcmZhY2UgUHJvcHMge1xuICBiYXNlV2lkZ2V0UHJvcHM6IE1hcFdpZGdldFByb3BzO1xuICBzdGFydExvYWRNb2R1bGVzOiBib29sZWFuO1xuICBmdWxsU2NyZWVuTWFwOiAoKSA9PiB2b2lkO1xuXG4gIGlzRGVmYXVsdE1hcD86IGJvb2xlYW47XG4gIG9uVmlld0dyb3VwQ3JlYXRlPzogKHZpZXdHcm91cDogSmltdU1hcFZpZXdHcm91cCkgPT4gdm9pZDtcblxuICB3aWR0aEJyZWFrcG9pbnQ6IHN0cmluZztcbiAgd2lkZ2V0SGVpZ2h0OiBudW1iZXI7XG5cbiAgaXNGdWxsU2NyZWVuOiBib29sZWFuO1xufVxuXG5pbnRlcmZhY2UgTWFwQ29udGFpbmVyU3R5bGUge1xuICBvcGFjaXR5OiBudW1iZXI7XG4gIHpJbmRleDogbnVtYmVyXG59XG5cbmludGVyZmFjZSBTdGF0ZSB7XG4gIGN1cnJlbnRNYXBJbmRleD86IDAgfCAxO1xuICBtdWx0aU1hcFN0eWxlPzogTWFwQ29udGFpbmVyU3R5bGVbXTtcbiAgZmlyc3RNYXBEc0lkPzogc3RyaW5nO1xuICBzZWNvbmRNYXBEc0lkPzogc3RyaW5nO1xuICB1c2VBbmltYXRpb246IGJvb2xlYW47XG5cbiAgdXNlRGF0YVNvdXJjZXM/OiBJbW11dGFibGVBcnJheTxVc2VEYXRhU291cmNlPjtcbiAgY3VycmVudEppbXVNYXBWaWV3PzogSmltdU1hcFZpZXc7XG4gIG1vYmlsZVBhbmVsQ29udGVudDogSlNYLkVsZW1lbnQ7XG4gIG1vYmlsZVBhbmVsQ29udGFpbmVyOiBIVE1MRGl2RWxlbWVudDtcbiAgYWN0aXZlVG9vbEluZm86IEFjdGl2ZVRvb2xJbmZvO1xufVxuXG5jb25zdCBWaXNpYmxlU3R5bGVzID0ge1xuICBmaXJzdE1hcFZpc2libGU6IFt7XG4gICAgekluZGV4OiA2LFxuICAgIG9wYWNpdHk6IDFcbiAgfSwge1xuICAgIHpJbmRleDogNSxcbiAgICBvcGFjaXR5OiAwXG4gIH1dLFxuICBzZWNvbmRNYXBWaXNpYmxlIDogW3tcbiAgICB6SW5kZXg6IDUsXG4gICAgb3BhY2l0eTogMFxuICB9LCB7XG4gICAgekluZGV4OiA2LFxuICAgIG9wYWNpdHk6IDFcbiAgfV1cbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTXVsdGlTb3VyY2VNYXAgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50PFByb3BzLCBTdGF0ZT57XG4gIGlzUmVJbml0aW5nOiBib29sZWFuO1xuICBtdXRhYmxlU3RhdGVQcm9wc01hcDoge1twcm9wS2V5OiBzdHJpbmddOiBzdHJpbmdbXX0gPSB7fTtcbiAgdXNlTWFwV2lkZ2V0SWRzOiBJbW11dGFibGVBcnJheTxzdHJpbmc+O1xuXG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgY29uc3QgcmVzdG9yZURhdGEgPSBNdXRhYmxlU3RvcmVNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U3RhdGVWYWx1ZShbdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWQsICdyZXN0b3JlRGF0YScsXG4gICAgICBgJHt0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5pZH0tcmVzdG9yZURhdGEtbXVsdGltYXBgXSk7XG4gICAgaWYgKHJlc3RvcmVEYXRhKSB7XG4gICAgICBjb25zdCBtb2JpbGVQYW5lbENvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgbW9iaWxlUGFuZWxDb250YWluZXIuaWQgPSBgJHt0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5pZH0tYm90dG9tLXBhbmVsYDtcbiAgICAgIG1vYmlsZVBhbmVsQ29udGFpbmVyLmNsYXNzTmFtZSA9ICd3LTEwMCBoLTEwMCc7XG4gICAgICByZXN0b3JlRGF0YS5tb2JpbGVQYW5lbENvbnRhaW5lciA9IG1vYmlsZVBhbmVsQ29udGFpbmVyO1xuXG4gICAgICB0aGlzLnJlSW5pdFdpZGdldEluc3RhbmNlKHJlc3RvcmVEYXRhKTtcblxuICAgICAgdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuZGlzcGF0Y2goYXBwQWN0aW9ucy53aWRnZXRNdXRhYmxlU3RhdGVQcm9wQ2hhbmdlKHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmlkLFxuICAgICAgICBgcmVzdG9yZURhdGEuJHt0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5pZH0tcmVzdG9yZURhdGEtbXVsdGltYXBgLCBudWxsKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IG1vYmlsZVBhbmVsQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBtb2JpbGVQYW5lbENvbnRhaW5lci5pZCA9IGAke3RoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmlkfS1ib3R0b20tcGFuZWxgO1xuICAgICAgbW9iaWxlUGFuZWxDb250YWluZXIuY2xhc3NOYW1lID0gJ3ctMTAwIGgtMTAwJztcblxuICAgICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgY3VycmVudE1hcEluZGV4OiAwLFxuICAgICAgICBtdWx0aU1hcFN0eWxlOiBWaXNpYmxlU3R5bGVzLmZpcnN0TWFwVmlzaWJsZSxcbiAgICAgICAgZmlyc3RNYXBEc0lkOiBudWxsLFxuICAgICAgICBzZWNvbmRNYXBEc0lkOiBudWxsLFxuICAgICAgICB1c2VBbmltYXRpb246IGZhbHNlLFxuICAgICAgICB1c2VEYXRhU291cmNlczogbnVsbCxcbiAgICAgICAgY3VycmVudEppbXVNYXBWaWV3OiBudWxsLFxuICAgICAgICBtb2JpbGVQYW5lbENvbnRlbnQ6IG51bGwsXG4gICAgICAgIG1vYmlsZVBhbmVsQ29udGFpbmVyOiBtb2JpbGVQYW5lbENvbnRhaW5lcixcbiAgICAgICAgYWN0aXZlVG9vbEluZm86IG51bGxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgdGhpcy5tdXRhYmxlU3RhdGVQcm9wc01hcCA9IHt9O1xuICAgIHRoaXMudXNlTWFwV2lkZ2V0SWRzID0gdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWQgPyBJbW11dGFibGUoW3RoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmlkXSkgOiBJbW11dGFibGUoW10pO1xuICB9XG5cbiAgcmVJbml0V2lkZ2V0SW5zdGFuY2UgPSAocmVzdG9yZURhdGEpID0+IHtcbiAgICB0aGlzLnN0YXRlID0gcmVzdG9yZURhdGEgYXMgU3RhdGU7XG4gICAgdGhpcy5pc1JlSW5pdGluZyA9IHRydWU7XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpe1xuICAgIGlmICh0aGlzLmlzUmVJbml0aW5nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLnVzZURhdGFTb3VyY2VzKSB7XG4gICAgICBjb25zdCBpbml0aWFsTWFwRGF0YVNvdXJjZUlEID0gdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuY29uZmlnLmluaXRpYWxNYXBEYXRhU291cmNlSUQ7XG4gICAgICBpZiAoIWluaXRpYWxNYXBEYXRhU291cmNlSUQpIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgZmlyc3RNYXBEc0lkOiB0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy51c2VEYXRhU291cmNlc1swXSAmJiB0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy51c2VEYXRhU291cmNlc1swXS5kYXRhU291cmNlSWQsXG4gICAgICAgICAgc2Vjb25kTWFwRHNJZDogdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMudXNlRGF0YVNvdXJjZXNbMV0gJiYgdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMudXNlRGF0YVNvdXJjZXNbMV0uZGF0YVNvdXJjZUlkXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGluaXRpYWxNYXBEYXRhU291cmNlSUQgPT09ICh0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy51c2VEYXRhU291cmNlc1swXSAmJiB0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy51c2VEYXRhU291cmNlc1swXS5kYXRhU291cmNlSWQpKSB7XG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBmaXJzdE1hcERzSWQ6IHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLnVzZURhdGFTb3VyY2VzWzBdICYmIHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLnVzZURhdGFTb3VyY2VzWzBdLmRhdGFTb3VyY2VJZCxcbiAgICAgICAgICAgIHNlY29uZE1hcERzSWQ6IHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLnVzZURhdGFTb3VyY2VzWzFdICYmIHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLnVzZURhdGFTb3VyY2VzWzFdLmRhdGFTb3VyY2VJZFxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2UgaWYgKGluaXRpYWxNYXBEYXRhU291cmNlSUQgPT09ICh0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy51c2VEYXRhU291cmNlc1sxXSAmJiB0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy51c2VEYXRhU291cmNlc1sxXS5kYXRhU291cmNlSWQpKSB7XG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBmaXJzdE1hcERzSWQ6IHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLnVzZURhdGFTb3VyY2VzWzFdICYmIHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLnVzZURhdGFTb3VyY2VzWzFdLmRhdGFTb3VyY2VJZCxcbiAgICAgICAgICAgIHNlY29uZE1hcERzSWQ6IHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLnVzZURhdGFTb3VyY2VzWzBdICYmIHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLnVzZURhdGFTb3VyY2VzWzBdLmRhdGFTb3VyY2VJZFxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgZmlyc3RNYXBEc0lkOiB0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy51c2VEYXRhU291cmNlc1swXSAmJiB0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy51c2VEYXRhU291cmNlc1swXS5kYXRhU291cmNlSWQsXG4gICAgICAgICAgICBzZWNvbmRNYXBEc0lkOiB0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy51c2VEYXRhU291cmNlc1sxXSAmJiB0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy51c2VEYXRhU291cmNlc1sxXS5kYXRhU291cmNlSWRcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIGNvbnN0IHdpZGdldHMgPSAgZ2V0QXBwU3RvcmUoKS5nZXRTdGF0ZSgpLmFwcENvbmZpZy53aWRnZXRzO1xuXG4gICAgaWYgKHdpZGdldHNbdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWRdKSB7XG4gICAgICBjb25zdCByZXN0b3JlRGF0YSA9IHtcbiAgICAgICAgY3VycmVudE1hcEluZGV4OiB0aGlzLnN0YXRlLmN1cnJlbnRNYXBJbmRleCxcbiAgICAgICAgbXVsdGlNYXBTdHlsZTogdGhpcy5zdGF0ZS5tdWx0aU1hcFN0eWxlLFxuICAgICAgICBmaXJzdE1hcERzSWQ6IHRoaXMuc3RhdGUuZmlyc3RNYXBEc0lkLFxuICAgICAgICBzZWNvbmRNYXBEc0lkOiB0aGlzLnN0YXRlLnNlY29uZE1hcERzSWQsXG4gICAgICAgIHVzZUFuaW1hdGlvbjogdGhpcy5zdGF0ZS51c2VBbmltYXRpb24sXG4gICAgICAgIGN1cnJlbnRKaW11TWFwVmlldzogdGhpcy5zdGF0ZS5jdXJyZW50SmltdU1hcFZpZXdcbiAgICAgIH1cbiAgICAgIHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmRpc3BhdGNoKGFwcEFjdGlvbnMud2lkZ2V0TXV0YWJsZVN0YXRlUHJvcENoYW5nZSh0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5pZCxcbiAgICAgICAgYHJlc3RvcmVEYXRhLiR7dGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWR9LXJlc3RvcmVEYXRhLW11bHRpbWFwYCwgcmVzdG9yZURhdGEpKTtcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgZ2V0Q2hhbmdlZFN0YXRlID0gKGZpcnN0TWFwRHNJZCwgc2Vjb25kTWFwRHNJZCwgdXNlRGF0YVNvdXJjZXMpOiBTdGF0ZSA9PiB7XG4gICAgY29uc3QgY2hhbmdlZFN0YXRlID0ge30gYXMgU3RhdGU7XG5cbiAgICBpZiAodXNlRGF0YVNvdXJjZXMgJiYgdXNlRGF0YVNvdXJjZXNbMF0pIHtcbiAgICAgIGNvbnN0IG5ld0RhdGFTb3VyY2VBcnIgPSBbXTtcbiAgICAgIGNvbnN0IHJlcGVhdERhdGFTb3VyY2VBcnIgPSBbXTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdXNlRGF0YVNvdXJjZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGZpcnN0TWFwRHNJZCAhPT0gdXNlRGF0YVNvdXJjZXNbaV0uZGF0YVNvdXJjZUlkKSB7XG4gICAgICAgICAgbmV3RGF0YVNvdXJjZUFyci5wdXNoKHVzZURhdGFTb3VyY2VzW2ldLmRhdGFTb3VyY2VJZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVwZWF0RGF0YVNvdXJjZUFyci5wdXNoKHVzZURhdGFTb3VyY2VzW2ldLmRhdGFTb3VyY2VJZCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChyZXBlYXREYXRhU291cmNlQXJyLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY2hhbmdlZFN0YXRlLmZpcnN0TWFwRHNJZCA9IGZpcnN0TWFwRHNJZDtcbiAgICAgICAgY2hhbmdlZFN0YXRlLnNlY29uZE1hcERzSWQgPSBuZXdEYXRhU291cmNlQXJyWzBdO1xuICAgICAgfSBlbHNlIGlmIChyZXBlYXREYXRhU291cmNlQXJyLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBpZiAobmV3RGF0YVNvdXJjZUFyci5pbmRleE9mKHNlY29uZE1hcERzSWQpID4gLTEpIHtcbiAgICAgICAgICBuZXdEYXRhU291cmNlQXJyLnNwbGljZShuZXdEYXRhU291cmNlQXJyLmluZGV4T2Yoc2Vjb25kTWFwRHNJZCksIDEpO1xuICAgICAgICAgIGNoYW5nZWRTdGF0ZS5maXJzdE1hcERzSWQgPSBuZXdEYXRhU291cmNlQXJyWzBdO1xuICAgICAgICAgIGNoYW5nZWRTdGF0ZS5zZWNvbmRNYXBEc0lkID0gc2Vjb25kTWFwRHNJZDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjaGFuZ2VkU3RhdGUuZmlyc3RNYXBEc0lkID0gbmV3RGF0YVNvdXJjZUFyclswXTtcbiAgICAgICAgICBjaGFuZ2VkU3RhdGUuc2Vjb25kTWFwRHNJZCA9IG5ld0RhdGFTb3VyY2VBcnJbMV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY2hhbmdlZFN0YXRlLmZpcnN0TWFwRHNJZCA9IG51bGw7XG4gICAgICBjaGFuZ2VkU3RhdGUuc2Vjb25kTWFwRHNJZCA9IG51bGw7XG4gICAgfVxuXG4gICAgaWYgKGNoYW5nZWRTdGF0ZS5maXJzdE1hcERzSWQgIT09IGZpcnN0TWFwRHNJZCkge1xuICAgICAgaWYgKGNoYW5nZWRTdGF0ZS5maXJzdE1hcERzSWQpIHtcbiAgICAgICAgY2hhbmdlZFN0YXRlLm11bHRpTWFwU3R5bGUgPSBWaXNpYmxlU3R5bGVzLmZpcnN0TWFwVmlzaWJsZTtcbiAgICAgICAgY2hhbmdlZFN0YXRlLmN1cnJlbnRNYXBJbmRleCA9IDA7XG4gICAgICB9IGVsc2UgaWYgKGNoYW5nZWRTdGF0ZS5zZWNvbmRNYXBEc0lkKSB7XG4gICAgICAgIGNoYW5nZWRTdGF0ZS5tdWx0aU1hcFN0eWxlID0gVmlzaWJsZVN0eWxlcy5zZWNvbmRNYXBWaXNpYmxlO1xuICAgICAgICBjaGFuZ2VkU3RhdGUuY3VycmVudE1hcEluZGV4ID0gMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNoYW5nZWRTdGF0ZS5tdWx0aU1hcFN0eWxlID0gVmlzaWJsZVN0eWxlcy5maXJzdE1hcFZpc2libGU7XG4gICAgICAgIGNoYW5nZWRTdGF0ZS5jdXJyZW50TWFwSW5kZXggPSAwO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoIWNoYW5nZWRTdGF0ZS5zZWNvbmRNYXBEc0lkKSB7XG4gICAgICAgIGNoYW5nZWRTdGF0ZS5tdWx0aU1hcFN0eWxlID0gVmlzaWJsZVN0eWxlcy5maXJzdE1hcFZpc2libGU7XG4gICAgICAgIGNoYW5nZWRTdGF0ZS5jdXJyZW50TWFwSW5kZXggPSAwO1xuICAgICAgfSBlbHNlIGlmIChjaGFuZ2VkU3RhdGUuc2Vjb25kTWFwRHNJZCAhPT0gc2Vjb25kTWFwRHNJZCkge1xuICAgICAgICBjaGFuZ2VkU3RhdGUubXVsdGlNYXBTdHlsZSA9IFZpc2libGVTdHlsZXMuc2Vjb25kTWFwVmlzaWJsZTtcbiAgICAgICAgY2hhbmdlZFN0YXRlLmN1cnJlbnRNYXBJbmRleCA9IDE7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjaGFuZ2VkU3RhdGU7XG4gIH1cblxuICBzdGF0aWMgZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKG5ld1Byb3BzOiBQcm9wcywgcHJldlN0YXRlOiBTdGF0ZSkge1xuICAgIGlmIChuZXdQcm9wcy5iYXNlV2lkZ2V0UHJvcHMudXNlRGF0YVNvdXJjZXMgIT09IHByZXZTdGF0ZS51c2VEYXRhU291cmNlcykge1xuICAgICAgY29uc3QgbmV3U3RhdGUgPSBNdWx0aVNvdXJjZU1hcC5nZXRDaGFuZ2VkU3RhdGUocHJldlN0YXRlLmZpcnN0TWFwRHNJZCwgcHJldlN0YXRlLnNlY29uZE1hcERzSWQsIG5ld1Byb3BzLmJhc2VXaWRnZXRQcm9wcy51c2VEYXRhU291cmNlcyk7XG4gICAgICByZXR1cm4gbmV3U3RhdGU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudERpZFVwZGF0ZSAocHJldlByb3BzLCBwcmV2U3RhdGUsIHNuYXBzaG90KSB7XG4gICAgaWYgKHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLnN0YXRlUHJvcHMgJiYgdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuc3RhdGVQcm9wcy5pbml0aWFsTWFwRGF0YVNvdXJjZUlEKSB7XG4gICAgICBjb25zdCBpbml0aWFsTWFwRGF0YVNvdXJjZUlEID0gdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuc3RhdGVQcm9wcy5pbml0aWFsTWFwRGF0YVNvdXJjZUlEO1xuICAgICAgaWYgKHRoaXMuc3RhdGUuZmlyc3RNYXBEc0lkID09PSBpbml0aWFsTWFwRGF0YVNvdXJjZUlEKSB7XG4gICAgICAgIGNvbnN0IGZpcnN0TWFwSW5zdGFuY2UgPSB0aGlzLnJlZnMuZmlyc3RNYXBJbnN0YW5jZSBhcyBNYXBCYXNlO1xuICAgICAgICBpZiAoZmlyc3RNYXBJbnN0YW5jZSkge1xuICAgICAgICAgIGZpcnN0TWFwSW5zdGFuY2UuZ29Ib21lKGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHRoaXMuc3RhdGUuc2Vjb25kTWFwRHNJZCA9PT0gaW5pdGlhbE1hcERhdGFTb3VyY2VJRCkge1xuICAgICAgICBjb25zdCBzZWNvbmRNYXBJbnN0YW5jZSA9IHRoaXMucmVmcy5zZWNvbmRNYXBJbnN0YW5jZSBhcyBNYXBCYXNlO1xuICAgICAgICBpZiAoc2Vjb25kTWFwSW5zdGFuY2UpIHtcbiAgICAgICAgICBzZWNvbmRNYXBJbnN0YW5jZS5nb0hvbWUoZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5kaXNwYXRjaChhcHBBY3Rpb25zLndpZGdldFN0YXRlUHJvcENoYW5nZSh0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5pZCxcbiAgICAgICAgJ2luaXRpYWxNYXBEYXRhU291cmNlSUQnLCBudWxsKSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuaXNSZUluaXRpbmcpIHtcbiAgICAgIHRoaXMuaXNSZUluaXRpbmcgPSBmYWxzZTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuY29uZmlnLmluaXRpYWxNYXBEYXRhU291cmNlSUQgIT09IHByZXZQcm9wcy5iYXNlV2lkZ2V0UHJvcHMuY29uZmlnLmluaXRpYWxNYXBEYXRhU291cmNlSUQpIHtcbiAgICAgIHRoaXMuY2hhbmdlSW5pdGlhbE1hcERhdGFTb3VyY2VJRCh0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5jb25maWcuaW5pdGlhbE1hcERhdGFTb3VyY2VJRCwgdGhpcy5jb25maXJtSmltdU1hcFZpZXdJc0FjdGl2ZSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLnVzZURhdGFTb3VyY2VzICE9PSBwcmV2UHJvcHMuYmFzZVdpZGdldFByb3BzLnVzZURhdGFTb3VyY2VzKSB7XG4gICAgICB0aGlzLmNvbmZpcm1KaW11TWFwVmlld0lzQWN0aXZlKCk7XG4gICAgfVxuICB9XG5cbiAgY2hhbmdlSW5pdGlhbE1hcERhdGFTb3VyY2VJRCA9IChkYXRhU291cmNlSWQ6IHN0cmluZywgY2FsbEJhY2s/OiBhbnkpID0+IHtcbiAgICBpZiAodGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMudXNlRGF0YVNvdXJjZXMgJiYgdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMudXNlRGF0YVNvdXJjZXMubGVuZ3RoID4gMSApIHtcbiAgICAgIGNvbnN0IGZpcnN0TWFwSW5zdGFuY2UgPSB0aGlzLnJlZnMuZmlyc3RNYXBJbnN0YW5jZSBhcyBNYXBCYXNlO1xuICAgICAgY29uc3Qgc2Vjb25kTWFwSW5zdGFuY2UgPSB0aGlzLnJlZnMuc2Vjb25kTWFwSW5zdGFuY2UgYXMgTWFwQmFzZTtcblxuICAgICAgaWYgKCF0aGlzLnN0YXRlLmN1cnJlbnRNYXBJbmRleCkge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZS5zZWNvbmRNYXBEc0lkICYmIHRoaXMuc3RhdGUuc2Vjb25kTWFwRHNJZCA9PT0gZGF0YVNvdXJjZUlkKSB7XG4gICAgICAgICAgdGhpcy5zdGFydENoYW5nZUluaXRpYWxNYXBBbmltYXRpb24oY2FsbEJhY2spO1xuICAgICAgICAgIHNlY29uZE1hcEluc3RhbmNlLmdvSG9tZShmYWxzZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZmlyc3RNYXBJbnN0YW5jZS5nb0hvbWUoZmFsc2UpO1xuICAgICAgICB9XG5cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlLmZpcnN0TWFwRHNJZCAmJiB0aGlzLnN0YXRlLmZpcnN0TWFwRHNJZCA9PT0gZGF0YVNvdXJjZUlkKSB7XG4gICAgICAgICAgdGhpcy5zdGFydENoYW5nZUluaXRpYWxNYXBBbmltYXRpb24oY2FsbEJhY2spO1xuICAgICAgICAgIGZpcnN0TWFwSW5zdGFuY2UuZ29Ib21lKGZhbHNlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZWNvbmRNYXBJbnN0YW5jZS5nb0hvbWUoZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgc3RhcnRDaGFuZ2VJbml0aWFsTWFwQW5pbWF0aW9uID0gKGNhbGxCYWNrPzogYW55KSA9PiB7XG4gICAgY29uc3QgdGVtcFN0YXRlID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5zdGF0ZSkgYXMgYW55O1xuXG4gICAgY29uc3QgZmlyc3RNYXBJbnN0YW5jZSA9IHRoaXMucmVmcy5maXJzdE1hcEluc3RhbmNlIGFzIE1hcEJhc2U7XG4gICAgY29uc3Qgc2Vjb25kTWFwSW5zdGFuY2UgPSB0aGlzLnJlZnMuc2Vjb25kTWFwSW5zdGFuY2UgYXMgTWFwQmFzZTtcbiAgICBpZiAoIXRoaXMuc3RhdGUuY3VycmVudE1hcEluZGV4KSB7XG4gICAgICB0ZW1wU3RhdGUuY3VycmVudE1hcEluZGV4ID0gMTtcbiAgICAgIHRlbXBTdGF0ZS5tdWx0aU1hcFN0eWxlID0gVmlzaWJsZVN0eWxlcy5zZWNvbmRNYXBWaXNpYmxlO1xuXG4gICAgICBjb25zdCB2aWV3UG9pbnQgPSBmaXJzdE1hcEluc3RhbmNlICYmIGZpcnN0TWFwSW5zdGFuY2UuZ2V0Vmlld1BvaW50ICYmIGZpcnN0TWFwSW5zdGFuY2UuZ2V0Vmlld1BvaW50KCk7XG4gICAgICBpZiAodmlld1BvaW50KSB7XG4gICAgICAgIHNlY29uZE1hcEluc3RhbmNlICYmIHNlY29uZE1hcEluc3RhbmNlLnNldFZpZXdQb2ludCAmJiBzZWNvbmRNYXBJbnN0YW5jZS5zZXRWaWV3UG9pbnQodmlld1BvaW50KTtcbiAgICAgIH1cbiAgICAgIHRoaXMuc2V0U3RhdGUodGVtcFN0YXRlLCAoKSA9PiB7Y2FsbEJhY2soKX0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0ZW1wU3RhdGUuY3VycmVudE1hcEluZGV4ID0gMDtcbiAgICAgIHRlbXBTdGF0ZS5tdWx0aU1hcFN0eWxlID0gVmlzaWJsZVN0eWxlcy5maXJzdE1hcFZpc2libGU7XG5cbiAgICAgIGNvbnN0IHZpZXdQb2ludCA9IHNlY29uZE1hcEluc3RhbmNlICYmIHNlY29uZE1hcEluc3RhbmNlLmdldFZpZXdQb2ludCAmJiBzZWNvbmRNYXBJbnN0YW5jZS5nZXRWaWV3UG9pbnQoKTtcbiAgICAgIGlmICh2aWV3UG9pbnQpIHtcbiAgICAgICAgZmlyc3RNYXBJbnN0YW5jZSAmJiBmaXJzdE1hcEluc3RhbmNlLnNldFZpZXdQb2ludCAmJiBmaXJzdE1hcEluc3RhbmNlLnNldFZpZXdQb2ludCh2aWV3UG9pbnQpO1xuICAgICAgfVxuICAgICAgdGhpcy5zZXRTdGF0ZSh0ZW1wU3RhdGUsICgpID0+IHtjYWxsQmFjaygpfSk7XG4gICAgfVxuICB9XG5cbiAgc3dpdGNoTWFwID0gKCk6IFByb21pc2U8YW55PiA9PiB7XG4gICAgaWYgKCF0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy51c2VEYXRhU291cmNlcyB8fCB0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy51c2VEYXRhU291cmNlcy5sZW5ndGggPCAyICkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cblxuICAgIGNvbnN0IHRlbXBTdGF0ZSA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuc3RhdGUpIGFzIGFueTtcbiAgICB0ZW1wU3RhdGUudXNlQW5pbWF0aW9uID0gdHJ1ZVxuXG4gICAgY29uc3QgZmlyc3RNYXBJbnN0YW5jZSA9IHRoaXMucmVmcy5maXJzdE1hcEluc3RhbmNlIGFzIE1hcEJhc2U7XG4gICAgY29uc3Qgc2Vjb25kTWFwSW5zdGFuY2UgPSB0aGlzLnJlZnMuc2Vjb25kTWFwSW5zdGFuY2UgYXMgTWFwQmFzZTtcblxuICAgIGlmICghdGhpcy5zdGF0ZS5jdXJyZW50TWFwSW5kZXgpIHtcbiAgICAgIHRlbXBTdGF0ZS5jdXJyZW50TWFwSW5kZXggPSAxO1xuICAgICAgdGVtcFN0YXRlLm11bHRpTWFwU3R5bGUgPSBWaXNpYmxlU3R5bGVzLnNlY29uZE1hcFZpc2libGU7XG5cbiAgICAgIGNvbnN0IHZpZXdQb2ludCA9IGZpcnN0TWFwSW5zdGFuY2UgJiYgZmlyc3RNYXBJbnN0YW5jZS5nZXRWaWV3UG9pbnQgJiYgZmlyc3RNYXBJbnN0YW5jZS5nZXRWaWV3UG9pbnQoKTtcbiAgICAgIGlmICh2aWV3UG9pbnQpIHtcbiAgICAgICAgc2Vjb25kTWFwSW5zdGFuY2UgJiYgc2Vjb25kTWFwSW5zdGFuY2Uuc2V0Vmlld1BvaW50ICYmIHNlY29uZE1hcEluc3RhbmNlLnNldFZpZXdQb2ludCh2aWV3UG9pbnQpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0ZW1wU3RhdGUuY3VycmVudE1hcEluZGV4ID0gMDtcbiAgICAgIHRlbXBTdGF0ZS5tdWx0aU1hcFN0eWxlID0gVmlzaWJsZVN0eWxlcy5maXJzdE1hcFZpc2libGU7XG5cbiAgICAgIGNvbnN0IHZpZXdQb2ludCA9IHNlY29uZE1hcEluc3RhbmNlICYmIHNlY29uZE1hcEluc3RhbmNlLmdldFZpZXdQb2ludCAmJiBzZWNvbmRNYXBJbnN0YW5jZS5nZXRWaWV3UG9pbnQoKTtcbiAgICAgIGlmICh2aWV3UG9pbnQpIHtcbiAgICAgICAgZmlyc3RNYXBJbnN0YW5jZSAmJiBmaXJzdE1hcEluc3RhbmNlLnNldFZpZXdQb2ludCAmJiBmaXJzdE1hcEluc3RhbmNlLnNldFZpZXdQb2ludCh2aWV3UG9pbnQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChmaXJzdE1hcEluc3RhbmNlICYmIHNlY29uZE1hcEluc3RhbmNlKSB7XG4gICAgICBjb25zdCBmaXJzdFZpZXdUeXBlID0gZmlyc3RNYXBJbnN0YW5jZS5nZXRWaWV3VHlwZSgpO1xuICAgICAgY29uc3Qgc2Vjb25kVmlld1R5cGUgPSBzZWNvbmRNYXBJbnN0YW5jZS5nZXRWaWV3VHlwZSgpO1xuICAgICAgaWYgKGZpcnN0Vmlld1R5cGUgJiYgc2Vjb25kVmlld1R5cGUgJiYgKGZpcnN0Vmlld1R5cGUgIT09IHNlY29uZFZpZXdUeXBlKSkge1xuICAgICAgICBmaXJzdE1hcEluc3RhbmNlLmdvVG9UaWx0KDApO1xuICAgICAgICBzZWNvbmRNYXBJbnN0YW5jZS5nb1RvVGlsdCgwKTtcblxuICAgICAgICBpZiAodGhpcy5zdGF0ZS5jdXJyZW50TWFwSW5kZXgpIHtcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGZpcnN0TWFwSW5zdGFuY2UuZ29Ub1RpbHQoNDUpO1xuICAgICAgICAgIH0sIDMwMCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBzZWNvbmRNYXBJbnN0YW5jZS5nb1RvVGlsdCg0NSk7XG4gICAgICAgICAgfSwgMzAwKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICB0aGlzLnNldFN0YXRlKHRlbXBTdGF0ZSwgKCkgPT4ge1xuICAgICAgICB0aGlzLmNvbmZpcm1KaW11TWFwVmlld0lzQWN0aXZlKCk7XG5cbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICB1c2VBbmltYXRpb246IGZhbHNlXG4gICAgICAgICAgfSwgKCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSwgNTAwKTtcbiAgICAgIH0pO1xuICAgIH0pXG4gIH1cblxuICBoYW5kbGVNdXRhYmxlU3RhdGVQcm9wc0NoYW5nZWQgPSAoZGF0YVNvdXJjZUlkOiBzdHJpbmcsIHByb3BLZXk6IHN0cmluZywgdmFsdWU/OiBhbnkpID0+IHtcbiAgICBpZiAoIXRoaXMubXV0YWJsZVN0YXRlUHJvcHNNYXBbcHJvcEtleV0pIHtcbiAgICAgIHRoaXMubXV0YWJsZVN0YXRlUHJvcHNNYXBbcHJvcEtleV0gPSBbZGF0YVNvdXJjZUlkXTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHRoaXMubXV0YWJsZVN0YXRlUHJvcHNNYXBbcHJvcEtleV0uaW5kZXhPZihkYXRhU291cmNlSWQpID09PSAtMSkge1xuICAgICAgICB0aGlzLm11dGFibGVTdGF0ZVByb3BzTWFwW3Byb3BLZXldLnB1c2goZGF0YVNvdXJjZUlkKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBtdWx0aU1hcERzSWRzID0gW107XG4gICAgY29uc3QgZmlyc3RNYXBJbnN0YW5jZSA9IHRoaXMucmVmcy5maXJzdE1hcEluc3RhbmNlIGFzIE1hcEJhc2U7XG4gICAgY29uc3Qgc2Vjb25kTWFwSW5zdGFuY2UgPSB0aGlzLnJlZnMuc2Vjb25kTWFwSW5zdGFuY2UgYXMgTWFwQmFzZTtcblxuICAgIGlmIChmaXJzdE1hcEluc3RhbmNlICYmIGZpcnN0TWFwSW5zdGFuY2UuZ2V0Vmlld1R5cGUoKSkge1xuICAgICAgbXVsdGlNYXBEc0lkcy5wdXNoKHRoaXMuc3RhdGUuZmlyc3RNYXBEc0lkKTtcbiAgICB9XG5cbiAgICBpZiAoc2Vjb25kTWFwSW5zdGFuY2UgJiYgc2Vjb25kTWFwSW5zdGFuY2UuZ2V0Vmlld1R5cGUoKSkge1xuICAgICAgbXVsdGlNYXBEc0lkcy5wdXNoKHRoaXMuc3RhdGUuc2Vjb25kTWFwRHNJZCk7XG4gICAgfVxuXG4gICAgbGV0IGlzQWxsTWF0Y2hlZCA9IHRydWU7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtdWx0aU1hcERzSWRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAodGhpcy5tdXRhYmxlU3RhdGVQcm9wc01hcFtwcm9wS2V5XS5pbmRleE9mKG11bHRpTWFwRHNJZHNbaV0pID09PSAtMSkge1xuICAgICAgICBpc0FsbE1hdGNoZWQgPSBmYWxzZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGlzQWxsTWF0Y2hlZCkge1xuICAgICAgZGVsZXRlIHRoaXMubXV0YWJsZVN0YXRlUHJvcHNNYXBbcHJvcEtleV07XG4gICAgICB0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5kaXNwYXRjaChhcHBBY3Rpb25zLndpZGdldE11dGFibGVTdGF0ZVByb3BDaGFuZ2UodGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWQsXG4gICAgICAgIHByb3BLZXksIHZhbHVlKSk7XG4gICAgfVxuICB9XG5cbiAgaGFuZGxlVmlld0NoYW5nZWQgPSAoc2hhcmVWaWV3UG9pbnQ6IFNoYXJlVmlld1BvaW50KSA9PiB7XG4gICAgaWYgKHNoYXJlVmlld1BvaW50LnZpZXdwb2ludCA9PT0gbnVsbCkge1xuICAgICAgY29uc3QgZmlyc3RNYXBJbnN0YW5jZSA9IHRoaXMucmVmcy5maXJzdE1hcEluc3RhbmNlIGFzIE1hcEJhc2U7XG4gICAgICBjb25zdCBzZWNvbmRNYXBJbnN0YW5jZSA9IHRoaXMucmVmcy5zZWNvbmRNYXBJbnN0YW5jZSBhcyBNYXBCYXNlO1xuICAgICAgZmlyc3RNYXBJbnN0YW5jZSAmJiBmaXJzdE1hcEluc3RhbmNlLmdvSG9tZShmYWxzZSk7XG4gICAgICBzZWNvbmRNYXBJbnN0YW5jZSAmJiBzZWNvbmRNYXBJbnN0YW5jZS5nb0hvbWUoZmFsc2UpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGN1cnJlbnRWaXNpYmxlRHNJZCA9IHRoaXMuZ2V0Q3VycmVudFZpc2libGVEc0lkKCk7XG4gICAgaWYgKGN1cnJlbnRWaXNpYmxlRHNJZCA9PT0gc2hhcmVWaWV3UG9pbnQuZGF0YVNvdXJjZUlkKSB7XG4gICAgICBpZiAodGhpcy5zdGF0ZS5maXJzdE1hcERzSWQgJiYgdGhpcy5zdGF0ZS5maXJzdE1hcERzSWQgIT09IGN1cnJlbnRWaXNpYmxlRHNJZCkge1xuICAgICAgICBjb25zdCBmaXJzdE1hcEluc3RhbmNlID0gdGhpcy5yZWZzLmZpcnN0TWFwSW5zdGFuY2UgYXMgTWFwQmFzZTtcbiAgICAgICAgZmlyc3RNYXBJbnN0YW5jZSAmJiBmaXJzdE1hcEluc3RhbmNlLnNldFZpZXdQb2ludChzaGFyZVZpZXdQb2ludC52aWV3cG9pbnQpXG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLnN0YXRlLnNlY29uZE1hcERzSWQgJiYgdGhpcy5zdGF0ZS5zZWNvbmRNYXBEc0lkICE9PSBjdXJyZW50VmlzaWJsZURzSWQpIHtcbiAgICAgICAgY29uc3Qgc2Vjb25kTWFwSW5zdGFuY2UgPSB0aGlzLnJlZnMuc2Vjb25kTWFwSW5zdGFuY2UgYXMgTWFwQmFzZTtcbiAgICAgICAgc2Vjb25kTWFwSW5zdGFuY2UgJiYgc2Vjb25kTWFwSW5zdGFuY2Uuc2V0Vmlld1BvaW50KHNoYXJlVmlld1BvaW50LnZpZXdwb2ludCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaGFuZGxlRXh0ZW50Q2hhbmdlZCA9IChkYXRhU291cmNlSWQ6IHN0cmluZywgZXh0ZW50TWVzc2FnZTogRXh0ZW50Q2hhbmdlTWVzc2FnZSkgPT4ge1xuICAgIGNvbnN0IGN1cnJlbnRWaXNpYmxlRHNJZCA9IHRoaXMuZ2V0Q3VycmVudFZpc2libGVEc0lkKCk7XG4gICAgaWYgKGN1cnJlbnRWaXNpYmxlRHNJZCA9PT0gZGF0YVNvdXJjZUlkKSB7XG4gICAgICBNZXNzYWdlTWFuYWdlci5nZXRJbnN0YW5jZSgpLnB1Ymxpc2hNZXNzYWdlKGV4dGVudE1lc3NhZ2UpO1xuICAgIH1cbiAgfVxuXG4gIGhhbmRsZU1hcExvYWRlZCA9IChkYXRhU291cmNlSWQ6IHN0cmluZywgbWFwTG9hZFN0YXR1czogTWFwTG9hZFN0YXR1cykgPT4ge1xuICAgIHRoaXMuZm9yY2VVcGRhdGUoKTtcbiAgfVxuXG4gIGhhbmRsZUppbXVNYXBWaWV3Q3JlYXRlZCA9ICgpID0+IHtcbiAgICB0aGlzLmNvbmZpcm1KaW11TWFwVmlld0lzQWN0aXZlKCk7XG4gIH1cblxuICBjb25maXJtSmltdU1hcFZpZXdJc0FjdGl2ZSA9ICgpID0+IHtcbiAgICBpZiAodGhpcy5wcm9wcy5pc0RlZmF1bHRNYXApIHtcbiAgICAgIGNvbnN0IGppbXVNYXBWaWV3SWQgPSBgJHt0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5pZH0tJHtudWxsfWA7XG4gICAgICBjb25zdCBqaW11TWFwVmlldyA9IE1hcFZpZXdNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0SmltdU1hcFZpZXdCeUlkKGppbXVNYXBWaWV3SWQpO1xuICAgICAgaWYgKGppbXVNYXBWaWV3KSB7XG4gICAgICAgIHRoaXMuc2V0QWN0aXZlSmltdU1hcFZpZXcoamltdU1hcFZpZXcsIHRydWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGFsbERhdGFzb3VyY2VJZHMgPSBbXTtcbiAgICB0aGlzLnN0YXRlLmZpcnN0TWFwRHNJZCAmJiBhbGxEYXRhc291cmNlSWRzLnB1c2godGhpcy5zdGF0ZS5maXJzdE1hcERzSWQpO1xuICAgIHRoaXMuc3RhdGUuc2Vjb25kTWFwRHNJZCAmJiBhbGxEYXRhc291cmNlSWRzLnB1c2godGhpcy5zdGF0ZS5zZWNvbmRNYXBEc0lkKTtcbiAgICBjb25zdCBjdXJyZW50RGF0YVNvdXJjZUlkID0gdGhpcy5nZXRDdXJyZW50VmlzaWJsZURzSWQoKTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYWxsRGF0YXNvdXJjZUlkcy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgamltdU1hcFZpZXdJZCA9IGAke3RoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmlkfS0ke2FsbERhdGFzb3VyY2VJZHNbaV19YDtcbiAgICAgIGNvbnN0IGppbXVNYXBWaWV3ID0gTWFwVmlld01hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXRKaW11TWFwVmlld0J5SWQoamltdU1hcFZpZXdJZCk7XG4gICAgICBpZiAoamltdU1hcFZpZXcpIHtcbiAgICAgICAgaWYgKGFsbERhdGFzb3VyY2VJZHNbaV0gPT09IGN1cnJlbnREYXRhU291cmNlSWQpIHtcbiAgICAgICAgICB0aGlzLnNldEFjdGl2ZUppbXVNYXBWaWV3KGppbXVNYXBWaWV3LCB0cnVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnNldEFjdGl2ZUppbXVNYXBWaWV3KGppbXVNYXBWaWV3LCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBzZXRBY3RpdmVKaW11TWFwVmlldyhqaW11TWFwVmlldzogSmltdU1hcFZpZXcsIGlzQWN0aXZlOiBib29sZWFuKSB7XG4gICAgaWYgKGlzQWN0aXZlKSB7XG4gICAgICBqaW11TWFwVmlldy5zZXRJc0FjdGl2ZShpc0FjdGl2ZSk7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgY3VycmVudEppbXVNYXBWaWV3OiBqaW11TWFwVmlld1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGppbXVNYXBWaWV3LnNldElzQWN0aXZlKGlzQWN0aXZlKTtcbiAgICB9XG4gIH1cblxuICBpc1Nob3dNYXBTd2l0Y2hCdG4gPSAoKTogYm9vbGVhbiA9PiB7XG4gICAgY29uc3QgZmlyc3RNYXBJbnN0YW5jZSA9IHRoaXMucmVmcy5maXJzdE1hcEluc3RhbmNlIGFzIE1hcEJhc2U7XG4gICAgY29uc3Qgc2Vjb25kTWFwSW5zdGFuY2UgPSB0aGlzLnJlZnMuc2Vjb25kTWFwSW5zdGFuY2UgYXMgTWFwQmFzZTtcbiAgICBpZiAoZmlyc3RNYXBJbnN0YW5jZSAmJiBzZWNvbmRNYXBJbnN0YW5jZSkge1xuICAgICAgaWYoZmlyc3RNYXBJbnN0YW5jZS5nZXRNYXBMb2FkU3RhdHVzKCkgIT09IE1hcExvYWRTdGF0dXMuTG9hZGluZyAmJiBzZWNvbmRNYXBJbnN0YW5jZS5nZXRNYXBMb2FkU3RhdHVzKCkgIT09IE1hcExvYWRTdGF0dXMuTG9hZGluZykge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIGdldEN1cnJlbnRWaXNpYmxlRHNJZCA9ICgpID0+IHtcbiAgICBpZiAodGhpcy5zdGF0ZS5tdWx0aU1hcFN0eWxlWzBdLm9wYWNpdHkgPT09IDEpIHtcbiAgICAgIHJldHVybiB0aGlzLnN0YXRlLmZpcnN0TWFwRHNJZDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMuc3RhdGUuc2Vjb25kTWFwRHNJZDtcbiAgICB9XG4gIH1cblxuICBoYW5kbGVWaWV3R3JvdXBDcmVhdGUgPSAodmlld0dyb3VwOiBKaW11TWFwVmlld0dyb3VwKSA9PiB7XG4gICAgaWYgKHRoaXMucHJvcHMub25WaWV3R3JvdXBDcmVhdGUpIHtcbiAgICAgIHRoaXMucHJvcHMub25WaWV3R3JvdXBDcmVhdGUodmlld0dyb3VwKTtcbiAgICB9XG4gIH1cblxuICBoYW5kbGVNb2JpbGVQYW5lbENvbnRlbnRDaGFuZ2UgPSAobW9iaWxlUGFuZWxDb250ZW50OiBKU1guRWxlbWVudCkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgbW9iaWxlUGFuZWxDb250ZW50OiBtb2JpbGVQYW5lbENvbnRlbnRcbiAgICB9KTtcbiAgfVxuXG4gIGhhbmRsZUFjdGl2ZVRvb2xJbmZvQ2hhbmdlID0gKGFjdGl2ZVRvb2xJbmZvOiBBY3RpdmVUb29sSW5mbykgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgYWN0aXZlVG9vbEluZm86IGFjdGl2ZVRvb2xJbmZvXG4gICAgfSk7XG4gIH1cblxuICBnZXRMYXlvdXRDb25maWcgPSAoKSA9PiB7XG4gICAgaWYgKHRoaXMucHJvcHMud2lkdGhCcmVha3BvaW50ID09PSAneHNtYWxsJykge1xuICAgICAgcmV0dXJuIG1vYmlsZUxheW91dEpzb25zWzBdO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuY29uZmlnLmxheW91dEluZGV4ID8gcGNMYXlvdXRKc29uc1t0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5jb25maWcubGF5b3V0SW5kZXhdIDogcGNMYXlvdXRKc29uc1swXTtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIDxNdWx0aVNvdXJjZU1hcENvbnRleHQuUHJvdmlkZXIgdmFsdWUgPSB7e1xuICAgICAgbWFwV2lkZ2V0SWQ6IHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmlkLFxuICAgICAgbWFwV2lkZ2V0SGVpZ2h0OiB0aGlzLnByb3BzLndpZGdldEhlaWdodCxcbiAgICAgIGlzU2hvd01hcFN3aXRjaEJ0bjogdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMudXNlRGF0YVNvdXJjZXMgJiYgdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMudXNlRGF0YVNvdXJjZXMubGVuZ3RoID4gMSAmJiB0aGlzLmlzU2hvd01hcFN3aXRjaEJ0bigpLFxuICAgICAgZGF0YVNvdXJjZUlkczogW3RoaXMuc3RhdGUuZmlyc3RNYXBEc0lkLCB0aGlzLnN0YXRlLnNlY29uZE1hcERzSWRdLFxuICAgICAgYWN0aXZlRGF0YVNvdXJjZUlkOiB0aGlzLmdldEN1cnJlbnRWaXNpYmxlRHNJZCgpLFxuICAgICAgc3dpdGNoTWFwOiB0aGlzLnN3aXRjaE1hcCxcbiAgICAgIGZ1bGxTY3JlZW5NYXA6IHRoaXMucHJvcHMuZnVsbFNjcmVlbk1hcCxcbiAgICAgIGlzRnVsbFNjcmVlbjogdGhpcy5wcm9wcy5pc0Z1bGxTY3JlZW4sXG4gICAgICBtb2JpbGVQYW5lbENvbnRhaW5lcjogdGhpcy5zdGF0ZS5tb2JpbGVQYW5lbENvbnRhaW5lcixcbiAgICAgIG9uTW9iaWxlUGFuZWxDb250ZW50Q2hhbmdlOiB0aGlzLmhhbmRsZU1vYmlsZVBhbmVsQ29udGVudENoYW5nZSxcbiAgICAgIGluaXRpYWxNYXBTdGF0ZTogdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuY29uZmlnICYmIHRoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmNvbmZpZy5pbml0aWFsTWFwU3RhdGV9fT5cbiAgICAgIHshdGhpcy5wcm9wcy5pc0RlZmF1bHRNYXAgJiYgPGRpdiBjbGFzc05hbWU9XCJqaW11LXdpZGdldFwiIHN0eWxlPXt7cG9zaXRpb246ICdyZWxhdGl2ZSd9fT5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzTmFtZXMoJ2ppbXUtd2lkZ2V0Jywge1xuICAgICAgICAgICdtdWx0aXNvdXJjZW1hcC1pdGVtLWFwcGVhcic6IHRoaXMuc3RhdGUudXNlQW5pbWF0aW9uICYmIHRoaXMuc3RhdGUubXVsdGlNYXBTdHlsZVswXS5vcGFjaXR5LFxuICAgICAgICAgICdtdWx0aXNvdXJjZW1hcC1pdGVtLWRpc2FwcGVhcic6IHRoaXMuc3RhdGUudXNlQW5pbWF0aW9uICYmICEodGhpcy5zdGF0ZS5tdWx0aU1hcFN0eWxlWzBdLm9wYWNpdHkpLFxuICAgICAgICAgICdtdWx0aXNvdXJjZW1hcC1pdGVtLWFwcGVhci1ub2FuaW1hdGUnOiB0aGlzLnN0YXRlLm11bHRpTWFwU3R5bGVbMF0ub3BhY2l0eSxcbiAgICAgICAgICAnbXVsdGlzb3VyY2VtYXAtaXRlbS1kaXNhcHBlYXItbm9hbmltYXRlJzogISh0aGlzLnN0YXRlLm11bHRpTWFwU3R5bGVbMF0ub3BhY2l0eSlcbiAgICAgICAgfSl9XG4gICAgICAgIHN0eWxlPXt7cG9zaXRpb246ICdhYnNvbHV0ZScsIHpJbmRleDogdGhpcy5zdGF0ZS5tdWx0aU1hcFN0eWxlWzBdLnpJbmRleH19PlxuICAgICAgICAgIHt0aGlzLnN0YXRlLmZpcnN0TWFwRHNJZCAmJiA8TWFwQmFzZSByZWY9XCJmaXJzdE1hcEluc3RhbmNlXCJcbiAgICAgICAgICAgIG9uVmlld0NoYW5nZWQ9e3RoaXMuaGFuZGxlVmlld0NoYW5nZWR9IGJhc2VXaWRnZXRQcm9wcz17dGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHN9IG9uTWFwTG9hZGVkPXt0aGlzLmhhbmRsZU1hcExvYWRlZH1cbiAgICAgICAgICAgIG9uTXV0YWJsZVN0YXRlUHJvcHNDaGFuZ2VkPXt0aGlzLmhhbmRsZU11dGFibGVTdGF0ZVByb3BzQ2hhbmdlZH1cbiAgICAgICAgICAgIG9uRXh0ZW50Q2hhbmdlZD17KGRhdGFTb3VyY2VJZDogc3RyaW5nLCBtZXNzYWdlOiBFeHRlbnRDaGFuZ2VNZXNzYWdlKSA9PiB7dGhpcy5oYW5kbGVFeHRlbnRDaGFuZ2VkKGRhdGFTb3VyY2VJZCwgbWVzc2FnZSl9fVxuICAgICAgICAgICAgb25KaW11TWFwVmlld0NyZWF0ZWQ9e3RoaXMuaGFuZGxlSmltdU1hcFZpZXdDcmVhdGVkfVxuICAgICAgICAgICAgc3RhcnRMb2FkTW9kdWxlcz17dGhpcy5wcm9wcy5zdGFydExvYWRNb2R1bGVzfVxuICAgICAgICAgICAgZGF0YVNvdXJjZUlkPXt0aGlzLnN0YXRlLmZpcnN0TWFwRHNJZH1cbiAgICAgICAgICAgIHdpZHRoQnJlYWtwb2ludD17dGhpcy5wcm9wcy53aWR0aEJyZWFrcG9pbnR9PlxuICAgICAgICAgIDwvTWFwQmFzZT59XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NOYW1lcygnamltdS13aWRnZXQnLCB7XG4gICAgICAgICAgJ211bHRpc291cmNlbWFwLWl0ZW0tYXBwZWFyJzogdGhpcy5zdGF0ZS51c2VBbmltYXRpb24gJiYgdGhpcy5zdGF0ZS5tdWx0aU1hcFN0eWxlWzFdLm9wYWNpdHksXG4gICAgICAgICAgJ211bHRpc291cmNlbWFwLWl0ZW0tZGlzYXBwZWFyJzogdGhpcy5zdGF0ZS51c2VBbmltYXRpb24gJiYgISh0aGlzLnN0YXRlLm11bHRpTWFwU3R5bGVbMV0ub3BhY2l0eSksXG4gICAgICAgICAgJ211bHRpc291cmNlbWFwLWl0ZW0tYXBwZWFyLW5vYW5pbWF0ZSc6IHRoaXMuc3RhdGUubXVsdGlNYXBTdHlsZVsxXS5vcGFjaXR5LFxuICAgICAgICAgICdtdWx0aXNvdXJjZW1hcC1pdGVtLWRpc2FwcGVhci1ub2FuaW1hdGUnOiAhKHRoaXMuc3RhdGUubXVsdGlNYXBTdHlsZVsxXS5vcGFjaXR5KVxuICAgICAgICB9KX1cbiAgICAgICAgc3R5bGU9e3twb3NpdGlvbjogJ2Fic29sdXRlJywgekluZGV4OiB0aGlzLnN0YXRlLm11bHRpTWFwU3R5bGVbMV0uekluZGV4fX0+XG4gICAgICAgICAge3RoaXMuc3RhdGUuc2Vjb25kTWFwRHNJZCAmJiA8TWFwQmFzZSByZWY9XCJzZWNvbmRNYXBJbnN0YW5jZVwiXG4gICAgICAgICAgICBvblZpZXdDaGFuZ2VkPXt0aGlzLmhhbmRsZVZpZXdDaGFuZ2VkfSBiYXNlV2lkZ2V0UHJvcHM9e3RoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzfSBvbk1hcExvYWRlZD17dGhpcy5oYW5kbGVNYXBMb2FkZWR9XG4gICAgICAgICAgICBvbk11dGFibGVTdGF0ZVByb3BzQ2hhbmdlZD17dGhpcy5oYW5kbGVNdXRhYmxlU3RhdGVQcm9wc0NoYW5nZWR9XG4gICAgICAgICAgICBvbkV4dGVudENoYW5nZWQ9eyhkYXRhU291cmNlSWQ6IHN0cmluZywgbWVzc2FnZTogRXh0ZW50Q2hhbmdlTWVzc2FnZSkgPT4ge3RoaXMuaGFuZGxlRXh0ZW50Q2hhbmdlZChkYXRhU291cmNlSWQsIG1lc3NhZ2UpfX1cbiAgICAgICAgICAgIG9uSmltdU1hcFZpZXdDcmVhdGVkPXt0aGlzLmhhbmRsZUppbXVNYXBWaWV3Q3JlYXRlZH1cbiAgICAgICAgICAgIHN0YXJ0TG9hZE1vZHVsZXM9e3RoaXMucHJvcHMuc3RhcnRMb2FkTW9kdWxlc31cbiAgICAgICAgICAgIGRhdGFTb3VyY2VJZD17dGhpcy5zdGF0ZS5zZWNvbmRNYXBEc0lkfVxuICAgICAgICAgICAgd2lkdGhCcmVha3BvaW50PXt0aGlzLnByb3BzLndpZHRoQnJlYWtwb2ludH0+XG4gICAgICAgICAgPC9NYXBCYXNlPn1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj59XG4gICAgICB7dGhpcy5wcm9wcy5pc0RlZmF1bHRNYXAgJiYgPGRpdiBjbGFzc05hbWU9XCJqaW11LXdpZGdldFwiIHN0eWxlPXt7cG9zaXRpb246ICdyZWxhdGl2ZSd9fT5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzTmFtZXMoJ2ppbXUtd2lkZ2V0IG11bHRpc291cmNlbWFwLWl0ZW0tYXBwZWFyLW5vYW5pbWF0ZScpfVxuICAgICAgICAgIHN0eWxlPXt7cG9zaXRpb246ICdhYnNvbHV0ZScsIHpJbmRleDogNn19PlxuICAgICAgICAgIHs8TWFwQmFzZSByZWY9XCJmaXJzdE1hcEluc3RhbmNlXCIgaXNEZWZhdWx0TWFwPXt0aGlzLnByb3BzLmlzRGVmYXVsdE1hcH1cbiAgICAgICAgICAgIG9uVmlld0NoYW5nZWQ9e3RoaXMuaGFuZGxlVmlld0NoYW5nZWR9IGJhc2VXaWRnZXRQcm9wcz17dGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHN9IG9uTWFwTG9hZGVkPXt0aGlzLmhhbmRsZU1hcExvYWRlZH1cbiAgICAgICAgICAgIG9uTXV0YWJsZVN0YXRlUHJvcHNDaGFuZ2VkPXt0aGlzLmhhbmRsZU11dGFibGVTdGF0ZVByb3BzQ2hhbmdlZH0gZGF0YVNvdXJjZUlkPXtudWxsfVxuICAgICAgICAgICAgb25FeHRlbnRDaGFuZ2VkPXsoZGF0YVNvdXJjZUlkOiBzdHJpbmcsIG1lc3NhZ2U6IEV4dGVudENoYW5nZU1lc3NhZ2UpID0+IHt0aGlzLmhhbmRsZUV4dGVudENoYW5nZWQoZGF0YVNvdXJjZUlkLCBtZXNzYWdlKX19XG4gICAgICAgICAgICBvbkppbXVNYXBWaWV3Q3JlYXRlZD17dGhpcy5oYW5kbGVKaW11TWFwVmlld0NyZWF0ZWR9XG4gICAgICAgICAgICBzdGFydExvYWRNb2R1bGVzPXt0aGlzLnByb3BzLnN0YXJ0TG9hZE1vZHVsZXN9XG4gICAgICAgICAgICB3aWR0aEJyZWFrcG9pbnQ9e3RoaXMucHJvcHMud2lkdGhCcmVha3BvaW50fT5cbiAgICAgICAgICA8L01hcEJhc2U+fVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2Pn1cbiAgICAgIHt0aGlzLnN0YXRlLmN1cnJlbnRKaW11TWFwVmlldyAmJiB0aGlzLnN0YXRlLmN1cnJlbnRKaW11TWFwVmlldy52aWV3ICYmIDxNYXBGaXhlZExheW91dCBqaW11TWFwVmlldz17dGhpcy5zdGF0ZS5jdXJyZW50SmltdU1hcFZpZXd9XG4gICAgICAgIGFwcE1vZGU9e3RoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmFwcE1vZGV9IGxheW91dHM9e3RoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLmxheW91dHN9XG4gICAgICAgIExheW91dEVudHJ5PXt0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5idWlsZGVyU3VwcG9ydE1vZHVsZXMgJiYgdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuYnVpbGRlclN1cHBvcnRNb2R1bGVzLkxheW91dEVudHJ5fVxuICAgICAgICB3aWRnZXRNYW5pZmVzdE5hbWU9e3RoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLm1hbmlmZXN0Lm5hbWV9PjwvTWFwRml4ZWRMYXlvdXQ+fVxuICAgICAge3RoaXMuc3RhdGUuY3VycmVudEppbXVNYXBWaWV3ICYmIHRoaXMuc3RhdGUuY3VycmVudEppbXVNYXBWaWV3LnZpZXcgJiZcbiAgICAgICAgPExheW91dCBtYXBXaWRnZXRJZD17dGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuaWR9IGlzTW9iaWxlPXt0aGlzLnByb3BzLndpZHRoQnJlYWtwb2ludCA9PT0gJ3hzbWFsbCd9IGppbXVNYXBWaWV3PXt0aGlzLnN0YXRlLmN1cnJlbnRKaW11TWFwVmlld31cbiAgICAgICAgICBhcHBNb2RlPXt0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5hcHBNb2RlfSBsYXlvdXRzPXt0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5sYXlvdXRzfSBpbnRsPXt0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5pbnRsfVxuICAgICAgICAgIExheW91dEVudHJ5PXt0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5idWlsZGVyU3VwcG9ydE1vZHVsZXMgJiYgdGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuYnVpbGRlclN1cHBvcnRNb2R1bGVzLkxheW91dEVudHJ5fVxuICAgICAgICAgIGxheW91dENvbmZpZz17dGhpcy5nZXRMYXlvdXRDb25maWcoKX0gdG9vbENvbmZpZz17dGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMuY29uZmlnLnRvb2xDb25pZmcgPyB0aGlzLnByb3BzLmJhc2VXaWRnZXRQcm9wcy5jb25maWcudG9vbENvbmlmZyA6IHt9IH1cbiAgICAgICAgICBhY3RpdmVUb29sSW5mbz17dGhpcy5zdGF0ZS5hY3RpdmVUb29sSW5mb30gb25BY3RpdmVUb29sSW5mb0NoYW5nZT17dGhpcy5oYW5kbGVBY3RpdmVUb29sSW5mb0NoYW5nZX0gdGhlbWU9e3RoaXMucHJvcHMuYmFzZVdpZGdldFByb3BzLnRoZW1lfVxuICAgICAgICAgIHdpZGdldE1hbmlmZXN0TmFtZT17dGhpcy5wcm9wcy5iYXNlV2lkZ2V0UHJvcHMubWFuaWZlc3QubmFtZX0gd2lkZ2V0SGVpZ2h0PXt0aGlzLnByb3BzLndpZHRoQnJlYWtwb2ludCA9PT0gJ3hzbWFsbCcgPyBudWxsIDogdGhpcy5wcm9wcy53aWRnZXRIZWlnaHR9PlxuICAgICAgICA8L0xheW91dD59XG4gICAgICA8SmltdU1hcFZpZXdDb21wb25lbnQgdXNlTWFwV2lkZ2V0SWRzPXt0aGlzLnVzZU1hcFdpZGdldElkc30gb25WaWV3R3JvdXBDcmVhdGU9e3RoaXMuaGFuZGxlVmlld0dyb3VwQ3JlYXRlfT48L0ppbXVNYXBWaWV3Q29tcG9uZW50PlxuICAgIDwvTXVsdGlTb3VyY2VNYXBDb250ZXh0LlByb3ZpZGVyPlxuICB9XG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFtQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBS0E7QUFBQTtBQUhBO0FBeUNBO0FBQ0E7QUFDQTtBQUNBO0FBb0pBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBYUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUF4Y0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7O0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUF3REE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUF5TkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQWdEQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWFBO0FBQ0E7QUFZQTtBQUlBO0FBQ0E7QUFPQTtBQUVBO0FBNWJBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUF5WUE7QUFBQTtBQS9oQkE7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./extensions/widgets/arcgis/arcgis-map/src/runtime/components/multisourcemap.tsx\n");

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/base-tool-shell.tsx":
/*!******************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/base-tool-shell.tsx ***!
  \******************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jimu_core__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _ui_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ui-component */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/ui-component.tsx\");\n/* harmony import */ var _tool_modules__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../tool-modules */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/tool-modules.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/** @jsx jsx */\n\n\n\nvar BaseToolShell = /** @class */ (function (_super) {\n    __extends(BaseToolShell, _super);\n    function BaseToolShell(props) {\n        return _super.call(this, props) || this;\n    }\n    BaseToolShell.prototype.componentDidMount = function () {\n        var baseToolInstance = this.refs.baseToolInstance;\n        if (!_tool_modules__WEBPACK_IMPORTED_MODULE_2__[\"default\"][this.props.toolName].getIsNeedSetting() || (this.props.toolConfig && this.props.toolConfig[\"can\" + this.props.toolName])) {\n            this.props.jimuMapView.view.ui.exbMapTools[this.props.toolName] = baseToolInstance;\n        }\n    };\n    BaseToolShell.prototype.componentWillUnmount = function () {\n        if (_tool_modules__WEBPACK_IMPORTED_MODULE_2__[\"default\"][this.props.toolName].getIsNeedSetting()) {\n            var tempInstance = this.props.jimuMapView && this.props.jimuMapView.view\n                && this.props.jimuMapView.view.ui && this.props.jimuMapView.view.ui.exbMapTools[this.props.toolName];\n            if (tempInstance && tempInstance.destroy) {\n                tempInstance.destroy();\n                delete this.props.jimuMapView.view.ui.exbMapTools[this.props.toolName];\n            }\n        }\n    };\n    BaseToolShell.prototype.render = function () {\n        var ToolClass = _tool_modules__WEBPACK_IMPORTED_MODULE_2__[\"default\"][this.props.toolName];\n        if (ToolClass) {\n            return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"classNames\"])(this.props.className, 'exbmap-ui exbmap-ui-tool-shell divitem', this.props.layoutConfig.elements[this.props.toolName].className, {\n                    'exbmap-ui-hidden-element': this.props.isHidden,\n                    'mb-0 mr-0': this.props.isLastElement,\n                    'rounded-pill': ['Compass'].indexOf(this.props.toolName) > -1\n                }), style: this.props.layoutConfig.elements[this.props.toolName].style },\n                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(ToolClass, { ref: \"baseToolInstance\", toolJson: this.props.layoutConfig.elements[this.props.toolName], toolName: this.props.toolName, isMobile: this.props.isMobile, jimuMapView: this.props.jimuMapView, activeToolInfo: this.props.activeToolInfo, onActiveToolInfoChange: this.props.onActiveToolInfoChange, intl: this.props.intl, theme: this.props.theme }));\n        }\n        else {\n            if (this.props.isMobile) {\n                return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"span\", null);\n            }\n            else {\n                return null;\n            }\n        }\n    };\n    return BaseToolShell;\n}(_ui_component__WEBPACK_IMPORTED_MODULE_1__[\"UIComponent\"]));\n/* harmony default export */ __webpack_exports__[\"default\"] = (BaseToolShell);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvbGF5b3V0L2Jhc2UvYmFzZS10b29sLXNoZWxsLnRzeC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4dGVuc2lvbnMvd2lkZ2V0cy9hcmNnaXMvYXJjZ2lzLW1hcC9zcmMvcnVudGltZS9sYXlvdXQvYmFzZS9iYXNlLXRvb2wtc2hlbGwudHN4P2EwNzciXSwic291cmNlc0NvbnRlbnQiOlsiLyoqIEBqc3gganN4ICovXG5pbXBvcnQge2pzeCwgY2xhc3NOYW1lcywgSW50bFNoYXBlfSBmcm9tICdqaW11LWNvcmUnO1xuaW1wb3J0IHtVSUNvbXBvbmVudCwgVUlDb21wb25lbnRQcm9wc30gZnJvbSAnLi91aS1jb21wb25lbnQnO1xuaW1wb3J0IHtUb29sQ29uZmlnfSBmcm9tICcuLi8uLi8uLi9jb25maWcnO1xuaW1wb3J0IHtCYXNlVG9vbCwgQmFzZVRvb2xQcm9wcywgQWN0aXZlVG9vbEluZm99IGZyb20gJy4vYmFzZS10b29sJztcbmltcG9ydCB7TGF5b3V0SnNvbiwgVG9vbEpzb259IGZyb20gJy4uL2NvbmZpZyc7XG5pbXBvcnQgVG9vbE1vZHVsZXMgZnJvbSAnLi4vdG9vbC1tb2R1bGVzJztcblxuaW50ZXJmYWNlIFRvb2xTaGVsbFByb3BzIGV4dGVuZHMgVUlDb21wb25lbnRQcm9wcyB7XG4gIGxheW91dENvbmZpZzogTGF5b3V0SnNvbjtcbiAgdG9vbENvbmZpZzogVG9vbENvbmZpZztcbiAgdG9vbE5hbWU6IHN0cmluZztcbiAgaXNNb2JpbGU/OiBib29sZWFuO1xuICBpc0hpZGRlbj86IGJvb2xlYW47XG4gIGludGw/OiBJbnRsU2hhcGU7XG4gIGlzTGFzdEVsZW1lbnQ/OiBib29sZWFuO1xuXG4gIGNsYXNzTmFtZT86IHN0cmluZztcbiAgYWN0aXZlVG9vbEluZm86IEFjdGl2ZVRvb2xJbmZvO1xuICBvbkFjdGl2ZVRvb2xJbmZvQ2hhbmdlOiAoYWN0aXZlVG9vbEluZm86IEFjdGl2ZVRvb2xJbmZvKSA9PiB2b2lkO1xufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCYXNlVG9vbFNoZWxsIGV4dGVuZHMgVUlDb21wb25lbnQ8VG9vbFNoZWxsUHJvcHMsIHVua25vd24+e1xuXG4gIGNvbnN0cnVjdG9yKHByb3BzKXtcbiAgICBzdXBlcihwcm9wcyk7XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBjb25zdCBiYXNlVG9vbEluc3RhbmNlID0gdGhpcy5yZWZzLmJhc2VUb29sSW5zdGFuY2UgYXMgQmFzZVRvb2w8QmFzZVRvb2xQcm9wcywgdW5rbm93bj47XG5cbiAgICBpZighVG9vbE1vZHVsZXNbdGhpcy5wcm9wcy50b29sTmFtZV0uZ2V0SXNOZWVkU2V0dGluZygpIHx8ICh0aGlzLnByb3BzLnRvb2xDb25maWcgJiYgdGhpcy5wcm9wcy50b29sQ29uZmlnW2BjYW4ke3RoaXMucHJvcHMudG9vbE5hbWV9YF0pKSB7XG4gICAgICAodGhpcy5wcm9wcy5qaW11TWFwVmlldy52aWV3LnVpIGFzIGFueSkuZXhiTWFwVG9vbHNbdGhpcy5wcm9wcy50b29sTmFtZV0gPSBiYXNlVG9vbEluc3RhbmNlO1xuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIGlmIChUb29sTW9kdWxlc1t0aGlzLnByb3BzLnRvb2xOYW1lXS5nZXRJc05lZWRTZXR0aW5nKCkpIHtcbiAgICAgIGNvbnN0IHRlbXBJbnN0YW5jZSA9ICB0aGlzLnByb3BzLmppbXVNYXBWaWV3ICYmIHRoaXMucHJvcHMuamltdU1hcFZpZXcudmlld1xuICAgICAgICAmJiB0aGlzLnByb3BzLmppbXVNYXBWaWV3LnZpZXcudWkgJiYgKHRoaXMucHJvcHMuamltdU1hcFZpZXcudmlldy51aSBhcyBhbnkpLmV4Yk1hcFRvb2xzW3RoaXMucHJvcHMudG9vbE5hbWVdO1xuICAgICAgaWYgKHRlbXBJbnN0YW5jZSAmJiB0ZW1wSW5zdGFuY2UuZGVzdHJveSkge1xuICAgICAgICB0ZW1wSW5zdGFuY2UuZGVzdHJveSgpO1xuICAgICAgICBkZWxldGUgKHRoaXMucHJvcHMuamltdU1hcFZpZXcudmlldy51aSBhcyBhbnkpLmV4Yk1hcFRvb2xzW3RoaXMucHJvcHMudG9vbE5hbWVdO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBUb29sQ2xhc3MgPSBUb29sTW9kdWxlc1t0aGlzLnByb3BzLnRvb2xOYW1lXTtcbiAgICBpZiAoVG9vbENsYXNzKSB7XG4gICAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9e2NsYXNzTmFtZXModGhpcy5wcm9wcy5jbGFzc05hbWUsJ2V4Ym1hcC11aSBleGJtYXAtdWktdG9vbC1zaGVsbCBkaXZpdGVtJywgKHRoaXMucHJvcHMubGF5b3V0Q29uZmlnLmVsZW1lbnRzW3RoaXMucHJvcHMudG9vbE5hbWVdIGFzIFRvb2xKc29uKS5jbGFzc05hbWUsXG4gICAgICAgIHtcbiAgICAgICAgICAnZXhibWFwLXVpLWhpZGRlbi1lbGVtZW50JzogdGhpcy5wcm9wcy5pc0hpZGRlbixcbiAgICAgICAgICAnbWItMCBtci0wJzogdGhpcy5wcm9wcy5pc0xhc3RFbGVtZW50LFxuICAgICAgICAgICdyb3VuZGVkLXBpbGwnOiBbJ0NvbXBhc3MnXS5pbmRleE9mKHRoaXMucHJvcHMudG9vbE5hbWUpID4gLTFcbiAgICAgICAgfSl9IHN0eWxlPXsodGhpcy5wcm9wcy5sYXlvdXRDb25maWcuZWxlbWVudHNbdGhpcy5wcm9wcy50b29sTmFtZV0gYXMgVG9vbEpzb24pLnN0eWxlfT5cbiAgICAgICAgPFRvb2xDbGFzcyByZWY9XCJiYXNlVG9vbEluc3RhbmNlXCIgdG9vbEpzb249e3RoaXMucHJvcHMubGF5b3V0Q29uZmlnLmVsZW1lbnRzW3RoaXMucHJvcHMudG9vbE5hbWVdfSB0b29sTmFtZT17dGhpcy5wcm9wcy50b29sTmFtZX0gaXNNb2JpbGU9e3RoaXMucHJvcHMuaXNNb2JpbGV9XG4gICAgICAgICAgamltdU1hcFZpZXc9e3RoaXMucHJvcHMuamltdU1hcFZpZXd9IGFjdGl2ZVRvb2xJbmZvPXt0aGlzLnByb3BzLmFjdGl2ZVRvb2xJbmZvfSBvbkFjdGl2ZVRvb2xJbmZvQ2hhbmdlPXt0aGlzLnByb3BzLm9uQWN0aXZlVG9vbEluZm9DaGFuZ2V9XG4gICAgICAgICAgaW50bD17dGhpcy5wcm9wcy5pbnRsfSB0aGVtZT17dGhpcy5wcm9wcy50aGVtZX0+PC9Ub29sQ2xhc3M+XG4gICAgICA8L2Rpdj5cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHRoaXMucHJvcHMuaXNNb2JpbGUpIHtcbiAgICAgICAgcmV0dXJuIDxzcGFuPjwvc3Bhbj47XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn0iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUlBO0FBZ0JBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTs7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/base-tool-shell.tsx\n");

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/base-tool.tsx":
/*!************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/base-tool.tsx ***!
  \************************************************************************************/
/*! exports provided: BaseTool */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BaseTool\", function() { return BaseTool; });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jimu_core__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ \"jimu-ui\");\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jimu_ui__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _ui_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ui-component */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/ui-component.tsx\");\n/* harmony import */ var _scroll_container__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./scroll-container */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/scroll-container.tsx\");\n/* harmony import */ var _panel_shell__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./panel-shell */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/panel-shell.tsx\");\n/* harmony import */ var _components_multisourcemap_context__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../components/multisourcemap-context */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/components/multisourcemap-context.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __makeTemplateObject = (undefined && undefined.__makeTemplateObject) || function (cooked, raw) {\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n    return cooked;\n};\n/** @jsx jsx */\n\n\n\n\n\n\nvar defaultIcon = __webpack_require__(/*! jimu-ui/lib/icons/widgets.svg */ \"./jimu-ui/lib/icons/widgets.svg\");\nvar closeIcon = __webpack_require__(/*! ../../assets/icons/close-12.svg */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/close-12.svg\");\nvar BaseTool = /** @class */ (function (_super) {\n    __extends(BaseTool, _super);\n    function BaseTool(props) {\n        var _this = _super.call(this, props) || this;\n        _this.toolName = null;\n        _this.isContainedToMobilePanel = false;\n        // this param is used to update pop position when pc content has changed\n        _this.generation = 0;\n        _this._getContent = function () {\n            if (_this.props.toolJson.isOnlyExpanded) {\n                return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { css: _this._cssStyle(), className: \"exbmap-ui exbmap-ui-tool-panel\" },\n                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"ErrorBoundary\"], null, _this.getExpandPanel()));\n            }\n            else {\n                if (_this.props.isMobile) {\n                    return _this._renderMobileTool();\n                }\n                else {\n                    return _this._renderPCTool();\n                }\n            }\n        };\n        _this.onResize = function (width, height) {\n            if (!width || !height) {\n                return;\n            }\n            _this.generation = height;\n            _this.forceUpdate();\n        };\n        _this.handleToggleMobilePanel = function () {\n            _this.props.onActiveToolInfoChange(null);\n        };\n        var mapContainer = _this.props.jimuMapView && _this.props.jimuMapView.view && _this.props.jimuMapView.view.container;\n        if (jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"MobilePanelManager\"].getInstance().checkDomIsContained(mapContainer)) {\n            _this.isContainedToMobilePanel = true;\n        }\n        _this.modifiers = [{\n                name: 'flip',\n                options: {\n                    padding: 0\n                }\n            }, {\n                name: 'preventOverflow',\n                options: {\n                    boundary: mapContainer\n                }\n            }];\n        return _this;\n    }\n    BaseTool.prototype._cssStyle = function () {\n        return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n      .exbmap-basetool-loader {\\n        position: absolute;\\n        top: 0;\\n        left: 0;\\n        right: 0;\\n        height: 2px;\\n        width: 100%;\\n        animation: esri-fade-in 500ms ease-in-out;\\n      }\\n\\n      .exbmap-basetool-loader:before {\\n        background-color: rgba(110,110,110,0.3);\\n        width: 100%;\\n        z-index: 0;\\n        content: \\\"\\\";\\n        opacity: 1;\\n        position: absolute;\\n        height: 2px;\\n        top: 0;\\n        transition: opacity 500ms ease-in-out;\\n      }\\n\\n      .exbmap-basetool-loader:after {\\n        background-color: #6e6e6e;\\n        width: 20%;\\n        z-index: 0;\\n        animation: looping-progresss-bar-ani 1500ms linear infinite;\\n        content: \\\"\\\";\\n        opacity: 1;\\n        position: absolute;\\n        height: 2px;\\n        top: 0;\\n        transition: opacity 500ms ease-in-out;\\n      }\\n\\n      /* pointer-events: auto;\\n      box-shadow: 0 1px 2px rgba(0,0,0,0.3);\\n      position: relative;\\n\\n      .exbmap-ui-tool-icon {\\n        fill: black;\\n        left: 8px;\\n        top: 8px;\\n        position: absolute;\\n        display: block;\\n      }\\n\\n      .exbmap-ui-expand-content {\\n        transition: opacity 250ms ease-in-out, margin 250ms ease-in-out;\\n        min-height: 10px;\\n        min-width: 10px;\\n        padding-top: \", \";\\n        padding-bottom: \", \";\\n        padding-left: \", \";\\n        padding-right: \", \";\\n\\n        .exbmap-ui-expand-content-header {\\n          margin-bottom: \", \";\\n        }\\n\\n        .panel-title {\\n          font-size: \", \";\\n          color: #000000;\\n        }\\n      }\\n\\n      .expand-placement-bottom {\\n        padding-top: 0.25rem !important;\\n      }\\n\\n      .expand-placement-left {\\n        padding-right: 0.25rem !important;\\n      }\\n\\n      .expand-placement-right {\\n        padding-left: 0.25rem !important;\\n      }\\n\\n      .expand-placement-top {\\n        padding-bottom: 0.25rem !important;\\n      }\\n\\n      .exbmap-basetool-loader {\\n        position: absolute;\\n        top: 0;\\n        left: 0;\\n        right: 0;\\n        height: 2px;\\n        width: 100%;\\n        animation: esri-fade-in 500ms ease-in-out;\\n      }\\n\\n      .exbmap-basetool-loader:before {\\n        background-color: rgba(110,110,110,0.3);\\n        width: 100%;\\n        z-index: 0;\\n        content: \\\"\\\";\\n        opacity: 1;\\n        position: absolute;\\n        height: 2px;\\n        top: 0;\\n        transition: opacity 500ms ease-in-out;\\n      }\\n\\n      .exbmap-basetool-loader:after {\\n        background-color: #6e6e6e;\\n        width: 20%;\\n        z-index: 0;\\n        animation: looping-progresss-bar-ani 1500ms linear infinite;\\n        content: \\\"\\\";\\n        opacity: 1;\\n        position: absolute;\\n        height: 2px;\\n        top: 0;\\n        transition: opacity 500ms ease-in-out;\\n      } */\\n    \"], [\"\\n      .exbmap-basetool-loader {\\n        position: absolute;\\n        top: 0;\\n        left: 0;\\n        right: 0;\\n        height: 2px;\\n        width: 100%;\\n        animation: esri-fade-in 500ms ease-in-out;\\n      }\\n\\n      .exbmap-basetool-loader:before {\\n        background-color: rgba(110,110,110,0.3);\\n        width: 100%;\\n        z-index: 0;\\n        content: \\\"\\\";\\n        opacity: 1;\\n        position: absolute;\\n        height: 2px;\\n        top: 0;\\n        transition: opacity 500ms ease-in-out;\\n      }\\n\\n      .exbmap-basetool-loader:after {\\n        background-color: #6e6e6e;\\n        width: 20%;\\n        z-index: 0;\\n        animation: looping-progresss-bar-ani 1500ms linear infinite;\\n        content: \\\"\\\";\\n        opacity: 1;\\n        position: absolute;\\n        height: 2px;\\n        top: 0;\\n        transition: opacity 500ms ease-in-out;\\n      }\\n\\n      /* pointer-events: auto;\\n      box-shadow: 0 1px 2px rgba(0,0,0,0.3);\\n      position: relative;\\n\\n      .exbmap-ui-tool-icon {\\n        fill: black;\\n        left: 8px;\\n        top: 8px;\\n        position: absolute;\\n        display: block;\\n      }\\n\\n      .exbmap-ui-expand-content {\\n        transition: opacity 250ms ease-in-out, margin 250ms ease-in-out;\\n        min-height: 10px;\\n        min-width: 10px;\\n        padding-top: \", \";\\n        padding-bottom: \", \";\\n        padding-left: \", \";\\n        padding-right: \", \";\\n\\n        .exbmap-ui-expand-content-header {\\n          margin-bottom: \", \";\\n        }\\n\\n        .panel-title {\\n          font-size: \", \";\\n          color: #000000;\\n        }\\n      }\\n\\n      .expand-placement-bottom {\\n        padding-top: 0.25rem !important;\\n      }\\n\\n      .expand-placement-left {\\n        padding-right: 0.25rem !important;\\n      }\\n\\n      .expand-placement-right {\\n        padding-left: 0.25rem !important;\\n      }\\n\\n      .expand-placement-top {\\n        padding-bottom: 0.25rem !important;\\n      }\\n\\n      .exbmap-basetool-loader {\\n        position: absolute;\\n        top: 0;\\n        left: 0;\\n        right: 0;\\n        height: 2px;\\n        width: 100%;\\n        animation: esri-fade-in 500ms ease-in-out;\\n      }\\n\\n      .exbmap-basetool-loader:before {\\n        background-color: rgba(110,110,110,0.3);\\n        width: 100%;\\n        z-index: 0;\\n        content: \\\"\\\";\\n        opacity: 1;\\n        position: absolute;\\n        height: 2px;\\n        top: 0;\\n        transition: opacity 500ms ease-in-out;\\n      }\\n\\n      .exbmap-basetool-loader:after {\\n        background-color: #6e6e6e;\\n        width: 20%;\\n        z-index: 0;\\n        animation: looping-progresss-bar-ani 1500ms linear infinite;\\n        content: \\\"\\\";\\n        opacity: 1;\\n        position: absolute;\\n        height: 2px;\\n        top: 0;\\n        transition: opacity 500ms ease-in-out;\\n      } */\\n    \"])), jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"polished\"].rem(10), jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"polished\"].rem(10), jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"polished\"].rem(20), jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"polished\"].rem(20), jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"polished\"].rem(10), jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"polished\"].rem(16));\n    };\n    BaseTool.prototype.onShowPanel = function () { };\n    BaseTool.prototype.onClosePanel = function () { };\n    BaseTool.prototype.destroy = function () { };\n    BaseTool.getIsNeedSetting = function () {\n        return true;\n    };\n    BaseTool.prototype._onIconClick = function (e) {\n        var onIconClick = this.getIcon() && this.getIcon().onIconClick;\n        if (onIconClick) {\n            onIconClick(e);\n        }\n        if (!this.getExpandPanel()) {\n            return;\n        }\n        if (this.props.activeToolInfo) {\n            if (this.props.activeToolInfo.activeToolName === this.toolName) {\n                this.props.onActiveToolInfoChange(null);\n            }\n            else {\n                this.props.onActiveToolInfoChange({\n                    activeToolName: this.toolName,\n                    activeToolTitle: this.getTitle()\n                });\n                this.onShowPanel();\n            }\n        }\n        else {\n            this.props.onActiveToolInfoChange({\n                activeToolName: this.toolName,\n                activeToolTitle: this.getTitle()\n            });\n            this.onShowPanel();\n        }\n    };\n    BaseTool.prototype._initIconContainer = function (ref) {\n        if (ref && !this.iconContainer) {\n            this.iconContainer = ref;\n            this.forceUpdate();\n        }\n    };\n    BaseTool.prototype._renderPCTool = function () {\n        var _this = this;\n        var toolIcon = this.getIcon();\n        if (!toolIcon) {\n            toolIcon = {\n                icon: defaultIcon,\n                onIconClick: function () { }\n            };\n        }\n        var expandPanel = this.getExpandPanel();\n        var activeToolName = this.props.activeToolInfo && this.props.activeToolInfo.activeToolName;\n        this.generation = this.generation + 1;\n        return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"exbmap-ui exbmap-ui-tool\", css: this._cssStyle(), style: { width: '32px', height: '32px' } },\n            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { style: {}, ref: function (ref) { _this._initIconContainer(ref); }, className: Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"classNames\"])('exbmap-ui-tool esri-widget--button', {\n                    'exbmap-ui-tool-icon-selected': this.toolName === activeToolName && expandPanel\n                }), title: this.props.toolJson.isShowIconTitle ? this.getTitle() : '', onClick: function (e) { _this._onIconClick(e); } },\n                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"Icon\"], { width: 16, height: 16, className: \"exbmap-ui-tool-icon\", icon: toolIcon.icon })),\n            this.iconContainer && (this.toolName === activeToolName && expandPanel) && Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_panel_shell__WEBPACK_IMPORTED_MODULE_4__[\"default\"], { onDestroyed: function () { _this.onClosePanel(); } },\n                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"Popper\"], { className: \"exbmap-ui-popper\", reference: this.iconContainer, open: !!(this.toolName === activeToolName && expandPanel), placement: this.props.toolJson.panelPlacement, modifiers: this.modifiers, version: this.generation, offset: [0, 4] },\n                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_components_multisourcemap_context__WEBPACK_IMPORTED_MODULE_5__[\"MultiSourceMapContext\"].Consumer, null, function (_a) {\n                        var mapWidgetHeight = _a.mapWidgetHeight;\n                        return (Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { css: _this._cssStyle(), className: _this.getExpandPanelPlacementClassName() },\n                            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"exbmap-ui-expand-content\" },\n                                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"w-100 justify-content-between d-flex exbmap-ui-expand-content-header\" },\n                                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"panel-title text-truncate\", style: { maxWidth: '210px' }, title: _this.getTitle() }, _this.getTitle()),\n                                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { onClick: function () { _this.props.onActiveToolInfoChange(null); }, style: { cursor: 'pointer' } },\n                                        Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"Icon\"], { width: 20, height: 20, icon: closeIcon }))),\n                                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"ErrorBoundary\"], null,\n                                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { style: { maxHeight: mapWidgetHeight - 55 + \"px\", overflowY: _this.toolName !== 'Search' ? 'auto' : 'inherit' } }, expandPanel),\n                                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"ReactResizeDetector\"], { handleHeight: true, onResize: _this.onResize })))));\n                    }))));\n    };\n    BaseTool.prototype._renderMobileTool = function () {\n        var _this = this;\n        var toolIcon = this.getIcon();\n        if (!toolIcon) {\n            toolIcon = {\n                icon: defaultIcon,\n                onIconClick: function () { }\n            };\n        }\n        var expandPanel = this.getExpandPanel();\n        var activeToolName = this.props.activeToolInfo && this.props.activeToolInfo.activeToolName;\n        return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_components_multisourcemap_context__WEBPACK_IMPORTED_MODULE_5__[\"MultiSourceMapContext\"].Consumer, null, function (_a) {\n            var mobilePanelContainer = _a.mobilePanelContainer;\n            return (Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"exbmap-ui exbmap-ui-tool\", css: _this._cssStyle() },\n                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { style: {}, ref: function (ref) { _this.iconContainer = ref; }, className: Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"classNames\"])('exbmap-ui-tool esri-widget--button', {\n                        'exbmap-ui-tool-icon-selected': _this.toolName === activeToolName && expandPanel\n                    }), title: _this.props.toolJson.isShowIconTitle ? _this.getTitle() : '', onClick: function (e) { _this._onIconClick(e); } },\n                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"Icon\"], { width: 16, height: 16, className: \"exbmap-ui-tool-icon\", icon: toolIcon.icon })),\n                _this.toolName === activeToolName && expandPanel &&\n                    jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"ReactDOM\"].createPortal(Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_panel_shell__WEBPACK_IMPORTED_MODULE_4__[\"default\"], { onDestroyed: function () { _this.onClosePanel(); } },\n                        Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"w-100 h-100 d-flex flex-column\", css: _this._cssStyle() },\n                            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_scroll_container__WEBPACK_IMPORTED_MODULE_3__[\"default\"], { className: \"w-100 h-100\" },\n                                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"ErrorBoundary\"], null, _this.getExpandPanel())))), mobilePanelContainer)));\n        });\n    };\n    BaseTool.prototype.getExpandPanelPlacementClassName = function () {\n        if (!this.props.toolJson.panelPlacement) {\n            return null;\n        }\n        else {\n            return \"expand-placement-\" + this.props.toolJson.panelPlacement.split('-')[0];\n        }\n    };\n    BaseTool.prototype.render = function () {\n        return this._getContent();\n    };\n    return BaseTool;\n}(_ui_component__WEBPACK_IMPORTED_MODULE_2__[\"UIComponent\"]));\n\nvar templateObject_1;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvbGF5b3V0L2Jhc2UvYmFzZS10b29sLnRzeC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4dGVuc2lvbnMvd2lkZ2V0cy9hcmNnaXMvYXJjZ2lzLW1hcC9zcmMvcnVudGltZS9sYXlvdXQvYmFzZS9iYXNlLXRvb2wudHN4PzExZTMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqIEBqc3gganN4ICovXG5pbXBvcnQge1JlYWN0LCBjc3MsIGpzeCwgcG9saXNoZWQsIGNsYXNzTmFtZXMsIFJlYWN0RE9NLCBFcnJvckJvdW5kYXJ5LCBSZWFjdFJlc2l6ZURldGVjdG9yLCBJbnRsU2hhcGV9IGZyb20gJ2ppbXUtY29yZSc7XG5pbXBvcnQge0ljb24sIFBvcHBlciwgTW9iaWxlUGFuZWxNYW5hZ2VyLCBNb2RpZmllcnN9IGZyb20gJ2ppbXUtdWknO1xuaW1wb3J0IHtVSUNvbXBvbmVudCwgVUlDb21wb25lbnRQcm9wc30gZnJvbSAnLi91aS1jb21wb25lbnQnO1xuaW1wb3J0IHtUb29sSnNvbn0gZnJvbSAnLi4vY29uZmlnJztcbmltcG9ydCBTY3JvbGxDb250YWluZXIgZnJvbSAnLi9zY3JvbGwtY29udGFpbmVyJztcbmltcG9ydCBQYW5lbFNoZWxsIGZyb20gJy4vcGFuZWwtc2hlbGwnO1xuaW1wb3J0IHtNdWx0aVNvdXJjZU1hcENvbnRleHR9IGZyb20gJy4uLy4uL2NvbXBvbmVudHMvbXVsdGlzb3VyY2VtYXAtY29udGV4dCc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQWN0aXZlVG9vbEluZm8ge1xuICBhY3RpdmVUb29sTmFtZTogc3RyaW5nO1xuICBhY3RpdmVUb29sVGl0bGU6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCYXNlVG9vbFByb3BzIGV4dGVuZHMgVUlDb21wb25lbnRQcm9wcyB7XG4gIHRvb2xKc29uOiBUb29sSnNvbjtcbiAgdG9vbE5hbWU6IHN0cmluZztcbiAgaXNNb2JpbGU/OiBib29sZWFuO1xuICBpbnRsPzogSW50bFNoYXBlO1xuXG4gIGFjdGl2ZVRvb2xJbmZvOiBBY3RpdmVUb29sSW5mbztcbiAgb25BY3RpdmVUb29sSW5mb0NoYW5nZTogKGFjdGl2ZVRvb2xJbmZvOiBBY3RpdmVUb29sSW5mbykgPT4gdm9pZDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJY29uVHlwZSB7XG4gIGljb246IFJlYWN0LkNvbXBvbmVudENsYXNzPFJlYWN0LlNWR0F0dHJpYnV0ZXM8U1ZHRWxlbWVudD4+LFxuICBvbkljb25DbGljaz86IChldnQ/OiBSZWFjdC5Nb3VzZUV2ZW50PGFueT4pID0+IHZvaWQ7XG59XG5cbmNvbnN0IGRlZmF1bHRJY29uID0gcmVxdWlyZSgnamltdS11aS9saWIvaWNvbnMvd2lkZ2V0cy5zdmcnKTtcbmNvbnN0IGNsb3NlSWNvbiA9IHJlcXVpcmUoJy4uLy4uL2Fzc2V0cy9pY29ucy9jbG9zZS0xMi5zdmcnKTtcblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEJhc2VUb29sPFAgZXh0ZW5kcyBCYXNlVG9vbFByb3BzICwgUyBleHRlbmRzIHVua25vd24+IGV4dGVuZHMgVUlDb21wb25lbnQ8UCwgUz57XG4gIGljb25Db250YWluZXI6IEhUTUxFbGVtZW50O1xuICB0b29sTmFtZTogc3RyaW5nID0gbnVsbDtcbiAgaXNDb250YWluZWRUb01vYmlsZVBhbmVsID0gZmFsc2U7XG4gIC8vIHRoaXMgcGFyYW0gaXMgdXNlZCB0byB1cGRhdGUgcG9wIHBvc2l0aW9uIHdoZW4gcGMgY29udGVudCBoYXMgY2hhbmdlZFxuICBnZW5lcmF0aW9uPzogbnVtYmVyID0gMDtcbiAgbW9kaWZpZXJzOiBNb2RpZmllcnM7XG5cbiAgY29uc3RydWN0b3IocHJvcHMpe1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIGNvbnN0IG1hcENvbnRhaW5lciA9IHRoaXMucHJvcHMuamltdU1hcFZpZXcgJiYgdGhpcy5wcm9wcy5qaW11TWFwVmlldy52aWV3ICYmIHRoaXMucHJvcHMuamltdU1hcFZpZXcudmlldy5jb250YWluZXI7XG4gICAgaWYgKE1vYmlsZVBhbmVsTWFuYWdlci5nZXRJbnN0YW5jZSgpLmNoZWNrRG9tSXNDb250YWluZWQobWFwQ29udGFpbmVyKSkge1xuICAgICAgdGhpcy5pc0NvbnRhaW5lZFRvTW9iaWxlUGFuZWwgPSB0cnVlO1xuICAgIH1cbiAgICB0aGlzLm1vZGlmaWVycyA9IFt7XG4gICAgICBuYW1lOiAnZmxpcCcsXG4gICAgICBvcHRpb25zOiB7XG4gICAgICAgIHBhZGRpbmc6IDBcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBuYW1lOiAncHJldmVudE92ZXJmbG93JyxcbiAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgYm91bmRhcnk6IG1hcENvbnRhaW5lclxuICAgICAgfX1dO1xuICB9XG5cbiAgcHJpdmF0ZSBfY3NzU3R5bGUoKSB7XG4gICAgcmV0dXJuIGNzc2BcbiAgICAgIC5leGJtYXAtYmFzZXRvb2wtbG9hZGVyIHtcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICB0b3A6IDA7XG4gICAgICAgIGxlZnQ6IDA7XG4gICAgICAgIHJpZ2h0OiAwO1xuICAgICAgICBoZWlnaHQ6IDJweDtcbiAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgIGFuaW1hdGlvbjogZXNyaS1mYWRlLWluIDUwMG1zIGVhc2UtaW4tb3V0O1xuICAgICAgfVxuXG4gICAgICAuZXhibWFwLWJhc2V0b29sLWxvYWRlcjpiZWZvcmUge1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDExMCwxMTAsMTEwLDAuMyk7XG4gICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICB6LWluZGV4OiAwO1xuICAgICAgICBjb250ZW50OiBcIlwiO1xuICAgICAgICBvcGFjaXR5OiAxO1xuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgIGhlaWdodDogMnB4O1xuICAgICAgICB0b3A6IDA7XG4gICAgICAgIHRyYW5zaXRpb246IG9wYWNpdHkgNTAwbXMgZWFzZS1pbi1vdXQ7XG4gICAgICB9XG5cbiAgICAgIC5leGJtYXAtYmFzZXRvb2wtbG9hZGVyOmFmdGVyIHtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzZlNmU2ZTtcbiAgICAgICAgd2lkdGg6IDIwJTtcbiAgICAgICAgei1pbmRleDogMDtcbiAgICAgICAgYW5pbWF0aW9uOiBsb29waW5nLXByb2dyZXNzcy1iYXItYW5pIDE1MDBtcyBsaW5lYXIgaW5maW5pdGU7XG4gICAgICAgIGNvbnRlbnQ6IFwiXCI7XG4gICAgICAgIG9wYWNpdHk6IDE7XG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgaGVpZ2h0OiAycHg7XG4gICAgICAgIHRvcDogMDtcbiAgICAgICAgdHJhbnNpdGlvbjogb3BhY2l0eSA1MDBtcyBlYXNlLWluLW91dDtcbiAgICAgIH1cblxuICAgICAgLyogcG9pbnRlci1ldmVudHM6IGF1dG87XG4gICAgICBib3gtc2hhZG93OiAwIDFweCAycHggcmdiYSgwLDAsMCwwLjMpO1xuICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuXG4gICAgICAuZXhibWFwLXVpLXRvb2wtaWNvbiB7XG4gICAgICAgIGZpbGw6IGJsYWNrO1xuICAgICAgICBsZWZ0OiA4cHg7XG4gICAgICAgIHRvcDogOHB4O1xuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgfVxuXG4gICAgICAuZXhibWFwLXVpLWV4cGFuZC1jb250ZW50IHtcbiAgICAgICAgdHJhbnNpdGlvbjogb3BhY2l0eSAyNTBtcyBlYXNlLWluLW91dCwgbWFyZ2luIDI1MG1zIGVhc2UtaW4tb3V0O1xuICAgICAgICBtaW4taGVpZ2h0OiAxMHB4O1xuICAgICAgICBtaW4td2lkdGg6IDEwcHg7XG4gICAgICAgIHBhZGRpbmctdG9wOiAke3BvbGlzaGVkLnJlbSgxMCl9O1xuICAgICAgICBwYWRkaW5nLWJvdHRvbTogJHtwb2xpc2hlZC5yZW0oMTApfTtcbiAgICAgICAgcGFkZGluZy1sZWZ0OiAke3BvbGlzaGVkLnJlbSgyMCl9O1xuICAgICAgICBwYWRkaW5nLXJpZ2h0OiAke3BvbGlzaGVkLnJlbSgyMCl9O1xuXG4gICAgICAgIC5leGJtYXAtdWktZXhwYW5kLWNvbnRlbnQtaGVhZGVyIHtcbiAgICAgICAgICBtYXJnaW4tYm90dG9tOiAke3BvbGlzaGVkLnJlbSgxMCl9O1xuICAgICAgICB9XG5cbiAgICAgICAgLnBhbmVsLXRpdGxlIHtcbiAgICAgICAgICBmb250LXNpemU6ICR7cG9saXNoZWQucmVtKDE2KX07XG4gICAgICAgICAgY29sb3I6ICMwMDAwMDA7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLmV4cGFuZC1wbGFjZW1lbnQtYm90dG9tIHtcbiAgICAgICAgcGFkZGluZy10b3A6IDAuMjVyZW0gIWltcG9ydGFudDtcbiAgICAgIH1cblxuICAgICAgLmV4cGFuZC1wbGFjZW1lbnQtbGVmdCB7XG4gICAgICAgIHBhZGRpbmctcmlnaHQ6IDAuMjVyZW0gIWltcG9ydGFudDtcbiAgICAgIH1cblxuICAgICAgLmV4cGFuZC1wbGFjZW1lbnQtcmlnaHQge1xuICAgICAgICBwYWRkaW5nLWxlZnQ6IDAuMjVyZW0gIWltcG9ydGFudDtcbiAgICAgIH1cblxuICAgICAgLmV4cGFuZC1wbGFjZW1lbnQtdG9wIHtcbiAgICAgICAgcGFkZGluZy1ib3R0b206IDAuMjVyZW0gIWltcG9ydGFudDtcbiAgICAgIH1cblxuICAgICAgLmV4Ym1hcC1iYXNldG9vbC1sb2FkZXIge1xuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgIHRvcDogMDtcbiAgICAgICAgbGVmdDogMDtcbiAgICAgICAgcmlnaHQ6IDA7XG4gICAgICAgIGhlaWdodDogMnB4O1xuICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgYW5pbWF0aW9uOiBlc3JpLWZhZGUtaW4gNTAwbXMgZWFzZS1pbi1vdXQ7XG4gICAgICB9XG5cbiAgICAgIC5leGJtYXAtYmFzZXRvb2wtbG9hZGVyOmJlZm9yZSB7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMTEwLDExMCwxMTAsMC4zKTtcbiAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgIHotaW5kZXg6IDA7XG4gICAgICAgIGNvbnRlbnQ6IFwiXCI7XG4gICAgICAgIG9wYWNpdHk6IDE7XG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgaGVpZ2h0OiAycHg7XG4gICAgICAgIHRvcDogMDtcbiAgICAgICAgdHJhbnNpdGlvbjogb3BhY2l0eSA1MDBtcyBlYXNlLWluLW91dDtcbiAgICAgIH1cblxuICAgICAgLmV4Ym1hcC1iYXNldG9vbC1sb2FkZXI6YWZ0ZXIge1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNmU2ZTZlO1xuICAgICAgICB3aWR0aDogMjAlO1xuICAgICAgICB6LWluZGV4OiAwO1xuICAgICAgICBhbmltYXRpb246IGxvb3BpbmctcHJvZ3Jlc3NzLWJhci1hbmkgMTUwMG1zIGxpbmVhciBpbmZpbml0ZTtcbiAgICAgICAgY29udGVudDogXCJcIjtcbiAgICAgICAgb3BhY2l0eTogMTtcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICBoZWlnaHQ6IDJweDtcbiAgICAgICAgdG9wOiAwO1xuICAgICAgICB0cmFuc2l0aW9uOiBvcGFjaXR5IDUwMG1zIGVhc2UtaW4tb3V0O1xuICAgICAgfSAqL1xuICAgIGA7XG4gIH1cblxuICBhYnN0cmFjdCBnZXRUaXRsZSgpOiBzdHJpbmc7XG5cbiAgYWJzdHJhY3QgZ2V0SWNvbigpOiBJY29uVHlwZTtcblxuICBhYnN0cmFjdCBnZXRFeHBhbmRQYW5lbCgpOiBKU1guRWxlbWVudDtcblxuICBvblNob3dQYW5lbCgpe31cblxuICBvbkNsb3NlUGFuZWwoKXt9XG5cbiAgZGVzdHJveSgpe31cblxuICBzdGF0aWMgZ2V0SXNOZWVkU2V0dGluZyAoKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBwcml2YXRlIF9vbkljb25DbGljayAoZTogUmVhY3QuTW91c2VFdmVudDxhbnk+KSB7XG4gICAgY29uc3Qgb25JY29uQ2xpY2sgPSB0aGlzLmdldEljb24oKSAmJiB0aGlzLmdldEljb24oKS5vbkljb25DbGljaztcbiAgICBpZiAob25JY29uQ2xpY2spIHtcbiAgICAgIG9uSWNvbkNsaWNrKGUpO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5nZXRFeHBhbmRQYW5lbCgpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHRoaXMucHJvcHMuYWN0aXZlVG9vbEluZm8pIHtcbiAgICAgIGlmICh0aGlzLnByb3BzLmFjdGl2ZVRvb2xJbmZvLmFjdGl2ZVRvb2xOYW1lID09PSB0aGlzLnRvb2xOYW1lKSB7XG4gICAgICAgIHRoaXMucHJvcHMub25BY3RpdmVUb29sSW5mb0NoYW5nZShudWxsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMucHJvcHMub25BY3RpdmVUb29sSW5mb0NoYW5nZSh7XG4gICAgICAgICAgYWN0aXZlVG9vbE5hbWU6IHRoaXMudG9vbE5hbWUsXG4gICAgICAgICAgYWN0aXZlVG9vbFRpdGxlOiB0aGlzLmdldFRpdGxlKClcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMub25TaG93UGFuZWwoKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5wcm9wcy5vbkFjdGl2ZVRvb2xJbmZvQ2hhbmdlKHtcbiAgICAgICAgYWN0aXZlVG9vbE5hbWU6IHRoaXMudG9vbE5hbWUsXG4gICAgICAgIGFjdGl2ZVRvb2xUaXRsZTogdGhpcy5nZXRUaXRsZSgpXG4gICAgICB9KTtcbiAgICAgIHRoaXMub25TaG93UGFuZWwoKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIF9nZXRDb250ZW50ID0gKCkgPT4ge1xuICAgIGlmICh0aGlzLnByb3BzLnRvb2xKc29uLmlzT25seUV4cGFuZGVkKSB7XG4gICAgICByZXR1cm4gPGRpdiBjc3M9e3RoaXMuX2Nzc1N0eWxlKCl9IGNsYXNzTmFtZT1cImV4Ym1hcC11aSBleGJtYXAtdWktdG9vbC1wYW5lbFwiPlxuICAgICAgICA8RXJyb3JCb3VuZGFyeT5cbiAgICAgICAgICB7dGhpcy5nZXRFeHBhbmRQYW5lbCgpfVxuICAgICAgICA8L0Vycm9yQm91bmRhcnk+XG4gICAgICA8L2Rpdj47XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICh0aGlzLnByb3BzLmlzTW9iaWxlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yZW5kZXJNb2JpbGVUb29sKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVuZGVyUENUb29sKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBfaW5pdEljb25Db250YWluZXIocmVmOiBIVE1MRWxlbWVudCkge1xuICAgIGlmIChyZWYgJiYgIXRoaXMuaWNvbkNvbnRhaW5lcikge1xuICAgICAgdGhpcy5pY29uQ29udGFpbmVyID0gcmVmO1xuICAgICAgdGhpcy5mb3JjZVVwZGF0ZSgpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgb25SZXNpemUgPSAod2lkdGgsIGhlaWdodCkgPT4ge1xuICAgIGlmICghd2lkdGggfHwgIWhlaWdodCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuZ2VuZXJhdGlvbiA9IGhlaWdodDtcbiAgICB0aGlzLmZvcmNlVXBkYXRlKCk7XG4gIH1cblxuICBwcml2YXRlIF9yZW5kZXJQQ1Rvb2woKSB7XG4gICAgbGV0IHRvb2xJY29uID0gdGhpcy5nZXRJY29uKCk7XG4gICAgaWYgKCF0b29sSWNvbikge1xuICAgICAgdG9vbEljb24gPSB7XG4gICAgICAgIGljb246IGRlZmF1bHRJY29uLFxuICAgICAgICBvbkljb25DbGljazogKCkgPT4ge31cbiAgICAgIH0gYXMgSWNvblR5cGU7XG4gICAgfVxuXG4gICAgY29uc3QgZXhwYW5kUGFuZWwgPSB0aGlzLmdldEV4cGFuZFBhbmVsKCk7XG4gICAgY29uc3QgYWN0aXZlVG9vbE5hbWUgPSB0aGlzLnByb3BzLmFjdGl2ZVRvb2xJbmZvICYmIHRoaXMucHJvcHMuYWN0aXZlVG9vbEluZm8uYWN0aXZlVG9vbE5hbWU7XG4gICAgdGhpcy5nZW5lcmF0aW9uID0gdGhpcy5nZW5lcmF0aW9uICsgMTtcblxuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cImV4Ym1hcC11aSBleGJtYXAtdWktdG9vbFwiIGNzcz17dGhpcy5fY3NzU3R5bGUoKX0gc3R5bGU9e3t3aWR0aDogJzMycHgnLCBoZWlnaHQ6ICczMnB4J319PlxuICAgICAgPGRpdiBzdHlsZT17e319IHJlZj17cmVmID0+IHt0aGlzLl9pbml0SWNvbkNvbnRhaW5lcihyZWYpOyB9fSBjbGFzc05hbWU9e2NsYXNzTmFtZXMoJ2V4Ym1hcC11aS10b29sIGVzcmktd2lkZ2V0LS1idXR0b24nLCB7XG4gICAgICAgICdleGJtYXAtdWktdG9vbC1pY29uLXNlbGVjdGVkJzogdGhpcy50b29sTmFtZSA9PT0gYWN0aXZlVG9vbE5hbWUgJiYgZXhwYW5kUGFuZWxcbiAgICAgIH0pfVxuICAgICAgdGl0bGU9e3RoaXMucHJvcHMudG9vbEpzb24uaXNTaG93SWNvblRpdGxlID8gdGhpcy5nZXRUaXRsZSgpIDogJyd9IG9uQ2xpY2s9e2UgPT4ge3RoaXMuX29uSWNvbkNsaWNrKGUpfX0+XG4gICAgICAgIDxJY29uIHdpZHRoPXsxNn0gaGVpZ2h0PXsxNn0gY2xhc3NOYW1lPVwiZXhibWFwLXVpLXRvb2wtaWNvblwiIGljb249e3Rvb2xJY29uLmljb259Lz5cbiAgICAgIDwvZGl2PlxuICAgICAge3RoaXMuaWNvbkNvbnRhaW5lciAmJiAodGhpcy50b29sTmFtZSA9PT0gYWN0aXZlVG9vbE5hbWUgJiYgZXhwYW5kUGFuZWwpICYmIDxQYW5lbFNoZWxsIG9uRGVzdHJveWVkPXsoKSA9PiB7dGhpcy5vbkNsb3NlUGFuZWwoKTsgfX0+XG4gICAgICAgIDxQb3BwZXIgY2xhc3NOYW1lPVwiZXhibWFwLXVpLXBvcHBlclwiIHJlZmVyZW5jZT17dGhpcy5pY29uQ29udGFpbmVyfSBvcGVuPXshISh0aGlzLnRvb2xOYW1lID09PSBhY3RpdmVUb29sTmFtZSAmJiBleHBhbmRQYW5lbCl9ICBwbGFjZW1lbnQ9e3RoaXMucHJvcHMudG9vbEpzb24ucGFuZWxQbGFjZW1lbnR9XG4gICAgICAgICAgbW9kaWZpZXJzPXt0aGlzLm1vZGlmaWVyc30gdmVyc2lvbj17dGhpcy5nZW5lcmF0aW9ufSBvZmZzZXQ9e1swLDRdfT5cbiAgICAgICAgICA8TXVsdGlTb3VyY2VNYXBDb250ZXh0LkNvbnN1bWVyPlxuICAgICAgICAgICAgeyh7bWFwV2lkZ2V0SGVpZ2h0fSkgPT4gKDxkaXYgY3NzPXt0aGlzLl9jc3NTdHlsZSgpfSBjbGFzc05hbWU9e3RoaXMuZ2V0RXhwYW5kUGFuZWxQbGFjZW1lbnRDbGFzc05hbWUoKX0+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZXhibWFwLXVpLWV4cGFuZC1jb250ZW50XCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEwMCBqdXN0aWZ5LWNvbnRlbnQtYmV0d2VlbiBkLWZsZXggZXhibWFwLXVpLWV4cGFuZC1jb250ZW50LWhlYWRlclwiPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lbC10aXRsZSB0ZXh0LXRydW5jYXRlXCIgc3R5bGU9e3ttYXhXaWR0aDogJzIxMHB4J319IHRpdGxlPXt0aGlzLmdldFRpdGxlKCl9PlxuICAgICAgICAgICAgICAgICAgICB7dGhpcy5nZXRUaXRsZSgpfVxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8ZGl2IG9uQ2xpY2s9eygpID0+IHt0aGlzLnByb3BzLm9uQWN0aXZlVG9vbEluZm9DaGFuZ2UobnVsbCk7fX0gc3R5bGU9e3tjdXJzb3I6ICdwb2ludGVyJ319PlxuICAgICAgICAgICAgICAgICAgICA8SWNvbiB3aWR0aD17MjB9IGhlaWdodD17MjB9IGljb249e2Nsb3NlSWNvbn0vPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPEVycm9yQm91bmRhcnk+XG4gICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7bWF4SGVpZ2h0OiBgJHttYXBXaWRnZXRIZWlnaHQgLSA1NX1weGAsIG92ZXJmbG93WTogdGhpcy50b29sTmFtZSAhPT0gJ1NlYXJjaCcgPyAnYXV0bycgOiAnaW5oZXJpdCd9fT5cbiAgICAgICAgICAgICAgICAgICAge2V4cGFuZFBhbmVsfVxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8UmVhY3RSZXNpemVEZXRlY3RvciBoYW5kbGVIZWlnaHQgb25SZXNpemU9e3RoaXMub25SZXNpemV9IC8+XG4gICAgICAgICAgICAgICAgPC9FcnJvckJvdW5kYXJ5PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2Pil9XG4gICAgICAgICAgPC9NdWx0aVNvdXJjZU1hcENvbnRleHQuQ29uc3VtZXI+XG4gICAgICAgIDwvUG9wcGVyPjwvUGFuZWxTaGVsbD59XG4gICAgPC9kaXY+XG4gIH1cblxuICBoYW5kbGVUb2dnbGVNb2JpbGVQYW5lbCA9ICgpID0+IHtcbiAgICB0aGlzLnByb3BzLm9uQWN0aXZlVG9vbEluZm9DaGFuZ2UobnVsbCk7XG4gIH1cblxuICBwcml2YXRlIF9yZW5kZXJNb2JpbGVUb29sKCkge1xuICAgIGxldCB0b29sSWNvbiA9IHRoaXMuZ2V0SWNvbigpO1xuICAgIGlmICghdG9vbEljb24pIHtcbiAgICAgIHRvb2xJY29uID0ge1xuICAgICAgICBpY29uOiBkZWZhdWx0SWNvbixcbiAgICAgICAgb25JY29uQ2xpY2s6ICgpID0+IHt9XG4gICAgICB9IGFzIEljb25UeXBlO1xuICAgIH1cblxuICAgIGNvbnN0IGV4cGFuZFBhbmVsID0gdGhpcy5nZXRFeHBhbmRQYW5lbCgpO1xuICAgIGNvbnN0IGFjdGl2ZVRvb2xOYW1lID0gdGhpcy5wcm9wcy5hY3RpdmVUb29sSW5mbyAmJiB0aGlzLnByb3BzLmFjdGl2ZVRvb2xJbmZvLmFjdGl2ZVRvb2xOYW1lO1xuICAgIHJldHVybiA8TXVsdGlTb3VyY2VNYXBDb250ZXh0LkNvbnN1bWVyPlxuICAgICAgeyh7bW9iaWxlUGFuZWxDb250YWluZXJ9KSA9PiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZXhibWFwLXVpIGV4Ym1hcC11aS10b29sXCIgY3NzPXt0aGlzLl9jc3NTdHlsZSgpfT5cbiAgICAgICAgICA8ZGl2IHN0eWxlPXt7fX0gcmVmPXtyZWYgPT4ge3RoaXMuaWNvbkNvbnRhaW5lciA9IHJlZjsgfX0gY2xhc3NOYW1lPXtjbGFzc05hbWVzKCdleGJtYXAtdWktdG9vbCBlc3JpLXdpZGdldC0tYnV0dG9uJywge1xuICAgICAgICAgICAgJ2V4Ym1hcC11aS10b29sLWljb24tc2VsZWN0ZWQnOiB0aGlzLnRvb2xOYW1lID09PSBhY3RpdmVUb29sTmFtZSAmJiBleHBhbmRQYW5lbFxuICAgICAgICAgIH0pfVxuICAgICAgICAgIHRpdGxlPXt0aGlzLnByb3BzLnRvb2xKc29uLmlzU2hvd0ljb25UaXRsZSA/IHRoaXMuZ2V0VGl0bGUoKSA6ICcnfSBvbkNsaWNrPXtlID0+IHt0aGlzLl9vbkljb25DbGljayhlKX19PlxuICAgICAgICAgICAgPEljb24gd2lkdGg9ezE2fSBoZWlnaHQ9ezE2fSBjbGFzc05hbWU9XCJleGJtYXAtdWktdG9vbC1pY29uXCIgaWNvbj17dG9vbEljb24uaWNvbn0vPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIHt0aGlzLnRvb2xOYW1lID09PSBhY3RpdmVUb29sTmFtZSAmJiBleHBhbmRQYW5lbCAmJlxuICAgICAgICAgICAgUmVhY3RET00uY3JlYXRlUG9ydGFsKDxQYW5lbFNoZWxsIG9uRGVzdHJveWVkPXsoKSA9PiB7dGhpcy5vbkNsb3NlUGFuZWwoKTsgfX0+PGRpdiBjbGFzc05hbWU9XCJ3LTEwMCBoLTEwMCBkLWZsZXggZmxleC1jb2x1bW5cIiBjc3M9e3RoaXMuX2Nzc1N0eWxlKCl9PlxuICAgICAgICAgICAgICA8U2Nyb2xsQ29udGFpbmVyIGNsYXNzTmFtZT1cInctMTAwIGgtMTAwXCI+XG4gICAgICAgICAgICAgICAgPEVycm9yQm91bmRhcnk+XG4gICAgICAgICAgICAgICAgICB7dGhpcy5nZXRFeHBhbmRQYW5lbCgpfVxuICAgICAgICAgICAgICAgIDwvRXJyb3JCb3VuZGFyeT5cbiAgICAgICAgICAgICAgPC9TY3JvbGxDb250YWluZXI+XG4gICAgICAgICAgICA8L2Rpdj48L1BhbmVsU2hlbGw+LCBtb2JpbGVQYW5lbENvbnRhaW5lcil9XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cbiAgICA8L011bHRpU291cmNlTWFwQ29udGV4dC5Db25zdW1lcj47XG4gIH1cblxuICBwcml2YXRlIGdldEV4cGFuZFBhbmVsUGxhY2VtZW50Q2xhc3NOYW1lKCkge1xuICAgIGlmICghdGhpcy5wcm9wcy50b29sSnNvbi5wYW5lbFBsYWNlbWVudCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBgZXhwYW5kLXBsYWNlbWVudC0ke3RoaXMucHJvcHMudG9vbEpzb24ucGFuZWxQbGFjZW1lbnQuc3BsaXQoJy0nKVswXX1gO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gdGhpcy5fZ2V0Q29udGVudCgpO1xuICB9XG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQXNCQTtBQUNBO0FBRUE7QUFBQTtBQVFBO0FBQUE7QUFOQTtBQUNBO0FBQ0E7QUFDQTtBQTRMQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBU0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFpREE7QUFDQTtBQUNBO0FBdlFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTs7QUFDQTtBQUVBO0FBQ0E7QUFzSEE7QUFRQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWtCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFXQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFHQTtBQUNBO0FBR0E7QUFkQTtBQXFCQTtBQU1BO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFYQTtBQW1CQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBOzs7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/base-tool.tsx\n");

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/group.tsx":
/*!********************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/group.tsx ***!
  \********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jimu_core__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _ui_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ui-component */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/ui-component.tsx\");\n/* harmony import */ var _base_tool_shell__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./base-tool-shell */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/base-tool-shell.tsx\");\n/* harmony import */ var _tool_modules__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../tool-modules */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/tool-modules.ts\");\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! jimu-ui */ \"jimu-ui\");\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(jimu_ui__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _components_multisourcemap_context__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../components/multisourcemap-context */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/components/multisourcemap-context.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __makeTemplateObject = (undefined && undefined.__makeTemplateObject) || function (cooked, raw) {\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n    return cooked;\n};\n/** @jsx jsx */\n\n\n\n\n\n\nvar Group = /** @class */ (function (_super) {\n    __extends(Group, _super);\n    function Group(props) {\n        var _this = _super.call(this, props) || this;\n        _this.moveY = 0;\n        _this.startY = 0;\n        _this.sliding = false;\n        _this.startDrag = false;\n        _this.currentBottomPanelHeight = 0;\n        _this.thumbMapElementNames = ['FullScreen', 'Zoom', 'MapSwitch'];\n        _this.checkIsHiddenElement = function (elementName) {\n            if (_this.props.hiddenElementNames) {\n                if (_this.props.hiddenElementNames.indexOf(elementName) > -1) {\n                    return true;\n                }\n                else {\n                    return false;\n                }\n            }\n            else {\n                return false;\n            }\n        };\n        _this.start = function (event, type) {\n            _this.startDrag = true;\n            if (type === 'touch') {\n                _this.moveY = 0;\n                var touch = event.touches[0];\n                _this.startY = touch.clientY;\n            }\n            if (type === 'mouse') {\n                _this.moveY = 0;\n                _this.startY = event.clientY;\n            }\n            document.getElementById(_this.props.jimuMapView.id + \"-bottom-panel\").classList.remove('expand-mobile-panel-transition');\n        };\n        _this.move = function (event, type) {\n            if (type === 'touch') {\n                _this.sliding = true;\n                var touch = event.touches[0];\n                _this.moveY = (touch.clientY - _this.startY) * -1;\n            }\n            if (type === 'mouse' && _this.startDrag) {\n                _this.sliding = true;\n                _this.moveY = (event.clientY - _this.startY) * -1;\n            }\n            if (type === 'mouse' && !_this.startDrag) {\n                return;\n            }\n            var expectHeight = 150;\n            if (_this.state.bottomPanelHeight + _this.moveY > expectHeight) {\n                expectHeight = _this.state.bottomPanelHeight + _this.moveY;\n            }\n            document.getElementById(_this.props.jimuMapView.id + \"-bottom-panel\").style.height = expectHeight + \"px\";\n            _this.currentBottomPanelHeight = expectHeight;\n            var aboveHeight = _this.state.widgetHeight - (expectHeight);\n            if (aboveHeight > 360) {\n                _this.props.onSetHiddenElementNames([]);\n            }\n            if (aboveHeight > 200 && aboveHeight <= 360) {\n                _this.props.onSetHiddenElementNames(_this.props.layoutConfig.mobileResponsiveStrategy['stage1']);\n            }\n            if (aboveHeight > 54 && aboveHeight <= 200) {\n                _this.props.onSetHiddenElementNames(_this.props.layoutConfig.mobileResponsiveStrategy['stage2']);\n            }\n            if (aboveHeight < 54) {\n                _this.props.onSetHiddenElementNames(_this.props.layoutConfig.mobileResponsiveStrategy['stage3']);\n            }\n        };\n        _this.end = function (event, type) {\n            if (type === 'mouse' && !_this.startDrag) {\n                return;\n            }\n            _this.startDrag = false;\n            _this.sliding = false;\n            document.getElementById(_this.props.jimuMapView.id + \"-bottom-panel\").classList.add('expand-mobile-panel-transition');\n            if (type === 'touch') {\n                if (Math.abs(_this.moveY) < 10) {\n                    document.getElementById(_this.props.jimuMapView.id + \"-bottom-panel\").style.height = _this.state.bottomPanelHeight + \"px\";\n                    _this.currentBottomPanelHeight = _this.state.bottomPanelHeight;\n                    return;\n                }\n            }\n            if (_this.moveY >= 0) {\n                // up slider\n                var targetBottomPanelHeight = 0;\n                if (_this.currentBottomPanelHeight >= 150 && _this.currentBottomPanelHeight < _this.state.widgetHeight * 0.6) {\n                    targetBottomPanelHeight = _this.state.widgetHeight * 0.6;\n                }\n                else if (_this.currentBottomPanelHeight >= _this.state.widgetHeight * 0.6 && _this.currentBottomPanelHeight < _this.state.widgetHeight) {\n                    targetBottomPanelHeight = _this.state.widgetHeight - 20;\n                }\n                else {\n                    targetBottomPanelHeight = 150;\n                }\n                _this.setState({\n                    bottomPanelHeight: targetBottomPanelHeight\n                }, function () {\n                    _this.checkResponsive();\n                });\n                _this.currentBottomPanelHeight = targetBottomPanelHeight;\n            }\n            else {\n                // down slider\n                var targetBottomPanelHeight = 0;\n                if (_this.currentBottomPanelHeight > 150 && _this.currentBottomPanelHeight < _this.state.widgetHeight * 0.6) {\n                    targetBottomPanelHeight = 150;\n                }\n                else if (_this.currentBottomPanelHeight >= _this.state.widgetHeight * 0.6 && _this.currentBottomPanelHeight < _this.state.widgetHeight) {\n                    targetBottomPanelHeight = _this.state.widgetHeight * 0.6;\n                }\n                else {\n                    targetBottomPanelHeight = 150;\n                }\n                _this.setState({\n                    bottomPanelHeight: targetBottomPanelHeight\n                }, function () {\n                    _this.checkResponsive();\n                });\n                _this.currentBottomPanelHeight = targetBottomPanelHeight;\n            }\n        };\n        _this.checkResponsive = function () {\n            if (_this.state.isThumbMap) {\n                _this.props.onSetHiddenElementNames([]);\n                return;\n            }\n            if (_this.state.bottomPanelHeight === 0) {\n                _this.props.onSetHiddenElementNames([]);\n                return;\n            }\n            var aboveHeight = _this.state.widgetHeight - (_this.state.bottomPanelHeight);\n            if (aboveHeight > 360) {\n                _this.props.onSetHiddenElementNames([]);\n            }\n            if (aboveHeight > 200 && aboveHeight <= 360) {\n                _this.props.onSetHiddenElementNames(_this.props.layoutConfig.mobileResponsiveStrategy['stage1']);\n            }\n            if (aboveHeight > 54 && aboveHeight <= 200) {\n                _this.props.onSetHiddenElementNames(_this.props.layoutConfig.mobileResponsiveStrategy['stage2']);\n            }\n            if (aboveHeight < 54) {\n                _this.props.onSetHiddenElementNames(_this.props.layoutConfig.mobileResponsiveStrategy['stage3']);\n            }\n        };\n        _this.onResize = function (width, height) {\n            if (!width || !height) {\n                return;\n            }\n            _this.setState({\n                widgetWidth: width,\n                widgetHeight: height,\n                isThumbMap: false\n            }, function () {\n                _this.checkResponsive();\n            });\n        };\n        _this.returnNullNode = function (key) {\n            if (_this.props.isMobile) {\n                return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"span\", { key: key });\n            }\n            else {\n                return null;\n            }\n        };\n        _this.checkIsLastElement = function (parentGroupJson, toolJson) {\n            var toolName = toolJson.toolName;\n            var layoutJson = _this.props.layoutConfig;\n            var children = layoutJson.layout[parentGroupJson.groupName].children;\n            var index = children.indexOf(toolName);\n            if (index === children.length - 1) {\n                return true;\n            }\n            if (index < children.length - 1) {\n                var isLastElement = true;\n                for (var i = (index + 1); i < children.length; i++) {\n                    var elementName = children[i];\n                    if (layoutJson.elements[children[i]].type === 'GROUP') {\n                        continue;\n                    }\n                    else if ((!_tool_modules__WEBPACK_IMPORTED_MODULE_3__[\"default\"][elementName].getIsNeedSetting() || (_this.props.toolConfig && _this.props.toolConfig[\"can\" + elementName])\n                        || (layoutJson.lockToolNames && layoutJson.lockToolNames.indexOf(elementName) > -1))) {\n                        isLastElement = false;\n                        break;\n                    }\n                    else {\n                        continue;\n                    }\n                }\n                return isLastElement;\n            }\n        };\n        _this.handleToggleMobilePanel = function () {\n            _this.props.onActiveToolInfoChange(null);\n        };\n        _this.handlePanelHeightChange = function (panelWidth, panelHeight) {\n            _this.setState({ bottomPanelHeight: panelHeight }, function () {\n                _this.checkResponsive();\n            });\n        };\n        _this.getMobilePanelInContext = function () {\n            return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_components_multisourcemap_context__WEBPACK_IMPORTED_MODULE_5__[\"MultiSourceMapContext\"].Consumer, null, function (_a) {\n                var mobilePanelContainer = _a.mobilePanelContainer, mapWidgetId = _a.mapWidgetId;\n                return (Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_4__[\"MobilePanel\"], { mapWidgetId: mapWidgetId, title: _this.props.activeToolInfo && _this.props.activeToolInfo.activeToolTitle, open: !!_this.props.activeToolInfo, toggle: function () { _this.handleToggleMobilePanel(); } },\n                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"w-100 h-100\", ref: function (container) { if (mobilePanelContainer && container) {\n                            container.appendChild(mobilePanelContainer);\n                        } } })));\n            });\n        };\n        _this.getGroupContent = function (layoutJson) {\n            if (!layoutJson) {\n                return _this.returnNullNode();\n            }\n            else {\n                var children = layoutJson.layout[_this.props.groupName] && layoutJson.layout[_this.props.groupName].children;\n                if (_this.checkIsShowGroup(layoutJson, children)) {\n                    return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { id: (_this.props.isMainGroup ? _this.props.mapWidgetId : undefined), css: _this.getStyle(), className: Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"classNames\"])('exbmap-ui exbmap-ui-group', _this.props.className, { 'exbmap-ui-hidden-element': _this.props.isHidden }), style: _this.props.style },\n                        children.map(function (key, index) {\n                            if (!layoutJson.elements[key]) {\n                                return _this.returnNullNode(index);\n                            }\n                            if (layoutJson.elements[key].type === 'GROUP') {\n                                return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(Group, { mapWidgetId: _this.props.mapWidgetId, isHidden: _this.checkIsHiddenElement(key), className: layoutJson.elements[key].className, style: layoutJson.elements[key].style, key: index, layoutConfig: layoutJson, toolConfig: _this.props.toolConfig, isMobile: _this.props.isMobile, intl: _this.props.intl, jimuMapView: _this.props.jimuMapView, groupName: key, activeToolInfo: _this.props.activeToolInfo, hiddenElementNames: _this.props.hiddenElementNames, onActiveToolInfoChange: _this.props.onActiveToolInfoChange, theme: _this.props.theme, isThumbMap: _this.props.isMainGroup ? _this.state.isThumbMap : _this.props.isThumbMap });\n                            }\n                            else if (layoutJson.elements[key].type === 'TOOL') {\n                                if (!_tool_modules__WEBPACK_IMPORTED_MODULE_3__[\"default\"][key].getIsNeedSetting() || (_this.props.toolConfig && _this.props.toolConfig[\"can\" + key]) || (layoutJson.lockToolNames && layoutJson.lockToolNames.indexOf(key) > -1)) {\n                                    return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_base_tool_shell__WEBPACK_IMPORTED_MODULE_2__[\"default\"], { isHidden: _this.checkIsHiddenElement(key), key: index, layoutConfig: layoutJson, activeToolInfo: _this.props.activeToolInfo, toolConfig: _this.props.toolConfig, jimuMapView: _this.props.jimuMapView, toolName: key, theme: _this.props.theme, onActiveToolInfoChange: _this.props.onActiveToolInfoChange, intl: _this.props.intl, isMobile: _this.props.isMobile, isLastElement: _this.checkIsLastElement(layoutJson.elements[_this.props.groupName], layoutJson.elements[key]) });\n                                }\n                                else {\n                                    return _this.returnNullNode(index);\n                                }\n                            }\n                            else {\n                                return _this.returnNullNode(index);\n                            }\n                        }),\n                        _this.props.isMobile && _this.props.isMainGroup && Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"ReactResizeDetector\"], { handleWidth: true, handleHeight: true, onResize: _this.onResize }),\n                        _this.props.isMainGroup && _this.props.isMobile && _this.props.activeToolInfo && _this.props.activeToolInfo.activeToolName !== 'Select' && _this.getMobilePanelInContext(),\n                        _this.props.isMainGroup && Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"exbmap-ui w-100\", style: { position: 'relative', pointerEvents: 'auto', overflow: 'hidden', touchAction: 'none',\n                                display: _this.props.isMobile && !(_this.state.isThumbMap || _this.props.isThumbMap) ? 'block' : 'none' } },\n                            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: _this.props.mapWidgetId + \"-bottom-panel exbmap-ui w-100 expand-mobile-panel\", style: { overflow: 'hidden', pointerEvents: 'auto', position: 'relative', touchAction: 'none' } },\n                                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"w-100 h-100\" },\n                                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"ReactResizeDetector\"], { handleHeight: true, onResize: _this.handlePanelHeightChange })))));\n                }\n                else {\n                    return _this.returnNullNode();\n                }\n            }\n        };\n        _this.checkIsShowGroup = function (layoutJson, children) {\n            if (!children || children.length === 0) {\n                return false;\n            }\n            else {\n                var toolNames = [];\n                _this.findAllToolNames(layoutJson, children, toolNames);\n                var isShowGroup = false;\n                for (var i = 0; i < toolNames.length; i++) {\n                    if (_this.props.toolConfig[\"can\" + toolNames[i]] || !_tool_modules__WEBPACK_IMPORTED_MODULE_3__[\"default\"][toolNames[i]].getIsNeedSetting()\n                        || (layoutJson.lockToolNames && layoutJson.lockToolNames.indexOf(toolNames[i]) > -1)) {\n                        isShowGroup = true;\n                        break;\n                    }\n                }\n                return isShowGroup;\n            }\n        };\n        _this.findAllToolNames = function (layoutJson, children, toolNames) {\n            if (!children || children.length === 0) {\n                return;\n            }\n            for (var i = 0; i < children.length; i++) {\n                if (layoutJson.elements[children[i]].type === 'GROUP') {\n                    var groupName = layoutJson.elements[children[i]].groupName;\n                    _this.findAllToolNames(layoutJson, layoutJson.layout[groupName] && layoutJson.layout[groupName].children, toolNames);\n                }\n                else {\n                    toolNames.push(children[i]);\n                }\n            }\n        };\n        _this.state = {\n            bottomPanelHeight: 0,\n            isThumbMap: _this.props.isMobile ? true : false\n        };\n        return _this;\n    }\n    Group.prototype.getStyle = function () {\n        var position = this.props.layoutConfig.layout[this.props.groupName] && this.props.layoutConfig.layout[this.props.groupName].position;\n        var direction = this.props.layoutConfig.elements[this.props.groupName].direction;\n        return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n      position: \", \";\\n      top: \", \"px;\\n      bottom: \", \"px;\\n      left: \", \"px;\\n      right: \", \"px;\\n      display: flex;\\n      flex-flow: \", \";\\n      align-items: flex-start;\\n\\n      > .exbmap-ui + .exbmap-ui {\\n        margin-top: \", \";\\n        margin-left: \", \";\\n      }\\n\\n      .exbmap-ui-group-expand-icon {\\n        fill: black;\\n        left: 8px;\\n        top: 8px;\\n        position: absolute;\\n        display: block;\\n      }\\n\\n      .expand-mobile-panel {\\n        box-shadow: rgba(0, 0, 0, 0.3) 0px 0px 2px;\\n        border-radius: 10px 10px 0px 0px;\\n      }\\n\\n      .expand-mobile-panel-transition {\\n        transition: height 0.3s;\\n      }\\n\\n      .expand-mobile-panel-touch-container {\\n        top: 0;\\n        position: absolute;\\n        width: 100%;\\n        height: 31px;\\n      }\\n\\n      .expand-mobile-panel-bar {\\n        width: 36px;\\n        height: 4px;\\n        background-color: #434343;\\n        border-radius: 2px;\\n      }\\n      \"], [\"\\n      position: \", \";\\n      top: \", \"px;\\n      bottom: \", \"px;\\n      left: \", \"px;\\n      right: \", \"px;\\n      display: flex;\\n      flex-flow: \", \";\\n      align-items: flex-start;\\n\\n      > .exbmap-ui + .exbmap-ui {\\n        margin-top: \", \";\\n        margin-left: \", \";\\n      }\\n\\n      .exbmap-ui-group-expand-icon {\\n        fill: black;\\n        left: 8px;\\n        top: 8px;\\n        position: absolute;\\n        display: block;\\n      }\\n\\n      .expand-mobile-panel {\\n        box-shadow: rgba(0, 0, 0, 0.3) 0px 0px 2px;\\n        border-radius: 10px 10px 0px 0px;\\n      }\\n\\n      .expand-mobile-panel-transition {\\n        transition: height 0.3s;\\n      }\\n\\n      .expand-mobile-panel-touch-container {\\n        top: 0;\\n        position: absolute;\\n        width: 100%;\\n        height: 31px;\\n      }\\n\\n      .expand-mobile-panel-bar {\\n        width: 36px;\\n        height: 4px;\\n        background-color: #434343;\\n        border-radius: 2px;\\n      }\\n      \"])), position ? 'absolute' : 'relative', position ? position.top : null, position ? position.bottom : null, position ? position.left : null, position ? position.right : null, direction === 'vertical' ? 'column' : 'row', direction === 'vertical' ? '10px' : 0, direction === 'horizontal' ? '10px' : 0);\n    };\n    Group.prototype.componentDidUpdate = function (prevProps, prevState) {\n        var _this = this;\n        if (this.props.activeToolInfo !== prevProps.activeToolInfo) {\n            if (this.props.activeToolInfo && prevProps.activeToolInfo) {\n                return;\n            }\n            if (this.props.activeToolInfo && !prevProps.activeToolInfo && this.props.isMobile && this.props.isMainGroup) {\n                this.setState({\n                    bottomPanelHeight: 150\n                }, function () {\n                    _this.checkResponsive();\n                });\n                this.currentBottomPanelHeight = 150;\n            }\n            if (!this.props.activeToolInfo && prevProps.activeToolInfo && this.props.isMobile && this.props.isMainGroup) {\n                this.setState({\n                    bottomPanelHeight: 0\n                }, function () {\n                    _this.checkResponsive();\n                });\n                this.currentBottomPanelHeight = 0;\n            }\n        }\n    };\n    Group.prototype.render = function () {\n        if (this.props.isMainGroup && this.props.isMobile && this.props.toolConfig && this.props.toolConfig['canSelect']) {\n            return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { style: { position: 'absolute', top: 0, left: 0, bottom: 0, right: 0 } },\n                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { id: this.props.mapWidgetId + \"-with-select-container\", style: { position: 'absolute', top: 0, left: 0, bottom: 40, right: 0 } },\n                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"w-100 h-100\", style: { position: 'relative' } }, this.getGroupContent(this.props.layoutConfig))),\n                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { style: { position: 'absolute', left: 0, bottom: 0, right: 0, height: 40 } },\n                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"w-100 h-100\", style: { position: 'relative' } },\n                        Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_base_tool_shell__WEBPACK_IMPORTED_MODULE_2__[\"default\"], { isHidden: false, layoutConfig: this.props.layoutConfig, activeToolInfo: this.props.activeToolInfo, toolConfig: this.props.toolConfig, jimuMapView: this.props.jimuMapView, toolName: 'SelectState', theme: this.props.theme, onActiveToolInfoChange: this.props.onActiveToolInfoChange, intl: this.props.intl, isMobile: this.props.isMobile, isLastElement: true }))));\n        }\n        else {\n            return this.getGroupContent(this.props.layoutConfig);\n        }\n    };\n    return Group;\n}(_ui_component__WEBPACK_IMPORTED_MODULE_1__[\"UIComponent\"]));\n/* harmony default export */ __webpack_exports__[\"default\"] = (Group);\nvar templateObject_1;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvbGF5b3V0L2Jhc2UvZ3JvdXAudHN4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vZXh0ZW5zaW9ucy93aWRnZXRzL2FyY2dpcy9hcmNnaXMtbWFwL3NyYy9ydW50aW1lL2xheW91dC9iYXNlL2dyb3VwLnRzeD9jN2JmIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKiBAanN4IGpzeCAqL1xuaW1wb3J0IHtjc3MsIGpzeCwgY2xhc3NOYW1lcywgUmVhY3RSZXNpemVEZXRlY3RvciwgSW50bFNoYXBlfSBmcm9tICdqaW11LWNvcmUnO1xuaW1wb3J0IHtVSUNvbXBvbmVudCwgVUlDb21wb25lbnRQcm9wc30gZnJvbSAnLi91aS1jb21wb25lbnQnO1xuaW1wb3J0IHtUb29sQ29uZmlnfSBmcm9tICcuLi8uLi8uLi9jb25maWcnO1xuaW1wb3J0IHtMYXlvdXRKc29uLCBHcm91cEpzb24sIEhpZGRlbkVsZW1lbnROYW1lcywgVG9vbEpzb259IGZyb20gJy4uL2NvbmZpZyc7XG5pbXBvcnQgQmFzZVRvb2xTaGVsbCBmcm9tICcuL2Jhc2UtdG9vbC1zaGVsbCc7XG5pbXBvcnQge0FjdGl2ZVRvb2xJbmZvfSBmcm9tICcuL2Jhc2UtdG9vbCc7XG5pbXBvcnQgVG9vbE1vZHVsZXMgZnJvbSAnLi4vdG9vbC1tb2R1bGVzJztcbmltcG9ydCB7TW9iaWxlUGFuZWx9IGZyb20gJ2ppbXUtdWknO1xuaW1wb3J0IHtNdWx0aVNvdXJjZU1hcENvbnRleHR9IGZyb20gJy4uLy4uL2NvbXBvbmVudHMvbXVsdGlzb3VyY2VtYXAtY29udGV4dCc7XG5cbmludGVyZmFjZSBHcm91cFByb3BzIGV4dGVuZHMgVUlDb21wb25lbnRQcm9wcyB7XG4gIG1hcFdpZGdldElkOiBzdHJpbmc7XG4gIGxheW91dENvbmZpZzogTGF5b3V0SnNvbjtcbiAgdG9vbENvbmZpZzogVG9vbENvbmZpZztcbiAgZ3JvdXBOYW1lOiBzdHJpbmc7XG4gIGNsYXNzTmFtZTogc3RyaW5nO1xuICBzdHlsZTogUmVhY3QuQ1NTUHJvcGVydGllcztcbiAgaXNSZXNwb25zaXZlPzogYm9vbGVhbjtcbiAgaXNNb2JpbGU/OiBib29sZWFuO1xuICBpc01haW5Hcm91cD86IGJvb2xlYW47XG4gIGhpZGRlbkVsZW1lbnROYW1lcz86IEhpZGRlbkVsZW1lbnROYW1lcztcbiAgaXNIaWRkZW4/OiBib29sZWFuO1xuICBpc1RodW1iTWFwPzogYm9vbGVhbjtcbiAgaW50bD86IEludGxTaGFwZTtcblxuICBhY3RpdmVUb29sSW5mbzogQWN0aXZlVG9vbEluZm87XG4gIG9uQWN0aXZlVG9vbEluZm9DaGFuZ2U6IChhY3RpdmVUb29sSW5mbzogQWN0aXZlVG9vbEluZm8pID0+IHZvaWQ7XG4gIG9uU2V0SGlkZGVuRWxlbWVudE5hbWVzPzogKGhpZGRlbkVsZW1lbnROYW1lczogSGlkZGVuRWxlbWVudE5hbWVzKSA9PiB2b2lkO1xufVxuXG5pbnRlcmZhY2UgR3JvdXBTdGF0ZXMge1xuICBib3R0b21QYW5lbEhlaWdodD86IG51bWJlcjtcbiAgd2lkZ2V0V2lkdGg/OiBudW1iZXI7XG4gIHdpZGdldEhlaWdodD86IG51bWJlcjtcbiAgaXNUaHVtYk1hcD86IGJvb2xlYW47XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdyb3VwIGV4dGVuZHMgVUlDb21wb25lbnQ8R3JvdXBQcm9wcywgR3JvdXBTdGF0ZXM+e1xuICBtb3ZlWSA9IDA7XG4gIHN0YXJ0WSA9IDA7XG4gIHNsaWRpbmcgPSBmYWxzZTtcbiAgc3RhcnREcmFnID0gZmFsc2U7XG4gIGN1cnJlbnRCb3R0b21QYW5lbEhlaWdodCA9IDA7XG4gIGJvdHRvbVBhbmVsQ29udGFpbmVyOiBIVE1MRGl2RWxlbWVudDtcbiAgdGh1bWJNYXBFbGVtZW50TmFtZXMgPSBbJ0Z1bGxTY3JlZW4nLCAnWm9vbScsICdNYXBTd2l0Y2gnXTtcblxuICBnZXRTdHlsZSgpIHtcbiAgICBjb25zdCBwb3NpdGlvbiA9IHRoaXMucHJvcHMubGF5b3V0Q29uZmlnLmxheW91dFt0aGlzLnByb3BzLmdyb3VwTmFtZV0gJiYgdGhpcy5wcm9wcy5sYXlvdXRDb25maWcubGF5b3V0W3RoaXMucHJvcHMuZ3JvdXBOYW1lXS5wb3NpdGlvbjtcbiAgICBjb25zdCBkaXJlY3Rpb24gPSAodGhpcy5wcm9wcy5sYXlvdXRDb25maWcuZWxlbWVudHNbdGhpcy5wcm9wcy5ncm91cE5hbWVdIGFzIEdyb3VwSnNvbikuZGlyZWN0aW9uO1xuXG4gICAgcmV0dXJuIGNzc2BcbiAgICAgIHBvc2l0aW9uOiAke3Bvc2l0aW9uID8gJ2Fic29sdXRlJyA6ICdyZWxhdGl2ZSd9O1xuICAgICAgdG9wOiAke3Bvc2l0aW9uID8gcG9zaXRpb24udG9wIDogbnVsbH1weDtcbiAgICAgIGJvdHRvbTogJHtwb3NpdGlvbiA/IHBvc2l0aW9uLmJvdHRvbSA6IG51bGx9cHg7XG4gICAgICBsZWZ0OiAke3Bvc2l0aW9uID8gcG9zaXRpb24ubGVmdCA6IG51bGx9cHg7XG4gICAgICByaWdodDogJHtwb3NpdGlvbiA/IHBvc2l0aW9uLnJpZ2h0IDogbnVsbH1weDtcbiAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICBmbGV4LWZsb3c6ICR7ZGlyZWN0aW9uID09PSAndmVydGljYWwnID8gJ2NvbHVtbicgOiAncm93J307XG4gICAgICBhbGlnbi1pdGVtczogZmxleC1zdGFydDtcblxuICAgICAgPiAuZXhibWFwLXVpICsgLmV4Ym1hcC11aSB7XG4gICAgICAgIG1hcmdpbi10b3A6ICR7ZGlyZWN0aW9uID09PSAndmVydGljYWwnID8gJzEwcHgnIDogMH07XG4gICAgICAgIG1hcmdpbi1sZWZ0OiAke2RpcmVjdGlvbiA9PT0gJ2hvcml6b250YWwnID8gJzEwcHgnIDogMH07XG4gICAgICB9XG5cbiAgICAgIC5leGJtYXAtdWktZ3JvdXAtZXhwYW5kLWljb24ge1xuICAgICAgICBmaWxsOiBibGFjaztcbiAgICAgICAgbGVmdDogOHB4O1xuICAgICAgICB0b3A6IDhweDtcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgIH1cblxuICAgICAgLmV4cGFuZC1tb2JpbGUtcGFuZWwge1xuICAgICAgICBib3gtc2hhZG93OiByZ2JhKDAsIDAsIDAsIDAuMykgMHB4IDBweCAycHg7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDEwcHggMTBweCAwcHggMHB4O1xuICAgICAgfVxuXG4gICAgICAuZXhwYW5kLW1vYmlsZS1wYW5lbC10cmFuc2l0aW9uIHtcbiAgICAgICAgdHJhbnNpdGlvbjogaGVpZ2h0IDAuM3M7XG4gICAgICB9XG5cbiAgICAgIC5leHBhbmQtbW9iaWxlLXBhbmVsLXRvdWNoLWNvbnRhaW5lciB7XG4gICAgICAgIHRvcDogMDtcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgaGVpZ2h0OiAzMXB4O1xuICAgICAgfVxuXG4gICAgICAuZXhwYW5kLW1vYmlsZS1wYW5lbC1iYXIge1xuICAgICAgICB3aWR0aDogMzZweDtcbiAgICAgICAgaGVpZ2h0OiA0cHg7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6ICM0MzQzNDM7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDJweDtcbiAgICAgIH1cbiAgICAgIGA7XG4gIH1cblxuICBjb25zdHJ1Y3Rvcihwcm9wcyl7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGJvdHRvbVBhbmVsSGVpZ2h0OiAwLFxuICAgICAgaXNUaHVtYk1hcDogdGhpcy5wcm9wcy5pc01vYmlsZSA/IHRydWUgOiBmYWxzZVxuICAgIH07XG4gIH1cblxuICBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzOiBHcm91cFByb3BzLCBwcmV2U3RhdGU6IEdyb3VwU3RhdGVzKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuYWN0aXZlVG9vbEluZm8gIT09IHByZXZQcm9wcy5hY3RpdmVUb29sSW5mbykge1xuICAgICAgaWYgKHRoaXMucHJvcHMuYWN0aXZlVG9vbEluZm8gJiYgcHJldlByb3BzLmFjdGl2ZVRvb2xJbmZvKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMucHJvcHMuYWN0aXZlVG9vbEluZm8gJiYgIXByZXZQcm9wcy5hY3RpdmVUb29sSW5mbyAmJiB0aGlzLnByb3BzLmlzTW9iaWxlICYmIHRoaXMucHJvcHMuaXNNYWluR3JvdXApIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgYm90dG9tUGFuZWxIZWlnaHQ6IDE1MFxuICAgICAgICB9LCAoKSA9PiB7XG4gICAgICAgICAgdGhpcy5jaGVja1Jlc3BvbnNpdmUoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5jdXJyZW50Qm90dG9tUGFuZWxIZWlnaHQgPSAxNTA7XG4gICAgICB9XG5cbiAgICAgIGlmICghdGhpcy5wcm9wcy5hY3RpdmVUb29sSW5mbyAmJiBwcmV2UHJvcHMuYWN0aXZlVG9vbEluZm8gJiYgdGhpcy5wcm9wcy5pc01vYmlsZSAmJiB0aGlzLnByb3BzLmlzTWFpbkdyb3VwKSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGJvdHRvbVBhbmVsSGVpZ2h0OiAwXG4gICAgICAgIH0sICgpID0+IHtcbiAgICAgICAgICB0aGlzLmNoZWNrUmVzcG9uc2l2ZSgpO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmN1cnJlbnRCb3R0b21QYW5lbEhlaWdodCA9IDA7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgY2hlY2tJc0hpZGRlbkVsZW1lbnQgPSAoZWxlbWVudE5hbWUpID0+IHtcbiAgICBpZiAodGhpcy5wcm9wcy5oaWRkZW5FbGVtZW50TmFtZXMpIHtcbiAgICAgIGlmICh0aGlzLnByb3BzLmhpZGRlbkVsZW1lbnROYW1lcy5pbmRleE9mKGVsZW1lbnROYW1lKSA+IC0xKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgc3RhcnQgPSAoZXZlbnQsIHR5cGUpID0+IHtcbiAgICB0aGlzLnN0YXJ0RHJhZyA9IHRydWU7XG5cbiAgICBpZiAodHlwZSA9PT0gJ3RvdWNoJykge1xuICAgICAgdGhpcy5tb3ZlWSA9IDA7XG5cbiAgICAgIGNvbnN0IHRvdWNoID0gZXZlbnQudG91Y2hlc1swXTtcbiAgICAgIHRoaXMuc3RhcnRZID0gdG91Y2guY2xpZW50WTtcbiAgICB9XG5cbiAgICBpZiAodHlwZSA9PT0gJ21vdXNlJykge1xuICAgICAgdGhpcy5tb3ZlWSA9IDA7XG4gICAgICB0aGlzLnN0YXJ0WSA9IGV2ZW50LmNsaWVudFk7XG4gICAgfVxuXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYCR7dGhpcy5wcm9wcy5qaW11TWFwVmlldy5pZH0tYm90dG9tLXBhbmVsYCkuY2xhc3NMaXN0LnJlbW92ZSgnZXhwYW5kLW1vYmlsZS1wYW5lbC10cmFuc2l0aW9uJyk7XG4gIH1cblxuICBtb3ZlID0gKGV2ZW50LCB0eXBlKSA9PiB7XG4gICAgaWYgKHR5cGUgPT09ICd0b3VjaCcpIHtcbiAgICAgIHRoaXMuc2xpZGluZyA9IHRydWU7XG4gICAgICBjb25zdCB0b3VjaCA9IGV2ZW50LnRvdWNoZXNbMF07XG4gICAgICB0aGlzLm1vdmVZID0gKHRvdWNoLmNsaWVudFkgLSB0aGlzLnN0YXJ0WSkgKiAtMTtcbiAgICB9XG5cbiAgICBpZiAodHlwZSA9PT0gJ21vdXNlJyAmJiB0aGlzLnN0YXJ0RHJhZykge1xuICAgICAgdGhpcy5zbGlkaW5nID0gdHJ1ZTtcbiAgICAgIHRoaXMubW92ZVkgPSAoZXZlbnQuY2xpZW50WSAtIHRoaXMuc3RhcnRZKSAqIC0xO1xuICAgIH1cblxuICAgIGlmICh0eXBlID09PSAnbW91c2UnICYmICF0aGlzLnN0YXJ0RHJhZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGxldCBleHBlY3RIZWlnaHQgPSAxNTA7XG4gICAgaWYgKHRoaXMuc3RhdGUuYm90dG9tUGFuZWxIZWlnaHQgKyB0aGlzLm1vdmVZID4gZXhwZWN0SGVpZ2h0KSB7XG4gICAgICBleHBlY3RIZWlnaHQgPSB0aGlzLnN0YXRlLmJvdHRvbVBhbmVsSGVpZ2h0ICsgdGhpcy5tb3ZlWTtcbiAgICB9XG5cbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgJHt0aGlzLnByb3BzLmppbXVNYXBWaWV3LmlkfS1ib3R0b20tcGFuZWxgKS5zdHlsZS5oZWlnaHQgPSBgJHtleHBlY3RIZWlnaHR9cHhgO1xuICAgIHRoaXMuY3VycmVudEJvdHRvbVBhbmVsSGVpZ2h0ID0gZXhwZWN0SGVpZ2h0O1xuXG4gICAgY29uc3QgYWJvdmVIZWlnaHQgPSB0aGlzLnN0YXRlLndpZGdldEhlaWdodCAtIChleHBlY3RIZWlnaHQpO1xuICAgIGlmIChhYm92ZUhlaWdodCA+IDM2MCkge1xuICAgICAgdGhpcy5wcm9wcy5vblNldEhpZGRlbkVsZW1lbnROYW1lcyhbXSk7XG4gICAgfVxuXG4gICAgaWYgKGFib3ZlSGVpZ2h0ID4gMjAwICYmIGFib3ZlSGVpZ2h0IDw9IDM2MCkge1xuICAgICAgdGhpcy5wcm9wcy5vblNldEhpZGRlbkVsZW1lbnROYW1lcyh0aGlzLnByb3BzLmxheW91dENvbmZpZy5tb2JpbGVSZXNwb25zaXZlU3RyYXRlZ3lbJ3N0YWdlMSddKTtcbiAgICB9XG5cbiAgICBpZiAoYWJvdmVIZWlnaHQgPiA1NCAmJiBhYm92ZUhlaWdodCA8PSAyMDApIHtcbiAgICAgIHRoaXMucHJvcHMub25TZXRIaWRkZW5FbGVtZW50TmFtZXModGhpcy5wcm9wcy5sYXlvdXRDb25maWcubW9iaWxlUmVzcG9uc2l2ZVN0cmF0ZWd5WydzdGFnZTInXSk7XG4gICAgfVxuXG4gICAgaWYgKGFib3ZlSGVpZ2h0IDwgNTQpIHtcbiAgICAgIHRoaXMucHJvcHMub25TZXRIaWRkZW5FbGVtZW50TmFtZXModGhpcy5wcm9wcy5sYXlvdXRDb25maWcubW9iaWxlUmVzcG9uc2l2ZVN0cmF0ZWd5WydzdGFnZTMnXSk7XG4gICAgfVxuICB9XG5cbiAgZW5kID0gKGV2ZW50LCB0eXBlKSA9PiB7XG4gICAgaWYgKHR5cGUgPT09ICdtb3VzZScgJiYgIXRoaXMuc3RhcnREcmFnKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuc3RhcnREcmFnID0gZmFsc2U7XG5cbiAgICB0aGlzLnNsaWRpbmcgPSBmYWxzZTtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgJHt0aGlzLnByb3BzLmppbXVNYXBWaWV3LmlkfS1ib3R0b20tcGFuZWxgKS5jbGFzc0xpc3QuYWRkKCdleHBhbmQtbW9iaWxlLXBhbmVsLXRyYW5zaXRpb24nKTtcblxuICAgIGlmICh0eXBlID09PSAndG91Y2gnKSB7XG4gICAgICBpZiAoTWF0aC5hYnModGhpcy5tb3ZlWSkgPCAxMCkge1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgJHt0aGlzLnByb3BzLmppbXVNYXBWaWV3LmlkfS1ib3R0b20tcGFuZWxgKS5zdHlsZS5oZWlnaHQgPSBgJHt0aGlzLnN0YXRlLmJvdHRvbVBhbmVsSGVpZ2h0fXB4YDtcbiAgICAgICAgdGhpcy5jdXJyZW50Qm90dG9tUGFuZWxIZWlnaHQgPSB0aGlzLnN0YXRlLmJvdHRvbVBhbmVsSGVpZ2h0O1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHRoaXMubW92ZVkgPj0gMCkge1xuICAgICAgLy8gdXAgc2xpZGVyXG4gICAgICBsZXQgdGFyZ2V0Qm90dG9tUGFuZWxIZWlnaHQgPSAwO1xuXG4gICAgICBpZiAodGhpcy5jdXJyZW50Qm90dG9tUGFuZWxIZWlnaHQgPj0gMTUwICYmIHRoaXMuY3VycmVudEJvdHRvbVBhbmVsSGVpZ2h0IDwgdGhpcy5zdGF0ZS53aWRnZXRIZWlnaHQgKiAwLjYpIHtcbiAgICAgICAgdGFyZ2V0Qm90dG9tUGFuZWxIZWlnaHQgPSB0aGlzLnN0YXRlLndpZGdldEhlaWdodCAqIDAuNjtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5jdXJyZW50Qm90dG9tUGFuZWxIZWlnaHQgPj0gdGhpcy5zdGF0ZS53aWRnZXRIZWlnaHQgKiAwLjYgJiYgdGhpcy5jdXJyZW50Qm90dG9tUGFuZWxIZWlnaHQgPCB0aGlzLnN0YXRlLndpZGdldEhlaWdodCkge1xuICAgICAgICB0YXJnZXRCb3R0b21QYW5lbEhlaWdodCA9IHRoaXMuc3RhdGUud2lkZ2V0SGVpZ2h0IC0gMjA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0YXJnZXRCb3R0b21QYW5lbEhlaWdodCA9IDE1MDtcbiAgICAgIH1cblxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGJvdHRvbVBhbmVsSGVpZ2h0OiB0YXJnZXRCb3R0b21QYW5lbEhlaWdodFxuICAgICAgfSwgKCkgPT4ge1xuICAgICAgICB0aGlzLmNoZWNrUmVzcG9uc2l2ZSgpO1xuICAgICAgfSk7XG5cbiAgICAgIHRoaXMuY3VycmVudEJvdHRvbVBhbmVsSGVpZ2h0ID0gdGFyZ2V0Qm90dG9tUGFuZWxIZWlnaHQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGRvd24gc2xpZGVyXG4gICAgICBsZXQgdGFyZ2V0Qm90dG9tUGFuZWxIZWlnaHQgPSAwO1xuXG4gICAgICBpZiAodGhpcy5jdXJyZW50Qm90dG9tUGFuZWxIZWlnaHQgPiAxNTAgJiYgdGhpcy5jdXJyZW50Qm90dG9tUGFuZWxIZWlnaHQgPCB0aGlzLnN0YXRlLndpZGdldEhlaWdodCAqIDAuNikge1xuICAgICAgICB0YXJnZXRCb3R0b21QYW5lbEhlaWdodCA9IDE1MDtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5jdXJyZW50Qm90dG9tUGFuZWxIZWlnaHQgPj0gdGhpcy5zdGF0ZS53aWRnZXRIZWlnaHQgKiAwLjYgJiYgdGhpcy5jdXJyZW50Qm90dG9tUGFuZWxIZWlnaHQgPCB0aGlzLnN0YXRlLndpZGdldEhlaWdodCkge1xuICAgICAgICB0YXJnZXRCb3R0b21QYW5lbEhlaWdodCA9IHRoaXMuc3RhdGUud2lkZ2V0SGVpZ2h0ICogMC42O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGFyZ2V0Qm90dG9tUGFuZWxIZWlnaHQgPSAxNTA7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBib3R0b21QYW5lbEhlaWdodDogdGFyZ2V0Qm90dG9tUGFuZWxIZWlnaHRcbiAgICAgIH0sICgpID0+IHtcbiAgICAgICAgdGhpcy5jaGVja1Jlc3BvbnNpdmUoKTtcbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLmN1cnJlbnRCb3R0b21QYW5lbEhlaWdodCA9IHRhcmdldEJvdHRvbVBhbmVsSGVpZ2h0O1xuICAgIH1cbiAgfVxuXG4gIGNoZWNrUmVzcG9uc2l2ZSA9ICgpID0+IHtcbiAgICBpZiAodGhpcy5zdGF0ZS5pc1RodW1iTWFwKSB7XG4gICAgICB0aGlzLnByb3BzLm9uU2V0SGlkZGVuRWxlbWVudE5hbWVzKFtdKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5zdGF0ZS5ib3R0b21QYW5lbEhlaWdodCA9PT0gMCkge1xuICAgICAgdGhpcy5wcm9wcy5vblNldEhpZGRlbkVsZW1lbnROYW1lcyhbXSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgYWJvdmVIZWlnaHQgPSB0aGlzLnN0YXRlLndpZGdldEhlaWdodCAtICh0aGlzLnN0YXRlLmJvdHRvbVBhbmVsSGVpZ2h0KTtcbiAgICBpZiAoYWJvdmVIZWlnaHQgPiAzNjApIHtcbiAgICAgIHRoaXMucHJvcHMub25TZXRIaWRkZW5FbGVtZW50TmFtZXMoW10pO1xuICAgIH1cblxuICAgIGlmIChhYm92ZUhlaWdodCA+IDIwMCAmJiBhYm92ZUhlaWdodCA8PSAzNjApIHtcbiAgICAgIHRoaXMucHJvcHMub25TZXRIaWRkZW5FbGVtZW50TmFtZXModGhpcy5wcm9wcy5sYXlvdXRDb25maWcubW9iaWxlUmVzcG9uc2l2ZVN0cmF0ZWd5WydzdGFnZTEnXSk7XG4gICAgfVxuXG4gICAgaWYgKGFib3ZlSGVpZ2h0ID4gNTQgJiYgYWJvdmVIZWlnaHQgPD0gMjAwKSB7XG4gICAgICB0aGlzLnByb3BzLm9uU2V0SGlkZGVuRWxlbWVudE5hbWVzKHRoaXMucHJvcHMubGF5b3V0Q29uZmlnLm1vYmlsZVJlc3BvbnNpdmVTdHJhdGVneVsnc3RhZ2UyJ10pO1xuICAgIH1cblxuICAgIGlmIChhYm92ZUhlaWdodCA8IDU0KSB7XG4gICAgICB0aGlzLnByb3BzLm9uU2V0SGlkZGVuRWxlbWVudE5hbWVzKHRoaXMucHJvcHMubGF5b3V0Q29uZmlnLm1vYmlsZVJlc3BvbnNpdmVTdHJhdGVneVsnc3RhZ2UzJ10pO1xuICAgIH1cbiAgfVxuXG4gIG9uUmVzaXplID0gKHdpZHRoLCBoZWlnaHQpID0+IHtcbiAgICBpZiAoIXdpZHRoIHx8ICFoZWlnaHQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIHdpZGdldFdpZHRoOiB3aWR0aCxcbiAgICAgIHdpZGdldEhlaWdodDogaGVpZ2h0LFxuICAgICAgaXNUaHVtYk1hcDogZmFsc2VcbiAgICB9LCAoKSA9PiB7XG4gICAgICB0aGlzLmNoZWNrUmVzcG9uc2l2ZSgpO1xuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuTnVsbE5vZGUgPSAoa2V5PykgPT4ge1xuICAgIGlmICh0aGlzLnByb3BzLmlzTW9iaWxlKSB7XG4gICAgICByZXR1cm4gPHNwYW4ga2V5PXtrZXl9Pjwvc3Bhbj47XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGNoZWNrSXNMYXN0RWxlbWVudCA9IChwYXJlbnRHcm91cEpzb246IEdyb3VwSnNvbiwgdG9vbEpzb246IFRvb2xKc29uKSA9PiB7XG4gICAgY29uc3QgdG9vbE5hbWUgPSB0b29sSnNvbi50b29sTmFtZTtcbiAgICBjb25zdCBsYXlvdXRKc29uID0gdGhpcy5wcm9wcy5sYXlvdXRDb25maWc7XG4gICAgY29uc3QgY2hpbGRyZW4gPSBsYXlvdXRKc29uLmxheW91dFtwYXJlbnRHcm91cEpzb24uZ3JvdXBOYW1lXS5jaGlsZHJlbjtcbiAgICBjb25zdCBpbmRleCA9IGNoaWxkcmVuLmluZGV4T2YodG9vbE5hbWUpO1xuICAgIGlmIChpbmRleCA9PT0gY2hpbGRyZW4ubGVuZ3RoIC0gMSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgaWYgKGluZGV4IDwgY2hpbGRyZW4ubGVuZ3RoIC0gMSkge1xuICAgICAgbGV0IGlzTGFzdEVsZW1lbnQ6IGJvb2xlYW4gPSB0cnVlO1xuICAgICAgZm9yIChsZXQgaSA9IChpbmRleCArIDEpOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgZWxlbWVudE5hbWUgPSBjaGlsZHJlbltpXTtcbiAgICAgICAgaWYgKGxheW91dEpzb24uZWxlbWVudHNbY2hpbGRyZW5baV1dLnR5cGUgPT09ICdHUk9VUCcpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfSBlbHNlIGlmICgoIVRvb2xNb2R1bGVzW2VsZW1lbnROYW1lXS5nZXRJc05lZWRTZXR0aW5nKCkgfHwgKHRoaXMucHJvcHMudG9vbENvbmZpZyAmJiB0aGlzLnByb3BzLnRvb2xDb25maWdbYGNhbiR7ZWxlbWVudE5hbWV9YF0pXG4gICAgICAgICAgfHwgKGxheW91dEpzb24ubG9ja1Rvb2xOYW1lcyAmJiBsYXlvdXRKc29uLmxvY2tUb29sTmFtZXMuaW5kZXhPZihlbGVtZW50TmFtZSkgPiAtMSkpKSB7XG4gICAgICAgICAgaXNMYXN0RWxlbWVudCA9IGZhbHNlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gaXNMYXN0RWxlbWVudDtcbiAgICB9XG4gIH1cblxuICBoYW5kbGVUb2dnbGVNb2JpbGVQYW5lbCA9ICgpID0+IHtcbiAgICB0aGlzLnByb3BzLm9uQWN0aXZlVG9vbEluZm9DaGFuZ2UobnVsbCk7XG4gIH1cblxuICBoYW5kbGVQYW5lbEhlaWdodENoYW5nZSA9IChwYW5lbFdpZHRoLCBwYW5lbEhlaWdodCkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe2JvdHRvbVBhbmVsSGVpZ2h0OiBwYW5lbEhlaWdodH0sICgpID0+IHtcbiAgICAgIHRoaXMuY2hlY2tSZXNwb25zaXZlKCk7XG4gICAgfSlcbiAgfVxuXG4gIGdldE1vYmlsZVBhbmVsSW5Db250ZXh0ID0gKCkgPT4ge1xuICAgIHJldHVybiA8TXVsdGlTb3VyY2VNYXBDb250ZXh0LkNvbnN1bWVyPlxuICAgICAgeyh7bW9iaWxlUGFuZWxDb250YWluZXIsIG1hcFdpZGdldElkfSkgPT4gKFxuICAgICAgICA8TW9iaWxlUGFuZWwgbWFwV2lkZ2V0SWQ9e21hcFdpZGdldElkfSB0aXRsZT17dGhpcy5wcm9wcy5hY3RpdmVUb29sSW5mbyAmJiB0aGlzLnByb3BzLmFjdGl2ZVRvb2xJbmZvLmFjdGl2ZVRvb2xUaXRsZX1cbiAgICAgICAgICBvcGVuPXshIXRoaXMucHJvcHMuYWN0aXZlVG9vbEluZm99IHRvZ2dsZT17KCkgPT4ge3RoaXMuaGFuZGxlVG9nZ2xlTW9iaWxlUGFuZWwoKX19PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xMDAgaC0xMDBcIiByZWY9eyhjb250YWluZXIpID0+IHtpZiAobW9iaWxlUGFuZWxDb250YWluZXIgJiYgY29udGFpbmVyKSB7Y29udGFpbmVyLmFwcGVuZENoaWxkKG1vYmlsZVBhbmVsQ29udGFpbmVyKTt9fX0+PC9kaXY+XG4gICAgICAgIDwvTW9iaWxlUGFuZWw+XG4gICAgICApfVxuICAgIDwvTXVsdGlTb3VyY2VNYXBDb250ZXh0LkNvbnN1bWVyPjtcbiAgfVxuXG4gIGdldEdyb3VwQ29udGVudCA9IChsYXlvdXRKc29uOiBMYXlvdXRKc29uKSA9PiB7XG4gICAgaWYgKCFsYXlvdXRKc29uKSB7XG4gICAgICByZXR1cm4gdGhpcy5yZXR1cm5OdWxsTm9kZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBjaGlsZHJlbiA9IGxheW91dEpzb24ubGF5b3V0W3RoaXMucHJvcHMuZ3JvdXBOYW1lXSAmJiBsYXlvdXRKc29uLmxheW91dFt0aGlzLnByb3BzLmdyb3VwTmFtZV0uY2hpbGRyZW47XG4gICAgICBpZiAodGhpcy5jaGVja0lzU2hvd0dyb3VwKGxheW91dEpzb24sIGNoaWxkcmVuKSkge1xuICAgICAgICByZXR1cm4gPGRpdiBpZD17KHRoaXMucHJvcHMuaXNNYWluR3JvdXAgPyB0aGlzLnByb3BzLm1hcFdpZGdldElkIDogdW5kZWZpbmVkKX1cbiAgICAgICAgICBjc3M9e3RoaXMuZ2V0U3R5bGUoKX0gY2xhc3NOYW1lPXtjbGFzc05hbWVzKCdleGJtYXAtdWkgZXhibWFwLXVpLWdyb3VwJywgdGhpcy5wcm9wcy5jbGFzc05hbWUsXG4gICAgICAgICAgICB7J2V4Ym1hcC11aS1oaWRkZW4tZWxlbWVudCc6IHRoaXMucHJvcHMuaXNIaWRkZW59KX0gc3R5bGU9e3RoaXMucHJvcHMuc3R5bGV9PlxuICAgICAgICAgIHtjaGlsZHJlbi5tYXAoKGtleSwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgIGlmICghbGF5b3V0SnNvbi5lbGVtZW50c1trZXldKSB7XG4gICAgICAgICAgICAgIHJldHVybiB0aGlzLnJldHVybk51bGxOb2RlKGluZGV4KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGxheW91dEpzb24uZWxlbWVudHNba2V5XS50eXBlID09PSAnR1JPVVAnKSB7XG4gICAgICAgICAgICAgIHJldHVybiA8R3JvdXAgbWFwV2lkZ2V0SWQ9e3RoaXMucHJvcHMubWFwV2lkZ2V0SWR9IGlzSGlkZGVuPXt0aGlzLmNoZWNrSXNIaWRkZW5FbGVtZW50KGtleSl9IGNsYXNzTmFtZT17KGxheW91dEpzb24uZWxlbWVudHNba2V5XSBhcyBHcm91cEpzb24pLmNsYXNzTmFtZX1cbiAgICAgICAgICAgICAgICBzdHlsZT17KGxheW91dEpzb24uZWxlbWVudHNba2V5XSBhcyBHcm91cEpzb24pLnN0eWxlfVxuICAgICAgICAgICAgICAgIGtleT17aW5kZXh9IGxheW91dENvbmZpZz17bGF5b3V0SnNvbn0gdG9vbENvbmZpZz17dGhpcy5wcm9wcy50b29sQ29uZmlnfSBpc01vYmlsZT17dGhpcy5wcm9wcy5pc01vYmlsZX0gaW50bD17dGhpcy5wcm9wcy5pbnRsfVxuICAgICAgICAgICAgICAgIGppbXVNYXBWaWV3PXt0aGlzLnByb3BzLmppbXVNYXBWaWV3fSBncm91cE5hbWU9e2tleX0gYWN0aXZlVG9vbEluZm89e3RoaXMucHJvcHMuYWN0aXZlVG9vbEluZm99XG4gICAgICAgICAgICAgICAgaGlkZGVuRWxlbWVudE5hbWVzPXt0aGlzLnByb3BzLmhpZGRlbkVsZW1lbnROYW1lc31cbiAgICAgICAgICAgICAgICBvbkFjdGl2ZVRvb2xJbmZvQ2hhbmdlPXt0aGlzLnByb3BzLm9uQWN0aXZlVG9vbEluZm9DaGFuZ2V9IHRoZW1lPXt0aGlzLnByb3BzLnRoZW1lfVxuICAgICAgICAgICAgICAgIGlzVGh1bWJNYXA9e3RoaXMucHJvcHMuaXNNYWluR3JvdXAgPyB0aGlzLnN0YXRlLmlzVGh1bWJNYXAgOiB0aGlzLnByb3BzLmlzVGh1bWJNYXB9PjwvR3JvdXA+XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGxheW91dEpzb24uZWxlbWVudHNba2V5XS50eXBlID09PSAnVE9PTCcpIHtcbiAgICAgICAgICAgICAgaWYgKCFUb29sTW9kdWxlc1trZXldLmdldElzTmVlZFNldHRpbmcoKSB8fCAodGhpcy5wcm9wcy50b29sQ29uZmlnICYmIHRoaXMucHJvcHMudG9vbENvbmZpZ1tgY2FuJHtrZXl9YF0pIHx8IChsYXlvdXRKc29uLmxvY2tUb29sTmFtZXMgJiYgbGF5b3V0SnNvbi5sb2NrVG9vbE5hbWVzLmluZGV4T2Yoa2V5KSA+IC0xKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiA8QmFzZVRvb2xTaGVsbCBpc0hpZGRlbj17dGhpcy5jaGVja0lzSGlkZGVuRWxlbWVudChrZXkpfSBrZXk9e2luZGV4fSBsYXlvdXRDb25maWc9e2xheW91dEpzb259XG4gICAgICAgICAgICAgICAgICBhY3RpdmVUb29sSW5mbz17dGhpcy5wcm9wcy5hY3RpdmVUb29sSW5mb30gdG9vbENvbmZpZz17dGhpcy5wcm9wcy50b29sQ29uZmlnfVxuICAgICAgICAgICAgICAgICAgamltdU1hcFZpZXc9e3RoaXMucHJvcHMuamltdU1hcFZpZXd9IHRvb2xOYW1lPXtrZXl9IHRoZW1lPXt0aGlzLnByb3BzLnRoZW1lfVxuICAgICAgICAgICAgICAgICAgb25BY3RpdmVUb29sSW5mb0NoYW5nZT17dGhpcy5wcm9wcy5vbkFjdGl2ZVRvb2xJbmZvQ2hhbmdlfSBpbnRsPXt0aGlzLnByb3BzLmludGx9XG4gICAgICAgICAgICAgICAgICBpc01vYmlsZT17dGhpcy5wcm9wcy5pc01vYmlsZX0gaXNMYXN0RWxlbWVudD17dGhpcy5jaGVja0lzTGFzdEVsZW1lbnQobGF5b3V0SnNvbi5lbGVtZW50c1t0aGlzLnByb3BzLmdyb3VwTmFtZV0gYXMgR3JvdXBKc29uLCBsYXlvdXRKc29uLmVsZW1lbnRzW2tleV0gYXMgVG9vbEpzb24pfT48L0Jhc2VUb29sU2hlbGw+XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucmV0dXJuTnVsbE5vZGUoaW5kZXgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZXR1cm4gdGhpcy5yZXR1cm5OdWxsTm9kZShpbmRleCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSl9XG4gICAgICAgICAge3RoaXMucHJvcHMuaXNNb2JpbGUgJiYgdGhpcy5wcm9wcy5pc01haW5Hcm91cCAmJiA8UmVhY3RSZXNpemVEZXRlY3RvciBoYW5kbGVXaWR0aCBoYW5kbGVIZWlnaHQgb25SZXNpemU9e3RoaXMub25SZXNpemV9IC8+fVxuICAgICAgICAgIHt0aGlzLnByb3BzLmlzTWFpbkdyb3VwICYmIHRoaXMucHJvcHMuaXNNb2JpbGUgJiYgdGhpcy5wcm9wcy5hY3RpdmVUb29sSW5mbyAmJiB0aGlzLnByb3BzLmFjdGl2ZVRvb2xJbmZvLmFjdGl2ZVRvb2xOYW1lICE9PSAnU2VsZWN0JyAmJiB0aGlzLmdldE1vYmlsZVBhbmVsSW5Db250ZXh0KCl9XG4gICAgICAgICAgeyB0aGlzLnByb3BzLmlzTWFpbkdyb3VwICYmIDxkaXYgY2xhc3NOYW1lPVwiZXhibWFwLXVpIHctMTAwXCJcbiAgICAgICAgICAgIHN0eWxlPXt7cG9zaXRpb246ICdyZWxhdGl2ZScsIHBvaW50ZXJFdmVudHM6ICdhdXRvJywgb3ZlcmZsb3c6ICdoaWRkZW4nLCB0b3VjaEFjdGlvbjogJ25vbmUnLFxuICAgICAgICAgICAgICBkaXNwbGF5OiB0aGlzLnByb3BzLmlzTW9iaWxlICYmICEodGhpcy5zdGF0ZS5pc1RodW1iTWFwIHx8IHRoaXMucHJvcHMuaXNUaHVtYk1hcCkgPyAnYmxvY2snIDogJ25vbmUnfX0+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YCR7dGhpcy5wcm9wcy5tYXBXaWRnZXRJZH0tYm90dG9tLXBhbmVsIGV4Ym1hcC11aSB3LTEwMCBleHBhbmQtbW9iaWxlLXBhbmVsYH1cbiAgICAgICAgICAgICAgc3R5bGU9e3tvdmVyZmxvdzogJ2hpZGRlbicsIHBvaW50ZXJFdmVudHM6ICdhdXRvJywgcG9zaXRpb246ICdyZWxhdGl2ZScsIHRvdWNoQWN0aW9uOiAnbm9uZSd9fT5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEwMCBoLTEwMFwiPlxuICAgICAgICAgICAgICAgIDxSZWFjdFJlc2l6ZURldGVjdG9yIGhhbmRsZUhlaWdodCBvblJlc2l6ZT17dGhpcy5oYW5kbGVQYW5lbEhlaWdodENoYW5nZX0+PC9SZWFjdFJlc2l6ZURldGVjdG9yPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2Pn1cbiAgICAgICAgPC9kaXY+XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXR1cm5OdWxsTm9kZSgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGNoZWNrSXNTaG93R3JvdXAgPSAobGF5b3V0SnNvbjogTGF5b3V0SnNvbiwgY2hpbGRyZW46IHN0cmluZ1tdKSA9PiB7XG4gICAgaWYgKCFjaGlsZHJlbiB8fCBjaGlsZHJlbi5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgdG9vbE5hbWVzID0gW107XG4gICAgICB0aGlzLmZpbmRBbGxUb29sTmFtZXMobGF5b3V0SnNvbiwgY2hpbGRyZW4sIHRvb2xOYW1lcyk7XG4gICAgICBsZXQgaXNTaG93R3JvdXAgPSBmYWxzZTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdG9vbE5hbWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmICh0aGlzLnByb3BzLnRvb2xDb25maWdbYGNhbiR7dG9vbE5hbWVzW2ldfWBdIHx8ICFUb29sTW9kdWxlc1t0b29sTmFtZXNbaV1dLmdldElzTmVlZFNldHRpbmcoKVxuICAgICAgICAgIHx8IChsYXlvdXRKc29uLmxvY2tUb29sTmFtZXMgJiYgbGF5b3V0SnNvbi5sb2NrVG9vbE5hbWVzLmluZGV4T2YodG9vbE5hbWVzW2ldKSA+IC0xKSkge1xuICAgICAgICAgIGlzU2hvd0dyb3VwID0gdHJ1ZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGlzU2hvd0dyb3VwO1xuICAgIH1cbiAgfVxuXG4gIGZpbmRBbGxUb29sTmFtZXMgPSAobGF5b3V0SnNvbjogTGF5b3V0SnNvbiwgY2hpbGRyZW46IHN0cmluZ1tdLCB0b29sTmFtZXM6IHN0cmluZ1tdKSA9PiB7XG4gICAgaWYgKCFjaGlsZHJlbiB8fCBjaGlsZHJlbi5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKGxheW91dEpzb24uZWxlbWVudHNbY2hpbGRyZW5baV1dLnR5cGUgPT09ICdHUk9VUCcpIHtcbiAgICAgICAgY29uc3QgZ3JvdXBOYW1lID0gKGxheW91dEpzb24uZWxlbWVudHNbY2hpbGRyZW5baV1dIGFzIEdyb3VwSnNvbikuZ3JvdXBOYW1lO1xuICAgICAgICB0aGlzLmZpbmRBbGxUb29sTmFtZXMobGF5b3V0SnNvbiwgbGF5b3V0SnNvbi5sYXlvdXRbZ3JvdXBOYW1lXSAmJiBsYXlvdXRKc29uLmxheW91dFtncm91cE5hbWVdLmNoaWxkcmVuLCB0b29sTmFtZXMpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0b29sTmFtZXMucHVzaChjaGlsZHJlbltpXSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICh0aGlzLnByb3BzLmlzTWFpbkdyb3VwICYmIHRoaXMucHJvcHMuaXNNb2JpbGUgJiYgdGhpcy5wcm9wcy50b29sQ29uZmlnICYmIHRoaXMucHJvcHMudG9vbENvbmZpZ1snY2FuU2VsZWN0J10pIHtcbiAgICAgIHJldHVybiA8ZGl2IHN0eWxlPXt7cG9zaXRpb246ICdhYnNvbHV0ZScsIHRvcDogMCwgbGVmdDogMCwgYm90dG9tOiAwLCByaWdodDogMH19PlxuICAgICAgICA8ZGl2IGlkPXtgJHt0aGlzLnByb3BzLm1hcFdpZGdldElkfS13aXRoLXNlbGVjdC1jb250YWluZXJgfSBzdHlsZT17e3Bvc2l0aW9uOiAnYWJzb2x1dGUnLCB0b3A6IDAsIGxlZnQ6IDAsIGJvdHRvbTogNDAsIHJpZ2h0OiAwfX0+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEwMCBoLTEwMFwiIHN0eWxlPXt7cG9zaXRpb246ICdyZWxhdGl2ZSd9fT5cbiAgICAgICAgICAgIHt0aGlzLmdldEdyb3VwQ29udGVudCh0aGlzLnByb3BzLmxheW91dENvbmZpZyl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IHN0eWxlPXt7cG9zaXRpb246ICdhYnNvbHV0ZScsIGxlZnQ6IDAsIGJvdHRvbTogMCwgcmlnaHQ6IDAsIGhlaWdodDogNDB9fT5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTAwIGgtMTAwXCIgc3R5bGU9e3twb3NpdGlvbjogJ3JlbGF0aXZlJ319PlxuICAgICAgICAgICAgPEJhc2VUb29sU2hlbGwgaXNIaWRkZW49e2ZhbHNlfSBsYXlvdXRDb25maWc9e3RoaXMucHJvcHMubGF5b3V0Q29uZmlnfVxuICAgICAgICAgICAgICBhY3RpdmVUb29sSW5mbz17dGhpcy5wcm9wcy5hY3RpdmVUb29sSW5mb30gdG9vbENvbmZpZz17dGhpcy5wcm9wcy50b29sQ29uZmlnfVxuICAgICAgICAgICAgICBqaW11TWFwVmlldz17dGhpcy5wcm9wcy5qaW11TWFwVmlld30gdG9vbE5hbWU9eydTZWxlY3RTdGF0ZSd9IHRoZW1lPXt0aGlzLnByb3BzLnRoZW1lfVxuICAgICAgICAgICAgICBvbkFjdGl2ZVRvb2xJbmZvQ2hhbmdlPXt0aGlzLnByb3BzLm9uQWN0aXZlVG9vbEluZm9DaGFuZ2V9IGludGw9e3RoaXMucHJvcHMuaW50bH1cbiAgICAgICAgICAgICAgaXNNb2JpbGU9e3RoaXMucHJvcHMuaXNNb2JpbGV9IGlzTGFzdEVsZW1lbnQ9e3RydWV9PlxuICAgICAgICAgICAgPC9CYXNlVG9vbFNoZWxsPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXRHcm91cENvbnRlbnQodGhpcy5wcm9wcy5sYXlvdXRDb25maWcpO1xuICAgIH1cbiAgfVxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFHQTtBQUVBO0FBQ0E7QUFDQTtBQTZCQTtBQUFBO0FBNkRBO0FBQUE7QUE1REE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBMkZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFHQTtBQUFBO0FBQUE7QUFIQTtBQU9BO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQU9BO0FBQUE7QUFDQTtBQUNBO0FBS0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFLQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBNVZBO0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBM0RBO0FBQ0E7QUFDQTtBQUVBO0FBOENBO0FBV0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBOFRBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFTQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTs7OyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/group.tsx\n");

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/panel-shell.tsx":
/*!**************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/panel-shell.tsx ***!
  \**************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jimu_core__WEBPACK_IMPORTED_MODULE_0__);\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\nvar PanelShell = /** @class */ (function (_super) {\n    __extends(PanelShell, _super);\n    function PanelShell() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    PanelShell.prototype.componentWillUnmount = function () {\n        if (this.props.onDestroyed) {\n            this.props.onDestroyed();\n        }\n    };\n    PanelShell.prototype.render = function () {\n        return jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].createElement(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].Fragment, null, this.props.children);\n    };\n    return PanelShell;\n}(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].PureComponent));\n/* harmony default export */ __webpack_exports__[\"default\"] = (PanelShell);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvbGF5b3V0L2Jhc2UvcGFuZWwtc2hlbGwudHN4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vZXh0ZW5zaW9ucy93aWRnZXRzL2FyY2dpcy9hcmNnaXMtbWFwL3NyYy9ydW50aW1lL2xheW91dC9iYXNlL3BhbmVsLXNoZWxsLnRzeD82YTVjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7UmVhY3R9IGZyb20gJ2ppbXUtY29yZSc7XG5cbmludGVyZmFjZSBQcm9wcyB7XG4gIG9uRGVzdHJveWVkPzogKCkgPT4gdm9pZDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGFuZWxTaGVsbCBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQ8UHJvcHMsIHVua25vd24+IHtcblxuICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5vbkRlc3Ryb3llZCkge1xuICAgICAgdGhpcy5wcm9wcy5vbkRlc3Ryb3llZCgpO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gPD5cbiAgICAgIHt0aGlzLnByb3BzLmNoaWxkcmVufVxuICAgIDwvPlxuICB9XG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFNQTtBQUFBO0FBQUE7O0FBYUE7QUFYQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUdBO0FBQ0E7QUFBQTs7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/panel-shell.tsx\n");

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/scroll-container.tsx":
/*!*******************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/scroll-container.tsx ***!
  \*******************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jimu_core__WEBPACK_IMPORTED_MODULE_0__);\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __makeTemplateObject = (undefined && undefined.__makeTemplateObject) || function (cooked, raw) {\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n    return cooked;\n};\n/** @jsx jsx */\n\nvar ScrollContainer = /** @class */ (function (_super) {\n    __extends(ScrollContainer, _super);\n    function ScrollContainer() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.moveY = 0;\n        _this.startY = 0;\n        _this.isRegisted = false;\n        _this.registerTouchEvent = function (ref) {\n            if (ref && !_this.isRegisted) {\n                ref.addEventListener('touchstart', function (event) {\n                    _this.moveY = 0;\n                    var touch = event.touches[0];\n                    _this.startY = touch.clientY;\n                }, { passive: false });\n                ref.addEventListener('touchmove', function (event) {\n                    var touch = event.touches[0];\n                    _this.moveY = (touch.clientY - _this.startY) * -1;\n                    _this.startY = touch.clientY;\n                    ref.scrollTop = ref.scrollTop + _this.moveY;\n                }, { passive: false });\n                ref.addEventListener('touchend', function (event) {\n                    _this.moveY = 0;\n                    _this.startY = 0;\n                }, { passive: false });\n                _this.isRegisted = true;\n            }\n        };\n        return _this;\n    }\n    ScrollContainer.prototype.getStyle = function () {\n        return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n      overflow: auto;\\n      pointer-events: auto;\\n      \"], [\"\\n      overflow: auto;\\n      pointer-events: auto;\\n      \"])));\n    };\n    ScrollContainer.prototype.render = function () {\n        var _this = this;\n        return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { css: this.getStyle(), className: this.props.className, style: this.props.style, ref: function (ref) {\n                _this.registerTouchEvent(ref);\n            } }, this.props.children);\n    };\n    return ScrollContainer;\n}(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].PureComponent));\n/* harmony default export */ __webpack_exports__[\"default\"] = (ScrollContainer);\nvar templateObject_1;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvbGF5b3V0L2Jhc2Uvc2Nyb2xsLWNvbnRhaW5lci50c3guanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvbGF5b3V0L2Jhc2Uvc2Nyb2xsLWNvbnRhaW5lci50c3g/MTZhOSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiogQGpzeCBqc3ggKi9cbmltcG9ydCB7Y3NzLCBqc3gsIFJlYWN0fSBmcm9tICdqaW11LWNvcmUnO1xuXG5pbnRlcmZhY2UgU2Nyb2xsQ29udGFpbmVyUHJvcHMge1xuICBjbGFzc05hbWU/OiBzdHJpbmc7XG4gIHN0eWxlPzogUmVhY3QuQ1NTUHJvcGVydGllcztcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2Nyb2xsQ29udGFpbmVyIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudDxTY3JvbGxDb250YWluZXJQcm9wcywgdW5rbm93bj4ge1xuICBtb3ZlWSA9IDA7XG4gIHN0YXJ0WSA9IDA7XG4gIGlzUmVnaXN0ZWQgPSBmYWxzZTtcblxuICBnZXRTdHlsZSgpIHtcbiAgICByZXR1cm4gY3NzYFxuICAgICAgb3ZlcmZsb3c6IGF1dG87XG4gICAgICBwb2ludGVyLWV2ZW50czogYXV0bztcbiAgICAgIGA7XG4gIH1cblxuICByZWdpc3RlclRvdWNoRXZlbnQgPSAocmVmOiBIVE1MRWxlbWVudCkgPT4ge1xuICAgIGlmIChyZWYgJiYgIXRoaXMuaXNSZWdpc3RlZCkge1xuICAgICAgcmVmLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCAgKGV2ZW50KSA9PiB7XG4gICAgICAgIHRoaXMubW92ZVkgPSAwO1xuICAgICAgICBjb25zdCB0b3VjaCA9IGV2ZW50LnRvdWNoZXNbMF07XG4gICAgICAgIHRoaXMuc3RhcnRZID0gdG91Y2guY2xpZW50WTtcbiAgICAgIH0sIHtwYXNzaXZlOiBmYWxzZX0pO1xuXG4gICAgICByZWYuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgIChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCB0b3VjaCA9IGV2ZW50LnRvdWNoZXNbMF07XG4gICAgICAgIHRoaXMubW92ZVkgPSAodG91Y2guY2xpZW50WSAtIHRoaXMuc3RhcnRZKSAqIC0xO1xuICAgICAgICB0aGlzLnN0YXJ0WSA9IHRvdWNoLmNsaWVudFk7XG5cbiAgICAgICAgcmVmLnNjcm9sbFRvcCA9IHJlZi5zY3JvbGxUb3AgKyB0aGlzLm1vdmVZO1xuICAgICAgfSwge3Bhc3NpdmU6IGZhbHNlfSk7XG5cbiAgICAgIHJlZi5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsICAoZXZlbnQpID0+IHtcbiAgICAgICAgdGhpcy5tb3ZlWSA9IDA7XG4gICAgICAgIHRoaXMuc3RhcnRZID0gMDtcbiAgICAgIH0sIHtwYXNzaXZlOiBmYWxzZX0pO1xuXG4gICAgICB0aGlzLmlzUmVnaXN0ZWQgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gPGRpdiBjc3M9e3RoaXMuZ2V0U3R5bGUoKX0gY2xhc3NOYW1lPXt0aGlzLnByb3BzLmNsYXNzTmFtZX0gc3R5bGU9e3RoaXMucHJvcHMuc3R5bGV9XG4gICAgICByZWY9e3JlZiA9PiB7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJUb3VjaEV2ZW50KHJlZik7XG4gICAgICB9fT5cbiAgICAgIHt0aGlzLnByb3BzLmNoaWxkcmVufVxuICAgIDwvZGl2PlxuICB9XG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFPQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7O0FBVUE7QUF4Q0E7QUFDQTtBQUlBO0FBMkJBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFHQTtBQUNBO0FBQUE7OzsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/scroll-container.tsx\n");

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/ui-component.tsx":
/*!***************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/ui-component.tsx ***!
  \***************************************************************************************/
/*! exports provided: UIComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"UIComponent\", function() { return UIComponent; });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jimu_core__WEBPACK_IMPORTED_MODULE_0__);\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\nvar UIComponent = /** @class */ (function (_super) {\n    __extends(UIComponent, _super);\n    function UIComponent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return UIComponent;\n}(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].PureComponent));\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvbGF5b3V0L2Jhc2UvdWktY29tcG9uZW50LnRzeC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4dGVuc2lvbnMvd2lkZ2V0cy9hcmNnaXMvYXJjZ2lzLW1hcC9zcmMvcnVudGltZS9sYXlvdXQvYmFzZS91aS1jb21wb25lbnQudHN4PzdlODIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtSZWFjdCwgSU1UaGVtZVZhcmlhYmxlc30gZnJvbSAnamltdS1jb3JlJztcbmltcG9ydCB7SmltdU1hcFZpZXd9IGZyb20gJ2ppbXUtYXJjZ2lzJztcblxuZXhwb3J0IGludGVyZmFjZSBVSUNvbXBvbmVudFByb3BzIHtcbiAgamltdU1hcFZpZXc6IEppbXVNYXBWaWV3O1xuICB0aGVtZTogSU1UaGVtZVZhcmlhYmxlcztcbn1cblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIFVJQ29tcG9uZW50PFAgZXh0ZW5kcyBVSUNvbXBvbmVudFByb3BzICwgUz4gZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50PFAsIFM+e1xufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQVFBO0FBQUE7QUFBQTs7QUFDQTtBQUFBO0FBQUE7OyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/ui-component.tsx\n");

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/layout.tsx":
/*!****************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/layout.tsx ***!
  \****************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jimu_core__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _base_group__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./base/group */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/group.tsx\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __makeTemplateObject = (undefined && undefined.__makeTemplateObject) || function (cooked, raw) {\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n    return cooked;\n};\n/** @jsx jsx */\n\n\nvar Layout = /** @class */ (function (_super) {\n    __extends(Layout, _super);\n    function Layout(props) {\n        var _this = _super.call(this, props) || this;\n        //this item is used to solve the flash issue when swith mulitimap\n        _this.cloneLayoutRef = null;\n        _this.getMaxHeightForPcExpand = function (widgetHeight) {\n            if (!widgetHeight) {\n                return null;\n            }\n            else {\n                if (widgetHeight < 65) {\n                    return null;\n                }\n                else {\n                    var resultHeight = widgetHeight - 65;\n                    if (resultHeight < 300) {\n                        return resultHeight;\n                    }\n                    else {\n                        return 300;\n                    }\n                }\n            }\n        };\n        _this.handSetHiddenElementNames = function (elementNames) {\n            _this.setState({\n                hiddenElementNames: elementNames\n            });\n        };\n        _this.getLayoutContent = function (layoutJson) {\n            if (!layoutJson || !_this.props.toolConfig) {\n                return null;\n            }\n            else {\n                return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { css: _this.getStyle() }, Object.keys(layoutJson.layout).map(function (key, index) {\n                    if (!layoutJson.elements[key] || layoutJson.elements[key].type !== 'GROUP' || !layoutJson.layout[key].position) {\n                        return null;\n                    }\n                    return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_base_group__WEBPACK_IMPORTED_MODULE_1__[\"default\"], { mapWidgetId: _this.props.mapWidgetId, className: layoutJson.elements[key].className, style: layoutJson.elements[key].style, isResponsive: layoutJson.elements[key].isResponsive, isMobile: _this.props.isMobile, isMainGroup: true, key: index, layoutConfig: layoutJson, toolConfig: _this.props.toolConfig, activeToolInfo: _this.props.activeToolInfo, jimuMapView: _this.props.jimuMapView, groupName: key, onActiveToolInfoChange: _this.props.onActiveToolInfoChange, hiddenElementNames: layoutJson.mobileResponsiveStrategy && _this.state.hiddenElementNames, intl: _this.props.intl, onSetHiddenElementNames: _this.handSetHiddenElementNames, theme: _this.props.theme });\n                }));\n            }\n        };\n        _this.state = {\n            toolsContentInMobileExpandPanel: null,\n            hiddenElementNames: []\n        };\n        _this.contentRef = document.createElement('div');\n        _this.contentRef.className = 'exbmap-ui esri-ui-inner-container exbmap-ui-layout';\n        return _this;\n    }\n    Layout.prototype.getStyle = function () {\n        return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n      z-index: 0;\\n\\n      .expand-panel-transition {\\n        transition: opacity 0.3s, right 0.3s;\\n      }\\n\\n      .scale-attribution-xy-group {\\n        > div:first-of-type:nth-last-of-type(1) {\\n          width: 100%;\\n          max-width: 100% !important;\\n        }\\n      }\\n\\n      .exbmap-ui-hidden-element {\\n        display: none !important;\\n      }\\n/* \\n      .exbmap-basetool-loader {\\n        position: absolute;\\n        top: 0;\\n        left: 0;\\n        right: 0;\\n        height: 2px;\\n        width: 100%;\\n        animation: esri-fade-in 500ms ease-in-out;\\n      }\\n\\n      .exbmap-basetool-loader:before {\\n        background-color: rgba(110,110,110,0.3);\\n        width: 100%;\\n        z-index: 0;\\n        content: \\\"\\\";\\n        opacity: 1;\\n        position: absolute;\\n        height: 2px;\\n        top: 0;\\n        transition: opacity 500ms ease-in-out;\\n      }\\n\\n      .exbmap-basetool-loader:after {\\n        background-color: #6e6e6e;\\n        width: 20%;\\n        z-index: 0;\\n        animation: looping-progresss-bar-ani 1500ms linear infinite;\\n        content: \\\"\\\";\\n        opacity: 1;\\n        position: absolute;\\n        height: 2px;\\n        top: 0;\\n        transition: opacity 500ms ease-in-out;\\n      } */\\n\\n      .exbmap-ui-pc-expand-maxheight {\\n        max-height: \", \"px;\\n        overflow: auto\\n      }\\n      \"], [\"\\n      z-index: 0;\\n\\n      .expand-panel-transition {\\n        transition: opacity 0.3s, right 0.3s;\\n      }\\n\\n      .scale-attribution-xy-group {\\n        > div:first-of-type:nth-last-of-type(1) {\\n          width: 100%;\\n          max-width: 100% !important;\\n        }\\n      }\\n\\n      .exbmap-ui-hidden-element {\\n        display: none !important;\\n      }\\n/* \\n      .exbmap-basetool-loader {\\n        position: absolute;\\n        top: 0;\\n        left: 0;\\n        right: 0;\\n        height: 2px;\\n        width: 100%;\\n        animation: esri-fade-in 500ms ease-in-out;\\n      }\\n\\n      .exbmap-basetool-loader:before {\\n        background-color: rgba(110,110,110,0.3);\\n        width: 100%;\\n        z-index: 0;\\n        content: \\\"\\\";\\n        opacity: 1;\\n        position: absolute;\\n        height: 2px;\\n        top: 0;\\n        transition: opacity 500ms ease-in-out;\\n      }\\n\\n      .exbmap-basetool-loader:after {\\n        background-color: #6e6e6e;\\n        width: 20%;\\n        z-index: 0;\\n        animation: looping-progresss-bar-ani 1500ms linear infinite;\\n        content: \\\"\\\";\\n        opacity: 1;\\n        position: absolute;\\n        height: 2px;\\n        top: 0;\\n        transition: opacity 500ms ease-in-out;\\n      } */\\n\\n      .exbmap-ui-pc-expand-maxheight {\\n        max-height: \", \"px;\\n        overflow: auto\\n      }\\n      \"])), this.getMaxHeightForPcExpand(this.props.widgetHeight));\n    };\n    Layout.prototype.componentDidMount = function () {\n        if ((this.props.jimuMapView && this.props.jimuMapView.view && this.props.jimuMapView.view.ui && this.props.jimuMapView.view.ui.container)) {\n            this.props.jimuMapView.view.ui.container.appendChild(this.contentRef);\n        }\n    };\n    Layout.prototype.componentDidUpdate = function (prevProps) {\n        var _this = this;\n        if (prevProps.appMode !== this.props.appMode && this.props.appMode === jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"AppMode\"].Design) {\n            this.props.onActiveToolInfoChange(null);\n        }\n        if (prevProps.jimuMapView && prevProps.jimuMapView.view && prevProps.jimuMapView.view.ui) {\n            var cloneDoms = prevProps.jimuMapView.view.ui.container.getElementsByClassName('tool-layout-clone');\n            if (cloneDoms && cloneDoms.length > 0) {\n                for (var i = 0; i < cloneDoms.length; i++) {\n                    cloneDoms[i].remove();\n                }\n            }\n        }\n        if (prevProps.jimuMapView.id !== this.props.jimuMapView.id) {\n            this.cloneLayoutRef = this.contentRef.cloneNode(true);\n            this.cloneLayoutRef.classList.add('tool-layout-clone');\n            setTimeout(function () {\n                if (_this.cloneLayoutRef && _this.cloneLayoutRef.parentNode) {\n                    _this.cloneLayoutRef.parentNode.removeChild(_this.cloneLayoutRef);\n                }\n                _this.cloneLayoutRef = null;\n            }, 500);\n            if (prevProps.jimuMapView.view && prevProps.jimuMapView.view.ui && prevProps.jimuMapView.view.ui.container) {\n                prevProps.jimuMapView.view.ui.container.appendChild(this.cloneLayoutRef);\n                prevProps.jimuMapView.view.ui.container.removeChild(this.contentRef);\n            }\n            if (this.props.jimuMapView.view && this.props.jimuMapView.view.ui && this.props.jimuMapView.view.ui.container) {\n                this.props.jimuMapView.view.ui.container.appendChild(this.contentRef);\n            }\n        }\n    };\n    Layout.prototype.render = function () {\n        if (this.props.jimuMapView && this.props.jimuMapView.view && this.props.jimuMapView.view.ui && this.props.jimuMapView.view.ui.container) {\n            return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", null, jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"ReactDOM\"].createPortal(this.getLayoutContent(this.props.layoutConfig), this.contentRef));\n        }\n        else {\n            return null;\n        }\n    };\n    return Layout;\n}(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].PureComponent));\n/* harmony default export */ __webpack_exports__[\"default\"] = (Layout);\nvar templateObject_1;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvbGF5b3V0L2xheW91dC50c3guanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvbGF5b3V0L2xheW91dC50c3g/NTIwZSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiogQGpzeCBqc3ggKi9cbmltcG9ydCB7UmVhY3QsIFJlYWN0RE9NLCBjc3MsIGpzeCwgQXBwTW9kZSwgU2l6ZU1vZGVMYXlvdXRKc29uLCBJbnRsU2hhcGUsIElNVGhlbWVWYXJpYWJsZXN9IGZyb20gJ2ppbXUtY29yZSc7XG5pbXBvcnQge1Rvb2xDb25maWd9IGZyb20gJy4uLy4uL2NvbmZpZyc7XG5pbXBvcnQge0xheW91dEpzb24sIEdyb3VwSnNvbiwgSGlkZGVuRWxlbWVudE5hbWVzfSBmcm9tICcuL2NvbmZpZyc7XG5pbXBvcnQgR3JvdXAgZnJvbSAnLi9iYXNlL2dyb3VwJztcbmltcG9ydCB0eXBlIHtBY3RpdmVUb29sSW5mb30gZnJvbSAnLi9iYXNlL2Jhc2UtdG9vbCc7XG5pbXBvcnQge0ppbXVNYXBWaWV3fSBmcm9tICdqaW11LWFyY2dpcyc7XG5cbmludGVyZmFjZSBMYXlvdXRQcm9wcyB7XG4gIG1hcFdpZGdldElkOiBzdHJpbmc7XG4gIGxheW91dENvbmZpZzogTGF5b3V0SnNvbjtcbiAgdG9vbENvbmZpZzogVG9vbENvbmZpZztcblxuICBqaW11TWFwVmlldzogSmltdU1hcFZpZXc7XG4gIGlzTW9iaWxlOiBib29sZWFuO1xuICB0aGVtZTogSU1UaGVtZVZhcmlhYmxlcztcblxuICBhcHBNb2RlOiBBcHBNb2RlO1xuICBsYXlvdXRzOiB7IFtuYW1lOiBzdHJpbmddOiBTaXplTW9kZUxheW91dEpzb24gfTtcbiAgTGF5b3V0RW50cnk/OiBhbnk7XG4gIHdpZGdldE1hbmlmZXN0TmFtZTogc3RyaW5nO1xuXG4gIHdpZGdldEhlaWdodD86IG51bWJlcjtcbiAgaW50bD86IEludGxTaGFwZTtcblxuICBhY3RpdmVUb29sSW5mbzogQWN0aXZlVG9vbEluZm87XG4gIG9uQWN0aXZlVG9vbEluZm9DaGFuZ2U6IChhY3RpdmVUb29sSW5mbzogQWN0aXZlVG9vbEluZm8pID0+IHZvaWQ7XG59XG5cbmludGVyZmFjZSBMYXlvdXRTdGF0ZSB7XG5cbiAgdG9vbHNDb250ZW50SW5Nb2JpbGVFeHBhbmRQYW5lbD86IEpTWC5FbGVtZW50O1xuICBoaWRkZW5FbGVtZW50TmFtZXM6IEhpZGRlbkVsZW1lbnROYW1lcztcbn1cblxuZXhwb3J0IHtBY3RpdmVUb29sSW5mb307XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExheW91dCBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQ8TGF5b3V0UHJvcHMsIExheW91dFN0YXRlPntcbiAgY29udGVudFJlZjogSFRNTEVsZW1lbnQ7XG4gIC8vdGhpcyBpdGVtIGlzIHVzZWQgdG8gc29sdmUgdGhlIGZsYXNoIGlzc3VlIHdoZW4gc3dpdGggbXVsaXRpbWFwXG4gIGNsb25lTGF5b3V0UmVmOiBIVE1MRWxlbWVudCB8IE5vZGUgPSBudWxsO1xuXG4gIGNvbnN0cnVjdG9yKHByb3BzKXtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgdG9vbHNDb250ZW50SW5Nb2JpbGVFeHBhbmRQYW5lbDogbnVsbCxcbiAgICAgIGhpZGRlbkVsZW1lbnROYW1lczogW11cbiAgICB9XG5cbiAgICB0aGlzLmNvbnRlbnRSZWYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0aGlzLmNvbnRlbnRSZWYuY2xhc3NOYW1lID0gJ2V4Ym1hcC11aSBlc3JpLXVpLWlubmVyLWNvbnRhaW5lciBleGJtYXAtdWktbGF5b3V0JztcbiAgfVxuXG4gIGdldFN0eWxlKCkge1xuICAgIHJldHVybiBjc3NgXG4gICAgICB6LWluZGV4OiAwO1xuXG4gICAgICAuZXhwYW5kLXBhbmVsLXRyYW5zaXRpb24ge1xuICAgICAgICB0cmFuc2l0aW9uOiBvcGFjaXR5IDAuM3MsIHJpZ2h0IDAuM3M7XG4gICAgICB9XG5cbiAgICAgIC5zY2FsZS1hdHRyaWJ1dGlvbi14eS1ncm91cCB7XG4gICAgICAgID4gZGl2OmZpcnN0LW9mLXR5cGU6bnRoLWxhc3Qtb2YtdHlwZSgxKSB7XG4gICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgICAgbWF4LXdpZHRoOiAxMDAlICFpbXBvcnRhbnQ7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLmV4Ym1hcC11aS1oaWRkZW4tZWxlbWVudCB7XG4gICAgICAgIGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDtcbiAgICAgIH1cbi8qIFxuICAgICAgLmV4Ym1hcC1iYXNldG9vbC1sb2FkZXIge1xuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgIHRvcDogMDtcbiAgICAgICAgbGVmdDogMDtcbiAgICAgICAgcmlnaHQ6IDA7XG4gICAgICAgIGhlaWdodDogMnB4O1xuICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgYW5pbWF0aW9uOiBlc3JpLWZhZGUtaW4gNTAwbXMgZWFzZS1pbi1vdXQ7XG4gICAgICB9XG5cbiAgICAgIC5leGJtYXAtYmFzZXRvb2wtbG9hZGVyOmJlZm9yZSB7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMTEwLDExMCwxMTAsMC4zKTtcbiAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgIHotaW5kZXg6IDA7XG4gICAgICAgIGNvbnRlbnQ6IFwiXCI7XG4gICAgICAgIG9wYWNpdHk6IDE7XG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgaGVpZ2h0OiAycHg7XG4gICAgICAgIHRvcDogMDtcbiAgICAgICAgdHJhbnNpdGlvbjogb3BhY2l0eSA1MDBtcyBlYXNlLWluLW91dDtcbiAgICAgIH1cblxuICAgICAgLmV4Ym1hcC1iYXNldG9vbC1sb2FkZXI6YWZ0ZXIge1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNmU2ZTZlO1xuICAgICAgICB3aWR0aDogMjAlO1xuICAgICAgICB6LWluZGV4OiAwO1xuICAgICAgICBhbmltYXRpb246IGxvb3BpbmctcHJvZ3Jlc3NzLWJhci1hbmkgMTUwMG1zIGxpbmVhciBpbmZpbml0ZTtcbiAgICAgICAgY29udGVudDogXCJcIjtcbiAgICAgICAgb3BhY2l0eTogMTtcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICBoZWlnaHQ6IDJweDtcbiAgICAgICAgdG9wOiAwO1xuICAgICAgICB0cmFuc2l0aW9uOiBvcGFjaXR5IDUwMG1zIGVhc2UtaW4tb3V0O1xuICAgICAgfSAqL1xuXG4gICAgICAuZXhibWFwLXVpLXBjLWV4cGFuZC1tYXhoZWlnaHQge1xuICAgICAgICBtYXgtaGVpZ2h0OiAke3RoaXMuZ2V0TWF4SGVpZ2h0Rm9yUGNFeHBhbmQodGhpcy5wcm9wcy53aWRnZXRIZWlnaHQpfXB4O1xuICAgICAgICBvdmVyZmxvdzogYXV0b1xuICAgICAgfVxuICAgICAgYDtcbiAgfVxuXG4gIGdldE1heEhlaWdodEZvclBjRXhwYW5kID0gKHdpZGdldEhlaWdodDogbnVtYmVyKTogbnVtYmVyID0+IHtcbiAgICBpZiAoIXdpZGdldEhlaWdodCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICh3aWRnZXRIZWlnaHQgPCA2NSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdEhlaWdodCA9IHdpZGdldEhlaWdodCAtIDY1O1xuICAgICAgICBpZiAocmVzdWx0SGVpZ2h0IDwgMzAwKSB7XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdEhlaWdodDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gMzAwO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaGFuZFNldEhpZGRlbkVsZW1lbnROYW1lcyA9IChlbGVtZW50TmFtZXM6IEhpZGRlbkVsZW1lbnROYW1lcykgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgaGlkZGVuRWxlbWVudE5hbWVzOiBlbGVtZW50TmFtZXNcbiAgICB9KTtcbiAgfVxuXG4gIGdldExheW91dENvbnRlbnQgPSAobGF5b3V0SnNvbjogTGF5b3V0SnNvbikgPT4ge1xuICAgIGlmICghbGF5b3V0SnNvbiB8fCAhdGhpcy5wcm9wcy50b29sQ29uZmlnKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIDxkaXYgY3NzPXt0aGlzLmdldFN0eWxlKCl9PlxuICAgICAgICB7T2JqZWN0LmtleXMobGF5b3V0SnNvbi5sYXlvdXQpLm1hcCgoa2V5LCBpbmRleCkgPT4ge1xuICAgICAgICAgIGlmICghbGF5b3V0SnNvbi5lbGVtZW50c1trZXldIHx8IGxheW91dEpzb24uZWxlbWVudHNba2V5XS50eXBlICE9PSAnR1JPVVAnIHx8ICFsYXlvdXRKc29uLmxheW91dFtrZXldLnBvc2l0aW9uKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiA8R3JvdXAgbWFwV2lkZ2V0SWQ9e3RoaXMucHJvcHMubWFwV2lkZ2V0SWR9IGNsYXNzTmFtZT17KGxheW91dEpzb24uZWxlbWVudHNba2V5XSBhcyBHcm91cEpzb24pLmNsYXNzTmFtZX0gc3R5bGU9eyhsYXlvdXRKc29uLmVsZW1lbnRzW2tleV0gYXMgR3JvdXBKc29uKS5zdHlsZX1cbiAgICAgICAgICAgIGlzUmVzcG9uc2l2ZT17KGxheW91dEpzb24uZWxlbWVudHNba2V5XSBhcyBHcm91cEpzb24pLmlzUmVzcG9uc2l2ZX0gaXNNb2JpbGU9e3RoaXMucHJvcHMuaXNNb2JpbGV9IGlzTWFpbkdyb3VwPXt0cnVlfVxuICAgICAgICAgICAga2V5PXtpbmRleH0gbGF5b3V0Q29uZmlnPXtsYXlvdXRKc29ufSB0b29sQ29uZmlnPXt0aGlzLnByb3BzLnRvb2xDb25maWd9IGFjdGl2ZVRvb2xJbmZvPXt0aGlzLnByb3BzLmFjdGl2ZVRvb2xJbmZvfVxuICAgICAgICAgICAgamltdU1hcFZpZXc9e3RoaXMucHJvcHMuamltdU1hcFZpZXd9IGdyb3VwTmFtZT17a2V5fSBvbkFjdGl2ZVRvb2xJbmZvQ2hhbmdlPXt0aGlzLnByb3BzLm9uQWN0aXZlVG9vbEluZm9DaGFuZ2V9XG4gICAgICAgICAgICBoaWRkZW5FbGVtZW50TmFtZXM9e2xheW91dEpzb24ubW9iaWxlUmVzcG9uc2l2ZVN0cmF0ZWd5ICYmIHRoaXMuc3RhdGUuaGlkZGVuRWxlbWVudE5hbWVzfSBpbnRsPXt0aGlzLnByb3BzLmludGx9XG4gICAgICAgICAgICBvblNldEhpZGRlbkVsZW1lbnROYW1lcz17dGhpcy5oYW5kU2V0SGlkZGVuRWxlbWVudE5hbWVzfSB0aGVtZT17dGhpcy5wcm9wcy50aGVtZX0+PC9Hcm91cD5cbiAgICAgICAgfSl9XG4gICAgICA8L2Rpdj5cbiAgICB9XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBpZiAoKHRoaXMucHJvcHMuamltdU1hcFZpZXcgJiYgdGhpcy5wcm9wcy5qaW11TWFwVmlldy52aWV3ICYmIHRoaXMucHJvcHMuamltdU1hcFZpZXcudmlldy51aSAmJiB0aGlzLnByb3BzLmppbXVNYXBWaWV3LnZpZXcudWkuY29udGFpbmVyKSkge1xuICAgICAgdGhpcy5wcm9wcy5qaW11TWFwVmlldy52aWV3LnVpLmNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLmNvbnRlbnRSZWYpO1xuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudERpZFVwZGF0ZShwcmV2UHJvcHM6IExheW91dFByb3BzKSB7XG4gICAgaWYgKHByZXZQcm9wcy5hcHBNb2RlICE9PSB0aGlzLnByb3BzLmFwcE1vZGUgJiYgdGhpcy5wcm9wcy5hcHBNb2RlID09PSBBcHBNb2RlLkRlc2lnbikge1xuICAgICAgdGhpcy5wcm9wcy5vbkFjdGl2ZVRvb2xJbmZvQ2hhbmdlKG51bGwpO1xuICAgIH1cblxuICAgIGlmKHByZXZQcm9wcy5qaW11TWFwVmlldyAmJiBwcmV2UHJvcHMuamltdU1hcFZpZXcudmlldyAmJiBwcmV2UHJvcHMuamltdU1hcFZpZXcudmlldy51aSkge1xuICAgICAgY29uc3QgY2xvbmVEb21zID0gcHJldlByb3BzLmppbXVNYXBWaWV3LnZpZXcudWkuY29udGFpbmVyLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3Rvb2wtbGF5b3V0LWNsb25lJyk7XG4gICAgICBpZiAoY2xvbmVEb21zICYmIGNsb25lRG9tcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2xvbmVEb21zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgY2xvbmVEb21zW2ldLnJlbW92ZSgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHByZXZQcm9wcy5qaW11TWFwVmlldy5pZCAhPT0gdGhpcy5wcm9wcy5qaW11TWFwVmlldy5pZCkge1xuICAgICAgdGhpcy5jbG9uZUxheW91dFJlZiA9IHRoaXMuY29udGVudFJlZi5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgICAodGhpcy5jbG9uZUxheW91dFJlZiBhcyBIVE1MRWxlbWVudCkuY2xhc3NMaXN0LmFkZCgndG9vbC1sYXlvdXQtY2xvbmUnKTtcblxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLmNsb25lTGF5b3V0UmVmICYmIHRoaXMuY2xvbmVMYXlvdXRSZWYucGFyZW50Tm9kZSkge1xuICAgICAgICAgIHRoaXMuY2xvbmVMYXlvdXRSZWYucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmNsb25lTGF5b3V0UmVmKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNsb25lTGF5b3V0UmVmID0gbnVsbDtcbiAgICAgIH0sIDUwMClcblxuICAgICAgaWYgKHByZXZQcm9wcy5qaW11TWFwVmlldy52aWV3ICYmIHByZXZQcm9wcy5qaW11TWFwVmlldy52aWV3LnVpICYmIHByZXZQcm9wcy5qaW11TWFwVmlldy52aWV3LnVpLmNvbnRhaW5lcikge1xuICAgICAgICBwcmV2UHJvcHMuamltdU1hcFZpZXcudmlldy51aS5jb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5jbG9uZUxheW91dFJlZik7XG4gICAgICAgIHByZXZQcm9wcy5qaW11TWFwVmlldy52aWV3LnVpLmNvbnRhaW5lci5yZW1vdmVDaGlsZCh0aGlzLmNvbnRlbnRSZWYpO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5wcm9wcy5qaW11TWFwVmlldy52aWV3ICYmIHRoaXMucHJvcHMuamltdU1hcFZpZXcudmlldy51aSAmJiB0aGlzLnByb3BzLmppbXVNYXBWaWV3LnZpZXcudWkuY29udGFpbmVyKSB7XG4gICAgICAgIHRoaXMucHJvcHMuamltdU1hcFZpZXcudmlldy51aS5jb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5jb250ZW50UmVmKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuamltdU1hcFZpZXcgJiYgdGhpcy5wcm9wcy5qaW11TWFwVmlldy52aWV3ICYmIHRoaXMucHJvcHMuamltdU1hcFZpZXcudmlldy51aSAmJiB0aGlzLnByb3BzLmppbXVNYXBWaWV3LnZpZXcudWkuY29udGFpbmVyKSB7XG4gICAgICByZXR1cm4gPGRpdj5cbiAgICAgICAge1JlYWN0RE9NLmNyZWF0ZVBvcnRhbCh0aGlzLmdldExheW91dENvbnRlbnQodGhpcy5wcm9wcy5sYXlvdXRDb25maWcpLCB0aGlzLmNvbnRlbnRSZWYpfVxuICAgICAgPC9kaXY+O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cbn0iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFHQTtBQWlDQTtBQUFBO0FBS0E7QUFBQTtBQUhBO0FBQ0E7QUEyRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFNQTtBQUVBO0FBQ0E7QUFoSEE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBOztBQUNBO0FBRUE7QUFDQTtBQTBEQTtBQThDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFHQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTs7OyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/layout.tsx\n");

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/map-fixed-layout.tsx":
/*!**************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/map-fixed-layout.tsx ***!
  \**************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jimu_core__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-layouts/layout-runtime */ \"jimu-layouts/layout-runtime\");\n/* harmony import */ var jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/utils.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/** @jsx jsx */\n\n\n\nvar Layout = /** @class */ (function (_super) {\n    __extends(Layout, _super);\n    function Layout(props) {\n        var _this = _super.call(this, props) || this;\n        //this item is used to solve the flash issue when swith mulitimap\n        _this.cloneLayoutRef = null;\n        _this.insertFixedDom = function (container, insertedDom) {\n            if (!container || !insertedDom) {\n                return;\n            }\n            var toolLayoutDoms = container.getElementsByClassName('exbmap-ui-layout');\n            if (toolLayoutDoms && toolLayoutDoms[0]) {\n                container.insertBefore(insertedDom, toolLayoutDoms[0]);\n            }\n            else {\n                container.appendChild(insertedDom);\n            }\n        };\n        _this.isItemAccepted = function (item, isReplacePlaceholder) {\n            var _a, _b;\n            var itemType = item === null || item === void 0 ? void 0 : item.itemType;\n            var type = (_a = item === null || item === void 0 ? void 0 : item.manifest) === null || _a === void 0 ? void 0 : _a.widgetType;\n            return itemType !== jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"LayoutItemType\"].Section && type !== jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"WidgetType\"].Layout && ((_b = item === null || item === void 0 ? void 0 : item.manifest) === null || _b === void 0 ? void 0 : _b.name) !== _this.props.widgetManifestName;\n        };\n        _this.getMapFixedLayout = function () {\n            if (window.jimuConfig.isInBuilder) {\n                var LayoutEntry = _this.props.LayoutEntry;\n                var layout = _this.props.layouts && _this.props.layouts['MapFixedLayout'];\n                return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(LayoutEntry, { layouts: layout ? layout : null, isInWidget: true, className: Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"classNames\"])('w-100 h-100', { 'widget-map-usemask': !Object(_utils__WEBPACK_IMPORTED_MODULE_2__[\"checkIsLive\"])(_this.props.appMode), 'map-is-live-mode': Object(_utils__WEBPACK_IMPORTED_MODULE_2__[\"checkIsLive\"])(_this.props.appMode) }), isItemAccepted: _this.isItemAccepted });\n            }\n            else {\n                var layout = _this.props.layouts && _this.props.layouts['MapFixedLayout'];\n                return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_1__[\"FixedLayoutViewer\"], { layouts: layout ? Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"Immutable\"])(layout) : null, className: \"w-100 h-100 map-is-live-mode\" });\n            }\n        };\n        _this.state = {};\n        _this.fixedLayoutRef = document.createElement('div');\n        _this.fixedLayoutRef.className = 'w-100 h-100';\n        _this.fixedLayoutRef.style.position = 'absolute';\n        _this.fixedLayoutRef.style.zIndex = '0';\n        return _this;\n    }\n    Layout.prototype.componentDidMount = function () {\n        if ((this.props.jimuMapView && this.props.jimuMapView.view && this.props.jimuMapView.view.ui && this.props.jimuMapView.view.ui.container)) {\n            this.insertFixedDom(this.props.jimuMapView.view.ui.container, this.fixedLayoutRef);\n        }\n    };\n    Layout.prototype.componentDidUpdate = function (prevProps, prevState) {\n        var _this = this;\n        if (!prevProps.jimuMapView || !this.props.jimuMapView) {\n            return;\n        }\n        if (prevProps.jimuMapView && prevProps.jimuMapView.view && prevProps.jimuMapView.view.ui) {\n            var cloneDoms = prevProps.jimuMapView.view.ui.container.getElementsByClassName('layout-clone');\n            if (cloneDoms && cloneDoms.length > 0) {\n                for (var i = 0; i < cloneDoms.length; i++) {\n                    cloneDoms[i].remove();\n                }\n            }\n        }\n        if (prevProps.jimuMapView.id !== this.props.jimuMapView.id) {\n            if (prevProps.jimuMapView && prevProps.jimuMapView.view && prevProps.jimuMapView.view.ui) {\n                this.cloneLayoutRef = this.fixedLayoutRef.cloneNode(true);\n                this.cloneLayoutRef.classList.add('layout-clone');\n                this.insertFixedDom(prevProps.jimuMapView.view.ui.container, this.cloneLayoutRef);\n                setTimeout(function () {\n                    if (_this.cloneLayoutRef && _this.cloneLayoutRef.parentNode) {\n                        _this.cloneLayoutRef.parentNode.removeChild(_this.cloneLayoutRef);\n                    }\n                    _this.cloneLayoutRef = null;\n                }, 500);\n                prevProps.jimuMapView.view.ui.container.removeChild(this.fixedLayoutRef);\n            }\n            this.props.jimuMapView && this.props.jimuMapView.view && this.insertFixedDom(this.props.jimuMapView.view.ui.container, this.fixedLayoutRef);\n        }\n    };\n    Layout.prototype.render = function () {\n        if (this.props.jimuMapView && this.props.jimuMapView.view && this.props.jimuMapView.view.ui && this.props.jimuMapView.view.ui.container) {\n            return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", null, jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"ReactDOM\"].createPortal(this.getMapFixedLayout(), this.fixedLayoutRef));\n        }\n        else {\n            return this.getMapFixedLayout();\n        }\n    };\n    return Layout;\n}(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].PureComponent));\n/* harmony default export */ __webpack_exports__[\"default\"] = (Layout);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvbGF5b3V0L21hcC1maXhlZC1sYXlvdXQudHN4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vZXh0ZW5zaW9ucy93aWRnZXRzL2FyY2dpcy9hcmNnaXMtbWFwL3NyYy9ydW50aW1lL2xheW91dC9tYXAtZml4ZWQtbGF5b3V0LnRzeD9mZjQ1Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKiBAanN4IGpzeCAqL1xuaW1wb3J0IHtSZWFjdCwgUmVhY3RET00sIGpzeCwgQXBwTW9kZSwgU2l6ZU1vZGVMYXlvdXRKc29uLCBJbW11dGFibGUsIExheW91dEl0ZW1Db25zdHJ1Y3RvclByb3BzLCBMYXlvdXRJdGVtVHlwZSwgV2lkZ2V0VHlwZSwgY2xhc3NOYW1lc30gZnJvbSAnamltdS1jb3JlJztcbmltcG9ydCB7SmltdU1hcFZpZXd9IGZyb20gJ2ppbXUtYXJjZ2lzJztcbmltcG9ydCB7IEZpeGVkTGF5b3V0Vmlld2VyIH0gZnJvbSAnamltdS1sYXlvdXRzL2xheW91dC1ydW50aW1lJztcbmltcG9ydCB7IGNoZWNrSXNMaXZlIH0gZnJvbSAnLi4vdXRpbHMnO1xuXG5pbnRlcmZhY2UgTGF5b3V0UHJvcHMge1xuICBqaW11TWFwVmlldz86IEppbXVNYXBWaWV3O1xuXG4gIGFwcE1vZGU6IEFwcE1vZGU7XG4gIGxheW91dHM6IHsgW25hbWU6IHN0cmluZ106IFNpemVNb2RlTGF5b3V0SnNvbiB9O1xuICBMYXlvdXRFbnRyeT86IGFueTtcbiAgd2lkZ2V0TWFuaWZlc3ROYW1lOiBzdHJpbmc7XG59XG5cbmludGVyZmFjZSBMYXlvdXRTdGF0ZSB7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExheW91dCBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQ8TGF5b3V0UHJvcHMsIExheW91dFN0YXRlPntcbiAgZml4ZWRMYXlvdXRSZWY6IEhUTUxFbGVtZW50O1xuICAvL3RoaXMgaXRlbSBpcyB1c2VkIHRvIHNvbHZlIHRoZSBmbGFzaCBpc3N1ZSB3aGVuIHN3aXRoIG11bGl0aW1hcFxuICBjbG9uZUxheW91dFJlZjogSFRNTEVsZW1lbnQgfCBOb2RlID0gbnVsbDtcblxuICBjb25zdHJ1Y3Rvcihwcm9wcyl7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHt9XG5cbiAgICB0aGlzLmZpeGVkTGF5b3V0UmVmID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcy5maXhlZExheW91dFJlZi5jbGFzc05hbWUgPSAndy0xMDAgaC0xMDAnO1xuICAgIHRoaXMuZml4ZWRMYXlvdXRSZWYuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgIHRoaXMuZml4ZWRMYXlvdXRSZWYuc3R5bGUuekluZGV4ID0gJzAnO1xuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgaWYgKCh0aGlzLnByb3BzLmppbXVNYXBWaWV3ICYmIHRoaXMucHJvcHMuamltdU1hcFZpZXcudmlldyAmJiB0aGlzLnByb3BzLmppbXVNYXBWaWV3LnZpZXcudWkgJiYgdGhpcy5wcm9wcy5qaW11TWFwVmlldy52aWV3LnVpLmNvbnRhaW5lcikpIHtcbiAgICAgIHRoaXMuaW5zZXJ0Rml4ZWREb20odGhpcy5wcm9wcy5qaW11TWFwVmlldy52aWV3LnVpLmNvbnRhaW5lciwgdGhpcy5maXhlZExheW91dFJlZik7XG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wczogTGF5b3V0UHJvcHMsIHByZXZTdGF0ZTogTGF5b3V0U3RhdGUpe1xuICAgIGlmICghcHJldlByb3BzLmppbXVNYXBWaWV3IHx8ICF0aGlzLnByb3BzLmppbXVNYXBWaWV3KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYocHJldlByb3BzLmppbXVNYXBWaWV3ICYmIHByZXZQcm9wcy5qaW11TWFwVmlldy52aWV3ICYmIHByZXZQcm9wcy5qaW11TWFwVmlldy52aWV3LnVpKSB7XG4gICAgICBjb25zdCBjbG9uZURvbXMgPSBwcmV2UHJvcHMuamltdU1hcFZpZXcudmlldy51aS5jb250YWluZXIuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnbGF5b3V0LWNsb25lJyk7XG4gICAgICBpZiAoY2xvbmVEb21zICYmIGNsb25lRG9tcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2xvbmVEb21zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgY2xvbmVEb21zW2ldLnJlbW92ZSgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHByZXZQcm9wcy5qaW11TWFwVmlldy5pZCAhPT0gdGhpcy5wcm9wcy5qaW11TWFwVmlldy5pZCkge1xuICAgICAgaWYocHJldlByb3BzLmppbXVNYXBWaWV3ICYmIHByZXZQcm9wcy5qaW11TWFwVmlldy52aWV3ICYmIHByZXZQcm9wcy5qaW11TWFwVmlldy52aWV3LnVpKSB7XG5cbiAgICAgICAgdGhpcy5jbG9uZUxheW91dFJlZiA9IHRoaXMuZml4ZWRMYXlvdXRSZWYuY2xvbmVOb2RlKHRydWUpO1xuICAgICAgICAodGhpcy5jbG9uZUxheW91dFJlZiBhcyBIVE1MRWxlbWVudCkuY2xhc3NMaXN0LmFkZCgnbGF5b3V0LWNsb25lJyk7XG4gICAgICAgIHRoaXMuaW5zZXJ0Rml4ZWREb20ocHJldlByb3BzLmppbXVNYXBWaWV3LnZpZXcudWkuY29udGFpbmVyLCB0aGlzLmNsb25lTGF5b3V0UmVmKTtcblxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICBpZiAodGhpcy5jbG9uZUxheW91dFJlZiAmJiB0aGlzLmNsb25lTGF5b3V0UmVmLnBhcmVudE5vZGUpIHtcbiAgICAgICAgICAgIHRoaXMuY2xvbmVMYXlvdXRSZWYucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmNsb25lTGF5b3V0UmVmKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5jbG9uZUxheW91dFJlZiA9IG51bGw7XG4gICAgICAgIH0sIDUwMClcblxuICAgICAgICBwcmV2UHJvcHMuamltdU1hcFZpZXcudmlldy51aS5jb250YWluZXIucmVtb3ZlQ2hpbGQodGhpcy5maXhlZExheW91dFJlZik7XG4gICAgICB9XG4gICAgICB0aGlzLnByb3BzLmppbXVNYXBWaWV3ICYmIHRoaXMucHJvcHMuamltdU1hcFZpZXcudmlldyAmJiB0aGlzLmluc2VydEZpeGVkRG9tKHRoaXMucHJvcHMuamltdU1hcFZpZXcudmlldy51aS5jb250YWluZXIsIHRoaXMuZml4ZWRMYXlvdXRSZWYpO1xuICAgIH1cbiAgfVxuXG4gIGluc2VydEZpeGVkRG9tID0gKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsIGluc2VydGVkRG9tKSA9PiB7XG4gICAgaWYgKCFjb250YWluZXIgfHwgIWluc2VydGVkRG9tKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgdG9vbExheW91dERvbXMgPSBjb250YWluZXIuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnZXhibWFwLXVpLWxheW91dCcpO1xuICAgIGlmICh0b29sTGF5b3V0RG9tcyAmJiB0b29sTGF5b3V0RG9tc1swXSkge1xuICAgICAgY29udGFpbmVyLmluc2VydEJlZm9yZShpbnNlcnRlZERvbSwgdG9vbExheW91dERvbXNbMF0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoaW5zZXJ0ZWREb20pO1xuICAgIH1cbiAgfVxuXG4gIGlzSXRlbUFjY2VwdGVkID0gKGl0ZW06IExheW91dEl0ZW1Db25zdHJ1Y3RvclByb3BzLCBpc1JlcGxhY2VQbGFjZWhvbGRlcjogYm9vbGVhbik6IGJvb2xlYW4gPT4ge1xuICAgIGNvbnN0IGl0ZW1UeXBlID0gaXRlbT8uaXRlbVR5cGU7XG4gICAgY29uc3QgdHlwZSA9IGl0ZW0/Lm1hbmlmZXN0Py53aWRnZXRUeXBlO1xuXG4gICAgcmV0dXJuIGl0ZW1UeXBlICE9PSBMYXlvdXRJdGVtVHlwZS5TZWN0aW9uICYmIHR5cGUgIT09IFdpZGdldFR5cGUuTGF5b3V0ICYmIGl0ZW0/Lm1hbmlmZXN0Py5uYW1lICE9PSB0aGlzLnByb3BzLndpZGdldE1hbmlmZXN0TmFtZTtcbiAgfVxuXG4gIGdldE1hcEZpeGVkTGF5b3V0ID0gKCkgPT4ge1xuICAgIGlmICh3aW5kb3cuamltdUNvbmZpZy5pc0luQnVpbGRlcikge1xuICAgICAgY29uc3QgTGF5b3V0RW50cnkgPSB0aGlzLnByb3BzLkxheW91dEVudHJ5O1xuICAgICAgY29uc3QgbGF5b3V0ID0gdGhpcy5wcm9wcy5sYXlvdXRzICYmIHRoaXMucHJvcHMubGF5b3V0c1snTWFwRml4ZWRMYXlvdXQnXTtcbiAgICAgIHJldHVybiA8TGF5b3V0RW50cnkgbGF5b3V0cz17bGF5b3V0ID8gbGF5b3V0IDogbnVsbH0gaXNJbldpZGdldD17dHJ1ZX0gY2xhc3NOYW1lPXtjbGFzc05hbWVzKCd3LTEwMCBoLTEwMCcsXG4gICAgICAgIHsnd2lkZ2V0LW1hcC11c2VtYXNrJzogIWNoZWNrSXNMaXZlKHRoaXMucHJvcHMuYXBwTW9kZSksICdtYXAtaXMtbGl2ZS1tb2RlJzogY2hlY2tJc0xpdmUodGhpcy5wcm9wcy5hcHBNb2RlKX0pfVxuICAgICAgaXNJdGVtQWNjZXB0ZWQ9e3RoaXMuaXNJdGVtQWNjZXB0ZWR9PlxuICAgICAgPC9MYXlvdXRFbnRyeT5cbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgbGF5b3V0ID0gdGhpcy5wcm9wcy5sYXlvdXRzICYmIHRoaXMucHJvcHMubGF5b3V0c1snTWFwRml4ZWRMYXlvdXQnXTtcbiAgICAgIHJldHVybiA8Rml4ZWRMYXlvdXRWaWV3ZXIgbGF5b3V0cz17bGF5b3V0ID8gSW1tdXRhYmxlKGxheW91dCkgOiBudWxsfSBjbGFzc05hbWU9XCJ3LTEwMCBoLTEwMCBtYXAtaXMtbGl2ZS1tb2RlXCI+PC9GaXhlZExheW91dFZpZXdlcj47XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICh0aGlzLnByb3BzLmppbXVNYXBWaWV3ICYmIHRoaXMucHJvcHMuamltdU1hcFZpZXcudmlldyAmJiB0aGlzLnByb3BzLmppbXVNYXBWaWV3LnZpZXcudWkgJiYgdGhpcy5wcm9wcy5qaW11TWFwVmlldy52aWV3LnVpLmNvbnRhaW5lcikge1xuICAgICAgcmV0dXJuIDxkaXY+XG4gICAgICAgIHtSZWFjdERPTS5jcmVhdGVQb3J0YWwodGhpcy5nZXRNYXBGaXhlZExheW91dCgpLCB0aGlzLmZpeGVkTGF5b3V0UmVmKX1cbiAgICAgIDwvZGl2PjtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0TWFwRml4ZWRMYXlvdXQoKTtcbiAgICB9XG4gIH1cbn0iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQWNBO0FBQUE7QUFLQTtBQUFBO0FBSEE7QUFDQTtBQXFEQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFoRkE7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBb0NBO0FBQ0E7QUFDQTtBQUdBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBOzsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/map-fixed-layout.tsx\n");

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/mobile-layout-json.ts":
/*!***************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/mobile-layout-json.ts ***!
  \***************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* tslint:disable */\nvar mobileLayoutJson = {\n    elements: {\n        'mainGroup': {\n            type: 'GROUP',\n            groupName: 'mainGroup',\n            direction: 'vertical',\n            style: {\n                position: 'absolute'\n            },\n            className: 'd-flex flex-column'\n        },\n        'topGroup': {\n            type: 'GROUP',\n            groupName: 'topGroup',\n            direction: 'horizontal',\n            className: 'd-flex w-100 align-items-center justify-content-between',\n            style: {\n                padding: '10px'\n            }\n        },\n        'midGroup': {\n            type: 'GROUP',\n            groupName: 'midGroup',\n            direction: 'horizontal',\n            className: 'flex-grow-1 d-flex w-100 justify-content-between',\n            style: {\n                position: 'relative'\n            }\n        },\n        'midGroup-left': {\n            type: 'GROUP',\n            groupName: 'midGroup-left',\n            direction: 'vertical',\n            className: 'h-100 d-flex flex-column-reverse',\n            style: {\n                paddingLeft: '10px',\n                paddingRight: '10px',\n                paddingBottom: '10px',\n                position: 'absolute',\n                top: 0,\n                left: 0,\n                bottom: 0\n            }\n        },\n        'midGroup-left-content': {\n            type: 'GROUP',\n            groupName: 'midGroup-left-content',\n            direction: 'vertical'\n        },\n        'midGroup-right': {\n            type: 'GROUP',\n            groupName: 'midGroup-right',\n            direction: 'vertical',\n            className: 'h-100 d-flex flex-column justify-content-between',\n            style: {\n                paddingRight: '10px',\n                paddingLeft: '10px',\n                paddingBottom: '10px',\n                position: 'absolute',\n                top: 0,\n                right: 0,\n                bottom: 0\n            }\n        },\n        'midGroup-right-content-top': {\n            type: 'GROUP',\n            groupName: 'midGroup-right-content-top',\n            direction: 'vertical'\n        },\n        'midGroup-right-content-bottom': {\n            type: 'GROUP',\n            groupName: 'midGroup-right-content-bottom',\n            direction: 'vertical'\n        },\n        'bottomGroup': {\n            type: 'GROUP',\n            groupName: 'bottomGroup',\n            direction: 'vertical'\n        },\n        'Search': {\n            type: 'TOOL',\n            toolName: 'Search',\n            isOnlyExpanded: true,\n            isShowIconTitle: false,\n            className: 'flex-grow-1'\n        },\n        'FullScreen': {\n            type: 'TOOL',\n            toolName: 'FullScreen',\n            isOnlyExpanded: false,\n            isShowIconTitle: true\n        },\n        'Locate': {\n            type: 'TOOL',\n            toolName: 'Locate',\n            isOnlyExpanded: true,\n            isShowIconTitle: false\n        },\n        'Compass': {\n            type: 'TOOL',\n            toolName: 'Compass',\n            isOnlyExpanded: true,\n            isShowIconTitle: false,\n            className: 'mb-0'\n        },\n        'MapSwitch': {\n            type: 'TOOL',\n            toolName: 'MapSwitch',\n            isOnlyExpanded: true,\n            isShowIconTitle: true\n        },\n        'Zoom': {\n            type: 'TOOL',\n            toolName: 'Zoom',\n            isOnlyExpanded: true,\n            isShowIconTitle: false\n        },\n        'Home': {\n            type: 'TOOL',\n            toolName: 'Home',\n            isOnlyExpanded: true,\n            isShowIconTitle: false\n        },\n        'Layers': {\n            type: 'TOOL',\n            toolName: 'Layers',\n            isOnlyExpanded: false,\n            isShowIconTitle: true,\n            panelPlacement: 'left-start'\n        },\n        'BaseMap': {\n            type: 'TOOL',\n            toolName: 'BaseMap',\n            isOnlyExpanded: false,\n            isShowIconTitle: true,\n            panelPlacement: 'left-start'\n        },\n        'Select': {\n            type: 'TOOL',\n            toolName: 'Select',\n            isOnlyExpanded: true,\n            isShowIconTitle: false\n        },\n        'SelectState': {\n            type: 'TOOL',\n            toolName: 'SelectState',\n            isOnlyExpanded: true,\n            isShowIconTitle: false,\n        },\n        'Measure': {\n            type: 'TOOL',\n            toolName: 'Measure',\n            isOnlyExpanded: false,\n            isShowIconTitle: true,\n            panelPlacement: 'left-start'\n        }\n    },\n    layout: {\n        'mainGroup': {\n            children: ['topGroup', 'midGroup', 'bottomGroup'],\n            position: {\n                top: 0,\n                left: 0,\n                bottom: 0,\n                right: 0\n            }\n        },\n        'topGroup': {\n            children: ['Search', 'FullScreen']\n        },\n        'midGroup': {\n            children: ['midGroup-left', 'midGroup-right']\n        },\n        'midGroup-left': {\n            children: ['midGroup-left-content']\n        },\n        'midGroup-left-content': {\n            children: ['Compass', 'MapSwitch']\n        },\n        'midGroup-right': {\n            children: ['midGroup-right-content-top', 'midGroup-right-content-bottom']\n        },\n        'midGroup-right-content-top': {\n            children: ['Layers', 'BaseMap', 'Measure', 'Select']\n        },\n        'midGroup-right-content-bottom': {\n            children: ['Zoom', 'Home', 'Locate']\n        },\n    },\n    mobileResponsiveStrategy: {\n        stage1: ['midGroup-left-content', 'midGroup-right-content-bottom'],\n        stage2: ['midGroup-left-content', 'midGroup-right-content-bottom', 'midGroup-right-content-top'],\n        stage3: ['topGroup', 'midGroup-left-content', 'midGroup-right-content-bottom', 'midGroup-right-content-top']\n    },\n    lockToolNames: []\n};\n/* tslint:enable */\nvar mobileLayoutJsons = [mobileLayoutJson];\n/* harmony default export */ __webpack_exports__[\"default\"] = (mobileLayoutJsons);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvbGF5b3V0L21vYmlsZS1sYXlvdXQtanNvbi50cy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4dGVuc2lvbnMvd2lkZ2V0cy9hcmNnaXMvYXJjZ2lzLW1hcC9zcmMvcnVudGltZS9sYXlvdXQvbW9iaWxlLWxheW91dC1qc29uLnRzPzc3Y2MiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtMYXlvdXRKc29ufSBmcm9tICcuL2NvbmZpZyc7XG5cbi8qIHRzbGludDpkaXNhYmxlICovXG5jb25zdCBtb2JpbGVMYXlvdXRKc29uID0ge1xuICBlbGVtZW50czoge1xuICAgICdtYWluR3JvdXAnOiB7XG4gICAgICB0eXBlOiAnR1JPVVAnLFxuICAgICAgZ3JvdXBOYW1lOiAnbWFpbkdyb3VwJyxcbiAgICAgIGRpcmVjdGlvbjogJ3ZlcnRpY2FsJyxcbiAgICAgIHN0eWxlOiB7XG4gICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnXG4gICAgICB9LFxuICAgICAgY2xhc3NOYW1lOiAnZC1mbGV4IGZsZXgtY29sdW1uJ1xuICAgIH0sXG4gICAgJ3RvcEdyb3VwJzoge1xuICAgICAgdHlwZTogJ0dST1VQJyxcbiAgICAgIGdyb3VwTmFtZTogJ3RvcEdyb3VwJyxcbiAgICAgIGRpcmVjdGlvbjogJ2hvcml6b250YWwnLFxuICAgICAgY2xhc3NOYW1lOiAnZC1mbGV4IHctMTAwIGFsaWduLWl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNvbnRlbnQtYmV0d2VlbicsXG4gICAgICBzdHlsZToge1xuICAgICAgICBwYWRkaW5nOiAnMTBweCdcbiAgICAgIH1cbiAgICB9LFxuICAgICdtaWRHcm91cCc6IHtcbiAgICAgIHR5cGU6ICdHUk9VUCcsXG4gICAgICBncm91cE5hbWU6ICdtaWRHcm91cCcsXG4gICAgICBkaXJlY3Rpb246ICdob3Jpem9udGFsJyxcbiAgICAgIGNsYXNzTmFtZTogJ2ZsZXgtZ3Jvdy0xIGQtZmxleCB3LTEwMCBqdXN0aWZ5LWNvbnRlbnQtYmV0d2VlbicsXG4gICAgICBzdHlsZToge1xuICAgICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJ1xuICAgICAgfVxuICAgIH0sXG4gICAgJ21pZEdyb3VwLWxlZnQnOiB7XG4gICAgICB0eXBlOiAnR1JPVVAnLFxuICAgICAgZ3JvdXBOYW1lOiAnbWlkR3JvdXAtbGVmdCcsXG4gICAgICBkaXJlY3Rpb246ICd2ZXJ0aWNhbCcsXG4gICAgICBjbGFzc05hbWU6ICdoLTEwMCBkLWZsZXggZmxleC1jb2x1bW4tcmV2ZXJzZScsXG4gICAgICBzdHlsZToge1xuICAgICAgICBwYWRkaW5nTGVmdDogJzEwcHgnLFxuICAgICAgICBwYWRkaW5nUmlnaHQ6ICcxMHB4JyxcbiAgICAgICAgcGFkZGluZ0JvdHRvbTogJzEwcHgnLFxuICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgICAgdG9wOiAwLFxuICAgICAgICBsZWZ0OiAwLFxuICAgICAgICBib3R0b206IDBcbiAgICAgIH1cbiAgICB9LFxuICAgICdtaWRHcm91cC1sZWZ0LWNvbnRlbnQnOiB7XG4gICAgICB0eXBlOiAnR1JPVVAnLFxuICAgICAgZ3JvdXBOYW1lOiAnbWlkR3JvdXAtbGVmdC1jb250ZW50JyxcbiAgICAgIGRpcmVjdGlvbjogJ3ZlcnRpY2FsJ1xuICAgIH0sXG4gICAgJ21pZEdyb3VwLXJpZ2h0Jzoge1xuICAgICAgdHlwZTogJ0dST1VQJyxcbiAgICAgIGdyb3VwTmFtZTogJ21pZEdyb3VwLXJpZ2h0JyxcbiAgICAgIGRpcmVjdGlvbjogJ3ZlcnRpY2FsJyxcbiAgICAgIGNsYXNzTmFtZTogJ2gtMTAwIGQtZmxleCBmbGV4LWNvbHVtbiBqdXN0aWZ5LWNvbnRlbnQtYmV0d2VlbicsXG4gICAgICBzdHlsZToge1xuICAgICAgICBwYWRkaW5nUmlnaHQ6ICcxMHB4JyxcbiAgICAgICAgcGFkZGluZ0xlZnQ6ICcxMHB4JyxcbiAgICAgICAgcGFkZGluZ0JvdHRvbTogJzEwcHgnLFxuICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgICAgdG9wOiAwLFxuICAgICAgICByaWdodDogMCxcbiAgICAgICAgYm90dG9tOiAwXG4gICAgICB9XG4gICAgfSxcbiAgICAnbWlkR3JvdXAtcmlnaHQtY29udGVudC10b3AnOiB7XG4gICAgICB0eXBlOiAnR1JPVVAnLFxuICAgICAgZ3JvdXBOYW1lOiAnbWlkR3JvdXAtcmlnaHQtY29udGVudC10b3AnLFxuICAgICAgZGlyZWN0aW9uOiAndmVydGljYWwnXG4gICAgfSxcbiAgICAnbWlkR3JvdXAtcmlnaHQtY29udGVudC1ib3R0b20nOiB7XG4gICAgICB0eXBlOiAnR1JPVVAnLFxuICAgICAgZ3JvdXBOYW1lOiAnbWlkR3JvdXAtcmlnaHQtY29udGVudC1ib3R0b20nLFxuICAgICAgZGlyZWN0aW9uOiAndmVydGljYWwnXG4gICAgfSxcbiAgICAnYm90dG9tR3JvdXAnOiB7XG4gICAgICB0eXBlOiAnR1JPVVAnLFxuICAgICAgZ3JvdXBOYW1lOiAnYm90dG9tR3JvdXAnLFxuICAgICAgZGlyZWN0aW9uOiAndmVydGljYWwnXG4gICAgfSxcbiAgICAnU2VhcmNoJzoge1xuICAgICAgdHlwZTogJ1RPT0wnLFxuICAgICAgdG9vbE5hbWU6ICdTZWFyY2gnLFxuICAgICAgaXNPbmx5RXhwYW5kZWQ6IHRydWUsXG4gICAgICBpc1Nob3dJY29uVGl0bGU6IGZhbHNlLFxuICAgICAgY2xhc3NOYW1lOiAnZmxleC1ncm93LTEnXG4gICAgfSxcbiAgICAnRnVsbFNjcmVlbic6IHtcbiAgICAgIHR5cGU6ICdUT09MJyxcbiAgICAgIHRvb2xOYW1lOiAnRnVsbFNjcmVlbicsXG4gICAgICBpc09ubHlFeHBhbmRlZDogZmFsc2UsXG4gICAgICBpc1Nob3dJY29uVGl0bGU6IHRydWVcbiAgICB9LFxuICAgICdMb2NhdGUnOiB7XG4gICAgICB0eXBlOiAnVE9PTCcsXG4gICAgICB0b29sTmFtZTogJ0xvY2F0ZScsXG4gICAgICBpc09ubHlFeHBhbmRlZDogdHJ1ZSxcbiAgICAgIGlzU2hvd0ljb25UaXRsZTogZmFsc2VcbiAgICB9LFxuICAgICdDb21wYXNzJzoge1xuICAgICAgdHlwZTogJ1RPT0wnLFxuICAgICAgdG9vbE5hbWU6ICdDb21wYXNzJyxcbiAgICAgIGlzT25seUV4cGFuZGVkOiB0cnVlLFxuICAgICAgaXNTaG93SWNvblRpdGxlOiBmYWxzZSxcbiAgICAgIGNsYXNzTmFtZTogJ21iLTAnXG4gICAgfSxcbiAgICAnTWFwU3dpdGNoJzoge1xuICAgICAgdHlwZTogJ1RPT0wnLFxuICAgICAgdG9vbE5hbWU6ICdNYXBTd2l0Y2gnLFxuICAgICAgaXNPbmx5RXhwYW5kZWQ6IHRydWUsXG4gICAgICBpc1Nob3dJY29uVGl0bGU6IHRydWVcbiAgICB9LFxuICAgICdab29tJzoge1xuICAgICAgdHlwZTogJ1RPT0wnLFxuICAgICAgdG9vbE5hbWU6ICdab29tJyxcbiAgICAgIGlzT25seUV4cGFuZGVkOiB0cnVlLFxuICAgICAgaXNTaG93SWNvblRpdGxlOiBmYWxzZVxuICAgIH0sXG4gICAgJ0hvbWUnOiB7XG4gICAgICB0eXBlOiAnVE9PTCcsXG4gICAgICB0b29sTmFtZTogJ0hvbWUnLFxuICAgICAgaXNPbmx5RXhwYW5kZWQ6IHRydWUsXG4gICAgICBpc1Nob3dJY29uVGl0bGU6IGZhbHNlXG4gICAgfSxcbiAgICAnTGF5ZXJzJzoge1xuICAgICAgdHlwZTogJ1RPT0wnLFxuICAgICAgdG9vbE5hbWU6ICdMYXllcnMnLFxuICAgICAgaXNPbmx5RXhwYW5kZWQ6IGZhbHNlLFxuICAgICAgaXNTaG93SWNvblRpdGxlOiB0cnVlLFxuICAgICAgcGFuZWxQbGFjZW1lbnQ6ICdsZWZ0LXN0YXJ0J1xuICAgIH0sXG4gICAgJ0Jhc2VNYXAnOiB7XG4gICAgICB0eXBlOiAnVE9PTCcsXG4gICAgICB0b29sTmFtZTogJ0Jhc2VNYXAnLFxuICAgICAgaXNPbmx5RXhwYW5kZWQ6IGZhbHNlLFxuICAgICAgaXNTaG93SWNvblRpdGxlOiB0cnVlLFxuICAgICAgcGFuZWxQbGFjZW1lbnQ6ICdsZWZ0LXN0YXJ0J1xuICAgIH0sXG4gICAgJ1NlbGVjdCc6IHtcbiAgICAgIHR5cGU6ICdUT09MJyxcbiAgICAgIHRvb2xOYW1lOiAnU2VsZWN0JyxcbiAgICAgIGlzT25seUV4cGFuZGVkOiB0cnVlLFxuICAgICAgaXNTaG93SWNvblRpdGxlOiBmYWxzZVxuICAgIH0sXG4gICAgJ1NlbGVjdFN0YXRlJzoge1xuICAgICAgdHlwZTogJ1RPT0wnLFxuICAgICAgdG9vbE5hbWU6ICdTZWxlY3RTdGF0ZScsXG4gICAgICBpc09ubHlFeHBhbmRlZDogdHJ1ZSxcbiAgICAgIGlzU2hvd0ljb25UaXRsZTogZmFsc2UsXG4gICAgfSxcbiAgICAnTWVhc3VyZSc6IHtcbiAgICAgIHR5cGU6ICdUT09MJyxcbiAgICAgIHRvb2xOYW1lOiAnTWVhc3VyZScsXG4gICAgICBpc09ubHlFeHBhbmRlZDogZmFsc2UsXG4gICAgICBpc1Nob3dJY29uVGl0bGU6IHRydWUsXG4gICAgICBwYW5lbFBsYWNlbWVudDogJ2xlZnQtc3RhcnQnXG4gICAgfVxuICB9LFxuICBsYXlvdXQ6IHtcbiAgICAnbWFpbkdyb3VwJzoge1xuICAgICAgY2hpbGRyZW46IFsndG9wR3JvdXAnLCAnbWlkR3JvdXAnLCAnYm90dG9tR3JvdXAnXSxcbiAgICAgIHBvc2l0aW9uOiB7XG4gICAgICAgIHRvcDogMCxcbiAgICAgICAgbGVmdDogMCxcbiAgICAgICAgYm90dG9tOiAwLFxuICAgICAgICByaWdodDogMFxuICAgICAgfVxuICAgIH0sXG4gICAgJ3RvcEdyb3VwJzoge1xuICAgICAgY2hpbGRyZW46IFsnU2VhcmNoJywgJ0Z1bGxTY3JlZW4nXVxuICAgIH0sXG4gICAgJ21pZEdyb3VwJzoge1xuICAgICAgY2hpbGRyZW46IFsnbWlkR3JvdXAtbGVmdCcsICdtaWRHcm91cC1yaWdodCddXG4gICAgfSxcbiAgICAnbWlkR3JvdXAtbGVmdCc6IHtcbiAgICAgIGNoaWxkcmVuOiBbJ21pZEdyb3VwLWxlZnQtY29udGVudCddXG4gICAgfSxcbiAgICAnbWlkR3JvdXAtbGVmdC1jb250ZW50Jzoge1xuICAgICAgY2hpbGRyZW46IFsnQ29tcGFzcycsICdNYXBTd2l0Y2gnXVxuICAgIH0sXG4gICAgJ21pZEdyb3VwLXJpZ2h0Jzoge1xuICAgICAgY2hpbGRyZW46IFsnbWlkR3JvdXAtcmlnaHQtY29udGVudC10b3AnLCAnbWlkR3JvdXAtcmlnaHQtY29udGVudC1ib3R0b20nXVxuICAgIH0sXG4gICAgJ21pZEdyb3VwLXJpZ2h0LWNvbnRlbnQtdG9wJzoge1xuICAgICAgY2hpbGRyZW46IFsnTGF5ZXJzJywgJ0Jhc2VNYXAnLCAnTWVhc3VyZScsICdTZWxlY3QnXVxuICAgIH0sXG4gICAgJ21pZEdyb3VwLXJpZ2h0LWNvbnRlbnQtYm90dG9tJzoge1xuICAgICAgY2hpbGRyZW46IFsnWm9vbScsICdIb21lJywgJ0xvY2F0ZSddXG4gICAgfSxcbiAgfSxcbiAgbW9iaWxlUmVzcG9uc2l2ZVN0cmF0ZWd5OiB7XG4gICAgc3RhZ2UxOiBbJ21pZEdyb3VwLWxlZnQtY29udGVudCcsICdtaWRHcm91cC1yaWdodC1jb250ZW50LWJvdHRvbSddLFxuICAgIHN0YWdlMjogWydtaWRHcm91cC1sZWZ0LWNvbnRlbnQnLCAnbWlkR3JvdXAtcmlnaHQtY29udGVudC1ib3R0b20nLCAnbWlkR3JvdXAtcmlnaHQtY29udGVudC10b3AnXSxcbiAgICBzdGFnZTM6IFsndG9wR3JvdXAnLCAnbWlkR3JvdXAtbGVmdC1jb250ZW50JywgJ21pZEdyb3VwLXJpZ2h0LWNvbnRlbnQtYm90dG9tJywgJ21pZEdyb3VwLXJpZ2h0LWNvbnRlbnQtdG9wJ11cbiAgfSxcbiAgbG9ja1Rvb2xOYW1lczogW11cbn0gYXMgTGF5b3V0SnNvbjtcbi8qIHRzbGludDplbmFibGUgKi9cblxuY29uc3QgbW9iaWxlTGF5b3V0SnNvbnM6IExheW91dEpzb25bXSA9IFttb2JpbGVMYXlvdXRKc29uXVxuXG5leHBvcnQgZGVmYXVsdCBtb2JpbGVMYXlvdXRKc29uczsiXSwibWFwcGluZ3MiOiJBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/mobile-layout-json.ts\n");

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/pc-layout-json.ts":
/*!***********************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/pc-layout-json.ts ***!
  \***********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* tslint:disable */\nvar layoutJson1 = {\n    elements: {\n        'leftTopContainer': {\n            type: 'GROUP',\n            groupName: 'leftTopContainer',\n            direction: 'horizontal'\n        },\n        'navigator': {\n            type: 'GROUP',\n            groupName: 'navigator',\n            direction: 'vertical'\n        },\n        'interact': {\n            type: 'GROUP',\n            groupName: 'interact',\n            direction: 'vertical',\n            isResponsive: true\n        },\n        'bottom': {\n            type: 'GROUP',\n            groupName: 'bottom',\n            direction: 'vertical',\n            className: 'w-100'\n        },\n        'bottom-line1': {\n            type: 'GROUP',\n            groupName: 'bottom-line1',\n            direction: 'horizontal',\n            className: 'd-flex align-items-center justify-content-between w-100 scale-attribution-xy-group',\n            style: {\n                marginBottom: 0,\n                marginTop: 0\n            }\n        },\n        'bottom-line2': {\n            type: 'GROUP',\n            groupName: 'bottom-line2',\n            direction: 'horizontal',\n            className: 'd-flex align-items-end justify-content-between w-100',\n            style: {\n                paddingLeft: '15px',\n                paddingRight: '15px',\n                marginBottom: '10px'\n            }\n        },\n        'SelectState-FullScreen-Container': {\n            type: 'GROUP',\n            groupName: 'SelectState-FullScreen-Container',\n            direction: 'vertical',\n            className: 'align-items-end'\n        },\n        'attributionGroup': {\n            type: 'GROUP',\n            groupName: 'attributionGroup',\n            direction: 'horizontal',\n            style: {\n                maxWidth: '60%'\n            }\n        },\n        'Zoom': {\n            type: 'TOOL',\n            toolName: 'Zoom',\n            isOnlyExpanded: true,\n            isShowIconTitle: false\n        },\n        'Home': {\n            type: 'TOOL',\n            toolName: 'Home',\n            isOnlyExpanded: true,\n            isShowIconTitle: false\n        },\n        'Compass': {\n            type: 'TOOL',\n            toolName: 'Compass',\n            isOnlyExpanded: true,\n            isShowIconTitle: false\n        },\n        'Navigation': {\n            type: 'TOOL',\n            toolName: 'Navigation',\n            isOnlyExpanded: true,\n            isShowIconTitle: false\n        },\n        'Locate': {\n            type: 'TOOL',\n            toolName: 'Locate',\n            isOnlyExpanded: true,\n            isShowIconTitle: false\n        },\n        'Layers': {\n            type: 'TOOL',\n            toolName: 'Layers',\n            isOnlyExpanded: false,\n            isShowIconTitle: true,\n            panelPlacement: 'left-start'\n        },\n        'BaseMap': {\n            type: 'TOOL',\n            toolName: 'BaseMap',\n            isOnlyExpanded: false,\n            isShowIconTitle: true,\n            panelPlacement: 'left-start'\n        },\n        'Select': {\n            type: 'TOOL',\n            toolName: 'Select',\n            isOnlyExpanded: true,\n            isShowIconTitle: true,\n        },\n        'SelectState': {\n            type: 'TOOL',\n            toolName: 'SelectState',\n            isOnlyExpanded: true,\n            isShowIconTitle: false,\n            style: {\n                boxShadow: '0 1px 2px 0 rgba(0,0,0,0)'\n            }\n        },\n        'Measure': {\n            type: 'TOOL',\n            toolName: 'Measure',\n            isOnlyExpanded: false,\n            isShowIconTitle: true,\n            panelPlacement: 'left-start'\n        },\n        'MapSwitch': {\n            type: 'TOOL',\n            toolName: 'MapSwitch',\n            isOnlyExpanded: true,\n            isShowIconTitle: true\n        },\n        'FullScreen': {\n            type: 'TOOL',\n            toolName: 'FullScreen',\n            isOnlyExpanded: false,\n            isShowIconTitle: true\n        },\n        'ScaleBar': {\n            type: 'TOOL',\n            toolName: 'ScaleBar',\n            isOnlyExpanded: true,\n            isShowIconTitle: false\n        },\n        'Attribution': {\n            type: 'TOOL',\n            toolName: 'Attribution',\n            isOnlyExpanded: true,\n            isShowIconTitle: false,\n            className: 'w-100'\n        },\n        'Search': {\n            type: 'TOOL',\n            toolName: 'Search',\n            isOnlyExpanded: false,\n            isShowIconTitle: true,\n            panelPlacement: 'left-start'\n        }\n    },\n    layout: {\n        'leftTopContainer': {\n            children: ['navigator', 'Select'],\n            position: {\n                top: 15,\n                left: 15\n            }\n        },\n        'navigator': {\n            children: ['Zoom', 'Home', 'Navigation', 'Locate', 'Compass'],\n        },\n        'interact': {\n            children: ['Search', 'Layers', 'BaseMap', 'Measure'],\n            position: {\n                top: 15,\n                right: 15\n            }\n        },\n        'bottom-line1': {\n            children: ['ScaleBar', 'attributionGroup']\n        },\n        'bottom-line2': {\n            children: ['MapSwitch', 'SelectState-FullScreen-Container']\n        },\n        'SelectState-FullScreen-Container': {\n            children: ['FullScreen', 'SelectState']\n        },\n        'bottom': {\n            children: ['bottom-line2', 'bottom-line1'],\n            position: {\n                bottom: 0,\n                left: 0\n            }\n        },\n        'attributionGroup': {\n            children: ['Attribution']\n        }\n    }\n};\nvar layoutJson2 = {\n    elements: {\n        'navigator': {\n            type: 'GROUP',\n            groupName: 'navigator',\n            direction: 'vertical',\n            className: 'align-items-end'\n        },\n        'interact': {\n            type: 'GROUP',\n            groupName: 'interact',\n            direction: 'horizontal',\n            isResponsive: true\n        },\n        'fullScreenGroup': {\n            type: 'GROUP',\n            groupName: 'fullScreenGroup',\n            direction: 'horizontal',\n        },\n        'bottom': {\n            type: 'GROUP',\n            groupName: 'bottom',\n            direction: 'vertical',\n            className: 'w-100'\n        },\n        'bottom-line1': {\n            type: 'GROUP',\n            groupName: 'bottom-line1',\n            direction: 'horizontal',\n            className: 'd-flex align-items-center justify-content-between w-100 scale-attribution-xy-group',\n            style: {\n                marginBottom: 0,\n                marginTop: 0\n            }\n        },\n        'bottom-line2': {\n            type: 'GROUP',\n            groupName: 'bottom-line2',\n            direction: 'horizontal',\n            className: 'd-flex align-items-end justify-content-between w-100',\n            style: {\n                paddingLeft: '15px',\n                paddingRight: '15px',\n                marginBottom: '10px'\n            }\n        },\n        'attributionGroup': {\n            type: 'GROUP',\n            groupName: 'attributionGroup',\n            direction: 'horizontal',\n            style: {\n                maxWidth: '60%'\n            },\n            className: 'attibute-group'\n        },\n        'Zoom': {\n            type: 'TOOL',\n            toolName: 'Zoom',\n            isOnlyExpanded: true,\n            isShowIconTitle: false\n        },\n        'Home': {\n            type: 'TOOL',\n            toolName: 'Home',\n            isOnlyExpanded: true,\n            isShowIconTitle: false\n        },\n        'Compass': {\n            type: 'TOOL',\n            toolName: 'Compass',\n            isOnlyExpanded: true,\n            isShowIconTitle: false\n        },\n        'Navigation': {\n            type: 'TOOL',\n            toolName: 'Navigation',\n            isOnlyExpanded: true,\n            isShowIconTitle: false\n        },\n        'Locate': {\n            type: 'TOOL',\n            toolName: 'Locate',\n            isOnlyExpanded: true,\n            isShowIconTitle: false\n        },\n        'Layers': {\n            type: 'TOOL',\n            toolName: 'Layers',\n            isOnlyExpanded: false,\n            isShowIconTitle: true,\n            panelPlacement: 'bottom'\n        },\n        'BaseMap': {\n            type: 'TOOL',\n            toolName: 'BaseMap',\n            isOnlyExpanded: false,\n            isShowIconTitle: true,\n            panelPlacement: 'bottom'\n        },\n        'Select': {\n            type: 'TOOL',\n            toolName: 'Select',\n            isOnlyExpanded: true,\n            isShowIconTitle: true\n        },\n        'SelectState': {\n            type: 'TOOL',\n            toolName: 'SelectState',\n            isOnlyExpanded: true,\n            isShowIconTitle: false,\n            style: {\n                boxShadow: '0 1px 2px 0 rgba(0,0,0,0)'\n            }\n        },\n        'Measure': {\n            type: 'TOOL',\n            toolName: 'Measure',\n            isOnlyExpanded: false,\n            isShowIconTitle: true,\n            panelPlacement: 'bottom'\n        },\n        'MapSwitch': {\n            type: 'TOOL',\n            toolName: 'MapSwitch',\n            isOnlyExpanded: true,\n            isShowIconTitle: true,\n        },\n        'FullScreen': {\n            type: 'TOOL',\n            toolName: 'FullScreen',\n            isOnlyExpanded: false,\n            isShowIconTitle: true\n        },\n        'ScaleBar': {\n            type: 'TOOL',\n            toolName: 'ScaleBar',\n            isOnlyExpanded: true,\n            isShowIconTitle: false\n        },\n        'Attribution': {\n            type: 'TOOL',\n            toolName: 'Attribution',\n            isOnlyExpanded: true,\n            isShowIconTitle: false,\n            className: 'w-100'\n        },\n        'Search': {\n            type: 'TOOL',\n            toolName: 'Search',\n            isOnlyExpanded: false,\n            isShowIconTitle: true,\n            panelPlacement: 'bottom'\n        },\n    },\n    layout: {\n        'navigator': {\n            children: ['Compass', 'Locate', 'Navigation', 'Zoom', 'Home', 'SelectState']\n        },\n        'interact': {\n            children: ['Search', 'Layers', 'BaseMap', 'Measure', 'Select'],\n            position: {\n                top: 15,\n                left: 15\n            }\n        },\n        'fullScreenGroup': {\n            children: ['FullScreen'],\n            position: {\n                top: 15,\n                right: 15\n            }\n        },\n        'bottom-line1': {\n            children: ['ScaleBar', 'attributionGroup']\n        },\n        'bottom-line2': {\n            children: ['MapSwitch', 'navigator']\n        },\n        'bottom': {\n            children: ['bottom-line2', 'bottom-line1'],\n            position: {\n                bottom: 0,\n                left: 0\n            }\n        },\n        'attributionGroup': {\n            children: ['Attribution']\n        }\n    }\n};\n/* tslint:enable */\nvar layoutJsons = [layoutJson1, layoutJson2];\n/* harmony default export */ __webpack_exports__[\"default\"] = (layoutJsons);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvbGF5b3V0L3BjLWxheW91dC1qc29uLnRzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vZXh0ZW5zaW9ucy93aWRnZXRzL2FyY2dpcy9hcmNnaXMtbWFwL3NyYy9ydW50aW1lL2xheW91dC9wYy1sYXlvdXQtanNvbi50cz9iNzc4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7TGF5b3V0SnNvbn0gZnJvbSAnLi9jb25maWcnO1xuXG4vKiB0c2xpbnQ6ZGlzYWJsZSAqL1xuY29uc3QgbGF5b3V0SnNvbjEgPSB7XG4gIGVsZW1lbnRzOiB7XG4gICAgJ2xlZnRUb3BDb250YWluZXInOiB7XG4gICAgICB0eXBlOiAnR1JPVVAnLFxuICAgICAgZ3JvdXBOYW1lOiAnbGVmdFRvcENvbnRhaW5lcicsXG4gICAgICBkaXJlY3Rpb246ICdob3Jpem9udGFsJ1xuICAgIH0sXG4gICAgJ25hdmlnYXRvcic6IHtcbiAgICAgIHR5cGU6ICdHUk9VUCcsXG4gICAgICBncm91cE5hbWU6ICduYXZpZ2F0b3InLFxuICAgICAgZGlyZWN0aW9uOiAndmVydGljYWwnXG4gICAgfSxcbiAgICAnaW50ZXJhY3QnOiB7XG4gICAgICB0eXBlOiAnR1JPVVAnLFxuICAgICAgZ3JvdXBOYW1lOiAnaW50ZXJhY3QnLFxuICAgICAgZGlyZWN0aW9uOiAndmVydGljYWwnLFxuICAgICAgaXNSZXNwb25zaXZlOiB0cnVlXG4gICAgfSxcbiAgICAnYm90dG9tJzoge1xuICAgICAgdHlwZTogJ0dST1VQJyxcbiAgICAgIGdyb3VwTmFtZTogJ2JvdHRvbScsXG4gICAgICBkaXJlY3Rpb246ICd2ZXJ0aWNhbCcsXG4gICAgICBjbGFzc05hbWU6ICd3LTEwMCdcbiAgICB9LFxuICAgICdib3R0b20tbGluZTEnOiB7XG4gICAgICB0eXBlOiAnR1JPVVAnLFxuICAgICAgZ3JvdXBOYW1lOiAnYm90dG9tLWxpbmUxJyxcbiAgICAgIGRpcmVjdGlvbjogJ2hvcml6b250YWwnLFxuICAgICAgY2xhc3NOYW1lOiAnZC1mbGV4IGFsaWduLWl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNvbnRlbnQtYmV0d2VlbiB3LTEwMCBzY2FsZS1hdHRyaWJ1dGlvbi14eS1ncm91cCcsXG4gICAgICBzdHlsZToge1xuICAgICAgICBtYXJnaW5Cb3R0b206IDAsXG4gICAgICAgIG1hcmdpblRvcDogMFxuICAgICAgfVxuICAgIH0sXG4gICAgJ2JvdHRvbS1saW5lMic6IHtcbiAgICAgIHR5cGU6ICdHUk9VUCcsXG4gICAgICBncm91cE5hbWU6ICdib3R0b20tbGluZTInLFxuICAgICAgZGlyZWN0aW9uOiAnaG9yaXpvbnRhbCcsXG4gICAgICBjbGFzc05hbWU6ICdkLWZsZXggYWxpZ24taXRlbXMtZW5kIGp1c3RpZnktY29udGVudC1iZXR3ZWVuIHctMTAwJyxcbiAgICAgIHN0eWxlOiB7XG4gICAgICAgIHBhZGRpbmdMZWZ0OiAnMTVweCcsXG4gICAgICAgIHBhZGRpbmdSaWdodDogJzE1cHgnLFxuICAgICAgICBtYXJnaW5Cb3R0b206ICcxMHB4J1xuICAgICAgfVxuICAgIH0sXG4gICAgJ1NlbGVjdFN0YXRlLUZ1bGxTY3JlZW4tQ29udGFpbmVyJzoge1xuICAgICAgdHlwZTogJ0dST1VQJyxcbiAgICAgIGdyb3VwTmFtZTogJ1NlbGVjdFN0YXRlLUZ1bGxTY3JlZW4tQ29udGFpbmVyJyxcbiAgICAgIGRpcmVjdGlvbjogJ3ZlcnRpY2FsJyxcbiAgICAgIGNsYXNzTmFtZTogJ2FsaWduLWl0ZW1zLWVuZCdcbiAgICB9LFxuICAgICdhdHRyaWJ1dGlvbkdyb3VwJzoge1xuICAgICAgdHlwZTogJ0dST1VQJyxcbiAgICAgIGdyb3VwTmFtZTogJ2F0dHJpYnV0aW9uR3JvdXAnLFxuICAgICAgZGlyZWN0aW9uOiAnaG9yaXpvbnRhbCcsXG4gICAgICBzdHlsZToge1xuICAgICAgICBtYXhXaWR0aDogJzYwJSdcbiAgICAgIH1cbiAgICB9LFxuICAgICdab29tJzoge1xuICAgICAgdHlwZTogJ1RPT0wnLFxuICAgICAgdG9vbE5hbWU6ICdab29tJyxcbiAgICAgIGlzT25seUV4cGFuZGVkOiB0cnVlLFxuICAgICAgaXNTaG93SWNvblRpdGxlOiBmYWxzZVxuICAgIH0sXG4gICAgJ0hvbWUnOiB7XG4gICAgICB0eXBlOiAnVE9PTCcsXG4gICAgICB0b29sTmFtZTogJ0hvbWUnLFxuICAgICAgaXNPbmx5RXhwYW5kZWQ6IHRydWUsXG4gICAgICBpc1Nob3dJY29uVGl0bGU6IGZhbHNlXG4gICAgfSxcbiAgICAnQ29tcGFzcyc6IHtcbiAgICAgIHR5cGU6ICdUT09MJyxcbiAgICAgIHRvb2xOYW1lOiAnQ29tcGFzcycsXG4gICAgICBpc09ubHlFeHBhbmRlZDogdHJ1ZSxcbiAgICAgIGlzU2hvd0ljb25UaXRsZTogZmFsc2VcbiAgICB9LFxuICAgICdOYXZpZ2F0aW9uJzoge1xuICAgICAgdHlwZTogJ1RPT0wnLFxuICAgICAgdG9vbE5hbWU6ICdOYXZpZ2F0aW9uJyxcbiAgICAgIGlzT25seUV4cGFuZGVkOiB0cnVlLFxuICAgICAgaXNTaG93SWNvblRpdGxlOiBmYWxzZVxuICAgIH0sXG4gICAgJ0xvY2F0ZSc6IHtcbiAgICAgIHR5cGU6ICdUT09MJyxcbiAgICAgIHRvb2xOYW1lOiAnTG9jYXRlJyxcbiAgICAgIGlzT25seUV4cGFuZGVkOiB0cnVlLFxuICAgICAgaXNTaG93SWNvblRpdGxlOiBmYWxzZVxuICAgIH0sXG4gICAgJ0xheWVycyc6IHtcbiAgICAgIHR5cGU6ICdUT09MJyxcbiAgICAgIHRvb2xOYW1lOiAnTGF5ZXJzJyxcbiAgICAgIGlzT25seUV4cGFuZGVkOiBmYWxzZSxcbiAgICAgIGlzU2hvd0ljb25UaXRsZTogdHJ1ZSxcbiAgICAgIHBhbmVsUGxhY2VtZW50OiAnbGVmdC1zdGFydCdcbiAgICB9LFxuICAgICdCYXNlTWFwJzoge1xuICAgICAgdHlwZTogJ1RPT0wnLFxuICAgICAgdG9vbE5hbWU6ICdCYXNlTWFwJyxcbiAgICAgIGlzT25seUV4cGFuZGVkOiBmYWxzZSxcbiAgICAgIGlzU2hvd0ljb25UaXRsZTogdHJ1ZSxcbiAgICAgIHBhbmVsUGxhY2VtZW50OiAnbGVmdC1zdGFydCdcbiAgICB9LFxuICAgICdTZWxlY3QnOiB7XG4gICAgICB0eXBlOiAnVE9PTCcsXG4gICAgICB0b29sTmFtZTogJ1NlbGVjdCcsXG4gICAgICBpc09ubHlFeHBhbmRlZDogdHJ1ZSxcbiAgICAgIGlzU2hvd0ljb25UaXRsZTogdHJ1ZSxcbiAgICB9LFxuICAgICdTZWxlY3RTdGF0ZSc6IHtcbiAgICAgIHR5cGU6ICdUT09MJyxcbiAgICAgIHRvb2xOYW1lOiAnU2VsZWN0U3RhdGUnLFxuICAgICAgaXNPbmx5RXhwYW5kZWQ6IHRydWUsXG4gICAgICBpc1Nob3dJY29uVGl0bGU6IGZhbHNlLFxuICAgICAgc3R5bGU6IHtcbiAgICAgICAgYm94U2hhZG93OiAnMCAxcHggMnB4IDAgcmdiYSgwLDAsMCwwKSdcbiAgICAgIH1cbiAgICB9LFxuICAgICdNZWFzdXJlJzoge1xuICAgICAgdHlwZTogJ1RPT0wnLFxuICAgICAgdG9vbE5hbWU6ICdNZWFzdXJlJyxcbiAgICAgIGlzT25seUV4cGFuZGVkOiBmYWxzZSxcbiAgICAgIGlzU2hvd0ljb25UaXRsZTogdHJ1ZSxcbiAgICAgIHBhbmVsUGxhY2VtZW50OiAnbGVmdC1zdGFydCdcbiAgICB9LFxuICAgICdNYXBTd2l0Y2gnOiB7XG4gICAgICB0eXBlOiAnVE9PTCcsXG4gICAgICB0b29sTmFtZTogJ01hcFN3aXRjaCcsXG4gICAgICBpc09ubHlFeHBhbmRlZDogdHJ1ZSxcbiAgICAgIGlzU2hvd0ljb25UaXRsZTogdHJ1ZVxuICAgIH0sXG4gICAgJ0Z1bGxTY3JlZW4nOiB7XG4gICAgICB0eXBlOiAnVE9PTCcsXG4gICAgICB0b29sTmFtZTogJ0Z1bGxTY3JlZW4nLFxuICAgICAgaXNPbmx5RXhwYW5kZWQ6IGZhbHNlLFxuICAgICAgaXNTaG93SWNvblRpdGxlOiB0cnVlXG4gICAgfSxcbiAgICAnU2NhbGVCYXInOiB7XG4gICAgICB0eXBlOiAnVE9PTCcsXG4gICAgICB0b29sTmFtZTogJ1NjYWxlQmFyJyxcbiAgICAgIGlzT25seUV4cGFuZGVkOiB0cnVlLFxuICAgICAgaXNTaG93SWNvblRpdGxlOiBmYWxzZVxuICAgIH0sXG4gICAgJ0F0dHJpYnV0aW9uJzoge1xuICAgICAgdHlwZTogJ1RPT0wnLFxuICAgICAgdG9vbE5hbWU6ICdBdHRyaWJ1dGlvbicsXG4gICAgICBpc09ubHlFeHBhbmRlZDogdHJ1ZSxcbiAgICAgIGlzU2hvd0ljb25UaXRsZTogZmFsc2UsXG4gICAgICBjbGFzc05hbWU6ICd3LTEwMCdcbiAgICB9LFxuICAgICdTZWFyY2gnOiB7XG4gICAgICB0eXBlOiAnVE9PTCcsXG4gICAgICB0b29sTmFtZTogJ1NlYXJjaCcsXG4gICAgICBpc09ubHlFeHBhbmRlZDogZmFsc2UsXG4gICAgICBpc1Nob3dJY29uVGl0bGU6IHRydWUsXG4gICAgICBwYW5lbFBsYWNlbWVudDogJ2xlZnQtc3RhcnQnXG4gICAgfVxuICB9LFxuICBsYXlvdXQ6IHtcbiAgICAnbGVmdFRvcENvbnRhaW5lcic6IHtcbiAgICAgIGNoaWxkcmVuOiBbJ25hdmlnYXRvcicsICdTZWxlY3QnXSxcbiAgICAgIHBvc2l0aW9uOiB7XG4gICAgICAgIHRvcDogMTUsXG4gICAgICAgIGxlZnQ6IDE1XG4gICAgICB9XG4gICAgfSxcbiAgICAnbmF2aWdhdG9yJzoge1xuICAgICAgY2hpbGRyZW46IFsnWm9vbScsICdIb21lJywgJ05hdmlnYXRpb24nLCAnTG9jYXRlJywgJ0NvbXBhc3MnXSxcbiAgICB9LFxuICAgICdpbnRlcmFjdCc6IHtcbiAgICAgIGNoaWxkcmVuOiBbJ1NlYXJjaCcsICdMYXllcnMnLCAnQmFzZU1hcCcsICdNZWFzdXJlJ10sXG4gICAgICBwb3NpdGlvbjoge1xuICAgICAgICB0b3A6IDE1LFxuICAgICAgICByaWdodDogMTVcbiAgICAgIH1cbiAgICB9LFxuICAgICdib3R0b20tbGluZTEnOiB7XG4gICAgICBjaGlsZHJlbjogWydTY2FsZUJhcicsICdhdHRyaWJ1dGlvbkdyb3VwJ11cbiAgICB9LFxuICAgICdib3R0b20tbGluZTInOiB7XG4gICAgICBjaGlsZHJlbjogWydNYXBTd2l0Y2gnLCAnU2VsZWN0U3RhdGUtRnVsbFNjcmVlbi1Db250YWluZXInXVxuICAgIH0sXG4gICAgJ1NlbGVjdFN0YXRlLUZ1bGxTY3JlZW4tQ29udGFpbmVyJzoge1xuICAgICAgY2hpbGRyZW46IFsnRnVsbFNjcmVlbicsICdTZWxlY3RTdGF0ZSddXG4gICAgfSxcbiAgICAnYm90dG9tJzoge1xuICAgICAgY2hpbGRyZW46IFsnYm90dG9tLWxpbmUyJywgJ2JvdHRvbS1saW5lMSddLFxuICAgICAgcG9zaXRpb246IHtcbiAgICAgICAgYm90dG9tOiAwLFxuICAgICAgICBsZWZ0OiAwXG4gICAgICB9XG4gICAgfSxcbiAgICAnYXR0cmlidXRpb25Hcm91cCc6IHtcbiAgICAgIGNoaWxkcmVuOiBbJ0F0dHJpYnV0aW9uJ11cbiAgICB9XG4gIH1cbn0gYXMgTGF5b3V0SnNvbjtcblxuY29uc3QgbGF5b3V0SnNvbjIgPSB7XG4gIGVsZW1lbnRzOiB7XG4gICAgJ25hdmlnYXRvcic6IHtcbiAgICAgIHR5cGU6ICdHUk9VUCcsXG4gICAgICBncm91cE5hbWU6ICduYXZpZ2F0b3InLFxuICAgICAgZGlyZWN0aW9uOiAndmVydGljYWwnLFxuICAgICAgY2xhc3NOYW1lOiAnYWxpZ24taXRlbXMtZW5kJ1xuICAgIH0sXG4gICAgJ2ludGVyYWN0Jzoge1xuICAgICAgdHlwZTogJ0dST1VQJyxcbiAgICAgIGdyb3VwTmFtZTogJ2ludGVyYWN0JyxcbiAgICAgIGRpcmVjdGlvbjogJ2hvcml6b250YWwnLFxuICAgICAgaXNSZXNwb25zaXZlOiB0cnVlXG4gICAgfSxcbiAgICAnZnVsbFNjcmVlbkdyb3VwJzoge1xuICAgICAgdHlwZTogJ0dST1VQJyxcbiAgICAgIGdyb3VwTmFtZTogJ2Z1bGxTY3JlZW5Hcm91cCcsXG4gICAgICBkaXJlY3Rpb246ICdob3Jpem9udGFsJyxcbiAgICB9LFxuICAgICdib3R0b20nOiB7XG4gICAgICB0eXBlOiAnR1JPVVAnLFxuICAgICAgZ3JvdXBOYW1lOiAnYm90dG9tJyxcbiAgICAgIGRpcmVjdGlvbjogJ3ZlcnRpY2FsJyxcbiAgICAgIGNsYXNzTmFtZTogJ3ctMTAwJ1xuICAgIH0sXG4gICAgJ2JvdHRvbS1saW5lMSc6IHtcbiAgICAgIHR5cGU6ICdHUk9VUCcsXG4gICAgICBncm91cE5hbWU6ICdib3R0b20tbGluZTEnLFxuICAgICAgZGlyZWN0aW9uOiAnaG9yaXpvbnRhbCcsXG4gICAgICBjbGFzc05hbWU6ICdkLWZsZXggYWxpZ24taXRlbXMtY2VudGVyIGp1c3RpZnktY29udGVudC1iZXR3ZWVuIHctMTAwIHNjYWxlLWF0dHJpYnV0aW9uLXh5LWdyb3VwJyxcbiAgICAgIHN0eWxlOiB7XG4gICAgICAgIG1hcmdpbkJvdHRvbTogMCxcbiAgICAgICAgbWFyZ2luVG9wOiAwXG4gICAgICB9XG4gICAgfSxcbiAgICAnYm90dG9tLWxpbmUyJzoge1xuICAgICAgdHlwZTogJ0dST1VQJyxcbiAgICAgIGdyb3VwTmFtZTogJ2JvdHRvbS1saW5lMicsXG4gICAgICBkaXJlY3Rpb246ICdob3Jpem9udGFsJyxcbiAgICAgIGNsYXNzTmFtZTogJ2QtZmxleCBhbGlnbi1pdGVtcy1lbmQganVzdGlmeS1jb250ZW50LWJldHdlZW4gdy0xMDAnLFxuICAgICAgc3R5bGU6IHtcbiAgICAgICAgcGFkZGluZ0xlZnQ6ICcxNXB4JyxcbiAgICAgICAgcGFkZGluZ1JpZ2h0OiAnMTVweCcsXG4gICAgICAgIG1hcmdpbkJvdHRvbTogJzEwcHgnXG4gICAgICB9XG4gICAgfSxcbiAgICAnYXR0cmlidXRpb25Hcm91cCc6IHtcbiAgICAgIHR5cGU6ICdHUk9VUCcsXG4gICAgICBncm91cE5hbWU6ICdhdHRyaWJ1dGlvbkdyb3VwJyxcbiAgICAgIGRpcmVjdGlvbjogJ2hvcml6b250YWwnLFxuICAgICAgc3R5bGU6IHtcbiAgICAgICAgbWF4V2lkdGg6ICc2MCUnXG4gICAgICB9LFxuICAgICAgY2xhc3NOYW1lOiAnYXR0aWJ1dGUtZ3JvdXAnXG4gICAgfSxcbiAgICAnWm9vbSc6IHtcbiAgICAgIHR5cGU6ICdUT09MJyxcbiAgICAgIHRvb2xOYW1lOiAnWm9vbScsXG4gICAgICBpc09ubHlFeHBhbmRlZDogdHJ1ZSxcbiAgICAgIGlzU2hvd0ljb25UaXRsZTogZmFsc2VcbiAgICB9LFxuICAgICdIb21lJzoge1xuICAgICAgdHlwZTogJ1RPT0wnLFxuICAgICAgdG9vbE5hbWU6ICdIb21lJyxcbiAgICAgIGlzT25seUV4cGFuZGVkOiB0cnVlLFxuICAgICAgaXNTaG93SWNvblRpdGxlOiBmYWxzZVxuICAgIH0sXG4gICAgJ0NvbXBhc3MnOiB7XG4gICAgICB0eXBlOiAnVE9PTCcsXG4gICAgICB0b29sTmFtZTogJ0NvbXBhc3MnLFxuICAgICAgaXNPbmx5RXhwYW5kZWQ6IHRydWUsXG4gICAgICBpc1Nob3dJY29uVGl0bGU6IGZhbHNlXG4gICAgfSxcbiAgICAnTmF2aWdhdGlvbic6IHtcbiAgICAgIHR5cGU6ICdUT09MJyxcbiAgICAgIHRvb2xOYW1lOiAnTmF2aWdhdGlvbicsXG4gICAgICBpc09ubHlFeHBhbmRlZDogdHJ1ZSxcbiAgICAgIGlzU2hvd0ljb25UaXRsZTogZmFsc2VcbiAgICB9LFxuICAgICdMb2NhdGUnOiB7XG4gICAgICB0eXBlOiAnVE9PTCcsXG4gICAgICB0b29sTmFtZTogJ0xvY2F0ZScsXG4gICAgICBpc09ubHlFeHBhbmRlZDogdHJ1ZSxcbiAgICAgIGlzU2hvd0ljb25UaXRsZTogZmFsc2VcbiAgICB9LFxuICAgICdMYXllcnMnOiB7XG4gICAgICB0eXBlOiAnVE9PTCcsXG4gICAgICB0b29sTmFtZTogJ0xheWVycycsXG4gICAgICBpc09ubHlFeHBhbmRlZDogZmFsc2UsXG4gICAgICBpc1Nob3dJY29uVGl0bGU6IHRydWUsXG4gICAgICBwYW5lbFBsYWNlbWVudDogJ2JvdHRvbSdcbiAgICB9LFxuICAgICdCYXNlTWFwJzoge1xuICAgICAgdHlwZTogJ1RPT0wnLFxuICAgICAgdG9vbE5hbWU6ICdCYXNlTWFwJyxcbiAgICAgIGlzT25seUV4cGFuZGVkOiBmYWxzZSxcbiAgICAgIGlzU2hvd0ljb25UaXRsZTogdHJ1ZSxcbiAgICAgIHBhbmVsUGxhY2VtZW50OiAnYm90dG9tJ1xuICAgIH0sXG4gICAgJ1NlbGVjdCc6IHtcbiAgICAgIHR5cGU6ICdUT09MJyxcbiAgICAgIHRvb2xOYW1lOiAnU2VsZWN0JyxcbiAgICAgIGlzT25seUV4cGFuZGVkOiB0cnVlLFxuICAgICAgaXNTaG93SWNvblRpdGxlOiB0cnVlXG4gICAgfSxcbiAgICAnU2VsZWN0U3RhdGUnOiB7XG4gICAgICB0eXBlOiAnVE9PTCcsXG4gICAgICB0b29sTmFtZTogJ1NlbGVjdFN0YXRlJyxcbiAgICAgIGlzT25seUV4cGFuZGVkOiB0cnVlLFxuICAgICAgaXNTaG93SWNvblRpdGxlOiBmYWxzZSxcbiAgICAgIHN0eWxlOiB7XG4gICAgICAgIGJveFNoYWRvdzogJzAgMXB4IDJweCAwIHJnYmEoMCwwLDAsMCknXG4gICAgICB9XG4gICAgfSxcbiAgICAnTWVhc3VyZSc6IHtcbiAgICAgIHR5cGU6ICdUT09MJyxcbiAgICAgIHRvb2xOYW1lOiAnTWVhc3VyZScsXG4gICAgICBpc09ubHlFeHBhbmRlZDogZmFsc2UsXG4gICAgICBpc1Nob3dJY29uVGl0bGU6IHRydWUsXG4gICAgICBwYW5lbFBsYWNlbWVudDogJ2JvdHRvbSdcbiAgICB9LFxuICAgICdNYXBTd2l0Y2gnOiB7XG4gICAgICB0eXBlOiAnVE9PTCcsXG4gICAgICB0b29sTmFtZTogJ01hcFN3aXRjaCcsXG4gICAgICBpc09ubHlFeHBhbmRlZDogdHJ1ZSxcbiAgICAgIGlzU2hvd0ljb25UaXRsZTogdHJ1ZSxcbiAgICB9LFxuICAgICdGdWxsU2NyZWVuJzoge1xuICAgICAgdHlwZTogJ1RPT0wnLFxuICAgICAgdG9vbE5hbWU6ICdGdWxsU2NyZWVuJyxcbiAgICAgIGlzT25seUV4cGFuZGVkOiBmYWxzZSxcbiAgICAgIGlzU2hvd0ljb25UaXRsZTogdHJ1ZVxuICAgIH0sXG4gICAgJ1NjYWxlQmFyJzoge1xuICAgICAgdHlwZTogJ1RPT0wnLFxuICAgICAgdG9vbE5hbWU6ICdTY2FsZUJhcicsXG4gICAgICBpc09ubHlFeHBhbmRlZDogdHJ1ZSxcbiAgICAgIGlzU2hvd0ljb25UaXRsZTogZmFsc2VcbiAgICB9LFxuICAgICdBdHRyaWJ1dGlvbic6IHtcbiAgICAgIHR5cGU6ICdUT09MJyxcbiAgICAgIHRvb2xOYW1lOiAnQXR0cmlidXRpb24nLFxuICAgICAgaXNPbmx5RXhwYW5kZWQ6IHRydWUsXG4gICAgICBpc1Nob3dJY29uVGl0bGU6IGZhbHNlLFxuICAgICAgY2xhc3NOYW1lOiAndy0xMDAnXG4gICAgfSxcbiAgICAnU2VhcmNoJzoge1xuICAgICAgdHlwZTogJ1RPT0wnLFxuICAgICAgdG9vbE5hbWU6ICdTZWFyY2gnLFxuICAgICAgaXNPbmx5RXhwYW5kZWQ6IGZhbHNlLFxuICAgICAgaXNTaG93SWNvblRpdGxlOiB0cnVlLFxuICAgICAgcGFuZWxQbGFjZW1lbnQ6ICdib3R0b20nXG4gICAgfSxcbiAgfSxcbiAgbGF5b3V0OiB7XG4gICAgJ25hdmlnYXRvcic6IHtcbiAgICAgIGNoaWxkcmVuOiBbJ0NvbXBhc3MnLCAnTG9jYXRlJywgJ05hdmlnYXRpb24nLCAnWm9vbScsICdIb21lJywgJ1NlbGVjdFN0YXRlJ11cbiAgICB9LFxuICAgICdpbnRlcmFjdCc6IHtcbiAgICAgIGNoaWxkcmVuOiBbJ1NlYXJjaCcsICdMYXllcnMnLCAnQmFzZU1hcCcsICdNZWFzdXJlJywgJ1NlbGVjdCddLFxuICAgICAgcG9zaXRpb246IHtcbiAgICAgICAgdG9wOiAxNSxcbiAgICAgICAgbGVmdDogMTVcbiAgICAgIH1cbiAgICB9LFxuICAgICdmdWxsU2NyZWVuR3JvdXAnOiB7XG4gICAgICBjaGlsZHJlbjogWydGdWxsU2NyZWVuJ10sXG4gICAgICBwb3NpdGlvbjoge1xuICAgICAgICB0b3A6IDE1LFxuICAgICAgICByaWdodDogMTVcbiAgICAgIH1cbiAgICB9LFxuICAgICdib3R0b20tbGluZTEnOiB7XG4gICAgICBjaGlsZHJlbjogWydTY2FsZUJhcicsICdhdHRyaWJ1dGlvbkdyb3VwJ11cbiAgICB9LFxuICAgICdib3R0b20tbGluZTInOiB7XG4gICAgICBjaGlsZHJlbjogWydNYXBTd2l0Y2gnLCAnbmF2aWdhdG9yJ11cbiAgICB9LFxuICAgICdib3R0b20nOiB7XG4gICAgICBjaGlsZHJlbjogWydib3R0b20tbGluZTInLCAnYm90dG9tLWxpbmUxJ10sXG4gICAgICBwb3NpdGlvbjoge1xuICAgICAgICBib3R0b206IDAsXG4gICAgICAgIGxlZnQ6IDBcbiAgICAgIH1cbiAgICB9LFxuICAgICdhdHRyaWJ1dGlvbkdyb3VwJzoge1xuICAgICAgY2hpbGRyZW46IFsnQXR0cmlidXRpb24nXVxuICAgIH1cbiAgfVxufSBhcyBMYXlvdXRKc29uO1xuLyogdHNsaW50OmVuYWJsZSAqL1xuXG5jb25zdCBsYXlvdXRKc29uczogTGF5b3V0SnNvbltdID0gW2xheW91dEpzb24xLCBsYXlvdXRKc29uMl1cblxuZXhwb3J0IGRlZmF1bHQgbGF5b3V0SnNvbnM7Il0sIm1hcHBpbmdzIjoiQUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/pc-layout-json.ts\n");

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/tool-modules.ts":
/*!*********************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/tool-modules.ts ***!
  \*********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _tools_zoom__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../tools/zoom */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/zoom.tsx\");\n/* harmony import */ var _tools_home__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../tools/home */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/home.tsx\");\n/* harmony import */ var _tools_compass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../tools/compass */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/compass.tsx\");\n/* harmony import */ var _tools_locate__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../tools/locate */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/locate.tsx\");\n/* harmony import */ var _tools_navigation__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../tools/navigation */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/navigation.tsx\");\n/* harmony import */ var _tools_search__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../tools/search */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/search.tsx\");\n/* harmony import */ var _tools_layers__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../tools/layers */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/layers.tsx\");\n/* harmony import */ var _tools_basemap__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../tools/basemap */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/basemap.tsx\");\n/* harmony import */ var _tools_mapswitch__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../tools/mapswitch */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/mapswitch.tsx\");\n/* harmony import */ var _tools_fullscreen__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../tools/fullscreen */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/fullscreen.tsx\");\n/* harmony import */ var _tools_scalebar__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../tools/scalebar */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/scalebar.tsx\");\n/* harmony import */ var _tools_attribution__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../tools/attribution */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/attribution.tsx\");\n/* harmony import */ var _tools_measure__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../tools/measure */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/measure.tsx\");\n/* harmony import */ var _tools_select__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../tools/select */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/select/index.tsx\");\n/* harmony import */ var _tools_selectstate__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../tools/selectstate */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/selectstate/index.tsx\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar ToolModules = {\n    Zoom: _tools_zoom__WEBPACK_IMPORTED_MODULE_0__[\"default\"],\n    Home: _tools_home__WEBPACK_IMPORTED_MODULE_1__[\"default\"],\n    Navigation: _tools_navigation__WEBPACK_IMPORTED_MODULE_4__[\"default\"],\n    Locate: _tools_locate__WEBPACK_IMPORTED_MODULE_3__[\"default\"],\n    Compass: _tools_compass__WEBPACK_IMPORTED_MODULE_2__[\"default\"],\n    Search: _tools_search__WEBPACK_IMPORTED_MODULE_5__[\"default\"],\n    Layers: _tools_layers__WEBPACK_IMPORTED_MODULE_6__[\"default\"],\n    BaseMap: _tools_basemap__WEBPACK_IMPORTED_MODULE_7__[\"default\"],\n    Measure: _tools_measure__WEBPACK_IMPORTED_MODULE_12__[\"default\"],\n    MapSwitch: _tools_mapswitch__WEBPACK_IMPORTED_MODULE_8__[\"default\"],\n    FullScreen: _tools_fullscreen__WEBPACK_IMPORTED_MODULE_9__[\"default\"],\n    ScaleBar: _tools_scalebar__WEBPACK_IMPORTED_MODULE_10__[\"default\"],\n    Attribution: _tools_attribution__WEBPACK_IMPORTED_MODULE_11__[\"default\"],\n    Select: _tools_select__WEBPACK_IMPORTED_MODULE_13__[\"default\"],\n    SelectState: _tools_selectstate__WEBPACK_IMPORTED_MODULE_14__[\"default\"]\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (ToolModules);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvbGF5b3V0L3Rvb2wtbW9kdWxlcy50cy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4dGVuc2lvbnMvd2lkZ2V0cy9hcmNnaXMvYXJjZ2lzLW1hcC9zcmMvcnVudGltZS9sYXlvdXQvdG9vbC1tb2R1bGVzLnRzPzlmYzQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFpvb20gZnJvbSAnLi4vdG9vbHMvem9vbSc7XG5pbXBvcnQgSG9tZSBmcm9tICcuLi90b29scy9ob21lJztcbmltcG9ydCBDb21wYXNzIGZyb20gJy4uL3Rvb2xzL2NvbXBhc3MnO1xuaW1wb3J0IExvY2F0ZSBmcm9tICcuLi90b29scy9sb2NhdGUnO1xuaW1wb3J0IE5hdmlnYXRpb24gZnJvbSAnLi4vdG9vbHMvbmF2aWdhdGlvbic7XG5pbXBvcnQgU2VhcmNoIGZyb20gJy4uL3Rvb2xzL3NlYXJjaCc7XG5pbXBvcnQgTGF5ZXJzIGZyb20gJy4uL3Rvb2xzL2xheWVycyc7XG5pbXBvcnQgQmFzZU1hcCBmcm9tICcuLi90b29scy9iYXNlbWFwJztcbmltcG9ydCBNYXBTd2l0Y2ggZnJvbSAnLi4vdG9vbHMvbWFwc3dpdGNoJztcbmltcG9ydCBGdWxsU2NyZWVuIGZyb20gJy4uL3Rvb2xzL2Z1bGxzY3JlZW4nO1xuaW1wb3J0IFNjYWxlQmFyIGZyb20gJy4uL3Rvb2xzL3NjYWxlYmFyJztcbmltcG9ydCBBdHRyaWJ1dGlvbiBmcm9tICcuLi90b29scy9hdHRyaWJ1dGlvbic7XG5pbXBvcnQgTWVhc3VyZSBmcm9tICcuLi90b29scy9tZWFzdXJlJztcbmltcG9ydCBTZWxlY3QgZnJvbSAnLi4vdG9vbHMvc2VsZWN0JztcbmltcG9ydCBTZWxlY3RTdGF0ZSBmcm9tICcuLi90b29scy9zZWxlY3RzdGF0ZSc7XG5cbmNvbnN0IFRvb2xNb2R1bGVzOiB7W01vZHVsZU5hbWU6IHN0cmluZ106IGFueX0gPSB7XG4gIFpvb206IFpvb20sXG4gIEhvbWU6IEhvbWUsXG4gIE5hdmlnYXRpb246IE5hdmlnYXRpb24sXG4gIExvY2F0ZTogTG9jYXRlLFxuICBDb21wYXNzOiBDb21wYXNzLFxuICBTZWFyY2g6IFNlYXJjaCxcbiAgTGF5ZXJzOiBMYXllcnMsXG4gIEJhc2VNYXA6IEJhc2VNYXAsXG4gIE1lYXN1cmU6IE1lYXN1cmUsXG4gIE1hcFN3aXRjaDogTWFwU3dpdGNoLFxuICBGdWxsU2NyZWVuOiBGdWxsU2NyZWVuLFxuICBTY2FsZUJhcjogU2NhbGVCYXIsXG4gIEF0dHJpYnV0aW9uOiBBdHRyaWJ1dGlvbixcbiAgU2VsZWN0OiBTZWxlY3QsXG4gIFNlbGVjdFN0YXRlOiBTZWxlY3RTdGF0ZVxufTtcblxuZXhwb3J0IGRlZmF1bHQgVG9vbE1vZHVsZXM7Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/tool-modules.ts\n");

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/attribution.tsx":
/*!********************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/attribution.tsx ***!
  \********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jimu_core__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../layout/base/base-tool */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/base-tool.tsx\");\n/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-arcgis */ \"jimu-arcgis\");\n/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__);\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\nvar Attribution = /** @class */ (function (_super) {\n    __extends(Attribution, _super);\n    function Attribution(props) {\n        var _this = _super.call(this, props) || this;\n        _this.toolName = 'Attribution';\n        return _this;\n    }\n    Attribution.getIsNeedSetting = function () {\n        return false;\n    };\n    Attribution.prototype.getTitle = function () {\n        return 'Attribution';\n    };\n    Attribution.prototype.getIcon = function () {\n        return null;\n    };\n    Attribution.prototype.getExpandPanel = function () {\n        return jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].createElement(AttributionInner, { jimuMapView: this.props.jimuMapView });\n    };\n    return Attribution;\n}(_layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__[\"BaseTool\"]));\n/* harmony default export */ __webpack_exports__[\"default\"] = (Attribution);\nvar AttributionInner = /** @class */ (function (_super) {\n    __extends(AttributionInner, _super);\n    function AttributionInner(props) {\n        var _this = _super.call(this, props) || this;\n        _this.Attribution = null;\n        _this.state = {\n            apiLoaded: false\n        };\n        return _this;\n    }\n    AttributionInner.prototype.componentDidMount = function () {\n        var _this = this;\n        if (!this.state.apiLoaded) {\n            Object(jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__[\"loadArcGISJSAPIModules\"])(['esri/widgets/Attribution']).then(function (modules) {\n                _this.Attribution = modules[0];\n                _this.setState({\n                    apiLoaded: true\n                });\n            });\n        }\n    };\n    AttributionInner.prototype.componentDidUpdate = function (prevProps) {\n        if (this.state.apiLoaded && this.container) {\n            if (prevProps.jimuMapView && this.props.jimuMapView && (prevProps.jimuMapView.id !== this.props.jimuMapView.id)) {\n                if (this.AttributionBtn) {\n                    this.AttributionBtn.view = this.props.jimuMapView.view;\n                    this.AttributionBtn.renderNow();\n                }\n            }\n            else {\n                this.AttributionBtn = new this.Attribution({\n                    container: this.container,\n                    view: this.props.jimuMapView.view\n                });\n            }\n        }\n    };\n    AttributionInner.prototype.componentWillUnmount = function () {\n        if (this.AttributionBtn) {\n            this.AttributionBtn.destroy();\n            this.AttributionBtn = null;\n        }\n    };\n    AttributionInner.prototype.render = function () {\n        var _this = this;\n        return jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].createElement(\"div\", { style: { position: 'relative' }, ref: function (ref) { _this.container = ref; } });\n    };\n    return AttributionInner;\n}(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].PureComponent));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvdG9vbHMvYXR0cmlidXRpb24udHN4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vZXh0ZW5zaW9ucy93aWRnZXRzL2FyY2dpcy9hcmNnaXMtbWFwL3NyYy9ydW50aW1lL3Rvb2xzL2F0dHJpYnV0aW9uLnRzeD81NDg2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7UmVhY3R9IGZyb20gJ2ppbXUtY29yZSc7XG5pbXBvcnQge0Jhc2VUb29sLCBCYXNlVG9vbFByb3BzLCBJY29uVHlwZX0gZnJvbSAnLi4vbGF5b3V0L2Jhc2UvYmFzZS10b29sJztcbmltcG9ydCB7bG9hZEFyY0dJU0pTQVBJTW9kdWxlcywgSmltdU1hcFZpZXd9IGZyb20gJ2ppbXUtYXJjZ2lzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXR0cmlidXRpb24gZXh0ZW5kcyBCYXNlVG9vbDxCYXNlVG9vbFByb3BzLCB1bmtub3duPiB7XG4gIHRvb2xOYW1lID0gJ0F0dHJpYnV0aW9uJztcblxuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgfVxuXG4gIHN0YXRpYyBnZXRJc05lZWRTZXR0aW5nICgpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBnZXRUaXRsZSgpIHtcbiAgICByZXR1cm4gJ0F0dHJpYnV0aW9uJztcbiAgfVxuXG4gIGdldEljb24oKTogSWNvblR5cGUge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgZ2V0RXhwYW5kUGFuZWwoKTogSlNYLkVsZW1lbnQge1xuICAgIHJldHVybiA8QXR0cmlidXRpb25Jbm5lciBqaW11TWFwVmlldz17dGhpcy5wcm9wcy5qaW11TWFwVmlld30+PC9BdHRyaWJ1dGlvbklubmVyPjtcbiAgfVxufVxuXG5pbnRlcmZhY2UgQXR0cmlidXRpb25Jbm5lclByb3BzIHtcbiAgamltdU1hcFZpZXc6IEppbXVNYXBWaWV3O1xufVxuXG5pbnRlcmZhY2UgQXR0cmlidXRpb25Jbm5lclN0YXRlIHtcbiAgYXBpTG9hZGVkOiBib29sZWFuO1xufVxuXG5cbmNsYXNzIEF0dHJpYnV0aW9uSW5uZXIgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50PEF0dHJpYnV0aW9uSW5uZXJQcm9wcywgQXR0cmlidXRpb25Jbm5lclN0YXRlPiB7XG4gIEF0dHJpYnV0aW9uOiB0eXBlb2YgX19lc3JpLkF0dHJpYnV0aW9uID0gbnVsbDtcbiAgQXR0cmlidXRpb25CdG46IF9fZXNyaS5BdHRyaWJ1dGlvbjtcbiAgY29udGFpbmVyOiBIVE1MRWxlbWVudDtcblxuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBhcGlMb2FkZWQ6IGZhbHNlXG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgaWYgKCF0aGlzLnN0YXRlLmFwaUxvYWRlZCkge1xuICAgICAgbG9hZEFyY0dJU0pTQVBJTW9kdWxlcyhbJ2Vzcmkvd2lkZ2V0cy9BdHRyaWJ1dGlvbiddKS50aGVuKG1vZHVsZXMgPT4ge1xuICAgICAgICBbdGhpcy5BdHRyaWJ1dGlvbl0gPSBtb2R1bGVzO1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBhcGlMb2FkZWQ6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICB9KVxuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudERpZFVwZGF0ZShwcmV2UHJvcHM6IEF0dHJpYnV0aW9uSW5uZXJQcm9wcykge1xuICAgIGlmICh0aGlzLnN0YXRlLmFwaUxvYWRlZCAmJiB0aGlzLmNvbnRhaW5lcikge1xuICAgICAgaWYgKHByZXZQcm9wcy5qaW11TWFwVmlldyAmJiB0aGlzLnByb3BzLmppbXVNYXBWaWV3ICYmIChwcmV2UHJvcHMuamltdU1hcFZpZXcuaWQgIT09IHRoaXMucHJvcHMuamltdU1hcFZpZXcuaWQpKSB7XG4gICAgICAgIGlmICh0aGlzLkF0dHJpYnV0aW9uQnRuKSB7XG4gICAgICAgICAgdGhpcy5BdHRyaWJ1dGlvbkJ0bi52aWV3ID0gdGhpcy5wcm9wcy5qaW11TWFwVmlldy52aWV3O1xuICAgICAgICAgIHRoaXMuQXR0cmlidXRpb25CdG4ucmVuZGVyTm93KCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuQXR0cmlidXRpb25CdG4gPSBuZXcgdGhpcy5BdHRyaWJ1dGlvbih7XG4gICAgICAgICAgY29udGFpbmVyOiB0aGlzLmNvbnRhaW5lcixcbiAgICAgICAgICB2aWV3OiB0aGlzLnByb3BzLmppbXVNYXBWaWV3LnZpZXdcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgaWYgKHRoaXMuQXR0cmlidXRpb25CdG4pIHtcbiAgICAgIHRoaXMuQXR0cmlidXRpb25CdG4uZGVzdHJveSgpO1xuICAgICAgdGhpcy5BdHRyaWJ1dGlvbkJ0biA9IG51bGw7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiA8ZGl2IHN0eWxlPXt7cG9zaXRpb246ICdyZWxhdGl2ZSd9fSByZWY9e3JlZiA9PiB7dGhpcy5jb250YWluZXIgPSByZWY7IH19PjwvZGl2PjtcbiAgfVxuXG5cbn0iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBR0E7QUFBQTtBQUZBOztBQUlBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTs7QUFXQTtBQUFBO0FBS0E7QUFBQTtBQUpBO0FBT0E7QUFDQTtBQUNBOztBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFHQTtBQUFBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/attribution.tsx\n");

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/basemap.tsx":
/*!****************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/basemap.tsx ***!
  \****************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jimu_core__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../layout/base/base-tool */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/base-tool.tsx\");\n/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-arcgis */ \"jimu-arcgis\");\n/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-ui */ \"jimu-ui\");\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(jimu_ui__WEBPACK_IMPORTED_MODULE_3__);\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\nvar BaseMap = /** @class */ (function (_super) {\n    __extends(BaseMap, _super);\n    function BaseMap(props) {\n        var _this = _super.call(this, props) || this;\n        _this.toolName = 'BaseMap';\n        return _this;\n    }\n    BaseMap.prototype.getTitle = function () {\n        return this.props.intl.formatMessage({ id: 'BaseMapLabel', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_3__[\"defaultMessages\"]['BaseMapLabel'] });\n    };\n    BaseMap.prototype.getIcon = function () {\n        return {\n            icon: __webpack_require__(/*! ../assets/icons/basemap.svg */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/basemap.svg\")\n        };\n    };\n    BaseMap.prototype.getExpandPanel = function () {\n        return jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].createElement(BaseMapInner, { jimuMapView: this.props.jimuMapView, isMobile: this.props.isMobile });\n    };\n    return BaseMap;\n}(_layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__[\"BaseTool\"]));\n/* harmony default export */ __webpack_exports__[\"default\"] = (BaseMap);\nvar BaseMapInner = /** @class */ (function (_super) {\n    __extends(BaseMapInner, _super);\n    function BaseMapInner(props) {\n        var _this = _super.call(this, props) || this;\n        _this.BaseMap = null;\n        _this.state = {\n            apiLoaded: false\n        };\n        return _this;\n    }\n    BaseMapInner.prototype.componentDidMount = function () {\n        var _this = this;\n        if (!this.state.apiLoaded) {\n            Object(jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__[\"loadArcGISJSAPIModules\"])(['esri/widgets/BasemapGallery']).then(function (modules) {\n                _this.BaseMap = modules[0];\n                _this.setState({\n                    apiLoaded: true\n                });\n            });\n        }\n    };\n    BaseMapInner.prototype.componentDidUpdate = function (prevProps) {\n        if (this.state.apiLoaded && this.container) {\n            if (prevProps.jimuMapView && this.props.jimuMapView && (prevProps.jimuMapView.id !== this.props.jimuMapView.id)) {\n                if (this.BaseMapBtn) {\n                    this.BaseMapBtn.view = this.props.jimuMapView.view;\n                    this.BaseMapBtn.renderNow();\n                }\n            }\n            else {\n                this.BaseMapBtn = new this.BaseMap({\n                    container: this.container,\n                    view: this.props.jimuMapView.view\n                });\n            }\n        }\n    };\n    BaseMapInner.prototype.componentWillUnmount = function () {\n        if (this.BaseMapBtn) {\n            this.BaseMapBtn.destroy();\n            this.BaseMapBtn = null;\n        }\n    };\n    BaseMapInner.prototype.render = function () {\n        var _this = this;\n        if (this.props.isMobile) {\n            return jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].createElement(\"div\", { ref: function (ref) { _this.container = ref; }, style: { width: '100%', minHeight: '32px', maxWidth: 'none', maxHeight: 'none', overflowY: 'auto', position: 'relative' } }, !this.state.apiLoaded && jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].createElement(\"div\", { className: \"exbmap-basetool-loader\" }));\n        }\n        else {\n            return jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].createElement(\"div\", { ref: function (ref) { _this.container = ref; }, style: { width: '250px', minHeight: '32px', position: 'relative' }, className: \"exbmap-ui-pc-expand-maxheight\" }, !this.state.apiLoaded && jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].createElement(\"div\", { className: \"exbmap-basetool-loader\" }));\n        }\n    };\n    return BaseMapInner;\n}(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].PureComponent));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvdG9vbHMvYmFzZW1hcC50c3guanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvdG9vbHMvYmFzZW1hcC50c3g/ZjI2ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1JlYWN0fSBmcm9tICdqaW11LWNvcmUnO1xuaW1wb3J0IHtCYXNlVG9vbCwgQmFzZVRvb2xQcm9wcywgSWNvblR5cGV9IGZyb20gJy4uL2xheW91dC9iYXNlL2Jhc2UtdG9vbCc7XG5pbXBvcnQge2xvYWRBcmNHSVNKU0FQSU1vZHVsZXMsIEppbXVNYXBWaWV3fSBmcm9tICdqaW11LWFyY2dpcyc7XG5pbXBvcnQge2RlZmF1bHRNZXNzYWdlc30gZnJvbSAnamltdS11aSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJhc2VNYXAgZXh0ZW5kcyBCYXNlVG9vbDxCYXNlVG9vbFByb3BzLCB1bmtub3duPiB7XG4gIHRvb2xOYW1lID0gJ0Jhc2VNYXAnO1xuXG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICB9XG5cbiAgZ2V0VGl0bGUoKSB7XG4gICAgcmV0dXJuIHRoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHtpZDogJ0Jhc2VNYXBMYWJlbCcsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXNbJ0Jhc2VNYXBMYWJlbCddfSk7XG4gIH1cblxuICBnZXRJY29uKCk6IEljb25UeXBlIHtcbiAgICByZXR1cm4ge1xuICAgICAgaWNvbjogcmVxdWlyZSgnLi4vYXNzZXRzL2ljb25zL2Jhc2VtYXAuc3ZnJylcbiAgICB9O1xuICB9XG5cbiAgZ2V0RXhwYW5kUGFuZWwoKTogSlNYLkVsZW1lbnQge1xuICAgIHJldHVybiA8QmFzZU1hcElubmVyIGppbXVNYXBWaWV3PXt0aGlzLnByb3BzLmppbXVNYXBWaWV3fSBpc01vYmlsZT17dGhpcy5wcm9wcy5pc01vYmlsZX0+PC9CYXNlTWFwSW5uZXI+O1xuICB9XG59XG5cbmludGVyZmFjZSBCYXNlTWFwSW5uZXJQcm9wcyB7XG4gIGppbXVNYXBWaWV3OiBKaW11TWFwVmlldztcbiAgaXNNb2JpbGU6IGJvb2xlYW47XG59XG5cbmludGVyZmFjZSBCYXNlTWFwSW5uZXJTdGF0ZSB7XG4gIGFwaUxvYWRlZDogYm9vbGVhbjtcbn1cblxuXG5jbGFzcyBCYXNlTWFwSW5uZXIgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50PEJhc2VNYXBJbm5lclByb3BzLCBCYXNlTWFwSW5uZXJTdGF0ZT4ge1xuICBCYXNlTWFwOiB0eXBlb2YgX19lc3JpLkJhc2VtYXBHYWxsZXJ5ID0gbnVsbDtcbiAgQmFzZU1hcEJ0bjogX19lc3JpLkJhc2VtYXBHYWxsZXJ5O1xuICBjb250YWluZXI6IEhUTUxFbGVtZW50O1xuXG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGFwaUxvYWRlZDogZmFsc2VcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBpZiAoIXRoaXMuc3RhdGUuYXBpTG9hZGVkKSB7XG4gICAgICBsb2FkQXJjR0lTSlNBUElNb2R1bGVzKFsnZXNyaS93aWRnZXRzL0Jhc2VtYXBHYWxsZXJ5J10pLnRoZW4obW9kdWxlcyA9PiB7XG4gICAgICAgIFt0aGlzLkJhc2VNYXBdID0gbW9kdWxlcztcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgYXBpTG9hZGVkOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzOiBCYXNlTWFwSW5uZXJQcm9wcykge1xuICAgIGlmICh0aGlzLnN0YXRlLmFwaUxvYWRlZCAmJiB0aGlzLmNvbnRhaW5lcikge1xuICAgICAgaWYgKHByZXZQcm9wcy5qaW11TWFwVmlldyAmJiB0aGlzLnByb3BzLmppbXVNYXBWaWV3ICYmIChwcmV2UHJvcHMuamltdU1hcFZpZXcuaWQgIT09IHRoaXMucHJvcHMuamltdU1hcFZpZXcuaWQpKSB7XG4gICAgICAgIGlmICh0aGlzLkJhc2VNYXBCdG4pIHtcbiAgICAgICAgICB0aGlzLkJhc2VNYXBCdG4udmlldyA9IHRoaXMucHJvcHMuamltdU1hcFZpZXcudmlldztcbiAgICAgICAgICB0aGlzLkJhc2VNYXBCdG4ucmVuZGVyTm93KCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuQmFzZU1hcEJ0biA9IG5ldyB0aGlzLkJhc2VNYXAoe1xuICAgICAgICAgIGNvbnRhaW5lcjogdGhpcy5jb250YWluZXIsXG4gICAgICAgICAgdmlldzogdGhpcy5wcm9wcy5qaW11TWFwVmlldy52aWV3XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIGlmICh0aGlzLkJhc2VNYXBCdG4pIHtcbiAgICAgIHRoaXMuQmFzZU1hcEJ0bi5kZXN0cm95KCk7XG4gICAgICB0aGlzLkJhc2VNYXBCdG4gPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5pc01vYmlsZSkge1xuICAgICAgcmV0dXJuIDxkaXYgcmVmPXtyZWYgPT4ge3RoaXMuY29udGFpbmVyID0gcmVmOyB9fSBzdHlsZT17e3dpZHRoOiAnMTAwJScsIG1pbkhlaWdodDogJzMycHgnLCBtYXhXaWR0aDogJ25vbmUnLCBtYXhIZWlnaHQ6ICdub25lJywgb3ZlcmZsb3dZOiAnYXV0bycsIHBvc2l0aW9uOiAncmVsYXRpdmUnfX0+XG4gICAgICAgIHshdGhpcy5zdGF0ZS5hcGlMb2FkZWQgJiYgPGRpdiBjbGFzc05hbWU9XCJleGJtYXAtYmFzZXRvb2wtbG9hZGVyXCI+PC9kaXY+fVxuICAgICAgPC9kaXY+O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gPGRpdiByZWY9e3JlZiA9PiB7dGhpcy5jb250YWluZXIgPSByZWY7IH19IHN0eWxlPXt7d2lkdGg6ICcyNTBweCcsIG1pbkhlaWdodDogJzMycHgnLCBwb3NpdGlvbjogJ3JlbGF0aXZlJ319XG4gICAgICAgIGNsYXNzTmFtZT1cImV4Ym1hcC11aS1wYy1leHBhbmQtbWF4aGVpZ2h0XCI+XG4gICAgICAgIHshdGhpcy5zdGF0ZS5hcGlMb2FkZWQgJiYgPGRpdiBjbGFzc05hbWU9XCJleGJtYXAtYmFzZXRvb2wtbG9hZGVyXCI+PC9kaXY+fVxuICAgICAgPC9kaXY+O1xuICAgIH1cbiAgfVxuXG5cbn0iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUdBO0FBQUE7QUFGQTs7QUFJQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBOztBQVlBO0FBQUE7QUFLQTtBQUFBO0FBSkE7QUFPQTtBQUNBO0FBQ0E7O0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUdBO0FBQUE7QUFDQTtBQUlBO0FBQ0E7QUFHQTtBQUFBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/basemap.tsx\n");

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/compass.tsx":
/*!****************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/compass.tsx ***!
  \****************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jimu_core__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../layout/base/base-tool */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/base-tool.tsx\");\n/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-arcgis */ \"jimu-arcgis\");\n/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-ui */ \"jimu-ui\");\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(jimu_ui__WEBPACK_IMPORTED_MODULE_3__);\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\nvar Compass = /** @class */ (function (_super) {\n    __extends(Compass, _super);\n    function Compass(props) {\n        var _this = _super.call(this, props) || this;\n        _this.toolName = 'Compass';\n        return _this;\n    }\n    Compass.prototype.getTitle = function () {\n        return this.props.intl.formatMessage({ id: 'CompassLabel', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_3__[\"defaultMessages\"]['CompassLabel'] });\n    };\n    Compass.prototype.getIcon = function () {\n        return null;\n    };\n    Compass.prototype.getExpandPanel = function () {\n        return jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].createElement(CompassInner, { jimuMapView: this.props.jimuMapView });\n    };\n    return Compass;\n}(_layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__[\"BaseTool\"]));\n/* harmony default export */ __webpack_exports__[\"default\"] = (Compass);\nvar CompassInner = /** @class */ (function (_super) {\n    __extends(CompassInner, _super);\n    function CompassInner(props) {\n        var _this = _super.call(this, props) || this;\n        _this.Compass = null;\n        _this.state = {\n            apiLoaded: false\n        };\n        return _this;\n    }\n    CompassInner.prototype.componentDidMount = function () {\n        var _this = this;\n        if (!this.state.apiLoaded) {\n            Object(jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__[\"loadArcGISJSAPIModules\"])(['esri/widgets/Compass']).then(function (modules) {\n                _this.Compass = modules[0];\n                _this.setState({\n                    apiLoaded: true\n                });\n            });\n        }\n    };\n    CompassInner.prototype.componentDidUpdate = function () {\n        if (this.state.apiLoaded && this.container) {\n            if (this.CompassBtn) {\n                this.container.innerHTML = '';\n            }\n            this.CompassBtn = new this.Compass({\n                container: this.container,\n                view: this.props.jimuMapView.view\n            });\n        }\n    };\n    CompassInner.prototype.componentWillUnmount = function () {\n        if (this.CompassBtn) {\n            this.CompassBtn.destroy();\n            this.CompassBtn = null;\n        }\n    };\n    CompassInner.prototype.render = function () {\n        var _this = this;\n        return jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].createElement(\"div\", { ref: function (ref) { _this.container = ref; } });\n    };\n    return CompassInner;\n}(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].PureComponent));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvdG9vbHMvY29tcGFzcy50c3guanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvdG9vbHMvY29tcGFzcy50c3g/ZGFiZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1JlYWN0fSBmcm9tICdqaW11LWNvcmUnO1xuaW1wb3J0IHtCYXNlVG9vbCwgQmFzZVRvb2xQcm9wcywgSWNvblR5cGV9IGZyb20gJy4uL2xheW91dC9iYXNlL2Jhc2UtdG9vbCc7XG5pbXBvcnQge2xvYWRBcmNHSVNKU0FQSU1vZHVsZXMsIEppbXVNYXBWaWV3fSBmcm9tICdqaW11LWFyY2dpcyc7XG5pbXBvcnQge2RlZmF1bHRNZXNzYWdlc30gZnJvbSAnamltdS11aSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbXBhc3MgZXh0ZW5kcyBCYXNlVG9vbDxCYXNlVG9vbFByb3BzLCB1bmtub3duPiB7XG4gIHRvb2xOYW1lID0gJ0NvbXBhc3MnO1xuXG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICB9XG5cbiAgZ2V0VGl0bGUoKSB7XG4gICAgcmV0dXJuIHRoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHtpZDogJ0NvbXBhc3NMYWJlbCcsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXNbJ0NvbXBhc3NMYWJlbCddfSk7XG4gIH1cblxuICBnZXRJY29uKCk6IEljb25UeXBlIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGdldEV4cGFuZFBhbmVsKCk6IEpTWC5FbGVtZW50IHtcbiAgICByZXR1cm4gPENvbXBhc3NJbm5lciBqaW11TWFwVmlldz17dGhpcy5wcm9wcy5qaW11TWFwVmlld30+PC9Db21wYXNzSW5uZXI+O1xuICB9XG59XG5cbmludGVyZmFjZSBDb21wYXNzSW5uZXJQcm9wcyB7XG4gIGppbXVNYXBWaWV3OiBKaW11TWFwVmlldztcbn1cblxuaW50ZXJmYWNlIENvbXBhc3NJbm5lclN0YXRlIHtcbiAgYXBpTG9hZGVkOiBib29sZWFuO1xufVxuXG5cbmNsYXNzIENvbXBhc3NJbm5lciBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQ8Q29tcGFzc0lubmVyUHJvcHMsIENvbXBhc3NJbm5lclN0YXRlPiB7XG4gIENvbXBhc3M6IHR5cGVvZiBfX2VzcmkuQ29tcGFzcyA9IG51bGw7XG4gIENvbXBhc3NCdG46IF9fZXNyaS5Db21wYXNzO1xuICBjb250YWluZXI6IEhUTUxFbGVtZW50O1xuXG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGFwaUxvYWRlZDogZmFsc2VcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBpZiAoIXRoaXMuc3RhdGUuYXBpTG9hZGVkKSB7XG4gICAgICBsb2FkQXJjR0lTSlNBUElNb2R1bGVzKFsnZXNyaS93aWRnZXRzL0NvbXBhc3MnXSkudGhlbihtb2R1bGVzID0+IHtcbiAgICAgICAgW3RoaXMuQ29tcGFzc10gPSBtb2R1bGVzO1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBhcGlMb2FkZWQ6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICB9KVxuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudERpZFVwZGF0ZSgpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5hcGlMb2FkZWQgJiYgdGhpcy5jb250YWluZXIpIHtcbiAgICAgIGlmICh0aGlzLkNvbXBhc3NCdG4pIHtcbiAgICAgICAgdGhpcy5jb250YWluZXIuaW5uZXJIVE1MID0gJyc7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuQ29tcGFzc0J0biA9IG5ldyB0aGlzLkNvbXBhc3Moe1xuICAgICAgICBjb250YWluZXI6IHRoaXMuY29udGFpbmVyLFxuICAgICAgICB2aWV3OiB0aGlzLnByb3BzLmppbXVNYXBWaWV3LnZpZXdcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIGlmICh0aGlzLkNvbXBhc3NCdG4pIHtcbiAgICAgIHRoaXMuQ29tcGFzc0J0bi5kZXN0cm95KCk7XG4gICAgICB0aGlzLkNvbXBhc3NCdG4gPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gPGRpdiByZWY9e3JlZiA9PiB7dGhpcy5jb250YWluZXIgPSByZWY7IH19PjwvZGl2PjtcbiAgfVxuXG5cbn0iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUdBO0FBQUE7QUFGQTs7QUFJQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7O0FBV0E7QUFBQTtBQUtBO0FBQUE7QUFKQTtBQU9BO0FBQ0E7QUFDQTs7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFHQTtBQUFBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/compass.tsx\n");

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/fullscreen.tsx":
/*!*******************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/fullscreen.tsx ***!
  \*******************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jimu_core__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../layout/base/base-tool */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/base-tool.tsx\");\n/* harmony import */ var _components_multisourcemap_context__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../components/multisourcemap-context */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/components/multisourcemap-context.ts\");\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-ui */ \"jimu-ui\");\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(jimu_ui__WEBPACK_IMPORTED_MODULE_3__);\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\nvar Fullscreen = /** @class */ (function (_super) {\n    __extends(Fullscreen, _super);\n    function Fullscreen(props) {\n        var _this = _super.call(this, props) || this;\n        _this.toolName = 'Fullscreen';\n        _this.isFullScreen = false;\n        _this.fullScreenMap = function () { };\n        _this.getContent = function (fullScreenMap, isFullScreen) {\n            _this.fullScreenMap = fullScreenMap;\n            _this.isFullScreen = isFullScreen;\n            return _super.prototype.render.call(_this);\n        };\n        return _this;\n    }\n    Fullscreen.prototype.getTitle = function () {\n        return this.props.intl.formatMessage({ id: 'FullScreenLabel', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_3__[\"defaultMessages\"]['FullScreenLabel'] });\n    };\n    Fullscreen.prototype.getIcon = function () {\n        var _this = this;\n        return {\n            icon: this.isFullScreen ? __webpack_require__(/*! ../assets/icons/exit-full-screen.svg */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/exit-full-screen.svg\") : __webpack_require__(/*! ../assets/icons/full-screen.svg */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/full-screen.svg\"),\n            onIconClick: function (evt) {\n                _this.fullScreenMap();\n            }\n        };\n    };\n    Fullscreen.prototype.getExpandPanel = function () {\n        return null;\n    };\n    Fullscreen.prototype.render = function () {\n        var _this = this;\n        return jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].createElement(_components_multisourcemap_context__WEBPACK_IMPORTED_MODULE_2__[\"MultiSourceMapContext\"].Consumer, null, function (_a) {\n            var fullScreenMap = _a.fullScreenMap, isFullScreen = _a.isFullScreen;\n            return (_this.getContent(fullScreenMap, isFullScreen));\n        });\n    };\n    return Fullscreen;\n}(_layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__[\"BaseTool\"]));\n/* harmony default export */ __webpack_exports__[\"default\"] = (Fullscreen);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvdG9vbHMvZnVsbHNjcmVlbi50c3guanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvdG9vbHMvZnVsbHNjcmVlbi50c3g/OTc2MiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1JlYWN0fSBmcm9tICdqaW11LWNvcmUnO1xuaW1wb3J0IHtCYXNlVG9vbCwgQmFzZVRvb2xQcm9wcywgSWNvblR5cGV9IGZyb20gJy4uL2xheW91dC9iYXNlL2Jhc2UtdG9vbCc7XG5pbXBvcnQge011bHRpU291cmNlTWFwQ29udGV4dH0gZnJvbSAnLi4vY29tcG9uZW50cy9tdWx0aXNvdXJjZW1hcC1jb250ZXh0JztcbmltcG9ydCB7ZGVmYXVsdE1lc3NhZ2VzfSBmcm9tICdqaW11LXVpJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRnVsbHNjcmVlbiBleHRlbmRzIEJhc2VUb29sPEJhc2VUb29sUHJvcHMsIHVua25vd24+IHtcbiAgdG9vbE5hbWUgPSAnRnVsbHNjcmVlbic7XG4gIGlzRnVsbFNjcmVlbiA9IGZhbHNlO1xuXG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICB9XG5cbiAgZ2V0VGl0bGUoKSB7XG4gICAgcmV0dXJuIHRoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHtpZDogJ0Z1bGxTY3JlZW5MYWJlbCcsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXNbJ0Z1bGxTY3JlZW5MYWJlbCddfSk7XG4gIH1cblxuICBnZXRJY29uKCk6IEljb25UeXBlIHtcbiAgICByZXR1cm4ge1xuICAgICAgaWNvbjogdGhpcy5pc0Z1bGxTY3JlZW4gPyByZXF1aXJlKCcuLi9hc3NldHMvaWNvbnMvZXhpdC1mdWxsLXNjcmVlbi5zdmcnKSA6IHJlcXVpcmUoJy4uL2Fzc2V0cy9pY29ucy9mdWxsLXNjcmVlbi5zdmcnKSxcbiAgICAgIG9uSWNvbkNsaWNrOiAoZXZ0PzogUmVhY3QuTW91c2VFdmVudDxhbnk+KSA9PiB7XG4gICAgICAgIHRoaXMuZnVsbFNjcmVlbk1hcCgpO1xuICAgICAgfVxuICAgIH07XG4gIH1cblxuICBmdWxsU2NyZWVuTWFwID0gKCkgPT4ge307XG5cbiAgZ2V0RXhwYW5kUGFuZWwoKTogSlNYLkVsZW1lbnQge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgZ2V0Q29udGVudCA9IChmdWxsU2NyZWVuTWFwLCBpc0Z1bGxTY3JlZW4pID0+IHtcbiAgICB0aGlzLmZ1bGxTY3JlZW5NYXAgPSBmdWxsU2NyZWVuTWFwO1xuICAgIHRoaXMuaXNGdWxsU2NyZWVuID0gaXNGdWxsU2NyZWVuO1xuICAgIHJldHVybiBzdXBlci5yZW5kZXIoKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gPE11bHRpU291cmNlTWFwQ29udGV4dC5Db25zdW1lcj5cbiAgICAgIHsoe2Z1bGxTY3JlZW5NYXAsIGlzRnVsbFNjcmVlbn0pID0+IChcbiAgICAgICAgdGhpcy5nZXRDb250ZW50KGZ1bGxTY3JlZW5NYXAsIGlzRnVsbFNjcmVlbilcbiAgICAgICl9XG4gICAgPC9NdWx0aVNvdXJjZU1hcENvbnRleHQuQ29uc3VtZXI+O1xuICB9XG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUlBO0FBQUE7QUFIQTtBQUNBO0FBbUJBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUF6QkE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFRQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFJQTtBQUNBO0FBQUE7OyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/fullscreen.tsx\n");

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/home.tsx":
/*!*************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/home.tsx ***!
  \*************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jimu_core__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../layout/base/base-tool */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/base-tool.tsx\");\n/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-arcgis */ \"jimu-arcgis\");\n/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-ui */ \"jimu-ui\");\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(jimu_ui__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _components_multisourcemap_context__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/multisourcemap-context */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/components/multisourcemap-context.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\nvar Home = /** @class */ (function (_super) {\n    __extends(Home, _super);\n    function Home(props) {\n        var _this = _super.call(this, props) || this;\n        _this.toolName = 'Home';\n        _this.getHomeContent = function (initialMapState) {\n            return jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].createElement(HomeInner, { jimuMapView: _this.props.jimuMapView, initialMapState: initialMapState });\n        };\n        return _this;\n    }\n    Home.prototype.getTitle = function () {\n        return this.props.intl.formatMessage({ id: 'HomeLabel', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_3__[\"defaultMessages\"]['HomeLabel'] });\n    };\n    Home.prototype.getIcon = function () {\n        return null;\n    };\n    Home.prototype.getExpandPanel = function () {\n        var _this = this;\n        //return <HomeInner jimuMapView={this.props.jimuMapView}></HomeInner>;\n        return jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].createElement(_components_multisourcemap_context__WEBPACK_IMPORTED_MODULE_4__[\"MultiSourceMapContext\"].Consumer, null, function (_a) {\n            var initialMapState = _a.initialMapState;\n            return (_this.getHomeContent(initialMapState));\n        });\n    };\n    return Home;\n}(_layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__[\"BaseTool\"]));\n/* harmony default export */ __webpack_exports__[\"default\"] = (Home);\nvar HomeInner = /** @class */ (function (_super) {\n    __extends(HomeInner, _super);\n    function HomeInner(props) {\n        var _this = _super.call(this, props) || this;\n        _this.Home = null;\n        _this.generateViewPointFromInitialMapState = function (initialMapState) {\n            if (initialMapState.viewType === '2d') {\n                return new _this.Viewpoint({\n                    targetGeometry: _this.Extent.fromJSON(initialMapState.extent),\n                    rotation: initialMapState.rotation\n                });\n            }\n            else {\n                return _this.Viewpoint.fromJSON(initialMapState.viewPoint);\n            }\n        };\n        _this.state = {\n            apiLoaded: false\n        };\n        return _this;\n    }\n    HomeInner.prototype.componentDidMount = function () {\n        var _this = this;\n        if (!this.state.apiLoaded) {\n            Object(jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__[\"loadArcGISJSAPIModules\"])(['esri/widgets/Home',\n                'esri/geometry/Extent',\n                'esri/Viewpoint']).then(function (modules) {\n                _this.Home = modules[0], _this.Extent = modules[1], _this.Viewpoint = modules[2];\n                _this.setState({\n                    apiLoaded: true\n                });\n            });\n        }\n    };\n    HomeInner.prototype.componentDidUpdate = function (prevProps) {\n        if (this.state.apiLoaded && this.container) {\n            if (this.homeBtn) {\n                this.container.innerHTML = '';\n            }\n            this.homeBtn = new this.Home({\n                container: this.container,\n                view: this.props.jimuMapView.view,\n                viewpoint: this.props.initialMapState ? this.generateViewPointFromInitialMapState(this.props.initialMapState)\n                    : this.props.jimuMapView.view.map.initialViewProperties.viewpoint\n            });\n            if (prevProps.initialMapState !== this.props.initialMapState) {\n                this.props.jimuMapView.view.goTo(this.homeBtn.viewpoint, {\n                    animate: false\n                });\n            }\n        }\n    };\n    HomeInner.prototype.componentWillUnmount = function () {\n        if (this.homeBtn) {\n            this.homeBtn.destroy();\n            this.homeBtn = null;\n        }\n    };\n    HomeInner.prototype.render = function () {\n        var _this = this;\n        return jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].createElement(\"div\", { className: \"esri-widget--button\", ref: function (ref) { if (!_this.container) {\n                _this.container = ref;\n            } } });\n    };\n    return HomeInner;\n}(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].PureComponent));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvdG9vbHMvaG9tZS50c3guanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvdG9vbHMvaG9tZS50c3g/NjdjMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1JlYWN0fSBmcm9tICdqaW11LWNvcmUnO1xuaW1wb3J0IHtCYXNlVG9vbCwgQmFzZVRvb2xQcm9wcywgSWNvblR5cGV9IGZyb20gJy4uL2xheW91dC9iYXNlL2Jhc2UtdG9vbCc7XG5pbXBvcnQge2xvYWRBcmNHSVNKU0FQSU1vZHVsZXMsIEppbXVNYXBWaWV3fSBmcm9tICdqaW11LWFyY2dpcyc7XG5pbXBvcnQge2RlZmF1bHRNZXNzYWdlc30gZnJvbSAnamltdS11aSc7XG5pbXBvcnQge0luaXRpYWxNYXBTdGF0ZX0gZnJvbSAnamltdS11aS9hZHZhbmNlZC9tYXAnO1xuaW1wb3J0IHtNdWx0aVNvdXJjZU1hcENvbnRleHR9IGZyb20gJy4uL2NvbXBvbmVudHMvbXVsdGlzb3VyY2VtYXAtY29udGV4dCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEhvbWUgZXh0ZW5kcyBCYXNlVG9vbDxCYXNlVG9vbFByb3BzLCB1bmtub3duPiB7XG4gIHRvb2xOYW1lID0gJ0hvbWUnO1xuXG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICB9XG5cbiAgZ2V0VGl0bGUoKSB7XG4gICAgcmV0dXJuIHRoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHtpZDogJ0hvbWVMYWJlbCcsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXNbJ0hvbWVMYWJlbCddfSk7XG4gIH1cblxuICBnZXRJY29uKCk6IEljb25UeXBlIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGdldEhvbWVDb250ZW50ID0gKGluaXRpYWxNYXBTdGF0ZTogSW5pdGlhbE1hcFN0YXRlKSA9PiB7XG4gICAgcmV0dXJuIDxIb21lSW5uZXIgamltdU1hcFZpZXc9e3RoaXMucHJvcHMuamltdU1hcFZpZXd9IGluaXRpYWxNYXBTdGF0ZT17aW5pdGlhbE1hcFN0YXRlfT48L0hvbWVJbm5lcj47XG4gIH1cblxuICBnZXRFeHBhbmRQYW5lbCgpOiBKU1guRWxlbWVudCB7XG4gICAgLy9yZXR1cm4gPEhvbWVJbm5lciBqaW11TWFwVmlldz17dGhpcy5wcm9wcy5qaW11TWFwVmlld30+PC9Ib21lSW5uZXI+O1xuICAgIHJldHVybiA8TXVsdGlTb3VyY2VNYXBDb250ZXh0LkNvbnN1bWVyPlxuICAgICAgeyh7aW5pdGlhbE1hcFN0YXRlfSkgPT4gKFxuICAgICAgICB0aGlzLmdldEhvbWVDb250ZW50KGluaXRpYWxNYXBTdGF0ZSlcbiAgICAgICl9XG4gICAgPC9NdWx0aVNvdXJjZU1hcENvbnRleHQuQ29uc3VtZXI+XG4gIH1cbn1cblxuaW50ZXJmYWNlIEhvbWVJbm5lclByb3BzIHtcbiAgamltdU1hcFZpZXc6IEppbXVNYXBWaWV3O1xuICBpbml0aWFsTWFwU3RhdGU6IEluaXRpYWxNYXBTdGF0ZTtcbn1cblxuaW50ZXJmYWNlIEhvbWVJbm5lclN0YXRlIHtcbiAgYXBpTG9hZGVkOiBib29sZWFuO1xufVxuXG5jbGFzcyBIb21lSW5uZXIgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50PEhvbWVJbm5lclByb3BzLCBIb21lSW5uZXJTdGF0ZT4ge1xuICBIb21lOiB0eXBlb2YgX19lc3JpLkhvbWUgPSBudWxsO1xuICBFeHRlbnQ6IHR5cGVvZiAgX19lc3JpLmdlb21ldHJ5LkV4dGVudDtcbiAgVmlld3BvaW50OiB0eXBlb2YgIF9fZXNyaS5WaWV3cG9pbnQ7XG5cbiAgaG9tZUJ0bjogX19lc3JpLkhvbWU7XG4gIGNvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XG5cbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgYXBpTG9hZGVkOiBmYWxzZVxuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGlmICghdGhpcy5zdGF0ZS5hcGlMb2FkZWQpIHtcbiAgICAgIGxvYWRBcmNHSVNKU0FQSU1vZHVsZXMoWydlc3JpL3dpZGdldHMvSG9tZScsXG4gICAgICAgICdlc3JpL2dlb21ldHJ5L0V4dGVudCcsXG4gICAgICAgICdlc3JpL1ZpZXdwb2ludCddKS50aGVuKG1vZHVsZXMgPT4ge1xuICAgICAgICBbdGhpcy5Ib21lLCB0aGlzLkV4dGVudCwgdGhpcy5WaWV3cG9pbnRdID0gbW9kdWxlcztcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgYXBpTG9hZGVkOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzOiBIb21lSW5uZXJQcm9wcykge1xuICAgIGlmICh0aGlzLnN0YXRlLmFwaUxvYWRlZCAmJiB0aGlzLmNvbnRhaW5lcikge1xuICAgICAgaWYgKHRoaXMuaG9tZUJ0bikge1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5pbm5lckhUTUwgPSAnJztcbiAgICAgIH1cblxuICAgICAgdGhpcy5ob21lQnRuID0gbmV3IHRoaXMuSG9tZSh7XG4gICAgICAgIGNvbnRhaW5lcjogdGhpcy5jb250YWluZXIsXG4gICAgICAgIHZpZXc6IHRoaXMucHJvcHMuamltdU1hcFZpZXcudmlldyxcbiAgICAgICAgdmlld3BvaW50OiB0aGlzLnByb3BzLmluaXRpYWxNYXBTdGF0ZSA/IHRoaXMuZ2VuZXJhdGVWaWV3UG9pbnRGcm9tSW5pdGlhbE1hcFN0YXRlKHRoaXMucHJvcHMuaW5pdGlhbE1hcFN0YXRlKVxuICAgICAgICAgIDogKHRoaXMucHJvcHMuamltdU1hcFZpZXcudmlldy5tYXAgYXMgX19lc3JpLldlYk1hcCB8IF9fZXNyaS5XZWJTY2VuZSkuaW5pdGlhbFZpZXdQcm9wZXJ0aWVzLnZpZXdwb2ludFxuICAgICAgfSk7XG5cbiAgICAgIGlmIChwcmV2UHJvcHMuaW5pdGlhbE1hcFN0YXRlICE9PSB0aGlzLnByb3BzLmluaXRpYWxNYXBTdGF0ZSkge1xuICAgICAgICB0aGlzLnByb3BzLmppbXVNYXBWaWV3LnZpZXcuZ29Ubyh0aGlzLmhvbWVCdG4udmlld3BvaW50LCB7XG4gICAgICAgICAgYW5pbWF0ZTogZmFsc2VcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBnZW5lcmF0ZVZpZXdQb2ludEZyb21Jbml0aWFsTWFwU3RhdGUgPSAoaW5pdGlhbE1hcFN0YXRlOiBJbml0aWFsTWFwU3RhdGUpOiBfX2VzcmkuVmlld3BvaW50ID0+IHtcbiAgICBpZiAoaW5pdGlhbE1hcFN0YXRlLnZpZXdUeXBlID09PSAnMmQnKSB7XG4gICAgICByZXR1cm4gbmV3IHRoaXMuVmlld3BvaW50KFxuICAgICAgICB7XG4gICAgICAgICAgdGFyZ2V0R2VvbWV0cnk6IHRoaXMuRXh0ZW50LmZyb21KU09OKGluaXRpYWxNYXBTdGF0ZS5leHRlbnQpLFxuICAgICAgICAgIHJvdGF0aW9uOiBpbml0aWFsTWFwU3RhdGUucm90YXRpb25cbiAgICAgICAgfVxuICAgICAgKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5WaWV3cG9pbnQuZnJvbUpTT04oaW5pdGlhbE1hcFN0YXRlLnZpZXdQb2ludCk7XG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgaWYgKHRoaXMuaG9tZUJ0bikge1xuICAgICAgdGhpcy5ob21lQnRuLmRlc3Ryb3koKTtcbiAgICAgIHRoaXMuaG9tZUJ0biA9IG51bGw7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cImVzcmktd2lkZ2V0LS1idXR0b25cIiByZWY9e3JlZiA9PiB7aWYgKCF0aGlzLmNvbnRhaW5lcikge3RoaXMuY29udGFpbmVyID0gcmVmOyB9IH19PjwvZGl2PjtcbiAgfVxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUFBO0FBR0E7QUFBQTtBQUZBO0FBY0E7QUFDQTtBQUNBOztBQVpBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBTUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFJQTtBQUNBO0FBQUE7O0FBV0E7QUFBQTtBQVFBO0FBQUE7QUFQQTtBQWlEQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBbERBO0FBQ0E7QUFDQTs7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBZUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/home.tsx\n");

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/layers.tsx":
/*!***************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/layers.tsx ***!
  \***************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jimu_core__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../layout/base/base-tool */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/base-tool.tsx\");\n/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-arcgis */ \"jimu-arcgis\");\n/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-ui */ \"jimu-ui\");\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(jimu_ui__WEBPACK_IMPORTED_MODULE_3__);\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\nvar Layers = /** @class */ (function (_super) {\n    __extends(Layers, _super);\n    function Layers(props) {\n        var _this = _super.call(this, props) || this;\n        _this.toolName = 'Layers';\n        _this.handleTabIndexChange = function (activeTabIndex) {\n            _this.setState({\n                activeTabIndex: activeTabIndex\n            });\n        };\n        _this.state = {\n            activeTabIndex: 0\n        };\n        return _this;\n    }\n    Layers.prototype.getTitle = function () {\n        return this.props.intl.formatMessage({ id: 'LayersLabel', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_3__[\"defaultMessages\"]['LayersLabel'] });\n    };\n    Layers.prototype.getIcon = function () {\n        return {\n            icon: __webpack_require__(/*! ../assets/icons/layerlist.svg */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/layerlist.svg\")\n        };\n    };\n    Layers.prototype.getExpandPanel = function () {\n        var _this = this;\n        return jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].createElement(\"div\", { style: { width: this.props.isMobile ? '100%' : '250px', minHeight: '32px', position: 'relative' }, className: Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"classNames\"])({ 'exbmap-ui-pc-expand-maxheight': !this.props.isMobile }) },\n            jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_3__[\"Nav\"], { tabs: true },\n                jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_3__[\"NavItem\"], null,\n                    jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_3__[\"NavLink\"], { active: this.state.activeTabIndex === 0, onClick: function () { _this.handleTabIndexChange(0); } }, this.props.intl.formatMessage({ id: 'LayersLabelLayer', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_3__[\"defaultMessages\"]['LayersLabelLayer'] }))),\n                jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_3__[\"NavItem\"], null,\n                    jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_3__[\"NavLink\"], { active: this.state.activeTabIndex === 1, onClick: function () { _this.handleTabIndexChange(1); } }, this.props.intl.formatMessage({ id: 'LayersLabelLegend', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_3__[\"defaultMessages\"]['LayersLabelLegend'] })))),\n            jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].createElement(\"div\", { className: \"mt-1\" }),\n            this.state.activeTabIndex === 0 && jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].createElement(LayerListInner, { jimuMapView: this.props.jimuMapView }),\n            this.state.activeTabIndex === 1 && jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].createElement(LegendInner, { jimuMapView: this.props.jimuMapView }));\n    };\n    return Layers;\n}(_layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__[\"BaseTool\"]));\n/* harmony default export */ __webpack_exports__[\"default\"] = (Layers);\nvar LayerListInner = /** @class */ (function (_super) {\n    __extends(LayerListInner, _super);\n    function LayerListInner(props) {\n        var _this = _super.call(this, props) || this;\n        _this.LayerList = null;\n        _this.state = {\n            apiLoaded: false\n        };\n        return _this;\n    }\n    LayerListInner.prototype.componentDidMount = function () {\n        var _this = this;\n        if (!this.state.apiLoaded) {\n            Object(jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__[\"loadArcGISJSAPIModules\"])(['esri/widgets/LayerList']).then(function (modules) {\n                _this.LayerList = modules[0];\n                _this.setState({\n                    apiLoaded: true\n                });\n            });\n        }\n    };\n    LayerListInner.prototype.componentDidUpdate = function (prevProps) {\n        if (this.state.apiLoaded && this.container) {\n            if (prevProps.jimuMapView && this.props.jimuMapView && (prevProps.jimuMapView.id !== this.props.jimuMapView.id)) {\n                if (this.LayerListBtn) {\n                    this.LayerListBtn.view = this.props.jimuMapView.view;\n                    this.LayerListBtn.renderNow();\n                }\n            }\n            else {\n                this.LayerListBtn = new this.LayerList({\n                    container: this.container,\n                    view: this.props.jimuMapView.view\n                });\n            }\n        }\n    };\n    LayerListInner.prototype.componentWillUnmount = function () {\n        if (this.LayerListBtn) {\n            this.LayerListBtn = null;\n        }\n    };\n    LayerListInner.prototype.render = function () {\n        var _this = this;\n        return jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].createElement(\"div\", { ref: function (ref) { _this.container = ref; }, style: { width: '100%', minHeight: '32px', position: 'relative' } }, !this.state.apiLoaded && jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].createElement(\"div\", { className: \"exbmap-basetool-loader\" }));\n    };\n    return LayerListInner;\n}(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].PureComponent));\nvar LegendInner = /** @class */ (function (_super) {\n    __extends(LegendInner, _super);\n    function LegendInner(props) {\n        var _this = _super.call(this, props) || this;\n        _this.Legend = null;\n        _this.state = {\n            apiLoaded: false\n        };\n        return _this;\n    }\n    LegendInner.prototype.componentDidMount = function () {\n        var _this = this;\n        if (!this.state.apiLoaded) {\n            Object(jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__[\"loadArcGISJSAPIModules\"])(['esri/widgets/Legend']).then(function (modules) {\n                _this.Legend = modules[0];\n                _this.setState({\n                    apiLoaded: true\n                });\n            });\n        }\n    };\n    LegendInner.prototype.componentDidUpdate = function (prevProps) {\n        if (this.state.apiLoaded && this.container) {\n            if (prevProps.jimuMapView && this.props.jimuMapView && (prevProps.jimuMapView.id !== this.props.jimuMapView.id)) {\n                if (this.LegendBtn) {\n                    this.LegendBtn.view = this.props.jimuMapView.view;\n                    this.LegendBtn.renderNow();\n                }\n            }\n            else {\n                this.LegendBtn = new this.Legend({\n                    container: this.container,\n                    view: this.props.jimuMapView.view\n                });\n            }\n        }\n    };\n    LegendInner.prototype.componentWillUnmount = function () {\n        if (this.LegendBtn) {\n            this.LegendBtn = null;\n        }\n    };\n    LegendInner.prototype.render = function () {\n        var _this = this;\n        return jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].createElement(\"div\", { ref: function (ref) { _this.container = ref; }, style: { width: '100%', minHeight: '32px', position: 'relative' } }, !this.state.apiLoaded && jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].createElement(\"div\", { className: \"exbmap-basetool-loader\" }));\n    };\n    return LegendInner;\n}(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].PureComponent));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvdG9vbHMvbGF5ZXJzLnRzeC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4dGVuc2lvbnMvd2lkZ2V0cy9hcmNnaXMvYXJjZ2lzLW1hcC9zcmMvcnVudGltZS90b29scy9sYXllcnMudHN4PzIyZjciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtSZWFjdCwgY2xhc3NOYW1lc30gZnJvbSAnamltdS1jb3JlJztcbmltcG9ydCB7QmFzZVRvb2wsIEJhc2VUb29sUHJvcHMsIEljb25UeXBlfSBmcm9tICcuLi9sYXlvdXQvYmFzZS9iYXNlLXRvb2wnO1xuaW1wb3J0IHtsb2FkQXJjR0lTSlNBUElNb2R1bGVzLCBKaW11TWFwVmlld30gZnJvbSAnamltdS1hcmNnaXMnO1xuaW1wb3J0IHtkZWZhdWx0TWVzc2FnZXN9IGZyb20gJ2ppbXUtdWknO1xuaW1wb3J0IHtOYXYsIE5hdkl0ZW0sIE5hdkxpbmt9IGZyb20gJ2ppbXUtdWknO1xuXG5pbnRlcmZhY2UgU3RhdGVzIHtcbiAgYWN0aXZlVGFiSW5kZXg6IG51bWJlcjtcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTGF5ZXJzIGV4dGVuZHMgQmFzZVRvb2w8QmFzZVRvb2xQcm9wcywgU3RhdGVzPiB7XG4gIHRvb2xOYW1lID0gJ0xheWVycyc7XG5cbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGFjdGl2ZVRhYkluZGV4OiAwXG4gICAgfVxuICB9XG5cbiAgZ2V0VGl0bGUoKSB7XG4gICAgcmV0dXJuIHRoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHtpZDogJ0xheWVyc0xhYmVsJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlc1snTGF5ZXJzTGFiZWwnXX0pO1xuICB9XG5cbiAgZ2V0SWNvbigpOiBJY29uVHlwZSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGljb246IHJlcXVpcmUoJy4uL2Fzc2V0cy9pY29ucy9sYXllcmxpc3Quc3ZnJylcbiAgICB9O1xuICB9XG5cbiAgZ2V0RXhwYW5kUGFuZWwoKTogSlNYLkVsZW1lbnQge1xuICAgIHJldHVybiA8ZGl2IHN0eWxlPXt7d2lkdGg6IHRoaXMucHJvcHMuaXNNb2JpbGUgPyAnMTAwJScgOiAnMjUwcHgnLCBtaW5IZWlnaHQ6ICczMnB4JywgcG9zaXRpb246ICdyZWxhdGl2ZSd9fVxuICAgICAgY2xhc3NOYW1lPXtjbGFzc05hbWVzKHsnZXhibWFwLXVpLXBjLWV4cGFuZC1tYXhoZWlnaHQnOiAhdGhpcy5wcm9wcy5pc01vYmlsZX0pfT5cbiAgICAgIDxOYXYgdGFicz5cbiAgICAgICAgPE5hdkl0ZW0+XG4gICAgICAgICAgPE5hdkxpbmsgYWN0aXZlPXt0aGlzLnN0YXRlLmFjdGl2ZVRhYkluZGV4ID09PSAwfSBvbkNsaWNrPXsoKSA9PiB7dGhpcy5oYW5kbGVUYWJJbmRleENoYW5nZSgwKX19PlxuICAgICAgICAgICAge3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHtpZDogJ0xheWVyc0xhYmVsTGF5ZXInLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzWydMYXllcnNMYWJlbExheWVyJ119KX1cbiAgICAgICAgICA8L05hdkxpbms+XG4gICAgICAgIDwvTmF2SXRlbT5cbiAgICAgICAgPE5hdkl0ZW0+XG4gICAgICAgICAgPE5hdkxpbmsgYWN0aXZlPXt0aGlzLnN0YXRlLmFjdGl2ZVRhYkluZGV4ID09PSAxfSBvbkNsaWNrPXsoKSA9PiB7dGhpcy5oYW5kbGVUYWJJbmRleENoYW5nZSgxKX19PlxuICAgICAgICAgICAge3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHtpZDogJ0xheWVyc0xhYmVsTGVnZW5kJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlc1snTGF5ZXJzTGFiZWxMZWdlbmQnXX0pfVxuICAgICAgICAgIDwvTmF2TGluaz5cbiAgICAgICAgPC9OYXZJdGVtPlxuICAgICAgPC9OYXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTFcIj48L2Rpdj5cbiAgICAgIHt0aGlzLnN0YXRlLmFjdGl2ZVRhYkluZGV4ID09PSAwICYmIDxMYXllckxpc3RJbm5lciBqaW11TWFwVmlldz17dGhpcy5wcm9wcy5qaW11TWFwVmlld30+PC9MYXllckxpc3RJbm5lcj59XG4gICAgICB7dGhpcy5zdGF0ZS5hY3RpdmVUYWJJbmRleCA9PT0gMSAmJiA8TGVnZW5kSW5uZXIgamltdU1hcFZpZXc9e3RoaXMucHJvcHMuamltdU1hcFZpZXd9PjwvTGVnZW5kSW5uZXI+fVxuICAgIDwvZGl2PjtcbiAgfVxuXG4gIGhhbmRsZVRhYkluZGV4Q2hhbmdlID0gKGFjdGl2ZVRhYkluZGV4OiBudW1iZXIpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGFjdGl2ZVRhYkluZGV4OiBhY3RpdmVUYWJJbmRleFxuICAgIH0pO1xuICB9XG59XG5cbmludGVyZmFjZSBJbm5lclByb3BzIHtcbiAgamltdU1hcFZpZXc6IEppbXVNYXBWaWV3O1xufVxuXG5pbnRlcmZhY2UgSW5uZXJTdGF0ZSB7XG4gIGFwaUxvYWRlZDogYm9vbGVhbjtcbn1cblxuXG5jbGFzcyBMYXllckxpc3RJbm5lciBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQ8SW5uZXJQcm9wcywgSW5uZXJTdGF0ZT4ge1xuICBMYXllckxpc3Q6IHR5cGVvZiBfX2VzcmkuTGF5ZXJMaXN0ID0gbnVsbDtcbiAgTGF5ZXJMaXN0QnRuOiBfX2VzcmkuTGF5ZXJMaXN0O1xuICBjb250YWluZXI6IEhUTUxFbGVtZW50O1xuXG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGFwaUxvYWRlZDogZmFsc2VcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBpZiAoIXRoaXMuc3RhdGUuYXBpTG9hZGVkKSB7XG4gICAgICBsb2FkQXJjR0lTSlNBUElNb2R1bGVzKFsnZXNyaS93aWRnZXRzL0xheWVyTGlzdCddKS50aGVuKG1vZHVsZXMgPT4ge1xuICAgICAgICBbdGhpcy5MYXllckxpc3RdID0gbW9kdWxlcztcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgYXBpTG9hZGVkOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzOiBJbm5lclByb3BzKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUuYXBpTG9hZGVkICYmIHRoaXMuY29udGFpbmVyKSB7XG4gICAgICBpZiAocHJldlByb3BzLmppbXVNYXBWaWV3ICYmIHRoaXMucHJvcHMuamltdU1hcFZpZXcgJiYgKHByZXZQcm9wcy5qaW11TWFwVmlldy5pZCAhPT0gdGhpcy5wcm9wcy5qaW11TWFwVmlldy5pZCkpIHtcbiAgICAgICAgaWYgKHRoaXMuTGF5ZXJMaXN0QnRuKSB7XG4gICAgICAgICAgdGhpcy5MYXllckxpc3RCdG4udmlldyA9IHRoaXMucHJvcHMuamltdU1hcFZpZXcudmlldztcbiAgICAgICAgICB0aGlzLkxheWVyTGlzdEJ0bi5yZW5kZXJOb3coKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5MYXllckxpc3RCdG4gPSBuZXcgdGhpcy5MYXllckxpc3Qoe1xuICAgICAgICAgIGNvbnRhaW5lcjogdGhpcy5jb250YWluZXIsXG4gICAgICAgICAgdmlldzogdGhpcy5wcm9wcy5qaW11TWFwVmlldy52aWV3XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIGlmICh0aGlzLkxheWVyTGlzdEJ0bikge1xuICAgICAgdGhpcy5MYXllckxpc3RCdG4gPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gPGRpdiByZWY9e3JlZiA9PiB7dGhpcy5jb250YWluZXIgPSByZWY7IH19IHN0eWxlPXt7d2lkdGg6ICcxMDAlJywgbWluSGVpZ2h0OiAnMzJweCcsIHBvc2l0aW9uOiAncmVsYXRpdmUnfX0+XG4gICAgICB7IXRoaXMuc3RhdGUuYXBpTG9hZGVkICYmIDxkaXYgY2xhc3NOYW1lPVwiZXhibWFwLWJhc2V0b29sLWxvYWRlclwiPjwvZGl2Pn1cbiAgICA8L2Rpdj47XG4gIH1cbn1cblxuY2xhc3MgTGVnZW5kSW5uZXIgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50PElubmVyUHJvcHMsIElubmVyU3RhdGU+IHtcbiAgTGVnZW5kOiB0eXBlb2YgX19lc3JpLkxlZ2VuZCA9IG51bGw7XG4gIExlZ2VuZEJ0bjogX19lc3JpLkxlZ2VuZDtcbiAgY29udGFpbmVyOiBIVE1MRWxlbWVudDtcblxuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBhcGlMb2FkZWQ6IGZhbHNlXG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgaWYgKCF0aGlzLnN0YXRlLmFwaUxvYWRlZCkge1xuICAgICAgbG9hZEFyY0dJU0pTQVBJTW9kdWxlcyhbJ2Vzcmkvd2lkZ2V0cy9MZWdlbmQnXSkudGhlbihtb2R1bGVzID0+IHtcbiAgICAgICAgW3RoaXMuTGVnZW5kXSA9IG1vZHVsZXM7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGFwaUxvYWRlZDogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wczogSW5uZXJQcm9wcykge1xuICAgIGlmICh0aGlzLnN0YXRlLmFwaUxvYWRlZCAmJiB0aGlzLmNvbnRhaW5lcikge1xuICAgICAgaWYgKHByZXZQcm9wcy5qaW11TWFwVmlldyAmJiB0aGlzLnByb3BzLmppbXVNYXBWaWV3ICYmIChwcmV2UHJvcHMuamltdU1hcFZpZXcuaWQgIT09IHRoaXMucHJvcHMuamltdU1hcFZpZXcuaWQpKSB7XG4gICAgICAgIGlmICh0aGlzLkxlZ2VuZEJ0bikge1xuICAgICAgICAgIHRoaXMuTGVnZW5kQnRuLnZpZXcgPSB0aGlzLnByb3BzLmppbXVNYXBWaWV3LnZpZXc7XG4gICAgICAgICAgdGhpcy5MZWdlbmRCdG4ucmVuZGVyTm93KCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuTGVnZW5kQnRuID0gbmV3IHRoaXMuTGVnZW5kKHtcbiAgICAgICAgICBjb250YWluZXI6IHRoaXMuY29udGFpbmVyLFxuICAgICAgICAgIHZpZXc6IHRoaXMucHJvcHMuamltdU1hcFZpZXcudmlld1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICBpZiAodGhpcy5MZWdlbmRCdG4pIHtcbiAgICAgIHRoaXMuTGVnZW5kQnRuID0gbnVsbDtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIDxkaXYgcmVmPXtyZWYgPT4ge3RoaXMuY29udGFpbmVyID0gcmVmOyB9fSBzdHlsZT17e3dpZHRoOiAnMTAwJScsIG1pbkhlaWdodDogJzMycHgnLCBwb3NpdGlvbjogJ3JlbGF0aXZlJ319PlxuICAgICAgeyF0aGlzLnN0YXRlLmFwaUxvYWRlZCAmJiA8ZGl2IGNsYXNzTmFtZT1cImV4Ym1hcC1iYXNldG9vbC1sb2FkZXJcIj48L2Rpdj59XG4gICAgPC9kaXY+O1xuICB9XG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFBQTtBQUdBO0FBQUE7QUFGQTtBQXdDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBeENBO0FBQ0E7QUFDQTs7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBRUE7QUFPQTtBQUFBOztBQVdBO0FBQUE7QUFLQTtBQUFBO0FBSkE7QUFPQTtBQUNBO0FBQ0E7O0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBR0E7QUFDQTtBQUFBO0FBRUE7QUFBQTtBQUtBO0FBQUE7QUFKQTtBQU9BO0FBQ0E7QUFDQTs7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFHQTtBQUNBO0FBQUE7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/layers.tsx\n");

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/locate.tsx":
/*!***************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/locate.tsx ***!
  \***************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jimu_core__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../layout/base/base-tool */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/base-tool.tsx\");\n/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-arcgis */ \"jimu-arcgis\");\n/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__);\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\nvar Locate = /** @class */ (function (_super) {\n    __extends(Locate, _super);\n    function Locate(props) {\n        var _this = _super.call(this, props) || this;\n        _this.toolName = 'Locate';\n        return _this;\n    }\n    Locate.prototype.getTitle = function () {\n        return 'Locate';\n    };\n    Locate.prototype.getIcon = function () {\n        return null;\n    };\n    Locate.prototype.getExpandPanel = function () {\n        return jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].createElement(LocateInner, { jimuMapView: this.props.jimuMapView });\n    };\n    return Locate;\n}(_layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__[\"BaseTool\"]));\n/* harmony default export */ __webpack_exports__[\"default\"] = (Locate);\nvar LocateInner = /** @class */ (function (_super) {\n    __extends(LocateInner, _super);\n    function LocateInner(props) {\n        var _this = _super.call(this, props) || this;\n        _this.Locate = null;\n        _this.state = {\n            apiLoaded: false\n        };\n        return _this;\n    }\n    LocateInner.prototype.componentDidMount = function () {\n        var _this = this;\n        if (!this.state.apiLoaded) {\n            Object(jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__[\"loadArcGISJSAPIModules\"])(['esri/widgets/Locate']).then(function (modules) {\n                _this.Locate = modules[0];\n                _this.setState({\n                    apiLoaded: true\n                });\n            });\n        }\n    };\n    LocateInner.prototype.componentDidUpdate = function () {\n        if (this.state.apiLoaded && this.container) {\n            if (this.LocateBtn) {\n                this.container.innerHTML = '';\n            }\n            this.LocateBtn = new this.Locate({\n                container: this.container,\n                view: this.props.jimuMapView.view\n            });\n        }\n    };\n    LocateInner.prototype.componentWillUnmount = function () {\n        if (this.LocateBtn) {\n            this.LocateBtn.destroy();\n            this.LocateBtn = null;\n        }\n    };\n    LocateInner.prototype.render = function () {\n        var _this = this;\n        return jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].createElement(\"div\", { className: \"esri-widget--button\", ref: function (ref) { _this.container = ref; } });\n    };\n    return LocateInner;\n}(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].PureComponent));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvdG9vbHMvbG9jYXRlLnRzeC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4dGVuc2lvbnMvd2lkZ2V0cy9hcmNnaXMvYXJjZ2lzLW1hcC9zcmMvcnVudGltZS90b29scy9sb2NhdGUudHN4PzExNjkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtSZWFjdH0gZnJvbSAnamltdS1jb3JlJztcbmltcG9ydCB7QmFzZVRvb2wsIEJhc2VUb29sUHJvcHMsIEljb25UeXBlfSBmcm9tICcuLi9sYXlvdXQvYmFzZS9iYXNlLXRvb2wnO1xuaW1wb3J0IHtsb2FkQXJjR0lTSlNBUElNb2R1bGVzLCBKaW11TWFwVmlld30gZnJvbSAnamltdS1hcmNnaXMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMb2NhdGUgZXh0ZW5kcyBCYXNlVG9vbDxCYXNlVG9vbFByb3BzLCB1bmtub3duPiB7XG4gIHRvb2xOYW1lID0gJ0xvY2F0ZSc7XG5cbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gIH1cblxuICBnZXRUaXRsZSgpIHtcbiAgICByZXR1cm4gJ0xvY2F0ZSc7XG4gIH1cblxuICBnZXRJY29uKCk6IEljb25UeXBlIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGdldEV4cGFuZFBhbmVsKCk6IEpTWC5FbGVtZW50IHtcbiAgICByZXR1cm4gPExvY2F0ZUlubmVyIGppbXVNYXBWaWV3PXt0aGlzLnByb3BzLmppbXVNYXBWaWV3fT48L0xvY2F0ZUlubmVyPjtcbiAgfVxufVxuXG5pbnRlcmZhY2UgTG9jYXRlSW5uZXJQcm9wcyB7XG4gIGppbXVNYXBWaWV3OiBKaW11TWFwVmlldztcbn1cblxuaW50ZXJmYWNlIExvY2F0ZUlubmVyU3RhdGUge1xuICBhcGlMb2FkZWQ6IGJvb2xlYW47XG59XG5cblxuY2xhc3MgTG9jYXRlSW5uZXIgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50PExvY2F0ZUlubmVyUHJvcHMsIExvY2F0ZUlubmVyU3RhdGU+IHtcbiAgTG9jYXRlOiB0eXBlb2YgX19lc3JpLkxvY2F0ZSA9IG51bGw7XG4gIExvY2F0ZUJ0bjogX19lc3JpLkxvY2F0ZTtcbiAgY29udGFpbmVyOiBIVE1MRWxlbWVudDtcblxuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBhcGlMb2FkZWQ6IGZhbHNlXG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgaWYgKCF0aGlzLnN0YXRlLmFwaUxvYWRlZCkge1xuICAgICAgbG9hZEFyY0dJU0pTQVBJTW9kdWxlcyhbJ2Vzcmkvd2lkZ2V0cy9Mb2NhdGUnXSkudGhlbihtb2R1bGVzID0+IHtcbiAgICAgICAgW3RoaXMuTG9jYXRlXSA9IG1vZHVsZXM7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGFwaUxvYWRlZDogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50RGlkVXBkYXRlKCkge1xuICAgIGlmICh0aGlzLnN0YXRlLmFwaUxvYWRlZCAmJiB0aGlzLmNvbnRhaW5lcikge1xuICAgICAgaWYgKHRoaXMuTG9jYXRlQnRuKSB7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLmlubmVySFRNTCA9ICcnO1xuICAgICAgfVxuXG4gICAgICB0aGlzLkxvY2F0ZUJ0biA9IG5ldyB0aGlzLkxvY2F0ZSh7XG4gICAgICAgIGNvbnRhaW5lcjogdGhpcy5jb250YWluZXIsXG4gICAgICAgIHZpZXc6IHRoaXMucHJvcHMuamltdU1hcFZpZXcudmlld1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgaWYgKHRoaXMuTG9jYXRlQnRuKSB7XG4gICAgICB0aGlzLkxvY2F0ZUJ0bi5kZXN0cm95KCk7XG4gICAgICB0aGlzLkxvY2F0ZUJ0biA9IG51bGw7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cImVzcmktd2lkZ2V0LS1idXR0b25cIiByZWY9e3JlZiA9PiB7dGhpcy5jb250YWluZXIgPSByZWY7IH19PjwvZGl2PjtcbiAgfVxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFHQTtBQUFBO0FBRkE7O0FBSUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBOztBQVdBO0FBQUE7QUFLQTtBQUFBO0FBSkE7QUFPQTtBQUNBO0FBQ0E7O0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/locate.tsx\n");

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/mapswitch.tsx":
/*!******************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/mapswitch.tsx ***!
  \******************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jimu_core__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ \"jimu-ui\");\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jimu_ui__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../layout/base/base-tool */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/base-tool.tsx\");\n/* harmony import */ var _components_multisourcemap_context__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/multisourcemap-context */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/components/multisourcemap-context.ts\");\n/* harmony import */ var _components_map_thumb__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/map-thumb */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/components/map-thumb.tsx\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __makeTemplateObject = (undefined && undefined.__makeTemplateObject) || function (cooked, raw) {\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n    return cooked;\n};\n/** @jsx jsx */\n\n\n\n\n\nvar MapSwitch = /** @class */ (function (_super) {\n    __extends(MapSwitch, _super);\n    function MapSwitch(props) {\n        var _this = _super.call(this, props) || this;\n        _this.toolName = 'MapSwitch';\n        _this.switchMap = function () { };\n        _this.getContent = function (isShowMapSwitchBtn, dataSourceIds, activeDataSourceId, switchMap) {\n            if (isShowMapSwitchBtn) {\n                if (_this.props.isMobile) {\n                    return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"exbmap-ui-tool esri-widget--button\", onClick: switchMap },\n                        Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"Icon\"], { width: 16, height: 16, className: \"exbmap-ui-tool-icon\", icon: _this.getIcon().icon }));\n                }\n                else {\n                    var dsJsons = Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"getAppStore\"])().getState().appConfig.dataSources;\n                    return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { css: _this.getStyle(), onClick: switchMap },\n                        Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { title: dsJsons[dataSourceIds[0]] ? dsJsons[dataSourceIds[0]].label : null, className: Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"classNames\"])('mapthumb-item', { front: dataSourceIds[0] !== activeDataSourceId }, { back: dataSourceIds[0] === activeDataSourceId }) },\n                            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_components_map_thumb__WEBPACK_IMPORTED_MODULE_4__[\"default\"], { mapItemId: dsJsons[dataSourceIds[0]] ? dsJsons[dataSourceIds[0]].itemId : null, portUrl: dsJsons[dataSourceIds[0]] ? dsJsons[dataSourceIds[0]].portalUrl : null })),\n                        Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { title: dsJsons[dataSourceIds[1]] ? dsJsons[dataSourceIds[1]].label : null, className: Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"classNames\"])('mapthumb-item', { front: dataSourceIds[1] !== activeDataSourceId }, { back: dataSourceIds[1] === activeDataSourceId }) },\n                            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_components_map_thumb__WEBPACK_IMPORTED_MODULE_4__[\"default\"], { mapItemId: dsJsons[dataSourceIds[1]] ? dsJsons[dataSourceIds[1]].itemId : null, portUrl: dsJsons[dataSourceIds[1]] ? dsJsons[dataSourceIds[1]].portalUrl : null })));\n                }\n            }\n            else {\n                return null;\n            }\n        };\n        _this.getIconContent = function (isShowMapSwitchBtn, dataSourceIds, activeDataSourceId, switchMap) {\n            if (isShowMapSwitchBtn) {\n                _this.switchMap = switchMap;\n                return _super.prototype.render.call(_this);\n            }\n            else {\n                return null;\n            }\n        };\n        return _this;\n    }\n    MapSwitch.getIsNeedSetting = function () {\n        return false;\n    };\n    MapSwitch.prototype.getStyle = function () {\n        return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n      width: \", \";\\n      height: \", \";\\n      cursor: pointer;\\n      position: relative;\\n\\n      .mapthumb-item {\\n        position: absolute;\\n        width: \", \";\\n        height: \", \";\\n        transition: bottom 0.5s, left 0.5s, top 0.5s, right 0.5s, z-index 0.5s;\\n      }\\n\\n      .front {\\n        z-index: 1;\\n        bottom: 0;\\n        left: 0;\\n      }\\n\\n      .back {\\n        z-index: 0;\\n        top: 0;\\n        right: 0;\\n      }\\n    \"], [\"\\n      width: \", \";\\n      height: \", \";\\n      cursor: pointer;\\n      position: relative;\\n\\n      .mapthumb-item {\\n        position: absolute;\\n        width: \", \";\\n        height: \", \";\\n        transition: bottom 0.5s, left 0.5s, top 0.5s, right 0.5s, z-index 0.5s;\\n      }\\n\\n      .front {\\n        z-index: 1;\\n        bottom: 0;\\n        left: 0;\\n      }\\n\\n      .back {\\n        z-index: 0;\\n        top: 0;\\n        right: 0;\\n      }\\n    \"])), jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"polished\"].rem(68), jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"polished\"].rem(52), jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"polished\"].rem(64), jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"polished\"].rem(48));\n    };\n    MapSwitch.prototype.getTitle = function () {\n        return 'MapSwitch';\n    };\n    MapSwitch.prototype.getIcon = function () {\n        var _this = this;\n        return {\n            icon: __webpack_require__(/*! ../assets/icons/exchange.svg */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/exchange.svg\"),\n            onIconClick: function () {\n                _this.switchMap();\n            }\n        };\n    };\n    MapSwitch.prototype.getExpandPanel = function () {\n        var _this = this;\n        if (this.props.toolJson.isOnlyExpanded) {\n            return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_components_multisourcemap_context__WEBPACK_IMPORTED_MODULE_3__[\"MultiSourceMapContext\"].Consumer, null, function (_a) {\n                var isShowMapSwitchBtn = _a.isShowMapSwitchBtn, dataSourceIds = _a.dataSourceIds, activeDataSourceId = _a.activeDataSourceId, switchMap = _a.switchMap;\n                return (_this.getContent(isShowMapSwitchBtn, dataSourceIds, activeDataSourceId, switchMap));\n            });\n        }\n        else {\n            return null;\n        }\n    };\n    MapSwitch.prototype.render = function () {\n        var _this = this;\n        if (this.props.toolJson.isOnlyExpanded) {\n            return _super.prototype.render.call(this);\n        }\n        else {\n            return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_components_multisourcemap_context__WEBPACK_IMPORTED_MODULE_3__[\"MultiSourceMapContext\"].Consumer, null, function (_a) {\n                var isShowMapSwitchBtn = _a.isShowMapSwitchBtn, dataSourceIds = _a.dataSourceIds, activeDataSourceId = _a.activeDataSourceId, switchMap = _a.switchMap;\n                return (_this.getIconContent(isShowMapSwitchBtn, dataSourceIds, activeDataSourceId, switchMap));\n            });\n        }\n    };\n    return MapSwitch;\n}(_layout_base_base_tool__WEBPACK_IMPORTED_MODULE_2__[\"BaseTool\"]));\n/* harmony default export */ __webpack_exports__[\"default\"] = (MapSwitch);\nvar templateObject_1;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvdG9vbHMvbWFwc3dpdGNoLnRzeC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4dGVuc2lvbnMvd2lkZ2V0cy9hcmNnaXMvYXJjZ2lzLW1hcC9zcmMvcnVudGltZS90b29scy9tYXBzd2l0Y2gudHN4P2NmYmYiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqIEBqc3gganN4ICovXG5pbXBvcnQge2NzcywganN4LCBwb2xpc2hlZCwgZ2V0QXBwU3RvcmUsIGNsYXNzTmFtZXN9IGZyb20gJ2ppbXUtY29yZSc7XG5pbXBvcnQgeyBJY29uIH0gZnJvbSAnamltdS11aSc7XG5pbXBvcnQge0Jhc2VUb29sLCBCYXNlVG9vbFByb3BzLCBJY29uVHlwZX0gZnJvbSAnLi4vbGF5b3V0L2Jhc2UvYmFzZS10b29sJztcbmltcG9ydCB7TXVsdGlTb3VyY2VNYXBDb250ZXh0fSBmcm9tICcuLi9jb21wb25lbnRzL211bHRpc291cmNlbWFwLWNvbnRleHQnO1xuaW1wb3J0IE1hcFRodW1iIGZyb20gJy4uL2NvbXBvbmVudHMvbWFwLXRodW1iJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWFwU3dpdGNoIGV4dGVuZHMgQmFzZVRvb2w8QmFzZVRvb2xQcm9wcywgdW5rbm93bj4ge1xuICB0b29sTmFtZSA9ICdNYXBTd2l0Y2gnO1xuXG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICB9XG5cbiAgc3RhdGljIGdldElzTmVlZFNldHRpbmcgKCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGdldFN0eWxlKCkge1xuICAgIHJldHVybiBjc3NgXG4gICAgICB3aWR0aDogJHtwb2xpc2hlZC5yZW0oNjgpfTtcbiAgICAgIGhlaWdodDogJHtwb2xpc2hlZC5yZW0oNTIpfTtcbiAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcblxuICAgICAgLm1hcHRodW1iLWl0ZW0ge1xuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgIHdpZHRoOiAke3BvbGlzaGVkLnJlbSg2NCl9O1xuICAgICAgICBoZWlnaHQ6ICR7cG9saXNoZWQucmVtKDQ4KX07XG4gICAgICAgIHRyYW5zaXRpb246IGJvdHRvbSAwLjVzLCBsZWZ0IDAuNXMsIHRvcCAwLjVzLCByaWdodCAwLjVzLCB6LWluZGV4IDAuNXM7XG4gICAgICB9XG5cbiAgICAgIC5mcm9udCB7XG4gICAgICAgIHotaW5kZXg6IDE7XG4gICAgICAgIGJvdHRvbTogMDtcbiAgICAgICAgbGVmdDogMDtcbiAgICAgIH1cblxuICAgICAgLmJhY2sge1xuICAgICAgICB6LWluZGV4OiAwO1xuICAgICAgICB0b3A6IDA7XG4gICAgICAgIHJpZ2h0OiAwO1xuICAgICAgfVxuICAgIGA7XG4gIH1cblxuICBnZXRUaXRsZSgpIHtcbiAgICByZXR1cm4gJ01hcFN3aXRjaCc7XG4gIH1cblxuICBnZXRJY29uKCk6IEljb25UeXBlIHtcbiAgICByZXR1cm4ge1xuICAgICAgaWNvbjogcmVxdWlyZSgnLi4vYXNzZXRzL2ljb25zL2V4Y2hhbmdlLnN2ZycpLFxuICAgICAgb25JY29uQ2xpY2s6ICgpID0+IHtcbiAgICAgICAgdGhpcy5zd2l0Y2hNYXAoKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgc3dpdGNoTWFwID0gKCkgPT4ge307XG5cbiAgZ2V0RXhwYW5kUGFuZWwoKTogSlNYLkVsZW1lbnQge1xuICAgIGlmICh0aGlzLnByb3BzLnRvb2xKc29uLmlzT25seUV4cGFuZGVkKSB7XG4gICAgICByZXR1cm4gPE11bHRpU291cmNlTWFwQ29udGV4dC5Db25zdW1lcj5cbiAgICAgICAgeyh7aXNTaG93TWFwU3dpdGNoQnRuLCAgZGF0YVNvdXJjZUlkcywgYWN0aXZlRGF0YVNvdXJjZUlkLCBzd2l0Y2hNYXB9KSA9PiAoXG4gICAgICAgICAgdGhpcy5nZXRDb250ZW50KGlzU2hvd01hcFN3aXRjaEJ0biwgZGF0YVNvdXJjZUlkcywgYWN0aXZlRGF0YVNvdXJjZUlkLCBzd2l0Y2hNYXApXG4gICAgICAgICl9XG4gICAgICA8L011bHRpU291cmNlTWFwQ29udGV4dC5Db25zdW1lcj47XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGdldENvbnRlbnQgPSAoaXNTaG93TWFwU3dpdGNoQnRuOiBib29sZWFuLCBkYXRhU291cmNlSWRzOiBzdHJpbmdbXSwgYWN0aXZlRGF0YVNvdXJjZUlkOiBzdHJpbmcsIHN3aXRjaE1hcCkgPT4ge1xuICAgIGlmIChpc1Nob3dNYXBTd2l0Y2hCdG4pIHtcbiAgICAgIGlmICh0aGlzLnByb3BzLmlzTW9iaWxlKSB7XG4gICAgICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cImV4Ym1hcC11aS10b29sIGVzcmktd2lkZ2V0LS1idXR0b25cIiBvbkNsaWNrPXtzd2l0Y2hNYXB9PlxuICAgICAgICAgIDxJY29uIHdpZHRoPXsxNn0gaGVpZ2h0PXsxNn0gY2xhc3NOYW1lPVwiZXhibWFwLXVpLXRvb2wtaWNvblwiIGljb249e3RoaXMuZ2V0SWNvbigpLmljb259Lz5cbiAgICAgICAgPC9kaXY+XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBkc0pzb25zID0gZ2V0QXBwU3RvcmUoKS5nZXRTdGF0ZSgpLmFwcENvbmZpZy5kYXRhU291cmNlcztcblxuICAgICAgICByZXR1cm4gPGRpdiBjc3M9e3RoaXMuZ2V0U3R5bGUoKX0gb25DbGljaz17c3dpdGNoTWFwfT5cbiAgICAgICAgICA8ZGl2IHRpdGxlPXtkc0pzb25zW2RhdGFTb3VyY2VJZHNbMF1dID8gZHNKc29uc1tkYXRhU291cmNlSWRzWzBdXS5sYWJlbCA6IG51bGx9IGNsYXNzTmFtZT17Y2xhc3NOYW1lcygnbWFwdGh1bWItaXRlbScsIHtmcm9udDogZGF0YVNvdXJjZUlkc1swXSAhPT0gYWN0aXZlRGF0YVNvdXJjZUlkfSxcbiAgICAgICAgICAgIHtiYWNrOiBkYXRhU291cmNlSWRzWzBdID09PSBhY3RpdmVEYXRhU291cmNlSWR9KX0+XG4gICAgICAgICAgICA8TWFwVGh1bWIgbWFwSXRlbUlkPXtkc0pzb25zW2RhdGFTb3VyY2VJZHNbMF1dID8gZHNKc29uc1tkYXRhU291cmNlSWRzWzBdXS5pdGVtSWQgOiBudWxsfVxuICAgICAgICAgICAgICBwb3J0VXJsPXtkc0pzb25zW2RhdGFTb3VyY2VJZHNbMF1dID8gZHNKc29uc1tkYXRhU291cmNlSWRzWzBdXS5wb3J0YWxVcmwgOiBudWxsfT5cbiAgICAgICAgICAgIDwvTWFwVGh1bWI+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiB0aXRsZT17ZHNKc29uc1tkYXRhU291cmNlSWRzWzFdXSA/IGRzSnNvbnNbZGF0YVNvdXJjZUlkc1sxXV0ubGFiZWwgOiBudWxsfSBjbGFzc05hbWU9e2NsYXNzTmFtZXMoJ21hcHRodW1iLWl0ZW0nLCB7ZnJvbnQ6IGRhdGFTb3VyY2VJZHNbMV0gIT09IGFjdGl2ZURhdGFTb3VyY2VJZH0sXG4gICAgICAgICAgICB7YmFjazogZGF0YVNvdXJjZUlkc1sxXSA9PT0gYWN0aXZlRGF0YVNvdXJjZUlkfSl9PlxuICAgICAgICAgICAgPE1hcFRodW1iIG1hcEl0ZW1JZD17ZHNKc29uc1tkYXRhU291cmNlSWRzWzFdXSA/IGRzSnNvbnNbZGF0YVNvdXJjZUlkc1sxXV0uaXRlbUlkIDogbnVsbH1cbiAgICAgICAgICAgICAgcG9ydFVybD17ZHNKc29uc1tkYXRhU291cmNlSWRzWzFdXSA/IGRzSnNvbnNbZGF0YVNvdXJjZUlkc1sxXV0ucG9ydGFsVXJsIDogbnVsbH0+XG4gICAgICAgICAgICA8L01hcFRodW1iPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgZ2V0SWNvbkNvbnRlbnQgPSAoaXNTaG93TWFwU3dpdGNoQnRuOiBib29sZWFuLCBkYXRhU291cmNlSWRzOiBzdHJpbmdbXSwgYWN0aXZlRGF0YVNvdXJjZUlkOiBzdHJpbmcsIHN3aXRjaE1hcCkgPT4ge1xuICAgIGlmIChpc1Nob3dNYXBTd2l0Y2hCdG4pIHtcbiAgICAgIHRoaXMuc3dpdGNoTWFwID0gc3dpdGNoTWFwO1xuICAgICAgcmV0dXJuIHN1cGVyLnJlbmRlcigpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMudG9vbEpzb24uaXNPbmx5RXhwYW5kZWQpIHtcbiAgICAgIHJldHVybiBzdXBlci5yZW5kZXIoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIDxNdWx0aVNvdXJjZU1hcENvbnRleHQuQ29uc3VtZXI+XG4gICAgICAgIHsoe2lzU2hvd01hcFN3aXRjaEJ0biwgIGRhdGFTb3VyY2VJZHMsIGFjdGl2ZURhdGFTb3VyY2VJZCwgc3dpdGNoTWFwfSkgPT4gKFxuICAgICAgICAgIHRoaXMuZ2V0SWNvbkNvbnRlbnQoaXNTaG93TWFwU3dpdGNoQnRuLCBkYXRhU291cmNlSWRzLCBhY3RpdmVEYXRhU291cmNlSWQsIHN3aXRjaE1hcClcbiAgICAgICAgKX1cbiAgICAgIDwvTXVsdGlTb3VyY2VNYXBDb250ZXh0LkNvbnN1bWVyPjtcbiAgICB9XG4gIH1cbn0iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBR0E7QUFBQTtBQUZBO0FBbURBO0FBY0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUlBO0FBRUE7QUFLQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7O0FBakdBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQXlCQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBSUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQXdDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUlBO0FBQ0E7QUFDQTtBQUFBOzs7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/mapswitch.tsx\n");

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/measure.tsx":
/*!****************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/measure.tsx ***!
  \****************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jimu_core__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ \"jimu-ui\");\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jimu_ui__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../layout/base/base-tool */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/base-tool.tsx\");\n/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-arcgis */ \"jimu-arcgis\");\n/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(jimu_arcgis__WEBPACK_IMPORTED_MODULE_3__);\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\nvar Measure = /** @class */ (function (_super) {\n    __extends(Measure, _super);\n    function Measure(props) {\n        var _this = _super.call(this, props) || this;\n        _this.toolName = 'Measure';\n        _this.measureModules2D = [{\n                name: 'Line',\n                title: 'Line',\n                path: 'DistanceMeasurement2D',\n                src: __webpack_require__(/*! ../assets/icons/measure-distance.svg */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/measure-distance.svg\")\n            }, {\n                name: 'Polygon',\n                title: 'Polygon',\n                path: 'AreaMeasurement2D',\n                src: __webpack_require__(/*! ../assets/icons/measure-area.svg */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/measure-area.svg\")\n            }];\n        _this.measureModules3D = [{\n                name: 'Line',\n                title: 'Line',\n                path: 'DirectLineMeasurement3D',\n                src: __webpack_require__(/*! ../assets/icons/measure-distance.svg */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/measure-distance.svg\")\n            }, {\n                name: 'Polygon',\n                title: 'Polygon',\n                path: 'AreaMeasurement3D',\n                src: __webpack_require__(/*! ../assets/icons/measure-area.svg */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/measure-area.svg\")\n            }];\n        _this.handleMeasurceInstanceCreated = function (measurceInstance, activeTabIndex) {\n            var measureInstances = _this.state.measureInstances;\n            measureInstances[activeTabIndex] = measurceInstance;\n            _this.setState({\n                measureInstances: measureInstances\n            });\n        };\n        _this.onTabClick = function (index) {\n            if (_this.state.activeTabIndex === index) {\n                return;\n            }\n            else {\n                _this.setState({ activeTabIndex: index });\n                for (var i = 0; i < _this.state.measureInstances.length; i++) {\n                    if (i !== index && _this.state.measureInstances[i]) {\n                        _this.state.measureInstances[i].visible = false;\n                    }\n                    if (i === index && _this.state.measureInstances[i]) {\n                        _this.state.measureInstances[i].visible = true;\n                    }\n                }\n            }\n        };\n        _this.onClosePanel = function () {\n            for (var i = 0; i < _this.state.measureInstances.length; i++) {\n                if (_this.state.measureInstances[i]) {\n                    _this.state.measureInstances[i].visible = false;\n                }\n            }\n        };\n        _this.onShowPanel = function () {\n            for (var i = 0; i < _this.state.measureInstances.length; i++) {\n                if (i !== _this.state.activeTabIndex && _this.state.measureInstances[i]) {\n                    _this.state.measureInstances[i].visible = false;\n                }\n                if (i === _this.state.activeTabIndex && _this.state.measureInstances[i]) {\n                    _this.state.measureInstances[i].visible = true;\n                }\n            }\n        };\n        _this.getNavTab = function () {\n            if (_this.props.jimuMapView.view.type === '2d') {\n                return jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"Nav\"], { tabs: true }, _this.measureModules2D.map(function (module, index) {\n                    return jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"NavItem\"], { key: index },\n                        jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"NavLink\"], { active: _this.state.activeTabIndex === index, onClick: function () { _this.onTabClick(index); } },\n                            jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"Icon\"], { width: 16, height: 16, className: \"m-0\", icon: module.src })));\n                }));\n            }\n            else if (_this.props.jimuMapView.view.type === '3d') {\n                return jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"Nav\"], { tabs: true }, _this.measureModules3D.map(function (module, index) {\n                    return jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"NavItem\"], { key: index },\n                        jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"NavLink\"], { active: _this.state.activeTabIndex === index, onClick: function () { _this.onTabClick(index); } },\n                            jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].createElement(jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"Icon\"], { width: 16, height: 16, className: \"m-0\", icon: module.src })));\n                }));\n            }\n            else {\n                return null;\n            }\n        };\n        _this.getMeasureModule = function () {\n            if (_this.props.jimuMapView.view.type === '2d') {\n                return _this.measureModules2D[_this.state.activeTabIndex];\n            }\n            else {\n                return _this.measureModules3D[_this.state.activeTabIndex];\n            }\n        };\n        _this.state = {\n            activeTabIndex: 0,\n            measureInstances: [null, null]\n        };\n        return _this;\n    }\n    Measure.prototype.getTitle = function () {\n        return this.props.intl.formatMessage({ id: 'MeasureLabel', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"defaultMessages\"]['MeasureLabel'] });\n    };\n    Measure.prototype.getIcon = function () {\n        return {\n            icon: __webpack_require__(/*! ../assets/icons/measure.svg */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/measure.svg\")\n        };\n    };\n    Measure.prototype.destroy = function () {\n        for (var i = 0; i < this.state.measureInstances.length; i++) {\n            if (this.state.measureInstances[i] && !this.state.measureInstances[i].destroyed) {\n                this.state.measureInstances[i].destroy();\n            }\n        }\n    };\n    Measure.prototype.getExpandPanel = function () {\n        return jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].createElement(\"div\", { style: { width: this.props.isMobile ? '100%' : '250px', position: 'relative' }, className: Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"classNames\"])({ 'exbmap-ui-pc-expand-maxheight': !this.props.isMobile }) },\n            this.getNavTab(),\n            jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].createElement(MeasureInner, { activeTabIndex: this.state.activeTabIndex, jimuMapView: this.props.jimuMapView, measureModule: this.getMeasureModule(), measureInstance: this.state.measureInstances[this.state.activeTabIndex], onMeasurceInstanceCreated: this.handleMeasurceInstanceCreated }));\n    };\n    return Measure;\n}(_layout_base_base_tool__WEBPACK_IMPORTED_MODULE_2__[\"BaseTool\"]));\n/* harmony default export */ __webpack_exports__[\"default\"] = (Measure);\nvar MeasureInner = /** @class */ (function (_super) {\n    __extends(MeasureInner, _super);\n    function MeasureInner(props) {\n        var _this = _super.call(this, props) || this;\n        _this.MeasureInstance = null;\n        _this.checkContainer = function () {\n            if (_this.container.style.opacity === '0' || _this.container.style.opacity === 0) {\n                _this.container.style.opacity = 1;\n                _this.container.style.height = '';\n            }\n        };\n        _this.state = {\n            apiLoaded: false\n        };\n        return _this;\n    }\n    MeasureInner.prototype.componentDidMount = function () {\n        var _this = this;\n        if (!this.state.apiLoaded) {\n            Object(jimu_arcgis__WEBPACK_IMPORTED_MODULE_3__[\"loadArcGISJSAPIModules\"])(['esri/widgets/' + this.props.measureModule.path]).then(function (modules) {\n                _this.MeasureClass = modules[0];\n                _this.setState({\n                    apiLoaded: true\n                });\n            });\n        }\n    };\n    MeasureInner.prototype.componentDidUpdate = function (prevProps) {\n        var _a, _b;\n        if (prevProps.activeTabIndex !== this.props.activeTabIndex || prevProps.measureModule !== this.props.measureModule) {\n            this.reload();\n            return;\n        }\n        if (this.state.apiLoaded && this.parentContainer && this.container) {\n            if (prevProps.jimuMapView && this.props.jimuMapView && (prevProps.jimuMapView.id !== this.props.jimuMapView.id)) {\n                this.props.measureInstance.view = this.props.jimuMapView.view;\n                this.props.measureInstance.renderNow();\n                this.props.measureInstance.viewModel.newMeasurement();\n            }\n            else {\n                if (!this.props.measureInstance) {\n                    var tempInstance = new this.MeasureClass({\n                        container: this.container,\n                        view: this.props.jimuMapView.view\n                    });\n                    tempInstance.viewModel.newMeasurement();\n                    this.props.onMeasurceInstanceCreated(tempInstance, this.props.activeTabIndex);\n                }\n                else {\n                    if (this.props.measureInstance.view === this.props.jimuMapView.view) {\n                        if (this.parentContainer.getElementsByClassName('measure-container') && this.parentContainer.getElementsByClassName('measure-container')[0]) {\n                            this.parentContainer.getElementsByClassName('measure-container')[0].remove();\n                        }\n                        this.parentContainer.appendChild(this.props.measureInstance.container);\n                        if (this.props.measureInstance.viewModel.state !== 'measured' && this.props.measureInstance.viewModel.state !== 'measuring') {\n                            this.props.measureInstance.viewModel.newMeasurement();\n                        }\n                    }\n                    else {\n                        if (((_b = (_a = this.props.measureInstance) === null || _a === void 0 ? void 0 : _a.view) === null || _b === void 0 ? void 0 : _b.type) !== this.props.jimuMapView.view.type) {\n                            this.props.measureInstance.destroy();\n                            if (this.parentContainer.getElementsByClassName('measure-container') && this.parentContainer.getElementsByClassName('measure-container')[0]) {\n                                this.parentContainer.getElementsByClassName('measure-container')[0].remove();\n                            }\n                            this.container.innerHTML = '';\n                            this.container.style.opacity = 1;\n                            this.container.style.height = '';\n                            this.parentContainer.appendChild(this.container);\n                            var tempInstance = new this.MeasureClass({\n                                container: this.container,\n                                view: this.props.jimuMapView.view\n                            });\n                            tempInstance.viewModel.newMeasurement();\n                            this.props.onMeasurceInstanceCreated(tempInstance, this.props.activeTabIndex);\n                        }\n                        else {\n                            this.props.measureInstance.view = this.props.jimuMapView.view;\n                            this.props.measureInstance.renderNow();\n                            this.props.measureInstance.viewModel.newMeasurement();\n                        }\n                    }\n                }\n            }\n            this.checkContainer();\n        }\n    };\n    MeasureInner.prototype.reload = function () {\n        var _this = this;\n        if (this.container.childNodes && this.container.childNodes[0]) {\n            this.container.style.opacity = 0;\n            this.container.style.height = '35px';\n        }\n        this.setState({\n            apiLoaded: false\n        }, function () {\n            Object(jimu_arcgis__WEBPACK_IMPORTED_MODULE_3__[\"loadArcGISJSAPIModules\"])(['esri/widgets/' + _this.props.measureModule.path]).then(function (modules) {\n                _this.MeasureClass = modules[0];\n                _this.setState({\n                    apiLoaded: true\n                });\n            });\n        });\n    };\n    MeasureInner.prototype.render = function () {\n        var _this = this;\n        return jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].createElement(\"div\", { className: \"w-100\", style: { width: '250px', position: 'relative', minHeight: '32px' }, ref: function (ref) { _this.parentContainer = ref; } },\n            jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].createElement(\"div\", { className: \"measure-container\", ref: function (ref) { _this.container = ref; } }),\n            !this.state.apiLoaded && jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].createElement(\"div\", { className: \"exbmap-basetool-loader\" }));\n    };\n    return MeasureInner;\n}(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].PureComponent));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvdG9vbHMvbWVhc3VyZS50c3guanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvdG9vbHMvbWVhc3VyZS50c3g/MDBhMyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1JlYWN0LCBjbGFzc05hbWVzfSBmcm9tICdqaW11LWNvcmUnO1xuaW1wb3J0IHtJY29ufSBmcm9tICdqaW11LXVpJztcbmltcG9ydCB7QmFzZVRvb2wsIEJhc2VUb29sUHJvcHMsIEljb25UeXBlfSBmcm9tICcuLi9sYXlvdXQvYmFzZS9iYXNlLXRvb2wnO1xuaW1wb3J0IHtsb2FkQXJjR0lTSlNBUElNb2R1bGVzLCBKaW11TWFwVmlld30gZnJvbSAnamltdS1hcmNnaXMnO1xuaW1wb3J0IHtOYXYsIE5hdkl0ZW0sIE5hdkxpbmssIGRlZmF1bHRNZXNzYWdlc30gZnJvbSAnamltdS11aSc7XG5cbnR5cGUgTWVhc3VyZVR5cGUgPSAoX19lc3JpLkRpc3RhbmNlTWVhc3VyZW1lbnQyRCB8IF9fZXNyaS5BcmVhTWVhc3VyZW1lbnQyRCB8IF9fZXNyaS5EaXJlY3RMaW5lTWVhc3VyZW1lbnQzRCB8IF9fZXNyaS5BcmVhTWVhc3VyZW1lbnQzRCk7XG5cbmludGVyZmFjZSBTdGF0ZXMge1xuICBhY3RpdmVUYWJJbmRleDogbnVtYmVyO1xuICBtZWFzdXJlSW5zdGFuY2VzOiBNZWFzdXJlVHlwZVtdO1xufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNZWFzdXJlIGV4dGVuZHMgQmFzZVRvb2w8QmFzZVRvb2xQcm9wcywgU3RhdGVzPiB7XG4gIHRvb2xOYW1lID0gJ01lYXN1cmUnO1xuICBtZWFzdXJlTW9kdWxlczJEID0gW3tcbiAgICBuYW1lOiAnTGluZScsXG4gICAgdGl0bGU6ICdMaW5lJyxcbiAgICBwYXRoOiAnRGlzdGFuY2VNZWFzdXJlbWVudDJEJyxcbiAgICBzcmM6IHJlcXVpcmUoJy4uL2Fzc2V0cy9pY29ucy9tZWFzdXJlLWRpc3RhbmNlLnN2ZycpXG4gIH0sIHtcbiAgICBuYW1lOiAnUG9seWdvbicsXG4gICAgdGl0bGU6ICdQb2x5Z29uJyxcbiAgICBwYXRoOiAnQXJlYU1lYXN1cmVtZW50MkQnLFxuICAgIHNyYzogcmVxdWlyZSgnLi4vYXNzZXRzL2ljb25zL21lYXN1cmUtYXJlYS5zdmcnKVxuICB9XTtcblxuICBtZWFzdXJlTW9kdWxlczNEID0gW3tcbiAgICBuYW1lOiAnTGluZScsXG4gICAgdGl0bGU6ICdMaW5lJyxcbiAgICBwYXRoOiAnRGlyZWN0TGluZU1lYXN1cmVtZW50M0QnLFxuICAgIHNyYzogcmVxdWlyZSgnLi4vYXNzZXRzL2ljb25zL21lYXN1cmUtZGlzdGFuY2Uuc3ZnJylcbiAgfSwge1xuICAgIG5hbWU6ICdQb2x5Z29uJyxcbiAgICB0aXRsZTogJ1BvbHlnb24nLFxuICAgIHBhdGg6ICdBcmVhTWVhc3VyZW1lbnQzRCcsXG4gICAgc3JjOiByZXF1aXJlKCcuLi9hc3NldHMvaWNvbnMvbWVhc3VyZS1hcmVhLnN2ZycpXG4gIH1dO1xuXG5cbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgYWN0aXZlVGFiSW5kZXg6IDAsXG4gICAgICBtZWFzdXJlSW5zdGFuY2VzOiBbbnVsbCwgbnVsbF1cbiAgICB9O1xuICB9XG5cbiAgZ2V0VGl0bGUoKSB7XG4gICAgcmV0dXJuIHRoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHtpZDogJ01lYXN1cmVMYWJlbCcsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXNbJ01lYXN1cmVMYWJlbCddfSk7XG4gIH1cblxuICBnZXRJY29uKCk6IEljb25UeXBlIHtcbiAgICByZXR1cm4ge1xuICAgICAgaWNvbjogcmVxdWlyZSgnLi4vYXNzZXRzL2ljb25zL21lYXN1cmUuc3ZnJylcbiAgICB9O1xuICB9XG5cbiAgZGVzdHJveSgpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuc3RhdGUubWVhc3VyZUluc3RhbmNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHRoaXMuc3RhdGUubWVhc3VyZUluc3RhbmNlc1tpXSAmJiAhKHRoaXMuc3RhdGUubWVhc3VyZUluc3RhbmNlc1tpXSBhcyBhbnkpLmRlc3Ryb3llZCkge1xuICAgICAgICAodGhpcy5zdGF0ZS5tZWFzdXJlSW5zdGFuY2VzW2ldIGFzIGFueSkuZGVzdHJveSgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGhhbmRsZU1lYXN1cmNlSW5zdGFuY2VDcmVhdGVkID0gKG1lYXN1cmNlSW5zdGFuY2U6IE1lYXN1cmVUeXBlLCBhY3RpdmVUYWJJbmRleDogbnVtYmVyKSA9PiB7XG4gICAgY29uc3QgbWVhc3VyZUluc3RhbmNlcyA9IHRoaXMuc3RhdGUubWVhc3VyZUluc3RhbmNlcztcbiAgICBtZWFzdXJlSW5zdGFuY2VzW2FjdGl2ZVRhYkluZGV4XSA9IG1lYXN1cmNlSW5zdGFuY2U7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBtZWFzdXJlSW5zdGFuY2VzOiBtZWFzdXJlSW5zdGFuY2VzXG4gICAgfSk7XG4gIH1cblxuICBvblRhYkNsaWNrID0gKGluZGV4OiBudW1iZXIpID0+IHtcbiAgICBpZiAodGhpcy5zdGF0ZS5hY3RpdmVUYWJJbmRleCA9PT0gaW5kZXgpIHtcbiAgICAgIHJldHVybjtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7YWN0aXZlVGFiSW5kZXg6IGluZGV4fSk7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuc3RhdGUubWVhc3VyZUluc3RhbmNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoaSAhPT0gaW5kZXggJiYgdGhpcy5zdGF0ZS5tZWFzdXJlSW5zdGFuY2VzW2ldKSB7XG4gICAgICAgICAgKHRoaXMuc3RhdGUubWVhc3VyZUluc3RhbmNlc1tpXSBhcyBhbnkpLnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpID09PSBpbmRleCAmJiB0aGlzLnN0YXRlLm1lYXN1cmVJbnN0YW5jZXNbaV0pIHtcbiAgICAgICAgICAodGhpcy5zdGF0ZS5tZWFzdXJlSW5zdGFuY2VzW2ldIGFzIGFueSkudmlzaWJsZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBvbkNsb3NlUGFuZWwgPSAoKSA9PiB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnN0YXRlLm1lYXN1cmVJbnN0YW5jZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICh0aGlzLnN0YXRlLm1lYXN1cmVJbnN0YW5jZXNbaV0pIHtcbiAgICAgICAgKHRoaXMuc3RhdGUubWVhc3VyZUluc3RhbmNlc1tpXSBhcyBhbnkpLnZpc2libGUgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBvblNob3dQYW5lbCA9ICgpID0+IHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuc3RhdGUubWVhc3VyZUluc3RhbmNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKGkgIT09IHRoaXMuc3RhdGUuYWN0aXZlVGFiSW5kZXggJiYgdGhpcy5zdGF0ZS5tZWFzdXJlSW5zdGFuY2VzW2ldKSB7XG4gICAgICAgICh0aGlzLnN0YXRlLm1lYXN1cmVJbnN0YW5jZXNbaV0gYXMgYW55KS52aXNpYmxlID0gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIGlmIChpID09PSB0aGlzLnN0YXRlLmFjdGl2ZVRhYkluZGV4ICYmIHRoaXMuc3RhdGUubWVhc3VyZUluc3RhbmNlc1tpXSkge1xuICAgICAgICAodGhpcy5zdGF0ZS5tZWFzdXJlSW5zdGFuY2VzW2ldIGFzIGFueSkudmlzaWJsZSA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZ2V0TmF2VGFiID0gKCkgPT4ge1xuICAgIGlmICh0aGlzLnByb3BzLmppbXVNYXBWaWV3LnZpZXcudHlwZSA9PT0gJzJkJykge1xuICAgICAgcmV0dXJuIDxOYXYgdGFicz57XG4gICAgICAgIHRoaXMubWVhc3VyZU1vZHVsZXMyRC5tYXAoKG1vZHVsZSwgaW5kZXgpID0+IHtcbiAgICAgICAgICByZXR1cm4gPE5hdkl0ZW0ga2V5PXtpbmRleH0+XG4gICAgICAgICAgICA8TmF2TGluayBhY3RpdmU9e3RoaXMuc3RhdGUuYWN0aXZlVGFiSW5kZXggPT09IGluZGV4fSBvbkNsaWNrPXsoKSA9PiB7dGhpcy5vblRhYkNsaWNrKGluZGV4KX19PlxuICAgICAgICAgICAgICA8SWNvbiB3aWR0aD17MTZ9IGhlaWdodD17MTZ9IGNsYXNzTmFtZT1cIm0tMFwiIGljb249e21vZHVsZS5zcmN9Lz5cbiAgICAgICAgICAgIDwvTmF2TGluaz5cbiAgICAgICAgICA8L05hdkl0ZW0+XG4gICAgICAgIH0pfVxuICAgICAgPC9OYXY+O1xuICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5qaW11TWFwVmlldy52aWV3LnR5cGUgPT09ICczZCcpIHtcbiAgICAgIHJldHVybiA8TmF2IHRhYnM+e1xuICAgICAgICB0aGlzLm1lYXN1cmVNb2R1bGVzM0QubWFwKChtb2R1bGUsIGluZGV4KSA9PiB7XG4gICAgICAgICAgcmV0dXJuIDxOYXZJdGVtIGtleT17aW5kZXh9PlxuICAgICAgICAgICAgPE5hdkxpbmsgYWN0aXZlPXt0aGlzLnN0YXRlLmFjdGl2ZVRhYkluZGV4ID09PSBpbmRleH0gb25DbGljaz17KCkgPT4ge3RoaXMub25UYWJDbGljayhpbmRleCl9fT5cbiAgICAgICAgICAgICAgPEljb24gd2lkdGg9ezE2fSBoZWlnaHQ9ezE2fSBjbGFzc05hbWU9XCJtLTBcIiBpY29uPXttb2R1bGUuc3JjfS8+XG4gICAgICAgICAgICA8L05hdkxpbms+XG4gICAgICAgICAgPC9OYXZJdGVtPlxuICAgICAgICB9KX1cbiAgICAgIDwvTmF2PlxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBnZXRNZWFzdXJlTW9kdWxlID0gKCkgPT4ge1xuICAgIGlmICh0aGlzLnByb3BzLmppbXVNYXBWaWV3LnZpZXcudHlwZSA9PT0gJzJkJykge1xuICAgICAgcmV0dXJuIHRoaXMubWVhc3VyZU1vZHVsZXMyRFt0aGlzLnN0YXRlLmFjdGl2ZVRhYkluZGV4XTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMubWVhc3VyZU1vZHVsZXMzRFt0aGlzLnN0YXRlLmFjdGl2ZVRhYkluZGV4XTtcbiAgICB9XG4gIH1cblxuICBnZXRFeHBhbmRQYW5lbCgpOiBKU1guRWxlbWVudCB7XG4gICAgcmV0dXJuIDxkaXYgc3R5bGU9e3t3aWR0aDogdGhpcy5wcm9wcy5pc01vYmlsZSA/ICcxMDAlJyA6ICcyNTBweCcsIHBvc2l0aW9uOiAncmVsYXRpdmUnfX1cbiAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lcyh7J2V4Ym1hcC11aS1wYy1leHBhbmQtbWF4aGVpZ2h0JzogIXRoaXMucHJvcHMuaXNNb2JpbGV9KX0+XG4gICAgICB7dGhpcy5nZXROYXZUYWIoKX1cbiAgICAgIDxNZWFzdXJlSW5uZXIgYWN0aXZlVGFiSW5kZXg9e3RoaXMuc3RhdGUuYWN0aXZlVGFiSW5kZXh9IGppbXVNYXBWaWV3PXt0aGlzLnByb3BzLmppbXVNYXBWaWV3fVxuICAgICAgICBtZWFzdXJlTW9kdWxlPXt0aGlzLmdldE1lYXN1cmVNb2R1bGUoKX1cbiAgICAgICAgbWVhc3VyZUluc3RhbmNlPXt0aGlzLnN0YXRlLm1lYXN1cmVJbnN0YW5jZXNbdGhpcy5zdGF0ZS5hY3RpdmVUYWJJbmRleF19XG4gICAgICAgIG9uTWVhc3VyY2VJbnN0YW5jZUNyZWF0ZWQ9e3RoaXMuaGFuZGxlTWVhc3VyY2VJbnN0YW5jZUNyZWF0ZWR9PlxuICAgICAgPC9NZWFzdXJlSW5uZXI+XG4gICAgPC9kaXY+XG4gIH1cbn1cblxuaW50ZXJmYWNlIE1lYXN1cmVJbm5lclByb3BzIHtcbiAgamltdU1hcFZpZXc6IEppbXVNYXBWaWV3O1xuICBtZWFzdXJlTW9kdWxlOiB7bmFtZTogc3RyaW5nOyB0aXRsZTogc3RyaW5nOyBwYXRoOiBzdHJpbmd9O1xuICBtZWFzdXJlSW5zdGFuY2U6IE1lYXN1cmVUeXBlO1xuICBhY3RpdmVUYWJJbmRleDogbnVtYmVyO1xuXG4gIG9uTWVhc3VyY2VJbnN0YW5jZUNyZWF0ZWQ6IChpbnN0YW5jZTogTWVhc3VyZVR5cGUsIGFjdGl2ZVRhYkluZGV4OiBudW1iZXIpID0+IHZvaWQ7XG59XG5cbmludGVyZmFjZSBNZWFzdXJlSW5uZXJTdGF0ZSB7XG4gIGFwaUxvYWRlZDogYm9vbGVhbjtcbn1cblxuY2xhc3MgTWVhc3VyZUlubmVyIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudDxNZWFzdXJlSW5uZXJQcm9wcywgTWVhc3VyZUlubmVyU3RhdGU+IHtcbiAgTWVhc3VyZUNsYXNzOiB0eXBlb2YgX19lc3JpLkRpc3RhbmNlTWVhc3VyZW1lbnQyRCB8IHR5cGVvZiBfX2VzcmkuQXJlYU1lYXN1cmVtZW50MkQgfCB0eXBlb2YgX19lc3JpLkRpcmVjdExpbmVNZWFzdXJlbWVudDNEIHwgdHlwZW9mIF9fZXNyaS5BcmVhTWVhc3VyZW1lbnQzRDtcbiAgTWVhc3VyZUluc3RhbmNlOiBNZWFzdXJlVHlwZSA9IG51bGw7XG5cbiAgcGFyZW50Q29udGFpbmVyOiBIVE1MRWxlbWVudDtcbiAgY29udGFpbmVyOiBIVE1MRWxlbWVudDtcblxuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBhcGlMb2FkZWQ6IGZhbHNlXG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgaWYgKCF0aGlzLnN0YXRlLmFwaUxvYWRlZCkge1xuICAgICAgbG9hZEFyY0dJU0pTQVBJTW9kdWxlcyhbJ2Vzcmkvd2lkZ2V0cy8nICsgdGhpcy5wcm9wcy5tZWFzdXJlTW9kdWxlLnBhdGhdKS50aGVuKG1vZHVsZXMgPT4ge1xuICAgICAgICBbdGhpcy5NZWFzdXJlQ2xhc3NdID0gbW9kdWxlcztcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgYXBpTG9hZGVkOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzOiBNZWFzdXJlSW5uZXJQcm9wcykge1xuICAgIGlmIChwcmV2UHJvcHMuYWN0aXZlVGFiSW5kZXggIT09IHRoaXMucHJvcHMuYWN0aXZlVGFiSW5kZXggfHwgcHJldlByb3BzLm1lYXN1cmVNb2R1bGUgIT09IHRoaXMucHJvcHMubWVhc3VyZU1vZHVsZSkge1xuICAgICAgdGhpcy5yZWxvYWQoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5zdGF0ZS5hcGlMb2FkZWQgJiYgdGhpcy5wYXJlbnRDb250YWluZXIgJiYgdGhpcy5jb250YWluZXIpIHtcbiAgICAgIGlmIChwcmV2UHJvcHMuamltdU1hcFZpZXcgJiYgdGhpcy5wcm9wcy5qaW11TWFwVmlldyAmJiAocHJldlByb3BzLmppbXVNYXBWaWV3LmlkICE9PSB0aGlzLnByb3BzLmppbXVNYXBWaWV3LmlkKSkge1xuICAgICAgICB0aGlzLnByb3BzLm1lYXN1cmVJbnN0YW5jZS52aWV3ID0gdGhpcy5wcm9wcy5qaW11TWFwVmlldy52aWV3O1xuICAgICAgICB0aGlzLnByb3BzLm1lYXN1cmVJbnN0YW5jZS5yZW5kZXJOb3coKTtcbiAgICAgICAgdGhpcy5wcm9wcy5tZWFzdXJlSW5zdGFuY2Uudmlld01vZGVsLm5ld01lYXN1cmVtZW50KCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoIXRoaXMucHJvcHMubWVhc3VyZUluc3RhbmNlKSB7XG4gICAgICAgICAgY29uc3QgdGVtcEluc3RhbmNlID0gbmV3IHRoaXMuTWVhc3VyZUNsYXNzKHtcbiAgICAgICAgICAgIGNvbnRhaW5lcjogdGhpcy5jb250YWluZXIsXG4gICAgICAgICAgICB2aWV3OiB0aGlzLnByb3BzLmppbXVNYXBWaWV3LnZpZXdcbiAgICAgICAgICB9KTtcbiAgICAgICAgICB0ZW1wSW5zdGFuY2Uudmlld01vZGVsLm5ld01lYXN1cmVtZW50KCk7XG5cbiAgICAgICAgICB0aGlzLnByb3BzLm9uTWVhc3VyY2VJbnN0YW5jZUNyZWF0ZWQodGVtcEluc3RhbmNlLCB0aGlzLnByb3BzLmFjdGl2ZVRhYkluZGV4KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAodGhpcy5wcm9wcy5tZWFzdXJlSW5zdGFuY2UudmlldyA9PT0gdGhpcy5wcm9wcy5qaW11TWFwVmlldy52aWV3KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wYXJlbnRDb250YWluZXIuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnbWVhc3VyZS1jb250YWluZXInKSAmJiB0aGlzLnBhcmVudENvbnRhaW5lci5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdtZWFzdXJlLWNvbnRhaW5lcicpWzBdKSB7XG4gICAgICAgICAgICAgIHRoaXMucGFyZW50Q29udGFpbmVyLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ21lYXN1cmUtY29udGFpbmVyJylbMF0ucmVtb3ZlKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMucGFyZW50Q29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMucHJvcHMubWVhc3VyZUluc3RhbmNlLmNvbnRhaW5lciBhcyBIVE1MRWxlbWVudCk7XG4gICAgICAgICAgICBpZiAoKHRoaXMucHJvcHMubWVhc3VyZUluc3RhbmNlLnZpZXdNb2RlbCBhcyBhbnkpLnN0YXRlICE9PSAnbWVhc3VyZWQnICYmICh0aGlzLnByb3BzLm1lYXN1cmVJbnN0YW5jZS52aWV3TW9kZWwgYXMgYW55KS5zdGF0ZSAhPT0gJ21lYXN1cmluZycpIHtcbiAgICAgICAgICAgICAgdGhpcy5wcm9wcy5tZWFzdXJlSW5zdGFuY2Uudmlld01vZGVsLm5ld01lYXN1cmVtZW50KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLm1lYXN1cmVJbnN0YW5jZT8udmlldz8udHlwZSAhPT0gdGhpcy5wcm9wcy5qaW11TWFwVmlldy52aWV3LnR5cGUpIHtcbiAgICAgICAgICAgICAgdGhpcy5wcm9wcy5tZWFzdXJlSW5zdGFuY2UuZGVzdHJveSgpO1xuICAgICAgICAgICAgICBpZiAodGhpcy5wYXJlbnRDb250YWluZXIuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnbWVhc3VyZS1jb250YWluZXInKSAmJiB0aGlzLnBhcmVudENvbnRhaW5lci5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdtZWFzdXJlLWNvbnRhaW5lcicpWzBdKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnRDb250YWluZXIuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnbWVhc3VyZS1jb250YWluZXInKVswXS5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHRoaXMuY29udGFpbmVyLmlubmVySFRNTCA9ICcnO1xuICAgICAgICAgICAgICAodGhpcy5jb250YWluZXIgYXMgYW55KS5zdHlsZS5vcGFjaXR5ID0gMTtcbiAgICAgICAgICAgICAgKHRoaXMuY29udGFpbmVyIGFzIGFueSkuc3R5bGUuaGVpZ2h0ID0gJyc7XG5cbiAgICAgICAgICAgICAgdGhpcy5wYXJlbnRDb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5jb250YWluZXIpO1xuXG4gICAgICAgICAgICAgIGNvbnN0IHRlbXBJbnN0YW5jZSA9IG5ldyB0aGlzLk1lYXN1cmVDbGFzcyh7XG4gICAgICAgICAgICAgICAgY29udGFpbmVyOiB0aGlzLmNvbnRhaW5lcixcbiAgICAgICAgICAgICAgICB2aWV3OiB0aGlzLnByb3BzLmppbXVNYXBWaWV3LnZpZXdcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIHRlbXBJbnN0YW5jZS52aWV3TW9kZWwubmV3TWVhc3VyZW1lbnQoKTtcblxuICAgICAgICAgICAgICB0aGlzLnByb3BzLm9uTWVhc3VyY2VJbnN0YW5jZUNyZWF0ZWQodGVtcEluc3RhbmNlLCB0aGlzLnByb3BzLmFjdGl2ZVRhYkluZGV4KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHRoaXMucHJvcHMubWVhc3VyZUluc3RhbmNlLnZpZXcgPSB0aGlzLnByb3BzLmppbXVNYXBWaWV3LnZpZXc7XG4gICAgICAgICAgICAgIHRoaXMucHJvcHMubWVhc3VyZUluc3RhbmNlLnJlbmRlck5vdygpO1xuICAgICAgICAgICAgICB0aGlzLnByb3BzLm1lYXN1cmVJbnN0YW5jZS52aWV3TW9kZWwubmV3TWVhc3VyZW1lbnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRoaXMuY2hlY2tDb250YWluZXIoKTtcbiAgICB9XG4gIH1cblxuICBjaGVja0NvbnRhaW5lciA9ICgpID0+IHtcbiAgICBpZiAoKHRoaXMuY29udGFpbmVyIGFzIGFueSkuc3R5bGUub3BhY2l0eSA9PT0gJzAnIHx8ICh0aGlzLmNvbnRhaW5lciBhcyBhbnkpLnN0eWxlLm9wYWNpdHkgPT09IDApIHtcbiAgICAgICh0aGlzLmNvbnRhaW5lciBhcyBhbnkpLnN0eWxlLm9wYWNpdHkgPSAxO1xuICAgICAgKHRoaXMuY29udGFpbmVyIGFzIGFueSkuc3R5bGUuaGVpZ2h0ID0gJyc7XG4gICAgfVxuICB9XG5cbiAgcmVsb2FkKCkge1xuICAgIGlmICh0aGlzLmNvbnRhaW5lci5jaGlsZE5vZGVzICYmIHRoaXMuY29udGFpbmVyLmNoaWxkTm9kZXNbMF0pIHtcbiAgICAgICh0aGlzLmNvbnRhaW5lciBhcyBhbnkpLnN0eWxlLm9wYWNpdHkgPSAwO1xuICAgICAgKHRoaXMuY29udGFpbmVyIGFzIGFueSkuc3R5bGUuaGVpZ2h0ID0gJzM1cHgnO1xuICAgIH1cblxuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgYXBpTG9hZGVkOiBmYWxzZVxuICAgIH0sICgpID0+IHtcbiAgICAgIGxvYWRBcmNHSVNKU0FQSU1vZHVsZXMoWydlc3JpL3dpZGdldHMvJyArIHRoaXMucHJvcHMubWVhc3VyZU1vZHVsZS5wYXRoXSkudGhlbihtb2R1bGVzID0+IHtcbiAgICAgICAgW3RoaXMuTWVhc3VyZUNsYXNzXSA9IG1vZHVsZXM7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGFwaUxvYWRlZDogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJ3LTEwMFwiIHN0eWxlPXt7d2lkdGg6ICcyNTBweCcsIHBvc2l0aW9uOiAncmVsYXRpdmUnLCBtaW5IZWlnaHQ6ICczMnB4J319IHJlZj17cmVmID0+IHt0aGlzLnBhcmVudENvbnRhaW5lciA9IHJlZjsgfX0+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1lYXN1cmUtY29udGFpbmVyXCIgcmVmPXtyZWYgPT4ge3RoaXMuY29udGFpbmVyID0gcmVmOyB9fT5cbiAgICAgIDwvZGl2PlxuICAgICAgeyF0aGlzLnN0YXRlLmFwaUxvYWRlZCAmJiA8ZGl2IGNsYXNzTmFtZT1cImV4Ym1hcC1iYXNldG9vbC1sb2FkZXJcIj48L2Rpdj59XG4gICAgPC9kaXY+XG4gIH1cbn0iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFTQTtBQUFBO0FBMkJBO0FBQUE7QUExQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQThCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUdBO0FBRUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBR0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQXJHQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWlGQTtBQUNBO0FBRUE7QUFDQTtBQU1BO0FBQ0E7QUFBQTs7QUFlQTtBQUFBO0FBT0E7QUFBQTtBQUxBO0FBc0ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQW5GQTtBQUNBO0FBQ0E7O0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBU0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQUE7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/measure.tsx\n");

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/navigation.tsx":
/*!*******************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/navigation.tsx ***!
  \*******************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jimu_core__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../layout/base/base-tool */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/base-tool.tsx\");\n/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-arcgis */ \"jimu-arcgis\");\n/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__);\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\nvar Navigation = /** @class */ (function (_super) {\n    __extends(Navigation, _super);\n    function Navigation(props) {\n        var _this = _super.call(this, props) || this;\n        _this.toolName = 'Navigation';\n        return _this;\n    }\n    Navigation.prototype.getTitle = function () {\n        return 'Navigation';\n    };\n    Navigation.prototype.getIcon = function () {\n        return null;\n    };\n    Navigation.prototype.getExpandPanel = function () {\n        return jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].createElement(NavigationInner, { jimuMapView: this.props.jimuMapView });\n    };\n    return Navigation;\n}(_layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__[\"BaseTool\"]));\n/* harmony default export */ __webpack_exports__[\"default\"] = (Navigation);\nvar NavigationInner = /** @class */ (function (_super) {\n    __extends(NavigationInner, _super);\n    function NavigationInner(props) {\n        var _this = _super.call(this, props) || this;\n        _this.Navigation = null;\n        _this.state = {\n            apiLoaded: false\n        };\n        return _this;\n    }\n    NavigationInner.prototype.componentDidMount = function () {\n        var _this = this;\n        if (!this.state.apiLoaded) {\n            Object(jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__[\"loadArcGISJSAPIModules\"])(['esri/widgets/NavigationToggle']).then(function (modules) {\n                _this.Navigation = modules[0];\n                _this.setState({\n                    apiLoaded: true\n                });\n            });\n        }\n    };\n    NavigationInner.prototype.componentDidUpdate = function () {\n        if (this.state.apiLoaded && this.container) {\n            if (this.NavigationBtn) {\n                this.container.innerHTML = '';\n            }\n            this.NavigationBtn = new this.Navigation({\n                container: this.container,\n                view: this.props.jimuMapView.view\n            });\n        }\n    };\n    NavigationInner.prototype.componentWillUnmount = function () {\n        if (this.NavigationBtn) {\n            this.NavigationBtn.destroy();\n            this.NavigationBtn = null;\n        }\n    };\n    NavigationInner.prototype.render = function () {\n        var _this = this;\n        return jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].createElement(\"div\", { ref: function (ref) { _this.container = ref; } });\n    };\n    return NavigationInner;\n}(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].PureComponent));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvdG9vbHMvbmF2aWdhdGlvbi50c3guanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvdG9vbHMvbmF2aWdhdGlvbi50c3g/YzczMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1JlYWN0fSBmcm9tICdqaW11LWNvcmUnO1xuaW1wb3J0IHtCYXNlVG9vbCwgQmFzZVRvb2xQcm9wcywgSWNvblR5cGV9IGZyb20gJy4uL2xheW91dC9iYXNlL2Jhc2UtdG9vbCc7XG5pbXBvcnQge2xvYWRBcmNHSVNKU0FQSU1vZHVsZXMsIEppbXVNYXBWaWV3fSBmcm9tICdqaW11LWFyY2dpcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE5hdmlnYXRpb24gZXh0ZW5kcyBCYXNlVG9vbDxCYXNlVG9vbFByb3BzLCB1bmtub3duPiB7XG4gIHRvb2xOYW1lID0gJ05hdmlnYXRpb24nO1xuXG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICB9XG5cbiAgZ2V0VGl0bGUoKSB7XG4gICAgcmV0dXJuICdOYXZpZ2F0aW9uJztcbiAgfVxuXG4gIGdldEljb24oKTogSWNvblR5cGUge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgZ2V0RXhwYW5kUGFuZWwoKTogSlNYLkVsZW1lbnQge1xuICAgIHJldHVybiA8TmF2aWdhdGlvbklubmVyIGppbXVNYXBWaWV3PXt0aGlzLnByb3BzLmppbXVNYXBWaWV3fT48L05hdmlnYXRpb25Jbm5lcj47XG4gIH1cbn1cblxuaW50ZXJmYWNlIE5hdmlnYXRpb25Jbm5lclByb3BzIHtcbiAgamltdU1hcFZpZXc6IEppbXVNYXBWaWV3O1xufVxuXG5pbnRlcmZhY2UgTmF2aWdhdGlvbklubmVyU3RhdGUge1xuICBhcGlMb2FkZWQ6IGJvb2xlYW47XG59XG5cblxuY2xhc3MgTmF2aWdhdGlvbklubmVyIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudDxOYXZpZ2F0aW9uSW5uZXJQcm9wcywgTmF2aWdhdGlvbklubmVyU3RhdGU+IHtcbiAgTmF2aWdhdGlvbjogdHlwZW9mIF9fZXNyaS5OYXZpZ2F0aW9uVG9nZ2xlID0gbnVsbDtcbiAgTmF2aWdhdGlvbkJ0bjogX19lc3JpLk5hdmlnYXRpb25Ub2dnbGU7XG4gIGNvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XG5cbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgYXBpTG9hZGVkOiBmYWxzZVxuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGlmICghdGhpcy5zdGF0ZS5hcGlMb2FkZWQpIHtcbiAgICAgIGxvYWRBcmNHSVNKU0FQSU1vZHVsZXMoWydlc3JpL3dpZGdldHMvTmF2aWdhdGlvblRvZ2dsZSddKS50aGVuKG1vZHVsZXMgPT4ge1xuICAgICAgICBbdGhpcy5OYXZpZ2F0aW9uXSA9IG1vZHVsZXM7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGFwaUxvYWRlZDogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50RGlkVXBkYXRlKCkge1xuICAgIGlmICh0aGlzLnN0YXRlLmFwaUxvYWRlZCAmJiB0aGlzLmNvbnRhaW5lcikge1xuICAgICAgaWYgKHRoaXMuTmF2aWdhdGlvbkJ0bikge1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5pbm5lckhUTUwgPSAnJztcbiAgICAgIH1cblxuICAgICAgdGhpcy5OYXZpZ2F0aW9uQnRuID0gbmV3IHRoaXMuTmF2aWdhdGlvbih7XG4gICAgICAgIGNvbnRhaW5lcjogdGhpcy5jb250YWluZXIsXG4gICAgICAgIHZpZXc6IHRoaXMucHJvcHMuamltdU1hcFZpZXcudmlld1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgaWYgKHRoaXMuTmF2aWdhdGlvbkJ0bikge1xuICAgICAgdGhpcy5OYXZpZ2F0aW9uQnRuLmRlc3Ryb3koKTtcbiAgICAgIHRoaXMuTmF2aWdhdGlvbkJ0biA9IG51bGw7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiA8ZGl2IHJlZj17cmVmID0+IHt0aGlzLmNvbnRhaW5lciA9IHJlZjsgfX0+PC9kaXY+O1xuICB9XG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUdBO0FBQUE7QUFGQTs7QUFJQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7O0FBV0E7QUFBQTtBQUtBO0FBQUE7QUFKQTtBQU9BO0FBQ0E7QUFDQTs7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/navigation.tsx\n");

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/scalebar.tsx":
/*!*****************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/scalebar.tsx ***!
  \*****************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jimu_core__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../layout/base/base-tool */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/base-tool.tsx\");\n/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-arcgis */ \"jimu-arcgis\");\n/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__);\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\nvar ScaleBar = /** @class */ (function (_super) {\n    __extends(ScaleBar, _super);\n    function ScaleBar(props) {\n        var _this = _super.call(this, props) || this;\n        _this.toolName = 'ScaleBar';\n        return _this;\n    }\n    ScaleBar.prototype.getTitle = function () {\n        return 'ScaleBar';\n    };\n    ScaleBar.prototype.getIcon = function () {\n        return null;\n    };\n    ScaleBar.prototype.getExpandPanel = function () {\n        return jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].createElement(ScaleBarInner, { jimuMapView: this.props.jimuMapView });\n    };\n    return ScaleBar;\n}(_layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__[\"BaseTool\"]));\n/* harmony default export */ __webpack_exports__[\"default\"] = (ScaleBar);\nvar ScaleBarInner = /** @class */ (function (_super) {\n    __extends(ScaleBarInner, _super);\n    function ScaleBarInner(props) {\n        var _this = _super.call(this, props) || this;\n        _this.ScaleBar = null;\n        _this.state = {\n            apiLoaded: false\n        };\n        return _this;\n    }\n    ScaleBarInner.prototype.componentDidMount = function () {\n        var _this = this;\n        if (!this.state.apiLoaded) {\n            Object(jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__[\"loadArcGISJSAPIModules\"])(['esri/widgets/ScaleBar']).then(function (modules) {\n                _this.ScaleBar = modules[0];\n                _this.setState({\n                    apiLoaded: true\n                });\n            });\n        }\n    };\n    ScaleBarInner.prototype.componentDidUpdate = function () {\n        if (this.state.apiLoaded && this.container) {\n            if (this.ScaleBarBtn) {\n                this.container.innerHTML = '';\n            }\n            this.ScaleBarBtn = new this.ScaleBar({\n                container: this.container,\n                view: this.props.jimuMapView.view,\n                unit: 'metric'\n            });\n        }\n    };\n    ScaleBarInner.prototype.componentWillUnmount = function () {\n        if (this.ScaleBarBtn) {\n            this.ScaleBarBtn.destroy();\n            this.ScaleBarBtn = null;\n        }\n    };\n    ScaleBarInner.prototype.render = function () {\n        var _this = this;\n        return jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].createElement(\"div\", { ref: function (ref) { _this.container = ref; } });\n    };\n    return ScaleBarInner;\n}(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].PureComponent));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvdG9vbHMvc2NhbGViYXIudHN4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vZXh0ZW5zaW9ucy93aWRnZXRzL2FyY2dpcy9hcmNnaXMtbWFwL3NyYy9ydW50aW1lL3Rvb2xzL3NjYWxlYmFyLnRzeD9kNDA3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7UmVhY3R9IGZyb20gJ2ppbXUtY29yZSc7XG5pbXBvcnQge0Jhc2VUb29sLCBCYXNlVG9vbFByb3BzLCBJY29uVHlwZX0gZnJvbSAnLi4vbGF5b3V0L2Jhc2UvYmFzZS10b29sJztcbmltcG9ydCB7bG9hZEFyY0dJU0pTQVBJTW9kdWxlcywgSmltdU1hcFZpZXd9IGZyb20gJ2ppbXUtYXJjZ2lzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2NhbGVCYXIgZXh0ZW5kcyBCYXNlVG9vbDxCYXNlVG9vbFByb3BzLCB1bmtub3duPiB7XG4gIHRvb2xOYW1lID0gJ1NjYWxlQmFyJztcblxuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgfVxuXG4gIGdldFRpdGxlKCkge1xuICAgIHJldHVybiAnU2NhbGVCYXInO1xuICB9XG5cbiAgZ2V0SWNvbigpOiBJY29uVHlwZSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBnZXRFeHBhbmRQYW5lbCgpOiBKU1guRWxlbWVudCB7XG4gICAgcmV0dXJuIDxTY2FsZUJhcklubmVyIGppbXVNYXBWaWV3PXt0aGlzLnByb3BzLmppbXVNYXBWaWV3fT48L1NjYWxlQmFySW5uZXI+O1xuICB9XG59XG5cbmludGVyZmFjZSBTY2FsZUJhcklubmVyUHJvcHMge1xuICBqaW11TWFwVmlldzogSmltdU1hcFZpZXc7XG59XG5cbmludGVyZmFjZSBTY2FsZUJhcklubmVyU3RhdGUge1xuICBhcGlMb2FkZWQ6IGJvb2xlYW47XG59XG5cblxuY2xhc3MgU2NhbGVCYXJJbm5lciBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQ8U2NhbGVCYXJJbm5lclByb3BzLCBTY2FsZUJhcklubmVyU3RhdGU+IHtcbiAgU2NhbGVCYXI6IHR5cGVvZiBfX2VzcmkuU2NhbGVCYXIgPSBudWxsO1xuICBTY2FsZUJhckJ0bjogX19lc3JpLlNjYWxlQmFyO1xuICBjb250YWluZXI6IEhUTUxFbGVtZW50O1xuXG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGFwaUxvYWRlZDogZmFsc2VcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBpZiAoIXRoaXMuc3RhdGUuYXBpTG9hZGVkKSB7XG4gICAgICBsb2FkQXJjR0lTSlNBUElNb2R1bGVzKFsnZXNyaS93aWRnZXRzL1NjYWxlQmFyJ10pLnRoZW4obW9kdWxlcyA9PiB7XG4gICAgICAgIFt0aGlzLlNjYWxlQmFyXSA9IG1vZHVsZXM7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGFwaUxvYWRlZDogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50RGlkVXBkYXRlKCkge1xuICAgIGlmICh0aGlzLnN0YXRlLmFwaUxvYWRlZCAmJiB0aGlzLmNvbnRhaW5lcikge1xuICAgICAgaWYgKHRoaXMuU2NhbGVCYXJCdG4pIHtcbiAgICAgICAgdGhpcy5jb250YWluZXIuaW5uZXJIVE1MID0gJyc7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuU2NhbGVCYXJCdG4gPSBuZXcgdGhpcy5TY2FsZUJhcih7XG4gICAgICAgIGNvbnRhaW5lcjogdGhpcy5jb250YWluZXIsXG4gICAgICAgIHZpZXc6IHRoaXMucHJvcHMuamltdU1hcFZpZXcudmlldyxcbiAgICAgICAgdW5pdDogJ21ldHJpYydcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIGlmICh0aGlzLlNjYWxlQmFyQnRuKSB7XG4gICAgICB0aGlzLlNjYWxlQmFyQnRuLmRlc3Ryb3koKTtcbiAgICAgIHRoaXMuU2NhbGVCYXJCdG4gPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gPGRpdiByZWY9e3JlZiA9PiB7dGhpcy5jb250YWluZXIgPSByZWY7IH19PjwvZGl2PjtcbiAgfVxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFHQTtBQUFBO0FBRkE7O0FBSUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBOztBQVdBO0FBQUE7QUFLQTtBQUFBO0FBSkE7QUFPQTtBQUNBO0FBQ0E7O0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/scalebar.tsx\n");

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/search.tsx":
/*!***************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/search.tsx ***!
  \***************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jimu_core__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../layout/base/base-tool */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/base-tool.tsx\");\n/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-arcgis */ \"jimu-arcgis\");\n/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-ui */ \"jimu-ui\");\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(jimu_ui__WEBPACK_IMPORTED_MODULE_3__);\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __makeTemplateObject = (undefined && undefined.__makeTemplateObject) || function (cooked, raw) {\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n    return cooked;\n};\n/** @jsx jsx */\n\n\n\n\nvar Search = /** @class */ (function (_super) {\n    __extends(Search, _super);\n    function Search(props) {\n        var _this = _super.call(this, props) || this;\n        _this.toolName = 'Search';\n        return _this;\n    }\n    Search.prototype.getTitle = function () {\n        return this.props.intl.formatMessage({ id: 'SearchLabel', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_3__[\"defaultMessages\"]['SearchLabel'] });\n    };\n    Search.prototype.getIcon = function () {\n        return {\n            icon: __webpack_require__(/*! ../assets/icons/search.svg */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/search.svg\")\n        };\n    };\n    Search.prototype.getExpandPanel = function () {\n        if (this.props.isMobile) {\n            return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { style: { minHeight: '32px', position: 'relative', width: '100%' } },\n                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(SearchInner, { jimuMapView: this.props.jimuMapView }));\n        }\n        else {\n            return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { style: { minWidth: '250px', minHeight: '32px', position: 'relative' } },\n                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(SearchInner, { jimuMapView: this.props.jimuMapView }));\n        }\n    };\n    return Search;\n}(_layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__[\"BaseTool\"]));\n/* harmony default export */ __webpack_exports__[\"default\"] = (Search);\nvar SearchInner = /** @class */ (function (_super) {\n    __extends(SearchInner, _super);\n    function SearchInner(props) {\n        var _this = _super.call(this, props) || this;\n        _this.Search = null;\n        _this.Portal = null;\n        _this.state = {\n            apiLoaded: false\n        };\n        return _this;\n    }\n    SearchInner.prototype.getStyle = function () {\n        return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n      /* border: solid 1px rgba(110,110,110,0.3); */\\n    \"], [\"\\n      /* border: solid 1px rgba(110,110,110,0.3); */\\n    \"])));\n    };\n    SearchInner.prototype.componentDidMount = function () {\n        var _this = this;\n        if (!this.state.apiLoaded) {\n            Object(jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__[\"loadArcGISJSAPIModules\"])(['esri/widgets/Search', 'esri/portal/Portal']).then(function (modules) {\n                _this.Search = modules[0], _this.Portal = modules[1];\n                _this.setState({\n                    apiLoaded: true\n                });\n            });\n        }\n    };\n    SearchInner.prototype.componentDidUpdate = function () {\n        if (this.state.apiLoaded && this.container) {\n            if (this.SearchBtn) {\n                this.container.innerHTML = '';\n            }\n            this.SearchBtn = new this.Search({\n                container: this.container,\n                view: this.props.jimuMapView.view,\n                portal: new this.Portal({\n                    url: Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"getAppStore\"])().getState().portalUrl\n                })\n            });\n        }\n    };\n    SearchInner.prototype.componentWillUnmount = function () {\n        if (this.SearchBtn) {\n            this.SearchBtn.destroy();\n            this.SearchBtn = null;\n        }\n    };\n    SearchInner.prototype.render = function () {\n        var _this = this;\n        return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { css: this.getStyle(), className: \"w-100\", ref: function (ref) { _this.container = ref; } }, !this.state.apiLoaded && Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"exbmap-basetool-loader\" }));\n    };\n    return SearchInner;\n}(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].PureComponent));\nvar templateObject_1;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvdG9vbHMvc2VhcmNoLnRzeC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4dGVuc2lvbnMvd2lkZ2V0cy9hcmNnaXMvYXJjZ2lzLW1hcC9zcmMvcnVudGltZS90b29scy9zZWFyY2gudHN4PzhhZGMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqIEBqc3gganN4ICovXG5pbXBvcnQge1JlYWN0LCBjc3MsIGpzeCwgZ2V0QXBwU3RvcmV9IGZyb20gJ2ppbXUtY29yZSc7XG5pbXBvcnQge0Jhc2VUb29sLCBCYXNlVG9vbFByb3BzLCBJY29uVHlwZX0gZnJvbSAnLi4vbGF5b3V0L2Jhc2UvYmFzZS10b29sJztcbmltcG9ydCB7bG9hZEFyY0dJU0pTQVBJTW9kdWxlcywgSmltdU1hcFZpZXd9IGZyb20gJ2ppbXUtYXJjZ2lzJztcbmltcG9ydCB7ZGVmYXVsdE1lc3NhZ2VzfSBmcm9tICdqaW11LXVpJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VhcmNoIGV4dGVuZHMgQmFzZVRvb2w8QmFzZVRvb2xQcm9wcywgdW5rbm93bj4ge1xuICB0b29sTmFtZSA9ICdTZWFyY2gnO1xuXG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICB9XG5cbiAgZ2V0VGl0bGUoKSB7XG4gICAgcmV0dXJuIHRoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHtpZDogJ1NlYXJjaExhYmVsJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlc1snU2VhcmNoTGFiZWwnXX0pO1xuICB9XG5cbiAgZ2V0SWNvbigpOiBJY29uVHlwZSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGljb246IHJlcXVpcmUoJy4uL2Fzc2V0cy9pY29ucy9zZWFyY2guc3ZnJylcbiAgICB9O1xuICB9XG5cbiAgZ2V0RXhwYW5kUGFuZWwoKTogSlNYLkVsZW1lbnQge1xuICAgIGlmICh0aGlzLnByb3BzLmlzTW9iaWxlKSB7XG4gICAgICByZXR1cm4gPGRpdiBzdHlsZT17e21pbkhlaWdodDogJzMycHgnLCBwb3NpdGlvbjogJ3JlbGF0aXZlJywgd2lkdGg6ICcxMDAlJ319PlxuICAgICAgICA8U2VhcmNoSW5uZXIgamltdU1hcFZpZXc9e3RoaXMucHJvcHMuamltdU1hcFZpZXd9PjwvU2VhcmNoSW5uZXI+XG4gICAgICA8L2Rpdj47XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiA8ZGl2IHN0eWxlPXt7bWluV2lkdGg6ICcyNTBweCcsIG1pbkhlaWdodDogJzMycHgnLCBwb3NpdGlvbjogJ3JlbGF0aXZlJ319PlxuICAgICAgICA8U2VhcmNoSW5uZXIgamltdU1hcFZpZXc9e3RoaXMucHJvcHMuamltdU1hcFZpZXd9PjwvU2VhcmNoSW5uZXI+XG4gICAgICA8L2Rpdj47XG4gICAgfVxuICB9XG59XG5cbmludGVyZmFjZSBTZWFyY2hJbm5lclByb3BzIHtcbiAgamltdU1hcFZpZXc6IEppbXVNYXBWaWV3O1xufVxuXG5pbnRlcmZhY2UgU2VhcmNoSW5uZXJTdGF0ZSB7XG4gIGFwaUxvYWRlZDogYm9vbGVhbjtcbn1cblxuXG5jbGFzcyBTZWFyY2hJbm5lciBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQ8U2VhcmNoSW5uZXJQcm9wcywgU2VhcmNoSW5uZXJTdGF0ZT4ge1xuICBTZWFyY2g6IHR5cGVvZiBfX2Vzcmkud2lkZ2V0c1NlYXJjaCA9IG51bGw7XG4gIFBvcnRhbDogdHlwZW9mIF9fZXNyaS5Qb3J0YWwgPSBudWxsO1xuICBTZWFyY2hCdG46IF9fZXNyaS53aWRnZXRzU2VhcmNoO1xuICBjb250YWluZXI6IEhUTUxFbGVtZW50O1xuXG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGFwaUxvYWRlZDogZmFsc2VcbiAgICB9XG4gIH1cblxuICBnZXRTdHlsZSgpIHtcbiAgICByZXR1cm4gY3NzYFxuICAgICAgLyogYm9yZGVyOiBzb2xpZCAxcHggcmdiYSgxMTAsMTEwLDExMCwwLjMpOyAqL1xuICAgIGA7XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBpZiAoIXRoaXMuc3RhdGUuYXBpTG9hZGVkKSB7XG4gICAgICBsb2FkQXJjR0lTSlNBUElNb2R1bGVzKFsnZXNyaS93aWRnZXRzL1NlYXJjaCcsICdlc3JpL3BvcnRhbC9Qb3J0YWwnXSkudGhlbihtb2R1bGVzID0+IHtcbiAgICAgICAgW3RoaXMuU2VhcmNoLCB0aGlzLlBvcnRhbF0gPSBtb2R1bGVzO1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBhcGlMb2FkZWQ6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICB9KVxuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudERpZFVwZGF0ZSgpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5hcGlMb2FkZWQgJiYgdGhpcy5jb250YWluZXIpIHtcbiAgICAgIGlmICh0aGlzLlNlYXJjaEJ0bikge1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5pbm5lckhUTUwgPSAnJztcbiAgICAgIH1cblxuICAgICAgdGhpcy5TZWFyY2hCdG4gPSBuZXcgdGhpcy5TZWFyY2goe1xuICAgICAgICBjb250YWluZXI6IHRoaXMuY29udGFpbmVyLFxuICAgICAgICB2aWV3OiB0aGlzLnByb3BzLmppbXVNYXBWaWV3LnZpZXcsXG4gICAgICAgIHBvcnRhbDogbmV3IHRoaXMuUG9ydGFsKHtcbiAgICAgICAgICB1cmw6IGdldEFwcFN0b3JlKCkuZ2V0U3RhdGUoKS5wb3J0YWxVcmxcbiAgICAgICAgfSlcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIGlmICh0aGlzLlNlYXJjaEJ0bikge1xuICAgICAgdGhpcy5TZWFyY2hCdG4uZGVzdHJveSgpO1xuICAgICAgdGhpcy5TZWFyY2hCdG4gPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gPGRpdiBjc3M9e3RoaXMuZ2V0U3R5bGUoKX0gY2xhc3NOYW1lPVwidy0xMDBcIiByZWY9e3JlZiA9PiB7dGhpcy5jb250YWluZXIgPSByZWY7IH19PlxuICAgICAgeyF0aGlzLnN0YXRlLmFwaUxvYWRlZCAmJiA8ZGl2IGNsYXNzTmFtZT1cImV4Ym1hcC1iYXNldG9vbC1sb2FkZXJcIj48L2Rpdj59XG4gICAgPC9kaXY+O1xuICB9XG5cblxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBR0E7QUFBQTtBQUZBOztBQUlBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTs7QUFXQTtBQUFBO0FBTUE7QUFBQTtBQUxBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7O0FBQ0E7QUFFQTtBQUNBO0FBR0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUdBO0FBR0E7QUFBQTs7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/search.tsx\n");

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/select/index.tsx":
/*!*********************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/select/index.tsx ***!
  \*********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jimu_core__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../layout/base/base-tool */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/base-tool.tsx\");\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-ui */ \"jimu-ui\");\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jimu_ui__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _select_pc__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./select-pc */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/select/select-pc.tsx\");\n/* harmony import */ var _select_mobile__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./select-mobile */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/select/select-mobile.tsx\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/** @jsx jsx */\n\n\n\n\n\nvar Select = /** @class */ (function (_super) {\n    __extends(Select, _super);\n    function Select(props) {\n        var _this = _super.call(this, props) || this;\n        _this.toolName = 'Select';\n        _this.state = {};\n        return _this;\n    }\n    Select.prototype.getTitle = function () {\n        return this.props.intl.formatMessage({ id: 'SelectLabel', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_2__[\"defaultMessages\"]['SelectLabel'] });\n    };\n    Select.prototype.getIcon = function () {\n        return {\n            icon: __webpack_require__(/*! ../../assets/icons/select-tool/select-rectangle.svg */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/select-tool/select-rectangle.svg\")\n        };\n    };\n    Select.prototype.getExpandPanel = function () {\n        var _this = this;\n        if (this.props.isMobile) {\n            return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_select_mobile__WEBPACK_IMPORTED_MODULE_4__[\"SelectMobileTool\"], { isActive: this.toolName === (this.props.activeToolInfo && this.props.activeToolInfo.activeToolName), activeToolInfo: this.props.activeToolInfo, toolName: this.toolName, onActiveToolInfoChange: this.props.onActiveToolInfoChange, _onIconClick: function () { _this._onIconClick(); }, theme: this.props.theme, intl: this.props.intl, jimuMapView: this.props.jimuMapView });\n        }\n        else {\n            return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_select_pc__WEBPACK_IMPORTED_MODULE_3__[\"SelectPCTool\"], { theme: this.props.theme, intl: this.props.intl, jimuMapView: this.props.jimuMapView });\n        }\n    };\n    return Select;\n}(_layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__[\"BaseTool\"]));\n/* harmony default export */ __webpack_exports__[\"default\"] = (Select);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvdG9vbHMvc2VsZWN0L2luZGV4LnRzeC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4dGVuc2lvbnMvd2lkZ2V0cy9hcmNnaXMvYXJjZ2lzLW1hcC9zcmMvcnVudGltZS90b29scy9zZWxlY3QvaW5kZXgudHN4Pzk3ZDMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqIEBqc3gganN4ICovXG5pbXBvcnQge2pzeH0gZnJvbSAnamltdS1jb3JlJztcbmltcG9ydCB7QmFzZVRvb2wsIEJhc2VUb29sUHJvcHMsIEljb25UeXBlfSBmcm9tICcuLi8uLi9sYXlvdXQvYmFzZS9iYXNlLXRvb2wnO1xuaW1wb3J0IHtkZWZhdWx0TWVzc2FnZXN9IGZyb20gJ2ppbXUtdWknO1xuaW1wb3J0IHtTZWxlY3RQQ1Rvb2x9IGZyb20gJy4vc2VsZWN0LXBjJztcbmltcG9ydCB7U2VsZWN0TW9iaWxlVG9vbH0gZnJvbSAnLi9zZWxlY3QtbW9iaWxlJztcblxuaW50ZXJmYWNlIFNlbGVjdFN0YXRlIHt9XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlbGVjdCBleHRlbmRzIEJhc2VUb29sPEJhc2VUb29sUHJvcHMsIFNlbGVjdFN0YXRlPiB7XG4gIHRvb2xOYW1lID0gJ1NlbGVjdCc7XG5cbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLnN0YXRlID0ge307XG4gIH1cblxuICBnZXRUaXRsZSgpIHtcbiAgICByZXR1cm4gdGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2Uoe2lkOiAnU2VsZWN0TGFiZWwnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzWydTZWxlY3RMYWJlbCddfSk7XG4gIH1cblxuICBnZXRJY29uKCk6IEljb25UeXBlIHtcbiAgICByZXR1cm4ge1xuICAgICAgaWNvbjogcmVxdWlyZSgnLi4vLi4vYXNzZXRzL2ljb25zL3NlbGVjdC10b29sL3NlbGVjdC1yZWN0YW5nbGUuc3ZnJylcbiAgICB9O1xuICB9XG5cbiAgZ2V0RXhwYW5kUGFuZWwoKTogSlNYLkVsZW1lbnQge1xuICAgIGlmICh0aGlzLnByb3BzLmlzTW9iaWxlKSB7XG4gICAgICByZXR1cm4gPFNlbGVjdE1vYmlsZVRvb2wgaXNBY3RpdmU9e3RoaXMudG9vbE5hbWUgPT09ICh0aGlzLnByb3BzLmFjdGl2ZVRvb2xJbmZvICYmIHRoaXMucHJvcHMuYWN0aXZlVG9vbEluZm8uYWN0aXZlVG9vbE5hbWUpfVxuICAgICAgICBhY3RpdmVUb29sSW5mbz17dGhpcy5wcm9wcy5hY3RpdmVUb29sSW5mb30gdG9vbE5hbWU9e3RoaXMudG9vbE5hbWV9XG4gICAgICAgIG9uQWN0aXZlVG9vbEluZm9DaGFuZ2U9e3RoaXMucHJvcHMub25BY3RpdmVUb29sSW5mb0NoYW5nZX0gX29uSWNvbkNsaWNrPXsoKSA9PiB7KHRoaXMgYXMgYW55KS5fb25JY29uQ2xpY2soKTt9fVxuICAgICAgICB0aGVtZT17dGhpcy5wcm9wcy50aGVtZX0gaW50bD17dGhpcy5wcm9wcy5pbnRsfSBqaW11TWFwVmlldz17dGhpcy5wcm9wcy5qaW11TWFwVmlld30+PC9TZWxlY3RNb2JpbGVUb29sPjtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIDxTZWxlY3RQQ1Rvb2wgdGhlbWU9e3RoaXMucHJvcHMudGhlbWV9IGludGw9e3RoaXMucHJvcHMuaW50bH0gamltdU1hcFZpZXc9e3RoaXMucHJvcHMuamltdU1hcFZpZXd9PjwvU2VsZWN0UENUb29sPjtcbiAgICB9XG4gIH1cbn0iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQUE7QUFHQTtBQUFBO0FBRkE7QUFLQTs7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUlBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBOzsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/select/index.tsx\n");

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/select/select-mobile.tsx":
/*!*****************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/select/select-mobile.tsx ***!
  \*****************************************************************************************/
/*! exports provided: SelectMobileTool */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SelectMobileTool\", function() { return SelectMobileTool; });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jimu_core__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ \"jimu-ui\");\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jimu_ui__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-arcgis */ \"jimu-arcgis\");\n/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _components_multisourcemap_context__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../components/multisourcemap-context */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/components/multisourcemap-context.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __makeTemplateObject = (undefined && undefined.__makeTemplateObject) || function (cooked, raw) {\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n    return cooked;\n};\n/** @jsx jsx */\n\n\n\n\nvar defaultPointSymbol = {\n    style: 'esriSMSCircle',\n    color: [0, 0, 128, 128],\n    name: 'Circle',\n    outline: {\n        color: [0, 0, 128, 255],\n        width: 1\n    },\n    type: 'esriSMS',\n    size: 18\n};\nvar defaultPolylineSymbol = {\n    tags: ['solid'],\n    title: 'Blue Thin',\n    style: 'esriSLSSolid',\n    color: [79, 129, 189, 255],\n    width: 3,\n    name: 'Blue 1',\n    type: 'esriSLS'\n};\nvar defaultPolygonSymbol = {\n    style: 'esriSFSSolid',\n    color: [79, 129, 189, 77],\n    type: 'esriSFS',\n    outline: {\n        style: 'esriSLSSolid',\n        color: [54, 93, 141, 255],\n        width: 1.5,\n        type: 'esriSLS'\n    }\n};\nvar SelectRectangleIcon = __webpack_require__(/*! ../../assets/icons/select-tool/select-rectangle.svg */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/select-tool/select-rectangle.svg\");\nvar SelectLassoIcon = __webpack_require__(/*! ../../assets/icons/select-tool/select-lasso.svg */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/select-tool/select-lasso.svg\");\nvar SelectCircleIcon = __webpack_require__(/*! ../../assets/icons/select-tool/select-circle.svg */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/select-tool/select-circle.svg\");\nvar SelectLineIcon = __webpack_require__(/*! ../../assets/icons/select-tool/select-line.svg */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/select-tool/select-line.svg\");\nvar SelectPointIcon = __webpack_require__(/*! ../../assets/icons/select-tool/select-point.svg */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/select-tool/select-point.svg\");\nvar SelectMoreIcon = __webpack_require__(/*! jimu-ui/lib/icons/more-16.svg */ \"./jimu-ui/lib/icons/more-16.svg\");\nvar SelectMobileTool = /** @class */ (function (_super) {\n    __extends(SelectMobileTool, _super);\n    function SelectMobileTool(props) {\n        var _this = _super.call(this, props) || this;\n        _this.jsonUtils = null;\n        _this.currentActiveTool = 'rectangle';\n        _this.setCurrentSelectType = function (currentSelectType) {\n            _this.initialSketchTool();\n            if (currentSelectType === _this.state.currentSelectType) {\n                return;\n            }\n            if (currentSelectType === 'Point') {\n                if (_this.props.isActive) {\n                    _this.sketchViewModel.create('point');\n                }\n                _this.currentActiveTool = 'point';\n            }\n            if (currentSelectType === 'Rectangle') {\n                if (_this.props.isActive) {\n                    _this.sketchViewModel.create('rectangle');\n                }\n                _this.currentActiveTool = 'rectangle';\n            }\n            if (currentSelectType === 'Lasso') {\n                if (_this.props.isActive) {\n                    _this.sketchViewModel.create('polygon');\n                }\n                _this.currentActiveTool = 'polygon';\n            }\n            if (currentSelectType === 'Circle') {\n                if (_this.props.isActive) {\n                    _this.sketchViewModel.create('circle');\n                }\n                _this.currentActiveTool = 'circle';\n            }\n            if (currentSelectType === 'Line') {\n                if (_this.props.isActive) {\n                    _this.sketchViewModel.create('polyline');\n                }\n                _this.currentActiveTool = 'polyline';\n            }\n            _this.setState({\n                currentSelectType: currentSelectType\n            }, function () {\n                if (!_this.props.activeToolInfo || (_this.props.activeToolInfo && _this.props.activeToolInfo.activeToolName !== _this.props.toolName)) {\n                    _this.props._onIconClick(null);\n                }\n            });\n        };\n        _this.toggleIsSelectActive = function () {\n            _this.props._onIconClick(null);\n        };\n        _this.handleIsShowSelectSetting = function () {\n            _this.setState({\n                isShowSelectSetting: !_this.state.isShowSelectSetting\n            });\n        };\n        _this.getSelectToolIcon = function () {\n            if (_this.state.currentSelectType === 'Point') {\n                return SelectPointIcon;\n            }\n            else if (_this.state.currentSelectType === 'Rectangle') {\n                return SelectRectangleIcon;\n            }\n            else if (_this.state.currentSelectType === 'Lasso') {\n                return SelectLassoIcon;\n            }\n            else if (_this.state.currentSelectType === 'Circle') {\n                return SelectCircleIcon;\n            }\n            else if (_this.state.currentSelectType === 'Line') {\n                return SelectLineIcon;\n            }\n            else {\n                return SelectRectangleIcon;\n            }\n        };\n        _this.getMobilePanelForSelectSetting = function () {\n            return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_components_multisourcemap_context__WEBPACK_IMPORTED_MODULE_3__[\"MultiSourceMapContext\"].Consumer, null, function (_a) {\n                var mapWidgetId = _a.mapWidgetId;\n                return (Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"MobilePanel\"], { mapWidgetId: mapWidgetId + \"-with-select-container\", title: '', open: _this.state.isShowSelectSetting, toggle: function () { _this.handleIsShowSelectSetting(); } },\n                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"w-100\" }, _this.getMobilePanelSettingContent())));\n            });\n        };\n        _this.getMobilePanelSettingContent = function () {\n            return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { css: _this.getCSSStyle() },\n                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"content-title mt-1 mb-2\" }, _this.props.intl.formatMessage({ id: 'SelectionTool', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"defaultMessages\"]['SelectionTool'] })),\n                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"w-100 select-tool-type-mobile-container-shell\" },\n                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"select-tool-type-mobile-container\" },\n                        Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"classNames\"])('select-tool-type mr-3 d-flex flex-column align-items-center justify-content-center select-tool-btn-hover', {\n                                'select-tool-type-choosed': _this.state.currentSelectType === 'Rectangle'\n                            }), onClick: function () { _this.setCurrentSelectType('Rectangle'); }, style: { float: 'left' } },\n                            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"Icon\"], { width: 16, height: 16, icon: SelectRectangleIcon }),\n                            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"select-tool-type-text mt-1 w-100 text-truncate pl-1 pr-1 d-flex justify-content-center\", title: _this.props.intl.formatMessage({ id: 'SelectionToolRectangle', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"defaultMessages\"]['SelectionToolRectangle'] }) }, _this.props.intl.formatMessage({ id: 'SelectionToolRectangle', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"defaultMessages\"]['SelectionToolRectangle'] }))),\n                        Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"classNames\"])('select-tool-type mr-3 d-flex flex-column align-items-center justify-content-center select-tool-btn-hover', {\n                                'select-tool-type-choosed': _this.state.currentSelectType === 'Lasso'\n                            }), onClick: function () { _this.setCurrentSelectType('Lasso'); }, style: { float: 'left' } },\n                            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"Icon\"], { width: 16, height: 16, icon: SelectLassoIcon }),\n                            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"select-tool-type-text mt-1 w-100 text-truncate pl-1 pr-1 d-flex justify-content-center\", title: _this.props.intl.formatMessage({ id: 'SelectionToolLasso', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"defaultMessages\"]['SelectionToolLasso'] }) }, _this.props.intl.formatMessage({ id: 'SelectionToolLasso', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"defaultMessages\"]['SelectionToolLasso'] }))),\n                        Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"classNames\"])('select-tool-type mr-3 d-flex flex-column align-items-center justify-content-center select-tool-btn-hover', {\n                                'select-tool-type-choosed': _this.state.currentSelectType === 'Circle'\n                            }), onClick: function () { _this.setCurrentSelectType('Circle'); }, style: { float: 'left' } },\n                            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"Icon\"], { width: 16, height: 16, icon: SelectCircleIcon }),\n                            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"select-tool-type-text mt-1 w-100 text-truncate pl-1 pr-1 d-flex justify-content-center\", title: _this.props.intl.formatMessage({ id: 'SelectionToolCircle', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"defaultMessages\"]['SelectionToolCircle'] }) }, _this.props.intl.formatMessage({ id: 'SelectionToolCircle', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"defaultMessages\"]['SelectionToolCircle'] }))),\n                        Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"classNames\"])('select-tool-type mr-3 d-flex flex-column align-items-center justify-content-center select-tool-btn-hover', {\n                                'select-tool-type-choosed': _this.state.currentSelectType === 'Line'\n                            }), onClick: function () { _this.setCurrentSelectType('Line'); }, style: { float: 'left' } },\n                            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"Icon\"], { width: 16, height: 16, icon: SelectLineIcon }),\n                            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"select-tool-type-text mt-1 w-100 text-truncate pl-1 pr-1 d-flex justify-content-center\", title: _this.props.intl.formatMessage({ id: 'SelectionToolLine', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"defaultMessages\"]['SelectionToolLine'] }) }, _this.props.intl.formatMessage({ id: 'SelectionToolLine', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"defaultMessages\"]['SelectionToolLine'] }))),\n                        Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"classNames\"])('select-tool-type mr-3 d-flex flex-column align-items-center justify-content-center select-tool-btn-hover', {\n                                'select-tool-type-choosed': _this.state.currentSelectType === 'Point'\n                            }), onClick: function () { _this.setCurrentSelectType('Point'); }, style: { float: 'left' } },\n                            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"Icon\"], { width: 16, height: 16, icon: SelectPointIcon }),\n                            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"select-tool-type-text mt-1 w-100 text-truncate pl-1 pr-1 d-flex justify-content-center\", title: _this.props.intl.formatMessage({ id: 'SelectionToolPoint', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"defaultMessages\"]['SelectionToolPoint'] }) }, _this.props.intl.formatMessage({ id: 'SelectionToolPoint', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"defaultMessages\"]['SelectionToolPoint'] }))))),\n                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"content-title mt-1 mb-2\" }, _this.props.intl.formatMessage({ id: 'SelectionMode', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"defaultMessages\"]['SelectionMode'] })),\n                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", null,\n                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"d-flex align-items-center mt-2\" },\n                        Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"Radio\"], { style: { cursor: 'pointer' }, checked: _this.state.spatialRelationship === 'intersects', onChange: function () { _this.setState({ spatialRelationship: 'intersects' }); } }),\n                        Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"label\", { className: \"m-0 ml-2 content-title\", style: { cursor: 'pointer' }, onClick: function () { _this.setState({ spatialRelationship: 'intersects' }); } }, _this.props.intl.formatMessage({ id: 'SelectionWithin', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"defaultMessages\"]['SelectionWithin'] }))),\n                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"d-flex align-items-center mt-2\" },\n                        Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"Radio\"], { style: { cursor: 'pointer' }, checked: _this.state.spatialRelationship === 'contains', onChange: function () { _this.setState({ spatialRelationship: 'contains' }); } }),\n                        Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"label\", { className: \"m-0 ml-2 content-title\", style: { cursor: 'pointer' }, onClick: function () { _this.setState({ spatialRelationship: 'contains' }); } }, _this.props.intl.formatMessage({ id: 'SelectionContain', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"defaultMessages\"]['SelectionContain'] })))));\n        };\n        _this.state = {\n            currentSelectType: 'Rectangle',\n            sketchInitialed: false,\n            spatialRelationship: 'intersects',\n            isQuerying: false,\n            isShowSelectSetting: false\n        };\n        return _this;\n    }\n    SelectMobileTool.prototype.getCSSStyle = function () {\n        var theme = this.props.theme;\n        return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n      background-color: 'initial';\\n\\n      .select-tool-btn-hover: hover {\\n        background-color: \", \";;\\n      }\\n\\n      .content-title {\\n        font-size: \", \";\\n        font-weight: bold;\\n      }\\n\\n      .select-tool-type-mobile-container-shell {\\n        overflow-x: auto;\\n      }\\n\\n      .select-tool-type-mobile-container-shell::-webkit-scrollbar {\\n        height: 0 !important;\\n        display: none;\\n      }\\n\\n      .select-tool-type-mobile-container {\\n        width: 400px;\\n      }\\n\\n      .select-tool-type {\\n        width: 64px;\\n        height: 64px;\\n        border: 1px solid \", \";\\n        cursor: pointer;\\n      }\\n\\n      .select-tool-type-choosed {\\n        border: 1px solid \", \";\\n        position: relative;\\n      }\\n\\n      .select-tool-type-choosed:after {\\n        width: 0;\\n        height: 0;\\n        border-top: 8px solid \", \";\\n        border-left: 8px solid transparent;\\n        position: absolute;\\n        top: 0;\\n        right: 0;\\n        content: \\\"\\\";\\n      }\\n\\n      .select-tool-type-text {\\n        font-size: \", \";\\n      }\\n\\n      .select-tool-loader {\\n        position: absolute;\\n        top: 0;\\n        left: 0;\\n        right: 0;\\n        height: 2px;\\n        width: 100%;\\n        animation: esri-fade-in 500ms ease-in-out;\\n      }\\n\\n      .select-tool-loader:before {\\n        background-color: rgba(110,110,110,0.3);\\n        width: 100%;\\n        z-index: 0;\\n        content: \\\"\\\";\\n        opacity: 1;\\n        position: absolute;\\n        height: 2px;\\n        top: 0;\\n        transition: opacity 500ms ease-in-out;\\n      }\\n\\n      .select-tool-loader:after {\\n        background-color: \", \";\\n        width: 40%;\\n        z-index: 0;\\n        animation: looping-progresss-bar-ani 1500ms linear infinite;\\n        content: \\\"\\\";\\n        opacity: 1;\\n        position: absolute;\\n        height: 2px;\\n        top: 0;\\n        transition: opacity 500ms ease-in-out;\\n      }\\n\\n    \"], [\"\\n      background-color: 'initial';\\n\\n      .select-tool-btn-hover: hover {\\n        background-color: \", \";;\\n      }\\n\\n      .content-title {\\n        font-size: \", \";\\n        font-weight: bold;\\n      }\\n\\n      .select-tool-type-mobile-container-shell {\\n        overflow-x: auto;\\n      }\\n\\n      .select-tool-type-mobile-container-shell::-webkit-scrollbar {\\n        height: 0 !important;\\n        display: none;\\n      }\\n\\n      .select-tool-type-mobile-container {\\n        width: 400px;\\n      }\\n\\n      .select-tool-type {\\n        width: 64px;\\n        height: 64px;\\n        border: 1px solid \", \";\\n        cursor: pointer;\\n      }\\n\\n      .select-tool-type-choosed {\\n        border: 1px solid \", \";\\n        position: relative;\\n      }\\n\\n      .select-tool-type-choosed:after {\\n        width: 0;\\n        height: 0;\\n        border-top: 8px solid \", \";\\n        border-left: 8px solid transparent;\\n        position: absolute;\\n        top: 0;\\n        right: 0;\\n        content: \\\"\\\";\\n      }\\n\\n      .select-tool-type-text {\\n        font-size: \", \";\\n      }\\n\\n      .select-tool-loader {\\n        position: absolute;\\n        top: 0;\\n        left: 0;\\n        right: 0;\\n        height: 2px;\\n        width: 100%;\\n        animation: esri-fade-in 500ms ease-in-out;\\n      }\\n\\n      .select-tool-loader:before {\\n        background-color: rgba(110,110,110,0.3);\\n        width: 100%;\\n        z-index: 0;\\n        content: \\\"\\\";\\n        opacity: 1;\\n        position: absolute;\\n        height: 2px;\\n        top: 0;\\n        transition: opacity 500ms ease-in-out;\\n      }\\n\\n      .select-tool-loader:after {\\n        background-color: \", \";\\n        width: 40%;\\n        z-index: 0;\\n        animation: looping-progresss-bar-ani 1500ms linear infinite;\\n        content: \\\"\\\";\\n        opacity: 1;\\n        position: absolute;\\n        height: 2px;\\n        top: 0;\\n        transition: opacity 500ms ease-in-out;\\n      }\\n\\n    \"])), jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"polished\"].rgba(theme.colors.palette.primary[500], .1), jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"polished\"].rem(13), theme.colors.palette.light[400], theme.colors.primary, theme.colors.primary, jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"polished\"].rem(12), theme.colors.primary);\n    };\n    SelectMobileTool.prototype.componentDidMount = function () {\n        var _this = this;\n        if (!this.state.sketchInitialed) {\n            Object(jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__[\"loadArcGISJSAPIModules\"])([\n                'esri/widgets/Sketch/SketchViewModel',\n                'esri/layers/GraphicsLayer',\n                'esri/tasks/support/Query',\n                'esri/symbols/support/jsonUtils',\n                'esri/geometry/geometryEngine'\n            ]).then(function (modules) {\n                _this.SketchViewModel = modules[0], _this.GraphicsLayer = modules[1], _this.Query = modules[2], _this.jsonUtils = modules[3], _this.geometryEngine = modules[4];\n                _this.props.jimuMapView.view.when(function () {\n                    _this.initialSketchTool();\n                    _this.setState({\n                        sketchInitialed: true\n                    });\n                });\n            });\n        }\n    };\n    SelectMobileTool.prototype.componentDidUpdate = function (prevProps, prevState) {\n        var prevActiveToolName = prevProps.activeToolInfo && prevProps.activeToolInfo.activeToolName;\n        var currentActiveToolName = this.props.activeToolInfo && this.props.activeToolInfo.activeToolName;\n        if (prevActiveToolName !== currentActiveToolName && currentActiveToolName !== this.props.toolName && currentActiveToolName) {\n            this.setState({\n                isShowSelectSetting: false\n            });\n        }\n        if (prevState.sketchInitialed !== this.state.sketchInitialed && this.state.sketchInitialed) {\n            this.initialSketchTool();\n            if (this.props.isActive && this.currentActiveTool) {\n                this.sketchViewModel.create(this.currentActiveTool);\n            }\n            return;\n        }\n        if (prevProps.jimuMapView && this.props.jimuMapView && (prevProps.jimuMapView.id !== this.props.jimuMapView.id) && this.state.sketchInitialed) {\n            this.initialSketchTool();\n            this.sketchViewModel.view = this.props.jimuMapView.view;\n            if (this.props.isActive && this.currentActiveTool) {\n                this.sketchViewModel.create(this.currentActiveTool);\n            }\n            return;\n        }\n        if (prevProps.isActive !== this.props.isActive) {\n            this.initialSketchTool();\n            if (this.props.isActive) {\n                this.sketchViewModel.create(this.currentActiveTool);\n            }\n            else {\n                this.sketchViewModel.destroy();\n                this.sketchViewModel = null;\n            }\n        }\n    };\n    SelectMobileTool.prototype.componentWillUnmount = function () {\n        if (this.sketchViewModel) {\n            this.sketchViewModel.destroy();\n        }\n    };\n    SelectMobileTool.prototype.initialSketchTool = function () {\n        var _this = this;\n        if (!this.SketchViewModel) {\n            return;\n        }\n        if (!this.sketchViewModel) {\n            this.sketchViewModel = new this.SketchViewModel({\n                view: this.props.jimuMapView.view,\n                layer: new this.GraphicsLayer(),\n                pointSymbol: this.jsonUtils.fromJSON(defaultPointSymbol),\n                polylineSymbol: this.jsonUtils.fromJSON(defaultPolylineSymbol),\n                polygonSymbol: this.jsonUtils.fromJSON(defaultPolygonSymbol)\n            });\n            this.sketchViewModel.on('create', function (event) {\n                if (event.state === 'complete') {\n                    _this.sketchViewModel.create(_this.currentActiveTool);\n                    _this.setState({\n                        isQuerying: true\n                    });\n                    var jimuMapView = _this.props.jimuMapView;\n                    jimuMapView.selectFeaturesByGraphic(event.graphic, _this.state.spatialRelationship).then(function () {\n                        _this.setState({\n                            isQuerying: false\n                        });\n                    });\n                }\n            });\n        }\n    };\n    SelectMobileTool.prototype.render = function () {\n        return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { css: this.getCSSStyle() },\n            this.state.sketchInitialed && Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { onClick: this.toggleIsSelectActive, style: {}, className: Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"classNames\"])('exbmap-ui-tool border-0 esri-widget--button', {\n                    'exbmap-ui-tool-icon-selected': this.props.isActive\n                }) },\n                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"Icon\"], { width: 16, height: 16, className: \"exbmap-ui-tool-icon\", icon: this.getSelectToolIcon() })),\n            !this.state.sketchInitialed && Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { style: {}, className: Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"classNames\"])('exbmap-ui-tool border-0 esri-widget--button') },\n                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"Icon\"], { width: 16, height: 16, className: \"exbmap-ui-tool-icon\", icon: this.getSelectToolIcon() })),\n            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"border border-top-0 w-100\", style: { height: '1px' } }),\n            this.state.sketchInitialed && Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { onClick: this.handleIsShowSelectSetting, style: {}, className: Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"classNames\"])('exbmap-ui-tool border-0 esri-widget--button') },\n                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"Icon\"], { width: 16, height: 16, className: \"exbmap-ui-tool-icon\", icon: SelectMoreIcon })),\n            !this.state.sketchInitialed && Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { style: {}, className: Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"classNames\"])('exbmap-ui-tool border-0 esri-widget--button') },\n                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"Icon\"], { width: 16, height: 16, className: \"exbmap-ui-tool-icon\", icon: SelectMoreIcon })),\n            this.state.isShowSelectSetting && this.getMobilePanelForSelectSetting(),\n            (this.state.isQuerying || !this.state.sketchInitialed) && Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"select-tool-loader\" }));\n    };\n    return SelectMobileTool;\n}(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].PureComponent));\n\nvar templateObject_1;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvdG9vbHMvc2VsZWN0L3NlbGVjdC1tb2JpbGUudHN4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vZXh0ZW5zaW9ucy93aWRnZXRzL2FyY2dpcy9hcmNnaXMtbWFwL3NyYy9ydW50aW1lL3Rvb2xzL3NlbGVjdC9zZWxlY3QtbW9iaWxlLnRzeD8wMzI2Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKiBAanN4IGpzeCAqL1xuaW1wb3J0IHtjc3MsIGpzeCwgY2xhc3NOYW1lcywgUmVhY3QsIHBvbGlzaGVkLCBJTVRoZW1lVmFyaWFibGVzLCBJbnRsU2hhcGV9IGZyb20gJ2ppbXUtY29yZSc7XG5pbXBvcnQge0ljb24sIE1vYmlsZVBhbmVsLCBkZWZhdWx0TWVzc2FnZXMsIFJhZGlvfSBmcm9tICdqaW11LXVpJztcbmltcG9ydCB7bG9hZEFyY0dJU0pTQVBJTW9kdWxlcywgSmltdU1hcFZpZXd9IGZyb20gJ2ppbXUtYXJjZ2lzJztcbmltcG9ydCB7QWN0aXZlVG9vbEluZm99IGZyb20gJy4uLy4uL2xheW91dC9iYXNlL2Jhc2UtdG9vbCc7XG5pbXBvcnQge011bHRpU291cmNlTWFwQ29udGV4dH0gZnJvbSAnLi4vLi4vY29tcG9uZW50cy9tdWx0aXNvdXJjZW1hcC1jb250ZXh0JztcblxuaW50ZXJmYWNlIFByb3BzIHtcbiAgdGhlbWU/OiBJTVRoZW1lVmFyaWFibGVzLFxuICBpbnRsPzogSW50bFNoYXBlO1xuXG4gIGlzQWN0aXZlOiBib29sZWFuO1xuICBqaW11TWFwVmlldz86IEppbXVNYXBWaWV3O1xuICBhY3RpdmVUb29sSW5mbzogQWN0aXZlVG9vbEluZm87XG4gIHRvb2xOYW1lOiBzdHJpbmc7XG4gIG9uQWN0aXZlVG9vbEluZm9DaGFuZ2U/OiAoYWN0aXZlVG9vbEluZm86IEFjdGl2ZVRvb2xJbmZvKSA9PiB2b2lkO1xuICBfb25JY29uQ2xpY2s/OiAoZTogYW55KSA9PiB2b2lkO1xufVxuXG5pbnRlcmZhY2UgU3RhdGVzIHtcbiAgc2tldGNoSW5pdGlhbGVkOiBib29sZWFuO1xuICBpc1F1ZXJ5aW5nOiBib29sZWFuO1xuICBpc1Nob3dTZWxlY3RTZXR0aW5nOiBib29sZWFuO1xuXG4gIGN1cnJlbnRTZWxlY3RUeXBlOiAnUG9pbnQnIHwgJ1JlY3RhbmdsZScgfCAnTGFzc28nIHwgJ0NpcmNsZScgfCAnTGluZSc7XG4gIHNwYXRpYWxSZWxhdGlvbnNoaXA6ICdpbnRlcnNlY3RzJyB8ICdjb250YWlucyc7XG59XG5cbmNvbnN0IGRlZmF1bHRQb2ludFN5bWJvbCA9IHtcbiAgc3R5bGU6ICdlc3JpU01TQ2lyY2xlJyxcbiAgY29sb3I6IFswLCAwLCAxMjgsIDEyOF0sXG4gIG5hbWU6ICdDaXJjbGUnLFxuICBvdXRsaW5lOiB7XG4gICAgY29sb3I6IFswLCAwLCAxMjgsIDI1NV0sXG4gICAgd2lkdGg6IDFcbiAgfSxcbiAgdHlwZTogJ2VzcmlTTVMnLFxuICBzaXplOiAxOFxufTtcblxuY29uc3QgZGVmYXVsdFBvbHlsaW5lU3ltYm9sID0ge1xuICB0YWdzOiBbJ3NvbGlkJ10sXG4gIHRpdGxlOiAnQmx1ZSBUaGluJyxcbiAgc3R5bGU6ICdlc3JpU0xTU29saWQnLFxuICBjb2xvcjogWzc5LCAxMjksIDE4OSwgMjU1XSxcbiAgd2lkdGg6IDMsXG4gIG5hbWU6ICdCbHVlIDEnLFxuICB0eXBlOiAnZXNyaVNMUydcbn1cblxuY29uc3QgZGVmYXVsdFBvbHlnb25TeW1ib2wgPSB7XG4gIHN0eWxlOiAnZXNyaVNGU1NvbGlkJyxcbiAgY29sb3I6IFs3OSwgMTI5LCAxODksIDc3XSxcbiAgdHlwZTogJ2VzcmlTRlMnLFxuICBvdXRsaW5lOiB7XG4gICAgc3R5bGU6ICdlc3JpU0xTU29saWQnLFxuICAgIGNvbG9yOiBbNTQsIDkzLCAxNDEsIDI1NV0sXG4gICAgd2lkdGg6IDEuNSxcbiAgICB0eXBlOiAnZXNyaVNMUydcbiAgfVxufVxuXG5jb25zdCBTZWxlY3RSZWN0YW5nbGVJY29uID0gcmVxdWlyZSgnLi4vLi4vYXNzZXRzL2ljb25zL3NlbGVjdC10b29sL3NlbGVjdC1yZWN0YW5nbGUuc3ZnJyk7XG5jb25zdCBTZWxlY3RMYXNzb0ljb24gPSByZXF1aXJlKCcuLi8uLi9hc3NldHMvaWNvbnMvc2VsZWN0LXRvb2wvc2VsZWN0LWxhc3NvLnN2ZycpO1xuY29uc3QgU2VsZWN0Q2lyY2xlSWNvbiA9IHJlcXVpcmUoJy4uLy4uL2Fzc2V0cy9pY29ucy9zZWxlY3QtdG9vbC9zZWxlY3QtY2lyY2xlLnN2ZycpO1xuY29uc3QgU2VsZWN0TGluZUljb24gPSByZXF1aXJlKCcuLi8uLi9hc3NldHMvaWNvbnMvc2VsZWN0LXRvb2wvc2VsZWN0LWxpbmUuc3ZnJyk7XG5jb25zdCBTZWxlY3RQb2ludEljb24gPSByZXF1aXJlKCcuLi8uLi9hc3NldHMvaWNvbnMvc2VsZWN0LXRvb2wvc2VsZWN0LXBvaW50LnN2ZycpO1xuY29uc3QgU2VsZWN0TW9yZUljb24gPSByZXF1aXJlKCdqaW11LXVpL2xpYi9pY29ucy9tb3JlLTE2LnN2ZycpO1xuXG5leHBvcnQgY2xhc3MgU2VsZWN0TW9iaWxlVG9vbCBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQ8UHJvcHMsIFN0YXRlcz57XG4gIFNrZXRjaFZpZXdNb2RlbDogdHlwZW9mIF9fZXNyaS5Ta2V0Y2hWaWV3TW9kZWw7XG4gIEdyYXBoaWNzTGF5ZXI6IHR5cGVvZiBfX2VzcmkuR3JhcGhpY3NMYXllcjtcbiAgUXVlcnk6IHR5cGVvZiBfX2VzcmkuUXVlcnk7XG4gIGpzb25VdGlsczogdHlwZW9mIF9fZXNyaS5qc29uVXRpbHMgPSBudWxsO1xuICBnZW9tZXRyeUVuZ2luZTogdHlwZW9mIF9fZXNyaS5nZW9tZXRyeUVuZ2luZTtcbiAgc2tldGNoVmlld01vZGVsOiBfX2VzcmkuU2tldGNoVmlld01vZGVsO1xuICBjdXJyZW50QWN0aXZlVG9vbDogc3RyaW5nID0gJ3JlY3RhbmdsZSc7XG5cbiAgY29uc3RydWN0b3IocHJvcHM6IFByb3BzKXtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGN1cnJlbnRTZWxlY3RUeXBlOiAnUmVjdGFuZ2xlJyxcbiAgICAgIHNrZXRjaEluaXRpYWxlZDogZmFsc2UsXG4gICAgICBzcGF0aWFsUmVsYXRpb25zaGlwOiAnaW50ZXJzZWN0cycsXG4gICAgICBpc1F1ZXJ5aW5nOiBmYWxzZSxcbiAgICAgIGlzU2hvd1NlbGVjdFNldHRpbmc6IGZhbHNlXG4gICAgfTtcbiAgfVxuXG4gIGdldENTU1N0eWxlKCkge1xuICAgIGNvbnN0IHRoZW1lID0gdGhpcy5wcm9wcy50aGVtZTtcblxuICAgIHJldHVybiBjc3NgXG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAnaW5pdGlhbCc7XG5cbiAgICAgIC5zZWxlY3QtdG9vbC1idG4taG92ZXI6IGhvdmVyIHtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogJHtwb2xpc2hlZC5yZ2JhKHRoZW1lLmNvbG9ycy5wYWxldHRlLnByaW1hcnlbNTAwXSwgLjEpfTs7XG4gICAgICB9XG5cbiAgICAgIC5jb250ZW50LXRpdGxlIHtcbiAgICAgICAgZm9udC1zaXplOiAke3BvbGlzaGVkLnJlbSgxMyl9O1xuICAgICAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICAgIH1cblxuICAgICAgLnNlbGVjdC10b29sLXR5cGUtbW9iaWxlLWNvbnRhaW5lci1zaGVsbCB7XG4gICAgICAgIG92ZXJmbG93LXg6IGF1dG87XG4gICAgICB9XG5cbiAgICAgIC5zZWxlY3QtdG9vbC10eXBlLW1vYmlsZS1jb250YWluZXItc2hlbGw6Oi13ZWJraXQtc2Nyb2xsYmFyIHtcbiAgICAgICAgaGVpZ2h0OiAwICFpbXBvcnRhbnQ7XG4gICAgICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgICB9XG5cbiAgICAgIC5zZWxlY3QtdG9vbC10eXBlLW1vYmlsZS1jb250YWluZXIge1xuICAgICAgICB3aWR0aDogNDAwcHg7XG4gICAgICB9XG5cbiAgICAgIC5zZWxlY3QtdG9vbC10eXBlIHtcbiAgICAgICAgd2lkdGg6IDY0cHg7XG4gICAgICAgIGhlaWdodDogNjRweDtcbiAgICAgICAgYm9yZGVyOiAxcHggc29saWQgJHt0aGVtZS5jb2xvcnMucGFsZXR0ZS5saWdodFs0MDBdfTtcbiAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgfVxuXG4gICAgICAuc2VsZWN0LXRvb2wtdHlwZS1jaG9vc2VkIHtcbiAgICAgICAgYm9yZGVyOiAxcHggc29saWQgJHt0aGVtZS5jb2xvcnMucHJpbWFyeX07XG4gICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgIH1cblxuICAgICAgLnNlbGVjdC10b29sLXR5cGUtY2hvb3NlZDphZnRlciB7XG4gICAgICAgIHdpZHRoOiAwO1xuICAgICAgICBoZWlnaHQ6IDA7XG4gICAgICAgIGJvcmRlci10b3A6IDhweCBzb2xpZCAke3RoZW1lLmNvbG9ycy5wcmltYXJ5fTtcbiAgICAgICAgYm9yZGVyLWxlZnQ6IDhweCBzb2xpZCB0cmFuc3BhcmVudDtcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICB0b3A6IDA7XG4gICAgICAgIHJpZ2h0OiAwO1xuICAgICAgICBjb250ZW50OiBcIlwiO1xuICAgICAgfVxuXG4gICAgICAuc2VsZWN0LXRvb2wtdHlwZS10ZXh0IHtcbiAgICAgICAgZm9udC1zaXplOiAke3BvbGlzaGVkLnJlbSgxMil9O1xuICAgICAgfVxuXG4gICAgICAuc2VsZWN0LXRvb2wtbG9hZGVyIHtcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICB0b3A6IDA7XG4gICAgICAgIGxlZnQ6IDA7XG4gICAgICAgIHJpZ2h0OiAwO1xuICAgICAgICBoZWlnaHQ6IDJweDtcbiAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgIGFuaW1hdGlvbjogZXNyaS1mYWRlLWluIDUwMG1zIGVhc2UtaW4tb3V0O1xuICAgICAgfVxuXG4gICAgICAuc2VsZWN0LXRvb2wtbG9hZGVyOmJlZm9yZSB7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMTEwLDExMCwxMTAsMC4zKTtcbiAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgIHotaW5kZXg6IDA7XG4gICAgICAgIGNvbnRlbnQ6IFwiXCI7XG4gICAgICAgIG9wYWNpdHk6IDE7XG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgaGVpZ2h0OiAycHg7XG4gICAgICAgIHRvcDogMDtcbiAgICAgICAgdHJhbnNpdGlvbjogb3BhY2l0eSA1MDBtcyBlYXNlLWluLW91dDtcbiAgICAgIH1cblxuICAgICAgLnNlbGVjdC10b29sLWxvYWRlcjphZnRlciB7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6ICR7dGhlbWUuY29sb3JzLnByaW1hcnl9O1xuICAgICAgICB3aWR0aDogNDAlO1xuICAgICAgICB6LWluZGV4OiAwO1xuICAgICAgICBhbmltYXRpb246IGxvb3BpbmctcHJvZ3Jlc3NzLWJhci1hbmkgMTUwMG1zIGxpbmVhciBpbmZpbml0ZTtcbiAgICAgICAgY29udGVudDogXCJcIjtcbiAgICAgICAgb3BhY2l0eTogMTtcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICBoZWlnaHQ6IDJweDtcbiAgICAgICAgdG9wOiAwO1xuICAgICAgICB0cmFuc2l0aW9uOiBvcGFjaXR5IDUwMG1zIGVhc2UtaW4tb3V0O1xuICAgICAgfVxuXG4gICAgYDtcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGlmICghdGhpcy5zdGF0ZS5za2V0Y2hJbml0aWFsZWQpIHtcbiAgICAgIGxvYWRBcmNHSVNKU0FQSU1vZHVsZXMoW1xuICAgICAgICAnZXNyaS93aWRnZXRzL1NrZXRjaC9Ta2V0Y2hWaWV3TW9kZWwnLFxuICAgICAgICAnZXNyaS9sYXllcnMvR3JhcGhpY3NMYXllcicsXG4gICAgICAgICdlc3JpL3Rhc2tzL3N1cHBvcnQvUXVlcnknLFxuICAgICAgICAnZXNyaS9zeW1ib2xzL3N1cHBvcnQvanNvblV0aWxzJyxcbiAgICAgICAgJ2VzcmkvZ2VvbWV0cnkvZ2VvbWV0cnlFbmdpbmUnXG4gICAgICBdKS50aGVuKG1vZHVsZXMgPT4ge1xuICAgICAgICBbdGhpcy5Ta2V0Y2hWaWV3TW9kZWwsIHRoaXMuR3JhcGhpY3NMYXllciwgdGhpcy5RdWVyeSwgdGhpcy5qc29uVXRpbHMsIHRoaXMuZ2VvbWV0cnlFbmdpbmVdID0gbW9kdWxlcztcbiAgICAgICAgdGhpcy5wcm9wcy5qaW11TWFwVmlldy52aWV3LndoZW4oKCkgPT4ge1xuICAgICAgICAgIHRoaXMuaW5pdGlhbFNrZXRjaFRvb2woKTtcblxuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgc2tldGNoSW5pdGlhbGVkOiB0cnVlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzOiBQcm9wcywgcHJldlN0YXRlOiBTdGF0ZXMpIHtcbiAgICBjb25zdCBwcmV2QWN0aXZlVG9vbE5hbWUgPSBwcmV2UHJvcHMuYWN0aXZlVG9vbEluZm8gJiYgcHJldlByb3BzLmFjdGl2ZVRvb2xJbmZvLmFjdGl2ZVRvb2xOYW1lO1xuICAgIGNvbnN0IGN1cnJlbnRBY3RpdmVUb29sTmFtZSA9IHRoaXMucHJvcHMuYWN0aXZlVG9vbEluZm8gJiYgdGhpcy5wcm9wcy5hY3RpdmVUb29sSW5mby5hY3RpdmVUb29sTmFtZTtcblxuICAgIGlmIChwcmV2QWN0aXZlVG9vbE5hbWUgIT09IGN1cnJlbnRBY3RpdmVUb29sTmFtZSAmJiBjdXJyZW50QWN0aXZlVG9vbE5hbWUgIT09IHRoaXMucHJvcHMudG9vbE5hbWUgJiYgY3VycmVudEFjdGl2ZVRvb2xOYW1lKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaXNTaG93U2VsZWN0U2V0dGluZzogZmFsc2VcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgaWYgKHByZXZTdGF0ZS5za2V0Y2hJbml0aWFsZWQgIT09IHRoaXMuc3RhdGUuc2tldGNoSW5pdGlhbGVkICYmIHRoaXMuc3RhdGUuc2tldGNoSW5pdGlhbGVkKSB7XG4gICAgICB0aGlzLmluaXRpYWxTa2V0Y2hUb29sKCk7XG5cbiAgICAgIGlmICh0aGlzLnByb3BzLmlzQWN0aXZlICYmIHRoaXMuY3VycmVudEFjdGl2ZVRvb2wpIHtcbiAgICAgICAgdGhpcy5za2V0Y2hWaWV3TW9kZWwuY3JlYXRlKHRoaXMuY3VycmVudEFjdGl2ZVRvb2wgYXMgYW55KTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAocHJldlByb3BzLmppbXVNYXBWaWV3ICYmIHRoaXMucHJvcHMuamltdU1hcFZpZXcgJiYgKHByZXZQcm9wcy5qaW11TWFwVmlldy5pZCAhPT0gdGhpcy5wcm9wcy5qaW11TWFwVmlldy5pZCkgJiYgdGhpcy5zdGF0ZS5za2V0Y2hJbml0aWFsZWQpIHtcbiAgICAgIHRoaXMuaW5pdGlhbFNrZXRjaFRvb2woKTtcblxuICAgICAgdGhpcy5za2V0Y2hWaWV3TW9kZWwudmlldyA9IHRoaXMucHJvcHMuamltdU1hcFZpZXcudmlldztcbiAgICAgIGlmICh0aGlzLnByb3BzLmlzQWN0aXZlICYmIHRoaXMuY3VycmVudEFjdGl2ZVRvb2wpIHtcbiAgICAgICAgdGhpcy5za2V0Y2hWaWV3TW9kZWwuY3JlYXRlKHRoaXMuY3VycmVudEFjdGl2ZVRvb2wgYXMgYW55KTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAocHJldlByb3BzLmlzQWN0aXZlICE9PSB0aGlzLnByb3BzLmlzQWN0aXZlKSB7XG4gICAgICB0aGlzLmluaXRpYWxTa2V0Y2hUb29sKCk7XG4gICAgICBpZiAodGhpcy5wcm9wcy5pc0FjdGl2ZSkge1xuICAgICAgICB0aGlzLnNrZXRjaFZpZXdNb2RlbC5jcmVhdGUodGhpcy5jdXJyZW50QWN0aXZlVG9vbCBhcyBhbnkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5za2V0Y2hWaWV3TW9kZWwuZGVzdHJveSgpO1xuICAgICAgICB0aGlzLnNrZXRjaFZpZXdNb2RlbCA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgaWYgKHRoaXMuc2tldGNoVmlld01vZGVsKSB7XG4gICAgICB0aGlzLnNrZXRjaFZpZXdNb2RlbC5kZXN0cm95KCk7XG4gICAgfVxuICB9XG5cbiAgaW5pdGlhbFNrZXRjaFRvb2woKSB7XG4gICAgaWYgKCF0aGlzLlNrZXRjaFZpZXdNb2RlbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5za2V0Y2hWaWV3TW9kZWwpIHtcbiAgICAgIHRoaXMuc2tldGNoVmlld01vZGVsID0gbmV3IHRoaXMuU2tldGNoVmlld01vZGVsKHtcbiAgICAgICAgdmlldzogdGhpcy5wcm9wcy5qaW11TWFwVmlldy52aWV3LFxuICAgICAgICBsYXllcjogbmV3IHRoaXMuR3JhcGhpY3NMYXllcigpLFxuICAgICAgICBwb2ludFN5bWJvbDogdGhpcy5qc29uVXRpbHMuZnJvbUpTT04oZGVmYXVsdFBvaW50U3ltYm9sKSBhcyBhbnksXG4gICAgICAgIHBvbHlsaW5lU3ltYm9sOiB0aGlzLmpzb25VdGlscy5mcm9tSlNPTihkZWZhdWx0UG9seWxpbmVTeW1ib2wpIGFzIGFueSxcbiAgICAgICAgcG9seWdvblN5bWJvbDogdGhpcy5qc29uVXRpbHMuZnJvbUpTT04oZGVmYXVsdFBvbHlnb25TeW1ib2wpIGFzIGFueVxuICAgICAgfSk7XG5cbiAgICAgIHRoaXMuc2tldGNoVmlld01vZGVsLm9uKCdjcmVhdGUnLCAoZXZlbnQpID0+IHtcbiAgICAgICAgaWYgKGV2ZW50LnN0YXRlID09PSAnY29tcGxldGUnKSB7XG4gICAgICAgICAgdGhpcy5za2V0Y2hWaWV3TW9kZWwuY3JlYXRlKHRoaXMuY3VycmVudEFjdGl2ZVRvb2wgYXMgYW55KTtcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIGlzUXVlcnlpbmc6IHRydWVcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGNvbnN0IGppbXVNYXBWaWV3ID0gdGhpcy5wcm9wcy5qaW11TWFwVmlldztcbiAgICAgICAgICBqaW11TWFwVmlldy5zZWxlY3RGZWF0dXJlc0J5R3JhcGhpYyhldmVudC5ncmFwaGljLCB0aGlzLnN0YXRlLnNwYXRpYWxSZWxhdGlvbnNoaXApLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgIGlzUXVlcnlpbmc6IGZhbHNlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgc2V0Q3VycmVudFNlbGVjdFR5cGUgPSAoY3VycmVudFNlbGVjdFR5cGU6IGFueSkgPT4ge1xuICAgIHRoaXMuaW5pdGlhbFNrZXRjaFRvb2woKTtcblxuICAgIGlmIChjdXJyZW50U2VsZWN0VHlwZSA9PT0gdGhpcy5zdGF0ZS5jdXJyZW50U2VsZWN0VHlwZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChjdXJyZW50U2VsZWN0VHlwZSA9PT0gJ1BvaW50Jykge1xuICAgICAgaWYgKHRoaXMucHJvcHMuaXNBY3RpdmUpIHtcbiAgICAgICAgdGhpcy5za2V0Y2hWaWV3TW9kZWwuY3JlYXRlKCdwb2ludCcpO1xuICAgICAgfVxuICAgICAgdGhpcy5jdXJyZW50QWN0aXZlVG9vbCA9ICdwb2ludCc7XG4gICAgfVxuXG4gICAgaWYgKGN1cnJlbnRTZWxlY3RUeXBlID09PSAnUmVjdGFuZ2xlJykge1xuICAgICAgaWYgKHRoaXMucHJvcHMuaXNBY3RpdmUpIHtcbiAgICAgICAgdGhpcy5za2V0Y2hWaWV3TW9kZWwuY3JlYXRlKCdyZWN0YW5nbGUnKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuY3VycmVudEFjdGl2ZVRvb2wgPSAncmVjdGFuZ2xlJztcbiAgICB9XG5cbiAgICBpZiAoY3VycmVudFNlbGVjdFR5cGUgPT09ICdMYXNzbycpIHtcbiAgICAgIGlmICh0aGlzLnByb3BzLmlzQWN0aXZlKSB7XG4gICAgICAgIHRoaXMuc2tldGNoVmlld01vZGVsLmNyZWF0ZSgncG9seWdvbicpO1xuICAgICAgfVxuICAgICAgdGhpcy5jdXJyZW50QWN0aXZlVG9vbCA9ICdwb2x5Z29uJztcbiAgICB9XG5cbiAgICBpZiAoY3VycmVudFNlbGVjdFR5cGUgPT09ICdDaXJjbGUnKSB7XG4gICAgICBpZiAodGhpcy5wcm9wcy5pc0FjdGl2ZSkge1xuICAgICAgICB0aGlzLnNrZXRjaFZpZXdNb2RlbC5jcmVhdGUoJ2NpcmNsZScpO1xuICAgICAgfVxuICAgICAgdGhpcy5jdXJyZW50QWN0aXZlVG9vbCA9ICdjaXJjbGUnO1xuICAgIH1cblxuICAgIGlmIChjdXJyZW50U2VsZWN0VHlwZSA9PT0gJ0xpbmUnKSB7XG4gICAgICBpZiAodGhpcy5wcm9wcy5pc0FjdGl2ZSkge1xuICAgICAgICB0aGlzLnNrZXRjaFZpZXdNb2RlbC5jcmVhdGUoJ3BvbHlsaW5lJyk7XG4gICAgICB9XG4gICAgICB0aGlzLmN1cnJlbnRBY3RpdmVUb29sID0gJ3BvbHlsaW5lJztcbiAgICB9XG5cbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGN1cnJlbnRTZWxlY3RUeXBlOiBjdXJyZW50U2VsZWN0VHlwZVxuICAgIH0sICgpID0+IHtcbiAgICAgIGlmICghdGhpcy5wcm9wcy5hY3RpdmVUb29sSW5mbyB8fCAodGhpcy5wcm9wcy5hY3RpdmVUb29sSW5mbyAmJiB0aGlzLnByb3BzLmFjdGl2ZVRvb2xJbmZvLmFjdGl2ZVRvb2xOYW1lICE9PSB0aGlzLnByb3BzLnRvb2xOYW1lKSkge1xuICAgICAgICB0aGlzLnByb3BzLl9vbkljb25DbGljayhudWxsKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHRvZ2dsZUlzU2VsZWN0QWN0aXZlID0gKCkgPT4ge1xuICAgIHRoaXMucHJvcHMuX29uSWNvbkNsaWNrKG51bGwpO1xuICB9XG5cbiAgaGFuZGxlSXNTaG93U2VsZWN0U2V0dGluZyA9ICgpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGlzU2hvd1NlbGVjdFNldHRpbmc6ICF0aGlzLnN0YXRlLmlzU2hvd1NlbGVjdFNldHRpbmdcbiAgICB9KTtcbiAgfVxuXG4gIGdldFNlbGVjdFRvb2xJY29uID0gKCkgPT4ge1xuICAgIGlmICh0aGlzLnN0YXRlLmN1cnJlbnRTZWxlY3RUeXBlID09PSAnUG9pbnQnKSB7XG4gICAgICByZXR1cm4gU2VsZWN0UG9pbnRJY29uO1xuICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZS5jdXJyZW50U2VsZWN0VHlwZSA9PT0gJ1JlY3RhbmdsZScpIHtcbiAgICAgIHJldHVybiBTZWxlY3RSZWN0YW5nbGVJY29uO1xuICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZS5jdXJyZW50U2VsZWN0VHlwZSA9PT0gJ0xhc3NvJykge1xuICAgICAgcmV0dXJuIFNlbGVjdExhc3NvSWNvbjtcbiAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGUuY3VycmVudFNlbGVjdFR5cGUgPT09ICdDaXJjbGUnKSB7XG4gICAgICByZXR1cm4gU2VsZWN0Q2lyY2xlSWNvbjtcbiAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGUuY3VycmVudFNlbGVjdFR5cGUgPT09ICdMaW5lJykge1xuICAgICAgcmV0dXJuIFNlbGVjdExpbmVJY29uO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gU2VsZWN0UmVjdGFuZ2xlSWNvbjtcbiAgICB9XG4gIH1cblxuICBnZXRNb2JpbGVQYW5lbEZvclNlbGVjdFNldHRpbmcgPSAoKSA9PiB7XG4gICAgcmV0dXJuIDxNdWx0aVNvdXJjZU1hcENvbnRleHQuQ29uc3VtZXI+XG4gICAgICB7KHttYXBXaWRnZXRJZH0pID0+IChcbiAgICAgICAgPE1vYmlsZVBhbmVsIG1hcFdpZGdldElkPXtgJHttYXBXaWRnZXRJZH0td2l0aC1zZWxlY3QtY29udGFpbmVyYH0gdGl0bGU9eycnfVxuICAgICAgICAgIG9wZW49e3RoaXMuc3RhdGUuaXNTaG93U2VsZWN0U2V0dGluZ30gdG9nZ2xlPXsoKSA9PiB7dGhpcy5oYW5kbGVJc1Nob3dTZWxlY3RTZXR0aW5nKCl9fT5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTAwXCI+XG4gICAgICAgICAgICB7dGhpcy5nZXRNb2JpbGVQYW5lbFNldHRpbmdDb250ZW50KCl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvTW9iaWxlUGFuZWw+XG4gICAgICApfVxuICAgIDwvTXVsdGlTb3VyY2VNYXBDb250ZXh0LkNvbnN1bWVyPlxuICB9XG5cbiAgZ2V0TW9iaWxlUGFuZWxTZXR0aW5nQ29udGVudCA9ICgpID0+IHtcbiAgICByZXR1cm4gPGRpdiBjc3M9e3RoaXMuZ2V0Q1NTU3R5bGUoKX0+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRlbnQtdGl0bGUgbXQtMSBtYi0yXCI+XG4gICAgICAgIHt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7aWQ6ICdTZWxlY3Rpb25Ub29sJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlc1snU2VsZWN0aW9uVG9vbCddfSl9XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xMDAgc2VsZWN0LXRvb2wtdHlwZS1tb2JpbGUtY29udGFpbmVyLXNoZWxsXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2VsZWN0LXRvb2wtdHlwZS1tb2JpbGUtY29udGFpbmVyXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzTmFtZXMoJ3NlbGVjdC10b29sLXR5cGUgbXItMyBkLWZsZXggZmxleC1jb2x1bW4gYWxpZ24taXRlbXMtY2VudGVyIGp1c3RpZnktY29udGVudC1jZW50ZXIgc2VsZWN0LXRvb2wtYnRuLWhvdmVyJywge1xuICAgICAgICAgICAgJ3NlbGVjdC10b29sLXR5cGUtY2hvb3NlZCc6IHRoaXMuc3RhdGUuY3VycmVudFNlbGVjdFR5cGUgPT09ICdSZWN0YW5nbGUnXG4gICAgICAgICAgfSl9IG9uQ2xpY2s9eygpID0+IHt0aGlzLnNldEN1cnJlbnRTZWxlY3RUeXBlKCdSZWN0YW5nbGUnKX19IHN0eWxlPXt7ZmxvYXQ6ICdsZWZ0J319PlxuICAgICAgICAgICAgPEljb24gd2lkdGg9ezE2fSBoZWlnaHQ9ezE2fSBpY29uPXtTZWxlY3RSZWN0YW5nbGVJY29ufS8+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNlbGVjdC10b29sLXR5cGUtdGV4dCBtdC0xIHctMTAwIHRleHQtdHJ1bmNhdGUgcGwtMSBwci0xIGQtZmxleCBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyXCJcbiAgICAgICAgICAgICAgdGl0bGU9e3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHtpZDogJ1NlbGVjdGlvblRvb2xSZWN0YW5nbGUnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzWydTZWxlY3Rpb25Ub29sUmVjdGFuZ2xlJ119KX0+XG4gICAgICAgICAgICAgIHt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7aWQ6ICdTZWxlY3Rpb25Ub29sUmVjdGFuZ2xlJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlc1snU2VsZWN0aW9uVG9vbFJlY3RhbmdsZSddfSl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NOYW1lcygnc2VsZWN0LXRvb2wtdHlwZSBtci0zIGQtZmxleCBmbGV4LWNvbHVtbiBhbGlnbi1pdGVtcy1jZW50ZXIganVzdGlmeS1jb250ZW50LWNlbnRlciBzZWxlY3QtdG9vbC1idG4taG92ZXInLCB7XG4gICAgICAgICAgICAnc2VsZWN0LXRvb2wtdHlwZS1jaG9vc2VkJzogdGhpcy5zdGF0ZS5jdXJyZW50U2VsZWN0VHlwZSA9PT0gJ0xhc3NvJ1xuICAgICAgICAgIH0pfSBvbkNsaWNrPXsoKSA9PiB7dGhpcy5zZXRDdXJyZW50U2VsZWN0VHlwZSgnTGFzc28nKX19IHN0eWxlPXt7ZmxvYXQ6ICdsZWZ0J319PlxuICAgICAgICAgICAgPEljb24gd2lkdGg9ezE2fSBoZWlnaHQ9ezE2fSBpY29uPXtTZWxlY3RMYXNzb0ljb259Lz5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2VsZWN0LXRvb2wtdHlwZS10ZXh0IG10LTEgdy0xMDAgdGV4dC10cnVuY2F0ZSBwbC0xIHByLTEgZC1mbGV4IGp1c3RpZnktY29udGVudC1jZW50ZXJcIlxuICAgICAgICAgICAgICB0aXRsZT17dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2Uoe2lkOiAnU2VsZWN0aW9uVG9vbExhc3NvJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlc1snU2VsZWN0aW9uVG9vbExhc3NvJ119KX0+XG4gICAgICAgICAgICAgIHt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7aWQ6ICdTZWxlY3Rpb25Ub29sTGFzc28nLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzWydTZWxlY3Rpb25Ub29sTGFzc28nXX0pfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzTmFtZXMoJ3NlbGVjdC10b29sLXR5cGUgbXItMyBkLWZsZXggZmxleC1jb2x1bW4gYWxpZ24taXRlbXMtY2VudGVyIGp1c3RpZnktY29udGVudC1jZW50ZXIgc2VsZWN0LXRvb2wtYnRuLWhvdmVyJywge1xuICAgICAgICAgICAgJ3NlbGVjdC10b29sLXR5cGUtY2hvb3NlZCc6IHRoaXMuc3RhdGUuY3VycmVudFNlbGVjdFR5cGUgPT09ICdDaXJjbGUnXG4gICAgICAgICAgfSl9IG9uQ2xpY2s9eygpID0+IHt0aGlzLnNldEN1cnJlbnRTZWxlY3RUeXBlKCdDaXJjbGUnKX19IHN0eWxlPXt7ZmxvYXQ6ICdsZWZ0J319PlxuICAgICAgICAgICAgPEljb24gd2lkdGg9ezE2fSBoZWlnaHQ9ezE2fSBpY29uPXtTZWxlY3RDaXJjbGVJY29ufS8+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNlbGVjdC10b29sLXR5cGUtdGV4dCBtdC0xIHctMTAwIHRleHQtdHJ1bmNhdGUgcGwtMSBwci0xIGQtZmxleCBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyXCJcbiAgICAgICAgICAgICAgdGl0bGU9e3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHtpZDogJ1NlbGVjdGlvblRvb2xDaXJjbGUnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzWydTZWxlY3Rpb25Ub29sQ2lyY2xlJ119KX0+XG4gICAgICAgICAgICAgIHt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7aWQ6ICdTZWxlY3Rpb25Ub29sQ2lyY2xlJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlc1snU2VsZWN0aW9uVG9vbENpcmNsZSddfSl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NOYW1lcygnc2VsZWN0LXRvb2wtdHlwZSBtci0zIGQtZmxleCBmbGV4LWNvbHVtbiBhbGlnbi1pdGVtcy1jZW50ZXIganVzdGlmeS1jb250ZW50LWNlbnRlciBzZWxlY3QtdG9vbC1idG4taG92ZXInLCB7XG4gICAgICAgICAgICAnc2VsZWN0LXRvb2wtdHlwZS1jaG9vc2VkJzogdGhpcy5zdGF0ZS5jdXJyZW50U2VsZWN0VHlwZSA9PT0gJ0xpbmUnXG4gICAgICAgICAgfSl9IG9uQ2xpY2s9eygpID0+IHt0aGlzLnNldEN1cnJlbnRTZWxlY3RUeXBlKCdMaW5lJyl9fSBzdHlsZT17e2Zsb2F0OiAnbGVmdCd9fT5cbiAgICAgICAgICAgIDxJY29uIHdpZHRoPXsxNn0gaGVpZ2h0PXsxNn0gaWNvbj17U2VsZWN0TGluZUljb259Lz5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2VsZWN0LXRvb2wtdHlwZS10ZXh0IG10LTEgdy0xMDAgdGV4dC10cnVuY2F0ZSBwbC0xIHByLTEgZC1mbGV4IGp1c3RpZnktY29udGVudC1jZW50ZXJcIlxuICAgICAgICAgICAgICB0aXRsZT17dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2Uoe2lkOiAnU2VsZWN0aW9uVG9vbExpbmUnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzWydTZWxlY3Rpb25Ub29sTGluZSddfSl9PlxuICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2Uoe2lkOiAnU2VsZWN0aW9uVG9vbExpbmUnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzWydTZWxlY3Rpb25Ub29sTGluZSddfSl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NOYW1lcygnc2VsZWN0LXRvb2wtdHlwZSBtci0zIGQtZmxleCBmbGV4LWNvbHVtbiBhbGlnbi1pdGVtcy1jZW50ZXIganVzdGlmeS1jb250ZW50LWNlbnRlciBzZWxlY3QtdG9vbC1idG4taG92ZXInLCB7XG4gICAgICAgICAgICAnc2VsZWN0LXRvb2wtdHlwZS1jaG9vc2VkJzogdGhpcy5zdGF0ZS5jdXJyZW50U2VsZWN0VHlwZSA9PT0gJ1BvaW50J1xuICAgICAgICAgIH0pfSBvbkNsaWNrPXsoKSA9PiB7dGhpcy5zZXRDdXJyZW50U2VsZWN0VHlwZSgnUG9pbnQnKX19IHN0eWxlPXt7ZmxvYXQ6ICdsZWZ0J319PlxuICAgICAgICAgICAgPEljb24gd2lkdGg9ezE2fSBoZWlnaHQ9ezE2fSBpY29uPXtTZWxlY3RQb2ludEljb259Lz5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2VsZWN0LXRvb2wtdHlwZS10ZXh0IG10LTEgdy0xMDAgdGV4dC10cnVuY2F0ZSBwbC0xIHByLTEgZC1mbGV4IGp1c3RpZnktY29udGVudC1jZW50ZXJcIlxuICAgICAgICAgICAgICB0aXRsZT17dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2Uoe2lkOiAnU2VsZWN0aW9uVG9vbFBvaW50JywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlc1snU2VsZWN0aW9uVG9vbFBvaW50J119KX0+XG4gICAgICAgICAgICAgIHt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7aWQ6ICdTZWxlY3Rpb25Ub29sUG9pbnQnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzWydTZWxlY3Rpb25Ub29sUG9pbnQnXX0pfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRlbnQtdGl0bGUgbXQtMSBtYi0yXCI+XG4gICAgICAgIHt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7aWQ6ICdTZWxlY3Rpb25Nb2RlJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlc1snU2VsZWN0aW9uTW9kZSddfSl9XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZC1mbGV4IGFsaWduLWl0ZW1zLWNlbnRlciBtdC0yXCI+XG4gICAgICAgICAgPFJhZGlvIHN0eWxlPXt7Y3Vyc29yOiAncG9pbnRlcid9fSBjaGVja2VkPXt0aGlzLnN0YXRlLnNwYXRpYWxSZWxhdGlvbnNoaXAgPT09ICdpbnRlcnNlY3RzJ31cbiAgICAgICAgICAgIG9uQ2hhbmdlPXsoKSA9PiB7dGhpcy5zZXRTdGF0ZSh7c3BhdGlhbFJlbGF0aW9uc2hpcDogJ2ludGVyc2VjdHMnfSl9fS8+XG4gICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cIm0tMCBtbC0yIGNvbnRlbnQtdGl0bGVcIiBzdHlsZT17e2N1cnNvcjogJ3BvaW50ZXInfX0gb25DbGljaz17KCkgPT4ge3RoaXMuc2V0U3RhdGUoe3NwYXRpYWxSZWxhdGlvbnNoaXA6ICdpbnRlcnNlY3RzJ30pfX0+XG4gICAgICAgICAgICB7dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2Uoe2lkOiAnU2VsZWN0aW9uV2l0aGluJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlc1snU2VsZWN0aW9uV2l0aGluJ119KX1cbiAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJkLWZsZXggYWxpZ24taXRlbXMtY2VudGVyIG10LTJcIj5cbiAgICAgICAgICA8UmFkaW8gc3R5bGU9e3tjdXJzb3I6ICdwb2ludGVyJ319IGNoZWNrZWQ9e3RoaXMuc3RhdGUuc3BhdGlhbFJlbGF0aW9uc2hpcCA9PT0gJ2NvbnRhaW5zJ31cbiAgICAgICAgICAgIG9uQ2hhbmdlPXsoKSA9PiB7dGhpcy5zZXRTdGF0ZSh7c3BhdGlhbFJlbGF0aW9uc2hpcDogJ2NvbnRhaW5zJ30pfX0vPlxuICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJtLTAgbWwtMiBjb250ZW50LXRpdGxlXCIgc3R5bGU9e3tjdXJzb3I6ICdwb2ludGVyJ319IG9uQ2xpY2s9eygpID0+IHt0aGlzLnNldFN0YXRlKHtzcGF0aWFsUmVsYXRpb25zaGlwOiAnY29udGFpbnMnfSl9fT5cbiAgICAgICAgICAgIHt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7aWQ6ICdTZWxlY3Rpb25Db250YWluJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlc1snU2VsZWN0aW9uQ29udGFpbiddfSl9XG4gICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj47XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIDxkaXYgY3NzPXt0aGlzLmdldENTU1N0eWxlKCl9PlxuICAgICAge3RoaXMuc3RhdGUuc2tldGNoSW5pdGlhbGVkICYmIDxkaXYgb25DbGljaz17dGhpcy50b2dnbGVJc1NlbGVjdEFjdGl2ZX0gc3R5bGU9e3t9fSBjbGFzc05hbWU9e2NsYXNzTmFtZXMoJ2V4Ym1hcC11aS10b29sIGJvcmRlci0wIGVzcmktd2lkZ2V0LS1idXR0b24nLCB7XG4gICAgICAgICdleGJtYXAtdWktdG9vbC1pY29uLXNlbGVjdGVkJzogdGhpcy5wcm9wcy5pc0FjdGl2ZVxuICAgICAgfSl9PlxuICAgICAgICA8SWNvbiB3aWR0aD17MTZ9IGhlaWdodD17MTZ9IGNsYXNzTmFtZT1cImV4Ym1hcC11aS10b29sLWljb25cIiBpY29uPXt0aGlzLmdldFNlbGVjdFRvb2xJY29uKCl9Lz5cbiAgICAgIDwvZGl2Pn1cbiAgICAgIHshdGhpcy5zdGF0ZS5za2V0Y2hJbml0aWFsZWQgJiYgPGRpdiBzdHlsZT17e319IGNsYXNzTmFtZT17Y2xhc3NOYW1lcygnZXhibWFwLXVpLXRvb2wgYm9yZGVyLTAgZXNyaS13aWRnZXQtLWJ1dHRvbicpfT5cbiAgICAgICAgPEljb24gd2lkdGg9ezE2fSBoZWlnaHQ9ezE2fSBjbGFzc05hbWU9XCJleGJtYXAtdWktdG9vbC1pY29uXCIgaWNvbj17dGhpcy5nZXRTZWxlY3RUb29sSWNvbigpfS8+XG4gICAgICA8L2Rpdj59XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImJvcmRlciBib3JkZXItdG9wLTAgdy0xMDBcIiBzdHlsZT17e2hlaWdodDogJzFweCd9fT48L2Rpdj5cbiAgICAgIHt0aGlzLnN0YXRlLnNrZXRjaEluaXRpYWxlZCAmJiA8ZGl2IG9uQ2xpY2s9e3RoaXMuaGFuZGxlSXNTaG93U2VsZWN0U2V0dGluZ30gc3R5bGU9e3t9fSBjbGFzc05hbWU9e2NsYXNzTmFtZXMoJ2V4Ym1hcC11aS10b29sIGJvcmRlci0wIGVzcmktd2lkZ2V0LS1idXR0b24nKX0+XG4gICAgICAgIDxJY29uIHdpZHRoPXsxNn0gaGVpZ2h0PXsxNn0gY2xhc3NOYW1lPVwiZXhibWFwLXVpLXRvb2wtaWNvblwiIGljb249e1NlbGVjdE1vcmVJY29ufS8+XG4gICAgICA8L2Rpdj59XG4gICAgICB7IXRoaXMuc3RhdGUuc2tldGNoSW5pdGlhbGVkICYmIDxkaXYgc3R5bGU9e3t9fSBjbGFzc05hbWU9e2NsYXNzTmFtZXMoJ2V4Ym1hcC11aS10b29sIGJvcmRlci0wIGVzcmktd2lkZ2V0LS1idXR0b24nKX0+XG4gICAgICAgIDxJY29uIHdpZHRoPXsxNn0gaGVpZ2h0PXsxNn0gY2xhc3NOYW1lPVwiZXhibWFwLXVpLXRvb2wtaWNvblwiIGljb249e1NlbGVjdE1vcmVJY29ufS8+XG4gICAgICA8L2Rpdj59XG4gICAgICB7dGhpcy5zdGF0ZS5pc1Nob3dTZWxlY3RTZXR0aW5nICYmIHRoaXMuZ2V0TW9iaWxlUGFuZWxGb3JTZWxlY3RTZXR0aW5nKCl9XG4gICAgICB7KHRoaXMuc3RhdGUuaXNRdWVyeWluZyB8fCAhdGhpcy5zdGF0ZS5za2V0Y2hJbml0aWFsZWQpICYmIDxkaXYgY2xhc3NOYW1lPVwic2VsZWN0LXRvb2wtbG9hZGVyXCI+PC9kaXY+fVxuICAgIDwvZGl2PlxuICB9XG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUF1QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBU0E7QUFBQTtBQUxBO0FBR0E7QUE2TUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBR0E7QUFIQTtBQVNBO0FBRUE7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFHQTtBQUNBO0FBQ0E7QUFFQTtBQUlBO0FBQ0E7QUFFQTtBQU1BO0FBN1dBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBRUE7QUFDQTtBQUVBO0FBd0ZBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUF3S0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUFBOzs7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/select/select-mobile.tsx\n");

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/select/select-pc.tsx":
/*!*************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/select/select-pc.tsx ***!
  \*************************************************************************************/
/*! exports provided: SelectPCTool */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SelectPCTool\", function() { return SelectPCTool; });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jimu_core__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ \"jimu-ui\");\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jimu_ui__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-arcgis */ \"jimu-arcgis\");\n/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__);\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __makeTemplateObject = (undefined && undefined.__makeTemplateObject) || function (cooked, raw) {\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n    return cooked;\n};\n/** @jsx jsx */\n\n\n\nvar defaultPointSymbol = {\n    style: 'esriSMSCircle',\n    color: [0, 0, 128, 128],\n    name: 'Circle',\n    outline: {\n        color: [0, 0, 128, 255],\n        width: 1\n    },\n    type: 'esriSMS',\n    size: 18\n};\nvar defaultPolylineSymbol = {\n    tags: ['solid'],\n    title: 'Blue Thin',\n    style: 'esriSLSSolid',\n    color: [79, 129, 189, 255],\n    width: 3,\n    name: 'Blue 1',\n    type: 'esriSLS'\n};\nvar defaultPolygonSymbol = {\n    style: 'esriSFSSolid',\n    color: [79, 129, 189, 77],\n    type: 'esriSFS',\n    outline: {\n        style: 'esriSLSSolid',\n        color: [54, 93, 141, 255],\n        width: 1.5,\n        type: 'esriSLS'\n    }\n};\nvar IconArrowDown = __webpack_require__(/*! jimu-ui/lib/icons/arrow-down-header.svg */ \"./jimu-ui/lib/icons/arrow-down-header.svg\");\nvar SelectRectangleIcon = __webpack_require__(/*! ../../assets/icons/select-tool/select-rectangle.svg */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/select-tool/select-rectangle.svg\");\nvar SelectLassoIcon = __webpack_require__(/*! ../../assets/icons/select-tool/select-lasso.svg */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/select-tool/select-lasso.svg\");\nvar SelectCircleIcon = __webpack_require__(/*! ../../assets/icons/select-tool/select-circle.svg */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/select-tool/select-circle.svg\");\nvar SelectLineIcon = __webpack_require__(/*! ../../assets/icons/select-tool/select-line.svg */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/select-tool/select-line.svg\");\nvar SelectPointIcon = __webpack_require__(/*! ../../assets/icons/select-tool/select-point.svg */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/select-tool/select-point.svg\");\nvar SelectClearIcon = __webpack_require__(/*! ../../assets/icons/select-tool/select-clear.svg */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/select-tool/select-clear.svg\");\nvar SelectPCTool = /** @class */ (function (_super) {\n    __extends(SelectPCTool, _super);\n    function SelectPCTool(props) {\n        var _this = _super.call(this, props) || this;\n        _this.currentActiveTool = 'rectangle';\n        _this.jsonUtils = null;\n        _this.resultGraphics = [];\n        _this.toggleIsSelectActive = function () {\n            _this.setState({\n                isActive: !_this.state.isActive\n            });\n        };\n        _this.getSelectToolIcon = function () {\n            if (_this.state.currentSelectType === 'Point') {\n                return SelectPointIcon;\n            }\n            else if (_this.state.currentSelectType === 'Rectangle') {\n                return SelectRectangleIcon;\n            }\n            else if (_this.state.currentSelectType === 'Lasso') {\n                return SelectLassoIcon;\n            }\n            else if (_this.state.currentSelectType === 'Circle') {\n                return SelectCircleIcon;\n            }\n            else if (_this.state.currentSelectType === 'Line') {\n                return SelectLineIcon;\n            }\n            else {\n                return SelectRectangleIcon;\n            }\n        };\n        _this.toggleSelectTypePopup = function () {\n            _this.setState({\n                isShowSelectTypePopup: !_this.state.isShowSelectTypePopup\n            });\n        };\n        _this.toggleResultPopup = function () {\n            _this.setState({\n                isShowResultPopup: !_this.state.isShowResultPopup\n            });\n        };\n        _this.setCurrentSelectType = function (currentSelectType) {\n            _this.initialSketchTool();\n            if (currentSelectType === 'Point') {\n                _this.sketchViewModel.create('point');\n                _this.currentActiveTool = 'point';\n            }\n            if (currentSelectType === 'Rectangle') {\n                _this.sketchViewModel.create('rectangle');\n                _this.currentActiveTool = 'rectangle';\n            }\n            if (currentSelectType === 'Lasso') {\n                _this.sketchViewModel.create('polygon');\n                _this.currentActiveTool = 'polygon';\n            }\n            if (currentSelectType === 'Circle') {\n                _this.sketchViewModel.create('circle');\n                _this.currentActiveTool = 'circle';\n            }\n            if (currentSelectType === 'Line') {\n                _this.sketchViewModel.create('polyline');\n                _this.currentActiveTool = 'polyline';\n            }\n            _this.setState({\n                currentSelectType: currentSelectType,\n                isShowSelectTypePopup: false,\n                isActive: true\n            });\n        };\n        _this.clearSelect = function () {\n            _this.props.jimuMapView.clearSelectedFeatures();\n        };\n        _this.state = {\n            isShowResultPopup: false,\n            isShowSelectTypePopup: false,\n            currentSelectType: 'Rectangle',\n            sketchInitialed: false,\n            isActive: false,\n            spatialRelationship: 'intersects',\n            resultGraphics: [],\n            isQuerying: false\n        };\n        return _this;\n    }\n    SelectPCTool.prototype.getCSSStyle = function () {\n        var theme = this.props.theme;\n        var containerbg = theme.arcgis.components.button.variants.default.default.bg;\n        var containerBorder = theme.arcgis.components.button.variants.default.default.border;\n        return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n      .select-tool-container {\\n        \", \"\\n        \", \"\\n      }\\n\\n      .select-tool-btn {\\n        width: 32px;\\n        height: 32px;\\n      }\\n\\n      .content-bg {\\n        background-color: \", \";\\n      }\\n\\n      .content-title {\\n        font-size: \", \";\\n        font-weight: bold;\\n      }\\n\\n      .select-tool-type-mobile-container-shell {\\n        overflow-x: auto;\\n      }\\n\\n      .select-tool-type-mobile-container-shell::-webkit-scrollbar {\\n        height: 0 !important;\\n        display: none;\\n      }\\n\\n      .select-tool-type-mobile-container {\\n        width: 400px;\\n      }\\n\\n      .select-tool-type {\\n        width: 64px;\\n        height: 64px;\\n        border: 1px solid \", \";\\n        cursor: pointer;\\n      }\\n\\n      .select-tool-type-choosed {\\n        border: 1px solid \", \";\\n        position: relative;\\n      }\\n\\n      .select-tool-type-choosed:after {\\n        width: 0;\\n        height: 0;\\n        border-top: 8px solid \", \";\\n        border-left: 8px solid transparent;\\n        position: absolute;\\n        top: 0;\\n        right: 0;\\n        content: \\\"\\\";\\n      }\\n\\n      .select-tool-type-text {\\n        font-size: \", \";\\n      }\\n\\n      .select-tool-loader {\\n        position: absolute;\\n        top: 0;\\n        left: 0;\\n        right: 0;\\n        height: 2px;\\n        width: 100%;\\n        animation: esri-fade-in 500ms ease-in-out;\\n      }\\n\\n      .select-tool-loader:before {\\n        background-color: rgba(110,110,110,0.3);\\n        width: 100%;\\n        z-index: 0;\\n        content: \\\"\\\";\\n        opacity: 1;\\n        position: absolute;\\n        height: 2px;\\n        top: 0;\\n        transition: opacity 500ms ease-in-out;\\n      }\\n\\n      .select-tool-loader:after {\\n        background-color: \", \";\\n        width: 20%;\\n        z-index: 0;\\n        animation: looping-progresss-bar-ani 1500ms linear infinite;\\n        content: \\\"\\\";\\n        opacity: 1;\\n        position: absolute;\\n        height: 2px;\\n        top: 0;\\n        transition: opacity 500ms ease-in-out;\\n      }\\n\\n    \"], [\"\\n      .select-tool-container {\\n        \", \"\\n        \", \"\\n      }\\n\\n      .select-tool-btn {\\n        width: 32px;\\n        height: 32px;\\n      }\\n\\n      .content-bg {\\n        background-color: \", \";\\n      }\\n\\n      .content-title {\\n        font-size: \", \";\\n        font-weight: bold;\\n      }\\n\\n      .select-tool-type-mobile-container-shell {\\n        overflow-x: auto;\\n      }\\n\\n      .select-tool-type-mobile-container-shell::-webkit-scrollbar {\\n        height: 0 !important;\\n        display: none;\\n      }\\n\\n      .select-tool-type-mobile-container {\\n        width: 400px;\\n      }\\n\\n      .select-tool-type {\\n        width: 64px;\\n        height: 64px;\\n        border: 1px solid \", \";\\n        cursor: pointer;\\n      }\\n\\n      .select-tool-type-choosed {\\n        border: 1px solid \", \";\\n        position: relative;\\n      }\\n\\n      .select-tool-type-choosed:after {\\n        width: 0;\\n        height: 0;\\n        border-top: 8px solid \", \";\\n        border-left: 8px solid transparent;\\n        position: absolute;\\n        top: 0;\\n        right: 0;\\n        content: \\\"\\\";\\n      }\\n\\n      .select-tool-type-text {\\n        font-size: \", \";\\n      }\\n\\n      .select-tool-loader {\\n        position: absolute;\\n        top: 0;\\n        left: 0;\\n        right: 0;\\n        height: 2px;\\n        width: 100%;\\n        animation: esri-fade-in 500ms ease-in-out;\\n      }\\n\\n      .select-tool-loader:before {\\n        background-color: rgba(110,110,110,0.3);\\n        width: 100%;\\n        z-index: 0;\\n        content: \\\"\\\";\\n        opacity: 1;\\n        position: absolute;\\n        height: 2px;\\n        top: 0;\\n        transition: opacity 500ms ease-in-out;\\n      }\\n\\n      .select-tool-loader:after {\\n        background-color: \", \";\\n        width: 20%;\\n        z-index: 0;\\n        animation: looping-progresss-bar-ani 1500ms linear infinite;\\n        content: \\\"\\\";\\n        opacity: 1;\\n        position: absolute;\\n        height: 2px;\\n        top: 0;\\n        transition: opacity 500ms ease-in-out;\\n      }\\n\\n    \"])), containerbg && \"background-color: \" + containerbg + \";\", containerBorder && \"border: \" + containerBorder.color + \" \" + containerBorder.width + \" solid;\", theme.colors.palette.light[100], jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"polished\"].rem(13), theme.colors.palette.light[400], theme.colors.primary, theme.colors.primary, jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"polished\"].rem(12), theme.colors.primary);\n    };\n    SelectPCTool.prototype.componentDidMount = function () {\n        var _this = this;\n        if (!this.state.sketchInitialed) {\n            Object(jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__[\"loadArcGISJSAPIModules\"])([\n                'esri/widgets/Sketch/SketchViewModel',\n                'esri/layers/GraphicsLayer',\n                'esri/tasks/support/Query',\n                'esri/symbols/support/jsonUtils',\n                'esri/geometry/geometryEngine'\n            ]).then(function (modules) {\n                _this.SketchViewModel = modules[0], _this.GraphicsLayer = modules[1], _this.Query = modules[2], _this.jsonUtils = modules[3], _this.geometryEngine = modules[4];\n                _this.props.jimuMapView.view.when(function () {\n                    _this.initialSketchTool();\n                    _this.setState({\n                        sketchInitialed: true\n                    });\n                });\n            });\n        }\n    };\n    SelectPCTool.prototype.componentDidUpdate = function (prevProps, prevState) {\n        if (prevState.sketchInitialed !== this.state.sketchInitialed && this.state.sketchInitialed) {\n            this.initialSketchTool();\n            if (this.state.isActive && this.currentActiveTool) {\n                this.sketchViewModel.create(this.currentActiveTool);\n            }\n            return;\n        }\n        if (prevProps.jimuMapView && this.props.jimuMapView && (prevProps.jimuMapView.id !== this.props.jimuMapView.id) && this.state.sketchInitialed) {\n            this.initialSketchTool();\n            this.sketchViewModel.view = this.props.jimuMapView.view;\n            if (this.state.isActive && this.currentActiveTool) {\n                this.sketchViewModel.create(this.currentActiveTool);\n            }\n            return;\n        }\n        if (prevState.isActive !== this.state.isActive) {\n            this.initialSketchTool();\n            if (this.state.isActive) {\n                this.sketchViewModel.create(this.currentActiveTool);\n            }\n            else {\n                this.sketchViewModel.destroy();\n                this.sketchViewModel = null;\n            }\n        }\n    };\n    SelectPCTool.prototype.componentWillUnmount = function () {\n        if (this.sketchViewModel) {\n            this.sketchViewModel.destroy();\n        }\n    };\n    SelectPCTool.prototype.initialSketchTool = function () {\n        var _this = this;\n        if (!this.SketchViewModel) {\n            return;\n        }\n        if (!this.sketchViewModel) {\n            this.sketchViewModel = new this.SketchViewModel({\n                view: this.props.jimuMapView.view,\n                layer: new this.GraphicsLayer(),\n                pointSymbol: this.jsonUtils.fromJSON(defaultPointSymbol),\n                polylineSymbol: this.jsonUtils.fromJSON(defaultPolylineSymbol),\n                polygonSymbol: this.jsonUtils.fromJSON(defaultPolygonSymbol)\n            });\n            this.sketchViewModel.on('create', function (event) {\n                if (event.state === 'complete') {\n                    _this.sketchViewModel.create(_this.currentActiveTool);\n                    _this.setState({\n                        isQuerying: true\n                    });\n                    var jimuMapView = _this.props.jimuMapView;\n                    jimuMapView.selectFeaturesByGraphic(event.graphic, _this.state.spatialRelationship).then(function () {\n                        _this.setState({\n                            isQuerying: false\n                        });\n                    });\n                }\n            });\n        }\n    };\n    SelectPCTool.prototype.render = function () {\n        var _this = this;\n        return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { css: this.getCSSStyle() },\n            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"d-flex align-items-center justify-content-center select-tool-container\", ref: function (ref) { _this.btnContainer = ref; } },\n                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"d-flex\" },\n                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"d-flex\" },\n                        Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"button\", { onClick: this.toggleIsSelectActive, className: Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"classNames\"])('esri-widget--button  border-0 select-tool-btn d-flex align-items-center justify-content-center', { active: this.state.isActive }), disabled: !this.state.sketchInitialed },\n                            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"Icon\"], { width: 16, height: 16, icon: this.getSelectToolIcon() })),\n                        Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"button\", { onClick: this.toggleSelectTypePopup, style: { width: 18 }, className: Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"classNames\"])('esri-widget--button border-0 pl-1 pr-1 select-tool-btn d-flex align-items-center justify-content-center', { active: this.state.isShowSelectTypePopup }), disabled: !this.state.sketchInitialed },\n                            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"Icon\"], { width: 8, height: 8, icon: IconArrowDown }))),\n                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"button\", { className: \"select-tool-btn d-flex align-items-center justify-content-center select-tool-btn-hover esri-widget--button border-0\", ref: function (ref) { _this.selectResultContainer = ref; }, onClick: this.clearSelect, disabled: !this.state.sketchInitialed },\n                        Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"Icon\"], { width: 16, height: 16, icon: SelectClearIcon })),\n                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"Popper\"], { css: this.getCSSStyle(), reference: this.btnContainer, open: this.state.isShowSelectTypePopup, placement: \"bottom-start\", toggle: this.toggleSelectTypePopup },\n                        Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"p-3 content-bg\", style: { display: 'flex', flexDirection: 'column' } },\n                            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"content-title\" }, this.props.intl.formatMessage({ id: 'SelectionTool', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"defaultMessages\"]['SelectionTool'] })),\n                            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"mt-2 mb-2\" },\n                                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"d-flex mb-2\" },\n                                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"classNames\"])('select-tool-type mr-2 d-flex flex-column align-items-center justify-content-center select-tool-btn-hover', {\n                                            'select-tool-type-choosed': this.state.currentSelectType === 'Rectangle'\n                                        }), onClick: function () { _this.setCurrentSelectType('Rectangle'); } },\n                                        Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"Icon\"], { width: 16, height: 16, icon: SelectRectangleIcon }),\n                                        Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"select-tool-type-text mt-1 w-100 text-truncate pl-1 pr-1 d-flex justify-content-center\", title: this.props.intl.formatMessage({ id: 'SelectionToolRectangle', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"defaultMessages\"]['SelectionToolRectangle'] }) }, this.props.intl.formatMessage({ id: 'SelectionToolRectangle', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"defaultMessages\"]['SelectionToolRectangle'] }))),\n                                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"classNames\"])('select-tool-type mr-2 d-flex flex-column align-items-center justify-content-center select-tool-btn-hover', {\n                                            'select-tool-type-choosed': this.state.currentSelectType === 'Lasso'\n                                        }), onClick: function () { _this.setCurrentSelectType('Lasso'); } },\n                                        Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"Icon\"], { width: 16, height: 16, icon: SelectLassoIcon }),\n                                        Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"select-tool-type-text mt-1 w-100 text-truncate pl-1 pr-1 d-flex justify-content-center\", title: this.props.intl.formatMessage({ id: 'SelectionToolLasso', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"defaultMessages\"]['SelectionToolLasso'] }) }, this.props.intl.formatMessage({ id: 'SelectionToolLasso', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"defaultMessages\"]['SelectionToolLasso'] }))),\n                                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"classNames\"])('select-tool-type d-flex flex-column align-items-center justify-content-center select-tool-btn-hover', {\n                                            'select-tool-type-choosed': this.state.currentSelectType === 'Circle'\n                                        }), onClick: function () { _this.setCurrentSelectType('Circle'); } },\n                                        Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"Icon\"], { width: 16, height: 16, icon: SelectCircleIcon }),\n                                        Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"select-tool-type-text mt-1 w-100 text-truncate pl-1 pr-1 d-flex justify-content-center\", title: this.props.intl.formatMessage({ id: 'SelectionToolCircle', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"defaultMessages\"]['SelectionToolCircle'] }) }, this.props.intl.formatMessage({ id: 'SelectionToolCircle', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"defaultMessages\"]['SelectionToolCircle'] })))),\n                                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"d-flex\" },\n                                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"classNames\"])('select-tool-type mr-2 d-flex flex-column align-items-center justify-content-center select-tool-btn-hover', {\n                                            'select-tool-type-choosed': this.state.currentSelectType === 'Line'\n                                        }), onClick: function () { _this.setCurrentSelectType('Line'); } },\n                                        Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"Icon\"], { width: 16, height: 16, icon: SelectLineIcon }),\n                                        Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"select-tool-type-text mt-1 w-100 text-truncate pl-1 pr-1 d-flex justify-content-center\", title: this.props.intl.formatMessage({ id: 'SelectionToolLine', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"defaultMessages\"]['SelectionToolLine'] }) }, this.props.intl.formatMessage({ id: 'SelectionToolLine', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"defaultMessages\"]['SelectionToolLine'] }))),\n                                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"classNames\"])('select-tool-type d-flex flex-column align-items-center justify-content-center select-tool-btn-hover', {\n                                            'select-tool-type-choosed': this.state.currentSelectType === 'Point'\n                                        }), onClick: function () { _this.setCurrentSelectType('Point'); } },\n                                        Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"Icon\"], { width: 16, height: 16, icon: SelectPointIcon }),\n                                        Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"select-tool-type-text mt-1 w-100 text-truncate pl-1 pr-1 d-flex justify-content-center\", title: this.props.intl.formatMessage({ id: 'SelectionToolPoint', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"defaultMessages\"]['SelectionToolPoint'] }) }, this.props.intl.formatMessage({ id: 'SelectionToolPoint', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"defaultMessages\"]['SelectionToolPoint'] }))))),\n                            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"content-title\" }, this.props.intl.formatMessage({ id: 'SelectionMode', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"defaultMessages\"]['SelectionMode'] })),\n                            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", null,\n                                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"d-flex align-items-center mt-2\" },\n                                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"Radio\"], { style: { cursor: 'pointer' }, checked: this.state.spatialRelationship === 'intersects', onChange: function () { _this.setState({ spatialRelationship: 'intersects' }); } }),\n                                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"label\", { className: \"m-0 ml-2 content-title\", style: { cursor: 'pointer' }, onClick: function () { _this.setState({ spatialRelationship: 'intersects' }); } }, this.props.intl.formatMessage({ id: 'SelectionWithin', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"defaultMessages\"]['SelectionWithin'] }))),\n                                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"d-flex align-items-center mt-2\" },\n                                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"Radio\"], { style: { cursor: 'pointer' }, checked: this.state.spatialRelationship === 'contains', onChange: function () { _this.setState({ spatialRelationship: 'contains' }); } }),\n                                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"label\", { className: \"m-0 ml-2 content-title\", style: { cursor: 'pointer' }, onClick: function () { _this.setState({ spatialRelationship: 'contains' }); } }, this.props.intl.formatMessage({ id: 'SelectionContain', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"defaultMessages\"]['SelectionContain'] })))))))),\n            (this.state.isQuerying || !this.state.sketchInitialed) && Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"select-tool-loader\" }));\n    };\n    return SelectPCTool;\n}(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].PureComponent));\n\nvar templateObject_1;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvdG9vbHMvc2VsZWN0L3NlbGVjdC1wYy50c3guanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvdG9vbHMvc2VsZWN0L3NlbGVjdC1wYy50c3g/OWE3ZiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiogQGpzeCBqc3ggKi9cbmltcG9ydCB7Y3NzLCBqc3gsIGNsYXNzTmFtZXMsIFJlYWN0LCBwb2xpc2hlZCwgSU1UaGVtZVZhcmlhYmxlcywgRmVhdHVyZUxheWVyUXVlcnlQYXJhbXMsIEludGxTaGFwZX0gZnJvbSAnamltdS1jb3JlJztcbmltcG9ydCB7SWNvbiwgUG9wcGVyLCBkZWZhdWx0TWVzc2FnZXMsIFJhZGlvfSBmcm9tICdqaW11LXVpJztcbmltcG9ydCB7bG9hZEFyY0dJU0pTQVBJTW9kdWxlcywgSmltdU1hcFZpZXd9IGZyb20gJ2ppbXUtYXJjZ2lzJztcblxuaW50ZXJmYWNlIFByb3BzIHtcbiAgdGhlbWU/OiBJTVRoZW1lVmFyaWFibGVzLFxuICBpbnRsPzogSW50bFNoYXBlO1xuXG4gIGppbXVNYXBWaWV3PzogSmltdU1hcFZpZXc7XG59XG5cbmludGVyZmFjZSBTdGF0ZXMge1xuICBza2V0Y2hJbml0aWFsZWQ6IGJvb2xlYW47XG4gIGlzU2hvd1NlbGVjdFR5cGVQb3B1cDogYm9vbGVhbjtcbiAgaXNTaG93UmVzdWx0UG9wdXA6IGJvb2xlYW47XG4gIGlzUXVlcnlpbmc6IGJvb2xlYW47XG5cbiAgY3VycmVudFNlbGVjdFR5cGU6ICdQb2ludCcgfCAnUmVjdGFuZ2xlJyB8ICdMYXNzbycgfCAnQ2lyY2xlJyB8ICdMaW5lJztcbiAgaXNBY3RpdmU6IGJvb2xlYW47XG4gIHNwYXRpYWxSZWxhdGlvbnNoaXA6ICdpbnRlcnNlY3RzJyB8ICdjb250YWlucyc7XG4gIHJlc3VsdEdyYXBoaWNzOiBfX2VzcmkuR3JhcGhpY1tdO1xufVxuXG5jb25zdCBkZWZhdWx0UG9pbnRTeW1ib2wgPSB7XG4gIHN0eWxlOiAnZXNyaVNNU0NpcmNsZScsXG4gIGNvbG9yOiBbMCwgMCwgMTI4LCAxMjhdLFxuICBuYW1lOiAnQ2lyY2xlJyxcbiAgb3V0bGluZToge1xuICAgIGNvbG9yOiBbMCwgMCwgMTI4LCAyNTVdLFxuICAgIHdpZHRoOiAxXG4gIH0sXG4gIHR5cGU6ICdlc3JpU01TJyxcbiAgc2l6ZTogMThcbn07XG5cbmNvbnN0IGRlZmF1bHRQb2x5bGluZVN5bWJvbCA9IHtcbiAgdGFnczogWydzb2xpZCddLFxuICB0aXRsZTogJ0JsdWUgVGhpbicsXG4gIHN0eWxlOiAnZXNyaVNMU1NvbGlkJyxcbiAgY29sb3I6IFs3OSwgMTI5LCAxODksIDI1NV0sXG4gIHdpZHRoOiAzLFxuICBuYW1lOiAnQmx1ZSAxJyxcbiAgdHlwZTogJ2VzcmlTTFMnXG59XG5cbmNvbnN0IGRlZmF1bHRQb2x5Z29uU3ltYm9sID0ge1xuICBzdHlsZTogJ2VzcmlTRlNTb2xpZCcsXG4gIGNvbG9yOiBbNzksIDEyOSwgMTg5LCA3N10sXG4gIHR5cGU6ICdlc3JpU0ZTJyxcbiAgb3V0bGluZToge1xuICAgIHN0eWxlOiAnZXNyaVNMU1NvbGlkJyxcbiAgICBjb2xvcjogWzU0LCA5MywgMTQxLCAyNTVdLFxuICAgIHdpZHRoOiAxLjUsXG4gICAgdHlwZTogJ2VzcmlTTFMnXG4gIH1cbn1cblxuY29uc3QgSWNvbkFycm93RG93biA9IHJlcXVpcmUoJ2ppbXUtdWkvbGliL2ljb25zL2Fycm93LWRvd24taGVhZGVyLnN2ZycpO1xuXG5jb25zdCBTZWxlY3RSZWN0YW5nbGVJY29uID0gcmVxdWlyZSgnLi4vLi4vYXNzZXRzL2ljb25zL3NlbGVjdC10b29sL3NlbGVjdC1yZWN0YW5nbGUuc3ZnJyk7XG5jb25zdCBTZWxlY3RMYXNzb0ljb24gPSByZXF1aXJlKCcuLi8uLi9hc3NldHMvaWNvbnMvc2VsZWN0LXRvb2wvc2VsZWN0LWxhc3NvLnN2ZycpO1xuY29uc3QgU2VsZWN0Q2lyY2xlSWNvbiA9IHJlcXVpcmUoJy4uLy4uL2Fzc2V0cy9pY29ucy9zZWxlY3QtdG9vbC9zZWxlY3QtY2lyY2xlLnN2ZycpO1xuY29uc3QgU2VsZWN0TGluZUljb24gPSByZXF1aXJlKCcuLi8uLi9hc3NldHMvaWNvbnMvc2VsZWN0LXRvb2wvc2VsZWN0LWxpbmUuc3ZnJyk7XG5jb25zdCBTZWxlY3RQb2ludEljb24gPSByZXF1aXJlKCcuLi8uLi9hc3NldHMvaWNvbnMvc2VsZWN0LXRvb2wvc2VsZWN0LXBvaW50LnN2ZycpO1xuY29uc3QgU2VsZWN0Q2xlYXJJY29uID0gcmVxdWlyZSgnLi4vLi4vYXNzZXRzL2ljb25zL3NlbGVjdC10b29sL3NlbGVjdC1jbGVhci5zdmcnKTtcblxuZXhwb3J0IGNsYXNzIFNlbGVjdFBDVG9vbCBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQ8UHJvcHMsIFN0YXRlcz57XG4gIGJ0bkNvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XG4gIHNlbGVjdFJlc3VsdENvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XG4gIFNrZXRjaFZpZXdNb2RlbDogdHlwZW9mIF9fZXNyaS5Ta2V0Y2hWaWV3TW9kZWw7XG4gIEdyYXBoaWNzTGF5ZXI6IHR5cGVvZiBfX2VzcmkuR3JhcGhpY3NMYXllcjtcbiAgUXVlcnk6IHR5cGVvZiBfX2VzcmkuUXVlcnk7XG4gIHNrZXRjaFZpZXdNb2RlbDogX19lc3JpLlNrZXRjaFZpZXdNb2RlbDtcbiAgY3VycmVudEFjdGl2ZVRvb2w6IHN0cmluZyA9ICdyZWN0YW5nbGUnO1xuICBxdWVyeTogRmVhdHVyZUxheWVyUXVlcnlQYXJhbXM7XG4gIGpzb25VdGlsczogdHlwZW9mIF9fZXNyaS5qc29uVXRpbHMgPSBudWxsO1xuICBnZW9tZXRyeUVuZ2luZTogdHlwZW9mIF9fZXNyaS5nZW9tZXRyeUVuZ2luZTtcbiAgcmVzdWx0R3JhcGhpY3M6IF9fZXNyaS5HcmFwaGljW10gPSBbXTtcblxuICBjb25zdHJ1Y3Rvcihwcm9wczogUHJvcHMpe1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaXNTaG93UmVzdWx0UG9wdXA6IGZhbHNlLFxuICAgICAgaXNTaG93U2VsZWN0VHlwZVBvcHVwOiBmYWxzZSxcbiAgICAgIGN1cnJlbnRTZWxlY3RUeXBlOiAnUmVjdGFuZ2xlJyxcbiAgICAgIHNrZXRjaEluaXRpYWxlZDogZmFsc2UsXG4gICAgICBpc0FjdGl2ZTogZmFsc2UsXG4gICAgICBzcGF0aWFsUmVsYXRpb25zaGlwOiAnaW50ZXJzZWN0cycsXG4gICAgICByZXN1bHRHcmFwaGljczogW10sXG4gICAgICBpc1F1ZXJ5aW5nOiBmYWxzZVxuICAgIH07XG4gIH1cblxuICBnZXRDU1NTdHlsZSgpIHtcbiAgICBjb25zdCB0aGVtZSA9IHRoaXMucHJvcHMudGhlbWU7XG4gICAgY29uc3QgY29udGFpbmVyYmcgPSB0aGVtZS5hcmNnaXMuY29tcG9uZW50cy5idXR0b24udmFyaWFudHMuZGVmYXVsdC5kZWZhdWx0LmJnO1xuICAgIGNvbnN0IGNvbnRhaW5lckJvcmRlciA9IHRoZW1lLmFyY2dpcy5jb21wb25lbnRzLmJ1dHRvbi52YXJpYW50cy5kZWZhdWx0LmRlZmF1bHQuYm9yZGVyO1xuICAgIHJldHVybiBjc3NgXG4gICAgICAuc2VsZWN0LXRvb2wtY29udGFpbmVyIHtcbiAgICAgICAgJHtjb250YWluZXJiZyAmJiBgYmFja2dyb3VuZC1jb2xvcjogJHtjb250YWluZXJiZ307YH1cbiAgICAgICAgJHtjb250YWluZXJCb3JkZXIgJiYgYGJvcmRlcjogJHtjb250YWluZXJCb3JkZXIuY29sb3J9ICR7Y29udGFpbmVyQm9yZGVyLndpZHRofSBzb2xpZDtgfVxuICAgICAgfVxuXG4gICAgICAuc2VsZWN0LXRvb2wtYnRuIHtcbiAgICAgICAgd2lkdGg6IDMycHg7XG4gICAgICAgIGhlaWdodDogMzJweDtcbiAgICAgIH1cblxuICAgICAgLmNvbnRlbnQtYmcge1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAke3RoZW1lLmNvbG9ycy5wYWxldHRlLmxpZ2h0WzEwMF19O1xuICAgICAgfVxuXG4gICAgICAuY29udGVudC10aXRsZSB7XG4gICAgICAgIGZvbnQtc2l6ZTogJHtwb2xpc2hlZC5yZW0oMTMpfTtcbiAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgICB9XG5cbiAgICAgIC5zZWxlY3QtdG9vbC10eXBlLW1vYmlsZS1jb250YWluZXItc2hlbGwge1xuICAgICAgICBvdmVyZmxvdy14OiBhdXRvO1xuICAgICAgfVxuXG4gICAgICAuc2VsZWN0LXRvb2wtdHlwZS1tb2JpbGUtY29udGFpbmVyLXNoZWxsOjotd2Via2l0LXNjcm9sbGJhciB7XG4gICAgICAgIGhlaWdodDogMCAhaW1wb3J0YW50O1xuICAgICAgICBkaXNwbGF5OiBub25lO1xuICAgICAgfVxuXG4gICAgICAuc2VsZWN0LXRvb2wtdHlwZS1tb2JpbGUtY29udGFpbmVyIHtcbiAgICAgICAgd2lkdGg6IDQwMHB4O1xuICAgICAgfVxuXG4gICAgICAuc2VsZWN0LXRvb2wtdHlwZSB7XG4gICAgICAgIHdpZHRoOiA2NHB4O1xuICAgICAgICBoZWlnaHQ6IDY0cHg7XG4gICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICR7dGhlbWUuY29sb3JzLnBhbGV0dGUubGlnaHRbNDAwXX07XG4gICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgIH1cblxuICAgICAgLnNlbGVjdC10b29sLXR5cGUtY2hvb3NlZCB7XG4gICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICR7dGhlbWUuY29sb3JzLnByaW1hcnl9O1xuICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICB9XG5cbiAgICAgIC5zZWxlY3QtdG9vbC10eXBlLWNob29zZWQ6YWZ0ZXIge1xuICAgICAgICB3aWR0aDogMDtcbiAgICAgICAgaGVpZ2h0OiAwO1xuICAgICAgICBib3JkZXItdG9wOiA4cHggc29saWQgJHt0aGVtZS5jb2xvcnMucHJpbWFyeX07XG4gICAgICAgIGJvcmRlci1sZWZ0OiA4cHggc29saWQgdHJhbnNwYXJlbnQ7XG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgdG9wOiAwO1xuICAgICAgICByaWdodDogMDtcbiAgICAgICAgY29udGVudDogXCJcIjtcbiAgICAgIH1cblxuICAgICAgLnNlbGVjdC10b29sLXR5cGUtdGV4dCB7XG4gICAgICAgIGZvbnQtc2l6ZTogJHtwb2xpc2hlZC5yZW0oMTIpfTtcbiAgICAgIH1cblxuICAgICAgLnNlbGVjdC10b29sLWxvYWRlciB7XG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgdG9wOiAwO1xuICAgICAgICBsZWZ0OiAwO1xuICAgICAgICByaWdodDogMDtcbiAgICAgICAgaGVpZ2h0OiAycHg7XG4gICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICBhbmltYXRpb246IGVzcmktZmFkZS1pbiA1MDBtcyBlYXNlLWluLW91dDtcbiAgICAgIH1cblxuICAgICAgLnNlbGVjdC10b29sLWxvYWRlcjpiZWZvcmUge1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDExMCwxMTAsMTEwLDAuMyk7XG4gICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICB6LWluZGV4OiAwO1xuICAgICAgICBjb250ZW50OiBcIlwiO1xuICAgICAgICBvcGFjaXR5OiAxO1xuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgIGhlaWdodDogMnB4O1xuICAgICAgICB0b3A6IDA7XG4gICAgICAgIHRyYW5zaXRpb246IG9wYWNpdHkgNTAwbXMgZWFzZS1pbi1vdXQ7XG4gICAgICB9XG5cbiAgICAgIC5zZWxlY3QtdG9vbC1sb2FkZXI6YWZ0ZXIge1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAke3RoZW1lLmNvbG9ycy5wcmltYXJ5fTtcbiAgICAgICAgd2lkdGg6IDIwJTtcbiAgICAgICAgei1pbmRleDogMDtcbiAgICAgICAgYW5pbWF0aW9uOiBsb29waW5nLXByb2dyZXNzcy1iYXItYW5pIDE1MDBtcyBsaW5lYXIgaW5maW5pdGU7XG4gICAgICAgIGNvbnRlbnQ6IFwiXCI7XG4gICAgICAgIG9wYWNpdHk6IDE7XG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgaGVpZ2h0OiAycHg7XG4gICAgICAgIHRvcDogMDtcbiAgICAgICAgdHJhbnNpdGlvbjogb3BhY2l0eSA1MDBtcyBlYXNlLWluLW91dDtcbiAgICAgIH1cblxuICAgIGA7XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBpZiAoIXRoaXMuc3RhdGUuc2tldGNoSW5pdGlhbGVkKSB7XG4gICAgICBsb2FkQXJjR0lTSlNBUElNb2R1bGVzKFtcbiAgICAgICAgJ2Vzcmkvd2lkZ2V0cy9Ta2V0Y2gvU2tldGNoVmlld01vZGVsJyxcbiAgICAgICAgJ2VzcmkvbGF5ZXJzL0dyYXBoaWNzTGF5ZXInLFxuICAgICAgICAnZXNyaS90YXNrcy9zdXBwb3J0L1F1ZXJ5JyxcbiAgICAgICAgJ2Vzcmkvc3ltYm9scy9zdXBwb3J0L2pzb25VdGlscycsXG4gICAgICAgICdlc3JpL2dlb21ldHJ5L2dlb21ldHJ5RW5naW5lJ1xuICAgICAgXSkudGhlbihtb2R1bGVzID0+IHtcbiAgICAgICAgW3RoaXMuU2tldGNoVmlld01vZGVsLCB0aGlzLkdyYXBoaWNzTGF5ZXIsIHRoaXMuUXVlcnksIHRoaXMuanNvblV0aWxzLCB0aGlzLmdlb21ldHJ5RW5naW5lXSA9IG1vZHVsZXM7XG4gICAgICAgIHRoaXMucHJvcHMuamltdU1hcFZpZXcudmlldy53aGVuKCgpID0+IHtcbiAgICAgICAgICB0aGlzLmluaXRpYWxTa2V0Y2hUb29sKCk7XG5cbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIHNrZXRjaEluaXRpYWxlZDogdHJ1ZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wczogUHJvcHMsIHByZXZTdGF0ZTogU3RhdGVzKSB7XG4gICAgaWYgKHByZXZTdGF0ZS5za2V0Y2hJbml0aWFsZWQgIT09IHRoaXMuc3RhdGUuc2tldGNoSW5pdGlhbGVkICYmIHRoaXMuc3RhdGUuc2tldGNoSW5pdGlhbGVkKSB7XG4gICAgICB0aGlzLmluaXRpYWxTa2V0Y2hUb29sKCk7XG5cbiAgICAgIGlmICh0aGlzLnN0YXRlLmlzQWN0aXZlICYmIHRoaXMuY3VycmVudEFjdGl2ZVRvb2wpIHtcbiAgICAgICAgdGhpcy5za2V0Y2hWaWV3TW9kZWwuY3JlYXRlKHRoaXMuY3VycmVudEFjdGl2ZVRvb2wgYXMgYW55KTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAocHJldlByb3BzLmppbXVNYXBWaWV3ICYmIHRoaXMucHJvcHMuamltdU1hcFZpZXcgJiYgKHByZXZQcm9wcy5qaW11TWFwVmlldy5pZCAhPT0gdGhpcy5wcm9wcy5qaW11TWFwVmlldy5pZCkgJiYgdGhpcy5zdGF0ZS5za2V0Y2hJbml0aWFsZWQpIHtcbiAgICAgIHRoaXMuaW5pdGlhbFNrZXRjaFRvb2woKTtcblxuICAgICAgdGhpcy5za2V0Y2hWaWV3TW9kZWwudmlldyA9IHRoaXMucHJvcHMuamltdU1hcFZpZXcudmlldztcbiAgICAgIGlmICh0aGlzLnN0YXRlLmlzQWN0aXZlICYmIHRoaXMuY3VycmVudEFjdGl2ZVRvb2wpIHtcbiAgICAgICAgdGhpcy5za2V0Y2hWaWV3TW9kZWwuY3JlYXRlKHRoaXMuY3VycmVudEFjdGl2ZVRvb2wgYXMgYW55KTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAocHJldlN0YXRlLmlzQWN0aXZlICE9PSB0aGlzLnN0YXRlLmlzQWN0aXZlKSB7XG4gICAgICB0aGlzLmluaXRpYWxTa2V0Y2hUb29sKCk7XG4gICAgICBpZiAodGhpcy5zdGF0ZS5pc0FjdGl2ZSkge1xuICAgICAgICB0aGlzLnNrZXRjaFZpZXdNb2RlbC5jcmVhdGUodGhpcy5jdXJyZW50QWN0aXZlVG9vbCBhcyBhbnkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5za2V0Y2hWaWV3TW9kZWwuZGVzdHJveSgpO1xuICAgICAgICB0aGlzLnNrZXRjaFZpZXdNb2RlbCA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgaWYgKHRoaXMuc2tldGNoVmlld01vZGVsKSB7XG4gICAgICB0aGlzLnNrZXRjaFZpZXdNb2RlbC5kZXN0cm95KCk7XG4gICAgfVxuICB9XG5cbiAgdG9nZ2xlSXNTZWxlY3RBY3RpdmUgPSAoKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBpc0FjdGl2ZTogIXRoaXMuc3RhdGUuaXNBY3RpdmVcbiAgICB9KTtcbiAgfVxuXG4gIGdldFNlbGVjdFRvb2xJY29uID0gKCkgPT4ge1xuICAgIGlmICh0aGlzLnN0YXRlLmN1cnJlbnRTZWxlY3RUeXBlID09PSAnUG9pbnQnKSB7XG4gICAgICByZXR1cm4gU2VsZWN0UG9pbnRJY29uO1xuICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZS5jdXJyZW50U2VsZWN0VHlwZSA9PT0gJ1JlY3RhbmdsZScpIHtcbiAgICAgIHJldHVybiBTZWxlY3RSZWN0YW5nbGVJY29uO1xuICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZS5jdXJyZW50U2VsZWN0VHlwZSA9PT0gJ0xhc3NvJykge1xuICAgICAgcmV0dXJuIFNlbGVjdExhc3NvSWNvbjtcbiAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGUuY3VycmVudFNlbGVjdFR5cGUgPT09ICdDaXJjbGUnKSB7XG4gICAgICByZXR1cm4gU2VsZWN0Q2lyY2xlSWNvbjtcbiAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGUuY3VycmVudFNlbGVjdFR5cGUgPT09ICdMaW5lJykge1xuICAgICAgcmV0dXJuIFNlbGVjdExpbmVJY29uO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gU2VsZWN0UmVjdGFuZ2xlSWNvbjtcbiAgICB9XG4gIH1cblxuICB0b2dnbGVTZWxlY3RUeXBlUG9wdXAgPSAoKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBpc1Nob3dTZWxlY3RUeXBlUG9wdXA6ICF0aGlzLnN0YXRlLmlzU2hvd1NlbGVjdFR5cGVQb3B1cFxuICAgIH0pO1xuICB9XG5cbiAgdG9nZ2xlUmVzdWx0UG9wdXAgPSAoKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBpc1Nob3dSZXN1bHRQb3B1cDogIXRoaXMuc3RhdGUuaXNTaG93UmVzdWx0UG9wdXBcbiAgICB9KTtcbiAgfVxuXG4gIHNldEN1cnJlbnRTZWxlY3RUeXBlID0gKGN1cnJlbnRTZWxlY3RUeXBlOiBhbnkpID0+IHtcbiAgICB0aGlzLmluaXRpYWxTa2V0Y2hUb29sKCk7XG5cbiAgICBpZiAoY3VycmVudFNlbGVjdFR5cGUgPT09ICdQb2ludCcpIHtcbiAgICAgIHRoaXMuc2tldGNoVmlld01vZGVsLmNyZWF0ZSgncG9pbnQnKTtcbiAgICAgIHRoaXMuY3VycmVudEFjdGl2ZVRvb2wgPSAncG9pbnQnO1xuICAgIH1cblxuICAgIGlmIChjdXJyZW50U2VsZWN0VHlwZSA9PT0gJ1JlY3RhbmdsZScpIHtcbiAgICAgIHRoaXMuc2tldGNoVmlld01vZGVsLmNyZWF0ZSgncmVjdGFuZ2xlJyk7XG4gICAgICB0aGlzLmN1cnJlbnRBY3RpdmVUb29sID0gJ3JlY3RhbmdsZSc7XG4gICAgfVxuXG4gICAgaWYgKGN1cnJlbnRTZWxlY3RUeXBlID09PSAnTGFzc28nKSB7XG4gICAgICB0aGlzLnNrZXRjaFZpZXdNb2RlbC5jcmVhdGUoJ3BvbHlnb24nKTtcbiAgICAgIHRoaXMuY3VycmVudEFjdGl2ZVRvb2wgPSAncG9seWdvbic7XG4gICAgfVxuXG4gICAgaWYgKGN1cnJlbnRTZWxlY3RUeXBlID09PSAnQ2lyY2xlJykge1xuICAgICAgdGhpcy5za2V0Y2hWaWV3TW9kZWwuY3JlYXRlKCdjaXJjbGUnKTtcbiAgICAgIHRoaXMuY3VycmVudEFjdGl2ZVRvb2wgPSAnY2lyY2xlJztcbiAgICB9XG5cbiAgICBpZiAoY3VycmVudFNlbGVjdFR5cGUgPT09ICdMaW5lJykge1xuICAgICAgdGhpcy5za2V0Y2hWaWV3TW9kZWwuY3JlYXRlKCdwb2x5bGluZScpO1xuICAgICAgdGhpcy5jdXJyZW50QWN0aXZlVG9vbCA9ICdwb2x5bGluZSc7XG4gICAgfVxuXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBjdXJyZW50U2VsZWN0VHlwZTogY3VycmVudFNlbGVjdFR5cGUsXG4gICAgICBpc1Nob3dTZWxlY3RUeXBlUG9wdXA6IGZhbHNlLFxuICAgICAgaXNBY3RpdmU6IHRydWVcbiAgICB9KTtcbiAgfVxuXG4gIGluaXRpYWxTa2V0Y2hUb29sKCkge1xuICAgIGlmICghdGhpcy5Ta2V0Y2hWaWV3TW9kZWwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuc2tldGNoVmlld01vZGVsKSB7XG4gICAgICB0aGlzLnNrZXRjaFZpZXdNb2RlbCA9IG5ldyB0aGlzLlNrZXRjaFZpZXdNb2RlbCh7XG4gICAgICAgIHZpZXc6IHRoaXMucHJvcHMuamltdU1hcFZpZXcudmlldyxcbiAgICAgICAgbGF5ZXI6IG5ldyB0aGlzLkdyYXBoaWNzTGF5ZXIoKSxcbiAgICAgICAgcG9pbnRTeW1ib2w6IHRoaXMuanNvblV0aWxzLmZyb21KU09OKGRlZmF1bHRQb2ludFN5bWJvbCkgYXMgYW55LFxuICAgICAgICBwb2x5bGluZVN5bWJvbDogdGhpcy5qc29uVXRpbHMuZnJvbUpTT04oZGVmYXVsdFBvbHlsaW5lU3ltYm9sKSBhcyBhbnksXG4gICAgICAgIHBvbHlnb25TeW1ib2w6IHRoaXMuanNvblV0aWxzLmZyb21KU09OKGRlZmF1bHRQb2x5Z29uU3ltYm9sKSBhcyBhbnlcbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLnNrZXRjaFZpZXdNb2RlbC5vbignY3JlYXRlJywgKGV2ZW50KSA9PiB7XG4gICAgICAgIGlmIChldmVudC5zdGF0ZSA9PT0gJ2NvbXBsZXRlJykge1xuICAgICAgICAgIHRoaXMuc2tldGNoVmlld01vZGVsLmNyZWF0ZSh0aGlzLmN1cnJlbnRBY3RpdmVUb29sIGFzIGFueSk7XG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBpc1F1ZXJ5aW5nOiB0cnVlXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBjb25zdCBqaW11TWFwVmlldyA9IHRoaXMucHJvcHMuamltdU1hcFZpZXc7XG4gICAgICAgICAgamltdU1hcFZpZXcuc2VsZWN0RmVhdHVyZXNCeUdyYXBoaWMoZXZlbnQuZ3JhcGhpYywgdGhpcy5zdGF0ZS5zcGF0aWFsUmVsYXRpb25zaGlwKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICBpc1F1ZXJ5aW5nOiBmYWxzZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGNsZWFyU2VsZWN0ID0gKCkgPT4ge1xuICAgIHRoaXMucHJvcHMuamltdU1hcFZpZXcuY2xlYXJTZWxlY3RlZEZlYXR1cmVzKCk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIDxkaXYgY3NzPXt0aGlzLmdldENTU1N0eWxlKCl9PjxkaXYgY2xhc3NOYW1lPVwiZC1mbGV4IGFsaWduLWl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyIHNlbGVjdC10b29sLWNvbnRhaW5lclwiIHJlZj17cmVmID0+IHt0aGlzLmJ0bkNvbnRhaW5lciA9IHJlZjt9fT5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZC1mbGV4XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZC1mbGV4XCI+XG4gICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXt0aGlzLnRvZ2dsZUlzU2VsZWN0QWN0aXZlfVxuICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc05hbWVzKCdlc3JpLXdpZGdldC0tYnV0dG9uICBib3JkZXItMCBzZWxlY3QtdG9vbC1idG4gZC1mbGV4IGFsaWduLWl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyJyxcbiAgICAgICAgICAgICAge2FjdGl2ZTogdGhpcy5zdGF0ZS5pc0FjdGl2ZX0pfVxuICAgICAgICAgICAgZGlzYWJsZWQ9eyF0aGlzLnN0YXRlLnNrZXRjaEluaXRpYWxlZH1cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8SWNvbiB3aWR0aD17MTZ9IGhlaWdodD17MTZ9IGljb249e3RoaXMuZ2V0U2VsZWN0VG9vbEljb24oKX0vPlxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDxidXR0b24gb25DbGljaz17dGhpcy50b2dnbGVTZWxlY3RUeXBlUG9wdXB9IHN0eWxlPXt7d2lkdGg6IDE4fX1cbiAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lcygnZXNyaS13aWRnZXQtLWJ1dHRvbiBib3JkZXItMCBwbC0xIHByLTEgc2VsZWN0LXRvb2wtYnRuIGQtZmxleCBhbGlnbi1pdGVtcy1jZW50ZXIganVzdGlmeS1jb250ZW50LWNlbnRlcicsXG4gICAgICAgICAgICAgIHthY3RpdmU6IHRoaXMuc3RhdGUuaXNTaG93U2VsZWN0VHlwZVBvcHVwfSl9XG4gICAgICAgICAgICBkaXNhYmxlZD17IXRoaXMuc3RhdGUuc2tldGNoSW5pdGlhbGVkfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxJY29uIHdpZHRoPXs4fSBoZWlnaHQ9ezh9IGljb249e0ljb25BcnJvd0Rvd259Lz5cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwic2VsZWN0LXRvb2wtYnRuIGQtZmxleCBhbGlnbi1pdGVtcy1jZW50ZXIganVzdGlmeS1jb250ZW50LWNlbnRlciBzZWxlY3QtdG9vbC1idG4taG92ZXIgZXNyaS13aWRnZXQtLWJ1dHRvbiBib3JkZXItMFwiXG4gICAgICAgICAgcmVmPXtyZWYgPT4ge3RoaXMuc2VsZWN0UmVzdWx0Q29udGFpbmVyID0gcmVmO319IG9uQ2xpY2s9e3RoaXMuY2xlYXJTZWxlY3R9XG4gICAgICAgICAgZGlzYWJsZWQ9eyF0aGlzLnN0YXRlLnNrZXRjaEluaXRpYWxlZH1cbiAgICAgICAgPlxuICAgICAgICAgIDxJY29uIHdpZHRoPXsxNn0gaGVpZ2h0PXsxNn0gaWNvbj17U2VsZWN0Q2xlYXJJY29ufS8+XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8UG9wcGVyIGNzcz17dGhpcy5nZXRDU1NTdHlsZSgpfSByZWZlcmVuY2U9e3RoaXMuYnRuQ29udGFpbmVyfSBvcGVuPXt0aGlzLnN0YXRlLmlzU2hvd1NlbGVjdFR5cGVQb3B1cH0gcGxhY2VtZW50PVwiYm90dG9tLXN0YXJ0XCIgdG9nZ2xlPXt0aGlzLnRvZ2dsZVNlbGVjdFR5cGVQb3B1cH0+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTMgY29udGVudC1iZ1wiIHN0eWxlPXt7ZGlzcGxheTogJ2ZsZXgnLCBmbGV4RGlyZWN0aW9uOiAnY29sdW1uJ319PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250ZW50LXRpdGxlXCI+XG4gICAgICAgICAgICAgIHt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7aWQ6ICdTZWxlY3Rpb25Ub29sJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlc1snU2VsZWN0aW9uVG9vbCddfSl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMiBtYi0yXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZC1mbGV4IG1iLTJcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NOYW1lcygnc2VsZWN0LXRvb2wtdHlwZSBtci0yIGQtZmxleCBmbGV4LWNvbHVtbiBhbGlnbi1pdGVtcy1jZW50ZXIganVzdGlmeS1jb250ZW50LWNlbnRlciBzZWxlY3QtdG9vbC1idG4taG92ZXInLCB7XG4gICAgICAgICAgICAgICAgICAnc2VsZWN0LXRvb2wtdHlwZS1jaG9vc2VkJzogdGhpcy5zdGF0ZS5jdXJyZW50U2VsZWN0VHlwZSA9PT0gJ1JlY3RhbmdsZSdcbiAgICAgICAgICAgICAgICB9KX0gb25DbGljaz17KCkgPT4ge3RoaXMuc2V0Q3VycmVudFNlbGVjdFR5cGUoJ1JlY3RhbmdsZScpfX0+XG4gICAgICAgICAgICAgICAgICA8SWNvbiB3aWR0aD17MTZ9IGhlaWdodD17MTZ9IGljb249e1NlbGVjdFJlY3RhbmdsZUljb259Lz5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2VsZWN0LXRvb2wtdHlwZS10ZXh0IG10LTEgdy0xMDAgdGV4dC10cnVuY2F0ZSBwbC0xIHByLTEgZC1mbGV4IGp1c3RpZnktY29udGVudC1jZW50ZXJcIlxuICAgICAgICAgICAgICAgICAgICB0aXRsZT17dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2Uoe2lkOiAnU2VsZWN0aW9uVG9vbFJlY3RhbmdsZScsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXNbJ1NlbGVjdGlvblRvb2xSZWN0YW5nbGUnXX0pfT5cbiAgICAgICAgICAgICAgICAgICAge3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHtpZDogJ1NlbGVjdGlvblRvb2xSZWN0YW5nbGUnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzWydTZWxlY3Rpb25Ub29sUmVjdGFuZ2xlJ119KX1cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc05hbWVzKCdzZWxlY3QtdG9vbC10eXBlIG1yLTIgZC1mbGV4IGZsZXgtY29sdW1uIGFsaWduLWl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyIHNlbGVjdC10b29sLWJ0bi1ob3ZlcicsIHtcbiAgICAgICAgICAgICAgICAgICdzZWxlY3QtdG9vbC10eXBlLWNob29zZWQnOiB0aGlzLnN0YXRlLmN1cnJlbnRTZWxlY3RUeXBlID09PSAnTGFzc28nXG4gICAgICAgICAgICAgICAgfSl9IG9uQ2xpY2s9eygpID0+IHt0aGlzLnNldEN1cnJlbnRTZWxlY3RUeXBlKCdMYXNzbycpfX0+XG4gICAgICAgICAgICAgICAgICA8SWNvbiB3aWR0aD17MTZ9IGhlaWdodD17MTZ9IGljb249e1NlbGVjdExhc3NvSWNvbn0vPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzZWxlY3QtdG9vbC10eXBlLXRleHQgbXQtMSB3LTEwMCB0ZXh0LXRydW5jYXRlIHBsLTEgcHItMSBkLWZsZXgganVzdGlmeS1jb250ZW50LWNlbnRlclwiXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlPXt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7aWQ6ICdTZWxlY3Rpb25Ub29sTGFzc28nLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzWydTZWxlY3Rpb25Ub29sTGFzc28nXX0pfT5cbiAgICAgICAgICAgICAgICAgICAge3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHtpZDogJ1NlbGVjdGlvblRvb2xMYXNzbycsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXNbJ1NlbGVjdGlvblRvb2xMYXNzbyddfSl9XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NOYW1lcygnc2VsZWN0LXRvb2wtdHlwZSBkLWZsZXggZmxleC1jb2x1bW4gYWxpZ24taXRlbXMtY2VudGVyIGp1c3RpZnktY29udGVudC1jZW50ZXIgc2VsZWN0LXRvb2wtYnRuLWhvdmVyJywge1xuICAgICAgICAgICAgICAgICAgJ3NlbGVjdC10b29sLXR5cGUtY2hvb3NlZCc6IHRoaXMuc3RhdGUuY3VycmVudFNlbGVjdFR5cGUgPT09ICdDaXJjbGUnXG4gICAgICAgICAgICAgICAgfSl9IG9uQ2xpY2s9eygpID0+IHt0aGlzLnNldEN1cnJlbnRTZWxlY3RUeXBlKCdDaXJjbGUnKX19PlxuICAgICAgICAgICAgICAgICAgPEljb24gd2lkdGg9ezE2fSBoZWlnaHQ9ezE2fSBpY29uPXtTZWxlY3RDaXJjbGVJY29ufS8+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNlbGVjdC10b29sLXR5cGUtdGV4dCBtdC0xIHctMTAwIHRleHQtdHJ1bmNhdGUgcGwtMSBwci0xIGQtZmxleCBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyXCJcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU9e3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHtpZDogJ1NlbGVjdGlvblRvb2xDaXJjbGUnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzWydTZWxlY3Rpb25Ub29sQ2lyY2xlJ119KX0+XG4gICAgICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7aWQ6ICdTZWxlY3Rpb25Ub29sQ2lyY2xlJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlc1snU2VsZWN0aW9uVG9vbENpcmNsZSddfSl9XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZC1mbGV4XCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzTmFtZXMoJ3NlbGVjdC10b29sLXR5cGUgbXItMiBkLWZsZXggZmxleC1jb2x1bW4gYWxpZ24taXRlbXMtY2VudGVyIGp1c3RpZnktY29udGVudC1jZW50ZXIgc2VsZWN0LXRvb2wtYnRuLWhvdmVyJywge1xuICAgICAgICAgICAgICAgICAgJ3NlbGVjdC10b29sLXR5cGUtY2hvb3NlZCc6IHRoaXMuc3RhdGUuY3VycmVudFNlbGVjdFR5cGUgPT09ICdMaW5lJ1xuICAgICAgICAgICAgICAgIH0pfSBvbkNsaWNrPXsoKSA9PiB7dGhpcy5zZXRDdXJyZW50U2VsZWN0VHlwZSgnTGluZScpfX0+XG4gICAgICAgICAgICAgICAgICA8SWNvbiB3aWR0aD17MTZ9IGhlaWdodD17MTZ9IGljb249e1NlbGVjdExpbmVJY29ufS8+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNlbGVjdC10b29sLXR5cGUtdGV4dCBtdC0xIHctMTAwIHRleHQtdHJ1bmNhdGUgcGwtMSBwci0xIGQtZmxleCBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyXCJcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU9e3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHtpZDogJ1NlbGVjdGlvblRvb2xMaW5lJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlc1snU2VsZWN0aW9uVG9vbExpbmUnXX0pfT5cbiAgICAgICAgICAgICAgICAgICAge3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHtpZDogJ1NlbGVjdGlvblRvb2xMaW5lJywgZGVmYXVsdE1lc3NhZ2U6IGRlZmF1bHRNZXNzYWdlc1snU2VsZWN0aW9uVG9vbExpbmUnXX0pfVxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzTmFtZXMoJ3NlbGVjdC10b29sLXR5cGUgZC1mbGV4IGZsZXgtY29sdW1uIGFsaWduLWl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyIHNlbGVjdC10b29sLWJ0bi1ob3ZlcicsIHtcbiAgICAgICAgICAgICAgICAgICdzZWxlY3QtdG9vbC10eXBlLWNob29zZWQnOiB0aGlzLnN0YXRlLmN1cnJlbnRTZWxlY3RUeXBlID09PSAnUG9pbnQnXG4gICAgICAgICAgICAgICAgfSl9IG9uQ2xpY2s9eygpID0+IHt0aGlzLnNldEN1cnJlbnRTZWxlY3RUeXBlKCdQb2ludCcpfX0+XG4gICAgICAgICAgICAgICAgICA8SWNvbiB3aWR0aD17MTZ9IGhlaWdodD17MTZ9IGljb249e1NlbGVjdFBvaW50SWNvbn0vPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzZWxlY3QtdG9vbC10eXBlLXRleHQgbXQtMSB3LTEwMCB0ZXh0LXRydW5jYXRlIHBsLTEgcHItMSBkLWZsZXgganVzdGlmeS1jb250ZW50LWNlbnRlclwiXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlPXt0aGlzLnByb3BzLmludGwuZm9ybWF0TWVzc2FnZSh7aWQ6ICdTZWxlY3Rpb25Ub29sUG9pbnQnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzWydTZWxlY3Rpb25Ub29sUG9pbnQnXX0pfT5cbiAgICAgICAgICAgICAgICAgICAge3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHtpZDogJ1NlbGVjdGlvblRvb2xQb2ludCcsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXNbJ1NlbGVjdGlvblRvb2xQb2ludCddfSl9XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGVudC10aXRsZVwiPlxuICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2Uoe2lkOiAnU2VsZWN0aW9uTW9kZScsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXNbJ1NlbGVjdGlvbk1vZGUnXX0pfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImQtZmxleCBhbGlnbi1pdGVtcy1jZW50ZXIgbXQtMlwiPlxuICAgICAgICAgICAgICAgIDxSYWRpbyBzdHlsZT17e2N1cnNvcjogJ3BvaW50ZXInfX0gY2hlY2tlZD17dGhpcy5zdGF0ZS5zcGF0aWFsUmVsYXRpb25zaGlwID09PSAnaW50ZXJzZWN0cyd9XG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KCkgPT4ge3RoaXMuc2V0U3RhdGUoe3NwYXRpYWxSZWxhdGlvbnNoaXA6ICdpbnRlcnNlY3RzJ30pfX0vPlxuICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJtLTAgbWwtMiBjb250ZW50LXRpdGxlXCIgc3R5bGU9e3tjdXJzb3I6ICdwb2ludGVyJ319IG9uQ2xpY2s9eygpID0+IHt0aGlzLnNldFN0YXRlKHtzcGF0aWFsUmVsYXRpb25zaGlwOiAnaW50ZXJzZWN0cyd9KX19PlxuICAgICAgICAgICAgICAgICAge3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHtpZDogJ1NlbGVjdGlvbldpdGhpbicsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXNbJ1NlbGVjdGlvbldpdGhpbiddfSl9XG4gICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZC1mbGV4IGFsaWduLWl0ZW1zLWNlbnRlciBtdC0yXCI+XG4gICAgICAgICAgICAgICAgPFJhZGlvIHN0eWxlPXt7Y3Vyc29yOiAncG9pbnRlcid9fSBjaGVja2VkPXt0aGlzLnN0YXRlLnNwYXRpYWxSZWxhdGlvbnNoaXAgPT09ICdjb250YWlucyd9XG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KCkgPT4ge3RoaXMuc2V0U3RhdGUoe3NwYXRpYWxSZWxhdGlvbnNoaXA6ICdjb250YWlucyd9KX19Lz5cbiAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwibS0wIG1sLTIgY29udGVudC10aXRsZVwiIHN0eWxlPXt7Y3Vyc29yOiAncG9pbnRlcid9fSBvbkNsaWNrPXsoKSA9PiB7dGhpcy5zZXRTdGF0ZSh7c3BhdGlhbFJlbGF0aW9uc2hpcDogJ2NvbnRhaW5zJ30pfX0+XG4gICAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2Uoe2lkOiAnU2VsZWN0aW9uQ29udGFpbicsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXNbJ1NlbGVjdGlvbkNvbnRhaW4nXX0pfVxuICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvUG9wcGVyPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICAgeyh0aGlzLnN0YXRlLmlzUXVlcnlpbmcgfHwgIXRoaXMuc3RhdGUuc2tldGNoSW5pdGlhbGVkKSAmJiA8ZGl2IGNsYXNzTmFtZT1cInNlbGVjdC10b29sLWxvYWRlclwiPjwvZGl2Pn1cbiAgICA8L2Rpdj5cbiAgfVxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBcUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBYUE7QUFBQTtBQU5BO0FBRUE7QUFFQTtBQWdMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFrQ0E7QUFDQTtBQUNBO0FBblJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWdHQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBdUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBRUE7QUFLQTtBQUdBO0FBSUE7QUFFQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFJQTtBQUNBO0FBRUE7QUFTQTtBQUVBO0FBQ0E7QUFBQTs7OyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/select/select-pc.tsx\n");

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/selectstate/index.tsx":
/*!**************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/selectstate/index.tsx ***!
  \**************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jimu_core__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ \"jimu-ui\");\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jimu_ui__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../layout/base/base-tool */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/base-tool.tsx\");\n/* harmony import */ var _selected_number__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./selected-number */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/selectstate/selected-number.tsx\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __makeTemplateObject = (undefined && undefined.__makeTemplateObject) || function (cooked, raw) {\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n    return cooked;\n};\n/** @jsx jsx */\n\n\n\n\nvar SelectZoomtoIcon = __webpack_require__(/*! ../../assets/icons/select-tool/select-zoomto.svg */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/select-tool/select-zoomto.svg\");\nvar SelectClearIcon = __webpack_require__(/*! ../../assets/icons/select-tool/select-clear.svg */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icons/select-tool/select-clear.svg\");\nvar SelectState = /** @class */ (function (_super) {\n    __extends(SelectState, _super);\n    function SelectState(props) {\n        var _this = _super.call(this, props) || this;\n        _this.toolName = 'SelectState';\n        _this.handleSelectedGraphicsChanged = function (selectedGraphics) {\n            _this.setState({\n                selectedGraphics: selectedGraphics\n            });\n        };\n        _this.zoomToSelectedFeatures = function () {\n            if (_this.props.jimuMapView.view) {\n                _this.props.jimuMapView.view.goTo(_this.state.selectedGraphics);\n            }\n        };\n        _this.clearSelectedFeatures = function () {\n            _this.props.jimuMapView.clearSelectedFeatures();\n        };\n        _this.state = {\n            selectedGraphics: []\n        };\n        return _this;\n    }\n    SelectState.prototype.getStyle = function () {\n        return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n      background-color: \", \";\\n\\n      .divide-line {\\n        border-right: 1px solid \", \";\\n        height: 100%;\\n      }\\n    \"], [\"\\n      background-color: \", \";\\n\\n      .divide-line {\\n        border-right: 1px solid \", \";\\n        height: 100%;\\n      }\\n    \"])), this.props.theme.arcgis.components.button.variants.default.default.bg, this.props.theme.colors.palette.dark[400]);\n    };\n    SelectState.prototype.getTitle = function () {\n        return '';\n    };\n    SelectState.prototype.getIcon = function () {\n        return null;\n    };\n    SelectState.prototype.getExpandPanel = function () {\n        if (this.props.isMobile) {\n            return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { css: this.getStyle(), className: \"w-100 d-flex justify-content-between align-items-center\", style: { height: '40px' } },\n                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"ml-2\" }, this.props.intl.formatMessage({ id: 'SelectionSelectedFeatures', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"defaultMessages\"]['SelectionSelectedFeatures'] }) + \":\" + this.state.selectedGraphics.length),\n                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"d-flex\" },\n                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"h-100 border border-top-0 border-bottom-0 d-flex justify-content-center align-items-center\", style: { width: '40px', cursor: 'pointer' }, onClick: this.zoomToSelectedFeatures },\n                        Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"Icon\"], { width: 18, height: 18, icon: SelectZoomtoIcon })),\n                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"h-100 d-flex justify-content-center align-items-center\", style: { width: '40px', cursor: 'pointer' }, onClick: this.clearSelectedFeatures },\n                        Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"Icon\"], { width: 18, height: 18, icon: SelectClearIcon }))),\n                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_selected_number__WEBPACK_IMPORTED_MODULE_3__[\"SelectedNumber\"], { jimuMapView: this.props.jimuMapView, onSelectedGraphicsChanged: this.handleSelectedGraphicsChanged }));\n        }\n        else {\n            return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].Fragment, null,\n                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"Button\"], { onClick: this.zoomToSelectedFeatures },\n                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"Icon\"], { width: 16, height: 16, icon: SelectZoomtoIcon, className: \"mr-2\" }), this.props.intl.formatMessage({ id: 'SelectionSelectedFeatures', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"defaultMessages\"]['SelectionSelectedFeatures'] }) + \":\" + this.state.selectedGraphics.length),\n                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_selected_number__WEBPACK_IMPORTED_MODULE_3__[\"SelectedNumber\"], { jimuMapView: this.props.jimuMapView, onSelectedGraphicsChanged: this.handleSelectedGraphicsChanged }));\n        }\n    };\n    return SelectState;\n}(_layout_base_base_tool__WEBPACK_IMPORTED_MODULE_2__[\"BaseTool\"]));\n/* harmony default export */ __webpack_exports__[\"default\"] = (SelectState);\nvar templateObject_1;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvdG9vbHMvc2VsZWN0c3RhdGUvaW5kZXgudHN4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vZXh0ZW5zaW9ucy93aWRnZXRzL2FyY2dpcy9hcmNnaXMtbWFwL3NyYy9ydW50aW1lL3Rvb2xzL3NlbGVjdHN0YXRlL2luZGV4LnRzeD9hZjhmIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKiBAanN4IGpzeCAqL1xuaW1wb3J0IHtjc3MsIGpzeCwgUmVhY3R9IGZyb20gJ2ppbXUtY29yZSc7XG5pbXBvcnQgeyBCdXR0b24sIEljb24sIGRlZmF1bHRNZXNzYWdlcyB9IGZyb20gJ2ppbXUtdWknO1xuaW1wb3J0IHtCYXNlVG9vbCwgQmFzZVRvb2xQcm9wcywgSWNvblR5cGV9IGZyb20gJy4uLy4uL2xheW91dC9iYXNlL2Jhc2UtdG9vbCc7XG5pbXBvcnQge1NlbGVjdGVkTnVtYmVyfSBmcm9tICcuL3NlbGVjdGVkLW51bWJlcic7XG5cbmNvbnN0IFNlbGVjdFpvb210b0ljb24gPSByZXF1aXJlKCcuLi8uLi9hc3NldHMvaWNvbnMvc2VsZWN0LXRvb2wvc2VsZWN0LXpvb210by5zdmcnKTtcbmNvbnN0IFNlbGVjdENsZWFySWNvbiA9IHJlcXVpcmUoJy4uLy4uL2Fzc2V0cy9pY29ucy9zZWxlY3QtdG9vbC9zZWxlY3QtY2xlYXIuc3ZnJyk7XG5cbmludGVyZmFjZSBTdGF0ZXN7XG4gIHNlbGVjdGVkR3JhcGhpY3M6IF9fZXNyaS5HcmFwaGljW11cbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VsZWN0U3RhdGUgZXh0ZW5kcyBCYXNlVG9vbDxCYXNlVG9vbFByb3BzLCBTdGF0ZXM+IHtcbiAgdG9vbE5hbWUgPSAnU2VsZWN0U3RhdGUnO1xuXG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIHNlbGVjdGVkR3JhcGhpY3M6IFtdXG4gICAgfTtcbiAgfVxuXG4gIGdldFN0eWxlKCkge1xuICAgIHJldHVybiBjc3NgXG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAke3RoaXMucHJvcHMudGhlbWUuYXJjZ2lzLmNvbXBvbmVudHMuYnV0dG9uLnZhcmlhbnRzLmRlZmF1bHQuZGVmYXVsdC5iZ307XG5cbiAgICAgIC5kaXZpZGUtbGluZSB7XG4gICAgICAgIGJvcmRlci1yaWdodDogMXB4IHNvbGlkICR7dGhpcy5wcm9wcy50aGVtZS5jb2xvcnMucGFsZXR0ZS5kYXJrWzQwMF19O1xuICAgICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgICB9XG4gICAgYDtcbiAgfVxuXG4gIGdldFRpdGxlKCkge1xuICAgIHJldHVybiAnJztcbiAgfVxuXG4gIGdldEljb24oKTogSWNvblR5cGUge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgaGFuZGxlU2VsZWN0ZWRHcmFwaGljc0NoYW5nZWQgPSAoc2VsZWN0ZWRHcmFwaGljczogX19lc3JpLkdyYXBoaWNbXSkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgc2VsZWN0ZWRHcmFwaGljczogc2VsZWN0ZWRHcmFwaGljc1xuICAgIH0pO1xuICB9XG5cbiAgem9vbVRvU2VsZWN0ZWRGZWF0dXJlcyA9ICgpID0+IHtcbiAgICBpZiAodGhpcy5wcm9wcy5qaW11TWFwVmlldy52aWV3KSB7XG4gICAgICB0aGlzLnByb3BzLmppbXVNYXBWaWV3LnZpZXcuZ29Ubyh0aGlzLnN0YXRlLnNlbGVjdGVkR3JhcGhpY3MpO1xuICAgIH1cbiAgfVxuXG4gIGNsZWFyU2VsZWN0ZWRGZWF0dXJlcyA9ICgpID0+IHtcbiAgICB0aGlzLnByb3BzLmppbXVNYXBWaWV3LmNsZWFyU2VsZWN0ZWRGZWF0dXJlcygpO1xuICB9XG5cbiAgZ2V0RXhwYW5kUGFuZWwoKTogSlNYLkVsZW1lbnQge1xuICAgIGlmICh0aGlzLnByb3BzLmlzTW9iaWxlKSB7XG4gICAgICByZXR1cm4gPGRpdiBjc3M9e3RoaXMuZ2V0U3R5bGUoKX0gY2xhc3NOYW1lPVwidy0xMDAgZC1mbGV4IGp1c3RpZnktY29udGVudC1iZXR3ZWVuIGFsaWduLWl0ZW1zLWNlbnRlclwiIHN0eWxlPXt7aGVpZ2h0OiAnNDBweCd9fT5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtbC0yXCI+XG4gICAgICAgICAge2Ake3RoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHtpZDogJ1NlbGVjdGlvblNlbGVjdGVkRmVhdHVyZXMnLCBkZWZhdWx0TWVzc2FnZTogZGVmYXVsdE1lc3NhZ2VzWydTZWxlY3Rpb25TZWxlY3RlZEZlYXR1cmVzJ119KX06JHt0aGlzLnN0YXRlLnNlbGVjdGVkR3JhcGhpY3MubGVuZ3RofWB9XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImQtZmxleFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaC0xMDAgYm9yZGVyIGJvcmRlci10b3AtMCBib3JkZXItYm90dG9tLTAgZC1mbGV4IGp1c3RpZnktY29udGVudC1jZW50ZXIgYWxpZ24taXRlbXMtY2VudGVyXCIgc3R5bGU9e3t3aWR0aDogJzQwcHgnLCBjdXJzb3I6ICdwb2ludGVyJ319XG4gICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnpvb21Ub1NlbGVjdGVkRmVhdHVyZXN9PlxuICAgICAgICAgICAgPEljb24gd2lkdGg9ezE4fSBoZWlnaHQ9ezE4fSBpY29uPXtTZWxlY3Rab29tdG9JY29ufS8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJoLTEwMCBkLWZsZXgganVzdGlmeS1jb250ZW50LWNlbnRlciBhbGlnbi1pdGVtcy1jZW50ZXJcIiBzdHlsZT17e3dpZHRoOiAnNDBweCcsIGN1cnNvcjogJ3BvaW50ZXInfX1cbiAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuY2xlYXJTZWxlY3RlZEZlYXR1cmVzfT5cbiAgICAgICAgICAgIDxJY29uIHdpZHRoPXsxOH0gaGVpZ2h0PXsxOH0gaWNvbj17U2VsZWN0Q2xlYXJJY29ufS8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8U2VsZWN0ZWROdW1iZXIgamltdU1hcFZpZXc9e3RoaXMucHJvcHMuamltdU1hcFZpZXd9IG9uU2VsZWN0ZWRHcmFwaGljc0NoYW5nZWQ9e3RoaXMuaGFuZGxlU2VsZWN0ZWRHcmFwaGljc0NoYW5nZWR9PjwvU2VsZWN0ZWROdW1iZXI+XG4gICAgICA8L2Rpdj5cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIDxSZWFjdC5GcmFnbWVudD5cbiAgICAgICAgPEJ1dHRvbiBvbkNsaWNrPXt0aGlzLnpvb21Ub1NlbGVjdGVkRmVhdHVyZXN9PlxuICAgICAgICAgIDxJY29uIHdpZHRoPXsxNn0gaGVpZ2h0PXsxNn0gaWNvbj17U2VsZWN0Wm9vbXRvSWNvbn0gY2xhc3NOYW1lPVwibXItMlwiLz5cbiAgICAgICAgICB7YCR7dGhpcy5wcm9wcy5pbnRsLmZvcm1hdE1lc3NhZ2Uoe2lkOiAnU2VsZWN0aW9uU2VsZWN0ZWRGZWF0dXJlcycsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXNbJ1NlbGVjdGlvblNlbGVjdGVkRmVhdHVyZXMnXX0pfToke3RoaXMuc3RhdGUuc2VsZWN0ZWRHcmFwaGljcy5sZW5ndGh9YH1cbiAgICAgICAgPC9CdXR0b24+XG4gICAgICAgIDxTZWxlY3RlZE51bWJlciBqaW11TWFwVmlldz17dGhpcy5wcm9wcy5qaW11TWFwVmlld30gb25TZWxlY3RlZEdyYXBoaWNzQ2hhbmdlZD17dGhpcy5oYW5kbGVTZWxlY3RlZEdyYXBoaWNzQ2hhbmdlZH0+PC9TZWxlY3RlZE51bWJlcj5cbiAgICAgIDwvUmVhY3QuRnJhZ21lbnQ+O1xuICAgIH1cbiAgfVxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFNQTtBQUFBO0FBR0E7QUFBQTtBQUZBO0FBNkJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBdENBO0FBQ0E7QUFDQTs7QUFDQTtBQUVBO0FBQ0E7QUFRQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQWtCQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFFQTtBQUVBO0FBRUE7QUFHQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUVBO0FBQ0E7QUFDQTtBQUFBOzs7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/selectstate/index.tsx\n");

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/selectstate/selected-number.tsx":
/*!************************************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/selectstate/selected-number.tsx ***!
  \************************************************************************************************/
/*! exports provided: SelectedNumber */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SelectedNumber\", function() { return SelectedNumber; });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jimu_core__WEBPACK_IMPORTED_MODULE_0__);\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\nvar _SelectedNumber = /** @class */ (function (_super) {\n    __extends(_SelectedNumber, _super);\n    function _SelectedNumber() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    _SelectedNumber.prototype.componentDidMount = function () {\n        this.computerSelectedGraphics();\n    };\n    _SelectedNumber.prototype.componentDidUpdate = function () {\n        this.computerSelectedGraphics();\n    };\n    _SelectedNumber.prototype.computerSelectedGraphics = function () {\n        if (this.props.onSelectedGraphicsChanged) {\n            var jimuLayerViews = this.props.jimuMapView.jimuLayerViews;\n            var jimuLayerViewIds = Object.keys(jimuLayerViews);\n            var selectedGraphics = [];\n            for (var i = 0; i < jimuLayerViewIds.length; i++) {\n                var jimuLayerView = jimuLayerViews[jimuLayerViewIds[i]];\n                var dsId = jimuLayerView.layerDataSourceId;\n                var ds = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"DataSourceManager\"].getInstance().getDataSource(dsId);\n                if (ds) {\n                    var selectedRecords = ds.getSelectedRecords();\n                    for (var j = 0; j < selectedRecords.length; j++) {\n                        var tempFeature = selectedRecords[j].feature.clone();\n                        selectedGraphics.push(tempFeature);\n                    }\n                }\n            }\n            this.props.onSelectedGraphicsChanged(selectedGraphics);\n        }\n    };\n    _SelectedNumber.prototype.render = function () {\n        return null;\n    };\n    return _SelectedNumber;\n}(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].PureComponent));\nvar mapStateToProps = function (state, ownProps) {\n    if (state.appStateInBuilder) {\n        var dataSourcesInfo = state.appStateInBuilder && state.appStateInBuilder.dataSourcesInfo;\n        var jimuMapViewsInfo = state.appStateInBuilder && state.appStateInBuilder.jimuMapViewsInfo;\n        return {\n            dataSourcesInfo: dataSourcesInfo,\n            viewInfos: jimuMapViewsInfo\n        };\n    }\n    else {\n        var dataSourcesInfo = state && state.dataSourcesInfo;\n        var jimuMapViewsInfo = state && state.jimuMapViewsInfo;\n        return {\n            dataSourcesInfo: dataSourcesInfo,\n            viewInfos: jimuMapViewsInfo\n        };\n    }\n};\nvar SelectedNumber = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"ReactRedux\"].connect(mapStateToProps)(_SelectedNumber);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvdG9vbHMvc2VsZWN0c3RhdGUvc2VsZWN0ZWQtbnVtYmVyLnRzeC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4dGVuc2lvbnMvd2lkZ2V0cy9hcmNnaXMvYXJjZ2lzLW1hcC9zcmMvcnVudGltZS90b29scy9zZWxlY3RzdGF0ZS9zZWxlY3RlZC1udW1iZXIudHN4P2I4YzQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtSZWFjdCwgUmVhY3RSZWR1eCwgSW1tdXRhYmxlT2JqZWN0LCBJTUppbXVNYXBWaWV3SW5mbywgSU1TdGF0ZSwgSU1EYXRhU291cmNlSW5mbywgRGF0YVNvdXJjZU1hbmFnZXJ9IGZyb20gJ2ppbXUtY29yZSc7XG5pbXBvcnQge0ppbXVNYXBWaWV3fSBmcm9tICdqaW11LWFyY2dpcyc7XG5cbmludGVyZmFjZSBQcm9wc3tcbiAgamltdU1hcFZpZXc6IEppbXVNYXBWaWV3O1xuXG4gIG9uU2VsZWN0ZWRHcmFwaGljc0NoYW5nZWQ/OiAoc2VsZWN0ZWRHcmFwaGljczogX19lc3JpLkdyYXBoaWNbXSkgPT4gdm9pZDtcbn1cblxuaW50ZXJmYWNlIFN0YXRlc3t9XG5cbmNsYXNzIF9TZWxlY3RlZE51bWJlciBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQ8UHJvcHMgJiBFeHRyYVByb3BzLCBTdGF0ZXM+e1xuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHRoaXMuY29tcHV0ZXJTZWxlY3RlZEdyYXBoaWNzKCk7XG4gIH1cblxuICBjb21wb25lbnREaWRVcGRhdGUoKSB7XG4gICAgdGhpcy5jb21wdXRlclNlbGVjdGVkR3JhcGhpY3MoKTtcbiAgfVxuXG4gIGNvbXB1dGVyU2VsZWN0ZWRHcmFwaGljcygpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5vblNlbGVjdGVkR3JhcGhpY3NDaGFuZ2VkKSB7XG4gICAgICBjb25zdCBqaW11TGF5ZXJWaWV3cyA9IHRoaXMucHJvcHMuamltdU1hcFZpZXcuamltdUxheWVyVmlld3M7XG4gICAgICBjb25zdCBqaW11TGF5ZXJWaWV3SWRzID0gT2JqZWN0LmtleXMoamltdUxheWVyVmlld3MpO1xuICAgICAgY29uc3Qgc2VsZWN0ZWRHcmFwaGljcyA9IFtdO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBqaW11TGF5ZXJWaWV3SWRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGppbXVMYXllclZpZXcgPSBqaW11TGF5ZXJWaWV3c1tqaW11TGF5ZXJWaWV3SWRzW2ldXTtcbiAgICAgICAgY29uc3QgZHNJZCA9IGppbXVMYXllclZpZXcubGF5ZXJEYXRhU291cmNlSWQ7XG4gICAgICAgIGNvbnN0IGRzID0gRGF0YVNvdXJjZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5nZXREYXRhU291cmNlKGRzSWQpO1xuICAgICAgICBpZiAoZHMpIHtcbiAgICAgICAgICBjb25zdCBzZWxlY3RlZFJlY29yZHMgPSBkcy5nZXRTZWxlY3RlZFJlY29yZHMoKTtcbiAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHNlbGVjdGVkUmVjb3Jkcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgY29uc3QgdGVtcEZlYXR1cmUgPSAoc2VsZWN0ZWRSZWNvcmRzW2pdIGFzIGFueSkuZmVhdHVyZS5jbG9uZSgpO1xuICAgICAgICAgICAgc2VsZWN0ZWRHcmFwaGljcy5wdXNoKHRlbXBGZWF0dXJlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRoaXMucHJvcHMub25TZWxlY3RlZEdyYXBoaWNzQ2hhbmdlZChzZWxlY3RlZEdyYXBoaWNzKTtcbiAgICB9XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuY29uc3QgbWFwU3RhdGVUb1Byb3BzID0gKHN0YXRlOiBJTVN0YXRlLCBvd25Qcm9wczogUHJvcHMpOiBFeHRyYVByb3BzID0+IHtcbiAgaWYgKHN0YXRlLmFwcFN0YXRlSW5CdWlsZGVyKSB7XG4gICAgY29uc3QgZGF0YVNvdXJjZXNJbmZvID0gc3RhdGUuYXBwU3RhdGVJbkJ1aWxkZXIgJiYgc3RhdGUuYXBwU3RhdGVJbkJ1aWxkZXIuZGF0YVNvdXJjZXNJbmZvO1xuICAgIGNvbnN0IGppbXVNYXBWaWV3c0luZm8gPSBzdGF0ZS5hcHBTdGF0ZUluQnVpbGRlciAmJiBzdGF0ZS5hcHBTdGF0ZUluQnVpbGRlci5qaW11TWFwVmlld3NJbmZvO1xuICAgIHJldHVybiB7XG4gICAgICBkYXRhU291cmNlc0luZm86IGRhdGFTb3VyY2VzSW5mbyxcbiAgICAgIHZpZXdJbmZvczogamltdU1hcFZpZXdzSW5mb1xuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgZGF0YVNvdXJjZXNJbmZvID0gc3RhdGUgJiYgc3RhdGUuZGF0YVNvdXJjZXNJbmZvO1xuICAgIGNvbnN0IGppbXVNYXBWaWV3c0luZm8gPSBzdGF0ZSAmJiBzdGF0ZS5qaW11TWFwVmlld3NJbmZvO1xuICAgIHJldHVybiB7XG4gICAgICBkYXRhU291cmNlc0luZm86IGRhdGFTb3VyY2VzSW5mbyxcbiAgICAgIHZpZXdJbmZvczogamltdU1hcFZpZXdzSW5mb1xuICAgIH07XG4gIH1cbn1cblxuaW50ZXJmYWNlIEV4dHJhUHJvcHMge1xuICBkYXRhU291cmNlc0luZm8/OiBJbW11dGFibGVPYmplY3Q8eyBbZHNJZDogc3RyaW5nXTogSU1EYXRhU291cmNlSW5mbyB9PjtcbiAgdmlld0luZm9zPzogSW1tdXRhYmxlT2JqZWN0PHtbamltdU1hcFZpZXdJZDogc3RyaW5nXTogSU1KaW11TWFwVmlld0luZm99Pjtcbn1cblxuZXhwb3J0IGNvbnN0IFNlbGVjdGVkTnVtYmVyID0gUmVhY3RSZWR1eC5jb25uZWN0PEV4dHJhUHJvcHMsIHVua25vd24sIFByb3BzPihtYXBTdGF0ZVRvUHJvcHMpKF9TZWxlY3RlZE51bWJlcik7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBV0E7QUFBQTtBQUFBOztBQWtDQTtBQWhDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU9BOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/selectstate/selected-number.tsx\n");

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/zoom.tsx":
/*!*************************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/zoom.tsx ***!
  \*************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jimu_core__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../layout/base/base-tool */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/base/base-tool.tsx\");\n/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jimu-arcgis */ \"jimu-arcgis\");\n/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-ui */ \"jimu-ui\");\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(jimu_ui__WEBPACK_IMPORTED_MODULE_3__);\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\nvar Zoom = /** @class */ (function (_super) {\n    __extends(Zoom, _super);\n    function Zoom(props) {\n        var _this = _super.call(this, props) || this;\n        _this.toolName = 'Zoom';\n        return _this;\n    }\n    Zoom.prototype.getTitle = function () {\n        return this.props.intl.formatMessage({ id: 'ZoomLabel', defaultMessage: jimu_ui__WEBPACK_IMPORTED_MODULE_3__[\"defaultMessages\"]['ZoomLabel'] });\n    };\n    Zoom.prototype.getIcon = function () {\n        return null;\n    };\n    Zoom.prototype.getExpandPanel = function () {\n        return jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].createElement(ZoomInner, { jimuMapView: this.props.jimuMapView });\n    };\n    return Zoom;\n}(_layout_base_base_tool__WEBPACK_IMPORTED_MODULE_1__[\"BaseTool\"]));\n/* harmony default export */ __webpack_exports__[\"default\"] = (Zoom);\nvar ZoomInner = /** @class */ (function (_super) {\n    __extends(ZoomInner, _super);\n    function ZoomInner(props) {\n        var _this = _super.call(this, props) || this;\n        _this.Zoom = null;\n        _this.state = {\n            apiLoaded: false\n        };\n        return _this;\n    }\n    ZoomInner.prototype.componentDidMount = function () {\n        var _this = this;\n        if (!this.state.apiLoaded) {\n            Object(jimu_arcgis__WEBPACK_IMPORTED_MODULE_2__[\"loadArcGISJSAPIModules\"])(['esri/widgets/Zoom']).then(function (modules) {\n                _this.Zoom = modules[0];\n                _this.setState({\n                    apiLoaded: true\n                });\n            });\n        }\n    };\n    ZoomInner.prototype.componentDidUpdate = function () {\n        if (this.state.apiLoaded && this.container) {\n            if (this.ZoomBtn) {\n                this.container.innerHTML = '';\n            }\n            this.ZoomBtn = new this.Zoom({\n                container: this.container,\n                view: this.props.jimuMapView.view\n            });\n        }\n    };\n    ZoomInner.prototype.componentWillUnmount = function () {\n        if (this.ZoomBtn) {\n            this.ZoomBtn.destroy();\n            this.ZoomBtn = null;\n        }\n    };\n    ZoomInner.prototype.render = function () {\n        var _this = this;\n        return jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].createElement(\"div\", { ref: function (ref) { _this.container = ref; } });\n    };\n    return ZoomInner;\n}(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].PureComponent));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvdG9vbHMvem9vbS50c3guanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvdG9vbHMvem9vbS50c3g/YmFhZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1JlYWN0fSBmcm9tICdqaW11LWNvcmUnO1xuaW1wb3J0IHtCYXNlVG9vbCwgQmFzZVRvb2xQcm9wcywgSWNvblR5cGV9IGZyb20gJy4uL2xheW91dC9iYXNlL2Jhc2UtdG9vbCc7XG5pbXBvcnQge2xvYWRBcmNHSVNKU0FQSU1vZHVsZXMsIEppbXVNYXBWaWV3fSBmcm9tICdqaW11LWFyY2dpcyc7XG5pbXBvcnQge2RlZmF1bHRNZXNzYWdlc30gZnJvbSAnamltdS11aSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFpvb20gZXh0ZW5kcyBCYXNlVG9vbDxCYXNlVG9vbFByb3BzLCB1bmtub3duPiB7XG4gIHRvb2xOYW1lID0gJ1pvb20nO1xuXG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICB9XG5cbiAgZ2V0VGl0bGUoKSB7XG4gICAgcmV0dXJuIHRoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKHtpZDogJ1pvb21MYWJlbCcsIGRlZmF1bHRNZXNzYWdlOiBkZWZhdWx0TWVzc2FnZXNbJ1pvb21MYWJlbCddfSk7XG4gIH1cblxuICBnZXRJY29uKCk6IEljb25UeXBlIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGdldEV4cGFuZFBhbmVsKCk6IEpTWC5FbGVtZW50IHtcbiAgICByZXR1cm4gPFpvb21Jbm5lciBqaW11TWFwVmlldz17dGhpcy5wcm9wcy5qaW11TWFwVmlld30+PC9ab29tSW5uZXI+O1xuICB9XG59XG5cbmludGVyZmFjZSBab29tSW5uZXJQcm9wcyB7XG4gIGppbXVNYXBWaWV3OiBKaW11TWFwVmlldztcbn1cblxuaW50ZXJmYWNlIFpvb21Jbm5lclN0YXRlIHtcbiAgYXBpTG9hZGVkOiBib29sZWFuO1xufVxuXG5cbmNsYXNzIFpvb21Jbm5lciBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQ8Wm9vbUlubmVyUHJvcHMsIFpvb21Jbm5lclN0YXRlPiB7XG4gIFpvb206IHR5cGVvZiBfX2VzcmkuWm9vbSA9IG51bGw7XG4gIFpvb21CdG46IF9fZXNyaS5ab29tO1xuICBjb250YWluZXI6IEhUTUxFbGVtZW50O1xuXG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGFwaUxvYWRlZDogZmFsc2VcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBpZiAoIXRoaXMuc3RhdGUuYXBpTG9hZGVkKSB7XG4gICAgICBsb2FkQXJjR0lTSlNBUElNb2R1bGVzKFsnZXNyaS93aWRnZXRzL1pvb20nXSkudGhlbihtb2R1bGVzID0+IHtcbiAgICAgICAgW3RoaXMuWm9vbV0gPSBtb2R1bGVzO1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBhcGlMb2FkZWQ6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICB9KVxuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudERpZFVwZGF0ZSgpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5hcGlMb2FkZWQgJiYgdGhpcy5jb250YWluZXIpIHtcbiAgICAgIGlmICh0aGlzLlpvb21CdG4pIHtcbiAgICAgICAgdGhpcy5jb250YWluZXIuaW5uZXJIVE1MID0gJyc7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuWm9vbUJ0biA9IG5ldyB0aGlzLlpvb20oe1xuICAgICAgICBjb250YWluZXI6IHRoaXMuY29udGFpbmVyLFxuICAgICAgICB2aWV3OiB0aGlzLnByb3BzLmppbXVNYXBWaWV3LnZpZXdcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIGlmICh0aGlzLlpvb21CdG4pIHtcbiAgICAgIHRoaXMuWm9vbUJ0bi5kZXN0cm95KCk7XG4gICAgICB0aGlzLlpvb21CdG4gPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gPGRpdiByZWY9e3JlZiA9PiB7dGhpcy5jb250YWluZXIgPSByZWY7IH19PjwvZGl2PjtcbiAgfVxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBR0E7QUFBQTtBQUZBOztBQUlBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTs7QUFXQTtBQUFBO0FBS0E7QUFBQTtBQUpBO0FBT0E7QUFDQTtBQUNBOztBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./extensions/widgets/arcgis/arcgis-map/src/runtime/tools/zoom.tsx\n");

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/utils.ts":
/*!*******************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/utils.ts ***!
  \*******************************************************************/
/*! exports provided: controlUIWidget, createNewFeaturelayer, updateFeaturelayer, selectFeature, mapPanto, filterFeaturesByQuery, flashFeaturesByQuery, handleFeature, projectGeometries, processZoomToFeatures, checkIsLive, getMapBaseRestoreData, restoreMapBase */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"controlUIWidget\", function() { return controlUIWidget; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"createNewFeaturelayer\", function() { return createNewFeaturelayer; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"updateFeaturelayer\", function() { return updateFeaturelayer; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"selectFeature\", function() { return selectFeature; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"mapPanto\", function() { return mapPanto; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"filterFeaturesByQuery\", function() { return filterFeaturesByQuery; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"flashFeaturesByQuery\", function() { return flashFeaturesByQuery; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"handleFeature\", function() { return handleFeature; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"projectGeometries\", function() { return projectGeometries; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"processZoomToFeatures\", function() { return processZoomToFeatures; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"checkIsLive\", function() { return checkIsLive; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getMapBaseRestoreData\", function() { return getMapBaseRestoreData; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"restoreMapBase\", function() { return restoreMapBase; });\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jimu_core__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-arcgis */ \"jimu-arcgis\");\n/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__);\n/* eslint-disable prefer-const */\n\n\nfunction controlUIWidget(mapBaseView, isOpen, uiWidget, position, widgetName) {\n    var ui = mapBaseView.ui;\n    if (!uiWidget) {\n        return;\n    }\n    if (isOpen) {\n        ui.add(uiWidget, position);\n        if (widgetName && ui.exbMapTools.indexOf(widgetName) === -1) {\n            ui.exbMapTools.push(widgetName);\n        }\n    }\n    else {\n        ui.remove(uiWidget);\n    }\n}\nfunction createNewFeaturelayer(mapBaseView, newFeatureSetValue) {\n    var newLayerPromises = [];\n    newFeatureSetValue && Object.keys(newFeatureSetValue).forEach(function (layerId) {\n        var layer = mapBaseView.map.layers.find(function (layer) { return layer.id === layerId; });\n        if (layer) {\n            console.warn('the feature layer is already created');\n            return;\n        }\n        newLayerPromises.push(addFeatureSetToMap(mapBaseView, newFeatureSetValue[layerId], layerId));\n    });\n    if (newLayerPromises.length === 0) {\n        return null;\n    }\n    else {\n        return Promise.all(newLayerPromises);\n    }\n}\nfunction updateFeaturelayer(mapBaseView, changedFeatureSetValue) {\n    var updatePromises = [];\n    changedFeatureSetValue && Object.keys(changedFeatureSetValue).forEach(function (layerId) {\n        var layer = mapBaseView.map.layers.find(function (layer) { return layer.id === layerId; });\n        if (layer) {\n            mapBaseView.map.remove(layer);\n            updatePromises.push(addFeatureSetToMap(mapBaseView, changedFeatureSetValue[layerId], layerId));\n        }\n    });\n    if (updatePromises.length === 0) {\n        return null;\n    }\n    else {\n        return Promise.all(updatePromises);\n    }\n}\nfunction addFeatureSetToMap(mapBaseView, featureSet, layerId) {\n    return new Promise(function (resolve, reject) {\n        return Object(jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__[\"loadArcGISJSAPIModules\"])([\n            'esri/layers/FeatureLayer'\n        ]).then(function (modules) {\n            if (featureSet.features.length < 1) {\n                return resolve();\n            }\n            else {\n                //let FeatureSet: typeof  __esri.FeatureSet;\n                var FeatureLayer = void 0;\n                // eslint-disable-next-line\n                FeatureLayer = modules[0];\n                var layerFromFeatureSet = featureSet.features[0].layer;\n                var fieldsInFeaturelayer = [];\n                var fieldMap_1 = {};\n                for (var i = 0; i < layerFromFeatureSet.fields.length; i++) {\n                    var fieldsItem = getReasonableField(layerFromFeatureSet.fields[i]);\n                    fieldMap_1[layerFromFeatureSet.fields[i].name] = fieldsItem.name;\n                    fieldsInFeaturelayer.push(fieldsItem);\n                }\n                var fieldsInPopupTemplate = [];\n                for (var key in featureSet.features[0].attributes) {\n                    if (fieldMap_1[key]) {\n                        var fieldsItem = {\n                            fieldName: fieldMap_1[key],\n                            label: key\n                        };\n                        fieldsInPopupTemplate.push(fieldsItem);\n                    }\n                }\n                var sourceFeatures_1 = [];\n                featureSet.features.forEach(function (feature, index) {\n                    var tempFeature = feature;\n                    if (tempFeature.attributes) {\n                        for (var key in tempFeature.attributes) {\n                            tempFeature.attributes[fieldMap_1[key]] = tempFeature.attributes[key];\n                        }\n                        tempFeature.attributes['exbfid'] = index;\n                    }\n                    else {\n                        tempFeature.attributes = {\n                            exbfid: index\n                        };\n                    }\n                    sourceFeatures_1.push(tempFeature);\n                });\n                var layer = new FeatureLayer({\n                    id: layerId,\n                    title: layerFromFeatureSet.title,\n                    source: sourceFeatures_1,\n                    fields: fieldsInFeaturelayer,\n                    outFields: ['*'],\n                    objectIdField: 'exbfid',\n                    renderer: layerFromFeatureSet.renderer,\n                    popupEnabled: true,\n                    popupTemplate: {\n                        title: 'information',\n                        content: [{\n                                type: 'fields',\n                                fieldInfos: fieldsInPopupTemplate\n                            }]\n                    }\n                });\n                mapBaseView.map.add(layer);\n                layer.on('layerview-create', function (event) {\n                    return resolve();\n                });\n            }\n        });\n    });\n}\nfunction getReasonableField(field) {\n    // the function is supported to normalize the field.name\n    var fieldName = field.name;\n    return {\n        name: fieldName.replace(/\\./g, '_').replace(/\\(/g, '_').replace(/\\)/g, '_'),\n        alias: field.alias,\n        type: field.type\n    };\n}\nfunction selectFeature(mapBaseView, target, layerId) {\n    // In this function, we assume that features come from the same layer\n    var featureLayerId = layerId;\n    var featureLayerView = null;\n    var tempFeature = null;\n    // if layerId doesn't exist, we get layerId by feature\n    if (!featureLayerId) {\n        if (target instanceof Array) {\n            tempFeature = target[0];\n        }\n        else {\n            tempFeature = target;\n        }\n        if (tempFeature) {\n            featureLayerId = tempFeature.layer && tempFeature.layer.id;\n        }\n    }\n    if (featureLayerId) {\n        var layerViews = mapBaseView.allLayerViews;\n        for (var i = 0; i < layerViews.length; i++) {\n            if (layerViews.getItemAt(i).layer.id === featureLayerId) {\n                featureLayerView = layerViews.getItemAt(i);\n            }\n        }\n        if (featureLayerView) {\n            return {\n                layerId: featureLayerId,\n                handle: featureLayerView.highlight(target)\n            };\n        }\n        else {\n            return null;\n        }\n    }\n}\nfunction mapPanto(mapBaseView, target) {\n    var panToTarget = target;\n    var tempBaseMapView = mapBaseView;\n    if (panToTarget instanceof Array) {\n        if (panToTarget.length === 0)\n            return Promise.resolve();\n        if (panToTarget[0].geometry) {\n            var geometryArr = [];\n            for (var i = 0; i < panToTarget.length; i++) {\n                geometryArr.push(panToTarget[i].geometry);\n            }\n            return getGeometriesExtent(geometryArr).then(function (extent) {\n                return tempBaseMapView.goTo(extent.center);\n            });\n        }\n        else {\n            return getGeometriesExtent(panToTarget).then(function (extent) {\n                return tempBaseMapView.goTo(extent.center);\n            });\n        }\n    }\n    else {\n        if (panToTarget.geometry) {\n            var getmetry = panToTarget.geometry;\n            return tempBaseMapView.goTo(getCenterPoint(getmetry));\n        }\n        else {\n            return tempBaseMapView.goTo(getCenterPoint(panToTarget));\n        }\n    }\n}\nfunction getGeometriesExtent(geometries) {\n    return Object(jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__[\"loadArcGISJSAPIModules\"])([\n        'esri/geometry/Extent'\n    ]).then(function (modules) {\n        // eslint-disable-next-line\n        var Extent;\n        Extent = modules[0];\n        if (!geometries || !geometries.length) {\n            return Promise.resolve(null);\n        }\n        var fullExtent = null;\n        var index;\n        var numGeometries = geometries.length;\n        for (index = 0; index < numGeometries; index++) {\n            var geometry = geometries[index];\n            if (!geometry) {\n                continue;\n            }\n            var extent = geometry.extent;\n            if (!extent && geometry.type === 'point') {\n                var pointGeometry = geometry;\n                if (pointGeometry.x && pointGeometry.y) {\n                    extent = new Extent({\n                        xmax: pointGeometry.x,\n                        xmin: pointGeometry.x,\n                        ymax: pointGeometry.y,\n                        ymin: pointGeometry.y,\n                        zmax: pointGeometry.z,\n                        zmin: pointGeometry.z,\n                        spatialReference: pointGeometry.spatialReference\n                    });\n                }\n            }\n            if (!extent) {\n                continue;\n            }\n            if (fullExtent) {\n                fullExtent = fullExtent.union(extent);\n            }\n            else {\n                fullExtent = extent;\n            }\n        }\n        if (fullExtent.width < 0 && fullExtent.height < 0) {\n            return Promise.resolve(null);\n        }\n        return Promise.resolve(fullExtent);\n    });\n}\nfunction filterFeaturesByQuery(jimuMapView, layerDataSourceId, querySQL) {\n    if (layerDataSourceId) {\n        var jimuLayerViews = jimuMapView.jimuLayerViews;\n        var jimuLayerViewIds = Object.keys(jimuLayerViews);\n        for (var i = 0; i < jimuLayerViewIds.length; i++) {\n            var tempJimuLayerView = jimuLayerViews[jimuLayerViewIds[i]];\n            if (tempJimuLayerView && tempJimuLayerView.layer && tempJimuLayerView.layerDataSourceId === layerDataSourceId\n                && tempJimuLayerView.type === jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__[\"LayerTypes\"].FeatureLayer) {\n                tempJimuLayerView.setLocalDefinitionExpression(querySQL);\n            }\n        }\n    }\n}\nfunction flashFeaturesByQuery(jimuMapView, layerDataSourceId, querySQL) {\n    if (layerDataSourceId) {\n        var jimuLayerViews = jimuMapView.jimuLayerViews;\n        var jimuLayerViewIds = Object.keys(jimuLayerViews);\n        var _loop_1 = function (i) {\n            var tempJimuLayerView = jimuLayerViews[jimuLayerViewIds[i]];\n            if (tempJimuLayerView && tempJimuLayerView.layer && tempJimuLayerView.layerDataSourceId === layerDataSourceId\n                && tempJimuLayerView.type === jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__[\"LayerTypes\"].FeatureLayer) {\n                if (tempJimuLayerView.view) {\n                    var featureLayerView_1 = tempJimuLayerView.view;\n                    if (featureLayerView_1) {\n                        Object(jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__[\"loadArcGISJSAPIModules\"])([\n                            'esri/tasks/support/Query',\n                            'esri/Graphic'\n                        ]).then(function (modules) {\n                            // eslint-disable-next-line\n                            var Query;\n                            // eslint-disable-next-line\n                            var Graphic;\n                            Query = modules[0], Graphic = modules[1];\n                            var query = new Query();\n                            query.where = querySQL;\n                            query.outFields = ['*'];\n                            query.returnGeometry = true;\n                            featureLayerView_1.layer.queryFeatures(query).then(function (featureSet) {\n                                if (featureSet && featureSet.features && featureSet.features.length > 0) {\n                                    var symbol = getFlashSymbol(featureLayerView_1.layer.geometryType);\n                                    startFlash(jimuMapView.view, featureSet.features, symbol, Graphic);\n                                }\n                            });\n                        });\n                    }\n                    else {\n                        return { value: null };\n                    }\n                }\n                else {\n                    Object(jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__[\"loadArcGISJSAPIModules\"])([\n                        'esri/tasks/support/Query',\n                        'esri/layers/FeatureLayer',\n                        'esri/Graphic'\n                    ]).then(function (modules) {\n                        // eslint-disable-next-line\n                        var Query;\n                        // eslint-disable-next-line\n                        var FeatureLayer;\n                        // eslint-disable-next-line\n                        var Graphic;\n                        Query = modules[0], FeatureLayer = modules[1], Graphic = modules[2];\n                        var query = new Query();\n                        query.where = querySQL;\n                        query.outFields = ['*'];\n                        query.returnGeometry = true;\n                        var tempFeatureLayer = new FeatureLayer({\n                            url: jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"dataSourceUtils\"].getUrlByLayer(tempJimuLayerView.layer)\n                        });\n                        tempFeatureLayer.load().then(function () {\n                            tempFeatureLayer.queryFeatures(query).then(function (featureSet) {\n                                if (featureSet && featureSet.features && featureSet.features.length > 0) {\n                                    var symbol = getFlashSymbol(featureSet.features[0].geometry.type);\n                                    startFlash(jimuMapView.view, featureSet.features, symbol, Graphic);\n                                }\n                            });\n                        });\n                    });\n                }\n            }\n        };\n        for (var i = 0; i < jimuLayerViewIds.length; i++) {\n            var state_1 = _loop_1(i);\n            if (typeof state_1 === \"object\")\n                return state_1.value;\n        }\n    }\n}\nfunction startFlash(mapBaseView, features, symbol, Graphic) {\n    var flashFeatures = function (features, maxFlashCount) {\n        var graphics = [];\n        var flashCount = 0;\n        for (var i = 0; i < features.length; i++) {\n            var tempGraphic = new Graphic({\n                geometry: features[i].geometry,\n                symbol: symbol,\n                attributes: features[i].attributes\n            });\n            graphics.push(tempGraphic);\n        }\n        var singleFlash = function () {\n            mapBaseView.graphics.addMany(graphics);\n            setTimeout(function () {\n                mapBaseView.graphics.removeMany(graphics);\n                flashCount = flashCount + 1;\n                if (flashCount < maxFlashCount) {\n                    setTimeout(function () {\n                        singleFlash();\n                    }, 500);\n                }\n            }, 500);\n        };\n        singleFlash();\n    };\n    flashFeatures(features, 3);\n}\nfunction getFlashSymbol(geometryType) {\n    if (['point', 'multipoint'].indexOf(geometryType) > -1) {\n        return {\n            type: 'simple-marker',\n            style: 'circle',\n            color: [255, 255, 0, 0.8],\n            size: '16px',\n            outline: {\n                color: [255, 255, 0, 0.8],\n                width: 3\n            }\n        };\n    }\n    else if (['polyline'].indexOf(geometryType) > -1) {\n        return {\n            type: 'simple-line',\n            color: [255, 255, 0, 0.8],\n            width: 3,\n            style: 'solid'\n        };\n    }\n    else if (['polygon', 'extent'].indexOf(geometryType) > -1) {\n        return {\n            type: 'simple-fill',\n            color: [255, 255, 0, 0.5],\n            style: 'solid',\n            outline: {\n                color: [255, 255, 0, 0.8],\n                width: 3\n            }\n        };\n    }\n    else if (['mesh'].indexOf(geometryType) > -1) {\n        return {\n            type: 'mesh-3d',\n            symbolLayers: [{\n                    type: 'fill',\n                    material: { color: [255, 255, 0, 0.8] }\n                }]\n        };\n    }\n    else {\n        return null;\n    }\n}\nfunction getCenterPoint(geometry) {\n    //point | multipoint | polyline | polygon | extent | mesh\n    switch (geometry.type) {\n        case 'point':\n            return geometry;\n        case 'extent':\n            return geometry.center;\n        case 'polygon':\n            return geometry.centroid;\n        case 'polyline':\n            return geometry.extent.center;\n        default:\n            return geometry && geometry.extent ? geometry.extent.center : undefined;\n        //todo\n    }\n}\nfunction handleFeature(feature, Graphic) {\n    var tempFeature = null;\n    if (feature.clone) {\n        tempFeature = feature.clone();\n    }\n    else {\n        tempFeature = Graphic.fromJSON(Object.assign({}, feature));\n        tempFeature.attributes = Object.assign({}, feature.attributes);\n    }\n    return tempFeature;\n}\nfunction projectGeometries(geometries, spatialReference) {\n    if (!geometries || geometries.length === 0 || !geometries[0]\n        || spatialReference.wkid === geometries[0].spatialReference.wkid || (spatialReference.equals(geometries[0].spatialReference))) {\n        return Promise.resolve(geometries);\n    }\n    else if (spatialReference.isWebMercator && geometries[0].spatialReference.isWGS84) {\n        // In js api 4.x, the view can handle WebMercator and WGS84 spatialReference auto\n        return Promise.resolve(geometries);\n    }\n    else if (spatialReference.isWGS84 && geometries[0].spatialReference.isWebMercator) {\n        // In js api 4.x, the view can handle WebMercator and WGS84 spatialReference auto\n        return Promise.resolve(geometries);\n    }\n    else {\n        return jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__[\"geometryUtils\"].projectToSpatialReference(geometries, spatialReference);\n    }\n}\nfunction processZoomToFeatures(mapBaseView, layer, features) {\n    if (mapBaseView && mapBaseView.type === '3d' && layer && layer.queryFeatures && features) {\n        return Object(jimu_arcgis__WEBPACK_IMPORTED_MODULE_1__[\"loadArcGISJSAPIModules\"])([\n            'esri/tasks/support/Query'\n        ]).then(function (modules) {\n            var Query = modules[0];\n            var query = new Query();\n            query.returnGeometry = true;\n            query.outFields = ['*'];\n            query.objectIds = features.map(function (feature) { return feature.attributes[layer.objectIdField]; });\n            return layer.queryFeatures(query).then(function (result) {\n                if (result && result.features && result.features.length === features.length) {\n                    return Promise.resolve(result.features);\n                }\n                else {\n                    return Promise.resolve(features);\n                }\n            }, function () {\n                return Promise.resolve(features);\n            });\n        });\n    }\n    else {\n        return Promise.resolve(features);\n    }\n}\nfunction checkIsLive(appMode) {\n    if (window.jimuConfig.isInBuilder) {\n        if (appMode === jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"AppMode\"].Design) {\n            return false;\n        }\n        else {\n            return true;\n        }\n    }\n    else {\n        return true;\n    }\n}\nfunction getMapBaseRestoreData(mapInstance) {\n    return {\n        mapContainer: mapInstance.mapContainer,\n        state: mapInstance.state,\n        MapView: mapInstance.MapView,\n        SceneView: mapInstance.SceneView,\n        Extent: mapInstance.Extent,\n        Viewpoint: mapInstance.Viewpoint,\n        mapView: mapInstance.mapView,\n        sceneView: mapInstance.sceneView,\n        extentWatch: mapInstance.extentWatch,\n        fatalErrorWatch: mapInstance.fatalErrorWatch,\n        dsManager: mapInstance.dsManager,\n        highLightHandles: mapInstance.highLightHandles,\n        mapBaseViewEventHandles: mapInstance.mapBaseViewEventHandles,\n        Color: mapInstance.Color\n    };\n}\nfunction restoreMapBase(mapInstance, restoreData) {\n    mapInstance.mapContainer = restoreData.mapContainer;\n    mapInstance.state = restoreData.state;\n    mapInstance.MapView = restoreData.MapView;\n    mapInstance.SceneView = restoreData.SceneView;\n    mapInstance.Extent = restoreData.Extent;\n    mapInstance.Viewpoint = restoreData.Viewpoint;\n    mapInstance.mapView = restoreData.mapView;\n    mapInstance.sceneView = restoreData.sceneView;\n    mapInstance.extentWatch = restoreData.extentWatch;\n    mapInstance.fatalErrorWatch = restoreData.fatalErrorWatch;\n    mapInstance.dsManager = restoreData.dsManager;\n    mapInstance.highLightHandles = restoreData.highLightHandles;\n    mapInstance.mapBaseViewEventHandles = restoreData.mapBaseViewEventHandles;\n    mapInstance.Color = restoreData.Color;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvdXRpbHMudHMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvdXRpbHMudHM/ZmU0NCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQtZGlzYWJsZSBwcmVmZXItY29uc3QgKi9cbmltcG9ydCB7QXBwTW9kZSwgZGF0YVNvdXJjZVV0aWxzfSBmcm9tICdqaW11LWNvcmUnO1xuaW1wb3J0IE1hcEJhc2UsIHtIaWdoTGlnaHRIYW5kbGV9IGZyb20gJy4vY29tcG9uZW50cy9tYXBiYXNlJztcbmltcG9ydCB7IElGZWF0dXJlIH0gZnJvbSAnQGVzcmkvYXJjZ2lzLXJlc3QtdHlwZXMnO1xuaW1wb3J0IHsgZ2VvbWV0cnlVdGlscywgbG9hZEFyY0dJU0pTQVBJTW9kdWxlcywgSmltdU1hcFZpZXcsIExheWVyVHlwZXMsIEppbXVGZWF0dXJlTGF5ZXJWaWV3IH0gZnJvbSAnamltdS1hcmNnaXMnO1xuXG5leHBvcnQgZnVuY3Rpb24gY29udHJvbFVJV2lkZ2V0KG1hcEJhc2VWaWV3OiBfX2VzcmkuTWFwVmlldyB8IF9fZXNyaS5TY2VuZVZpZXcsIGlzT3BlbjogYm9vbGVhbiwgdWlXaWRnZXQ6IF9fZXNyaS5XaWRnZXQsIHBvc2l0aW9uPzogc3RyaW5nLCB3aWRnZXROYW1lPzogc3RyaW5nKSB7XG4gIGNvbnN0IHVpID0gbWFwQmFzZVZpZXcudWkgYXMgYW55O1xuICBpZiAoIXVpV2lkZ2V0KSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmIChpc09wZW4pIHtcbiAgICB1aS5hZGQodWlXaWRnZXQsIHBvc2l0aW9uKTtcbiAgICBpZiAod2lkZ2V0TmFtZSAmJiB1aS5leGJNYXBUb29scy5pbmRleE9mKHdpZGdldE5hbWUpID09PSAtMSkge1xuICAgICAgdWkuZXhiTWFwVG9vbHMucHVzaCh3aWRnZXROYW1lKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdWkucmVtb3ZlKHVpV2lkZ2V0KTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlTmV3RmVhdHVyZWxheWVyKG1hcEJhc2VWaWV3OiBfX2VzcmkuTWFwVmlldyB8IF9fZXNyaS5TY2VuZVZpZXcsIG5ld0ZlYXR1cmVTZXRWYWx1ZT86IHtbbGF5ZXJJRDogc3RyaW5nXTogX19lc3JpLkZlYXR1cmVTZXR9KTogUHJvbWlzZTxhbnk+IHtcbiAgY29uc3QgbmV3TGF5ZXJQcm9taXNlcyA9IFtdO1xuICBuZXdGZWF0dXJlU2V0VmFsdWUgJiYgT2JqZWN0LmtleXMobmV3RmVhdHVyZVNldFZhbHVlKS5mb3JFYWNoKGxheWVySWQgPT4ge1xuICAgIGNvbnN0IGxheWVyID0gbWFwQmFzZVZpZXcubWFwLmxheWVycy5maW5kKGxheWVyID0+IGxheWVyLmlkID09PSBsYXllcklkKTtcbiAgICBpZiAobGF5ZXIpIHtcbiAgICAgIGNvbnNvbGUud2FybigndGhlIGZlYXR1cmUgbGF5ZXIgaXMgYWxyZWFkeSBjcmVhdGVkJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIG5ld0xheWVyUHJvbWlzZXMucHVzaChhZGRGZWF0dXJlU2V0VG9NYXAobWFwQmFzZVZpZXcsIG5ld0ZlYXR1cmVTZXRWYWx1ZVtsYXllcklkXSwgbGF5ZXJJZCkpO1xuICB9KTtcblxuICBpZiAobmV3TGF5ZXJQcm9taXNlcy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gUHJvbWlzZS5hbGwobmV3TGF5ZXJQcm9taXNlcyk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZUZlYXR1cmVsYXllcihtYXBCYXNlVmlldzogX19lc3JpLk1hcFZpZXcgfCBfX2VzcmkuU2NlbmVWaWV3LCBjaGFuZ2VkRmVhdHVyZVNldFZhbHVlPzoge1tsYXllcklEOiBzdHJpbmddOiBfX2VzcmkuRmVhdHVyZVNldH0pOiBQcm9taXNlPGFueT4ge1xuICBjb25zdCB1cGRhdGVQcm9taXNlcyA9IFtdO1xuICBjaGFuZ2VkRmVhdHVyZVNldFZhbHVlICYmIE9iamVjdC5rZXlzKGNoYW5nZWRGZWF0dXJlU2V0VmFsdWUpLmZvckVhY2gobGF5ZXJJZCA9PiB7XG4gICAgY29uc3QgbGF5ZXIgPSBtYXBCYXNlVmlldy5tYXAubGF5ZXJzLmZpbmQobGF5ZXIgPT4gbGF5ZXIuaWQgPT09IGxheWVySWQpO1xuICAgIGlmIChsYXllcikge1xuICAgICAgbWFwQmFzZVZpZXcubWFwLnJlbW92ZShsYXllcik7XG4gICAgICB1cGRhdGVQcm9taXNlcy5wdXNoKGFkZEZlYXR1cmVTZXRUb01hcChtYXBCYXNlVmlldywgY2hhbmdlZEZlYXR1cmVTZXRWYWx1ZVtsYXllcklkXSwgbGF5ZXJJZCkpO1xuICAgIH1cbiAgfSk7XG5cbiAgaWYgKHVwZGF0ZVByb21pc2VzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBudWxsO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBQcm9taXNlLmFsbCh1cGRhdGVQcm9taXNlcyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gYWRkRmVhdHVyZVNldFRvTWFwKG1hcEJhc2VWaWV3OiBfX2VzcmkuTWFwVmlldyB8IF9fZXNyaS5TY2VuZVZpZXcsIGZlYXR1cmVTZXQ6IF9fZXNyaS5GZWF0dXJlU2V0LCBsYXllcklkOiBzdHJpbmcpOiBQcm9taXNlPGFueT4ge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIHJldHVybiBsb2FkQXJjR0lTSlNBUElNb2R1bGVzKFtcbiAgICAgICdlc3JpL2xheWVycy9GZWF0dXJlTGF5ZXInXG4gICAgXSkudGhlbihtb2R1bGVzID0+IHtcbiAgICAgIGlmIChmZWF0dXJlU2V0LmZlYXR1cmVzLmxlbmd0aCA8IDEpIHtcbiAgICAgICAgcmV0dXJuIHJlc29sdmUoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vbGV0IEZlYXR1cmVTZXQ6IHR5cGVvZiAgX19lc3JpLkZlYXR1cmVTZXQ7XG4gICAgICAgIGxldCBGZWF0dXJlTGF5ZXI6IHR5cGVvZiAgX19lc3JpLkZlYXR1cmVMYXllcjtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgICAgIFtGZWF0dXJlTGF5ZXJdID0gbW9kdWxlcztcblxuICAgICAgICBjb25zdCBsYXllckZyb21GZWF0dXJlU2V0ID0gZmVhdHVyZVNldC5mZWF0dXJlc1swXS5sYXllciBhcyBhbnk7XG4gICAgICAgIGNvbnN0IGZpZWxkc0luRmVhdHVyZWxheWVyID0gW107XG4gICAgICAgIGNvbnN0IGZpZWxkTWFwID0ge307XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsYXllckZyb21GZWF0dXJlU2V0LmZpZWxkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGNvbnN0IGZpZWxkc0l0ZW0gPSBnZXRSZWFzb25hYmxlRmllbGQobGF5ZXJGcm9tRmVhdHVyZVNldC5maWVsZHNbaV0pO1xuICAgICAgICAgIGZpZWxkTWFwW2xheWVyRnJvbUZlYXR1cmVTZXQuZmllbGRzW2ldLm5hbWVdID0gZmllbGRzSXRlbS5uYW1lO1xuICAgICAgICAgIGZpZWxkc0luRmVhdHVyZWxheWVyLnB1c2goZmllbGRzSXRlbSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBmaWVsZHNJblBvcHVwVGVtcGxhdGUgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gZmVhdHVyZVNldC5mZWF0dXJlc1swXS5hdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgaWYgKGZpZWxkTWFwW2tleV0pIHtcbiAgICAgICAgICAgIGNvbnN0IGZpZWxkc0l0ZW0gPSB7XG4gICAgICAgICAgICAgIGZpZWxkTmFtZTogZmllbGRNYXBba2V5XSxcbiAgICAgICAgICAgICAgbGFiZWw6IGtleVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmllbGRzSW5Qb3B1cFRlbXBsYXRlLnB1c2goZmllbGRzSXRlbSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc291cmNlRmVhdHVyZXMgPSBbXTtcbiAgICAgICAgZmVhdHVyZVNldC5mZWF0dXJlcy5mb3JFYWNoKChmZWF0dXJlLCBpbmRleCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHRlbXBGZWF0dXJlID0gZmVhdHVyZTtcbiAgICAgICAgICBpZiAodGVtcEZlYXR1cmUuYXR0cmlidXRlcykge1xuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gdGVtcEZlYXR1cmUuYXR0cmlidXRlcykge1xuICAgICAgICAgICAgICB0ZW1wRmVhdHVyZS5hdHRyaWJ1dGVzW2ZpZWxkTWFwW2tleV1dID0gdGVtcEZlYXR1cmUuYXR0cmlidXRlc1trZXldO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0ZW1wRmVhdHVyZS5hdHRyaWJ1dGVzWydleGJmaWQnXSA9IGluZGV4O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0ZW1wRmVhdHVyZS5hdHRyaWJ1dGVzID0ge1xuICAgICAgICAgICAgICBleGJmaWQ6IGluZGV4XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHNvdXJjZUZlYXR1cmVzLnB1c2godGVtcEZlYXR1cmUpO1xuICAgICAgICB9KVxuXG4gICAgICAgIGNvbnN0IGxheWVyID0gbmV3IEZlYXR1cmVMYXllcih7XG4gICAgICAgICAgaWQ6IGxheWVySWQsXG4gICAgICAgICAgdGl0bGU6IGxheWVyRnJvbUZlYXR1cmVTZXQudGl0bGUsXG4gICAgICAgICAgc291cmNlOiBzb3VyY2VGZWF0dXJlcyxcbiAgICAgICAgICBmaWVsZHM6IGZpZWxkc0luRmVhdHVyZWxheWVyLFxuICAgICAgICAgIG91dEZpZWxkczogWycqJ10sXG4gICAgICAgICAgb2JqZWN0SWRGaWVsZDogJ2V4YmZpZCcsXG4gICAgICAgICAgcmVuZGVyZXI6IGxheWVyRnJvbUZlYXR1cmVTZXQucmVuZGVyZXIsXG4gICAgICAgICAgcG9wdXBFbmFibGVkOiB0cnVlLFxuICAgICAgICAgIHBvcHVwVGVtcGxhdGU6IHtcbiAgICAgICAgICAgIHRpdGxlOiAnaW5mb3JtYXRpb24nLFxuICAgICAgICAgICAgY29udGVudDogW3tcbiAgICAgICAgICAgICAgdHlwZTogJ2ZpZWxkcycsXG4gICAgICAgICAgICAgIGZpZWxkSW5mb3M6IGZpZWxkc0luUG9wdXBUZW1wbGF0ZVxuICAgICAgICAgICAgfV1cbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIG1hcEJhc2VWaWV3Lm1hcC5hZGQobGF5ZXIpO1xuXG4gICAgICAgIGxheWVyLm9uKCdsYXllcnZpZXctY3JlYXRlJywgZXZlbnQgPT4ge1xuICAgICAgICAgIHJldHVybiByZXNvbHZlKCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pXG4gIH0pO1xufVxuXG5mdW5jdGlvbiBnZXRSZWFzb25hYmxlRmllbGQgKGZpZWxkOiBfX2VzcmkuRmllbGQpOiBfX2VzcmkuRmllbGQge1xuICAvLyB0aGUgZnVuY3Rpb24gaXMgc3VwcG9ydGVkIHRvIG5vcm1hbGl6ZSB0aGUgZmllbGQubmFtZVxuICBjb25zdCBmaWVsZE5hbWUgPSBmaWVsZC5uYW1lO1xuICByZXR1cm4ge1xuICAgIG5hbWU6IGZpZWxkTmFtZS5yZXBsYWNlKC9cXC4vZywgJ18nKS5yZXBsYWNlKC9cXCgvZywgJ18nKS5yZXBsYWNlKC9cXCkvZywgJ18nKSxcbiAgICBhbGlhczogZmllbGQuYWxpYXMsXG4gICAgdHlwZTogZmllbGQudHlwZVxuICB9IGFzIGFueTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNlbGVjdEZlYXR1cmUobWFwQmFzZVZpZXc6IF9fZXNyaS5NYXBWaWV3IHwgIF9fZXNyaS5TY2VuZVZpZXcsIHRhcmdldDogX19lc3JpLkdyYXBoaWMgfCBfX2VzcmkuR3JhcGhpY1tdIHwgSUZlYXR1cmUgfCBJRmVhdHVyZVtdLCBsYXllcklkPzogc3RyaW5nKTogSGlnaExpZ2h0SGFuZGxlIHtcbiAgLy8gSW4gdGhpcyBmdW5jdGlvbiwgd2UgYXNzdW1lIHRoYXQgZmVhdHVyZXMgY29tZSBmcm9tIHRoZSBzYW1lIGxheWVyXG4gIGxldCBmZWF0dXJlTGF5ZXJJZCA9IGxheWVySWQ7XG4gIGxldCBmZWF0dXJlTGF5ZXJWaWV3ID0gbnVsbDtcbiAgbGV0IHRlbXBGZWF0dXJlID0gbnVsbDtcblxuICAvLyBpZiBsYXllcklkIGRvZXNuJ3QgZXhpc3QsIHdlIGdldCBsYXllcklkIGJ5IGZlYXR1cmVcbiAgaWYgKCFmZWF0dXJlTGF5ZXJJZCkge1xuICAgIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgdGVtcEZlYXR1cmUgPSB0YXJnZXRbMF0gYXMgX19lc3JpLkdyYXBoaWM7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRlbXBGZWF0dXJlID0gdGFyZ2V0IGFzIF9fZXNyaS5HcmFwaGljO1xuICAgIH1cblxuICAgIGlmICh0ZW1wRmVhdHVyZSkge1xuICAgICAgZmVhdHVyZUxheWVySWQgPSB0ZW1wRmVhdHVyZS5sYXllciAmJiB0ZW1wRmVhdHVyZS5sYXllci5pZDtcbiAgICB9XG4gIH1cblxuICBpZiAoZmVhdHVyZUxheWVySWQpIHtcbiAgICBjb25zdCBsYXllclZpZXdzID0gbWFwQmFzZVZpZXcuYWxsTGF5ZXJWaWV3cztcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxheWVyVmlld3MubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChsYXllclZpZXdzLmdldEl0ZW1BdChpKS5sYXllci5pZCA9PT0gZmVhdHVyZUxheWVySWQpIHtcbiAgICAgICAgZmVhdHVyZUxheWVyVmlldyA9IGxheWVyVmlld3MuZ2V0SXRlbUF0KGkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChmZWF0dXJlTGF5ZXJWaWV3KSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBsYXllcklkOiBmZWF0dXJlTGF5ZXJJZCxcbiAgICAgICAgaGFuZGxlOiBmZWF0dXJlTGF5ZXJWaWV3LmhpZ2hsaWdodCh0YXJnZXQpfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1hcFBhbnRvKG1hcEJhc2VWaWV3OiBfX2VzcmkuTWFwVmlldyB8ICBfX2VzcmkuU2NlbmVWaWV3LCB0YXJnZXQ6IF9fZXNyaS5HZW9tZXRyeSB8IF9fZXNyaS5HZW9tZXRyeVtdIHxcbiAgX19lc3JpLkdyYXBoaWMgfCBfX2VzcmkuR3JhcGhpY1tdIHwgX19lc3JpLkV4dGVudCk6IFByb21pc2U8YW55PiB7XG4gIGNvbnN0IHBhblRvVGFyZ2V0ID0gdGFyZ2V0IGFzIGFueTtcbiAgY29uc3QgdGVtcEJhc2VNYXBWaWV3ID0gbWFwQmFzZVZpZXcgYXMgYW55O1xuICBpZiAocGFuVG9UYXJnZXQgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgIGlmIChwYW5Ub1RhcmdldC5sZW5ndGggPT09IDApIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcblxuICAgIGlmIChwYW5Ub1RhcmdldFswXS5nZW9tZXRyeSkge1xuICAgICAgY29uc3QgZ2VvbWV0cnlBcnI6IF9fZXNyaS5HZW9tZXRyeVtdICA9IFtdO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYW5Ub1RhcmdldC5sZW5ndGg7IGkrKykge1xuICAgICAgICBnZW9tZXRyeUFyci5wdXNoKHBhblRvVGFyZ2V0W2ldLmdlb21ldHJ5KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGdldEdlb21ldHJpZXNFeHRlbnQoZ2VvbWV0cnlBcnIpLnRoZW4oKGV4dGVudCkgPT4ge1xuICAgICAgICByZXR1cm4gdGVtcEJhc2VNYXBWaWV3LmdvVG8oZXh0ZW50LmNlbnRlcik7XG4gICAgICB9KVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZ2V0R2VvbWV0cmllc0V4dGVudChwYW5Ub1RhcmdldCkudGhlbigoZXh0ZW50KSA9PiB7XG4gICAgICAgIHJldHVybiB0ZW1wQmFzZU1hcFZpZXcuZ29UbyhleHRlbnQuY2VudGVyKTtcbiAgICAgIH0pXG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmIChwYW5Ub1RhcmdldC5nZW9tZXRyeSkge1xuICAgICAgY29uc3QgZ2V0bWV0cnkgPSBwYW5Ub1RhcmdldC5nZW9tZXRyeSBhcyBfX2VzcmkuR2VvbWV0cnk7XG4gICAgICByZXR1cm4gdGVtcEJhc2VNYXBWaWV3LmdvVG8oZ2V0Q2VudGVyUG9pbnQoZ2V0bWV0cnkpKTtcbiAgICB9ICBlbHNlIHtcbiAgICAgIHJldHVybiB0ZW1wQmFzZU1hcFZpZXcuZ29UbyhnZXRDZW50ZXJQb2ludChwYW5Ub1RhcmdldCkpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRHZW9tZXRyaWVzRXh0ZW50KGdlb21ldHJpZXM6IF9fZXNyaS5HZW9tZXRyeVtdKTogUHJvbWlzZTxfX2VzcmkuRXh0ZW50PiB7XG4gIHJldHVybiBsb2FkQXJjR0lTSlNBUElNb2R1bGVzKFtcbiAgICAnZXNyaS9nZW9tZXRyeS9FeHRlbnQnXG4gIF0pLnRoZW4obW9kdWxlcyA9PiB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgbGV0IEV4dGVudDogdHlwZW9mIF9fZXNyaS5FeHRlbnQ7XG4gICAgW0V4dGVudF0gPSBtb2R1bGVzO1xuXG4gICAgaWYgKCFnZW9tZXRyaWVzIHx8ICFnZW9tZXRyaWVzLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShudWxsKTtcbiAgICB9XG5cbiAgICBsZXQgZnVsbEV4dGVudDogX19lc3JpLkV4dGVudCA9IG51bGw7XG4gICAgbGV0IGluZGV4O1xuICAgIGNvbnN0IG51bUdlb21ldHJpZXMgPSBnZW9tZXRyaWVzLmxlbmd0aDtcblxuICAgIGZvciAoaW5kZXggPSAwOyBpbmRleCA8IG51bUdlb21ldHJpZXM7IGluZGV4KyspIHtcbiAgICAgIGNvbnN0IGdlb21ldHJ5ID0gZ2VvbWV0cmllc1tpbmRleF07XG4gICAgICBpZiAoIWdlb21ldHJ5KSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBsZXQgZXh0ZW50ID0gZ2VvbWV0cnkuZXh0ZW50O1xuXG4gICAgICBpZiAoIWV4dGVudCAmJiBnZW9tZXRyeS50eXBlID09PSAncG9pbnQnKSB7XG4gICAgICAgIGNvbnN0IHBvaW50R2VvbWV0cnkgPSBnZW9tZXRyeSBhcyBhbnk7XG5cbiAgICAgICAgaWYgKHBvaW50R2VvbWV0cnkueCAmJiBwb2ludEdlb21ldHJ5LnkpIHtcbiAgICAgICAgICBleHRlbnQgPSBuZXcgRXh0ZW50KHtcbiAgICAgICAgICAgIHhtYXg6IHBvaW50R2VvbWV0cnkueCxcbiAgICAgICAgICAgIHhtaW46IHBvaW50R2VvbWV0cnkueCxcbiAgICAgICAgICAgIHltYXg6IHBvaW50R2VvbWV0cnkueSxcbiAgICAgICAgICAgIHltaW46IHBvaW50R2VvbWV0cnkueSxcbiAgICAgICAgICAgIHptYXg6IHBvaW50R2VvbWV0cnkueixcbiAgICAgICAgICAgIHptaW46IHBvaW50R2VvbWV0cnkueixcbiAgICAgICAgICAgIHNwYXRpYWxSZWZlcmVuY2U6IHBvaW50R2VvbWV0cnkuc3BhdGlhbFJlZmVyZW5jZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICghZXh0ZW50KSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAoZnVsbEV4dGVudCkge1xuICAgICAgICBmdWxsRXh0ZW50ID0gZnVsbEV4dGVudC51bmlvbihleHRlbnQpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGZ1bGxFeHRlbnQgPSBleHRlbnQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGZ1bGxFeHRlbnQud2lkdGggPCAwICYmIGZ1bGxFeHRlbnQuaGVpZ2h0IDwgMCkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShudWxsKTtcbiAgICB9XG5cbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGZ1bGxFeHRlbnQpO1xuICB9KVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZmlsdGVyRmVhdHVyZXNCeVF1ZXJ5KGppbXVNYXBWaWV3OiBKaW11TWFwVmlldywgbGF5ZXJEYXRhU291cmNlSWQ6IHN0cmluZywgcXVlcnlTUUw6IHN0cmluZyk6IHZvaWQge1xuICBpZiAobGF5ZXJEYXRhU291cmNlSWQpIHtcbiAgICBjb25zdCBqaW11TGF5ZXJWaWV3cyA9IGppbXVNYXBWaWV3LmppbXVMYXllclZpZXdzO1xuICAgIGNvbnN0IGppbXVMYXllclZpZXdJZHMgPSBPYmplY3Qua2V5cyhqaW11TGF5ZXJWaWV3cyk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBqaW11TGF5ZXJWaWV3SWRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgdGVtcEppbXVMYXllclZpZXcgPSBqaW11TGF5ZXJWaWV3c1tqaW11TGF5ZXJWaWV3SWRzW2ldXTtcbiAgICAgIGlmICh0ZW1wSmltdUxheWVyVmlldyAmJiB0ZW1wSmltdUxheWVyVmlldy5sYXllciAmJiB0ZW1wSmltdUxheWVyVmlldy5sYXllckRhdGFTb3VyY2VJZCA9PT0gbGF5ZXJEYXRhU291cmNlSWRcbiAgICAgICAgJiYgdGVtcEppbXVMYXllclZpZXcudHlwZSA9PT0gTGF5ZXJUeXBlcy5GZWF0dXJlTGF5ZXIpIHtcbiAgICAgICAgKHRlbXBKaW11TGF5ZXJWaWV3IGFzIEppbXVGZWF0dXJlTGF5ZXJWaWV3KS5zZXRMb2NhbERlZmluaXRpb25FeHByZXNzaW9uKHF1ZXJ5U1FMKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZsYXNoRmVhdHVyZXNCeVF1ZXJ5KGppbXVNYXBWaWV3OiBKaW11TWFwVmlldywgbGF5ZXJEYXRhU291cmNlSWQ6IHN0cmluZywgcXVlcnlTUUw6IHN0cmluZyk6IHZvaWQge1xuICBpZiAobGF5ZXJEYXRhU291cmNlSWQpIHtcbiAgICBjb25zdCBqaW11TGF5ZXJWaWV3cyA9IGppbXVNYXBWaWV3LmppbXVMYXllclZpZXdzO1xuICAgIGNvbnN0IGppbXVMYXllclZpZXdJZHMgPSBPYmplY3Qua2V5cyhqaW11TGF5ZXJWaWV3cyk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBqaW11TGF5ZXJWaWV3SWRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgdGVtcEppbXVMYXllclZpZXcgPSBqaW11TGF5ZXJWaWV3c1tqaW11TGF5ZXJWaWV3SWRzW2ldXTtcbiAgICAgIGlmICh0ZW1wSmltdUxheWVyVmlldyAmJiB0ZW1wSmltdUxheWVyVmlldy5sYXllciAmJiB0ZW1wSmltdUxheWVyVmlldy5sYXllckRhdGFTb3VyY2VJZCA9PT0gbGF5ZXJEYXRhU291cmNlSWRcbiAgICAgICAgJiYgdGVtcEppbXVMYXllclZpZXcudHlwZSA9PT0gTGF5ZXJUeXBlcy5GZWF0dXJlTGF5ZXIpIHtcbiAgICAgICAgaWYgKCh0ZW1wSmltdUxheWVyVmlldyBhcyBKaW11RmVhdHVyZUxheWVyVmlldykudmlldykge1xuICAgICAgICAgIGxldCBmZWF0dXJlTGF5ZXJWaWV3OiBfX2VzcmkuRmVhdHVyZUxheWVyVmlldyA9ICh0ZW1wSmltdUxheWVyVmlldyBhcyBKaW11RmVhdHVyZUxheWVyVmlldykudmlldztcbiAgICAgICAgICBpZiAoZmVhdHVyZUxheWVyVmlldykge1xuICAgICAgICAgICAgbG9hZEFyY0dJU0pTQVBJTW9kdWxlcyhbXG4gICAgICAgICAgICAgICdlc3JpL3Rhc2tzL3N1cHBvcnQvUXVlcnknLFxuICAgICAgICAgICAgICAnZXNyaS9HcmFwaGljJ1xuICAgICAgICAgICAgXSkudGhlbihtb2R1bGVzID0+IHtcbiAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgICAgICAgICAgIGxldCBRdWVyeTogdHlwZW9mIF9fZXNyaS5RdWVyeTtcbiAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgICAgICAgICAgIGxldCBHcmFwaGljOiB0eXBlb2YgX19lc3JpLkdyYXBoaWM7XG4gICAgICAgICAgICAgIFtRdWVyeSwgR3JhcGhpY10gPSBtb2R1bGVzO1xuICAgICAgICAgICAgICBjb25zdCBxdWVyeSA9IG5ldyBRdWVyeSgpO1xuICAgICAgICAgICAgICBxdWVyeS53aGVyZSA9IHF1ZXJ5U1FMO1xuICAgICAgICAgICAgICBxdWVyeS5vdXRGaWVsZHMgPSBbJyonXTtcbiAgICAgICAgICAgICAgcXVlcnkucmV0dXJuR2VvbWV0cnkgPSB0cnVlO1xuICAgICAgICAgICAgICBmZWF0dXJlTGF5ZXJWaWV3LmxheWVyLnF1ZXJ5RmVhdHVyZXMocXVlcnkpLnRoZW4oZmVhdHVyZVNldCA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGZlYXR1cmVTZXQgJiYgZmVhdHVyZVNldC5mZWF0dXJlcyAmJiBmZWF0dXJlU2V0LmZlYXR1cmVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHN5bWJvbCA9IGdldEZsYXNoU3ltYm9sKGZlYXR1cmVMYXllclZpZXcubGF5ZXIuZ2VvbWV0cnlUeXBlKTtcbiAgICAgICAgICAgICAgICAgIHN0YXJ0Rmxhc2goamltdU1hcFZpZXcudmlldywgZmVhdHVyZVNldC5mZWF0dXJlcywgc3ltYm9sLCBHcmFwaGljKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxvYWRBcmNHSVNKU0FQSU1vZHVsZXMoW1xuICAgICAgICAgICAgJ2VzcmkvdGFza3Mvc3VwcG9ydC9RdWVyeScsXG4gICAgICAgICAgICAnZXNyaS9sYXllcnMvRmVhdHVyZUxheWVyJyxcbiAgICAgICAgICAgICdlc3JpL0dyYXBoaWMnXG4gICAgICAgICAgXSkudGhlbihtb2R1bGVzID0+IHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgICAgICAgICAgbGV0IFF1ZXJ5OiB0eXBlb2YgX19lc3JpLlF1ZXJ5O1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgICAgICAgICBsZXQgRmVhdHVyZUxheWVyOiB0eXBlb2YgX19lc3JpLkZlYXR1cmVMYXllcjtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgICAgICAgICAgbGV0IEdyYXBoaWM6IHR5cGVvZiBfX2VzcmkuR3JhcGhpYztcbiAgICAgICAgICAgIFtRdWVyeSwgRmVhdHVyZUxheWVyLCBHcmFwaGljXSA9IG1vZHVsZXM7XG4gICAgICAgICAgICBjb25zdCBxdWVyeSA9IG5ldyBRdWVyeSgpO1xuICAgICAgICAgICAgcXVlcnkud2hlcmUgPSBxdWVyeVNRTDtcbiAgICAgICAgICAgIHF1ZXJ5Lm91dEZpZWxkcyA9IFsnKiddO1xuICAgICAgICAgICAgcXVlcnkucmV0dXJuR2VvbWV0cnkgPSB0cnVlO1xuXG4gICAgICAgICAgICBsZXQgdGVtcEZlYXR1cmVMYXllciA9IG5ldyBGZWF0dXJlTGF5ZXIoe1xuICAgICAgICAgICAgICB1cmw6IGRhdGFTb3VyY2VVdGlscy5nZXRVcmxCeUxheWVyKCh0ZW1wSmltdUxheWVyVmlldyBhcyBKaW11RmVhdHVyZUxheWVyVmlldykubGF5ZXIpXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgdGVtcEZlYXR1cmVMYXllci5sb2FkKCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgIHRlbXBGZWF0dXJlTGF5ZXIucXVlcnlGZWF0dXJlcyhxdWVyeSkudGhlbihmZWF0dXJlU2V0ID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZmVhdHVyZVNldCAmJiBmZWF0dXJlU2V0LmZlYXR1cmVzICYmIGZlYXR1cmVTZXQuZmVhdHVyZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgY29uc3Qgc3ltYm9sID0gZ2V0Rmxhc2hTeW1ib2woZmVhdHVyZVNldC5mZWF0dXJlc1swXS5nZW9tZXRyeS50eXBlKTtcbiAgICAgICAgICAgICAgICAgIHN0YXJ0Rmxhc2goamltdU1hcFZpZXcudmlldywgZmVhdHVyZVNldC5mZWF0dXJlcywgc3ltYm9sLCBHcmFwaGljKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBzdGFydEZsYXNoIChtYXBCYXNlVmlldzogX19lc3JpLk1hcFZpZXcgfCAgX19lc3JpLlNjZW5lVmlldywgZmVhdHVyZXM6IF9fZXNyaS5HcmFwaGljW10sIHN5bWJvbCwgR3JhcGhpYzogX19lc3JpLkdyYXBoaWNDb25zdHJ1Y3Rvcikge1xuICBjb25zdCBmbGFzaEZlYXR1cmVzID0gZnVuY3Rpb24gKGZlYXR1cmVzOiBfX2VzcmkuR3JhcGhpY1tdLCBtYXhGbGFzaENvdW50OiBudW1iZXIpIHtcbiAgICBjb25zdCBncmFwaGljcyA9IFtdO1xuICAgIGxldCBmbGFzaENvdW50ID0gMDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZlYXR1cmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCB0ZW1wR3JhcGhpYyA9IG5ldyBHcmFwaGljKHtcbiAgICAgICAgZ2VvbWV0cnk6IGZlYXR1cmVzW2ldLmdlb21ldHJ5LFxuICAgICAgICBzeW1ib2w6IHN5bWJvbCxcbiAgICAgICAgYXR0cmlidXRlczogZmVhdHVyZXNbaV0uYXR0cmlidXRlc1xuICAgICAgfSlcbiAgICAgIGdyYXBoaWNzLnB1c2godGVtcEdyYXBoaWMpO1xuICAgIH1cblxuICAgIGNvbnN0IHNpbmdsZUZsYXNoID0gZnVuY3Rpb24gKCkge1xuICAgICAgbWFwQmFzZVZpZXcuZ3JhcGhpY3MuYWRkTWFueShncmFwaGljcyk7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgbWFwQmFzZVZpZXcuZ3JhcGhpY3MucmVtb3ZlTWFueShncmFwaGljcyk7XG4gICAgICAgIGZsYXNoQ291bnQgPSBmbGFzaENvdW50ICsgMTtcbiAgICAgICAgaWYgKGZsYXNoQ291bnQgPCBtYXhGbGFzaENvdW50KSB7XG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBzaW5nbGVGbGFzaCgpO1xuICAgICAgICAgIH0sIDUwMCk7XG4gICAgICAgIH1cbiAgICAgIH0sIDUwMClcbiAgICB9XG5cbiAgICBzaW5nbGVGbGFzaCgpO1xuICB9XG5cbiAgZmxhc2hGZWF0dXJlcyhmZWF0dXJlcywgMyk7XG59XG5cbmZ1bmN0aW9uIGdldEZsYXNoU3ltYm9sIChnZW9tZXRyeVR5cGU6IHN0cmluZykge1xuICBpZiAoWydwb2ludCcsICdtdWx0aXBvaW50J10uaW5kZXhPZihnZW9tZXRyeVR5cGUpID4gLTEpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogJ3NpbXBsZS1tYXJrZXInLFxuICAgICAgc3R5bGU6ICdjaXJjbGUnLFxuICAgICAgY29sb3I6IFsyNTUsIDI1NSwgMCwgMC44XSxcbiAgICAgIHNpemU6ICcxNnB4JyxcbiAgICAgIG91dGxpbmU6IHtcbiAgICAgICAgY29sb3I6IFsyNTUsIDI1NSwgMCwgMC44XSxcbiAgICAgICAgd2lkdGg6IDNcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSBpZiAoWydwb2x5bGluZSddLmluZGV4T2YoZ2VvbWV0cnlUeXBlKSA+IC0xKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6ICdzaW1wbGUtbGluZScsXG4gICAgICBjb2xvcjogWzI1NSwgMjU1LCAwLCAwLjhdLFxuICAgICAgd2lkdGg6IDMsXG4gICAgICBzdHlsZTogJ3NvbGlkJ1xuICAgIH1cbiAgfSBlbHNlIGlmIChbJ3BvbHlnb24nLCAnZXh0ZW50J10uaW5kZXhPZihnZW9tZXRyeVR5cGUpID4gLTEpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogJ3NpbXBsZS1maWxsJywgIC8vIGF1dG9jYXN0cyBhcyBuZXcgU2ltcGxlRmlsbFN5bWJvbCgpXG4gICAgICBjb2xvcjogWzI1NSwgMjU1LCAwLCAwLjVdLFxuICAgICAgc3R5bGU6ICdzb2xpZCcsXG4gICAgICBvdXRsaW5lOiB7ICAvLyBhdXRvY2FzdHMgYXMgbmV3IFNpbXBsZUxpbmVTeW1ib2woKVxuICAgICAgICBjb2xvcjogWzI1NSwgMjU1LCAwLCAwLjhdLFxuICAgICAgICB3aWR0aDogM1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIGlmIChbJ21lc2gnXS5pbmRleE9mKGdlb21ldHJ5VHlwZSkgPiAtMSkge1xuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiAnbWVzaC0zZCcsICAvLyBhdXRvY2FzdHMgYXMgbmV3IE1lc2hTeW1ib2wzRCgpXG4gICAgICBzeW1ib2xMYXllcnM6IFt7XG4gICAgICAgIHR5cGU6ICdmaWxsJywgIC8vIGF1dG9jYXN0cyBhcyBuZXcgRmlsbFN5bWJvbDNETGF5ZXIoKVxuICAgICAgICBtYXRlcmlhbDogeyBjb2xvcjogWzI1NSwgMjU1LCAwLCAwLjhdIH1cbiAgICAgIH1dXG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbmZ1bmN0aW9uIGdldENlbnRlclBvaW50KGdlb21ldHJ5OiBfX2VzcmkuR2VvbWV0cnkpOiBfX2VzcmkuUG9pbnR7XG4gIC8vcG9pbnQgfCBtdWx0aXBvaW50IHwgcG9seWxpbmUgfCBwb2x5Z29uIHwgZXh0ZW50IHwgbWVzaFxuICBzd2l0Y2goZ2VvbWV0cnkudHlwZSl7XG4gICAgY2FzZSAncG9pbnQnOlxuICAgICAgcmV0dXJuIGdlb21ldHJ5IGFzICBfX2VzcmkuUG9pbnQ7XG4gICAgY2FzZSAnZXh0ZW50JzpcbiAgICAgIHJldHVybiAoZ2VvbWV0cnkgYXMgX19lc3JpLkV4dGVudCkuY2VudGVyO1xuICAgIGNhc2UgJ3BvbHlnb24nOlxuICAgICAgcmV0dXJuIChnZW9tZXRyeSBhcyBfX2VzcmkuUG9seWdvbikuY2VudHJvaWQ7XG4gICAgY2FzZSAncG9seWxpbmUnOlxuICAgICAgcmV0dXJuIChnZW9tZXRyeSBhcyBfX2VzcmkuUG9seWxpbmUpLmV4dGVudC5jZW50ZXI7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBnZW9tZXRyeSAmJiBnZW9tZXRyeS5leHRlbnQgPyBnZW9tZXRyeS5leHRlbnQuY2VudGVyIDogdW5kZWZpbmVkO1xuICAgICAgLy90b2RvXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGhhbmRsZUZlYXR1cmUoZmVhdHVyZTogSUZlYXR1cmUgfCBfX2VzcmkuR3JhcGhpYywgR3JhcGhpYzogX19lc3JpLkdyYXBoaWNDb25zdHJ1Y3Rvcik6IF9fZXNyaS5HcmFwaGlje1xuICBsZXQgdGVtcEZlYXR1cmUgPSBudWxsO1xuICBpZiAoKGZlYXR1cmUgYXMgYW55KS5jbG9uZSkge1xuICAgIHRlbXBGZWF0dXJlID0gKGZlYXR1cmUgYXMgYW55KS5jbG9uZSgpO1xuICB9IGVsc2Uge1xuICAgIHRlbXBGZWF0dXJlID0gR3JhcGhpYy5mcm9tSlNPTihPYmplY3QuYXNzaWduKHt9LCBmZWF0dXJlKSk7XG4gICAgdGVtcEZlYXR1cmUuYXR0cmlidXRlcyA9IE9iamVjdC5hc3NpZ24oe30sIGZlYXR1cmUuYXR0cmlidXRlcyk7XG4gIH1cbiAgcmV0dXJuIHRlbXBGZWF0dXJlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcHJvamVjdEdlb21ldHJpZXMoZ2VvbWV0cmllczogX19lc3JpLkdlb21ldHJ5W10sIHNwYXRpYWxSZWZlcmVuY2U6IF9fZXNyaS5TcGF0aWFsUmVmZXJlbmNlKTogUHJvbWlzZTxfX2VzcmkuR2VvbWV0cnlbXT4ge1xuICBpZiAoIWdlb21ldHJpZXMgfHwgZ2VvbWV0cmllcy5sZW5ndGggPT09IDAgfHwgIWdlb21ldHJpZXNbMF1cbiAgICB8fCBzcGF0aWFsUmVmZXJlbmNlLndraWQgPT09IGdlb21ldHJpZXNbMF0uc3BhdGlhbFJlZmVyZW5jZS53a2lkIHx8IChzcGF0aWFsUmVmZXJlbmNlLmVxdWFscyhnZW9tZXRyaWVzWzBdLnNwYXRpYWxSZWZlcmVuY2UpKSkge1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoZ2VvbWV0cmllcyk7XG4gIH0gZWxzZSBpZiAoc3BhdGlhbFJlZmVyZW5jZS5pc1dlYk1lcmNhdG9yICYmIGdlb21ldHJpZXNbMF0uc3BhdGlhbFJlZmVyZW5jZS5pc1dHUzg0KSB7XG4gICAgLy8gSW4ganMgYXBpIDQueCwgdGhlIHZpZXcgY2FuIGhhbmRsZSBXZWJNZXJjYXRvciBhbmQgV0dTODQgc3BhdGlhbFJlZmVyZW5jZSBhdXRvXG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShnZW9tZXRyaWVzKTtcbiAgfSBlbHNlIGlmIChzcGF0aWFsUmVmZXJlbmNlLmlzV0dTODQgJiYgZ2VvbWV0cmllc1swXS5zcGF0aWFsUmVmZXJlbmNlLmlzV2ViTWVyY2F0b3IpIHtcbiAgICAvLyBJbiBqcyBhcGkgNC54LCB0aGUgdmlldyBjYW4gaGFuZGxlIFdlYk1lcmNhdG9yIGFuZCBXR1M4NCBzcGF0aWFsUmVmZXJlbmNlIGF1dG9cbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGdlb21ldHJpZXMpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBnZW9tZXRyeVV0aWxzLnByb2plY3RUb1NwYXRpYWxSZWZlcmVuY2UoZ2VvbWV0cmllcywgc3BhdGlhbFJlZmVyZW5jZSk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHByb2Nlc3Nab29tVG9GZWF0dXJlcyhtYXBCYXNlVmlldzogX19lc3JpLk1hcFZpZXcgfCBfX2VzcmkuU2NlbmVWaWV3LCBsYXllcjogYW55LCBmZWF0dXJlczogX19lc3JpLkdyYXBoaWNbXSk6IFByb21pc2U8X19lc3JpLkdyYXBoaWNbXT4ge1xuICBpZiAobWFwQmFzZVZpZXcgJiYgbWFwQmFzZVZpZXcudHlwZSA9PT0gJzNkJyAmJiBsYXllciAmJiBsYXllci5xdWVyeUZlYXR1cmVzICYmIGZlYXR1cmVzKSB7XG4gICAgcmV0dXJuIGxvYWRBcmNHSVNKU0FQSU1vZHVsZXMoW1xuICAgICAgJ2VzcmkvdGFza3Mvc3VwcG9ydC9RdWVyeSdcbiAgICBdKS50aGVuKChtb2R1bGVzKSA9PiB7XG4gICAgICBjb25zdCBbUXVlcnldID0gbW9kdWxlcztcbiAgICAgIGNvbnN0IHF1ZXJ5ID0gbmV3IFF1ZXJ5KCk7XG4gICAgICBxdWVyeS5yZXR1cm5HZW9tZXRyeSA9IHRydWU7XG4gICAgICBxdWVyeS5vdXRGaWVsZHMgPSBbJyonXTtcbiAgICAgIHF1ZXJ5Lm9iamVjdElkcyA9IGZlYXR1cmVzLm1hcChmZWF0dXJlID0+IGZlYXR1cmUuYXR0cmlidXRlc1tsYXllci5vYmplY3RJZEZpZWxkXSk7XG4gICAgICByZXR1cm4gbGF5ZXIucXVlcnlGZWF0dXJlcyhxdWVyeSkudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgIGlmIChyZXN1bHQgJiYgcmVzdWx0LmZlYXR1cmVzICYmIHJlc3VsdC5mZWF0dXJlcy5sZW5ndGggPT09IGZlYXR1cmVzLmxlbmd0aCkge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocmVzdWx0LmZlYXR1cmVzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGZlYXR1cmVzKTtcbiAgICAgICAgfVxuICAgICAgfSwgKCkgPT4ge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGZlYXR1cmVzKTtcbiAgICAgIH0pXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShmZWF0dXJlcyk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNoZWNrSXNMaXZlKGFwcE1vZGU6IEFwcE1vZGUpOiBib29sZWFuIHtcbiAgaWYgKHdpbmRvdy5qaW11Q29uZmlnLmlzSW5CdWlsZGVyKSB7XG4gICAgaWYgKGFwcE1vZGUgPT09IEFwcE1vZGUuRGVzaWduKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0TWFwQmFzZVJlc3RvcmVEYXRhKG1hcEluc3RhbmNlOiBNYXBCYXNlKTogYW55IHtcbiAgcmV0dXJuIHtcbiAgICBtYXBDb250YWluZXI6IG1hcEluc3RhbmNlLm1hcENvbnRhaW5lcixcbiAgICBzdGF0ZTogbWFwSW5zdGFuY2Uuc3RhdGUsXG4gICAgTWFwVmlldzogbWFwSW5zdGFuY2UuTWFwVmlldyxcbiAgICBTY2VuZVZpZXc6IG1hcEluc3RhbmNlLlNjZW5lVmlldyxcbiAgICBFeHRlbnQ6IG1hcEluc3RhbmNlLkV4dGVudCxcbiAgICBWaWV3cG9pbnQ6IG1hcEluc3RhbmNlLlZpZXdwb2ludCxcbiAgICBtYXBWaWV3OiBtYXBJbnN0YW5jZS5tYXBWaWV3LFxuICAgIHNjZW5lVmlldzogbWFwSW5zdGFuY2Uuc2NlbmVWaWV3LFxuICAgIGV4dGVudFdhdGNoOiBtYXBJbnN0YW5jZS5leHRlbnRXYXRjaCxcbiAgICBmYXRhbEVycm9yV2F0Y2g6IG1hcEluc3RhbmNlLmZhdGFsRXJyb3JXYXRjaCxcbiAgICBkc01hbmFnZXI6IG1hcEluc3RhbmNlLmRzTWFuYWdlcixcbiAgICBoaWdoTGlnaHRIYW5kbGVzOiBtYXBJbnN0YW5jZS5oaWdoTGlnaHRIYW5kbGVzLFxuICAgIG1hcEJhc2VWaWV3RXZlbnRIYW5kbGVzOiBtYXBJbnN0YW5jZS5tYXBCYXNlVmlld0V2ZW50SGFuZGxlcyxcbiAgICBDb2xvcjogbWFwSW5zdGFuY2UuQ29sb3JcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlc3RvcmVNYXBCYXNlKG1hcEluc3RhbmNlOiBNYXBCYXNlLCByZXN0b3JlRGF0YTogYW55KTogdm9pZCB7XG4gIG1hcEluc3RhbmNlLm1hcENvbnRhaW5lciA9IHJlc3RvcmVEYXRhLm1hcENvbnRhaW5lcjtcbiAgbWFwSW5zdGFuY2Uuc3RhdGUgPSByZXN0b3JlRGF0YS5zdGF0ZTtcbiAgbWFwSW5zdGFuY2UuTWFwVmlldyA9IHJlc3RvcmVEYXRhLk1hcFZpZXc7XG4gIG1hcEluc3RhbmNlLlNjZW5lVmlldyA9IHJlc3RvcmVEYXRhLlNjZW5lVmlldztcbiAgbWFwSW5zdGFuY2UuRXh0ZW50ID0gcmVzdG9yZURhdGEuRXh0ZW50O1xuICBtYXBJbnN0YW5jZS5WaWV3cG9pbnQgPSByZXN0b3JlRGF0YS5WaWV3cG9pbnQ7XG4gIG1hcEluc3RhbmNlLm1hcFZpZXcgPSByZXN0b3JlRGF0YS5tYXBWaWV3O1xuICBtYXBJbnN0YW5jZS5zY2VuZVZpZXcgPSByZXN0b3JlRGF0YS5zY2VuZVZpZXc7XG4gIG1hcEluc3RhbmNlLmV4dGVudFdhdGNoID0gcmVzdG9yZURhdGEuZXh0ZW50V2F0Y2g7XG4gIG1hcEluc3RhbmNlLmZhdGFsRXJyb3JXYXRjaCA9IHJlc3RvcmVEYXRhLmZhdGFsRXJyb3JXYXRjaDtcbiAgbWFwSW5zdGFuY2UuZHNNYW5hZ2VyID0gcmVzdG9yZURhdGEuZHNNYW5hZ2VyO1xuICBtYXBJbnN0YW5jZS5oaWdoTGlnaHRIYW5kbGVzID0gcmVzdG9yZURhdGEuaGlnaExpZ2h0SGFuZGxlcztcbiAgbWFwSW5zdGFuY2UubWFwQmFzZVZpZXdFdmVudEhhbmRsZXMgPSByZXN0b3JlRGF0YS5tYXBCYXNlVmlld0V2ZW50SGFuZGxlcztcbiAgbWFwSW5zdGFuY2UuQ29sb3IgPSByZXN0b3JlRGF0YS5Db2xvcjtcbn0iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFHQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUE3REE7QUFBQTs7O0FBOERBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./extensions/widgets/arcgis/arcgis-map/src/runtime/utils.ts\n");

/***/ }),

/***/ "./extensions/widgets/arcgis/arcgis-map/src/runtime/widget.tsx":
/*!*********************************************************************!*\
  !*** ./extensions/widgets/arcgis/arcgis-map/src/runtime/widget.tsx ***!
  \*********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ \"jimu-core\");\n/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jimu_core__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-ui */ \"jimu-ui\");\n/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jimu_ui__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _components_multisourcemap__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./components/multisourcemap */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/components/multisourcemap.tsx\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./utils */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/utils.ts\");\n/* harmony import */ var _layout_map_fixed_layout__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./layout/map-fixed-layout */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/layout/map-fixed-layout.tsx\");\n/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! jimu-arcgis */ \"jimu-arcgis\");\n/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(jimu_arcgis__WEBPACK_IMPORTED_MODULE_5__);\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __makeTemplateObject = (undefined && undefined.__makeTemplateObject) || function (cooked, raw) {\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n    return cooked;\n};\n/** @jsx jsx */\n\n\n\n\n\n\nvar IconMap = __webpack_require__(/*! ./assets/icon.svg */ \"./extensions/widgets/arcgis/arcgis-map/src/runtime/assets/icon.svg\");\nvar Widget = /** @class */ (function (_super) {\n    __extends(Widget, _super);\n    function Widget(props) {\n        var _this = _super.call(this, props) || this;\n        _this.multiSourceMapInstance = null;\n        _this.startRenderMap = function () {\n            setTimeout(function () {\n                _this.setState({\n                    startLoadModules: true\n                });\n            }, 100);\n        };\n        _this.getPlaceHolderImage = function () {\n            var placeHolderImage = _this.props.config.placeholderImage;\n            var session = jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"SessionManager\"].getInstance().getMainSession();\n            if (placeHolderImage) {\n                var isPortalThumbExp = new RegExp('^(.)+/sharing/rest/content/items/(.)+/info/(.)+');\n                if (isPortalThumbExp.test(placeHolderImage)) {\n                    if (session) {\n                        placeHolderImage = placeHolderImage + (\"?token=\" + session.token);\n                    }\n                    else {\n                        // eslint-disable-next-line no-self-assign\n                        placeHolderImage = placeHolderImage;\n                    }\n                }\n            }\n            return placeHolderImage;\n        };\n        _this.fullScreenMap = function () {\n            if (jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"utils\"].isTouchDevice()) {\n                // is touch device\n                if (_this.container.style.position === 'fixed') {\n                    _this.container.style.height = _this.containerClientRect.height + \"px\";\n                    _this.container.style.width = _this.containerClientRect.width + \"px\";\n                    _this.container.style.top = _this.containerClientRect.top + \"px\";\n                    _this.container.style.left = _this.containerClientRect.left + \"px\";\n                    setTimeout(function () {\n                        _this.container.style.transition = null;\n                        _this.container.style.position = 'relative';\n                        _this.container.style.height = '100%';\n                        _this.container.style.width = '100%';\n                        _this.container.style.top = '0';\n                        _this.container.style.left = '0';\n                        _this.container.style.backgroundColor = 'none';\n                        _this.parentContainer.appendChild(_this.container);\n                        _this.setState({\n                            isFullScreen: false\n                        });\n                    }, 100);\n                }\n                else {\n                    var clientRect = _this.container.getBoundingClientRect();\n                    _this.containerClientRect = clientRect;\n                    _this.container.style.height = clientRect.height + \"px\";\n                    _this.container.style.width = clientRect.width + \"px\";\n                    _this.container.style.position = 'fixed';\n                    _this.container.style.top = clientRect.top + \"px\";\n                    _this.container.style.left = clientRect.left + \"px\";\n                    document && document.body.appendChild(_this.container);\n                    setTimeout(function () {\n                        _this.container.style.transition = 'top 0.3s, bottom 0.3s, left 0.3s, right 0.3s, height 0.3s, width 0.3s';\n                        _this.container.style.top = '0px';\n                        _this.container.style.left = '0px';\n                        _this.container.style.right = '0px';\n                        _this.container.style.bottom = '0px';\n                        _this.container.style.height = null;\n                        _this.container.style.width = null;\n                        _this.container.style.backgroundColor = '#fff';\n                        _this.setState({\n                            isFullScreen: true\n                        });\n                    }, 100);\n                }\n            }\n            else {\n                var element = _this.container;\n                if (!document) {\n                    return;\n                }\n                document.addEventListener('webkitfullscreenchange', function (event) {\n                    if (!document.fullscreenElement && !document.webkitFullscreenElement) {\n                        _this.setState({\n                            isFullScreen: false\n                        });\n                    }\n                });\n                document.addEventListener('fullscreenchange', function (event) {\n                    if (!document.fullscreenElement && !document.webkitFullscreenElement) {\n                        _this.setState({\n                            isFullScreen: false\n                        });\n                    }\n                });\n                if (document.fullscreenElement === element) {\n                    document.exitFullscreen();\n                    _this.setState({\n                        isFullScreen: false\n                    });\n                    return;\n                }\n                if (document.webkitFullscreenElement === element) {\n                    document.webkitCancelFullScreen();\n                    _this.setState({\n                        isFullScreen: false\n                    });\n                    return;\n                }\n                var requestMethod = element.requestFullScreen || element.webkitRequestFullScreen || element.mozRequestFullScreen || element.msRequestFullScreen;\n                if (requestMethod) {\n                    _this.setState({\n                        isFullScreen: true\n                    });\n                    requestMethod.call(element);\n                }\n                else if (typeof window.ActiveXObject !== 'undefined') {\n                    var wscript = new ActiveXObject('WScript.Shell');\n                    if (wscript !== null) {\n                        wscript.SendKeys('{F11}');\n                    }\n                }\n            }\n        };\n        _this.handleViewGroupCreate = function (viewGroup) {\n            if (viewGroup) {\n                viewGroup.setMapWidgetInstance(_this);\n            }\n        };\n        _this.switchMap = function () {\n            if (_this.multiSourceMapInstance) {\n                return _this.multiSourceMapInstance.switchMap();\n            }\n            else {\n                return Promise.resolve();\n            }\n        };\n        _this.setMultiSourceMapInstance = function (instance) {\n            _this.multiSourceMapInstance = instance;\n        };\n        _this.onResize = function (width, height) {\n            if (!width || !height) {\n                return;\n            }\n            if (width <= 545 && width > 0) {\n                _this.setState({\n                    widthBreakpoint: 'xsmall',\n                    widgetHeight: height\n                });\n            }\n            else {\n                _this.setState({\n                    widthBreakpoint: 'other',\n                    widgetHeight: height\n                });\n            }\n        };\n        _this.state = {\n            widthBreakpoint: null,\n            widgetHeight: null,\n            isFullScreen: false\n        };\n        return _this;\n    }\n    Widget.prototype.getStyle = function () {\n        var theme = this.props.theme;\n        return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"css\"])(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n      position: relative;\\n\\n      .map-is-live-mode {\\n        .exbmap-ui {\\n          pointer-events: auto !important;\\n        }\\n\\n        .is-widget {\\n          pointer-events: auto !important;\\n        }\\n      }\\n\\n      .widget-map-usemask {\\n        pointer-events: auto !important;\\n      }\\n\\n      .map-is-design-mode {\\n        .exbmap-ui,\\n        .exbmap-ui-tool {\\n          pointer-events: none !important;\\n        }\\n\\n        .is-widget {\\n          pointer-events: auto !important;\\n        }\\n      }\\n\\n      .widget-map{\\n        padding: 0;\\n        margin: 0;\\n        height: 100%;\\n        width: 100%;\\n        z-index: -1;\\n        .overview-container{\\n          position: absolute;\\n          top: 12px;\\n          right: 12px;\\n          width: 300px;\\n          height: 200px;\\n          border: 1px solid black;\\n          z-index: 1;\\n        }\\n\\n        .extent-container{\\n          background-color: rgba(0, 0, 0, 0.5);\\n          position: absolute;\\n          z-index: 2;\\n        }\\n\\n        .extent-btn-container{\\n          button{\\n            outline: none;\\n          }\\n          .previous-extent-btn{\\n            color: #111;\\n          }\\n          .next-extent-btn{\\n            color: #222;\\n          }\\n        }\\n      }\\n\\n      .exbmap-ui-layout{\\n        z-index: 0;\\n      }\\n\\n      .mapswitch-container {\\n        position: absolute;\\n        z-index: 7;\\n        width: 32px;\\n        height: 32px;\\n        bottom: 10px;\\n        left: 10px;\\n        box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3)\\n      }\\n\\n      .mapswitch-icon {\\n        fill: black;\\n        left: 8px;\\n        top: 8px;\\n        position: absolute;\\n        display: block;\\n      }\\n\\n      .widget-map-background {\\n        background-color: \", \";\\n        position: absolute;\\n        z-index: 1;\\n      }\\n\\n      .widget-map-crashed {\\n        background-color: \", \";\\n        position: absolute;\\n        z-index: 1;\\n        top: 0;\\n\\n        .widget-map-crashed-label-padding {\\n          padding-left: \", \";\\n          padding-right: \", \";\\n        }\\n\\n        .widget-map-crashed-label {\\n          font-size: \", \";\\n          color: \", \";\\n          font-weight: bold;\\n          text-align: center;\\n        }\\n      }\\n\\n      @keyframes appear {\\n        0%{opacity:0}\\n        25%{opacity:.25}\\n        50%{opacity:.5;}\\n        75%{opacity:.75}\\n        100%{opacity:1;}\\n      }\\n\\n      @keyframes disappear {\\n        0%{opacity:1}\\n        25%{opacity:.75}\\n        50%{opacity:.5;}\\n        75%{opacity:.25}\\n        100%{opacity:0;}\\n      }\\n\\n      .multisourcemap-item-appear {\\n        animation: appear 300ms;\\n        -webkit-animation: appear 300ms;\\n        -moz-animation: appear 300ms;\\n        animation-fill-mode: forwards;\\n        -webkit-animation-fill-mode: forwards;\\n        -moz-animation-fill-mode: forwards;\\n        animation-timing-function: ease-in;\\n        -webkit-animation-timing-function: ease-in;\\n        -moz-animation-timing-function: ease-in;\\n      }\\n\\n      .multisourcemap-item-disappear {\\n        animation: disappear 300ms;\\n        -webkit-animation: disappear 300ms;\\n        -moz-animation: disappear 300ms;\\n        animation-fill-mode: forwards;\\n        -webkit-animation-fill-mode: forwards;\\n        -moz-animation-fill-mode: forwards;\\n        animation-timing-function: ease-in;\\n        -webkit-animation-timing-function: ease-in;\\n        -moz-animation-timing-function: ease-in;\\n      }\\n\\n      .multisourcemap-item-appear-noanimate {\\n        opacity: 1;\\n      }\\n\\n      .multisourcemap-item-disappear-noanimate {\\n        opacity: 0;\\n      }\\n      \"], [\"\\n      position: relative;\\n\\n      .map-is-live-mode {\\n        .exbmap-ui {\\n          pointer-events: auto !important;\\n        }\\n\\n        .is-widget {\\n          pointer-events: auto !important;\\n        }\\n      }\\n\\n      .widget-map-usemask {\\n        pointer-events: auto !important;\\n      }\\n\\n      .map-is-design-mode {\\n        .exbmap-ui,\\n        .exbmap-ui-tool {\\n          pointer-events: none !important;\\n        }\\n\\n        .is-widget {\\n          pointer-events: auto !important;\\n        }\\n      }\\n\\n      .widget-map{\\n        padding: 0;\\n        margin: 0;\\n        height: 100%;\\n        width: 100%;\\n        z-index: -1;\\n        .overview-container{\\n          position: absolute;\\n          top: 12px;\\n          right: 12px;\\n          width: 300px;\\n          height: 200px;\\n          border: 1px solid black;\\n          z-index: 1;\\n        }\\n\\n        .extent-container{\\n          background-color: rgba(0, 0, 0, 0.5);\\n          position: absolute;\\n          z-index: 2;\\n        }\\n\\n        .extent-btn-container{\\n          button{\\n            outline: none;\\n          }\\n          .previous-extent-btn{\\n            color: #111;\\n          }\\n          .next-extent-btn{\\n            color: #222;\\n          }\\n        }\\n      }\\n\\n      .exbmap-ui-layout{\\n        z-index: 0;\\n      }\\n\\n      .mapswitch-container {\\n        position: absolute;\\n        z-index: 7;\\n        width: 32px;\\n        height: 32px;\\n        bottom: 10px;\\n        left: 10px;\\n        box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3)\\n      }\\n\\n      .mapswitch-icon {\\n        fill: black;\\n        left: 8px;\\n        top: 8px;\\n        position: absolute;\\n        display: block;\\n      }\\n\\n      .widget-map-background {\\n        background-color: \", \";\\n        position: absolute;\\n        z-index: 1;\\n      }\\n\\n      .widget-map-crashed {\\n        background-color: \", \";\\n        position: absolute;\\n        z-index: 1;\\n        top: 0;\\n\\n        .widget-map-crashed-label-padding {\\n          padding-left: \", \";\\n          padding-right: \", \";\\n        }\\n\\n        .widget-map-crashed-label {\\n          font-size: \", \";\\n          color: \", \";\\n          font-weight: bold;\\n          text-align: center;\\n        }\\n      }\\n\\n      @keyframes appear {\\n        0%{opacity:0}\\n        25%{opacity:.25}\\n        50%{opacity:.5;}\\n        75%{opacity:.75}\\n        100%{opacity:1;}\\n      }\\n\\n      @keyframes disappear {\\n        0%{opacity:1}\\n        25%{opacity:.75}\\n        50%{opacity:.5;}\\n        75%{opacity:.25}\\n        100%{opacity:0;}\\n      }\\n\\n      .multisourcemap-item-appear {\\n        animation: appear 300ms;\\n        -webkit-animation: appear 300ms;\\n        -moz-animation: appear 300ms;\\n        animation-fill-mode: forwards;\\n        -webkit-animation-fill-mode: forwards;\\n        -moz-animation-fill-mode: forwards;\\n        animation-timing-function: ease-in;\\n        -webkit-animation-timing-function: ease-in;\\n        -moz-animation-timing-function: ease-in;\\n      }\\n\\n      .multisourcemap-item-disappear {\\n        animation: disappear 300ms;\\n        -webkit-animation: disappear 300ms;\\n        -moz-animation: disappear 300ms;\\n        animation-fill-mode: forwards;\\n        -webkit-animation-fill-mode: forwards;\\n        -moz-animation-fill-mode: forwards;\\n        animation-timing-function: ease-in;\\n        -webkit-animation-timing-function: ease-in;\\n        -moz-animation-timing-function: ease-in;\\n      }\\n\\n      .multisourcemap-item-appear-noanimate {\\n        opacity: 1;\\n      }\\n\\n      .multisourcemap-item-disappear-noanimate {\\n        opacity: 0;\\n      }\\n      \"])), theme.colors.white, jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"polished\"].rgba(theme.colors.white, 0.85), jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"polished\"].rem(24), jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"polished\"].rem(24), jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"polished\"].rem(13), theme.colors.black);\n    };\n    Widget.prototype.componentDidMount = function () {\n        if (!this.state.startLoadModules) {\n            if (window.jimuConfig.isInBuilder || !this.props.config.canPlaceHolder) {\n                this.startRenderMap();\n            }\n            return;\n        }\n    };\n    Widget.prototype.componentWillUnmount = function () {\n        var widgets = Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"getAppStore\"])().getState().appConfig.widgets;\n        if (!widgets[this.props.id]) {\n            this.props.dispatch(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"appActions\"].widgetMutableStatePropChange(this.props.id, 'restoreData', null));\n        }\n    };\n    Widget.prototype.render = function () {\n        var _this = this;\n        if (!this.state.startLoadModules) {\n            return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { css: this.getStyle(), className: \"jimu-widget\" },\n                Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"widget-map jimu-widget\" },\n                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { style: { position: 'absolute', left: '50%', top: '50%' }, className: \"jimu-secondary-loading\" })));\n        }\n        else {\n            if (!(this.props.useDataSources && this.props.useDataSources[0] && this.props.useDataSources[0].dataSourceId)) {\n                if (jimu_arcgis__WEBPACK_IMPORTED_MODULE_5__[\"portalUtils\"].checkDefaultBaseMapIsExist()) {\n                    // when there is default basemap source\n                    return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"jimu-widget\", ref: function (ref) { _this.parentContainer = ref; } },\n                        Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { css: this.getStyle(), className: 'jimu-widget', ref: function (ref) { _this.container = ref; } },\n                            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"classNames\"])('jimu-widget', { 'map-is-design-mode': !Object(_utils__WEBPACK_IMPORTED_MODULE_3__[\"checkIsLive\"])(this.props.appMode) }) }, Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_components_multisourcemap__WEBPACK_IMPORTED_MODULE_2__[\"default\"], { fullScreenMap: this.fullScreenMap, baseWidgetProps: this.props, startLoadModules: this.state.startLoadModules, isDefaultMap: true, ref: this.setMultiSourceMapInstance, onViewGroupCreate: this.handleViewGroupCreate, widgetHeight: this.state.widgetHeight, widthBreakpoint: this.state.widthBreakpoint, isFullScreen: this.state.isFullScreen })),\n                            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"ReactResizeDetector\"], { handleWidth: true, handleHeight: true, onResize: this.onResize })));\n                }\n                else {\n                    // when there is not default basemap source\n                    return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { css: this.getStyle(), className: \"jimu-widget\" },\n                        Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"w-100 h-100\", style: { position: 'absolute', zIndex: 10, pointerEvents: (Object(_utils__WEBPACK_IMPORTED_MODULE_3__[\"checkIsLive\"])(this.props.appMode) ? 'none' : 'auto') } },\n                            Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_layout_map_fixed_layout__WEBPACK_IMPORTED_MODULE_4__[\"default\"], { appMode: this.props.appMode, layouts: this.props.layouts, LayoutEntry: this.props.builderSupportModules && this.props.builderSupportModules.LayoutEntry, widgetManifestName: this.props.manifest.name })),\n                        Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_ui__WEBPACK_IMPORTED_MODULE_1__[\"WidgetPlaceholder\"], { icon: IconMap, message: \"Map\", widgetId: this.props.id }));\n                }\n            }\n            else {\n                return Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: \"jimu-widget\", ref: function (ref) { _this.parentContainer = ref; } },\n                    Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { css: this.getStyle(), className: 'jimu-widget', ref: function (ref) { _this.container = ref; } },\n                        Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", { className: Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"classNames\"])('jimu-widget', { 'map-is-design-mode': !Object(_utils__WEBPACK_IMPORTED_MODULE_3__[\"checkIsLive\"])(this.props.appMode) }) }, Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_components_multisourcemap__WEBPACK_IMPORTED_MODULE_2__[\"default\"], { fullScreenMap: this.fullScreenMap, baseWidgetProps: this.props, startLoadModules: this.state.startLoadModules, ref: this.setMultiSourceMapInstance, onViewGroupCreate: this.handleViewGroupCreate, widgetHeight: this.state.widgetHeight, widthBreakpoint: this.state.widthBreakpoint, isFullScreen: this.state.isFullScreen })),\n                        Object(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"ReactResizeDetector\"], { handleWidth: true, handleHeight: true, onResize: this.onResize })));\n            }\n        }\n    };\n    Widget.mapExtraStateProps = function (state) {\n        return {\n            appMode: state && state.appRuntimeInfo && state.appRuntimeInfo.appMode\n        };\n    };\n    return Widget;\n}(jimu_core__WEBPACK_IMPORTED_MODULE_0__[\"React\"].PureComponent));\n/* harmony default export */ __webpack_exports__[\"default\"] = (Widget);\nvar templateObject_1;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL3dpZGdldHMvYXJjZ2lzL2FyY2dpcy1tYXAvc3JjL3J1bnRpbWUvd2lkZ2V0LnRzeC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2V4dGVuc2lvbnMvd2lkZ2V0cy9hcmNnaXMvYXJjZ2lzLW1hcC9zcmMvcnVudGltZS93aWRnZXQudHN4PzExM2MiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqIEBqc3gganN4ICovXG5pbXBvcnQgeyBSZWFjdCwgYXBwQWN0aW9ucywgY3NzLCBqc3gsIGdldEFwcFN0b3JlLCBBbGxXaWRnZXRQcm9wcywgU2Vzc2lvbk1hbmFnZXIsXG4gIHV0aWxzLCBBcHBNb2RlLCBJTVN0YXRlLCBjbGFzc05hbWVzLCBwb2xpc2hlZCwgUmVhY3RSZXNpemVEZXRlY3RvciB9IGZyb20gJ2ppbXUtY29yZSc7XG5pbXBvcnQgeyBJTUNvbmZpZyB9IGZyb20gJy4uL2NvbmZpZyc7XG5pbXBvcnQgeyBXaWRnZXRQbGFjZWhvbGRlciB9IGZyb20gJ2ppbXUtdWknO1xuaW1wb3J0IE11bHRpU291cmNlTWFwIGZyb20gJy4vY29tcG9uZW50cy9tdWx0aXNvdXJjZW1hcCc7XG5pbXBvcnQgeyBJRmVhdHVyZSB9IGZyb20gJ0Blc3JpL2FyY2dpcy1yZXN0LXR5cGVzJztcbmltcG9ydCB7IGNoZWNrSXNMaXZlIH0gZnJvbSAnLi91dGlscyc7XG5pbXBvcnQgTWFwRml4ZWRMYXlvdXQgZnJvbSAnLi9sYXlvdXQvbWFwLWZpeGVkLWxheW91dCc7XG5pbXBvcnQgeyBwb3J0YWxVdGlscywgSmltdU1hcFZpZXdHcm91cCB9IGZyb20gJ2ppbXUtYXJjZ2lzJztcblxuY29uc3QgSWNvbk1hcCA9IHJlcXVpcmUoJy4vYXNzZXRzL2ljb24uc3ZnJyk7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQWN0aW9uUmVsYXRlZFByb3BzIHtcbiAgem9vbVRvRmVhdHVyZUFjdGlvblZhbHVlPzoge1xuICAgIHZhbHVlOiB7XG4gICAgICBmZWF0dXJlczogX19lc3JpLkZlYXR1cmVTZXQgfCBfX2VzcmkuR3JhcGhpY1tdIHwgSUZlYXR1cmVbXSB8IF9fZXNyaS5FeHRlbnQgfCBfX2VzcmkuR2VvbWV0cnlbXSxcbiAgICAgIGxheWVySWQ/OiBzdHJpbmcsXG4gICAgICB6b29tVG9PcHRpb24/OiB7XG4gICAgICAgIHNjYWxlPzogbnVtYmVyXG4gICAgICB9LFxuICAgICAgdHlwZTogJ3pvb20tdG8tZ3JhcGhpY3MnIHwgJ3pvb20tdG8tZXh0ZW50J1xuICAgIH0sXG4gICAgcmVsYXRlZFdpZGdldHM/OiBzdHJpbmdbXTtcbiAgfTtcbiAgbmV3RmVhdHVyZVNldEFjdGlvblZhbHVlPzoge1xuICAgIHZhbHVlOiB7W2xheWVySUQ6IHN0cmluZ106IF9fZXNyaS5GZWF0dXJlU2V0fSxcbiAgICBwcm9taXNlPzogUHJvbWlzZTxhbnk+XG4gIH07XG4gIGNoYW5nZWRGZWF0dXJlU2V0QWN0aW9uVmFsdWU/OiB7W2xheWVySUQ6IHN0cmluZ106IF9fZXNyaS5GZWF0dXJlU2V0fTtcbiAgc2VsZWN0RmVhdHVyZUFjdGlvblZhbHVlPzogSUZlYXR1cmVbXSB8IF9fZXNyaS5HcmFwaGljW107XG4gIHBhblRvQWN0aW9uVmFsdWU/OiB7XG4gICAgdmFsdWU6IF9fZXNyaS5GZWF0dXJlU2V0IHwgX19lc3JpLkdyYXBoaWNbXSB8IElGZWF0dXJlW10gfCBfX2VzcmkuRXh0ZW50LFxuICAgIHJlbGF0ZWRXaWRnZXRzPzogc3RyaW5nW107XG4gIH07XG4gIGZsYXNoQWN0aW9uVmFsdWU/OiB7XG4gICAgbGF5ZXJEYXRhU291cmNlSWQ6IHN0cmluZyxcbiAgICBxdWVyeVNRTDogc3RyaW5nXG4gIH07XG4gIGZpbHRlckFjdGlvblZhbHVlPzoge1xuICAgIGxheWVyRGF0YVNvdXJjZUlkOiBzdHJpbmcsXG4gICAgcXVlcnlTUUw6IHN0cmluZ1xuICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTWFwV2lkZ2V0UHJvcHMgZXh0ZW5kcyBBbGxXaWRnZXRQcm9wczxJTUNvbmZpZz57XG4gIG11dGFibGVTdGF0ZVByb3BzOiBBY3Rpb25SZWxhdGVkUHJvcHM7XG4gIGFwcE1vZGU6IEFwcE1vZGU7XG59XG5cbmludGVyZmFjZSBTdGF0ZXtcbiAgc3RhcnRMb2FkTW9kdWxlczogYm9vbGVhbjtcblxuICB3aWR0aEJyZWFrcG9pbnQ6IHN0cmluZztcbiAgd2lkZ2V0SGVpZ2h0OiBudW1iZXI7XG5cbiAgaXNGdWxsU2NyZWVuOiBib29sZWFuO1xufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBXaWRnZXQgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50PE1hcFdpZGdldFByb3BzLCBTdGF0ZT57XG4gIHBhcmVudENvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XG4gIGNvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XG4gIGNvbnRhaW5lckNsaWVudFJlY3Q6IENsaWVudFJlY3QgfCBET01SZWN0O1xuICBtdWx0aVNvdXJjZU1hcEluc3RhbmNlOiBNdWx0aVNvdXJjZU1hcCA9IG51bGw7XG5cbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIHdpZHRoQnJlYWtwb2ludDogbnVsbCxcbiAgICAgIHdpZGdldEhlaWdodDogbnVsbCxcbiAgICAgIGlzRnVsbFNjcmVlbjogZmFsc2VcbiAgICB9IGFzIFN0YXRlO1xuICB9XG5cbiAgZ2V0U3R5bGUoKSB7XG4gICAgY29uc3QgdGhlbWUgPSB0aGlzLnByb3BzLnRoZW1lO1xuXG4gICAgcmV0dXJuIGNzc2BcbiAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcblxuICAgICAgLm1hcC1pcy1saXZlLW1vZGUge1xuICAgICAgICAuZXhibWFwLXVpIHtcbiAgICAgICAgICBwb2ludGVyLWV2ZW50czogYXV0byAhaW1wb3J0YW50O1xuICAgICAgICB9XG5cbiAgICAgICAgLmlzLXdpZGdldCB7XG4gICAgICAgICAgcG9pbnRlci1ldmVudHM6IGF1dG8gIWltcG9ydGFudDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAud2lkZ2V0LW1hcC11c2VtYXNrIHtcbiAgICAgICAgcG9pbnRlci1ldmVudHM6IGF1dG8gIWltcG9ydGFudDtcbiAgICAgIH1cblxuICAgICAgLm1hcC1pcy1kZXNpZ24tbW9kZSB7XG4gICAgICAgIC5leGJtYXAtdWksXG4gICAgICAgIC5leGJtYXAtdWktdG9vbCB7XG4gICAgICAgICAgcG9pbnRlci1ldmVudHM6IG5vbmUgIWltcG9ydGFudDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5pcy13aWRnZXQge1xuICAgICAgICAgIHBvaW50ZXItZXZlbnRzOiBhdXRvICFpbXBvcnRhbnQ7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLndpZGdldC1tYXB7XG4gICAgICAgIHBhZGRpbmc6IDA7XG4gICAgICAgIG1hcmdpbjogMDtcbiAgICAgICAgaGVpZ2h0OiAxMDAlO1xuICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgei1pbmRleDogLTE7XG4gICAgICAgIC5vdmVydmlldy1jb250YWluZXJ7XG4gICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICAgIHRvcDogMTJweDtcbiAgICAgICAgICByaWdodDogMTJweDtcbiAgICAgICAgICB3aWR0aDogMzAwcHg7XG4gICAgICAgICAgaGVpZ2h0OiAyMDBweDtcbiAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCBibGFjaztcbiAgICAgICAgICB6LWluZGV4OiAxO1xuICAgICAgICB9XG5cbiAgICAgICAgLmV4dGVudC1jb250YWluZXJ7XG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjUpO1xuICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgICB6LWluZGV4OiAyO1xuICAgICAgICB9XG5cbiAgICAgICAgLmV4dGVudC1idG4tY29udGFpbmVye1xuICAgICAgICAgIGJ1dHRvbntcbiAgICAgICAgICAgIG91dGxpbmU6IG5vbmU7XG4gICAgICAgICAgfVxuICAgICAgICAgIC5wcmV2aW91cy1leHRlbnQtYnRue1xuICAgICAgICAgICAgY29sb3I6ICMxMTE7XG4gICAgICAgICAgfVxuICAgICAgICAgIC5uZXh0LWV4dGVudC1idG57XG4gICAgICAgICAgICBjb2xvcjogIzIyMjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLmV4Ym1hcC11aS1sYXlvdXR7XG4gICAgICAgIHotaW5kZXg6IDA7XG4gICAgICB9XG5cbiAgICAgIC5tYXBzd2l0Y2gtY29udGFpbmVyIHtcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICB6LWluZGV4OiA3O1xuICAgICAgICB3aWR0aDogMzJweDtcbiAgICAgICAgaGVpZ2h0OiAzMnB4O1xuICAgICAgICBib3R0b206IDEwcHg7XG4gICAgICAgIGxlZnQ6IDEwcHg7XG4gICAgICAgIGJveC1zaGFkb3c6IDAgMXB4IDJweCByZ2JhKDAsIDAsIDAsIDAuMylcbiAgICAgIH1cblxuICAgICAgLm1hcHN3aXRjaC1pY29uIHtcbiAgICAgICAgZmlsbDogYmxhY2s7XG4gICAgICAgIGxlZnQ6IDhweDtcbiAgICAgICAgdG9wOiA4cHg7XG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICB9XG5cbiAgICAgIC53aWRnZXQtbWFwLWJhY2tncm91bmQge1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAke3RoZW1lLmNvbG9ycy53aGl0ZX07XG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgei1pbmRleDogMTtcbiAgICAgIH1cblxuICAgICAgLndpZGdldC1tYXAtY3Jhc2hlZCB7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6ICR7cG9saXNoZWQucmdiYSh0aGVtZS5jb2xvcnMud2hpdGUsIDAuODUpfTtcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICB6LWluZGV4OiAxO1xuICAgICAgICB0b3A6IDA7XG5cbiAgICAgICAgLndpZGdldC1tYXAtY3Jhc2hlZC1sYWJlbC1wYWRkaW5nIHtcbiAgICAgICAgICBwYWRkaW5nLWxlZnQ6ICR7cG9saXNoZWQucmVtKDI0KX07XG4gICAgICAgICAgcGFkZGluZy1yaWdodDogJHtwb2xpc2hlZC5yZW0oMjQpfTtcbiAgICAgICAgfVxuXG4gICAgICAgIC53aWRnZXQtbWFwLWNyYXNoZWQtbGFiZWwge1xuICAgICAgICAgIGZvbnQtc2l6ZTogJHtwb2xpc2hlZC5yZW0oMTMpfTtcbiAgICAgICAgICBjb2xvcjogJHt0aGVtZS5jb2xvcnMuYmxhY2t9O1xuICAgICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBAa2V5ZnJhbWVzIGFwcGVhciB7XG4gICAgICAgIDAle29wYWNpdHk6MH1cbiAgICAgICAgMjUle29wYWNpdHk6LjI1fVxuICAgICAgICA1MCV7b3BhY2l0eTouNTt9XG4gICAgICAgIDc1JXtvcGFjaXR5Oi43NX1cbiAgICAgICAgMTAwJXtvcGFjaXR5OjE7fVxuICAgICAgfVxuXG4gICAgICBAa2V5ZnJhbWVzIGRpc2FwcGVhciB7XG4gICAgICAgIDAle29wYWNpdHk6MX1cbiAgICAgICAgMjUle29wYWNpdHk6Ljc1fVxuICAgICAgICA1MCV7b3BhY2l0eTouNTt9XG4gICAgICAgIDc1JXtvcGFjaXR5Oi4yNX1cbiAgICAgICAgMTAwJXtvcGFjaXR5OjA7fVxuICAgICAgfVxuXG4gICAgICAubXVsdGlzb3VyY2VtYXAtaXRlbS1hcHBlYXIge1xuICAgICAgICBhbmltYXRpb246IGFwcGVhciAzMDBtcztcbiAgICAgICAgLXdlYmtpdC1hbmltYXRpb246IGFwcGVhciAzMDBtcztcbiAgICAgICAgLW1vei1hbmltYXRpb246IGFwcGVhciAzMDBtcztcbiAgICAgICAgYW5pbWF0aW9uLWZpbGwtbW9kZTogZm9yd2FyZHM7XG4gICAgICAgIC13ZWJraXQtYW5pbWF0aW9uLWZpbGwtbW9kZTogZm9yd2FyZHM7XG4gICAgICAgIC1tb3otYW5pbWF0aW9uLWZpbGwtbW9kZTogZm9yd2FyZHM7XG4gICAgICAgIGFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246IGVhc2UtaW47XG4gICAgICAgIC13ZWJraXQtYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjogZWFzZS1pbjtcbiAgICAgICAgLW1vei1hbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOiBlYXNlLWluO1xuICAgICAgfVxuXG4gICAgICAubXVsdGlzb3VyY2VtYXAtaXRlbS1kaXNhcHBlYXIge1xuICAgICAgICBhbmltYXRpb246IGRpc2FwcGVhciAzMDBtcztcbiAgICAgICAgLXdlYmtpdC1hbmltYXRpb246IGRpc2FwcGVhciAzMDBtcztcbiAgICAgICAgLW1vei1hbmltYXRpb246IGRpc2FwcGVhciAzMDBtcztcbiAgICAgICAgYW5pbWF0aW9uLWZpbGwtbW9kZTogZm9yd2FyZHM7XG4gICAgICAgIC13ZWJraXQtYW5pbWF0aW9uLWZpbGwtbW9kZTogZm9yd2FyZHM7XG4gICAgICAgIC1tb3otYW5pbWF0aW9uLWZpbGwtbW9kZTogZm9yd2FyZHM7XG4gICAgICAgIGFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246IGVhc2UtaW47XG4gICAgICAgIC13ZWJraXQtYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjogZWFzZS1pbjtcbiAgICAgICAgLW1vei1hbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOiBlYXNlLWluO1xuICAgICAgfVxuXG4gICAgICAubXVsdGlzb3VyY2VtYXAtaXRlbS1hcHBlYXItbm9hbmltYXRlIHtcbiAgICAgICAgb3BhY2l0eTogMTtcbiAgICAgIH1cblxuICAgICAgLm11bHRpc291cmNlbWFwLWl0ZW0tZGlzYXBwZWFyLW5vYW5pbWF0ZSB7XG4gICAgICAgIG9wYWNpdHk6IDA7XG4gICAgICB9XG4gICAgICBgO1xuICB9XG5cbiAgc3RhdGljIG1hcEV4dHJhU3RhdGVQcm9wcyA9IChzdGF0ZTogSU1TdGF0ZSkgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICBhcHBNb2RlOiBzdGF0ZSAmJiBzdGF0ZS5hcHBSdW50aW1lSW5mbyAmJiBzdGF0ZS5hcHBSdW50aW1lSW5mby5hcHBNb2RlXG4gICAgfTtcbiAgfTtcblxuICBzdGFydFJlbmRlck1hcCA9ICgpID0+IHtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBzdGFydExvYWRNb2R1bGVzOiB0cnVlXG4gICAgICB9KVxuICAgIH0sIDEwMClcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCl7XG4gICAgaWYoIXRoaXMuc3RhdGUuc3RhcnRMb2FkTW9kdWxlcyl7XG4gICAgICBpZih3aW5kb3cuamltdUNvbmZpZy5pc0luQnVpbGRlciB8fCAhdGhpcy5wcm9wcy5jb25maWcuY2FuUGxhY2VIb2xkZXIpe1xuICAgICAgICB0aGlzLnN0YXJ0UmVuZGVyTWFwKCk7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgY29uc3Qgd2lkZ2V0cyA9ICBnZXRBcHBTdG9yZSgpLmdldFN0YXRlKCkuYXBwQ29uZmlnLndpZGdldHM7XG4gICAgaWYgKCF3aWRnZXRzW3RoaXMucHJvcHMuaWRdKSB7XG4gICAgICB0aGlzLnByb3BzLmRpc3BhdGNoKGFwcEFjdGlvbnMud2lkZ2V0TXV0YWJsZVN0YXRlUHJvcENoYW5nZSh0aGlzLnByb3BzLmlkLCAncmVzdG9yZURhdGEnLCBudWxsKSk7XG4gICAgfVxuICB9XG5cbiAgZ2V0UGxhY2VIb2xkZXJJbWFnZSA9ICgpID0+IHtcbiAgICBsZXQgcGxhY2VIb2xkZXJJbWFnZSA9IHRoaXMucHJvcHMuY29uZmlnLnBsYWNlaG9sZGVySW1hZ2U7XG4gICAgY29uc3Qgc2Vzc2lvbiA9IFNlc3Npb25NYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0TWFpblNlc3Npb24oKVxuICAgIGlmIChwbGFjZUhvbGRlckltYWdlKSB7XG4gICAgICBjb25zdCBpc1BvcnRhbFRodW1iRXhwID0gbmV3IFJlZ0V4cCgnXiguKSsvc2hhcmluZy9yZXN0L2NvbnRlbnQvaXRlbXMvKC4pKy9pbmZvLyguKSsnKTtcblxuICAgICAgaWYgKGlzUG9ydGFsVGh1bWJFeHAudGVzdChwbGFjZUhvbGRlckltYWdlKSkge1xuICAgICAgICBpZihzZXNzaW9uKXtcbiAgICAgICAgICBwbGFjZUhvbGRlckltYWdlID0gcGxhY2VIb2xkZXJJbWFnZSArIGA/dG9rZW49JHtzZXNzaW9uLnRva2VufWBcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXNlbGYtYXNzaWduXG4gICAgICAgICAgcGxhY2VIb2xkZXJJbWFnZSA9IHBsYWNlSG9sZGVySW1hZ2VcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBwbGFjZUhvbGRlckltYWdlO1xuICB9XG5cbiAgZnVsbFNjcmVlbk1hcCA9ICgpID0+IHtcbiAgICBpZiAodXRpbHMuaXNUb3VjaERldmljZSgpKSB7XG4gICAgLy8gaXMgdG91Y2ggZGV2aWNlXG4gICAgICBpZiAodGhpcy5jb250YWluZXIuc3R5bGUucG9zaXRpb24gPT09ICdmaXhlZCcpIHtcbiAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUuaGVpZ2h0ID0gYCR7dGhpcy5jb250YWluZXJDbGllbnRSZWN0LmhlaWdodH1weGA7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLndpZHRoID0gYCR7dGhpcy5jb250YWluZXJDbGllbnRSZWN0LndpZHRofXB4YDtcbiAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUudG9wID0gYCR7dGhpcy5jb250YWluZXJDbGllbnRSZWN0LnRvcH1weGA7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLmxlZnQgPSBgJHt0aGlzLmNvbnRhaW5lckNsaWVudFJlY3QubGVmdH1weGA7XG5cbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUudHJhbnNpdGlvbiA9IG51bGw7XG4gICAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUucG9zaXRpb24gPSAncmVsYXRpdmUnO1xuICAgICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLmhlaWdodCA9ICcxMDAlJztcbiAgICAgICAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgICAgICAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS50b3AgPSAnMCc7XG4gICAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUubGVmdCA9ICcwJztcbiAgICAgICAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnbm9uZSc7XG4gICAgICAgICAgdGhpcy5wYXJlbnRDb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5jb250YWluZXIpO1xuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgaXNGdWxsU2NyZWVuOiBmYWxzZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9LCAxMDApXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBjbGllbnRSZWN0ID0gdGhpcy5jb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIHRoaXMuY29udGFpbmVyQ2xpZW50UmVjdCA9IGNsaWVudFJlY3Q7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLmhlaWdodCA9IGAke2NsaWVudFJlY3QuaGVpZ2h0fXB4YDtcbiAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUud2lkdGggPSBgJHtjbGllbnRSZWN0LndpZHRofXB4YDtcbiAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUucG9zaXRpb24gPSAnZml4ZWQnO1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS50b3AgPSBgJHtjbGllbnRSZWN0LnRvcH1weGA7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLmxlZnQgPSBgJHtjbGllbnRSZWN0LmxlZnR9cHhgO1xuXG4gICAgICAgIGRvY3VtZW50ICYmIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5jb250YWluZXIpO1xuXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLnRyYW5zaXRpb24gPSAndG9wIDAuM3MsIGJvdHRvbSAwLjNzLCBsZWZ0IDAuM3MsIHJpZ2h0IDAuM3MsIGhlaWdodCAwLjNzLCB3aWR0aCAwLjNzJztcbiAgICAgICAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS50b3AgPSAnMHB4JztcbiAgICAgICAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS5sZWZ0ID0gJzBweCc7XG4gICAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUucmlnaHQgPSAnMHB4JztcbiAgICAgICAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS5ib3R0b20gPSAnMHB4JztcbiAgICAgICAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS5oZWlnaHQgPSBudWxsO1xuICAgICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLndpZHRoID0gbnVsbDtcbiAgICAgICAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnI2ZmZic7XG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBpc0Z1bGxTY3JlZW46IHRydWVcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSwgMTAwKVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5jb250YWluZXIgYXMgYW55O1xuXG4gICAgICBpZiAoIWRvY3VtZW50KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignd2Via2l0ZnVsbHNjcmVlbmNoYW5nZScsIChldmVudCkgPT4ge1xuICAgICAgICBpZiAoIShkb2N1bWVudCBhcyBhbnkpLmZ1bGxzY3JlZW5FbGVtZW50ICYmICEoZG9jdW1lbnQgYXMgYW55KS53ZWJraXRGdWxsc2NyZWVuRWxlbWVudCkge1xuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgaXNGdWxsU2NyZWVuOiBmYWxzZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZnVsbHNjcmVlbmNoYW5nZScsIChldmVudCkgPT4ge1xuICAgICAgICBpZiAoIShkb2N1bWVudCBhcyBhbnkpLmZ1bGxzY3JlZW5FbGVtZW50ICYmICEoZG9jdW1lbnQgYXMgYW55KS53ZWJraXRGdWxsc2NyZWVuRWxlbWVudCkge1xuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgaXNGdWxsU2NyZWVuOiBmYWxzZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgaWYgKChkb2N1bWVudCBhcyBhbnkpLmZ1bGxzY3JlZW5FbGVtZW50ID09PSBlbGVtZW50KSB7XG4gICAgICAgIChkb2N1bWVudCBhcyBhbnkpLmV4aXRGdWxsc2NyZWVuKCk7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGlzRnVsbFNjcmVlbjogZmFsc2VcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKChkb2N1bWVudCBhcyBhbnkpLndlYmtpdEZ1bGxzY3JlZW5FbGVtZW50ID09PSBlbGVtZW50KSB7XG4gICAgICAgIChkb2N1bWVudCBhcyBhbnkpLndlYmtpdENhbmNlbEZ1bGxTY3JlZW4oKTtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgaXNGdWxsU2NyZWVuOiBmYWxzZVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjb25zdCByZXF1ZXN0TWV0aG9kID0gZWxlbWVudC5yZXF1ZXN0RnVsbFNjcmVlbiB8fCBlbGVtZW50LndlYmtpdFJlcXVlc3RGdWxsU2NyZWVuIHx8IGVsZW1lbnQubW96UmVxdWVzdEZ1bGxTY3JlZW4gfHwgZWxlbWVudC5tc1JlcXVlc3RGdWxsU2NyZWVuO1xuICAgICAgaWYgKHJlcXVlc3RNZXRob2QpIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgaXNGdWxsU2NyZWVuOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgICByZXF1ZXN0TWV0aG9kLmNhbGwoZWxlbWVudCk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiAod2luZG93IGFzIGFueSkuQWN0aXZlWE9iamVjdCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgY29uc3Qgd3NjcmlwdCA9IG5ldyBBY3RpdmVYT2JqZWN0KCdXU2NyaXB0LlNoZWxsJyk7XG4gICAgICAgIGlmICh3c2NyaXB0ICE9PSBudWxsKSB7XG4gICAgICAgICAgd3NjcmlwdC5TZW5kS2V5cygne0YxMX0nKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGhhbmRsZVZpZXdHcm91cENyZWF0ZSA9ICh2aWV3R3JvdXA6IEppbXVNYXBWaWV3R3JvdXApID0+IHtcbiAgICBpZiAodmlld0dyb3VwKSB7XG4gICAgICB2aWV3R3JvdXAuc2V0TWFwV2lkZ2V0SW5zdGFuY2UodGhpcyk7XG4gICAgfVxuICB9XG5cbiAgc3dpdGNoTWFwID0gKCk6IFByb21pc2U8YW55PiA9PiB7XG4gICAgaWYgKHRoaXMubXVsdGlTb3VyY2VNYXBJbnN0YW5jZSkge1xuICAgICAgcmV0dXJuIHRoaXMubXVsdGlTb3VyY2VNYXBJbnN0YW5jZS5zd2l0Y2hNYXAoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cbiAgfVxuXG4gIHNldE11bHRpU291cmNlTWFwSW5zdGFuY2UgPSAoaW5zdGFuY2U6IE11bHRpU291cmNlTWFwKSA9PiB7XG4gICAgdGhpcy5tdWx0aVNvdXJjZU1hcEluc3RhbmNlID0gaW5zdGFuY2U7XG4gIH1cblxuICBvblJlc2l6ZSA9ICh3aWR0aCwgaGVpZ2h0KSA9PiB7XG4gICAgaWYgKCF3aWR0aCB8fCAhaGVpZ2h0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHdpZHRoIDw9IDU0NSAmJiB3aWR0aCA+IDApIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICB3aWR0aEJyZWFrcG9pbnQ6ICd4c21hbGwnLFxuICAgICAgICB3aWRnZXRIZWlnaHQ6IGhlaWdodFxuICAgICAgfSlcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIHdpZHRoQnJlYWtwb2ludDogJ290aGVyJyxcbiAgICAgICAgd2lkZ2V0SGVpZ2h0OiBoZWlnaHRcbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICghdGhpcy5zdGF0ZS5zdGFydExvYWRNb2R1bGVzKSB7XG4gICAgICByZXR1cm4gPGRpdiBjc3M9e3RoaXMuZ2V0U3R5bGUoKX0gY2xhc3NOYW1lPVwiamltdS13aWRnZXRcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3aWRnZXQtbWFwIGppbXUtd2lkZ2V0XCI+XG4gICAgICAgICAgPGRpdiBzdHlsZT17eyBwb3NpdGlvbjogJ2Fic29sdXRlJywgbGVmdDogJzUwJScsIHRvcDogJzUwJSd9fSBjbGFzc05hbWU9XCJqaW11LXNlY29uZGFyeS1sb2FkaW5nXCI+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+O1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoISh0aGlzLnByb3BzLnVzZURhdGFTb3VyY2VzICYmIHRoaXMucHJvcHMudXNlRGF0YVNvdXJjZXNbMF0gJiYgdGhpcy5wcm9wcy51c2VEYXRhU291cmNlc1swXS5kYXRhU291cmNlSWQpKSB7XG4gICAgICAgIGlmIChwb3J0YWxVdGlscy5jaGVja0RlZmF1bHRCYXNlTWFwSXNFeGlzdCgpKSB7XG4gICAgICAgICAgLy8gd2hlbiB0aGVyZSBpcyBkZWZhdWx0IGJhc2VtYXAgc291cmNlXG4gICAgICAgICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPVwiamltdS13aWRnZXRcIiByZWY9e3JlZiA9PiB7dGhpcy5wYXJlbnRDb250YWluZXIgPSByZWY7IH19PlxuICAgICAgICAgICAgPGRpdiBjc3M9e3RoaXMuZ2V0U3R5bGUoKX0gY2xhc3NOYW1lPXsnamltdS13aWRnZXQnfVxuICAgICAgICAgICAgICByZWY9e3JlZiA9PiB7dGhpcy5jb250YWluZXIgPSByZWY7IH19PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NOYW1lcygnamltdS13aWRnZXQnLCB7J21hcC1pcy1kZXNpZ24tbW9kZSc6ICFjaGVja0lzTGl2ZSh0aGlzLnByb3BzLmFwcE1vZGUpfSl9PlxuICAgICAgICAgICAgICAgIHs8TXVsdGlTb3VyY2VNYXAgZnVsbFNjcmVlbk1hcD17dGhpcy5mdWxsU2NyZWVuTWFwfSBiYXNlV2lkZ2V0UHJvcHM9e3RoaXMucHJvcHN9IHN0YXJ0TG9hZE1vZHVsZXM9e3RoaXMuc3RhdGUuc3RhcnRMb2FkTW9kdWxlc30gaXNEZWZhdWx0TWFwXG4gICAgICAgICAgICAgICAgICByZWY9e3RoaXMuc2V0TXVsdGlTb3VyY2VNYXBJbnN0YW5jZX0gb25WaWV3R3JvdXBDcmVhdGU9e3RoaXMuaGFuZGxlVmlld0dyb3VwQ3JlYXRlfVxuICAgICAgICAgICAgICAgICAgd2lkZ2V0SGVpZ2h0PXt0aGlzLnN0YXRlLndpZGdldEhlaWdodH0gd2lkdGhCcmVha3BvaW50PXt0aGlzLnN0YXRlLndpZHRoQnJlYWtwb2ludH1cbiAgICAgICAgICAgICAgICAgIGlzRnVsbFNjcmVlbj17dGhpcy5zdGF0ZS5pc0Z1bGxTY3JlZW59PjwvTXVsdGlTb3VyY2VNYXA+fVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPFJlYWN0UmVzaXplRGV0ZWN0b3IgaGFuZGxlV2lkdGggaGFuZGxlSGVpZ2h0IG9uUmVzaXplPXt0aGlzLm9uUmVzaXplfT48L1JlYWN0UmVzaXplRGV0ZWN0b3I+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj47XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gd2hlbiB0aGVyZSBpcyBub3QgZGVmYXVsdCBiYXNlbWFwIHNvdXJjZVxuICAgICAgICAgIHJldHVybiA8ZGl2IGNzcz17dGhpcy5nZXRTdHlsZSgpfSBjbGFzc05hbWU9XCJqaW11LXdpZGdldFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEwMCBoLTEwMFwiIHN0eWxlPXt7cG9zaXRpb246ICdhYnNvbHV0ZScsIHpJbmRleDogMTAsIHBvaW50ZXJFdmVudHM6IChjaGVja0lzTGl2ZSh0aGlzLnByb3BzLmFwcE1vZGUpID8gJ25vbmUnIDogJ2F1dG8nKX19PlxuICAgICAgICAgICAgICA8TWFwRml4ZWRMYXlvdXQgYXBwTW9kZT17dGhpcy5wcm9wcy5hcHBNb2RlfVxuICAgICAgICAgICAgICAgIGxheW91dHM9e3RoaXMucHJvcHMubGF5b3V0c31cbiAgICAgICAgICAgICAgICBMYXlvdXRFbnRyeT17dGhpcy5wcm9wcy5idWlsZGVyU3VwcG9ydE1vZHVsZXMgJiYgdGhpcy5wcm9wcy5idWlsZGVyU3VwcG9ydE1vZHVsZXMuTGF5b3V0RW50cnl9XG4gICAgICAgICAgICAgICAgd2lkZ2V0TWFuaWZlc3ROYW1lPXt0aGlzLnByb3BzLm1hbmlmZXN0Lm5hbWV9PjwvTWFwRml4ZWRMYXlvdXQ+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxXaWRnZXRQbGFjZWhvbGRlciBpY29uPXtJY29uTWFwfSBtZXNzYWdlPVwiTWFwXCIgd2lkZ2V0SWQ9e3RoaXMucHJvcHMuaWR9Lz5cbiAgICAgICAgICA8L2Rpdj47XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cImppbXUtd2lkZ2V0XCIgcmVmPXtyZWYgPT4ge3RoaXMucGFyZW50Q29udGFpbmVyID0gcmVmOyB9fT5cbiAgICAgICAgICA8ZGl2IGNzcz17dGhpcy5nZXRTdHlsZSgpfSBjbGFzc05hbWU9eydqaW11LXdpZGdldCd9XG4gICAgICAgICAgICByZWY9e3JlZiA9PiB7dGhpcy5jb250YWluZXIgPSByZWY7IH19PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzTmFtZXMoJ2ppbXUtd2lkZ2V0JywgeydtYXAtaXMtZGVzaWduLW1vZGUnOiAhY2hlY2tJc0xpdmUodGhpcy5wcm9wcy5hcHBNb2RlKX0pfT5cbiAgICAgICAgICAgICAgezxNdWx0aVNvdXJjZU1hcCBmdWxsU2NyZWVuTWFwPXt0aGlzLmZ1bGxTY3JlZW5NYXB9IGJhc2VXaWRnZXRQcm9wcz17dGhpcy5wcm9wc30gc3RhcnRMb2FkTW9kdWxlcz17dGhpcy5zdGF0ZS5zdGFydExvYWRNb2R1bGVzfVxuICAgICAgICAgICAgICAgIHJlZj17dGhpcy5zZXRNdWx0aVNvdXJjZU1hcEluc3RhbmNlfSBvblZpZXdHcm91cENyZWF0ZT17dGhpcy5oYW5kbGVWaWV3R3JvdXBDcmVhdGV9XG4gICAgICAgICAgICAgICAgd2lkZ2V0SGVpZ2h0PXt0aGlzLnN0YXRlLndpZGdldEhlaWdodH0gd2lkdGhCcmVha3BvaW50PXt0aGlzLnN0YXRlLndpZHRoQnJlYWtwb2ludH1cbiAgICAgICAgICAgICAgICBpc0Z1bGxTY3JlZW49e3RoaXMuc3RhdGUuaXNGdWxsU2NyZWVufT48L011bHRpU291cmNlTWFwPn1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPFJlYWN0UmVzaXplRGV0ZWN0b3IgaGFuZGxlV2lkdGggaGFuZGxlSGVpZ2h0IG9uUmVzaXplPXt0aGlzLm9uUmVzaXplfT48L1JlYWN0UmVzaXplRGV0ZWN0b3I+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PjtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQWdEQTtBQUFBO0FBTUE7QUFBQTtBQUZBO0FBb0xBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBa0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWxXQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBRUE7QUFDQTtBQUVBO0FBOEpBO0FBZ0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUE4SkE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQU1BO0FBR0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFNQTtBQUdBO0FBQ0E7QUFDQTtBQTdPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBME9BO0FBQUE7QUFoYUE7OyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./extensions/widgets/arcgis/arcgis-map/src/runtime/widget.tsx\n");

/***/ }),

/***/ "./jimu-ui/lib/icons/arrow-down-header.svg":
/*!*************************************************!*\
  !*** ./jimu-ui/lib/icons/arrow-down-header.svg ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"<svg viewBox=\\\"0 0 9 5\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"M4.128 4.587L.751.834A.5.5 0 011.123 0h6.754a.5.5 0 01.372.834L4.872 4.587a.5.5 0 01-.744 0z\\\" fill=\\\"#000\\\" fill-rule=\\\"evenodd\\\"></path></svg>\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LXVpL2xpYi9pY29ucy9hcnJvdy1kb3duLWhlYWRlci5zdmcuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qaW11LXVpL2xpYi9pY29ucy9hcnJvdy1kb3duLWhlYWRlci5zdmc/ZDBmZiJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB2aWV3Qm94PVxcXCIwIDAgOSA1XFxcIiB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiPjxwYXRoIGQ9XFxcIk00LjEyOCA0LjU4N0wuNzUxLjgzNEEuNS41IDAgMDExLjEyMyAwaDYuNzU0YS41LjUgMCAwMS4zNzIuODM0TDQuODcyIDQuNTg3YS41LjUgMCAwMS0uNzQ0IDB6XFxcIiBmaWxsPVxcXCIjMDAwXFxcIiBmaWxsLXJ1bGU9XFxcImV2ZW5vZGRcXFwiPjwvcGF0aD48L3N2Zz5cIiJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./jimu-ui/lib/icons/arrow-down-header.svg\n");

/***/ }),

/***/ "./jimu-ui/lib/icons/more-16.svg":
/*!***************************************!*\
  !*** ./jimu-ui/lib/icons/more-16.svg ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"<svg viewBox=\\\"0 0 16 16\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><g fill-rule=\\\"nonzero\\\" fill=\\\"none\\\"><path d=\\\"M13 7.5a1.5 1.5 0 113 0 1.5 1.5 0 01-3 0zm-6.5 0a1.5 1.5 0 113 0 1.5 1.5 0 01-3 0zM0 7.5a1.5 1.5 0 113 0 1.5 1.5 0 01-3 0z\\\" fill=\\\"#000\\\"></path><path d=\\\"M0 0h16v16H0z\\\"></path></g></svg>\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LXVpL2xpYi9pY29ucy9tb3JlLTE2LnN2Zy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2ppbXUtdWkvbGliL2ljb25zL21vcmUtMTYuc3ZnP2VjMGMiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBcIjxzdmcgdmlld0JveD1cXFwiMCAwIDE2IDE2XFxcIiB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiPjxnIGZpbGwtcnVsZT1cXFwibm9uemVyb1xcXCIgZmlsbD1cXFwibm9uZVxcXCI+PHBhdGggZD1cXFwiTTEzIDcuNWExLjUgMS41IDAgMTEzIDAgMS41IDEuNSAwIDAxLTMgMHptLTYuNSAwYTEuNSAxLjUgMCAxMTMgMCAxLjUgMS41IDAgMDEtMyAwek0wIDcuNWExLjUgMS41IDAgMTEzIDAgMS41IDEuNSAwIDAxLTMgMHpcXFwiIGZpbGw9XFxcIiMwMDBcXFwiPjwvcGF0aD48cGF0aCBkPVxcXCJNMCAwaDE2djE2SDB6XFxcIj48L3BhdGg+PC9nPjwvc3ZnPlwiIl0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./jimu-ui/lib/icons/more-16.svg\n");

/***/ }),

/***/ "./jimu-ui/lib/icons/widgets.svg":
/*!***************************************!*\
  !*** ./jimu-ui/lib/icons/widgets.svg ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 32 32\\\"><path d=\\\"M20.889 1.333h6.222a3.556 3.556 0 013.556 3.556v6.222a3.556 3.556 0 01-3.556 3.556h-6.222a3.556 3.556 0 01-3.556-3.556V4.889a3.556 3.556 0 013.556-3.556zM20 4v8h8V4h-8zM4.889 17.333h6.222a3.556 3.556 0 013.556 3.556v6.222a3.556 3.556 0 01-3.556 3.556H4.889a3.556 3.556 0 01-3.556-3.556v-6.222a3.556 3.556 0 013.556-3.556zM4 20v8h8v-8H4zm20 8a4 4 0 100-8 4 4 0 000 8zm0 2.667a6.667 6.667 0 110-13.334 6.667 6.667 0 010 13.334zM4.981 12h6.037L7.999 5.963 4.98 12zm4.212-9.615l5.176 10.352a1.334 1.334 0 01-1.192 1.93H2.825a1.333 1.333 0 01-1.192-1.929L6.809 2.386a1.332 1.332 0 012.385 0z\\\"></path></svg>\"//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qaW11LXVpL2xpYi9pY29ucy93aWRnZXRzLnN2Zy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2ppbXUtdWkvbGliL2ljb25zL3dpZGdldHMuc3ZnPzNmZDAiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBcIjxzdmcgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIiB2aWV3Qm94PVxcXCIwIDAgMzIgMzJcXFwiPjxwYXRoIGQ9XFxcIk0yMC44ODkgMS4zMzNoNi4yMjJhMy41NTYgMy41NTYgMCAwMTMuNTU2IDMuNTU2djYuMjIyYTMuNTU2IDMuNTU2IDAgMDEtMy41NTYgMy41NTZoLTYuMjIyYTMuNTU2IDMuNTU2IDAgMDEtMy41NTYtMy41NTZWNC44ODlhMy41NTYgMy41NTYgMCAwMTMuNTU2LTMuNTU2ek0yMCA0djhoOFY0aC04ek00Ljg4OSAxNy4zMzNoNi4yMjJhMy41NTYgMy41NTYgMCAwMTMuNTU2IDMuNTU2djYuMjIyYTMuNTU2IDMuNTU2IDAgMDEtMy41NTYgMy41NTZINC44ODlhMy41NTYgMy41NTYgMCAwMS0zLjU1Ni0zLjU1NnYtNi4yMjJhMy41NTYgMy41NTYgMCAwMTMuNTU2LTMuNTU2ek00IDIwdjhoOHYtOEg0em0yMCA4YTQgNCAwIDEwMC04IDQgNCAwIDAwMCA4em0wIDIuNjY3YTYuNjY3IDYuNjY3IDAgMTEwLTEzLjMzNCA2LjY2NyA2LjY2NyAwIDAxMCAxMy4zMzR6TTQuOTgxIDEyaDYuMDM3TDcuOTk5IDUuOTYzIDQuOTggMTJ6bTQuMjEyLTkuNjE1bDUuMTc2IDEwLjM1MmExLjMzNCAxLjMzNCAwIDAxLTEuMTkyIDEuOTNIMi44MjVhMS4zMzMgMS4zMzMgMCAwMS0xLjE5Mi0xLjkyOUw2LjgwOSAyLjM4NmExLjMzMiAxLjMzMiAwIDAxMi4zODUgMHpcXFwiPjwvcGF0aD48L3N2Zz5cIiJdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./jimu-ui/lib/icons/widgets.svg\n");

/***/ }),

/***/ "jimu-arcgis":
/*!******************************!*\
  !*** external "jimu-arcgis" ***!
  \******************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = __WEBPACK_EXTERNAL_MODULE_jimu_arcgis__;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiamltdS1hcmNnaXMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJqaW11LWFyY2dpc1wiPzlmMWMiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX2ppbXVfYXJjZ2lzX187Il0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///jimu-arcgis\n");

/***/ }),

/***/ "jimu-core":
/*!****************************!*\
  !*** external "jimu-core" ***!
  \****************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = __WEBPACK_EXTERNAL_MODULE_jimu_core__;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiamltdS1jb3JlLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwiamltdS1jb3JlXCI/YzY5NSJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfamltdV9jb3JlX187Il0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///jimu-core\n");

/***/ }),

/***/ "jimu-layouts/layout-runtime":
/*!**********************************************!*\
  !*** external "jimu-layouts/layout-runtime" ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = __WEBPACK_EXTERNAL_MODULE_jimu_layouts_layout_runtime__;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiamltdS1sYXlvdXRzL2xheW91dC1ydW50aW1lLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwiamltdS1sYXlvdXRzL2xheW91dC1ydW50aW1lXCI/Njc5NiJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfamltdV9sYXlvdXRzX2xheW91dF9ydW50aW1lX187Il0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///jimu-layouts/layout-runtime\n");

/***/ }),

/***/ "jimu-ui":
/*!**************************!*\
  !*** external "jimu-ui" ***!
  \**************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = __WEBPACK_EXTERNAL_MODULE_jimu_ui__;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiamltdS11aS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9leHRlcm5hbCBcImppbXUtdWlcIj8zNTQzIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9qaW11X3VpX187Il0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///jimu-ui\n");

/***/ })

/******/ })
			);
		}
	};
});